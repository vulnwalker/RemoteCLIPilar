{
    "namaFile": "pages\/admin\/menu\/assets\/js\/libs\/jquery-validation\/test\/test.js",
    "lastUpdate": "2018-03-22+14:26:23.91",
    "contentFile": "aWYgKCB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UgKSB7CglzZXNzaW9uU3RvcmFnZS5jbGVhcigpOwp9CmpRdWVyeS52YWxpZGF0b3IuZGVmYXVsdHMuZGVidWcgPSB0cnVlOwokLm1vY2tqYXhTZXR0aW5ncy5sb2cgPSAkLm5vb3A7CgokLm1vY2tqYXgoewoJdXJsOiAiZm9ybS5waHA\/dXNlcj1QZXRlciZwYXNzd29yZD1mb29iYXIiLAoJcmVzcG9uc2VUZXh0OiAiSGkgUGV0ZXIsIHdlbGNvbWUgYmFjay4iLAoJcmVzcG9uc2VTdGF0dXM6IDIwMCwKCXJlc3BvbnNlVGltZTogMQp9KTsKCiQubW9ja2pheCh7Cgl1cmw6ICJ1c2Vycy5waHAiLAoJZGF0YTogewoJCXVzZXJuYW1lOiAvUGV0ZXIyP3xhc2RmLwoJfSwKCXJlc3BvbnNlVGV4dDogImZhbHNlIiwKCXJlc3BvbnNlU3RhdHVzOiAyMDAsCglyZXNwb25zZVRpbWU6IDEKfSk7CgokLm1vY2tqYXgoewoJdXJsOiAidXNlcnMyLnBocCIsCglkYXRhOiB7CgkJdXNlcm5hbWU6ICJhc2RmIgoJfSwKCXJlc3BvbnNlVGV4dDogIlwiYXNkZiBpcyBhbHJlYWR5IHRha2VuLCBwbGVhc2UgdHJ5IHNvbWV0aGluZyBlbHNlXCIiLAoJcmVzcG9uc2VTdGF0dXM6IDIwMCwKCXJlc3BvbnNlVGltZTogMQp9KTsKCiQubW9ja2pheCh7Cgl1cmw6ICJlY2hvLnBocCIsCglyZXNwb25zZTogZnVuY3Rpb24oIGRhdGEgKSB7CgkJdGhpcy5yZXNwb25zZVRleHQgPSBKU09OLnN0cmluZ2lmeSggZGF0YS5kYXRhICk7Cgl9LAoJcmVzcG9uc2VUaW1lOiAxMDAKfSk7CgovLyBBc3NlcnRzIHRoYXQgdGhlcmUgaXMgYSB2aXNpYmxlIGVycm9yIHdpdGggdGhlIGdpdmVuIHRleHQgZm9yIHRoZSBzcGVjaWZpZWQgZWxlbWVudApRVW5pdC5hc3NlcnQuaGFzRXJyb3IgPSBmdW5jdGlvbiggZWxlbWVudCwgdGV4dCwgbWVzc2FnZSApIHsKCXZhciBlcnJvcnMgPSAkKCBlbGVtZW50ICkuY2xvc2VzdCggImZvcm0iICkudmFsaWRhdGUoKS5lcnJvcnNGb3IoIGVsZW1lbnRbIDAgXSApLAoJCWFjdHVhbCA9ICggZXJyb3JzLmxlbmd0aCA9PT0gMSAmJiBlcnJvcnMuaXMoICI6dmlzaWJsZSIgKSApID8gZXJyb3JzLnRleHQoKSA6ICIiOwoJUVVuaXQucHVzaCggYWN0dWFsLCBhY3R1YWwsIHRleHQsIG1lc3NhZ2UgKTsKfTsKCi8vIEFzc2VydHMgdGhhdCB0aGVyZSBpcyBubyB2aXNpYmxlIGVycm9yIGZvciB0aGUgZ2l2ZW4gZWxlbWVudApRVW5pdC5hc3NlcnQubm9FcnJvckZvciA9IGZ1bmN0aW9uKCBlbGVtZW50LCBtZXNzYWdlICkgewoJdmFyIGVycm9ycyA9ICQoIGVsZW1lbnQgKS5jbG9zZXN0KCAiZm9ybSIgKS52YWxpZGF0ZSgpLmVycm9yc0ZvciggZWxlbWVudFsgMCBdICksCgkJaGlkZGVuID0gKCBlcnJvcnMubGVuZ3RoID09PSAwICkgfHwgKGVycm9ycy5pcyggIjpoaWRkZW4iICkgJiYgKCBlcnJvcnMudGV4dCgpID09PSAiIiApICk7CglRVW5pdC5wdXNoKCBoaWRkZW4sIGhpZGRlbiwgdHJ1ZSwgbWVzc2FnZSApOwp9OwoKbW9kdWxlKCAidmFsaWRhdG9yIiApOwoKdGVzdCggIkNvbnN0cnVjdG9yIiwgZnVuY3Rpb24oKSB7Cgl2YXIgdjEgPSAkKCAiI3Rlc3RGb3JtMSIgKS52YWxpZGF0ZSgpLAoJCXYyID0gJCggIiN0ZXN0Rm9ybTEiICkudmFsaWRhdGUoKTsKCgllcXVhbCggdjEsIHYyLCAiQ2FsbGluZyB2YWxpZGF0ZSgpIG11bHRpcGxlIHRpbWVzIG11c3QgcmV0dXJuIHRoZSBzYW1lIHZhbGlkYXRvciBpbnN0YW5jZSIgKTsKCWVxdWFsKCB2MS5lbGVtZW50cygpLmxlbmd0aCwgMywgInZhbGlkYXRvciBlbGVtZW50cyIgKTsKfSk7Cgp0ZXN0KCAidmFsaWRhdGUoKSB3aXRob3V0IGVsZW1lbnRzLCB3aXRoIG5vbi1mb3JtIGVsZW1lbnRzIiwgMCwgZnVuY3Rpb24oKSB7CgkkKCAiI2RvZXNudGV4aXN0IiApLnZhbGlkYXRlKCk7Cn0pOwoKdGVzdCggInZhbGlkKCkgcGx1Z2luIG1ldGhvZCIsIGZ1bmN0aW9uKCkgewoJdmFyIGZvcm0gPSAkKCAiI3VzZXJGb3JtIiApLAoJCWlucHV0ID0gJCggIiN1c2VybmFtZSIgKTsKCglmb3JtLnZhbGlkYXRlKCk7CglvayAoICFmb3JtLnZhbGlkKCksICJGb3JtIGlzbid0IHZhbGlkIHlldCIgKTsKCW9rICggIWlucHV0LnZhbGlkKCksICJJbnB1dCBpc24ndCB2YWxpZCBlaXRoZXIiICk7CgoJaW5wdXQudmFsKCAiSGVsbG8gd29ybGQiICk7CglvayAoIGZvcm0udmFsaWQoKSwgIkZvcm0gaXMgbm93IHZhbGlkIiApOwoJb2sgKCBpbnB1dC52YWxpZCgpLCAiSW5wdXQgaXMgdmFsaWQsIHRvbyIgKTsKfSk7Cgp0ZXN0KCAidmFsaWQoKSBwbHVnaW4gbWV0aG9kLCBtdWx0aXBsZSBpbnB1dHMiLCBmdW5jdGlvbigpIHsKCXZhciBmb3JtID0gJCggIiN0ZXN0Rm9ybTEiICksCgkJdmFsaWRhdG9yID0gZm9ybS52YWxpZGF0ZSgpLAoJCWlucHV0cyA9IGZvcm0uZmluZCggImlucHV0IiApOwoKCW9rKCAhaW5wdXRzLnZhbGlkKCksICJhbGwgaW52YWxpZCIgKTsKCWlucHV0cy5ub3QoICI6Zmlyc3QiICkudmFsKCAib2siICk7CgllcXVhbCggdmFsaWRhdG9yLm51bWJlck9mSW52YWxpZHMoKSwgMiApOwoJc3RyaWN0RXF1YWwoIGlucHV0cy52YWxpZCgpLCBmYWxzZSwgImp1c3Qgb25lIGludmFsaWQiICk7CglpbnB1dHMudmFsKCAib2siICk7CglzdHJpY3RFcXVhbCggaW5wdXRzLnZhbGlkKCksIHRydWUsICJhbGwgdmFsaWQiICk7Cn0pOwoKdGVzdCggInZhbGlkKCkgcGx1Z2luIG1ldGhvZCwgc3BlY2lhbCBoYW5kbGluZyBmb3IgY2hlY2thYmxlIGdyb3VwcyIsIGZ1bmN0aW9uKCkgewoJLy8gcnVsZSBpcyBkZWZpbmVkIG9uIGZpcnN0IGNoZWNrYm94LCBtdXN0IGFwcGx5IHRvIG90aGVycywgdG9vCgl2YXIgY2hlY2thYmxlID0gJCggIiNjaGVja2FibGUyIiApOwoJb2soICFjaGVja2FibGUudmFsaWQoKSwgIm11c3QgYmUgaW52YWxpZCwgbm90IGNoZWNrZWQgeWV0IiApOwoJY2hlY2thYmxlLmF0dHIoICJjaGVja2VkIiwgdHJ1ZSApOwoJb2soIGNoZWNrYWJsZS52YWxpZCgpLCAidmFsaWQsIGlzIG5vdyBjaGVja2VkIiApOwoJY2hlY2thYmxlLmF0dHIoICJjaGVja2VkIiwgZmFsc2UgKTsKCW9rKCAhY2hlY2thYmxlLnZhbGlkKCksICJpbnZhbGlkIGFnYWluIiApOwoJJCggIiNjaGVja2FibGUzIiApLmF0dHIoICJjaGVja2VkIiwgdHJ1ZSApOwoJb2soIGNoZWNrYWJsZS52YWxpZCgpLCAidmFsaWQsIHRoaXJkIGJveCBpcyBjaGVja2VkIiApOwp9KTsKCnRlc3QoICJ2YWxpZCgpID8\/PyIsIGZ1bmN0aW9uKCkgewoJZXhwZWN0KCA0ICk7Cgl2YXIgZXJyb3JMaXN0ID0gWwoJCQl7CgkJCQluYW1lOiAibWVhbCIsCgkJCQltZXNzYWdlOiAiZm9vIiwKCQkJCWVsZW1lbnQ6ICQoICIjbWVhbCIgKVsgMCBdCgkJCX0KCQldLAoJCXYgPSAkKCAiI3Rlc3RGb3JtMyIgKS52YWxpZGF0ZSgpOwoKCW9rKCB2LnZhbGlkKCksICJObyBlcnJvcnMsIG11c3QgYmUgdmFsaWQiICk7Cgl2LmVycm9yTGlzdCA9IGVycm9yTGlzdDsKCW9rKCAhdi52YWxpZCgpLCAiT25lIGVycm9yLCBtdXN0IGJlIGludmFsaWQiICk7CglRVW5pdC5yZXNldCgpOwoJdiA9ICQoICIjdGVzdEZvcm0zIiApLnZhbGlkYXRlKHsKCQlzdWJtaXRIYW5kbGVyOiBmdW5jdGlvbigpIHsKCQkJb2soIGZhbHNlLCAiU3VibWl0IGhhbmRsZXIgd2FzIGNhbGxlZCIgKTsKCQl9Cgl9KTsKCW9rKCB2LnZhbGlkKCksICJObyBlcnJvcnMsIG11c3QgYmUgdmFsaWQgYW5kIHJldHVybmluZyB0cnVlLCBldmVuIHdpdGggdGhlIHN1Ym1pdCBoYW5kbGVyIiApOwoJdi5lcnJvckxpc3QgPSBlcnJvckxpc3Q7CglvayggIXYudmFsaWQoKSwgIk9uZSBlcnJvciwgbXVzdCBiZSBpbnZhbGlkLCBubyBjYWxsIHRvIHN1Ym1pdCBoYW5kbGVyIiApOwp9KTsKCnRlc3QoICJ2YWxpZCgpLCBpZ25vcmVzIGlnbm9yZWQgZWxlbWVudHMiLCBmdW5jdGlvbigpIHsKCSQoICIjdGVzdEZvcm0xY2xlYW4iICkudmFsaWRhdGUoewoJCWlnbm9yZTogIiNmaXJzdG5hbWVjIiwKCQlydWxlczogewoJCQlmaXJzdG5hbWVjOiAicmVxdWlyZWQiCgkJfQoJfSk7CglvayggJCggIiNmaXJzdG5hbWVjIiApLnZhbGlkKCkgKTsKfSk7Cgp0ZXN0KCAiYWRkTWV0aG9kIiwgZnVuY3Rpb24oKSB7CglleHBlY3QoIDMgKTsKCSQudmFsaWRhdG9yLmFkZE1ldGhvZCggImhpIiwgZnVuY3Rpb24oIHZhbHVlICkgewoJCXJldHVybiB2YWx1ZSA9PT0gImhpIjsKCX0sICJoaSBtZSB0b28iICk7Cgl2YXIgbWV0aG9kID0gJC52YWxpZGF0b3IubWV0aG9kcy5oaSwKCQllID0gJCggIiN0ZXh0MSIgKVsgMCBdOwoJb2soICFtZXRob2QoIGUudmFsdWUsIGUgKSwgIkludmFsaWQiICk7CgllLnZhbHVlID0gImhpIjsKCW9rKCBtZXRob2QoIGUudmFsdWUsIGUgKSwgIkludmFsaWQiICk7CglvayggalF1ZXJ5LnZhbGlkYXRvci5tZXNzYWdlcy5oaSA9PT0gImhpIG1lIHRvbyIsICJDaGVjayBjdXN0b20gbWVzc2FnZSIgKTsKfSk7Cgp0ZXN0KCAiYWRkTWV0aG9kMiIsIGZ1bmN0aW9uKCkgewoJZXhwZWN0KCA0ICk7CgkkLnZhbGlkYXRvci5hZGRNZXRob2QoICJjb21wbGljYXRlZFBhc3N3b3JkIiwgZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50ICkgewoJCXJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL1xELy50ZXN0KCB2YWx1ZSApICYmIC9cZC8udGVzdCggdmFsdWUgKTsKCX0sICJZb3VyIHBhc3N3b3JkIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgbnVtYmVyIGFuZCBvbmUgbGV0dGVyIiApOwoJdmFyIHYgPSBqUXVlcnkoICIjZm9ybSIgKS52YWxpZGF0ZSh7CgkJCXJ1bGVzOiB7CgkJCQlhY3Rpb246IHsgY29tcGxpY2F0ZWRQYXNzd29yZDogdHJ1ZSB9CgkJCX0KCQl9KSwKCQllID0gJCggIiN0ZXh0MSIgKVsgMCBdOwoKCWUudmFsdWUgPSAiIjsKCXN0cmljdEVxdWFsKCB2LmVsZW1lbnQoIGUgKSwgdHJ1ZSwgIlJ1bGUgaXMgb3B0aW9uYWwsIHZhbGlkIiApOwoJZXF1YWwoIDAsIHYuc2l6ZSgpICk7CgllLnZhbHVlID0gImtvIjsKCW9rKCAhdi5lbGVtZW50KCBlICksICJJbnZhbGlkLCBkb2Vzbid0IGNvbnRhaW4gb25lIG9mIHRoZSByZXF1aXJlZCBjaGFyYWN0ZXJzIiApOwoJZS52YWx1ZSA9ICJrbzEiOwoJb2soIHYuZWxlbWVudCggZSApICk7Cn0pOwoKdGVzdCggImZvcm0oKTogc2ltcGxlIiwgZnVuY3Rpb24oKSB7CglleHBlY3QoIDIgKTsKCXZhciBmb3JtID0gJCggIiN0ZXN0Rm9ybTEiIClbIDAgXSwKCQl2ID0gJCggZm9ybSApLnZhbGlkYXRlKCk7CgoJb2soICF2LmZvcm0oKSwgIkludmFsaWQgZm9ybSIgKTsKCSQoICIjZmlyc3RuYW1lIiApLnZhbCggImhpIiApOwoJJCggIiNsYXN0bmFtZSIgKS52YWwoICJoaSIgKTsKCW9rKCB2LmZvcm0oKSwgIlZhbGlkIGZvcm0iICk7Cn0pOwoKdGVzdCggImZvcm0oKTogY2hlY2tib3hlczogbWluL3JlcXVpcmVkIiwgZnVuY3Rpb24oKSB7CglleHBlY3QoIDMgKTsKCXZhciBmb3JtID0gJCggIiN0ZXN0Rm9ybTYiIClbIDAgXSwKCQl2ID0gJCggZm9ybSApLnZhbGlkYXRlKCk7CgoJb2soICF2LmZvcm0oKSwgIkludmFsaWQgZm9ybSIgKTsKCSQoICIjZm9ybTZjaGVjazEiICkuYXR0ciggImNoZWNrZWQiLCB0cnVlICk7CglvayggIXYuZm9ybSgpLCAiSW52YWxpZCBmb3JtIiApOwoJJCggIiNmb3JtNmNoZWNrMiIgKS5hdHRyKCAiY2hlY2tlZCIsIHRydWUgKTsKCW9rKCB2LmZvcm0oKSwgIlZhbGlkIGZvcm0iICk7Cn0pOwoKdGVzdCggImZvcm0oKTogcmFkaW8gYnV0dG9uczogcmVxdWlyZWQiLCBmdW5jdGlvbigpIHsKCWV4cGVjdCggNiApOwoJdmFyIGZvcm0gPSAkKCAiI3Rlc3RGb3JtMTAiIClbIDAgXSwKCQl2ID0gJCggZm9ybSApLnZhbGlkYXRlKHsKCQkJcnVsZXM6IHsKCQkJCXRlc3RGb3JtMTBSYWRpbzogInJlcXVpcmVkIgoJCQl9CgkJfSk7CgoJb2soIXYuZm9ybSgpLCAiSW52YWxpZCBGb3JtIiApOwoJZXF1YWwoJCggIiN0ZXN0Rm9ybTEwUmFkaW8xIiApLmF0dHIoICJjbGFzcyIgKSwgImVycm9yIiApOwoJZXF1YWwoJCggIiN0ZXN0Rm9ybTEwUmFkaW8yIiApLmF0dHIoICJjbGFzcyIgKSwgImVycm9yIiApOwoKCSQoICIjdGVzdEZvcm0xMFJhZGlvMiIgKS5hdHRyKCAiY2hlY2tlZCIsIHRydWUgKTsKCW9rKCB2LmZvcm0oKSwgIlZhbGlkIGZvcm0iICk7CgoJZXF1YWwoJCggIiN0ZXN0Rm9ybTEwUmFkaW8xIiApLmF0dHIoICJjbGFzcyIgKSwgInZhbGlkIiApOwoJZXF1YWwoJCggIiN0ZXN0Rm9ybTEwUmFkaW8yIiApLmF0dHIoICJjbGFzcyIgKSwgInZhbGlkIiApOwp9KTsKCnRlc3QoICJmb3JtKCk6IHNlbGVjdHM6IG1pbi9yZXF1aXJlZCIsIGZ1bmN0aW9uKCkgewoJZXhwZWN0KCAzICk7Cgl2YXIgZm9ybSA9ICQoICIjdGVzdEZvcm03IiApWyAwIF0sCgkJdiA9ICQoIGZvcm0gKS52YWxpZGF0ZSgpOwoKCW9rKCAhdi5mb3JtKCksICJJbnZhbGlkIGZvcm0iICk7CgkkKCAiI29wdGlvbnhhIiApLmF0dHIoICJzZWxlY3RlZCIsIHRydWUgKTsKCW9rKCAhdi5mb3JtKCksICJJbnZhbGlkIGZvcm0iICk7CgkkKCAiI29wdGlvbnhiIiApLmF0dHIoICJzZWxlY3RlZCIsIHRydWUgKTsKCW9rKCB2LmZvcm0oKSwgIlZhbGlkIGZvcm0iICk7Cn0pOwoKdGVzdCggImZvcm0oKTogd2l0aCBlcXVhbFRvIiwgZnVuY3Rpb24oKSB7CglleHBlY3QoIDIgKTsKCXZhciBmb3JtID0gJCggIiN0ZXN0Rm9ybTUiIClbIDAgXSwKCQl2ID0gJCggZm9ybSApLnZhbGlkYXRlKCk7CgoJb2soICF2LmZvcm0oKSwgIkludmFsaWQgZm9ybSIgKTsKCSQoICIjeDEsICN4MiIgKS52YWwoICJoaSIgKTsKCW9rKCB2LmZvcm0oKSwgIlZhbGlkIGZvcm0iICk7Cn0pOwoKdGVzdCggImZvcm0oKTogd2l0aCBlcXVhbFRvIGFuZCBvbmZvY3Vzb3V0PWZhbHNlIiwgZnVuY3Rpb24oKSB7CglleHBlY3QoIDQgKTsKCXZhciBmb3JtID0gJCggIiN0ZXN0Rm9ybTUiIClbIDAgXSwKCQl2ID0gJCggZm9ybSApLnZhbGlkYXRlKHsKCQkJb25mb2N1c291dDogZmFsc2UsCgkJCXNob3dFcnJvcnM6IGZ1bmN0aW9uKCkgewoJCQkJb2soIHRydWUsICJzaG93RXJyb3JzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB0d2ljZSIgKTsKCQkJCXRoaXMuZGVmYXVsdFNob3dFcnJvcnMoKTsKCQkJfQoJCX0pOwoKCSQoICIjeDEsICN4MiIgKS52YWwoICJoaSIgKTsKCW9rKCB2LmZvcm0oKSwgIlZhbGlkIGZvcm0iICk7CgkkKCAiI3gyIiApLnZhbCggIm5vdCBlcXVhbCIgKS5ibHVyKCk7CglvayggIXYuZm9ybSgpLCAiSW52YWxpZCBmb3JtIiApOwp9KTsKCnRlc3QoICJjaGVjaygpOiBzaW1wbGUiLCBmdW5jdGlvbigpIHsKCWV4cGVjdCggMyApOwoJdmFyIGVsZW1lbnQgPSAkKCAiI2ZpcnN0bmFtZSIgKVsgMCBdLAoJCXYgPSAkKCAiI3Rlc3RGb3JtMSIgKS52YWxpZGF0ZSgpOwoKCW9rKCB2LnNpemUoKSA9PT0gMCwgIk5vIGVycm9ycyB5ZXQiICk7Cgl2LmNoZWNrKCBlbGVtZW50ICk7Cglvayggdi5zaXplKCkgPT09IDEsICJlcnJvciBleGlzdHMiICk7Cgl2LmVycm9yTGlzdCA9IFtdOwoJJCggIiNmaXJzdG5hbWUiICkudmFsKCAiaGkiICk7Cgl2LmNoZWNrKCBlbGVtZW50ICk7Cglvayggdi5zaXplKCkgPT09IDAsICJObyBtb3JlIGVycm9ycyIgKTsKfSk7Cgp0ZXN0KCAiaGlkZSgpOiBpbnB1dCIsIGZ1bmN0aW9uKCkgewoJZXhwZWN0KCAzICk7Cgl2YXIgZXJyb3JMYWJlbCA9ICQoICIjZXJyb3JGaXJzdG5hbWUiICksCgkJZWxlbWVudCA9ICQoICIjZmlyc3RuYW1lIiApWyAwIF0sCgkJdjsKCgllbGVtZW50LnZhbHVlID0gImJsYSI7Cgl2ID0gJCggIiN0ZXN0Rm9ybTEiICkudmFsaWRhdGUoKTsKCWVycm9yTGFiZWwuc2hvdygpOwoKCW9rKCBlcnJvckxhYmVsLmlzKCAiOnZpc2libGUiICksICJFcnJvciBsYWJlbCB2aXNpYmxlIGJlZm9yZSB2YWxpZGF0aW9uIiApOwoJb2soIHYuZWxlbWVudCggZWxlbWVudCApICk7CglvayggZXJyb3JMYWJlbC5pcyggIjpoaWRkZW4iICksICJFcnJvciBsYWJlbCBub3QgdmlzaWJsZSBhZnRlciB2YWxpZGF0aW9uIiApOwp9KTsKCnRlc3QoICJoaWRlKCk6IHJhZGlvIiwgZnVuY3Rpb24oKSB7CglleHBlY3QoIDIgKTsKCXZhciBlcnJvckxhYmVsID0gJCggIiNhZ3JlZUxhYmVsIiApLAoJCWVsZW1lbnQgPSAkKCAiI2FnYiIgKVsgMCBdLAoJCXY7CgoJZWxlbWVudC5jaGVja2VkID0gdHJ1ZTsKCXYgPSAkKCAiI3Rlc3RGb3JtMiIgKS52YWxpZGF0ZSh7IGVycm9yQ2xhc3M6ICJ4ZXJyb3IiIH0pOwoJZXJyb3JMYWJlbC5zaG93KCk7CgoJb2soIGVycm9yTGFiZWwuaXMoICI6dmlzaWJsZSIgKSwgIkVycm9yIGxhYmVsIHZpc2libGUgYWZ0ZXIgdmFsaWRhdGlvbiIgKTsKCXYuZWxlbWVudCggZWxlbWVudCApOwoJb2soIGVycm9yTGFiZWwuaXMoICI6aGlkZGVuIiApLCAiRXJyb3IgbGFiZWwgbm90IHZpc2libGUgYWZ0ZXIgaGlkaW5nIGl0IiApOwp9KTsKCnRlc3QoICJoaWRlKCk6IGVycm9yV3JhcHBlciIsIGZ1bmN0aW9uKCkgewoJZXhwZWN0KCAyICk7Cgl2YXIgZXJyb3JMYWJlbCA9ICQoICIjZXJyb3JXcmFwcGVyIiApLAoJCWVsZW1lbnQgPSAkKCAiI21lYWwiIClbIDAgXSwKCQl2OwoKCWVsZW1lbnQuc2VsZWN0ZWRJbmRleCA9IDE7CgllcnJvckxhYmVsLnNob3coKTsKCglvayggZXJyb3JMYWJlbC5pcyggIjp2aXNpYmxlIiApLCAiRXJyb3IgbGFiZWwgdmlzaWJsZSBhZnRlciB2YWxpZGF0aW9uIiApOwoJdiA9ICQoICIjdGVzdEZvcm0zIiApLnZhbGlkYXRlKHsgd3JhcHBlcjogImxpIiwgZXJyb3JMYWJlbENvbnRhaW5lcjogJCggIiNlcnJvckNvbnRhaW5lciIgKSB9KTsKCXYuZWxlbWVudCggZWxlbWVudCApOwoJb2soIGVycm9yTGFiZWwuaXMoICI6aGlkZGVuIiApLCAiRXJyb3IgbGFiZWwgbm90IHZpc2libGUgYWZ0ZXIgaGlkaW5nIGl0IiApOwp9KTsKCnRlc3QoICJoaWRlKCk6IGNvbnRhaW5lciIsIGZ1bmN0aW9uKCkgewoJZXhwZWN0KCA0ICk7Cgl2YXIgZXJyb3JMYWJlbCA9ICQoICIjZXJyb3JDb250YWluZXIiICksCgkJdiA9ICQoICIjdGVzdEZvcm0zIiApLnZhbGlkYXRlKHsgZXJyb3JXcmFwcGVyOiAibGkiLCBlcnJvckNvbnRhaW5lcjogJCggIiNlcnJvckNvbnRhaW5lciIgKSB9KTsKCgl2LmZvcm0oKTsKCW9rKCBlcnJvckxhYmVsLmlzKCAiOnZpc2libGUiICksICJFcnJvciBsYWJlbCB2aXNpYmxlIGFmdGVyIHZhbGlkYXRpb24iICk7CgkkKCAiI21lYWwiIClbIDAgXS5zZWxlY3RlZEluZGV4ID0gMTsKCXYuZm9ybSgpOwoJb2soIGVycm9yTGFiZWwuaXMoICI6aGlkZGVuIiApLCAiRXJyb3IgbGFiZWwgbm90IHZpc2libGUgYWZ0ZXIgaGlkaW5nIGl0IiApOwoJJCggIiNtZWFsIiApWyAwIF0uc2VsZWN0ZWRJbmRleCA9IC0xOwoJdi5lbGVtZW50KCAiI21lYWwiICk7CglvayggZXJyb3JMYWJlbC5pcyggIjp2aXNpYmxlIiApLCAiRXJyb3IgbGFiZWwgdmlzaWJsZSBhZnRlciB2YWxpZGF0aW9uIiApOwoJJCggIiNtZWFsIiApWyAwIF0uc2VsZWN0ZWRJbmRleCA9IDE7Cgl2LmVsZW1lbnQoICIjbWVhbCIgKTsKCW9rKCBlcnJvckxhYmVsLmlzKCAiOmhpZGRlbiIgKSwgIkVycm9yIGxhYmVsIG5vdCB2aXNpYmxlIGFmdGVyIGhpZGluZyBpdCIgKTsKfSk7Cgp0ZXN0KCAic3VibWl0SGFuZGxlciBrZWVwcyBzdWJtaXR0aW5nIGJ1dHRvbiIsIGZ1bmN0aW9uKCkgewoJdmFyIGJ1dHRvbiwgZXZlbnQ7CgoJJCggIiN1c2VyRm9ybSIgKS52YWxpZGF0ZSh7CgkJZGVidWc6IHRydWUsCgkJc3VibWl0SGFuZGxlcjogZnVuY3Rpb24oIGZvcm0gKSB7CgkJCS8vIGR1bm5vIGhvdyB0byB0ZXN0IHRoaXMgYmV0dGVyOyB0aGlzIHRlc3RzIHRoZSBpbXBsZW1lbnRhdGlvbiB0aGF0IHVzZXMgYSBoaWRkZW4gaW5wdXQKCQkJdmFyIGhpZGRlbiA9ICQoIGZvcm0gKS5maW5kKCAiaW5wdXQ6aGlkZGVuIiApWyAwIF07CgkJCWRlZXBFcXVhbCggaGlkZGVuLnZhbHVlLCBidXR0b24udmFsdWUgKTsKCQkJZGVlcEVxdWFsKCBoaWRkZW4ubmFtZSwgYnV0dG9uLm5hbWUgKTsKCQl9Cgl9KTsKCSQoICIjdXNlcm5hbWUiICkudmFsKCAiYmxhIiApOwoJYnV0dG9uID0gJCggIiN1c2VyRm9ybSA6c3VibWl0IiApWyAwIF07CglldmVudCA9ICQuRXZlbnQoICJjbGljayIgKTsKCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkkLmV2ZW50LnRyaWdnZXIoIGV2ZW50LCBudWxsLCBidXR0b24gKTsKCSQoICIjdXNlckZvcm0iICkuc3VibWl0KCk7Cn0pOwoKYXN5bmNUZXN0KCJ2YWxpZGF0aW9uIHRyaWdnZXJlZCBvbiByYWRpby9jaGVja2JveCB3aGVuIHVzaW5nIGtleWJvYXJkIiwgZnVuY3Rpb24oKSB7CiAgICBleHBlY3QoIDEgKTsKCXZhciBpbnB1dCwgaSwgZXZlbnRzLCB0cmlnZ2VyZWRFdmVudHMgPSAwOwoKCSQoIiNmb3JtIikudmFsaWRhdGUoewoJCW9uZm9jdXNpbjogZnVuY3Rpb24oKSB7CgkJCXRyaWdnZXJlZEV2ZW50cysrOwoJCX0sCgkJb25mb2N1c291dDogZnVuY3Rpb24oKSB7CgkJCXRyaWdnZXJlZEV2ZW50cysrOwoJCX0sCgkJb25rZXl1cDogZnVuY3Rpb24oKSB7CgkJCXRyaWdnZXJlZEV2ZW50cysrOwoJCX0KCX0pOwoKCWV2ZW50cyA9IFsKCQkkLkV2ZW50KCJmb2N1c2luIiksCgkJJC5FdmVudCgiZm9jdXNvdXQiKSwKCQkkLkV2ZW50KCJrZXl1cCIpCgldOwoKCWlucHV0ID0gJCgiI2Zvcm0gOnJhZGlvOmZpcnN0Iik7Cglmb3IgKGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7CgkJaW5wdXQudHJpZ2dlcihldmVudHNbaV0pOwoJfQoKCWlucHV0ID0gJCgiI2Zvcm0gOmNoZWNrYm94OmZpcnN0Iik7Cglmb3IgKGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7CgkJaW5wdXQudHJpZ2dlcihldmVudHNbaV0pOwoJfQoKCXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJLy8gYXNzZXJ0IGFsbCBldmVudCBoYW5kbGVycyBmaXJlZAoJCWVxdWFsKDYsIHRyaWdnZXJlZEV2ZW50cyk7CgkJc3RhcnQoKTsKCX0sIDUwKTsKfSk7Cgphc3luY1Rlc3QoInZhbGlkYXRpb24gdHJpZ2dlcmVkIG9uIHJhZGlvL2NoZWNrYm94IHdoZW4gdXNpbmcgbW91c2VjbGljayIsIGZ1bmN0aW9uKCkgewogICAgZXhwZWN0KCAxICk7Cgl2YXIgaW5wdXQsIGksIGV2ZW50cywgdHJpZ2dlcmVkRXZlbnRzID0gMDsKCgkkKCIjZm9ybSIpLnZhbGlkYXRlKHsKCQlvbmNsaWNrOiBmdW5jdGlvbigpIHsKCQkJdHJpZ2dlcmVkRXZlbnRzKys7CgkJfQoJfSk7CgoJZXZlbnRzID0gWwoJCSQuRXZlbnQoImNsaWNrIikKCV07CgoJaW5wdXQgPSAkKCIjZm9ybSA6cmFkaW86Zmlyc3QiKTsKCWZvciAoaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHsKCQlpbnB1dC50cmlnZ2VyKGV2ZW50c1tpXSk7Cgl9CgoJaW5wdXQgPSAkKCIjZm9ybSA6Y2hlY2tib3g6Zmlyc3QiKTsKCWZvciAoaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHsKCQlpbnB1dC50cmlnZ2VyKGV2ZW50c1tpXSk7Cgl9CgoJc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkvLyBhc3NlcnQgYWxsIGV2ZW50IGhhbmRsZXJzIGZpcmVkCgkJZXF1YWwoMiwgdHJpZ2dlcmVkRXZlbnRzKTsKCQlzdGFydCgpOwoJfSwgNTApOwp9KTsKCnRlc3QoICJzaG93RXJyb3JzKCkiLCBmdW5jdGlvbigpIHsKCWV4cGVjdCggNCApOwoJdmFyIGVycm9yTGFiZWwgPSAkKCAiI2Vycm9yRmlyc3RuYW1lIiApLmhpZGUoKSwKCQl2ID0gJCggIiN0ZXN0Rm9ybTEiICkudmFsaWRhdGUoKTsKCglvayggZXJyb3JMYWJlbC5pcyggIjpoaWRkZW4iICkgKTsKCWVxdWFsKCAwLCAkKCAiI2xhc3RuYW1lIiApLm5leHQoICIuZXJyb3I6bm90KGlucHV0KSIgKS5zaXplKCkgKTsKCXYuc2hvd0Vycm9ycyh7ICJmaXJzdG5hbWUiOiAicmVxdWlyZWQiLCAibGFzdG5hbWUiOiAiYmxhIiB9KTsKCWVxdWFsKCB0cnVlLCBlcnJvckxhYmVsLmlzKCAiOnZpc2libGUiICkgKTsKCWVxdWFsKCB0cnVlLCAkKCAiI2xhc3RuYW1lIiApLm5leHQoICIuZXJyb3I6bm90KGlucHV0KSIgKS5pcyggIjp2aXNpYmxlIiApICk7Cn0pOwoKdGVzdCggInNob3dFcnJvcnMoKSwgYWxsb3cgZW1wdHkgc3RyaW5nIGFuZCBudWxsIGFzIGRlZmF1bHQgbWVzc2FnZSIsIGZ1bmN0aW9uKCkgewoJJCggIiN1c2VyRm9ybSIgKS52YWxpZGF0ZSh7CgkJcnVsZXM6IHsKCQkJdXNlcm5hbWU6IHsKCQkJCXJlcXVpcmVkOiB0cnVlLAoJCQkJbWlubGVuZ3RoOiAzCgkJCX0KCQl9LAoJCW1lc3NhZ2VzOiB7CgkJCXVzZXJuYW1lOiB7CgkJCQlyZXF1aXJlZDogIiIsCgkJCQltaW5sZW5ndGg6ICJ0b28gc2hvcnQiCgkJCX0KCQl9Cgl9KTsKCW9rKCAhJCggIiN1c2VybmFtZSIgKS52YWxpZCgpICk7CgllcXVhbCggIiIsICQoICIjdXNlcm5hbWUiICkubmV4dCggIi5lcnJvcjpub3QoaW5wdXQpIiApLnRleHQoKSApOwoKCSQoICIjdXNlcm5hbWUiICkudmFsKCAiYWIiICk7CglvayggISQoICIjdXNlcm5hbWUiICkudmFsaWQoKSApOwoJZXF1YWwoICJ0b28gc2hvcnQiLCAkKCAiI3VzZXJuYW1lIiApLm5leHQoICIuZXJyb3I6bm90KGlucHV0KSIgKS50ZXh0KCkgKTsKCgkkKCAiI3VzZXJuYW1lIiApLnZhbCggImFiYyIgKTsKCW9rKCAkKCAiI3VzZXJuYW1lIiApLnZhbGlkKCkgKTsKCW9rKCAkKCAiI3VzZXJuYW1lIiApLm5leHQoICIuZXJyb3I6bm90KGlucHV0KSIgKS5pcyggIjpoaWRkZW4iICkgKTsKfSk7Cgp0ZXN0KCAic2hvd0Vycm9ycygpIC0gZXh0ZXJuYWwgbWVzc2FnZXMiLCBmdW5jdGlvbigpIHsKCWV4cGVjdCggNCApOwoJdmFyIG1ldGhvZHMgPSAkLmV4dGVuZCgge30sICQudmFsaWRhdG9yLm1ldGhvZHMgKSwKCQltZXNzYWdlcyA9ICQuZXh0ZW5kKCB7fSwgJC52YWxpZGF0b3IubWVzc2FnZXMgKSwKCQlmb3JtLCB2OwoKCSQudmFsaWRhdG9yLmFkZE1ldGhvZCggImZvbyIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH0pOwoJJC52YWxpZGF0b3IuYWRkTWV0aG9kKCAiYmFyIiwgZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfSk7CgllcXVhbCggMCwgJCggIiN0ZXN0Rm9ybTQgI2YxIiApLm5leHQoICIuZXJyb3I6bm90KGlucHV0KSIgKS5zaXplKCkgKTsKCWVxdWFsKCAwLCAkKCAiI3Rlc3RGb3JtNCAjZjIiICkubmV4dCggIi5lcnJvcjpub3QoaW5wdXQpIiApLnNpemUoKSApOwoKCWZvcm0gPSAkKCAiI3Rlc3RGb3JtNCIgKVsgMCBdOwoJdiA9ICQoIGZvcm0gKS52YWxpZGF0ZSh7CgkJbWVzc2FnZXM6IHsKCQkJZjE6ICJQbGVhc2UhIiwKCQkJZjI6ICJXb2hvbyEiCgkJfQoJfSk7Cgl2LmZvcm0oKTsKCWVxdWFsKCAkKCAiI3Rlc3RGb3JtNCAjZjEiICkubmV4dCggIi5lcnJvcjpub3QoaW5wdXQpIiApLnRleHQoKSwgIlBsZWFzZSEiICk7CgllcXVhbCggJCggIiN0ZXN0Rm9ybTQgI2YyIiApLm5leHQoICIuZXJyb3I6bm90KGlucHV0KSIgKS50ZXh0KCksICJXb2hvbyEiICk7CgoJJC52YWxpZGF0b3IubWV0aG9kcyA9IG1ldGhvZHM7CgkkLnZhbGlkYXRvci5tZXNzYWdlcyA9IG1lc3NhZ2VzOwp9KTsKCnRlc3QoICJzaG93RXJyb3JzKCkgLSBjdXN0b20gaGFuZGxlciIsIGZ1bmN0aW9uKCkgewoJZXhwZWN0KCA1ICk7Cgl2YXIgdiA9ICQoICIjdGVzdEZvcm0xIiApLnZhbGlkYXRlKHsKCQlzaG93RXJyb3JzOiBmdW5jdGlvbiggZXJyb3JNYXAsIGVycm9yTGlzdCApIHsKCQkJZXF1YWwoIHYsIHRoaXMgKTsKCQkJZXF1YWwoIHYuZXJyb3JMaXN0LCBlcnJvckxpc3QgKTsKCQkJZXF1YWwoIHYuZXJyb3JNYXAsIGVycm9yTWFwICk7CgkJCWVxdWFsKCAiYnVnYSIsIGVycm9yTWFwLmZpcnN0bmFtZSApOwoJCQllcXVhbCggImJ1Z2EiLCBlcnJvck1hcC5sYXN0bmFtZSApOwoJCX0KCX0pOwoJdi5mb3JtKCk7Cn0pOwoKdGVzdCggIm9wdGlvbjogKHVuKWhpZ2hsaWdodCwgZGVmYXVsdCIsIGZ1bmN0aW9uKCkgewoJJCggIiN0ZXN0Rm9ybTEiICkudmFsaWRhdGUoKTsKCXZhciBlID0gJCggIiNmaXJzdG5hbWUiICk7CglvayggIWUuaGFzQ2xhc3MoICJlcnJvciIgKSApOwoJb2soICFlLmhhc0NsYXNzKCAidmFsaWQiICkgKTsKCWUudmFsaWQoKTsKCW9rKCBlLmhhc0NsYXNzKCAiZXJyb3IiICkgKTsKCW9rKCAhZS5oYXNDbGFzcyggInZhbGlkIiApICk7CgllLnZhbCggImhpdGhlcmUiICkudmFsaWQoKTsKCW9rKCAhZS5oYXNDbGFzcyggImVycm9yIiApICk7CglvayggZS5oYXNDbGFzcyggInZhbGlkIiApICk7Cn0pOwoKdGVzdCggIm9wdGlvbjogKHVuKWhpZ2hsaWdodCwgbm90aGluZyIsIGZ1bmN0aW9uKCkgewoJZXhwZWN0KCAzICk7CgkkKCAiI3Rlc3RGb3JtMSIgKS52YWxpZGF0ZSh7CgkJaGlnaGxpZ2h0OiBmYWxzZSwKCQl1bmhpZ2hsaWdodDogZmFsc2UKCX0pOwoJdmFyIGUgPSAkKCAiI2ZpcnN0bmFtZSIgKTsKCW9rKCAhZS5oYXNDbGFzcyggImVycm9yIiApICk7CgllLnZhbGlkKCk7CglvayggIWUuaGFzQ2xhc3MoICJlcnJvciIgKSApOwoJZS52YWxpZCgpOwoJb2soICFlLmhhc0NsYXNzKCAiZXJyb3IiICkgKTsKfSk7Cgp0ZXN0KCAib3B0aW9uOiAodW4paGlnaGxpZ2h0LCBjdXN0b20iLCBmdW5jdGlvbigpIHsKCWV4cGVjdCggNSApOwoJJCggIiN0ZXN0Rm9ybTFjbGVhbiIgKS52YWxpZGF0ZSh7CgkJaGlnaGxpZ2h0OiBmdW5jdGlvbiggZWxlbWVudCwgZXJyb3JDbGFzcyApIHsKCQkJZXF1YWwoICJpbnZhbGlkIiwgZXJyb3JDbGFzcyApOwoJCQkkKCBlbGVtZW50ICkuaGlkZSgpOwoJCX0sCgkJdW5oaWdobGlnaHQ6IGZ1bmN0aW9uKCBlbGVtZW50LCBlcnJvckNsYXNzICkgewoJCQllcXVhbCggImludmFsaWQiLCBlcnJvckNsYXNzICk7CgkJCSQoIGVsZW1lbnQgKS5zaG93KCk7CgkJfSwKCQlpZ25vcmU6ICIiLAoJCWVycm9yQ2xhc3M6ICJpbnZhbGlkIiwKCQlydWxlczogewoJCQlmaXJzdG5hbWVjOiAicmVxdWlyZWQiCgkJfQoJfSk7Cgl2YXIgZSA9ICQoICIjZmlyc3RuYW1lYyIgKTsKCW9rKCBlLmlzKCAiOnZpc2libGUiICkgKTsKCWUudmFsaWQoKTsKCW9rKCAhZS5pcyggIjp2aXNpYmxlIiApICk7CgllLnZhbCggImhpdGhlcmUiICkudmFsaWQoKTsKCW9rKCBlLmlzKCAiOnZpc2libGUiICkgKTsKfSk7Cgp0ZXN0KCAib3B0aW9uOiAodW4paGlnaGxpZ2h0LCBjdXN0b20yIiwgZnVuY3Rpb24oKSB7CglleHBlY3QoIDYgKTsKCXZhciBlLCBsOwoJJCggIiN0ZXN0Rm9ybTEiICkudmFsaWRhdGUoewoJCWhpZ2hsaWdodDogZnVuY3Rpb24oIGVsZW1lbnQsIGVycm9yQ2xhc3MgKSB7CgkJCSQoIGVsZW1lbnQgKS5hZGRDbGFzcyggZXJyb3JDbGFzcyApOwoJCQkkKCBlbGVtZW50ICkubmV4dCggIi5lcnJvcjpub3QoaW5wdXQpIiApLmFkZENsYXNzKCBlcnJvckNsYXNzICk7CgkJfSwKCQl1bmhpZ2hsaWdodDogZnVuY3Rpb24oIGVsZW1lbnQsIGVycm9yQ2xhc3MgKSB7CgkJCSQoIGVsZW1lbnQgKS5yZW1vdmVDbGFzcyggZXJyb3JDbGFzcyApOwoJCQkkKCBlbGVtZW50ICkubmV4dCggIi5lcnJvcjpub3QoaW5wdXQpIiApLnJlbW92ZUNsYXNzKCBlcnJvckNsYXNzICk7CgkJfSwKCQllcnJvckNsYXNzOiAiaW52YWxpZCIKCX0pOwoKCWUgPSAkKCAiI2ZpcnN0bmFtZSIgKTsKCWwgPSAkKCAiI2Vycm9yRmlyc3RuYW1lIiApOwoKCW9rKCAhZS5pcyggIi5pbnZhbGlkIiApICk7CglvayggIWwuaXMoICIuaW52YWxpZCIgKSApOwoJZS52YWxpZCgpOwoJb2soIGUuaXMoICIuaW52YWxpZCIgKSApOwoJb2soIGwuaXMoICIuaW52YWxpZCIgKSApOwoJZS52YWwoICJoaXRoZXJlIiApLnZhbGlkKCk7CglvayggIWUuaXMoICIuaW52YWxpZCIgKSApOwoJb2soICFsLmlzKCAiLmludmFsaWQiICkgKTsKfSk7Cgp0ZXN0KCAib3B0aW9uOiBmb2N1c0NsZWFudXAgZGVmYXVsdCBmYWxzZSIsIGZ1bmN0aW9uKCkgewoJdmFyIGZvcm0gPSAkKCAiI3VzZXJGb3JtIiApOwoJZm9ybS52YWxpZGF0ZSgpOwoJZm9ybS52YWxpZCgpOwoJb2soIGZvcm0uZmluZCggIiN1c2VybmFtZSIgKS5uZXh0KCAiLmVycm9yOm5vdChpbnB1dCkiICkuaXMoICI6dmlzaWJsZSIgKSk7CgkkKCAiI3VzZXJuYW1lIiApLmZvY3VzKCk7CglvayggZm9ybS5maW5kKCAiI3VzZXJuYW1lIiApLm5leHQoICIuZXJyb3I6bm90KGlucHV0KSIgKS5pcyggIjp2aXNpYmxlIiApKTsKfSk7Cgp0ZXN0KCAib3B0aW9uOiBmb2N1c0NsZWFudXAgdHJ1ZSIsIGZ1bmN0aW9uKCkgewoJdmFyIGZvcm0gPSAkKCAiI3VzZXJGb3JtIiApOwoJZm9ybS52YWxpZGF0ZSh7CgkJZm9jdXNDbGVhbnVwOiB0cnVlCgl9KTsKCWZvcm0udmFsaWQoKTsKCW9rKCBmb3JtLmZpbmQoICIjdXNlcm5hbWUiICkubmV4dCggIi5lcnJvcjpub3QoaW5wdXQpIiApLmlzKCAiOnZpc2libGUiICkgKTsKCSQoICIjdXNlcm5hbWUiICkuZm9jdXMoKS50cmlnZ2VyKCAiZm9jdXNpbiIgKTsKCW9rKCAhZm9ybS5maW5kKCAiI3VzZXJuYW1lIiApLm5leHQoICIuZXJyb3I6bm90KGlucHV0KSIgKS5pcyggIjp2aXNpYmxlIiApICk7Cn0pOwoKdGVzdCggIm9wdGlvbjogZm9jdXNDbGVhbnVwIHdpdGggd3JhcHBlciIsIGZ1bmN0aW9uKCkgewoJdmFyIGZvcm0gPSAkKCAiI3VzZXJGb3JtIiApOwoJZm9ybS52YWxpZGF0ZSh7CgkJZm9jdXNDbGVhbnVwOiB0cnVlLAoJCXdyYXBwZXI6ICJzcGFuIgoJfSk7Cglmb3JtLnZhbGlkKCk7CglvayggZm9ybS5pcyggIjpoYXMoc3Bhbjp2aXNpYmxlOmhhcyguZXJyb3IjdXNlcm5hbWUtZXJyb3IpKSIgKSApOwoJJCggIiN1c2VybmFtZSIgKS5mb2N1cygpLnRyaWdnZXIoICJmb2N1c2luIiApOwoJb2soICFmb3JtLmlzKCAiOmhhcyhzcGFuOnZpc2libGU6aGFzKC5lcnJvciN1c2VybmFtZS1lcnJvcikpIiApICk7Cn0pOwoKdGVzdCggIm9wdGlvbjogZXJyb3JDbGFzcyB3aXRoIG11bHRpcGxlIGNsYXNzZXMiLCBmdW5jdGlvbigpIHsKCXZhciBmb3JtID0gJCggIiN1c2VyRm9ybSIgKTsKCWZvcm0udmFsaWRhdGUoewoJCWZvY3VzQ2xlYW51cDogdHJ1ZSwKCQl3cmFwcGVyOiAic3BhbiIsCgkJZXJyb3JDbGFzczogImVycm9yIGVycm9yMSBlcnJvcjIiCgl9KTsKCWZvcm0udmFsaWQoKTsKCW9rKCBmb3JtLmlzKCAiOmhhcyhzcGFuOnZpc2libGU6aGFzKC5lcnJvciN1c2VybmFtZS1lcnJvcikpIiApICk7CglvayggZm9ybS5pcyggIjpoYXMoc3Bhbjp2aXNpYmxlOmhhcyguZXJyb3IxI3VzZXJuYW1lLWVycm9yKSkiICkgKTsKCW9rKCBmb3JtLmlzKCAiOmhhcyhzcGFuOnZpc2libGU6aGFzKC5lcnJvcjIjdXNlcm5hbWUtZXJyb3IpKSIgKSApOwoJJCggIiN1c2VybmFtZSIgKS5mb2N1cygpLnRyaWdnZXIoICJmb2N1c2luIiApOwoJb2soICFmb3JtLmlzKCAiOmhhcyhzcGFuOnZpc2libGU6aGFzKC5lcnJvciN1c2VybmFtZS1lcnJvcikpIiApICk7CglvayggIWZvcm0uaXMoICI6aGFzKHNwYW46dmlzaWJsZTpoYXMoLmVycm9yMSN1c2VybmFtZS1lcnJvcikpIiApICk7CglvayggIWZvcm0uaXMoICI6aGFzKHNwYW46dmlzaWJsZTpoYXMoLmVycm9yMiN1c2VybmFtZS1lcnJvcikpIiApICk7Cn0pOwoKdGVzdCggImRlZmF1bHRNZXNzYWdlKCksIGVtcHR5IHRpdGxlIGlzIGlnbm9yZWQiLCBmdW5jdGlvbigpIHsKCXZhciB2ID0gJCggIiN1c2VyRm9ybSIgKS52YWxpZGF0ZSgpOwoJZXF1YWwoICJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLiIsIHYuZGVmYXVsdE1lc3NhZ2UoJCggIiN1c2VybmFtZSIgKVsgMCBdLCAicmVxdWlyZWQiICkgKTsKfSk7Cgp0ZXN0KCAiZm9ybWF0QW5kQWRkIiwgZnVuY3Rpb24oKSB7CglleHBlY3QoIDQgKTsKCXZhciB2ID0gJCggIiNmb3JtIiApLnZhbGlkYXRlKCksCgkJZmFrZUVsZW1lbnQgPSB7IGZvcm06ICQoICIjZm9ybSIgKVsgMCBdLCBuYW1lOiAiYmFyIiB9OwoKCXYuZm9ybWF0QW5kQWRkKCBmYWtlRWxlbWVudCwgeyBtZXRob2Q6ICJtYXhsZW5ndGgiLCBwYXJhbWV0ZXJzOiAyIH0pOwoJZXF1YWwoICJQbGVhc2UgZW50ZXIgbm8gbW9yZSB0aGFuIDIgY2hhcmFjdGVycy4iLCB2LmVycm9yTGlzdFsgMCBdLm1lc3NhZ2UgKTsKCWVxdWFsKCAiYmFyIiwgdi5lcnJvckxpc3RbIDAgXS5lbGVtZW50Lm5hbWUgKTsKCgl2LmZvcm1hdEFuZEFkZCggZmFrZUVsZW1lbnQsIHsgbWV0aG9kOiAicmFuZ2UiLCBwYXJhbWV0ZXJzOiBbIDIsIDQgXSB9KTsKCWVxdWFsKCAiUGxlYXNlIGVudGVyIGEgdmFsdWUgYmV0d2VlbiAyIGFuZCA0LiIsIHYuZXJyb3JMaXN0WyAxIF0ubWVzc2FnZSApOwoKCXYuZm9ybWF0QW5kQWRkKCBmYWtlRWxlbWVudCwgeyBtZXRob2Q6ICJyYW5nZSIsIHBhcmFtZXRlcnM6IFsgMCwgNCBdIH0pOwoJZXF1YWwoICJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDQuIiwgdi5lcnJvckxpc3RbIDIgXS5tZXNzYWdlICk7Cn0pOwoKdGVzdCggImZvcm1hdEFuZEFkZDIiLCBmdW5jdGlvbigpIHsKCWV4cGVjdCggMyApOwoJdmFyIHYgPSAkKCAiI2Zvcm0iICkudmFsaWRhdGUoKSwKCQlmYWtlRWxlbWVudCA9IHsgZm9ybTogJCggIiNmb3JtIiApWyAwIF0sIG5hbWU6ICJiYXIiIH07CgoJalF1ZXJ5LnZhbGlkYXRvci5tZXNzYWdlcy50ZXN0MSA9IGZ1bmN0aW9uKCBwYXJhbSwgZWxlbWVudCApIHsKCQllcXVhbCggdiwgdGhpcyApOwoJCWVxdWFsKCAwLCBwYXJhbSApOwoJCXJldHVybiAiZWxlbWVudCAiICsgZWxlbWVudC5uYW1lICsgIiBpcyBub3QgdmFsaWQiOwoJfTsKCXYuZm9ybWF0QW5kQWRkKCBmYWtlRWxlbWVudCwgeyBtZXRob2Q6ICJ0ZXN0MSIsIHBhcmFtZXRlcnM6IDAgfSk7CgllcXVhbCggImVsZW1lbnQgYmFyIGlzIG5vdCB2YWxpZCIsIHYuZXJyb3JMaXN0WyAwIF0ubWVzc2FnZSApOwp9KTsKCnRlc3QoICJmb3JtYXRBbmRBZGQsIGF1dG8gZGV0ZWN0IHN1YnN0aXR1dGlvbiBzdHJpbmciLCBmdW5jdGlvbigpIHsKCXZhciB2ID0gJCggIiN0ZXN0Rm9ybTFjbGVhbiIgKS52YWxpZGF0ZSh7CgkJcnVsZXM6IHsKCQkJZmlyc3RuYW1lYzogewoJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQlyYW5nZWxlbmd0aDogWyA1LCAxMCBdCgkJCX0KCQl9LAoJCW1lc3NhZ2VzOiB7CgkJCWZpcnN0bmFtZWM6IHsKCQkJCXJhbmdlbGVuZ3RoOiAiYXQgbGVhc3QgJHswfSwgdXAgdG8gezF9IgoJCQl9CgkJfQoJfSk7CgkkKCAiI2ZpcnN0bmFtZWMiICkudmFsKCAiYWJjIiApOwoJdi5mb3JtKCk7CgllcXVhbCggImF0IGxlYXN0IDUsIHVwIHRvIDEwIiwgdi5lcnJvckxpc3RbIDAgXS5tZXNzYWdlICk7Cn0pOwoKYXN5bmNUZXN0KCAib3B0aW9uIGludmFsaWRIYW5kbGVyIiwgZnVuY3Rpb24oKSB7CglleHBlY3QoIDEgKTsKCSQoICIjdGVzdEZvcm0xY2xlYW4iICkudmFsaWRhdGUoewoJCWludmFsaWRIYW5kbGVyOiBmdW5jdGlvbigpIHsKCQkJb2soIHRydWUsICJpbnZhbGlkLWZvcm0gZXZlbnQgdHJpZ2dlcmVkIGNhbGxlZCIgKTsKCQkJc3RhcnQoKTsKCQl9Cgl9KTsKCSQoICIjdXNlcm5hbWVjIiApLnZhbCggImFzZGYiICkucnVsZXMoICJhZGQiLCB7IHJlcXVpcmVkOiB0cnVlLCBtaW5sZW5ndGg6IDUgfSk7CgkkKCAiI3Rlc3RGb3JtMWNsZWFuIiApLnN1Ym1pdCgpOwp9KTsKCnRlc3QoICJmaW5kQnlOYW1lKCkiLCBmdW5jdGlvbigpIHsKCWRlZXBFcXVhbCgKCQluZXcgJC52YWxpZGF0b3Ioe30sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAiZm9ybSIgKSkKCQkJLmZpbmRCeU5hbWUoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAicmFkaW8xIiApLm5hbWUgKQoJCQkuZ2V0KCksCgkJJCggIiNmb3JtIiApLmZpbmQoICJbbmFtZT1yYWRpbzFdIiApLmdldCgpCgkpOwp9KTsKCnRlc3QoICJmb2N1c0ludmFsaWQoKSIsIGZ1bmN0aW9uKCkgewoJLy8gVE9ETyB3aGVuIHVzaW5nIGN1c3RvbSBmb2N1c2luLCB0aGlzIGlzIHRyaWdnZXJlZCBqdXN0IG9uY2UKCS8vIFRPRE8gd2hlbiB1c2luZyAxLjQgZm9jdXNpbiwgdHJpZ2dlcmVkIHR3aWNlOyBmaXggb25jZSBub3QgdGVzdGluZyBhZ2FpbnN0IDEuMyBhbnltb3JlCgkvLyBleHBlY3QoIDEgKTsKCXZhciBpbnB1dHMgPSAkKCAiI3Rlc3RGb3JtMSBpbnB1dCIgKS5mb2N1cyhmdW5jdGlvbigpIHsKCQkJZXF1YWwoIGlucHV0c1sgMCBdLCB0aGlzLCAiZm9jdXNlZCBmaXJzdCBlbGVtZW50IiApOwoJCX0pLAoJCXYgPSAkKCAiI3Rlc3RGb3JtMSIgKS52YWxpZGF0ZSgpOwoKCXYuZm9ybSgpOwoJdi5mb2N1c0ludmFsaWQoKTsKfSk7Cgp0ZXN0KCAiZmluZExhc3RBY3RpdmUoKSIsIGZ1bmN0aW9uKCkgewoJZXhwZWN0KCAzICk7Cgl2YXIgdiA9ICQoICIjdGVzdEZvcm0xIiApLnZhbGlkYXRlKCksCgkJbGFzdEFjdGl2ZTsKCglvayggIXYuZmluZExhc3RBY3RpdmUoKSApOwoJdi5mb3JtKCk7Cgl2LmZvY3VzSW52YWxpZCgpOwoJZXF1YWwoIHYuZmluZExhc3RBY3RpdmUoKSwgJCggIiNmaXJzdG5hbWUiIClbIDAgXSApOwoJbGFzdEFjdGl2ZSA9ICQoICIjbGFzdG5hbWUiICkudHJpZ2dlciggImZvY3VzIiApLnRyaWdnZXIoICJmb2N1c2luIiApWyAwIF07CgoJZXF1YWwoIHYubGFzdEFjdGl2ZSwgbGFzdEFjdGl2ZSApOwp9KTsKCnRlc3QoICJ2YWxpZGF0aW5nIG11bHRpcGxlIGNoZWNrYm94ZXMgd2l0aCAncmVxdWlyZWQnIiwgZnVuY3Rpb24oKSB7CglleHBlY3QoIDMgKTsKCXZhciBjaGVja2JveGVzID0gJCggIiNmb3JtIGlucHV0W25hbWU9Y2hlY2szXSIgKS5wcm9wKCAiY2hlY2tlZCIsIGZhbHNlICksCgkJdjsKCWVxdWFsKCBjaGVja2JveGVzLnNpemUoKSwgNSApOwoKCXYgPSAkKCAiI2Zvcm0iICkudmFsaWRhdGUoewoJCXJ1bGVzOiB7CgkJCWNoZWNrMzogInJlcXVpcmVkIgoJCX0KCX0pOwoJdi5mb3JtKCk7CgoJZXF1YWwoIHYuc2l6ZSgpLCAxICk7CgljaGVja2JveGVzLmZpbHRlciggIjpsYXN0IiApLnByb3AoICJjaGVja2VkIiwgdHJ1ZSApOwoJdi5mb3JtKCk7CgllcXVhbCggdi5zaXplKCksIDAgKTsKfSk7Cgp0ZXN0KCAiZHluYW1pYyBmb3JtIiwgZnVuY3Rpb24oKSB7Cgl2YXIgY291bnRlciA9IDAsCgkJdjsKCWZ1bmN0aW9uIGFkZCgpIHsKCQkkKCAiPGlucHV0IGRhdGEtcnVsZS1yZXF1aXJlZD0ndHJ1ZScgbmFtZT0nbGlzdCIgKyBjb3VudGVyKysgKyAiJyAvPiIgKS5hcHBlbmRUbyggIiN0ZXN0Rm9ybTIiICk7Cgl9CglmdW5jdGlvbiBlcnJvcnMoIGV4cGVjdGVkLCBtZXNzYWdlICkgewoJCWVxdWFsKCBleHBlY3RlZCwgdi5zaXplKCksIG1lc3NhZ2UgKTsKCX0KCgl2ID0gJCggIiN0ZXN0Rm9ybTIiICkudmFsaWRhdGUoKTsKCXYuZm9ybSgpOwoJZXJyb3JzKCAxICk7CglhZGQoKTsKCXYuZm9ybSgpOwoJZXJyb3JzKCAyICk7CglhZGQoKTsKCXYuZm9ybSgpOwoJZXJyb3JzKCAzICk7CgkkKCAiI3Rlc3RGb3JtMiBpbnB1dFtuYW1lPWxpc3QxXSIgKS5yZW1vdmUoKTsKCXYuZm9ybSgpOwoJZXJyb3JzKCAyICk7CglhZGQoKTsKCXYuZm9ybSgpOwoJZXJyb3JzKCAzICk7CgkkKCAiI3Rlc3RGb3JtMiBpbnB1dFtuYW1lXj1saXN0XSIgKS5yZW1vdmUoKTsKCXYuZm9ybSgpOwoJZXJyb3JzKCAxICk7CgkkKCAiI2FnYiIgKS5hdHRyKCAiZGlzYWJsZWQiLCB0cnVlICk7Cgl2LmZvcm0oKTsKCWVycm9ycyggMCApOwoJJCggIiNhZ2IiICkuYXR0ciggImRpc2FibGVkIiwgZmFsc2UgKTsKCXYuZm9ybSgpOwoJZXJyb3JzKCAxICk7CgkkKCAiI2FnYiIgKS5hdHRyKCAicmVhZG9ubHkiLCB0cnVlICk7Cgl2LmZvcm0oKTsKCWVycm9ycyggMCApOwoJJCggIiNhZ2IiICkuYXR0ciggInJlYWRvbmx5IiwgZmFsc2UgKTsKCXYuZm9ybSgpOwoJZXJyb3JzKCAxICk7Cn0pOwoKdGVzdCggImlkT3JOYW1lKCkiLCBmdW5jdGlvbigpIHsKCWV4cGVjdCggNCApOwoJdmFyIHYgPSAkKCAiI3Rlc3RGb3JtMSIgKS52YWxpZGF0ZSgpOwoJZXF1YWwoICJmb3JtOGlucHV0Iiwgdi5pZE9yTmFtZSggJCggIiNmb3JtOGlucHV0IiApWyAwIF0gKSApOwoJZXF1YWwoICJjaGVjayIsIHYuaWRPck5hbWUoICQoICIjZm9ybTZjaGVjazEiIClbIDAgXSApICk7CgllcXVhbCggImFncmVlIiwgdi5pZE9yTmFtZSggJCggIiNhZ2IiIClbIDAgXSApICk7CgllcXVhbCggImJ1dHRvbiIsIHYuaWRPck5hbWUoICQoICIjZm9ybSA6YnV0dG9uIiApWyAwIF0gKSApOwp9KTsKCnRlc3QoICJyZXNldEZvcm0oKSIsIGZ1bmN0aW9uKCkgewoJZnVuY3Rpb24gZXJyb3JzKCBleHBlY3RlZCwgbWVzc2FnZSApIHsKCQllcXVhbCggZXhwZWN0ZWQsIHYuc2l6ZSgpLCBtZXNzYWdlICk7Cgl9Cgl2YXIgdiA9ICQoICIjdGVzdEZvcm0xIiApLnZhbGlkYXRlKCk7Cgl2LmZvcm0oKTsKCWVycm9ycyggMiApOwoJJCggIiNmaXJzdG5hbWUiICkudmFsKCAiaGl5IiApOwoJdi5yZXNldEZvcm0oKTsKCWVycm9ycyggMCApOwoJZXF1YWwoICIiLCAkKCAiI2ZpcnN0bmFtZSIgKS52YWwoKSwgImZvcm0gcGx1Z2luIGlzIGluY2x1ZGVkLCB0aGVyZWZvciByZXNldEZvcm0gbXVzdCBhbHNvIHJlc2V0IGlucHV0cywgbm90IG9ubHkgZXJyb3JzIiApOwp9KTsKCnRlc3QoICJtZXNzYWdlIGZyb20gdGl0bGUiLCBmdW5jdGlvbigpIHsKCXZhciB2ID0gJCggIiN3aXRoVGl0bGUiICkudmFsaWRhdGUoKTsKCXYuY2hlY2tGb3JtKCk7CgllcXVhbCggdi5lcnJvckxpc3RbIDAgXS5tZXNzYWdlLCAiZnJvbXRpdGxlIiwgInRpdGxlIG5vdCB1c2VkIiApOwp9KTsKCnRlc3QoICJpZ25vcmVUaXRsZSIsIGZ1bmN0aW9uKCkgewoJdmFyIHYgPSAkKCAiI3dpdGhUaXRsZSIgKS52YWxpZGF0ZSh7IGlnbm9yZVRpdGxlOiB0cnVlIH0pOwoJdi5jaGVja0Zvcm0oKTsKCWVxdWFsKCB2LmVycm9yTGlzdFsgMCBdLm1lc3NhZ2UsICQudmFsaWRhdG9yLm1lc3NhZ2VzLnJlcXVpcmVkLCAidGl0bGUgdXNlZCB3aGVuIGl0IHNob3VsZCBoYXZlIGJlZW4gaWdub3JlZCIgKTsKfSk7Cgphc3luY1Rlc3QoICJhamF4U3VibWl0IiwgZnVuY3Rpb24oKSB7CglleHBlY3QoIDEgKTsKCSQoICIjdXNlciIgKS52YWwoICJQZXRlciIgKTsKCSQoICIjcGFzc3dvcmQiICkudmFsKCAiZm9vYmFyIiApOwoJalF1ZXJ5KCAiI3NpZ251cEZvcm0iICkudmFsaWRhdGUoewoJCXN1Ym1pdEhhbmRsZXI6IGZ1bmN0aW9uKCBmb3JtICkgewoJCQlqUXVlcnkoIGZvcm0gKS5hamF4U3VibWl0KHsKCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKCByZXNwb25zZSApIHsKCQkJCQllcXVhbCggIkhpIFBldGVyLCB3ZWxjb21lIGJhY2suIiwgcmVzcG9uc2UgKTsKCQkJCQlzdGFydCgpOwoJCQkJfQoJCQl9KTsKCQl9Cgl9KTsKCWpRdWVyeSggIiNzaWdudXBGb3JtIiApLnRyaWdnZXJIYW5kbGVyKCAic3VibWl0IiApOwp9KTsKCnRlc3QoICJ2YWxpZGF0aW5nIGdyb3VwcyBzZXR0aW5ncyBwYXJhbWV0ZXIiLCBmdW5jdGlvbigpIHsKCXZhciBmb3JtID0gJCggIjxmb3JtPiIgKSwKCQl2YWxpZGF0ZSA9IGZvcm0udmFsaWRhdGUoewoJCQlncm91cHM6IHsKCQkJCWFycmF5R3JvdXA6IFsgImlucHV0IG9uZSIsICJpbnB1dC10d28iLCAiaW5wdXQgdGhyZWUiIF0sCgkJCQlzdHJpbmdHcm91cDogImlucHV0LWZvdXIgaW5wdXQtZml2ZSBpbnB1dC1zaXgiCgkJCX0KCQl9KTsKCgllcXVhbCggdmFsaWRhdGUuZ3JvdXBzWyAiaW5wdXQgb25lIiBdLCAiYXJyYXlHcm91cCIgKTsKCWVxdWFsKCB2YWxpZGF0ZS5ncm91cHNbICJpbnB1dC10d28iIF0sICJhcnJheUdyb3VwIiApOwoJZXF1YWwoIHZhbGlkYXRlLmdyb3Vwc1sgImlucHV0IHRocmVlIiBdLCAiYXJyYXlHcm91cCIgKTsKCWVxdWFsKCB2YWxpZGF0ZS5ncm91cHNbICJpbnB1dC1mb3VyIiBdLCAic3RyaW5nR3JvdXAiICk7CgllcXVhbCggdmFsaWRhdGUuZ3JvdXBzWyAiaW5wdXQtZml2ZSIgXSwgInN0cmluZ0dyb3VwIiApOwoJZXF1YWwoIHZhbGlkYXRlLmdyb3Vwc1sgImlucHV0LXNpeCIgXSwgInN0cmluZ0dyb3VwIiApOwp9KTsKCnRlc3QoICJieXBhc3NpbmcgdmFsaWRhdGlvbiBvbiBmb3JtIHN1Ym1pc3Npb24iLCBmdW5jdGlvbigpIHsKCXZhciBmb3JtID0gJCggIiNieXBhc3NWYWxpZGF0aW9uIiApLAoJCW5vcm1hbFN1Ym1pc3Npb24gPSAkKCAiZm9ybSNieXBhc3NWYWxpZGF0aW9uIDppbnB1dFtpZD1ub3JtYWxTdWJtaXRdIiApLAoJCWJ5cGFzc1N1Ym1pdFdpdGhDYW5jZWwgPSAkKCAiZm9ybSNieXBhc3NWYWxpZGF0aW9uIDppbnB1dFtpZD1ieXBhc3NTdWJtaXRXaXRoQ2FuY2VsXSIgKSwKCQlieXBhc3NTdWJtaXRXaXRoTm9WYWxpZGF0ZTEgPSAkKCAiZm9ybSNieXBhc3NWYWxpZGF0aW9uIDppbnB1dFtpZD1ieXBhc3NTdWJtaXRXaXRoTm9WYWxpZGF0ZTFdIiApLAoJCWJ5cGFzc1N1Ym1pdFdpdGhOb1ZhbGlkYXRlMiA9ICQoICJmb3JtI2J5cGFzc1ZhbGlkYXRpb24gOmlucHV0W2lkPWJ5cGFzc1N1Ym1pdFdpdGhOb1ZhbGlkYXRlMl0iICksCgkJJHYgPSBmb3JtLnZhbGlkYXRlKHsKCQkJZGVidWc6IHRydWUKCQl9KTsKCglieXBhc3NTdWJtaXRXaXRoQ2FuY2VsLmNsaWNrKCk7CgllcXVhbCgkdi5udW1iZXJPZkludmFsaWRzKCksIDAsICJWYWxpZGF0aW9uIHdhcyBieXBhc3NlZCB1c2luZyBDU1MgJ2NhbmNlbCcgY2xhc3MuIiApOwoJJHYucmVzZXRGb3JtKCk7CgoJYnlwYXNzU3VibWl0V2l0aE5vVmFsaWRhdGUxLmNsaWNrKCk7CgllcXVhbCgkdi5udW1iZXJPZkludmFsaWRzKCksIDAsICJWYWxpZGF0aW9uIHdhcyBieXBhc3NlZCB1c2luZyBibGFuayAnZm9ybW5vdmFsaWRhdGUnIGF0dHJpYnV0ZS4iICk7Cgkkdi5yZXNldEZvcm0oKTsKCglieXBhc3NTdWJtaXRXaXRoTm9WYWxpZGF0ZTIuY2xpY2soKTsKCWVxdWFsKCR2Lm51bWJlck9mSW52YWxpZHMoKSwgMCwgIlZhbGlkYXRpb24gd2FzIGJ5cGFzc2VkIHVzaW5nICdmb3Jtbm92YWxpZGF0ZT1cImZvcm1ub3ZhbGlkYXRlXCInIGF0dHJpYnV0ZS4iICk7Cgkkdi5yZXNldEZvcm0oKTsKCglub3JtYWxTdWJtaXNzaW9uLmNsaWNrKCk7CgllcXVhbCgkdi5udW1iZXJPZkludmFsaWRzKCksIDEsICJWYWxpZGF0aW9uIGZhaWxlZCBjb3JyZWN0bHkiICk7Cn0pOwoKbW9kdWxlKCAibWlzYyIgKTsKCnRlc3QoICJzdWNjZXNzIG9wdGlvbiIsIGZ1bmN0aW9uKCkgewoJZXhwZWN0KCA3ICk7CgllcXVhbCggIiIsICQoICIjZmlyc3RuYW1lIiApLnZhbCgpICk7Cgl2YXIgdiA9ICQoICIjdGVzdEZvcm0xIiApLnZhbGlkYXRlKHsKCQkJc3VjY2VzczogInZhbGlkIgoJCX0pLAoJCWxhYmVsID0gJCggIiN0ZXN0Rm9ybTEgLmVycm9yOm5vdChpbnB1dCkiICk7CgoJb2soIGxhYmVsLmlzKCAiLmVycm9yIiApICk7CglvayggIWxhYmVsLmlzKCAiLnZhbGlkIiApICk7Cgl2LmZvcm0oKTsKCW9rKCBsYWJlbC5pcyggIi5lcnJvciIgKSApOwoJb2soICFsYWJlbC5pcyggIi52YWxpZCIgKSApOwoJJCggIiNmaXJzdG5hbWUiICkudmFsKCAiaGkiICk7Cgl2LmZvcm0oKTsKCW9rKCBsYWJlbC5pcyggIi5lcnJvciIgKSApOwoJb2soIGxhYmVsLmlzKCAiLnZhbGlkIiApICk7Cn0pOwoKdGVzdCggInN1Y2Nlc3Mgb3B0aW9uMiIsIGZ1bmN0aW9uKCkgewoJZXhwZWN0KCA1ICk7CgllcXVhbCggIiIsICQoICIjZmlyc3RuYW1lIiApLnZhbCgpICk7Cgl2YXIgdiA9ICQoICIjdGVzdEZvcm0xIiApLnZhbGlkYXRlKHsKCQkJc3VjY2VzczogInZhbGlkIgoJCX0pLAoJCWxhYmVsID0gJCggIiN0ZXN0Rm9ybTEgLmVycm9yOm5vdChpbnB1dCkiICk7CgoJb2soIGxhYmVsLmlzKCAiLmVycm9yIiApICk7CglvayggIWxhYmVsLmlzKCAiLnZhbGlkIiApICk7CgkkKCAiI2ZpcnN0bmFtZSIgKS52YWwoICJoaSIgKTsKCXYuZm9ybSgpOwoJb2soIGxhYmVsLmlzKCAiLmVycm9yIiApICk7CglvayggbGFiZWwuaXMoICIudmFsaWQiICkgKTsKfSk7Cgp0ZXN0KCAic3VjY2VzcyBvcHRpb24zIiwgZnVuY3Rpb24oKSB7CglleHBlY3QoIDUgKTsKCWVxdWFsKCAiIiwgJCggIiNmaXJzdG5hbWUiICkudmFsKCkgKTsKCSQoICIjZXJyb3JGaXJzdG5hbWUiICkucmVtb3ZlKCk7Cgl2YXIgdiA9ICQoICIjdGVzdEZvcm0xIiApLnZhbGlkYXRlKHsKCQkJc3VjY2VzczogInZhbGlkIgoJCX0pLAoJCWxhYmVsczsKCgllcXVhbCggMCwgJCggIiN0ZXN0Rm9ybTEgLmVycm9yOm5vdChpbnB1dCkiICkuc2l6ZSgpICk7CgkkKCAiI2ZpcnN0bmFtZSIgKS52YWwoICJoaSIgKTsKCXYuZm9ybSgpOwoJbGFiZWxzID0gJCggIiN0ZXN0Rm9ybTEgLmVycm9yOm5vdChpbnB1dCkiICk7CgoJZXF1YWwoIDMsIGxhYmVscy5zaXplKCkgKTsKCW9rKCBsYWJlbHMuZXEoIDAgKS5pcyggIi52YWxpZCIgKSApOwoJb2soICFsYWJlbHMuZXEoIDEgKS5pcyggIi52YWxpZCIgKSApOwp9KTsKCnRlc3QoICJzdWNjZXNzbGlzdCIsIGZ1bmN0aW9uKCkgewoJdmFyIHYgPSAkKCAiI2Zvcm0iICkudmFsaWRhdGUoeyBzdWNjZXNzOiAieHl6IiB9KTsKCXYuZm9ybSgpOwoJZXF1YWwoIDAsIHYuc3VjY2Vzc0xpc3QubGVuZ3RoICk7Cn0pOwoKdGVzdCggInN1Y2Nlc3MgaXNuJ3QgY2FsbGVkIGZvciBvcHRpb25hbCBlbGVtZW50cyB3aXRoIG5vIG90aGVyIHJ1bGVzIiwgZnVuY3Rpb24oKSB7CglleHBlY3QoIDQgKTsKCWVxdWFsKCAiIiwgJCggIiNmaXJzdG5hbWUiICkucmVtb3ZlQXR0ciggImRhdGEtcnVsZS1yZXF1aXJlZCIgKS5yZW1vdmVBdHRyKCAiZGF0YS1ydWxlLW1pbmxlbmd0aCIgKS52YWwoKSApOwoJJCggIiNzb21ldGhpbmciICkucmVtb3ZlKCk7CgkkKCAiI2xhc3RuYW1lIiApLnJlbW92ZSgpOwoJJCggIiNlcnJvckZpcnN0bmFtZSIgKS5yZW1vdmUoKTsKCXZhciB2ID0gJCggIiN0ZXN0Rm9ybTEiICkudmFsaWRhdGUoewoJCXN1Y2Nlc3M6IGZ1bmN0aW9uKCkgewoJCQlvayggZmFsc2UsICJkb24ndCBjYWxsIHN1Y2Nlc3MgZm9yIG9wdGlvbmFsIGVsZW1lbnRzISIgKTsKCQl9LAoJCXJ1bGVzOiB7CgkJCWZpcnN0bmFtZTogeyByZXF1aXJlZDogZmFsc2UgfQoJCX0KCX0pOwoJZXF1YWwoIDAsICQoICIjdGVzdEZvcm0xIC5lcnJvcjpub3QoaW5wdXQpIiApLnNpemUoKSApOwoJdi5mb3JtKCk7CgllcXVhbCggMCwgJCggIiN0ZXN0Rm9ybTEgLmVycm9yOm5vdChpbnB1dCkiICkuc2l6ZSgpICk7CgkkKCAiI2ZpcnN0bmFtZSIgKS52YWxpZCgpOwoJZXF1YWwoIDAsICQoICIjdGVzdEZvcm0xIC5lcnJvcjpub3QoaW5wdXQpIiApLnNpemUoKSApOwp9KTsKCnRlc3QoICJzdWNjZXNzIGlzIGNhbGxlZCBmb3Igb3B0aW9uYWwgZWxlbWVudHMgd2l0aCBvdGhlciBydWxlcyIsIGZ1bmN0aW9uKCkgewoJZXhwZWN0KCAxICk7CgoJJC52YWxpZGF0b3IuYWRkTWV0aG9kKCAiY3VzdG9tMSIsIGZ1bmN0aW9uKCkgewoJCXJldHVybiB0cnVlOwoJfSwgIiIgKTsKCgkkKCAiI3Rlc3RGb3JtMWNsZWFuIiApLnZhbGlkYXRlKHsKCQlzdWNjZXNzOiBmdW5jdGlvbigpIHsKCQkJb2soIHRydWUsICJzdWNjZXNzIGNhbGxlZCBjb3JyZWN0bHkhIiApOwoJCX0sCgkJcnVsZXM6IHsKCQkJZmlyc3RuYW1lYzogewoJCQkJcmVxdWlyZWQ6IGZhbHNlLAoJCQkJY3VzdG9tMTogdHJ1ZQoJCQl9CgkJfQoJfSk7CgoJJCggIiNmaXJzdG5hbWVjIiApLnZhbGlkKCk7CgoJZGVsZXRlICQudmFsaWRhdG9yLm1ldGhvZHMuY3VzdG9tMTsKfSk7Cgp0ZXN0KCAic3VjY2VzcyBjYWxsYmFjayB3aXRoIGVsZW1lbnQiLCBmdW5jdGlvbigpIHsKCWV4cGVjdCggMSApOwoJdmFyIHYgPSAkKCAiI3VzZXJGb3JtIiApLnZhbGlkYXRlKHsKCQlzdWNjZXNzOiBmdW5jdGlvbiggbGFiZWwsIGVsZW1lbnQgKSB7CgkJCWVxdWFsKCBlbGVtZW50LCAkKCAiI3VzZXJuYW1lIiApLmdldCggMCApICk7CgkJfQoJfSk7CgkkKCAiI3VzZXJuYW1lIiApLnZhbCggImhpIiApOwoJdi5mb3JtKCk7Cn0pOwoKdGVzdCggImFsbCBydWxlcyBhcmUgZXZhbHVhdGVkIGV2ZW4gaWYgb25lIHJldHVybnMgYSBkZXBlbmRlbmN5LW1pc3RtYXRjaCIsIGZ1bmN0aW9uKCkgewoJZXhwZWN0KCA2ICk7CgllcXVhbCggIiIsICQoICIjZmlyc3RuYW1lIiApLnJlbW92ZUF0dHIoICJkYXRhLXJ1bGUtcmVxdWlyZWQiICkucmVtb3ZlQXR0ciggImRhdGEtcnVsZS1taW5sZW5ndGgiICkudmFsKCkgKTsKCSQoICIjbGFzdG5hbWUiICkucmVtb3ZlKCk7CgkkKCAiI2Vycm9yRmlyc3RuYW1lIiApLnJlbW92ZSgpOwoJJC52YWxpZGF0b3IuYWRkTWV0aG9kKCAiY3VzdG9tMSIsIGZ1bmN0aW9uKCkgewoJCW9rKCB0cnVlLCAiY3VzdG9tIG1ldGhvZCBtdXN0IGJlIGV2YWx1YXRlZCIgKTsKCQlyZXR1cm4gdHJ1ZTsKCX0sICIiICk7Cgl2YXIgdiA9ICQoICIjdGVzdEZvcm0xIiApLnZhbGlkYXRlKHsKCQlydWxlczogewoJCQlmaXJzdG5hbWU6IHsKCQkJCWVtYWlsOiB0cnVlLAoJCQkJY3VzdG9tMTogdHJ1ZQoJCQl9CgkJfQoJfSk7CgllcXVhbCggMCwgJCggIiN0ZXN0Rm9ybTEgLmVycm9yOm5vdChpbnB1dCkiICkuc2l6ZSgpICk7Cgl2LmZvcm0oKTsKCWVxdWFsKCAwLCAkKCAiI3Rlc3RGb3JtMSAuZXJyb3I6bm90KGlucHV0KSIgKS5zaXplKCkgKTsKCSQoICIjZmlyc3RuYW1lIiApLnZhbGlkKCk7CgllcXVhbCggMCwgJCggIiN0ZXN0Rm9ybTEgLmVycm9yOm5vdChpbnB1dCkiICkuc2l6ZSgpICk7CgoJZGVsZXRlICQudmFsaWRhdG9yLm1ldGhvZHMuY3VzdG9tMTsKCWRlbGV0ZSAkLnZhbGlkYXRvci5tZXNzYWdlcy5jdXN0b20xOwp9KTsKCnRlc3QoICJtZXNzYWdlcyIsIGZ1bmN0aW9uKCkgewoJdmFyIG0gPSBqUXVlcnkudmFsaWRhdG9yLm1lc3NhZ2VzOwoJZXF1YWwoICJQbGVhc2UgZW50ZXIgbm8gbW9yZSB0aGFuIDAgY2hhcmFjdGVycy4iLCBtLm1heGxlbmd0aCggMCApICk7CgllcXVhbCggIlBsZWFzZSBlbnRlciBhdCBsZWFzdCAxIGNoYXJhY3RlcnMuIiwgbS5taW5sZW5ndGgoIDEgKSApOwoJZXF1YWwoICJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBiZXR3ZWVuIDEgYW5kIDIgY2hhcmFjdGVycyBsb25nLiIsIG0ucmFuZ2VsZW5ndGgoIFsgMSwgMiBdICkgKTsKCWVxdWFsKCAiUGxlYXNlIGVudGVyIGEgdmFsdWUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDEuIiwgbS5tYXgoIDEgKSApOwoJZXF1YWwoICJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMC4iLCBtLm1pbiggMCApICk7CgllcXVhbCggIlBsZWFzZSBlbnRlciBhIHZhbHVlIGJldHdlZW4gMSBhbmQgMi4iLCBtLnJhbmdlKCBbIDEsIDIgXSApICk7Cn0pOwoKdGVzdCggImpRdWVyeS52YWxpZGF0b3IuZm9ybWF0IiwgZnVuY3Rpb24oKSB7CgllcXVhbCgKCQkiUGxlYXNlIGVudGVyIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLiIsCgkJalF1ZXJ5LnZhbGlkYXRvci5mb3JtYXQoICJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBiZXR3ZWVuIHswfSBhbmQgezF9LiIsIDAsIDEgKQoJKTsKCWVxdWFsKAoJCSIwIGlzIHRvbyBmYXN0ISBFbnRlciBhIHZhbHVlIHNtYWxsZXIgdGhlbiAwIGFuZCBhdCBsZWFzdCAtMTUiLAoJCWpRdWVyeS52YWxpZGF0b3IuZm9ybWF0KCAiezB9IGlzIHRvbyBmYXN0ISBFbnRlciBhIHZhbHVlIHNtYWxsZXIgdGhlbiB7MH0gYW5kIGF0IGxlYXN0IHsxfSIsIDAsIC0xNSApCgkpOwoJdmFyIHRlbXBsYXRlID0galF1ZXJ5LnZhbGlkYXRvci5mb3JtYXQoICJ7MH0gaXMgdG9vIGZhc3QhIEVudGVyIGEgdmFsdWUgc21hbGxlciB0aGVuIHswfSBhbmQgYXQgbGVhc3QgezF9IiApOwoJZXF1YWwoICIwIGlzIHRvbyBmYXN0ISBFbnRlciBhIHZhbHVlIHNtYWxsZXIgdGhlbiAwIGFuZCBhdCBsZWFzdCAtMTUiLCB0ZW1wbGF0ZSggMCwgLTE1ICkgKTsKCXRlbXBsYXRlID0galF1ZXJ5LnZhbGlkYXRvci5mb3JtYXQoICJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBiZXR3ZWVuIHswfSBhbmQgezF9LiIgKTsKCWVxdWFsKCAiUGxlYXNlIGVudGVyIGEgdmFsdWUgYmV0d2VlbiAxIGFuZCAyLiIsIHRlbXBsYXRlKCBbIDEsIDIgXSApICk7CgllcXVhbCggJC52YWxpZGF0b3IuZm9ybWF0KCAiezB9IiwgIiQwIiApLCAiJDAiICk7Cn0pOwoKdGVzdCggIm9wdGlvbjogaWdub3JlIiwgZnVuY3Rpb24oKSB7Cgl2YXIgdiA9ICQoICIjdGVzdEZvcm0xIiApLnZhbGlkYXRlKHsKCQlpZ25vcmU6ICJbbmFtZT1sYXN0bmFtZV0iCgl9KTsKCXYuZm9ybSgpOwoJZXF1YWwoIDEsIHYuc2l6ZSgpICk7Cn0pOwoKdGVzdCggIm9wdGlvbjogc3ViZm9ybVJlcXVpcmVkIiwgZnVuY3Rpb24oKSB7CglqUXVlcnkudmFsaWRhdG9yLmFkZE1ldGhvZCggImJpbGxpbmdSZXF1aXJlZCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHsKCQlpZiAoJCggIiNiaWxsX3RvX2NvIiApLmlzKCAiOmNoZWNrZWQiICkpIHsKCQkJcmV0dXJuICQoIGVsZW1lbnQgKS5wYXJlbnRzKCAiI3N1YmZvcm0iICkubGVuZ3RoOwoJCX0KCQlyZXR1cm4gIXRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKTsKCX0sICIiICk7Cgl2YXIgdiA9ICQoICIjc3ViZm9ybVJlcXVpcmVkIiApLnZhbGlkYXRlKCk7Cgl2LmZvcm0oKTsKCWVxdWFsKCAxLCB2LnNpemUoKSApOwoJJCggIiNiaWxsX3RvX2NvIiApLmF0dHIoICJjaGVja2VkIiwgZmFsc2UgKTsKCXYuZm9ybSgpOwoJZXF1YWwoIDIsIHYuc2l6ZSgpICk7CgoJZGVsZXRlICQudmFsaWRhdG9yLm1ldGhvZHMuYmlsbGluZ1JlcXVpcmVkOwoJZGVsZXRlICQudmFsaWRhdG9yLm1lc3NhZ2VzLmJpbGxpbmdSZXF1aXJlZDsKfSk7Cgptb2R1bGUoICJleHByZXNzaW9ucyIgKTsKCnRlc3QoICJleHByZXNzaW9uOiA6YmxhbmsiLCBmdW5jdGlvbigpIHsKCXZhciBlID0gJCggIiNsYXN0bmFtZSIgKVsgMCBdOwoJZXF1YWwoIDEsICQoIGUgKS5maWx0ZXIoICI6YmxhbmsiICkubGVuZ3RoICk7CgllLnZhbHVlID0gIiAiOwoJZXF1YWwoIDEsICQoIGUgKS5maWx0ZXIoICI6YmxhbmsiICkubGVuZ3RoICk7CgllLnZhbHVlID0gIiAgICI7CgllcXVhbCggMSwgJCggZSApLmZpbHRlciggIjpibGFuayIgKS5sZW5ndGggKTsKCWUudmFsdWUgPSAiIGEgIjsKCWVxdWFsKCAwLCAkKCBlICkuZmlsdGVyKCAiOmJsYW5rIiApLmxlbmd0aCApOwp9KTsKCnRlc3QoICJleHByZXNzaW9uOiA6ZmlsbGVkIiwgZnVuY3Rpb24oKSB7Cgl2YXIgZSA9ICQoICIjbGFzdG5hbWUiIClbIDAgXTsKCWVxdWFsKCAwLCAkKCBlICkuZmlsdGVyKCAiOmZpbGxlZCIgKS5sZW5ndGggKTsKCWUudmFsdWUgPSAiICI7CgllcXVhbCggMCwgJCggZSApLmZpbHRlciggIjpmaWxsZWQiICkubGVuZ3RoICk7CgllLnZhbHVlID0gIiAgICI7CgllcXVhbCggMCwgJCggZSApLmZpbHRlciggIjpmaWxsZWQiICkubGVuZ3RoICk7CgllLnZhbHVlID0gIiBhICI7CgllcXVhbCggMSwgJCggZSApLmZpbHRlciggIjpmaWxsZWQiICkubGVuZ3RoICk7Cn0pOwoKdGVzdCggImV4cHJlc3Npb246IDp1bmNoZWNrZWQiLCBmdW5jdGlvbigpIHsKCXZhciBlID0gJCggIiNjaGVjazIiIClbIDAgXTsKCWVxdWFsKCAxLCAkKCBlICkuZmlsdGVyKCAiOnVuY2hlY2tlZCIgKS5sZW5ndGggKTsKCWUuY2hlY2tlZCA9IHRydWU7CgllcXVhbCggMCwgJCggZSApLmZpbHRlciggIjp1bmNoZWNrZWQiICkubGVuZ3RoICk7CgllLmNoZWNrZWQgPSBmYWxzZTsKCWVxdWFsKCAxLCAkKCBlICkuZmlsdGVyKCAiOnVuY2hlY2tlZCIgKS5sZW5ndGggKTsKfSk7Cgptb2R1bGUoICJldmVudHMiICk7Cgp0ZXN0KCAidmFsaWRhdGUgb24gYmx1ciIsIGZ1bmN0aW9uKCkgewoJZnVuY3Rpb24gZXJyb3JzKCBleHBlY3RlZCwgbWVzc2FnZSApIHsKCQllcXVhbCggdi5zaXplKCksIGV4cGVjdGVkLCBtZXNzYWdlICk7Cgl9CglmdW5jdGlvbiBsYWJlbHMoIGV4cGVjdGVkICkgewoJCWVxdWFsKCB2LmVycm9ycygpLmZpbHRlciggIjp2aXNpYmxlIiApLnNpemUoKSwgZXhwZWN0ZWQgKTsKCX0KCWZ1bmN0aW9uIGJsdXIoIHRhcmdldCApIHsKCQl0YXJnZXQudHJpZ2dlciggImJsdXIiICkudHJpZ2dlciggImZvY3Vzb3V0IiApOwoJfQoJJCggIiNlcnJvckZpcnN0bmFtZSIgKS5oaWRlKCk7Cgl2YXIgZSA9ICQoICIjZmlyc3RuYW1lIiApLAoJCXYgPSAkKCAiI3Rlc3RGb3JtMSIgKS52YWxpZGF0ZSgpOwoKCSQoICIjc29tZXRoaW5nIiApLnZhbCggIiIgKTsKCWJsdXIoIGUgKTsKCWVycm9ycyggMCwgIk5vIHZhbHVlIHlldCwgcmVxdWlyZWQgaXMgc2tpcHBlZCBvbiBibHVyIiApOwoJbGFiZWxzKCAwICk7CgllLnZhbCggImgiICk7CglibHVyKCBlICk7CgllcnJvcnMoIDEsICJSZXF1aXJlZCB3YXMgaWdub3JlZCwgYnV0IGFzIHNvbWV0aGluZyB3YXMgZW50ZXJlZCwgY2hlY2sgb3RoZXIgcnVsZXMsIG1pbmxlbmd0aCBpc24ndCBtZXQiICk7CglsYWJlbHMoIDEgKTsKCWUudmFsKCAiaGgiICk7CglibHVyKCBlICk7CgllcnJvcnMoIDAsICJBbGwgaXMgZmluZSIgKTsKCWxhYmVscyggMCApOwoJZS52YWwoICIiICk7Cgl2LmZvcm0oKTsKCWVycm9ycyggMywgIlN1Ym1pdCBjaGVja3MgYWxsIHJ1bGVzLCBib3RoIGZpZWxkcyBpbnZhbGlkIiApOwoJbGFiZWxzKCAzICk7CglibHVyKCBlICk7CgllcnJvcnMoIDEsICJCbHVycmluZyB0aGUgZmllbGQgcmVzdWx0cyBpbiBlbXB0eWluZyB0aGUgZXJyb3IgbGlzdCBmaXJzdCwgdGhlbiBjaGVja2luZyB0aGUgaW52YWxpZCBmaWVsZDogaXRzIHN0aWxsIGludmFsaWQsIGRvbid0IHJlbW92ZSB0aGUgZXJyb3IiICk7CglsYWJlbHMoIDMgKTsKCWUudmFsKCAiaCIgKTsKCWJsdXIoIGUgKTsKCWVycm9ycyggMSwgIkVudGVyaW5nIGEgc2luZ2xlIGNoYXJhY3RlciBmdWxmaWxscyByZXF1aXJlZCwgYnV0IG5vdCBtaW5sZW5ndGg6IDIsIHN0aWxsIGludmFsaWQiICk7CglsYWJlbHMoIDMgKTsKCWUudmFsKCAiaGgiICk7CglibHVyKCBlICk7CgllcnJvcnMoIDAsICJCb3RoIHJlcXVpcmVkIGFuZCBtaW5sZW5ndGggYXJlIG1ldCwgbm8gZXJyb3JzIGxlZnQiICk7CglsYWJlbHMoIDIgKTsKfSk7Cgp0ZXN0KCAidmFsaWRhdGUgb24ga2V5dXAiLCBmdW5jdGlvbigpIHsKCWZ1bmN0aW9uIGVycm9ycyggZXhwZWN0ZWQsIG1lc3NhZ2UgKSB7CgkJZXF1YWwoIGV4cGVjdGVkLCB2LnNpemUoKSwgbWVzc2FnZSApOwoJfQoJZnVuY3Rpb24ga2V5dXAoIHRhcmdldCApIHsKCQl0YXJnZXQudHJpZ2dlciggImtleXVwIiApOwoJfQoJdmFyIGUgPSAkKCAiI2ZpcnN0bmFtZSIgKSwKCQl2ID0gJCggIiN0ZXN0Rm9ybTEiICkudmFsaWRhdGUoKTsKCglrZXl1cCggZSApOwoJZXJyb3JzKCAwLCAiTm8gdmFsdWUsIG5vIGVycm9ycyIgKTsKCWUudmFsKCAiYSIgKTsKCWtleXVwKCBlICk7CgllcnJvcnMoIDAsICJWYWx1ZSwgYnV0IG5vdCBpbnZhbGlkIiApOwoJZS52YWwoICIiICk7Cgl2LmZvcm0oKTsKCWVycm9ycyggMiwgIkJvdGggaW52YWxpZCIgKTsKCWtleXVwKCBlICk7CgllcnJvcnMoIDEsICJPbmx5IG9uZSBmaWVsZCB2YWxpZGF0ZWQsIHN0aWxsIGludmFsaWQiICk7CgllLnZhbCggImhoIiApOwoJa2V5dXAoIGUgKTsKCWVycm9ycyggMCwgIk5vdCBpbnZhbGlkIGFueW1vcmUiICk7CgllLnZhbCggImgiICk7CglrZXl1cCggZSApOwoJZXJyb3JzKCAxLCAiRmllbGQgZGlkbid0IGxvb3NlIGZvY3VzLCBzbyB2YWxpZGF0ZSBhZ2FpbiwgaW52YWxpZCIgKTsKCWUudmFsKCAiaGgiICk7CglrZXl1cCggZSApOwoJZXJyb3JzKCAwLCAiVmFsaWQiICk7Cn0pOwoKdGVzdCggInZhbGlkYXRlIG9uIG5vdCBrZXl1cCwgb25seSBibHVyIiwgZnVuY3Rpb24oKSB7CglmdW5jdGlvbiBlcnJvcnMoIGV4cGVjdGVkLCBtZXNzYWdlICkgewoJCWVxdWFsKCBleHBlY3RlZCwgdi5zaXplKCksIG1lc3NhZ2UgKTsKCX0KCXZhciBlID0gJCggIiNmaXJzdG5hbWUiICksCgkJdiA9ICQoICIjdGVzdEZvcm0xIiApLnZhbGlkYXRlKHsKCQkJb25rZXl1cDogZmFsc2UKCQl9KTsKCgllcnJvcnMoIDAgKTsKCWUudmFsKCAiYSIgKTsKCWUudHJpZ2dlciggImtleXVwIiApOwoJZS5rZXl1cCgpOwoJZXJyb3JzKCAwICk7CgllLnRyaWdnZXIoICJibHVyIiApLnRyaWdnZXIoICJmb2N1c291dCIgKTsKCWVycm9ycyggMSApOwp9KTsKCnRlc3QoICJ2YWxpZGF0ZSBvbiBrZXl1cCBhbmQgYmx1ciIsIGZ1bmN0aW9uKCkgewoJZnVuY3Rpb24gZXJyb3JzKCBleHBlY3RlZCwgbWVzc2FnZSApIHsKCQllcXVhbCggZXhwZWN0ZWQsIHYuc2l6ZSgpLCBtZXNzYWdlICk7Cgl9Cgl2YXIgZSA9ICQoICIjZmlyc3RuYW1lIiApLAoJCXYgPSAkKCAiI3Rlc3RGb3JtMSIgKS52YWxpZGF0ZSgpOwoKCWVycm9ycyggMCApOwoJZS52YWwoICJhIiApOwoJZS50cmlnZ2VyKCAia2V5dXAiICk7CgllcnJvcnMoIDAgKTsKCWUudHJpZ2dlciggImJsdXIiICkudHJpZ2dlciggImZvY3Vzb3V0IiApOwoJZXJyb3JzKCAxICk7Cn0pOwoKdGVzdCggInZhbGlkYXRlIGVtYWlsIG9uIGtleXVwIGFuZCBibHVyIiwgZnVuY3Rpb24oKSB7CglmdW5jdGlvbiBlcnJvcnMoIGV4cGVjdGVkLCBtZXNzYWdlICkgewoJCWVxdWFsKCBleHBlY3RlZCwgdi5zaXplKCksIG1lc3NhZ2UgKTsKCX0KCXZhciBlID0gJCggIiNmaXJzdG5hbWUiICksCgkJdiA9ICQoICIjdGVzdEZvcm0xIiApLnZhbGlkYXRlKCk7CgoJdi5mb3JtKCk7CgllcnJvcnMoIDIgKTsKCWUudmFsKCAiYSIgKTsKCWUudHJpZ2dlciggImtleXVwIiApOwoJZXJyb3JzKCAxICk7CgllLnZhbCggImFhIiApOwoJZS50cmlnZ2VyKCAia2V5dXAiICk7CgllcnJvcnMoIDAgKTsKfSk7Cgp0ZXN0KCAidmFsaWRhdGUgY2hlY2tib3ggb24gY2xpY2siLCBmdW5jdGlvbigpIHsKCWZ1bmN0aW9uIGVycm9ycyggZXhwZWN0ZWQsIG1lc3NhZ2UgKSB7CgkJZXF1YWwoIGV4cGVjdGVkLCB2LnNpemUoKSwgbWVzc2FnZSApOwoJfQoJZnVuY3Rpb24gdHJpZ2dlciggZWxlbWVudCApIHsKCQllbGVtZW50LmNsaWNrKCk7CgkJLy8gdHJpZ2dlcmVkIGNsaWNrIGV2ZW50IHNjcmV3cyB1cCBjaGVja2VkLXN0YXRlIGluIDEuNAoJCWVsZW1lbnQudmFsaWQoKTsKCX0KCXZhciBlID0gJCggIiNjaGVjazIiICksCgkJdiA9ICQoICIjZm9ybSIgKS52YWxpZGF0ZSh7CgkJCXJ1bGVzOiB7CgkJCQljaGVjazI6ICJyZXF1aXJlZCIKCQkJfQoJCX0pOwoKCXRyaWdnZXIoIGUgKTsKCWVycm9ycyggMCApOwoJdHJpZ2dlciggZSApOwoJZXF1YWwoIGZhbHNlLCB2LmZvcm0oKSApOwoJZXJyb3JzKCAxICk7Cgl0cmlnZ2VyKCBlICk7CgllcnJvcnMoIDAgKTsKCXRyaWdnZXIoIGUgKTsKCWVycm9ycyggMSApOwp9KTsKCnRlc3QoICJ2YWxpZGF0ZSBtdWx0aXBsZSBjaGVja2JveCBvbiBjbGljayIsIGZ1bmN0aW9uKCkgewoJZnVuY3Rpb24gZXJyb3JzKCBleHBlY3RlZCwgbWVzc2FnZSApIHsKCQllcXVhbCggZXhwZWN0ZWQsIHYuc2l6ZSgpLCBtZXNzYWdlICk7Cgl9CglmdW5jdGlvbiB0cmlnZ2VyKCBlbGVtZW50ICkgewoJCWVsZW1lbnQuY2xpY2soKTsKCQkvLyB0cmlnZ2VyZWQgY2xpY2sgZXZlbnQgc2NyZXdzIHVwIGNoZWNrZWQtc3RhdGUgaW4gMS40CgkJZWxlbWVudC52YWxpZCgpOwoJfQoJdmFyIGUxID0gJCggIiNjaGVjazEiICkuYXR0ciggImNoZWNrZWQiLCBmYWxzZSApLAoJCWUyID0gJCggIiNjaGVjazFiIiApLAoJCXYgPSAkKCAiI2Zvcm0iICkudmFsaWRhdGUoewoJCQlydWxlczogewoJCQkJY2hlY2s6IHsKCQkJCQlyZXF1aXJlZDogdHJ1ZSwKCQkJCQltaW5sZW5ndGg6IDIKCQkJCX0KCQkJfQoJCX0pOwoKCXRyaWdnZXIoIGUxICk7Cgl0cmlnZ2VyKCBlMiApOwoJZXJyb3JzKCAwICk7Cgl0cmlnZ2VyKCBlMiApOwoJZXF1YWwoIGZhbHNlLCB2LmZvcm0oKSApOwoJZXJyb3JzKCAxICk7Cgl0cmlnZ2VyKCBlMiApOwoJZXJyb3JzKCAwICk7Cgl0cmlnZ2VyKCBlMiApOwoJZXJyb3JzKCAxICk7Cn0pOwoKdGVzdCggImNvcnJlY3QgY2hlY2tib3ggcmVjZWl2ZXMgdGhlIGVycm9yIiwgZnVuY3Rpb24oKSB7CglmdW5jdGlvbiB0cmlnZ2VyKCBlbGVtZW50ICkgewoJCWVsZW1lbnQuY2xpY2soKTsKCQkvLyB0cmlnZ2VyZWQgY2xpY2sgZXZlbnQgc2NyZXdzIHVwIGNoZWNrZWQtc3RhdGUgaW4gMS40CgkJZWxlbWVudC52YWxpZCgpOwoJfQoJdmFyIGUxID0gJCggIiNjaGVjazEiICkuYXR0ciggImNoZWNrZWQiLCBmYWxzZSApLAoJCXY7CgoJJCggIiNjaGVjazFiIiApLmF0dHIoICJjaGVja2VkIiwgZmFsc2UgKTsKCXYgPSAkKCAiI2Zvcm0iICkuZmluZCggIlt0eXBlPWNoZWNrYm94XSIgKS5hdHRyKCAiY2hlY2tlZCIsIGZhbHNlICkuZW5kKCkudmFsaWRhdGUoewoJCXJ1bGVzOiB7CgkJCWNoZWNrOiB7CgkJCQlyZXF1aXJlZDogdHJ1ZSwKCQkJCW1pbmxlbmd0aDogMgoJCQl9CgkJfQoJfSk7CgoJZXF1YWwoIGZhbHNlLCB2LmZvcm0oKSk7Cgl0cmlnZ2VyKCBlMSApOwoJZXF1YWwoIGZhbHNlLCB2LmZvcm0oKSk7Cglvayggdi5lcnJvckxpc3RbIDAgXS5lbGVtZW50LmlkID09PSB2LmN1cnJlbnRFbGVtZW50c1sgMCBdLmlkLCAidGhlIHByb3BlciBjaGVja2JveCBoYXMgdGhlIGVycm9yIEFORCBpcyBwcmVzZW50IGluIGN1cnJlbnRFbGVtZW50cyIgKTsKfSk7Cgp0ZXN0KCAidmFsaWRhdGUgcmFkaW8gb24gY2xpY2siLCBmdW5jdGlvbigpIHsKCWZ1bmN0aW9uIGVycm9ycyggZXhwZWN0ZWQsIG1lc3NhZ2UgKSB7CgkJZXF1YWwoIGV4cGVjdGVkLCB2LnNpemUoKSwgbWVzc2FnZSApOwoJfQoJZnVuY3Rpb24gdHJpZ2dlciggZWxlbWVudCApIHsKCQllbGVtZW50LmNsaWNrKCk7CgkJLy8gdHJpZ2dlcmVkIGNsaWNrIGV2ZW50IHNjcmV3cyB1cCBjaGVja2VkLXN0YXRlIGluIDEuNAoJCWVsZW1lbnQudmFsaWQoKTsKCX0KCXZhciBlMSA9ICQoICIjcmFkaW8xIiApLAoJCWUyID0gJCggIiNyYWRpbzFhIiApLAoJCXYgPSAkKCAiI2Zvcm0iICkudmFsaWRhdGUoewoJCQlydWxlczogewoJCQkJcmFkaW8xOiAicmVxdWlyZWQiCgkJCX0KCQl9KTsKCgllcnJvcnMoIDAgKTsKCWVxdWFsKCBmYWxzZSwgdi5mb3JtKCkgKTsKCWVycm9ycyggMSApOwoJdHJpZ2dlciggZTIgKTsKCWVycm9ycyggMCApOwoJdHJpZ2dlciggZTEgKTsKCWVycm9ycyggMCApOwp9KTsKCnRlc3QoICJ2YWxpZGF0ZSBpbnB1dCB3aXRoIG5vIHR5cGUgYXR0cmlidXRlLCBkZWZhdWx0aW5nIHRvIHRleHQiLCBmdW5jdGlvbigpIHsKCWZ1bmN0aW9uIGVycm9ycyggZXhwZWN0ZWQsIG1lc3NhZ2UgKSB7CgkJZXF1YWwoIGV4cGVjdGVkLCB2LnNpemUoKSwgbWVzc2FnZSApOwoJfQoJdmFyIHYgPSAkKCAiI3Rlc3RGb3JtMTIiICkudmFsaWRhdGUoKSwKCQllID0gJCggIiN0ZXN0Rm9ybTEydGV4dCIgKTsKCgllcnJvcnMoIDAgKTsKCWUudmFsaWQoKTsKCWVycm9ycyggMSApOwoJZS52YWwoICJ0ZXN0IiApOwoJZS50cmlnZ2VyKCAia2V5dXAiICk7CgllcnJvcnMoIDAgKTsKfSk7Cgp0ZXN0KCAiaWdub3JlIGhpZGRlbiBlbGVtZW50cyIsIGZ1bmN0aW9uKCkgewoJdmFyIGZvcm0gPSAkKCAiI3VzZXJGb3JtIiApLAoJCXZhbGlkYXRlID0gZm9ybS52YWxpZGF0ZSh7CgkJCXJ1bGVzOiB7CgkJCQkidXNlcm5hbWUiOiAicmVxdWlyZWQiCgkJCX0KCQl9KTsKCglmb3JtLmdldCggMCApLnJlc2V0KCk7CglvayggIXZhbGlkYXRlLmZvcm0oKSwgImZvcm0gc2hvdWxkIGJlIGluaXRpYWxseSBpbnZhbGlkIiApOwoJJCggIiN1c2VyRm9ybSBbbmFtZT11c2VybmFtZV0iICkuaGlkZSgpOwoJb2soIHZhbGlkYXRlLmZvcm0oKSwgImhpZGRlbiBlbGVtZW50cyBzaG91bGQgYmUgaWdub3JlZCBieSBkZWZhdWx0IiApOwp9KTsKCnRlc3QoICJpZ25vcmUgaGlkZGVuIGVsZW1lbnRzIGF0IHN0YXJ0IiwgZnVuY3Rpb24oKSB7Cgl2YXIgZm9ybSA9ICQoICIjdXNlckZvcm0iICksCgkJdmFsaWRhdGUgPSBmb3JtLnZhbGlkYXRlKHsKCQkJcnVsZXM6IHsKCQkJCSJ1c2VybmFtZSI6ICJyZXF1aXJlZCIKCQkJfQoJCX0pOwoKCWZvcm0uZ2V0KCAwICkucmVzZXQoKTsKCSQoICIjdXNlckZvcm0gW25hbWU9dXNlcm5hbWVdIiApLmhpZGUoKTsKCW9rKCB2YWxpZGF0ZS5mb3JtKCksICJoaWRkZW4gZWxlbWVudHMgc2hvdWxkIGJlIGlnbm9yZWQgYnkgZGVmYXVsdCIgKTsKCSQoICIjdXNlckZvcm0gW25hbWU9dXNlcm5hbWVdIiApLnNob3coKTsKCW9rKCAhdmFsaWRhdGUuZm9ybSgpLCAiZm9ybSBzaG91bGQgYmUgaW52YWxpZCB3aGVuIHJlcXVpcmVkIGVsZW1lbnQgaXMgdmlzaWJsZSIgKTsKfSk7Cgp0ZXN0KCAiU3BlY2lmeSBlcnJvciBtZXNzYWdlcyB0aHJvdWdoIGRhdGEgYXR0cmlidXRlcyIsIGZ1bmN0aW9uKCkgewoJdmFyIGZvcm0gPSAkKCAiI2RhdGFNZXNzYWdlcyIgKSwKCQluYW1lID0gJCggIiNkYXRhTWVzc2FnZXNOYW1lIiApLAoJCWxhYmVsOwoKCWZvcm0udmFsaWRhdGUoKTsKCglmb3JtLmdldCggMCApLnJlc2V0KCk7CgluYW1lLnZhbGlkKCk7CgoJbGFiZWwgPSAkKCAiI2RhdGFNZXNzYWdlcyAuZXJyb3I6bm90KGlucHV0KSIgKTsKCWVxdWFsKCBsYWJlbC50ZXh0KCksICJZb3UgbXVzdCBlbnRlciBhIHZhbHVlIGhlcmUiLCAiQ29ycmVjdCBlcnJvciBsYWJlbCIgKTsKfSk7Cgp0ZXN0KCAiVXBkYXRlcyBwcmUtZXhpc3RpbmcgbGFiZWwgaWYgaGFzIGVycm9yIGNsYXNzIiwgZnVuY3Rpb24oKSB7Cgl2YXIgZm9ybSA9ICQoICIjdXBkYXRlTGFiZWwiICksCgkJaW5wdXQgPSAkKCAiI3VwZGF0ZUxhYmVsSW5wdXQiICksCgkJbGFiZWwgPSAkKCAiI3RhcmdldExhYmVsIiApLAoJCWxhYmVsc0JlZm9yZSA9IGZvcm0uZmluZCggIi5lcnJvcjpub3QoaW5wdXQpIiApLmxlbmd0aCwKCQlsYWJlbHNBZnRlcjsKCglmb3JtLnZhbGlkYXRlKCk7CglpbnB1dC52YWwoICIiICk7CglpbnB1dC52YWxpZCgpOwoJbGFiZWxzQWZ0ZXIgPSBmb3JtLmZpbmQoICIuZXJyb3I6bm90KGlucHV0KSIgKS5sZW5ndGg7CgoJLy8gbGFiZWwgd2FzIHVwZGF0ZWQKCWVxdWFsKCBsYWJlbC50ZXh0KCksIGlucHV0LmF0dHIoICJkYXRhLW1zZy1yZXF1aXJlZCIgKSApOwoJLy8gbmV3IGxhYmVsIHdhc24ndCBjcmVhdGVkCgllcXVhbCggbGFiZWxzQmVmb3JlLCBsYWJlbHNBZnRlciApOwp9KTsKCnRlc3QoICJNaW4gZGF0ZSBzZXQgYnkgYXR0cmlidXRlIiwgZnVuY3Rpb24oKSB7Cgl2YXIgZm9ybSA9ICQoICIjcmFuZ2VzTWluRGF0ZUludmFsaWQiICksCgkJbmFtZSA9ICQoICIjbWluRGF0ZUludmFsaWQiICksCgkJbGFiZWw7CgoJZm9ybS52YWxpZGF0ZSgpOwoJZm9ybS5nZXQoIDAgKS5yZXNldCgpOwoJbmFtZS52YWxpZCgpOwoKCWxhYmVsID0gJCggIiNyYW5nZXNNaW5EYXRlSW52YWxpZCAuZXJyb3I6bm90KGlucHV0KSIgKTsKCWVxdWFsKCBsYWJlbC50ZXh0KCksICJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMjAxMi0xMi0yMS4iLCAiQ29ycmVjdCBlcnJvciBsYWJlbCIgKTsKfSk7Cgp0ZXN0KCAiTWF4IGRhdGUgc2V0IGJ5IGF0dHJpYnV0ZSIsIGZ1bmN0aW9uKCkgewoJdmFyIGZvcm0gPSAkKCAiI3JhbmdlcyIgKSwKCQluYW1lID0gJCggIiNtYXhEYXRlSW52YWxpZCIgKSwKCQlsYWJlbDsKCglmb3JtLnZhbGlkYXRlKCk7Cglmb3JtLmdldCggMCApLnJlc2V0KCk7CgluYW1lLnZhbGlkKCk7CgoJbGFiZWwgPSAkKCAiI3JhbmdlcyAuZXJyb3I6bm90KGlucHV0KSIgKTsKCWVxdWFsKCBsYWJlbC50ZXh0KCksICJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gMjAxMi0xMi0yMS4iLCAiQ29ycmVjdCBlcnJvciBsYWJlbCIgKTsKfSk7Cgp0ZXN0KCAiTWluIGFuZCBNYXggZGF0ZSBzZXQgYnkgYXR0cmlidXRlcyBncmVhdGVyIiwgZnVuY3Rpb24oKSB7Cgl2YXIgZm9ybSA9ICQoICIjcmFuZ2VzIiApLAoJCW5hbWUgPSAkKCAiI3JhbmdlRGF0ZUludmFsaWRHcmVhdGVyIiApLAoJCWxhYmVsOwoKCWZvcm0udmFsaWRhdGUoKTsKCWZvcm0uZ2V0KCAwICkucmVzZXQoKTsKCW5hbWUudmFsaWQoKTsKCglsYWJlbCA9ICQoICIjcmFuZ2VzIC5lcnJvcjpub3QoaW5wdXQpIiApOwoJZXF1YWwoIGxhYmVsLnRleHQoKSwgIlBsZWFzZSBlbnRlciBhIHZhbHVlIGxlc3MgdGhhbiBvciBlcXVhbCB0byAyMDEzLTAxLTIxLiIsICJDb3JyZWN0IGVycm9yIGxhYmVsIiApOwp9KTsKCnRlc3QoICJNaW4gYW5kIE1heCBkYXRlIHNldCBieSBhdHRyaWJ1dGVzIGxlc3MiLCBmdW5jdGlvbigpIHsKCXZhciBmb3JtID0gJCggIiNyYW5nZXMiICksCgkJbmFtZSA9ICQoICIjcmFuZ2VEYXRlSW52YWxpZExlc3MiICksCgkJbGFiZWw7CgoJZm9ybS52YWxpZGF0ZSgpOwoJZm9ybS5nZXQoIDAgKS5yZXNldCgpOwoJbmFtZS52YWxpZCgpOwoKCWxhYmVsID0gJCggIiNyYW5nZXMgLmVycm9yOm5vdChpbnB1dCkiICk7CgllcXVhbCggbGFiZWwudGV4dCgpLCAiUGxlYXNlIGVudGVyIGEgdmFsdWUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDIwMTItMTEtMjEuIiwgIkNvcnJlY3QgZXJyb3IgbGFiZWwiICk7Cn0pOwoKdGVzdCggIk1pbiBkYXRlIHNldCBieSBhdHRyaWJ1dGUgdmFsaWQiLCBmdW5jdGlvbigpIHsKCXZhciBmb3JtID0gJCggIiNyYW5nZU1pbkRhdGVWYWxpZCIgKSwKCQluYW1lID0gJCggIiNtaW5EYXRlVmFsaWQiICksCgkJbGFiZWw7CgoJZm9ybS52YWxpZGF0ZSgpOwoJZm9ybS5nZXQoIDAgKS5yZXNldCgpOwoJbmFtZS52YWxpZCgpOwoKCWxhYmVsID0gJCggIiNyYW5nZU1pbkRhdGVWYWxpZCAuZXJyb3I6bm90KGlucHV0KSIgKTsKCWVxdWFsKCBsYWJlbC50ZXh0KCksICIiLCAiQ29ycmVjdCBlcnJvciBsYWJlbCIgKTsKfSk7Cgp0ZXN0KCAiTWF4IGRhdGUgc2V0IGJ5IGF0dHJpYnV0ZSB2YWxpZCIsIGZ1bmN0aW9uKCkgewoJdmFyIGZvcm0gPSAkKCAiI3JhbmdlcyIgKSwKCQluYW1lID0gJCggIiNtYXhEYXRlVmFsaWQiICksCgkJbGFiZWw7CgoJZm9ybS52YWxpZGF0ZSgpOwoJZm9ybS5nZXQoIDAgKS5yZXNldCgpOwoJbmFtZS52YWxpZCgpOwoKCWxhYmVsID0gJCggIiNyYW5nZXMgLmVycm9yOm5vdChpbnB1dCkiICk7CgllcXVhbCggbGFiZWwudGV4dCgpLCAiIiwgIkNvcnJlY3QgZXJyb3IgbGFiZWwiICk7Cn0pOwoKdGVzdCggIk1pbiBhbmQgTWF4IGRhdGUgc2V0IGJ5IGF0dHJpYnV0ZXMgdmFsaWQiLCBmdW5jdGlvbigpIHsKCXZhciBmb3JtID0gJCggIiNyYW5nZXMiICksCgkJbmFtZSA9ICQoICIjcmFuZ2VEYXRlVmFsaWQiICksCgkJbGFiZWw7CgoJZm9ybS52YWxpZGF0ZSgpOwoJZm9ybS5nZXQoIDAgKS5yZXNldCgpOwoJbmFtZS52YWxpZCgpOwoKCWxhYmVsID0gJCggIiNyYW5nZXMgLmVycm9yOm5vdChpbnB1dCkiICk7CgllcXVhbCggbGFiZWwudGV4dCgpLCAiIiwgIkNvcnJlY3QgZXJyb3IgbGFiZWwiICk7Cn0pOwoKdGVzdCggIk1pbiBhbmQgTWF4IHN0cmluZ3Mgc2V0IGJ5IGF0dHJpYnV0ZXMgZ3JlYXRlciIsIGZ1bmN0aW9uKCkgewoJdmFyIGZvcm0gPSAkKCAiI3JhbmdlcyIgKSwKCQluYW1lID0gJCggIiNyYW5nZVRleHRJbnZhbGlkR3JlYXRlciIgKSwKCQlsYWJlbDsKCglmb3JtLnZhbGlkYXRlKCk7Cglmb3JtLmdldCggMCApLnJlc2V0KCk7CgluYW1lLnZhbGlkKCk7CgoJbGFiZWwgPSAkKCAiI3JhbmdlcyAuZXJyb3I6bm90KGlucHV0KSIgKTsKCWVxdWFsKCBsYWJlbC50ZXh0KCksICJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gMjAwLiIsICJDb3JyZWN0IGVycm9yIGxhYmVsIiApOwp9KTsKCnRlc3QoICJNaW4gYW5kIE1heCBzdHJpbmdzIHNldCBieSBhdHRyaWJ1dGVzIGxlc3MiLCBmdW5jdGlvbigpIHsKCXZhciBmb3JtID0gJCggIiNyYW5nZXMiICksCgkJbmFtZSA9ICQoICIjcmFuZ2VUZXh0SW52YWxpZExlc3MiICksCgkJbGFiZWw7CgoJZm9ybS52YWxpZGF0ZSgpOwoJZm9ybS5nZXQoIDAgKS5yZXNldCgpOwoJbmFtZS52YWxpZCgpOwoKCWxhYmVsID0gJCggIiNyYW5nZXMgLmVycm9yOm5vdChpbnB1dCkiICk7CgllcXVhbCggbGFiZWwudGV4dCgpLCAiUGxlYXNlIGVudGVyIGEgdmFsdWUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDIwMC4iLCAiQ29ycmVjdCBlcnJvciBsYWJlbCIgKTsKfSk7Cgp0ZXN0KCAiTWluIGFuZCBNYXggc3RyaW5ncyBzZXQgYnkgYXR0cmlidXRlcyB2YWxpZCIsIGZ1bmN0aW9uKCkgewoJdmFyIGZvcm0gPSAkKCAiI3JhbmdlcyIgKSwKCQluYW1lID0gJCggIiNyYW5nZVRleHRWYWxpZCIgKSwKCQlsYWJlbDsKCglmb3JtLnZhbGlkYXRlKCk7Cglmb3JtLmdldCggMCApLnJlc2V0KCk7CgluYW1lLnZhbGlkKCk7CgoJbGFiZWwgPSAkKCAiI3JhbmdlcyAuZXJyb3I6bm90KGlucHV0KSIgKTsKCWVxdWFsKCBsYWJlbC50ZXh0KCksICIiLCAiQ29ycmVjdCBlcnJvciBsYWJlbCIgKTsKfSk7Cgp0ZXN0KCAiY2FsbGluZyBibHVyIG9uIGlnbm9yZWQgZWxlbWVudCIsIGZ1bmN0aW9uKCkgewoJdmFyIGZvcm0gPSAkKCAiI2lnbm9yZWRFbGVtZW50cyIgKTsKCglmb3JtLnZhbGlkYXRlKHsKCQlpZ25vcmU6ICIuaWdub3JlIiwKCQlzdWJtaXRIYW5kbGVyOiAkLm5vb3AsCgkJaW52YWxpZEhhbmRsZXI6IGZ1bmN0aW9uKCkgewoJCQkkKCAiI3NzMSIgKS5ibHVyKCk7CgkJfQoJfSk7CgoJZm9ybS50cmlnZ2VyKCAic3VibWl0IiApOwoJZXF1YWwoIGZvcm0udmFsaWQoKSwgZmFsc2UsICJ2YWxpZCgpIHNob3VsZCByZXR1cm4gZmFsc2UiICk7Cn0pOwoKdGVzdCggIk1pbiBhbmQgTWF4IHR5cGUgYWJzZW50IHNldCBieSBhdHRyaWJ1dGVzIGdyZWF0ZXIiLCBmdW5jdGlvbigpIHsKCXZhciBmb3JtID0gJCggIiNyYW5nZXMiICksCgkJbmFtZSA9ICQoICIjcmFuZ2VBYnNlbnRJbnZhbGlkR3JlYXRlciIgKSwKCQlsYWJlbDsKCglmb3JtLnZhbGlkYXRlKCk7Cglmb3JtLmdldCggMCApLnJlc2V0KCk7CgluYW1lLnZhbGlkKCk7CgoJbGFiZWwgPSAkKCAiI3JhbmdlcyAuZXJyb3I6bm90KGlucHV0KSIgKTsKCWVxdWFsKCBsYWJlbC50ZXh0KCksICJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gMjAwLiIsICJDb3JyZWN0IGVycm9yIGxhYmVsIiApOwp9KTsKCnRlc3QoICJNaW4gYW5kIE1heCB0eXBlIGFic2VudCBzZXQgYnkgYXR0cmlidXRlcyBsZXNzIiwgZnVuY3Rpb24oKSB7Cgl2YXIgZm9ybSA9ICQoICIjcmFuZ2VzIiApLAoJCW5hbWUgPSAkKCAiI3JhbmdlQWJzZW50SW52YWxpZExlc3MiICksCgkJbGFiZWw7CgoJZm9ybS52YWxpZGF0ZSgpOwoJZm9ybS5nZXQoIDAgKS5yZXNldCgpOwoJbmFtZS52YWxpZCgpOwoKCWxhYmVsID0gJCggIiNyYW5nZXMgLmVycm9yOm5vdChpbnB1dCkiICk7CgllcXVhbCggbGFiZWwudGV4dCgpLCAiUGxlYXNlIGVudGVyIGEgdmFsdWUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDIwMC4iLCAiQ29ycmVjdCBlcnJvciBsYWJlbCIgKTsKfSk7Cgp0ZXN0KCAiTWluIGFuZCBNYXggdHlwZSBhYnNlbnQgc2V0IGJ5IGF0dHJpYnV0ZXMgdmFsaWQiLCBmdW5jdGlvbigpIHsKCXZhciBmb3JtID0gJCggIiNyYW5nZXMiICksCgkJbmFtZSA9ICQoICIjcmFuZ2VBYnNlbnRWYWxpZCIgKSwKCQlsYWJlbDsKCglmb3JtLnZhbGlkYXRlKCk7Cglmb3JtLmdldCggMCApLnJlc2V0KCk7CgluYW1lLnZhbGlkKCk7CgoJbGFiZWwgPSAkKCAiI3JhbmdlcyAuZXJyb3I6bm90KGlucHV0KSIgKTsKCWVxdWFsKCBsYWJlbC50ZXh0KCksICIiLCAiQ29ycmVjdCBlcnJvciBsYWJlbCIgKTsKfSk7Cgp0ZXN0KCAiTWluIGFuZCBNYXggcmFuZ2Ugc2V0IGJ5IGF0dHJpYnV0ZXMgdmFsaWQiLCBmdW5jdGlvbigpIHsKCS8vCgkvLyBjYW5ub3QgdGVzdCBmb3Igb3ZlcmZsb3c6CgkvLyBXaGVuIHRoZSBlbGVtZW50IGlzIHN1ZmZlcmluZyBmcm9tIGFuIHVuZGVyZmxvdywKCS8vIHRoZSB1c2VyIGFnZW50IG11c3Qgc2V0IHRoZSBlbGVtZW50InMgdmFsdWUgdG8gYSB2YWxpZAoJLy8gZmxvYXRpbmctcG9pbnQgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgbWluaW11bS4KCS8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L2Zvcm1zLmh0bWwjcmFuZ2Utc3RhdGUtJTI4dHlwZT1yYW5nZSUyOQoJLy8KCXZhciBmb3JtID0gJCggIiNyYW5nZXMiICksCgkJbmFtZSA9ICQoICIjcmFuZ2VSYW5nZVZhbGlkIiApLAoJCWxhYmVsOwoKCWZvcm0udmFsaWRhdGUoKTsKCWZvcm0uZ2V0KCAwICkucmVzZXQoKTsKCW5hbWUudmFsaWQoKTsKCglsYWJlbCA9ICQoICIjcmFuZ2VzIC5lcnJvcjpub3QoaW5wdXQpIiApOwoJZXF1YWwoIGxhYmVsLnRleHQoKSwgIiIsICJDb3JyZWN0IGVycm9yIGxhYmVsIiApOwp9KTsKCnRlc3QoICJNaW4gYW5kIE1heCBudW1iZXIgc2V0IGJ5IGF0dHJpYnV0ZXMgdmFsaWQiLCBmdW5jdGlvbigpIHsKCXZhciBmb3JtID0gJCggIiNyYW5nZXMiICksCgkJbmFtZSA9ICQoICIjcmFuZ2VOdW1iZXJWYWxpZCIgKSwKCQlsYWJlbDsKCglmb3JtLnZhbGlkYXRlKCk7Cglmb3JtLmdldCggMCApLnJlc2V0KCk7CgluYW1lLnZhbGlkKCk7CgoJbGFiZWwgPSAkKCAiI3JhbmdlcyAuZXJyb3I6bm90KGlucHV0KSIgKTsKCWVxdWFsKCBsYWJlbC50ZXh0KCksICIiLCAiQ29ycmVjdCBlcnJvciBsYWJlbCIgKTsKfSk7Cgp0ZXN0KCAiTWluIGFuZCBNYXggbnVtYmVyIHNldCBieSBhdHRyaWJ1dGVzIGdyZWF0ZXIiLCBmdW5jdGlvbigpIHsKCXZhciBmb3JtID0gJCggIiNyYW5nZXMiICksCgkJbmFtZSA9ICQoICIjcmFuZ2VOdW1iZXJJbnZhbGlkR3JlYXRlciIgKSwKCQlsYWJlbDsKCglmb3JtLnZhbGlkYXRlKCk7Cglmb3JtLmdldCggMCApLnJlc2V0KCk7CgluYW1lLnZhbGlkKCk7CgoJbGFiZWwgPSAkKCAiI3JhbmdlcyAuZXJyb3I6bm90KGlucHV0KSIgKTsKCWVxdWFsKCBsYWJlbC50ZXh0KCksICJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gMjAwLiIsICJDb3JyZWN0IGVycm9yIGxhYmVsIiApOwp9KTsKCnRlc3QoICJNaW4gYW5kIE1heCBudW1iZXIgc2V0IGJ5IGF0dHJpYnV0ZXMgbGVzcyIsIGZ1bmN0aW9uKCkgewoJdmFyIGZvcm0gPSAkKCAiI3JhbmdlcyIgKSwKCQluYW1lID0gJCggIiNyYW5nZU51bWJlckludmFsaWRMZXNzIiApLAoJCWxhYmVsOwoKCWZvcm0udmFsaWRhdGUoKTsKCWZvcm0uZ2V0KCAwICkucmVzZXQoKTsKCW5hbWUudmFsaWQoKTsKCglsYWJlbCA9ICQoICIjcmFuZ2VzIC5lcnJvcjpub3QoaW5wdXQpIiApOwoJZXF1YWwoIGxhYmVsLnRleHQoKSwgIlBsZWFzZSBlbnRlciBhIHZhbHVlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byA1MC4iLCAiQ29ycmVjdCBlcnJvciBsYWJlbCIgKTsKfSk7Cgp0ZXN0KCAiUnVsZXMgYWxsb3dlZCB0byBoYXZlIGEgdmFsdWUgb2YgemVybyBpbnZhbGlkIiwgZnVuY3Rpb24oKSB7Cgl2YXIgZm9ybSA9ICQoICIjcmFuZ2VzIiApLAoJCW5hbWUgPSAkKCAiI3JhbmdlTWluWmVyb0ludmFsaWRMZXNzIiApLAoJCWxhYmVsOwoKCWZvcm0udmFsaWRhdGUoKTsKCWZvcm0uZ2V0KCAwICkucmVzZXQoKTsKCW5hbWUudmFsaWQoKTsKCglsYWJlbCA9ICQoICIjcmFuZ2VzIC5lcnJvcjpub3QoaW5wdXQpIiApOwoJZXF1YWwoIGxhYmVsLnRleHQoKSwgIlBsZWFzZSBlbnRlciBhIHZhbHVlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAwLiIsICJDb3JyZWN0IGVycm9yIGxhYmVsIiApOwp9KTsKCnRlc3QoICJSdWxlcyBhbGxvd2VkIHRvIGhhdmUgYSB2YWx1ZSBvZiB6ZXJvIHZhbGlkIGVxdWFsIiwgZnVuY3Rpb24oKSB7Cgl2YXIgZm9ybSA9ICQoICIjcmFuZ2VzIiApLAoJCW5hbWUgPSAkKCAiI3JhbmdlTWluWmVyb1ZhbGlkRXF1YWwiICksCgkJbGFiZWw7CgoJZm9ybS52YWxpZGF0ZSgpOwoJZm9ybS5nZXQoIDAgKS5yZXNldCgpOwoJbmFtZS52YWxpZCgpOwoKCWxhYmVsID0gJCggIiNyYW5nZXMgLmVycm9yOm5vdChpbnB1dCkiICk7CgllcXVhbCggbGFiZWwudGV4dCgpLCAiIiwgIkNvcnJlY3QgZXJyb3IgbGFiZWwiICk7Cn0pOwoKdGVzdCggIlJ1bGVzIGFsbG93ZWQgdG8gaGF2ZSBhIHZhbHVlIG9mIHplcm8gdmFsaWQgZ3JlYXRlciIsIGZ1bmN0aW9uKCkgewoJdmFyIGZvcm0gPSAkKCAiI3JhbmdlcyIgKSwKCQluYW1lID0gJCggIiNyYW5nZU1pblplcm9WYWxpZEdyZWF0ZXIiICksCgkJbGFiZWw7CgoJZm9ybS52YWxpZGF0ZSgpOwoJZm9ybS5nZXQoIDAgKS5yZXNldCgpOwoJbmFtZS52YWxpZCgpOwoKCWxhYmVsID0gJCggIiNyYW5nZXMgLmVycm9yOm5vdChpbnB1dCkiICk7CgllcXVhbCggbGFiZWwudGV4dCgpLCAiIiwgIkNvcnJlY3QgZXJyb3IgbGFiZWwiICk7Cn0pOwoKdGVzdCggIlZhbGlkYXRpb24gdHJpZ2dlcmVkIG9uIHJhZGlvIGFuZCBjaGVja2JveCB2aWEgY2xpY2siLCBmdW5jdGlvbigpIHsKCWV4cGVjdCggMiApOwoKCXZhciBmb3JtID0gJCggIiNyYWRpb2NoZWNrYm94IiApOwoKCS8vIGluaXQgdmFsaWRhdGUKCWZvcm0udmFsaWRhdGUoKTsKCgkvLyB2YWxpZGF0ZSBzbyB3ZSBoYXZlIGVycm9ycwoJb2soICFmb3JtLnZhbGlkKCksICJGb3JtIGludmFsaWQiKTsKCgkvLyBzaW11bGF0ZSBuYXRpdmUgY2xpY2sgb24gZmlyc3QgY2hlY2tib3ggdG8gdHJpZ2dlciBjaGFuZ2UtZXZlbnQKCSQoICIjcmFkaW9jaGVja2JveC0wLTEiICkuc2ltdWxhdGUoICJjbGljayIgKTsKCgkvLyBzaW11bGF0ZSBuYXRpdmUgY2xpY2sgb24gZmlyc3QgcmFkaW8gdG8gdHJpZ2dlciBjaGFuZ2UtZXZlbnQKCSQoICIjcmFkaW9jaGVja2JveC0xLTEiICkuc2ltdWxhdGUoICJjbGljayIgKTsKCgkvLyB0ZXN0IGlmIHRoZXJlIGlzIG5vIGVycm9yIGFueW1vcmUKCW9rKCBmb3JtLmZpbmQoICJpbnB1dC5lcnJvciIgKS5sZW5ndGggPT09IDAsICJGb3JtIHZhbGlkIiApOwp9KTsK",
    "size": "46101"
}