{
    "namaFile": "pages\/admin\/menu\/assets\/js\/libs\/inputmask\/inputmask\/jquery.inputmask.date.extensions.js",
    "lastUpdate": "2018-03-22+14:25:51.84",
    "contentFile": "LyohCioganF1ZXJ5LmlucHV0bWFzay5kYXRlLmV4dGVuc2lvbnMuanMKKiBodHRwOi8vZ2l0aHViLmNvbS9Sb2JpbkhlcmJvdHMvanF1ZXJ5LmlucHV0bWFzawoqIENvcHlyaWdodCAoYykgMjAxMCAtIDIwMTQgUm9iaW4gSGVyYm90cwoqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAoaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHApCiogVmVyc2lvbjogMy4xLjQ5CiovCiFmdW5jdGlvbihmYWN0b3J5KSB7CiAgICAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA\/IGRlZmluZShbICJqcXVlcnkiLCAiLi9qcXVlcnkuaW5wdXRtYXNrIiBdLCBmYWN0b3J5KSA6IGZhY3RvcnkoalF1ZXJ5KTsKfShmdW5jdGlvbigkKSB7CiAgICByZXR1cm4gJC5leHRlbmQoJC5pbnB1dG1hc2suZGVmYXVsdHMuZGVmaW5pdGlvbnMsIHsKICAgICAgICBoOiB7CiAgICAgICAgICAgIHZhbGlkYXRvcjogIlswMV1bMC05XXwyWzAtM10iLAogICAgICAgICAgICBjYXJkaW5hbGl0eTogMiwKICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbIHsKICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogIlswLTJdIiwKICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxCiAgICAgICAgICAgIH0gXQogICAgICAgIH0sCiAgICAgICAgczogewogICAgICAgICAgICB2YWxpZGF0b3I6ICJbMC01XVswLTldIiwKICAgICAgICAgICAgY2FyZGluYWxpdHk6IDIsCiAgICAgICAgICAgIHByZXZhbGlkYXRvcjogWyB7CiAgICAgICAgICAgICAgICB2YWxpZGF0b3I6ICJbMC01XSIsCiAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMQogICAgICAgICAgICB9IF0KICAgICAgICB9LAogICAgICAgIGQ6IHsKICAgICAgICAgICAgdmFsaWRhdG9yOiAiMFsxLTldfFsxMl1bMC05XXwzWzAxXSIsCiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAyLAogICAgICAgICAgICBwcmV2YWxpZGF0b3I6IFsgewogICAgICAgICAgICAgICAgdmFsaWRhdG9yOiAiWzAtM10iLAogICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEKICAgICAgICAgICAgfSBdCiAgICAgICAgfSwKICAgICAgICBtOiB7CiAgICAgICAgICAgIHZhbGlkYXRvcjogIjBbMS05XXwxWzAxMl0iLAogICAgICAgICAgICBjYXJkaW5hbGl0eTogMiwKICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbIHsKICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogIlswMV0iLAogICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEKICAgICAgICAgICAgfSBdCiAgICAgICAgfSwKICAgICAgICB5OiB7CiAgICAgICAgICAgIHZhbGlkYXRvcjogIigxOXwyMClcXGR7Mn0iLAogICAgICAgICAgICBjYXJkaW5hbGl0eTogNCwKICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbIHsKICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogIlsxMl0iLAogICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdmFsaWRhdG9yOiAiKDE5fDIwKSIsCiAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB2YWxpZGF0b3I6ICIoMTl8MjApXFxkIiwKICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAzCiAgICAgICAgICAgIH0gXQogICAgICAgIH0KICAgIH0pLCAkLmV4dGVuZCgkLmlucHV0bWFzay5kZWZhdWx0cy5hbGlhc2VzLCB7CiAgICAgICAgImRkL21tL3l5eXkiOiB7CiAgICAgICAgICAgIG1hc2s6ICIxLzIveSIsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAiZGQvbW0veXl5eSIsCiAgICAgICAgICAgIHJlZ2V4OiB7CiAgICAgICAgICAgICAgICB2YWwxcHJlOiBuZXcgUmVnRXhwKCJbMC0zXSIpLAogICAgICAgICAgICAgICAgdmFsMTogbmV3IFJlZ0V4cCgiMFsxLTldfFsxMl1bMC05XXwzWzAxXSIpLAogICAgICAgICAgICAgICAgdmFsMnByZTogZnVuY3Rpb24oc2VwYXJhdG9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRTZXBhcmF0b3IgPSAkLmlucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIHNlcGFyYXRvcik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoIigoMFsxLTldfFsxMl1bMC05XXwzWzAxXSkiICsgZXNjYXBlZFNlcGFyYXRvciArICJbMDFdKSIpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHZhbDI6IGZ1bmN0aW9uKHNlcGFyYXRvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkU2VwYXJhdG9yID0gJC5pbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBzZXBhcmF0b3IpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKCIoKDBbMS05XXxbMTJdWzAtOV0pIiArIGVzY2FwZWRTZXBhcmF0b3IgKyAiKDBbMS05XXwxWzAxMl0pKXwoMzAiICsgZXNjYXBlZFNlcGFyYXRvciArICIoMFsxMy05XXwxWzAxMl0pKXwoMzEiICsgZXNjYXBlZFNlcGFyYXRvciArICIoMFsxMzU3OF18MVswMl0pKSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBsZWFwZGF5OiAiMjkvMDIvIiwKICAgICAgICAgICAgc2VwYXJhdG9yOiAiLyIsCiAgICAgICAgICAgIHllYXJyYW5nZTogewogICAgICAgICAgICAgICAgbWlueWVhcjogMTkwMCwKICAgICAgICAgICAgICAgIG1heHllYXI6IDIwOTkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaXNJblllYXJSYW5nZTogZnVuY3Rpb24oY2hycywgbWlueWVhciwgbWF4eWVhcikgewogICAgICAgICAgICAgICAgaWYgKGlzTmFOKGNocnMpKSByZXR1cm4gITE7CiAgICAgICAgICAgICAgICB2YXIgZW50ZXJlZHllYXIgPSBwYXJzZUludChjaHJzLmNvbmNhdChtaW55ZWFyLnRvU3RyaW5nKCkuc2xpY2UoY2hycy5sZW5ndGgpKSksIGVudGVyZWR5ZWFyMiA9IHBhcnNlSW50KGNocnMuY29uY2F0KG1heHllYXIudG9TdHJpbmcoKS5zbGljZShjaHJzLmxlbmd0aCkpKTsKICAgICAgICAgICAgICAgIHJldHVybiAoaXNOYU4oZW50ZXJlZHllYXIpID8gITEgOiBlbnRlcmVkeWVhciA+PSBtaW55ZWFyICYmIG1heHllYXIgPj0gZW50ZXJlZHllYXIpIHx8IChpc05hTihlbnRlcmVkeWVhcjIpID8gITEgOiBlbnRlcmVkeWVhcjIgPj0gbWlueWVhciAmJiBtYXh5ZWFyID49IGVudGVyZWR5ZWFyMik7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRldGVybWluZWJhc2V5ZWFyOiBmdW5jdGlvbihtaW55ZWFyLCBtYXh5ZWFyLCBoaW50KSB7CiAgICAgICAgICAgICAgICB2YXIgY3VycmVudHllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7CiAgICAgICAgICAgICAgICBpZiAobWlueWVhciA+IGN1cnJlbnR5ZWFyKSByZXR1cm4gbWlueWVhcjsKICAgICAgICAgICAgICAgIGlmIChjdXJyZW50eWVhciA+IG1heHllYXIpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBtYXhZZWFyUHJlZml4ID0gbWF4eWVhci50b1N0cmluZygpLnNsaWNlKDAsIDIpLCBtYXhZZWFyUG9zdGZpeCA9IG1heHllYXIudG9TdHJpbmcoKS5zbGljZSgyLCA0KTsgbWF4WWVhclByZWZpeCArIGhpbnQgPiBtYXh5ZWFyOyApIG1heFllYXJQcmVmaXgtLTsKICAgICAgICAgICAgICAgICAgICB2YXIgbWF4eFllYXIgPSBtYXhZZWFyUHJlZml4ICsgbWF4WWVhclBvc3RmaXg7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1pbnllYXIgPiBtYXh4WWVhciA\/IG1pbnllYXIgOiBtYXh4WWVhcjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50eWVhcjsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25LZXlVcDogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyk7CiAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5ICYmIGUua2V5Q29kZSA9PSAkLmlucHV0bWFzay5rZXlDb2RlLlJJR0hUKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgICAgICAkaW5wdXQudmFsKHRvZGF5LmdldERhdGUoKS50b1N0cmluZygpICsgKHRvZGF5LmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpICsgdG9kYXkuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpKSwgCiAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXJIYW5kbGVyKCJzZXR2YWx1ZS5pbnB1dG1hc2siKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2V0RnJvbnRWYWx1ZTogZnVuY3Rpb24obWFzaywgYnVmZmVyLCBvcHRzKSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBzdGFydCA9IDAsIGxlbmd0aCA9IDAsIGkgPSAwOyBpIDwgbWFzay5sZW5ndGggJiYgIjIiICE9IG1hc2suY2hhckF0KGkpOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZGVmaW5pdGlvbiA9IG9wdHMuZGVmaW5pdGlvbnNbbWFzay5jaGFyQXQoaSldOwogICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb24gPyAoc3RhcnQgKz0gbGVuZ3RoLCBsZW5ndGggPSBkZWZpbml0aW9uLmNhcmRpbmFsaXR5KSA6IGxlbmd0aCsrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlci5qb2luKCIiKS5zdWJzdHIoc3RhcnQsIGxlbmd0aCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRlZmluaXRpb25zOiB7CiAgICAgICAgICAgICAgICAiMSI6IHsKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5yZWdleC52YWwxLnRlc3QoY2hycyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpY3QgfHwgaXNWYWxpZCB8fCBjaHJzLmNoYXJBdCgxKSAhPSBvcHRzLnNlcGFyYXRvciAmJiAtMSA9PSAiLS4vIi5pbmRleE9mKGNocnMuY2hhckF0KDEpKSB8fCAhKGlzVmFsaWQgPSBvcHRzLnJlZ2V4LnZhbDEudGVzdCgiMCIgKyBjaHJzLmNoYXJBdCgwKSkpID8gaXNWYWxpZCA6IChtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9ICIwIiwgCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHBvcyAtIDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBwb3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IGNocnMuY2hhckF0KDApCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDIsCiAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOYU4obWFza3NldC5idWZmZXJbcG9zICsgMV0pIHx8IChjaHJzICs9IG1hc2tzZXQuYnVmZmVyW3BvcyArIDFdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gMSA9PSBjaHJzLmxlbmd0aCA\/IG9wdHMucmVnZXgudmFsMXByZS50ZXN0KGNocnMpIDogb3B0cy5yZWdleC52YWwxLnRlc3QoY2hycyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaWN0IHx8IGlzVmFsaWQgfHwgIShpc1ZhbGlkID0gb3B0cy5yZWdleC52YWwxLnRlc3QoIjAiICsgY2hycykpID8gaXNWYWxpZCA6IChtYXNrc2V0LmJ1ZmZlcltwb3NdID0gIjAiLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMQogICAgICAgICAgICAgICAgICAgIH0gXQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICIyIjogewogICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyb250VmFsdWUgPSBvcHRzLmdldEZyb250VmFsdWUobWFza3NldC5tYXNrLCBtYXNrc2V0LmJ1ZmZlciwgb3B0cyk7CiAgICAgICAgICAgICAgICAgICAgICAgIC0xICE9IGZyb250VmFsdWUuaW5kZXhPZihvcHRzLnBsYWNlaG9sZGVyWzBdKSAmJiAoZnJvbnRWYWx1ZSA9ICIwMSIgKyBvcHRzLnNlcGFyYXRvcik7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5yZWdleC52YWwyKG9wdHMuc2VwYXJhdG9yKS50ZXN0KGZyb250VmFsdWUgKyBjaHJzKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgIWlzVmFsaWQgJiYgKGNocnMuY2hhckF0KDEpID09IG9wdHMuc2VwYXJhdG9yIHx8IC0xICE9ICItLi8iLmluZGV4T2YoY2hycy5jaGFyQXQoMSkpKSAmJiAoaXNWYWxpZCA9IG9wdHMucmVnZXgudmFsMihvcHRzLnNlcGFyYXRvcikudGVzdChmcm9udFZhbHVlICsgIjAiICsgY2hycy5jaGFyQXQoMCkpKSkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdID0gIjAiLCAKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogcG9zIC0gMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHBvcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogY2hycy5jaGFyQXQoMCkKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMubWFzay5pbmRleE9mKCIyIikgPT0gb3B0cy5tYXNrLmxlbmd0aCAtIDEgJiYgaXNWYWxpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRheU1vbnRoVmFsdWUgPSBtYXNrc2V0LmJ1ZmZlci5qb2luKCIiKS5zdWJzdHIoNCwgNCkgKyBjaHJzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRheU1vbnRoVmFsdWUgIT0gb3B0cy5sZWFwZGF5KSByZXR1cm4gITA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeWVhciA9IHBhcnNlSW50KG1hc2tzZXQuYnVmZmVyLmpvaW4oIiIpLnN1YnN0cigwLCA0KSwgMTApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHllYXIgJSA0ID09PSAwID8geWVhciAlIDEwMCA9PT0gMCA\/IHllYXIgJSA0MDAgPT09IDAgPyAhMCA6ICExIDogITAgOiAhMTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZDsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAyLAogICAgICAgICAgICAgICAgICAgIHByZXZhbGlkYXRvcjogWyB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmFOKG1hc2tzZXQuYnVmZmVyW3BvcyArIDFdKSB8fCAoY2hycyArPSBtYXNrc2V0LmJ1ZmZlcltwb3MgKyAxXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJvbnRWYWx1ZSA9IG9wdHMuZ2V0RnJvbnRWYWx1ZShtYXNrc2V0Lm1hc2ssIG1hc2tzZXQuYnVmZmVyLCBvcHRzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xICE9IGZyb250VmFsdWUuaW5kZXhPZihvcHRzLnBsYWNlaG9sZGVyWzBdKSAmJiAoZnJvbnRWYWx1ZSA9ICIwMSIgKyBvcHRzLnNlcGFyYXRvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IDEgPT0gY2hycy5sZW5ndGggPyBvcHRzLnJlZ2V4LnZhbDJwcmUob3B0cy5zZXBhcmF0b3IpLnRlc3QoZnJvbnRWYWx1ZSArIGNocnMpIDogb3B0cy5yZWdleC52YWwyKG9wdHMuc2VwYXJhdG9yKS50ZXN0KGZyb250VmFsdWUgKyBjaHJzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpY3QgfHwgaXNWYWxpZCB8fCAhKGlzVmFsaWQgPSBvcHRzLnJlZ2V4LnZhbDIob3B0cy5zZXBhcmF0b3IpLnRlc3QoZnJvbnRWYWx1ZSArICIwIiArIGNocnMpKSA\/IGlzVmFsaWQgOiAobWFza3NldC5idWZmZXJbcG9zXSA9ICIwIiwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MrKywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEKICAgICAgICAgICAgICAgICAgICB9IF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB5OiB7CiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5pc0luWWVhclJhbmdlKGNocnMsIG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF5TW9udGhWYWx1ZSA9IG1hc2tzZXQuYnVmZmVyLmpvaW4oIiIpLnN1YnN0cigwLCA2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXlNb250aFZhbHVlICE9IG9wdHMubGVhcGRheSkgcmV0dXJuICEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludChjaHJzLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geWVhciAlIDQgPT09IDAgPyB5ZWFyICUgMTAwID09PSAwID8geWVhciAlIDQwMCA9PT0gMCA\/ICEwIDogITEgOiAhMCA6ICExOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiA0LAogICAgICAgICAgICAgICAgICAgIHByZXZhbGlkYXRvcjogWyB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5pc0luWWVhclJhbmdlKGNocnMsIG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgIWlzVmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeWVhclByZWZpeCA9IG9wdHMuZGV0ZXJtaW5lYmFzZXllYXIob3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhciwgY2hycyArICIwIikudG9TdHJpbmcoKS5zbGljZSgwLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCA9IG9wdHMuaXNJblllYXJSYW5nZSh5ZWFyUHJlZml4ICsgY2hycywgb3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhcikpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3MrK10gPSB5ZWFyUHJlZml4LmNoYXJBdCgwKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHllYXJQcmVmaXggPSBvcHRzLmRldGVybWluZWJhc2V5ZWFyKG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIsIGNocnMgKyAiMCIpLnRvU3RyaW5nKCkuc2xpY2UoMCwgMiksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBvcHRzLmlzSW5ZZWFyUmFuZ2UoeWVhclByZWZpeCArIGNocnMsIG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIpKSByZXR1cm4gbWFza3NldC5idWZmZXJbcG9zKytdID0geWVhclByZWZpeC5jaGFyQXQoMCksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tzZXQuYnVmZmVyW3BvcysrXSA9IHllYXJQcmVmaXguY2hhckF0KDEpLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMQogICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLmlzSW5ZZWFyUmFuZ2UoY2hycywgb3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhaXNWYWxpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyUHJlZml4ID0gb3B0cy5kZXRlcm1pbmViYXNleWVhcihvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyLCBjaHJzKS50b1N0cmluZygpLnNsaWNlKDAsIDIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkID0gb3B0cy5pc0luWWVhclJhbmdlKGNocnNbMF0gKyB5ZWFyUHJlZml4WzFdICsgY2hyc1sxXSwgb3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhcikpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3MrK10gPSB5ZWFyUHJlZml4LmNoYXJBdCgxKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHllYXJQcmVmaXggPSBvcHRzLmRldGVybWluZWJhc2V5ZWFyKG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIsIGNocnMpLnRvU3RyaW5nKCkuc2xpY2UoMCwgMiksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMuaXNJblllYXJSYW5nZSh5ZWFyUHJlZml4ICsgY2hycywgb3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhcikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRheU1vbnRoVmFsdWUgPSBtYXNrc2V0LmJ1ZmZlci5qb2luKCIiKS5zdWJzdHIoMCwgNik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXlNb250aFZhbHVlICE9IG9wdHMubGVhcGRheSkgaXNWYWxpZCA9ICEwOyBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gcGFyc2VJbnQoY2hycywgMTApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IHllYXIgJSA0ID09PSAwID8geWVhciAlIDEwMCA9PT0gMCA\/IHllYXIgJSA0MDAgPT09IDAgPyAhMCA6ICExIDogITAgOiAhMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpc1ZhbGlkID0gITE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9IHllYXJQcmVmaXguY2hhckF0KDApLCBtYXNrc2V0LmJ1ZmZlcltwb3MrK10gPSB5ZWFyUHJlZml4LmNoYXJBdCgxKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXJbcG9zKytdID0gY2hycy5jaGFyQXQoMCksIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBwb3MgLSAzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBwb3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAyCiAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5pc0luWWVhclJhbmdlKGNocnMsIG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIpOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMwogICAgICAgICAgICAgICAgICAgIH0gXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBpbnNlcnRNb2RlOiAhMSwKICAgICAgICAgICAgYXV0b1VubWFzazogITEKICAgICAgICB9LAogICAgICAgICJtbS9kZC95eXl5IjogewogICAgICAgICAgICBwbGFjZWhvbGRlcjogIm1tL2RkL3l5eXkiLAogICAgICAgICAgICBhbGlhczogImRkL21tL3l5eXkiLAogICAgICAgICAgICByZWdleDogewogICAgICAgICAgICAgICAgdmFsMnByZTogZnVuY3Rpb24oc2VwYXJhdG9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRTZXBhcmF0b3IgPSAkLmlucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIHNlcGFyYXRvcik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoIigoMFsxMy05XXwxWzAxMl0pIiArIGVzY2FwZWRTZXBhcmF0b3IgKyAiWzAtM10pfCgwMiIgKyBlc2NhcGVkU2VwYXJhdG9yICsgIlswLTJdKSIpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHZhbDI6IGZ1bmN0aW9uKHNlcGFyYXRvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkU2VwYXJhdG9yID0gJC5pbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBzZXBhcmF0b3IpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKCIoKDBbMS05XXwxWzAxMl0pIiArIGVzY2FwZWRTZXBhcmF0b3IgKyAiKDBbMS05XXxbMTJdWzAtOV0pKXwoKDBbMTMtOV18MVswMTJdKSIgKyBlc2NhcGVkU2VwYXJhdG9yICsgIjMwKXwoKDBbMTM1NzhdfDFbMDJdKSIgKyBlc2NhcGVkU2VwYXJhdG9yICsgIjMxKSIpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHZhbDFwcmU6IG5ldyBSZWdFeHAoIlswMV0iKSwKICAgICAgICAgICAgICAgIHZhbDE6IG5ldyBSZWdFeHAoIjBbMS05XXwxWzAxMl0iKQogICAgICAgICAgICB9LAogICAgICAgICAgICBsZWFwZGF5OiAiMDIvMjkvIiwKICAgICAgICAgICAgb25LZXlVcDogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyk7CiAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5ICYmIGUua2V5Q29kZSA9PSAkLmlucHV0bWFzay5rZXlDb2RlLlJJR0hUKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgICAgICAkaW5wdXQudmFsKCh0b2RheS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKSArIHRvZGF5LmdldERhdGUoKS50b1N0cmluZygpICsgdG9kYXkuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpKSwgCiAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXJIYW5kbGVyKCJzZXR2YWx1ZS5pbnB1dG1hc2siKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgInl5eXkvbW0vZGQiOiB7CiAgICAgICAgICAgIG1hc2s6ICJ5LzEvMiIsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAieXl5eS9tbS9kZCIsCiAgICAgICAgICAgIGFsaWFzOiAibW0vZGQveXl5eSIsCiAgICAgICAgICAgIGxlYXBkYXk6ICIvMDIvMjkiLAogICAgICAgICAgICBvbktleVVwOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKTsKICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgJiYgZS5rZXlDb2RlID09ICQuaW5wdXRtYXNrLmtleUNvZGUuUklHSFQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICRpbnB1dC52YWwodG9kYXkuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpICsgKHRvZGF5LmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpICsgdG9kYXkuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkpLCAKICAgICAgICAgICAgICAgICAgICAkaW5wdXQudHJpZ2dlckhhbmRsZXIoInNldHZhbHVlLmlucHV0bWFzayIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAiZGQubW0ueXl5eSI6IHsKICAgICAgICAgICAgbWFzazogIjEuMi55IiwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJkZC5tbS55eXl5IiwKICAgICAgICAgICAgbGVhcGRheTogIjI5LjAyLiIsCiAgICAgICAgICAgIHNlcGFyYXRvcjogIi4iLAogICAgICAgICAgICBhbGlhczogImRkL21tL3l5eXkiCiAgICAgICAgfSwKICAgICAgICAiZGQtbW0teXl5eSI6IHsKICAgICAgICAgICAgbWFzazogIjEtMi15IiwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJkZC1tbS15eXl5IiwKICAgICAgICAgICAgbGVhcGRheTogIjI5LTAyLSIsCiAgICAgICAgICAgIHNlcGFyYXRvcjogIi0iLAogICAgICAgICAgICBhbGlhczogImRkL21tL3l5eXkiCiAgICAgICAgfSwKICAgICAgICAibW0uZGQueXl5eSI6IHsKICAgICAgICAgICAgbWFzazogIjEuMi55IiwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJtbS5kZC55eXl5IiwKICAgICAgICAgICAgbGVhcGRheTogIjAyLjI5LiIsCiAgICAgICAgICAgIHNlcGFyYXRvcjogIi4iLAogICAgICAgICAgICBhbGlhczogIm1tL2RkL3l5eXkiCiAgICAgICAgfSwKICAgICAgICAibW0tZGQteXl5eSI6IHsKICAgICAgICAgICAgbWFzazogIjEtMi15IiwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJtbS1kZC15eXl5IiwKICAgICAgICAgICAgbGVhcGRheTogIjAyLTI5LSIsCiAgICAgICAgICAgIHNlcGFyYXRvcjogIi0iLAogICAgICAgICAgICBhbGlhczogIm1tL2RkL3l5eXkiCiAgICAgICAgfSwKICAgICAgICAieXl5eS5tbS5kZCI6IHsKICAgICAgICAgICAgbWFzazogInkuMS4yIiwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJ5eXl5Lm1tLmRkIiwKICAgICAgICAgICAgbGVhcGRheTogIi4wMi4yOSIsCiAgICAgICAgICAgIHNlcGFyYXRvcjogIi4iLAogICAgICAgICAgICBhbGlhczogInl5eXkvbW0vZGQiCiAgICAgICAgfSwKICAgICAgICAieXl5eS1tbS1kZCI6IHsKICAgICAgICAgICAgbWFzazogInktMS0yIiwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJ5eXl5LW1tLWRkIiwKICAgICAgICAgICAgbGVhcGRheTogIi0wMi0yOSIsCiAgICAgICAgICAgIHNlcGFyYXRvcjogIi0iLAogICAgICAgICAgICBhbGlhczogInl5eXkvbW0vZGQiCiAgICAgICAgfSwKICAgICAgICBkYXRldGltZTogewogICAgICAgICAgICBtYXNrOiAiMS8yL3kgaDpzIiwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJkZC9tbS95eXl5IGhoOm1tIiwKICAgICAgICAgICAgYWxpYXM6ICJkZC9tbS95eXl5IiwKICAgICAgICAgICAgcmVnZXg6IHsKICAgICAgICAgICAgICAgIGhyc3ByZTogbmV3IFJlZ0V4cCgiWzAxMl0iKSwKICAgICAgICAgICAgICAgIGhyczI0OiBuZXcgUmVnRXhwKCIyWzAtNF18MVszLTldIiksCiAgICAgICAgICAgICAgICBocnM6IG5ldyBSZWdFeHAoIlswMV1bMC05XXwyWzAtNF0iKSwKICAgICAgICAgICAgICAgIGFtcG06IG5ldyBSZWdFeHAoIl5bYXxwfEF8UF1bbXxNXSIpLAogICAgICAgICAgICAgICAgbXNwcmU6IG5ldyBSZWdFeHAoIlswLTVdIiksCiAgICAgICAgICAgICAgICBtczogbmV3IFJlZ0V4cCgiWzAtNV1bMC05XSIpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRpbWVzZXBhcmF0b3I6ICI6IiwKICAgICAgICAgICAgaG91ckZvcm1hdDogIjI0IiwKICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHsKICAgICAgICAgICAgICAgIGg6IHsKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgiMjQiID09IG9wdHMuaG91ckZvcm1hdCAmJiAyNCA9PSBwYXJzZUludChjaHJzLCAxMCkpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9ICIwIiwgCiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tzZXQuYnVmZmVyW3Bvc10gPSAiMCIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHBvcyAtIDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBwb3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiAiMCIKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLnJlZ2V4Lmhycy50ZXN0KGNocnMpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhaXNWYWxpZCAmJiAoY2hycy5jaGFyQXQoMSkgPT0gb3B0cy50aW1lc2VwYXJhdG9yIHx8IC0xICE9ICItLjoiLmluZGV4T2YoY2hycy5jaGFyQXQoMSkpKSAmJiAoaXNWYWxpZCA9IG9wdHMucmVnZXguaHJzLnRlc3QoIjAiICsgY2hycy5jaGFyQXQoMCkpKSkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdID0gIjAiLCAKICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXJbcG9zXSA9IGNocnMuY2hhckF0KDApLCBwb3MrKywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogcG9zIC0gMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHBvcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogb3B0cy50aW1lc2VwYXJhdG9yCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkICYmICIyNCIgIT09IG9wdHMuaG91ckZvcm1hdCAmJiBvcHRzLnJlZ2V4LmhyczI0LnRlc3QoY2hycykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBwYXJzZUludChjaHJzLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjQgPT0gdG1wID8gKG1hc2tzZXQuYnVmZmVyW3BvcyArIDVdID0gImEiLCBtYXNrc2V0LmJ1ZmZlcltwb3MgKyA2XSA9ICJtIikgOiAobWFza3NldC5idWZmZXJbcG9zICsgNV0gPSAicCIsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXJbcG9zICsgNl0gPSAibSIpLCB0bXAgLT0gMTIsIDEwID4gdG1wID8gKG1hc2tzZXQuYnVmZmVyW3Bvc10gPSB0bXAudG9TdHJpbmcoKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9ICIwIikgOiAobWFza3NldC5idWZmZXJbcG9zXSA9IHRtcC50b1N0cmluZygpLmNoYXJBdCgxKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9IHRtcC50b1N0cmluZygpLmNoYXJBdCgwKSksIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogcG9zIC0gMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBwb3MgKyA2CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBtYXNrc2V0LmJ1ZmZlcltwb3NdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDIsCiAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLnJlZ2V4Lmhyc3ByZS50ZXN0KGNocnMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmljdCB8fCBpc1ZhbGlkIHx8ICEoaXNWYWxpZCA9IG9wdHMucmVnZXguaHJzLnRlc3QoIjAiICsgY2hycykpID8gaXNWYWxpZCA6IChtYXNrc2V0LmJ1ZmZlcltwb3NdID0gIjAiLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMQogICAgICAgICAgICAgICAgICAgIH0gXQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHM6IHsKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6ICJbMC01XVswLTldIiwKICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMiwKICAgICAgICAgICAgICAgICAgICBwcmV2YWxpZGF0b3I6IFsgewogICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMucmVnZXgubXNwcmUudGVzdChjaHJzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpY3QgfHwgaXNWYWxpZCB8fCAhKGlzVmFsaWQgPSBvcHRzLnJlZ2V4Lm1zLnRlc3QoIjAiICsgY2hycykpID8gaXNWYWxpZCA6IChtYXNrc2V0LmJ1ZmZlcltwb3NdID0gIjAiLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMQogICAgICAgICAgICAgICAgICAgIH0gXQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHQ6IHsKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRzLnJlZ2V4LmFtcG0udGVzdChjaHJzICsgIm0iKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGNhc2luZzogImxvd2VyIiwKICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBpbnNlcnRNb2RlOiAhMSwKICAgICAgICAgICAgYXV0b1VubWFzazogITEKICAgICAgICB9LAogICAgICAgIGRhdGV0aW1lMTI6IHsKICAgICAgICAgICAgbWFzazogIjEvMi95IGg6cyB0XFxtIiwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJkZC9tbS95eXl5IGhoOm1tIHhtIiwKICAgICAgICAgICAgYWxpYXM6ICJkYXRldGltZSIsCiAgICAgICAgICAgIGhvdXJGb3JtYXQ6ICIxMiIKICAgICAgICB9LAogICAgICAgICJoaDptbSB0IjogewogICAgICAgICAgICBtYXNrOiAiaDpzIHRcXG0iLAogICAgICAgICAgICBwbGFjZWhvbGRlcjogImhoOm1tIHhtIiwKICAgICAgICAgICAgYWxpYXM6ICJkYXRldGltZSIsCiAgICAgICAgICAgIGhvdXJGb3JtYXQ6ICIxMiIKICAgICAgICB9LAogICAgICAgICJoOnMgdCI6IHsKICAgICAgICAgICAgbWFzazogImg6cyB0XFxtIiwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJoaDptbSB4bSIsCiAgICAgICAgICAgIGFsaWFzOiAiZGF0ZXRpbWUiLAogICAgICAgICAgICBob3VyRm9ybWF0OiAiMTIiCiAgICAgICAgfSwKICAgICAgICAiaGg6bW06c3MiOiB7CiAgICAgICAgICAgIG1hc2s6ICJoOnM6cyIsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAiaGg6bW06c3MiLAogICAgICAgICAgICBhbGlhczogImRhdGV0aW1lIiwKICAgICAgICAgICAgYXV0b1VubWFzazogITEKICAgICAgICB9LAogICAgICAgICJoaDptbSI6IHsKICAgICAgICAgICAgbWFzazogImg6cyIsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAiaGg6bW0iLAogICAgICAgICAgICBhbGlhczogImRhdGV0aW1lIiwKICAgICAgICAgICAgYXV0b1VubWFzazogITEKICAgICAgICB9LAogICAgICAgIGRhdGU6IHsKICAgICAgICAgICAgYWxpYXM6ICJkZC9tbS95eXl5IgogICAgICAgIH0sCiAgICAgICAgIm1tL3l5eXkiOiB7CiAgICAgICAgICAgIG1hc2s6ICIxL3kiLAogICAgICAgICAgICBwbGFjZWhvbGRlcjogIm1tL3l5eXkiLAogICAgICAgICAgICBsZWFwZGF5OiAiZG9ub3R1c2UiLAogICAgICAgICAgICBzZXBhcmF0b3I6ICIvIiwKICAgICAgICAgICAgYWxpYXM6ICJtbS9kZC95eXl5IgogICAgICAgIH0KICAgIH0pLCAkLmZuLmlucHV0bWFzazsKfSk7",
    "size": "21606"
}