{
    "namaFile": "pages\/persediaan\/configClass.php",
    "lastUpdate": "2018-09-20+13:36:44.34",
    "contentFile": "PD9waHAKCmNsYXNzIGNvbmZpZ0NsYXNzIGV4dGVuZHMgRGFmdGFyT2JqMiB7CiAgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKSAgewogICAgZ2xvYmFsICRNYWluOwogICAgJHRoaXMtPnVzZXJuYW1lID0gJF9DT09LSUVbJ2NvSUQnXTsKICAgICRnZXREYXRhVXNlciA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gZnJvbSBhZG1pbiB3aGVyZSB1aWQgPSckdGhpcy0+dXNlcm5hbWUnIikpOwoKCiAgICAkZGF0YVBlbmdhdHVyYW4gPSAkdGhpcy0+Z2V0U2V0dGluZ1BlcnNlZGlhYW4oKTsKICAgICR0aGlzLT50YWh1bkFuZ2dhcmFuID0gJGRhdGFQZW5nYXR1cmFuWyd0YWh1biddOwogICAgJGV4cGxvZGVUYW5nZ2FsU2FsZG9Bd2FsID0gZXhwbG9kZSgiLSIsJGRhdGFQZW5nYXR1cmFuWyd0YW5nZ2FsJ10pOwogICAgJHRoaXMtPmJ1bGFuVGFuZ2dhbFNhbGRvQXdhbCA9ICRleHBsb2RlVGFuZ2dhbFNhbGRvQXdhbFsxXS4iLSIuJGV4cGxvZGVUYW5nZ2FsU2FsZG9Bd2FsWzJdOwogIH0KICBmdW5jdGlvbiBnZXRQYWdlSGVhZGVyKCRmaWxlTmFtZSl7CiAgICBzd2l0Y2ggKCRmaWxlTmFtZSkgewogICAgICBjYXNlICdzYWxkb0F3YWwnOnsKICAgICAgICAgICRoZWFkZXIgPQogICAgICAgICAgICAgICI8dGFibGUgd2lkdGg9XCIxMDAlXCIgY2xhc3M9XCJtZW51YmFyXCIgY2VsbHBhZGRpbmc9XCIwXCIgY2VsbHNwYWNpbmc9XCIwXCIgYm9yZGVyPVwiMFwiIHN0eWxlPSdtYXJnaW46MCAwIDAgMCc+CgogICAgICAgICAgICAgIDx0cj48dGQgY2xhc3M9XCJtZW51ZG90dGVkbGluZVwiIHdpZHRoPVwiNDAlXCIgaGVpZ2h0PVwiMjBcIiBzdHlsZT0ndGV4dC1hbGlnbjpyaWdodCc+PEI+CgogICAgICAgICAgICAgIDxBIGhyZWY9XCJwZ1BlcnNlZGlhYW4ucGhwP1BnPXNhbGRvQXdhbFwiIHRpdGxlPSdTQUxETyBBV0FMJyBzdHlsZT0nY29sb3IgOiBibHVlOycgPiBTQUxETyBBV0FMIDwvYT4gfAogICAgICAgICAgICAgIDxBIGhyZWY9XCJwZ1BlcnNlZGlhYW4ucGhwP1BnPXBlbmdhdHVyYW5QZXJzZWRpYWFuXCIgdGl0bGU9J1BFTkdBVFVSQU4nICA+IFBFTkdBVFVSQU4gPC9hPgoKICAgICAgICAgICAgICAmbmJzcCZuYnNwJm5ic3AKICAgICAgICAgICAgICA8L3RkPjwvdHI+CiAgICAgICAgICAgICAgPC90YWJsZT4iOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGNhc2UgJ3BlbmdhdHVyYW5QZXJzZWRpYWFuJzp7CiAgICAgICAgICAkaGVhZGVyID0KICAgICAgICAgICAgICAiPHRhYmxlIHdpZHRoPVwiMTAwJVwiIGNsYXNzPVwibWVudWJhclwiIGNlbGxwYWRkaW5nPVwiMFwiIGNlbGxzcGFjaW5nPVwiMFwiIGJvcmRlcj1cIjBcIiBzdHlsZT0nbWFyZ2luOjAgMCAwIDAnPgoKICAgICAgICAgICAgICA8dHI+PHRkIGNsYXNzPVwibWVudWRvdHRlZGxpbmVcIiB3aWR0aD1cIjQwJVwiIGhlaWdodD1cIjIwXCIgc3R5bGU9J3RleHQtYWxpZ246cmlnaHQnPjxCPgoKICAgICAgICAgICAgICA8QSBocmVmPVwicGdQZXJzZWRpYWFuLnBocD9QZz1zYWxkb0F3YWxcIiB0aXRsZT0nU0FMRE8gQVdBTCcgPiBTQUxETyBBV0FMIDwvYT4gfAogICAgICAgICAgICAgIDxBIGhyZWY9XCJwZ1BlcnNlZGlhYW4ucGhwP1BnPXBlbmdhdHVyYW5QZXJzZWRpYWFuXCIgdGl0bGU9J1BFTkdBVFVSQU4nIHN0eWxlPSdjb2xvciA6IGJsdWU7JyAgPiBQRU5HQVRVUkFOIDwvYT4KCiAgICAgICAgICAgICAgJm5ic3AmbmJzcCZuYnNwCiAgICAgICAgICAgICAgPC90ZD48L3RyPgogICAgICAgICAgICAgIDwvdGFibGU+IjsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBjYXNlICdwZW11c25haGFuUGVyc2VkaWFhbic6ewogICAgICAgICRoZWFkZXIgPQogICAgICAgICAgICI8dGFibGUgd2lkdGg9JzEwMCUnIGNsYXNzPSdtZW51YmFyJyBjZWxscGFkZGluZz0nMCcgY2VsbHNwYWNpbmc9JzAnIGJvcmRlcj0nMCcgc3R5bGU9J21hcmdpbjowIDAgMCAwJz4KICAgICAgICAgIDx0cj48dGQgY2xhc3M9J21lbnVkb3R0ZWRsaW5lJyB3aWR0aD0nNDAlJyBoZWlnaHQ9JzIwJyBzdHlsZT0ndGV4dC1hbGlnbjpyaWdodCc+PEI+CiAgICAgICAgICA8QSBocmVmPSdwZ1BlcnNlZGlhYW4ucGhwP1BnPXBlbXVzbmFoYW5QZXJzZWRpYWFuJyB0aXRsZT0nUEVNVVNOQUhBTicgc3R5bGU9J2NvbG9yIDogYmx1ZTsnID4gUEVNVVNOQUhBTiA8L2E+IHwKICAgICAgICAgIDxBIGhyZWY9J3BnUGVyc2VkaWFhbi5waHA\/UGc9ZGFmdGFyUGVtdXNuYWhhblBlcnNlZGlhYW4nIHRpdGxlPSdEQUZUQVIgUEVNVVNOQUhBTiAnICA+IERBRlRBUiBQRU1VU05BSEFOIDwvYT4KICAgICAgICAgICZuYnNwJm5ic3AKICAgICAgICAgIDwvdGQ+PC90cj4KICAgICAgICAgIDwvdGFibGU+IjsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBjYXNlICdkYWZ0YXJQZW11c25haGFuUGVyc2VkaWFhbic6ewogICAgICAgICRoZWFkZXIgPQogICAgICAgICAgICI8dGFibGUgd2lkdGg9JzEwMCUnIGNsYXNzPSdtZW51YmFyJyBjZWxscGFkZGluZz0nMCcgY2VsbHNwYWNpbmc9JzAnIGJvcmRlcj0nMCcgc3R5bGU9J21hcmdpbjowIDAgMCAwJz4KICAgICAgICAgIDx0cj48dGQgY2xhc3M9J21lbnVkb3R0ZWRsaW5lJyB3aWR0aD0nNDAlJyBoZWlnaHQ9JzIwJyBzdHlsZT0ndGV4dC1hbGlnbjpyaWdodCc+PEI+CiAgICAgICAgICA8QSBocmVmPSdwZ1BlcnNlZGlhYW4ucGhwP1BnPXBlbXVzbmFoYW5QZXJzZWRpYWFuJyB0aXRsZT0nUEVNVVNOQUhBTicgID4gUEVNVVNOQUhBTiA8L2E+IHwKICAgICAgICAgIDxBIGhyZWY9J3BnUGVyc2VkaWFhbi5waHA\/UGc9ZGFmdGFyUGVtdXNuYWhhblBlcnNlZGlhYW4nIHRpdGxlPSdEQUZUQVIgUEVNVVNOQUhBTiAnIHN0eWxlPSdjb2xvciA6IGJsdWU7JyAgPiBEQUZUQVIgUEVNVVNOQUhBTiA8L2E+CiAgICAgICAgICAmbmJzcCZuYnNwCiAgICAgICAgICA8L3RkPjwvdHI+CiAgICAgICAgICA8L3RhYmxlPiI7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiAkaGVhZGVyOwogIH0KICBmdW5jdGlvbiBnZW5GaWx0ZXJTS1BEKCRwcmVmaXg9JycsJHByZWZpeENoYW5nZWQsICR0Ymx3aWR0aD0nMTAwJScsICRrb2wxX3dpZHRoPTEwMCwkbW9kZT0nJykgewogICAgZ2xvYmFsICRNYWluLCAkZmlsdGVyVXJ1c2FuLCAkZm1XSUwsICRmaWx0ZXJCaWRhbmcsICRmaWx0ZXJTS1BELCAkZmlsdGVyVW5pdCwkZmlsdGVyU3ViVW5pdCwgJGZtVEFIVU5BTkdHQVJBTiwgJGZtS0VQRU1JTElLQU4sICRNYWluLCAkX0NPT0tJRSwgJFBnLCAkU1BnOwogICAgJGRpc2FibGVVcnVzYW4gPSAgJERpc0FibGVkOwogICAgJGRpc2FibGVCaWRhbmcgPSAkRGlzQWJsZWQ7CiAgICAkZGlzYWJsZVNLUEQgPSAkRGlzQWJsZWQ7CiAgICAkZGlzYWJsZVVuaXQgPSAkRGlzQWJsZWQ7CiAgICAkZGlzYWJsZVN1YlVuaXQgPSAkRGlzQWJsZWQ7CiAgCSRrZFN1YlVuaXQwID0gZ2VuTnVtYmVyKDAsICRNYWluLT5TVUJVTklUX0RJR0lUICk7CiAgICAkS29uZGlzaVVSVVNBTiA9ICIiOwogIAkkS29uZGlzaUJpZGFuZyA9ICIiOwogICAgJEtvbmRpc2lTS1BEID0gIiI7CgoKICAgICRQaWxpaFVSVVNBTiA9ICI8b3B0aW9uIHZhbHVlPScwMCc+LS0tIFNlbXVhIFVSVVNBTiAtLS08L29wdGlvbj4iOwogICAgJFBpbGloU0tQRCA9ICI8b3B0aW9uIHZhbHVlPScwMCc+LS0tIFNlbXVhIEJJREFORyAtLS08L29wdGlvbj4iOwogICAgJFBpbGloVU5JVCA9ICI8b3B0aW9uIHZhbHVlPScwMCc+LS0tIFNlbXVhIFNLUEQgLS0tPC9vcHRpb24+IjsKCgoKICAgIGlmKGlzc2V0KCRfUkVRVUVTVFsnZmlsdGVyVXJ1c2FuJ10pICYmICRfUkVRVUVTVFsnZmlsdGVyVXJ1c2FuJ10gIT0gJzAwJyAmJiAkX0NPT0tJRVsiY29mbVVSVVNBTiJdICE9ICRfUkVRVUVTVFsnZmlsdGVyVXJ1c2FuJ10gKXsKICAgICAgLy8gJF9DT09LSUVbImNvZm1VUlVTQU4iXSA9ICRfUkVRVUVTVFsnZmlsdGVyVXJ1c2FuJ107CiAgICAgICRmaWx0ZXJVcnVzYW4gPSAkX1JFUVVFU1RbJ2ZpbHRlclVydXNhbiddOwogICAgfWVsc2V7CiAgICAgICRmaWx0ZXJVcnVzYW4gPSAkX0NPT0tJRVsiY29mbVVSVVNBTiJdOwogICAgfQogICAgaWYoaXNzZXQoJF9SRVFVRVNUWydmaWx0ZXJCaWRhbmcnXSkgJiYgJF9SRVFVRVNUWydmaWx0ZXJCaWRhbmcnXSAhPSAnMDAnICYmICRfQ09PS0lFWyJjb2ZtU0tQRCJdICE9ICRfUkVRVUVTVFsnZmlsdGVyQmlkYW5nJ10gKXsKICAgICAgLy8gJF9DT09LSUVbImNvZm1TS1BEIl0gPSAkX1JFUVVFU1RbJ2ZpbHRlckJpZGFuZyddOwogICAgICAkZmlsdGVyQmlkYW5nID0gJF9SRVFVRVNUWydjb2ZtU0tQRCddOwogICAgfWVsc2V7CiAgICAgICRmaWx0ZXJCaWRhbmcgPSAkX0NPT0tJRVsiY29mbVNLUEQiXTsKICAgIH0KICAgIGlmKGlzc2V0KCRfUkVRVUVTVFsnZmlsdGVyU0tQRCddKSAmJiAkX1JFUVVFU1RbJ2ZpbHRlclNLUEQnXSAhPSAnMDAnICYmICRfQ09PS0lFWyJjb2ZtVU5JVCJdICE9ICRfUkVRVUVTVFsnZmlsdGVyU0tQRCddICl7CiAgICAgIC8vICRfQ09PS0lFWyJjb2ZtVU5JVCJdID0gJF9SRVFVRVNUWydmaWx0ZXJTS1BEJ107CiAgICAgICRmaWx0ZXJTS1BEID0gJF9SRVFVRVNUWydmaWx0ZXJTS1BEJ107CiAgICB9ZWxzZXsKICAgICAgJGZpbHRlclNLUEQgPSAkX0NPT0tJRVsiY29mbVVOSVQiXTsKCiAgICB9CgoKCiAgCWlmICgkX0NPT0tJRVsiY29VUlVTQU4iXSAhPT0gIjAiKSB7CiAgICAgICAgICAkZmlsdGVyVXJ1c2FuID0gJF9DT09LSUVbImNvVVJVU0FOIl07CiAgICAgICAgICAvLyAkX0NPT0tJRVsiY29mbVVSVVNBTiJdID0gJGZpbHRlclVydXNhbjsKICAgICAgICAgICRLb25kaXNpVVJVU0FOID0gIiBhbmQgYzE9JyRmaWx0ZXJVcnVzYW4nIjsKICAgICAgICAgICRQaWxpaFVSVVNBTiA9ICIiOwogICAgICB9CiAgCWVsc2V7CiAgCQlpZiAoaXNzZXQoJF9DT09LSUVbJ2NvZm1VUlVTQU4nXSkpIHsKICAJICAgICAgICRmaWx0ZXJVcnVzYW4gPSAkX0NPT0tJRVsnY29mbVVSVVNBTiddOwogIAkgICAgfQogIAkJaWYoISgkZmlsdGVyVXJ1c2FuID09ICcwMCcgfHwgJGZpbHRlclVydXNhbj09JycpKXsKICAJCX0KICAJfQogIAlpZiAoJF9DT09LSUVbImNvU0tQRCJdICE9PSAiMDAiKSB7CiAgICAgICAgICAkZmlsdGVyQmlkYW5nID0gJF9DT09LSUVbImNvU0tQRCJdOwogICAgICAgICAgJF9DT09LSUVbImNvZm1TS1BEIl0gPSAkZmlsdGVyQmlkYW5nOwogICAgICAgICAgJEtvbmRpc2lCaWRhbmcgPSAiIGFuZCBjPSckZmlsdGVyQmlkYW5nJyI7CiAgICAgICAgICAkUGlsaWhTS1BEID0gIiI7CiAgICAgIH0KICAJZWxzZXsKICAJCWlmIChpc3NldCgkX0NPT0tJRVsnY29mbVNLUEQnXSkpIHsKICAJICAgICAgICRmaWx0ZXJCaWRhbmcgPSAkX0NPT0tJRVsnY29mbVNLUEQnXTsKICAJICAgIH0KICAJCWlmKCEoJGZpbHRlckJpZGFuZyA9PSAnMDAnIHx8ICRmaWx0ZXJCaWRhbmc9PScnKSl7CiAgCQl9CiAgCX0KICAJaWYgKCRfQ09PS0lFWyJjb1VOSVQiXSAhPT0gIjAwIikgewogICAgICAgICAgJGZpbHRlclNLUEQgPSAkX0NPT0tJRVsiY29VTklUIl07CiAgICAgICAgICAkX0NPT0tJRVsiY29mbVVOSVQiXSA9ICRmaWx0ZXJTS1BEOwogICAgICAgICAgJEtvbmRpc2lTS1BEID0gIiBhbmQgZD0nJGZpbHRlclNLUEQnIjsKICAgICAgICAgICRQaWxpaFVOSVQgPSAiIjsKICAgICAgfQogIAllbHNlewogIAkJaWYgKGlzc2V0KCRfQ09PS0lFWydjb2ZtVU5JVCddKSkgewogIAkgICAgICAgJGZpbHRlclNLUEQgPSAkX0NPT0tJRVsnY29mbVVOSVQnXTsKICAJICAgIH0KICAJCWlmKCEoJGZpbHRlclNLUEQgPT0gJzAwJyB8fCAkZmlsdGVyU0tQRD09JycpKXsKICAJCX0KICAJfQoKCgoKICAJLy91cnVzYW4gLS0tLS0tLS0tLS0tLS0tLS0tLQogIAlpZigkTWFpbi0+VVJVU0FOPT0xKXsKICAJICAgICRhcXJ5ID0gInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgMT0xICRLb25kaXNpVVJVU0FOIGFuZCBjMTw+JzAnIGFuZCBjPScwMCcgb3JkZXIgYnkgYzEiOwogIAkgICAgJFFyeSA9IG15c3FsX3F1ZXJ5KCRhcXJ5KTsKICAJICAgICRPcHMgPSAiIjsKICAJICAgIHdoaWxlICgkaXNpID0gbXlzcWxfZmV0Y2hfYXJyYXkoJFFyeSkpIHsKICAJICAgICAgICAkc2VsID0gJGZpbHRlclVydXNhbiA9PSAkaXNpWydjMSddID8gInNlbGVjdGVkIiA6ICIiOwogIAkgICAgICAgICRPcHMgLj0gIjxvcHRpb24gJHNlbCB2YWx1ZT0neyRpc2lbJ2MxJ119Jz57JGlzaVsnYzEnXX0uIHskaXNpWydubV9za3BkJ119IDwvb3B0aW9uPlxuIjsKICAJCQlpZiAoJGZpbHRlclVydXNhbiA9PSAkaXNpWydjMSddKSAkbm1VUlVTQU49JGlzaVsnbm1fc2twZCddOwogIAkgICAgfQogIAkJJExpc3RVUlVTQU4gPQogIAkJCS8vJGNla3NrcGQgLiAncHJlZj0nLiRwcmVmaXguCiAgCQkJIjxkaXYgaWQ9JyIuJHByZWZpeC4iQ2J4VXJ1c2FuJz4KICAJCQkJPHNlbGVjdCAkZGlzYWJsZVVydXNhbiBuYW1lPSdmaWx0ZXJVcnVzYW4nIGlkPSdmaWx0ZXJVcnVzYW4nCiAgCQkJCQlvbkNoYW5nZT1cIiIuJHByZWZpeENoYW5nZWQuIi5waWxpaFVydXNhbigpXCIKICAJCQkJPiAkUGlsaWhVUlVTQU4gJE9wczwvc2VsZWN0PjxkaXYgc3R5bGU9J2Rpc3BsYXk6bm9uZSc+JGFxcnk8L2Rpdj48L2Rpdj4iOwoKICAgICB9CgogICAgIAkvL3NrcGQgLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAvLyRhcXJ5ID0gInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgZD0nMDAnICBvcmRlciBieSBjIjsKICAJaWYoJE1haW4tPlVSVVNBTj09MSl7CiAgCQkkYXFyeSA9ICJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlICAgYzE9JyRmaWx0ZXJVcnVzYW4nICBhbmQgYzw+JzAwJyBhbmQgZD0nMDAnIG9yZGVyIGJ5IGMiOwogIAl9ZWxzZXsKICAJCSRhcXJ5ID0gInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgMT0xICRLb25kaXNpQmlkYW5nIGFuZCBjPD4nMDAnIGFuZCBkPScwMCcgb3JkZXIgYnkgYyI7CiAgCX0KICAgICAgJFFyeSA9IG15c3FsX3F1ZXJ5KCRhcXJ5KTsKICAgICAgJE9wcyA9ICIiOwogICAgICB3aGlsZSAoJGlzaSA9IG15c3FsX2ZldGNoX2FycmF5KCRRcnkpKSB7CiAgICAgICAgICAkc2VsID0gJGZpbHRlckJpZGFuZyA9PSAkaXNpWydjJ10gPyAic2VsZWN0ZWQiIDogIiI7CiAgICAgICAgICAkT3BzIC49ICI8b3B0aW9uICRzZWwgdmFsdWU9J3skaXNpWydjJ119Jz57JGlzaVsnYyddfS4geyRpc2lbJ25tX3NrcGQnXX08L29wdGlvbj5cbiI7CiAgCQlpZiAoJGZpbHRlckJpZGFuZyA9PSAkaXNpWydjJ10pICRubXNrcGQ9JGlzaVsnbm1fc2twZCddOwogICAgICB9CiAgCSRMaXN0U0tQRCA9CiAgCQkvLyRjZWtza3BkIC4gJ3ByZWY9Jy4kcHJlZml4LgogIAkJIjxkaXYgaWQ9JyIuJHByZWZpeC4iQ2J4QmlkYW5nJz4KICAJCQk8c2VsZWN0ICRkaXNhYmxlQmlkYW5nIG5hbWU9J2ZpbHRlckJpZGFuZycgaWQ9J2ZpbHRlckJpZGFuZycKICAJCQkJb25DaGFuZ2U9XCIiLiRwcmVmaXhDaGFuZ2VkLiIucGlsaWhCaWRhbmcoKVwiCiAgCQkJPiAkUGlsaWhTS1BEICRPcHM8L3NlbGVjdD48ZGl2IHN0eWxlPSdkaXNwbGF5Om5vbmUnPiRhcXJ5PC9kaXY+PC9kaXY+IjsKCiAgCS8vdW5pdCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAJaWYoJE1haW4tPlVSVVNBTil7CiAgCQkkYXFyeSA9InNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzE9JyRmaWx0ZXJVcnVzYW4nIGFuZCAgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQgPD4gJzAwJyBhbmQgZSA9ICcwMCcgJEtvbmRpc2lTS1BEIG9yZGVyIGJ5IGQiOwogIAl9ZWxzZXsKICAJCSRhcXJ5ID0ic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZCA8PiAnMDAnIGFuZCBlID0gJzAwJyAkS29uZGlzaVNLUEQgb3JkZXIgYnkgZCI7CiAgCX0KICAJJFFyeSA9IG15c3FsX3F1ZXJ5KCRhcXJ5KTsKICAgICAgJE9wcyA9ICIiOwogICAgICB3aGlsZSAoJGlzaSA9IG15c3FsX2ZldGNoX2FycmF5KCRRcnkpKSB7CiAgICAgICAgICAkc2VsID0gJGZpbHRlclNLUEQgPT0gJGlzaVsnZCddID8gInNlbGVjdGVkIiA6ICIiOwogICAgICAgICAgJE9wcyAuPSAiPG9wdGlvbiAkc2VsIHZhbHVlPSd7JGlzaVsnZCddfSc+eyRpc2lbJ2QnXX0uIHskaXNpWydubV9za3BkJ119PC9vcHRpb24+XG4iOwogIAkJaWYgKCRmaWx0ZXJTS1BEID09ICRpc2lbJ2QnXSkgJG5tdW5pdD0kaXNpWydubV9za3BkJ107CgogICAgICB9CiAgICAgICRMaXN0VU5JVCA9CiAgCQkiPGRpdiBpZD0nIi4kcHJlZml4LiJDYnhVbml0Jz4KICAJCQk8c2VsZWN0ICRkaXNhYmxlU0tQRCBuYW1lPSdmaWx0ZXJTS1BEJyBpZD0nZmlsdGVyU0tQRCcKICAJCQkJb25DaGFuZ2U9XCIiLiRwcmVmaXhDaGFuZ2VkLiIucGlsaWhVbml0KClcIj4KICAJCQkJJFBpbGloVU5JVCAkT3BzCiAgCQkJPC9zZWxlY3Q+PGRpdiBzdHlsZT0nZGlzcGxheTpub25lJz4kYXFyeTwvZGl2PjwvZGl2PiI7CgoKCgogIAlpZigkTWFpbi0+VVJVU0FOKXsKICAJCWlmICgkbW9kZT09JzEnKXsKICAJCQkkdlVSVVNBTiA9ICI8dHIgdmFsaWduPVwidG9wXCI+IDx0ZCB3aWR0aD0nJGtvbDFfd2lkdGgnPlVSVVNBTjwvdGQ+IDx0ZCB3aWR0aD0nMTAnPjo8L3RkPiA8dGQ+CiAgCQkJCTxpbnB1dCB0eXBlPXRleHQgPiBuYW1lPSciLiRwcmVmaXguIm5tVVJVU0FOJyBpZD0nIi4kcHJlZml4LiJubVNLUEQnIHZhbHVlPSckbm1VUlVTQU4nID4KICAJCQkJPGlucHV0IHR5cGU9aGlkZGVuID4gbmFtZT0nZmlsdGVyVXJ1c2FuJyBpZD0nZmlsdGVyVXJ1c2FuJyB2YWx1ZT0nJGZpbHRlclVydXNhbicgPgogIAkJCQk8L3RkPiA8L3RyPiI7CiAgCQl9CiAgCQllbHNlewogIAkJCSR2VVJVU0FOID0gIjx0ciB2YWxpZ249XCJ0b3BcIj4gPHRkIHdpZHRoPScka29sMV93aWR0aCc+VVJVU0FOPC90ZD4gPHRkIHdpZHRoPScxMCc+OjwvdGQ+IDx0ZD4kTGlzdFVSVVNBTjwvdGQ+IDwvdHI+ICI7CiAgCQl9CgogIAl9CgogICAgICAkSHNsID0gIgogIAkJPCEtLTxzY3JpcHQgc3JjPSdqcy9za3BkLmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0Pi0tPgogIAkJPGRpdiBzdHlsZT0nZmxvYXQ6IGxlZnQ7IHdpZHRoOiA5MCU7IGhlaWdodDogYXV0bzsgcGFkZGluZzogNHB4Oyc+CiAgCQkJPHRhYmxlIHdpZHRoPVwiMTAwJVwiICAgPgogIAkJCQkkdlVSVVNBTgogIAkJCQk8dHIgdmFsaWduPVwidG9wXCI+IDx0ZCB3aWR0aD0nJGtvbDFfd2lkdGgnPkJJREFORzwvdGQ+IDx0ZCB3aWR0aD0nMTAnPjo8L3RkPiA8dGQ+JExpc3RTS1BEPC90ZD4gPC90cj4KICAJCQkJPHRyIHZhbGlnbj1cInRvcFwiPiA8dGQ+U0tQRDwvdGQ+IDx0ZD46PC90ZD4gPHRkPiRMaXN0VU5JVDwvdGQ+IDwvdHI+CgogIAkJCTwvdGFibGU+CiAgCQk8L2Rpdj4KICAJIjsKICAgICAgcmV0dXJuICRIc2w7CiAgfQogIGZ1bmN0aW9uIGdlbkZpbHRlclN1YlVuaXQoJHByZWZpeD0nJywkcHJlZml4Q2hhbmdlZCwgJHRibHdpZHRoPScxMDAlJywgJGtvbDFfd2lkdGg9MTAwLCRtb2RlPScnKSB7CiAgICBnbG9iYWwgJE1haW4sICRmaWx0ZXJVcnVzYW4sICRmbVdJTCwgJGZpbHRlckJpZGFuZywgJGZpbHRlclNLUEQsICRmaWx0ZXJVbml0LCRmaWx0ZXJTdWJVbml0LCAkZm1UQUhVTkFOR0dBUkFOLCAkZm1LRVBFTUlMSUtBTiwgJE1haW4sICRfQ09PS0lFLCAkUGcsICRTUGc7CiAgICAkZGlzYWJsZVVydXNhbiA9ICAkRGlzQWJsZWQ7CiAgICAkZGlzYWJsZUJpZGFuZyA9ICREaXNBYmxlZDsKICAgICRkaXNhYmxlU0tQRCA9ICREaXNBYmxlZDsKICAgICRkaXNhYmxlVW5pdCA9ICREaXNBYmxlZDsKICAgICRkaXNhYmxlU3ViVW5pdCA9ICREaXNBYmxlZDsKICAJJGtkU3ViVW5pdDAgPSBnZW5OdW1iZXIoMCwgJE1haW4tPlNVQlVOSVRfRElHSVQgKTsKICAgICRLb25kaXNpVVJVU0FOID0gIiI7CiAgCSRLb25kaXNpQmlkYW5nID0gIiI7CiAgICAkS29uZGlzaVNLUEQgPSAiIjsKICAgICRLb25kaXNpVW5pdCA9ICIiOwogICAgJEtvbmRpc2lTdWJVbml0ID0gIiI7CgogICAgJFBpbGloVVJVU0FOID0gIjxvcHRpb24gdmFsdWU9JzAwJz4tLS0gU2VtdWEgVVJVU0FOIC0tLTwvb3B0aW9uPiI7CiAgICAkUGlsaWhTS1BEID0gIjxvcHRpb24gdmFsdWU9JzAwJz4tLS0gU2VtdWEgQklEQU5HIC0tLTwvb3B0aW9uPiI7CiAgICAkUGlsaWhVTklUID0gIjxvcHRpb24gdmFsdWU9JzAwJz4tLS0gU2VtdWEgU0tQRCAtLS08L29wdGlvbj4iOwogICAgJFBpbGloU1VCVU5JVCA9ICI8b3B0aW9uIHZhbHVlPScwMCc+LS0tIFNlbXVhIFVOSVQgLS0tPC9vcHRpb24+IjsKICAgICRQaWxpaFNFS1NJID0gIjxvcHRpb24gdmFsdWU9JyRrZFN1YlVuaXQwJz4tLS0gU2VtdWEgU1VCIFVOSVQgLS0tPC9vcHRpb24+IjsKCgogICAgaWYoaXNzZXQoJF9SRVFVRVNUWydmaWx0ZXJVcnVzYW4nXSkgJiYgJF9SRVFVRVNUWydmaWx0ZXJVcnVzYW4nXSAhPSAnMDAnICYmICRfQ09PS0lFWyJjb2ZtVVJVU0FOIl0gIT0gJF9SRVFVRVNUWydmaWx0ZXJVcnVzYW4nXSApewogICAgICAvLyAkX0NPT0tJRVsiY29mbVVSVVNBTiJdID0gJF9SRVFVRVNUWydmaWx0ZXJVcnVzYW4nXTsKICAgICAgJGZpbHRlclVydXNhbiA9ICRfUkVRVUVTVFsnZmlsdGVyVXJ1c2FuJ107CiAgICB9ZWxzZXsKICAgICAgJGZpbHRlclVydXNhbiA9ICRfQ09PS0lFWyJjb2ZtVVJVU0FOIl07CiAgICB9CiAgICBpZihpc3NldCgkX1JFUVVFU1RbJ2ZpbHRlckJpZGFuZyddKSAmJiAkX1JFUVVFU1RbJ2ZpbHRlckJpZGFuZyddICE9ICcwMCcgJiYgJF9DT09LSUVbImNvZm1TS1BEIl0gIT0gJF9SRVFVRVNUWydmaWx0ZXJCaWRhbmcnXSApewogICAgICAvLyAkX0NPT0tJRVsiY29mbVNLUEQiXSA9ICRfUkVRVUVTVFsnZmlsdGVyQmlkYW5nJ107CiAgICAgICRmaWx0ZXJCaWRhbmcgPSAkX1JFUVVFU1RbJ2NvZm1TS1BEJ107CiAgICB9ZWxzZXsKICAgICAgJGZpbHRlckJpZGFuZyA9ICRfQ09PS0lFWyJjb2ZtU0tQRCJdOwogICAgfQogICAgaWYoaXNzZXQoJF9SRVFVRVNUWydmaWx0ZXJTS1BEJ10pICYmICRfUkVRVUVTVFsnZmlsdGVyU0tQRCddICE9ICcwMCcgJiYgJF9DT09LSUVbImNvZm1VTklUIl0gIT0gJF9SRVFVRVNUWydmaWx0ZXJTS1BEJ10gKXsKICAgICAgLy8gJF9DT09LSUVbImNvZm1VTklUIl0gPSAkX1JFUVVFU1RbJ2ZpbHRlclNLUEQnXTsKICAgICAgJGZpbHRlclNLUEQgPSAkX1JFUVVFU1RbJ2ZpbHRlclNLUEQnXTsKICAgIH1lbHNlewogICAgICAkZmlsdGVyU0tQRCA9ICRfQ09PS0lFWyJjb2ZtVU5JVCJdOwoKICAgIH0KICAgIGlmKGlzc2V0KCRfUkVRVUVTVFsnZmlsdGVyVW5pdCddKSAmJiAkX1JFUVVFU1RbJ2ZpbHRlclVuaXQnXSAhPSAnMDAnICYmICRfQ09PS0lFWyJjb2ZtU1VCVU5JVCJdICE9ICRfUkVRVUVTVFsnZmlsdGVyVW5pdCddICl7CiAgICAgIC8vICRfQ09PS0lFWyJjb2ZtU1VCVU5JVCJdID0gJF9SRVFVRVNUWydmaWx0ZXJVbml0J107CiAgICAgICRmaWx0ZXJVbml0ID0gJF9SRVFVRVNUWydmaWx0ZXJVbml0J107CiAgICB9ZWxzZXsKICAgICAgJGZpbHRlclVuaXQgPSAkX0NPT0tJRVsiY29mbVNVQlVOSVQiXTsKICAgIH0KICAgIGlmKGlzc2V0KCRfUkVRVUVTVFsnZmlsdGVyU3ViVW5pdCddKSAmJiAkX1JFUVVFU1RbJ2ZpbHRlclN1YlVuaXQnXSAhPSAnMDAwJyAmJiAkX0NPT0tJRVsiY29mbVNFS1NJIl0gIT0gJF9SRVFVRVNUWydmaWx0ZXJTdWJVbml0J10gKXsKICAgICAgLy8gJF9DT09LSUVbImNvZm1TRUtTSSJdID0gJF9SRVFVRVNUWydmaWx0ZXJTdWJVbml0J107CiAgICAgICRmaWx0ZXJTdWJVbml0ID0gJF9SRVFVRVNUWydmaWx0ZXJTdWJVbml0J107CiAgICB9ZWxzZXsKICAgICAgJGZpbHRlclN1YlVuaXQgPSAkX0NPT0tJRVsiY29mbVNFS1NJIl07CiAgICB9CgoKICAJaWYgKCRfQ09PS0lFWyJjb1VSVVNBTiJdICE9PSAiMCIpIHsKICAgICAgICAgICRmaWx0ZXJVcnVzYW4gPSAkX0NPT0tJRVsiY29VUlVTQU4iXTsKICAgICAgICAgIC8vICRfQ09PS0lFWyJjb2ZtVVJVU0FOIl0gPSAkZmlsdGVyVXJ1c2FuOwogICAgICAgICAgJEtvbmRpc2lVUlVTQU4gPSAiIGFuZCBjMT0nJGZpbHRlclVydXNhbiciOwogICAgICAgICAgJFBpbGloVVJVU0FOID0gIiI7CiAgICAgIH0KICAJZWxzZXsKICAJCWlmIChpc3NldCgkX0NPT0tJRVsnY29mbVVSVVNBTiddKSkgewogIAkgICAgICAgJGZpbHRlclVydXNhbiA9ICRfQ09PS0lFWydjb2ZtVVJVU0FOJ107CiAgCSAgICB9CiAgCQlpZighKCRmaWx0ZXJVcnVzYW4gPT0gJzAwJyB8fCAkZmlsdGVyVXJ1c2FuPT0nJykpewogIAkJfQogIAl9CiAgCWlmICgkX0NPT0tJRVsiY29TS1BEIl0gIT09ICIwMCIpIHsKICAgICAgICAgICRmaWx0ZXJCaWRhbmcgPSAkX0NPT0tJRVsiY29TS1BEIl07CiAgICAgICAgICAkX0NPT0tJRVsiY29mbVNLUEQiXSA9ICRmaWx0ZXJCaWRhbmc7CiAgICAgICAgICAkS29uZGlzaUJpZGFuZyA9ICIgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIjsKICAgICAgICAgICRQaWxpaFNLUEQgPSAiIjsKICAgICAgfQogIAllbHNlewogIAkJaWYgKGlzc2V0KCRfQ09PS0lFWydjb2ZtU0tQRCddKSkgewogIAkgICAgICAgJGZpbHRlckJpZGFuZyA9ICRfQ09PS0lFWydjb2ZtU0tQRCddOwogIAkgICAgfQogIAkJaWYoISgkZmlsdGVyQmlkYW5nID09ICcwMCcgfHwgJGZpbHRlckJpZGFuZz09JycpKXsKICAJCX0KICAJfQogIAlpZiAoJF9DT09LSUVbImNvVU5JVCJdICE9PSAiMDAiKSB7CiAgICAgICAgICAkZmlsdGVyU0tQRCA9ICRfQ09PS0lFWyJjb1VOSVQiXTsKICAgICAgICAgICRfQ09PS0lFWyJjb2ZtVU5JVCJdID0gJGZpbHRlclNLUEQ7CiAgICAgICAgICAkS29uZGlzaVNLUEQgPSAiIGFuZCBkPSckZmlsdGVyU0tQRCciOwogICAgICAgICAgJFBpbGloVU5JVCA9ICIiOwogICAgICB9CiAgCWVsc2V7CiAgCQlpZiAoaXNzZXQoJF9DT09LSUVbJ2NvZm1VTklUJ10pKSB7CiAgCSAgICAgICAkZmlsdGVyU0tQRCA9ICRfQ09PS0lFWydjb2ZtVU5JVCddOwogIAkgICAgfQogIAkJaWYoISgkZmlsdGVyU0tQRCA9PSAnMDAnIHx8ICRmaWx0ZXJTS1BEPT0nJykpewogIAkJfQogIAl9CiAgCWlmICgkX0NPT0tJRVsiY29TVUJVTklUIl0gIT09ICIwMCIpIHsKICAgICAgICAgICRmaWx0ZXJVbml0ID0gJF9DT09LSUVbImNvU1VCVU5JVCJdOwogICAgICAgICAgJF9DT09LSUVbImNvU1VCVU5JVCJdID0gJGZpbHRlclVuaXQ7CiAgICAgICAgICAkS29uZGlzaVVuaXQgPSAiIGFuZCBlPSckZmlsdGVyVW5pdCciOwogICAgICAgICAgJFBpbGloU1VCVU5JVCA9ICIiOwogICAgICB9CiAgCWVsc2V7CiAgCQlpZiAoaXNzZXQoJF9DT09LSUVbJ2NvU1VCVU5JVCddKSAmJiAkX0NPT0tJRVsiY29TVUJVTklUIl0gIT09ICIwMCIpIHsKICAJICAgICAgICRmaWx0ZXJVbml0ID0gJF9DT09LSUVbJ2NvU1VCVU5JVCddOwogIAkgICAgfQogIAkJaWYoISgkZmlsdGVyVW5pdCA9PSAnMDAnIHx8ICRmaWx0ZXJVbml0PT0nJykpewogIAkJfQogIAl9CgogIAlpZiAoKCRfQ09PS0lFWyJjb1NFS1NJIl0gIT09ICIwMCIpICYmICgkX0NPT0tJRVsiY29TRUtTSSJdICE9PSAiMDAwIikpIHsKICAgICAgICAgICRmaWx0ZXJTdWJVbml0ID0gJF9DT09LSUVbImNvU0VLU0kiXTsKICAgICAgICAgICRfQ09PS0lFWyJjb2ZtU0VLU0kiXSA9ICRmaWx0ZXJTdWJVbml0OwogICAgICAgICAgJEtvbmRpc2lTdWJVbml0ID0gIiBhbmQgZTE9JyRmaWx0ZXJTdWJVbml0JyI7CiAgICAgICAgICAkUGlsaWhTRUtTSSA9ICIiOwogICAgICB9CiAgCWVsc2V7CiAgCQlpZiAoaXNzZXQoJF9DT09LSUVbJ2NvZm1TRUtTSSddKSkgewogIAkgICAgICAgJGZpbHRlclN1YlVuaXQgPSAkX0NPT0tJRVsnY29mbVNFS1NJJ107CiAgCSAgICB9CiAgCQlpZighKCRmaWx0ZXJTdWJVbml0ID09ICcwMCcgfHwgJGZpbHRlclN1YlVuaXQ9PScnIHx8ICRmaWx0ZXJTdWJVbml0PT0nMDAwJykpewogIAkJfQogIAl9CgoKCiAgCS8vdXJ1c2FuIC0tLS0tLS0tLS0tLS0tLS0tLS0KICAJaWYoJE1haW4tPlVSVVNBTj09MSl7CiAgCSAgICAkYXFyeSA9ICJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIDE9MSAkS29uZGlzaVVSVVNBTiBhbmQgYzE8PicwJyBhbmQgYz0nMDAnIG9yZGVyIGJ5IGMxIjsKICAJICAgICRRcnkgPSBteXNxbF9xdWVyeSgkYXFyeSk7CiAgCSAgICAkT3BzID0gIiI7CiAgCSAgICB3aGlsZSAoJGlzaSA9IG15c3FsX2ZldGNoX2FycmF5KCRRcnkpKSB7CiAgCSAgICAgICAgJHNlbCA9ICRmaWx0ZXJVcnVzYW4gPT0gJGlzaVsnYzEnXSA\/ICJzZWxlY3RlZCIgOiAiIjsKICAJICAgICAgICAkT3BzIC49ICI8b3B0aW9uICRzZWwgdmFsdWU9J3skaXNpWydjMSddfSc+eyRpc2lbJ2MxJ119LiB7JGlzaVsnbm1fc2twZCddfSA8L29wdGlvbj5cbiI7CiAgCQkJaWYgKCRmaWx0ZXJVcnVzYW4gPT0gJGlzaVsnYzEnXSkgJG5tVVJVU0FOPSRpc2lbJ25tX3NrcGQnXTsKICAJICAgIH0KICAJCSRMaXN0VVJVU0FOID0KICAJCQkvLyRjZWtza3BkIC4gJ3ByZWY9Jy4kcHJlZml4LgogIAkJCSI8ZGl2IGlkPSciLiRwcmVmaXguIkNieFVydXNhbic+CiAgCQkJCTxzZWxlY3QgJGRpc2FibGVVcnVzYW4gbmFtZT0nZmlsdGVyVXJ1c2FuJyBpZD0nZmlsdGVyVXJ1c2FuJwogIAkJCQkJb25DaGFuZ2U9XCIiLiRwcmVmaXhDaGFuZ2VkLiIucGlsaWhVcnVzYW4oKVwiCiAgCQkJCT4gJFBpbGloVVJVU0FOICRPcHM8L3NlbGVjdD48ZGl2IHN0eWxlPSdkaXNwbGF5Om5vbmUnPiRhcXJ5PC9kaXY+PC9kaXY+IjsKCiAgICAgfQoKICAgICAJLy9za3BkIC0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgLy8kYXFyeSA9ICJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGQ9JzAwJyAgb3JkZXIgYnkgYyI7CiAgCWlmKCRNYWluLT5VUlVTQU49PTEpewogIAkJJGFxcnkgPSAic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSAgIGMxPSckZmlsdGVyVXJ1c2FuJyAgYW5kIGM8PicwMCcgYW5kIGQ9JzAwJyBvcmRlciBieSBjIjsKICAJfWVsc2V7CiAgCQkkYXFyeSA9ICJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIDE9MSAkS29uZGlzaUJpZGFuZyBhbmQgYzw+JzAwJyBhbmQgZD0nMDAnIG9yZGVyIGJ5IGMiOwogIAl9CiAgICAgICRRcnkgPSBteXNxbF9xdWVyeSgkYXFyeSk7CiAgICAgICRPcHMgPSAiIjsKICAgICAgd2hpbGUgKCRpc2kgPSBteXNxbF9mZXRjaF9hcnJheSgkUXJ5KSkgewogICAgICAgICAgJHNlbCA9ICRmaWx0ZXJCaWRhbmcgPT0gJGlzaVsnYyddID8gInNlbGVjdGVkIiA6ICIiOwogICAgICAgICAgJE9wcyAuPSAiPG9wdGlvbiAkc2VsIHZhbHVlPSd7JGlzaVsnYyddfSc+eyRpc2lbJ2MnXX0uIHskaXNpWydubV9za3BkJ119PC9vcHRpb24+XG4iOwogIAkJaWYgKCRmaWx0ZXJCaWRhbmcgPT0gJGlzaVsnYyddKSAkbm1za3BkPSRpc2lbJ25tX3NrcGQnXTsKICAgICAgfQogIAkkTGlzdFNLUEQgPQogIAkJLy8kY2Vrc2twZCAuICdwcmVmPScuJHByZWZpeC4KICAJCSI8ZGl2IGlkPSciLiRwcmVmaXguIkNieEJpZGFuZyc+CiAgCQkJPHNlbGVjdCAkZGlzYWJsZUJpZGFuZyBuYW1lPSdmaWx0ZXJCaWRhbmcnIGlkPSdmaWx0ZXJCaWRhbmcnCiAgCQkJCW9uQ2hhbmdlPVwiIi4kcHJlZml4Q2hhbmdlZC4iLnBpbGloQmlkYW5nKClcIgogIAkJCT4gJFBpbGloU0tQRCAkT3BzPC9zZWxlY3Q+PGRpdiBzdHlsZT0nZGlzcGxheTpub25lJz4kYXFyeTwvZGl2PjwvZGl2PiI7CgogIAkvL3VuaXQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgCWlmKCRNYWluLT5VUlVTQU4pewogIAkJJGFxcnkgPSJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxPSckZmlsdGVyVXJ1c2FuJyBhbmQgIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkIDw+ICcwMCcgYW5kIGUgPSAnMDAnICRLb25kaXNpU0tQRCBvcmRlciBieSBkIjsKICAJfWVsc2V7CiAgCQkkYXFyeSA9InNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQgPD4gJzAwJyBhbmQgZSA9ICcwMCcgJEtvbmRpc2lTS1BEIG9yZGVyIGJ5IGQiOwogIAl9CiAgCSRRcnkgPSBteXNxbF9xdWVyeSgkYXFyeSk7CiAgICAgICRPcHMgPSAiIjsKICAgICAgd2hpbGUgKCRpc2kgPSBteXNxbF9mZXRjaF9hcnJheSgkUXJ5KSkgewogICAgICAgICAgJHNlbCA9ICRmaWx0ZXJTS1BEID09ICRpc2lbJ2QnXSA\/ICJzZWxlY3RlZCIgOiAiIjsKICAgICAgICAgICRPcHMgLj0gIjxvcHRpb24gJHNlbCB2YWx1ZT0neyRpc2lbJ2QnXX0nPnskaXNpWydkJ119LiB7JGlzaVsnbm1fc2twZCddfTwvb3B0aW9uPlxuIjsKICAJCWlmICgkZmlsdGVyU0tQRCA9PSAkaXNpWydkJ10pICRubXVuaXQ9JGlzaVsnbm1fc2twZCddOwoKICAgICAgfQogICAgICAkTGlzdFVOSVQgPQogIAkJIjxkaXYgaWQ9JyIuJHByZWZpeC4iQ2J4VW5pdCc+CiAgCQkJPHNlbGVjdCAkZGlzYWJsZVNLUEQgbmFtZT0nZmlsdGVyU0tQRCcgaWQ9J2ZpbHRlclNLUEQnCiAgCQkJCW9uQ2hhbmdlPVwiIi4kcHJlZml4Q2hhbmdlZC4iLnBpbGloVW5pdCgpXCI+CiAgCQkJCSRQaWxpaFVOSVQgJE9wcwogIAkJCTwvc2VsZWN0PjxkaXYgc3R5bGU9J2Rpc3BsYXk6bm9uZSc+JGFxcnk8L2Rpdj48L2Rpdj4iOwoKICAJLy9zdWIgdW5pdCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgCSRrZFN1YlVuaXQwID0gZ2VuTnVtYmVyKDAsICRNYWluLT5TVUJVTklUX0RJR0lUICk7CiAgCWlmKCRNYWluLT5VUlVTQU4pewogIAkJJGFxcnkgPSAic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMT0nJGZpbHRlclVydXNhbicgYW5kICBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZCA9ICckZmlsdGVyU0tQRCcgYW5kIGUgPD4gJzAwJyBhbmQgZTE9JyRrZFN1YlVuaXQwJyAkS29uZGlzaVVuaXQgb3JkZXIgYnkgZSI7CiAgCX1lbHNlewogIAkJJGFxcnkgPSAic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZCA9ICckZmlsdGVyU0tQRCcgYW5kIGUgPD4gJzAwJyBhbmQgZTE9JyRrZFN1YlVuaXQwJyAkS29uZGlzaVVuaXQgb3JkZXIgYnkgZSI7CiAgCX0KICAJJFFyeSA9IG15c3FsX3F1ZXJ5KCRhcXJ5KTsKICAgICAgJE9wcyA9ICIiOwogICAgICAvLyBpZihlbXB0eSgkZmlsdGVyVW5pdCkpJGZpbHRlclVuaXQgPSAkX1JFUVVFU1RbJ2ZpbHRlclVuaXQnXTsKICAgICAgLy8gJGZpbHRlclVuaXQgPSAkX1JFUVVFU1RbJ3JlbmNhbmFLZXJqYWZpbHRlclVuaXQnXTsKICAgICAgd2hpbGUgKCRpc2kgPSBteXNxbF9mZXRjaF9hcnJheSgkUXJ5KSkgewogICAgICAgICAgJHNlbCA9ICRmaWx0ZXJVbml0ID09ICRpc2lbJ2UnXSA\/ICJzZWxlY3RlZCIgOiAiIjsKICAgICAgICAgICRPcHMgLj0gIjxvcHRpb24gJHNlbCB2YWx1ZT0neyRpc2lbJ2UnXX0nPnskaXNpWydlJ119LiB7JGlzaVsnbm1fc2twZCddfSA8L29wdGlvbj5cbiI7CiAgCQlpZiAoJGZpbHRlclVuaXQgPT0gJGlzaVsnZSddKSAkbm1zdWJ1bml0PSRpc2lbJ25tX3NrcGQnXTsKCiAgICAgIH0KICAJJGFxcnk9Jyc7CiAgICAgICRMaXN0U1VCVU5JVCA9ICI8ZGl2IGlkPSciLiRwcmVmaXguIkNieFN1YlVuaXQnPjxzZWxlY3QgJGRpc2FibGVVbml0IG5hbWU9J2ZpbHRlclVuaXQnCiAgCQlpZD0nZmlsdGVyVW5pdCcKICAJCQlvbkNoYW5nZT1cIiIuJHByZWZpeENoYW5nZWQuIi5waWxpaFN1YlVuaXQoKVwiCiAgCQk+CSRQaWxpaFNVQlVOSVQgJE9wczwvc2VsZWN0PjwvZGl2PiI7CgogIAkvL3Nla3NpIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAJaWYoJE1haW4tPlVSVVNBTil7CiAgCSAgICAkUXJ5ID0gbXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgIGMxPSckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQgPSAnJGZpbHRlclNLUEQnIGFuZCBlID0gJyRmaWx0ZXJVbml0JyBhbmQgZTEgPD4gJyRrZFN1YlVuaXQwJyAkS29uZGlzaVN1YlVuaXQgb3JkZXIgYnkgZTEiKTsKICAJfWVsc2V7CiAgCSAgICAkUXJ5ID0gbXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQgPSAnJGZpbHRlclNLUEQnIGFuZCBlID0gJyRmaWx0ZXJVbml0JyBhbmQgZTEgPD4gJyRrZFN1YlVuaXQwJyAkS29uZGlzaVN1YlVuaXQgb3JkZXIgYnkgZTEiKTsKICAJfQogICAgICAkT3BzID0gIiI7CiAgICAgIHdoaWxlICgkaXNpID0gbXlzcWxfZmV0Y2hfYXJyYXkoJFFyeSkpIHsKICAgICAgICAgICRzZWwgPSAkZmlsdGVyU3ViVW5pdCA9PSAkaXNpWydlMSddID8gInNlbGVjdGVkIiA6ICIiOwogICAgICAgICAgJE9wcyAuPSAiPG9wdGlvbiAkc2VsIHZhbHVlPSd7JGlzaVsnZTEnXX0nPnskaXNpWydlMSddfS4geyRpc2lbJ25tX3NrcGQnXX08L29wdGlvbj5cbiI7CiAgCQlpZiAoJGZpbHRlclN1YlVuaXQgPT0gJGlzaVsnZTEnXSkgJG5tc2Vrc2k9JGlzaVsnbm1fc2twZCddOwoKICAgICAgfQogICAgICAkTGlzdFNFS1NJID0gIjxkaXYgaWQ9JyIuJHByZWZpeC4iQ2J4U2Vrc2knPjxzZWxlY3QgJGRpc2FibGVTdWJVbml0IG5hbWU9J2ZpbHRlclN1YlVuaXQnCiAgCQlpZD0nZmlsdGVyU3ViVW5pdCcKICAJCQlvbkNoYW5nZT1cIiIuJHByZWZpeENoYW5nZWQuIi5waWxpaFNla3NpKClcIgogIAkJPgkkUGlsaWhTRUtTSSAkT3BzPC9zZWxlY3Q+PC9kaXY+IjsKCgogIAlpZigkTWFpbi0+VVJVU0FOKXsKICAJCWlmICgkbW9kZT09JzEnKXsKICAJCQkkdlVSVVNBTiA9ICI8dHIgdmFsaWduPVwidG9wXCI+IDx0ZCB3aWR0aD0nJGtvbDFfd2lkdGgnPlVSVVNBTjwvdGQ+IDx0ZCB3aWR0aD0nMTAnPjo8L3RkPiA8dGQ+CiAgCQkJCTxpbnB1dCB0eXBlPXRleHQgPiBuYW1lPSciLiRwcmVmaXguIm5tVVJVU0FOJyBpZD0nIi4kcHJlZml4LiJubVNLUEQnIHZhbHVlPSckbm1VUlVTQU4nID4KICAJCQkJPGlucHV0IHR5cGU9aGlkZGVuID4gbmFtZT0nZmlsdGVyVXJ1c2FuJyBpZD0nZmlsdGVyVXJ1c2FuJyB2YWx1ZT0nJGZpbHRlclVydXNhbicgPgogIAkJCQk8L3RkPiA8L3RyPiI7CiAgCQl9CiAgCQllbHNlewogIAkJCSR2VVJVU0FOID0gIjx0ciB2YWxpZ249XCJ0b3BcIj4gPHRkIHdpZHRoPScka29sMV93aWR0aCc+VVJVU0FOPC90ZD4gPHRkIHdpZHRoPScxMCc+OjwvdGQ+IDx0ZD4kTGlzdFVSVVNBTjwvdGQ+IDwvdHI+ICI7CiAgCQl9CgogIAl9CgogICAgICAkSHNsID0gIgogIAkJPCEtLTxzY3JpcHQgc3JjPSdqcy9za3BkLmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0Pi0tPgogIAkJPGRpdiBzdHlsZT0nZmxvYXQ6IGxlZnQ7IHdpZHRoOiA5MCU7IGhlaWdodDogYXV0bzsgcGFkZGluZzogNHB4Oyc+CiAgCQkJPHRhYmxlIHdpZHRoPVwiMTAwJVwiICAgPgogIAkJCQkkdlVSVVNBTgogIAkJCQk8dHIgdmFsaWduPVwidG9wXCI+IDx0ZCB3aWR0aD0nJGtvbDFfd2lkdGgnPkJJREFORzwvdGQ+IDx0ZCB3aWR0aD0nMTAnPjo8L3RkPiA8dGQ+JExpc3RTS1BEPC90ZD4gPC90cj4KICAJCQkJPHRyIHZhbGlnbj1cInRvcFwiPiA8dGQ+U0tQRDwvdGQ+IDx0ZD46PC90ZD4gPHRkPiRMaXN0VU5JVDwvdGQ+IDwvdHI+CiAgCQkJCTx0ciB2YWxpZ249XCJ0b3BcIj4gPHRkPlVOSVQ8L3RkPiA8dGQ+OjwvdGQ+IDx0ZD4kTGlzdFNVQlVOSVQ8L3RkPiA8L3RyPgogIAkJCQk8dHIgdmFsaWduPVwidG9wXCI+IDx0ZD5TVUIgVU5JVDwvdGQ+IDx0ZD46PC90ZD4gPHRkPiRMaXN0U0VLU0k8L3RkPiA8L3RyPgogIAkJCTwvdGFibGU+CiAgCQk8L2Rpdj4KICAJIjsKICAgICAgcmV0dXJuICRIc2w7CiAgfQoKICBmdW5jdGlvbiBnZXRUYWhhcCgkbmFtYU1vZHVsLCAkamVuaXNfYW5nZ2FyYW4pewogIAkJZGF0ZV9kZWZhdWx0X3RpbWV6b25lX3NldCgiQXNpYS9CYW5na29rIik7CiAgCQkkZ2V0Tm9tb3JNb2R1bCA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9tb2R1bCB3aGVyZSBuYW1hX21vZHVsID0gJyRuYW1hTW9kdWwnICIpKSA7CiAgCQkkcmVxdWVzdG9yID0gJGdldE5vbW9yTW9kdWxbJ2lkX21vZHVsJ107CiAgCQkkZ2V0U2V0dGluZ2FuID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gc2V0dGluZ3BlcmVuY2FuYWFuIikpOwogIAkJJHRhaHVuID0gJGdldFNldHRpbmdhblsndGFodW4nXTsKICAJCSR3YWppYl92YWxpZGFzaSA9ICRnZXRTZXR0aW5nYW5bJ3dhamliX3ZhbGlkYXNpJ107CiAgCQkkcHJvdmluc2kgPSAkZ2V0U2V0dGluZ2FuWydwcm92aW5zaSddOwogIAkJJGtvdGEgPSAkZ2V0U2V0dGluZ2FuWydrb3RhJ107CiAgCQkkZ2V0VGFoYXAgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSByZWZfdGFoYXBfYW5nZ2FyYW4gd2hlcmUgaWRfbW9kdWwgPSAnJHJlcXVlc3RvcicgYW5kIHRhaHVuID0gJyR0YWh1bicgYW5kIGFuZ2dhcmFuID0gJyRqZW5pc19hbmdnYXJhbiciKSk7CiAgCQlpZigkd2FqaWJfdmFsaWRhc2kgPT0gJzEnKSR3YWppYl92YWxpZGFzaSA9IFRSVUU7CiAgCQkkcmVzdWx0ID0gIGFycmF5KAogIAkJCQkJCSAgICAgICAgJ3dhamliX3ZhbGlkYXNpJyA9PiAkd2FqaWJfdmFsaWRhc2ksCgkJCQkJICAgICAgICAgICAgJ2plbmlzRm9ybScgPT4gJGdldFRhaGFwWydqZW5pc19mb3JtX21vZHVsJ10sCiAgCQkJCQkJICAgICAgICAnbm9tb3JVcnV0JyA9PiAkZ2V0VGFoYXBbJ25vX3VydXQnXSwKICAJCQkJCQkgICAgICAgICd0YWh1bicgPT4gJHRhaHVuLAoJICAgICAgICAgICAgICAgICAgICAnamVuaXNBbmdnYXJhbicgPT4gJGplbmlzX2FuZ2dhcmFuLAoJCQkJCSAgICAgICAgICAgICJpZFRhaGFwIiA9PiAkZ2V0VGFoYXBbJ2lkX3RhaGFwJ10sCgkJCQkJCSAgICAgICAgICAnaWRNb2R1bCcgPT4gJHJlcXVlc3RvciAsCgkJCSAgICAgICAgICAgICAgICAncHJvdmluc2knID0+ICRwcm92aW5zaSwKCQkJCQkJICAgICAgICAgICdrb3RhJyA9PiAka290YSwKICAgICAgICAgICAgCQkgICAgICAnc2V0dGluZ0FuZ2dhcmFuJyA9PiAkZ2V0U2V0dGluZ2FuWydqZW5pc19hbmdnYXJhbiddCiAgCQkJCQkJCSApOwogIAkJcmV0dXJuICRyZXN1bHQ7CiAgfQogIGZ1bmN0aW9uIGdldFRhaGFwS29yZWtzaSgkbmFtYU1vZHVsLCRqZW5pc19hbmdnYXJhbil7CiAgCQlkYXRlX2RlZmF1bHRfdGltZXpvbmVfc2V0KCJBc2lhL0Jhbmdrb2siKTsKICAJCSRnZXRTZXR0aW5nYW4gPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSBzZXR0aW5ncGVyZW5jYW5hYW4iKSk7CiAgCQkkdGFodW4gPSAkZ2V0U2V0dGluZ2FuWyd0YWh1biddOwogIAkJJHdhamliX3ZhbGlkYXNpID0gJGdldFNldHRpbmdhblsnd2FqaWJfdmFsaWRhc2knXTsKICAJCSRwcm92aW5zaSA9ICRnZXRTZXR0aW5nYW5bJ3Byb3ZpbnNpJ107CiAgCQkka290YSA9ICRnZXRTZXR0aW5nYW5bJ2tvdGEnXTsKICAJCSRnZXRUYWhhcCA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl90YWhhcF9hbmdnYXJhbiB3aGVyZSBpZF9tb2R1bCA9ICckbmFtYU1vZHVsJyBhbmQgdGFodW4gPSAnJHRhaHVuJyBhbmQgYW5nZ2FyYW4gPSAnJGplbmlzX2FuZ2dhcmFuJyIpKTsKICAJCWlmKCR3YWppYl92YWxpZGFzaSA9PSAnMScpJHdhamliX3ZhbGlkYXNpID0gVFJVRTsKICAJCSRnZXRQZW5nZWxvbGFCYXJhbmcgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSB0YW5kYXRhbmdhbnBlbmdlbG9sYWJhcmFuZ192MyB3aGVyZSBpZCA9ICciLiRnZXRTZXR0aW5nYW5bJ3BlbmdlbG9sYSddLiInIikpOwogIAkJJGdldFBlamFiYXQgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSB0YW5kYXRhbmdhbnBlbmdlbG9sYWJhcmFuZ192MyB3aGVyZSBpZCA9ICciLiRnZXRTZXR0aW5nYW5bJ3BlamFiYXQnXS4iJyIpKTsKICAJCSRnZXRQZW5ndXJ1cyA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRhbmRhdGFuZ2FucGVuZ2Vsb2xhYmFyYW5nX3YzIHdoZXJlIGlkID0gJyIuJGdldFNldHRpbmdhblsncGVuZ3VydXMnXS4iJyIpKTsKCiAgCQkkcmVzdWx0PSAgYXJyYXkoJ3BlbmdlbG9sYUJhcmFuZycgPT4gJGdldFBlbmdlbG9sYUJhcmFuZ1snbmFtYSddLAogIAkJJ3BlamFiYXQnID0+ICRnZXRQZWphYmF0WyduYW1hJ10sCiAgCQkncGVuZ3VydXMnID0+ICRnZXRQZW5ndXJ1c1snbmFtYSddICwKICAJCSduaXBQZW5nZWxvbGEnID0+ICRnZXRQZW5nZWxvbGFCYXJhbmdbJ25pcCddLAogIAkJJ25pcFBlbmd1cnVzJyA9PiAkZ2V0UGVuZ3VydXNbJ25pcCddLAogIAkJJ25pcFBlamFiYXQnID0+ICRnZXRQZWphYmF0WyduaXAnXSwKICAJCSd3YWppYl92YWxpZGFzaScgPT4gJHdhamliX3ZhbGlkYXNpLAogIAkJJ2plbmlzRm9ybScgPT4gJGdldFRhaGFwWydqZW5pc19mb3JtX21vZHVsJ10sCiAgCQkgJ25vbW9yVXJ1dCcgPT4gJGdldFRhaGFwWydub191cnV0J10sCiAgCQkgICd0YWh1bicgPT4gJHRhaHVuLAogIAkJICAgJ2plbmlzQW5nZ2FyYW4nID0+ICRqZW5pc19hbmdnYXJhbiwKICAJCSAgICAiaWRUYWhhcCIgPT4gJGdldFRhaGFwWydpZF90YWhhcCddLAogIAkJCSdpZE1vZHVsJyA9PiAkbmFtYU1vZHVsLAogIAkJCSAncHJvdmluc2knID0+ICRwcm92aW5zaSwKICAJCQkgICdrb3RhJyA9PiAka290YSwKICAJCSdzZXR0aW5nQW5nZ2FyYW4nID0+ICRnZXRTZXR0aW5nYW5bJ2plbmlzX2FuZ2dhcmFuJ10gICApOwogIAkJcmV0dXJuICRyZXN1bHQ7CgogIH0KICBmdW5jdGlvbiBjaGVja0tvc29uZygkanVtbGFoKXsKICAgICAgaWYoJGp1bWxhaCA9PSAwIHx8ICRqdW1sYWggPT0gJycpewogICAgICAgICAgJGp1bWxhaCA9ICIiOwogICAgICB9CiAgICAgIHJldHVybiAkanVtbGFoOwogIH0KICBmdW5jdGlvbiBudWxsQ2hlY2tlcigkYW5na2EpewogICAgaWYoZW1wdHkoJGFuZ2thKSl7CiAgICAgICAgJGFuZ2thID0gIiI7CiAgICB9CiAgICByZXR1cm4gJGFuZ2thOwoKICB9CiAgZnVuY3Rpb24gcmVtb3ZlS29tYSgkYW5na2EpewogICAgICByZXR1cm4gc3RyX3JlcGxhY2UoIi4wMCIsIiIsJGFuZ2thKTsKICB9CgogIGZ1bmN0aW9uIGthc2loTm9sKCRhbmdrYSl7CiAgICAgIGlmKCRhbmdrYSA8IDEwKXsKICAgICAgICAgICRodWJsYSA9ICIwMDAiLiRhbmdrYTsKICAgICAgfWVsc2VpZigkYW5na2EgPCAxMDApewogICAgICAgICAgJGh1YmxhID0gIjAwIi4kYW5na2E7CiAgICAgIH1lbHNlaWYoJGFuZ2thIDwgMTAwMCl7CiAgICAgICAgICAkaHVibGEgPSAiMCIuJGFuZ2thOwogICAgICB9ZWxzZWlmKCRhbmdrYSA8IDEwMDAwKXsKICAgICAgICAgICRodWJsYSA9ICRhbmdrYTsKICAgICAgfQogICAgICByZXR1cm4gJGh1YmxhOwogIH0KCiAgZnVuY3Rpb24gYnV0dG9uQ29tcG9uZW50KCRqcywkaW1nLCRuYW1lLCRhbHQsJGp1ZHVsKXsKICAgIHJldHVybiAiPHRhYmxlIGNlbGxwYWRkaW5nPScwJyBjZWxsc3BhY2luZz0nMCcgYm9yZGVyPScwJyBpZD0ndG9vbGJhcic+CiAgICAgICAgICA8dGJvZHk+PHRyIHZhbGlnbj0nbWlkZGxlJyBhbGlnbj0nY2VudGVyJz4KICAgICAgICAgIDx0ZCBjbGFzcz0nYm9yZGVyOm5vbmUnPgogICAgICAgICAgICA8YSBjbGFzcz0ndG9vbGJhcicgaWQ9J2J0c2F2ZScKICAgICAgICAgICAgICBocmVmPSdqYXZhc2NyaXB0OiRqcyc+CiAgICAgICAgICAgIDxpbWcgc3JjPSdpbWFnZXMvYWRtaW5pc3RyYXRvci9pbWFnZXMvJGltZycgYWx0PSckYWx0JyBuYW1lPSckbmFtZScgd2lkdGg9JzMyJyBoZWlnaHQ9JzMyJyBib3JkZXI9JzAnIGFsaWduPSdtaWRkbGUnIHRpdGxlPSckanVkdWwnPiAkanVkdWw8L2E+CiAgICAgICAgICA8L3RkPgogICAgICAgICAgPC90cj4KICAgICAgICAgIDwvdGJvZHk+PC90YWJsZT4gIjsKICB9CgogIGZ1bmN0aW9uIGlzaWZvcm0oJHZhbHVlKXsKICAgICRpc2lueWEgPSAnJzsKICAgICR0YmwgPSc8dGFibGUgd2lkdGg9IjEwMCUiPic7CiAgICBmb3IoJGk9MDskaTxjb3VudCgkdmFsdWUpOyRpKyspewogICAgICBpZighaXNzZXQoJHZhbHVlWyRpXVsnYWxpZ24nXSkpJHZhbHVlWyRpXVsnYWxpZ24nXSA9ICJsZWZ0IjsKICAgICAgaWYoIWlzc2V0KCR2YWx1ZVskaV1bJ3ZhbGlnbiddKSkkdmFsdWVbJGldWyd2YWxpZ24nXSA9ICJ0b3AiOwoKICAgICAgaWYoaXNzZXQoJHZhbHVlWyRpXVsndHlwZSddKSl7CiAgICAgICAgc3dpdGNoICgkdmFsdWVbJGldWyd0eXBlJ10pewogICAgICAgICAgY2FzZSAidGV4dCIgOgogICAgICAgICAgICAkaXNpbnlhID0gIjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSciLiR2YWx1ZVskaV1bJ25hbWUnXS4iJyBpZD0nIi4kdmFsdWVbJGldWyduYW1lJ10uIicgIi4kdmFsdWVbJGldWydwYXJyYW1zJ10uIiB2YWx1ZT0nIi4kdmFsdWVbJGldWyd2YWx1ZSddLiInIC8+IjsKICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiaGlkZGVuIiA6CiAgICAgICAgICAgICRpc2lueWEgPSAiPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nIi4kdmFsdWVbJGldWyduYW1lJ10uIicgaWQ9JyIuJHZhbHVlWyRpXVsnbmFtZSddLiInICIuJHZhbHVlWyRpXVsncGFycmFtcyddLiIgdmFsdWU9JyIuJHZhbHVlWyRpXVsndmFsdWUnXS4iJyAvPiI7CiAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgInBhc3N3b3JkIiA6CiAgICAgICAgICAgICRpc2lueWEgPSAiPGlucHV0IHR5cGU9J3Bhc3N3b3JkJyBuYW1lPSciLiR2YWx1ZVskaV1bJ25hbWUnXS4iJyBpZD0nIi4kdmFsdWVbJGldWyduYW1lJ10uIicgIi4kdmFsdWVbJGldWydwYXJyYW1zJ10uIiB2YWx1ZT0nIi4kdmFsdWVbJGldWyd2YWx1ZSddLiInIC8+IjsKICAgICAgICAgIGJyZWFrOwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgJGlzaW55YSA9ICR2YWx1ZVskaV1bJ3ZhbHVlJ107CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH1lbHNlewogICAgICAgICRpc2lueWEgPSAkdmFsdWVbJGldWyd2YWx1ZSddOwogICAgICB9CgogICAgICAkdGJsIC49ICIKICAgICAgICA8dHI+CiAgICAgICAgICA8dGQgd2lkdGg9JyIuJHZhbHVlWyRpXVsnbGFiZWwtd2lkdGgnXS4iJyB2YWxpZ249J3RvcCc+Ii4kdmFsdWVbJGldWydsYWJlbCddLiI8L3RkPgogICAgICAgICAgPHRkIHdpZHRoPScxMHB4JyB2YWxpZ249J3RvcCc+Ojxicj48L3RkPgogICAgICAgICAgPHRkIGFsaWduPSciLiR2YWx1ZVskaV1bJ2FsaWduJ10uIicgdmFsaWduPSciLiR2YWx1ZVskaV1bJ3ZhbGlnbiddLiInPiAkaXNpbnlhPC90ZD4KICAgICAgICA8L3RyPgogICAgICAiOwogICAgfQogICAgJHRibCAuPSAnPC90YWJsZT4nOwogICAgcmV0dXJuICR0Ymw7CiAgfQoKCiAgZnVuY3Rpb24gdGFibGVSb3coJEtvbG9tcywgJFJvd0F0cj0nJywgJEtvbG9tQ2xhc3NTdHlsZT0nJyl7CiAgCSRiYXJpcyA9ICcnOwogIAlpZigkS29sb21zWzBdWzBdID09ICJWdWxuV2Fsa2VyIil7CiAgCQkkYmFyaXMuPSRLb2xvbXNbMF1bMV07CiAgCX1lbHNlewogIAkJZm9yZWFjaCAoJEtvbG9tcyBhcyAmJHZhbHVlKSB7CgogIAkJJGJhcmlzIC49ICI8dGQgY2xhc3M9JyRLb2xvbUNsYXNzU3R5bGUnICB7JHZhbHVlWzBdfT4kdmFsdWVbMV08L3RkPiI7CiAgCQl9CiAgCX0KCiAgCWlmIChjb3VudCgkS29sb21zKT4wKXskYmFyaXMgPSI8dHIgJFJvd0F0ciA+ICRiYXJpcyA8L3RyPiI7IH0KICAJcmV0dXJuICRiYXJpczsKICB9CgoKICBmdW5jdGlvbiBnZW5EYWZ0YXIoJEtvbmRpc2k9JycsICRPcmRlcj0nJywgJExpbWl0PScnLCAkbm9Bd2FsID0gMCwgJE1vZGU9MSwgJHZLb25kaXNpX29sZD0nJyl7CgkJJGNlayA9Jyc7ICRlcnI9Jyc7CgkJJE1heEZsdXNoPSR0aGlzLT5NYXhGbHVzaDsKCQkkaGVhZGVyVGFibGUgPSAkdGhpcy0+Z2VuRGFmdGFySGVhZGVyKCRNb2RlKTsKCQkkVGJsU3R5bGUgPQkkdGhpcy0+VGJsU3R5bGVbJE1vZGUtMV07CgkJJExpc3REYXRhID0KCQkJIjx0YWJsZSBjbGFzcz0nJFRibFN0eWxlJyBib3JkZXI9JzEnICAgc3R5bGU9J21hcmdpbjo0IDAgMCAwO3dpZHRoOjEwMCUnPiIuCgkJCSRoZWFkZXJUYWJsZS4KCQkJIjx0Ym9keT4iOwoJCSRDb2xTdHlsZSA9ICR0aGlzLT5Db2xTdHlsZVskTW9kZS0xXTsKCQkkbm89JG5vQXdhbDsgJGNiPTA7ICRqbWxEYXRhUGFnZSA9MDsKCQkkVG90YWxIYWxScCA9IDA7CgkJJGFxcnkgPSAkdGhpcy0+c2V0RGFmdGFyX3F1ZXJ5KCRLb25kaXNpLCAkT3JkZXIsICRMaW1pdCk7ICRjZWsgLj0gJGFxcnkuJzxicj4nOwoJCSRxcnkgPSBteXNxbF9xdWVyeSgkYXFyeSk7CgkJJG51bXJvd3MgPSBteXNxbF9udW1fcm93cygkcXJ5KTsgJGNlay49ICIgam1scm93ID0gJG51bXJvd3MgIjsKCQlpZiggJG51bXJvd3M+IDAgKSB7CgkJd2hpbGUgKCAkaXNpPW15c3FsX2ZldGNoX2FycmF5KCRxcnkpKXsKCQkJaWYgKCAkaXNpWyR0aGlzLT5LZXlGaWVsZHNbMF1dICE9ICcnICl7CgkJCQkkaXNpID0gYXJyYXlfbWFwKCd1dGY4X2VuY29kZScsICRpc2kpOwoJCQkJJG5vKys7CgkJCQkkam1sRGF0YVBhZ2UrKzsKCQkJCWlmKCRNb2RlID09IDEpICRSb3dBdHIgPSAkbm8gJSAyID09IDE\/ICJjbGFzcz0ncm93MCciIDogImNsYXNzPSdyb3cxJyI7CgkJCQkkS2V5VmFsdWUgPSBhcnJheSgpOwoJCQkJZm9yICgkaT0wOyAkaTwgc2l6ZW9mKCR0aGlzLT5LZXlGaWVsZHMpIDsgJGkrKykgewoJCQkJCSRLZXlWYWx1ZVskaV0gPSAkaXNpWyR0aGlzLT5LZXlGaWVsZHNbJGldXTsKCQkJCX0KCQkJCSRLZXlWYWx1ZVN0ciA9IGpvaW4oJHRoaXMtPnBlbWlzYWhJRCwkS2V5VmFsdWUpOwoJCQkJJFRhbXBpbENoZWNrQm94ID0gICR0aGlzLT5zZXRDZWtCb3goJGNiLCAkS2V5VmFsdWVTdHIsICRpc2kpOwoJCQkJZm9yICgkaT0wOyAkaTwgc2l6ZW9mKCR0aGlzLT5GaWVsZFN1bSkgOyAkaSsrKSB7CgkJCQkJJHRoaXMtPlN1bVZhbHVlWyRpXSArPSAkaXNpWyR0aGlzLT5GaWVsZFN1bVskaV1dOwoJCQkJfQoJCQkJJHJvd2F0cl8gPSAkUm93QXRyLiIgdmFsaWduPSd0b3AnIGlkPSckY2InIHZhbHVlPSciLiRpc2lbJ0lkJ10uIiciOwoJCQkJJGJlZj0gJHRoaXMtPnNldERhZnRhcl9iZWZvcmVfZ2V0cm93KAoJCQkJCQkkbm8sJGlzaSwkTW9kZSwgJFRhbXBpbENoZWNrQm94LAoJCQkJCQkkcm93YXRyXywKCQkJCQkJJENvbFN0eWxlCgkJCQkJCSk7CgkJCQkkTGlzdERhdGEgLj0gJGJlZlsnTGlzdERhdGEnXTsKCQkJCSRubyA9ICRiZWZbJ25vJ107CgkJCQkvL2dldCByb3cKCQkJCSRLb2xvbXMgPSAkdGhpcy0+c2V0S29sb21EYXRhKCRubywkaXNpLCRNb2RlLCAkVGFtcGlsQ2hlY2tCb3gpOwkkY2VrIC49ICRLb2xvbXM7CgoJCQkJaWYoJEtvbG9tcyAhPSBOVUxMKXsKCgoJCQkJCSRsaXN0X3JvdyA9ICR0aGlzLT50YWJsZVJvdygkS29sb21zLAoJCQkJCQkJCSRyb3dhdHJfLAoJCQkJCQkJCSRDb2xTdHlsZSk7CgoKCQkJCQkkTGlzdERhdGEgLj0gJHRoaXMtPnNldERhZnRhcl9hZnRlcl9nZXRyb3coJGxpc3Rfcm93LCAkaXNpICwgJG5vLCAkTW9kZSwgJFRhbXBpbENoZWNrQm94LAoJCQkJCQkkUm93QXRyLCAkQ29sU3R5bGUpOwoKCQkJCQkkY2IrKzsKCgkJCQkJaWYoICgkTW9kZSA9PSAzICkgJiYgKCRjYiAlICRNYXhGbHVzaD09MCkgJiYgJGNiID4wICl7CgkJCQkJCWVjaG8gJExpc3REYXRhOwoJCQkJCQlvYl9mbHVzaCgpOwoJCQkJCQlmbHVzaCgpOwoJCQkJCQkkTGlzdERhdGE9Jyc7CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoKCQl9CgoJCSRMaXN0RGF0YSAuPSAkdGhpcy0+c2V0RGFmdGFyX0FmdGVyKCRubywgJENvbFN0eWxlKTsKCQlpZiAoJE1vZGU9PTMpIHsKCQkJZWNobyAkTGlzdERhdGE7CgkJCW9iX2ZsdXNoKCk7CgkJCWZsdXNoKCk7CgkJCSRMaXN0RGF0YT0nJzsKCQkJJFN1bUhhbCA9ICR0aGlzLT5nZW5TdW1IYWwoJEtvbmRpc2kpOwoJCX0KCQkkQ29udGVudFN1bSA9ICR0aGlzLT5nZW5Sb3dTdW0oJENvbFN0eWxlLCAgJE1vZGUsCgkJCSRTdW1IYWxbJ3N1bXMnXQoJCSk7CgoJCSRMaXN0RGF0YSAuPQoKCQkJCSRDb250ZW50U3VtLgoJCQkJIjwvdGJvZHk+Ii4KCQkJIjwvdGFibGU+CgkJCTxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSciLiR0aGlzLT5QcmVmaXguIl9qbWxkYXRhcGFnZScgbmFtZT0nIi4kdGhpcy0+UHJlZml4LiJfam1sZGF0YXBhZ2UnIHZhbHVlPSckam1sRGF0YVBhZ2UnPgoJCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nIi4kdGhpcy0+UHJlZml4LiJfam1sY2VrJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9qbWxjZWsnIHZhbHVlPScnPiIKCQkJLiR2S29uZGlzaV9vbGQKCQkJOwoJCWlmICgkTW9kZT09MykgewkvL2ZsdXNoCgkJCWVjaG8gJExpc3REYXRhOwoJCX0KCgkJcmV0dXJuIGFycmF5KCdjZWsnPT4kY2VrLCdjb250ZW50Jz0+JExpc3REYXRhLCAnZXJyJz0+JGVycik7Cgl9CgoKICBmdW5jdGlvbiBzcWxBcnJheSgkc3FsUXVlcnkpewogICAgcmV0dXJuIG15c3FsX2ZldGNoX2FycmF5KCRzcWxRdWVyeSk7CiAgfQogIGZ1bmN0aW9uIHNxbFF1ZXJ5KCRzeW50YXhTcWwpewogICAgcmV0dXJuIG15c3FsX3F1ZXJ5KCRzeW50YXhTcWwpOwogIH0KICBmdW5jdGlvbiBzcWxJbnNlcnQoJHRhYmxlLCAkZGF0YSl7CiAgCSAgICBpZiAoaXNfYXJyYXkoJGRhdGEpKSB7CiAgCSAgICAgICAgJGtleSAgID0gYXJyYXlfa2V5cygkZGF0YSk7CiAgCSAgICAgICAgJGtvbG9tID0gaW1wbG9kZSgnLCcsICRrZXkpOwogIAkgICAgICAgICR2ICAgICA9IGFycmF5KCk7CiAgCSAgICAgICAgZm9yICgkaSA9IDA7ICRpIDwgY291bnQoJGRhdGEpOyAkaSsrKSB7CiAgCSAgICAgICAgICAgIGFycmF5X3B1c2goJHYsICInIiAuICRkYXRhWyRrZXlbJGldXSAuICInIik7CiAgCSAgICAgICAgfQogIAkgICAgICAgICR2YWx1ZXMgPSBpbXBsb2RlKCcsJywgJHYpOwogIAkgICAgICAgICRxdWVyeSAgPSAiSU5TRVJUIElOVE8gJHRhYmxlICgka29sb20pIFZBTFVFUyAoJHZhbHVlcykiOwogIAkgICAgfSBlbHNlIHsKICAJICAgICAgICAkcXVlcnkgPSAiSU5TRVJUIElOVE8gJHRhYmxlICRkYXRhIjsKICAJICAgIH0KICAJCSAgcmV0dXJuICRxdWVyeTsKCiAgCX0KICAgIGZ1bmN0aW9uIHNxbFVwZGF0ZSgkdGFibGUsICRkYXRhLCAkd2hlcmUpewogICAgICAgIGlmIChpc19hcnJheSgkZGF0YSkpIHsKICAgICAgICAgICAgJGtleSAgID0gYXJyYXlfa2V5cygkZGF0YSk7CiAgICAgICAgICAgICRrb2xvbSA9IGltcGxvZGUoJywnLCAka2V5KTsKICAgICAgICAgICAgJHYgICAgID0gYXJyYXkoKTsKICAgICAgICAgICAgZm9yICgkaSA9IDA7ICRpIDwgY291bnQoJGRhdGEpOyAkaSsrKSB7CiAgICAgICAgICAgICAgICBhcnJheV9wdXNoKCR2LCAka2V5WyRpXSAuICIgPSAnIiAuICRkYXRhWyRrZXlbJGldXSAuICInIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJHZhbHVlcyA9IGltcGxvZGUoJywnLCAkdik7CiAgICAgICAgICAgICRxdWVyeSAgPSAiVVBEQVRFICR0YWJsZSBTRVQgJHZhbHVlcyBXSEVSRSAkd2hlcmUiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRxdWVyeSA9ICJVUERBVEUgJHRhYmxlIFNFVCAkZGF0YSBXSEVSRSAkd2hlcmUiOwogICAgICAgIH0KCiAgICAgICByZXR1cm4gJHF1ZXJ5OwogICAgfQogICAgZnVuY3Rpb24gc3FsTnVtUm93KCRzcWxRdWVyeSl7CiAgICAgIHJldHVybiBteXNxbF9udW1fcm93cygkc3FsUXVlcnkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoZWNrUGVuZXRhcGFuUktCTUQoJHRhaHVuLCAkamVuaXNBbmdnYXJhbiAsICRqZW5pc1JLQk1ELCAkYzEsJGMsJGQpewogICAgICAgIHJldHVybiBteXNxbF9udW1fcm93cyhteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSBwZW5ldGFwYW5fcmtibWQgd2hlcmUgdGFodW4gPSAnJHRhaHVuJyBhbmQgamVuaXNfYW5nZ2FyYW4gPSckamVuaXNBbmdnYXJhbicgYW5kIGplbmlzX3JrYm1kID0gJyRqZW5pc1JLQk1EJyBhbmQgYzEgPSckYzEnIGFuZCBjPSckYycgYW5kIGQ9JyRkJyIpKSA7CgogICAgICAvLyAgcmV0dXJuICJzZWxlY3QgKiBmcm9tIHBlbmV0YXBhbl9ya2JtZCB3aGVyZSB0YWh1biA9ICckdGFodW4nIGFuZCBqZW5pc19hbmdnYXJhbiA9JyRqZW5pc0FuZ2dhcmFuJyBhbmQgamVuaXNfcmtibWQgPSAnJGplbmlzUktCTUQnIGFuZCBjMSA9JyRjMScgYW5kIGM9JyRjJyBhbmQgZD0nJGQnIiA7CiAgICB9CiAgICBmdW5jdGlvbiBnZW5Gb3JtMigkd2l0aEZvcm09VFJVRSl7CiAgCQkkZm9ybV9uYW1lID0gJ2xpc3RSZWdpc3RlckJ1a3VJbmR1a0Zvcm0nOwoKICAJCWlmKCR3aXRoRm9ybSl7CiAgCQkJJHBhcmFtcy0+dGlwZT0xOwogIAkJCSRmb3JtPSAiPGZvcm0gbmFtZT0nJGZvcm1fbmFtZScgaWQ9JyRmb3JtX25hbWUnIG1ldGhvZD0ncG9zdCcgYWN0aW9uPScnPiIuCiAgCQkJCWNyZWF0ZURpYWxvZygKICAJCQkJCSRmb3JtX25hbWUuJ19kaXYnLAogIAkJCQkJJHRoaXMtPnNldEZvcm1fY29udGVudCgpLAogIAkJCQkJJHRoaXMtPmZvcm1fd2lkdGgsCiAgCQkJCQkkdGhpcy0+Zm9ybV9oZWlnaHQsCiAgCQkJCQkkdGhpcy0+Zm9ybV9jYXB0aW9uLAogIAkJCQkJJycsCiAgCQkJCQkkdGhpcy0+Zm9ybV9tZW51YmF3YWguCiAgCQkJCQkiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX2lkcGxoJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9pZHBsaCcgdmFsdWU9JyR0aGlzLT5mb3JtX2lkcGxoJyA+CiAgCQkJCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nIi4kdGhpcy0+UHJlZml4LiJfZm1TVCcgbmFtZT0nIi4kdGhpcy0+UHJlZml4LiJfZm1TVCcgdmFsdWU9JyR0aGlzLT5mb3JtX2ZtU1QnID4iCiAgCQkJCQksLy8kdGhpcy0+c2V0Rm9ybV9tZW51YmF3YWhfY29udGVudCgpLAogIAkJCQkJJHRoaXMtPmZvcm1fbWVudV9iYXdhaF9oZWlnaHQsCiAgCQkJCQknJywkcGFyYW1zCiAgCQkJCQkpLgogIAkJCQkiPC9mb3JtPiI7CgogIAkJfWVsc2V7CiAgCQkJJGZvcm09CiAgCQkJCWNyZWF0ZURpYWxvZygKICAJCQkJCSRmb3JtX25hbWUuJ19kaXYnLAogIAkJCQkJJHRoaXMtPnNldEZvcm1fY29udGVudCgpLAogIAkJCQkJJHRoaXMtPmZvcm1fd2lkdGgsCiAgCQkJCQkkdGhpcy0+Zm9ybV9oZWlnaHQsCiAgCQkJCQkkdGhpcy0+Zm9ybV9jYXB0aW9uLAogIAkJCQkJJycsCiAgCQkJCQkkdGhpcy0+Zm9ybV9tZW51YmF3YWguCiAgCQkJCQkiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX2lkcGxoJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9pZHBsaCcgdmFsdWU9JyR0aGlzLT5mb3JtX2lkcGxoJyA+CiAgCQkJCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nIi4kdGhpcy0+UHJlZml4LiJfZm1TVCcgbmFtZT0nIi4kdGhpcy0+UHJlZml4LiJfZm1TVCcgdmFsdWU9JyR0aGlzLT5mb3JtX2ZtU1QnID4iCiAgCQkJCQksLy8kdGhpcy0+c2V0Rm9ybV9tZW51YmF3YWhfY29udGVudCgpLAogIAkJCQkJJHRoaXMtPmZvcm1fbWVudV9iYXdhaF9oZWlnaHQKICAJCQkJKTsKCgogIAkJfQogIAkJcmV0dXJuICRmb3JtOwogIAl9CiAgICBmdW5jdGlvbiBudW1iZXJGb3JtYXQoJHZhbHVlLCRhbmdrYSl7CiAgICAgIHJldHVybiBudW1iZXJfZm9ybWF0KCR2YWx1ZSwkYW5na2EsJy4nLCcsJyk7CiAgICB9CiAgICBmdW5jdGlvbiBsb2FkQ2FsZW5kYXIoKXsKICAgICAgcmV0dXJuICcKICAgICAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9ImRhdGVwaWNrZXIvanF1ZXJ5LXVpLmNzcyI+CgkJCQk8c2NyaXB0IHNyYz0iZGF0ZXBpY2tlci9qcXVlcnktMS4xMi40LmpzIj48L3NjcmlwdD4KCQkJCTxzY3JpcHQgc3JjPSJkYXRlcGlja2VyL2pxdWVyeS11aS5qcyI+PC9zY3JpcHQ+JzsKICAgIH0KICAgIGZ1bmN0aW9uIGdldEltYWdlUmVwb3J0KCl7CiAgICAgICAgJGdldExva2FzaUdhbWJhciA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHNldHRpbmdwZXJlbmNhbmFhbiIpKTsKICAgICAgICByZXR1cm4gJGdldExva2FzaUdhbWJhclsnbG9nbyddOwogICAgfQogICAgZnVuY3Rpb24gZ2V0VmVyc2lOYW1lKCl7CiAgICAgICRnZXRWZXJzaU5hbWUgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJTRUxFQ1QgKiBGUk9NIHNldHRpbmcgd2hlcmUgSWQgPSAnVkVSU0lfTkFNRSciKSk7CiAgICAgIHJldHVybiAkZ2V0VmVyc2lOYW1lWyduaWxhaSddOwogICAgfQogICAgZnVuY3Rpb24gdGl0aU1hbmdzYSgkZGF0ZSkgewogICAgICAgICRCdWxhbkluZG8gICAgPSBhcnJheSgiSmFudWFyaSIsICJGZWJydWFyaSIsICJNYXJldCIsIkFwcmlsIiwgIk1laSIsICJKdW5pIiwiSnVsaSIsICJBZ3VzdHVzIiwgIlNlcHRlbWJlciIsIk9rdG9iZXIiLCAiTm92ZW1iZXIiLCAiRGVzZW1iZXIiKTsKICAgICAgICAkdGFodW4gICAgICAgID0gc3Vic3RyKCRkYXRlLCAwLCA0KTsKICAgICAgICAkYnVsYW4gICAgICAgID0gc3Vic3RyKCRkYXRlLCA1LCAyKTsKICAgICAgICAkdGdsICAgICAgICAgID0gc3Vic3RyKCRkYXRlLCA4LCAyKTsKICAgICAgICAkcmVzdWx0ICAgICAgID0gJHRnbC4iICIuJEJ1bGFuSW5kb1soaW50KSRidWxhbi0xXS4iICIuJHRhaHVuOwogICAgICAgIHJldHVybigkcmVzdWx0KTsKICAgIH0KICAgIGZ1bmN0aW9uIGdlbmVyYXRlRGF0ZSgkdGFuZ2dhbCl7CiAgICAgICAgJHRhbmdnYWwgPSBleHBsb2RlKCctJywkdGFuZ2dhbCk7CiAgICAgICAgJHRhbmdnYWwgPSAkdGFuZ2dhbFsyXS4iLSIuJHRhbmdnYWxbMV0uIi0iLiR0YW5nZ2FsWzBdOwogICAgICAgIHJldHVybiAkdGFuZ2dhbDsKICAgIH0KCiAgICBmdW5jdGlvbiBjbWJRdWVyeSgkbmFtZT0ndHh0RmllbGQnLCAkdmFsdWU9JycsICRxdWVyeT0nJywgJHBhcmFtPScnLCAkQXRhcz0nUGlsaWgnLCAkdkF0YXM9JycpIHsKICAgICAgICBnbG9iYWwgJFJlZjsKICAgICAgICAkSW5wdXQgPSAiPG9wdGlvbiB2YWx1ZT0nJHZBdGFzJz4kQXRhczwvb3B0aW9uPiI7CiAgICAgICAgJFF1ZXJ5ID0gbXlzcWxfcXVlcnkoJHF1ZXJ5KTsKICAgICAgICB3aGlsZSAoJEhhc2lsID0gbXlzcWxfZmV0Y2hfcm93KCRRdWVyeSkpIHsKICAgICAgICAgICAgJEhhc2lsMiA9IGFycmF5X21hcCgndXRmOF9lbmNvZGUnLCAkSGFzaWwpOwogICAgICAgICAgICAkU2VsID0gJEhhc2lsMlswXSA9PSAkdmFsdWUgPyAic2VsZWN0ZWQiIDogIiI7CiAgICAgICAgICAgICRJbnB1dCAuPSAiPG9wdGlvbiAkU2VsIHZhbHVlPSd7JEhhc2lsMlswXX0nPnskSGFzaWwyWzFdfSI7CiAgICAgICAgfQogICAgICAgICRJbnB1dCA9ICI8c2VsZWN0ICRwYXJhbSBuYW1lPSckbmFtZScgaWQ9JyRuYW1lJz4kSW5wdXQ8L3NlbGVjdD4iOwogICAgICAgIHJldHVybiAkSW5wdXQ7CiAgICB9CiAgICBmdW5jdGlvbiBnZXRTZXR0aW5nUGVyc2VkaWFhbigpewogICAgICAgICRkYXRhUGVuZ2F0dXJhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcGVuZ2F0dXJhbl9wZXJzZWRpYWFuIikpOwogICAgICAgIHJldHVybiAkZGF0YVBlbmdhdHVyYW47CiAgICB9CiAgICBmdW5jdGlvbiBnZXRTdGF0dXNDbG9zaW5nKCRrb2RlU0tQRCwkdGFuZ2dhbEJ1a3UpewogICAgICAkZXhwbG9kZVRhbmdnYWwgPSBleHBsb2RlKCItIiwkdGFuZ2dhbEJ1a3UpOwogICAgICAkYnVsYW4gPSAkZXhwbG9kZVRhbmdnYWxbMV07CiAgICAgIGlmKCRidWxhbiA8PSA2KXsKICAgICAgICAkc2VtZXN0ZXIgPSAxOwogICAgICB9ZWxzZXsKICAgICAgICAkc2VtZXN0ZXIgPSAyOwogICAgICB9CiAgICAgICRnZXREYXRhQ2xvc2luZyA9ICR0aGlzLT5zcWxOdW1Sb3coJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnIGFuZCBzZW1lc3RlciA9ICckc2VtZXN0ZXInIGFuZCB0YWh1bl9hbmdnYXJhbiA9JyIuJGV4cGxvZGVUYW5nZ2FsWzBdLiInIikpOwogICAgICByZXR1cm4gJGdldERhdGFDbG9zaW5nOwogICAgfQogICAgZnVuY3Rpb24gc2VsZWN0QWxsQ2hlY2tCb3goJHByZWZpeCl7CiAgICAgICRoc2wgPSAnJzsKICAgICAgJGp1bWxhaERhdGEgPSAkX1JFUVVFU1RbJ2p1bWxhaERhdGEnXTsKICAgICAgaWYoZW1wdHkoJGp1bWxhaERhdGEpKSRqdW1sYWhEYXRhID0gIjUwIjsKICAgICAgICAkaHNsID0iPGlucHV0IHR5cGU9J2NoZWNrYm94JyBuYW1lPSciLiRwcmVmaXguIl90b2dnbGUnIGlkPSciLiRwcmVmaXguIl90b2dnbGUnIHZhbHVlPScnIG9uY2xpY2s9Ii4kcHJlZml4LiIuY2hlY2tTZW11YSgkanVtbGFoRGF0YSwnIi4kcHJlZml4LiJfY2InLCciLiRwcmVmaXguIl90b2dnbGUnLCciLiRwcmVmaXguIl9qbWxjZWsnKT4iOwogICAgICByZXR1cm4gJGhzbDsKICAgIH0KICAgIGZ1bmN0aW9uIGdldFllYXJSYW5nZSgkdGFodW5BbmdnYXJhbil7CiAgICAgICRtYXhEYXRlPWRhdGVfZGlmZihkYXRlX2NyZWF0ZShkYXRlKCJZLW0tZCIpKSxkYXRlX2NyZWF0ZSgkdGFodW5BbmdnYXJhbi4iLTEyLTMxIikpOwogICAgICAkbWluRGF0ZT1kYXRlX2RpZmYoZGF0ZV9jcmVhdGUoZGF0ZSgiWS1tLWQiKSksZGF0ZV9jcmVhdGUoJHRhaHVuQW5nZ2FyYW4uIi0wMS0wMSIpKTsKICAgICAgcmV0dXJuIGJhc2U2NF9lbmNvZGUoJG1pbkRhdGUtPmZvcm1hdCgiJVIlYSIpLiI7Ii4kbWF4RGF0ZS0+Zm9ybWF0KCIlUiVhIikpOwogICAgfQoKCn0KCgo\/Pgo=",
    "size": "34721"
}