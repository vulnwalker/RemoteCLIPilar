{
    "namaFile": "js\/perencanaanKeuangan\/rkaPPKD\/rkaPPKD31.js",
    "lastUpdate": "2018-08-23+11:13:27.90",
    "contentFile": "dmFyIHJrYVBQS0QzMUZpbHRlclNLUEQgPSBuZXcgU2twZENscyh7CiAgcHJlZml4OiAicmthUFBLRDMxIiwKICBmb3JtTmFtZTogInJrYVBQS0QzMUZvcm0iLAoKICBwaWxpaFVydXNhbmZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgLy8gcmthUFBLRDMxLnJlZnJlc2hMaXN0KHRydWUpOwogICAgcmthUFBLRDMxLmZpbHRlclJlbmRlcigpOwogIH0sCiAgcGlsaWhCaWRhbmdBZnRlcjogZnVuY3Rpb24oKSB7CiAgICAvLyBya2FQUEtEMzEucmVmcmVzaExpc3QodHJ1ZSk7CiAgICBya2FQUEtEMzEuZmlsdGVyUmVuZGVyKCk7CiAgfSwKICBwaWxpaFVuaXRBZnRlcjogZnVuY3Rpb24oKSB7CiAgICAvLyBya2FQUEtEMzEucmVmcmVzaExpc3QodHJ1ZSk7CiAgICBya2FQUEtEMzEuZmlsdGVyUmVuZGVyKCk7CiAgfSwKICAvLyBya2FQUEtEMzEucmVmcmVzaExpc3QodHJ1ZSk7CiAgcGlsaWhTdWJVbml0QWZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgcmthUFBLRDMxLmZpbHRlclJlbmRlcigpOwogIH0sCiAgcGlsaWhTZWtzaUFmdGVyOiBmdW5jdGlvbigpIHsKICAgIC8vIHJrYVBQS0QzMS5yZWZyZXNoTGlzdCh0cnVlKTsKICAgIHJrYVBQS0QzMS5maWx0ZXJSZW5kZXIoKTsKICB9Cn0pOwp2YXIgcmthUFBLRDMxID0gbmV3IERhZnRhck9iajIoewogIHByZWZpeDogInJrYVBQS0QzMSIsCiAgdXJsOiAicGdLZXUucGhwP1BnPXJrYVBQS0QzMSIsCiAgZm9ybU5hbWU6ICJya2FQUEtEMzFGb3JtIiwKICBya2FQUEtEMzFfZm9ybTogIjAiLCAvL2RlZmF1bHQganMgcmthUFBLRDMxCiAgbG9hZGluZzogZnVuY3Rpb24oKSB7CiAgICAvL2FsZXJ0KCdsb2FkaW5nJyk7CiAgICB0aGlzLnRvcEJhclJlbmRlcigpOwogICAgdGhpcy5maWx0ZXJSZW5kZXIoKTsKICAgIHRoaXMuZGFmdGFyUmVuZGVyKCk7CiAgICB0aGlzLnN1bUhhbFJlbmRlcigpOwogIH0sCiAgdG9wQmFyUmVuZGVyOiBmdW5jdGlvbigpewogICAgdmFyIG1lPXRoaXM7CiAgICAvL3JlbmRlciBzdWJ0aXRsZQogICAgJC5hamF4KHsKICAgICAgdXJsOiB0aGlzLnVybCsnJnRpcGU9c3VidGl0bGUnLAogICAgICB0eXBlOidQT1NUJywKICAgICAgZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfdGl0bGUnKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgIG1lLnRvcEJhclJlbmRlckFmdGVyKCkKICAgICAgfQogICAgfSk7CiAgfSwKICBmaWx0ZXJSZW5kZXJBZnRlcjogZnVuY3Rpb24oKSB7CiAgICB0aGlzLmRhZnRhclJlbmRlcigpOwogIH0sCiAgZGV0YWlsOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBlcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7CiAgICBpZiAoZXJybXNnID09ICIiKSB7CiAgICAgIHZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycm1zZyk7CiAgICB9CiAgfSwKICBkYWZ0YXJSZW5kZXI6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsgLy9yZW5kZXIgZGFmdGFyCiAgICBhZGRDb3ZlclBhZ2UyKCJkYWZ0YXJfY292ZXIiLCAxLCB0cnVlLCB0cnVlLCB7CiAgICAgIHJlbmRlclRvOiB0aGlzLnByZWZpeCArICJfY29udF9kYWZ0YXIiLAogICAgICBpbWdzcmM6ICJpbWFnZXMvd2FpdC5naWYiLAogICAgICBzdHlsZTogeyBwb3NpdGlvbjogImFic29sdXRlIiwgdG9wOiAiNSIsIGxlZnQ6ICI1IiB9CiAgICB9KTsKICAgICQuYWpheCh7CiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZGFmdGFyIiwKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCArICJfY29udF9kYWZ0YXIiKS5pbm5lckhUTUwgPQogICAgICAgICAgcmVzcC5jb250ZW50OwogICAgICAgIG1lLnN1bUhhbFJlbmRlcigpOwogICAgICB9CiAgICB9KTsKICB9LAogIEJhcnU6IGZ1bmN0aW9uKCl7CiAgICB2YXIgbWUgPSB0aGlzOwoKICAJCWVycm1zZyA9ICcnOwoKICAJCWlmKCQoIiNmaWx0ZXJVcnVzYW4iKS52YWwoKSA9PSAnMDAnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggVXJ1c2FuIjsKICAJCX1lbHNlIGlmKCQoIiNmaWx0ZXJTS1BEIikudmFsKCkgPT0gJzAwJyl7CiAgCQkJZXJybXNnID0gIlBpbGloIEJpZGFuZyI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyU0tQRCIpLnZhbCgpID09ICcwMCcpewogIAkJCWVycm1zZyA9ICJQaWxpaCBTS1BEIjsKICAJCX1lbHNlIGlmKCQoIiNmaWx0ZXJDb25jYXRQcm9ncmFtIikudmFsKCkgPT0gJycpewogIAkJCWVycm1zZyA9ICJQaWxpaCBQcm9ncmFtIjsKICAJCX1lbHNlIGlmKCQoIiNmaWx0ZXJRIikudmFsKCkgPT0gJycpewogIAkJCWVycm1zZyA9ICJQaWxpaCBLZWdpYXRhbiI7CiAgCQl9CiAgCQlpZihlcnJtc2cgPT0nJyl7CiAgCQkJdmFyIG1lID0gdGhpczsKICAJCQl2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZvcm1OYW1lKTsKICAJCQkkLmFqYXgoewogIAkJCSAgdXJsOiB0aGlzLnVybCsnJnRpcGU9QmFydScsCiAgCQkJICB0eXBlIDogJ1BPU1QnLAogIAkJCSAgZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAJCQkgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKICAJCQkJCWlmKHJlc3AuZXJyID09ICIiKSB7CiAgCQkJCQkJYUZvcm0uYWN0aW9uPSAncGdLZXUucGhwP1BnPXJrYVBQS0QzMUlucyc7CiAgCQkJCQkJYUZvcm0udGFyZ2V0PSdfYmxhbmsnOwogIAkJCQkJCWFGb3JtLnN1Ym1pdCgpOwogIAkJCQkJCWFGb3JtLnRhcmdldD0nJzsKICAJCQkJCX1lbHNlewogIAkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKICAJCQkJCX0KICAJCQkgIH0KICAJCQl9KTsKICAJCX1lbHNlewogIAkJCQlhbGVydChlcnJtc2cpOwogIAkJfQoJfSwKICBuZXdCbGFua1BhZ2U6IGZ1bmN0aW9uKCl7CiAgICB2YXIgbWUgPSB0aGlzOwoKICAJCWVycm1zZyA9ICcnOwoKICAJCWlmKCQoIiNmaWx0ZXJVcnVzYW4iKS52YWwoKSA9PSAnMDAnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggVXJ1c2FuIjsKICAJCX1lbHNlIGlmKCQoIiNmaWx0ZXJTS1BEIikudmFsKCkgPT0gJzAwJyl7CiAgCQkJZXJybXNnID0gIlBpbGloIEJpZGFuZyI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyU0tQRCIpLnZhbCgpID09ICcwMCcpewogIAkJCWVycm1zZyA9ICJQaWxpaCBTS1BEIjsKICAJCX1lbHNlIGlmKCQoIiNmaWx0ZXJDb25jYXRQcm9ncmFtIikudmFsKCkgPT0gJycpewogIAkJCWVycm1zZyA9ICJQaWxpaCBQcm9ncmFtIjsKICAJCX1lbHNlIGlmKCQoIiNmaWx0ZXJRIikudmFsKCkgPT0gJycpewogIAkJCWVycm1zZyA9ICJQaWxpaCBLZWdpYXRhbiI7CiAgCQl9CiAgCQlpZihlcnJtc2cgPT0nJyl7CiAgCQkJdmFyIG1lID0gdGhpczsKICAJCQl2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZvcm1OYW1lKTsKICAJCQkkLmFqYXgoewogIAkJCSAgdXJsOiB0aGlzLnVybCsnJnRpcGU9bmV3QmxhbmtQYWdlJywKICAJCQkgIHR5cGUgOiAnUE9TVCcsCiAgCQkJICBkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogIAkJCSAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogIAkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwogIAkJCQkJaWYocmVzcC5lcnIgPT0gIiIpIHsKICAJCQkJCQlhRm9ybS5hY3Rpb249ICdwZ0tldS5waHA\/UGc9cmthUFBLRDMxSW5zJzsKICAJCQkJCQlhRm9ybS50YXJnZXQ9J19ibGFuayc7CiAgCQkJCQkJYUZvcm0uc3VibWl0KCk7CiAgCQkJCQkJYUZvcm0udGFyZ2V0PScnOwogIAkJCQkJfWVsc2V7CiAgCQkJCQkJYWxlcnQocmVzcC5lcnIpOwogIAkJCQkJfQogIAkJCSAgfQogIAkJCX0pOwogIAkJfWVsc2V7CiAgCQkJCWFsZXJ0KGVycm1zZyk7CiAgCQl9Cgl9LAogIEluZm86IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXIiOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPUluZm8iLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTk5LCB0cnVlLCBmYWxzZSk7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAoKICBDYXJpOiBmdW5jdGlvbigpIHsKICAgIHBvcHVwQmFyYW5nLmtvZGVCYXJhbmcgPSAia29kZUJhcmFuZyI7CiAgICBwb3B1cEJhcmFuZy5uYW1hQmFyYW5nID0gIm5hbWFCYXJhbmciOwogICAgcG9wdXBCYXJhbmcuc2F0dWFuQmFyYW5nID0gInNhdHVhbiI7CiAgICBwb3B1cEJhcmFuZy53aW5kb3dTaG93KCk7CiAgfSwKICBFZGl0OiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBlcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7CiAgICBpZiAoZXJybXNnID09ICIiKSB7CiAgICAgIHZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsKICAgICAgdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7CiAgICAgICQuYWpheCh7CiAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1lZGl0VGFiIiwKICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgZGF0YTogJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICAgdmFyIElEcmVuamEgPSBOdW1iZXIocmVzcC5jb250ZW50LmlkcmVuamEpOwogICAgICAgICAgICBhRm9ybS5hY3Rpb24gPQogICAgICAgICAgICAgICJwZ0tldS5waHA\/UGc9cmtibWRfIiArCiAgICAgICAgICAgICAgcmVzcC5jb250ZW50LmtlbWFuYSArCiAgICAgICAgICAgICAgIiZZTj0xJmlkPSIgKwogICAgICAgICAgICAgIElEcmVuamE7CiAgICAgICAgICAgIGFGb3JtLnRhcmdldCA9ICJfYmxhbmsiOwogICAgICAgICAgICBhRm9ybS5zdWJtaXQoKTsKICAgICAgICAgICAgYUZvcm0udGFyZ2V0ID0gIiI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycm1zZyk7CiAgICB9CiAgfSwKICByZW1vdmU6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIGVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsKICAgIGlmIChlcnJtc2cgPT0gIiIpIHsKICAgICAgdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOwoKICAgICAgJC5hamF4KHsKICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXJlbW92ZSIsCiAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICAgcmthUFBLRDMxLnJlZnJlc2hMaXN0KHRydWUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnJtc2cpOwogICAgfQogIH0sCiAgVmFsaWRhc2k6IGZ1bmN0aW9uKGlkX2FuZ2dhcmFuKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlciI7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICBpZiAobWUuc2F0dWFuX2Zvcm0gPT0gMCkgewogICAgICAvL2JhcnUgZGFyaSBzYXR1YW4KICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMSwgdHJ1ZSwgZmFsc2UpOwogICAgfSBlbHNlIHsKICAgICAgLy9iYXJ1IGRhcmkgYmFyYW5nCiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5OSwgdHJ1ZSwgZmFsc2UpOwogICAgfQogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPVZhbGlkYXNpJmlkX2FuZ2dhcmFuPSIgKyBpZF9hbmdnYXJhbiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICJUYWhhcCBQZW55dXN1bmFuIFRlbGFoIEhhYmlzIikgewogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAoKICBuZXdOb21vclBlbmV0YXBhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlcktCIjsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1uZXdOb21vclBlbmV0YXBhbiIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA1LCB0cnVlLCBmYWxzZSk7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgICAgJCgiI25ld1RhbmdnYWxQZW5ldGFwYW4iKS5kYXRlcGlja2VyKHsKICAgICAgICAgICAgZGF0ZUZvcm1hdDogImRkLW1tLXl5IiwKICAgICAgICAgICAgc2hvd0FuaW06ICJzbGlkZURvd24iLAogICAgICAgICAgICBpbmxpbmU6IHRydWUsCiAgICAgICAgICAgIHNob3dPbjogImJ1dHRvbiIsCiAgICAgICAgICAgIGJ1dHRvbkltYWdlOiAiaW1hZ2VzL2NhbGVuZGFyLmdpZiIsCiAgICAgICAgICAgIGJ1dHRvbkltYWdlT25seTogdHJ1ZSwKICAgICAgICAgICAgY2hhbmdlTW9udGg6IHRydWUsCiAgICAgICAgICAgIGNoYW5nZVllYXI6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIENsb3NlMjogZnVuY3Rpb24oKSB7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyS0IiOwogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKSkgZGVsRWxlbShjb3Zlcik7CiAgICBpZiAodGlwZSA9PSBudWxsKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiYXV0byI7CiAgICB9CiAgfSwKCiAgc2F2ZVRldGFwa2FuUktCTUQ6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHRoaXMuT25FcnJvckNsb3NlID0gZmFsc2U7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybXNpbXBhbiI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAxLCB0cnVlLCBmYWxzZSk7CgogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVUZXRhcGthblJLQk1EIiwKICAgICAgZGF0YTogewogICAgICAgIG5vbW9yOiAkKCIjbm9tb3JQZW5ldGFwYW4iKS52YWwoKSwKICAgICAgICBjMTogJCgiI2MxIikudmFsKCksCiAgICAgICAgYzogJCgiI2MiKS52YWwoKSwKICAgICAgICBkOiAkKCIjZCIpLnZhbCgpLAogICAgICAgIG5vbW9yUGVuZXRhcGFuOiAkKCIjbm9tb3JQZW5ldGFwYW4iKS52YWwoKSwKICAgICAgICB0YW5nZ2FsUGVuZXRhcGFuOiAkKCIjdGFuZ2dhbFBlbmV0YXBhbiIpLnZhbCgpLAogICAgICAgIG5hbWFQZWphYmF0OiAkKCIjbmFtYVBlamFiYXQiKS52YWwoKSwKICAgICAgICBuaXA6ICQoIiNuaXAiKS52YWwoKSwKICAgICAgICBqYWJhdGFuOiAkKCIjamFiYXRhbiIpLnZhbCgpLAogICAgICAgIHN0YXR1c1BlbmdhZGFhbjogJCgiI2NoZWNrQm94UGVuZ2FkYWFuIikuaXMoIjpjaGVja2VkIiksCiAgICAgICAgc3RhdHVzUGVtZWxpaGFyYWFuOiAkKCIjY2hlY2tib3hQZW1lbGloYXJhYW4iKS5pcygiOmNoZWNrZWQiKSwKICAgICAgICBzdGF0dXNQZXJzZWRpYWFuOiAkKCIjY2hlY2tib3hQZXJzZWRpYWFuIikuaXMoIjpjaGVja2VkIikKICAgICAgfSwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICBpZiAocmVzcC5lcnIgIT0gIiIpIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoIlBlbmV0YXBhbiBCZXJoYXNpbCIpOwogICAgICAgICAgbWUuQ2xvc2UoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgc2F2ZU5vbW9yUGVuZXRhcGFuOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlcktCIjsKICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDEsIHRydWUsIGZhbHNlKTsKCiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2F2ZU5vbW9yUGVuZXRhcGFuIiwKICAgICAgZGF0YTogewogICAgICAgIG5vbW9yOiAkKCIjbmV3Tm9tb3JQZW5ldGFwYW4iKS52YWwoKSwKICAgICAgICB0YW5nZ2FsUGVuZXRhcGFuOiAkKCIjbmV3VGFuZ2dhbFBlbmV0YXBhbiIpLnZhbCgpLAogICAgICAgIG5hbWFQZWphYmF0OiAkKCIjbmV3TmFtYVBlamFiYXQiKS52YWwoKSwKICAgICAgICBuaXA6ICQoIiNuZXdOSVAiKS52YWwoKSwKICAgICAgICBqYWJhdGFuOiAkKCIjbmV3SmFiYXRhbiIpLnZhbCgpCiAgICAgIH0sCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgaWYgKHJlc3AuZXJyICE9ICIiKSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCJEYXRhIFRlcnNpbXBhbiIpOwogICAgICAgICAgJCgiI25vbW9yUGVuZXRhcGFuIikuaHRtbChyZXNwLmNvbnRlbnQuY29tYm9Ob21vclBlbmV0YXBhbik7CiAgICAgICAgICBtZS5DbG9zZTIoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCgogIGZvcm1hdEN1cnJlbmN5OiBmdW5jdGlvbihudW0pIHsKICAgIG51bSA9IG51bS50b1N0cmluZygpLnJlcGxhY2UoL1wkfFwsL2csICIiKTsKICAgIGlmIChpc05hTihudW0pKSBudW0gPSAiMCI7CiAgICBzaWduID0gbnVtID09IChudW0gPSBNYXRoLmFicyhudW0pKTsKICAgIG51bSA9IE1hdGguZmxvb3IobnVtICogMTAwICsgMC41MDAwMDAwMDAwMSk7CiAgICBjZW50cyA9IG51bSAlIDEwMDsKICAgIG51bSA9IE1hdGguZmxvb3IobnVtIC8gMTAwKS50b1N0cmluZygpOwogICAgaWYgKGNlbnRzIDwgMTApIGNlbnRzID0gIjAiICsgY2VudHM7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1hdGguZmxvb3IoKG51bS5sZW5ndGggLSAoMSArIGkpKSAvIDMpOyBpKyspCiAgICAgIG51bSA9CiAgICAgICAgbnVtLnN1YnN0cmluZygwLCBudW0ubGVuZ3RoIC0gKDQgKiBpICsgMykpICsKICAgICAgICAiLiIgKwogICAgICAgIG51bS5zdWJzdHJpbmcobnVtLmxlbmd0aCAtICg0ICogaSArIDMpKTsKICAgIHJldHVybiAoc2lnbiA\/ICIiIDogIi0iKSArICIiICsgbnVtOwogIH0sCiAgYmFudHU6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgaWRBbmdrYSA9IGlkLnJlcGxhY2UoIkoiLCAiaiIpOwogICAgdmFyIGFuZ2thID0gJCgiIyIgKyBpZEFuZ2thKS52YWwoKTsKICAgICQoIiNiYW50dSIgKyBpZCkudGV4dChya2FQUEtEMzEuZm9ybWF0Q3VycmVuY3koYW5na2EpKTsKICB9LAogIExhcG9yYW46IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBlcnIgPSAiIjsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXIiOwogICAgaWYgKGVyciA9PSAiIikgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDIsIHRydWUsIGZhbHNlKTsKICAgICAgJC5hamF4KHsKICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgZGF0YTogJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPUxhcG9yYW4iLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgICAgICBtZS5BZnRlckZvcm1CYXJ1KHJlc3ApOwogICAgICAgICAgICAkKCIjdGFuZ2dhbENldGFrIikuZGF0ZXBpY2tlcih7CiAgICAgICAgICAgICAgZGF0ZUZvcm1hdDogImRkLW1tLXl5IiwKICAgICAgICAgICAgICBzaG93QW5pbTogInNsaWRlRG93biIsCiAgICAgICAgICAgICAgaW5saW5lOiB0cnVlLAogICAgICAgICAgICAgIHNob3dPbjogImJ1dHRvbiIsCiAgICAgICAgICAgICAgYnV0dG9uSW1hZ2U6ICJpbWFnZXMvY2FsZW5kYXIuZ2lmIiwKICAgICAgICAgICAgICBidXR0b25JbWFnZU9ubHk6IHRydWUsCiAgICAgICAgICAgICAgY2hhbmdlTW9udGg6IHRydWUsCiAgICAgICAgICAgICAgY2hhbmdlWWVhcjogZmFsc2UsCiAgICAgICAgICAgICAgeWVhclJhbmdlOiByZXNwLmNvbnRlbnQueWVhclJhbmdlLAogICAgICAgICAgICAgIGJ1dHRvblRleHQ6ICIiLAogICAgICAgICAgICAgIGRlZmF1bHREYXRlOiArMAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiYXV0byI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycik7CiAgICB9CiAgfSwKICBuZXdUYW5kYVRhbmdhbmdhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGVyciA9ICIiOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlclRhbmRhVGFuZ2FuIjsKCiAgICBpZiAoZXJyID09ICIiKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsKICAgICAgJC5hamF4KHsKICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgZGF0YTogJCgiIyIgKyB0aGlzLnByZWZpeCArICJfZm9ybSIpLnNlcmlhbGl6ZSgpLAogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9bmV3VGFuZGFUYW5nYW5nYW4iLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgICAgICBtZS5BZnRlckZvcm1CYXJ1KHJlc3ApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJhdXRvIjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoZXJyKTsKICAgIH0KICB9LAogIGNsb3NlVGFuZGFUYW5nYW5Gb3JtOiBmdW5jdGlvbigpIHsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJUYW5kYVRhbmdhbiI7CiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpKSBkZWxFbGVtKGNvdmVyKTsKICAgIGlmICh0aXBlID09IG51bGwpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJhdXRvIjsKICAgIH0KICB9LAogIHBpbGloUGFuZ2thdDogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgJC5hamF4KHsKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1waWxpaFBhbmdrYXQiLAogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBjMTogJCgiI2ZpbHRlclVydXNhbiIpLnZhbCgpLAogICAgICAgIGM6ICQoIiNmaWx0ZXJCaWRhbmciKS52YWwoKSwKICAgICAgICBkOiAkKCIjZmlsdGVyU0tQRCIpLnZhbCgpLAogICAgICAgIGU6ICQoIiNmaWx0ZXJVbml0IikudmFsKCksCiAgICAgICAgZTE6ICQoIiNmaWx0ZXJTdWJVbml0IikudmFsKCksCiAgICAgICAgZGMxOiAkKCIjZGMxIikudmFsKCksCiAgICAgICAgZGM6ICQoIiNkYyIpLnZhbCgpLAogICAgICAgIGRkOiAkKCIjZGQiKS52YWwoKSwKICAgICAgICBrYXRlZ29yaTogJCgiI2thdGVnb3JpIikudmFsKCksCiAgICAgICAgbmFtYXBlZ2F3YWk6ICQoIiNuYW1hcGVnYXdhaSIpLnZhbCgpLAogICAgICAgIG5pcHBlZ2F3YWk6ICQoIiNuaXBwZWdhd2FpIikudmFsKCksCiAgICAgICAgcGFuZ2thdGFraGlyOiAkKCIjcGFuZ2thdGFraGlyIikudmFsKCksCiAgICAgICAgZ29sYW5nX2FraGlyOiAkKCIjZ29sYW5nX2FraGlyIikudmFsKCksCiAgICAgICAgamFiYXRhbjogJCgiI2phYmF0YW4iKS52YWwoKSwKICAgICAgICBlc2Vsb25fYWtoaXI6ICQoIiNlc2Vsb25fYWtoaXIiKS52YWwoKQogICAgICB9LAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdvbGFuZ19ha2hpciIpLnZhbHVlID0gcmVzcC5jb250ZW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIHNhdmVOZXdUYW5kYVRhbmdhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZTsKICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgIHZhciBjb3ZlciA9ICJyZW5qYUFzZXQiICsgIl9mb3Jtc2ltcGFuIjsKICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDEsIHRydWUsIGZhbHNlKTsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogewogICAgICAgIGthdGVnb3JpOiAkKCIja2F0ZWdvcmkiKS52YWwoKSwKICAgICAgICBuYW1hcGVnYXdhaTogJCgiI25hbWFwZWdhd2FpIikudmFsKCksCiAgICAgICAgbmlwcGVnYXdhaTogJCgiI25pcHBlZ2F3YWkiKS52YWwoKSwKICAgICAgICBwYW5na2F0YWtoaXI6ICQoIiNwYW5na2F0YWtoaXIiKS52YWwoKSwKICAgICAgICBnb2xhbmdfYWtoaXI6ICQoIiNnb2xhbmdfYWtoaXIiKS52YWwoKSwKICAgICAgICBqYWJhdGFuOiAkKCIjamFiYXRhbiIpLnZhbCgpLAogICAgICAgIGVzZWxvbl9ha2hpcjogJCgiI2VzZWxvbl9ha2hpciIpLnZhbCgpCiAgICAgIH0sCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2F2ZU5ld1RhbmRhVGFuZ2FuIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaWRQZW5hbmRhVGFuZ2FuIikuaW5uZXJIVE1MID0KICAgICAgICAgICAgcmVzcC5jb250ZW50LmNvbWJvdHRkOwogICAgICAgICAgbWUuY2xvc2VUYW5kYVRhbmdhbkZvcm0oKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICB2aWV3TGFwb3JhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgZXJybXNnID0gIiI7CiAgICBpZiAoZXJybXNnID09ICIiKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIHZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4ICsgIl9mb3JtIik7CiAgICAgIGFGb3JtLmFjdGlvbiA9IG1lLnVybCArICImdGlwZT12aWV3TGFwb3JhbiI7CiAgICAgIGFGb3JtLnRhcmdldCA9ICJfYmxhbmsiOwogICAgICBhRm9ybS5zdWJtaXQoKTsKICAgICAgYUZvcm0udGFyZ2V0ID0gIiI7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnJtc2cpOwogICAgfQogIH0sCiAgZWRpdFJla2VuaW5nOiBmdW5jdGlvbihpZFJLQSkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJMb2FkaW5nIjsKICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDUsIHRydWUsIGZhbHNlKTsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogewogICAgICAgIGlkUktBOiBpZFJLQQogICAgICB9LAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWVkaXRSZWtlbmluZyIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAkKCIjc3BhbkVkaXRSZWtlbmluZyIgKyBpZFJLQSkuaHRtbChyZXNwLmNvbnRlbnQuaXNpU3BhblJla2VuaW5nKTsKICAgICAgICAgIC8vICQoIiNhY3Rpb25TcGFuUmVrZW5pbmciICsgaWRSS0EpLmh0bWwocmVzcC5jb250ZW50LmlzaUFjdGlvblNwYW4pOwogICAgICAgICAgJCgiI3NwYW5FZGl0UmVrZW5pbmciICsgaWRSS0EpLmF0dHIoIm9uY2xpY2siLCAiIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgZmluZFJla2VuaW5nOiBmdW5jdGlvbihpZCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBmaWx0ZXJSZWsgPSAiIjsKICAgIHBvcHVwUmVrZW5pbmcuZWxfa29kZV9yZWtlbmluZyA9ICJoaWRkZW5SZWtlbmluZyIgKyBpZDsKICAgIHBvcHVwUmVrZW5pbmcuZWxfbmFtYV9yZWtlbmluZyA9ICJ0ZXh0UmVrZW5pbmciICsgaWQ7CiAgICBwb3B1cFJla2VuaW5nLndpbmRvd1NhdmVBZnRlciA9IGZ1bmN0aW9uKCkge307CiAgICBwb3B1cFJla2VuaW5nLmZpbHRlckFrdW4gPSAiUktBIDMuMSI7CiAgICBwb3B1cFJla2VuaW5nLndpbmRvd1Nob3coKTsKICB9LAogIHNhdmVFZGl0UmVrZW5pbmc6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlckxvYWRpbmciOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgNSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOgogICAgICAgICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCkgKwogICAgICAgICImaWRFZGl0UmthPSIgKwogICAgICAgIGlkICsKICAgICAgICAiJmtvZGVSZWtlbmluZ1JLQT0iICsKICAgICAgICAkKCIjaGlkZGVuUmVrZW5pbmciICsgaWQpLnZhbCgpLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVFZGl0UmVrZW5pbmciLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgbWUucmVmcmVzaExpc3QodHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgc2F2ZUVkaXRSaW5jaWFuQmVsYW5qYTogZnVuY3Rpb24oaWRFZGl0UmthLCBpZFJpbmNpYW5CZWxhbmphKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlckxvYWRpbmciOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgNSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOgogICAgICAgICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCkgKwogICAgICAgICImaWRSaW5jaWFuQmVsYW5qYT0iICsKICAgICAgICBpZFJpbmNpYW5CZWxhbmphICsKICAgICAgICAiJm5hbWFSaW5jaWFuQmVsYW5qYT0iICsKICAgICAgICAkKCIjdGV4dFJpbmNpYW5CZWxhbmphIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2F2ZUVkaXRSaW5jaWFuQmVsYW5qYSIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBtZS5yZWZyZXNoTGlzdCh0cnVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBlZGl0UmluY2lhbkJlbGFuamE6IGZ1bmN0aW9uKGlkRWRpdFJrYSwgaWRSaW5jaWFuQmVsYW5qYSkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJMb2FkaW5nIjsKICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDUsIHRydWUsIGZhbHNlKTsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogewogICAgICAgIGlkRWRpdFJrYTogaWRFZGl0UmthLAogICAgICAgIGlkUmluY2lhbkJlbGFuamE6IGlkUmluY2lhbkJlbGFuamEKICAgICAgfSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1lZGl0UmluY2lhbkJlbGFuamEiLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgJCgiI3NwYW5FZGl0UmluY2lhbkJlbGFuamEiICsgaWRFZGl0UmthKS5odG1sKAogICAgICAgICAgICByZXNwLmNvbnRlbnQuaXNpU3BhblJpbmNpYW5CZWxhbmphCiAgICAgICAgICApOwogICAgICAgICAgJCgiI2FjdGlvblNwYW5SaW5jaWFuQmVsYW5qYSIgKyBpZEVkaXRSa2EpLmh0bWwoCiAgICAgICAgICAgIHJlc3AuY29udGVudC5pc2lBY3Rpb25TcGFuCiAgICAgICAgICApOwogICAgICAgICAgJCgiI3NwYW5FZGl0UmluY2lhbkJlbGFuamEiICsgaWRFZGl0UmthKS5hdHRyKCJvbmNsaWNrIiwgIiIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIGVkaXRTdWJSaW5jaWFuOiBmdW5jdGlvbihpZEVkaXRSa2EpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyTG9hZGluZyI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA1LCB0cnVlLCBmYWxzZSk7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBpZEVkaXRSa2E6IGlkRWRpdFJrYQogICAgICB9LAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWVkaXRTdWJSaW5jaWFuIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICQoIiNzcGFuVm9sdW1lUmVrZW5pbmciICsgaWRFZGl0UmthKS5odG1sKHJlc3AuY29udGVudC5pc2lTcGFuVm9sdW1lKTsKICAgICAgICAgICQoIiNzcGFuU2F0dWFuIiArIGlkRWRpdFJrYSkuaHRtbChyZXNwLmNvbnRlbnQuaXNpU3BhblNhdHVhbik7CiAgICAgICAgICAkKCIjc3BhbkhhcmdhU2F0dWFuIiArIGlkRWRpdFJrYSkuaHRtbCgKICAgICAgICAgICAgcmVzcC5jb250ZW50LmlzaVNwYW5IYXJnYVNhdHVhbgogICAgICAgICAgKTsKICAgICAgICAgICQoIiNzcGFuVG90YWxKdW1sYWgiICsgaWRFZGl0UmthKS5odG1sKAogICAgICAgICAgICByZXNwLmNvbnRlbnQuaXNpU3BhblRvdGFsSnVtbGFoCiAgICAgICAgICApOwogICAgICAgICAgJCgiI2FjdGlvblNwYW4iICsgaWRFZGl0UmthKS5odG1sKHJlc3AuY29udGVudC5pc2lBY3Rpb25TcGFuKTsKICAgICAgICAgIC8vICQoIiN0ZFZvbHVtZVJla2VuaW5nIitpZEVkaXRSa2EpLmF0dHIoImFsaWduIiwibGVmdCIpOwogICAgICAgICAgJCgiI2hlYWRlclVyYWlhbiIpLmF0dHIoIndpZHRoIiwgIjYwMCIpOwogICAgICAgICAgJCgiI2hlYWRlclZvbHVtZSIpLmF0dHIoIndpZHRoIiwgIjE1MCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIGZvcm1SaW5jaWFuVm9sdW1lOiBmdW5jdGlvbihpZCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXIiOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAgaWQ6IGlkLAogICAgICAgIHZvbHVtZTFUZW1wOiAkKCIjdm9sdW1lMVRlbXAiICsgaWQpLnZhbCgpLAogICAgICAgIHZvbHVtZTJUZW1wOiAkKCIjdm9sdW1lMlRlbXAiICsgaWQpLnZhbCgpLAogICAgICAgIHZvbHVtZTNUZW1wOiAkKCIjdm9sdW1lM1RlbXAiICsgaWQpLnZhbCgpLAogICAgICAgIHNhdHVhbjFUZW1wOiAkKCIjc2F0dWFuMVRlbXAiICsgaWQpLnZhbCgpLAogICAgICAgIHNhdHVhbjJUZW1wOiAkKCIjc2F0dWFuMlRlbXAiICsgaWQpLnZhbCgpLAogICAgICAgIHNhdHVhbjNUZW1wOiAkKCIjc2F0dWFuM1RlbXAiICsgaWQpLnZhbCgpLAogICAgICAgIHVyYWlhblZvbHVtZTogJCgiI3VyYWlhblZvbHVtZSIgKyBpZCkudGV4dCgpCiAgICAgIH0sCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9Zm9ybVJpbmNpYW5Wb2x1bWUiLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMiwgdHJ1ZSwgZmFsc2UpOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBzZXRUb3RhbFJpbmNpYW46IGZ1bmN0aW9uKCkgewogICAgdmFyIGp1bWxhaDEgPSBOdW1iZXIoJCgiI2p1bWxhaDEiKS52YWwoKSk7CiAgICB2YXIganVtbGFoMiA9IE51bWJlcigkKCIjanVtbGFoMiIpLnZhbCgpKTsKICAgIHZhciBqdW1sYWgzID0gTnVtYmVyKCQoIiNqdW1sYWgzIikudmFsKCkpOwogICAgaWYgKCQoIiNqdW1sYWgyIikudmFsKCkgPT0gIiIpIHsKICAgICAgdmFyIGp1bWxhaFRvdGFsID0gTnVtYmVyKGp1bWxhaDEpOwogICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMyIpLnZhbCgpID09ICIiKSB7CiAgICAgIHZhciBqdW1sYWhUb3RhbCA9IE51bWJlcihqdW1sYWgxICoganVtbGFoMik7CiAgICB9IGVsc2UgewogICAgICB2YXIganVtbGFoVG90YWwgPSBOdW1iZXIoanVtbGFoMSAqIGp1bWxhaDIgKiBqdW1sYWgzKTsKICAgIH0KICAgICQoIiNqdW1sYWg0IikudmFsKGp1bWxhaFRvdGFsKTsKICB9LAogIFNhdmVSaW5jaWFuVm9sdW1lOiBmdW5jdGlvbihpZCkgewogICAgdmFyIGVyciA9ICIiOwogICAgdmFyIG1lID0gdGhpczsKICAgIHRoaXMuT25FcnJvckNsb3NlID0gZmFsc2U7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybXNpbXBhbiI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAxLCB0cnVlLCBmYWxzZSk7CiAgICBkZWxFbGVtKGNvdmVyKTsKICAgIGlmICgkKCIjanVtbGFoMSIpLnZhbCgpICE9ICIiICYmICQoIiNzYXR1YW4xIikudmFsKCkgPT0gIiIpIHsKICAgICAgZXJyID0gIklzaSBTYXR1YW4gS2VzYXR1ICEiOwogICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMiIpLnZhbCgpICE9ICIiICYmICQoIiNzYXR1YW4yIikudmFsKCkgPT0gIiIpIHsKICAgICAgZXJyID0gIklzaSBTYXR1YW4gS2VkdWEgISI7CiAgICB9IGVsc2UgaWYgKCQoIiNqdW1sYWgzIikudmFsKCkgIT0gIiIgJiYgJCgiI3NhdHVhbjMiKS52YWwoKSA9PSAiIikgewogICAgICBlcnIgPSAiSXNpIFNhdHVhbiBLZWR1YSAhIjsKICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDMiKS52YWwoKSAhPSAiIiAmJiAkKCIjanVtbGFoMiIpLnZhbCgpID09ICIiKSB7CiAgICAgIGVyciA9ICJJc2kgVm9sdW1lIEtlZHVhICEiOwogICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMyIpLnZhbCgpICE9ICIiICYmICQoIiNqdW1sYWgxIikudmFsKCkgPT0gIiIpIHsKICAgICAgZXJyID0gIklzaSBWb2x1bWUgS2VzYXR1ICEiOwogICAgfQogICAgaWYgKGVyciA9PSAiIikgewogICAgICAkKCIjdm9sdW1lMVRlbXAiICsgaWQpLnZhbCgkKCIjanVtbGFoMSIpLnZhbCgpKTsKICAgICAgJCgiI3ZvbHVtZTJUZW1wIiArIGlkKS52YWwoJCgiI2p1bWxhaDIiKS52YWwoKSk7CiAgICAgICQoIiN2b2x1bWUzVGVtcCIgKyBpZCkudmFsKCQoIiNqdW1sYWgzIikudmFsKCkpOwogICAgICAkKCIjc2F0dWFuMVRlbXAiICsgaWQpLnZhbCgkKCIjc2F0dWFuMSIpLnZhbCgpKTsKICAgICAgJCgiI3NhdHVhbjJUZW1wIiArIGlkKS52YWwoJCgiI3NhdHVhbjIiKS52YWwoKSk7CiAgICAgICQoIiNzYXR1YW4zVGVtcCIgKyBpZCkudmFsKCQoIiNzYXR1YW4zIikudmFsKCkpOwogICAgICAkKCIjdm9sdW1lUmVrIiArIGlkKS52YWwoJCgiI2p1bWxhaDQiKS52YWwoKSk7CiAgICAgICQoIiN1cmFpYW5Wb2x1bWUiICsgaWQpLnRleHQoJCgiI3JpbmNpYW5Wb2x1bWVUZW1wIikudmFsKCkpOwogICAgICAvLyQoIiNzYXR1YW5SZWsiK2lkKS52YWwoJCgiI3JpbmNpYW5Wb2x1bWVUZW1wIikudmFsKCkpOwogICAgICAvL21lLmJhbnR1KCk7CiAgICAgIHJrYVBQS0QzMS5oaXR1bmdWb2x1bWUoaWQpOwogICAgICB2YXIgc2F0dWFuID0gIiI7CiAgICAgIGlmICgkKCIjanVtbGFoMyIpLnZhbCgpICE9ICIiKSB7CiAgICAgICAgc2F0dWFuID0KICAgICAgICAgICQoIiNzYXR1YW4xIikudmFsKCkgKwogICAgICAgICAgIiAvICIgKwogICAgICAgICAgJCgiI3NhdHVhbjIiKS52YWwoKSArCiAgICAgICAgICAiIC8gIiArCiAgICAgICAgICAkKCIjc2F0dWFuMyIpLnZhbCgpOwogICAgICAgICQoIiNzYXR1YW5SZWsiICsgaWQpLnZhbChzYXR1YW4pOwogICAgICB9IGVsc2UgaWYgKCQoIiNqdW1sYWgyIikudmFsKCkgIT0gIiIpIHsKICAgICAgICBzYXR1YW4gPSAkKCIjc2F0dWFuMSIpLnZhbCgpICsgIiAvICIgKyAkKCIjc2F0dWFuMiIpLnZhbCgpOwogICAgICAgICQoIiNzYXR1YW5SZWsiICsgaWQpLnZhbChzYXR1YW4pOwogICAgICB9IGVsc2UgewogICAgICAgIHNhdHVhbiA9ICQoIiNzYXR1YW4xIikudmFsKCk7CiAgICAgICAgJCgiI3NhdHVhblJlayIgKyBpZCkudmFsKHNhdHVhbik7CiAgICAgIH0KICAgICAgbWUuQ2xvc2UoKTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycik7CiAgICB9CiAgfSwKICBoaXR1bmdWb2x1bWU6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgaGFzaWxLYWxpID0gJCgiI3ZvbHVtZVJlayIgKyBpZCkudmFsKCkgKiAkKCIjaGFyZ2FTYXR1YW4iICsgaWQpLnZhbCgpOwogICAgJCgiI3NwYW5Ub3RhbEp1bWxhaCIgKyBpZCkudGV4dChya2FQUEtEMzEuZm9ybWF0Q3VycmVuY3koaGFzaWxLYWxpKSk7CiAgfSwKICBmaW5kU1NIOiBmdW5jdGlvbihpZCkgewogICAgdmFyIG1lID0gdGhpczsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1nZXREYXRhU1NIIiwKICAgICAgZGF0YTogewogICAgICAgIGlkOiBpZAogICAgICB9LAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgcG9wdXBTU0gua29kZVJla2VuaW5nID0gcmVzcC5jb250ZW50LmtvZGVSZWtlbmluZzsKICAgICAgICAgIHBvcHVwU1NILmtvZGVCYXJhbmcgPSByZXNwLmNvbnRlbnQua29kZUJhcmFuZzsKICAgICAgICAgIHBvcHVwU1NILmRhcmkgPSBpZDsKICAgICAgICAgIHBvcHVwU1NILndpbmRvd1Nob3coKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBzYXZlRWRpdFN1YlJpbmNpYW46IGZ1bmN0aW9uKGlkRWRpdFJrYSkgewogICAgdmFyIG1lID0gdGhpczsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogewogICAgICAgIGlkRWRpdFJrYTogaWRFZGl0UmthLAogICAgICAgIGhhcmdhU2F0dWFuOiAkKCIjaGFyZ2FTYXR1YW4iICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgICB2b2x1bWUxOiAkKCIjdm9sdW1lMVRlbXAiICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgICB2b2x1bWUyOiAkKCIjdm9sdW1lMlRlbXAiICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgICB2b2x1bWUzOiAkKCIjdm9sdW1lM1RlbXAiICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgICB2b2x1bWVSZWtlbmluZzogJCgiI3ZvbHVtZVJlayIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHNhdHVhbjE6ICQoIiNzYXR1YW4xVGVtcCIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHNhdHVhbjI6ICQoIiNzYXR1YW4yVGVtcCIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHNhdHVhbjM6ICQoIiNzYXR1YW4zVGVtcCIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHNhdHVhblJla2VuaW5nOiAkKCIjc2F0dWFuUmVrIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgICAgdXJhaWFuVm9sdW1lOiAkKCIjdXJhaWFuVm9sdW1lIiArIGlkRWRpdFJrYSkudGV4dCgpCiAgICAgIH0sCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2F2ZUVkaXRTdWJSaW5jaWFuIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIG1lLnJlZnJlc2hMaXN0KHRydWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9Cn0pOwo=",
    "size": "24788"
}