{
    "namaFile": "pages\/admin\/menu\/assets\/js\/libs\/spin.js\/spin.js",
    "lastUpdate": "2018-03-22+14:23:57.36",
    "contentFile": "LyoqCiAqIENvcHlyaWdodCAoYykgMjAxMS0yMDE0IEZlbGl4IEduYXNzCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZQogKi8KKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHsKCiAgLyogQ29tbW9uSlMgKi8KICBpZiAodHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcpICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKQoKICAvKiBBTUQgbW9kdWxlICovCiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIGRlZmluZShmYWN0b3J5KQoKICAvKiBCcm93c2VyIGdsb2JhbCAqLwogIGVsc2Ugcm9vdC5TcGlubmVyID0gZmFjdG9yeSgpCn0KKHRoaXMsIGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgdmFyIHByZWZpeGVzID0gWyd3ZWJraXQnLCAnTW96JywgJ21zJywgJ08nXSAvKiBWZW5kb3IgcHJlZml4ZXMgKi8KICAgICwgYW5pbWF0aW9ucyA9IHt9IC8qIEFuaW1hdGlvbiBydWxlcyBrZXllZCBieSB0aGVpciBuYW1lICovCiAgICAsIHVzZUNzc0FuaW1hdGlvbnMgLyogV2hldGhlciB0byB1c2UgQ1NTIGFuaW1hdGlvbnMgb3Igc2V0VGltZW91dCAqLwoKICAvKioKICAgKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNyZWF0ZSBlbGVtZW50cy4gSWYgbm8gdGFnIG5hbWUgaXMgZ2l2ZW4sCiAgICogYSBESVYgaXMgY3JlYXRlZC4gT3B0aW9uYWxseSBwcm9wZXJ0aWVzIGNhbiBiZSBwYXNzZWQuCiAgICovCiAgZnVuY3Rpb24gY3JlYXRlRWwodGFnLCBwcm9wKSB7CiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyB8fCAnZGl2JykKICAgICAgLCBuCgogICAgZm9yKG4gaW4gcHJvcCkgZWxbbl0gPSBwcm9wW25dCiAgICByZXR1cm4gZWwKICB9CgogIC8qKgogICAqIEFwcGVuZHMgY2hpbGRyZW4gYW5kIHJldHVybnMgdGhlIHBhcmVudC4KICAgKi8KICBmdW5jdGlvbiBpbnMocGFyZW50IC8qIGNoaWxkMSwgY2hpbGQyLCAuLi4qLykgewogICAgZm9yICh2YXIgaT0xLCBuPWFyZ3VtZW50cy5sZW5ndGg7IGk8bjsgaSsrKQogICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoYXJndW1lbnRzW2ldKQoKICAgIHJldHVybiBwYXJlbnQKICB9CgogIC8qKgogICAqIEluc2VydCBhIG5ldyBzdHlsZXNoZWV0IHRvIGhvbGQgdGhlIEBrZXlmcmFtZSBvciBWTUwgcnVsZXMuCiAgICovCiAgdmFyIHNoZWV0ID0gKGZ1bmN0aW9uKCkgewogICAgdmFyIGVsID0gY3JlYXRlRWwoJ3N0eWxlJywge3R5cGUgOiAndGV4dC9jc3MnfSkKICAgIGlucyhkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLCBlbCkKICAgIHJldHVybiBlbC5zaGVldCB8fCBlbC5zdHlsZVNoZWV0CiAgfSgpKQoKICAvKioKICAgKiBDcmVhdGVzIGFuIG9wYWNpdHkga2V5ZnJhbWUgYW5pbWF0aW9uIHJ1bGUgYW5kIHJldHVybnMgaXRzIG5hbWUuCiAgICogU2luY2UgbW9zdCBtb2JpbGUgV2Via2l0cyBoYXZlIHRpbWluZyBpc3N1ZXMgd2l0aCBhbmltYXRpb24tZGVsYXksCiAgICogd2UgY3JlYXRlIHNlcGFyYXRlIHJ1bGVzIGZvciBlYWNoIGxpbmUvc2VnbWVudC4KICAgKi8KICBmdW5jdGlvbiBhZGRBbmltYXRpb24oYWxwaGEsIHRyYWlsLCBpLCBsaW5lcykgewogICAgdmFyIG5hbWUgPSBbJ29wYWNpdHknLCB0cmFpbCwgfn4oYWxwaGEqMTAwKSwgaSwgbGluZXNdLmpvaW4oJy0nKQogICAgICAsIHN0YXJ0ID0gMC4wMSArIGkvbGluZXMgKiAxMDAKICAgICAgLCB6ID0gTWF0aC5tYXgoMSAtICgxLWFscGhhKSAvIHRyYWlsICogKDEwMC1zdGFydCksIGFscGhhKQogICAgICAsIHByZWZpeCA9IHVzZUNzc0FuaW1hdGlvbnMuc3Vic3RyaW5nKDAsIHVzZUNzc0FuaW1hdGlvbnMuaW5kZXhPZignQW5pbWF0aW9uJykpLnRvTG93ZXJDYXNlKCkKICAgICAgLCBwcmUgPSBwcmVmaXggJiYgJy0nICsgcHJlZml4ICsgJy0nIHx8ICcnCgogICAgaWYgKCFhbmltYXRpb25zW25hbWVdKSB7CiAgICAgIHNoZWV0Lmluc2VydFJ1bGUoCiAgICAgICAgJ0AnICsgcHJlICsgJ2tleWZyYW1lcyAnICsgbmFtZSArICd7JyArCiAgICAgICAgJzAle29wYWNpdHk6JyArIHogKyAnfScgKwogICAgICAgIHN0YXJ0ICsgJyV7b3BhY2l0eTonICsgYWxwaGEgKyAnfScgKwogICAgICAgIChzdGFydCswLjAxKSArICcle29wYWNpdHk6MX0nICsKICAgICAgICAoc3RhcnQrdHJhaWwpICUgMTAwICsgJyV7b3BhY2l0eTonICsgYWxwaGEgKyAnfScgKwogICAgICAgICcxMDAle29wYWNpdHk6JyArIHogKyAnfScgKwogICAgICAgICd9Jywgc2hlZXQuY3NzUnVsZXMubGVuZ3RoKQoKICAgICAgYW5pbWF0aW9uc1tuYW1lXSA9IDEKICAgIH0KCiAgICByZXR1cm4gbmFtZQogIH0KCiAgLyoqCiAgICogVHJpZXMgdmFyaW91cyB2ZW5kb3IgcHJlZml4ZXMgYW5kIHJldHVybnMgdGhlIGZpcnN0IHN1cHBvcnRlZCBwcm9wZXJ0eS4KICAgKi8KICBmdW5jdGlvbiB2ZW5kb3IoZWwsIHByb3ApIHsKICAgIHZhciBzID0gZWwuc3R5bGUKICAgICAgLCBwcAogICAgICAsIGkKCiAgICBwcm9wID0gcHJvcC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3Auc2xpY2UoMSkKICAgIGZvcihpPTA7IGk8cHJlZml4ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgcHAgPSBwcmVmaXhlc1tpXStwcm9wCiAgICAgIGlmKHNbcHBdICE9PSB1bmRlZmluZWQpIHJldHVybiBwcAogICAgfQogICAgaWYoc1twcm9wXSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gcHJvcAogIH0KCiAgLyoqCiAgICogU2V0cyBtdWx0aXBsZSBzdHlsZSBwcm9wZXJ0aWVzIGF0IG9uY2UuCiAgICovCiAgZnVuY3Rpb24gY3NzKGVsLCBwcm9wKSB7CiAgICBmb3IgKHZhciBuIGluIHByb3ApCiAgICAgIGVsLnN0eWxlW3ZlbmRvcihlbCwgbil8fG5dID0gcHJvcFtuXQoKICAgIHJldHVybiBlbAogIH0KCiAgLyoqCiAgICogRmlsbHMgaW4gZGVmYXVsdCB2YWx1ZXMuCiAgICovCiAgZnVuY3Rpb24gbWVyZ2Uob2JqKSB7CiAgICBmb3IgKHZhciBpPTE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGRlZiA9IGFyZ3VtZW50c1tpXQogICAgICBmb3IgKHZhciBuIGluIGRlZikKICAgICAgICBpZiAob2JqW25dID09PSB1bmRlZmluZWQpIG9ialtuXSA9IGRlZltuXQogICAgfQogICAgcmV0dXJuIG9iagogIH0KCiAgLyoqCiAgICogUmV0dXJucyB0aGUgYWJzb2x1dGUgcGFnZS1vZmZzZXQgb2YgdGhlIGdpdmVuIGVsZW1lbnQuCiAgICovCiAgZnVuY3Rpb24gcG9zKGVsKSB7CiAgICB2YXIgbyA9IHsgeDplbC5vZmZzZXRMZWZ0LCB5OmVsLm9mZnNldFRvcCB9CiAgICB3aGlsZSgoZWwgPSBlbC5vZmZzZXRQYXJlbnQpKQogICAgICBvLngrPWVsLm9mZnNldExlZnQsIG8ueSs9ZWwub2Zmc2V0VG9wCgogICAgcmV0dXJuIG8KICB9CgogIC8qKgogICAqIFJldHVybnMgdGhlIGxpbmUgY29sb3IgZnJvbSB0aGUgZ2l2ZW4gc3RyaW5nIG9yIGFycmF5LgogICAqLwogIGZ1bmN0aW9uIGdldENvbG9yKGNvbG9yLCBpZHgpIHsKICAgIHJldHVybiB0eXBlb2YgY29sb3IgPT0gJ3N0cmluZycgPyBjb2xvciA6IGNvbG9yW2lkeCAlIGNvbG9yLmxlbmd0aF0KICB9CgogIC8vIEJ1aWx0LWluIGRlZmF1bHRzCgogIHZhciBkZWZhdWx0cyA9IHsKICAgIGxpbmVzOiAxMiwgICAgICAgICAgICAvLyBUaGUgbnVtYmVyIG9mIGxpbmVzIHRvIGRyYXcKICAgIGxlbmd0aDogNywgICAgICAgICAgICAvLyBUaGUgbGVuZ3RoIG9mIGVhY2ggbGluZQogICAgd2lkdGg6IDUsICAgICAgICAgICAgIC8vIFRoZSBsaW5lIHRoaWNrbmVzcwogICAgcmFkaXVzOiAxMCwgICAgICAgICAgIC8vIFRoZSByYWRpdXMgb2YgdGhlIGlubmVyIGNpcmNsZQogICAgcm90YXRlOiAwLCAgICAgICAgICAgIC8vIFJvdGF0aW9uIG9mZnNldAogICAgY29ybmVyczogMSwgICAgICAgICAgIC8vIFJvdW5kbmVzcyAoMC4uMSkKICAgIGNvbG9yOiAnIzAwMCcsICAgICAgICAvLyAjcmdiIG9yICNycmdnYmIKICAgIGRpcmVjdGlvbjogMSwgICAgICAgICAvLyAxOiBjbG9ja3dpc2UsIC0xOiBjb3VudGVyY2xvY2t3aXNlCiAgICBzcGVlZDogMSwgICAgICAgICAgICAgLy8gUm91bmRzIHBlciBzZWNvbmQKICAgIHRyYWlsOiAxMDAsICAgICAgICAgICAvLyBBZnRlcmdsb3cgcGVyY2VudGFnZQogICAgb3BhY2l0eTogMS80LCAgICAgICAgIC8vIE9wYWNpdHkgb2YgdGhlIGxpbmVzCiAgICBmcHM6IDIwLCAgICAgICAgICAgICAgLy8gRnJhbWVzIHBlciBzZWNvbmQgd2hlbiB1c2luZyBzZXRUaW1lb3V0KCkKICAgIHpJbmRleDogMmU5LCAgICAgICAgICAvLyBVc2UgYSBoaWdoIHotaW5kZXggYnkgZGVmYXVsdAogICAgY2xhc3NOYW1lOiAnc3Bpbm5lcicsIC8vIENTUyBjbGFzcyB0byBhc3NpZ24gdG8gdGhlIGVsZW1lbnQKICAgIHRvcDogJzUwJScsICAgICAgICAgICAvLyBjZW50ZXIgdmVydGljYWxseQogICAgbGVmdDogJzUwJScsICAgICAgICAgIC8vIGNlbnRlciBob3Jpem9udGFsbHkKICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnICAvLyBlbGVtZW50IHBvc2l0aW9uCiAgfQoKICAvKiogVGhlIGNvbnN0cnVjdG9yICovCiAgZnVuY3Rpb24gU3Bpbm5lcihvKSB7CiAgICB0aGlzLm9wdHMgPSBtZXJnZShvIHx8IHt9LCBTcGlubmVyLmRlZmF1bHRzLCBkZWZhdWx0cykKICB9CgogIC8vIEdsb2JhbCBkZWZhdWx0cyB0aGF0IG92ZXJyaWRlIHRoZSBidWlsdC1pbnM6CiAgU3Bpbm5lci5kZWZhdWx0cyA9IHt9CgogIG1lcmdlKFNwaW5uZXIucHJvdG90eXBlLCB7CgogICAgLyoqCiAgICAgKiBBZGRzIHRoZSBzcGlubmVyIHRvIHRoZSBnaXZlbiB0YXJnZXQgZWxlbWVudC4gSWYgdGhpcyBpbnN0YW5jZSBpcyBhbHJlYWR5CiAgICAgKiBzcGlubmluZywgaXQgaXMgYXV0b21hdGljYWxseSByZW1vdmVkIGZyb20gaXRzIHByZXZpb3VzIHRhcmdldCBiIGNhbGxpbmcKICAgICAqIHN0b3AoKSBpbnRlcm5hbGx5LgogICAgICovCiAgICBzcGluOiBmdW5jdGlvbih0YXJnZXQpIHsKICAgICAgdGhpcy5zdG9wKCkKCiAgICAgIHZhciBzZWxmID0gdGhpcwogICAgICAgICwgbyA9IHNlbGYub3B0cwogICAgICAgICwgZWwgPSBzZWxmLmVsID0gY3NzKGNyZWF0ZUVsKDAsIHtjbGFzc05hbWU6IG8uY2xhc3NOYW1lfSksIHtwb3NpdGlvbjogby5wb3NpdGlvbiwgd2lkdGg6IDAsIHpJbmRleDogby56SW5kZXh9KQogICAgICAgICwgbWlkID0gby5yYWRpdXMrby5sZW5ndGgrby53aWR0aAoKICAgICAgY3NzKGVsLCB7CiAgICAgICAgbGVmdDogby5sZWZ0LAogICAgICAgIHRvcDogby50b3AKICAgICAgfSkKICAgICAgICAKICAgICAgaWYgKHRhcmdldCkgewogICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUoZWwsIHRhcmdldC5maXJzdENoaWxkfHxudWxsKQogICAgICB9CgogICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAncHJvZ3Jlc3NiYXInKQogICAgICBzZWxmLmxpbmVzKGVsLCBzZWxmLm9wdHMpCgogICAgICBpZiAoIXVzZUNzc0FuaW1hdGlvbnMpIHsKICAgICAgICAvLyBObyBDU1MgYW5pbWF0aW9uIHN1cHBvcnQsIHVzZSBzZXRUaW1lb3V0KCkgaW5zdGVhZAogICAgICAgIHZhciBpID0gMAogICAgICAgICAgLCBzdGFydCA9IChvLmxpbmVzIC0gMSkgKiAoMSAtIG8uZGlyZWN0aW9uKSAvIDIKICAgICAgICAgICwgYWxwaGEKICAgICAgICAgICwgZnBzID0gby5mcHMKICAgICAgICAgICwgZiA9IGZwcy9vLnNwZWVkCiAgICAgICAgICAsIG9zdGVwID0gKDEtby5vcGFjaXR5KSAvIChmKm8udHJhaWwgLyAxMDApCiAgICAgICAgICAsIGFzdGVwID0gZi9vLmxpbmVzCgogICAgICAgIDsoZnVuY3Rpb24gYW5pbSgpIHsKICAgICAgICAgIGkrKzsKICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgby5saW5lczsgaisrKSB7CiAgICAgICAgICAgIGFscGhhID0gTWF0aC5tYXgoMSAtIChpICsgKG8ubGluZXMgLSBqKSAqIGFzdGVwKSAlIGYgKiBvc3RlcCwgby5vcGFjaXR5KQoKICAgICAgICAgICAgc2VsZi5vcGFjaXR5KGVsLCBqICogby5kaXJlY3Rpb24gKyBzdGFydCwgYWxwaGEsIG8pCiAgICAgICAgICB9CiAgICAgICAgICBzZWxmLnRpbWVvdXQgPSBzZWxmLmVsICYmIHNldFRpbWVvdXQoYW5pbSwgfn4oMTAwMC9mcHMpKQogICAgICAgIH0pKCkKICAgICAgfQogICAgICByZXR1cm4gc2VsZgogICAgfSwKCiAgICAvKioKICAgICAqIFN0b3BzIGFuZCByZW1vdmVzIHRoZSBTcGlubmVyLgogICAgICovCiAgICBzdG9wOiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGVsID0gdGhpcy5lbAogICAgICBpZiAoZWwpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KQogICAgICAgIGlmIChlbC5wYXJlbnROb2RlKSBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKQogICAgICAgIHRoaXMuZWwgPSB1bmRlZmluZWQKICAgICAgfQogICAgICByZXR1cm4gdGhpcwogICAgfSwKCiAgICAvKioKICAgICAqIEludGVybmFsIG1ldGhvZCB0aGF0IGRyYXdzIHRoZSBpbmRpdmlkdWFsIGxpbmVzLiBXaWxsIGJlIG92ZXJ3cml0dGVuCiAgICAgKiBpbiBWTUwgZmFsbGJhY2sgbW9kZSBiZWxvdy4KICAgICAqLwogICAgbGluZXM6IGZ1bmN0aW9uKGVsLCBvKSB7CiAgICAgIHZhciBpID0gMAogICAgICAgICwgc3RhcnQgPSAoby5saW5lcyAtIDEpICogKDEgLSBvLmRpcmVjdGlvbikgLyAyCiAgICAgICAgLCBzZWcKCiAgICAgIGZ1bmN0aW9uIGZpbGwoY29sb3IsIHNoYWRvdykgewogICAgICAgIHJldHVybiBjc3MoY3JlYXRlRWwoKSwgewogICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsCiAgICAgICAgICB3aWR0aDogKG8ubGVuZ3RoK28ud2lkdGgpICsgJ3B4JywKICAgICAgICAgIGhlaWdodDogby53aWR0aCArICdweCcsCiAgICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvciwKICAgICAgICAgIGJveFNoYWRvdzogc2hhZG93LAogICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiAnbGVmdCcsCiAgICAgICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoJyArIH5+KDM2MC9vLmxpbmVzKmkrby5yb3RhdGUpICsgJ2RlZykgdHJhbnNsYXRlKCcgKyBvLnJhZGl1cysncHgnICsnLDApJywKICAgICAgICAgIGJvcmRlclJhZGl1czogKG8uY29ybmVycyAqIG8ud2lkdGg+PjEpICsgJ3B4JwogICAgICAgIH0pCiAgICAgIH0KCiAgICAgIGZvciAoOyBpIDwgby5saW5lczsgaSsrKSB7CiAgICAgICAgc2VnID0gY3NzKGNyZWF0ZUVsKCksIHsKICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLAogICAgICAgICAgdG9wOiAxK34oby53aWR0aC8yKSArICdweCcsCiAgICAgICAgICB0cmFuc2Zvcm06IG8uaHdhY2NlbCA\/ICd0cmFuc2xhdGUzZCgwLDAsMCknIDogJycsCiAgICAgICAgICBvcGFjaXR5OiBvLm9wYWNpdHksCiAgICAgICAgICBhbmltYXRpb246IHVzZUNzc0FuaW1hdGlvbnMgJiYgYWRkQW5pbWF0aW9uKG8ub3BhY2l0eSwgby50cmFpbCwgc3RhcnQgKyBpICogby5kaXJlY3Rpb24sIG8ubGluZXMpICsgJyAnICsgMS9vLnNwZWVkICsgJ3MgbGluZWFyIGluZmluaXRlJwogICAgICAgIH0pCgogICAgICAgIGlmIChvLnNoYWRvdykgaW5zKHNlZywgY3NzKGZpbGwoJyMwMDAnLCAnMCAwIDRweCAnICsgJyMwMDAnKSwge3RvcDogMisncHgnfSkpCiAgICAgICAgaW5zKGVsLCBpbnMoc2VnLCBmaWxsKGdldENvbG9yKG8uY29sb3IsIGkpLCAnMCAwIDFweCByZ2JhKDAsMCwwLC4xKScpKSkKICAgICAgfQogICAgICByZXR1cm4gZWwKICAgIH0sCgogICAgLyoqCiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdGhhdCBhZGp1c3RzIHRoZSBvcGFjaXR5IG9mIGEgc2luZ2xlIGxpbmUuCiAgICAgKiBXaWxsIGJlIG92ZXJ3cml0dGVuIGluIFZNTCBmYWxsYmFjayBtb2RlIGJlbG93LgogICAgICovCiAgICBvcGFjaXR5OiBmdW5jdGlvbihlbCwgaSwgdmFsKSB7CiAgICAgIGlmIChpIDwgZWwuY2hpbGROb2Rlcy5sZW5ndGgpIGVsLmNoaWxkTm9kZXNbaV0uc3R5bGUub3BhY2l0eSA9IHZhbAogICAgfQoKICB9KQoKCiAgZnVuY3Rpb24gaW5pdFZNTCgpIHsKCiAgICAvKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIFZNTCB0YWcgKi8KICAgIGZ1bmN0aW9uIHZtbCh0YWcsIGF0dHIpIHsKICAgICAgcmV0dXJuIGNyZWF0ZUVsKCc8JyArIHRhZyArICcgeG1sbnM9InVybjpzY2hlbWFzLW1pY3Jvc29mdC5jb206dm1sIiBjbGFzcz0ic3Bpbi12bWwiPicsIGF0dHIpCiAgICB9CgogICAgLy8gTm8gQ1NTIHRyYW5zZm9ybXMgYnV0IFZNTCBzdXBwb3J0LCBhZGQgYSBDU1MgcnVsZSBmb3IgVk1MIGVsZW1lbnRzOgogICAgc2hlZXQuYWRkUnVsZSgnLnNwaW4tdm1sJywgJ2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpJykKCiAgICBTcGlubmVyLnByb3RvdHlwZS5saW5lcyA9IGZ1bmN0aW9uKGVsLCBvKSB7CiAgICAgIHZhciByID0gby5sZW5ndGgrby53aWR0aAogICAgICAgICwgcyA9IDIqcgoKICAgICAgZnVuY3Rpb24gZ3JwKCkgewogICAgICAgIHJldHVybiBjc3MoCiAgICAgICAgICB2bWwoJ2dyb3VwJywgewogICAgICAgICAgICBjb29yZHNpemU6IHMgKyAnICcgKyBzLAogICAgICAgICAgICBjb29yZG9yaWdpbjogLXIgKyAnICcgKyAtcgogICAgICAgICAgfSksCiAgICAgICAgICB7IHdpZHRoOiBzLCBoZWlnaHQ6IHMgfQogICAgICAgICkKICAgICAgfQoKICAgICAgdmFyIG1hcmdpbiA9IC0oby53aWR0aCtvLmxlbmd0aCkqMiArICdweCcKICAgICAgICAsIGcgPSBjc3MoZ3JwKCksIHtwb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiBtYXJnaW4sIGxlZnQ6IG1hcmdpbn0pCiAgICAgICAgLCBpCgogICAgICBmdW5jdGlvbiBzZWcoaSwgZHgsIGZpbHRlcikgewogICAgICAgIGlucyhnLAogICAgICAgICAgaW5zKGNzcyhncnAoKSwge3JvdGF0aW9uOiAzNjAgLyBvLmxpbmVzICogaSArICdkZWcnLCBsZWZ0OiB+fmR4fSksCiAgICAgICAgICAgIGlucyhjc3Modm1sKCdyb3VuZHJlY3QnLCB7YXJjc2l6ZTogby5jb3JuZXJzfSksIHsKICAgICAgICAgICAgICAgIHdpZHRoOiByLAogICAgICAgICAgICAgICAgaGVpZ2h0OiBvLndpZHRoLAogICAgICAgICAgICAgICAgbGVmdDogby5yYWRpdXMsCiAgICAgICAgICAgICAgICB0b3A6IC1vLndpZHRoPj4xLAogICAgICAgICAgICAgICAgZmlsdGVyOiBmaWx0ZXIKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICB2bWwoJ2ZpbGwnLCB7Y29sb3I6IGdldENvbG9yKG8uY29sb3IsIGkpLCBvcGFjaXR5OiBvLm9wYWNpdHl9KSwKICAgICAgICAgICAgICB2bWwoJ3N0cm9rZScsIHtvcGFjaXR5OiAwfSkgLy8gdHJhbnNwYXJlbnQgc3Ryb2tlIHRvIGZpeCBjb2xvciBibGVlZGluZyB1cG9uIG9wYWNpdHkgY2hhbmdlCiAgICAgICAgICAgICkKICAgICAgICAgICkKICAgICAgICApCiAgICAgIH0KCiAgICAgIGlmIChvLnNoYWRvdykKICAgICAgICBmb3IgKGkgPSAxOyBpIDw9IG8ubGluZXM7IGkrKykKICAgICAgICAgIHNlZyhpLCAtMiwgJ3Byb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5CbHVyKHBpeGVscmFkaXVzPTIsbWFrZXNoYWRvdz0xLHNoYWRvd29wYWNpdHk9LjMpJykKCiAgICAgIGZvciAoaSA9IDE7IGkgPD0gby5saW5lczsgaSsrKSBzZWcoaSkKICAgICAgcmV0dXJuIGlucyhlbCwgZykKICAgIH0KCiAgICBTcGlubmVyLnByb3RvdHlwZS5vcGFjaXR5ID0gZnVuY3Rpb24oZWwsIGksIHZhbCwgbykgewogICAgICB2YXIgYyA9IGVsLmZpcnN0Q2hpbGQKICAgICAgbyA9IG8uc2hhZG93ICYmIG8ubGluZXMgfHwgMAogICAgICBpZiAoYyAmJiBpK28gPCBjLmNoaWxkTm9kZXMubGVuZ3RoKSB7CiAgICAgICAgYyA9IGMuY2hpbGROb2Rlc1tpK29dOyBjID0gYyAmJiBjLmZpcnN0Q2hpbGQ7IGMgPSBjICYmIGMuZmlyc3RDaGlsZAogICAgICAgIGlmIChjKSBjLm9wYWNpdHkgPSB2YWwKICAgICAgfQogICAgfQogIH0KCiAgdmFyIHByb2JlID0gY3NzKGNyZWF0ZUVsKCdncm91cCcpLCB7YmVoYXZpb3I6ICd1cmwoI2RlZmF1bHQjVk1MKSd9KQoKICBpZiAoIXZlbmRvcihwcm9iZSwgJ3RyYW5zZm9ybScpICYmIHByb2JlLmFkaikgaW5pdFZNTCgpCiAgZWxzZSB1c2VDc3NBbmltYXRpb25zID0gdmVuZG9yKHByb2JlLCAnYW5pbWF0aW9uJykKCiAgcmV0dXJuIFNwaW5uZXIKCn0pKTs=",
    "size": "10025"
}