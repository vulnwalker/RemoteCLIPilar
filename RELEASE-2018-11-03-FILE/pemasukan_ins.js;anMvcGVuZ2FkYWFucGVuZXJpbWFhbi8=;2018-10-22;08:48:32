{
    "namaFile": "js\/pengadaanpenerimaan\/pemasukan_ins.js",
    "lastUpdate": "2018-10-22+08:48:32.99",
    "contentFile": "dmFyIHBlbWFzdWthbl9pbnNTS1BEID0gbmV3IFNrcGRDbHMoew0KCXByZWZpeCA6ICdwZW1hc3VrYW5faW5zU0tQRCcsIGZvcm1OYW1lOidwZW1hc3VrYW5faW5zRm9ybScsIGtvbG9tV2lkdGg6MTIwLA0KCQ0KCWEgOiBmdW5jdGlvbigpew0KCQlhbGVydCgnZHNmJyk7DQoJfSwNCn0pOw0KDQp2YXIgcGVtYXN1a2FuX2lucyA9IG5ldyBEYWZ0YXJPYmoyKHsNCglwcmVmaXggOiAncGVtYXN1a2FuX2lucycsDQoJdXJsIDogJ3BhZ2VzLnBocD9QZz1wZW1hc3VrYW5faW5zJywgDQoJZm9ybU5hbWUgOiAncGVtYXN1a2FuX2luc0Zvcm0nLA0KCXNhdHVhbl9mb3JtIDogJzAnLC8vZGVmYXVsdCBqcyBzYXR1YW4JDQoJDQoJbG9hZGluZzogZnVuY3Rpb24oKXsNCgkJdGhpcy50b3BCYXJSZW5kZXIoKTsNCgkJdGhpcy5maWx0ZXJSZW5kZXIoKTsJDQoJfSwJDQoJDQoJZmlsdGVyUmVuZGVyQWZ0ZXIgOiBmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQkNCgkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkgew0KCQkJbWUuY2FyYXBlcm9sZWhhbigpOw0KCQkJbWUucmluY2lhbnBlbmVyaW1hYW4oKTsNCgkJCW1lLlNldFBlbmVyaW1hKCk7DQoJCQltZS5ueWFsYWthbmRhdGVwaWNrZXIoKTsNCgkJCW1lLm55YWxha2FuZGF0ZXBpY2tlcjIoKTsNCgkJCW1lLk9wdGlvblBlbnllZGlhKCk7DQoJCQkNCgkJCS8vcGFyZW50LndpbmRvdy5vbnVubG9hZD1tZS5UdXR1cEhhbGFtYW4oKTsNCgkJfSwxMDAwKTsJCQkJCQkNCgl9LA0KCQ0KCW55YWxha2FuZGF0ZXBpY2tlcjogZnVuY3Rpb24oKXsNCgkJDQoJCSQoICIuZGF0ZXBpY2tlciIgKS5kYXRlcGlja2VyKHsgDQoJCQlkYXRlRm9ybWF0OiAiZGQtbW0teXkiLCANCgkJCXNob3dBbmltOiAic2xpZGVEb3duIiwNCgkJCWlubGluZTogdHJ1ZSwNCgkJCXNob3dPbjogImJ1dHRvbiIsDQoJCQlidXR0b25JbWFnZTogImRhdGVwaWNrZXIvY2FsZW5kZXIxLnBuZyIsDQoJCQlidXR0b25JbWFnZU9ubHk6IHRydWUsDQoJCQljaGFuZ2VNb250aDogdHJ1ZSwNCgkJCWNoYW5nZVllYXI6IHRydWUsDQoJCQl5ZWFyUmFuZ2U6ICItMTAwOiswIiwNCgkJCWJ1dHRvblRleHQgOiAiIiwNCgkJfSk7CQ0KCX0sDQoJDQoJbnlhbGFrYW5kYXRlcGlja2VyMjogZnVuY3Rpb24oKXsNCgkJdmFyIFRobkFuZ2dhcmFuID0gcmVhZENvb2tpZSgiY29UaG5BbmdnYXJhbiIpOw0KCQl2YXIgdGdsID0gbmV3IERhdGUoKTsNCgkJdmFyIEphbmdrYXUgPSBUaG5BbmdnYXJhbiAtIHBhcnNlSW50KHRnbC5nZXRZZWFyKCkpOw0KCQl2YXIgZCA9IG5ldyBEYXRlKCk7DQoNCgkJJCggIi5kYXRlcGlja2VyMiIgKS5kYXRlcGlja2VyKHsgDQoJCQlkYXRlRm9ybWF0OiAiZGQtbW0iLCANCgkJCXNob3dBbmltOiAic2xpZGVEb3duIiwNCgkJCWlubGluZTogdHJ1ZSwNCgkJCXNob3dPbjogImJ1dHRvbiIsDQoJCQlidXR0b25JbWFnZTogImRhdGVwaWNrZXIvY2FsZW5kZXIxLnBuZyIsDQoJCQlidXR0b25JbWFnZU9ubHk6IHRydWUsDQoJCQljaGFuZ2VNb250aDogdHJ1ZSwNCgkJCWNoYW5nZVllYXI6IGZhbHNlLA0KCQkJVGFtcGlsVGFodW46IGZhbHNlLA0KCQkJeWVhclN1ZmZpeDogVGhuQW5nZ2FyYW4sDQoJCQltaW5EYXRlIDogbmV3IERhdGUocGFyc2VJbnQoVGhuQW5nZ2FyYW4pLCAwLCAxKSwNCgkJCW1heERhdGUgOiBuZXcgRGF0ZShwYXJzZUludChUaG5BbmdnYXJhbiksIDExLCAzMSksDQoJCQkvL3Nob3dNb250aEFmdGVyWWVhcjogdHJ1ZSwNCgkJCS8veWVhclJhbmdlOiAiLSIrSmFuZ2thdSsiOiswIiwNCgkJCS8qeWVhclJhbmdlOiBUaG5BbmdnYXJhbisnOicrVGhuQW5nZ2FyYW4sDQoJCQlkZWZhdWx0RGF0ZTogVGhuQW5nZ2FyYW4rJy0nKyhkLmdldE1vbnRoKCkrMSkrJy0nK2QuZ2V0RGF0ZSgpLA0KCQkJbWluRGF0ZTogbmV3IERhdGUoVGhuQW5nZ2FyYW4sIDAsIDEpLA0KICAgICAgCQltYXhEYXRlOiBuZXcgRGF0ZShUaG5BbmdnYXJhbiwgMTEsIDMxKSwNCgkJCXN0YXJ0VmlldzogIm1vbnRocyIsIA0KICAgIAkJbWluVmlld01vZGU6ICJtb250aHMiLAkqLwkJDQoJCQlidXR0b25UZXh0IDogIiIsDQoJCX0pOwkNCgl9LA0KDQoJaW5wdXRwZW5lcmltYWFuOiBmdW5jdGlvbigpew0KCQkvKmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dHBlbmVyaW1hYW5iYXJhbmcnKS5zdHlsZS5jb2xvciA9ICJibHVlIjsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0cGVuZXJpbWFhbmJhcmFuZycpLnN0eWxlLmZvbnRXZWlnaHQgPSAiYm9sZCI7DQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyaW5jaWFucGVuZXJpbWFhbmJhcmFuZycpLnN0eWxlLmNvbG9yID0gInJlZCI7DQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyaW5jaWFucGVuZXJpbWFhbmJhcmFuZycpLnN0eWxlLmZvbnRXZWlnaHQgPSAiIjsqLw0KDQoJCSQoIiNyZWZpZF9kcGFfYnJnIikudmFsKCIiKTsNCgkJdmFyIG1lID10aGlzOw0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1pbnB1dGRldGFpbCc7DQoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCQ0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPWlucHV0cGVuZXJpbWFhbkRFVCcsDQoJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJZGVsRWxlbShjb3Zlcik7CQ0KCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOwkNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YWJhcmFuZ255YScpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCX0NCgkJCX0sDQoJCQllcnJvcjogZnVuY3Rpb24gKHhociwgYWpheE9wdGlvbnMsIHRocm93bkVycm9yKSB7DQoJCQkJZGVsRWxlbShjb3Zlcik7CQ0KCQkJCW1lLmlucHV0cGVuZXJpbWFhbigpOw0KCSAgICAJfQ0KCQl9KTsJDQoJCQ0KCX0sDQoJDQoJcmluY2lhbnBlbmVyaW1hYW46IGZ1bmN0aW9uKEJlcnNpaD0xKXsNCgkJdmFyIG1lPXRoaXM7DQoJCS8vVVBEQVRFIERQQSAyNyBERVNFTUJFUiAyMDE3IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCgkJaWYoQmVyc2loID09IDEpew0KCQkJRGF0YVBlbmdhdHVyYW4uU2V0X2Nla0RjSURfdmFsKCJHZXRSZWtlbmluZ0RQQSIsIiIpOw0KCQkJRGF0YVBlbmdhdHVyYW4uU2V0X2Nla0RjSURfdmFsKCJJZFJla2VuaW5nRFBBIiwiIik7DQoJCX0NCgkJbWUuaW5wdXRwZW5lcmltYWFuKCk7DQoJCW1lLkFtYmlsUGVtYXN1a2FuRGV0KCk7DQoJfSwNCgkJDQoJdGFiZWxSZWtlbmluZzogZnVuY3Rpb24oaGFwdXMgPSAxKXsNCgkJdmFyIG1lPXRoaXM7DQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9dGFiZWxSZWtlbmluZyZIYXB1c0RhdGE9JytoYXB1cywNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YmxfcmVrZW5pbmcnKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQudGFiZWw7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3RhbGJlbGFuamEyMycpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5qdW1sYWg7DQoJCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrb2RlcmVrJykpew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2tvZGVyZWsnKS5mb2N1cygpOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F0YXNidXR0b24nKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQuYXRhc2J1dHRvbjsNCgkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHsNCgkJCQkJCQltZS5DZWtTZXN1YWkoKTsNCgkJCQkJCX0sMTAwMCk7DQoJCQkJCX0JCQkJCQ0KCQkJCQltZS5yaW5jaWFucGVuZXJpbWFhbigpOw0KCQkJCQkvL3NldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHttZS5yZWxvYWRfY2FyYWJheWFyKCl9LDEwMDApOwkJCQkJDQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCQl9LA0KCQkJZXJyb3I6IGZ1bmN0aW9uICh4aHIsIGFqYXhPcHRpb25zLCB0aHJvd25FcnJvcikgew0KCQkJCW1lLnRhYmVsUmVrZW5pbmcoKTsNCgkgICAgCX0NCgkJfSk7CQ0KCQkNCgkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge21lLkNla1Nlc3VhaSgpfSwxMDAwKTsNCgl9LA0KCQ0KCWNhcmFwZXJvbGVoYW5fQWZ0ZXI6IGZ1bmN0aW9uKEJJUk1TPTAsIGtvbnRlbj0nJywgUmVmcmVzaFNhdmVEUEE9MCl7DQoJCXZhciBtZSA9dGhpczsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BpbENhcmFQZXJvbGVoYW4nKS5pbm5lckhUTUwgPSBrb250ZW47DQoJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHsNCgkJCW1lLnRhYmVsUmVrZW5pbmcoKTsNCgkJCW1lLkdldERhdGFfRFBBX1Byb2dLZWcoUmVmcmVzaFNhdmVEUEEpOw0KCQkJbWUuaW5wdXRwZW5lcmltYWFuKCk7DQoJCX0sMTAwKTsJCQkNCgkJCQkJCQkJCQkJDQoJCWlmKEJJUk1TID09IDEpew0KCQkJbWUuQWZ0ZXJQaWxCSVJNKCk7DQoJCX1lbHNlew0KCQkJdmFyIEtFQklSTVMgPSB0cnVlOw0KCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImtvZGVfYWNjb3VudF9hcCIpLnZhbHVlID09ICIiKUtFQklSTVMgPSBmYWxzZTsNCgkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJrb2RlX2FjY291bnRfYXAiKS52YWx1ZSA9PSAiMCIpS0VCSVJNUyA9IGZhbHNlOw0KCQkJaWYoS0VCSVJNUyA9PSB0cnVlKXsNCgkJCQltZS5BZnRlclBpbEJJUk0oMCk7DQoJCQl9ZWxzZXsNCgkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7DQoJCQkJCW1lLlRnbE5vbW9yRG9rdW1lbigpOw0KCQkJCQltZS5HZXRfVGFuZ2dhbERva19TdW1iZXIoKTsNCgkJCQl9LDUwMCk7CQkNCgkJCX0NCgkJCS8vbWUuUGlsX05vbW9yRG9rdW1lbigpOw0KCQl9CQ0KCX0sDQoJDQoJY2FyYXBlcm9sZWhhbjogZnVuY3Rpb24oQklSTVMgPSAwKXsNCgkJdmFyIGFzYWx1c3VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FzYWx1c3VsJykudmFsdWU7DQoJCXZhciBtZSA9dGhpczsNCgkJDQoJCWlmKGFzYWx1c3VsID09ICcxJyl7DQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPWNhcmFwZXJvbGVoYW4nLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCW1lLmNhcmFwZXJvbGVoYW5fQWZ0ZXIoQklSTVMsIHJlc3AuY29udGVudCk7CQkJCQkJCQ0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJfQ0KCQkJCX0sDQoJCQkJZXJyb3I6IGZ1bmN0aW9uICh4aHIsIGFqYXhPcHRpb25zLCB0aHJvd25FcnJvcikgew0KCQkJCQltZS5jYXJhcGVyb2xlaGFuKEJJUk1TKTsNCgkJICAgIAl9DQoJCQl9KTsNCgkJfWVsc2V7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGlsQ2FyYVBlcm9sZWhhbicpLmlubmVySFRNTCA9ICcnOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RibF9yZWtlbmluZycpLmlubmVySFRNTCA9ICcnOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvdGFsYmVsYW5qYTIzJykuaW5uZXJIVE1MID0gJyc7DQoJCQltZS5HZXRfVGFuZ2dhbERva19TdW1iZXIoKTsNCgkJCW1lLmlucHV0cGVuZXJpbWFhbigpOw0KCQl9CQ0KCQkNCgkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge21lLktvZGVQZW5lcmltYWFuKCl9LDUwMCk7DQoJCS8vc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge21lLkdldFN1bWJlckRhbmEoKX0sMTAwKTsNCgl9LA0KCQ0KCUdldFN1bWJlckRhbmE6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9dGhpczsNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1HZXRTdW1iZXJEYW5hJywNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0dWtDYXJhUGVyb2xlaGFuIikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQ0KCQkJfQ0KCQl9KTsJDQoJfSwNCgkNCglCYXJ1UmVrZW5pbmc6IGZ1bmN0aW9uKCl7DQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9SW5zZXJ0UmVrZW5pbmcnLA0KCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQkJDQoJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJaWYocmVzcC5jb250ZW50ID09IDEpew0KCQkJCQkJdmFyIG1lID0gdGhpcyA7DQoJCQkJCQlwZW1hc3VrYW5faW5zLnRhYmVsUmVrZW5pbmcoMCk7DQoJCQkJCX0NCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCX0NCgkJCX0NCgkJfSk7CQ0KCX0sDQoJDQoJbmFtYXJla2VuaW5nOiBmdW5jdGlvbigpew0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPW5hbWFyZWtlbmluZycsDQoJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtYWFrdW5fJytyZXNwLmNvbnRlbnQuaWRyZWspLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5uYW1hcmVrZW5pbmc7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCQl9DQoJCX0pOwkNCgl9LA0KCQ0KCUhhcHVzUmVrZW5pbmc6IGZ1bmN0aW9uKGlzaSl7DQoJCXZhciBrb25mcmltID0gY29uZmlybSgiSGFwdXMgRGF0YSBSZWtlbmluZyA\/Iik7DQoJCXZhciBtZT10aGlzOw0KCQlpZihrb25mcmltID09IHRydWUpew0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1IYXB1c1Jla2VuaW5nJmlkcmVrZWk9Jytpc2ksDQoJCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtYWFrdW5fJytyZXNwLmNvbnRlbnQuaWRyZWspLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5uYW1hcmVrZW5pbmc7DQoJCQkJCQltZS50YWJlbFJla2VuaW5nKCk7DQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfSk7CQ0KCQl9DQoJCQ0KCX0sDQoJDQoJdXBkS29kZVJlazogZnVuY3Rpb24oKXsNCgkJdmFyIG1lPXRoaXM7DQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9dXBkS29kZVJlaycsDQoJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna29kZXJla2VuaW5nbnlhXycrcmVzcC5jb250ZW50LmlkcmVrKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQua29kZXJlazsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2p1bWxhbnlhXycrcmVzcC5jb250ZW50LmlkcmVrKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQuanVtbGFobnlhOw0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3B0aW9uXycrcmVzcC5jb250ZW50LmlkcmVrKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQub3B0aW9uOw0KCQkJCQkNCgkJCQkJbWUudGFiZWxSZWtlbmluZygpOw0KCQkJCQkvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1hYWt1bl8nK3Jlc3AuY29udGVudC5pZHJlaykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Lm5hbWFyZWtlbmluZzsNCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCX0NCgkJCX0NCgkJfSk7CQ0KCX0sDQoJDQoJSkFESUtBTklOUFVUOiBmdW5jdGlvbihpZG5hKXsNCgkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1qYWRpaW5wdXQmaWRyZWtlbmluZ255YT0nK2lkbmEsDQoJCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2tvZGVyZWtlbmluZ255YV8nK3Jlc3AuY29udGVudC5pZHJlaykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LmtvZGVyZWs7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanVtbGFueWFfJytyZXNwLmNvbnRlbnQuaWRyZWspLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5qdW1sYWhueWE7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3B0aW9uXycrcmVzcC5jb250ZW50LmlkcmVrKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQub3B0aW9uOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F0YXNidXR0b24nKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQuYXRhc2J1dHRvbjsNCgkJCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWFha3VuXycrcmVzcC5jb250ZW50LmlkcmVrKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQubmFtYXJla2VuaW5nOw0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0pOwkNCgl9LA0KCQ0KCWphZGlpbnB1dDogZnVuY3Rpb24oaWRuYSl7DQoJCXZhciBtZT10aGlzOw0KCQltZS50YWJlbFJla2VuaW5nKCk7DQoJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHtwZW1hc3VrYW5faW5zLkpBRElLQU5JTlBVVChpZG5hKX0sMTAwKTsNCgl9LA0KCQ0KCQ0KCUNhcmlQcm9ncmFtOiBmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQljYXJpcHJvZ3JhbS53aW5kb3dTaG93KCk7CQ0KCQljYXJpcHJvZ3JhbS5kZWZfYzEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYzFueWEiKS52YWx1ZTsJDQoJCWNhcmlwcm9ncmFtLmRlZl9jID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNueWEiKS52YWx1ZTsJDQoJCWNhcmlwcm9ncmFtLmRlZl9kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRueWEiKS52YWx1ZTsJDQoJfSwNCg0KCUNhcmlQcm9ncmFtU0lQS0Q6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCQ0KCQljYXJpcHJvZ3JhbXNpcGtkLmRlZl9jMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjMW55YSIpLnZhbHVlOwkNCgkJY2FyaXByb2dyYW1zaXBrZC5kZWZfYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjbnlhIikudmFsdWU7CQ0KCQljYXJpcHJvZ3JhbXNpcGtkLmRlZl9kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRueWEiKS52YWx1ZTsNCgkJY2FyaXByb2dyYW1zaXBrZC5pZHBlbmVyaW1hYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGVtYXN1a2FuX2luc19pZHBsaCIpLnZhbHVlOw0KCQkNCgkJY2FyaXByb2dyYW1zaXBrZC5waWxQcm9nX0FmdGVyPSBmdW5jdGlvbihyZXNwKXsNCgkJCS8vdmFyIG1lPXRoaXM7CQ0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2cnKS52YWx1ZSA9IHJlc3AuY29udGVudC5wOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyYW0nKS52YWx1ZSA9IHJlc3AuY29udGVudC5wcm9ncmFtOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhZmtlZycpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5rZWdpYXRhbjsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXNfZHBhX3NpcGtkJykudmFsdWUgPSAiMSI7DQoJCQltZS50YWJlbFJla2VuaW5nKCk7DQoJCQltZS5EUEFfU0lQS0RfQ2xlYXJfUmluY2lhbigpOw0KCQ0KCQl9Ow0KCQljYXJpcHJvZ3JhbXNpcGtkLndpbmRvd1Nob3coKTsJDQoJfSwNCg0KDQoNCglEUEFfU0lQS0RfQ2xlYXJfUmluY2lhbjogZnVuY3Rpb24oKXsJCQkNCgkJdmFyIG1lID0gdGhpczsNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXIxJzsNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPURQQV9TSVBLRF9DbGVhcl9SaW5jaWFuJywNCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQkJDQoJCQkJRGVsRWxlbVNjcm9sbChjb3Zlcik7DQoJCSAgCX0sDQoJCSAgCWVycm9yOiBmdW5jdGlvbiAoeGhyLCBhamF4T3B0aW9ucywgdGhyb3duRXJyb3IpIHsNCgkJCQlEZWxFbGVtU2Nyb2xsKGNvdmVyKTsNCgkJCQlhbGVydCgiR2FnYWwgTWVuZ2hhcHVzIFJpbmNpYW4gUGVuZXJpbWFhbiIpOw0KCQkJfQ0KCQl9KTsJDQoJfSwNCgkNCglUZ2xOb21vckRva3VtZW46IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9VGdsbm9tb3Jkb2t1bWVuJywNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCS8qZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RnbF9kb2tjb3B5JykudmFsdWUgPSByZXNwLmNvbnRlbnQudGdsOw0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGdsX2RvaycpLnZhbHVlID0gcmVzcC5jb250ZW50LnRnbF9kb2s7DQoJCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdUb21ib2xQaWxpaCcpKWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdUb21ib2xQaWxpaCcpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5Ub21ib2w7Ki8NCgkJCQkJbWUuVGdsTm9tb3JEb2t1bWVuQWZ0ZXIoKTsNCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCX0NCgkJCX0NCgkJfSk7CQ0KCQkNCgl9LA0KCQ0KCVRnbE5vbW9yRG9rdW1lbkFmdGVyOmZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJfSwNCgkNCgkNCgljZWtDYXJhUGVyb2xlaGFuOiBmdW5jdGlvbigpew0KCQl2YXIgYXNhbHVzdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXNhbHVzdWwnKS52YWx1ZTsNCgkJDQoJCWlmKGFzYWx1c3VsICE9ICcxJyl7DQoJCQkvKmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXRvZGVwZW5nYWRhYW4nKS5kaXNhYmxlZCA9dHJ1ZTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW5jYWlyYW5fZGFuYScpLmRpc2FibGVkID10cnVlOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyYW0nKS52YWx1ZSA9Jyc7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ2NhcicpLmRpc2FibGVkID10cnVlOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2tlZ2lhdGFuJykudmFsdWUgPSIiOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2tlZ2lhdGFuJykuZGlzYWJsZWQgPXRydWU7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVrZXJqYWFuJykuZGlzYWJsZWQgPXRydWU7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVrZXJqYWFuJykudmFsdWUgPSIiOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RnbF9kb2tjb3B5JykudmFsdWUgPSIiOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vbWRvaycpLnZhbHVlID0iIjsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdCYXJ1Tm9Eb2snKS5kaXNhYmxlZCA9dHJ1ZTsNCgkJCQ0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2cnKS52YWx1ZSA9Jyc7Ki8NCgkJfWVsc2V7DQoJCQkvKmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9nY2FyJykuZGlzYWJsZWQgPWZhbHNlOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bla2VyamFhbicpLmRpc2FibGVkID1mYWxzZTsqLw0KCQkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWV0b2RlcGVuZ2FkYWFuJykuZGlzYWJsZWQgPWZhbHNlOw0KCQl9DQoJfSwNCgkNCglhbWJpbE5vbW9yRG9rdW1lbjogZnVuY3Rpb24ocGlsID0gJycsIGxhbmc9J3QnKXsNCgkJdmFyIG1lID0gdGhpczsNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1ub21vcmRva3VtZW4mbm9tPScrcGlsLA0KCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQkJDQoJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vbWJlcicpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5pc2k7DQoJCQkJCWlmKGxhbmcgPT0gJ3knKXsNCgkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHttZS5UZ2xOb21vckRva3VtZW4oKX0sMTAwKTsNCgkJCQkJfWVsc2V7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGdsX2Rva2NvcHknKS52YWx1ZSA9ICcnOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RnbF9kb2snKS52YWx1ZSA9ICcnOw0KCQkJCQl9DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCQl9DQoJCX0pOwkNCgl9LA0KCQ0KCUJhcnVOb21Eb2s6IGZ1bmN0aW9uKCl7CQ0KCQkNCgkJdmFyIG1lID0gdGhpczsNCgkJdmFyIGVycj0nJzsNCgkJDQoJCWlmIChlcnIgPT0nJyApewkJDQoJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7DQoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJaWYobWUuc2F0dWFuX2Zvcm09PTApey8vYmFydSBkYXJpIHNhdHVhbg0KCQkJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCQl9ZWxzZXsvL2JhcnUgZGFyaSBiYXJhbmcNCgkJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDk5OSx0cnVlLGZhbHNlKTsJDQoJCQl9DQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9Zm9ybUJhcnVOb21Eb2snLA0KCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsNCgkJCQkJDQoJCQkJCWlmKHJlc3AuZXJyID09IiIpew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQkJCURhdGFQZW5nYXR1cmFuLm55YWxha2FuZGF0ZXBpY2tlcjIoKTsJDQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJCX0JCQkNCgkJCQkJDQoJCQkgIAl9DQoJCQl9KTsNCgkJDQoJCX1lbHNlew0KCQkgCWFsZXJ0KGVycik7DQoJCX0NCgl9LA0KCQkNCglVYmFoTm9tRG9rOiBmdW5jdGlvbigpewkJCQ0KCQl2YXIgbWUgPSB0aGlzOw0KCQl2YXIgZXJyPScnOw0KCQkNCgkJaWYgKGVyciA9PScnICl7CQkNCgkJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyJzsNCgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPWZvcm1VYmFoTm9tRG9rJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJCQ0KCQkJCQlpZihyZXNwLmVyciA9PSIiKXsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCQlEYXRhUGVuZ2F0dXJhbi5ueWFsYWthbmRhdGVwaWNrZXIyKCk7DQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJCX0JCQkNCgkJCQkJDQoJCQkgIAl9DQoJCQl9KTsJCQ0KCQl9ZWxzZXsNCgkJIAlhbGVydChlcnIpOw0KCQl9DQoJfSwNCgkNCglTaW1wYW5Ob21vckRva3VtZW46IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT0gdGhpczsJDQoJCXRoaXMuT25FcnJvckNsb3NlID0gZmFsc2UJDQoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybXNpbXBhbic7DQoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMucHJlZml4KydfZm9ybScpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c2ltcGFuTm9tb3JEb2t1bWVuJywNCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQlkZWxFbGVtKGNvdmVyKTsJCQ0KCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQltZS5DbG9zZSgpOw0KCQkJCQltZS5hbWJpbE5vbW9yRG9rdW1lbihyZXNwLmNvbnRlbnQubm9tZG9rLCAneScpOw0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQ0KCQkgIAl9DQoJCX0pOw0KCX0sDQoJDQoJSGFwdXNOb21Eb2s6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT0gdGhpczsJCQkNCgkJdmFyIHRhbnlhID0gY29uZmlybSgiSGFwdXMgRG9rdW1lbiBLb250cmFrID8iKTsNCgkJaWYodGFueWEgPT0gdHJ1ZSl7DQoJCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCQ0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybXNpbXBhbic7DQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJDQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPUhhcHVzTm9tb3JEb2t1bWVuJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJbWUuQ2xvc2UoKTsNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdUb21ib2xQaWxpaCcpLmlubmVySFRNTCA9ICIiOw0KCQkJCQkJbWUuYW1iaWxOb21vckRva3VtZW4oKTsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCX0NCgkJCSAgCX0NCgkJCX0pOw0KCQl9DQoJCQ0KCX0sDQoJDQoJQmFydVBlbnllZGlhOiBmdW5jdGlvbigpewkNCgkJDQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBlcnI9Jyc7DQoJCQ0KCQlpZiAoZXJyID09JycgKXsJCQ0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCWlmKG1lLnNhdHVhbl9mb3JtPT0wKXsvL2JhcnUgZGFyaSBzYXR1YW4NCgkJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJfWVsc2V7Ly9iYXJ1IGRhcmkgYmFyYW5nDQoJCQkJYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7CQ0KCQkJfQ0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPWZvcm1CYXJ1UGVueWVkaWEnLA0KCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsNCgkJCQkJDQoJCQkJCWlmKHJlc3AuZXJyID09IiIpew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQkJCS8vJCggIiNkYXRlcGlja2VyIiApLmRhdGVwaWNrZXIoeyBkYXRlRm9ybWF0OiAiZGQtbW0teXkiIH0pOwkNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJfQkJCQ0KCQkJCQkNCgkJCSAgCX0NCgkJCX0pOw0KCQkNCgkJfWVsc2V7DQoJCSAJYWxlcnQoZXJyKTsNCgkJfQ0KCX0sDQoJDQoJQ2FyaVBlbnllZGlhOiBmdW5jdGlvbigpew0KCQl2YXIgbWU9dGhpczsNCgkJY2FyaVBlbnllZGlhLndpbmRvd1Nob3codGhpcy5mb3JtTmFtZSk7DQoJCWNhcmlQZW55ZWRpYS5HZXREYXRhX0FmdGVyPSBmdW5jdGlvbihrb250ZW4pew0KCQkJJCgiI3BlbnllZGlhbiIpLnZhbChrb250ZW4pOw0KCQkJbWUuT3B0aW9uUGVueWVkaWEoKTsNCgkJfTsNCgl9LA0KCQ0KCVNpbXBhblBlbnllZGlhOiBmdW5jdGlvbigpew0KCQl2YXIgbWU9IHRoaXM7CQ0KCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCQ0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1zaW1wYW4nOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkvKnRoaXMuc2VuZFJlcSgNCgkJCXRoaXMudXJsLA0KCQkJeyBpZHByczogMCwgZGFmdGFyUHJvc2VzOiBuZXcgQXJyYXkoJ3NpbXBhbicpfSwNCgkJCXRoaXMuZm9ybURpYWxvZyk7Ki8NCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5wcmVmaXgrJ19mb3JtJykuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1zaW1wYW5QZW55ZWRpYScsDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJZGVsRWxlbShjb3Zlcik7CQkNCgkJCQkvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJbWUuQ2xvc2UoKTsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhZnBlbnllZGlhJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LnBlbnllZGlhbjsNCgkJCQkJbWUuT3B0aW9uUGVueWVkaWEoKTsNCgkJCQkJLy9tZS5hbWJpbE5vbW9yRG9rdW1lbihyZXNwLmNvbnRlbnQubm9tZG9rLCAneScpOw0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQ0KCQkgIAl9DQoJCX0pOw0KCX0sDQoJDQoJU2ltcGFuUGVuZXJpbWFfQWZ0ZXI6ZnVuY3Rpb24ocGFycmFtLCByZXNwKXsNCgkJdmFyIG1lPXRoaXM7CQkJCQkJDQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYWZwZW5lcmltYScpKXsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYWZwZW5lcmltYScpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5wZW5lcmltYTsNCgkJCW1lLlNldFBlbmVyaW1hKCk7DQoJCX0NCgl9LA0KCQ0KCVNpbXBhblBlbmVyaW1hOiBmdW5jdGlvbihwYXJyYW09MCl7DQoJCXZhciBtZT0gdGhpczsJDQoJCXRoaXMuT25FcnJvckNsb3NlID0gZmFsc2UJDQoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybXNpbXBhbic7DQoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCS8qdGhpcy5zZW5kUmVxKA0KCQkJdGhpcy51cmwsDQoJCQl7IGlkcHJzOiAwLCBkYWZ0YXJQcm9zZXM6IG5ldyBBcnJheSgnc2ltcGFuJyl9LA0KCQkJdGhpcy5mb3JtRGlhbG9nKTsqLw0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLnByZWZpeCsnX2Zvcm0nKS5zZXJpYWxpemUoKSwNCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPXNpbXBhblBlbmVyaW1hJywNCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQlkZWxFbGVtKGNvdmVyKTsJCQ0KCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQltZS5DbG9zZSgpOwkJCQkJDQoJCQkJCW1lLlNpbXBhblBlbmVyaW1hX0FmdGVyKHBhcnJhbSwgcmVzcCk7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCSAgCX0NCgkJfSk7DQoJfSwNCgkNCglwaWxpaFBhbmdrYXQgOiBmdW5jdGlvbigpew0KCXZhciBtZSA9IHRoaXM7IA0KCQkkLmFqYXgoew0KCQkgIHVybDogdGhpcy51cmwrJyZ0aXBlPXBpbGloUGFuZ2thdCcsDQoJCSAgdHlwZSA6ICdQT1NUJywNCgkJICBkYXRhOiQoJyMnK3RoaXMucHJlZml4KydfZm9ybScpLnNlcmlhbGl6ZSgpLA0KCQkgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOw0KCQkJDQoJCQlpZihyZXNwLmVyciA9PSAnJyl7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvbGFuZ19ha2hpcicpLnZhbHVlID0gcmVzcC5jb250ZW50Ow0KCQkJfWVsc2V7DQoJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJfQkJCQkNCgkJfQkNCgkJfSk7DQoJfSwNCgkJDQoJQmFydVBlbmVyaW1hOiBmdW5jdGlvbihGT1JNX0RQTEggPSAnIycrdGhpcy5mb3JtTmFtZSl7CQ0KCQkNCgkJdmFyIG1lID0gdGhpczsNCgkJdmFyIGVycj0nJzsNCgkJDQoJCWlmIChlcnIgPT0nJyApewkJDQoJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7DQoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJCWFkZENvdmVyUGFnZTIoY292ZXIsOTk5LHRydWUsZmFsc2UpOw0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKEZPUk1fRFBMSCkuc2VyaWFsaXplKCksDQoJCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1mb3JtQmFydVBlbmVyaW1hJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJCQ0KCQkJCQlpZihyZXNwLmVyciA9PSIiKXsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCQkvLyQoICIjZGF0ZXBpY2tlciIgKS5kYXRlcGlja2VyKHsgZGF0ZUZvcm1hdDogImRkLW1tLXl5IiB9KTsJDQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJCX0JCQkNCgkJCQkJDQoJCQkgIAl9DQoJCQl9KTsNCgkJDQoJCX1lbHNlew0KCQkgCWFsZXJ0KGVycik7DQoJCX0NCgl9LA0KCQ0KCVViYWhQZW5lcmltYTogZnVuY3Rpb24oRk9STV9EUExIID0gJyMnK3RoaXMuZm9ybU5hbWUpewkNCgkJDQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBlcnI9Jyc7DQoJCQ0KCQlpZiAoZXJyID09JycgKXsJCQ0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDk5OSx0cnVlLGZhbHNlKTsNCgkJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JChGT1JNX0RQTEgpLnNlcmlhbGl6ZSgpLA0KCQkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9Zm9ybVViYWhQZW5lcmltYScsDQoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOw0KCQkJCQkNCgkJCQkJaWYocmVzcC5lcnIgPT0iIil7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCQkJLy8kKCAiI2RhdGVwaWNrZXIiICkuZGF0ZXBpY2tlcih7IGRhdGVGb3JtYXQ6ICJkZC1tbS15eSIgfSk7CQ0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJCWRlbEVsZW0oY292ZXIpOw0KCQkJCQl9CQkJDQoJCQkJCQ0KCQkJICAJfQ0KCQkJfSk7DQoJCQ0KCQl9ZWxzZXsNCgkJIAlhbGVydChlcnIpOw0KCQl9DQoJfSwNCgkNCglkZXRhaWw6IGZ1bmN0aW9uKCl7DQoJCS8vYWxlcnQoJ2RldGFpbCcpOw0KCQl2YXIgbWUgPSB0aGlzOw0KCQllcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7DQoJCWlmKGVycm1zZyA9PScnKXsgDQoJCQl2YXIgYm94ID0gdGhpcy5HZXRDYnhDaGVja2VkKCk7CQkJDQoJCQkvL1VzZXJBa3Rpdml0YXNEZXQuZ2VuRGV0YWlsKCk7CQkJDQoJCQkNCgkJfWVsc2V7DQoJCQ0KCQkJYWxlcnQoZXJybXNnKTsNCgkJfQ0KCQkNCgl9LA0KCWRhZnRhclJlbmRlcjpmdW5jdGlvbigpew0KCQl2YXIgbWUgPXRoaXM7IC8vcmVuZGVyIGRhZnRhciANCgkJYWRkQ292ZXJQYWdlMigNCgkJCSdkYWZ0YXJfY292ZXInLAkxLCAJdHJ1ZSwgdHJ1ZSwJe3JlbmRlclRvOiB0aGlzLnByZWZpeCsnX2NvbnRfZGFmdGFyJywNCgkJCWltZ3NyYzogJ2ltYWdlcy93YWl0LmdpZicsDQoJCQlzdHlsZToge3Bvc2l0aW9uOidhYnNvbHV0ZScsIHRvcDonNScsIGxlZnQ6JzUnfQ0KCQkJfQ0KCQkpOw0KCQkkLmFqYXgoew0KCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1kYWZ0YXInLA0KCQkgCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksIA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWUucHJlZml4KydfY29udF9kYWZ0YXInKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJbWUuc3VtSGFsUmVuZGVyKCk7DQoJCSAgCX0NCgkJfSk7DQoJfSwNCglCYXJ1OiBmdW5jdGlvbigpewkNCgkJDQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBlcnI9Jyc7DQoJCQ0KCQlpZiAoZXJyID09JycgKXsJCQ0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCWlmKG1lLnNhdHVhbl9mb3JtPT0wKXsvL2JhcnUgZGFyaSBzYXR1YW4NCgkJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJfWVsc2V7Ly9iYXJ1IGRhcmkgYmFyYW5nDQoJCQkJYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7CQ0KCQkJfQ0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPWZvcm1CYXJ1JywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQkJDQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CQ0KCQkJCQltZS5BZnRlckZvcm1CYXJ1KCk7DQoJCQkgIAl9DQoJCQl9KTsNCgkJDQoJCX1lbHNlew0KCQkgCWFsZXJ0KGVycik7DQoJCX0NCgl9LA0KCUVkaXQ6ZnVuY3Rpb24oKXsNCgkJdmFyIG1lID0gdGhpczsNCgkJZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOw0KCQlpZihlcnJtc2cgPT0nJyl7IA0KCQkJdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOw0KCQkJDQoJCQkvL3RoaXMuU2hvdyAoJ2Zvcm1lZGl0Jyx7aWRwbGg6Ym94LnZhbHVlfSwgZmFsc2UsIHRydWUpOwkJCQ0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkJYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7CQ0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9Zm9ybUVkaXQnLA0KCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJCWlmIChyZXNwLmVyciA9PScnKXsJCQ0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQkJCW1lLkFmdGVyRm9ybUVkaXQocmVzcCk7DQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCgkJCQkJfQ0KCQkJICAJfQ0KCQkJfSk7DQoJCX1lbHNlew0KCQkJYWxlcnQoZXJybXNnKTsNCgkJfQ0KCQkNCgl9LA0KCQ0KCVNpbXBhbkRldDogZnVuY3Rpb24oKXsNCgkJdmFyIG1lPSB0aGlzOwkNCgkJdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZQkNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3Jtc2ltcGFuJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1TaW1wYW5EZXQnLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkJCQ0KCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7CQkJCQ0KCQkJCQlpZihyZXNwLmVycj09JycpewkJCQkJCQ0KCQkJCQkJbWUucmluY2lhbnBlbmVyaW1hYW4oKTsNCgkJCQkJCW1lLmlucHV0cGVuZXJpbWFhbigpOw0KCQkJCQkJbWUuQ2VrU2VzdWFpKCk7DQoJCQkJCQltZS50YWJlbFJla2VuaW5nKCk7DQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfSk7CQ0KCX0sDQoJCQ0KCVNpbXBhbjogZnVuY3Rpb24oKXsNCgkJdmFyIG1lPSB0aGlzOwkNCgkJdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZQkNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3Jtc2ltcGFuJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJDQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMucHJlZml4KydfZm9ybScpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c2ltcGFuJywNCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQlkZWxFbGVtKGNvdmVyKTsJCQ0KCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQlpZihtZS5zYXR1YW5fZm9ybT09MCl7DQoJCQkJCQltZS5DbG9zZSgpOw0KCQkJCQkJbWUuQWZ0ZXJTaW1wYW4oKTsJCQkJCQkNCgkJCQkJfWVsc2V7DQoJCQkJCQltZS5DbG9zZSgpOw0KCQkJCQkJYmFyYW5nLnJlZnJlc2hDb21ib1NhdHVhbigpOw0KCQkJCQl9DQoNCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCX0NCgkJICAJfQ0KCQl9KTsNCgl9LA0KCQ0KCWZvcm1hdEN1cnJlbmN5OmZ1bmN0aW9uKG51bSkgew0KCQludW0gPSBudW0udG9TdHJpbmcoKS5yZXBsYWNlKC9cJHxcLC9nLCcnKTsNCgkJaWYoaXNOYU4obnVtKSkNCgkJbnVtID0gIjAiOw0KCQlzaWduID0gKG51bSA9PSAobnVtID0gTWF0aC5hYnMobnVtKSkpOw0KCQludW0gPSBNYXRoLmZsb29yKG51bSoxMDArMC41MDAwMDAwMDAwMSk7DQoJCWNlbnRzID0gbnVtJTEwMDsNCgkJbnVtID0gTWF0aC5mbG9vcihudW0vMTAwKS50b1N0cmluZygpOw0KCQlpZihjZW50czwxMCkNCgkJY2VudHMgPSAiMCIgKyBjZW50czsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBNYXRoLmZsb29yKChudW0ubGVuZ3RoLSgxK2kpKS8zKTsgaSsrKQ0KCQludW0gPSBudW0uc3Vic3RyaW5nKDAsbnVtLmxlbmd0aC0oNCppKzMpKSsnLicrDQoJCW51bS5zdWJzdHJpbmcobnVtLmxlbmd0aC0oNCppKzMpKTsNCgkJcmV0dXJuICgoKHNpZ24pPycnOictJykgKyAnJyArIG51bSArICcsJyArIGNlbnRzKTsNCgl9LA0KCQ0KCWlzTnVtYmVyS2V5OiBmdW5jdGlvbihldnQpew0KCQl2YXIgY2hhckNvZGUgPSAoZXZ0LndoaWNoKSA\/IGV2dC53aGljaCA6IGV2ZW50LmtleUNvZGUNCgkJaWYgKGNoYXJDb2RlID4gMzEgJiYgKGNoYXJDb2RlIDwgNDggfHwgY2hhckNvZGUgPiA1NykpDQoJCQ0KCQlyZXR1cm4gZmFsc2U7DQoJCXJldHVybiB0cnVlOw0KCX0sDQoJDQoJaGl0dW5nanVtbGFoSGFyZ2E6IGZ1bmN0aW9uKEZST01OWUE9Jycpew0KCQl2YXIganVtbGFoX2JhcmFuZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqdW1sYWhfYmFyYW5nJytGUk9NTllBKS52YWx1ZTsNCgkJdmFyIGhhcmdhX3NhdHVhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoYXJnYV9zYXR1YW4nK0ZST01OWUEpLnZhbHVlOw0KCQkNCgkJdmFyIGpuc190cmFucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqbnNfdHJhbnNha3NpJykudmFsdWU7DQoJCWlmKGpuc190cmFucyA9PSAnMicpew0KCQkJdmFyIGt1YW50aXRhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrdWFudGl0YXMnK0ZST01OWUEpLnZhbHVlOw0KCQkJdmFyIHZvbHVtZSA9IGp1bWxhaF9iYXJhbmcgKiBrdWFudGl0YXM7DQoJCQl2YXIgdG90YWwgPSB2b2x1bWUgKiBoYXJnYV9zYXR1YW47DQoJCQkNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2b2x1bWUnK0ZST01OWUEpLnZhbHVlID0gdm9sdW1lOw0KCQkJDQoJCX1lbHNlew0KCQkJdmFyIHRvdGFsID0ganVtbGFoX2JhcmFuZyAqIGhhcmdhX3NhdHVhbjsNCgkJfQ0KCQkNCgkJLy9KaWthIEFkYSBQYWphaw0KCQl2YXIgcHBuX29rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBwbl9vayIrRlJPTU5ZQSk7DQoJCXZhciBqbWxfcHBuID1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiam1sX3BwbiIrRlJPTU5ZQSk7DQoJCWlmKHBwbl9vay5jaGVja2VkID09IHRydWUpew0KCQkJdmFyIGhhcmdhX3BhamFrID0gdG90YWwgKiAoam1sX3Bwbi52YWx1ZSAvMTAwKTsNCgkJCXRvdGFsID0gdG90YWwgKyBoYXJnYV9wYWphazsNCgkJfQ0KCQkNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2p1bWxhaF9oYXJnYScrRlJPTU5ZQSkudmFsdWUgPSB0aGlzLmZvcm1hdEN1cnJlbmN5KHRvdGFsKTsNCgl9LA0KCQ0KCUhhcHVzUmluY2lhblBlbmVyaW1hYW46IGZ1bmN0aW9uKGlzaSl7DQoJCXZhciBrb25mcmltID0gY29uZmlybSgiSGFwdXMgUmluY2lhbiBQZW5lcmltYWFuID8iKTsNCgkJaWYoa29uZnJpbSA9PSB0cnVlKXsNCgkJCXZhciBtZT0gdGhpczsJDQoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtSGFwdXNSaW5jaWFuJzsNCgkJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsNCg0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1IYXB1c1JpbmNpYW5QZW5lcmltYWFuJklkUmluY2lhbj0nK2lzaSwNCgkJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCQlEZWxFbGVtU2Nyb2xsKGNvdmVyKTsNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCW1lLnJpbmNpYW5wZW5lcmltYWFuKCk7DQoJCQkJCQltZS5pbnB1dHBlbmVyaW1hYW4oKTsNCgkJCQkJCWlmKERhdGFQZW5nYXR1cmFuLmNla0RjSURfdmFsKCJzdGF0dXNfZHBhIikgPT0gIjEiKW1lLnRhYmVsUmVrZW5pbmcoKTsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCX0NCgkJCQl9LGVycm9yOiBmdW5jdGlvbiAoeGhyLCBhamF4T3B0aW9ucywgdGhyb3duRXJyb3IpIHsNCgkJCQkJRGVsRWxlbVNjcm9sbChjb3Zlcik7DQoJCQkJCWFsZXJ0KCJHYWdhbCBNZW5naGFwdXMgUmluY2lhbiBQZW5lcmltYWFuIik7DQoJCQkJfQ0KCQkJfSk7CQ0KCQl9DQoJCQ0KCX0sDQoJDQoJVWJhaFJpbmNpYW5QZW5lcmltYWFuOiBmdW5jdGlvbihpc2kpew0KCQl2YXIgbWU9IHRoaXM7CQ0KCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCQ0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1VYmFoUmluY2lhbic7DQoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsNCg0KCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPVViYWhSaW5jaWFuUGVuZXJpbWFhbiZJZFJpbmNpYW49Jytpc2ksDQoJCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7DQoJCQkJCWRlbEVsZW0oY292ZXIpOwkJDQoJCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCQkkKCIjR2V0UmVrZW5pbmdEUEEiKS52YWwocmVzcC5jb250ZW50LkdldFJla2VuaW5nRFBBKTsNCgkJCQkJCSQoIiNJZFJla2VuaW5nRFBBIikudmFsKHJlc3AuY29udGVudC5JZFJla2VuaW5nRFBBKTsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhYmFyYW5nbnlhJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LktvbnRlbjsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCX0NCgkJCQl9DQoJCQl9KTsJDQoJfSwNCgkNCglDZWtTZXN1YWk6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT10aGlzOw0KCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPUNla1Nlc3VhaScsDQoJCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkJLy8JcmluY2lhbnBlbmVyaW1hYW4uaW5wdXRwZW5lcmltYWFuDQoJCQkJCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2p1bWxhaHN1ZGFoc2VzdWFpJykpZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2p1bWxhaHN1ZGFoc2VzdWFpJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LmNla2xpczsJDQoJCQkJCQkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRwZW5lcmltYWFuJykudmFsdWUgPSByZXNwLmNvbnRlbnQuaWRwZW5lcmltYWFhbjsJDQoJCQkJCQkJbWUuS29kZVBlbmVyaW1hYW4oKTsJCQkJCQ0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0pOwkNCgl9LA0KCQ0KCUtvZGVQZW5lcmltYWFuOiBmdW5jdGlvbigpew0KCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPUtvZGVQZW5lcmltYWFuJywNCgkJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQkJDQoJCQkJCWlmKHJlc3AuZXJyPT0nJyl7CQ0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkcGVuZXJpbWFhbicpLnZhbHVlID0gcmVzcC5jb250ZW50OwkJCQkJCQkJDQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfSk7CQ0KCX0sDQoJDQoJU2ltcGFuU2VtdWE6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT10aGlzOw0KCQlpZG5hID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbWFzdWthbl9pbnNfaWRwbGgnKS52YWx1ZTsNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3Jtc2ltcGFuJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOw0KCQkNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrbWUuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiBtZS51cmwrJyZ0aXBlPVNpbXBhblNlbXVhJywNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQlkZWxFbGVtKGNvdmVyKTsJCQkNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQlhbGVydCgiRGF0YSBCZXJoYXNpbCBEaXNpbXBhbiAhIik7CQkJCQkJDQoJCQkJCXZhciBrb25mcmltID0gY29uZmlybSgiQ0VUQUsgU1VSQVQgUEVSTU9IT05BTiBWQUxJREFTSSBJTlBVVCBEQVRBID8iKTsNCgkJCQkJaWYoa29uZnJpbSA9PSB0cnVlKXsNCgkJCQkJCXBlbWFzdWthbi5DZXRha1Blcm1vaG9uYW4oaWRuYSk7DQoJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7DQoJCQkJCQkJbWUuU2ltcGFuU2VtdWFfQWZ0ZXIoKTsJDQoJCQkJCQl9LDEwMCk7CQkJCQkJCQkJCQkJDQoJCQkJCX1lbHNlew0KCQkJCQkJbWUuU2ltcGFuU2VtdWFfQWZ0ZXIoKTsNCgkJCQkJfQkJCQkJCQkJCQkJCQ0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQ0KCQkJfQ0KCQl9KTsJDQoJfSwNCg0KCVNpbXBhblNlbXVhX0FmdGVyOiBmdW5jdGlvbigpew0KCQl3aW5kb3cuY2xvc2UoKTsNCgkJd2luZG93Lm9wZW5lci5QZXJiYXJ1aV9EYXRhKCk7DQoJfSwNCgkNCglTZXRQZW5lcmltYTogZnVuY3Rpb24oKXsNCgkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1TZXRQZW5lcmltYScsDQoJCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkJLy8JcmluY2lhbnBlbmVyaW1hYW4uaW5wdXRwZW5lcmltYWFuDQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnT3B0UGVuZXJpbWEnKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCQkNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCX0NCgkJCQl9DQoJCQl9KTsJDQoJfSwNCgkNCglDYXJpQmFyYW5nOiBmdW5jdGlvbigpew0KCQljYXJpQmFyYW5nLndpbmRvd1Nob3codGhpcy5mb3JtTmFtZSk7DQoJfSwNCgkNCglCYXRhbFNlbXVhOiBmdW5jdGlvbigpew0KCQlpZG5hID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbWFzdWthbl9pbnNfaWRwbGgnKS52YWx1ZTsNCgkJDQoJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9QmF0YWxTZW11YScsDQoJCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkJd2luZG93LmNsb3NlKCk7DQoJCQkJCQl3aW5kb3cub3BlbmVyLlBlcmJhcnVpX0RhdGEoKTsJCQkJCQkJCQkNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCX0NCgkJCQl9DQoJCQl9KTsJDQoJfSwNCgkNCglUdXR1cEhhbGFtYW46IGZ1bmN0aW9uKCl7DQoJCXdpbmRvdy5vcGVuZXIuUGVyYmFydWlfRGF0YSgpOw0KCX0sDQoJDQoJQ2FyaUJJUk06IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7CQ0KCQkNCgkJQklSTS5lbF9JRCA9ICdrb2RlX2FjY291bnRfYXAnOw0KCQlCSVJNLmVsX2ZtVVJVU0FOID0gJ2MxbnlhJzsNCgkJQklSTS5lbF9mbVNLUEQgPSAnY255YSc7DQoJCUJJUk0uZWxfZm1VTklUID0gJ2RueWEnOw0KCQlCSVJNLmVsX2ZtU1VCVU5JVCA9ICdlbnlhJzsNCgkJQklSTS5lbF9mbVNFS1NJID0gJ2UxbnlhJzsNCgkJLy9CSVJNLmVsX25hbWFfYWNjb3VudCA9ICduYW1hX2FjY291bnRfYXAnOw0KCQlCSVJNLndpbmRvd1Nob3coIiIpOwkNCgkJQklSTS53aW5kb3dTYXZlQWZ0ZXI9IGZ1bmN0aW9uKCl7DQoJCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGVtYXN1a2FuX2luc19pZHBsaCIpKXBlbWFzdWthbl9pbnMuY2FyYXBlcm9sZWhhbigxKTsNCgkJfTsNCgkJLy9SZWZKdXJuYWwuZmlsdGVyQWt1bj0nMS4zLjcnOy8va29kZSBha3VuIGFrdW0gcGVueXVzdXRhbg0KCX0sDQoJDQoJQWZ0ZXJQaWxCSVJNOiBmdW5jdGlvbihTaW1wYW5UID0gMSl7DQoJCXZhciBtZSA9dGhpczsJCQ0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1zaW1wYW4nOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7DQoJCQ0KCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPUFmdGVyUGlsQklSTSZTaW1wYW5UPScrU2ltcGFuVCwNCgkJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCQlkZWxFbGVtKGNvdmVyKTsJCQkNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCS8vUGVrZXJqYWFuIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCQkJCQkJDQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGVrZXJqYWFuIikudmFsdWUgPSByZXNwLmNvbnRlbnQucGVrZXJqYWFuOwkNCgkJCQkJCWlmKHJlc3AuY29udGVudC5oaWRlX3Bla2VyamFhbiA9PSAiWSIpZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBla2VyamFhbiIpLnJlYWRPbmx5CT0gdHJ1ZTsJDQoJCQkJCQkNCgkJCQkJCS8vUHJvZ3JhbSBLZWdpYXRhbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9ncmFtIikudmFsdWUgPSByZXNwLmNvbnRlbnQubmFtYV9wcm9ncmFtOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2ciKS52YWx1ZSA9IHJlc3AuY29udGVudC5wcm9nOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRhZmtlZyIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5rZWdpYXRhbjsNCgkJCQkJCWlmKHJlc3AuY29udGVudC5jYXJhX2JheWFyICE9IDApZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhcmFfYmF5YXIiKS52YWx1ZSA9IHJlc3AuY29udGVudC5jYXJhX2JheWFyOw0KCQkJCQkJDQoJCQkJCQkvL1RhbmdnYWwgJiBObyBEb2t1bWVuIEtvbnRyYWsgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJCQkJCQlpZihyZXNwLmNvbnRlbnQuRGF0YUtvbnRyYWsuaGlkZV9rb250cmFrID09ICIxIil7DQoJCQkJCQkJLy9UYW5nZ2FsDQoJCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRnbF9kb2tjb3B5IikudmFsdWUgPSByZXNwLmNvbnRlbnQuRGF0YUtvbnRyYWsudGdsX2tvbnRyYWtfaWRuOwkNCgkJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGdsX2RvayIpLnZhbHVlID0gcmVzcC5jb250ZW50LkRhdGFLb250cmFrLnRnbF9rb250cmFrOwkNCgkJCQkJCQkvL05vbW9yIA0KCQkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub21iZXIiKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQuRGF0YUtvbnRyYWsubm9fa29udHJhazsJDQoJCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlRvbWJvbEJhcnVOb21Eb2siKS5pbm5lckhUTUwgPSAiIjsJDQoJCQkJCQl9DQoJCQkJCQkNCgkJCQkJCS8vVGFuZ2dhbCAmIE5vIEJBU1QgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJCQkJCQlpZihyZXNwLmNvbnRlbnQuRGF0YU5vQkFTVC5oaWRlX2Jhc3QgPT0gIjEiKXsNCgkJCQkJCQl2YXIgbm9tb3JfZG9rdW1lbl9iYXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5vbW9yX2Rva3VtZW5fYmFzdCIpOw0KCQkJCQkJCXZhciBVbnR1a1RhbmdnYWxCQVNUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlVudHVrVGFuZ2dhbEJBU1QiKTsNCgkJCQkJCQl2YXIgZG9rdW1lbl9zdW1iZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZG9rdW1lbl9zdW1iZXIiKTsNCgkJCQkJCQkNCgkJCQkJCQlub21vcl9kb2t1bWVuX2Jhc3QudmFsdWUgPSByZXNwLmNvbnRlbnQuRGF0YU5vQkFTVC5ub19iYXN0OwkNCgkJCQkJCQlub21vcl9kb2t1bWVuX2Jhc3QucmVhZE9ubHkJPSB0cnVlOwkJCQ0KCQkJCQkJCW5vbW9yX2Rva3VtZW5fYmFzdC5zdHlsZS53aWR0aCA9ICIyNzJweCI7DQoJCQkJCQkJDQoJCQkJCQkJVW50dWtUYW5nZ2FsQkFTVC5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQuRGF0YU5vQkFTVC50Z2xfYmFzdF9pZG47CQ0KCQkJCQkJCQ0KCQkJCQkJCWRva3VtZW5fc3VtYmVyLnZhbHVlID0gIkJBU1QiOwkNCgkJCQkJCQlkb2t1bWVuX3N1bWJlci5kaXNhYmxlZCA9IHRydWU7CQ0KCQkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJVbnR1a0Rva3VtZW5TdW1iZXIiKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQuRGF0YU5vQkFTVC5kb2t1bWVuX3N1bWJlcjsNCgkJCQkJCX1lbHNlew0KCQkJCQkJCW1lLkdlbl9EZWZhdWx0VGdsQkFTVCgpOw0KCQkJCQkJfQ0KCQkJCQkJDQoJCQkJCQkvL1BlbnllZGlhYW4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJCQkJCQkvL2RldF9kYWZwZW55ZWRpYSBkZXRfZGFmcGVuZXJpbWENCgkJCQkJCWlmKHJlc3AuY29udGVudC5wZW55ZWRpYW4gIT0gJycpZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRldF9kYWZwZW55ZWRpYSIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5wZW55ZWRpYW4gOw0KCQkJCQkJLy9QZW5lcmltYSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCgkJCQkJCWlmKHJlc3AuY29udGVudC5wZW5lcmltYSAhPSAnJylkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGV0X2RhZnBlbmVyaW1hIikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LnBlbmVyaW1hIDsNCgkJCQkJCQ0KCQkJCQkJDQoJCQkJCQltZS50YWJlbFJla2VuaW5nKCk7DQoJCQkJCQltZS5yaW5jaWFucGVuZXJpbWFhbigpOw0KCQkJCQkJCQ0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0pOwkNCgl9LA0KCQ0KCUdlbl9EZWZhdWx0VGdsQkFTVDogZnVuY3Rpb24oKXsNCgkJdmFyIG5vbW9yX2Rva3VtZW5fYmFzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub21vcl9kb2t1bWVuX2Jhc3QiKTsNCgkJdmFyIFVudHVrVGFuZ2dhbEJBU1QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiVW50dWtUYW5nZ2FsQkFTVCIpOw0KCQl2YXIgZG9rdW1lbl9zdW1iZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZG9rdW1lbl9zdW1iZXIiKTsNCgkJdmFyIG1lID0gdGhpczsNCgkJDQoJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9R2VuX0RlZmF1bHRUZ2xCQVNUJywNCgkJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQkJDQoJCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCQlub21vcl9kb2t1bWVuX2Jhc3QudmFsdWUgPSAiIjsJDQoJCQkJCQlub21vcl9kb2t1bWVuX2Jhc3QucmVhZE9ubHkJPSBmYWxzZTsJCQkNCgkJCQkJCW5vbW9yX2Rva3VtZW5fYmFzdC5zdHlsZS53aWR0aCA9ICIyNThweCI7DQoJCQkJCQkNCgkJCQkJCVVudHVrVGFuZ2dhbEJBU1QuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwkNCgkJCQkJCWRva3VtZW5fc3VtYmVyLnZhbHVlID0gIkJBU1QiOwkNCgkJCQkJCWRva3VtZW5fc3VtYmVyLmRpc2FibGVkID0gZmFsc2U7CQ0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlVudHVrRG9rdW1lblN1bWJlciIpLmlubmVySFRNTCA9ICIiOwkNCgkJCQkJCW1lLm55YWxha2FuZGF0ZXBpY2tlcigpOwkJCQkJCQkJDQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfSk7CQ0KCX0sDQoJDQoJSnVtbGFoT25Gb2N1czogZnVuY3Rpb24oKXsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIk1TR19KdW1sYWgiKS5pbm5lckhUTUwgPSAnPHNwYW4gc3R5bGU9ImNvbG9yOnJlZCI+ICZuYnNwICAmbmJzcCAqVW50dWsgQmlsYW5nYW4gRGVzaW1hbCBiZXJrb21hICIsIiBHdW5ha2FuIFRpdGlrICIuIjwvc3Bhbj4nCTsNCgl9LA0KCQ0KCUp1bWxhaE9GRkZvY3VzOiBmdW5jdGlvbigpew0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiTVNHX0p1bWxhaCIpLmlubmVySFRNTCA9ICcnCTsNCgl9LA0KCQ0KCUNla19QUE46IGZ1bmN0aW9uKEZST01OWUE9Jycpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQl2YXIgcHBuX29rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBwbl9vayIrRlJPTU5ZQSk7DQoJCXZhciBqbWxfcHBuID1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiam1sX3BwbiIrRlJPTU5ZQSk7DQoJCWlmKHBwbl9vay5jaGVja2VkID09IHRydWUpew0KCQkJam1sX3Bwbi5yZWFkT25seSA9IGZhbHNlOw0KCQkJam1sX3Bwbi52YWx1ZSA9ICIxMCI7DQoJCX1lbHNlew0KCQkJam1sX3Bwbi5yZWFkT25seSA9IHRydWU7DQoJCQlqbWxfcHBuLnZhbHVlID0gIiI7DQoJCX0NCgkJDQoJCW1lLmhpdHVuZ2p1bWxhaEhhcmdhKEZST01OWUEpOw0KCX0sDQoJDQoJUGlsX01ldG9kZVBlbmdhZGFhbjogZnVuY3Rpb24oKXsNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1ldG9kZXBlbmdhZGFhbiIpKXsNCgkJCXZhciBtZXRvZGVwZW5nYWRhYW49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1ldG9kZXBlbmdhZGFhbiIpLnZhbHVlOw0KCQkJdmFyIHBlbnllZGlhbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGVueWVkaWFuIik7DQoJCQl2YXIgQmFydVBlbnllZGlhPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJCYXJ1UGVueWVkaWEiKTsNCgkJCXZhciBDYXJpUGVueWVkaWE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkNhcmlQZW55ZWRpYSIpOw0KCQkJdmFyIE9wdFBlbnllZGlhPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJPcHRQZW55ZWRpYSIpOw0KCQkJDQoJCQlpZihtZXRvZGVwZW5nYWRhYW4gPT0gIjIiKXsNCgkJCQlwZW55ZWRpYW4uZGlzYWJsZWQgPSB0cnVlOw0KCQkJCUJhcnVQZW55ZWRpYS5kaXNhYmxlZCA9IHRydWU7DQoJCQkJQ2FyaVBlbnllZGlhLmRpc2FibGVkID0gdHJ1ZTsNCgkJCQlwZW55ZWRpYW4udmFsdWUgPSAiIjsNCgkJCQlPcHRQZW55ZWRpYS5pbm5lckhUTUwgPSAiIjsNCgkJCX1lbHNlew0KCQkJCXBlbnllZGlhbi5kaXNhYmxlZCA9IGZhbHNlOw0KCQkJCUJhcnVQZW55ZWRpYS5kaXNhYmxlZCA9IGZhbHNlOw0KCQkJCUNhcmlQZW55ZWRpYS5kaXNhYmxlZCA9IGZhbHNlOw0KCQkJfQ0KCQl9CQkNCgl9LA0KCQ0KCU9wdGlvblBlbnllZGlhOiBmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPU9wdGlvblBlbnllZGlhQmFyYW5nJywNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdPcHRQZW55ZWRpYScpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCX0NCgkJCX0NCgkJfSk7CQ0KCX0sDQoJDQoJVWJhaFBlbnllZGlhOiBmdW5jdGlvbigpewkNCgkJDQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBlcnI9Jyc7DQoJCQ0KCQlpZiAoZXJyID09JycgKXsJCQ0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9Zm9ybVViYWhQZW55ZWRpYScsDQoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQkJDQoJCQkJCWlmKHJlc3AuZXJyID09IiIpew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJfQkJCQ0KCQkJCQkNCgkJCSAgCX0NCgkJCX0pOw0KCQkNCgkJfWVsc2V7DQoJCSAJYWxlcnQoZXJyKTsNCgkJfQ0KCX0sDQoJDQoJSGFwdXNQZW55ZWRpYTogZnVuY3Rpb24oKXsNCgkJdmFyIG1lPSB0aGlzOwkNCgkJdmFyIHRhbnlhID0gY29uZmlybSgiSGFwdXMgUGVueWVkaWEgQmFyYW5nID8iKTsJCQ0KCQlpZih0YW55YSA9PSB0cnVlKXsNCgkJCXRoaXMuT25FcnJvckNsb3NlID0gZmFsc2UJDQoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3Jtc2ltcGFuJzsNCgkJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCQkNCgkJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9SGFwdXNQZW55ZWRpYScsDQoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJCW1lLkNsb3NlKCk7DQoJCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnT3B0UGVueWVkaWEnKS5pbm5lckhUTUwgPSAiIjsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYWZwZW55ZWRpYScpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCX0NCgkJCSAgCX0sDQoJCQkJZXJyb3I6IGZ1bmN0aW9uICh4aHIsIGFqYXhPcHRpb25zLCB0aHJvd25FcnJvcikgew0KCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJYWxlcnQoIkdhZ2FsIE1lbmdoYXB1cyBQZW55ZWRpYSIpOw0KCQkJCX0NCgkJCX0pOw0KCQl9DQoJCQ0KCX0sDQoJDQoJSGFwdXNQZW5lcmltYV9BZnRlcjogZnVuY3Rpb24ocmVzcCl7DQoJCXZhciBtZT10aGlzOw0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnT3B0UGVuZXJpbWEnKS5pbm5lckhUTUwgPSAiIjsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhZnBlbmVyaW1hJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCX0sDQoJDQoJSGFwdXNQZW5lcmltYTogZnVuY3Rpb24odXJsTnlhPScnKXsNCgkJdmFyIG1lPSB0aGlzOwkNCgkJDQoJCXVybE55YSA9IHVybE55YT09IiI\/JyMnK21lLmZvcm1OYW1lOnVybE55YTsNCgkJDQoJCXZhciB0YW55YSA9IGNvbmZpcm0oIkhhcHVzIFBlbmVyaW1hIEJhcmFuZyA\/Iik7CQkNCgkJaWYodGFueWEgPT0gdHJ1ZSl7DQoJCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCQ0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybXNpbXBhbic7DQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJDQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQodXJsTnlhKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1IYXB1c1BlbmVyaW1hJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCW1lLkNsb3NlKCk7DQoJCQkJCQltZS5IYXB1c1BlbmVyaW1hX0FmdGVyKHJlc3ApOw0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJfQ0KCQkJICAJfSwNCgkJCQllcnJvcjogZnVuY3Rpb24gKHhociwgYWpheE9wdGlvbnMsIHRocm93bkVycm9yKSB7DQoJCQkJCWRlbEVsZW0oY292ZXIpOw0KCQkJCQlhbGVydCgiR2FnYWwgTWVuZ2hhcHVzIFBlbmVyaW1hIik7DQoJCQkJfQ0KCQkJfSk7DQoJCX0NCgkJDQoJfSwNCgkNCglDYXJpVGVtcGxhdGVCYXJhbmc6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCXJlZl90ZW1wbGF0ZWJhcmFuZy53aW5kb3dTaG93KHRoaXMuZm9ybU5hbWUpOw0KCQlyZWZfdGVtcGxhdGViYXJhbmcud2luZG93U2F2ZUFmdGVyPSBmdW5jdGlvbihyZXNwKXsNCgkJCS8vaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIktvZGVUZW1wbGF0ZUJhcmFuZyIpKXBlbWFzdWthbl9pbnMuRm9ybUxvYWRpbmdJbXBvcnQoKTsNCgkJCW1lLkZvcm1fSW1wcnRfVGVtcGxhdGVCYXJhbmcocmVzcCk7DQoJCX07DQoJfSwNCg0KCUZvcm1fSW1wcnRfVGVtcGxhdGVCYXJhbmc6IGZ1bmN0aW9uKERhdGEpew0KCQl2YXIgbWUgPSB0aGlzOw0KDQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwZW1hc3VrYW5faW5zX2Zvcm1QaWxUZW1wbGF0ZSIpKXsNCgkJCS8vZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7DQoJCQlkZWxFbGVtKCJwZW1hc3VrYW5faW5zX2Zvcm1QaWxUZW1wbGF0ZSIpOw0KCQl9DQoNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtUGlsVGVtcGxhdGUnOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgiIyIrbWUuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiBtZS51cmwrJyZ0aXBlPUZvcm1fSW1wcnRfVGVtcGxhdGVCYXJhbmcmSWRUZW1wbGF0ZT0nK0RhdGEuY29udGVudCwNCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkkKCIjIitjb3ZlcikuaHRtbChyZXNwLmNvbnRlbnQpOw0KCQkJCX1lbHNlew0KCQkJCQlkZWxFbGVtKGNvdmVyKTsJDQoJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCW1lLkNhcmlUZW1wbGF0ZUJhcmFuZygpOw0KCQkJCX0NCgkJICAJfSwNCgkJCWVycm9yOiBmdW5jdGlvbiAoeGhyLCBhamF4T3B0aW9ucywgdGhyb3duRXJyb3IpIHsNCgkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCgkJCQlhbGVydCgiR2FnYWwsIFNpbGFoa2FuIFVsYW5naSBMYWdpIFBlbmNhcmlhbiBUZW1wbGF0ZSAhIik7DQoJCQl9DQoJCX0pOw0KCX0sDQoNCglUdXR1cF9Gb3JtX0ltcHJ0X1RlbXBsYXRlQmFyYW5nOiBmdW5jdGlvbigpew0KCQl2YXIgbWU9dGhpczsNCgkJZGVsRWxlbSgicGVtYXN1a2FuX2luc19mb3JtUGlsVGVtcGxhdGUiKTsNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7DQoJCW1lLkNhcmlUZW1wbGF0ZUJhcmFuZygpOw0KCX0sDQoNCgkNCglHZXRQZXJzZW46IGZ1bmN0aW9uKG1heHBlcnNlbil7DQoJCXZhciBtZT10aGlzOw0KCQlpZihtYXhwZXJzZW4gPj0gMTAwKXsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0dXN0eHQiKS5zdHlsZS53aWR0aCA9IDEwMCsiJSI7IA0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0YXR1c3R4dCIpLmlubmVySFRNTCA9IDEwMCsiJSI7DQoJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7bWUuQ2xvc2UoKX0sNTApOw0KCQl9ZWxzZXsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0dXN0eHQiKS5zdHlsZS53aWR0aCA9IE1hdGgucm91bmQobWF4cGVyc2VuKSsiJSI7IA0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0YXR1c3R4dCIpLmlubmVySFRNTCA9IE1hdGgucm91bmQobWF4cGVyc2VuKSsiJSI7DQoJCX0JDQoJfSwNCgkNCglBZnRlclBpbGloVGVtcGxhdGVCcmc6IGZ1bmN0aW9uKG11bGFpbnlhPTApew0KCQl2YXIgbWU9dGhpczsNCgkJDQoJCWlmKG11bGFpbnlhID09IDApew0KCQkJdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZQkNCgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm0yJzsNCgkJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCX0NCgkJDQoJCQ0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPUltcG9ydFRlbXBsYXRlQmFyYW5nJm11bGFpbnlhPScrbXVsYWlueWEsDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsNCgkJCQlpZihyZXNwLmVycj09JycpewkNCgkJCQkJaWYocmVzcC5jb250ZW50Lm11bGFpIDwgcmVzcC5jb250ZW50LmptbGJhcmFuZyl7DQoJCQkJCQlwZW1hc3VrYW5faW5zLkFmdGVyUGlsaWhUZW1wbGF0ZUJyZyhyZXNwLmNvbnRlbnQubXVsYWkpOwkNCgkJCQkJfWVsc2V7CQkJCQ0KCQkJCQkJJCgiIyIrbWUucHJlZml4KydfZm9ybTInKS5yZW1vdmUoKTsNCgkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHttZS5yaW5jaWFucGVuZXJpbWFhbigpfSwxMDAwKTsJDQoJCQkJCX0NCgkJCQkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge21lLkdldFBlcnNlbihyZXNwLmNvbnRlbnQubWF4cGVyc2VuKX0sNTApOw0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7CQ0KCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQl9DQoJCSAgCX0NCgkJfSk7DQoJfSwNCgkNCglHYW5kYWthblBlbmVyaW1hYW46IGZ1bmN0aW9uKGRhdGFueWEpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQl2YXIgdGFueWEgPSBjb25maXJtKCJHYW5kYWthbiBEYXRhIFJpbmNpYW4gUGVuZXJpbWFhbiA\/Iik7DQoJCWlmKHRhbnlhID09IHRydWUpew0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXIyJzsNCgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7CQkJDQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDk5OSx0cnVlLGZhbHNlKTsJCQkNCgkJCQ0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPURhdGFDb3B5JmRhdGFrb3BpPScrZGF0YW55YSwNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJCURlbEVsZW1TY3JvbGwoY292ZXIpOwkJDQoJCQkJCWlmKHJlc3AuZXJyID09ICAiIil7CQkJCQkJCQ0KCQkJCQkJbWUucmluY2lhbnBlbmVyaW1hYW4oMCk7CQ0KCQkJCQl9ZWxzZXsJCQkJCQkJCQkJCQkJDQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCX0NCgkJCQl9LA0KCQkJCWVycm9yOiBmdW5jdGlvbiAoeGhyLCBhamF4T3B0aW9ucywgdGhyb3duRXJyb3IpIHsNCgkJCQkJRGVsRWxlbVNjcm9sbChjb3Zlcik7CQ0KCQkJCQlhbGVydCgiR2FnYWwgTWVuZ2dhbmRha2FuIERhdGEgISIpOw0KCSAgICAJCX0NCgkJCX0pOwkJCQ0KCQl9DQoJfSwNCgkNCglGb3JtTG9hZGluZ0ltcG9ydDogZnVuY3Rpb24oKXsJCQkNCgkJdmFyIG1lID0gdGhpczsNCgkJdmFyIGVycj0nJzsNCgkJDQoJCWlmIChlcnIgPT0nJyApewkJDQoJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7DQoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1Gb3JtTG9hZGluZ0ltcG9ydCcsDQoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOw0KCQkJCQlpZihyZXNwLmVyciA9PSAiIil7CQkJCQkJDQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCQkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge21lLkFmdGVyUGlsaWhUZW1wbGF0ZUJyZygpfSw1MCk7DQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOwkNCgkJCQkJCWRlbEVsZW0oY292ZXIpOwkNCgkJCQkJfQ0KCQkJICAJfQ0KCQkJfSk7DQoJCQ0KCQl9ZWxzZXsNCgkJIAlhbGVydChlcnIpOw0KCQl9DQoJfSwNCgkNCglBbWJpbFBlbWFzdWthbkRldDpmdW5jdGlvbigpew0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmluY2lhbmRhdGFiYXJhbmdueWEnKS5pbm5lckhUTUwgPSANCgkJCSI8ZGl2IGlkPSdwZW1hc3VrYW5faW5zX2RldF9jb250X3RpdGxlJyBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmUnPjwvZGl2PiIrDQoJCQkiPGRpdiBpZD0ncGVtYXN1a2FuX2luc19kZXRfY29udF9vcHNpJyBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmUnPiIrDQoJCQkiPC9kaXY+IisNCgkJCSI8ZGl2IGlkPSdwZW1hc3VrYW5faW5zX2RldF9jb250X2RhZnRhcicgc3R5bGU9J3Bvc2l0aW9uOnJlbGF0aXZlJz48L2Rpdj4iKw0KCQkJIjxkaXYgaWQ9J3BlbWFzdWthbl9pbnNfZGV0X2NvbnRfaGFsJyBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmUnPjwvZGl2PiINCgkJCTsNCgkJcGVtYXN1a2FuX2luc19kZXQuZm9ybU5hbWU9dGhpcy5mb3JtTmFtZTsNCgkJcGVtYXN1a2FuX2luc19kZXQubG9hZGluZygpOw0KCX0sDQoJDQoJR2V0X1RhbmdnYWxEb2tfU3VtYmVyOmZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBlcnI9Jyc7DQoJCQ0KCQlpZiAoZXJyID09JycgKXsJCQ0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXIyJzsNCgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPUdldF9UYW5nZ2FsRG9rX1N1bWJlcicsDQoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQkJZGVsRWxlbShjb3Zlcik7CQ0KCQkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCgkJCQkJaWYocmVzcC5lcnIgPT0gIiIpewkJCQkJCQ0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlVudHVrVGFuZ2dhbEJBU1QiKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7bWUubnlhbGFrYW5kYXRlcGlja2VyMigpfSwxMDAwKTsNCgkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHttZS5ueWFsYWthbmRhdGVwaWNrZXIoKX0sMTAwMCk7DQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQl9DQoJCQkgIAl9DQoJCQl9KTsNCgkJDQoJCX1lbHNlew0KCQkgCWFsZXJ0KGVycik7DQoJCX0NCgl9LA0KCQ0KCUNsZWFyQmFyYW5nX0NhcmFCYXlhcjogZnVuY3Rpb24oKXsNCgkJdmFyIG1lID0gdGhpczsNCgkJdmFyIGVycj0nJzsJCQ0KCQkJDQoJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyMyc7DQoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1DbGVhckJhcmFuZ19DYXJhQmF5YXInLA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCWRlbEVsZW0oY292ZXIpOwkNCgkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCgkJCQlpZihyZXNwLmVyciAhPSAiIil7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9ZWxzZXsNCgkJCQkJbWUudGFiZWxSZWtlbmluZygpOw0KCQkJCQltZS5yaW5jaWFucGVuZXJpbWFhbigpOw0KCQkJCX0NCgkJICAJfQ0KCQl9KTsNCgl9LA0KCQ0KCXJlbG9hZF9jYXJhYmF5YXI6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT10aGlzOw0KCQl2YXIgY2FyYV9iYXlhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJhX2JheWFyIikudmFsdWU7DQoJCXZhciBqbnNfdHJhbnNha3NpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImpuc190cmFuc2Frc2kiKS52YWx1ZTsNCgkJDQoJCWlmKGpuc190cmFuc2Frc2kgPT0gIjEiKXsNCgkJCWlmKGNhcmFfYmF5YXIgPT0gJzEnIHx8IGNhcmFfYmF5YXIgPT0gJzInKXsNCgkJCQkvKmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWxvYWRfY2FyYWJheWFyIikuaW5uZXJIVE1MID0gIiA8aW1nIHNyYz0naW1hZ2VzL2FkbWluaXN0cmF0b3IvaW1hZ2VzL3JlbG9hZF9mMi5wbmcnIHN0eWxlPSd3aWR0aDoyMHB4O21hcmdpbi1ib3R0b206LTVweDsnIG9uY2xpY2s9J3BlbWFzdWthbl9pbnMuTG9hZF9EYXRhQ2FyYUJheWFyKCknIG9ubW91c2VvdmVyPSd0aGlzLnN0eWxlLndpZHRoPWAyM3B4YDsnIG9ubW91c2VvdXQ9J3RoaXMuc3R5bGUud2lkdGg9YDIwcHhgOycgLz4iOyovDQoJCQkJdmFyIHN0YXR1c19rZHAgPSBjb25maXJtKCJLb2RlIEJhcmFuZyBKYWRpIEtvbnRydWtzaSBEYWxhbSBQZW5nZXJqYWFuIChLRFApID8iKTsNCgkJCQlpZihzdGF0dXNfa2RwID09IHRydWUpew0KCQkJCQkkKCIjc3RhdHVzX2tkcCIpLnZhbCgiMSIpOw0KCQkJCX1lbHNlew0KCQkJCQkkKCIjc3RhdHVzX2tkcCIpLnZhbCgiMCIpOw0KCQkJCX0NCgkJCQltZS5HZXRfQnRuX0NhcmlUZXJtaW4oKTsNCgkJCQltZS5DbGVhckJhcmFuZ19DYXJhQmF5YXIoKTsNCgkJCX1lbHNlew0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWxvYWRfY2FyYWJheWFyIikuaW5uZXJIVE1MID0gIiI7DQoJCQl9DQoJCX0JDQoJCW1lLmlucHV0cGVuZXJpbWFhbigpOwkNCgl9LA0KCQ0KCUxvYWRfRGF0YUNhcmFCYXlhcjpmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQl2YXIgZXJyPScnOw0KCQkNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXIyJzsNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPUxvYWRfRGF0YUNhcmFCYXlhcicsDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJZGVsRWxlbShjb3Zlcik7CQ0KCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCWlmKHJlc3AuZXJyID09ICIiKXsJCQkJCQkJCQkNCgkJCQkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge21lLnJpbmNpYW5wZW5lcmltYWFuKCl9LDEwMDApOw0KCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7bWUudGFiZWxSZWtlbmluZygpfSwxMDAwKTsNCgkJCQkJaWYocmVzcC5jb250ZW50LmFrdGlmID09IDEpew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1bWJlcmRhbmEnKS52YWx1ZSA9IHJlc3AuY29udGVudC5zdW1iZXJkYW5hOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21ldG9kZXBlbmdhZGFhbicpLnZhbHVlID0gcmVzcC5jb250ZW50Lm1ldG9kZXBlbmdhZGFhbjsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW5jYWlyYW5fZGFuYScpLnZhbHVlID0gcmVzcC5jb250ZW50LnBlbmNhaXJhbl9kYW5hOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2cnKS52YWx1ZSA9IHJlc3AuY29udGVudC5wcm9nOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyYW0nKS52YWx1ZSA9IHJlc3AuY29udGVudC5wcm9ncmFtOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhZmtlZycpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5kYWZrZWc7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVrZXJqYWFuJykudmFsdWUgPSByZXNwLmNvbnRlbnQucGVrZXJqYWFuOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbnllZGlhbicpLnZhbHVlID0gcmVzcC5jb250ZW50LnBlbnllZGlhbjsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW5lcmltYScpLnZhbHVlID0gcmVzcC5jb250ZW50LnBlbmVyaW1hOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2tldGVyYW5nYW5fcGVuZXJpbWFhbicpLnZhbHVlID0gcmVzcC5jb250ZW50LmtldGVyYW5nYW5fcGVuZXJpbWFhbjsNCgkJCQkJCQ0KCQkJCQl9DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCSAgCX0NCgkJfSk7DQoJCQ0KCX0sDQoJDQoJY2FyaURQQTogZnVuY3Rpb24oKXsNCgkJdmFyIG1lPXRoaXM7DQoJCWNhcmlEUEEud2luZG93U2hvdyhtZS5mb3JtTmFtZSk7CQ0KCQljYXJpRFBBLkFmdGVyd2luZG93U2F2ZT0gZnVuY3Rpb24oZHQpew0KCQkJbWUuR2V0RGF0YV9SZWZyZXNoRnJvbURQQSgpOw0KCQl9OwkNCgl9LA0KCQ0KCUdldERhdGFfUmVmcmVzaEZyb21EUEE6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT10aGlzOw0KCQkkKCIjc3RhdHVzX2RwYSIpLnZhbCgxKTsNCgkJbWUucmluY2lhbnBlbmVyaW1hYW4oKTsNCgkJbWUuR2V0RGF0YV9EUEFfUHJvZ0tlZygpOw0KCX0sDQoJDQoJR2V0RGF0YV9EUEFfUHJvZ0tlZzpmdW5jdGlvbihSZWZyZXNoU2F2ZURQQSA9IDEpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQl2YXIgZXJyPScnOw0KCQkNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXIyJzsNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPUdldERhdGFfRFBBX1Byb2dLZWcnLA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCWRlbEVsZW0oY292ZXIpOwkNCgkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCgkJCQlpZihyZXNwLmVyciA9PSAiIil7CQ0KCQkJCQlpZihyZXNwLmNvbnRlbnQuc3RhdHVzX2RwYSA9PSAxKXsNCgkJCQkJCSQoIiNwcm9ncmFtIikudmFsKHJlc3AuY29udGVudC5ubV9wcm9ncmFtKTsNCgkJCQkJCSQoIiNwcm9nIikudmFsKHJlc3AuY29udGVudC5rZF9wcm9ncmFtKTsNCgkJCQkJCSQoIiNkYWZrZWciKS5odG1sKHJlc3AuY29udGVudC5ubV9rZWdpYXRhbik7DQoJCQkJCQkkKCIjc3RhdHVzX2RwYSIpLnZhbChyZXNwLmNvbnRlbnQuc3RhdHVzX2RwYSk7DQoJCQkJCQlpZihSZWZyZXNoU2F2ZURQQSA9PSAxKW1lLlNldF9TYXZlUmVrZW5pbmdGb3JEUEEoKTsNCgkJCQkJfQkJCQkJDQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCSAgCX0NCgkJfSk7DQoJCQ0KCX0sDQoJDQoJU2V0X1NhdmVSZWtlbmluZ0ZvckRQQTpmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQl2YXIgZXJyPScnOw0KCQkNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXIyJzsNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPVNldF9TYXZlUmVrZW5pbmdGb3JEUEEnLA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCWRlbEVsZW0oY292ZXIpOwkNCgkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCgkJCQlpZihyZXNwLmVyciA9PSAiIil7CQ0KCQkJCQltZS50YWJlbFJla2VuaW5nKCk7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCSAgCX0NCgkJfSk7DQoJCQ0KCX0sDQoJDQoJUmluY2lhblJla2VuaW5nRFBBOmZ1bmN0aW9uKERhdGFueWEsIElkbnlhKXsNCgkJdmFyIG1lID0gdGhpczsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkdldFJla2VuaW5nRFBBIikudmFsdWU9RGF0YW55YTsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIklkUmVrZW5pbmdEUEEiKS52YWx1ZT1JZG55YTsNCgkJbWUucmluY2lhbnBlbmVyaW1hYW4oMCk7DQoJCW1lLmlucHV0cGVuZXJpbWFhbigpOw0KCX0sDQoJDQoJR2V0X2ptbE1ha3NCYXJhbmdfRFBBOmZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBlcnI9Jyc7DQoJCQ0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3ZlcjInOw0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9R2V0X2ptbE1ha3NCYXJhbmdfRFBBJywNCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQlkZWxFbGVtKGNvdmVyKTsJDQoJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7DQoJCQkJaWYocmVzcC5lcnIgPT0gIiIpewkNCgkJCQkJJCgiI2tvZGViYXJhbmciKS52YWwocmVzcC5jb250ZW50LmtvZGViYXJhbmcpOw0KCQkJCQkkKCIjbmFtYWJhcmFuZyIpLnZhbChyZXNwLmNvbnRlbnQubm1fYmFyYW5nKTsNCgkJCQkJJCgiI2ptbF9tYWtzaW1hbCIpLnZhbChyZXNwLmNvbnRlbnQuam1sX21ha3NpbWFsKTsNCgkJCQkJJCgiI2hyZ19tYWtzaW1hbCIpLnZhbChyZXNwLmNvbnRlbnQuaHJnX21ha3NpbWFsKTsNCgkJCQkJJCgiI2t1YW50aXRhc19tYWtzaW1hbCIpLnZhbChyZXNwLmNvbnRlbnQua3VhbnRpdGFzX21ha3NpbWFsKTsNCgkJCQkJJCgiI2tvbnRlbl9CVE5SZWFsaXNhc2kiKS5odG1sKHJlc3AuY29udGVudC5rb250ZW5fQlROUmVhbGlzYXNpKTsNCgkJCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJhcmFuZ19kaWRpc3RyaWJ1c2kiKSlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmFyYW5nX2RpZGlzdHJpYnVzaSIpLnN0eWxlLm1hcmdpbkxlZnQgPSAiMzVweCI7CQkJDQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCSAgCX0NCgkJfSk7DQoJCQ0KCX0sDQoJDQoJR2V0X0J0bl9DYXJpVGVybWluOmZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBlcnI9Jyc7DQoJCQ0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcl9DYXJpVGVybWluJzsNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPUdldF9CdG5fQ2FyaVRlcm1pbicsDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJZGVsRWxlbShjb3Zlcik7CQ0KCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCWlmKHJlc3AuZXJyID09ICIiKXsJDQoJCQkJCSQoIiNyZWxvYWRfY2FyYWJheWFyIikuaHRtbChyZXNwLmNvbnRlbnQpOw0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQ0KCQkgIAl9DQoJCX0pOw0KCQkNCgl9LA0KCQ0KCWNhcmlEb2t1bWVuS29udHJhazogZnVuY3Rpb24oKXsNCgkJdmFyIG1lPXRoaXM7DQoJCXJlZl9kb2t1bWVuX2tvbnRyYWsud2luZG93U2hvdyhtZS5mb3JtTmFtZSwgMSwgMSk7CQ0KCQlyZWZfZG9rdW1lbl9rb250cmFrLkFmdGVyd2luZG93U2F2ZT0gZnVuY3Rpb24oZHQpew0KCQkJLy9tZS5hbWJpbE5vbW9yRG9rdW1lbihkdC5ub21vcl9kb2ssInkiKTsNCgkJCW1lLmNhcmlEb2t1bWVuS29udHJha19BZnRlcigpOw0KCQl9OwkNCgl9LA0KCQ0KCWNhcmlEb2t1bWVuS29udHJha19BZnRlcjpmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQl2YXIgZXJyPScnOw0KCQkNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXJfQ2FyaVRlcm1pbjEnOw0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9Y2FyaURva3VtZW5Lb250cmFrX0FmdGVyJywNCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQlkZWxFbGVtKGNvdmVyKTsJDQoJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7DQoJCQkJaWYocmVzcC5lcnIgPT0gIiIpewkNCgkJCQkJJCgiI3Byb2dyYW0iKS52YWwocmVzcC5jb250ZW50LnByb2dyYW0pOwkJCQkNCgkJCQkJJCgiI3Byb2ciKS52YWwocmVzcC5jb250ZW50LnByb2cpOwkJCQkNCgkJCQkJJCgiI3Bla2VyamFhbiIpLnZhbChyZXNwLmNvbnRlbnQucGVrZXJqYWFuKTsJCQkJDQoJCQkJCSQoIiNkYWZrZWciKS5odG1sKHJlc3AuY29udGVudC5kYWZrZWcpOwkJDQoJCQkJCSQoIiNwZW55ZWRpYW4iKS52YWwocmVzcC5jb250ZW50LnBlbnllZGlhbik7CQkNCgkJCQkJJCgiI3BlbmVyaW1hIikudmFsKHJlc3AuY29udGVudC5wZW5lcmltYSk7CQkNCgkJCQkJJCgiI2tldGVyYW5nYW5fcGVuZXJpbWFhbiIpLnZhbChyZXNwLmNvbnRlbnQua2V0ZXJhbmdhbl9wZW5lcmltYWFuKTsJCQ0KCQkJCQltZS50YWJlbFJla2VuaW5nKCk7CQkJCQkJCQ0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQ0KCQkgIAl9DQoJCX0pOw0KCQkNCgl9LA0KCQ0KCUdldF9qbWxCYXJhbmdSZWFsaXNhc2lfRFBBOmZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBlcnI9Jyc7DQoJCQ0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3ZlcjInOw0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9R2V0X2ptbEJhcmFuZ1JlYWxpc2FzaV9EUEEnLA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCWRlbEVsZW0oY292ZXIpOwkNCgkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCgkJCQlpZihyZXNwLmVyciA9PSAiIil7CQ0KCQkJCQkkKCIja29udGVuX0JUTlJlYWxpc2FzaSIpLmh0bWwocmVzcC5jb250ZW50KTsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImp1bWxhaF9iYXJhbmciKS5yZWFkT25seSA9IGZhbHNlOwkNCgkJCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJhcmFuZ19kaWRpc3RyaWJ1c2kiKSlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmFyYW5nX2RpZGlzdHJpYnVzaSIpLnN0eWxlLm1hcmdpbkxlZnQgPSAiNXB4IjsJCQkNCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCX0NCgkJICAJfQ0KCQl9KTsNCgkJDQoJfSwNCgkNCgkvKnRhYmVsUmVrZW5pbmdfRGF0YUZvcm1EUEFfam1sTWFrc0JhcmFuZzpmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQl2YXIgZXJyPScnOw0KCQkNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXIyJzsNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPXRhYmVsUmVrZW5pbmdfRGF0YUZvcm1EUEFfam1sTWFrc0JhcmFuZycsDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJZGVsRWxlbShjb3Zlcik7CQ0KCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCWlmKHJlc3AuZXJyID09ICIiKXsJDQoJCQkJCXZhciBrb250ZW4gPSByZXNwLmNvbnRlbnQ7DQoJCQkJCWZvcihpPTA7aTxrb250ZW4ubGVuZ3RoO2krKyl7DQoJCQkJCQlhbGVydChrb250ZW4uaS5rZHJlayk7DQoJCQkJCQkkKCIjZm1fSm1sQnJnRFBBXyIra29udGVuLmkua2RyZWspLmh0bWwoa29udGVuLmkuam1sKTsNCgkJCQkJfQ0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQ0KCQkgIAl9DQoJCX0pOw0KCQkNCgl9LCovDQoJDQoJR2V0X1Jla2VuaW5nQmFyYW5nRGF0YTpmdW5jdGlvbihJZFJlayl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBlcnI9Jyc7DQoJCSQoIiNJZFJla0JhcmFuZyIpLnZhbChJZFJlayk7DQoJCQ0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3ZlcjInOw0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9R2V0X1Jla2VuaW5nQmFyYW5nRGF0YSZJZFJla1BpbD0nK0lkUmVrLA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCWRlbEVsZW0oY292ZXIpOwkNCgkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCgkJCQlpZihyZXNwLmVyciA9PSAiIil7CQ0KCQkJCQkkKCIja29kZV9yZWtCYXIiKS52YWwocmVzcC5jb250ZW50LmtvZGVyZWspOwkJCQ0KCQkJCQkkKCIjbmFtYV9yZWtCYXIiKS52YWwocmVzcC5jb250ZW50Lm5hbWFyZWspOwkJCQ0KCQkJCQkkKCIjSWRSZWtCYXJhbmciKS52YWwocmVzcC5jb250ZW50LklkUmVrKTsJDQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCSAgCX0NCgkJfSk7DQoJCQ0KCX0sDQoJDQoJQ2xlYXJfUmVrZW5pbmdCYXJhbmdEYXRhOiBmdW5jdGlvbigpew0KCQkkKCIja29kZV9yZWtCYXIiKS52YWwoIiIpOwkJCQ0KCQkkKCIjbmFtYV9yZWtCYXIiKS52YWwoIiIpOwkJCQ0KCQkkKCIjSWRSZWtCYXJhbmciKS52YWwoIiIpOwkJCQ0KCX0sDQoNCglHdW5ha2FuVGVtcGxhdGU6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBlcnI9Jyc7CQkNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXJHdW5ha2FuVGVtcGxhdGUnOw0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDIsdHJ1ZSxmYWxzZSk7CQ0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyttZS5wcmVmaXgrIl9mb3JtIikuc2VyaWFsaXplKCksDQoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPUd1bmFrYW5UZW1wbGF0ZScsDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJZGVsRWxlbShjb3Zlcik7CQ0KCQkJCWlmKHJlc3AuZXJyID09ICIiKXsJDQoJCQkJCWRlbEVsZW0obWUucHJlZml4KyJfZm9ybVBpbFRlbXBsYXRlIik7DQoJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCQltZS5yaW5jaWFucGVuZXJpbWFhbigpOw0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQ0KCQkgIAl9DQoJCX0pOw0KCX0sDQoJDQp9KTsNCg==",
    "size": "57139"
}