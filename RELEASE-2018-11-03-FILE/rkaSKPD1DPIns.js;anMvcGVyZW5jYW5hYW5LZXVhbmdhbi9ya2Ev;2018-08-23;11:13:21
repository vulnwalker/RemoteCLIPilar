{
    "namaFile": "js\/perencanaanKeuangan\/rka\/rkaSKPD1DPIns.js",
    "lastUpdate": "2018-08-23+11:13:21.40",
    "contentFile": "dmFyIHJrYVNLUEQxRFBJbnMgPSBuZXcgRGFmdGFyT2JqMih7DQogIHByZWZpeDogInJrYVNLUEQxRFBJbnMiLA0KICB1cmw6ICJwZ0tldS5waHA\/UGc9cmthU0tQRDFEUElucyIsDQogIGZvcm1OYW1lOiAicmthU0tQRDFEUEluc0Zvcm0iLA0KICBzYXR1YW5fZm9ybTogIjAiLA0KICBsb2FkaW5nOiBmdW5jdGlvbigpIHsNCiAgICB0aGlzLnRvcEJhclJlbmRlcigpOw0KICAgIHRoaXMuZmlsdGVyUmVuZGVyKCk7DQogIH0sDQogIGZpbHRlclJlbmRlckFmdGVyOiBmdW5jdGlvbigpIHsNCiAgICBpZiAoJCgiI25ld0JsYW5rUGFnZSIpLnZhbCgpID09ICIxIikgew0KICAgICAgdGhpcy5maW5kUmVrZW5pbmdSa2EoKTsNCiAgICB9DQogIH0sDQogIGNsb3NlVGFiOiBmdW5jdGlvbigpIHsNCiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInEiKS5kaXNhYmxlZCA9PSB0cnVlKSB7DQogICAgICAkLmFqYXgoew0KICAgICAgICB0eXBlOiAiUE9TVCIsDQogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9Y2xlYXIiLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgJCgiI2JrIikudmFsKCIiKTsNCiAgICAgICAgICAkKCIjY2siKS52YWwoIiIpOw0KICAgICAgICAgICQoIiNkayIpLnZhbCgiIik7DQogICAgICAgICAgJCgiI3AiKS52YWwoIiIpOw0KICAgICAgICAgICQoIiNxIikudmFsKCIiKTsNCiAgICAgICAgICAkKCIjY29uY2F0UHJvZ3JhbUtlZ2lhdGFuIikudmFsKCIiKTsNCiAgICAgICAgICAkKCIjcHJvZ3JhbSIpLnZhbCgiIik7DQogICAgICAgICAgcmthU0tQRDFEUElucy5yZWZyZXNoTGlzdCh0cnVlKTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSBlbHNlIHsNCiAgICAgIHdpbmRvdy5vcGVuZXIubG9jYXRpb24ucmVsb2FkKCk7DQogICAgICB2YXIgd3cgPSB3aW5kb3cub3Blbih3aW5kb3cubG9jYXRpb24sICJfc2VsZiIpOw0KICAgICAgd3cuY2xvc2UoKTsNCiAgICB9DQogIH0sDQoNCiAgZm9ybWF0Q3VycmVuY3k6IGZ1bmN0aW9uKG51bSkgew0KICAgIG51bSA9IG51bS50b1N0cmluZygpLnJlcGxhY2UoL1wkfFwsL2csICIiKTsNCiAgICBpZiAoaXNOYU4obnVtKSkgbnVtID0gIjAiOw0KICAgIHNpZ24gPSBudW0gPT0gKG51bSA9IE1hdGguYWJzKG51bSkpOw0KICAgIG51bSA9IE1hdGguZmxvb3IobnVtICogMTAwICsgMC41MDAwMDAwMDAwMSk7DQogICAgY2VudHMgPSBudW0gJSAxMDA7DQogICAgbnVtID0gTWF0aC5mbG9vcihudW0gLyAxMDApLnRvU3RyaW5nKCk7DQogICAgaWYgKGNlbnRzIDwgMTApIGNlbnRzID0gIjAiICsgY2VudHM7DQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBNYXRoLmZsb29yKChudW0ubGVuZ3RoIC0gKDEgKyBpKSkgLyAzKTsgaSsrKQ0KICAgICAgbnVtID0NCiAgICAgICAgbnVtLnN1YnN0cmluZygwLCBudW0ubGVuZ3RoIC0gKDQgKiBpICsgMykpICsNCiAgICAgICAgIi4iICsNCiAgICAgICAgbnVtLnN1YnN0cmluZyhudW0ubGVuZ3RoIC0gKDQgKiBpICsgMykpOw0KICAgIHJldHVybiAoc2lnbiA\/ICIiIDogIi0iKSArICIiICsgbnVtICsgIiwiICsgY2VudHM7DQogIH0sDQoNCiAgaXNOdW1iZXJLZXk6IGZ1bmN0aW9uKGV2dCkgew0KICAgIHZhciBjaGFyQ29kZSA9IGV2dC53aGljaCA\/IGV2dC53aGljaCA6IGV2ZW50LmtleUNvZGU7DQogICAgaWYgKGNoYXJDb2RlID4gMzEgJiYgKGNoYXJDb2RlIDwgNDggfHwgY2hhckNvZGUgPiA1NykpIHJldHVybiBmYWxzZTsNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfSwNCg0KICBzYXZlUmthOiBmdW5jdGlvbigpIHsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXIiOw0KICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7DQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVSa2EiLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICBkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICB3aW5kb3cub3BlbmVyLmxvY2F0aW9uLnJlbG9hZCgpOw0KICAgICAgICAgIHZhciB3dyA9IHdpbmRvdy5vcGVuKHdpbmRvdy5sb2NhdGlvbiwgIl9zZWxmIik7DQogICAgICAgICAgd3cuY2xvc2UoKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgYWRkUmVrZW5pbmc6IGZ1bmN0aW9uKCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1hZGRSZWtlbmluZyIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIGRlbEVsZW0oY292ZXIpOw0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KDQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsU3ViUmluY2lhbkJlbGFuamEiKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsU3ViUmluY2lhbkJlbGFuamE7DQogICAgICAgICAgJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoIiIpOw0KICAgICAgICAgICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCIiKTsNCiAgICAgICAgICAkKCIjbmFtZVNlbGVjdGVkUmVrZW5pbmciKS50ZXh0KCIiKTsNCiAgICAgICAgICAkKCIjbmFtZVNlbGVjdGVkUmluY2lhbkJlbGFuamEiKS50ZXh0KCIiKTsNCiAgICAgICAgICBtZS5maW5kUmVrZW5pbmdSa2EoKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgZmluZFJla2VuaW5nOiBmdW5jdGlvbigpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIHZhciBmaWx0ZXJSZWsgPSAiIjsNCiAgICBmaWx0ZXJSZWsgPSAiUktBIDEgRFAiOw0KDQogICAgcG9wdXBSZWtlbmluZy5lbF9rb2RlX3Jla2VuaW5nID0gImtvZGVSZWtlbmluZyI7DQogICAgcG9wdXBSZWtlbmluZy5lbF9uYW1hX3Jla2VuaW5nID0gIm5hbWFSZWtlbmluZyI7DQogICAgcG9wdXBSZWtlbmluZy5zcGFuUmVrZW5pbmcgPSAic3Bhbk5hbWFSZWtlbmluZyI7DQogICAgcG9wdXBSZWtlbmluZy53aW5kb3dTYXZlQWZ0ZXIgPSBmdW5jdGlvbigpIHt9Ow0KICAgIHBvcHVwUmVrZW5pbmcuZmlsdGVyQWt1biA9IGZpbHRlclJlazsNCiAgICBwb3B1cFJla2VuaW5nLndpbmRvd1Nob3coKTsNCiAgfSwNCiAgZmluZFJla2VuaW5nUmthOiBmdW5jdGlvbihqZW5pc1JrYSkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGZpbHRlclJlayA9ICIiOw0KICAgIGZpbHRlclJlayA9ICJSS0EgMSBEUCI7DQogICAgdmFyIGtvZGVTS1BEID0gJCgiI2MxIikudmFsKCkgKyAiLiIgKyAkKCIjYyIpLnZhbCgpICsgIi4iICsgJCgiI2QiKS52YWwoKTsNCiAgICBwb3B1cFJla2VuaW5nUmthLmtvZGVTS1BEID0gIiZrb2RlU0tQRD0iICsga29kZVNLUEQ7DQogICAgcG9wdXBSZWtlbmluZ1JrYS5lbF9rb2RlX3Jla2VuaW5nID0gImtvZGVSZWtlbmluZyI7DQogICAgcG9wdXBSZWtlbmluZ1JrYS5lbF9uYW1hX3Jla2VuaW5nID0gIm5hbWFSZWtlbmluZyI7DQogICAgcG9wdXBSZWtlbmluZ1JrYS5zcGFuUmVrZW5pbmcgPSAic3Bhbk5hbWFSZWtlbmluZyI7DQogICAgcG9wdXBSZWtlbmluZ1JrYS53aW5kb3dTYXZlQWZ0ZXIgPSBmdW5jdGlvbigpIHt9Ow0KICAgIHBvcHVwUmVrZW5pbmdSa2EuZmlsdGVyQWt1biA9IGZpbHRlclJlazsNCiAgICBwb3B1cFJla2VuaW5nUmthLndpbmRvd1Nob3coKTsNCiAgfSwNCiAgZWRpdFJla2VuaW5nOiBmdW5jdGlvbihpZCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogeyBpZDogaWQgfSwNCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZWRpdFJla2VuaW5nIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsUmVrZW5pbmciKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsUmVrZW5pbmc7DQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsU3ViUmluY2lhbkJlbGFuamEiKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsU3ViUmluY2lhbkJlbGFuamE7DQogICAgICAgICAgJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoIiIpOw0KICAgICAgICAgICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCIiKTsNCiAgICAgICAgICAkKCIjbmFtZVNlbGVjdGVkUmVrZW5pbmciKS50ZXh0KCIiKTsNCiAgICAgICAgICAkKCIjbmFtZVNlbGVjdGVkUmluY2lhbkJlbGFuamEiKS50ZXh0KCIiKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCg0KICBjYW5jZWxSZWtlbmluZzogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICQuYWpheCh7DQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWNhbmNlbFJla2VuaW5nIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsUmVrZW5pbmciKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIHNhdmVFZGl0UmVrZW5pbmc6IGZ1bmN0aW9uKGlkKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICQuYWpheCh7DQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICBkYXRhOiB7DQogICAgICAgIGtvZGVSZWtlbmluZzogJCgiI2tvZGVSZWtlbmluZyIpLnZhbCgpLA0KICAgICAgICBzdW1iZXJEYW5hOiAkKCIjY21iU3VtYmVyRGFuYSIpLnZhbCgpLA0KICAgICAgICBpZDogaWQNCiAgICAgIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVFZGl0UmVrZW5pbmciLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICBkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFiZWxSZWtlbmluZyIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgZGVsZXRlUmVrZW5pbmc6IGZ1bmN0aW9uKGlkKSB7DQogICAgdmFyIG1lID0gdGhpczsNCg0KICAgIGlmIChjb25maXJtKCJZYWtpbiBoYXB1cyByZWtlbmluZyAoIGRhdGEgcmluY2lhbiBwZW5kYXBhdGFuIGFrYW4gaGlsYW5nKSA\/ICIpKSB7DQogICAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7DQogICAgICAkLmFqYXgoew0KICAgICAgICB0eXBlOiAiUE9TVCIsDQogICAgICAgIGRhdGE6IHsNCiAgICAgICAgICBpZDogaWQNCiAgICAgICAgfSwNCiAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1kZWxldGVSZWtlbmluZyIsDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgICBkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFiZWxSZWtlbmluZyIpLmlubmVySFRNTCA9DQogICAgICAgICAgICAgIHJlc3AuY29udGVudC50YWJlbFJla2VuaW5nOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsU3ViUmluY2lhbkJlbGFuamEiKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxTdWJSaW5jaWFuQmVsYW5qYTsNCiAgICAgICAgICAgICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCIiKTsNCiAgICAgICAgICAgICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCIiKTsNCiAgICAgICAgICAgICQoIiNuYW1lU2VsZWN0ZWRSZWtlbmluZyIpLnRleHQoIiIpOw0KICAgICAgICAgICAgJCgiI25hbWVTZWxlY3RlZFJpbmNpYW5CZWxhbmphIikudGV4dCgiIik7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0gZWxzZSB7DQogICAgfQ0KICB9LA0KICByaW5jaWFuQmVsYW5qYTogZnVuY3Rpb24gKGlkKSB7DQogICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9jb3ZlckxvYWRpbmciOw0KICAgICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICAgICAkLmFqYXgoew0KICAgICAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICAgICAgZGF0YTogeyBpZDogaWQgfSwNCiAgICAgICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9cmluY2lhbkJlbGFuamEiLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHsNCiAgICAgICAgICAgICAgICBkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFJpbmNpYW5CZWxhbmphIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgICAgICAgICAgLy8gICByZXNwLmNvbnRlbnQudGFiZWxSaW5jaWFuQmVsYW5qYTsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsUmVrZW5pbmciKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsUmVrZW5pbmc7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFN1YlJpbmNpYW5CZWxhbmphIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AuY29udGVudC50YWJlbFN1YlJpbmNpYW5CZWxhbmphOw0KICAgICAgICAgICAgICAgICAgICAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbChpZCk7DQogICAgICAgICAgICAgICAgICAgICQoIiNuYW1lU2VsZWN0ZWRSZWtlbmluZyIpLmh0bWwocmVzcC5jb250ZW50Lm5hbWVTZWxlY3RlZFJla2VuaW5nKTsNCiAgICAgICAgICAgICAgICAgICAgbWUuc3ViUmluY2lhbkJlbGFuamEoaWQpOw0KICAgICAgICAgICAgICAgICAgICAvLyAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgiIik7DQogICAgICAgICAgICAgICAgICAgIC8vICQoIiNrYWxpbWF0UmluY2lhbkJlbGFuamEiKS5odG1sKHJlc3AuY29udGVudC5rYWxpbWF0UmluY2lhbkJlbGFuamEpOw0KICAgICAgICAgICAgICAgICAgICAvLyAkKCIja2FsaW1hdFN1YlJpbmNpYW5CZWxhbmphIikuaHRtbCgNCiAgICAgICAgICAgICAgICAgICAgLy8gICByZXNwLmNvbnRlbnQua2FsaW1hdFN1YlJpbmNpYW5CZWxhbmphDQogICAgICAgICAgICAgICAgICAgIC8vICk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogIH0sDQogIGFkZFJpbmNpYW5CZWxhbmphOiBmdW5jdGlvbigpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIHZhciBlcnIgPSAiIjsNCiAgICBpZiAoJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoKSA9PSAiIikgew0KICAgICAgZXJyID0gIlBpbGloIFJla2VuaW5nICEiOw0KICAgIH0NCiAgICBpZiAoZXJyID09ICIiKSB7DQogICAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7DQogICAgICAkLmFqYXgoew0KICAgICAgICB0eXBlOiAiUE9TVCIsDQogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9YWRkUmluY2lhbkJlbGFuamEiLA0KICAgICAgICBkYXRhOiB7IGlkOiAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgpIH0sDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgICBkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFiZWxTdWJSaW5jaWFuQmVsYW5qYSIpLmlubmVySFRNTCA9DQogICAgICAgICAgICAgIHJlc3AuY29udGVudC50YWJlbFN1YlJpbmNpYW5CZWxhbmphOw0KICAgICAgICAgICAgJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoIiIpOw0KICAgICAgICAgICAgJCgiI25hbWVTZWxlY3RlZFJpbmNpYW5CZWxhbmphIikudGV4dCgiIik7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0gZWxzZSB7DQogICAgICBhbGVydChlcnIpOw0KICAgIH0NCiAgfSwNCiAgc2F2ZU5ld1JpbmNpYW5CZWxhbmphOiBmdW5jdGlvbigpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9jb3ZlckxvYWRpbmciOw0KICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7DQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIGRhdGE6IHsNCiAgICAgICAgdXJhaWFuQmVsYW5qYTogJCgiI3VyYWlhbkJlbGFuamEiKS52YWwoKSwNCiAgICAgICAgaWRSZWtlbmluZzogJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoKQ0KICAgICAgfSwNCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2F2ZU5ld1JpbmNpYW5CZWxhbmphIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQoNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgZWRpdFJpbmNpYW5CZWxhbmphOiBmdW5jdGlvbihpZCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogew0KICAgICAgICBpZEVkaXQ6IGlkLA0KICAgICAgICBpZFJla2VuaW5nOiAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgpDQogICAgICB9LA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1lZGl0UmluY2lhbkJlbGFuamEiLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICBkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCg0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFN1YlJpbmNpYW5CZWxhbmphIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgIHJlc3AuY29udGVudC50YWJlbFN1YlJpbmNpYW5CZWxhbmphOw0KICAgICAgICAgICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCIiKTsNCiAgICAgICAgICAkKCIjbmFtZVNlbGVjdGVkUmluY2lhbkJlbGFuamEiKS50ZXh0KCIiKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgc2F2ZUVkaXRSaW5jaWFuQmVsYW5qYTogZnVuY3Rpb24oaWQpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9jb3ZlckxvYWRpbmciOw0KICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7DQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIGRhdGE6IHsNCiAgICAgICAgaWRFZGl0OiBpZCwNCiAgICAgICAgaWRSZWtlbmluZzogJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoKSwNCiAgICAgICAgdXJhaWFuQmVsYW5qYTogJCgiI3VyYWlhbkJlbGFuamEiKS52YWwoKQ0KICAgICAgfSwNCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2F2ZUVkaXRSaW5jaWFuQmVsYW5qYSIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIGRlbEVsZW0oY292ZXIpOw0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIGRlbGV0ZVJpbmNpYW5CZWxhbmphOiBmdW5jdGlvbihpZCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgaWYgKGNvbmZpcm0oIllha2luIGhhcHVzIHJpbmNpYW4gYmVsYW5qYSAoZGF0YSByaW5jaWFuIGJlbGFuamEgYWthbiBoaWxhbmcpID8iKSkgew0KICAgICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICAgJC5hamF4KHsNCiAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICBkYXRhOiB7DQogICAgICAgICAgaWQ6IGlkLA0KICAgICAgICAgIGlkUmVrZW5pbmc6ICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCkNCiAgICAgICAgfSwNCiAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1kZWxldGVSaW5jaWFuQmVsYW5qYSIsDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgICBkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQoNCiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsU3ViUmluY2lhbkJlbGFuamEiKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgICAgIHJlc3AuY29udGVudC50YWJlbFN1YlJpbmNpYW5CZWxhbmphOw0KICAgICAgICAgICAgICAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgiIik7DQogICAgICAgICAgICAgICQoIiNuYW1lU2VsZWN0ZWRSaW5jaWFuQmVsYW5qYSIpLnRleHQoIiIpOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9DQogIH0sDQogIHN1YlJpbmNpYW5CZWxhbmphOiBmdW5jdGlvbiAoaWQpIHsNCiAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7DQogICAgICAgICQuYWpheCh7DQogICAgICAgICAgICB0eXBlOiAiUE9TVCIsDQogICAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICAgICAgaWQ6IGlkLA0KICAgICAgICAgICAgICAgIGlkUmVrZW5pbmc6ICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXN1YlJpbmNpYW5CZWxhbmphIiwNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7DQogICAgICAgICAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KDQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFN1YlJpbmNpYW5CZWxhbmphIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AuY29udGVudC50YWJlbFN1YlJpbmNpYW5CZWxhbmphOw0KICAgICAgICAgICAgICAgICAgICAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbChpZCk7DQogICAgICAgICAgICAgICAgICAgICQoIiNrYWxpbWF0U3ViUmluY2lhbkJlbGFuamEiKS5odG1sKA0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzcC5jb250ZW50LmthbGltYXRTdWJSaW5jaWFuQmVsYW5qYQ0KICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogIGFkZFN1YlJpbmNpYW5CZWxhbmphOiBmdW5jdGlvbigpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIHZhciBlcnIgPSAiIjsNCiAgICBpZiAoJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoKSA9PSAiIikgew0KICAgICAgZXJyID0gIlBpbGloIFJla2VuaW5nICEiOw0KICAgIH0NCiAgICBpZiAoZXJyID09ICIiKSB7DQogICAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7DQogICAgICAkLmFqYXgoew0KICAgICAgICB0eXBlOiAiUE9TVCIsDQogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9YWRkU3ViUmluY2lhbkJlbGFuamEiLA0KICAgICAgICBkYXRhOiB7DQogICAgICAgICAgaWQ6ICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCksDQogICAgICAgICAgaWRSZWtlbmluZzogJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoKQ0KICAgICAgICB9LA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsU3ViUmluY2lhbkJlbGFuamEiKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxTdWJSaW5jaWFuQmVsYW5qYTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSBlbHNlIHsNCiAgICAgIGFsZXJ0KGVycik7DQogICAgfQ0KICB9LA0KICBmb3JtUmluY2lhblZvbHVtZTogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyIjsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogew0KICAgICAgICB2b2x1bWVSZWs6ICQoIiN2b2x1bWVCYXJhbmciKS52YWwoKSwNCiAgICAgICAganVtbGFoMSA6ICQoIiN2b2x1bWUxVGVtcCIpLnZhbCgpLA0KICAgICAgICBqdW1sYWgyIDogJCgiI3ZvbHVtZTJUZW1wIikudmFsKCksDQogICAgICAgIGp1bWxhaDMgOiAkKCIjdm9sdW1lM1RlbXAiKS52YWwoKSwNCiAgICAgIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWZvcm1SaW5jaWFuVm9sdW1lIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7DQogICAgICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMiwgdHJ1ZSwgZmFsc2UpOw0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQogICAgICAgICAgJCgiI2p1bWxhaDEiKS52YWwoJCgiI3ZvbHVtZTFUZW1wIikudmFsKCkpOw0KICAgICAgICAgIC8vICQoIiNqdW1sYWgyIikudmFsKCQoIiN2b2x1bWUyVGVtcCIpLnZhbCgpKTsNCiAgICAgICAgICAvLyAkKCIjanVtbGFoMyIpLnZhbCgkKCIjdm9sdW1lM1RlbXAiKS52YWwoKSk7DQogICAgICAgICAgJCgiI2p1bWxhaDQiKS52YWwoJCgiI3ZvbHVtZUJhcmFuZyIpLnZhbCgpKTsNCiAgICAgICAgICAkKCIjc2F0dWFuMSIpLnZhbCgkKCIjc2F0dWFuMVRlbXAiKS52YWwoKSk7DQogICAgICAgICAgJCgiI3NhdHVhbjIiKS52YWwoJCgiI3NhdHVhbjJUZW1wIikudmFsKCkpOw0KICAgICAgICAgICQoIiNzYXR1YW4zIikudmFsKCQoIiNzYXR1YW4zVGVtcCIpLnZhbCgpKTsNCiAgICAgICAgICAkKCIjZGV0YWlsVm9sdW1lUmluY2lhbiIpLnRleHQoJCgiI2RldGFpbFZvbHVtZVRlbXAiKS50ZXh0KCkpOw0KICAgICAgICAgICQoIiNyaW5jaWFuVm9sdW1lVGVtcCIpLnZhbCgkKCIjcmluY2lhblZvbHVtZSIpLnZhbCgpKTsNCg0KICAgICAgICAgIGlmICgkKCIjc2F0dWFuM1RlbXAiKS52YWwoKSAhPSAiIikgew0KICAgICAgICAgICAgJCgiI3NhdHVhblZvbHVtZSIpLnZhbCgNCiAgICAgICAgICAgICAgJCgiI3NhdHVhbjFUZW1wIikudmFsKCkgKw0KICAgICAgICAgICAgICAgICIgLyAiICsNCiAgICAgICAgICAgICAgICAkKCIjc2F0dWFuMlRlbXAiKS52YWwoKSArDQogICAgICAgICAgICAgICAgIiAvICIgKw0KICAgICAgICAgICAgICAgICQoIiNzYXR1YW4zVGVtcCIpLnZhbCgpDQogICAgICAgICAgICApOw0KICAgICAgICAgIH0gZWxzZSBpZiAoJCgiI3NhdHVhbjJUZW1wIikudmFsKCkgIT0gIiIpIHsNCiAgICAgICAgICAgICQoIiNzYXR1YW5Wb2x1bWUiKS52YWwoDQogICAgICAgICAgICAgICQoIiNzYXR1YW4xVGVtcCIpLnZhbCgpICsgIiAvICIgKyAkKCIjc2F0dWFuMlRlbXAiKS52YWwoKQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgJCgiI3NhdHVhblZvbHVtZSIpLnZhbCgkKCIjc2F0dWFuMVRlbXAiKS52YWwoKSk7DQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KICBzZXRUb3RhbFJpbmNpYW46IGZ1bmN0aW9uKG9iaikgew0KICAgIHZhciBqdW1sYWgxID0gTnVtYmVyKCQoIiNqdW1sYWgxIikudmFsKCkpOw0KICAgIHZhciBqdW1sYWgyID0gTnVtYmVyKCQoIiNqdW1sYWgyIikudmFsKCkpOw0KICAgIHZhciBqdW1sYWgzID0gTnVtYmVyKCQoIiNqdW1sYWgzIikudmFsKCkpOw0KICAgIGlmICgkKCIjanVtbGFoMiIpLnZhbCgpID09ICIiKSB7DQogICAgICB2YXIganVtbGFoVG90YWwgPSBOdW1iZXIoanVtbGFoMSk7DQogICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMyIpLnZhbCgpID09ICIiKSB7DQogICAgICB2YXIganVtbGFoVG90YWwgPSBOdW1iZXIoanVtbGFoMSAqIGp1bWxhaDIpOw0KICAgIH0gZWxzZSB7DQogICAgICB2YXIganVtbGFoVG90YWwgPSBOdW1iZXIoanVtbGFoMSAqIGp1bWxhaDIgKiBqdW1sYWgzKTsNCiAgICB9DQogICAgdmFyIGlkU2F0dWFuID0gInNhdHVhbiIgKyBvYmouaWQucmVwbGFjZSgianVtbGFoIiwgIiIpOw0KICAgIGlmICgkKCIjIiArIG9iai5pZCkudmFsKCkgIT0gIiIpIHsNCiAgICAgICQoIiMiICsgaWRTYXR1YW4pLnJlbW92ZUF0dHIoInJlYWRvbmx5Iik7DQogICAgfSBlbHNlIHsNCiAgICAgICQoIiMiICsgaWRTYXR1YW4pLmF0dHIoInJlYWRvbmx5IiwgdHJ1ZSk7DQogICAgICAkKCIjIiArIGlkU2F0dWFuKS52YWwoIiIpOw0KICAgIH0NCg0KICAgICQoIiNqdW1sYWg0IikudmFsKGp1bWxhaFRvdGFsKTsNCiAgfSwNCiAgU2F2ZVJpbmNpYW5Wb2x1bWU6IGZ1bmN0aW9uKCkgew0KICAgIHZhciBlcnIgPSAiIjsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIHRoaXMuT25FcnJvckNsb3NlID0gZmFsc2U7DQogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOw0KICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3Jtc2ltcGFuIjsNCiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAxLCB0cnVlLCBmYWxzZSk7DQogICAgZGVsRWxlbShjb3Zlcik7DQoNCiAgICBpZiAoJCgiI2p1bWxhaDEiKS52YWwoKSAhPSAiIiAmJiAkKCIjc2F0dWFuMSIpLnZhbCgpID09ICIiKSB7DQogICAgICBlcnIgPSAiSXNpIFNhdHVhbiBLZXNhdHUgISI7DQogICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMiIpLnZhbCgpICE9ICIiICYmICQoIiNzYXR1YW4yIikudmFsKCkgPT0gIiIpIHsNCiAgICAgIGVyciA9ICJJc2kgU2F0dWFuIEtlZHVhICEiOw0KICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDMiKS52YWwoKSAhPSAiIiAmJiAkKCIjc2F0dWFuMyIpLnZhbCgpID09ICIiKSB7DQogICAgICBlcnIgPSAiSXNpIFNhdHVhbiBLZWR1YSAhIjsNCiAgICB9IGVsc2UgaWYgKCQoIiNqdW1sYWgzIikudmFsKCkgIT0gIiIgJiYgJCgiI2p1bWxhaDIiKS52YWwoKSA9PSAiIikgew0KICAgICAgZXJyID0gIklzaSBWb2x1bWUgS2VkdWEgISI7DQogICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMyIpLnZhbCgpICE9ICIiICYmICQoIiNqdW1sYWgxIikudmFsKCkgPT0gIiIpIHsNCiAgICAgIGVyciA9ICJJc2kgVm9sdW1lIEtlc2F0dSAhIjsNCiAgICB9DQoNCiAgICBpZiAoZXJyID09ICIiKSB7DQogICAgICAkKCIjdm9sdW1lMVRlbXAiKS52YWwoJCgiI2p1bWxhaDEiKS52YWwoKSk7DQogICAgICAkKCIjdm9sdW1lMlRlbXAiKS52YWwoJCgiI2p1bWxhaDIiKS52YWwoKSk7DQogICAgICAkKCIjdm9sdW1lM1RlbXAiKS52YWwoJCgiI2p1bWxhaDMiKS52YWwoKSk7DQogICAgICAkKCIjc2F0dWFuMVRlbXAiKS52YWwoJCgiI3NhdHVhbjEiKS52YWwoKSk7DQogICAgICAkKCIjc2F0dWFuMlRlbXAiKS52YWwoJCgiI3NhdHVhbjIiKS52YWwoKSk7DQogICAgICAkKCIjc2F0dWFuM1RlbXAiKS52YWwoJCgiI3NhdHVhbjMiKS52YWwoKSk7DQogICAgICAkKCIjdm9sdW1lQmFyYW5nIikudmFsKCQoIiNqdW1sYWg0IikudmFsKCkpOw0KICAgICAgJCgiI3JpbmNpYW5Wb2x1bWUiKS52YWwoJCgiI3JpbmNpYW5Wb2x1bWVUZW1wIikudmFsKCkpOw0KICAgICAgJCgiI3NwYW5SaW5jaWFuVm9sdW1lIikudGV4dCgkKCIjcmluY2lhblZvbHVtZVRlbXAiKS52YWwoKSk7DQogICAgICBtZS5iYW50dSgpOw0KICAgICAgdmFyIHNhdHVhbiA9ICIiOw0KICAgICAgaWYgKCQoIiNqdW1sYWgzIikudmFsKCkgIT0gIiIpIHsNCiAgICAgICAgc2F0dWFuID0NCiAgICAgICAgICAkKCIjc2F0dWFuMSIpLnZhbCgpICsNCiAgICAgICAgICAiIC8gIiArDQogICAgICAgICAgJCgiI3NhdHVhbjIiKS52YWwoKSArDQogICAgICAgICAgIiAvICIgKw0KICAgICAgICAgICQoIiNzYXR1YW4zIikudmFsKCk7DQogICAgICAgICQoIiNkZXRhaWxWb2x1bWVUZW1wIikudGV4dChzYXR1YW4pOw0KICAgICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMiIpLnZhbCgpICE9ICIiKSB7DQogICAgICAgIHNhdHVhbiA9ICQoIiNzYXR1YW4xIikudmFsKCkgKyAiIC8gIiArICQoIiNzYXR1YW4yIikudmFsKCk7DQogICAgICAgICQoIiNkZXRhaWxWb2x1bWVUZW1wIikudGV4dChzYXR1YW4pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgc2F0dWFuID0gJCgiI3NhdHVhbjEiKS52YWwoKTsNCiAgICAgICAgJCgiI2RldGFpbFZvbHVtZVRlbXAiKS50ZXh0KHNhdHVhbik7DQogICAgICB9DQoNCiAgICAgIG1lLkNsb3NlKCk7DQogICAgfSBlbHNlIHsNCiAgICAgIGFsZXJ0KGVycik7DQogICAgfQ0KICB9LA0KICBiYW50dTogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICAkKCIjYmFudHVTYXR1YW5IYXJnYSIpLnRleHQoDQogICAgICAiUnAuICIgKyBtZS5mb3JtYXRDdXJyZW5jeSgkKCIjaGFyZ2FTYXR1YW4iKS52YWwoKSkNCiAgICApOw0KICAgICQoIiNqdW1sYWhIYXJnYSIpLnZhbCgNCiAgICAgIG1lLmZvcm1hdEN1cnJlbmN5KCQoIiNoYXJnYVNhdHVhbiIpLnZhbCgpICogJCgiI3ZvbHVtZUJhcmFuZyIpLnZhbCgpKQ0KICAgICk7DQogICAgJCgiI2JhbnR1SnVtbGFoSGFyZ2EiKS50ZXh0KA0KICAgICAgIlJwLiAiICsgbWUuZm9ybWF0Q3VycmVuY3koJCgiI2p1bWxhaEhhcmdhIikudmFsKCkpDQogICAgKTsNCiAgICAkKCIjdGVyYWxva2FzaSIpLnZhbCgiIik7DQogIH0sDQogIENhcmlCYXJhbmc6IGZ1bmN0aW9uKCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgJCgiI3VyYWlhbkJlbGFuamEiKS52YWwoIiIpOw0KICAgICQoIiNrb2RlQmFyYW5nIikudmFsKCIiKTsNCiAgICAkKCIjamVuaXNBdHJpYnVzaSIpLnZhbCgiIik7DQogICAgJCgiI2NoZWNrYm94QXRyaWJ1c2kiKS5hdHRyKCJjaGVja2VkIiwgZmFsc2UpOw0KDQogICAgcG9wdXBCYXJhbmdCZWxhbmphTW9kYWwua29kZVJla2VuaW5nID0gJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoKTsNCiAgICBwb3B1cEJhcmFuZ0JlbGFuamFNb2RhbC53aW5kb3dTaG93KCk7DQogIH0sDQogIENhcmlCYXJhbmdQZXJzZWRpYWFuOiBmdW5jdGlvbigpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgICQoIiN1cmFpYW5CZWxhbmphIikudmFsKCIiKTsNCiAgICAkKCIja29kZUJhcmFuZyIpLnZhbCgiIik7DQogICAgJCgiI2plbmlzQXRyaWJ1c2kiKS52YWwoIiIpOw0KICAgICQoIiNjaGVja2JveEF0cmlidXNpIikuYXR0cigiY2hlY2tlZCIsIGZhbHNlKTsNCg0KICAgIHBvcHVwQmFyYW5nUGVyc2VkaWFhbi5rb2RlUmVrZW5pbmcgPSAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgpOw0KICAgIHBvcHVwQmFyYW5nUGVyc2VkaWFhbi53aW5kb3dTaG93KCk7DQogIH0sDQogIGF0cmlidXNpOiBmdW5jdGlvbigpIHsNCiAgICAkKCIja29kZUJhcmFuZyIpLnZhbCgiIik7DQogICAgJCgiI3VyYWlhbkJlbGFuamEiKS52YWwoIiIpOw0KICAgICQoIiNuYW1hQmFyYW5nIikudmFsKCIiKTsNCiAgICAkKCIjdXJhaWFuQmVsYW5qYSIpLmF0dHIoInJlYWRvbmx5IiwgZmFsc2UpOw0KICAgICQoIiNqZW5pc0F0cmlidXNpIikudmFsKCJ5YSIpOw0KICB9LA0KDQogIGNsZWFyQmFyYW5nOiBmdW5jdGlvbigpIHsNCiAgICAkKCIja29kZUJhcmFuZyIpLnZhbCgiIik7DQogICAgJCgiI25hbWFCYXJhbmciKS52YWwoIiIpOw0KICB9LA0KDQogIHNhdmVOZXdTdWJSaW5jaWFuQmVsYW5qYTogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICQuYWpheCh7DQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICBkYXRhOiB7DQogICAgICAgIHVyYWlhbkJlbGFuamE6ICQoIiN1cmFpYW5CZWxhbmphIikudmFsKCksDQogICAgICAgIGlkUmVrZW5pbmc6ICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCksDQogICAgICAgIHJpbmNpYW5Wb2x1bWU6ICQoIiNyaW5jaWFuVm9sdW1lIikudmFsKCksDQogICAgICAgIGhhcmdhU2F0dWFuOiAkKCIjaGFyZ2FTYXR1YW4iKS52YWwoKSwNCiAgICAgICAgdm9sdW1lQmFyYW5nOiAkKCIjdm9sdW1lQmFyYW5nIikudmFsKCksDQogICAgICAgIGtvZGVCYXJhbmc6ICQoIiNrb2RlQmFyYW5nIikudmFsKCksDQogICAgICAgIHZvbHVtZTE6ICQoIiN2b2x1bWUxVGVtcCIpLnZhbCgpLA0KICAgICAgICB2b2x1bWUyOiAkKCIjdm9sdW1lMlRlbXAiKS52YWwoKSwNCiAgICAgICAgdm9sdW1lMzogJCgiI3ZvbHVtZTNUZW1wIikudmFsKCksDQogICAgICAgIHNhdHVhbjE6ICQoIiNzYXR1YW4xVGVtcCIpLnZhbCgpLA0KICAgICAgICBzYXR1YW4yOiAkKCIjc2F0dWFuMlRlbXAiKS52YWwoKSwNCiAgICAgICAgc2F0dWFuMzogJCgiI3NhdHVhbjNUZW1wIikudmFsKCksDQogICAgICAgIGplbmlzQXRyaWJ1c2k6ICQoIiNqZW5pc0F0cmlidXNpIikudmFsKCkNCiAgICAgIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVOZXdTdWJSaW5jaWFuQmVsYW5qYSIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIGRlbEVsZW0oY292ZXIpOw0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFN1YlJpbmNpYW5CZWxhbmphIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgIHJlc3AuY29udGVudDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgZmluZFNTSDogZnVuY3Rpb24oaWQpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgICQuYWpheCh7DQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWdldERhdGFTU0giLA0KICAgICAgZGF0YTogew0KICAgICAgICBpZDogaWQsDQogICAgICAgIGtvZGVCYXJhbmc6ICQoIiNrb2RlQmFyYW5nIikudmFsKCksDQogICAgICAgIGlkUmVrZW5pbmc6ICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCkNCiAgICAgIH0sDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgcG9wdXBTU0gua29kZVJla2VuaW5nID0gcmVzcC5jb250ZW50LmtvZGVSZWtlbmluZzsNCiAgICAgICAgICBwb3B1cFNTSC5rb2RlQmFyYW5nID0gcmVzcC5jb250ZW50LmtvZGVCYXJhbmc7DQogICAgICAgICAgcG9wdXBTU0guZGFyaSA9IG1lOw0KICAgICAgICAgIHBvcHVwU1NILndpbmRvd1Nob3coKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgc2V0U2F0dWFuSGFyZ2E6IGZ1bmN0aW9uKCkgew0KICAgIHZhciBhcnJheUtvZGVCYXJhbmcgPSAkKCIja29kZUJhcmFuZyIpDQogICAgICAudmFsKCkNCiAgICAgIC5zcGxpdCgiLiIpOw0KDQogICAgdmFyIGYgPSBhcnJheUtvZGVCYXJhbmdbMl07DQogICAgdmFyIGcgPSBhcnJheUtvZGVCYXJhbmdbM107DQogICAgdmFyIGggPSBhcnJheUtvZGVCYXJhbmdbNF07DQogICAgdmFyIGkgPSBhcnJheUtvZGVCYXJhbmdbNV07DQogICAgdmFyIGogPSBhcnJheUtvZGVCYXJhbmdbNl07DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zZXRTYXR1YW5IYXJnYSIsDQogICAgICBkYXRhOiB7DQogICAgICAgIGY6IGYsDQogICAgICAgIGc6IGcsDQogICAgICAgIGg6IGgsDQogICAgICAgIGk6IGksDQogICAgICAgIGo6IGoNCiAgICAgIH0sDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIGRlbEVsZW0oY292ZXIpOw0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgICQoIiNoYXJnYVNhdHVhbiIpLnZhbChyZXNwLmNvbnRlbnQuaGFyZ2EpOw0KICAgICAgICAgICQoIiNiYW50dVNhdHVhbkhhcmdhIikudGV4dChyZXNwLmNvbnRlbnQuYmFudHUpOw0KICAgICAgICAgICQoIiNqdW1sYWhIYXJnYSIpLnZhbCgNCiAgICAgICAgICAgICQoIiNoYXJnYVNhdHVhbiIpLnZhbCgpICogJCgiI3ZvbHVtZUJhcmFuZyIpLnZhbCgpDQogICAgICAgICAgKTsNCiAgICAgICAgICAkKCIjYmFudHVKdW1sYWhIYXJnYSIpLnRleHQoDQogICAgICAgICAgICAiUnAuICIgKyBya2FTS1BEMURQSW5zLmZvcm1hdEN1cnJlbmN5KCQoIiNqdW1sYWhIYXJnYSIpLnZhbCgpKQ0KICAgICAgICAgICk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIGVkaXRTdWJSaW5jaWFuQmVsYW5qYTogZnVuY3Rpb24oaWQpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9jb3ZlckxvYWRpbmciOw0KICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7DQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIGRhdGE6IHsNCiAgICAgICAgaWRFZGl0OiBpZCwNCiAgICAgICAgaWRSZWtlbmluZzogJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoKSwNCiAgICAgIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWVkaXRTdWJSaW5jaWFuQmVsYW5qYSIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIGRlbEVsZW0oY292ZXIpOw0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFN1YlJpbmNpYW5CZWxhbmphIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgIHJlc3AuY29udGVudC50YWJlbFN1YlJpbmNpYW5CZWxhbmphOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KICBzYXZlRWRpdFN1YlJpbmNpYW5CZWxhbmphOiBmdW5jdGlvbihpZCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogew0KICAgICAgICB1cmFpYW5CZWxhbmphOiAkKCIjdXJhaWFuQmVsYW5qYSIpLnZhbCgpLA0KICAgICAgICBpZFJla2VuaW5nOiAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgpLA0KICAgICAgICByaW5jaWFuVm9sdW1lOiAkKCIjcmluY2lhblZvbHVtZSIpLnZhbCgpLA0KICAgICAgICBoYXJnYVNhdHVhbjogJCgiI2hhcmdhU2F0dWFuIikudmFsKCksDQogICAgICAgIHZvbHVtZUJhcmFuZzogJCgiI3ZvbHVtZUJhcmFuZyIpLnZhbCgpLA0KICAgICAgICBrb2RlQmFyYW5nOiAkKCIja29kZUJhcmFuZyIpLnZhbCgpLA0KICAgICAgICB2b2x1bWUxOiAkKCIjdm9sdW1lMVRlbXAiKS52YWwoKSwNCiAgICAgICAgdm9sdW1lMjogJCgiI3ZvbHVtZTJUZW1wIikudmFsKCksDQogICAgICAgIHZvbHVtZTM6ICQoIiN2b2x1bWUzVGVtcCIpLnZhbCgpLA0KICAgICAgICBzYXR1YW4xOiAkKCIjc2F0dWFuMVRlbXAiKS52YWwoKSwNCiAgICAgICAgc2F0dWFuMjogJCgiI3NhdHVhbjJUZW1wIikudmFsKCksDQogICAgICAgIHNhdHVhbjM6ICQoIiNzYXR1YW4zVGVtcCIpLnZhbCgpLA0KICAgICAgICBpZEVkaXQ6IGlkLA0KICAgICAgICBqZW5pc0F0cmlidXNpOiAkKCIjamVuaXNBdHJpYnVzaSIpLnZhbCgpDQogICAgICB9LA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlRWRpdFN1YlJpbmNpYW5CZWxhbmphIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsU3ViUmluY2lhbkJlbGFuamEiKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgcmVzcC5jb250ZW50Ow0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KICBkZWxldGVTdWJSaW5jaWFuQmVsYW5qYTogZnVuY3Rpb24oaWQpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIGlmIChjb25maXJtKCJZYWtpbiBoYXB1cyByaW5jaWFuIGJlbGFuamEgPyIpKSB7DQogICAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7DQogICAgICAkLmFqYXgoew0KICAgICAgICB0eXBlOiAiUE9TVCIsDQogICAgICAgIGRhdGE6IHsNCiAgICAgICAgICBpZDogaWQsDQogICAgICAgICAgaWRSZWtlbmluZzogJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoKQ0KICAgICAgICB9LA0KICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWRlbGV0ZVN1YlJpbmNpYW5CZWxhbmphIiwNCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICAgIGRlbEVsZW0oY292ZXIpOw0KICAgICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFN1YlJpbmNpYW5CZWxhbmphIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgICAgcmVzcC5jb250ZW50Ow0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9DQogIH0sDQogIGNhbmNlbFN1YlJpbmNpYW5CZWxhbmphOiBmdW5jdGlvbihpZCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIGRhdGE6IHsgaWQ6IGlkIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWNhbmNlbFN1YlJpbmNpYW5CZWxhbmphIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFiZWxTdWJSaW5jaWFuQmVsYW5qYSIpLmlubmVySFRNTCA9DQogICAgICAgICAgICByZXNwLmNvbnRlbnQ7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIGNhbmNlbFJpbmNpYW5CZWxhbmphOiBmdW5jdGlvbihpZCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIGRhdGE6IHsgaWQ6IGlkIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWNhbmNlbFJpbmNpYW5CZWxhbmphIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCg0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KICBzYXZlTmV3U2F0dWFuOiBmdW5jdGlvbihuYW1hS29sb20pIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgICQuYWpheCh7DQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICBkYXRhOiB7DQogICAgICAgIHNhdHVhbjogJCgiIyIrbmFtYUtvbG9tKS52YWwoKSAsDQogICAgICAgIGtvZGVTS1BEOiAkKCIja29kZVNLUEQiKS52YWwoKSwNCiAgICAgICB9LA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlTmV3U2F0dWFuIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICBhbGVydCgiU2F0dWFuIERpdGFtYmFoa2FuIik7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIGNhcmlTYXR1YW46IGZ1bmN0aW9uKG5hbWFLb2xvbSkgew0KICAgIHBvcHVwU2F0dWFuLm5hbWFLb2xvbSA9IG5hbWFLb2xvbTsNCiAgICBwb3B1cFNhdHVhbi5rb2RlU0tQRCA9ICIma29kZVNLUEQ9IiskKCIja29kZVNLUEQiKS52YWwoKTsNCiAgICBwb3B1cFNhdHVhbi53aW5kb3dTaG93KCk7DQogIH0NCn0pOw0K",
    "size": "27528"
}