{
    "namaFile": "lib\/PHPExcel\/Classes\/PHPExcel\/Writer\/Excel5\/Parser.php",
    "lastUpdate": "2017-12-25+01:39:38.00",
    "contentFile": "PD9waHAKCi8qKgogKiBQSFBFeGNlbF9Xcml0ZXJfRXhjZWw1X1BhcnNlcgogKgogKiBDb3B5cmlnaHQgKGMpIDIwMDYgLSAyMDE1IFBIUEV4Y2VsCiAqCiAqIFRoaXMgbGlicmFyeSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IKICogbW9kaWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYwogKiBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uOyBlaXRoZXIKICogdmVyc2lvbiAyLjEgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCiAqCiAqIFRoaXMgbGlicmFyeSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAogKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVQogKiBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgogKgogKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljCiAqIExpY2Vuc2UgYWxvbmcgd2l0aCB0aGlzIGxpYnJhcnk7IGlmIG5vdCwgd3JpdGUgdG8gdGhlIEZyZWUgU29mdHdhcmUKICogRm91bmRhdGlvbiwgSW5jLiwgNTEgRnJhbmtsaW4gU3RyZWV0LCBGaWZ0aCBGbG9vciwgQm9zdG9uLCBNQSAgMDIxMTAtMTMwMSAgVVNBCiAqCiAqIEBjYXRlZ29yeSAgIFBIUEV4Y2VsCiAqIEBwYWNrYWdlICAgIFBIUEV4Y2VsX1dyaXRlcl9FeGNlbDUKICogQGNvcHlyaWdodCAgQ29weXJpZ2h0IChjKSAyMDA2IC0gMjAxNSBQSFBFeGNlbCAoaHR0cDovL3d3dy5jb2RlcGxleC5jb20vUEhQRXhjZWwpCiAqIEBsaWNlbnNlICAgIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9vbGQtbGljZW5zZXMvbGdwbC0yLjEudHh0ICAgIExHUEwKICogQHZlcnNpb24gICAgIyNWRVJTSU9OIyMsICMjREFURSMjCiAqLwoKLy8gT3JpZ2luYWwgZmlsZSBoZWFkZXIgb2YgUEVBUjo6U3ByZWFkc2hlZXRfRXhjZWxfV3JpdGVyX1BhcnNlciAodXNlZCBhcyB0aGUgYmFzZSBmb3IgdGhpcyBjbGFzcyk6Ci8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vICogIENsYXNzIGZvciBwYXJzaW5nIEV4Y2VsIGZvcm11bGFzCi8vICoKLy8gKiAgTGljZW5zZSBJbmZvcm1hdGlvbjoKLy8gKgovLyAqICAgIFNwcmVhZHNoZWV0X0V4Y2VsX1dyaXRlcjogIEEgbGlicmFyeSBmb3IgZ2VuZXJhdGluZyBFeGNlbCBTcHJlYWRzaGVldHMKLy8gKiAgICBDb3B5cmlnaHQgKGMpIDIwMDItMjAwMyBYYXZpZXIgTm9ndWVyIHhub2d1ZXJAcmV6ZWJyYS5jb20KLy8gKgovLyAqICAgIFRoaXMgbGlicmFyeSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IKLy8gKiAgICBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljCi8vICogICAgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbjsgZWl0aGVyCi8vICogICAgdmVyc2lvbiAyLjEgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCi8vICoKLy8gKiAgICBUaGlzIGxpYnJhcnkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKLy8gKiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgovLyAqICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUgR05VCi8vICogICAgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KLy8gKgovLyAqICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMKLy8gKiAgICBMaWNlbnNlIGFsb25nIHdpdGggdGhpcyBsaWJyYXJ5OyBpZiBub3QsIHdyaXRlIHRvIHRoZSBGcmVlIFNvZnR3YXJlCi8vICogICAgRm91bmRhdGlvbiwgSW5jLiwgNTkgVGVtcGxlIFBsYWNlLCBTdWl0ZSAzMzAsIEJvc3RvbiwgTUEgIDAyMTExLTEzMDcgIFVTQQovLyAqLwpjbGFzcyBQSFBFeGNlbF9Xcml0ZXJfRXhjZWw1X1BhcnNlcgp7CiAgICAvKiogICAgQ29uc3RhbnRzICAgICAgICAgICAgICAgICovCiAgICAvLyBTaGVldCB0aXRsZSBpbiB1bnF1b3RlZCBmb3JtCiAgICAvLyBJbnZhbGlkIHNoZWV0IHRpdGxlIGNoYXJhY3RlcnMgY2Fubm90IG9jY3VyIGluIHRoZSBzaGVldCB0aXRsZToKICAgIC8vICAgICAgICAgKjovXD9bXQogICAgLy8gTW9yZW92ZXIsIHRoZXJlIGFyZSB2YWxpZCBzaGVldCB0aXRsZSBjaGFyYWN0ZXJzIHRoYXQgY2Fubm90IG9jY3VyIGluIHVucXVvdGVkIGZvcm0gKHRoZXJlIG1heSBiZSBtb3JlPykKICAgIC8vICstJSAnXiY8Pj0sOyMoKSJ7fQogICAgY29uc3QgUkVHRVhfU0hFRVRfVElUTEVfVU5RVU9URUQgPSAnW15cKlw6XC9cXFxcXD9cW1xdXCtcLVwlIFxcXCdcXlwmXDxcPlw9XCxcO1wjXChcKVwiXHtcfV0rJzsKCiAgICAvLyBTaGVldCB0aXRsZSBpbiBxdW90ZWQgZm9ybSAod2l0aG91dCBzdXJyb3VuZGluZyBxdW90ZXMpCiAgICAvLyBJbnZhbGlkIHNoZWV0IHRpdGxlIGNoYXJhY3RlcnMgY2Fubm90IG9jY3VyIGluIHRoZSBzaGVldCB0aXRsZToKICAgIC8vICo6L1w\/W10gICAgICAgICAgICAgICAgICAgICh1c3VhbCBpbnZhbGlkIHNoZWV0IHRpdGxlIGNoYXJhY3RlcnMpCiAgICAvLyBTaW5nbGUgcXVvdGUgaXMgcmVwcmVzZW50ZWQgYXMgYSBwYWlyICcnCiAgICBjb25zdCBSRUdFWF9TSEVFVF9USVRMRV9RVU9URUQgPSAnKChbXlwqXDpcL1xcXFxcP1xbXF1cXFwnXSkrfChcXFwnXFxcJykrKSsnOwoKICAgIC8qKgogICAgICogVGhlIGluZGV4IG9mIHRoZSBjaGFyYWN0ZXIgd2UgYXJlIGN1cnJlbnRseSBsb29raW5nIGF0CiAgICAgKiBAdmFyIGludGVnZXIKICAgICAqLwogICAgcHVibGljICRjdXJyZW50Q2hhcmFjdGVyOwoKICAgIC8qKgogICAgICogVGhlIHRva2VuIHdlIGFyZSB3b3JraW5nIG9uLgogICAgICogQHZhciBzdHJpbmcKICAgICAqLwogICAgcHVibGljICRjdXJyZW50VG9rZW47CgogICAgLyoqCiAgICAgKiBUaGUgZm9ybXVsYSB0byBwYXJzZQogICAgICogQHZhciBzdHJpbmcKICAgICAqLwogICAgcHJpdmF0ZSAkZm9ybXVsYTsKCiAgICAvKioKICAgICAqIFRoZSBjaGFyYWN0ZXIgYWhlYWQgb2YgdGhlIGN1cnJlbnQgY2hhcgogICAgICogQHZhciBzdHJpbmcKICAgICAqLwogICAgcHVibGljICRsb29rQWhlYWQ7CgogICAgLyoqCiAgICAgKiBUaGUgcGFyc2UgdHJlZSB0byBiZSBnZW5lcmF0ZWQKICAgICAqIEB2YXIgc3RyaW5nCiAgICAgKi8KICAgIHByaXZhdGUgJHBhcnNlVHJlZTsKCiAgICAvKioKICAgICAqIEFycmF5IG9mIGV4dGVybmFsIHNoZWV0cwogICAgICogQHZhciBhcnJheQogICAgICovCiAgICBwcml2YXRlICRleHRlcm5hbFNoZWV0czsKCiAgICAvKioKICAgICAqIEFycmF5IG9mIHNoZWV0IHJlZmVyZW5jZXMgaW4gdGhlIGZvcm0gb2YgUkVGIHN0cnVjdHVyZXMKICAgICAqIEB2YXIgYXJyYXkKICAgICAqLwogICAgcHVibGljICRyZWZlcmVuY2VzOwoKICAgIC8qKgogICAgICogVGhlIGNsYXNzIGNvbnN0cnVjdG9yCiAgICAgKgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQogICAgewogICAgICAgICR0aGlzLT5jdXJyZW50Q2hhcmFjdGVyICA9IDA7CiAgICAgICAgJHRoaXMtPmN1cnJlbnRUb2tlbiA9ICcnOyAgICAgICAvLyBUaGUgdG9rZW4gd2UgYXJlIHdvcmtpbmcgb24uCiAgICAgICAgJHRoaXMtPmZvcm11bGEgICAgICAgPSAnJzsgICAgICAgLy8gVGhlIGZvcm11bGEgdG8gcGFyc2UuCiAgICAgICAgJHRoaXMtPmxvb2tBaGVhZCAgICAgPSAnJzsgICAgICAgLy8gVGhlIGNoYXJhY3RlciBhaGVhZCBvZiB0aGUgY3VycmVudCBjaGFyLgogICAgICAgICR0aGlzLT5wYXJzZVRyZWUgICAgPSAnJzsgICAgICAgLy8gVGhlIHBhcnNlIHRyZWUgdG8gYmUgZ2VuZXJhdGVkLgogICAgICAgICR0aGlzLT5pbml0aWFsaXplSGFzaGVzKCk7ICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgaGFzaGVzOiBwdGcncyBhbmQgZnVuY3Rpb24ncyBwdGcncwogICAgICAgICR0aGlzLT5leHRlcm5hbFNoZWV0cyA9IGFycmF5KCk7CiAgICAgICAgJHRoaXMtPnJlZmVyZW5jZXMgPSBhcnJheSgpOwogICAgfQoKICAgIC8qKgogICAgICogSW5pdGlhbGl6ZSB0aGUgcHRnIGFuZCBmdW5jdGlvbiBoYXNoZXMuCiAgICAgKgogICAgICogQGFjY2VzcyBwcml2YXRlCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gaW5pdGlhbGl6ZUhhc2hlcygpCiAgICB7CiAgICAgICAgLy8gVGhlIEV4Y2VsIHB0ZyBpbmRpY2VzCiAgICAgICAgJHRoaXMtPnB0ZyA9IGFycmF5KAogICAgICAgICAgICAncHRnRXhwJyAgICAgICA9PiAweDAxLAogICAgICAgICAgICAncHRnVGJsJyAgICAgICA9PiAweDAyLAogICAgICAgICAgICAncHRnQWRkJyAgICAgICA9PiAweDAzLAogICAgICAgICAgICAncHRnU3ViJyAgICAgICA9PiAweDA0LAogICAgICAgICAgICAncHRnTXVsJyAgICAgICA9PiAweDA1LAogICAgICAgICAgICAncHRnRGl2JyAgICAgICA9PiAweDA2LAogICAgICAgICAgICAncHRnUG93ZXInICAgICA9PiAweDA3LAogICAgICAgICAgICAncHRnQ29uY2F0JyAgICA9PiAweDA4LAogICAgICAgICAgICAncHRnTFQnICAgICAgICA9PiAweDA5LAogICAgICAgICAgICAncHRnTEUnICAgICAgICA9PiAweDBBLAogICAgICAgICAgICAncHRnRVEnICAgICAgICA9PiAweDBCLAogICAgICAgICAgICAncHRnR0UnICAgICAgICA9PiAweDBDLAogICAgICAgICAgICAncHRnR1QnICAgICAgICA9PiAweDBELAogICAgICAgICAgICAncHRnTkUnICAgICAgICA9PiAweDBFLAogICAgICAgICAgICAncHRnSXNlY3QnICAgICA9PiAweDBGLAogICAgICAgICAgICAncHRnVW5pb24nICAgICA9PiAweDEwLAogICAgICAgICAgICAncHRnUmFuZ2UnICAgICA9PiAweDExLAogICAgICAgICAgICAncHRnVXBsdXMnICAgICA9PiAweDEyLAogICAgICAgICAgICAncHRnVW1pbnVzJyAgICA9PiAweDEzLAogICAgICAgICAgICAncHRnUGVyY2VudCcgICA9PiAweDE0LAogICAgICAgICAgICAncHRnUGFyZW4nICAgICA9PiAweDE1LAogICAgICAgICAgICAncHRnTWlzc0FyZycgICA9PiAweDE2LAogICAgICAgICAgICAncHRnU3RyJyAgICAgICA9PiAweDE3LAogICAgICAgICAgICAncHRnQXR0cicgICAgICA9PiAweDE5LAogICAgICAgICAgICAncHRnU2hlZXQnICAgICA9PiAweDFBLAogICAgICAgICAgICAncHRnRW5kU2hlZXQnICA9PiAweDFCLAogICAgICAgICAgICAncHRnRXJyJyAgICAgICA9PiAweDFDLAogICAgICAgICAgICAncHRnQm9vbCcgICAgICA9PiAweDFELAogICAgICAgICAgICAncHRnSW50JyAgICAgICA9PiAweDFFLAogICAgICAgICAgICAncHRnTnVtJyAgICAgICA9PiAweDFGLAogICAgICAgICAgICAncHRnQXJyYXknICAgICA9PiAweDIwLAogICAgICAgICAgICAncHRnRnVuYycgICAgICA9PiAweDIxLAogICAgICAgICAgICAncHRnRnVuY1ZhcicgICA9PiAweDIyLAogICAgICAgICAgICAncHRnTmFtZScgICAgICA9PiAweDIzLAogICAgICAgICAgICAncHRnUmVmJyAgICAgICA9PiAweDI0LAogICAgICAgICAgICAncHRnQXJlYScgICAgICA9PiAweDI1LAogICAgICAgICAgICAncHRnTWVtQXJlYScgICA9PiAweDI2LAogICAgICAgICAgICAncHRnTWVtRXJyJyAgICA9PiAweDI3LAogICAgICAgICAgICAncHRnTWVtTm9NZW0nICA9PiAweDI4LAogICAgICAgICAgICAncHRnTWVtRnVuYycgICA9PiAweDI5LAogICAgICAgICAgICAncHRnUmVmRXJyJyAgICA9PiAweDJBLAogICAgICAgICAgICAncHRnQXJlYUVycicgICA9PiAweDJCLAogICAgICAgICAgICAncHRnUmVmTicgICAgICA9PiAweDJDLAogICAgICAgICAgICAncHRnQXJlYU4nICAgICA9PiAweDJELAogICAgICAgICAgICAncHRnTWVtQXJlYU4nICA9PiAweDJFLAogICAgICAgICAgICAncHRnTWVtTm9NZW1OJyA9PiAweDJGLAogICAgICAgICAgICAncHRnTmFtZVgnICAgICA9PiAweDM5LAogICAgICAgICAgICAncHRnUmVmM2QnICAgICA9PiAweDNBLAogICAgICAgICAgICAncHRnQXJlYTNkJyAgICA9PiAweDNCLAogICAgICAgICAgICAncHRnUmVmRXJyM2QnICA9PiAweDNDLAogICAgICAgICAgICAncHRnQXJlYUVycjNkJyA9PiAweDNELAogICAgICAgICAgICAncHRnQXJyYXlWJyAgICA9PiAweDQwLAogICAgICAgICAgICAncHRnRnVuY1YnICAgICA9PiAweDQxLAogICAgICAgICAgICAncHRnRnVuY1ZhclYnICA9PiAweDQyLAogICAgICAgICAgICAncHRnTmFtZVYnICAgICA9PiAweDQzLAogICAgICAgICAgICAncHRnUmVmVicgICAgICA9PiAweDQ0LAogICAgICAgICAgICAncHRnQXJlYVYnICAgICA9PiAweDQ1LAogICAgICAgICAgICAncHRnTWVtQXJlYVYnICA9PiAweDQ2LAogICAgICAgICAgICAncHRnTWVtRXJyVicgICA9PiAweDQ3LAogICAgICAgICAgICAncHRnTWVtTm9NZW1WJyA9PiAweDQ4LAogICAgICAgICAgICAncHRnTWVtRnVuY1YnICA9PiAweDQ5LAogICAgICAgICAgICAncHRnUmVmRXJyVicgICA9PiAweDRBLAogICAgICAgICAgICAncHRnQXJlYUVyclYnICA9PiAweDRCLAogICAgICAgICAgICAncHRnUmVmTlYnICAgICA9PiAweDRDLAogICAgICAgICAgICAncHRnQXJlYU5WJyAgICA9PiAweDRELAogICAgICAgICAgICAncHRnTWVtQXJlYU5WJyA9PiAweDRFLAogICAgICAgICAgICAncHRnTWVtTm9NZW1OJyA9PiAweDRGLAogICAgICAgICAgICAncHRnRnVuY0NFVicgICA9PiAweDU4LAogICAgICAgICAgICAncHRnTmFtZVhWJyAgICA9PiAweDU5LAogICAgICAgICAgICAncHRnUmVmM2RWJyAgICA9PiAweDVBLAogICAgICAgICAgICAncHRnQXJlYTNkVicgICA9PiAweDVCLAogICAgICAgICAgICAncHRnUmVmRXJyM2RWJyA9PiAweDVDLAogICAgICAgICAgICAncHRnQXJlYUVycjNkJyA9PiAweDVELAogICAgICAgICAgICAncHRnQXJyYXlBJyAgICA9PiAweDYwLAogICAgICAgICAgICAncHRnRnVuY0EnICAgICA9PiAweDYxLAogICAgICAgICAgICAncHRnRnVuY1ZhckEnICA9PiAweDYyLAogICAgICAgICAgICAncHRnTmFtZUEnICAgICA9PiAweDYzLAogICAgICAgICAgICAncHRnUmVmQScgICAgICA9PiAweDY0LAogICAgICAgICAgICAncHRnQXJlYUEnICAgICA9PiAweDY1LAogICAgICAgICAgICAncHRnTWVtQXJlYUEnICA9PiAweDY2LAogICAgICAgICAgICAncHRnTWVtRXJyQScgICA9PiAweDY3LAogICAgICAgICAgICAncHRnTWVtTm9NZW1BJyA9PiAweDY4LAogICAgICAgICAgICAncHRnTWVtRnVuY0EnICA9PiAweDY5LAogICAgICAgICAgICAncHRnUmVmRXJyQScgICA9PiAweDZBLAogICAgICAgICAgICAncHRnQXJlYUVyckEnICA9PiAweDZCLAogICAgICAgICAgICAncHRnUmVmTkEnICAgICA9PiAweDZDLAogICAgICAgICAgICAncHRnQXJlYU5BJyAgICA9PiAweDZELAogICAgICAgICAgICAncHRnTWVtQXJlYU5BJyA9PiAweDZFLAogICAgICAgICAgICAncHRnTWVtTm9NZW1OJyA9PiAweDZGLAogICAgICAgICAgICAncHRnRnVuY0NFQScgICA9PiAweDc4LAogICAgICAgICAgICAncHRnTmFtZVhBJyAgICA9PiAweDc5LAogICAgICAgICAgICAncHRnUmVmM2RBJyAgICA9PiAweDdBLAogICAgICAgICAgICAncHRnQXJlYTNkQScgICA9PiAweDdCLAogICAgICAgICAgICAncHRnUmVmRXJyM2RBJyA9PiAweDdDLAogICAgICAgICAgICAncHRnQXJlYUVycjNkJyA9PiAweDdECiAgICAgICAgKTsKCiAgICAgICAgLy8gVGhhbmtzIHRvIE1pY2hhZWwgTWVla3MgYW5kIEdudW1lcmljIGZvciB0aGUgaW5pdGlhbCBhcmcgdmFsdWVzLgogICAgICAgIC8vCiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBoYXNoIHdhcyBnZW5lcmF0ZWQgYnkgImZ1bmN0aW9uX2xvY2FsZS5wbCIgaW4gdGhlIGRpc3Ryby4KICAgICAgICAvLyBSZWZlciB0byBmdW5jdGlvbl9sb2NhbGUucGwgZm9yIG5vbi1FbmdsaXNoIGZ1bmN0aW9uIG5hbWVzLgogICAgICAgIC8vCiAgICAgICAgLy8gVGhlIGFycmF5IGVsZW1lbnRzIGFyZSBhcyBmb2xsb3c6CiAgICAgICAgLy8gcHRnOiAgIFRoZSBFeGNlbCBmdW5jdGlvbiBwdGcgY29kZS4KICAgICAgICAvLyBhcmdzOiAgVGhlIG51bWJlciBvZiBhcmd1bWVudHMgdGhhdCB0aGUgZnVuY3Rpb24gdGFrZXM6CiAgICAgICAgLy8gICAgICAgICAgID49MCBpcyBhIGZpeGVkIG51bWJlciBvZiBhcmd1bWVudHMuCiAgICAgICAgLy8gICAgICAgICAgIC0xICBpcyBhIHZhcmlhYmxlICBudW1iZXIgb2YgYXJndW1lbnRzLgogICAgICAgIC8vIGNsYXNzOiBUaGUgcmVmZXJlbmNlLCB2YWx1ZSBvciBhcnJheSBjbGFzcyBvZiB0aGUgZnVuY3Rpb24gYXJncy4KICAgICAgICAvLyB2b2w6ICAgVGhlIGZ1bmN0aW9uIGlzIHZvbGF0aWxlLgogICAgICAgIC8vCiAgICAgICAgJHRoaXMtPmZ1bmN0aW9ucyA9IGFycmF5KAogICAgICAgICAgICAvLyBmdW5jdGlvbiAgICAgICAgICAgICAgICAgIHB0ZyAgYXJncyAgY2xhc3MgIHZvbAogICAgICAgICAgICAnQ09VTlQnICAgICAgICAgICA9PiBhcnJheSggICAwLCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdJRicgICAgICAgICAgICAgID0+IGFycmF5KCAgIDEsICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0lTTkEnICAgICAgICAgICAgPT4gYXJyYXkoICAgMiwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnSVNFUlJPUicgICAgICAgICA9PiBhcnJheSggICAzLCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdTVU0nICAgICAgICAgICAgID0+IGFycmF5KCAgIDQsICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ0FWRVJBR0UnICAgICAgICAgPT4gYXJyYXkoICAgNSwgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnTUlOJyAgICAgICAgICAgICA9PiBhcnJheSggICA2LCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdNQVgnICAgICAgICAgICAgID0+IGFycmF5KCAgIDcsICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ1JPVycgICAgICAgICAgICAgPT4gYXJyYXkoICAgOCwgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnQ09MVU1OJyAgICAgICAgICA9PiBhcnJheSggICA5LCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdOQScgICAgICAgICAgICAgID0+IGFycmF5KCAgMTAsICAgIDAsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ05QVicgICAgICAgICAgICAgPT4gYXJyYXkoICAxMSwgICAtMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnU1RERVYnICAgICAgICAgICA9PiBhcnJheSggIDEyLCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdET0xMQVInICAgICAgICAgID0+IGFycmF5KCAgMTMsICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0ZJWEVEJyAgICAgICAgICAgPT4gYXJyYXkoICAxNCwgICAtMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnU0lOJyAgICAgICAgICAgICA9PiBhcnJheSggIDE1LCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdDT1MnICAgICAgICAgICAgID0+IGFycmF5KCAgMTYsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1RBTicgICAgICAgICAgICAgPT4gYXJyYXkoICAxNywgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnQVRBTicgICAgICAgICAgICA9PiBhcnJheSggIDE4LCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdQSScgICAgICAgICAgICAgID0+IGFycmF5KCAgMTksICAgIDAsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1NRUlQnICAgICAgICAgICAgPT4gYXJyYXkoICAyMCwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnRVhQJyAgICAgICAgICAgICA9PiBhcnJheSggIDIxLCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdMTicgICAgICAgICAgICAgID0+IGFycmF5KCAgMjIsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0xPRzEwJyAgICAgICAgICAgPT4gYXJyYXkoICAyMywgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnQUJTJyAgICAgICAgICAgICA9PiBhcnJheSggIDI0LCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdJTlQnICAgICAgICAgICAgID0+IGFycmF5KCAgMjUsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1NJR04nICAgICAgICAgICAgPT4gYXJyYXkoICAyNiwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnUk9VTkQnICAgICAgICAgICA9PiBhcnJheSggIDI3LCAgICAyLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdMT09LVVAnICAgICAgICAgID0+IGFycmF5KCAgMjgsICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ0lOREVYJyAgICAgICAgICAgPT4gYXJyYXkoICAyOSwgICAtMSwgICAgMCwgICAgMSApLAogICAgICAgICAgICAnUkVQVCcgICAgICAgICAgICA9PiBhcnJheSggIDMwLCAgICAyLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdNSUQnICAgICAgICAgICAgID0+IGFycmF5KCAgMzEsICAgIDMsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0xFTicgICAgICAgICAgICAgPT4gYXJyYXkoICAzMiwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnVkFMVUUnICAgICAgICAgICA9PiBhcnJheSggIDMzLCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdUUlVFJyAgICAgICAgICAgID0+IGFycmF5KCAgMzQsICAgIDAsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0ZBTFNFJyAgICAgICAgICAgPT4gYXJyYXkoICAzNSwgICAgMCwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnQU5EJyAgICAgICAgICAgICA9PiBhcnJheSggIDM2LCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdPUicgICAgICAgICAgICAgID0+IGFycmF5KCAgMzcsICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ05PVCcgICAgICAgICAgICAgPT4gYXJyYXkoICAzOCwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnTU9EJyAgICAgICAgICAgICA9PiBhcnJheSggIDM5LCAgICAyLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdEQ09VTlQnICAgICAgICAgID0+IGFycmF5KCAgNDAsICAgIDMsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ0RTVU0nICAgICAgICAgICAgPT4gYXJyYXkoICA0MSwgICAgMywgICAgMCwgICAgMCApLAogICAgICAgICAgICAnREFWRVJBR0UnICAgICAgICA9PiBhcnJheSggIDQyLCAgICAzLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdETUlOJyAgICAgICAgICAgID0+IGFycmF5KCAgNDMsICAgIDMsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ0RNQVgnICAgICAgICAgICAgPT4gYXJyYXkoICA0NCwgICAgMywgICAgMCwgICAgMCApLAogICAgICAgICAgICAnRFNUREVWJyAgICAgICAgICA9PiBhcnJheSggIDQ1LCAgICAzLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdWQVInICAgICAgICAgICAgID0+IGFycmF5KCAgNDYsICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ0RWQVInICAgICAgICAgICAgPT4gYXJyYXkoICA0NywgICAgMywgICAgMCwgICAgMCApLAogICAgICAgICAgICAnVEVYVCcgICAgICAgICAgICA9PiBhcnJheSggIDQ4LCAgICAyLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdMSU5FU1QnICAgICAgICAgID0+IGFycmF5KCAgNDksICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ1RSRU5EJyAgICAgICAgICAgPT4gYXJyYXkoICA1MCwgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnTE9HRVNUJyAgICAgICAgICA9PiBhcnJheSggIDUxLCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdHUk9XVEgnICAgICAgICAgID0+IGFycmF5KCAgNTIsICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ1BWJyAgICAgICAgICAgICAgPT4gYXJyYXkoICA1NiwgICAtMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnRlYnICAgICAgICAgICAgICA9PiBhcnJheSggIDU3LCAgIC0xLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdOUEVSJyAgICAgICAgICAgID0+IGFycmF5KCAgNTgsICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1BNVCcgICAgICAgICAgICAgPT4gYXJyYXkoICA1OSwgICAtMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnUkFURScgICAgICAgICAgICA9PiBhcnJheSggIDYwLCAgIC0xLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdNSVJSJyAgICAgICAgICAgID0+IGFycmF5KCAgNjEsICAgIDMsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ0lSUicgICAgICAgICAgICAgPT4gYXJyYXkoICA2MiwgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnUkFORCcgICAgICAgICAgICA9PiBhcnJheSggIDYzLCAgICAwLCAgICAxLCAgICAxICksCiAgICAgICAgICAgICdNQVRDSCcgICAgICAgICAgID0+IGFycmF5KCAgNjQsICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ0RBVEUnICAgICAgICAgICAgPT4gYXJyYXkoICA2NSwgICAgMywgICAgMSwgICAgMCApLAogICAgICAgICAgICAnVElNRScgICAgICAgICAgICA9PiBhcnJheSggIDY2LCAgICAzLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdEQVknICAgICAgICAgICAgID0+IGFycmF5KCAgNjcsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ01PTlRIJyAgICAgICAgICAgPT4gYXJyYXkoICA2OCwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnWUVBUicgICAgICAgICAgICA9PiBhcnJheSggIDY5LCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdXRUVLREFZJyAgICAgICAgID0+IGFycmF5KCAgNzAsICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0hPVVInICAgICAgICAgICAgPT4gYXJyYXkoICA3MSwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnTUlOVVRFJyAgICAgICAgICA9PiBhcnJheSggIDcyLCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdTRUNPTkQnICAgICAgICAgID0+IGFycmF5KCAgNzMsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ05PVycgICAgICAgICAgICAgPT4gYXJyYXkoICA3NCwgICAgMCwgICAgMSwgICAgMSApLAogICAgICAgICAgICAnQVJFQVMnICAgICAgICAgICA9PiBhcnJheSggIDc1LCAgICAxLCAgICAwLCAgICAxICksCiAgICAgICAgICAgICdST1dTJyAgICAgICAgICAgID0+IGFycmF5KCAgNzYsICAgIDEsICAgIDAsICAgIDEgKSwKICAgICAgICAgICAgJ0NPTFVNTlMnICAgICAgICAgPT4gYXJyYXkoICA3NywgICAgMSwgICAgMCwgICAgMSApLAogICAgICAgICAgICAnT0ZGU0VUJyAgICAgICAgICA9PiBhcnJheSggIDc4LCAgIC0xLCAgICAwLCAgICAxICksCiAgICAgICAgICAgICdTRUFSQ0gnICAgICAgICAgID0+IGFycmF5KCAgODIsICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1RSQU5TUE9TRScgICAgICAgPT4gYXJyYXkoICA4MywgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnVFlQRScgICAgICAgICAgICA9PiBhcnJheSggIDg2LCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdBVEFOMicgICAgICAgICAgID0+IGFycmF5KCAgOTcsICAgIDIsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0FTSU4nICAgICAgICAgICAgPT4gYXJyYXkoICA5OCwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnQUNPUycgICAgICAgICAgICA9PiBhcnJheSggIDk5LCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdDSE9PU0UnICAgICAgICAgID0+IGFycmF5KCAxMDAsICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0hMT09LVVAnICAgICAgICAgPT4gYXJyYXkoIDEwMSwgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnVkxPT0tVUCcgICAgICAgICA9PiBhcnJheSggMTAyLCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdJU1JFRicgICAgICAgICAgID0+IGFycmF5KCAxMDUsICAgIDEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ0xPRycgICAgICAgICAgICAgPT4gYXJyYXkoIDEwOSwgICAtMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnQ0hBUicgICAgICAgICAgICA9PiBhcnJheSggMTExLCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdMT1dFUicgICAgICAgICAgID0+IGFycmF5KCAxMTIsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1VQUEVSJyAgICAgICAgICAgPT4gYXJyYXkoIDExMywgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnUFJPUEVSJyAgICAgICAgICA9PiBhcnJheSggMTE0LCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdMRUZUJyAgICAgICAgICAgID0+IGFycmF5KCAxMTUsICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1JJR0hUJyAgICAgICAgICAgPT4gYXJyYXkoIDExNiwgICAtMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnRVhBQ1QnICAgICAgICAgICA9PiBhcnJheSggMTE3LCAgICAyLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdUUklNJyAgICAgICAgICAgID0+IGFycmF5KCAxMTgsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1JFUExBQ0UnICAgICAgICAgPT4gYXJyYXkoIDExOSwgICAgNCwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnU1VCU1RJVFVURScgICAgICA9PiBhcnJheSggMTIwLCAgIC0xLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdDT0RFJyAgICAgICAgICAgID0+IGFycmF5KCAxMjEsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0ZJTkQnICAgICAgICAgICAgPT4gYXJyYXkoIDEyNCwgICAtMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnQ0VMTCcgICAgICAgICAgICA9PiBhcnJheSggMTI1LCAgIC0xLCAgICAwLCAgICAxICksCiAgICAgICAgICAgICdJU0VSUicgICAgICAgICAgID0+IGFycmF5KCAxMjYsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0lTVEVYVCcgICAgICAgICAgPT4gYXJyYXkoIDEyNywgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnSVNOVU1CRVInICAgICAgICA9PiBhcnJheSggMTI4LCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdJU0JMQU5LJyAgICAgICAgID0+IGFycmF5KCAxMjksICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1QnICAgICAgICAgICAgICAgPT4gYXJyYXkoIDEzMCwgICAgMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnTicgICAgICAgICAgICAgICA9PiBhcnJheSggMTMxLCAgICAxLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdEQVRFVkFMVUUnICAgICAgID0+IGFycmF5KCAxNDAsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1RJTUVWQUxVRScgICAgICAgPT4gYXJyYXkoIDE0MSwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnU0xOJyAgICAgICAgICAgICA9PiBhcnJheSggMTQyLCAgICAzLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdTWUQnICAgICAgICAgICAgID0+IGFycmF5KCAxNDMsICAgIDQsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0REQicgICAgICAgICAgICAgPT4gYXJyYXkoIDE0NCwgICAtMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnSU5ESVJFQ1QnICAgICAgICA9PiBhcnJheSggMTQ4LCAgIC0xLCAgICAxLCAgICAxICksCiAgICAgICAgICAgICdDQUxMJyAgICAgICAgICAgID0+IGFycmF5KCAxNTAsICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0NMRUFOJyAgICAgICAgICAgPT4gYXJyYXkoIDE2MiwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnTURFVEVSTScgICAgICAgICA9PiBhcnJheSggMTYzLCAgICAxLCAgICAyLCAgICAwICksCiAgICAgICAgICAgICdNSU5WRVJTRScgICAgICAgID0+IGFycmF5KCAxNjQsICAgIDEsICAgIDIsICAgIDAgKSwKICAgICAgICAgICAgJ01NVUxUJyAgICAgICAgICAgPT4gYXJyYXkoIDE2NSwgICAgMiwgICAgMiwgICAgMCApLAogICAgICAgICAgICAnSVBNVCcgICAgICAgICAgICA9PiBhcnJheSggMTY3LCAgIC0xLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdQUE1UJyAgICAgICAgICAgID0+IGFycmF5KCAxNjgsICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0NPVU5UQScgICAgICAgICAgPT4gYXJyYXkoIDE2OSwgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnUFJPRFVDVCcgICAgICAgICA9PiBhcnJheSggMTgzLCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdGQUNUJyAgICAgICAgICAgID0+IGFycmF5KCAxODQsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0RQUk9EVUNUJyAgICAgICAgPT4gYXJyYXkoIDE4OSwgICAgMywgICAgMCwgICAgMCApLAogICAgICAgICAgICAnSVNOT05URVhUJyAgICAgICA9PiBhcnJheSggMTkwLCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdTVERFVlAnICAgICAgICAgID0+IGFycmF5KCAxOTMsICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ1ZBUlAnICAgICAgICAgICAgPT4gYXJyYXkoIDE5NCwgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnRFNUREVWUCcgICAgICAgICA9PiBhcnJheSggMTk1LCAgICAzLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdEVkFSUCcgICAgICAgICAgID0+IGFycmF5KCAxOTYsICAgIDMsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ1RSVU5DJyAgICAgICAgICAgPT4gYXJyYXkoIDE5NywgICAtMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnSVNMT0dJQ0FMJyAgICAgICA9PiBhcnJheSggMTk4LCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdEQ09VTlRBJyAgICAgICAgID0+IGFycmF5KCAxOTksICAgIDMsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ1VTRE9MTEFSJyAgICAgICAgPT4gYXJyYXkoIDIwNCwgICAtMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnRklOREInICAgICAgICAgICA9PiBhcnJheSggMjA1LCAgIC0xLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdTRUFSQ0hCJyAgICAgICAgID0+IGFycmF5KCAyMDYsICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1JFUExBQ0VCJyAgICAgICAgPT4gYXJyYXkoIDIwNywgICAgNCwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnTEVGVEInICAgICAgICAgICA9PiBhcnJheSggMjA4LCAgIC0xLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdSSUdIVEInICAgICAgICAgID0+IGFycmF5KCAyMDksICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ01JREInICAgICAgICAgICAgPT4gYXJyYXkoIDIxMCwgICAgMywgICAgMSwgICAgMCApLAogICAgICAgICAgICAnTEVOQicgICAgICAgICAgICA9PiBhcnJheSggMjExLCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdST1VORFVQJyAgICAgICAgID0+IGFycmF5KCAyMTIsICAgIDIsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1JPVU5ERE9XTicgICAgICAgPT4gYXJyYXkoIDIxMywgICAgMiwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnQVNDJyAgICAgICAgICAgICA9PiBhcnJheSggMjE0LCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdEQkNTJyAgICAgICAgICAgID0+IGFycmF5KCAyMTUsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1JBTksnICAgICAgICAgICAgPT4gYXJyYXkoIDIxNiwgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnQUREUkVTUycgICAgICAgICA9PiBhcnJheSggMjE5LCAgIC0xLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdEQVlTMzYwJyAgICAgICAgID0+IGFycmF5KCAyMjAsICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1RPREFZJyAgICAgICAgICAgPT4gYXJyYXkoIDIyMSwgICAgMCwgICAgMSwgICAgMSApLAogICAgICAgICAgICAnVkRCJyAgICAgICAgICAgICA9PiBhcnJheSggMjIyLCAgIC0xLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdNRURJQU4nICAgICAgICAgID0+IGFycmF5KCAyMjcsICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ1NVTVBST0RVQ1QnICAgICAgPT4gYXJyYXkoIDIyOCwgICAtMSwgICAgMiwgICAgMCApLAogICAgICAgICAgICAnU0lOSCcgICAgICAgICAgICA9PiBhcnJheSggMjI5LCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdDT1NIJyAgICAgICAgICAgID0+IGFycmF5KCAyMzAsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1RBTkgnICAgICAgICAgICAgPT4gYXJyYXkoIDIzMSwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnQVNJTkgnICAgICAgICAgICA9PiBhcnJheSggMjMyLCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdBQ09TSCcgICAgICAgICAgID0+IGFycmF5KCAyMzMsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0FUQU5IJyAgICAgICAgICAgPT4gYXJyYXkoIDIzNCwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnREdFVCcgICAgICAgICAgICA9PiBhcnJheSggMjM1LCAgICAzLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdJTkZPJyAgICAgICAgICAgID0+IGFycmF5KCAyNDQsICAgIDEsICAgIDEsICAgIDEgKSwKICAgICAgICAgICAgJ0RCJyAgICAgICAgICAgICAgPT4gYXJyYXkoIDI0NywgICAtMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnRlJFUVVFTkNZJyAgICAgICA9PiBhcnJheSggMjUyLCAgICAyLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdFUlJPUi5UWVBFJyAgICAgID0+IGFycmF5KCAyNjEsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1JFR0lTVEVSLklEJyAgICAgPT4gYXJyYXkoIDI2NywgICAtMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnQVZFREVWJyAgICAgICAgICA9PiBhcnJheSggMjY5LCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdCRVRBRElTVCcgICAgICAgID0+IGFycmF5KCAyNzAsICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0dBTU1BTE4nICAgICAgICAgPT4gYXJyYXkoIDI3MSwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnQkVUQUlOVicgICAgICAgICA9PiBhcnJheSggMjcyLCAgIC0xLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdCSU5PTURJU1QnICAgICAgID0+IGFycmF5KCAyNzMsICAgIDQsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0NISURJU1QnICAgICAgICAgPT4gYXJyYXkoIDI3NCwgICAgMiwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnQ0hJSU5WJyAgICAgICAgICA9PiBhcnJheSggMjc1LCAgICAyLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdDT01CSU4nICAgICAgICAgID0+IGFycmF5KCAyNzYsICAgIDIsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0NPTkZJREVOQ0UnICAgICAgPT4gYXJyYXkoIDI3NywgICAgMywgICAgMSwgICAgMCApLAogICAgICAgICAgICAnQ1JJVEJJTk9NJyAgICAgICA9PiBhcnJheSggMjc4LCAgICAzLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdFVkVOJyAgICAgICAgICAgID0+IGFycmF5KCAyNzksICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0VYUE9ORElTVCcgICAgICAgPT4gYXJyYXkoIDI4MCwgICAgMywgICAgMSwgICAgMCApLAogICAgICAgICAgICAnRkRJU1QnICAgICAgICAgICA9PiBhcnJheSggMjgxLCAgICAzLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdGSU5WJyAgICAgICAgICAgID0+IGFycmF5KCAyODIsICAgIDMsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0ZJU0hFUicgICAgICAgICAgPT4gYXJyYXkoIDI4MywgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnRklTSEVSSU5WJyAgICAgICA9PiBhcnJheSggMjg0LCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdGTE9PUicgICAgICAgICAgID0+IGFycmF5KCAyODUsICAgIDIsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0dBTU1BRElTVCcgICAgICAgPT4gYXJyYXkoIDI4NiwgICAgNCwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnR0FNTUFJTlYnICAgICAgICA9PiBhcnJheSggMjg3LCAgICAzLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdDRUlMSU5HJyAgICAgICAgID0+IGFycmF5KCAyODgsICAgIDIsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0hZUEdFT01ESVNUJyAgICAgPT4gYXJyYXkoIDI4OSwgICAgNCwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnTE9HTk9STURJU1QnICAgICA9PiBhcnJheSggMjkwLCAgICAzLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdMT0dJTlYnICAgICAgICAgID0+IGFycmF5KCAyOTEsICAgIDMsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ05FR0JJTk9NRElTVCcgICAgPT4gYXJyYXkoIDI5MiwgICAgMywgICAgMSwgICAgMCApLAogICAgICAgICAgICAnTk9STURJU1QnICAgICAgICA9PiBhcnJheSggMjkzLCAgICA0LCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdOT1JNU0RJU1QnICAgICAgID0+IGFycmF5KCAyOTQsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ05PUk1JTlYnICAgICAgICAgPT4gYXJyYXkoIDI5NSwgICAgMywgICAgMSwgICAgMCApLAogICAgICAgICAgICAnTk9STVNJTlYnICAgICAgICA9PiBhcnJheSggMjk2LCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdTVEFOREFSRElaRScgICAgID0+IGFycmF5KCAyOTcsICAgIDMsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ09ERCcgICAgICAgICAgICAgPT4gYXJyYXkoIDI5OCwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnUEVSTVVUJyAgICAgICAgICA9PiBhcnJheSggMjk5LCAgICAyLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdQT0lTU09OJyAgICAgICAgID0+IGFycmF5KCAzMDAsICAgIDMsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1RESVNUJyAgICAgICAgICAgPT4gYXJyYXkoIDMwMSwgICAgMywgICAgMSwgICAgMCApLAogICAgICAgICAgICAnV0VJQlVMTCcgICAgICAgICA9PiBhcnJheSggMzAyLCAgICA0LCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdTVU1YTVkyJyAgICAgICAgID0+IGFycmF5KCAzMDMsICAgIDIsICAgIDIsICAgIDAgKSwKICAgICAgICAgICAgJ1NVTVgyTVkyJyAgICAgICAgPT4gYXJyYXkoIDMwNCwgICAgMiwgICAgMiwgICAgMCApLAogICAgICAgICAgICAnU1VNWDJQWTInICAgICAgICA9PiBhcnJheSggMzA1LCAgICAyLCAgICAyLCAgICAwICksCiAgICAgICAgICAgICdDSElURVNUJyAgICAgICAgID0+IGFycmF5KCAzMDYsICAgIDIsICAgIDIsICAgIDAgKSwKICAgICAgICAgICAgJ0NPUlJFTCcgICAgICAgICAgPT4gYXJyYXkoIDMwNywgICAgMiwgICAgMiwgICAgMCApLAogICAgICAgICAgICAnQ09WQVInICAgICAgICAgICA9PiBhcnJheSggMzA4LCAgICAyLCAgICAyLCAgICAwICksCiAgICAgICAgICAgICdGT1JFQ0FTVCcgICAgICAgID0+IGFycmF5KCAzMDksICAgIDMsICAgIDIsICAgIDAgKSwKICAgICAgICAgICAgJ0ZURVNUJyAgICAgICAgICAgPT4gYXJyYXkoIDMxMCwgICAgMiwgICAgMiwgICAgMCApLAogICAgICAgICAgICAnSU5URVJDRVBUJyAgICAgICA9PiBhcnJheSggMzExLCAgICAyLCAgICAyLCAgICAwICksCiAgICAgICAgICAgICdQRUFSU09OJyAgICAgICAgID0+IGFycmF5KCAzMTIsICAgIDIsICAgIDIsICAgIDAgKSwKICAgICAgICAgICAgJ1JTUScgICAgICAgICAgICAgPT4gYXJyYXkoIDMxMywgICAgMiwgICAgMiwgICAgMCApLAogICAgICAgICAgICAnU1RFWVgnICAgICAgICAgICA9PiBhcnJheSggMzE0LCAgICAyLCAgICAyLCAgICAwICksCiAgICAgICAgICAgICdTTE9QRScgICAgICAgICAgID0+IGFycmF5KCAzMTUsICAgIDIsICAgIDIsICAgIDAgKSwKICAgICAgICAgICAgJ1RURVNUJyAgICAgICAgICAgPT4gYXJyYXkoIDMxNiwgICAgNCwgICAgMiwgICAgMCApLAogICAgICAgICAgICAnUFJPQicgICAgICAgICAgICA9PiBhcnJheSggMzE3LCAgIC0xLCAgICAyLCAgICAwICksCiAgICAgICAgICAgICdERVZTUScgICAgICAgICAgID0+IGFycmF5KCAzMTgsICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ0dFT01FQU4nICAgICAgICAgPT4gYXJyYXkoIDMxOSwgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnSEFSTUVBTicgICAgICAgICA9PiBhcnJheSggMzIwLCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdTVU1TUScgICAgICAgICAgID0+IGFycmF5KCAzMjEsICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ0tVUlQnICAgICAgICAgICAgPT4gYXJyYXkoIDMyMiwgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnU0tFVycgICAgICAgICAgICA9PiBhcnJheSggMzIzLCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdaVEVTVCcgICAgICAgICAgID0+IGFycmF5KCAzMjQsICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ0xBUkdFJyAgICAgICAgICAgPT4gYXJyYXkoIDMyNSwgICAgMiwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnU01BTEwnICAgICAgICAgICA9PiBhcnJheSggMzI2LCAgICAyLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdRVUFSVElMRScgICAgICAgID0+IGFycmF5KCAzMjcsICAgIDIsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ1BFUkNFTlRJTEUnICAgICAgPT4gYXJyYXkoIDMyOCwgICAgMiwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnUEVSQ0VOVFJBTksnICAgICA9PiBhcnJheSggMzI5LCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdNT0RFJyAgICAgICAgICAgID0+IGFycmF5KCAzMzAsICAgLTEsICAgIDIsICAgIDAgKSwKICAgICAgICAgICAgJ1RSSU1NRUFOJyAgICAgICAgPT4gYXJyYXkoIDMzMSwgICAgMiwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnVElOVicgICAgICAgICAgICA9PiBhcnJheSggMzMyLCAgICAyLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdDT05DQVRFTkFURScgICAgID0+IGFycmF5KCAzMzYsICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1BPV0VSJyAgICAgICAgICAgPT4gYXJyYXkoIDMzNywgICAgMiwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnUkFESUFOUycgICAgICAgICA9PiBhcnJheSggMzQyLCAgICAxLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdERUdSRUVTJyAgICAgICAgID0+IGFycmF5KCAzNDMsICAgIDEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ1NVQlRPVEFMJyAgICAgICAgPT4gYXJyYXkoIDM0NCwgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnU1VNSUYnICAgICAgICAgICA9PiBhcnJheSggMzQ1LCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdDT1VOVElGJyAgICAgICAgID0+IGFycmF5KCAzNDYsICAgIDIsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ0NPVU5UQkxBTksnICAgICAgPT4gYXJyYXkoIDM0NywgICAgMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnSVNQTVQnICAgICAgICAgICA9PiBhcnJheSggMzUwLCAgICA0LCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdEQVRFRElGJyAgICAgICAgID0+IGFycmF5KCAzNTEsICAgIDMsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0RBVEVTVFJJTkcnICAgICAgPT4gYXJyYXkoIDM1MiwgICAgMSwgICAgMSwgICAgMCApLAogICAgICAgICAgICAnTlVNQkVSU1RSSU5HJyAgICA9PiBhcnJheSggMzUzLCAgICAyLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdST01BTicgICAgICAgICAgID0+IGFycmF5KCAzNTQsICAgLTEsICAgIDEsICAgIDAgKSwKICAgICAgICAgICAgJ0dFVFBJVk9UREFUQScgICAgPT4gYXJyYXkoIDM1OCwgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnSFlQRVJMSU5LJyAgICAgICA9PiBhcnJheSggMzU5LCAgIC0xLCAgICAxLCAgICAwICksCiAgICAgICAgICAgICdQSE9ORVRJQycgICAgICAgID0+IGFycmF5KCAzNjAsICAgIDEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ0FWRVJBR0VBJyAgICAgICAgPT4gYXJyYXkoIDM2MSwgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnTUFYQScgICAgICAgICAgICA9PiBhcnJheSggMzYyLCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdNSU5BJyAgICAgICAgICAgID0+IGFycmF5KCAzNjMsICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ1NUREVWUEEnICAgICAgICAgPT4gYXJyYXkoIDM2NCwgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnVkFSUEEnICAgICAgICAgICA9PiBhcnJheSggMzY1LCAgIC0xLCAgICAwLCAgICAwICksCiAgICAgICAgICAgICdTVERFVkEnICAgICAgICAgID0+IGFycmF5KCAzNjYsICAgLTEsICAgIDAsICAgIDAgKSwKICAgICAgICAgICAgJ1ZBUkEnICAgICAgICAgICAgPT4gYXJyYXkoIDM2NywgICAtMSwgICAgMCwgICAgMCApLAogICAgICAgICAgICAnQkFIVFRFWFQnICAgICAgICA9PiBhcnJheSggMzY4LCAgICAxLCAgICAwLCAgICAwICksCiAgICAgICAgKTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnZlcnQgYSB0b2tlbiB0byB0aGUgcHJvcGVyIHB0ZyB2YWx1ZS4KICAgICAqCiAgICAgKiBAYWNjZXNzIHByaXZhdGUKICAgICAqIEBwYXJhbSBtaXhlZCAkdG9rZW4gVGhlIHRva2VuIHRvIGNvbnZlcnQuCiAgICAgKiBAcmV0dXJuIG1peGVkIHRoZSBjb252ZXJ0ZWQgdG9rZW4gb24gc3VjY2VzcwogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIGNvbnZlcnQoJHRva2VuKQogICAgewogICAgICAgIGlmIChwcmVnX21hdGNoKCIvXCIoW15cIl18XCJcIil7MCwyNTV9XCIvIiwgJHRva2VuKSkgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmNvbnZlcnRTdHJpbmcoJHRva2VuKTsKCiAgICAgICAgfSBlbHNlaWYgKGlzX251bWVyaWMoJHRva2VuKSkgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmNvbnZlcnROdW1iZXIoJHRva2VuKTsKCiAgICAgICAgLy8gbWF0Y2ggcmVmZXJlbmNlcyBsaWtlIEExIG9yICRBJDEKICAgICAgICB9IGVsc2VpZiAocHJlZ19tYXRjaCgnL15cJD8oW0EtSWEtaV0\/W0EtWmEtel0pXCQ\/KFxkKykkLycsICR0b2tlbikpIHsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5jb252ZXJ0UmVmMmQoJHRva2VuKTsKCiAgICAgICAgLy8gbWF0Y2ggZXh0ZXJuYWwgcmVmZXJlbmNlcyBsaWtlIFNoZWV0MSFBMSBvciBTaGVldDE6U2hlZXQyIUExIG9yIFNoZWV0MSEkQSQxIG9yIFNoZWV0MTpTaGVldDIhJEEkMQogICAgICAgIH0gZWxzZWlmIChwcmVnX21hdGNoKCIvXiIgLiBzZWxmOjpSRUdFWF9TSEVFVF9USVRMRV9VTlFVT1RFRCAuICIoXDoiIC4gc2VsZjo6UkVHRVhfU0hFRVRfVElUTEVfVU5RVU9URUQgLiAiKT9cIVxcJD9bQS1JYS1pXT9bQS1aYS16XVxcJD8oXGQrKSQvdSIsICR0b2tlbikpIHsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5jb252ZXJ0UmVmM2QoJHRva2VuKTsKCiAgICAgICAgLy8gbWF0Y2ggZXh0ZXJuYWwgcmVmZXJlbmNlcyBsaWtlICdTaGVldDEnIUExIG9yICdTaGVldDE6U2hlZXQyJyFBMSBvciAnU2hlZXQxJyEkQSQxIG9yICdTaGVldDE6U2hlZXQyJyEkQSQxCiAgICAgICAgfSBlbHNlaWYgKHByZWdfbWF0Y2goIi9eJyIgLiBzZWxmOjpSRUdFWF9TSEVFVF9USVRMRV9RVU9URUQgLiAiKFw6IiAuIHNlbGY6OlJFR0VYX1NIRUVUX1RJVExFX1FVT1RFRCAuICIpPydcIVxcJD9bQS1JYS1pXT9bQS1aYS16XVxcJD8oXGQrKSQvdSIsICR0b2tlbikpIHsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5jb252ZXJ0UmVmM2QoJHRva2VuKTsKCiAgICAgICAgLy8gbWF0Y2ggcmFuZ2VzIGxpa2UgQTE6QjIgb3IgJEEkMTokQiQyCiAgICAgICAgfSBlbHNlaWYgKHByZWdfbWF0Y2goJy9eKFwkKT9bQS1JYS1pXT9bQS1aYS16XShcJCk\/KFxkKylcOihcJCk\/W0EtSWEtaV0\/W0EtWmEtel0oXCQpPyhcZCspJC8nLCAkdG9rZW4pKSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+Y29udmVydFJhbmdlMmQoJHRva2VuKTsKCiAgICAgICAgLy8gbWF0Y2ggZXh0ZXJuYWwgcmFuZ2VzIGxpa2UgU2hlZXQxIUExOkIyIG9yIFNoZWV0MTpTaGVldDIhQTE6QjIgb3IgU2hlZXQxISRBJDE6JEIkMiBvciBTaGVldDE6U2hlZXQyISRBJDE6JEIkMgogICAgICAgIH0gZWxzZWlmIChwcmVnX21hdGNoKCIvXiIgLiBzZWxmOjpSRUdFWF9TSEVFVF9USVRMRV9VTlFVT1RFRCAuICIoXDoiIC4gc2VsZjo6UkVHRVhfU0hFRVRfVElUTEVfVU5RVU9URUQgLiAiKT9cIVxcJD8oW0EtSWEtaV0\/W0EtWmEtel0pP1xcJD8oXGQrKVw6XFwkPyhbQS1JYS1pXT9bQS1aYS16XSk\/XFwkPyhcZCspJC91IiwgJHRva2VuKSkgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmNvbnZlcnRSYW5nZTNkKCR0b2tlbik7CgogICAgICAgIC8vIG1hdGNoIGV4dGVybmFsIHJhbmdlcyBsaWtlICdTaGVldDEnIUExOkIyIG9yICdTaGVldDE6U2hlZXQyJyFBMTpCMiBvciAnU2hlZXQxJyEkQSQxOiRCJDIgb3IgJ1NoZWV0MTpTaGVldDInISRBJDE6JEIkMgogICAgICAgIH0gZWxzZWlmIChwcmVnX21hdGNoKCIvXiciIC4gc2VsZjo6UkVHRVhfU0hFRVRfVElUTEVfUVVPVEVEIC4gIihcOiIgLiBzZWxmOjpSRUdFWF9TSEVFVF9USVRMRV9RVU9URUQgLiAiKT8nXCFcXCQ\/KFtBLUlhLWldP1tBLVphLXpdKT9cXCQ\/KFxkKylcOlxcJD8oW0EtSWEtaV0\/W0EtWmEtel0pP1xcJD8oXGQrKSQvdSIsICR0b2tlbikpIHsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5jb252ZXJ0UmFuZ2UzZCgkdG9rZW4pOwoKICAgICAgICAvLyBvcGVyYXRvcnMgKGluY2x1ZGluZyBwYXJlbnRoZXNlcykKICAgICAgICB9IGVsc2VpZiAoaXNzZXQoJHRoaXMtPnB0Z1skdG9rZW5dKSkgewogICAgICAgICAgICByZXR1cm4gcGFjaygiQyIsICR0aGlzLT5wdGdbJHRva2VuXSk7CgogICAgICAgIC8vIG1hdGNoIGVycm9yIGNvZGVzCiAgICAgICAgfSBlbHNlaWYgKHByZWdfbWF0Y2goIi9eI1tBLVowXC9dezMsNX1bIT9dezF9JC8iLCAkdG9rZW4pIG9yICR0b2tlbiA9PSAnI04vQScpIHsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5jb252ZXJ0RXJyb3IoJHRva2VuKTsKCiAgICAgICAgLy8gY29tbWVudGVkIHNvIGFyZ3VtZW50IG51bWJlciBjYW4gYmUgcHJvY2Vzc2VkIGNvcnJlY3RseS4gU2VlIHRvUmV2ZXJzZVBvbGlzaCgpLgogICAgICAgIC8qZWxzZWlmIChwcmVnX21hdGNoKCIvW0EtWjAtOVx4YzAtXHhkY1wuXSsvIiwgJHRva2VuKSkKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybigkdGhpcy0+Y29udmVydEZ1bmN0aW9uKCR0b2tlbiwgJHRoaXMtPl9mdW5jX2FyZ3MpKTsKICAgICAgICB9Ki8KCiAgICAgICAgLy8gaWYgaXQncyBhbiBhcmd1bWVudCwgaWdub3JlIHRoZSB0b2tlbiAodGhlIGFyZ3VtZW50IHJlbWFpbnMpCiAgICAgICAgfSBlbHNlaWYgKCR0b2tlbiA9PSAnYXJnJykgewogICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgfQoKICAgICAgICAvLyBUT0RPOiB1c2UgcmVhbCBlcnJvciBjb2RlcwogICAgICAgIHRocm93IG5ldyBQSFBFeGNlbF9Xcml0ZXJfRXhjZXB0aW9uKCJVbmtub3duIHRva2VuICR0b2tlbiIpOwogICAgfQoKICAgIC8qKgogICAgICogQ29udmVydCBhIG51bWJlciB0b2tlbiB0byBwdGdJbnQgb3IgcHRnTnVtCiAgICAgKgogICAgICogQGFjY2VzcyBwcml2YXRlCiAgICAgKiBAcGFyYW0gbWl4ZWQgJG51bSBhbiBpbnRlZ2VyIG9yIGRvdWJsZSBmb3IgY29udmVyc2lvbiB0byBpdHMgcHRnIHZhbHVlCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gY29udmVydE51bWJlcigkbnVtKQogICAgewogICAgICAgIC8vIEludGVnZXIgaW4gdGhlIHJhbmdlIDAuLjIqKjE2LTEKICAgICAgICBpZiAoKHByZWdfbWF0Y2goIi9eXGQrJC8iLCAkbnVtKSkgYW5kICgkbnVtIDw9IDY1NTM1KSkgewogICAgICAgICAgICByZXR1cm4gcGFjaygiQ3YiLCAkdGhpcy0+cHRnWydwdGdJbnQnXSwgJG51bSk7CiAgICAgICAgfSBlbHNlIHsgLy8gQSBmbG9hdAogICAgICAgICAgICBpZiAoUEhQRXhjZWxfV3JpdGVyX0V4Y2VsNV9CSUZGd3JpdGVyOjpnZXRCeXRlT3JkZXIoKSkgeyAvLyBpZiBpdCdzIEJpZyBFbmRpYW4KICAgICAgICAgICAgICAgICRudW0gPSBzdHJyZXYoJG51bSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHBhY2soIkNkIiwgJHRoaXMtPnB0Z1sncHRnTnVtJ10sICRudW0pOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIENvbnZlcnQgYSBzdHJpbmcgdG9rZW4gdG8gcHRnU3RyCiAgICAgKgogICAgICogQGFjY2VzcyBwcml2YXRlCiAgICAgKiBAcGFyYW0gc3RyaW5nICRzdHJpbmcgQSBzdHJpbmcgZm9yIGNvbnZlcnNpb24gdG8gaXRzIHB0ZyB2YWx1ZS4KICAgICAqIEByZXR1cm4gbWl4ZWQgdGhlIGNvbnZlcnRlZCB0b2tlbiBvbiBzdWNjZXNzCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gY29udmVydFN0cmluZygkc3RyaW5nKQogICAgewogICAgICAgIC8vIGNob3AgYXdheSBiZWdnaW5pbmcgYW5kIGVuZGluZyBxdW90ZXMKICAgICAgICAkc3RyaW5nID0gc3Vic3RyKCRzdHJpbmcsIDEsIHN0cmxlbigkc3RyaW5nKSAtIDIpOwogICAgICAgIGlmIChzdHJsZW4oJHN0cmluZykgPiAyNTUpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX1dyaXRlcl9FeGNlcHRpb24oIlN0cmluZyBpcyB0b28gbG9uZyIpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHBhY2soJ0MnLCAkdGhpcy0+cHRnWydwdGdTdHInXSkgLiBQSFBFeGNlbF9TaGFyZWRfU3RyaW5nOjpVVEY4dG9CSUZGOFVuaWNvZGVTaG9ydCgkc3RyaW5nKTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnZlcnQgYSBmdW5jdGlvbiB0byBhIHB0Z0Z1bmMgb3IgcHRnRnVuY1ZhclYgZGVwZW5kaW5nIG9uIHRoZSBudW1iZXIgb2YKICAgICAqIGFyZ3MgdGhhdCBpdCB0YWtlcy4KICAgICAqCiAgICAgKiBAYWNjZXNzIHByaXZhdGUKICAgICAqIEBwYXJhbSBzdHJpbmcgICR0b2tlbiAgICBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gZm9yIGNvbnZlcnRpb24gdG8gcHRnIHZhbHVlLgogICAgICogQHBhcmFtIGludGVnZXIgJG51bV9hcmdzIFRoZSBudW1iZXIgb2YgYXJndW1lbnRzIHRoZSBmdW5jdGlvbiByZWNlaXZlcy4KICAgICAqIEByZXR1cm4gc3RyaW5nIFRoZSBwYWNrZWQgcHRnIGZvciB0aGUgZnVuY3Rpb24KICAgICAqLwogICAgcHJpdmF0ZSBmdW5jdGlvbiBjb252ZXJ0RnVuY3Rpb24oJHRva2VuLCAkbnVtX2FyZ3MpCiAgICB7CiAgICAgICAgJGFyZ3MgICAgID0gJHRoaXMtPmZ1bmN0aW9uc1skdG9rZW5dWzFdOwovLyAgICAgICAgJHZvbGF0aWxlID0gJHRoaXMtPmZ1bmN0aW9uc1skdG9rZW5dWzNdOwoKICAgICAgICAvLyBGaXhlZCBudW1iZXIgb2YgYXJncyBlZy4gVElNRSgkaSwgJGosICRrKS4KICAgICAgICBpZiAoJGFyZ3MgPj0gMCkgewogICAgICAgICAgICByZXR1cm4gcGFjaygiQ3YiLCAkdGhpcy0+cHRnWydwdGdGdW5jViddLCAkdGhpcy0+ZnVuY3Rpb25zWyR0b2tlbl1bMF0pOwogICAgICAgIH0KICAgICAgICAvLyBWYXJpYWJsZSBudW1iZXIgb2YgYXJncyBlZy4gU1VNKCRpLCAkaiwgJGssIC4uKS4KICAgICAgICBpZiAoJGFyZ3MgPT0gLTEpIHsKICAgICAgICAgICAgcmV0dXJuIHBhY2soIkNDdiIsICR0aGlzLT5wdGdbJ3B0Z0Z1bmNWYXJWJ10sICRudW1fYXJncywgJHRoaXMtPmZ1bmN0aW9uc1skdG9rZW5dWzBdKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBDb252ZXJ0IGFuIEV4Y2VsIHJhbmdlIHN1Y2ggYXMgQTE6RDQgdG8gYSBwdGdSZWZWLgogICAgICoKICAgICAqIEBhY2Nlc3MgcHJpdmF0ZQogICAgICogQHBhcmFtIHN0cmluZyAgICAkcmFuZ2UgICAgQW4gRXhjZWwgcmFuZ2UgaW4gdGhlIEExOkEyCiAgICAgKiBAcGFyYW0gaW50ICAgICAgICAkY2xhc3MKICAgICAqLwogICAgcHJpdmF0ZSBmdW5jdGlvbiBjb252ZXJ0UmFuZ2UyZCgkcmFuZ2UsICRjbGFzcyA9IDApCiAgICB7CgogICAgICAgIC8vIFRPRE86IHBvc3NpYmxlIGNsYXNzIHZhbHVlIDAsMSwyIGNoZWNrIEZvcm11bGEucG0KICAgICAgICAvLyBTcGxpdCB0aGUgcmFuZ2UgaW50byAyIGNlbGwgcmVmcwogICAgICAgIGlmIChwcmVnX21hdGNoKCcvXihcJCk\/KFtBLUlhLWldP1tBLVphLXpdKShcJCk\/KFxkKylcOihcJCk\/KFtBLUlhLWldP1tBLVphLXpdKShcJCk\/KFxkKykkLycsICRyYW5nZSkpIHsKICAgICAgICAgICAgbGlzdCgkY2VsbDEsICRjZWxsMikgPSBleHBsb2RlKCc6JywgJHJhbmdlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBUT0RPOiB1c2UgcmVhbCBlcnJvciBjb2RlcwogICAgICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfV3JpdGVyX0V4Y2VwdGlvbigiVW5rbm93biByYW5nZSBzZXBhcmF0b3IiKTsKICAgICAgICB9CgogICAgICAgIC8vIENvbnZlcnQgdGhlIGNlbGwgcmVmZXJlbmNlcwogICAgICAgIGxpc3QoJHJvdzEsICRjb2wxKSA9ICR0aGlzLT5jZWxsVG9QYWNrZWRSb3djb2woJGNlbGwxKTsKICAgICAgICBsaXN0KCRyb3cyLCAkY29sMikgPSAkdGhpcy0+Y2VsbFRvUGFja2VkUm93Y29sKCRjZWxsMik7CgogICAgICAgIC8vIFRoZSBwdGcgdmFsdWUgZGVwZW5kcyBvbiB0aGUgY2xhc3Mgb2YgdGhlIHB0Zy4KICAgICAgICBpZiAoJGNsYXNzID09IDApIHsKICAgICAgICAgICAgJHB0Z0FyZWEgPSBwYWNrKCJDIiwgJHRoaXMtPnB0Z1sncHRnQXJlYSddKTsKICAgICAgICB9IGVsc2VpZiAoJGNsYXNzID09IDEpIHsKICAgICAgICAgICAgJHB0Z0FyZWEgPSBwYWNrKCJDIiwgJHRoaXMtPnB0Z1sncHRnQXJlYVYnXSk7CiAgICAgICAgfSBlbHNlaWYgKCRjbGFzcyA9PSAyKSB7CiAgICAgICAgICAgICRwdGdBcmVhID0gcGFjaygiQyIsICR0aGlzLT5wdGdbJ3B0Z0FyZWFBJ10pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFRPRE86IHVzZSByZWFsIGVycm9yIGNvZGVzCiAgICAgICAgICAgIHRocm93IG5ldyBQSFBFeGNlbF9Xcml0ZXJfRXhjZXB0aW9uKCJVbmtub3duIGNsYXNzICRjbGFzcyIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gJHB0Z0FyZWEgLiAkcm93MSAuICRyb3cyIC4gJGNvbDEuICRjb2wyOwogICAgfQoKICAgIC8qKgogICAgICogQ29udmVydCBhbiBFeGNlbCAzZCByYW5nZSBzdWNoIGFzICJTaGVldDEhQTE6RDQiIG9yICJTaGVldDE6U2hlZXQyIUExOkQ0IiB0bwogICAgICogYSBwdGdBcmVhM2QuCiAgICAgKgogICAgICogQGFjY2VzcyBwcml2YXRlCiAgICAgKiBAcGFyYW0gc3RyaW5nICR0b2tlbiBBbiBFeGNlbCByYW5nZSBpbiB0aGUgU2hlZXQxIUExOkEyIGZvcm1hdC4KICAgICAqIEByZXR1cm4gbWl4ZWQgVGhlIHBhY2tlZCBwdGdBcmVhM2QgdG9rZW4gb24gc3VjY2Vzcy4KICAgICAqLwogICAgcHJpdmF0ZSBmdW5jdGlvbiBjb252ZXJ0UmFuZ2UzZCgkdG9rZW4pCiAgICB7Ci8vICAgICAgICAkY2xhc3MgPSAwOyAvLyBmb3JtdWxhcyBsaWtlIFNoZWV0MSEkQSQxOiRBJDIgaW4gbGlzdCB0eXBlIGRhdGEgdmFsaWRhdGlvbiBuZWVkIHRoaXMgY2xhc3MgKDB4M0IpCgogICAgICAgIC8vIFNwbGl0IHRoZSByZWYgYXQgdGhlICEgc3ltYm9sCiAgICAgICAgbGlzdCgkZXh0X3JlZiwgJHJhbmdlKSA9IGV4cGxvZGUoJyEnLCAkdG9rZW4pOwoKICAgICAgICAvLyBDb252ZXJ0IHRoZSBleHRlcm5hbCByZWZlcmVuY2UgcGFydCAoZGlmZmVyZW50IGZvciBCSUZGOCkKICAgICAgICAkZXh0X3JlZiA9ICR0aGlzLT5nZXRSZWZJbmRleCgkZXh0X3JlZik7CgogICAgICAgIC8vIFNwbGl0IHRoZSByYW5nZSBpbnRvIDIgY2VsbCByZWZzCiAgICAgICAgbGlzdCgkY2VsbDEsICRjZWxsMikgPSBleHBsb2RlKCc6JywgJHJhbmdlKTsKCiAgICAgICAgLy8gQ29udmVydCB0aGUgY2VsbCByZWZlcmVuY2VzCiAgICAgICAgaWYgKHByZWdfbWF0Y2goIi9eKFxcJCk\/W0EtSWEtaV0\/W0EtWmEtel0oXFwkKT8oXGQrKSQvIiwgJGNlbGwxKSkgewogICAgICAgICAgICBsaXN0KCRyb3cxLCAkY29sMSkgPSAkdGhpcy0+Y2VsbFRvUGFja2VkUm93Y29sKCRjZWxsMSk7CiAgICAgICAgICAgIGxpc3QoJHJvdzIsICRjb2wyKSA9ICR0aGlzLT5jZWxsVG9QYWNrZWRSb3djb2woJGNlbGwyKTsKICAgICAgICB9IGVsc2UgeyAvLyBJdCdzIGEgcm93cyByYW5nZSAobGlrZSAyNjoyNykKICAgICAgICAgICAgIGxpc3QoJHJvdzEsICRjb2wxLCAkcm93MiwgJGNvbDIpID0gJHRoaXMtPnJhbmdlVG9QYWNrZWRSYW5nZSgkY2VsbDEuJzonLiRjZWxsMik7CiAgICAgICAgfQoKICAgICAgICAvLyBUaGUgcHRnIHZhbHVlIGRlcGVuZHMgb24gdGhlIGNsYXNzIG9mIHRoZSBwdGcuCi8vICAgICAgICBpZiAoJGNsYXNzID09IDApIHsKICAgICAgICAgICAgJHB0Z0FyZWEgPSBwYWNrKCJDIiwgJHRoaXMtPnB0Z1sncHRnQXJlYTNkJ10pOwovLyAgICAgICAgfSBlbHNlaWYgKCRjbGFzcyA9PSAxKSB7Ci8vICAgICAgICAgICAgJHB0Z0FyZWEgPSBwYWNrKCJDIiwgJHRoaXMtPnB0Z1sncHRnQXJlYTNkViddKTsKLy8gICAgICAgIH0gZWxzZWlmICgkY2xhc3MgPT0gMikgewovLyAgICAgICAgICAgICRwdGdBcmVhID0gcGFjaygiQyIsICR0aGlzLT5wdGdbJ3B0Z0FyZWEzZEEnXSk7Ci8vICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgIHRocm93IG5ldyBQSFBFeGNlbF9Xcml0ZXJfRXhjZXB0aW9uKCJVbmtub3duIGNsYXNzICRjbGFzcyIpOwovLyAgICAgICAgfQoKICAgICAgICByZXR1cm4gJHB0Z0FyZWEgLiAkZXh0X3JlZiAuICRyb3cxIC4gJHJvdzIgLiAkY29sMS4gJGNvbDI7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb252ZXJ0IGFuIEV4Y2VsIHJlZmVyZW5jZSBzdWNoIGFzIEExLCAkQjIsIEMkMyBvciAkRCQ0IHRvIGEgcHRnUmVmVi4KICAgICAqCiAgICAgKiBAYWNjZXNzIHByaXZhdGUKICAgICAqIEBwYXJhbSBzdHJpbmcgJGNlbGwgQW4gRXhjZWwgY2VsbCByZWZlcmVuY2UKICAgICAqIEByZXR1cm4gc3RyaW5nIFRoZSBjZWxsIGluIHBhY2tlZCgpIGZvcm1hdCB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHB0ZwogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIGNvbnZlcnRSZWYyZCgkY2VsbCkKICAgIHsKLy8gICAgICAgICRjbGFzcyA9IDI7IC8vIGFzIGZhciBhcyBJIGtub3csIHRoaXMgaXMgbWFnaWNrLgoKICAgICAgICAvLyBDb252ZXJ0IHRoZSBjZWxsIHJlZmVyZW5jZQogICAgICAgICRjZWxsX2FycmF5ID0gJHRoaXMtPmNlbGxUb1BhY2tlZFJvd2NvbCgkY2VsbCk7CiAgICAgICAgbGlzdCgkcm93LCAkY29sKSA9ICRjZWxsX2FycmF5OwoKICAgICAgICAvLyBUaGUgcHRnIHZhbHVlIGRlcGVuZHMgb24gdGhlIGNsYXNzIG9mIHRoZSBwdGcuCi8vICAgICAgICBpZiAoJGNsYXNzID09IDApIHsKLy8gICAgICAgICAgICAkcHRnUmVmID0gcGFjaygiQyIsICR0aGlzLT5wdGdbJ3B0Z1JlZiddKTsKLy8gICAgICAgIH0gZWxzZWlmICgkY2xhc3MgPT0gMSkgewovLyAgICAgICAgICAgICRwdGdSZWYgPSBwYWNrKCJDIiwgJHRoaXMtPnB0Z1sncHRnUmVmViddKTsKLy8gICAgICAgIH0gZWxzZWlmICgkY2xhc3MgPT0gMikgewogICAgICAgICAgICAkcHRnUmVmID0gcGFjaygiQyIsICR0aGlzLT5wdGdbJ3B0Z1JlZkEnXSk7Ci8vICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgIC8vIFRPRE86IHVzZSByZWFsIGVycm9yIGNvZGVzCi8vICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX1dyaXRlcl9FeGNlcHRpb24oIlVua25vd24gY2xhc3MgJGNsYXNzIik7Ci8vICAgICAgICB9CiAgICAgICAgcmV0dXJuICRwdGdSZWYuJHJvdy4kY29sOwogICAgfQoKICAgIC8qKgogICAgICogQ29udmVydCBhbiBFeGNlbCAzZCByZWZlcmVuY2Ugc3VjaCBhcyAiU2hlZXQxIUExIiBvciAiU2hlZXQxOlNoZWV0MiFBMSIgdG8gYQogICAgICogcHRnUmVmM2QuCiAgICAgKgogICAgICogQGFjY2VzcyBwcml2YXRlCiAgICAgKiBAcGFyYW0gc3RyaW5nICRjZWxsIEFuIEV4Y2VsIGNlbGwgcmVmZXJlbmNlCiAgICAgKiBAcmV0dXJuIG1peGVkIFRoZSBwYWNrZWQgcHRnUmVmM2QgdG9rZW4gb24gc3VjY2Vzcy4KICAgICAqLwogICAgcHJpdmF0ZSBmdW5jdGlvbiBjb252ZXJ0UmVmM2QoJGNlbGwpCiAgICB7Ci8vICAgICAgICAkY2xhc3MgPSAyOyAvLyBhcyBmYXIgYXMgSSBrbm93LCB0aGlzIGlzIG1hZ2ljay4KCiAgICAgICAgLy8gU3BsaXQgdGhlIHJlZiBhdCB0aGUgISBzeW1ib2wKICAgICAgICBsaXN0KCRleHRfcmVmLCAkY2VsbCkgPSBleHBsb2RlKCchJywgJGNlbGwpOwoKICAgICAgICAvLyBDb252ZXJ0IHRoZSBleHRlcm5hbCByZWZlcmVuY2UgcGFydCAoZGlmZmVyZW50IGZvciBCSUZGOCkKICAgICAgICAkZXh0X3JlZiA9ICR0aGlzLT5nZXRSZWZJbmRleCgkZXh0X3JlZik7CgogICAgICAgIC8vIENvbnZlcnQgdGhlIGNlbGwgcmVmZXJlbmNlIHBhcnQKICAgICAgICBsaXN0KCRyb3csICRjb2wpID0gJHRoaXMtPmNlbGxUb1BhY2tlZFJvd2NvbCgkY2VsbCk7CgogICAgICAgIC8vIFRoZSBwdGcgdmFsdWUgZGVwZW5kcyBvbiB0aGUgY2xhc3Mgb2YgdGhlIHB0Zy4KLy8gICAgICAgIGlmICgkY2xhc3MgPT0gMCkgewovLyAgICAgICAgICAgICRwdGdSZWYgPSBwYWNrKCJDIiwgJHRoaXMtPnB0Z1sncHRnUmVmM2QnXSk7Ci8vICAgICAgICB9IGVsc2VpZiAoJGNsYXNzID09IDEpIHsKLy8gICAgICAgICAgICAkcHRnUmVmID0gcGFjaygiQyIsICR0aGlzLT5wdGdbJ3B0Z1JlZjNkViddKTsKLy8gICAgICAgIH0gZWxzZWlmICgkY2xhc3MgPT0gMikgewogICAgICAgICAgICAkcHRnUmVmID0gcGFjaygiQyIsICR0aGlzLT5wdGdbJ3B0Z1JlZjNkQSddKTsKLy8gICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX1dyaXRlcl9FeGNlcHRpb24oIlVua25vd24gY2xhc3MgJGNsYXNzIik7Ci8vICAgICAgICB9CgogICAgICAgIHJldHVybiAkcHRnUmVmIC4gJGV4dF9yZWYuICRyb3cgLiAkY29sOwogICAgfQoKICAgIC8qKgogICAgICogQ29udmVydCBhbiBlcnJvciBjb2RlIHRvIGEgcHRnRXJyCiAgICAgKgogICAgICogQGFjY2VzcyAgICBwcml2YXRlCiAgICAgKiBAcGFyYW0gICAgc3RyaW5nICAgICRlcnJvckNvZGUgICAgVGhlIGVycm9yIGNvZGUgZm9yIGNvbnZlcnNpb24gdG8gaXRzIHB0ZyB2YWx1ZQogICAgICogQHJldHVybiAgICBzdHJpbmcgICAgICAgICAgICAgICAgVGhlIGVycm9yIGNvZGUgcHRnRXJyCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gY29udmVydEVycm9yKCRlcnJvckNvZGUpCiAgICB7CiAgICAgICAgc3dpdGNoICgkZXJyb3JDb2RlKSB7CiAgICAgICAgICAgIGNhc2UgJyNOVUxMISc6CiAgICAgICAgICAgICAgICByZXR1cm4gcGFjaygiQyIsIDB4MDApOwogICAgICAgICAgICBjYXNlICcjRElWLzAhJzoKICAgICAgICAgICAgICAgIHJldHVybiBwYWNrKCJDIiwgMHgwNyk7CiAgICAgICAgICAgIGNhc2UgJyNWQUxVRSEnOgogICAgICAgICAgICAgICAgcmV0dXJuIHBhY2soIkMiLCAweDBGKTsKICAgICAgICAgICAgY2FzZSAnI1JFRiEnOgogICAgICAgICAgICAgICAgcmV0dXJuIHBhY2soIkMiLCAweDE3KTsKICAgICAgICAgICAgY2FzZSAnI05BTUU\/JzoKICAgICAgICAgICAgICAgIHJldHVybiBwYWNrKCJDIiwgMHgxRCk7CiAgICAgICAgICAgIGNhc2UgJyNOVU0hJzoKICAgICAgICAgICAgICAgIHJldHVybiBwYWNrKCJDIiwgMHgyNCk7CiAgICAgICAgICAgIGNhc2UgJyNOL0EnOgogICAgICAgICAgICAgICAgcmV0dXJuIHBhY2soIkMiLCAweDJBKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHBhY2soIkMiLCAweEZGKTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnZlcnQgdGhlIHNoZWV0IG5hbWUgcGFydCBvZiBhbiBleHRlcm5hbCByZWZlcmVuY2UsIGZvciBleGFtcGxlICJTaGVldDEiIG9yCiAgICAgKiAiU2hlZXQxOlNoZWV0MiIsIHRvIGEgcGFja2VkIHN0cnVjdHVyZS4KICAgICAqCiAgICAgKiBAYWNjZXNzICAgIHByaXZhdGUKICAgICAqIEBwYXJhbSAgICBzdHJpbmcgICAgJGV4dF9yZWYgICAgVGhlIG5hbWUgb2YgdGhlIGV4dGVybmFsIHJlZmVyZW5jZQogICAgICogQHJldHVybiAgICBzdHJpbmcgICAgICAgICAgICAgICAgVGhlIHJlZmVyZW5jZSBpbmRleCBpbiBwYWNrZWQoKSBmb3JtYXQKICAgICAqLwogICAgcHJpdmF0ZSBmdW5jdGlvbiBwYWNrRXh0UmVmKCRleHRfcmVmKQogICAgewogICAgICAgICRleHRfcmVmID0gcHJlZ19yZXBsYWNlKCIvXicvIiwgJycsICRleHRfcmVmKTsgLy8gUmVtb3ZlIGxlYWRpbmcgICcgaWYgYW55LgogICAgICAgICRleHRfcmVmID0gcHJlZ19yZXBsYWNlKCIvJyQvIiwgJycsICRleHRfcmVmKTsgLy8gUmVtb3ZlIHRyYWlsaW5nICcgaWYgYW55LgoKICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHNoZWV0IHJhbmdlIGVnLiwgU2hlZXQxOlNoZWV0Mi4KICAgICAgICBpZiAocHJlZ19tYXRjaCgiLzovIiwgJGV4dF9yZWYpKSB7CiAgICAgICAgICAgIGxpc3QoJHNoZWV0X25hbWUxLCAkc2hlZXRfbmFtZTIpID0gZXhwbG9kZSgnOicsICRleHRfcmVmKTsKCiAgICAgICAgICAgICRzaGVldDEgPSAkdGhpcy0+Z2V0U2hlZXRJbmRleCgkc2hlZXRfbmFtZTEpOwogICAgICAgICAgICBpZiAoJHNoZWV0MSA9PSAtMSkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX1dyaXRlcl9FeGNlcHRpb24oIlVua25vd24gc2hlZXQgbmFtZSAkc2hlZXRfbmFtZTEgaW4gZm9ybXVsYSIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICRzaGVldDIgPSAkdGhpcy0+Z2V0U2hlZXRJbmRleCgkc2hlZXRfbmFtZTIpOwogICAgICAgICAgICBpZiAoJHNoZWV0MiA9PSAtMSkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX1dyaXRlcl9FeGNlcHRpb24oIlVua25vd24gc2hlZXQgbmFtZSAkc2hlZXRfbmFtZTIgaW4gZm9ybXVsYSIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBSZXZlcnNlIG1heCBhbmQgbWluIHNoZWV0IG51bWJlcnMgaWYgbmVjZXNzYXJ5CiAgICAgICAgICAgIGlmICgkc2hlZXQxID4gJHNoZWV0MikgewogICAgICAgICAgICAgICAgbGlzdCgkc2hlZXQxLCAkc2hlZXQyKSA9IGFycmF5KCRzaGVldDIsICRzaGVldDEpOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsgLy8gU2luZ2xlIHNoZWV0IG5hbWUgb25seS4KICAgICAgICAgICAgJHNoZWV0MSA9ICR0aGlzLT5nZXRTaGVldEluZGV4KCRleHRfcmVmKTsKICAgICAgICAgICAgaWYgKCRzaGVldDEgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBQSFBFeGNlbF9Xcml0ZXJfRXhjZXB0aW9uKCJVbmtub3duIHNoZWV0IG5hbWUgJGV4dF9yZWYgaW4gZm9ybXVsYSIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICRzaGVldDIgPSAkc2hlZXQxOwogICAgICAgIH0KCiAgICAgICAgLy8gUmVmZXJlbmNlcyBhcmUgc3RvcmVkIHJlbGF0aXZlIHRvIDB4RkZGRi4KICAgICAgICAkb2Zmc2V0ID0gLTEgLSAkc2hlZXQxOwoKICAgICAgICByZXR1cm4gcGFjaygndmR2dicsICRvZmZzZXQsIDB4MDAsICRzaGVldDEsICRzaGVldDIpOwogICAgfQoKICAgIC8qKgogICAgICogTG9vayB1cCB0aGUgUkVGIGluZGV4IHRoYXQgY29ycmVzcG9uZHMgdG8gYW4gZXh0ZXJuYWwgc2hlZXQgbmFtZQogICAgICogKG9yIHJhbmdlKS4gSWYgaXQgZG9lc24ndCBleGlzdCB5ZXQgYWRkIGl0IHRvIHRoZSB3b3JrYm9vaydzIHJlZmVyZW5jZXMKICAgICAqIGFycmF5LiBJdCBhc3N1bWVzIGFsbCBzaGVldCBuYW1lcyBnaXZlbiBtdXN0IGV4aXN0LgogICAgICoKICAgICAqIEBhY2Nlc3MgcHJpdmF0ZQogICAgICogQHBhcmFtIHN0cmluZyAkZXh0X3JlZiBUaGUgbmFtZSBvZiB0aGUgZXh0ZXJuYWwgcmVmZXJlbmNlCiAgICAgKiBAcmV0dXJuIG1peGVkIFRoZSByZWZlcmVuY2UgaW5kZXggaW4gcGFja2VkKCkgZm9ybWF0IG9uIHN1Y2Nlc3MKICAgICAqLwogICAgcHJpdmF0ZSBmdW5jdGlvbiBnZXRSZWZJbmRleCgkZXh0X3JlZikKICAgIHsKICAgICAgICAkZXh0X3JlZiA9IHByZWdfcmVwbGFjZSgiL14nLyIsICcnLCAkZXh0X3JlZik7IC8vIFJlbW92ZSBsZWFkaW5nICAnIGlmIGFueS4KICAgICAgICAkZXh0X3JlZiA9IHByZWdfcmVwbGFjZSgiLyckLyIsICcnLCAkZXh0X3JlZik7IC8vIFJlbW92ZSB0cmFpbGluZyAnIGlmIGFueS4KICAgICAgICAkZXh0X3JlZiA9IHN0cl9yZXBsYWNlKCdcJ1wnJywgJ1wnJywgJGV4dF9yZWYpOyAvLyBSZXBsYWNlIGVzY2FwZWQgJycgd2l0aCAnCgogICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgc2hlZXQgcmFuZ2UgZWcuLCBTaGVldDE6U2hlZXQyLgogICAgICAgIGlmIChwcmVnX21hdGNoKCIvOi8iLCAkZXh0X3JlZikpIHsKICAgICAgICAgICAgbGlzdCgkc2hlZXRfbmFtZTEsICRzaGVldF9uYW1lMikgPSBleHBsb2RlKCc6JywgJGV4dF9yZWYpOwoKICAgICAgICAgICAgJHNoZWV0MSA9ICR0aGlzLT5nZXRTaGVldEluZGV4KCRzaGVldF9uYW1lMSk7CiAgICAgICAgICAgIGlmICgkc2hlZXQxID09IC0xKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfV3JpdGVyX0V4Y2VwdGlvbigiVW5rbm93biBzaGVldCBuYW1lICRzaGVldF9uYW1lMSBpbiBmb3JtdWxhIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJHNoZWV0MiA9ICR0aGlzLT5nZXRTaGVldEluZGV4KCRzaGVldF9uYW1lMik7CiAgICAgICAgICAgIGlmICgkc2hlZXQyID09IC0xKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfV3JpdGVyX0V4Y2VwdGlvbigiVW5rbm93biBzaGVldCBuYW1lICRzaGVldF9uYW1lMiBpbiBmb3JtdWxhIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFJldmVyc2UgbWF4IGFuZCBtaW4gc2hlZXQgbnVtYmVycyBpZiBuZWNlc3NhcnkKICAgICAgICAgICAgaWYgKCRzaGVldDEgPiAkc2hlZXQyKSB7CiAgICAgICAgICAgICAgICBsaXN0KCRzaGVldDEsICRzaGVldDIpID0gYXJyYXkoJHNoZWV0MiwgJHNoZWV0MSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgeyAvLyBTaW5nbGUgc2hlZXQgbmFtZSBvbmx5LgogICAgICAgICAgICAkc2hlZXQxID0gJHRoaXMtPmdldFNoZWV0SW5kZXgoJGV4dF9yZWYpOwogICAgICAgICAgICBpZiAoJHNoZWV0MSA9PSAtMSkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX1dyaXRlcl9FeGNlcHRpb24oIlVua25vd24gc2hlZXQgbmFtZSAkZXh0X3JlZiBpbiBmb3JtdWxhIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJHNoZWV0MiA9ICRzaGVldDE7CiAgICAgICAgfQoKICAgICAgICAvLyBhc3N1bWUgYWxsIHJlZmVyZW5jZXMgYmVsb25nIHRvIHRoaXMgZG9jdW1lbnQKICAgICAgICAkc3VwYm9va19pbmRleCA9IDB4MDA7CiAgICAgICAgJHJlZiA9IHBhY2soJ3Z2dicsICRzdXBib29rX2luZGV4LCAkc2hlZXQxLCAkc2hlZXQyKTsKICAgICAgICAkdG90YWxyZWZlcmVuY2VzID0gY291bnQoJHRoaXMtPnJlZmVyZW5jZXMpOwogICAgICAgICRpbmRleCA9IC0xOwogICAgICAgIGZvciAoJGkgPSAwOyAkaSA8ICR0b3RhbHJlZmVyZW5jZXM7ICsrJGkpIHsKICAgICAgICAgICAgaWYgKCRyZWYgPT0gJHRoaXMtPnJlZmVyZW5jZXNbJGldKSB7CiAgICAgICAgICAgICAgICAkaW5kZXggPSAkaTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIGlmIFJFRiB3YXMgbm90IGZvdW5kIGFkZCBpdCB0byByZWZlcmVuY2VzIGFycmF5CiAgICAgICAgaWYgKCRpbmRleCA9PSAtMSkgewogICAgICAgICAgICAkdGhpcy0+cmVmZXJlbmNlc1skdG90YWxyZWZlcmVuY2VzXSA9ICRyZWY7CiAgICAgICAgICAgICRpbmRleCA9ICR0b3RhbHJlZmVyZW5jZXM7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcGFjaygndicsICRpbmRleCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBMb29rIHVwIHRoZSBpbmRleCB0aGF0IGNvcnJlc3BvbmRzIHRvIGFuIGV4dGVybmFsIHNoZWV0IG5hbWUuIFRoZSBoYXNoIG9mCiAgICAgKiBzaGVldCBuYW1lcyBpcyB1cGRhdGVkIGJ5IHRoZSBhZGR3b3Jrc2hlZXQoKSBtZXRob2Qgb2YgdGhlCiAgICAgKiBQSFBFeGNlbF9Xcml0ZXJfRXhjZWw1X1dvcmtib29rIGNsYXNzLgogICAgICoKICAgICAqIEBhY2Nlc3MgICAgcHJpdmF0ZQogICAgICogQHBhcmFtICAgIHN0cmluZyAgICAkc2hlZXRfbmFtZSAgICAgICAgU2hlZXQgbmFtZQogICAgICogQHJldHVybiAgICBpbnRlZ2VyICAgICAgICAgICAgICAgICAgICBUaGUgc2hlZXQgaW5kZXgsIC0xIGlmIHRoZSBzaGVldCB3YXMgbm90IGZvdW5kCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gZ2V0U2hlZXRJbmRleCgkc2hlZXRfbmFtZSkKICAgIHsKICAgICAgICBpZiAoIWlzc2V0KCR0aGlzLT5leHRlcm5hbFNoZWV0c1skc2hlZXRfbmFtZV0pKSB7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmV4dGVybmFsU2hlZXRzWyRzaGVldF9uYW1lXTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHVwZGF0ZSB0aGUgYXJyYXkgb2Ygc2hlZXQgbmFtZXMuIEl0IGlzCiAgICAgKiBjYWxsZWQgYnkgdGhlIGFkZFdvcmtzaGVldCgpIG1ldGhvZCBvZiB0aGUKICAgICAqIFBIUEV4Y2VsX1dyaXRlcl9FeGNlbDVfV29ya2Jvb2sgY2xhc3MuCiAgICAgKgogICAgICogQGFjY2VzcyBwdWJsaWMKICAgICAqIEBzZWUgUEhQRXhjZWxfV3JpdGVyX0V4Y2VsNV9Xb3JrYm9vazo6YWRkV29ya3NoZWV0KCkKICAgICAqIEBwYXJhbSBzdHJpbmcgICRuYW1lICBUaGUgbmFtZSBvZiB0aGUgd29ya3NoZWV0IGJlaW5nIGFkZGVkCiAgICAgKiBAcGFyYW0gaW50ZWdlciAkaW5kZXggVGhlIGluZGV4IG9mIHRoZSB3b3Jrc2hlZXQgYmVpbmcgYWRkZWQKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHNldEV4dFNoZWV0KCRuYW1lLCAkaW5kZXgpCiAgICB7CiAgICAgICAgJHRoaXMtPmV4dGVybmFsU2hlZXRzWyRuYW1lXSA9ICRpbmRleDsKICAgIH0KCiAgICAvKioKICAgICAqIHBhY2soKSByb3cgYW5kIGNvbHVtbiBpbnRvIHRoZSByZXF1aXJlZCAzIG9yIDQgYnl0ZSBmb3JtYXQuCiAgICAgKgogICAgICogQGFjY2VzcyBwcml2YXRlCiAgICAgKiBAcGFyYW0gc3RyaW5nICRjZWxsIFRoZSBFeGNlbCBjZWxsIHJlZmVyZW5jZSB0byBiZSBwYWNrZWQKICAgICAqIEByZXR1cm4gYXJyYXkgQXJyYXkgY29udGFpbmluZyB0aGUgcm93IGFuZCBjb2x1bW4gaW4gcGFja2VkKCkgZm9ybWF0CiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gY2VsbFRvUGFja2VkUm93Y29sKCRjZWxsKQogICAgewogICAgICAgICRjZWxsID0gc3RydG91cHBlcigkY2VsbCk7CiAgICAgICAgbGlzdCgkcm93LCAkY29sLCAkcm93X3JlbCwgJGNvbF9yZWwpID0gJHRoaXMtPmNlbGxUb1Jvd2NvbCgkY2VsbCk7CiAgICAgICAgaWYgKCRjb2wgPj0gMjU2KSB7CiAgICAgICAgICAgIHRocm93IG5ldyBQSFBFeGNlbF9Xcml0ZXJfRXhjZXB0aW9uKCJDb2x1bW4gaW46ICRjZWxsIGdyZWF0ZXIgdGhhbiAyNTUiKTsKICAgICAgICB9CiAgICAgICAgaWYgKCRyb3cgPj0gNjU1MzYpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX1dyaXRlcl9FeGNlcHRpb24oIlJvdyBpbjogJGNlbGwgZ3JlYXRlciB0aGFuIDY1NTM2ICIpOwogICAgICAgIH0KCiAgICAgICAgLy8gU2V0IHRoZSBoaWdoIGJpdHMgdG8gaW5kaWNhdGUgaWYgcm93IG9yIGNvbCBhcmUgcmVsYXRpdmUuCiAgICAgICAgJGNvbCB8PSAkY29sX3JlbCA8PCAxNDsKICAgICAgICAkY29sIHw9ICRyb3dfcmVsIDw8IDE1OwogICAgICAgICRjb2wgPSBwYWNrKCd2JywgJGNvbCk7CgogICAgICAgICRyb3cgPSBwYWNrKCd2JywgJHJvdyk7CgogICAgICAgIHJldHVybiBhcnJheSgkcm93LCAkY29sKTsKICAgIH0KCiAgICAvKioKICAgICAqIHBhY2soKSByb3cgcmFuZ2UgaW50byB0aGUgcmVxdWlyZWQgMyBvciA0IGJ5dGUgZm9ybWF0LgogICAgICogSnVzdCB1c2luZyBtYXhpbXVtIGNvbC9yb3dzLCB3aGljaCBpcyBwcm9iYWJseSBub3QgdGhlIGNvcnJlY3Qgc29sdXRpb24KICAgICAqCiAgICAgKiBAYWNjZXNzIHByaXZhdGUKICAgICAqIEBwYXJhbSBzdHJpbmcgJHJhbmdlIFRoZSBFeGNlbCByYW5nZSB0byBiZSBwYWNrZWQKICAgICAqIEByZXR1cm4gYXJyYXkgQXJyYXkgY29udGFpbmluZyAocm93MSxjb2wxLHJvdzIsY29sMikgaW4gcGFja2VkKCkgZm9ybWF0CiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gcmFuZ2VUb1BhY2tlZFJhbmdlKCRyYW5nZSkKICAgIHsKICAgICAgICBwcmVnX21hdGNoKCcvKFwkKT8oXGQrKVw6KFwkKT8oXGQrKS8nLCAkcmFuZ2UsICRtYXRjaCk7CiAgICAgICAgLy8gcmV0dXJuIGFic29sdXRlIHJvd3MgaWYgdGhlcmUgaXMgYSAkIGluIHRoZSByZWYKICAgICAgICAkcm93MV9yZWwgPSBlbXB0eSgkbWF0Y2hbMV0pID8gMSA6IDA7CiAgICAgICAgJHJvdzEgICAgID0gJG1hdGNoWzJdOwogICAgICAgICRyb3cyX3JlbCA9IGVtcHR5KCRtYXRjaFszXSkgPyAxIDogMDsKICAgICAgICAkcm93MiAgICAgPSAkbWF0Y2hbNF07CiAgICAgICAgLy8gQ29udmVydCAxLWluZGV4IHRvIHplcm8taW5kZXgKICAgICAgICAtLSRyb3cxOwogICAgICAgIC0tJHJvdzI7CiAgICAgICAgLy8gVHJpY2sgcG9vciBpbm9jZW50IEV4Y2VsCiAgICAgICAgJGNvbDEgPSAwOwogICAgICAgICRjb2wyID0gNjU1MzU7IC8vIEZJWE1FOiBtYXhpbXVtIHBvc3NpYmxlIHZhbHVlIGZvciBFeGNlbCA1IChjaGFuZ2UgdGhpcyEhISkKCiAgICAgICAgLy8gRklYTUU6IHRoaXMgY2hhbmdlcyBmb3IgQklGRjgKICAgICAgICBpZiAoKCRyb3cxID49IDY1NTM2KSBvciAoJHJvdzIgPj0gNjU1MzYpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBQSFBFeGNlbF9Xcml0ZXJfRXhjZXB0aW9uKCJSb3cgaW46ICRyYW5nZSBncmVhdGVyIHRoYW4gNjU1MzYgIik7CiAgICAgICAgfQoKICAgICAgICAvLyBTZXQgdGhlIGhpZ2ggYml0cyB0byBpbmRpY2F0ZSBpZiByb3dzIGFyZSByZWxhdGl2ZS4KICAgICAgICAkY29sMSB8PSAkcm93MV9yZWwgPDwgMTU7CiAgICAgICAgJGNvbDIgfD0gJHJvdzJfcmVsIDw8IDE1OwogICAgICAgICRjb2wxID0gcGFjaygndicsICRjb2wxKTsKICAgICAgICAkY29sMiA9IHBhY2soJ3YnLCAkY29sMik7CgogICAgICAgICRyb3cxID0gcGFjaygndicsICRyb3cxKTsKICAgICAgICAkcm93MiA9IHBhY2soJ3YnLCAkcm93Mik7CgogICAgICAgIHJldHVybiBhcnJheSgkcm93MSwgJGNvbDEsICRyb3cyLCAkY29sMik7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb252ZXJ0IGFuIEV4Y2VsIGNlbGwgcmVmZXJlbmNlIHN1Y2ggYXMgQTEgb3IgJEIyIG9yIEMkMyBvciAkRCQ0IHRvIGEgemVybwogICAgICogaW5kZXhlZCByb3cgYW5kIGNvbHVtbiBudW1iZXIuIEFsc28gcmV0dXJucyB0d28gKDAsMSkgdmFsdWVzIHRvIGluZGljYXRlCiAgICAgKiB3aGV0aGVyIHRoZSByb3cgb3IgY29sdW1uIGFyZSByZWxhdGl2ZSByZWZlcmVuY2VzLgogICAgICoKICAgICAqIEBhY2Nlc3MgcHJpdmF0ZQogICAgICogQHBhcmFtIHN0cmluZyAkY2VsbCBUaGUgRXhjZWwgY2VsbCByZWZlcmVuY2UgaW4gQTEgZm9ybWF0LgogICAgICogQHJldHVybiBhcnJheQogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIGNlbGxUb1Jvd2NvbCgkY2VsbCkKICAgIHsKICAgICAgICBwcmVnX21hdGNoKCcvKFwkKT8oW0EtSV0\/W0EtWl0pKFwkKT8oXGQrKS8nLCAkY2VsbCwgJG1hdGNoKTsKICAgICAgICAvLyByZXR1cm4gYWJzb2x1dGUgY29sdW1uIGlmIHRoZXJlIGlzIGEgJCBpbiB0aGUgcmVmCiAgICAgICAgJGNvbF9yZWwgPSBlbXB0eSgkbWF0Y2hbMV0pID8gMSA6IDA7CiAgICAgICAgJGNvbF9yZWYgPSAkbWF0Y2hbMl07CiAgICAgICAgJHJvd19yZWwgPSBlbXB0eSgkbWF0Y2hbM10pID8gMSA6IDA7CiAgICAgICAgJHJvdyAgICAgPSAkbWF0Y2hbNF07CgogICAgICAgIC8vIENvbnZlcnQgYmFzZTI2IGNvbHVtbiBzdHJpbmcgdG8gYSBudW1iZXIuCiAgICAgICAgJGV4cG4gPSBzdHJsZW4oJGNvbF9yZWYpIC0gMTsKICAgICAgICAkY29sICA9IDA7CiAgICAgICAgJGNvbF9yZWZfbGVuZ3RoID0gc3RybGVuKCRjb2xfcmVmKTsKICAgICAgICBmb3IgKCRpID0gMDsgJGkgPCAkY29sX3JlZl9sZW5ndGg7ICsrJGkpIHsKICAgICAgICAgICAgJGNvbCArPSAob3JkKCRjb2xfcmVmeyRpfSkgLSA2NCkgKiBwb3coMjYsICRleHBuKTsKICAgICAgICAgICAgLS0kZXhwbjsKICAgICAgICB9CgogICAgICAgIC8vIENvbnZlcnQgMS1pbmRleCB0byB6ZXJvLWluZGV4CiAgICAgICAgLS0kcm93OwogICAgICAgIC0tJGNvbDsKCiAgICAgICAgcmV0dXJuIGFycmF5KCRyb3csICRjb2wsICRyb3dfcmVsLCAkY29sX3JlbCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBBZHZhbmNlIHRvIHRoZSBuZXh0IHZhbGlkIHRva2VuLgogICAgICoKICAgICAqIEBhY2Nlc3MgcHJpdmF0ZQogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIGFkdmFuY2UoKQogICAgewogICAgICAgICRpID0gJHRoaXMtPmN1cnJlbnRDaGFyYWN0ZXI7CiAgICAgICAgJGZvcm11bGFfbGVuZ3RoID0gc3RybGVuKCR0aGlzLT5mb3JtdWxhKTsKICAgICAgICAvLyBlYXQgdXAgd2hpdGUgc3BhY2VzCiAgICAgICAgaWYgKCRpIDwgJGZvcm11bGFfbGVuZ3RoKSB7CiAgICAgICAgICAgIHdoaWxlICgkdGhpcy0+Zm9ybXVsYXskaX0gPT0gIiAiKSB7CiAgICAgICAgICAgICAgICArKyRpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJGkgPCAoJGZvcm11bGFfbGVuZ3RoIC0gMSkpIHsKICAgICAgICAgICAgICAgICR0aGlzLT5sb29rQWhlYWQgPSAkdGhpcy0+Zm9ybXVsYXskaSsxfTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkdG9rZW4gPSAnJzsKICAgICAgICB9CgogICAgICAgIHdoaWxlICgkaSA8ICRmb3JtdWxhX2xlbmd0aCkgewogICAgICAgICAgICAkdG9rZW4gLj0gJHRoaXMtPmZvcm11bGF7JGl9OwoKICAgICAgICAgICAgaWYgKCRpIDwgKCRmb3JtdWxhX2xlbmd0aCAtIDEpKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+bG9va0FoZWFkID0gJHRoaXMtPmZvcm11bGF7JGkrMX07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+bG9va0FoZWFkID0gJyc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICgkdGhpcy0+bWF0Y2goJHRva2VuKSAhPSAnJykgewogICAgICAgICAgICAgICAgLy9pZiAoJGkgPCBzdHJsZW4oJHRoaXMtPmZvcm11bGEpIC0gMSkgewogICAgICAgICAgICAgICAgLy8gICAgJHRoaXMtPmxvb2tBaGVhZCA9ICR0aGlzLT5mb3JtdWxheyRpKzF9OwogICAgICAgICAgICAgICAgLy99CiAgICAgICAgICAgICAgICAkdGhpcy0+Y3VycmVudENoYXJhY3RlciA9ICRpICsgMTsKICAgICAgICAgICAgICAgICR0aGlzLT5jdXJyZW50VG9rZW4gPSAkdG9rZW47CiAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCRpIDwgKCRmb3JtdWxhX2xlbmd0aCAtIDIpKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+bG9va0FoZWFkID0gJHRoaXMtPmZvcm11bGF7JGkrMn07CiAgICAgICAgICAgIH0gZWxzZSB7IC8vIGlmIHdlIHJ1biBvdXQgb2YgY2hhcmFjdGVycyBsb29rQWhlYWQgYmVjb21lcyBlbXB0eQogICAgICAgICAgICAgICAgJHRoaXMtPmxvb2tBaGVhZCA9ICcnOwogICAgICAgICAgICB9CiAgICAgICAgICAgICsrJGk7CiAgICAgICAgfQogICAgICAgIC8vZGllKCJMZXhpY2FsIGVycm9yICIuJHRoaXMtPmN1cnJlbnRDaGFyYWN0ZXIpOwogICAgfQoKICAgIC8qKgogICAgICogQ2hlY2tzIGlmIGl0J3MgYSB2YWxpZCB0b2tlbi4KICAgICAqCiAgICAgKiBAYWNjZXNzIHByaXZhdGUKICAgICAqIEBwYXJhbSBtaXhlZCAkdG9rZW4gVGhlIHRva2VuIHRvIGNoZWNrLgogICAgICogQHJldHVybiBtaXhlZCAgICAgICBUaGUgY2hlY2tlZCB0b2tlbiBvciBmYWxzZSBvbiBmYWlsdXJlCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gbWF0Y2goJHRva2VuKQogICAgewogICAgICAgIHN3aXRjaCAoJHRva2VuKSB7CiAgICAgICAgICAgIGNhc2UgIisiOgogICAgICAgICAgICBjYXNlICItIjoKICAgICAgICAgICAgY2FzZSAiKiI6CiAgICAgICAgICAgIGNhc2UgIi8iOgogICAgICAgICAgICBjYXNlICIoIjoKICAgICAgICAgICAgY2FzZSAiKSI6CiAgICAgICAgICAgIGNhc2UgIiwiOgogICAgICAgICAgICBjYXNlICI7IjoKICAgICAgICAgICAgY2FzZSAiPj0iOgogICAgICAgICAgICBjYXNlICI8PSI6CiAgICAgICAgICAgIGNhc2UgIj0iOgogICAgICAgICAgICBjYXNlICI8PiI6CiAgICAgICAgICAgIGNhc2UgIl4iOgogICAgICAgICAgICBjYXNlICImIjoKICAgICAgICAgICAgY2FzZSAiJSI6CiAgICAgICAgICAgICAgICByZXR1cm4gJHRva2VuOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgIj4iOgogICAgICAgICAgICAgICAgaWYgKCR0aGlzLT5sb29rQWhlYWQgPT0gJz0nKSB7IC8vIGl0J3MgYSBHRSB0b2tlbgogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuICR0b2tlbjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICI8IjoKICAgICAgICAgICAgICAgIC8vIGl0J3MgYSBMRSBvciBhIE5FIHRva2VuCiAgICAgICAgICAgICAgICBpZiAoKCR0aGlzLT5sb29rQWhlYWQgPT0gJz0nKSBvciAoJHRoaXMtPmxvb2tBaGVhZCA9PSAnPicpKSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gJHRva2VuOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAvLyBpZiBpdCdzIGEgcmVmZXJlbmNlIEExIG9yICRBJDEgb3IgJEExIG9yIEEkMQogICAgICAgICAgICAgICAgaWYgKHByZWdfbWF0Y2goJy9eXCQ\/W0EtSWEtaV0\/W0EtWmEtel1cJD9bMC05XSskLycsICR0b2tlbikgYW5kICFwcmVnX21hdGNoKCIvWzAtOV0vIiwgJHRoaXMtPmxvb2tBaGVhZCkgYW5kICgkdGhpcy0+bG9va0FoZWFkICE9ICc6JykgYW5kICgkdGhpcy0+bG9va0FoZWFkICE9ICcuJykgYW5kICgkdGhpcy0+bG9va0FoZWFkICE9ICchJykpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHRva2VuOwogICAgICAgICAgICAgICAgfSBlbHNlaWYgKHByZWdfbWF0Y2goIi9eIiAuIHNlbGY6OlJFR0VYX1NIRUVUX1RJVExFX1VOUVVPVEVEIC4gIihcOiIgLiBzZWxmOjpSRUdFWF9TSEVFVF9USVRMRV9VTlFVT1RFRCAuICIpP1whXFwkP1tBLUlhLWldP1tBLVphLXpdXFwkP1swLTldKyQvdSIsICR0b2tlbikgYW5kICFwcmVnX21hdGNoKCIvWzAtOV0vIiwgJHRoaXMtPmxvb2tBaGVhZCkgYW5kICgkdGhpcy0+bG9va0FoZWFkICE9ICc6JykgYW5kICgkdGhpcy0+bG9va0FoZWFkICE9ICcuJykpIHsKICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGFuIGV4dGVybmFsIHJlZmVyZW5jZSAoU2hlZXQxIUExIG9yIFNoZWV0MTpTaGVldDIhQTEgb3IgU2hlZXQxISRBJDEgb3IgU2hlZXQxOlNoZWV0MiEkQSQxKQogICAgICAgICAgICAgICAgICAgIHJldHVybiAkdG9rZW47CiAgICAgICAgICAgICAgICB9IGVsc2VpZiAocHJlZ19tYXRjaCgiL14nIiAuIHNlbGY6OlJFR0VYX1NIRUVUX1RJVExFX1FVT1RFRCAuICIoXDoiIC4gc2VsZjo6UkVHRVhfU0hFRVRfVElUTEVfUVVPVEVEIC4gIik\/J1whXFwkP1tBLUlhLWldP1tBLVphLXpdXFwkP1swLTldKyQvdSIsICR0b2tlbikgYW5kICFwcmVnX21hdGNoKCIvWzAtOV0vIiwgJHRoaXMtPmxvb2tBaGVhZCkgYW5kICgkdGhpcy0+bG9va0FoZWFkICE9ICc6JykgYW5kICgkdGhpcy0+bG9va0FoZWFkICE9ICcuJykpIHsKICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGFuIGV4dGVybmFsIHJlZmVyZW5jZSAoJ1NoZWV0MSchQTEgb3IgJ1NoZWV0MTpTaGVldDInIUExIG9yICdTaGVldDEnISRBJDEgb3IgJ1NoZWV0MTpTaGVldDInISRBJDEpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICR0b2tlbjsKICAgICAgICAgICAgICAgIH0gZWxzZWlmIChwcmVnX21hdGNoKCcvXihcJCk\/W0EtSWEtaV0\/W0EtWmEtel0oXCQpP1swLTldKzooXCQpP1tBLUlhLWldP1tBLVphLXpdKFwkKT9bMC05XSskLycsICR0b2tlbikgJiYgIXByZWdfbWF0Y2goIi9bMC05XS8iLCAkdGhpcy0+bG9va0FoZWFkKSkgewogICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3MgYSByYW5nZSBBMTpBMiBvciAkQSQxOiRBJDIKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHRva2VuOwogICAgICAgICAgICAgICAgfSBlbHNlaWYgKHByZWdfbWF0Y2goIi9eIiAuIHNlbGY6OlJFR0VYX1NIRUVUX1RJVExFX1VOUVVPVEVEIC4gIihcOiIgLiBzZWxmOjpSRUdFWF9TSEVFVF9USVRMRV9VTlFVT1RFRCAuICIpP1whXFwkPyhbQS1JYS1pXT9bQS1aYS16XSk\/XFwkP1swLTldKzpcXCQ\/KFtBLUlhLWldP1tBLVphLXpdKT9cXCQ\/WzAtOV0rJC91IiwgJHRva2VuKSBhbmQgIXByZWdfbWF0Y2goIi9bMC05XS8iLCAkdGhpcy0+bG9va0FoZWFkKSkgewogICAgICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYW4gZXh0ZXJuYWwgcmFuZ2UgbGlrZSBTaGVldDEhQTE6QjIgb3IgU2hlZXQxOlNoZWV0MiFBMTpCMiBvciBTaGVldDEhJEEkMTokQiQyIG9yIFNoZWV0MTpTaGVldDIhJEEkMTokQiQyCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICR0b2tlbjsKICAgICAgICAgICAgICAgIH0gZWxzZWlmIChwcmVnX21hdGNoKCIvXiciIC4gc2VsZjo6UkVHRVhfU0hFRVRfVElUTEVfUVVPVEVEIC4gIihcOiIgLiBzZWxmOjpSRUdFWF9TSEVFVF9USVRMRV9RVU9URUQgLiAiKT8nXCFcXCQ\/KFtBLUlhLWldP1tBLVphLXpdKT9cXCQ\/WzAtOV0rOlxcJD8oW0EtSWEtaV0\/W0EtWmEtel0pP1xcJD9bMC05XSskL3UiLCAkdG9rZW4pIGFuZCAhcHJlZ19tYXRjaCgiL1swLTldLyIsICR0aGlzLT5sb29rQWhlYWQpKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gSWYgaXQncyBhbiBleHRlcm5hbCByYW5nZSBsaWtlICdTaGVldDEnIUExOkIyIG9yICdTaGVldDE6U2hlZXQyJyFBMTpCMiBvciAnU2hlZXQxJyEkQSQxOiRCJDIgb3IgJ1NoZWV0MTpTaGVldDInISRBJDE6JEIkMgogICAgICAgICAgICAgICAgICAgIHJldHVybiAkdG9rZW47CiAgICAgICAgICAgICAgICB9IGVsc2VpZiAoaXNfbnVtZXJpYygkdG9rZW4pIGFuZCAoIWlzX251bWVyaWMoJHRva2VuLiR0aGlzLT5sb29rQWhlYWQpIG9yICgkdGhpcy0+bG9va0FoZWFkID09ICcnKSkgYW5kICgkdGhpcy0+bG9va0FoZWFkICE9ICchJykgYW5kICgkdGhpcy0+bG9va0FoZWFkICE9ICc6JykpIHsKICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgbnVtYmVyIChjaGVjayB0aGF0IGl0J3Mgbm90IGEgc2hlZXQgbmFtZSBvciByYW5nZSkKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHRva2VuOwogICAgICAgICAgICAgICAgfSBlbHNlaWYgKHByZWdfbWF0Y2goIi9cIihbXlwiXXxcIlwiKXswLDI1NX1cIi8iLCAkdG9rZW4pIGFuZCAkdGhpcy0+bG9va0FoZWFkICE9ICciJyBhbmQgKHN1YnN0cl9jb3VudCgkdG9rZW4sICciJyklMiA9PSAwKSkgewogICAgICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYSBzdHJpbmcgKG9mIG1heGltdW0gMjU1IGNoYXJhY3RlcnMpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICR0b2tlbjsKICAgICAgICAgICAgICAgIH0gZWxzZWlmIChwcmVnX21hdGNoKCIvXiNbQS1aMFwvXXszLDV9WyE\/XXsxfSQvIiwgJHRva2VuKSBvciAkdG9rZW4gPT0gJyNOL0EnKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gSWYgaXQncyBhbiBlcnJvciBjb2RlCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICR0b2tlbjsKICAgICAgICAgICAgICAgIH0gZWxzZWlmIChwcmVnX21hdGNoKCIvXltBLVowLTlceGMwLVx4ZGNcLl0rJC9pIiwgJHRva2VuKSBhbmQgKCR0aGlzLT5sb29rQWhlYWQgPT0gIigiKSkgewogICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3MgYSBmdW5jdGlvbiBjYWxsCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICR0b2tlbjsKICAgICAgICAgICAgICAgIH0gZWxzZWlmIChzdWJzdHIoJHRva2VuLCAtMSkgPT0gJyknKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgSXQncyBhbiBhcmd1bWVudCBvZiBzb21lIGRlc2NyaXB0aW9uIChlLmcuIGEgbmFtZWQgcmFuZ2UpLAogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBwcmVjaXNlIG5hdHVyZSB5ZXQgdG8gYmUgZGV0ZXJtaW5lZAogICAgICAgICAgICAgICAgICAgIHJldHVybiAkdG9rZW47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogVGhlIHBhcnNpbmcgbWV0aG9kLiBJdCBwYXJzZXMgYSBmb3JtdWxhLgogICAgICoKICAgICAqIEBhY2Nlc3MgcHVibGljCiAgICAgKiBAcGFyYW0gc3RyaW5nICRmb3JtdWxhIFRoZSBmb3JtdWxhIHRvIHBhcnNlLCB3aXRob3V0IHRoZSBpbml0aWFsIGVxdWFsCiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ24gKD0pLgogICAgICogQHJldHVybiBtaXhlZCB0cnVlIG9uIHN1Y2Nlc3MKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHBhcnNlKCRmb3JtdWxhKQogICAgewogICAgICAgICR0aGlzLT5jdXJyZW50Q2hhcmFjdGVyID0gMDsKICAgICAgICAkdGhpcy0+Zm9ybXVsYSAgICAgID0gJGZvcm11bGE7CiAgICAgICAgJHRoaXMtPmxvb2tBaGVhZCAgICA9IGlzc2V0KCRmb3JtdWxhezF9KSA\/ICRmb3JtdWxhezF9IDogJyc7CiAgICAgICAgJHRoaXMtPmFkdmFuY2UoKTsKICAgICAgICAkdGhpcy0+cGFyc2VUcmVlICAgPSAkdGhpcy0+Y29uZGl0aW9uKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBJdCBwYXJzZXMgYSBjb25kaXRpb24uIEl0IGFzc3VtZXMgdGhlIGZvbGxvd2luZyBydWxlOgogICAgICogQ29uZCAtPiBFeHByIFsoIj4iIHwgIjwiKSBFeHByXQogICAgICoKICAgICAqIEBhY2Nlc3MgcHJpdmF0ZQogICAgICogQHJldHVybiBtaXhlZCBUaGUgcGFyc2VkIHB0ZydkIHRyZWUgb24gc3VjY2VzcwogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIGNvbmRpdGlvbigpCiAgICB7CiAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT5leHByZXNzaW9uKCk7CiAgICAgICAgaWYgKCR0aGlzLT5jdXJyZW50VG9rZW4gPT0gIjwiKSB7CiAgICAgICAgICAgICR0aGlzLT5hZHZhbmNlKCk7CiAgICAgICAgICAgICRyZXN1bHQyID0gJHRoaXMtPmV4cHJlc3Npb24oKTsKICAgICAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT5jcmVhdGVUcmVlKCdwdGdMVCcsICRyZXN1bHQsICRyZXN1bHQyKTsKICAgICAgICB9IGVsc2VpZiAoJHRoaXMtPmN1cnJlbnRUb2tlbiA9PSAiPiIpIHsKICAgICAgICAgICAgJHRoaXMtPmFkdmFuY2UoKTsKICAgICAgICAgICAgJHJlc3VsdDIgPSAkdGhpcy0+ZXhwcmVzc2lvbigpOwogICAgICAgICAgICAkcmVzdWx0ID0gJHRoaXMtPmNyZWF0ZVRyZWUoJ3B0Z0dUJywgJHJlc3VsdCwgJHJlc3VsdDIpOwogICAgICAgIH0gZWxzZWlmICgkdGhpcy0+Y3VycmVudFRva2VuID09ICI8PSIpIHsKICAgICAgICAgICAgJHRoaXMtPmFkdmFuY2UoKTsKICAgICAgICAgICAgJHJlc3VsdDIgPSAkdGhpcy0+ZXhwcmVzc2lvbigpOwogICAgICAgICAgICAkcmVzdWx0ID0gJHRoaXMtPmNyZWF0ZVRyZWUoJ3B0Z0xFJywgJHJlc3VsdCwgJHJlc3VsdDIpOwogICAgICAgIH0gZWxzZWlmICgkdGhpcy0+Y3VycmVudFRva2VuID09ICI+PSIpIHsKICAgICAgICAgICAgJHRoaXMtPmFkdmFuY2UoKTsKICAgICAgICAgICAgJHJlc3VsdDIgPSAkdGhpcy0+ZXhwcmVzc2lvbigpOwogICAgICAgICAgICAkcmVzdWx0ID0gJHRoaXMtPmNyZWF0ZVRyZWUoJ3B0Z0dFJywgJHJlc3VsdCwgJHJlc3VsdDIpOwogICAgICAgIH0gZWxzZWlmICgkdGhpcy0+Y3VycmVudFRva2VuID09ICI9IikgewogICAgICAgICAgICAkdGhpcy0+YWR2YW5jZSgpOwogICAgICAgICAgICAkcmVzdWx0MiA9ICR0aGlzLT5leHByZXNzaW9uKCk7CiAgICAgICAgICAgICRyZXN1bHQgPSAkdGhpcy0+Y3JlYXRlVHJlZSgncHRnRVEnLCAkcmVzdWx0LCAkcmVzdWx0Mik7CiAgICAgICAgfSBlbHNlaWYgKCR0aGlzLT5jdXJyZW50VG9rZW4gPT0gIjw+IikgewogICAgICAgICAgICAkdGhpcy0+YWR2YW5jZSgpOwogICAgICAgICAgICAkcmVzdWx0MiA9ICR0aGlzLT5leHByZXNzaW9uKCk7CiAgICAgICAgICAgICRyZXN1bHQgPSAkdGhpcy0+Y3JlYXRlVHJlZSgncHRnTkUnLCAkcmVzdWx0LCAkcmVzdWx0Mik7CiAgICAgICAgfSBlbHNlaWYgKCR0aGlzLT5jdXJyZW50VG9rZW4gPT0gIiYiKSB7CiAgICAgICAgICAgICR0aGlzLT5hZHZhbmNlKCk7CiAgICAgICAgICAgICRyZXN1bHQyID0gJHRoaXMtPmV4cHJlc3Npb24oKTsKICAgICAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT5jcmVhdGVUcmVlKCdwdGdDb25jYXQnLCAkcmVzdWx0LCAkcmVzdWx0Mik7CiAgICAgICAgfQogICAgICAgIHJldHVybiAkcmVzdWx0OwogICAgfQoKICAgIC8qKgogICAgICogSXQgcGFyc2VzIGEgZXhwcmVzc2lvbi4gSXQgYXNzdW1lcyB0aGUgZm9sbG93aW5nIHJ1bGU6CiAgICAgKiBFeHByIC0+IFRlcm0gWygiKyIgfCAiLSIpIFRlcm1dCiAgICAgKiAgICAgIC0+ICJzdHJpbmciCiAgICAgKiAgICAgIC0+ICItIiBUZXJtIDogTmVnYXRpdmUgdmFsdWUKICAgICAqICAgICAgLT4gIisiIFRlcm0gOiBQb3NpdGl2ZSB2YWx1ZQogICAgICogICAgICAtPiBFcnJvciBjb2RlCiAgICAgKgogICAgICogQGFjY2VzcyBwcml2YXRlCiAgICAgKiBAcmV0dXJuIG1peGVkIFRoZSBwYXJzZWQgcHRnJ2QgdHJlZSBvbiBzdWNjZXNzCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gZXhwcmVzc2lvbigpCiAgICB7CiAgICAgICAgLy8gSWYgaXQncyBhIHN0cmluZyByZXR1cm4gYSBzdHJpbmcgbm9kZQogICAgICAgIGlmIChwcmVnX21hdGNoKCIvXCIoW15cIl18XCJcIil7MCwyNTV9XCIvIiwgJHRoaXMtPmN1cnJlbnRUb2tlbikpIHsKICAgICAgICAgICAgJHRtcCA9IHN0cl9yZXBsYWNlKCciIicsICciJywgJHRoaXMtPmN1cnJlbnRUb2tlbik7CiAgICAgICAgICAgIGlmICgoJHRtcCA9PSAnIicpIHx8ICgkdG1wID09ICcnKSkgewogICAgICAgICAgICAgICAgLy8gICAgVHJhcCBmb3IgIiIgdGhhdCBoYXMgYmVlbiB1c2VkIGZvciBhbiBlbXB0eSBzdHJpbmcKICAgICAgICAgICAgICAgICR0bXAgPSAnIiInOwogICAgICAgICAgICB9CiAgICAgICAgICAgICRyZXN1bHQgPSAkdGhpcy0+Y3JlYXRlVHJlZSgkdG1wLCAnJywgJycpOwogICAgICAgICAgICAkdGhpcy0+YWR2YW5jZSgpOwogICAgICAgICAgICByZXR1cm4gJHJlc3VsdDsKICAgICAgICAvLyBJZiBpdCdzIGFuIGVycm9yIGNvZGUKICAgICAgICB9IGVsc2VpZiAocHJlZ19tYXRjaCgiL14jW0EtWjBcL117Myw1fVshP117MX0kLyIsICR0aGlzLT5jdXJyZW50VG9rZW4pIG9yICR0aGlzLT5jdXJyZW50VG9rZW4gPT0gJyNOL0EnKSB7CiAgICAgICAgICAgICRyZXN1bHQgPSAkdGhpcy0+Y3JlYXRlVHJlZSgkdGhpcy0+Y3VycmVudFRva2VuLCAncHRnRXJyJywgJycpOwogICAgICAgICAgICAkdGhpcy0+YWR2YW5jZSgpOwogICAgICAgICAgICByZXR1cm4gJHJlc3VsdDsKICAgICAgICAvLyBJZiBpdCdzIGEgbmVnYXRpdmUgdmFsdWUKICAgICAgICB9IGVsc2VpZiAoJHRoaXMtPmN1cnJlbnRUb2tlbiA9PSAiLSIpIHsKICAgICAgICAgICAgLy8gY2F0Y2ggIi0iIFRlcm0KICAgICAgICAgICAgJHRoaXMtPmFkdmFuY2UoKTsKICAgICAgICAgICAgJHJlc3VsdDIgPSAkdGhpcy0+ZXhwcmVzc2lvbigpOwogICAgICAgICAgICAkcmVzdWx0ID0gJHRoaXMtPmNyZWF0ZVRyZWUoJ3B0Z1VtaW51cycsICRyZXN1bHQyLCAnJyk7CiAgICAgICAgICAgIHJldHVybiAkcmVzdWx0OwogICAgICAgIC8vIElmIGl0J3MgYSBwb3NpdGl2ZSB2YWx1ZQogICAgICAgIH0gZWxzZWlmICgkdGhpcy0+Y3VycmVudFRva2VuID09ICIrIikgewogICAgICAgICAgICAvLyBjYXRjaCAiKyIgVGVybQogICAgICAgICAgICAkdGhpcy0+YWR2YW5jZSgpOwogICAgICAgICAgICAkcmVzdWx0MiA9ICR0aGlzLT5leHByZXNzaW9uKCk7CiAgICAgICAgICAgICRyZXN1bHQgPSAkdGhpcy0+Y3JlYXRlVHJlZSgncHRnVXBsdXMnLCAkcmVzdWx0MiwgJycpOwogICAgICAgICAgICByZXR1cm4gJHJlc3VsdDsKICAgICAgICB9CiAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT50ZXJtKCk7CiAgICAgICAgd2hpbGUgKCgkdGhpcy0+Y3VycmVudFRva2VuID09ICIrIikgb3IKICAgICAgICAgICAgICAgKCR0aGlzLT5jdXJyZW50VG9rZW4gPT0gIi0iKSBvcgogICAgICAgICAgICAgICAoJHRoaXMtPmN1cnJlbnRUb2tlbiA9PSAiXiIpKSB7CiAgICAgICAgLyoqLwogICAgICAgICAgICBpZiAoJHRoaXMtPmN1cnJlbnRUb2tlbiA9PSAiKyIpIHsKICAgICAgICAgICAgICAgICR0aGlzLT5hZHZhbmNlKCk7CiAgICAgICAgICAgICAgICAkcmVzdWx0MiA9ICR0aGlzLT50ZXJtKCk7CiAgICAgICAgICAgICAgICAkcmVzdWx0ID0gJHRoaXMtPmNyZWF0ZVRyZWUoJ3B0Z0FkZCcsICRyZXN1bHQsICRyZXN1bHQyKTsKICAgICAgICAgICAgfSBlbHNlaWYgKCR0aGlzLT5jdXJyZW50VG9rZW4gPT0gIi0iKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+YWR2YW5jZSgpOwogICAgICAgICAgICAgICAgJHJlc3VsdDIgPSAkdGhpcy0+dGVybSgpOwogICAgICAgICAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT5jcmVhdGVUcmVlKCdwdGdTdWInLCAkcmVzdWx0LCAkcmVzdWx0Mik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+YWR2YW5jZSgpOwogICAgICAgICAgICAgICAgJHJlc3VsdDIgPSAkdGhpcy0+dGVybSgpOwogICAgICAgICAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT5jcmVhdGVUcmVlKCdwdGdQb3dlcicsICRyZXN1bHQsICRyZXN1bHQyKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gJHJlc3VsdDsKICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMgZnVuY3Rpb24ganVzdCBpbnRyb2R1Y2VzIGEgcHRnUGFyZW4gZWxlbWVudCBpbiB0aGUgdHJlZSwgc28gdGhhdCBFeGNlbAogICAgICogZG9lc24ndCBnZXQgY29uZnVzZWQgd2hlbiB3b3JraW5nIHdpdGggYSBwYXJlbnRoZXNpemVkIGZvcm11bGEgYWZ0ZXJ3YXJkcy4KICAgICAqCiAgICAgKiBAYWNjZXNzIHByaXZhdGUKICAgICAqIEBzZWUgZmFjdCgpCiAgICAgKiBAcmV0dXJuIGFycmF5IFRoZSBwYXJzZWQgcHRnJ2QgdHJlZQogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIHBhcmVudGhlc2l6ZWRFeHByZXNzaW9uKCkKICAgIHsKICAgICAgICAkcmVzdWx0ID0gJHRoaXMtPmNyZWF0ZVRyZWUoJ3B0Z1BhcmVuJywgJHRoaXMtPmV4cHJlc3Npb24oKSwgJycpOwogICAgICAgIHJldHVybiAkcmVzdWx0OwogICAgfQoKICAgIC8qKgogICAgICogSXQgcGFyc2VzIGEgdGVybS4gSXQgYXNzdW1lcyB0aGUgZm9sbG93aW5nIHJ1bGU6CiAgICAgKiBUZXJtIC0+IEZhY3QgWygiKiIgfCAiLyIpIEZhY3RdCiAgICAgKgogICAgICogQGFjY2VzcyBwcml2YXRlCiAgICAgKiBAcmV0dXJuIG1peGVkIFRoZSBwYXJzZWQgcHRnJ2QgdHJlZSBvbiBzdWNjZXNzCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gdGVybSgpCiAgICB7CiAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT5mYWN0KCk7CiAgICAgICAgd2hpbGUgKCgkdGhpcy0+Y3VycmVudFRva2VuID09ICIqIikgb3IKICAgICAgICAgICAgICAgKCR0aGlzLT5jdXJyZW50VG9rZW4gPT0gIi8iKSkgewogICAgICAgIC8qKi8KICAgICAgICAgICAgaWYgKCR0aGlzLT5jdXJyZW50VG9rZW4gPT0gIioiKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+YWR2YW5jZSgpOwogICAgICAgICAgICAgICAgJHJlc3VsdDIgPSAkdGhpcy0+ZmFjdCgpOwogICAgICAgICAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT5jcmVhdGVUcmVlKCdwdGdNdWwnLCAkcmVzdWx0LCAkcmVzdWx0Mik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+YWR2YW5jZSgpOwogICAgICAgICAgICAgICAgJHJlc3VsdDIgPSAkdGhpcy0+ZmFjdCgpOwogICAgICAgICAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT5jcmVhdGVUcmVlKCdwdGdEaXYnLCAkcmVzdWx0LCAkcmVzdWx0Mik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuICRyZXN1bHQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBJdCBwYXJzZXMgYSBmYWN0b3IuIEl0IGFzc3VtZXMgdGhlIGZvbGxvd2luZyBydWxlOgogICAgICogRmFjdCAtPiAoIEV4cHIgKQogICAgICogICAgICAgfCBDZWxsUmVmCiAgICAgKiAgICAgICB8IENlbGxSYW5nZQogICAgICogICAgICAgfCBOdW1iZXIKICAgICAqICAgICAgIHwgRnVuY3Rpb24KICAgICAqCiAgICAgKiBAYWNjZXNzIHByaXZhdGUKICAgICAqIEByZXR1cm4gbWl4ZWQgVGhlIHBhcnNlZCBwdGcnZCB0cmVlIG9uIHN1Y2Nlc3MKICAgICAqLwogICAgcHJpdmF0ZSBmdW5jdGlvbiBmYWN0KCkKICAgIHsKICAgICAgICBpZiAoJHRoaXMtPmN1cnJlbnRUb2tlbiA9PSAiKCIpIHsKICAgICAgICAgICAgJHRoaXMtPmFkdmFuY2UoKTsgICAgICAgICAvLyBlYXQgdGhlICIoIgogICAgICAgICAgICAkcmVzdWx0ID0gJHRoaXMtPnBhcmVudGhlc2l6ZWRFeHByZXNzaW9uKCk7CiAgICAgICAgICAgIGlmICgkdGhpcy0+Y3VycmVudFRva2VuICE9ICIpIikgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX1dyaXRlcl9FeGNlcHRpb24oIicpJyB0b2tlbiBleHBlY3RlZC4iKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkdGhpcy0+YWR2YW5jZSgpOyAgICAgICAgIC8vIGVhdCB0aGUgIikiCiAgICAgICAgICAgIHJldHVybiAkcmVzdWx0OwogICAgICAgIH0KICAgICAgICAvLyBpZiBpdCdzIGEgcmVmZXJlbmNlCiAgICAgICAgaWYgKHByZWdfbWF0Y2goJy9eXCQ\/W0EtSWEtaV0\/W0EtWmEtel1cJD9bMC05XSskLycsICR0aGlzLT5jdXJyZW50VG9rZW4pKSB7CiAgICAgICAgICAgICRyZXN1bHQgPSAkdGhpcy0+Y3JlYXRlVHJlZSgkdGhpcy0+Y3VycmVudFRva2VuLCAnJywgJycpOwogICAgICAgICAgICAkdGhpcy0+YWR2YW5jZSgpOwogICAgICAgICAgICByZXR1cm4gJHJlc3VsdDsKICAgICAgICB9IGVsc2VpZiAocHJlZ19tYXRjaCgiL14iIC4gc2VsZjo6UkVHRVhfU0hFRVRfVElUTEVfVU5RVU9URUQgLiAiKFw6IiAuIHNlbGY6OlJFR0VYX1NIRUVUX1RJVExFX1VOUVVPVEVEIC4gIik\/XCFcXCQ\/W0EtSWEtaV0\/W0EtWmEtel1cXCQ\/WzAtOV0rJC91IiwgJHRoaXMtPmN1cnJlbnRUb2tlbikpIHsKICAgICAgICAgICAgLy8gSWYgaXQncyBhbiBleHRlcm5hbCByZWZlcmVuY2UgKFNoZWV0MSFBMSBvciBTaGVldDE6U2hlZXQyIUExIG9yIFNoZWV0MSEkQSQxIG9yIFNoZWV0MTpTaGVldDIhJEEkMSkKICAgICAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT5jcmVhdGVUcmVlKCR0aGlzLT5jdXJyZW50VG9rZW4sICcnLCAnJyk7CiAgICAgICAgICAgICR0aGlzLT5hZHZhbmNlKCk7CiAgICAgICAgICAgIHJldHVybiAkcmVzdWx0OwogICAgICAgIH0gZWxzZWlmIChwcmVnX21hdGNoKCIvXiciIC4gc2VsZjo6UkVHRVhfU0hFRVRfVElUTEVfUVVPVEVEIC4gIihcOiIgLiBzZWxmOjpSRUdFWF9TSEVFVF9USVRMRV9RVU9URUQgLiAiKT8nXCFcXCQ\/W0EtSWEtaV0\/W0EtWmEtel1cXCQ\/WzAtOV0rJC91IiwgJHRoaXMtPmN1cnJlbnRUb2tlbikpIHsKICAgICAgICAgICAgLy8gSWYgaXQncyBhbiBleHRlcm5hbCByZWZlcmVuY2UgKCdTaGVldDEnIUExIG9yICdTaGVldDE6U2hlZXQyJyFBMSBvciAnU2hlZXQxJyEkQSQxIG9yICdTaGVldDE6U2hlZXQyJyEkQSQxKQogICAgICAgICAgICAkcmVzdWx0ID0gJHRoaXMtPmNyZWF0ZVRyZWUoJHRoaXMtPmN1cnJlbnRUb2tlbiwgJycsICcnKTsKICAgICAgICAgICAgJHRoaXMtPmFkdmFuY2UoKTsKICAgICAgICAgICAgcmV0dXJuICRyZXN1bHQ7CiAgICAgICAgfSBlbHNlaWYgKHByZWdfbWF0Y2goJy9eKFwkKT9bQS1JYS1pXT9bQS1aYS16XShcJCk\/WzAtOV0rOihcJCk\/W0EtSWEtaV0\/W0EtWmEtel0oXCQpP1swLTldKyQvJywgJHRoaXMtPmN1cnJlbnRUb2tlbikgb3IKICAgICAgICAgICAgICAgIHByZWdfbWF0Y2goJy9eKFwkKT9bQS1JYS1pXT9bQS1aYS16XShcJCk\/WzAtOV0rXC5cLihcJCk\/W0EtSWEtaV0\/W0EtWmEtel0oXCQpP1swLTldKyQvJywgJHRoaXMtPmN1cnJlbnRUb2tlbikpIHsKICAgICAgICAgICAgLy8gaWYgaXQncyBhIHJhbmdlIEExOkIyIG9yICRBJDE6JEIkMgogICAgICAgICAgICAvLyBtdXN0IGJlIGFuIGVycm9yPwogICAgICAgICAgICAkcmVzdWx0ID0gJHRoaXMtPmNyZWF0ZVRyZWUoJHRoaXMtPmN1cnJlbnRUb2tlbiwgJycsICcnKTsKICAgICAgICAgICAgJHRoaXMtPmFkdmFuY2UoKTsKICAgICAgICAgICAgcmV0dXJuICRyZXN1bHQ7CiAgICAgICAgfSBlbHNlaWYgKHByZWdfbWF0Y2goIi9eIiAuIHNlbGY6OlJFR0VYX1NIRUVUX1RJVExFX1VOUVVPVEVEIC4gIihcOiIgLiBzZWxmOjpSRUdFWF9TSEVFVF9USVRMRV9VTlFVT1RFRCAuICIpP1whXFwkPyhbQS1JYS1pXT9bQS1aYS16XSk\/XFwkP1swLTldKzpcXCQ\/KFtBLUlhLWldP1tBLVphLXpdKT9cXCQ\/WzAtOV0rJC91IiwgJHRoaXMtPmN1cnJlbnRUb2tlbikpIHsKICAgICAgICAgICAgLy8gSWYgaXQncyBhbiBleHRlcm5hbCByYW5nZSAoU2hlZXQxIUExOkIyIG9yIFNoZWV0MTpTaGVldDIhQTE6QjIgb3IgU2hlZXQxISRBJDE6JEIkMiBvciBTaGVldDE6U2hlZXQyISRBJDE6JEIkMikKICAgICAgICAgICAgLy8gbXVzdCBiZSBhbiBlcnJvcj8KICAgICAgICAgICAgLy8kcmVzdWx0ID0gJHRoaXMtPmN1cnJlbnRUb2tlbjsKICAgICAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT5jcmVhdGVUcmVlKCR0aGlzLT5jdXJyZW50VG9rZW4sICcnLCAnJyk7CiAgICAgICAgICAgICR0aGlzLT5hZHZhbmNlKCk7CiAgICAgICAgICAgIHJldHVybiAkcmVzdWx0OwogICAgICAgIH0gZWxzZWlmIChwcmVnX21hdGNoKCIvXiciIC4gc2VsZjo6UkVHRVhfU0hFRVRfVElUTEVfUVVPVEVEIC4gIihcOiIgLiBzZWxmOjpSRUdFWF9TSEVFVF9USVRMRV9RVU9URUQgLiAiKT8nXCFcXCQ\/KFtBLUlhLWldP1tBLVphLXpdKT9cXCQ\/WzAtOV0rOlxcJD8oW0EtSWEtaV0\/W0EtWmEtel0pP1xcJD9bMC05XSskL3UiLCAkdGhpcy0+Y3VycmVudFRva2VuKSkgewogICAgICAgICAgICAvLyBJZiBpdCdzIGFuIGV4dGVybmFsIHJhbmdlICgnU2hlZXQxJyFBMTpCMiBvciAnU2hlZXQxJyFBMTpCMiBvciAnU2hlZXQxJyEkQSQxOiRCJDIgb3IgJ1NoZWV0MSchJEEkMTokQiQyKQogICAgICAgICAgICAvLyBtdXN0IGJlIGFuIGVycm9yPwogICAgICAgICAgICAvLyRyZXN1bHQgPSAkdGhpcy0+Y3VycmVudFRva2VuOwogICAgICAgICAgICAkcmVzdWx0ID0gJHRoaXMtPmNyZWF0ZVRyZWUoJHRoaXMtPmN1cnJlbnRUb2tlbiwgJycsICcnKTsKICAgICAgICAgICAgJHRoaXMtPmFkdmFuY2UoKTsKICAgICAgICAgICAgcmV0dXJuICRyZXN1bHQ7CiAgICAgICAgfSBlbHNlaWYgKGlzX251bWVyaWMoJHRoaXMtPmN1cnJlbnRUb2tlbikpIHsKICAgICAgICAgICAgLy8gSWYgaXQncyBhIG51bWJlciBvciBhIHBlcmNlbnQKICAgICAgICAgICAgaWYgKCR0aGlzLT5sb29rQWhlYWQgPT0gJyUnKSB7CiAgICAgICAgICAgICAgICAkcmVzdWx0ID0gJHRoaXMtPmNyZWF0ZVRyZWUoJ3B0Z1BlcmNlbnQnLCAkdGhpcy0+Y3VycmVudFRva2VuLCAnJyk7CiAgICAgICAgICAgICAgICAkdGhpcy0+YWR2YW5jZSgpOyAgLy8gU2tpcCB0aGUgcGVyY2VudGFnZSBvcGVyYXRvciBvbmNlIHdlJ3ZlIHByZS1idWlsdCB0aGF0IHRyZWUKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICRyZXN1bHQgPSAkdGhpcy0+Y3JlYXRlVHJlZSgkdGhpcy0+Y3VycmVudFRva2VuLCAnJywgJycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICR0aGlzLT5hZHZhbmNlKCk7CiAgICAgICAgICAgIHJldHVybiAkcmVzdWx0OwogICAgICAgIH0gZWxzZWlmIChwcmVnX21hdGNoKCIvXltBLVowLTlceGMwLVx4ZGNcLl0rJC9pIiwgJHRoaXMtPmN1cnJlbnRUb2tlbikpIHsKICAgICAgICAgICAgLy8gaWYgaXQncyBhIGZ1bmN0aW9uIGNhbGwKICAgICAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT5mdW5jKCk7CiAgICAgICAgICAgIHJldHVybiAkcmVzdWx0OwogICAgICAgIH0KICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfV3JpdGVyX0V4Y2VwdGlvbigiU3ludGF4IGVycm9yOiAiLiR0aGlzLT5jdXJyZW50VG9rZW4uIiwgbG9va2FoZWFkOiAiLiR0aGlzLT5sb29rQWhlYWQuIiwgY3VycmVudCBjaGFyOiAiLiR0aGlzLT5jdXJyZW50Q2hhcmFjdGVyKTsKICAgIH0KCiAgICAvKioKICAgICAqIEl0IHBhcnNlcyBhIGZ1bmN0aW9uIGNhbGwuIEl0IGFzc3VtZXMgdGhlIGZvbGxvd2luZyBydWxlOgogICAgICogRnVuYyAtPiAoIEV4cHIgWyxFeHByXSogKQogICAgICoKICAgICAqIEBhY2Nlc3MgcHJpdmF0ZQogICAgICogQHJldHVybiBtaXhlZCBUaGUgcGFyc2VkIHB0ZydkIHRyZWUgb24gc3VjY2VzcwogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIGZ1bmMoKQogICAgewogICAgICAgICRudW1fYXJncyA9IDA7IC8vIG51bWJlciBvZiBhcmd1bWVudHMgcmVjZWl2ZWQKICAgICAgICAkZnVuY3Rpb24gPSBzdHJ0b3VwcGVyKCR0aGlzLT5jdXJyZW50VG9rZW4pOwogICAgICAgICRyZXN1bHQgICA9ICcnOyAvLyBpbml0aWFsaXplIHJlc3VsdAogICAgICAgICR0aGlzLT5hZHZhbmNlKCk7CiAgICAgICAgJHRoaXMtPmFkdmFuY2UoKTsgICAgICAgICAvLyBlYXQgdGhlICIoIgogICAgICAgIHdoaWxlICgkdGhpcy0+Y3VycmVudFRva2VuICE9ICcpJykgewogICAgICAgIC8qKi8KICAgICAgICAgICAgaWYgKCRudW1fYXJncyA+IDApIHsKICAgICAgICAgICAgICAgIGlmICgkdGhpcy0+Y3VycmVudFRva2VuID09ICIsIiB8fCAkdGhpcy0+Y3VycmVudFRva2VuID09ICI7IikgewogICAgICAgICAgICAgICAgICAgICR0aGlzLT5hZHZhbmNlKCk7ICAvLyBlYXQgdGhlICIsIiBvciAiOyIKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX1dyaXRlcl9FeGNlcHRpb24oIlN5bnRheCBlcnJvcjogY29tbWEgZXhwZWN0ZWQgaW4gZnVuY3Rpb24gJGZ1bmN0aW9uLCBhcmcgI3skbnVtX2FyZ3N9Iik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkcmVzdWx0MiA9ICR0aGlzLT5jb25kaXRpb24oKTsKICAgICAgICAgICAgICAgICRyZXN1bHQgPSAkdGhpcy0+Y3JlYXRlVHJlZSgnYXJnJywgJHJlc3VsdCwgJHJlc3VsdDIpOwogICAgICAgICAgICB9IGVsc2UgeyAvLyBmaXJzdCBhcmd1bWVudAogICAgICAgICAgICAgICAgJHJlc3VsdDIgPSAkdGhpcy0+Y29uZGl0aW9uKCk7CiAgICAgICAgICAgICAgICAkcmVzdWx0ID0gJHRoaXMtPmNyZWF0ZVRyZWUoJ2FyZycsICcnLCAkcmVzdWx0Mik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgKyskbnVtX2FyZ3M7CiAgICAgICAgfQogICAgICAgIGlmICghaXNzZXQoJHRoaXMtPmZ1bmN0aW9uc1skZnVuY3Rpb25dKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfV3JpdGVyX0V4Y2VwdGlvbigiRnVuY3Rpb24gJGZ1bmN0aW9uKCkgZG9lc24ndCBleGlzdCIpOwogICAgICAgIH0KICAgICAgICAkYXJncyA9ICR0aGlzLT5mdW5jdGlvbnNbJGZ1bmN0aW9uXVsxXTsKICAgICAgICAvLyBJZiBmaXhlZCBudW1iZXIgb2YgYXJncyBlZy4gVElNRSgkaSwgJGosICRrKS4gQ2hlY2sgdGhhdCB0aGUgbnVtYmVyIG9mIGFyZ3MgaXMgdmFsaWQuCiAgICAgICAgaWYgKCgkYXJncyA+PSAwKSBhbmQgKCRhcmdzICE9ICRudW1fYXJncykpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX1dyaXRlcl9FeGNlcHRpb24oIkluY29ycmVjdCBudW1iZXIgb2YgYXJndW1lbnRzIGluIGZ1bmN0aW9uICRmdW5jdGlvbigpICIpOwogICAgICAgIH0KCiAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT5jcmVhdGVUcmVlKCRmdW5jdGlvbiwgJHJlc3VsdCwgJG51bV9hcmdzKTsKICAgICAgICAkdGhpcy0+YWR2YW5jZSgpOyAgICAgICAgIC8vIGVhdCB0aGUgIikiCiAgICAgICAgcmV0dXJuICRyZXN1bHQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgdHJlZS4gSW4gZmFjdCBhbiBhcnJheSB3aGljaCBtYXkgaGF2ZSBvbmUgb3IgdHdvIGFycmF5cyAoc3ViLXRyZWVzKQogICAgICogYXMgZWxlbWVudHMuCiAgICAgKgogICAgICogQGFjY2VzcyBwcml2YXRlCiAgICAgKiBAcGFyYW0gbWl4ZWQgJHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGlzIG5vZGUuCiAgICAgKiBAcGFyYW0gbWl4ZWQgJGxlZnQgIFRoZSBsZWZ0IGFycmF5IChzdWItdHJlZSkgb3IgYSBmaW5hbCBub2RlLgogICAgICogQHBhcmFtIG1peGVkICRyaWdodCBUaGUgcmlnaHQgYXJyYXkgKHN1Yi10cmVlKSBvciBhIGZpbmFsIG5vZGUuCiAgICAgKiBAcmV0dXJuIGFycmF5IEEgdHJlZQogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIGNyZWF0ZVRyZWUoJHZhbHVlLCAkbGVmdCwgJHJpZ2h0KQogICAgewogICAgICAgIHJldHVybiBhcnJheSgndmFsdWUnID0+ICR2YWx1ZSwgJ2xlZnQnID0+ICRsZWZ0LCAncmlnaHQnID0+ICRyaWdodCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBCdWlsZHMgYSBzdHJpbmcgY29udGFpbmluZyB0aGUgdHJlZSBpbiByZXZlcnNlIHBvbGlzaCBub3RhdGlvbiAoV2hhdCB5b3UKICAgICAqIHdvdWxkIHVzZSBpbiBhIEhQIGNhbGN1bGF0b3Igc3RhY2spLgogICAgICogVGhlIGZvbGxvd2luZyB0cmVlOgogICAgICoKICAgICAqICAgICsKICAgICAqICAgLyBcCiAgICAgKiAgMiAgIDMKICAgICAqCiAgICAgKiBwcm9kdWNlczogIjIzKyIKICAgICAqCiAgICAgKiBUaGUgZm9sbG93aW5nIHRyZWU6CiAgICAgKgogICAgICogICAgKwogICAgICogICAvIFwKICAgICAqICAzICAgKgogICAgICogICAgIC8gXAogICAgICogICAgNiAgIEExCiAgICAgKgogICAgICogcHJvZHVjZXM6ICIzNkExKisiCiAgICAgKgogICAgICogSW4gZmFjdCBhbGwgb3BlcmFuZHMsIGZ1bmN0aW9ucywgcmVmZXJlbmNlcywgZXRjLi4uIGFyZSB3cml0dGVuIGFzIHB0ZydzCiAgICAgKgogICAgICogQGFjY2VzcyBwdWJsaWMKICAgICAqIEBwYXJhbSBhcnJheSAkdHJlZSBUaGUgb3B0aW9uYWwgdHJlZSB0byBjb252ZXJ0LgogICAgICogQHJldHVybiBzdHJpbmcgVGhlIHRyZWUgaW4gcmV2ZXJzZSBwb2xpc2ggbm90YXRpb24KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHRvUmV2ZXJzZVBvbGlzaCgkdHJlZSA9IGFycmF5KCkpCiAgICB7CiAgICAgICAgJHBvbGlzaCA9ICIiOyAvLyB0aGUgc3RyaW5nIHdlIGFyZSBnb2luZyB0byByZXR1cm4KICAgICAgICBpZiAoZW1wdHkoJHRyZWUpKSB7IC8vIElmIGl0J3MgdGhlIGZpcnN0IGNhbGwgdXNlIHBhcnNlVHJlZQogICAgICAgICAgICAkdHJlZSA9ICR0aGlzLT5wYXJzZVRyZWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoaXNfYXJyYXkoJHRyZWVbJ2xlZnQnXSkpIHsKICAgICAgICAgICAgJGNvbnZlcnRlZF90cmVlID0gJHRoaXMtPnRvUmV2ZXJzZVBvbGlzaCgkdHJlZVsnbGVmdCddKTsKICAgICAgICAgICAgJHBvbGlzaCAuPSAkY29udmVydGVkX3RyZWU7CiAgICAgICAgfSBlbHNlaWYgKCR0cmVlWydsZWZ0J10gIT0gJycpIHsgLy8gSXQncyBhIGZpbmFsIG5vZGUKICAgICAgICAgICAgJGNvbnZlcnRlZF90cmVlID0gJHRoaXMtPmNvbnZlcnQoJHRyZWVbJ2xlZnQnXSk7CiAgICAgICAgICAgICRwb2xpc2ggLj0gJGNvbnZlcnRlZF90cmVlOwogICAgICAgIH0KICAgICAgICBpZiAoaXNfYXJyYXkoJHRyZWVbJ3JpZ2h0J10pKSB7CiAgICAgICAgICAgICRjb252ZXJ0ZWRfdHJlZSA9ICR0aGlzLT50b1JldmVyc2VQb2xpc2goJHRyZWVbJ3JpZ2h0J10pOwogICAgICAgICAgICAkcG9saXNoIC49ICRjb252ZXJ0ZWRfdHJlZTsKICAgICAgICB9IGVsc2VpZiAoJHRyZWVbJ3JpZ2h0J10gIT0gJycpIHsgLy8gSXQncyBhIGZpbmFsIG5vZGUKICAgICAgICAgICAgJGNvbnZlcnRlZF90cmVlID0gJHRoaXMtPmNvbnZlcnQoJHRyZWVbJ3JpZ2h0J10pOwogICAgICAgICAgICAkcG9saXNoIC49ICRjb252ZXJ0ZWRfdHJlZTsKICAgICAgICB9CiAgICAgICAgLy8gaWYgaXQncyBhIGZ1bmN0aW9uIGNvbnZlcnQgaXQgaGVyZSAoc28gd2UgY2FuIHNldCBpdCdzIGFyZ3VtZW50cykKICAgICAgICBpZiAocHJlZ19tYXRjaCgiL15bQS1aMC05XHhjMC1ceGRjXC5dKyQvIiwgJHRyZWVbJ3ZhbHVlJ10pIGFuZAogICAgICAgICAgICAhcHJlZ19tYXRjaCgnL14oW0EtSWEtaV0\/W0EtWmEtel0pKFxkKykkLycsICR0cmVlWyd2YWx1ZSddKSBhbmQKICAgICAgICAgICAgIXByZWdfbWF0Y2goIi9eW0EtSWEtaV0\/W0EtWmEtel0oXGQrKVwuXC5bQS1JYS1pXT9bQS1aYS16XShcZCspJC8iLCAkdHJlZVsndmFsdWUnXSkgYW5kCiAgICAgICAgICAgICFpc19udW1lcmljKCR0cmVlWyd2YWx1ZSddKSBhbmQKICAgICAgICAgICAgIWlzc2V0KCR0aGlzLT5wdGdbJHRyZWVbJ3ZhbHVlJ11dKSkgewogICAgICAgICAgICAvLyBsZWZ0IHN1YnRyZWUgZm9yIGEgZnVuY3Rpb24gaXMgYWx3YXlzIGFuIGFycmF5LgogICAgICAgICAgICBpZiAoJHRyZWVbJ2xlZnQnXSAhPSAnJykgewogICAgICAgICAgICAgICAgJGxlZnRfdHJlZSA9ICR0aGlzLT50b1JldmVyc2VQb2xpc2goJHRyZWVbJ2xlZnQnXSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkbGVmdF90cmVlID0gJyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gYWRkIGl0J3MgbGVmdCBzdWJ0cmVlIGFuZCByZXR1cm4uCiAgICAgICAgICAgIHJldHVybiAkbGVmdF90cmVlLiR0aGlzLT5jb252ZXJ0RnVuY3Rpb24oJHRyZWVbJ3ZhbHVlJ10sICR0cmVlWydyaWdodCddKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkY29udmVydGVkX3RyZWUgPSAkdGhpcy0+Y29udmVydCgkdHJlZVsndmFsdWUnXSk7CiAgICAgICAgfQogICAgICAgICRwb2xpc2ggLj0gJGNvbnZlcnRlZF90cmVlOwogICAgICAgIHJldHVybiAkcG9saXNoOwogICAgfQp9Cg==",
    "size": "65992"
}