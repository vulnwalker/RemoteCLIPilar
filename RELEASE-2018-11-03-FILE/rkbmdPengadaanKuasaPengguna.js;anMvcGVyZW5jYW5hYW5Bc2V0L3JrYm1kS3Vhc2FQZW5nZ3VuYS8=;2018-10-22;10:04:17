{
    "namaFile": "js\/perencanaanAset\/rkbmdKuasaPengguna\/rkbmdPengadaanKuasaPengguna.js",
    "lastUpdate": "2018-10-22+10:04:17.26",
    "contentFile": "dmFyIHJrYm1kUGVuZ2FkYWFuS3Vhc2FQZW5nZ3VuYUZpbHRlclNLUEQgPSBuZXcgU2twZENscyh7CiAgcHJlZml4OiAicmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hIiwKICBmb3JtTmFtZTogInJrYm1kUGVuZ2FkYWFuS3Vhc2FQZW5nZ3VuYUZvcm0iLAoKICBwaWxpaFVydXNhbmZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgcmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hLmZpbHRlclJlbmRlcih0cnVlKTsKICB9LAogIHBpbGloQmlkYW5nQWZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgcmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hLmZpbHRlclJlbmRlcih0cnVlKTsKICB9LAogIHBpbGloVW5pdEFmdGVyOiBmdW5jdGlvbigpIHsKICAgIHJrYm1kUGVuZ2FkYWFuS3Vhc2FQZW5nZ3VuYS5maWx0ZXJSZW5kZXIodHJ1ZSk7CiAgfSwKICBwaWxpaFN1YlVuaXRBZnRlcjogZnVuY3Rpb24oKSB7CiAgICBya2JtZFBlbmdhZGFhbkt1YXNhUGVuZ2d1bmEuZmlsdGVyUmVuZGVyKHRydWUpOwogIH0sCiAgcGlsaWhTZWtzaUFmdGVyOiBmdW5jdGlvbigpIHsKICAgIHJrYm1kUGVuZ2FkYWFuS3Vhc2FQZW5nZ3VuYS5maWx0ZXJSZW5kZXIodHJ1ZSk7CiAgfQp9KTsKdmFyIHJrYm1kUGVuZ2FkYWFuS3Vhc2FQZW5nZ3VuYSA9IG5ldyBEYWZ0YXJPYmoyKHsKICBwcmVmaXg6ICJya2JtZFBlbmdhZGFhbkt1YXNhUGVuZ2d1bmEiLAogIHVybDogInBhZ2VzLnBocD9QZz1ya2JtZFBlbmdhZGFhbkt1YXNhUGVuZ2d1bmEiLAogIGZvcm1OYW1lOiAicmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hRm9ybSIsCiAgcmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hX2Zvcm06ICIwIiwgLy9kZWZhdWx0IGpzIHJrYm1kUGVuZ2FkYWFuS3Vhc2FQZW5nZ3VuYQogIGxvYWRpbmc6IGZ1bmN0aW9uKCkgewogICAgLy9hbGVydCgnbG9hZGluZycpOwogICAgdGhpcy50b3BCYXJSZW5kZXIoKTsKICAgIHRoaXMuZmlsdGVyUmVuZGVyKCk7CiAgICB0aGlzLmRhZnRhclJlbmRlcigpOwogICAgdGhpcy5zdW1IYWxSZW5kZXIoKTsKICB9LAogIGZpbHRlclJlbmRlckFmdGVyOiBmdW5jdGlvbigpIHsKICAgIC8vIHRoaXMuZGFmdGFyUmVuZGVyKCk7CiAgfSwKICBwcm9ncmFtQ2hhbmdlZDogZnVuY3Rpb24oKSB7CiAgICB2YXIgYXJyYXlQID0gJCgiI3AiKQogICAgICAudmFsKCkKICAgICAgLnNwbGl0KCIuIik7CiAgICB2YXIgYmsgPSBhcnJheVBbMF07CiAgICB2YXIgY2sgPSBhcnJheVBbMV07CiAgICB2YXIgaGlkZGVuUCA9IGFycmF5UFsyXTsKCiAgICAkKCIjYmsiKS52YWwoYmspOwogICAgJCgiI2NrIikudmFsKGNrKTsKICAgICQoIiNoaWRkZW5QIikudmFsKGhpZGRlblApOwogICAgJCgiI3EiKS52YWwoIiIpOwogICAgcmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hLnJlZnJlc2hMaXN0KHRydWUpOwogIH0sCiAgZGV0YWlsOiBmdW5jdGlvbigpIHsKICAgIC8vYWxlcnQoJ2RldGFpbCcpOwogICAgdmFyIG1lID0gdGhpczsKICAgIGVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsKICAgIGlmIChlcnJtc2cgPT0gIiIpIHsKICAgICAgdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOwogICAgICAvL1VzZXJBa3Rpdml0YXNEZXQuZ2VuRGV0YWlsKCk7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnJtc2cpOwogICAgfQogIH0sCiAgcGlsaWhCaWRhbmc6IGZ1bmN0aW9uKCkgewogICAgcmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hLnJlZnJlc2hMaXN0KHRydWUpOwogIH0sCiAgQmlkYW5nQWZ0ZXIyOiBmdW5jdGlvbigpIHsKICAgIHJrYm1kUGVuZ2FkYWFuS3Vhc2FQZW5nZ3VuYS5yZWZyZXNoTGlzdCh0cnVlKTsKICB9LAogIGNvbWJvU0tQRENoYW5nZWQ6IGZ1bmN0aW9uKCkgewogICAgcmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hLnJlZnJlc2hMaXN0KHRydWUpOwogIH0sCiAgQ2FyaU1vZHVsOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CgogICAgcG9wdXBNb2R1bC5lbF9uYW1hTW9kdWwgPSAibmFtYU1vZHVsIjsKICAgIHBvcHVwTW9kdWwuZWxfaWRNb2R1bCA9ICJpZE1vZHVsIjsKICAgIC8qCQlSZWZCYXJhbmdCdXR1aC5lbF9uYW1hX2JhcmFuZz0gJ25hbWFfYmFyYW5nJzsJCSovCiAgICBwb3B1cE1vZHVsLndpbmRvd1NhdmVBZnRlciA9IGZ1bmN0aW9uKCkge307CiAgICBwb3B1cE1vZHVsLndpbmRvd1Nob3coKTsKICB9LAoKICBoaXN0b3JpOiBmdW5jdGlvbihpZCkgewogICAgdmFyIG1lID0gdGhpczsKCiAgICBwb3B1cEhpc3RvcmkuZWxfbmFtYUhpc3RvcmkgPSAibmFtYUhpc3RvcmkiOwogICAgcG9wdXBIaXN0b3JpLmVsX2lkSGlzdG9yaSA9ICJpZEhpc3RvcmkiOwogICAgcG9wdXBIaXN0b3JpLndpbmRvd1NhdmVBZnRlciA9IGZ1bmN0aW9uKCkge307CiAgICBwb3B1cEhpc3Rvcmkud2luZG93U2hvdyhpZCk7CiAgfSwKICBkYWZ0YXJSZW5kZXI6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsgLy9yZW5kZXIgZGFmdGFyCiAgICBhZGRDb3ZlclBhZ2UyKCJkYWZ0YXJfY292ZXIiLCAxLCB0cnVlLCB0cnVlLCB7CiAgICAgIHJlbmRlclRvOiB0aGlzLnByZWZpeCArICJfY29udF9kYWZ0YXIiLAogICAgICBpbWdzcmM6ICJpbWFnZXMvd2FpdC5naWYiLAogICAgICBzdHlsZTogeyBwb3NpdGlvbjogImFic29sdXRlIiwgdG9wOiAiNSIsIGxlZnQ6ICI1IiB9CiAgICB9KTsKCiAgICAkLmFqYXgoewogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWRhZnRhciIsCiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXggKyAiX2NvbnRfZGFmdGFyIikuaW5uZXJIVE1MID0KICAgICAgICAgIHJlc3AuY29udGVudDsKCiAgICAgICAgbWUuc3VtSGFsUmVuZGVyKCk7CiAgICAgIH0KICAgIH0pOwogIH0sCgogIHBpbGloUGFuZ2thdDogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgJC5hamF4KHsKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1waWxpaFBhbmdrYXQiLAogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBjMTogJCgiI3JrYm1kUGVuZ2FkYWFuS3Vhc2FQZW5nZ3VuYVNLUEQyZm1VUlVTQU4iKS52YWwoKSwKICAgICAgICBjOiAkKCIjcmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hU0tQRDJmbVNLUEQiKS52YWwoKSwKICAgICAgICBkOiAkKCIjcmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hU0tQRDJmbVVOSVQiKS52YWwoKSwKICAgICAgICBlOiAkKCIjcmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hU0tQRDJmbVNVQlVOSVQiKS52YWwoKSwKICAgICAgICBlMTogJCgiI3JrYm1kUGVuZ2FkYWFuS3Vhc2FQZW5nZ3VuYVNLUEQyZm1TRUtTSSIpLnZhbCgpLAogICAgICAgIGRjMTogJCgiI2RjMSIpLnZhbCgpLAogICAgICAgIGRjOiAkKCIjZGMiKS52YWwoKSwKICAgICAgICBkZDogJCgiI2RkIikudmFsKCksCiAgICAgICAga2F0ZWdvcmk6ICQoIiNrYXRlZ29yaSIpLnZhbCgpLAogICAgICAgIG5hbWFwZWdhd2FpOiAkKCIjbmFtYXBlZ2F3YWkiKS52YWwoKSwKICAgICAgICBuaXBwZWdhd2FpOiAkKCIjbmlwcGVnYXdhaSIpLnZhbCgpLAogICAgICAgIHBhbmdrYXRha2hpcjogJCgiI3BhbmdrYXRha2hpciIpLnZhbCgpLAogICAgICAgIGdvbGFuZ19ha2hpcjogJCgiI2dvbGFuZ19ha2hpciIpLnZhbCgpLAogICAgICAgIGphYmF0YW46ICQoIiNqYWJhdGFuIikudmFsKCksCiAgICAgICAgZXNlbG9uX2FraGlyOiAkKCIjZXNlbG9uX2FraGlyIikudmFsKCkKICAgICAgfSwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ29sYW5nX2FraGlyIikudmFsdWUgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgQmFydTogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwoKICAgIGVycm1zZyA9ICIiOwoKICAgIGlmICgkKCIjZmlsdGVyVXJ1c2FuIikudmFsKCkgPT0gIjAwIikgewogICAgICBlcnJtc2cgPSAiUGlsaWggVXJ1c2FuIjsKICAgIH0gZWxzZSBpZiAoJCgiI2ZpbHRlclNLUEQiKS52YWwoKSA9PSAiMDAiKSB7CiAgICAgIGVycm1zZyA9ICJQaWxpaCBCaWRhbmciOwogICAgfSBlbHNlIGlmICgkKCIjZmlsdGVyU0tQRCIpLnZhbCgpID09ICIwMCIpIHsKICAgICAgZXJybXNnID0gIlBpbGloIFNLUEQiOwogICAgfSBlbHNlIGlmICgkKCIjZmlsdGVyVW5pdCIpLnZhbCgpID09ICIwMCIpIHsKICAgICAgZXJybXNnID0gIlBpbGloIFVuaXQiOwogICAgfSBlbHNlIGlmICgkKCIjZmlsdGVyU3ViVW5pdCIpLnZhbCgpID09ICIwMDAiKSB7CiAgICAgIGVycm1zZyA9ICJQaWxpaCBTdWIgVW5pdCI7CiAgICB9CiAgICBpZiAoZXJybXNnID09ICIiKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIHZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9ybU5hbWUpOwogICAgICAkLmFqYXgoewogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9QmFydSIsCiAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgICQoIiNuZXdCbGFua1BhZ2UiKS52YWwoIjEiKTsKICAgICAgICAgICAgYUZvcm0uYWN0aW9uID0gInBhZ2VzLnBocD9QZz1ya2JtZFBlbmdhZGFhbkt1YXNhUGVuZ2d1bmFJbnMiOwogICAgICAgICAgICBhRm9ybS50YXJnZXQgPSAiX2JsYW5rIjsKICAgICAgICAgICAgYUZvcm0uc3VibWl0KCk7CiAgICAgICAgICAgIGFGb3JtLnRhcmdldCA9ICIiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnJtc2cpOwogICAgfQogIH0sCiAgSW5mbzogZnVuY3Rpb24oKSB7CiAgICB2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZvcm1OYW1lKTsKICAgICQuYWpheCh7CiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9aHVibGEiLAogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICB2YXIga29kZVJlayA9IHJlc3AuY29udGVudC5rb2RlUmVrOwogICAgICAgICAgYUZvcm0uYWN0aW9uID0gInBhZ2VzLnBocD9QZz1hbG9rYXNpRHBhIjsKICAgICAgICAgIGFGb3JtLnRhcmdldCA9ICJfYmxhbmsiOwogICAgICAgICAgYUZvcm0uc3VibWl0KCk7CiAgICAgICAgICBhRm9ybS50YXJnZXQgPSAiIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICB1bmxvY2tGaW5kUmVrZW5pbmc6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIGlmICgkKCIjY21iSmVuaXNSS0FGb3JtIikudmFsKCkgPT0gIiIpIHsKICAgICAgJCgiI2ZpbmRSZWtlbmluZyIpLmF0dHIoImRpc2FibGVkIiwgdHJ1ZSk7CiAgICB9IGVsc2UgewogICAgICAkKCIjZmluZFJla2VuaW5nIikuYXR0cigiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgICQoIiNmaW5kUmVrZW5pbmciKS5hdHRyKAogICAgICAgICJvbmNsaWNrIiwKICAgICAgICAicmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hLmZpbmRSZWtlbmluZygnIiArCiAgICAgICAgICAkKCIjY21iSmVuaXNSS0FGb3JtIikudmFsKCkgKwogICAgICAgICAgIicpOyIKICAgICAgKTsKICAgIH0KICB9LAoKICBIYXB1czogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4ICsgIl9qbWxjZWsiKSkgewogICAgICB2YXIgam1sY2VrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXggKyAiX2ptbGNlayIpLnZhbHVlOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGptbGNlayA9ICIiOwogICAgfQoKICAgIGlmIChqbWxjZWsgPT0gMCkgewogICAgICBhbGVydCgiRGF0YSBCZWx1bSBEaXBpbGloISIpOwogICAgfSBlbHNlIHsKICAgICAgaWYgKGNvbmZpcm0oIllha2luIEhhcHVzIHNlbXVhIGRhdGEgZGFsYW0gcHJvZ3JhbSB5YW5nIGRpIHBpbGloID8iKSkgewogICAgICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9oYXB1c2NvdmVyIjsKICAgICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAxLCB0cnVlLCBmYWxzZSk7CiAgICAgICAgJC5hamF4KHsKICAgICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXJlbW92ZSIsCiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgICAgIG1lLkFmdGVySGFwdXMoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBlcnJvcjogYWpheEVycm9yCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIGhhcHVzQmFyYW5nOiBmdW5jdGlvbihpZEJhcmFuZykgewogICAgdmFyIG1lID0gdGhpczsKICAgIGlmIChjb25maXJtKCJZYWtpbiBIYXB1cyBiYXJhbmcgeWFuZyBkaSBwaWxpaCA\/IikpIHsKICAgICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2hhcHVzY292ZXIiOwogICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAxLCB0cnVlLCBmYWxzZSk7CiAgICAgICQuYWpheCh7CiAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCkrIiZpZEJhcmFuZz0iK2lkQmFyYW5nLAogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9aGFwdXNCYXJhbmciLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgIG1lLnJlZnJlc2hMaXN0KHRydWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZXJyb3I6IGFqYXhFcnJvcgogICAgICB9KTsKICAgIH0KICB9LAogIFBvc3Rpbmc6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIGVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsKICAgIGlmIChlcnJtc2cgPT0gIiIpIHsKICAgICAgdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOwoKICAgICAgLy90aGlzLlNob3cgKCdmb3JtZWRpdCcse2lkcGxoOmJveC52YWx1ZX0sIGZhbHNlLCB0cnVlKTsKICAgICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlciI7CiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDIsIHRydWUsIGZhbHNlKTsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICAkLmFqYXgoewogICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9UG9zdGluZyIsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgICAgIG1lLkFmdGVyRm9ybUVkaXQocmVzcCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnJtc2cpOwogICAgfQogIH0sCgogIFJlbW92ZTogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOwogICAgaWYgKCQoIiNjbWJVcnVzYW4iKS52YWwoKSA9PSAiIikgewogICAgICBhbGVydCgiUGlsaWggVXJ1c2FuIik7CiAgICB9IGVsc2UgaWYgKCQoIiNjbWJCaWRhbmciKS52YWwoKSA9PSAiIikgewogICAgICBhbGVydCgiUGlsaWggQmlkYW5nIik7CiAgICB9IGVsc2UgaWYgKCQoIiNjbWJTS1BEIikudmFsKCkgPT0gIiIpIHsKICAgICAgYWxlcnQoIlBpbGloIFNLUEQiKTsKICAgIH0gZWxzZSBpZiAoJCgiI2NtYlVuaXQiKS52YWwoKSA9PSAiIikgewogICAgICBhbGVydCgiUGlsaWggVW5pdCIpOwogICAgfSBlbHNlIGlmICgkKCIjY21iU3ViVW5pdCIpLnZhbCgpID09ICIiKSB7CiAgICAgIGFsZXJ0KCJQaWxpaCBTdWIgVW5pdCIpOwogICAgfSBlbHNlIHsKICAgICAgaWYgKGVycm1zZyA9PSAiIikgewogICAgICAgIHZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsKICAgICAgICB2YXIgc2twZCA9CiAgICAgICAgICAkKCIjY21iVXJ1c2FuIikudmFsKCkgKwogICAgICAgICAgIi4iICsKICAgICAgICAgICQoIiNjbWJCaWRhbmciKS52YWwoKSArCiAgICAgICAgICAiLiIgKwogICAgICAgICAgJCgiI2NtYlNLUEQiKS52YWwoKSArCiAgICAgICAgICAiLiIgKwogICAgICAgICAgJCgiI2NtYlVuaXQiKS52YWwoKSArCiAgICAgICAgICAiLiIgKwogICAgICAgICAgJCgiI2NtYlN1YlVuaXQiKS52YWwoKTsKCiAgICAgICAgJC5hamF4KHsKICAgICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9UmVtb3ZlIiwKICAgICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgICAgcmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hLnJlZnJlc2hMaXN0KHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KGVycm1zZyk7CiAgICAgIH0KICAgIH0KICB9LAoKICBzZXN1YWk6IGZ1bmN0aW9uKGlkKSB7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBpZEF3YWw6IGlkLAogICAgICAgIGtvcmVrc2lWb2x1bWViYXJhbmc6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2b2x1bWVSZWtTZXN1YWkiICsgaWQpCiAgICAgICAgICAudmFsdWUsCiAgICAgICAga29yZWtzaVNhdHVhbkhhcmdhOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGFyZ2FTYXR1YW5TZXN1YWkiICsgaWQpCiAgICAgICAgICAudmFsdWUKICAgICAgfSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1rb3Jla3NpIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIHJrYm1kUGVuZ2FkYWFuS3Vhc2FQZW5nZ3VuYS5yZWZyZXNoTGlzdCh0cnVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICJUYWhhcCBLb3Jla3NpIFRhbGFoIEhhYmlzIikgewogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIGtvcmVrc2k6IGZ1bmN0aW9uKGlkKSB7CiAgICAkKCIjc3BhblZvbHVtZUJhcmFuZyIgKyBpZCkuaHRtbCgKICAgICAgIjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSd2b2x1bWVCYXJhbmciICsKICAgICAgICBpZCArCiAgICAgICAgIicgaWQ9J3ZvbHVtZUJhcmFuZyIgKwogICAgICAgIGlkICsKICAgICAgICAiJyBvbmtleXByZXNzPSdyZXR1cm4gZXZlbnQuY2hhckNvZGUgPj0gNDggJiYgZXZlbnQuY2hhckNvZGUgPD0gNTcnIG9ua2V5dXA9J3JrYm1kUGVuZ2FkYWFuS3Vhc2FQZW5nZ3VuYS5iYW50dVZvbHVtZUJhcmFuZygiICsKICAgICAgICBpZCArCiAgICAgICAgIiknICAgc3R5bGU9J3RleHQtYWxpZ246IHJpZ2h0Oyc+ICA8c3BhbiBpZD0nYmFudHVWb2x1bWVCYXJhbmciICsKICAgICAgICBpZCArCiAgICAgICAgIicgPjwvc3Bhbj4iCiAgICApOwogICAgJCgiI3NwYW5TYXR1YW5IYXJnYSIgKyBpZCkuaHRtbCgKICAgICAgIjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdzYXR1YW5IYXJnYSIgKwogICAgICAgIGlkICsKICAgICAgICAiJyBpZD0nc2F0dWFuSGFyZ2EiICsKICAgICAgICBpZCArCiAgICAgICAgIicgb25rZXlwcmVzcz0ncmV0dXJuIGV2ZW50LmNoYXJDb2RlID49IDQ4ICYmIGV2ZW50LmNoYXJDb2RlIDw9IDU3JyBvbmtleXVwPSdya2JtZFBlbmdhZGFhbkt1YXNhUGVuZ2d1bmEuYmFudHVTYXR1YW5IYXJnYSgiICsKICAgICAgICBpZCArCiAgICAgICAgIiknICAgIHN0eWxlPSd0ZXh0LWFsaWduOiByaWdodDsnPiAgPHNwYW4gaWQ9J2JhbnR1U2F0dWFuSGFyZ2EiICsKICAgICAgICBpZCArCiAgICAgICAgIicgPjwvc3Bhbj4iCiAgICApOwogICAgJCgiI2J1dHRvblN1Ym1pdEtvcmVrc2kiICsgaWQpLmh0bWwoCiAgICAgICI8aW1nIHNyYz0nZGF0ZXBpY2tlci9zYXZlLnBuZycgd2lkdGg9JzIwcHgnIGhlaWdoPScyMHB4JyBzdHlsZT0nY3Vyc29yIDogcG9pbnRlcjsnIG9uY2xpY2s9cmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hLnN1Ym1pdEtvcmVrc2koJyIgKwogICAgICAgIGlkICsKICAgICAgICAiJyk7PjwvaW1nPiZuYnNwICAmbmJzcCA8aW1nIHNyYz0naW1hZ2VzL2FkbWluaXN0cmF0b3IvaW1hZ2VzL2ludmFsaWQucG5nJyB3aWR0aD0nMjBweCcgaGVpZ2g9JzIwcHgnIHN0eWxlPSdjdXJzb3IgOiBwb2ludGVyOycgb25jbGljaz1ya2JtZFBlbmdhZGFhbkt1YXNhUGVuZ2d1bmEucmVmcmVzaExpc3QodHJ1ZSk7PjwvaW1nPiIKICAgICk7CiAgICAkKCIjYWxpZ25CdXR0b24iICsgaWQpLmF0dHIoImFsaWduIiwgImNlbnRlciIpOwogIH0sCiAgc3VibWl0S29yZWtzaTogZnVuY3Rpb24oaWQpIHsKICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidm9sdW1lQmFyYW5nIiArIGlkKS52YWx1ZSA9PSAwKSB7CiAgICAgIGFsZXJ0KCJJc2kgVm9sdW1lIEJhcmFuZyIpOwogICAgfSBlbHNlIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F0dWFuSGFyZ2EiICsgaWQpLnZhbHVlID09IDApIHsKICAgICAgYWxlcnQoIklzaSBTYXR1YW4gSGFyZ2EiKTsKICAgIH0gZWxzZSB7CiAgICAgICQuYWpheCh7CiAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGlkQXdhbDogaWQsCiAgICAgICAgICBrb3Jla3NpVm9sdW1lYmFyYW5nOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidm9sdW1lQmFyYW5nIiArIGlkKQogICAgICAgICAgICAudmFsdWUsCiAgICAgICAgICBrb3Jla3NpU2F0dWFuSGFyZ2E6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXR1YW5IYXJnYSIgKyBpZCkudmFsdWUKICAgICAgICB9LAogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9a29yZWtzaSIsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgIHJrYm1kUGVuZ2FkYWFuS3Vhc2FQZW5nZ3VuYS5yZWZyZXNoTGlzdCh0cnVlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICAgICAgaWYgKHJlc3AuZXJyID09ICJUYWhhcCBLb3Jla3NpIFRhbGFoIEhhYmlzIikgewogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKCiAgZm9ybWF0Q3VycmVuY3k6IGZ1bmN0aW9uKG51bSkgewogICAgbnVtID0gbnVtLnRvU3RyaW5nKCkucmVwbGFjZSgvXCR8XCwvZywgIiIpOwogICAgaWYgKGlzTmFOKG51bSkpIG51bSA9ICIwIjsKICAgIHNpZ24gPSBudW0gPT0gKG51bSA9IE1hdGguYWJzKG51bSkpOwogICAgbnVtID0gTWF0aC5mbG9vcihudW0gKiAxMDAgKyAwLjUwMDAwMDAwMDAxKTsKICAgIGNlbnRzID0gbnVtICUgMTAwOwogICAgbnVtID0gTWF0aC5mbG9vcihudW0gLyAxMDApLnRvU3RyaW5nKCk7CiAgICBpZiAoY2VudHMgPCAxMCkgY2VudHMgPSAiMCIgKyBjZW50czsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTWF0aC5mbG9vcigobnVtLmxlbmd0aCAtICgxICsgaSkpIC8gMyk7IGkrKykKICAgICAgbnVtID0KICAgICAgICBudW0uc3Vic3RyaW5nKDAsIG51bS5sZW5ndGggLSAoNCAqIGkgKyAzKSkgKwogICAgICAgICIuIiArCiAgICAgICAgbnVtLnN1YnN0cmluZyhudW0ubGVuZ3RoIC0gKDQgKiBpICsgMykpOwogICAgcmV0dXJuIChzaWduID8gIiIgOiAiLSIpICsgIiIgKyBudW0gKyAiLCIgKyBjZW50czsKICB9LAogIGZvcm1hdEN1cnJlbmN5MjogZnVuY3Rpb24obnVtKSB7CiAgICBudW0gPSBudW0udG9TdHJpbmcoKS5yZXBsYWNlKC9cJHxcLC9nLCAiIik7CiAgICBpZiAoaXNOYU4obnVtKSkgbnVtID0gIjAiOwogICAgc2lnbiA9IG51bSA9PSAobnVtID0gTWF0aC5hYnMobnVtKSk7CiAgICBudW0gPSBNYXRoLmZsb29yKG51bSAqIDEwMCArIDAuNTAwMDAwMDAwMDEpOwogICAgY2VudHMgPSBudW0gJSAxMDA7CiAgICBudW0gPSBNYXRoLmZsb29yKG51bSAvIDEwMCkudG9TdHJpbmcoKTsKICAgIGlmIChjZW50cyA8IDEwKSBjZW50cyA9ICIwIiArIGNlbnRzOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBNYXRoLmZsb29yKChudW0ubGVuZ3RoIC0gKDEgKyBpKSkgLyAzKTsgaSsrKQogICAgICBudW0gPQogICAgICAgIG51bS5zdWJzdHJpbmcoMCwgbnVtLmxlbmd0aCAtICg0ICogaSArIDMpKSArCiAgICAgICAgIi4iICsKICAgICAgICBudW0uc3Vic3RyaW5nKG51bS5sZW5ndGggLSAoNCAqIGkgKyAzKSk7CiAgICByZXR1cm4gKHNpZ24gPyAiIiA6ICItIikgKyAiIiArIG51bTsKICB9LAoKICBiYW50dTogZnVuY3Rpb24oKSB7CiAgICAkKCIjYmFudHUiKS50ZXh0KAogICAgICAiUnAuICIgKwogICAgICAgIHJrYm1kUGVuZ2FkYWFuS3Vhc2FQZW5nZ3VuYS5mb3JtYXRDdXJyZW5jeSgkKCIjaGFyZ2FTYXR1YW4iKS52YWwoKSkKICAgICk7CiAgfSwKCiAgU2ltcGFuOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1zaW1wYW4iOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiAkKCIjIiArIHRoaXMucHJlZml4ICsgIl9mb3JtIikuc2VyaWFsaXplKCksCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2ltcGFuIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBpZiAobWUucmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hX2Zvcm0gPT0gMCkgewogICAgICAgICAgICBtZS5DbG9zZSgpOwogICAgICAgICAgICBtZS5BZnRlclNpbXBhbigpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbWUuQ2xvc2UoKTsKICAgICAgICAgICAgYmFyYW5nLnJlZnJlc2hDb21ib3JrYm1kUGVuZ2FkYWFuS3Vhc2FQZW5nZ3VuYSgpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIEVkaXQ6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIGVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsKCiAgICBpZiAoZXJybXNnID09ICIiKSB7CiAgICAgIHZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsKICAgICAgdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7CiAgICAgICQuYWpheCh7CiAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1FZGl0IiwKICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgZGF0YTogJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICAgJCgiI25ld0JsYW5rUGFnZSIpLnZhbCgiIik7CiAgICAgICAgICAgIGFGb3JtLmFjdGlvbiA9ICJwYWdlcy5waHA\/UGc9cmtibWRQZW5nYWRhYW5LdWFzYVBlbmdndW5hSW5zIjsKICAgICAgICAgICAgYUZvcm0udGFyZ2V0ID0gIl9ibGFuayI7CiAgICAgICAgICAgIGFGb3JtLnN1Ym1pdCgpOwogICAgICAgICAgICBhRm9ybS50YXJnZXQgPSAiIjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoZXJybXNnKTsKICAgIH0KICB9LAogIExhcG9yYW46IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBlcnIgPSAiIjsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXIiOwogICAgaWYgKCQoIiNmaWx0ZXJVcnVzYW4iKS52YWwoKSA9PSAiMDAiKSB7CiAgICAgIGVyciA9ICJQaWxpaCBVcnVzYW4iOwogICAgfSBlbHNlIGlmICgkKCIjZmlsdGVyQmlkYW5nIikudmFsKCkgPT0gIjAwIikgewogICAgICBlcnIgPSAiUGlsaWggQmlkYW5nIjsKICAgIH0gZWxzZSBpZiAoJCgiI2ZpbHRlclNLUEQiKS52YWwoKSA9PSAiMDAiKSB7CiAgICAgIGVyciA9ICJQaWxpaCBTS1BEIjsKICAgIH0gZWxzZSBpZiAoJCgiI2ZpbHRlclVuaXQiKS52YWwoKSA9PSAiMDAiKSB7CiAgICAgIGVyciA9ICJQaWxpaCBVbml0IjsKICAgIH0gZWxzZSBpZiAoJCgiI2ZpbHRlclN1YlVuaXQiKS52YWwoKSA9PSAiMDAwIikgewogICAgICBlcnIgPSAiUGlsaWggU3ViIFVuaXQiOwogICAgfQogICAgaWYgKGVyciA9PSAiIikgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDIsIHRydWUsIGZhbHNlKTsKICAgICAgJC5hamF4KHsKICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgZGF0YTogJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPUxhcG9yYW4iLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgICAgICBtZS5BZnRlckZvcm1CYXJ1KHJlc3ApOwogICAgICAgICAgICAkKCIjdGFuZ2dhbENldGFrIikuZGF0ZXBpY2tlcih7CiAgICAgICAgICAgICAgZGF0ZUZvcm1hdDogImRkLW1tLXl5IiwKICAgICAgICAgICAgICBzaG93QW5pbTogInNsaWRlRG93biIsCiAgICAgICAgICAgICAgaW5saW5lOiB0cnVlLAogICAgICAgICAgICAgIHNob3dPbjogImJ1dHRvbiIsCiAgICAgICAgICAgICAgYnV0dG9uSW1hZ2U6ICJpbWFnZXMvY2FsZW5kYXIuZ2lmIiwKICAgICAgICAgICAgICBidXR0b25JbWFnZU9ubHk6IHRydWUsCiAgICAgICAgICAgICAgY2hhbmdlTW9udGg6IHRydWUsCiAgICAgICAgICAgICAgY2hhbmdlWWVhcjogZmFsc2UsCiAgICAgICAgICAgICAgeWVhclJhbmdlOiByZXNwLmNvbnRlbnQueWVhclJhbmdlLAogICAgICAgICAgICAgIGJ1dHRvblRleHQ6ICIiLAogICAgICAgICAgICAgIGRlZmF1bHREYXRlOiArMAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiYXV0byI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycik7CiAgICB9CiAgfSwKICBlZGl0QmFyYW5nOiBmdW5jdGlvbihpZEJhcmFuZykgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBlcnIgPSAiIjsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXIiOwogICAgaWYgKGVyciA9PSAiIikgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDEsIHRydWUsIGZhbHNlKTsKICAgICAgJC5hamF4KHsKICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgZGF0YToKICAgICAgICAgICQoIiMiICsgdGhpcy5wcmVmaXggKyAiX2Zvcm0iKS5zZXJpYWxpemUoKSArICImaWRCYXJhbmc9IiArIGlkQmFyYW5nLAogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZWRpdEJhcmFuZyIsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgICAgIG1lLkFmdGVyRm9ybUJhcnUocmVzcCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnIpOwogICAgfQogIH0sCiAgbmV3VGFuZGFUYW5nYW5nYW46IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBlcnIgPSAiIjsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJUYW5kYVRhbmdhbiI7CgogICAgaWYgKGVyciA9PSAiIikgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7CiAgICAgICQuYWpheCh7CiAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5wcmVmaXggKyAiX2Zvcm0iKS5zZXJpYWxpemUoKSwKICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPW5ld1RhbmRhVGFuZ2FuZ2FuIiwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKICAgICAgICAgICAgbWUuQWZ0ZXJGb3JtQmFydShyZXNwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiYXV0byI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycik7CiAgICB9CiAgfSwKICBjbG9zZVRhbmRhVGFuZ2FuRm9ybTogZnVuY3Rpb24oKSB7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyVGFuZGFUYW5nYW4iOwogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKSkgZGVsRWxlbShjb3Zlcik7CiAgICBpZiAodGlwZSA9PSBudWxsKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiYXV0byI7CiAgICB9CiAgfSwKICBwaWxpaFBhbmdrYXQ6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgICQuYWpheCh7CiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9cGlsaWhQYW5na2F0IiwKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAgYzE6ICQoIiNmaWx0ZXJVcnVzYW4iKS52YWwoKSwKICAgICAgICBjOiAkKCIjZmlsdGVyQmlkYW5nIikudmFsKCksCiAgICAgICAgZDogJCgiI2ZpbHRlclNLUEQiKS52YWwoKSwKICAgICAgICBlOiAkKCIjZmlsdGVyVW5pdCIpLnZhbCgpLAogICAgICAgIGUxOiAkKCIjZmlsdGVyU3ViVW5pdCIpLnZhbCgpLAogICAgICAgIGRjMTogJCgiI2RjMSIpLnZhbCgpLAogICAgICAgIGRjOiAkKCIjZGMiKS52YWwoKSwKICAgICAgICBkZDogJCgiI2RkIikudmFsKCksCiAgICAgICAga2F0ZWdvcmk6ICQoIiNrYXRlZ29yaSIpLnZhbCgpLAogICAgICAgIG5hbWFwZWdhd2FpOiAkKCIjbmFtYXBlZ2F3YWkiKS52YWwoKSwKICAgICAgICBuaXBwZWdhd2FpOiAkKCIjbmlwcGVnYXdhaSIpLnZhbCgpLAogICAgICAgIHBhbmdrYXRha2hpcjogJCgiI3BhbmdrYXRha2hpciIpLnZhbCgpLAogICAgICAgIGdvbGFuZ19ha2hpcjogJCgiI2dvbGFuZ19ha2hpciIpLnZhbCgpLAogICAgICAgIGphYmF0YW46ICQoIiNqYWJhdGFuIikudmFsKCksCiAgICAgICAgZXNlbG9uX2FraGlyOiAkKCIjZXNlbG9uX2FraGlyIikudmFsKCkKICAgICAgfSwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnb2xhbmdfYWtoaXIiKS52YWx1ZSA9IHJlc3AuY29udGVudDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBzYXZlTmV3VGFuZGFUYW5nYW46IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHRoaXMuT25FcnJvckNsb3NlID0gZmFsc2U7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICB2YXIgY292ZXIgPSAicmVuamFBc2V0IiArICJfZm9ybXNpbXBhbiI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAxLCB0cnVlLCBmYWxzZSk7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBjMTogJCgiI2MxIikudmFsKCksCiAgICAgICAgYzogJCgiI2MiKS52YWwoKSwKICAgICAgICBkOiAkKCIjZCIpLnZhbCgpLAogICAgICAgIGU6ICQoIiNlIikudmFsKCksCiAgICAgICAgZTE6ICQoIiNlMSIpLnZhbCgpLAogICAgICAgIGthdGVnb3JpOiAkKCIja2F0ZWdvcmkiKS52YWwoKSwKICAgICAgICBuYW1hcGVnYXdhaTogJCgiI25hbWFwZWdhd2FpIikudmFsKCksCiAgICAgICAgbmlwcGVnYXdhaTogJCgiI25pcHBlZ2F3YWkiKS52YWwoKSwKICAgICAgICBwYW5na2F0YWtoaXI6ICQoIiNwYW5na2F0YWtoaXIiKS52YWwoKSwKICAgICAgICBnb2xhbmdfYWtoaXI6ICQoIiNnb2xhbmdfYWtoaXIiKS52YWwoKSwKICAgICAgICBqYWJhdGFuOiAkKCIjamFiYXRhbiIpLnZhbCgpLAogICAgICAgIGVzZWxvbl9ha2hpcjogJCgiI2VzZWxvbl9ha2hpciIpLnZhbCgpCiAgICAgIH0sCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2F2ZU5ld1RhbmRhVGFuZ2FuIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaWRQZW5hbmRhVGFuZ2FuIikuaW5uZXJIVE1MID0KICAgICAgICAgICAgcmVzcC5jb250ZW50LmNvbWJvdHRkOwogICAgICAgICAgbWUuY2xvc2VUYW5kYVRhbmdhbkZvcm0oKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICB2aWV3TGFwb3JhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgZXJybXNnID0gIiI7CiAgICBpZiAoZXJybXNnID09ICIiKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIHZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4ICsgIl9mb3JtIik7CiAgICAgIGFGb3JtLmFjdGlvbiA9IG1lLnVybCArICImdGlwZT12aWV3TGFwb3JhbiI7CiAgICAgIGFGb3JtLnRhcmdldCA9ICJfYmxhbmsiOwogICAgICBhRm9ybS5zdWJtaXQoKTsKICAgICAgYUZvcm0udGFyZ2V0ID0gIiI7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnJtc2cpOwogICAgfQogIH0sCiAgQ2FyaUJhcmFuZzogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgZmluZEJhcmFuZ1JrYm1kLndpbmRvd1Nob3coKTsKICB9LAogIHNhdmVFZGl0QmFyYW5nOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1zaW1wYW4iOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogJCgiIyIrbWUucHJlZml4ICsgIl9mb3JtIikuc2VyaWFsaXplKCksCiAgICAgIHVybDogbWUudXJsICsgIiZ0aXBlPXNhdmVFZGl0QmFyYW5nIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIGFsZXJ0KCJEYXRhIHRlcnNpbXBhbiIpOwogICAgICAgICAgbWUucmVmcmVzaExpc3QodHJ1ZSk7CiAgICAgICAgICBtZS5DbG9zZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9Cn0pOwo=",
    "size": "22352"
}