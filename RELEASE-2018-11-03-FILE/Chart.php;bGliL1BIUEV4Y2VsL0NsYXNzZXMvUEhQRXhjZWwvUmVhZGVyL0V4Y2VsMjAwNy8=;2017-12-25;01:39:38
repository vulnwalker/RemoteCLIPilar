{
    "namaFile": "lib\/PHPExcel\/Classes\/PHPExcel\/Reader\/Excel2007\/Chart.php",
    "lastUpdate": "2017-12-25+01:39:38.00",
    "contentFile": "PD9waHAKLyoqCiAqIFBIUEV4Y2VsCiAqCiAqIENvcHlyaWdodCAoYykgMjAwNiAtIDIwMTUgUEhQRXhjZWwKICoKICogVGhpcyBsaWJyYXJ5IGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vcgogKiBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljCiAqIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlcgogKiB2ZXJzaW9uIDIuMSBvZiB0aGUgTGljZW5zZSwgb3IgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KICoKICogVGhpcyBsaWJyYXJ5IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUgR05VCiAqIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCiAqCiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMKICogTGljZW5zZSBhbG9uZyB3aXRoIHRoaXMgbGlicmFyeTsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZQogKiBGb3VuZGF0aW9uLCBJbmMuLCA1MSBGcmFua2xpbiBTdHJlZXQsIEZpZnRoIEZsb29yLCBCb3N0b24sIE1BICAwMjExMC0xMzAxICBVU0EKICoKICogQGNhdGVnb3J5ICAgIFBIUEV4Y2VsCiAqIEBwYWNrYWdlICAgICAgICBQSFBFeGNlbF9SZWFkZXJfRXhjZWwyMDA3CiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDA2IC0gMjAxNSBQSFBFeGNlbCAoaHR0cDovL3d3dy5jb2RlcGxleC5jb20vUEhQRXhjZWwpCiAqIEBsaWNlbnNlICAgICAgICBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvb2xkLWxpY2Vuc2VzL2xncGwtMi4xLnR4dCAgICBMR1BMCiAqIEB2ZXJzaW9uICAgICAgICAjI1ZFUlNJT04jIywgIyNEQVRFIyMKICovCgovKioKICogUEhQRXhjZWxfUmVhZGVyX0V4Y2VsMjAwN19DaGFydAogKgogKiBAY2F0ZWdvcnkgICAgUEhQRXhjZWwKICogQHBhY2thZ2UgICAgICAgIFBIUEV4Y2VsX1JlYWRlcl9FeGNlbDIwMDcKICogQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMDYgLSAyMDE1IFBIUEV4Y2VsIChodHRwOi8vd3d3LmNvZGVwbGV4LmNvbS9QSFBFeGNlbCkKICovCmNsYXNzIFBIUEV4Y2VsX1JlYWRlcl9FeGNlbDIwMDdfQ2hhcnQKewogICAgcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gZ2V0QXR0cmlidXRlKCRjb21wb25lbnQsICRuYW1lLCAkZm9ybWF0KQogICAgewogICAgICAgICRhdHRyaWJ1dGVzID0gJGNvbXBvbmVudC0+YXR0cmlidXRlcygpOwogICAgICAgIGlmIChpc3NldCgkYXR0cmlidXRlc1skbmFtZV0pKSB7CiAgICAgICAgICAgIGlmICgkZm9ybWF0ID09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gKHN0cmluZykgJGF0dHJpYnV0ZXNbJG5hbWVdOwogICAgICAgICAgICB9IGVsc2VpZiAoJGZvcm1hdCA9PSAnaW50ZWdlcicpIHsKICAgICAgICAgICAgICAgIHJldHVybiAoaW50ZWdlcikgJGF0dHJpYnV0ZXNbJG5hbWVdOwogICAgICAgICAgICB9IGVsc2VpZiAoJGZvcm1hdCA9PSAnYm9vbGVhbicpIHsKICAgICAgICAgICAgICAgIHJldHVybiAoYm9vbGVhbikgKCRhdHRyaWJ1dGVzWyRuYW1lXSA9PT0gJzAnIHx8ICRhdHRyaWJ1dGVzWyRuYW1lXSAhPT0gJ3RydWUnKSA\/IGZhbHNlIDogdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiAoZmxvYXQpICRhdHRyaWJ1dGVzWyRuYW1lXTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCgogICAgcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gcmVhZENvbG9yKCRjb2xvciwgJGJhY2tncm91bmQgPSBmYWxzZSkKICAgIHsKICAgICAgICBpZiAoaXNzZXQoJGNvbG9yWyJyZ2IiXSkpIHsKICAgICAgICAgICAgcmV0dXJuIChzdHJpbmcpJGNvbG9yWyJyZ2IiXTsKICAgICAgICB9IGVsc2VpZiAoaXNzZXQoJGNvbG9yWyJpbmRleGVkIl0pKSB7CiAgICAgICAgICAgIHJldHVybiBQSFBFeGNlbF9TdHlsZV9Db2xvcjo6aW5kZXhlZENvbG9yKCRjb2xvclsiaW5kZXhlZCJdLTcsICRiYWNrZ3JvdW5kKS0+Z2V0QVJHQigpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHJlYWRDaGFydCgkY2hhcnRFbGVtZW50cywgJGNoYXJ0TmFtZSkKICAgIHsKICAgICAgICAkbmFtZXNwYWNlc0NoYXJ0TWV0YSA9ICRjaGFydEVsZW1lbnRzLT5nZXROYW1lc3BhY2VzKHRydWUpOwogICAgICAgICRjaGFydEVsZW1lbnRzQyA9ICRjaGFydEVsZW1lbnRzLT5jaGlsZHJlbigkbmFtZXNwYWNlc0NoYXJ0TWV0YVsnYyddKTsKCiAgICAgICAgJFhheGlzTGFiZWwgPSAkWWF4aXNMYWJlbCA9ICRsZWdlbmQgPSAkdGl0bGUgPSBudWxsOwogICAgICAgICRkaXNwQmxhbmtzQXMgPSAkcGxvdFZpc09ubHkgPSBudWxsOwoKICAgICAgICBmb3JlYWNoICgkY2hhcnRFbGVtZW50c0MgYXMgJGNoYXJ0RWxlbWVudEtleSA9PiAkY2hhcnRFbGVtZW50KSB7CiAgICAgICAgICAgIHN3aXRjaCAoJGNoYXJ0RWxlbWVudEtleSkgewogICAgICAgICAgICAgICAgY2FzZSAiY2hhcnQiOgogICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRjaGFydEVsZW1lbnQgYXMgJGNoYXJ0RGV0YWlsc0tleSA9PiAkY2hhcnREZXRhaWxzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRjaGFydERldGFpbHNDID0gJGNoYXJ0RGV0YWlscy0+Y2hpbGRyZW4oJG5hbWVzcGFjZXNDaGFydE1ldGFbJ2MnXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoJGNoYXJ0RGV0YWlsc0tleSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAicGxvdEFyZWEiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwbG90QXJlYUxheW91dCA9ICRYYXhpc0xhYmxlID0gJFlheGlzTGFibGUgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwbG90U2VyaWVzID0gJHBsb3RBdHRyaWJ1dGVzID0gYXJyYXkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICgkY2hhcnREZXRhaWxzIGFzICRjaGFydERldGFpbEtleSA9PiAkY2hhcnREZXRhaWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgkY2hhcnREZXRhaWxLZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImxheW91dCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBsb3RBcmVhTGF5b3V0ID0gc2VsZjo6Y2hhcnRMYXlvdXREZXRhaWxzKCRjaGFydERldGFpbCwgJG5hbWVzcGFjZXNDaGFydE1ldGEsICdwbG90QXJlYScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiY2F0QXgiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc3NldCgkY2hhcnREZXRhaWwtPnRpdGxlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkWGF4aXNMYWJlbCA9IHNlbGY6OmNoYXJ0VGl0bGUoJGNoYXJ0RGV0YWlsLT50aXRsZS0+Y2hpbGRyZW4oJG5hbWVzcGFjZXNDaGFydE1ldGFbJ2MnXSksICRuYW1lc3BhY2VzQ2hhcnRNZXRhLCAnY2F0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZGF0ZUF4IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzZXQoJGNoYXJ0RGV0YWlsLT50aXRsZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFhheGlzTGFiZWwgPSBzZWxmOjpjaGFydFRpdGxlKCRjaGFydERldGFpbC0+dGl0bGUtPmNoaWxkcmVuKCRuYW1lc3BhY2VzQ2hhcnRNZXRhWydjJ10pLCAkbmFtZXNwYWNlc0NoYXJ0TWV0YSwgJ2NhdCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInZhbEF4IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzZXQoJGNoYXJ0RGV0YWlsLT50aXRsZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFlheGlzTGFiZWwgPSBzZWxmOjpjaGFydFRpdGxlKCRjaGFydERldGFpbC0+dGl0bGUtPmNoaWxkcmVuKCRuYW1lc3BhY2VzQ2hhcnRNZXRhWydjJ10pLCAkbmFtZXNwYWNlc0NoYXJ0TWV0YSwgJ2NhdCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImJhckNoYXJ0IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImJhcjNEQ2hhcnQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRiYXJEaXJlY3Rpb24gPSBzZWxmOjpnZXRBdHRyaWJ1dGUoJGNoYXJ0RGV0YWlsLT5iYXJEaXIsICd2YWwnLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBsb3RTZXIgPSBzZWxmOjpjaGFydERhdGFTZXJpZXMoJGNoYXJ0RGV0YWlsLCAkbmFtZXNwYWNlc0NoYXJ0TWV0YSwgJGNoYXJ0RGV0YWlsS2V5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGxvdFNlci0+c2V0UGxvdERpcmVjdGlvbigkYmFyRGlyZWN0aW9uKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGxvdFNlcmllc1tdID0gJHBsb3RTZXI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBsb3RBdHRyaWJ1dGVzID0gc2VsZjo6cmVhZENoYXJ0QXR0cmlidXRlcygkY2hhcnREZXRhaWwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAibGluZUNoYXJ0IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImxpbmUzRENoYXJ0IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGxvdFNlcmllc1tdID0gc2VsZjo6Y2hhcnREYXRhU2VyaWVzKCRjaGFydERldGFpbCwgJG5hbWVzcGFjZXNDaGFydE1ldGEsICRjaGFydERldGFpbEtleSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBsb3RBdHRyaWJ1dGVzID0gc2VsZjo6cmVhZENoYXJ0QXR0cmlidXRlcygkY2hhcnREZXRhaWwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiYXJlYUNoYXJ0IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImFyZWEzRENoYXJ0IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGxvdFNlcmllc1tdID0gc2VsZjo6Y2hhcnREYXRhU2VyaWVzKCRjaGFydERldGFpbCwgJG5hbWVzcGFjZXNDaGFydE1ldGEsICRjaGFydERldGFpbEtleSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBsb3RBdHRyaWJ1dGVzID0gc2VsZjo6cmVhZENoYXJ0QXR0cmlidXRlcygkY2hhcnREZXRhaWwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZG91Z2hudXRDaGFydCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJwaWVDaGFydCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJwaWUzRENoYXJ0IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXhwbG9zaW9uID0gaXNzZXQoJGNoYXJ0RGV0YWlsLT5zZXItPmV4cGxvc2lvbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBsb3RTZXIgPSBzZWxmOjpjaGFydERhdGFTZXJpZXMoJGNoYXJ0RGV0YWlsLCAkbmFtZXNwYWNlc0NoYXJ0TWV0YSwgJGNoYXJ0RGV0YWlsS2V5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGxvdFNlci0+c2V0UGxvdFN0eWxlKCRleHBsb3Npb24pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwbG90U2VyaWVzW10gPSAkcGxvdFNlcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGxvdEF0dHJpYnV0ZXMgPSBzZWxmOjpyZWFkQ2hhcnRBdHRyaWJ1dGVzKCRjaGFydERldGFpbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJzY2F0dGVyQ2hhcnQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY2F0dGVyU3R5bGUgPSBzZWxmOjpnZXRBdHRyaWJ1dGUoJGNoYXJ0RGV0YWlsLT5zY2F0dGVyU3R5bGUsICd2YWwnLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBsb3RTZXIgPSBzZWxmOjpjaGFydERhdGFTZXJpZXMoJGNoYXJ0RGV0YWlsLCAkbmFtZXNwYWNlc0NoYXJ0TWV0YSwgJGNoYXJ0RGV0YWlsS2V5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGxvdFNlci0+c2V0UGxvdFN0eWxlKCRzY2F0dGVyU3R5bGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwbG90U2VyaWVzW10gPSAkcGxvdFNlcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGxvdEF0dHJpYnV0ZXMgPSBzZWxmOjpyZWFkQ2hhcnRBdHRyaWJ1dGVzKCRjaGFydERldGFpbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJidWJibGVDaGFydCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGJ1YmJsZVNjYWxlID0gc2VsZjo6Z2V0QXR0cmlidXRlKCRjaGFydERldGFpbC0+YnViYmxlU2NhbGUsICd2YWwnLCAnaW50ZWdlcicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwbG90U2VyID0gc2VsZjo6Y2hhcnREYXRhU2VyaWVzKCRjaGFydERldGFpbCwgJG5hbWVzcGFjZXNDaGFydE1ldGEsICRjaGFydERldGFpbEtleSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBsb3RTZXItPnNldFBsb3RTdHlsZSgkYnViYmxlU2NhbGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwbG90U2VyaWVzW10gPSAkcGxvdFNlcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGxvdEF0dHJpYnV0ZXMgPSBzZWxmOjpyZWFkQ2hhcnRBdHRyaWJ1dGVzKCRjaGFydERldGFpbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJyYWRhckNoYXJ0IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcmFkYXJTdHlsZSA9IHNlbGY6OmdldEF0dHJpYnV0ZSgkY2hhcnREZXRhaWwtPnJhZGFyU3R5bGUsICd2YWwnLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBsb3RTZXIgPSBzZWxmOjpjaGFydERhdGFTZXJpZXMoJGNoYXJ0RGV0YWlsLCAkbmFtZXNwYWNlc0NoYXJ0TWV0YSwgJGNoYXJ0RGV0YWlsS2V5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGxvdFNlci0+c2V0UGxvdFN0eWxlKCRyYWRhclN0eWxlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGxvdFNlcmllc1tdID0gJHBsb3RTZXI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBsb3RBdHRyaWJ1dGVzID0gc2VsZjo6cmVhZENoYXJ0QXR0cmlidXRlcygkY2hhcnREZXRhaWwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAic3VyZmFjZUNoYXJ0IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInN1cmZhY2UzRENoYXJ0IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2lyZUZyYW1lID0gc2VsZjo6Z2V0QXR0cmlidXRlKCRjaGFydERldGFpbC0+d2lyZWZyYW1lLCAndmFsJywgJ2Jvb2xlYW4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGxvdFNlciA9IHNlbGY6OmNoYXJ0RGF0YVNlcmllcygkY2hhcnREZXRhaWwsICRuYW1lc3BhY2VzQ2hhcnRNZXRhLCAkY2hhcnREZXRhaWxLZXkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwbG90U2VyLT5zZXRQbG90U3R5bGUoJHdpcmVGcmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBsb3RTZXJpZXNbXSA9ICRwbG90U2VyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwbG90QXR0cmlidXRlcyA9IHNlbGY6OnJlYWRDaGFydEF0dHJpYnV0ZXMoJGNoYXJ0RGV0YWlsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInN0b2NrQ2hhcnQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwbG90U2VyaWVzW10gPSBzZWxmOjpjaGFydERhdGFTZXJpZXMoJGNoYXJ0RGV0YWlsLCAkbmFtZXNwYWNlc0NoYXJ0TWV0YSwgJGNoYXJ0RGV0YWlsS2V5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGxvdEF0dHJpYnV0ZXMgPSBzZWxmOjpyZWFkQ2hhcnRBdHRyaWJ1dGVzKCRwbG90QXJlYUxheW91dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRwbG90QXJlYUxheW91dCA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwbG90QXJlYUxheW91dCA9IG5ldyBQSFBFeGNlbF9DaGFydF9MYXlvdXQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBsb3RBcmVhID0gbmV3IFBIUEV4Y2VsX0NoYXJ0X1Bsb3RBcmVhKCRwbG90QXJlYUxheW91dCwgJHBsb3RTZXJpZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGY6OnNldENoYXJ0QXR0cmlidXRlcygkcGxvdEFyZWFMYXlvdXQsICRwbG90QXR0cmlidXRlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJwbG90VmlzT25seSI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBsb3RWaXNPbmx5ID0gc2VsZjo6Z2V0QXR0cmlidXRlKCRjaGFydERldGFpbHMsICd2YWwnLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJkaXNwQmxhbmtzQXMiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRkaXNwQmxhbmtzQXMgPSBzZWxmOjpnZXRBdHRyaWJ1dGUoJGNoYXJ0RGV0YWlscywgJ3ZhbCcsICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInRpdGxlIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGl0bGUgPSBzZWxmOjpjaGFydFRpdGxlKCRjaGFydERldGFpbHMsICRuYW1lc3BhY2VzQ2hhcnRNZXRhLCAndGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImxlZ2VuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxlZ2VuZFBvcyA9ICdyJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbGVnZW5kTGF5b3V0ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbGVnZW5kT3ZlcmxheSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRjaGFydERldGFpbHMgYXMgJGNoYXJ0RGV0YWlsS2V5ID0+ICRjaGFydERldGFpbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCRjaGFydERldGFpbEtleSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAibGVnZW5kUG9zIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbGVnZW5kUG9zID0gc2VsZjo6Z2V0QXR0cmlidXRlKCRjaGFydERldGFpbCwgJ3ZhbCcsICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm92ZXJsYXkiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsZWdlbmRPdmVybGF5ID0gc2VsZjo6Z2V0QXR0cmlidXRlKCRjaGFydERldGFpbCwgJ3ZhbCcsICdib29sZWFuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJsYXlvdXQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsZWdlbmRMYXlvdXQgPSBzZWxmOjpjaGFydExheW91dERldGFpbHMoJGNoYXJ0RGV0YWlsLCAkbmFtZXNwYWNlc0NoYXJ0TWV0YSwgJ2xlZ2VuZCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsZWdlbmQgPSBuZXcgUEhQRXhjZWxfQ2hhcnRfTGVnZW5kKCRsZWdlbmRQb3MsICRsZWdlbmRMYXlvdXQsICRsZWdlbmRPdmVybGF5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkY2hhcnQgPSBuZXcgUEhQRXhjZWxfQ2hhcnQoJGNoYXJ0TmFtZSwgJHRpdGxlLCAkbGVnZW5kLCAkcGxvdEFyZWEsICRwbG90VmlzT25seSwgJGRpc3BCbGFua3NBcywgJFhheGlzTGFiZWwsICRZYXhpc0xhYmVsKTsKCiAgICAgICAgcmV0dXJuICRjaGFydDsKICAgIH0KCiAgICBwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBjaGFydFRpdGxlKCR0aXRsZURldGFpbHMsICRuYW1lc3BhY2VzQ2hhcnRNZXRhLCAkdHlwZSkKICAgIHsKICAgICAgICAkY2FwdGlvbiA9IGFycmF5KCk7CiAgICAgICAgJHRpdGxlTGF5b3V0ID0gbnVsbDsKICAgICAgICBmb3JlYWNoICgkdGl0bGVEZXRhaWxzIGFzICR0aXRsZURldGFpbEtleSA9PiAkY2hhcnREZXRhaWwpIHsKICAgICAgICAgICAgc3dpdGNoICgkdGl0bGVEZXRhaWxLZXkpIHsKICAgICAgICAgICAgICAgIGNhc2UgInR4IjoKICAgICAgICAgICAgICAgICAgICAkdGl0bGVEZXRhaWxzID0gJGNoYXJ0RGV0YWlsLT5yaWNoLT5jaGlsZHJlbigkbmFtZXNwYWNlc0NoYXJ0TWV0YVsnYSddKTsKICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICgkdGl0bGVEZXRhaWxzIGFzICR0aXRsZUtleSA9PiAkdGl0bGVEZXRhaWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgkdGl0bGVLZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInAiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aXRsZURldGFpbFBhcnQgPSAkdGl0bGVEZXRhaWwtPmNoaWxkcmVuKCRuYW1lc3BhY2VzQ2hhcnRNZXRhWydhJ10pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjYXB0aW9uW10gPSBzZWxmOjpwYXJzZVJpY2hUZXh0KCR0aXRsZURldGFpbFBhcnQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAibGF5b3V0IjoKICAgICAgICAgICAgICAgICAgICAkdGl0bGVMYXlvdXQgPSBzZWxmOjpjaGFydExheW91dERldGFpbHMoJGNoYXJ0RGV0YWlsLCAkbmFtZXNwYWNlc0NoYXJ0TWV0YSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBuZXcgUEhQRXhjZWxfQ2hhcnRfVGl0bGUoJGNhcHRpb24sICR0aXRsZUxheW91dCk7CiAgICB9CgogICAgcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gY2hhcnRMYXlvdXREZXRhaWxzKCRjaGFydERldGFpbCwgJG5hbWVzcGFjZXNDaGFydE1ldGEpCiAgICB7CiAgICAgICAgaWYgKCFpc3NldCgkY2hhcnREZXRhaWwtPm1hbnVhbExheW91dCkpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICAgICRkZXRhaWxzID0gJGNoYXJ0RGV0YWlsLT5tYW51YWxMYXlvdXQtPmNoaWxkcmVuKCRuYW1lc3BhY2VzQ2hhcnRNZXRhWydjJ10pOwogICAgICAgIGlmIChpc19udWxsKCRkZXRhaWxzKSkgewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgJGxheW91dCA9IGFycmF5KCk7CiAgICAgICAgZm9yZWFjaCAoJGRldGFpbHMgYXMgJGRldGFpbEtleSA9PiAkZGV0YWlsKSB7Ci8vICAgICAgICAgICAgZWNobyAkZGV0YWlsS2V5LCAnID0+ICcsc2VsZjo6Z2V0QXR0cmlidXRlKCRkZXRhaWwsICd2YWwnLCAnc3RyaW5nJyksUEhQX0VPTDsKICAgICAgICAgICAgJGxheW91dFskZGV0YWlsS2V5XSA9IHNlbGY6OmdldEF0dHJpYnV0ZSgkZGV0YWlsLCAndmFsJywgJ3N0cmluZycpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbmV3IFBIUEV4Y2VsX0NoYXJ0X0xheW91dCgkbGF5b3V0KTsKICAgIH0KCiAgICBwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBjaGFydERhdGFTZXJpZXMoJGNoYXJ0RGV0YWlsLCAkbmFtZXNwYWNlc0NoYXJ0TWV0YSwgJHBsb3RUeXBlKQogICAgewogICAgICAgICRtdWx0aVNlcmllc1R5cGUgPSBudWxsOwogICAgICAgICRzbW9vdGhMaW5lID0gZmFsc2U7CiAgICAgICAgJHNlcmllc0xhYmVsID0gJHNlcmllc0NhdGVnb3J5ID0gJHNlcmllc1ZhbHVlcyA9ICRwbG90T3JkZXIgPSBhcnJheSgpOwoKICAgICAgICAkc2VyaWVzRGV0YWlsU2V0ID0gJGNoYXJ0RGV0YWlsLT5jaGlsZHJlbigkbmFtZXNwYWNlc0NoYXJ0TWV0YVsnYyddKTsKICAgICAgICBmb3JlYWNoICgkc2VyaWVzRGV0YWlsU2V0IGFzICRzZXJpZXNEZXRhaWxLZXkgPT4gJHNlcmllc0RldGFpbHMpIHsKICAgICAgICAgICAgc3dpdGNoICgkc2VyaWVzRGV0YWlsS2V5KSB7CiAgICAgICAgICAgICAgICBjYXNlICJncm91cGluZyI6CiAgICAgICAgICAgICAgICAgICAgJG11bHRpU2VyaWVzVHlwZSA9IHNlbGY6OmdldEF0dHJpYnV0ZSgkY2hhcnREZXRhaWwtPmdyb3VwaW5nLCAndmFsJywgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAic2VyIjoKICAgICAgICAgICAgICAgICAgICAkbWFya2VyID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICgkc2VyaWVzRGV0YWlscyBhcyAkc2VyaWVzS2V5ID0+ICRzZXJpZXNEZXRhaWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgkc2VyaWVzS2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJpZHgiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZXJpZXNJbmRleCA9IHNlbGY6OmdldEF0dHJpYnV0ZSgkc2VyaWVzRGV0YWlsLCAndmFsJywgJ2ludGVnZXInKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm9yZGVyIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VyaWVzT3JkZXIgPSBzZWxmOjpnZXRBdHRyaWJ1dGUoJHNlcmllc0RldGFpbCwgJ3ZhbCcsICdpbnRlZ2VyJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBsb3RPcmRlclskc2VyaWVzSW5kZXhdID0gJHNlcmllc09yZGVyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAidHgiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZXJpZXNMYWJlbFskc2VyaWVzSW5kZXhdID0gc2VsZjo6Y2hhcnREYXRhU2VyaWVzVmFsdWVTZXQoJHNlcmllc0RldGFpbCwgJG5hbWVzcGFjZXNDaGFydE1ldGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAibWFya2VyIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWFya2VyID0gc2VsZjo6Z2V0QXR0cmlidXRlKCRzZXJpZXNEZXRhaWwtPnN5bWJvbCwgJ3ZhbCcsICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInNtb290aCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNtb290aExpbmUgPSBzZWxmOjpnZXRBdHRyaWJ1dGUoJHNlcmllc0RldGFpbCwgJ3ZhbCcsICdib29sZWFuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJjYXQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZXJpZXNDYXRlZ29yeVskc2VyaWVzSW5kZXhdID0gc2VsZjo6Y2hhcnREYXRhU2VyaWVzVmFsdWVTZXQoJHNlcmllc0RldGFpbCwgJG5hbWVzcGFjZXNDaGFydE1ldGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAidmFsIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VyaWVzVmFsdWVzWyRzZXJpZXNJbmRleF0gPSBzZWxmOjpjaGFydERhdGFTZXJpZXNWYWx1ZVNldCgkc2VyaWVzRGV0YWlsLCAkbmFtZXNwYWNlc0NoYXJ0TWV0YSwgJG1hcmtlcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJ4VmFsIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VyaWVzQ2F0ZWdvcnlbJHNlcmllc0luZGV4XSA9IHNlbGY6OmNoYXJ0RGF0YVNlcmllc1ZhbHVlU2V0KCRzZXJpZXNEZXRhaWwsICRuYW1lc3BhY2VzQ2hhcnRNZXRhLCAkbWFya2VyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInlWYWwiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZXJpZXNWYWx1ZXNbJHNlcmllc0luZGV4XSA9IHNlbGY6OmNoYXJ0RGF0YVNlcmllc1ZhbHVlU2V0KCRzZXJpZXNEZXRhaWwsICRuYW1lc3BhY2VzQ2hhcnRNZXRhLCAkbWFya2VyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbmV3IFBIUEV4Y2VsX0NoYXJ0X0RhdGFTZXJpZXMoJHBsb3RUeXBlLCAkbXVsdGlTZXJpZXNUeXBlLCAkcGxvdE9yZGVyLCAkc2VyaWVzTGFiZWwsICRzZXJpZXNDYXRlZ29yeSwgJHNlcmllc1ZhbHVlcywgJHNtb290aExpbmUpOwogICAgfQoKCiAgICBwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBjaGFydERhdGFTZXJpZXNWYWx1ZVNldCgkc2VyaWVzRGV0YWlsLCAkbmFtZXNwYWNlc0NoYXJ0TWV0YSwgJG1hcmtlciA9IG51bGwsICRzbW9vdGhMaW5lID0gZmFsc2UpCiAgICB7CiAgICAgICAgaWYgKGlzc2V0KCRzZXJpZXNEZXRhaWwtPnN0clJlZikpIHsKICAgICAgICAgICAgJHNlcmllc1NvdXJjZSA9IChzdHJpbmcpICRzZXJpZXNEZXRhaWwtPnN0clJlZi0+ZjsKICAgICAgICAgICAgJHNlcmllc0RhdGEgPSBzZWxmOjpjaGFydERhdGFTZXJpZXNWYWx1ZXMoJHNlcmllc0RldGFpbC0+c3RyUmVmLT5zdHJDYWNoZS0+Y2hpbGRyZW4oJG5hbWVzcGFjZXNDaGFydE1ldGFbJ2MnXSksICdzJyk7CgogICAgICAgICAgICByZXR1cm4gbmV3IFBIUEV4Y2VsX0NoYXJ0X0RhdGFTZXJpZXNWYWx1ZXMoJ1N0cmluZycsICRzZXJpZXNTb3VyY2UsICRzZXJpZXNEYXRhWydmb3JtYXRDb2RlJ10sICRzZXJpZXNEYXRhWydwb2ludENvdW50J10sICRzZXJpZXNEYXRhWydkYXRhVmFsdWVzJ10sICRtYXJrZXIsICRzbW9vdGhMaW5lKTsKICAgICAgICB9IGVsc2VpZiAoaXNzZXQoJHNlcmllc0RldGFpbC0+bnVtUmVmKSkgewogICAgICAgICAgICAkc2VyaWVzU291cmNlID0gKHN0cmluZykgJHNlcmllc0RldGFpbC0+bnVtUmVmLT5mOwogICAgICAgICAgICAkc2VyaWVzRGF0YSA9IHNlbGY6OmNoYXJ0RGF0YVNlcmllc1ZhbHVlcygkc2VyaWVzRGV0YWlsLT5udW1SZWYtPm51bUNhY2hlLT5jaGlsZHJlbigkbmFtZXNwYWNlc0NoYXJ0TWV0YVsnYyddKSk7CgogICAgICAgICAgICByZXR1cm4gbmV3IFBIUEV4Y2VsX0NoYXJ0X0RhdGFTZXJpZXNWYWx1ZXMoJ051bWJlcicsICRzZXJpZXNTb3VyY2UsICRzZXJpZXNEYXRhWydmb3JtYXRDb2RlJ10sICRzZXJpZXNEYXRhWydwb2ludENvdW50J10sICRzZXJpZXNEYXRhWydkYXRhVmFsdWVzJ10sICRtYXJrZXIsICRzbW9vdGhMaW5lKTsKICAgICAgICB9IGVsc2VpZiAoaXNzZXQoJHNlcmllc0RldGFpbC0+bXVsdGlMdmxTdHJSZWYpKSB7CiAgICAgICAgICAgICRzZXJpZXNTb3VyY2UgPSAoc3RyaW5nKSAkc2VyaWVzRGV0YWlsLT5tdWx0aUx2bFN0clJlZi0+ZjsKICAgICAgICAgICAgJHNlcmllc0RhdGEgPSBzZWxmOjpjaGFydERhdGFTZXJpZXNWYWx1ZXNNdWx0aUxldmVsKCRzZXJpZXNEZXRhaWwtPm11bHRpTHZsU3RyUmVmLT5tdWx0aUx2bFN0ckNhY2hlLT5jaGlsZHJlbigkbmFtZXNwYWNlc0NoYXJ0TWV0YVsnYyddKSwgJ3MnKTsKICAgICAgICAgICAgJHNlcmllc0RhdGFbJ3BvaW50Q291bnQnXSA9IGNvdW50KCRzZXJpZXNEYXRhWydkYXRhVmFsdWVzJ10pOwoKICAgICAgICAgICAgcmV0dXJuIG5ldyBQSFBFeGNlbF9DaGFydF9EYXRhU2VyaWVzVmFsdWVzKCdTdHJpbmcnLCAkc2VyaWVzU291cmNlLCAkc2VyaWVzRGF0YVsnZm9ybWF0Q29kZSddLCAkc2VyaWVzRGF0YVsncG9pbnRDb3VudCddLCAkc2VyaWVzRGF0YVsnZGF0YVZhbHVlcyddLCAkbWFya2VyLCAkc21vb3RoTGluZSk7CiAgICAgICAgfSBlbHNlaWYgKGlzc2V0KCRzZXJpZXNEZXRhaWwtPm11bHRpTHZsTnVtUmVmKSkgewogICAgICAgICAgICAkc2VyaWVzU291cmNlID0gKHN0cmluZykgJHNlcmllc0RldGFpbC0+bXVsdGlMdmxOdW1SZWYtPmY7CiAgICAgICAgICAgICRzZXJpZXNEYXRhID0gc2VsZjo6Y2hhcnREYXRhU2VyaWVzVmFsdWVzTXVsdGlMZXZlbCgkc2VyaWVzRGV0YWlsLT5tdWx0aUx2bE51bVJlZi0+bXVsdGlMdmxOdW1DYWNoZS0+Y2hpbGRyZW4oJG5hbWVzcGFjZXNDaGFydE1ldGFbJ2MnXSksICdzJyk7CiAgICAgICAgICAgICRzZXJpZXNEYXRhWydwb2ludENvdW50J10gPSBjb3VudCgkc2VyaWVzRGF0YVsnZGF0YVZhbHVlcyddKTsKCiAgICAgICAgICAgIHJldHVybiBuZXcgUEhQRXhjZWxfQ2hhcnRfRGF0YVNlcmllc1ZhbHVlcygnU3RyaW5nJywgJHNlcmllc1NvdXJjZSwgJHNlcmllc0RhdGFbJ2Zvcm1hdENvZGUnXSwgJHNlcmllc0RhdGFbJ3BvaW50Q291bnQnXSwgJHNlcmllc0RhdGFbJ2RhdGFWYWx1ZXMnXSwgJG1hcmtlciwgJHNtb290aExpbmUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCgogICAgcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gY2hhcnREYXRhU2VyaWVzVmFsdWVzKCRzZXJpZXNWYWx1ZVNldCwgJGRhdGFUeXBlID0gJ24nKQogICAgewogICAgICAgICRzZXJpZXNWYWwgPSBhcnJheSgpOwogICAgICAgICRmb3JtYXRDb2RlID0gJyc7CiAgICAgICAgJHBvaW50Q291bnQgPSAwOwoKICAgICAgICBmb3JlYWNoICgkc2VyaWVzVmFsdWVTZXQgYXMgJHNlcmllc1ZhbHVlSWR4ID0+ICRzZXJpZXNWYWx1ZSkgewogICAgICAgICAgICBzd2l0Y2ggKCRzZXJpZXNWYWx1ZUlkeCkgewogICAgICAgICAgICAgICAgY2FzZSAncHRDb3VudCc6CiAgICAgICAgICAgICAgICAgICAgJHBvaW50Q291bnQgPSBzZWxmOjpnZXRBdHRyaWJ1dGUoJHNlcmllc1ZhbHVlLCAndmFsJywgJ2ludGVnZXInKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ2Zvcm1hdENvZGUnOgogICAgICAgICAgICAgICAgICAgICRmb3JtYXRDb2RlID0gKHN0cmluZykgJHNlcmllc1ZhbHVlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAncHQnOgogICAgICAgICAgICAgICAgICAgICRwb2ludFZhbCA9IHNlbGY6OmdldEF0dHJpYnV0ZSgkc2VyaWVzVmFsdWUsICdpZHgnLCAnaW50ZWdlcicpOwogICAgICAgICAgICAgICAgICAgIGlmICgkZGF0YVR5cGUgPT0gJ3MnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzZXJpZXNWYWxbJHBvaW50VmFsXSA9IChzdHJpbmcpICRzZXJpZXNWYWx1ZS0+djsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkc2VyaWVzVmFsWyRwb2ludFZhbF0gPSAoZmxvYXQpICRzZXJpZXNWYWx1ZS0+djsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBhcnJheSgKICAgICAgICAgICAgJ2Zvcm1hdENvZGUnICAgID0+ICRmb3JtYXRDb2RlLAogICAgICAgICAgICAncG9pbnRDb3VudCcgICAgPT4gJHBvaW50Q291bnQsCiAgICAgICAgICAgICdkYXRhVmFsdWVzJyAgICA9PiAkc2VyaWVzVmFsCiAgICAgICAgKTsKICAgIH0KCiAgICBwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBjaGFydERhdGFTZXJpZXNWYWx1ZXNNdWx0aUxldmVsKCRzZXJpZXNWYWx1ZVNldCwgJGRhdGFUeXBlID0gJ24nKQogICAgewogICAgICAgICRzZXJpZXNWYWwgPSBhcnJheSgpOwogICAgICAgICRmb3JtYXRDb2RlID0gJyc7CiAgICAgICAgJHBvaW50Q291bnQgPSAwOwoKICAgICAgICBmb3JlYWNoICgkc2VyaWVzVmFsdWVTZXQtPmx2bCBhcyAkc2VyaWVzTGV2ZWxJZHggPT4gJHNlcmllc0xldmVsKSB7CiAgICAgICAgICAgIGZvcmVhY2ggKCRzZXJpZXNMZXZlbCBhcyAkc2VyaWVzVmFsdWVJZHggPT4gJHNlcmllc1ZhbHVlKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKCRzZXJpZXNWYWx1ZUlkeCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgJ3B0Q291bnQnOgogICAgICAgICAgICAgICAgICAgICAgICAkcG9pbnRDb3VudCA9IHNlbGY6OmdldEF0dHJpYnV0ZSgkc2VyaWVzVmFsdWUsICd2YWwnLCAnaW50ZWdlcicpOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdmb3JtYXRDb2RlJzoKICAgICAgICAgICAgICAgICAgICAgICAgJGZvcm1hdENvZGUgPSAoc3RyaW5nKSAkc2VyaWVzVmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ3B0JzoKICAgICAgICAgICAgICAgICAgICAgICAgJHBvaW50VmFsID0gc2VsZjo6Z2V0QXR0cmlidXRlKCRzZXJpZXNWYWx1ZSwgJ2lkeCcsICdpbnRlZ2VyJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZGF0YVR5cGUgPT0gJ3MnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VyaWVzVmFsWyRwb2ludFZhbF1bXSA9IChzdHJpbmcpICRzZXJpZXNWYWx1ZS0+djsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZXJpZXNWYWxbJHBvaW50VmFsXVtdID0gKGZsb2F0KSAkc2VyaWVzVmFsdWUtPnY7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBhcnJheSgKICAgICAgICAgICAgJ2Zvcm1hdENvZGUnICAgID0+ICRmb3JtYXRDb2RlLAogICAgICAgICAgICAncG9pbnRDb3VudCcgICAgPT4gJHBvaW50Q291bnQsCiAgICAgICAgICAgICdkYXRhVmFsdWVzJyAgICA9PiAkc2VyaWVzVmFsCiAgICAgICAgKTsKICAgIH0KCiAgICBwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBwYXJzZVJpY2hUZXh0KCR0aXRsZURldGFpbFBhcnQgPSBudWxsKQogICAgewogICAgICAgICR2YWx1ZSA9IG5ldyBQSFBFeGNlbF9SaWNoVGV4dCgpOwoKICAgICAgICBmb3JlYWNoICgkdGl0bGVEZXRhaWxQYXJ0IGFzICR0aXRsZURldGFpbEVsZW1lbnRLZXkgPT4gJHRpdGxlRGV0YWlsRWxlbWVudCkgewogICAgICAgICAgICBpZiAoaXNzZXQoJHRpdGxlRGV0YWlsRWxlbWVudC0+dCkpIHsKICAgICAgICAgICAgICAgICRvYmpUZXh0ID0gJHZhbHVlLT5jcmVhdGVUZXh0UnVuKChzdHJpbmcpICR0aXRsZURldGFpbEVsZW1lbnQtPnQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc3NldCgkdGl0bGVEZXRhaWxFbGVtZW50LT5yUHIpKSB7CiAgICAgICAgICAgICAgICBpZiAoaXNzZXQoJHRpdGxlRGV0YWlsRWxlbWVudC0+clByLT5yRm9udFsidmFsIl0pKSB7CiAgICAgICAgICAgICAgICAgICAgJG9ialRleHQtPmdldEZvbnQoKS0+c2V0TmFtZSgoc3RyaW5nKSAkdGl0bGVEZXRhaWxFbGVtZW50LT5yUHItPnJGb250WyJ2YWwiXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJGZvbnRTaXplID0gKHNlbGY6OmdldEF0dHJpYnV0ZSgkdGl0bGVEZXRhaWxFbGVtZW50LT5yUHIsICdzeicsICdpbnRlZ2VyJykpOwogICAgICAgICAgICAgICAgaWYgKCFpc19udWxsKCRmb250U2l6ZSkpIHsKICAgICAgICAgICAgICAgICAgICAkb2JqVGV4dC0+Z2V0Rm9udCgpLT5zZXRTaXplKGZsb29yKCRmb250U2l6ZSAvIDEwMCkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRmb250Q29sb3IgPSAoc2VsZjo6Z2V0QXR0cmlidXRlKCR0aXRsZURldGFpbEVsZW1lbnQtPnJQciwgJ2NvbG9yJywgJ3N0cmluZycpKTsKICAgICAgICAgICAgICAgIGlmICghaXNfbnVsbCgkZm9udENvbG9yKSkgewogICAgICAgICAgICAgICAgICAgICRvYmpUZXh0LT5nZXRGb250KCktPnNldENvbG9yKG5ldyBQSFBFeGNlbF9TdHlsZV9Db2xvcihzZWxmOjpyZWFkQ29sb3IoJGZvbnRDb2xvcikpKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkYm9sZCA9IHNlbGY6OmdldEF0dHJpYnV0ZSgkdGl0bGVEZXRhaWxFbGVtZW50LT5yUHIsICdiJywgJ2Jvb2xlYW4nKTsKICAgICAgICAgICAgICAgIGlmICghaXNfbnVsbCgkYm9sZCkpIHsKICAgICAgICAgICAgICAgICAgICAkb2JqVGV4dC0+Z2V0Rm9udCgpLT5zZXRCb2xkKCRib2xkKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkaXRhbGljID0gc2VsZjo6Z2V0QXR0cmlidXRlKCR0aXRsZURldGFpbEVsZW1lbnQtPnJQciwgJ2knLCAnYm9vbGVhbicpOwogICAgICAgICAgICAgICAgaWYgKCFpc19udWxsKCRpdGFsaWMpKSB7CiAgICAgICAgICAgICAgICAgICAgJG9ialRleHQtPmdldEZvbnQoKS0+c2V0SXRhbGljKCRpdGFsaWMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRiYXNlbGluZSA9IHNlbGY6OmdldEF0dHJpYnV0ZSgkdGl0bGVEZXRhaWxFbGVtZW50LT5yUHIsICdiYXNlbGluZScsICdpbnRlZ2VyJyk7CiAgICAgICAgICAgICAgICBpZiAoIWlzX251bGwoJGJhc2VsaW5lKSkgewogICAgICAgICAgICAgICAgICAgIGlmICgkYmFzZWxpbmUgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRvYmpUZXh0LT5nZXRGb250KCktPnNldFN1cGVyU2NyaXB0KHRydWUpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZWlmICgkYmFzZWxpbmUgPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRvYmpUZXh0LT5nZXRGb250KCktPnNldFN1YlNjcmlwdCh0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJHVuZGVyc2NvcmUgPSAoc2VsZjo6Z2V0QXR0cmlidXRlKCR0aXRsZURldGFpbEVsZW1lbnQtPnJQciwgJ3UnLCAnc3RyaW5nJykpOwogICAgICAgICAgICAgICAgaWYgKCFpc19udWxsKCR1bmRlcnNjb3JlKSkgewogICAgICAgICAgICAgICAgICAgIGlmICgkdW5kZXJzY29yZSA9PSAnc25nJykgewogICAgICAgICAgICAgICAgICAgICAgICAkb2JqVGV4dC0+Z2V0Rm9udCgpLT5zZXRVbmRlcmxpbmUoUEhQRXhjZWxfU3R5bGVfRm9udDo6VU5ERVJMSU5FX1NJTkdMRSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlaWYgKCR1bmRlcnNjb3JlID09ICdkYmwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRvYmpUZXh0LT5nZXRGb250KCktPnNldFVuZGVybGluZShQSFBFeGNlbF9TdHlsZV9Gb250OjpVTkRFUkxJTkVfRE9VQkxFKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkb2JqVGV4dC0+Z2V0Rm9udCgpLT5zZXRVbmRlcmxpbmUoUEhQRXhjZWxfU3R5bGVfRm9udDo6VU5ERVJMSU5FX05PTkUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkc3RyaWtldGhyb3VnaCA9IChzZWxmOjpnZXRBdHRyaWJ1dGUoJHRpdGxlRGV0YWlsRWxlbWVudC0+clByLCAncycsICdzdHJpbmcnKSk7CiAgICAgICAgICAgICAgICBpZiAoIWlzX251bGwoJHN0cmlrZXRocm91Z2gpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRzdHJpa2V0aHJvdWdoID09ICdub1N0cmlrZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJG9ialRleHQtPmdldEZvbnQoKS0+c2V0U3RyaWtldGhyb3VnaChmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJG9ialRleHQtPmdldEZvbnQoKS0+c2V0U3RyaWtldGhyb3VnaCh0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiAkdmFsdWU7CiAgICB9CgogICAgcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gcmVhZENoYXJ0QXR0cmlidXRlcygkY2hhcnREZXRhaWwpCiAgICB7CiAgICAgICAgJHBsb3RBdHRyaWJ1dGVzID0gYXJyYXkoKTsKICAgICAgICBpZiAoaXNzZXQoJGNoYXJ0RGV0YWlsLT5kTGJscykpIHsKICAgICAgICAgICAgaWYgKGlzc2V0KCRjaGFydERldGFpbC0+ZExibHMtPmhvd0xlZ2VuZEtleSkpIHsKICAgICAgICAgICAgICAgICRwbG90QXR0cmlidXRlc1snc2hvd0xlZ2VuZEtleSddID0gc2VsZjo6Z2V0QXR0cmlidXRlKCRjaGFydERldGFpbC0+ZExibHMtPnNob3dMZWdlbmRLZXksICd2YWwnLCAnc3RyaW5nJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGlzc2V0KCRjaGFydERldGFpbC0+ZExibHMtPnNob3dWYWwpKSB7CiAgICAgICAgICAgICAgICAkcGxvdEF0dHJpYnV0ZXNbJ3Nob3dWYWwnXSA9IHNlbGY6OmdldEF0dHJpYnV0ZSgkY2hhcnREZXRhaWwtPmRMYmxzLT5zaG93VmFsLCAndmFsJywgJ3N0cmluZycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc3NldCgkY2hhcnREZXRhaWwtPmRMYmxzLT5zaG93Q2F0TmFtZSkpIHsKICAgICAgICAgICAgICAgICRwbG90QXR0cmlidXRlc1snc2hvd0NhdE5hbWUnXSA9IHNlbGY6OmdldEF0dHJpYnV0ZSgkY2hhcnREZXRhaWwtPmRMYmxzLT5zaG93Q2F0TmFtZSwgJ3ZhbCcsICdzdHJpbmcnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaXNzZXQoJGNoYXJ0RGV0YWlsLT5kTGJscy0+c2hvd1Nlck5hbWUpKSB7CiAgICAgICAgICAgICAgICAkcGxvdEF0dHJpYnV0ZXNbJ3Nob3dTZXJOYW1lJ10gPSBzZWxmOjpnZXRBdHRyaWJ1dGUoJGNoYXJ0RGV0YWlsLT5kTGJscy0+c2hvd1Nlck5hbWUsICd2YWwnLCAnc3RyaW5nJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGlzc2V0KCRjaGFydERldGFpbC0+ZExibHMtPnNob3dQZXJjZW50KSkgewogICAgICAgICAgICAgICAgJHBsb3RBdHRyaWJ1dGVzWydzaG93UGVyY2VudCddID0gc2VsZjo6Z2V0QXR0cmlidXRlKCRjaGFydERldGFpbC0+ZExibHMtPnNob3dQZXJjZW50LCAndmFsJywgJ3N0cmluZycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc3NldCgkY2hhcnREZXRhaWwtPmRMYmxzLT5zaG93QnViYmxlU2l6ZSkpIHsKICAgICAgICAgICAgICAgICRwbG90QXR0cmlidXRlc1snc2hvd0J1YmJsZVNpemUnXSA9IHNlbGY6OmdldEF0dHJpYnV0ZSgkY2hhcnREZXRhaWwtPmRMYmxzLT5zaG93QnViYmxlU2l6ZSwgJ3ZhbCcsICdzdHJpbmcnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaXNzZXQoJGNoYXJ0RGV0YWlsLT5kTGJscy0+c2hvd0xlYWRlckxpbmVzKSkgewogICAgICAgICAgICAgICAgJHBsb3RBdHRyaWJ1dGVzWydzaG93TGVhZGVyTGluZXMnXSA9IHNlbGY6OmdldEF0dHJpYnV0ZSgkY2hhcnREZXRhaWwtPmRMYmxzLT5zaG93TGVhZGVyTGluZXMsICd2YWwnLCAnc3RyaW5nJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiAkcGxvdEF0dHJpYnV0ZXM7CiAgICB9CgogICAgcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gc2V0Q2hhcnRBdHRyaWJ1dGVzKCRwbG90QXJlYSwgJHBsb3RBdHRyaWJ1dGVzKQogICAgewogICAgICAgIGZvcmVhY2ggKCRwbG90QXR0cmlidXRlcyBhcyAkcGxvdEF0dHJpYnV0ZUtleSA9PiAkcGxvdEF0dHJpYnV0ZVZhbHVlKSB7CiAgICAgICAgICAgIHN3aXRjaCAoJHBsb3RBdHRyaWJ1dGVLZXkpIHsKICAgICAgICAgICAgICAgIGNhc2UgJ3Nob3dMZWdlbmRLZXknOgogICAgICAgICAgICAgICAgICAgICRwbG90QXJlYS0+c2V0U2hvd0xlZ2VuZEtleSgkcGxvdEF0dHJpYnV0ZVZhbHVlKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ3Nob3dWYWwnOgogICAgICAgICAgICAgICAgICAgICRwbG90QXJlYS0+c2V0U2hvd1ZhbCgkcGxvdEF0dHJpYnV0ZVZhbHVlKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ3Nob3dDYXROYW1lJzoKICAgICAgICAgICAgICAgICAgICAkcGxvdEFyZWEtPnNldFNob3dDYXROYW1lKCRwbG90QXR0cmlidXRlVmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnc2hvd1Nlck5hbWUnOgogICAgICAgICAgICAgICAgICAgICRwbG90QXJlYS0+c2V0U2hvd1Nlck5hbWUoJHBsb3RBdHRyaWJ1dGVWYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICdzaG93UGVyY2VudCc6CiAgICAgICAgICAgICAgICAgICAgJHBsb3RBcmVhLT5zZXRTaG93UGVyY2VudCgkcGxvdEF0dHJpYnV0ZVZhbHVlKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ3Nob3dCdWJibGVTaXplJzoKICAgICAgICAgICAgICAgICAgICAkcGxvdEFyZWEtPnNldFNob3dCdWJibGVTaXplKCRwbG90QXR0cmlidXRlVmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnc2hvd0xlYWRlckxpbmVzJzoKICAgICAgICAgICAgICAgICAgICAkcGxvdEFyZWEtPnNldFNob3dMZWFkZXJMaW5lcygkcGxvdEF0dHJpYnV0ZVZhbHVlKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=",
    "size": "27167"
}