{
    "namaFile": "js\/persediaan\/pengeluaran\/pengeluaranPersediaan.js",
    "lastUpdate": "2018-11-01+12:59:10.91",
    "contentFile": "dmFyIHBlbmdlbHVhcmFuUGVyc2VkaWFhbkZpbHRlclNLUEQgPSBuZXcgU2twZENscyh7CiAgcHJlZml4OiAicGVuZ2VsdWFyYW5QZXJzZWRpYWFuIiwKICBmb3JtTmFtZTogInBlbmdlbHVhcmFuUGVyc2VkaWFhbkZvcm0iLAogIHBpbGloVXJ1c2FuZnRlcjogZnVuY3Rpb24oKSB7CiAgICBwZW5nZWx1YXJhblBlcnNlZGlhYW4uZmlsdGVyUmVuZGVyKCk7CiAgfSwKICBwaWxpaEJpZGFuZ0FmdGVyOiBmdW5jdGlvbigpIHsKICAgIHBlbmdlbHVhcmFuUGVyc2VkaWFhbi5maWx0ZXJSZW5kZXIoKTsKICB9LAogIHBpbGloVW5pdEFmdGVyOiBmdW5jdGlvbigpIHsKICAgIHBlbmdlbHVhcmFuUGVyc2VkaWFhbi5maWx0ZXJSZW5kZXIoKTsKICB9LAogIHBpbGloU3ViVW5pdEFmdGVyOiBmdW5jdGlvbigpIHsKICAgIHBlbmdlbHVhcmFuUGVyc2VkaWFhbi5maWx0ZXJSZW5kZXIoKTsKICB9LAogIHBpbGloU2Vrc2lBZnRlcjogZnVuY3Rpb24oKSB7CiAgICBwZW5nZWx1YXJhblBlcnNlZGlhYW4uZmlsdGVyUmVuZGVyKCk7CiAgfQp9KTsKdmFyIHBlbmdlbHVhcmFuUGVyc2VkaWFhbiA9IG5ldyBEYWZ0YXJPYmoyKHsKCXByZWZpeCA6ICdwZW5nZWx1YXJhblBlcnNlZGlhYW4nLAoJdXJsIDogJ3BnUGVyc2VkaWFhbi5waHA\/UGc9cGVuZ2VsdWFyYW5QZXJzZWRpYWFuJywKCWZvcm1OYW1lIDogJ3BlbmdlbHVhcmFuUGVyc2VkaWFhbkZvcm0nLAoJcGVuZ2VsdWFyYW5QZXJzZWRpYWFuX2Zvcm0gOiAnMCcsLy9kZWZhdWx0IGpzIHBlbmdlbHVhcmFuUGVyc2VkaWFhbgoJbG9hZGluZzogZnVuY3Rpb24oKXsKCQkvL2FsZXJ0KCdsb2FkaW5nJyk7CgkJdGhpcy50b3BCYXJSZW5kZXIoKTsKCQl0aGlzLmZpbHRlclJlbmRlcigpOwoJCXRoaXMuZGFmdGFyUmVuZGVyKCk7CgkJdGhpcy5zdW1IYWxSZW5kZXIoKTsKCgoJfSwKCWZpbHRlclJlbmRlckFmdGVyIDogZnVuY3Rpb24oKXsKICAgIAkvLyB0aGlzLmRhZnRhclJlbmRlcigpOwogIAl9LAoJcHJvZ3JhbUNoYW5nZWQgOiBmdW5jdGlvbigpewoJCXZhciBhcnJheVAgPSAkKCIjcCIpLnZhbCgpLnNwbGl0KCcuJyk7OwoJCXZhciBiayA9IGFycmF5UFswXTsKCQl2YXIgY2sgPSBhcnJheVBbMV07CgkJdmFyIGhpZGRlblAgPSBhcnJheVBbMl07CgoJCSQoIiNiayIpLnZhbChiayk7CgkJJCgiI2NrIikudmFsKGNrKTsKCQkkKCIjaGlkZGVuUCIpLnZhbChoaWRkZW5QKTsKCQkkKCIjcSIpLnZhbCgnJyk7CgkJcGVuZ2VsdWFyYW5QZXJzZWRpYWFuLnJlZnJlc2hMaXN0KHRydWUpOwoJfSwKCWRldGFpbDogZnVuY3Rpb24oKXsKCQkvL2FsZXJ0KCdkZXRhaWwnKTsKCQl2YXIgbWUgPSB0aGlzOwoJCWVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsKCQlpZihlcnJtc2cgPT0nJyl7CgkJCXZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsKCQkJLy9Vc2VyQWt0aXZpdGFzRGV0LmdlbkRldGFpbCgpOwoKCQl9ZWxzZXsKCgkJCWFsZXJ0KGVycm1zZyk7CgkJfQoKCX0scGlsaWhCaWRhbmc6IGZ1bmN0aW9uKCl7CgkJcGVuZ2VsdWFyYW5QZXJzZWRpYWFuLnJlZnJlc2hMaXN0KHRydWUpOwoKCX0sQmlkYW5nQWZ0ZXIyOiBmdW5jdGlvbigpewoJCXBlbmdlbHVhcmFuUGVyc2VkaWFhbi5yZWZyZXNoTGlzdCh0cnVlKTsKCgl9LGNvbWJvU0tQRENoYW5nZWQ6IGZ1bmN0aW9uKCl7CgkJcGVuZ2VsdWFyYW5QZXJzZWRpYWFuLnJlZnJlc2hMaXN0KHRydWUpOwoKCX0sQ2FyaU1vZHVsOiBmdW5jdGlvbigpewoJCXZhciBtZSA9IHRoaXM7CgoJCXBvcHVwTW9kdWwuZWxfbmFtYU1vZHVsPSAnbmFtYU1vZHVsJzsKCQlwb3B1cE1vZHVsLmVsX2lkTW9kdWw9ICdpZE1vZHVsJzsKLyoJCVJlZkJhcmFuZ0J1dHVoLmVsX25hbWFfYmFyYW5nPSAnbmFtYV9iYXJhbmcnOwkJKi8KCQlwb3B1cE1vZHVsLndpbmRvd1NhdmVBZnRlcj0gZnVuY3Rpb24oKXt9OwoJCXBvcHVwTW9kdWwud2luZG93U2hvdygpOwoJfSwKCgloaXN0b3JpOiBmdW5jdGlvbihpZCl7CgkJdmFyIG1lID0gdGhpczsKCgkJcG9wdXBIaXN0b3JpLmVsX25hbWFIaXN0b3JpPSAnbmFtYUhpc3RvcmknOwoJCXBvcHVwSGlzdG9yaS5lbF9pZEhpc3Rvcmk9ICdpZEhpc3RvcmknOwoJCXBvcHVwSGlzdG9yaS53aW5kb3dTYXZlQWZ0ZXI9IGZ1bmN0aW9uKCl7fTsKCQlwb3B1cEhpc3Rvcmkud2luZG93U2hvdyhpZCk7Cgl9LAoJZGFmdGFyUmVuZGVyOmZ1bmN0aW9uKCl7CgkJdmFyIG1lID10aGlzOyAvL3JlbmRlciBkYWZ0YXIKCQlhZGRDb3ZlclBhZ2UyKAoJCQknZGFmdGFyX2NvdmVyJywJMSwgCXRydWUsIHRydWUsCXtyZW5kZXJUbzogdGhpcy5wcmVmaXgrJ19jb250X2RhZnRhcicsCgkJCWltZ3NyYzogJ2ltYWdlcy93YWl0LmdpZicsCgkJCXN0eWxlOiB7cG9zaXRpb246J2Fic29sdXRlJywgdG9wOic1JywgbGVmdDonNSd9CgkJCX0KCQkpOwoKCQkkLmFqYXgoewoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPWRhZnRhcicsCgkJIAl0eXBlOidQT1NUJywKCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXgrJ19jb250X2RhZnRhcicpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKCgkJCQltZS5zdW1IYWxSZW5kZXIoKTsKCQkgIAl9CgkJfSk7Cgl9LAoJQmFydVRURDogZnVuY3Rpb24oKXsKCQl2YXIgbWUgPSB0aGlzOwoJCXZhciBlcnI9Jyc7CgkJdmFyIHVydXNhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJVcnVzYW4nKS52YWx1ZTsKCQl2YXIgYmlkYW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlckJpZGFuZycpLnZhbHVlOwoJCXZhciBza3BkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlclNLUEQnKS52YWx1ZTsKCQl2YXIgdW5pdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJVbml0JykudmFsdWU7CgkJdmFyIHN1YnVuaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsdGVyU3ViVW5pdCcpLnZhbHVlOwoKCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7CgkJaWYoZXJyPT0nJyl7CgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7CgkJCWFkZENvdmVyUGFnZTIoY292ZXIsOTk5LHRydWUsZmFsc2UpOwoJCQkkLmFqYXgoewoJCQkJdHlwZTonUE9TVCcsCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpKyImdXJ1c2FuPSIrdXJ1c2FuKyImYmlkYW5nPSIrYmlkYW5nKyImc2twZD0iK3NrcGQrIiZ1bml0PSIrdW5pdCsiJnN1YnVuaXQ9IitzdWJ1bml0LAoJCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1mb3JtQmFydVRURCcsCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJICAJCWRlbEVsZW0oY292ZXIpOwoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKCQkJCQlpZiAocmVzcC5lcnIgPT0nJyl7CgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CgkJCQkJCW1lLkFmdGVyRm9ybUJhcnUocmVzcCk7CgkJCQkJfWVsc2V7CgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCgkJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOwoJCQkJCX0KCgkJCSAgCX0KCQkJfSk7CgkJfWVsc2V7CgkJCWFsZXJ0KGVycik7CgkJfQoJfSwKCXBpbGloUGFuZ2thdCA6IGZ1bmN0aW9uKCl7Cgl2YXIgbWUgPSB0aGlzOwoJCSQuYWpheCh7CgkJICB1cmw6IHRoaXMudXJsKycmdGlwZT1waWxpaFBhbmdrYXQnLAoJCSAgdHlwZSA6ICdQT1NUJywKCQkgIGRhdGE6ewoJCQkJYzEJCQkgIDogJCgiI2ZpbHRlclVydXNhbiIpLnZhbCgpLAoJCQkJYyAJCQkgIDogJCgiI2ZpbHRlckJpZGFuZyIpLnZhbCgpLAoJCQkJZCAJCQkgIDogJCgiI2ZpbHRlclNLUEQiKS52YWwoKSwKCQkJCWUgIAkJCSAgOiAkKCIjZmlsdGVyVW5pdCIpLnZhbCgpLAoJCQkJZTEgCQkJICA6ICQoIiNmaWx0ZXJTdWJVbml0IikudmFsKCksCgkJCSAgCWRjMSAJCSAgOiAkKCIjZGMxIikudmFsKCksCgkJCSAgCWRjICAJCSAgOiAkKCIjZGMiKS52YWwoKSwKCQkJICAJZGQgIAkJICA6ICQoIiNkZCIpLnZhbCgpLAoJCQkgIAlrYXRlZ29yaSAgICAgIDogJCgiI2thdGVnb3JpIikudmFsKCksCgkJCSAgCW5hbWFwZWdhd2FpICAgOiAkKCIjbmFtYXBlZ2F3YWkiKS52YWwoKSwKCQkJICAJbmlwcGVnYXdhaSAgICA6ICQoIiNuaXBwZWdhd2FpIikudmFsKCksCgkJCSAgCXBhbmdrYXRha2hpciAgOiAkKCIjcGFuZ2thdGFraGlyIikudmFsKCksCgkJCSAgCWdvbGFuZ19ha2hpciAgOiAkKCIjZ29sYW5nX2FraGlyIikudmFsKCksCgkJCSAgCWphYmF0YW4gICAgICAgOiAkKCIjamFiYXRhbiIpLnZhbCgpLAoJCQkgIAllc2Vsb25fYWtoaXIgIDogJCgiI2VzZWxvbl9ha2hpciIpLnZhbCgpLAoJCSAgfSwKCQkgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwoKCQkJaWYocmVzcC5lcnIgPT0gJycpewoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvbGFuZ19ha2hpcicpLnZhbHVlID0gcmVzcC5jb250ZW50OwoJCQl9ZWxzZXsKCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJfQoJCX0KCQl9KTsKCX0sCglCYXJ1OiBmdW5jdGlvbigpewoJCXZhciBtZSA9IHRoaXM7CgkJaWYoJCgiI2ZpbHRlclVydXNhbiIpLnZhbCgpICA9PSAnMCcpewoJCSAJYWxlcnQoIlBpbGloIFVydXNhbiIpOwoJCX1lbHNlIGlmKCQoIiNmaWx0ZXJCaWRhbmciKS52YWwoKSAgPT0gJzAwJyl7CgkJCWFsZXJ0KCJQaWxpaCBCaWRhbmciKTsKCQl9ZWxzZSBpZigkKCIjZmlsdGVyU0tQRCIpLnZhbCgpICA9PSAnMDAnKXsKCQkJYWxlcnQoIlBpbGloIFNLUEQiKTsKCQl9ZWxzZSBpZigkKCIjZmlsdGVyVW5pdCIpLnZhbCgpID09ICcwMCcpewoJCQlhbGVydCgiUGlsaWggVW5pdCIpOwoJCX1lbHNlIGlmKCQoIiNmaWx0ZXJTdWJVbml0IikudmFsKCkgPT0gJzAwMCcpewoJCQlhbGVydCgiUGlsaWggU3ViIFVuaXQiKTsKCQl9ZWxzZXsKCgkJCQl2YXIgc2twZCA9ICQoIiNmaWx0ZXJVcnVzYW4iKS52YWwoKSsnLicrJCgiI2ZpbHRlckJpZGFuZyIpLnZhbCgpKycuJyskKCIjZmlsdGVyU0tQRCIpLnZhbCgpKycuJyskKCIjZmlsdGVyVW5pdCIpLnZhbCgpKycuJyskKCIjZmlsdGVyU3ViVW5pdCIpLnZhbCgpOwoKCQkJCXZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9ybU5hbWUpOwoJCQkJJC5hamF4KHsKCQkJCXR5cGU6J1BPU1QnLAoJCQkJZGF0YSA6IHtjMSA6ICQoIiNmaWx0ZXJVcnVzYW4iKS52YWwoKSwKCQkJCQkJYyAgOiAkKCIjZmlsdGVyQmlkYW5nIikudmFsKCksCgkJCQkJCWQgIDogJCgiI2ZpbHRlclNLUEQiKS52YWwoKSwKCQkJCQkJZSAgOiAkKCIjZmlsdGVyVW5pdCIpLnZhbCgpLAoJCQkJCQllMSA6ICQoIiNmaWx0ZXJTdWJVbml0IikudmFsKCksCgkJCQkJCX0sCgkJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPW5ld1RhYicsCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQkJaWYocmVzcC5lcnIgPT0gJycpewoJCQkJCQlhRm9ybS5hY3Rpb249ICdwZ1BlcnNlZGlhYW4ucGhwP1BnPXBlbmdlbHVhcmFuUGVyc2VkaWFhbl9pbnMmc2twZD0nK3NrcGQrIiZub21vcj0iK3Jlc3AuY29udGVudC5ub21vcjsKCQkJCQkJYUZvcm0udGFyZ2V0PSdfYmxhbmsnOwoJCQkJCQlhRm9ybS5zdWJtaXQoKTsKCQkJCQkJYUZvcm0udGFyZ2V0PScnOwoJCQkJCX1lbHNlewoJCQkJCQlhbGVydChyZXNwLmVycik7CgkJCQkJfQoKCQkJCSB9CgkJCX0pOwoKCgkJfQoKCX0sCglJbmZvOiBmdW5jdGlvbigpewoJCXZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9ybU5hbWUpOwoJCQkJJC5hamF4KHsKCQkJCSAgdXJsOiB0aGlzLnVybCsnJnRpcGU9aHVibGEnLAoJCQkJICB0eXBlIDogJ1BPU1QnLAoJCQkJICBkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAoJCQkJICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKCQkJCQkJaWYocmVzcC5lcnIgPT0gIiIpIHsKCQkJCQkJCXZhciBrb2RlUmVrID0gcmVzcC5jb250ZW50LmtvZGVSZWs7CgkJCQkJCQlhRm9ybS5hY3Rpb249ICdwZ1BlcnNlZGlhYW4ucGhwP1BnPWFsb2thc2lEcGEnOwoJCQkJCQkJYUZvcm0udGFyZ2V0PSdfYmxhbmsnOwoJCQkJCQkJYUZvcm0uc3VibWl0KCk7CgkJCQkJCQlhRm9ybS50YXJnZXQ9Jyc7CgkJCQkJCX1lbHNlewoJCQkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJCQl9CgoJCQkJICB9CgkJCQl9KTsKCX0sCgl1bmxvY2tGaW5kUmVrZW5pbmc6IGZ1bmN0aW9uKCl7CgkJdmFyIG1lID0gdGhpczsKCQlpZiggJCgiI2NtYkplbmlzUktBRm9ybSIpLnZhbCgpID09ICIiKXsKCQkJJCgiI2ZpbmRSZWtlbmluZyIpLmF0dHIoJ2Rpc2FibGVkJyx0cnVlKTsKCQl9ZWxzZXsKCQkJJCgiI2ZpbmRSZWtlbmluZyIpLmF0dHIoJ2Rpc2FibGVkJyxmYWxzZSk7CgkJCSQoIiNmaW5kUmVrZW5pbmciKS5hdHRyKCdvbmNsaWNrJywicGVuZ2VsdWFyYW5QZXJzZWRpYWFuLmZpbmRSZWtlbmluZygnIiskKCIjY21iSmVuaXNSS0FGb3JtIikudmFsKCkrIicpOyIpOwoKCQl9CgoKCX0sCgoKCUhhcHVzIDogZnVuY3Rpb24oKXsKCQl2YXIgbWUgPXRoaXM7CgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19qbWxjZWsnKSl7CgkJCXZhciBqbWxjZWsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsnX2ptbGNlaycpLnZhbHVlIDsKCQl9ZWxzZXsKCQkJdmFyIGptbGNlayA9ICcnOwoJCX0KCgkJaWYoam1sY2VrID09MCl7CgkJCWFsZXJ0KCdEYXRhIEJlbHVtIERpcGlsaWghJyk7CgkJfWVsc2V7CgkJCWlmKGNvbmZpcm0oJ1lha2luIEhhcHVzICcram1sY2VrKycgRGF0YSA\/JykpewoJCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19oYXB1c2NvdmVyJzsKCQkJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsKCQkJCSQuYWpheCh7CgkJCQkJdHlwZTonUE9TVCcsCgkJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKCQkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1oYXB1cycsCgkJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKCQkJCQkJZGVsRWxlbShjb3Zlcik7CgkJCQkJCWlmKHJlc3AuZXJyPT0nJyl7CgkJCQkJCQltZS5BZnRlckhhcHVzKCk7CgkJCQkJCX1lbHNlewoJCQkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJCQl9CgoJCQkJICAJfSwKCQkJCQllcnJvcjogYWpheEVycm9yCgkJCQl9KTsKCgkJCX0KCQl9Cgl9LAoJUG9zdGluZzpmdW5jdGlvbigpewoJCXZhciBtZSA9IHRoaXM7CgkJZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOwoJCWlmKGVycm1zZyA9PScnKXsKCQkJdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOwoKCQkJLy90aGlzLlNob3cgKCdmb3JtZWRpdCcse2lkcGxoOmJveC52YWx1ZX0sIGZhbHNlLCB0cnVlKTsKCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOwoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDIsdHJ1ZSxmYWxzZSk7CgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7CgkJCSQuYWpheCh7CgkJCQl0eXBlOidQT1NUJywKCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1Qb3N0aW5nJywKCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKCQkJCQlpZiAocmVzcC5lcnIgPT0nJyl7CgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CgkJCQkJCW1lLkFmdGVyRm9ybUVkaXQocmVzcCk7CgkJCQkJfWVsc2V7CgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJCQkJZGVsRWxlbShjb3Zlcik7CgkJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOwoJCQkJCX0KCQkJICAJfQoJCQl9KTsKCQl9ZWxzZXsKCQkJYWxlcnQoZXJybXNnKTsKCQl9CgoJfSwKCglSZW1vdmU6ZnVuY3Rpb24oKXsKCQl2YXIgbWUgPSB0aGlzOwoJCWVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsKCQlpZigkKCIjY21iVXJ1c2FuIikudmFsKCkgID09ICcnKXsKCQkgCWFsZXJ0KCJQaWxpaCBVcnVzYW4iKTsKCQl9ZWxzZSBpZigkKCIjY21iQmlkYW5nIikudmFsKCkgID09ICcnKXsKCQkJYWxlcnQoIlBpbGloIEJpZGFuZyIpOwoJCX1lbHNlIGlmKCQoIiNjbWJTS1BEIikudmFsKCkgID09ICcnKXsKCQkJYWxlcnQoIlBpbGloIFNLUEQiKTsKCQl9ZWxzZSBpZigkKCIjY21iVW5pdCIpLnZhbCgpICA9PSAnJyl7CgkJCWFsZXJ0KCJQaWxpaCBVbml0Iik7CgkJfWVsc2UgaWYoJCgiI2NtYlN1YlVuaXQiKS52YWwoKSAgPT0gJycpewoJCQlhbGVydCgiUGlsaWggU3ViIFVuaXQiKTsKCQl9ZWxzZXsKCQkJaWYoZXJybXNnID09JycpewoJCQkJdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOwoJCQkJdmFyIHNrcGQgPSAkKCIjY21iVXJ1c2FuIikudmFsKCkrJy4nKyQoIiNjbWJCaWRhbmciKS52YWwoKSsnLicrJCgiI2NtYlNLUEQiKS52YWwoKSsnLicrJCgiI2NtYlVuaXQiKS52YWwoKSsnLicrJCgiI2NtYlN1YlVuaXQiKS52YWwoKTsKCgkJCQkkLmFqYXgoewoJCQkJICB1cmw6IHRoaXMudXJsKycmdGlwZT1SZW1vdmUnLAoJCQkJICB0eXBlIDogJ1BPU1QnLAoJCQkJICBkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAoJCQkJICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKCQkJCQkJaWYocmVzcC5lcnIgPT0gIiIpIHsKCQkJCQkJCXBlbmdlbHVhcmFuUGVyc2VkaWFhbi5yZWZyZXNoTGlzdCh0cnVlKTsKCQkJCQkJfWVsc2V7CgkJCQkJCQlhbGVydChyZXNwLmVycik7CgkJCQkJCX0KCgkJCQkgIH0KCQkJCX0pOwoJCQl9ZWxzZXsKCQkJCWFsZXJ0KGVycm1zZyk7CgkJCX0KCQl9Cgl9LAoKCXNlc3VhaTpmdW5jdGlvbihpZCl7CgoKCQkkLmFqYXgoewoJCQkJdHlwZTonUE9TVCcsCgkJCQlkYXRhOntpZEF3YWwgOiBpZCwKCQkJCQkgIGtvcmVrc2lWb2x1bWViYXJhbmcgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidm9sdW1lUmVrU2VzdWFpIitpZCkudmFsdWUsCgkJCQkJICBrb3Jla3NpU2F0dWFuSGFyZ2EgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGFyZ2FTYXR1YW5TZXN1YWkiK2lkKS52YWx1ZQoJCQkJCSAgfSwKCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPWtvcmVrc2knLAoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwoJCQkJCWlmKHJlc3AuZXJyID09ICcnKXsKCQkJCQkJcGVuZ2VsdWFyYW5QZXJzZWRpYWFuLnJlZnJlc2hMaXN0KHRydWUpOwoJCQkJCX1lbHNlewoJCQkJCQlhbGVydChyZXNwLmVycik7CgkJCQkJCWlmKHJlc3AuZXJyID09ICdUYWhhcCBLb3Jla3NpIFRhbGFoIEhhYmlzJyl7CgkJCQkJCQl3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CgkJCQkJCX0KCQkJCQl9CgoJCQkJIH0KCQkJICB9KTsKCgl9LAoJa29yZWtzaTpmdW5jdGlvbihpZCl7CgkJJCgiI3NwYW5Wb2x1bWVCYXJhbmciK2lkKS5odG1sKCI8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0ndm9sdW1lQmFyYW5nIitpZCsiJyBpZD0ndm9sdW1lQmFyYW5nIitpZCsiJyBvbmtleXByZXNzPSdyZXR1cm4gZXZlbnQuY2hhckNvZGUgPj0gNDggJiYgZXZlbnQuY2hhckNvZGUgPD0gNTcnIG9ua2V5dXA9J3BlbmdlbHVhcmFuUGVyc2VkaWFhbi5iYW50dVZvbHVtZUJhcmFuZygiK2lkKyIpJyAgIHN0eWxlPSd0ZXh0LWFsaWduOiByaWdodDsnPiAgPHNwYW4gaWQ9J2JhbnR1Vm9sdW1lQmFyYW5nIitpZCsiJyA+PC9zcGFuPiIpOwoJCSQoIiNzcGFuU2F0dWFuSGFyZ2EiK2lkKS5odG1sKCI8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nc2F0dWFuSGFyZ2EiK2lkKyInIGlkPSdzYXR1YW5IYXJnYSIraWQrIicgb25rZXlwcmVzcz0ncmV0dXJuIGV2ZW50LmNoYXJDb2RlID49IDQ4ICYmIGV2ZW50LmNoYXJDb2RlIDw9IDU3JyBvbmtleXVwPSdwZW5nZWx1YXJhblBlcnNlZGlhYW4uYmFudHVTYXR1YW5IYXJnYSgiK2lkKyIpJyAgICBzdHlsZT0ndGV4dC1hbGlnbjogcmlnaHQ7Jz4gIDxzcGFuIGlkPSdiYW50dVNhdHVhbkhhcmdhIitpZCsiJyA+PC9zcGFuPiIpOwoJCSQoIiNidXR0b25TdWJtaXRLb3Jla3NpIitpZCkuaHRtbCgiPGltZyBzcmM9J2RhdGVwaWNrZXIvc2F2ZS5wbmcnIHdpZHRoPScyMHB4JyBoZWlnaD0nMjBweCcgc3R5bGU9J2N1cnNvciA6IHBvaW50ZXI7JyBvbmNsaWNrPXBlbmdlbHVhcmFuUGVyc2VkaWFhbi5zdWJtaXRLb3Jla3NpKCciK2lkKyInKTs+PC9pbWc+Jm5ic3AgICZuYnNwIDxpbWcgc3JjPSdpbWFnZXMvYWRtaW5pc3RyYXRvci9pbWFnZXMvaW52YWxpZC5wbmcnIHdpZHRoPScyMHB4JyBoZWlnaD0nMjBweCcgc3R5bGU9J2N1cnNvciA6IHBvaW50ZXI7JyBvbmNsaWNrPXBlbmdlbHVhcmFuUGVyc2VkaWFhbi5yZWZyZXNoTGlzdCh0cnVlKTs+PC9pbWc+Iik7CgkJJCgiI2FsaWduQnV0dG9uIitpZCkuYXR0cignYWxpZ24nLCdjZW50ZXInICk7Cgl9LAoJc3VibWl0S29yZWtzaTpmdW5jdGlvbihpZCkgewoKCQkJaWYoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2b2x1bWVCYXJhbmciK2lkKS52YWx1ZSA9PSAwICl7CgkJCQlhbGVydCgiSXNpIFZvbHVtZSBCYXJhbmciKTsKCQkJfWVsc2UgaWYoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXR1YW5IYXJnYSIraWQpLnZhbHVlID09IDAgKXsKCQkJCWFsZXJ0KCJJc2kgU2F0dWFuIEhhcmdhIik7CgkJCX1lbHNlewoJCQkgICQuYWpheCh7CgkJCQl0eXBlOidQT1NUJywKCQkJCWRhdGE6e2lkQXdhbCA6IGlkLAoJCQkJCSAga29yZWtzaVZvbHVtZWJhcmFuZyA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2b2x1bWVCYXJhbmciK2lkKS52YWx1ZSwKCQkJCQkgIGtvcmVrc2lTYXR1YW5IYXJnYSA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXR1YW5IYXJnYSIraWQpLnZhbHVlCgkJCQkJICB9LAoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9a29yZWtzaScsCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQkJaWYocmVzcC5lcnIgPT0gJycpewoJCQkJCQlwZW5nZWx1YXJhblBlcnNlZGlhYW4ucmVmcmVzaExpc3QodHJ1ZSk7CgkJCQkJfWVsc2V7CgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJCQkJaWYocmVzcC5lcnIgPT0gJ1RhaGFwIEtvcmVrc2kgVGFsYWggSGFiaXMnKXsKCQkJCQkJCXdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKCQkJCQkJfQoJCQkJCX0KCgkJCQkgfQoJCQkgIH0pOwoJCQl9CgoJfSwKCgliYW50dVZvbHVtZUJhcmFuZyA6IGZ1bmN0aW9uKGlkKXsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFudHVWb2x1bWVCYXJhbmcnK2lkKS5pbm5lckhUTUwgPSBwZW5nZWx1YXJhblBlcnNlZGlhYW4uZm9ybWF0Q3VycmVuY3kyKCQoIiN2b2x1bWVCYXJhbmciK2lkKS52YWwoKSk7CgkJdmFyIGhhc2lsS2FsaSA9IE51bWJlcigkKCIjdm9sdW1lQmFyYW5nIitpZCkudmFsKCkpICogTnVtYmVyKCQoIiNzYXR1YW5IYXJnYSIraWQpLnZhbCgpKSA7CgkJJCgiI3NwYW5KdW1sYWhIYXJnYSIraWQpLnRleHQocGVuZ2VsdWFyYW5QZXJzZWRpYWFuLmZvcm1hdEN1cnJlbmN5KGhhc2lsS2FsaSkpOwoJfSwKCWJhbnR1U2F0dWFuSGFyZ2EgOiBmdW5jdGlvbihpZCl7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhbnR1U2F0dWFuSGFyZ2EnK2lkKS5pbm5lckhUTUwgPSAgcGVuZ2VsdWFyYW5QZXJzZWRpYWFuLmZvcm1hdEN1cnJlbmN5KCQoIiNzYXR1YW5IYXJnYSIraWQpLnZhbCgpKTsKCQl2YXIgaGFzaWxLYWxpID0gTnVtYmVyKCQoIiN2b2x1bWVCYXJhbmciK2lkKS52YWwoKSkgKiBOdW1iZXIoJCgiI3NhdHVhbkhhcmdhIitpZCkudmFsKCkpIDsKCQkkKCIjc3Bhbkp1bWxhaEhhcmdhIitpZCkudGV4dChwZW5nZWx1YXJhblBlcnNlZGlhYW4uZm9ybWF0Q3VycmVuY3koaGFzaWxLYWxpKSk7Cgl9LAoKCWZvcm1hdEN1cnJlbmN5OmZ1bmN0aW9uKG51bSkgewoJCW51bSA9IG51bS50b1N0cmluZygpLnJlcGxhY2UoL1wkfFwsL2csJycpOwoJCWlmKGlzTmFOKG51bSkpCgkJbnVtID0gIjAiOwoJCXNpZ24gPSAobnVtID09IChudW0gPSBNYXRoLmFicyhudW0pKSk7CgkJbnVtID0gTWF0aC5mbG9vcihudW0qMTAwKzAuNTAwMDAwMDAwMDEpOwoJCWNlbnRzID0gbnVtJTEwMDsKCQludW0gPSBNYXRoLmZsb29yKG51bS8xMDApLnRvU3RyaW5nKCk7CgkJaWYoY2VudHM8MTApCgkJY2VudHMgPSAiMCIgKyBjZW50czsKCQlmb3IgKHZhciBpID0gMDsgaSA8IE1hdGguZmxvb3IoKG51bS5sZW5ndGgtKDEraSkpLzMpOyBpKyspCgkJbnVtID0gbnVtLnN1YnN0cmluZygwLG51bS5sZW5ndGgtKDQqaSszKSkrJy4nKwoJCW51bS5zdWJzdHJpbmcobnVtLmxlbmd0aC0oNCppKzMpKTsKCQlyZXR1cm4gKCgoc2lnbik\/Jyc6Jy0nKSArICcnICsgbnVtICsgJywnICsgY2VudHMpOwoJfSwKCWZvcm1hdEN1cnJlbmN5MjpmdW5jdGlvbihudW0pIHsKCQludW0gPSBudW0udG9TdHJpbmcoKS5yZXBsYWNlKC9cJHxcLC9nLCcnKTsKCQlpZihpc05hTihudW0pKQoJCW51bSA9ICIwIjsKCQlzaWduID0gKG51bSA9PSAobnVtID0gTWF0aC5hYnMobnVtKSkpOwoJCW51bSA9IE1hdGguZmxvb3IobnVtKjEwMCswLjUwMDAwMDAwMDAxKTsKCQljZW50cyA9IG51bSUxMDA7CgkJbnVtID0gTWF0aC5mbG9vcihudW0vMTAwKS50b1N0cmluZygpOwoJCWlmKGNlbnRzPDEwKQoJCWNlbnRzID0gIjAiICsgY2VudHM7CgkJZm9yICh2YXIgaSA9IDA7IGkgPCBNYXRoLmZsb29yKChudW0ubGVuZ3RoLSgxK2kpKS8zKTsgaSsrKQoJCW51bSA9IG51bS5zdWJzdHJpbmcoMCxudW0ubGVuZ3RoLSg0KmkrMykpKycuJysKCQludW0uc3Vic3RyaW5nKG51bS5sZW5ndGgtKDQqaSszKSk7CgkJcmV0dXJuICgoKHNpZ24pPycnOictJykgKyAnJyArIG51bSApOwoJfSwKCgliYW50dSA6IGZ1bmN0aW9uKCl7CgkJJCgiI2JhbnR1IikudGV4dCgiUnAuICIrcGVuZ2VsdWFyYW5QZXJzZWRpYWFuLmZvcm1hdEN1cnJlbmN5KCQoIiNoYXJnYVNhdHVhbiIpLnZhbCgpKSAgKTsKCgl9LAoKCWZpbmRSZWtlbmluZyA6IGZ1bmN0aW9uKGplbmlzUmthKXsKCQl2YXIgbWUgPSB0aGlzOwoJCXZhciBmaWx0ZXJSZWsgPSAiIjsKCQlpZihqZW5pc1JrYSA9PSAiMi4yLjEiKXsKCQkJZmlsdGVyUmVrID0gIlJLQSAyLjIuMSI7CgkJfWVsc2UgaWYoamVuaXNSa2EgPT0gIjIuMSIpewoJCQlmaWx0ZXJSZWsgPSAiUktBIDIuMSI7CgkJfQoJCXBvcHVwUmVrZW5pbmcuZWxfa29kZV9yZWtlbmluZyA9ICdrb2RlUmVrZW5pbmcnOwoJCXBvcHVwUmVrZW5pbmcuZWxfbmFtYV9yZWtlbmluZyA9ICduYW1hUmVrZW5pbmcnOwoJCXBvcHVwUmVrZW5pbmcud2luZG93U2F2ZUFmdGVyPSBmdW5jdGlvbigpe307CgkJcG9wdXBSZWtlbmluZy5maWx0ZXJBa3VuPWZpbHRlclJlazsKCQlwb3B1cFJla2VuaW5nLndpbmRvd1Nob3coKTsKCgl9LAoKCWZpbmRCYXJhbmcgOiBmdW5jdGlvbihrb2RlUkVOSkEpewoJCXZhciBtZSA9IHRoaXM7CgkJcG9wdXBCYXJhbmdSS0Eud2luZG93U2hvdyhrb2RlUkVOSkEpOwoKCX0sCgoJY2F0YXRhbjpmdW5jdGlvbihpZCl7CgkJdmFyIG1lID0gdGhpczsKCgoJCQkgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOwoKCQkJJC5hamF4KHsKCQkJCXR5cGU6J1BPU1QnLAoJCQkJZGF0YTp7aWRBd2FsIDogaWQgfSwKCQkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9Q2F0YXRhbicsCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQkJaWYocmVzcC5lcnIgPT0gJycpewoKCQkJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsKCQkJCQkJYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7CgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CgkJCQkJfWVsc2V7CgkJCQkJLyoJZGVsRWxlbShjb3Zlcik7Ki8KCQkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJCX0KCgoJCQkgIAl9CgkJCX0pOwoKCgl9LAogICBWYWxpZGFzaTpmdW5jdGlvbigpewoJCXZhciBtZSA9IHRoaXM7CgkJZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOwoJCWlmKGVycm1zZyA9PScnKXsKCQkJdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOwoKCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOwoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOwoJCQlpZihtZS5zYXR1YW5fZm9ybT09MCl7Ly9iYXJ1IGRhcmkgc2F0dWFuCgkJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CgkJCX1lbHNley8vYmFydSBkYXJpIGJhcmFuZwoJCQkJYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7CgkJCX0KCQkJJC5hamF4KHsKCQkJCXR5cGU6J1BPU1QnLAoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKCQkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9VmFsaWRhc2knLAoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwoJCQkJCWlmKHJlc3AuZXJyID09ICcnKXsKCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKCQkJCQl9ZWxzZXsKCQkJCQkJZGVsRWxlbShjb3Zlcik7CgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJCQkJaWYocmVzcC5lcnIgPT0gJ1RhaGFwIFZhbGlkYXNpIFRlbGFoIEhhYmlzJyl7CgkJCQkJCQl3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCS8vc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge3BlbmdlbHVhcmFuUGVyc2VkaWFhbi5qYW0oKX0sMTAwKTsKCQkJCQkvL21lLkFmdGVyRm9ybUJhcnUoKTsKCQkJICAJfQoJCQl9KTsKCQl9ZWxzZXsKCQkJYWxlcnQoZXJybXNnKTsKCQl9CgoJfSwKCgoJU2ltcGFuVFREOiBmdW5jdGlvbigpewoJCXZhciBtZT0gdGhpczsKCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsKCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1zaW1wYW4nOwoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsKCQkkLmFqYXgoewoJCQl0eXBlOidQT1NUJywKCQkJZGF0YTp7CgkJCQlqZW5pc0tlZ2lhdGFuIDogJCgiI2plbmlzS2VnaWF0YW4iKS52YWwoKSwKCQkJCWNldGFramFuZwkgIDogJCgiI2NldGFramFuZyIpLnZhbCgpLAoJCQkJdHRkCQkJICA6ICQoIiN0dGQiKS52YWwoKSwKCQkJCWMxCQkJICA6ICQoIiNmaWx0ZXJVcnVzYW4iKS52YWwoKSwKCQkJCWMgCQkJICA6ICQoIiNmaWx0ZXJCaWRhbmciKS52YWwoKSwKCQkJCWQgCQkJICA6ICQoIiNmaWx0ZXJTS1BEIikudmFsKCksCgkJCQllICAJCQkgIDogJCgiI2ZpbHRlclVuaXQiKS52YWwoKSwKCQkJCWUxIAkJCSAgOiAkKCIjZmlsdGVyU3ViVW5pdCIpLnZhbCgpLAoJCQkgIAlkYzEgCQkgIDogJCgiI2RjMSIpLnZhbCgpLAoJCQkgIAlkYyAgCQkgIDogJCgiI2RjIikudmFsKCksCgkJCSAgCWRkICAJCSAgOiAkKCIjZGQiKS52YWwoKSwKCQkJICAJa2F0ZWdvcmkgICAgICA6ICQoIiNrYXRlZ29yaSIpLnZhbCgpLAoJCQkgIAluYW1hcGVnYXdhaSAgIDogJCgiI25hbWFwZWdhd2FpIikudmFsKCksCgkJCSAgCW5pcHBlZ2F3YWkgICAgOiAkKCIjbmlwcGVnYXdhaSIpLnZhbCgpLAoJCQkgIAlwYW5na2F0YWtoaXIgIDogJCgiI3BhbmdrYXRha2hpciIpLnZhbCgpLAoJCQkgIAlnb2xhbmdfYWtoaXIgIDogJCgiI2dvbGFuZ19ha2hpciIpLnZhbCgpLAoJCQkgIAlqYWJhdGFuICAgICAgIDogJCgiI2phYmF0YW4iKS52YWwoKSwKCQkJICAJZXNlbG9uX2FraGlyICA6ICQoIiNlc2Vsb25fYWtoaXIiKS52YWwoKSwKCQkJfSwKCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c2ltcGFuVFREJywKCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQlkZWxFbGVtKGNvdmVyKTsKCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKCQkJCWlmKHJlc3AuZXJyPT0nJyl7CgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3R0ZCcpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5jb21ib3R0ZDsKCQkJCQlwZW5nZWx1YXJhblBlcnNlZGlhYW4uQ2xvc2UoKTsKCQkJCX1lbHNlewoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJCX0KCQkgIAl9CgkJfSk7Cgl9LAoJU2ltcGFuOiBmdW5jdGlvbigpewoJCXZhciBtZT0gdGhpczsKCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsKCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1zaW1wYW4nOwoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsKCQkkLmFqYXgoewoJCQl0eXBlOidQT1NUJywKCQkJZGF0YTokKCcjJyt0aGlzLnByZWZpeCsnX2Zvcm0nKS5zZXJpYWxpemUoKSwKCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c2ltcGFuJywKCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQlkZWxFbGVtKGNvdmVyKTsKCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKCQkJCWlmKHJlc3AuZXJyPT0nJyl7CgkJCQkJaWYobWUucGVuZ2VsdWFyYW5QZXJzZWRpYWFuX2Zvcm09PTApewoJCQkJCQltZS5DbG9zZSgpOwoJCQkJCQltZS5BZnRlclNpbXBhbigpOwoJCQkJCX1lbHNlewoJCQkJCQltZS5DbG9zZSgpOwoJCQkJCQliYXJhbmcucmVmcmVzaENvbWJvcGVuZ2VsdWFyYW5QZXJzZWRpYWFuKCk7CgkJCQkJfQoKCQkJCX1lbHNlewoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJCX0KCQkgIAl9CgkJfSk7Cgl9CgksCglzYXZlUG9zdGluZzogZnVuY3Rpb24oaWRQb3N0aW5nKXsKCQl2YXIgbWU9IHRoaXM7CgkJdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZQoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7CgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3Jtc2ltcGFuJzsKCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CgkJJC5hamF4KHsKCQkJdHlwZTonUE9TVCcsCgkJCWRhdGE6JCgnIycrdGhpcy5wcmVmaXgrJ19mb3JtJykuc2VyaWFsaXplKCkrIiZpZFBvc3Rpbmc9IitpZFBvc3RpbmcsCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPXNhdmVQb3N0aW5nJywKCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQlkZWxFbGVtKGNvdmVyKTsKCQkJCWlmKHJlc3AuZXJyPT0nJyl7CgkJCQkJCW1lLkNsb3NlKCk7CgkJCQkJCW1lLnJlZnJlc2hMaXN0KHRydWUpOwoJCQkJfWVsc2V7CgkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJfQoJCSAgCX0KCQl9KTsKCX0KCSwKICAgU2F2ZVZhbGlkOiBmdW5jdGlvbigpewoJCXZhciBtZT0gdGhpczsKCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsKCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1zaW1wYW4nOwoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsKCQkkLmFqYXgoewoJCQl0eXBlOidQT1NUJywKCQkJZGF0YTokKCcjJyt0aGlzLnByZWZpeCsnX2Zvcm0nKS5zZXJpYWxpemUoKSwKCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9U2F2ZVZhbGlkJywKCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQlkZWxFbGVtKGNvdmVyKTsKCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKCQkJCWlmKHJlc3AuZXJyPT0nJyl7CgkJCQkJaWYobWUucGVuZ2VsdWFyYW5QZXJzZWRpYWFuX2Zvcm09PTApewoJCQkJCQltZS5DbG9zZSgpOwoJCQkJCQltZS5BZnRlclNpbXBhbigpOwoJCQkJCX0KCgkJCQl9ZWxzZXsKCQkJCQlhbGVydChyZXNwLmVycik7CgkJCQl9CgkJICAJfQoJCX0pOwoJfQoJLAogICBTYXZlQ2F0YXRhbjogZnVuY3Rpb24oaWQpewoJCXZhciBtZT0gdGhpczsKCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsKCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1zaW1wYW4nOwoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsKCQkkLmFqYXgoewoJCQl0eXBlOidQT1NUJywKCQkJZGF0YTp7aWQgOiBpZCwKCQkJCSAgY2F0YXRhbiA6ICQoIiNjYXRhdGFuIikudmFsKCl9LAoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1TYXZlQ2F0YXRhbicsCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwoJCQkJZGVsRWxlbShjb3Zlcik7CgkJCQlpZihyZXNwLmVycj09JycpewoJCQkJCWlmKG1lLnBlbmdlbHVhcmFuUGVyc2VkaWFhbl9mb3JtPT0wKXsKCQkJCQkJbWUuQ2xvc2UoKTsKCQkJCQkJbWUuQWZ0ZXJTaW1wYW4oKTsKCQkJCQl9CgoJCQkJfWVsc2V7CgkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJfQoJCSAgCX0KCQl9KTsKCX0sCglSZXBvcnQ6IGZ1bmN0aW9uKCl7CgkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrKCdfZm9ybScpKTsKCQl2YXIgbWU9IHRoaXM7CgkJdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZQoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7CgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3Jtc2ltcGFuJzsKCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CgkJdmFyIHVybDIgPSB0aGlzLnVybDsKCQkkLmFqYXgoewoJCQl0eXBlOidQT1NUJywKCQkJZGF0YTogeyBqZW5pc0tlZ2lhdGFuIDogJCgiI2plbmlzS2VnaWF0YW4iKS52YWwoKSwKCQkJCQljZXRha2phbmcJICA6ICQoIiNjZXRha2phbmciKS52YWwoKSwKCQkJCQl0dGQJCQkgIDogJCgiI3R0ZCIpLnZhbCgpLAoJCQkJCWMxCQkJICA6ICQoIiNmaWx0ZXJVcnVzYW4iKS52YWwoKSwKCQkJCQljIAkJCSAgOiAkKCIjZmlsdGVyQmlkYW5nIikudmFsKCksCgkJCQkJZCAJCQkgIDogJCgiI2ZpbHRlclNLUEQiKS52YWwoKSwKCQkJCQllICAJCQkgIDogJCgiI2ZpbHRlclVuaXQiKS52YWwoKSwKCQkJCQllMSAJCQkgIDogJCgiI2ZpbHRlclN1YlVuaXQiKS52YWwoKSwKCgkJCQkJfSwKCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9UmVwb3J0JywKCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQlkZWxFbGVtKGNvdmVyKTsKCQkJCWlmKHJlc3AuZXJyPT0nJyl7CgoJCQkJCWFGb3JtLmFjdGlvbj0gdXJsMisnJnRpcGU9JytyZXNwLmNvbnRlbnQudG8rJyZ1cnVzYW49JyskKCIjZmlsdGVyVXJ1c2FuIikudmFsKCkrJyZiaWRhbmc9JyskKCIjZmlsdGVyQmlkYW5nIikudmFsKCkrJyZza3BkPScrJCgiI2ZpbHRlclNLUEQiKS52YWwoKSsnJnVuaXQ9JyskKCIjZmlsdGVyVW5pdCIpLnZhbCgpKycmc3VidW5pdD0nKyQoIiNmaWx0ZXJTdWJVbml0IikudmFsKCkrJyZrb3RhPScrcmVzcC5jb250ZW50Lm5hbWFQZW1kYSsnJnRhbmdnYWxDZXRhaz0nK3Jlc3AuY29udGVudC5jZXRha2phbmcrJyZ0dGQ9JytyZXNwLmNvbnRlbnQudHRkOwoJCQkJCWFGb3JtLnRhcmdldD0nX2JsYW5rJzsKCQkJCQlhRm9ybS5zdWJtaXQoKTsKCQkJCQlhRm9ybS50YXJnZXQ9Jyc7CgkJCQkJbWUuQ2xvc2UoKTsKCQkJCX1lbHNlewoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJCX0KCQkgIAl9CgkJfSk7Cgl9LAoJQmFydVRURDogZnVuY3Rpb24oKXsKCQl2YXIgbWUgPSB0aGlzOwoJCXZhciBlcnI9Jyc7CgkJdmFyIHVydXNhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJVcnVzYW4nKS52YWx1ZTsKCQl2YXIgYmlkYW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlckJpZGFuZycpLnZhbHVlOwoJCXZhciBza3BkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlclNLUEQnKS52YWx1ZTsKCQl2YXIgdW5pdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJVbml0JykudmFsdWU7CgkJdmFyIHN1YnVuaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsdGVyU3ViVW5pdCcpLnZhbHVlOwoKCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7CgkJaWYoZXJyPT0nJyl7CgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7CgkJCWFkZENvdmVyUGFnZTIoY292ZXIsOTk5LHRydWUsZmFsc2UpOwoJCQkkLmFqYXgoewoJCQkJdHlwZTonUE9TVCcsCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpKyImdXJ1c2FuPSIrdXJ1c2FuKyImYmlkYW5nPSIrYmlkYW5nKyImc2twZD0iK3NrcGQrIiZ1bml0PSIrdW5pdCsiJnN1YnVuaXQ9IitzdWJ1bml0LAoJCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1mb3JtQmFydVRURCcsCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJICAJCWRlbEVsZW0oY292ZXIpOwoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKCQkJCQlpZiAocmVzcC5lcnIgPT0nJyl7CgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CgkJCQkJCW1lLkFmdGVyRm9ybUJhcnUocmVzcCk7CgkJCQkJfWVsc2V7CgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCgkJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOwoJCQkJCX0KCgkJCSAgCX0KCQkJfSk7CgkJfWVsc2V7CgkJCWFsZXJ0KGVycik7CgkJfQoJfSwKCUVkaXQ6ZnVuY3Rpb24oKXsKCQl2YXIgbWUgPSB0aGlzOwoJCWVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsKCgkJCWlmKGVycm1zZyA9PScnKXsKCQkJCXZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsKCQkJCXZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9ybU5hbWUpOwoJCQkJJC5hamF4KHsKCQkJCSAgdXJsOiB0aGlzLnVybCsnJnRpcGU9ZWRpdFRhYicsCgkJCQkgIHR5cGUgOiAnUE9TVCcsCgkJCQkgIGRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCgkJCQkgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwoJCQkJCQlpZihyZXNwLmVyciA9PSAiIikgewoJCQkJCQkJYUZvcm0uYWN0aW9uPSAncGdQZXJzZWRpYWFuLnBocD9QZz1wZW5nZWx1YXJhblBlcnNlZGlhYW5faW5zJnNrcGQ9JytyZXNwLmNvbnRlbnQuc2twZCsiJm5vbW9yPSIrcmVzcC5jb250ZW50Lm5vbW9yOwoJCQkJCQkJYUZvcm0udGFyZ2V0PSdfYmxhbmsnOwoJCQkJCQkJYUZvcm0uc3VibWl0KCk7CgkJCQkJCQlhRm9ybS50YXJnZXQ9Jyc7CgkJCQkJCX1lbHNlewoJCQkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJCQl9CgoJCQkJICB9CgkJCQl9KTsKCQkJfWVsc2V7CgkJCQlhbGVydChlcnJtc2cpOwoJCQl9CgoJfSwKCVJlcG9ydDI6IGZ1bmN0aW9uKCl7CgkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrKCdfZm9ybScpKTsKCQl2YXIgbWU9IHRoaXM7CgkJZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOwoJCXZhciBqZW5pc0tlZ2lhdGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2plbmlzS2VnaWF0YW4nKS52YWx1ZTsKCQl2YXIgY2V0YWtqYW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NldGFramFuZycpLnZhbHVlOwoJCS8vIHZhciB0dGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHRkJykudmFsdWU7CgkJdmFyIGMxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlclVydXNhbicpLnZhbHVlOwoJCXZhciBjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlckJpZGFuZycpLnZhbHVlOwoJCXZhciBkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlclNLUEQnKS52YWx1ZTsKCQl2YXIgZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJVbml0JykudmFsdWU7CgkJdmFyIGUxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlclN1YlVuaXQnKS52YWx1ZTsKCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsKCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1zaW1wYW4nOwoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsKCQl2YXIgdXJsMiA9IHRoaXMudXJsOwoJCSQuYWpheCh7CgkJCXR5cGU6J1BPU1QnLAoJCQlkYXRhOiAkKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSsiJmplbmlzS2VnaWF0YW49IitqZW5pc0tlZ2lhdGFuKyImY2V0YWtqYW5nPSIrY2V0YWtqYW5nKyImdXJ1c2FuPSIrYzErIiZiaWRhbmc9IitjKyImc2twZD0iK2QrIiZ1bml0PSIrZSsiJnN1YnVuaXQ9IitlMSwKCQkJCS8vIHsKCQkJCS8vIAlqZW5pc0tlZ2lhdGFuIDogJCgiI2plbmlzS2VnaWF0YW4iKS52YWwoKSwKCQkJCS8vIAljZXRha2phbmcJICA6ICQoIiNjZXRha2phbmciKS52YWwoKSwKCQkJCS8vIAl0dGQJCQkgIDogJCgiI3R0ZCIpLnZhbCgpLAoJCQkJLy8gCWMxCQkJICA6ICQoIiNmaWx0ZXJVcnVzYW4iKS52YWwoKSwKCQkJCS8vIAljIAkJCSAgOiAkKCIjZmlsdGVyQmlkYW5nIikudmFsKCksCgkJCQkvLyAJZCAJCQkgIDogJCgiI2ZpbHRlclNLUEQiKS52YWwoKSwKCQkJCS8vIAllICAJCQkgIDogJCgiI2ZpbHRlclVuaXQiKS52YWwoKSwKCQkJCS8vIAllMSAJCQkgIDogJCgiI2ZpbHRlclN1YlVuaXQiKS52YWwoKSwKCgkJCQkvLyB9LAoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1SZXBvcnQyJywKCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQlkZWxFbGVtKGNvdmVyKTsKCQkJCWlmKHJlc3AuZXJyPT0nJyl7CgoJCQkJCWFGb3JtLmFjdGlvbj0gdXJsMisnJnRpcGU9JytyZXNwLmNvbnRlbnQudG8rJyZub21vcj0nK3Jlc3AuY29udGVudC5ub21vcisnJmlkbmE9JytyZXNwLmNvbnRlbnQuaWRuYSsnJnVydXNhbj0nKyQoIiNmaWx0ZXJVcnVzYW4iKS52YWwoKSsnJmJpZGFuZz0nKyQoIiNmaWx0ZXJCaWRhbmciKS52YWwoKSsnJnNrcGQ9JyskKCIjZmlsdGVyU0tQRCIpLnZhbCgpKycmdW5pdD0nKyQoIiNmaWx0ZXJVbml0IikudmFsKCkrJyZzdWJ1bml0PScrJCgiI2ZpbHRlclN1YlVuaXQiKS52YWwoKSsnJmtvdGE9JytyZXNwLmNvbnRlbnQubmFtYVBlbWRhKycmdGFuZ2dhbENldGFrPScrcmVzcC5jb250ZW50LmNldGFramFuZysnJnR0ZD0nK3Jlc3AuY29udGVudC50dGQ7CgkJCQkJYUZvcm0udGFyZ2V0PSdfYmxhbmsnOwoJCQkJCWFGb3JtLnN1Ym1pdCgpOwoJCQkJCWFGb3JtLnRhcmdldD0nJzsKCQkJCQltZS5DbG9zZSgpOwoJCQkJfWVsc2V7CgkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJfQoJCSAgCX0KCQl9KTsKCX0sCiAgTGFwb3JhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGVyciA9ICIiOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlciI7CiAgICBpZiAoJCgiI2ZpbHRlclVydXNhbiIpLnZhbCgpID09ICIwMCIpIHsKICAgICAgZXJyID0gIlBpbGloIFVydXNhbiI7CiAgICB9IGVsc2UgaWYgKCQoIiNmaWx0ZXJCaWRhbmciKS52YWwoKSA9PSAiMDAiKSB7CiAgICAgIGVyciA9ICJQaWxpaCBCaWRhbmciOwogICAgfSBlbHNlIGlmICgkKCIjZmlsdGVyU0tQRCIpLnZhbCgpID09ICIwMCIpIHsKICAgICAgZXJyID0gIlBpbGloIFNLUEQiOwogICAgfSBlbHNlIGlmICgkKCIjZmlsdGVyVW5pdCIpLnZhbCgpID09ICIwMCIpIHsKICAgICAgZXJyID0gIlBpbGloIFVuaXQiOwogICAgfSBlbHNlIGlmICgkKCIjZmlsdGVyU3ViVW5pdCIpLnZhbCgpID09ICIwMCIpIHsKICAgICAgZXJyID0gIlBpbGloIFN1YiBVbml0IjsKICAgIH0KICAgIGlmIChlcnIgPT0gIiIpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAyLCB0cnVlLCBmYWxzZSk7CiAgICAgICQuYWpheCh7CiAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1MYXBvcmFuIiwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKICAgICAgICAgICAgbWUuQWZ0ZXJGb3JtQmFydShyZXNwKTsKICAgICAgICAgICAgdmFyIGJhc2VMaW1pdERhdGUgPSBhdG9iKCAkKCIjeWVhclJhbmdlIikudmFsKCkpOwogICAgICAgICAgICB2YXIgYXJyYXlMaW1pdERhdGUgPSBiYXNlTGltaXREYXRlLnNwbGl0KCc7Jyk7CiAgICAgICAgICAgICQoICIjdGFuZ2dhbENldGFrIiApLmRhdGVwaWNrZXIoewogICAgICAgICAgICBkYXRlRm9ybWF0OiAiZGQtbW0teXkiLAogICAgICAgICAgICBzaG93QW5pbTogInNsaWRlRG93biIsCiAgICAgICAgICAgIGlubGluZTogdHJ1ZSwKICAgICAgICAgICAgc2hvd09uOiAiYnV0dG9uIiwKICAgICAgICAgICAgYnV0dG9uSW1hZ2U6ICJkYXRlcGlja2VyL2NhbGVuZGVyMS5wbmciLAogICAgICAgICAgICBidXR0b25JbWFnZU9ubHk6IHRydWUsCiAgICAgICAgICAgIGNoYW5nZU1vbnRoOiB0cnVlLAogICAgICAgICAgICBjaGFuZ2VZZWFyOiBmYWxzZSwKICAgICAgICAgICAgbWluRGF0ZSA6IGFycmF5TGltaXREYXRlWzBdLAogICAgICAgICAgICBtYXhEYXRlIDogYXJyYXlMaW1pdERhdGVbMV0sCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJhdXRvIjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoZXJyKTsKICAgIH0KICB9LAoJbmV3VGFuZGFUYW5nYW5nYW46IGZ1bmN0aW9uKCl7CgkJdmFyIG1lID0gdGhpczsKCQl2YXIgZXJyPScnOwoJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyVGFuZGFUYW5nYW4nOwoKCQlpZihlcnI9PScnKXsKCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsKCQkJYWRkQ292ZXJQYWdlMihjb3Zlciw5OSx0cnVlLGZhbHNlKTsKCQkJJC5hamF4KHsKCQkJCXR5cGU6J1BPU1QnLAoJCQkJZGF0YTokKCcjJyt0aGlzLnByZWZpeCsiX2Zvcm0iKS5zZXJpYWxpemUoKSwKCQkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9bmV3VGFuZGFUYW5nYW5nYW4nLAoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwoJCQkJCWlmIChyZXNwLmVyciA9PScnKXsKCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKCQkJCQkJbWUuQWZ0ZXJGb3JtQmFydShyZXNwKTsKCQkJCQl9ZWxzZXsKCQkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJCQlkZWxFbGVtKGNvdmVyKTsKCQkJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7CgkJCQkJfQoKCQkJICAJfQoJCQl9KTsKCQl9ZWxzZXsKCQkJYWxlcnQoZXJyKTsKCQl9Cgl9LAogIHZpZXdMYXBvcmFuOiBmdW5jdGlvbigpIHsKCQl2YXIgbWUgPSB0aGlzOwoJCWVycm1zZyA9ICIiOwoJCWlmIChlcnJtc2cgPT0gIiIpIHsKCQkJdmFyIG1lID0gdGhpczsKCQkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrIl9mb3JtIik7CgkJCWFGb3JtLmFjdGlvbiA9IG1lLnVybCsiJnRpcGU9dmlld0xhcG9yYW4iOwoJCQlhRm9ybS50YXJnZXQgPSAiX2JsYW5rIjsKCQkJYUZvcm0uc3VibWl0KCk7CgkJCWFGb3JtLnRhcmdldCA9ICIiOwoJCX0gZWxzZSB7CgkJCWFsZXJ0KGVycm1zZyk7CgkJfQoJfSwKICBjbG9zZVRhbmRhVGFuZ2FuRm9ybTogZnVuY3Rpb24oKXsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyVGFuZGFUYW5nYW4nOwoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKSkgZGVsRWxlbShjb3Zlcik7CgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOwogIH0sCglzYXZlTmV3VGFuZGFUYW5nYW46IGZ1bmN0aW9uKCl7CgkJdmFyIG1lPSB0aGlzOwoJCXRoaXMuT25FcnJvckNsb3NlID0gZmFsc2UKCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOwoJCXZhciBjb3ZlciA9ICdyZW5qYUFzZXQnKydfZm9ybXNpbXBhbic7CgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwoJCSQuYWpheCh7CgkJCXR5cGU6J1BPU1QnLAoJCQlkYXRhOnsKCQkJCWMxCTogJCgiI2MxIikudmFsKCksCgkJCQkJYyAgIDogJCgiI2MiKS52YWwoKSwKCQkJCQlkICAgOiAkKCIjZCIpLnZhbCgpLAoJCQkJCWUgICA6ICQoIiNlIikudmFsKCksCgkJCQkJZTEgICA6ICQoIiNlMSIpLnZhbCgpLAoJCQkJCWthdGVnb3JpICAgICAgOiAkKCIja2F0ZWdvcmkiKS52YWwoKSwKCQkJCQluYW1hcGVnYXdhaSAgIDogJCgiI25hbWFwZWdhd2FpIikudmFsKCksCgkJCQkJbmlwcGVnYXdhaSAgICA6ICQoIiNuaXBwZWdhd2FpIikudmFsKCksCgkJCQkJcGFuZ2thdGFraGlyICA6ICQoIiNwYW5na2F0YWtoaXIiKS52YWwoKSwKCQkJCQlnb2xhbmdfYWtoaXIgIDogJCgiI2dvbGFuZ19ha2hpciIpLnZhbCgpLAoJCQkJCWphYmF0YW4gICAgICAgOiAkKCIjamFiYXRhbiIpLnZhbCgpLAoJCQkJCWVzZWxvbl9ha2hpciAgOiAkKCIjZXNlbG9uX2FraGlyIikudmFsKCksCgkJCX0sCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPXNhdmVOZXdUYW5kYVRhbmdhbicsCgkJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQlkZWxFbGVtKGNvdmVyKTsKCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKCQkJCWlmKHJlc3AuZXJyPT0nJyl7CgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkUGVuYW5kYVRhbmdhbicpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5jb21ib3R0ZDsKCQkJCQltZS5jbG9zZVRhbmRhVGFuZ2FuRm9ybSgpOwoJCQkJfWVsc2V7CgkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJfQoJCQkJfQoJCX0pOwoJfSwKCVN5bmM6IGZ1bmN0aW9uKCl7CgoJCXZhciBtZT0gdGhpczsKCQkkLmFqYXgoewoJCQl0eXBlOidQT1NUJywKCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c3luYycsCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwoJCQkJaWYocmVzcC5lcnI9PScnKXsKCQkJCQltZS5yZWZyZXNoTGlzdCh0cnVlKTsKCQkJCX1lbHNlewoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJCX0KCQkgIAl9CgkJfSk7Cgl9Cn0pOwo=",
    "size": "28379"
}