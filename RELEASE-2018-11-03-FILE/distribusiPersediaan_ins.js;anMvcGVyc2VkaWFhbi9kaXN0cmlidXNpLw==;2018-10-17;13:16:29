{
    "namaFile": "js\/persediaan\/distribusi\/distribusiPersediaan_ins.js",
    "lastUpdate": "2018-10-17+13:16:29.07",
    "contentFile": "dmFyIGRpc3RyaWJ1c2lQZXJzZWRpYWFuX2lucyA9IG5ldyBEYWZ0YXJPYmoyKHsNCiAgcHJlZml4OiAiZGlzdHJpYnVzaVBlcnNlZGlhYW5faW5zIiwNCiAgdXJsOiAicGdQZXJzZWRpYWFuLnBocD9QZz1kaXN0cmlidXNpUGVyc2VkaWFhbl9pbnMiLA0KICBmb3JtTmFtZTogImRpc3RyaWJ1c2lQZXJzZWRpYWFuX2luc0Zvcm0iLA0KICBkaXN0cmlidXNpUGVyc2VkaWFhbl9pbnNfZm9ybTogIjAiLA0KICBsb2FkaW5nOiBmdW5jdGlvbigpIHsNCiAgICB0aGlzLnRvcEJhclJlbmRlcigpOw0KICAgIHRoaXMuZmlsdGVyUmVuZGVyKCk7DQogICAgLy90aGlzLmRhZnRhclJlbmRlcigpOw0KICAgIC8vdGhpcy5zdW1IYWxSZW5kZXIoKTsNCiAgfSwNCg0KICBkZXRhaWw6IGZ1bmN0aW9uKCkgew0KICAgIC8vYWxlcnQoJ2RldGFpbCcpOw0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOw0KICAgIGlmIChlcnJtc2cgPT0gIiIpIHsNCiAgICAgIHZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsNCiAgICAgIC8vVXNlckFrdGl2aXRhc0RldC5nZW5EZXRhaWwoKTsNCiAgICB9IGVsc2Ugew0KICAgICAgYWxlcnQoZXJybXNnKTsNCiAgICB9DQogIH0sDQogIElucHV0QmFydTogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCg0KICAgIGVycm1zZyA9ICIiOw0KDQogICAgaWYgKCQoIiNmbVNLUERVcnVzYW4iKS52YWwoKSA9PSAiMDAiKSB7DQogICAgICBlcnJtc2cgPSAiUGlsaWggVXJ1c2FuIjsNCiAgICB9IGVsc2UgaWYgKCQoIiNmbVNLUERCaWRhbmciKS52YWwoKSA9PSAiMDAiKSB7DQogICAgICBlcnJtc2cgPSAiUGlsaWggQmlkYW5nIjsNCiAgICB9IGVsc2UgaWYgKCQoIiNmbVNLUERza3BkIikudmFsKCkgPT0gIjAwIikgew0KICAgICAgZXJybXNnID0gIlBpbGloIFNLUEQiOw0KICAgIH0NCg0KICAgIGlmIChlcnJtc2cgPT0gIiIpIHsNCiAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICB2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZvcm1OYW1lKTsNCiAgICAgICQuYWpheCh7DQogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9bmV3VGFiIiwNCiAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgICAgdmFyIElEZGlzdHJpYnVzaVBlcnNlZGlhYW5faW5zID0gTnVtYmVyKA0KICAgICAgICAgICAgICByZXNwLmNvbnRlbnQuaWRkaXN0cmlidXNpUGVyc2VkaWFhbl9pbnMNCiAgICAgICAgICAgICk7DQogICAgICAgICAgICBhRm9ybS5hY3Rpb24gPQ0KICAgICAgICAgICAgICAicGdQZXJzZWRpYWFuLnBocD9QZz1kaXN0cmlidXNpUGVyc2VkaWFhbl9pbnMmWU49MSZpZD0iICsNCiAgICAgICAgICAgICAgSURkaXN0cmlidXNpUGVyc2VkaWFhbl9pbnM7DQogICAgICAgICAgICBhRm9ybS50YXJnZXQgPSAiX2JsYW5rIjsNCiAgICAgICAgICAgIGFGb3JtLnN1Ym1pdCgpOw0KICAgICAgICAgICAgYUZvcm0udGFyZ2V0ID0gIiI7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0gZWxzZSB7DQogICAgICBhbGVydChlcnJtc2cpOw0KICAgIH0NCiAgfSwNCiAgc2V0RGF0ZVBpY2tlcjogZnVuY3Rpb24oKSB7DQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9Z2V0WWVhclJhbmdlIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICB2YXIgYmFzZUxpbWl0RGF0ZSA9IGF0b2IocmVzcC5jZWspOw0KICAgICAgICB2YXIgYXJyYXlMaW1pdERhdGUgPSBiYXNlTGltaXREYXRlLnNwbGl0KCI7Iik7DQogICAgICAgICQoIiN0YW5nZ2FsRGlzdHJpYnVzaSIpLmRhdGVwaWNrZXIoew0KICAgICAgICAgIGRhdGVGb3JtYXQ6ICJkZC1tbS15eSIsDQogICAgICAgICAgc2hvd0FuaW06ICJzbGlkZURvd24iLA0KICAgICAgICAgIGlubGluZTogdHJ1ZSwNCiAgICAgICAgICBzaG93T246ICJidXR0b24iLA0KICAgICAgICAgIGJ1dHRvbkltYWdlOiAiZGF0ZXBpY2tlci9jYWxlbmRlcjEucG5nIiwNCiAgICAgICAgICBidXR0b25JbWFnZU9ubHk6IHRydWUsDQogICAgICAgICAgY2hhbmdlTW9udGg6IHRydWUsDQogICAgICAgICAgY2hhbmdlWWVhcjogZmFsc2UsDQogICAgICAgICAgbWluRGF0ZTogYXJyYXlMaW1pdERhdGVbMF0sDQogICAgICAgICAgbWF4RGF0ZTogYXJyYXlMaW1pdERhdGVbMV0NCiAgICAgICAgfSk7DQogICAgICAgICQoIiN0YW5nZ2FsQnVrdSIpLmRhdGVwaWNrZXIoew0KICAgICAgICAgIGRhdGVGb3JtYXQ6ICJkZC1tbS15eSIsDQogICAgICAgICAgc2hvd0FuaW06ICJzbGlkZURvd24iLA0KICAgICAgICAgIGlubGluZTogdHJ1ZSwNCiAgICAgICAgICBzaG93T246ICJidXR0b24iLA0KICAgICAgICAgIGJ1dHRvbkltYWdlOiAiZGF0ZXBpY2tlci9jYWxlbmRlcjEucG5nIiwNCiAgICAgICAgICBidXR0b25JbWFnZU9ubHk6IHRydWUsDQogICAgICAgICAgY2hhbmdlTW9udGg6IHRydWUsDQogICAgICAgICAgY2hhbmdlWWVhcjogZmFsc2UsDQogICAgICAgICAgbWluRGF0ZTogYXJyYXlMaW1pdERhdGVbMF0sDQogICAgICAgICAgbWF4RGF0ZTogYXJyYXlMaW1pdERhdGVbMV0NCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSk7DQogIH0sDQoNCiAgZm9ybWF0Q3VycmVuY3k6IGZ1bmN0aW9uKG51bSkgew0KICAgIG51bSA9IG51bS50b1N0cmluZygpLnJlcGxhY2UoL1wkfFwsL2csICIiKTsNCiAgICBpZiAoaXNOYU4obnVtKSkgbnVtID0gIjAiOw0KICAgIHNpZ24gPSBudW0gPT0gKG51bSA9IE1hdGguYWJzKG51bSkpOw0KICAgIG51bSA9IE1hdGguZmxvb3IobnVtICogMTAwICsgMC41MDAwMDAwMDAwMSk7DQogICAgY2VudHMgPSBudW0gJSAxMDA7DQogICAgbnVtID0gTWF0aC5mbG9vcihudW0gLyAxMDApLnRvU3RyaW5nKCk7DQogICAgaWYgKGNlbnRzIDwgMTApIGNlbnRzID0gIjAiICsgY2VudHM7DQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBNYXRoLmZsb29yKChudW0ubGVuZ3RoIC0gKDEgKyBpKSkgLyAzKTsgaSsrKQ0KICAgICAgbnVtID0NCiAgICAgICAgbnVtLnN1YnN0cmluZygwLCBudW0ubGVuZ3RoIC0gKDQgKiBpICsgMykpICsNCiAgICAgICAgIi4iICsNCiAgICAgICAgbnVtLnN1YnN0cmluZyhudW0ubGVuZ3RoIC0gKDQgKiBpICsgMykpOw0KICAgIHJldHVybiAoc2lnbiA\/ICIiIDogIi0iKSArICIiICsgbnVtOw0KICB9LA0KICBuZXdQZW55ZXJhaDogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyIjsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1uZXdQZW55ZXJhaCIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOw0KICAgICAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIGVkaXRQZW55ZXJhaDogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyIjsNCiAgICBpZiAoJCgiI3lhbmdNZW55ZXJhaGthbiIpLnZhbCgpID09ICIiKSB7DQogICAgICBhbGVydCgiUGlsaWggWWFuZyBNZW55ZXJhaGthbiIpOw0KICAgIH0gZWxzZSB7DQogICAgICAkLmFqYXgoew0KICAgICAgICB0eXBlOiAiUE9TVCIsDQogICAgICAgIGRhdGE6IHsgaWRFZGl0OiAkKCIjeWFuZ01lbnllcmFoa2FuIikudmFsKCkgfSwNCiAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1lZGl0UGVueWVyYWgiLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOw0KICAgICAgICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTk5LCB0cnVlLCBmYWxzZSk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9DQogIH0sDQogIGRlbGV0ZVBlbnllcmFoOiBmdW5jdGlvbigpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KDQogICAgaWYgKCQoIiN5YW5nTWVueWVyYWhrYW4iKS52YWwoKSA9PSAiIikgew0KICAgICAgYWxlcnQoIlBpbGloIFlhbmcgTWVueWVyYWhrYW4iKTsNCiAgICB9IGVsc2Ugew0KICAgICAgaWYgKGNvbmZpcm0oIllha2luIGhhcHVzIGRhdGEgPyIpKSB7DQogICAgICAgICQuYWpheCh7DQogICAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICAgIGRhdGE6IHsgaWRFZGl0OiAkKCIjeWFuZ01lbnllcmFoa2FuIikudmFsKCkgfSwNCiAgICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWRlbGV0ZVBlbnllcmFoIiwNCiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICAgICAgJCgiI3lhbmdNZW55ZXJhaGthbiIpLmh0bWwocmVzcC5jb250ZW50LnlhbmdNZW55ZXJhaGthbik7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9DQogIH0sDQoNCiAgc2F2ZU5ld1BlbnllcmFoOiBmdW5jdGlvbigpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIHRoaXMuT25FcnJvckNsb3NlID0gZmFsc2U7DQogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOw0KICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3Jtc2ltcGFuIjsNCiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAxLCB0cnVlLCBmYWxzZSk7DQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5wcmVmaXggKyAiX2Zvcm0iKS5zZXJpYWxpemUoKSwNCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2F2ZU5ld1BlbnllcmFoIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgJCgiI3lhbmdNZW55ZXJhaGthbiIpLmh0bWwocmVzcC5jb250ZW50LnlhbmdNZW55ZXJhaGthbik7DQogICAgICAgICAgbWUuQ2xvc2UoKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgc2F2ZUVkaXRQZW55ZXJhaDogZnVuY3Rpb24oaWRFZGl0KSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlOw0KICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybXNpbXBhbiI7DQogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMSwgdHJ1ZSwgZmFsc2UpOw0KICAgICQuYWpheCh7DQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICBkYXRhOiAkKCIjIiArIHRoaXMucHJlZml4ICsgIl9mb3JtIikuc2VyaWFsaXplKCkgKyAiJmlkRWRpdD0iICsgaWRFZGl0LA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlRWRpdFBlbnllcmFoIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgJCgiI3lhbmdNZW55ZXJhaGthbiIpLmh0bWwocmVzcC5jb250ZW50LnlhbmdNZW55ZXJhaGthbik7DQogICAgICAgICAgbWUuQ2xvc2UoKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCg0KICBFZGl0OiBmdW5jdGlvbigpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIGVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsNCiAgICBpZiAoZXJybXNnID09ICIiKSB7DQogICAgICB2YXIgYm94ID0gdGhpcy5HZXRDYnhDaGVja2VkKCk7DQoNCiAgICAgIHZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9ybU5hbWUpOw0KICAgICAgJC5hamF4KHsNCiAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1lZGl0VGFiIiwNCiAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICAgIHZhciBJRF9QTEFGT04gPSBOdW1iZXIocmVzcC5jb250ZW50LklEX1BMQUZPTik7DQogICAgICAgICAgdmFyIElEX0VESVQgPSBOdW1iZXIocmVzcC5jb250ZW50LklEX0VESVQpOw0KICAgICAgICAgIGFGb3JtLmFjdGlvbiA9DQogICAgICAgICAgICAicGdQZXJzZWRpYWFuLnBocD9QZz1kaXN0cmlidXNpUGVyc2VkaWFhbl9pbnMmaWQ9IiArDQogICAgICAgICAgICBJRF9QTEFGT04gKw0KICAgICAgICAgICAgIiZJRF9kaXN0cmlidXNpUGVyc2VkaWFhbl9pbnM9IiArDQogICAgICAgICAgICBJRF9FRElUOw0KICAgICAgICAgIGFGb3JtLnRhcmdldCA9ICJfYmxhbmsiOw0KICAgICAgICAgIGFGb3JtLnN1Ym1pdCgpOw0KICAgICAgICAgIGFGb3JtLnRhcmdldCA9ICIiOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9IGVsc2Ugew0KICAgICAgYWxlcnQoZXJybXNnKTsNCiAgICB9DQogIH0sDQoNCiAgZmluZFByb2dyYW1EUEE6IGZ1bmN0aW9uKCkgew0KICAgIHBvcHVwUHJvZ3JhbVBlcnNlZGlhYW4uZmlsdGVyU0tQRCA9ICQoIiNrb2RlU0tQRCIpLnZhbCgpOw0KICAgIHBvcHVwUHJvZ3JhbVBlcnNlZGlhYW4ud2luZG93U2hvdygpOw0KICB9LA0KICBmaW5kUHJvZ3JhbTogZnVuY3Rpb24oKSB7DQogICAgcG9wdXBQcm9ncmFtUkVGLndpbmRvd1Nob3coKTsNCiAgfSwNCiAgZmluZEJhcmFuZzogZnVuY3Rpb24oKSB7DQogICAgZmluZFBvcHVwQmFyYW5nUGVyc2VkaWFhbi53aW5kb3dTaG93KCk7DQogIH0sDQogIGFkZEJhcmFuZzogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1hZGRCYXJhbmciLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbEJhcmFuZyIpLmlubmVySFRNTCA9DQogICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxCYXJhbmc7DQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsRGV0YWlsUmluY2lhbkJhcmFuZyIpLmlubmVySFRNTCA9DQogICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxEZXRhaWxSaW5jaWFuQmFyYW5nOw0KICAgICAgICAgICQoIiNjdXJyZW50UmluY2lhbkRpc3RyaWJ1c2kiKS52YWwoIiIpOw0KICAgICAgICAgICQoIiNzaXNhQmFyYW5nIikudmFsKCIiKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgZWRpdEJhcmFuZzogZnVuY3Rpb24oaWQpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgICQuYWpheCh7DQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICBkYXRhOiB7IGlkOiBpZCB9LA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1lZGl0QmFyYW5nIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFiZWxCYXJhbmciKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgcmVzcC5jb250ZW50LmVkaXRCYXJhbmc7DQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsRGV0YWlsUmluY2lhbkJhcmFuZyIpLmlubmVySFRNTCA9DQogICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxEZXRhaWxSaW5jaWFuQmFyYW5nOw0KICAgICAgICAgICQoIiNjdXJyZW50UmluY2lhbkRpc3RyaWJ1c2kiKS52YWwoIiIpOw0KICAgICAgICAgICQoIiNzaXNhQmFyYW5nIikudmFsKCIiKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgY2FuY2VsQmFyYW5nOiBmdW5jdGlvbigpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1jYW5jZWxCYXJhbmciLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KCQkJCQlkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFiZWxCYXJhbmciKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsQmFyYW5nOw0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbERldGFpbFJpbmNpYW5CYXJhbmciKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsRGV0YWlsUmluY2lhbkJhcmFuZzsNCiAgICAgICAgICAkKCIjY3VycmVudFJpbmNpYW5EaXN0cmlidXNpIikudmFsKCIiKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgc2F2ZU5ld0JhcmFuZzogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICQuYWpheCh7DQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICBkYXRhOiB7DQogICAgICAgIGtvZGVCYXJhbmc6ICQoIiNrb2RlQmFyYW5nIikudmFsKCksDQogICAgICAgIGp1bWxhaEJhcmFuZzogJCgiI2p1bWxhaEJhcmFuZyIpLnZhbCgpLA0KICAgICAgICBrZXRlcmFuZ2FuOiAkKCIja2V0ZXJhbmdhbiIpLnZhbCgpLA0KICAgICAgICBtZXJrOiAkKCIjbWVyayIpLnZhbCgpLA0KICAgICAgICBrb2RlU0tQRDogJCgiI2tvZGVTS1BEIikudmFsKCkNCiAgICAgIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVOZXdCYXJhbmciLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICBkZWxFbGVtKGNvdmVyKTsNCg0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbEJhcmFuZyIpLmlubmVySFRNTCA9DQogICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxCYXJhbmc7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIHNhdmVFZGl0QmFyYW5nOiBmdW5jdGlvbihpZCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQoJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9jb3ZlckxvYWRpbmciOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICQuYWpheCh7DQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICBkYXRhOiB7DQogICAgICAgIGtvZGVCYXJhbmc6ICQoIiNrb2RlQmFyYW5nIikudmFsKCksDQogICAgICAgIGp1bWxhaEJhcmFuZzogJCgiI2p1bWxhaEJhcmFuZyIpLnZhbCgpLA0KICAgICAgICBrZXRlcmFuZ2FuOiAkKCIja2V0ZXJhbmdhbiIpLnZhbCgpLA0KICAgICAgICBtZXJrOiAkKCIjbWVyayIpLnZhbCgpLA0KICAgICAgICBpZDogaWQNCiAgICAgIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVFZGl0QmFyYW5nIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCgkJCQlkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFiZWxCYXJhbmciKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsQmFyYW5nOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KICBkZWxldGVCYXJhbmc6IGZ1bmN0aW9uKGlkKSB7DQogICAgdmFyIG1lID0gdGhpczsNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQoJCWFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7DQogICAgaWYgKGNvbmZpcm0oIllha2luIGhhcHVzIGJhcmFuZyA\/IikpIHsNCiAgICAgICQuYWpheCh7DQogICAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgICAgZGF0YTogew0KICAgICAgICAgIGlkOiBpZA0KICAgICAgICB9LA0KICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWRlbGV0ZUJhcmFuZyIsDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCgkJCQkJZGVsRWxlbShjb3Zlcik7DQogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsQmFyYW5nIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsQmFyYW5nOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9DQogIH0sDQogIHNhdmVEaXN0cmlidXNpOiBmdW5jdGlvbigpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogew0KICAgICAgICBub21vckRpc3RyaWJ1c2k6ICQoIiNub21vckRpc3RyaWJ1c2kiKS52YWwoKSwNCiAgICAgICAgdGFuZ2dhbERpc3RyaWJ1c2k6ICQoIiN0YW5nZ2FsRGlzdHJpYnVzaSIpLnZhbCgpLA0KICAgICAgICBiazogJCgiI2JrIikudmFsKCksDQogICAgICAgIGNrOiAkKCIjY2siKS52YWwoKSwNCiAgICAgICAgZGs6ICQoIiNkayIpLnZhbCgpLA0KICAgICAgICBwOiAkKCIjcCIpLnZhbCgpLA0KICAgICAgICBxOiAkKCIjY21iS2VnaWF0YW4iKS52YWwoKSwNCiAgICAgICAgdW50dWtLZXBlcmx1YW46ICQoIiN1bnR1a0tlcGVybHVhbiIpLnZhbCgpLA0KICAgICAgICB5YW5nTWVueWVyYWhrYW46ICQoIiN5YW5nTWVueWVyYWhrYW4iKS52YWwoKSwNCiAgICAgICAgdGFuZ2dhbEJ1a3U6ICQoIiN0YW5nZ2FsQnVrdSIpLnZhbCgpDQogICAgICB9LA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlRGlzdHJpYnVzaSIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQoJCQkJZGVsRWxlbShjb3Zlcik7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgYWxlcnQoIkRhdGEgVGVyc2ltcGFuIik7DQogICAgICAgICAgbWUuY2xvc2VUYWIoKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCg0KICBjbG9zZVRhYjogZnVuY3Rpb24oKSB7DQogICAgd2luZG93Lm9wZW5lci5sb2NhdGlvbi5yZWxvYWQoKTsNCiAgICB2YXIgd3cgPSB3aW5kb3cub3Blbih3aW5kb3cubG9jYXRpb24sICJfc2VsZiIpOw0KICAgIHd3LmNsb3NlKCk7DQogIH0sDQoNCiAgYmFudHU6IGZ1bmN0aW9uKCkgew0KICAgICQoIiNiYW50dUp1bWxhaCIpLnRleHQodGhpcy5mb3JtYXRDdXJyZW5jeSgkKCIjanVtbGFoQmFyYW5nIikudmFsKCkpKTsNCiAgfSwNCiAgYmFudHVEZXRhaWxSaW5jaWFuRGlzdHJpYnVzaTogZnVuY3Rpb24oaWRFZGl0KSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogew0KICAgICAgICBpZEVkaXQ6IGlkRWRpdCwNCiAgICAgICAganVtbGFoQmFyYW5nOiAkKCIjanVtbGFoQmFyYW5nIikudmFsKCksDQogICAgICAgIGlkU2VsZWN0ZWQ6ICQoIiNjdXJyZW50UmluY2lhbkRpc3RyaWJ1c2kiKS52YWwoKQ0KICAgICAgfSwNCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9YmFudHVEZXRhaWxSaW5jaWFuRGlzdHJpYnVzaSIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgJCgiI3Npc2FCYXJhbmciKS52YWwobWUuZm9ybWF0Q3VycmVuY3kocmVzcC5jb250ZW50LnNpc2FCYXJhbmcpKTsNCiAgICAgICAgICAkKCIjYmFudHVKdW1sYWgiKS50ZXh0KG1lLmZvcm1hdEN1cnJlbmN5KCQoIiNqdW1sYWhCYXJhbmciKS52YWwoKSkpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KDQogIHNlbGVjdGVkVGFiZWxCYXJhbmc6IGZ1bmN0aW9uKGlkU2VsZWN0ZWQpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogew0KICAgICAgICBpZFNlbGVjdGVkOiBpZFNlbGVjdGVkDQogICAgICB9LA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zZWxlY3RlZFRhYmVsQmFyYW5nIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCgkJCQlkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICAkKCIjdGFiZWxCYXJhbmciKS5odG1sKHJlc3AuY29udGVudC50YWJlbEJhcmFuZyk7DQogICAgICAgICAgJCgiI3RhYmVsRGV0YWlsUmluY2lhbkJhcmFuZyIpLmh0bWwoDQogICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxEZXRhaWxSaW5jaWFuQmFyYW5nDQogICAgICAgICAgKTsNCiAgICAgICAgICAkKCIjY3VycmVudFJpbmNpYW5EaXN0cmlidXNpIikudmFsKGlkU2VsZWN0ZWQpOw0KICAgICAgICAgICQoIiNzaXNhQmFyYW5nIikudmFsKG1lLmZvcm1hdEN1cnJlbmN5KHJlc3AuY29udGVudC5zaXNhQmFyYW5nKSk7DQogICAgICAgICAgJCgiI2ZpbHRlclVuaXQiKS52YWwoIiIpOw0KICAgICAgICAgICQoIiNmaWx0ZXJTdWJVbml0IikudmFsKCIiKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgZmlsdGVyVW5pdENoYW5nZWQ6IGZ1bmN0aW9uKCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlclNlbXVhVVBUIik7DQogICAgdmFyIGNoZWNrYm94U3RhdHVzID0gIiI7DQogICAgaWYoY2hlY2tib3guY2hlY2tlZCl7DQogICAgICBjaGVja2JveFN0YXR1cyA9ICJTSE9XIjsNCiAgICB9ZWxzZXsNCiAgICAgIGNoZWNrYm94U3RhdHVzID0gIkhJREUiOw0KICAgIH0NCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogew0KICAgICAgICBpZFNlbGVjdGVkOiAkKCIjY3VycmVudFJpbmNpYW5EaXN0cmlidXNpIikudmFsKCksDQogICAgICAgIGZpbHRlclVuaXQ6ICQoIiNmaWx0ZXJVbml0IikudmFsKCksDQogICAgICAgIGtvZGVTS1BEOiAkKCIja29kZVNLUEQiKS52YWwoKSwNCiAgICAgICAgZmlsdGVyU2VtdWFVUFQ6IGNoZWNrYm94U3RhdHVzLA0KICAgICAgfSwNCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZmlsdGVyVW5pdENoYW5nZWQiLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgICQoIiN0YWJlbERldGFpbFJpbmNpYW5CYXJhbmciKS5odG1sKA0KICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsRGV0YWlsUmluY2lhbkJhcmFuZw0KICAgICAgICAgICk7DQogICAgICAgICAgJCgiI2ZpbHRlclN1YlVuaXQiKS5odG1sKHJlc3AuY29udGVudC5maWx0ZXJTdWJVbml0KTsNCiAgICAgICAgICAkKCIjc2lzYUJhcmFuZyIpLnZhbChtZS5mb3JtYXRDdXJyZW5jeShyZXNwLmNvbnRlbnQuc2lzYUJhcmFuZykpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KICBmaWx0ZXJTdWJVbml0Q2hhbmdlZDogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgY2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyU2VtdWFVUFQiKTsNCiAgICB2YXIgY2hlY2tib3hTdGF0dXMgPSAiIjsNCiAgICBpZihjaGVja2JveC5jaGVja2VkKXsNCiAgICAgIGNoZWNrYm94U3RhdHVzID0gIlNIT1ciOw0KICAgIH1lbHNlew0KICAgICAgY2hlY2tib3hTdGF0dXMgPSAiSElERSI7DQogICAgfQ0KICAgICQuYWpheCh7DQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICBkYXRhOiB7DQogICAgICAgIGlkU2VsZWN0ZWQ6ICQoIiNjdXJyZW50UmluY2lhbkRpc3RyaWJ1c2kiKS52YWwoKSwNCiAgICAgICAgZmlsdGVyVW5pdDogJCgiI2ZpbHRlclVuaXQiKS52YWwoKSwNCiAgICAgICAgZmlsdGVyU3ViVW5pdDogJCgiI2ZpbHRlclN1YlVuaXQiKS52YWwoKSwNCiAgICAgICAga29kZVNLUEQ6ICQoIiNrb2RlU0tQRCIpLnZhbCgpLA0KICAgICAgICBmaWx0ZXJTZW11YVVQVDogY2hlY2tib3hTdGF0dXMsDQoNCiAgICAgIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWZpbHRlclN1YlVuaXRDaGFuZ2VkIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICAkKCIjdGFiZWxEZXRhaWxSaW5jaWFuQmFyYW5nIikuaHRtbCgNCiAgICAgICAgICAgIHJlc3AuY29udGVudC50YWJlbERldGFpbFJpbmNpYW5CYXJhbmcNCiAgICAgICAgICApOw0KICAgICAgICAgICQoIiNzaXNhQmFyYW5nIikudmFsKG1lLmZvcm1hdEN1cnJlbmN5KHJlc3AuY29udGVudC5zaXNhQmFyYW5nKSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIGZpbHRlclVQVENoYW5nZWQ6IGZ1bmN0aW9uKCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlclNlbXVhVVBUIik7DQogICAgdmFyIGNoZWNrYm94U3RhdHVzID0gIiI7DQogICAgaWYoY2hlY2tib3guY2hlY2tlZCl7DQogICAgICBjaGVja2JveFN0YXR1cyA9ICJTSE9XIjsNCiAgICB9ZWxzZXsNCiAgICAgIGNoZWNrYm94U3RhdHVzID0gIkhJREUiOw0KICAgIH0NCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogew0KICAgICAgICBpZFNlbGVjdGVkOiAkKCIjY3VycmVudFJpbmNpYW5EaXN0cmlidXNpIikudmFsKCksDQogICAgICAgIGZpbHRlclVuaXQ6ICQoIiNmaWx0ZXJVbml0IikudmFsKCksDQogICAgICAgIGZpbHRlclN1YlVuaXQ6ICQoIiNmaWx0ZXJTdWJVbml0IikudmFsKCksDQogICAgICAgIGtvZGVTS1BEOiAkKCIja29kZVNLUEQiKS52YWwoKSwNCiAgICAgICAgZmlsdGVyU2VtdWFVUFQ6IGNoZWNrYm94U3RhdHVzLA0KICAgICAgfSwNCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZmlsdGVyVVBUQ2hhbmdlZCIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgJCgiI3RhYmVsRGV0YWlsUmluY2lhbkJhcmFuZyIpLmh0bWwoDQogICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxEZXRhaWxSaW5jaWFuQmFyYW5nDQogICAgICAgICAgKTsNCiAgICAgICAgICAkKCIjc2lzYUJhcmFuZyIpLnZhbChtZS5mb3JtYXRDdXJyZW5jeShyZXNwLmNvbnRlbnQuc2lzYUJhcmFuZykpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KICBlZGl0RGV0YWlsUmluY2lhbkRpc3RyaWJ1c2k6IGZ1bmN0aW9uKGlkRWRpdCwgcGFnZUtlKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogew0KICAgICAgICBpZFJpbmNpYW5EaXN0cmlidXNpOiAkKCIjY3VycmVudFJpbmNpYW5EaXN0cmlidXNpIikudmFsKCksDQogICAgICAgIGZpbHRlclVuaXQ6ICQoIiNmaWx0ZXJVbml0IikudmFsKCksDQogICAgICAgIGZpbHRlclN1YlVuaXQ6ICQoIiNmaWx0ZXJTdWJVbml0IikudmFsKCksDQogICAgICAgIGtvZGVTS1BEOiAkKCIja29kZVNLUEQiKS52YWwoKSwNCiAgICAgICAgaWRFZGl0OiBpZEVkaXQsDQogICAgICAgIHBhZ2VLZTogcGFnZUtlDQogICAgICB9LA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1lZGl0RGV0YWlsUmluY2lhbkRpc3RyaWJ1c2kiLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgICQoIiN0YWJlbERldGFpbFJpbmNpYW5CYXJhbmciKS5odG1sKA0KICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsRGV0YWlsUmluY2lhbkJhcmFuZw0KICAgICAgICAgICk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIHNhdmVFZGl0RGV0YWlsUmluY2lhbkRpc3RyaWJ1c2k6IGZ1bmN0aW9uKGlkRWRpdCwgcGFnZUtlKSB7DQogICAgdmFyIG1lID0gdGhpczsNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQoJCWFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7DQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIGRhdGE6IHsNCiAgICAgICAgaWRSaW5jaWFuRGlzdHJpYnVzaTogJCgiI2N1cnJlbnRSaW5jaWFuRGlzdHJpYnVzaSIpLnZhbCgpLA0KICAgICAgICBmaWx0ZXJVbml0OiAkKCIjZmlsdGVyVW5pdCIpLnZhbCgpLA0KICAgICAgICBmaWx0ZXJTdWJVbml0OiAkKCIjZmlsdGVyU3ViVW5pdCIpLnZhbCgpLA0KICAgICAgICBrb2RlU0tQRDogJCgiI2tvZGVTS1BEIikudmFsKCksDQogICAgICAgIGlkRWRpdDogaWRFZGl0LA0KICAgICAgICBwYWdlS2U6IHBhZ2VLZSwNCiAgICAgICAganVtbGFoQmFyYW5nOiAkKCIjanVtbGFoQmFyYW5nIikudmFsKCkNCiAgICAgIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVFZGl0RGV0YWlsUmluY2lhbkRpc3RyaWJ1c2kiLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KCQkJCWRlbEVsZW0oY292ZXIpOw0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgICQoIiN0YWJlbERldGFpbFJpbmNpYW5CYXJhbmciKS5odG1sKA0KICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsRGV0YWlsUmluY2lhbkJhcmFuZw0KICAgICAgICAgICk7DQogICAgICAgICAgJCgiI3Npc2FCYXJhbmciKS52YWwobWUuZm9ybWF0Q3VycmVuY3kocmVzcC5jb250ZW50LnNpc2FCYXJhbmcpKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgY2FuY2VsRWRpdERldGFpbFJpbmNpYW5EaXN0cmlidXNpOiBmdW5jdGlvbihpZEVkaXQsIHBhZ2VLZSkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogew0KICAgICAgICBpZFJpbmNpYW5EaXN0cmlidXNpOiAkKCIjY3VycmVudFJpbmNpYW5EaXN0cmlidXNpIikudmFsKCksDQogICAgICAgIGZpbHRlclVuaXQ6ICQoIiNmaWx0ZXJVbml0IikudmFsKCksDQogICAgICAgIGZpbHRlclN1YlVuaXQ6ICQoIiNmaWx0ZXJTdWJVbml0IikudmFsKCksDQogICAgICAgIGtvZGVTS1BEOiAkKCIja29kZVNLUEQiKS52YWwoKSwNCiAgICAgICAgcGFnZUtlOiBwYWdlS2UNCiAgICAgICAgLy8gaWRFZGl0IDogaWRFZGl0LA0KICAgICAgICAvLyBqdW1sYWhCYXJhbmcgOiAkKCIjanVtbGFoQmFyYW5nIikudmFsKCkNCiAgICAgIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWNhbmNlbEVkaXREZXRhaWxSaW5jaWFuRGlzdHJpYnVzaSIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIGRlbEVsZW0oY292ZXIpOw0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgICQoIiN0YWJlbERldGFpbFJpbmNpYW5CYXJhbmciKS5odG1sKA0KICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsRGV0YWlsUmluY2lhbkJhcmFuZw0KICAgICAgICAgICk7DQogICAgICAgICAgJCgiI3Npc2FCYXJhbmciKS52YWwobWUuZm9ybWF0Q3VycmVuY3kocmVzcC5jb250ZW50LnNpc2FCYXJhbmcpKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCg0KICBnYW5kYWthbkJhcmFuZzogZnVuY3Rpb24oaWQpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIGlmIChjb25maXJtKCJZYWtpbiBnYW5kYWthbiBiYXJhbmcgPyIpKSB7DQogICAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCiAgCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICAgJC5hamF4KHsNCiAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICBkYXRhOiB7IGlkOiBpZCwga29kZVNLUEQ6ICQoIiNrb2RlU0tQRCIpLnZhbCgpIH0sDQogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9Z2FuZGFrYW5CYXJhbmciLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsQmFyYW5nIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsQmFyYW5nOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9DQogIH0NCn0pOw0K",
    "size": "21306"
}