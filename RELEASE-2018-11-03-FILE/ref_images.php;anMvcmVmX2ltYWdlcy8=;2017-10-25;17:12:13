{
    "namaFile": "js\/ref_images\/ref_images.php",
    "lastUpdate": "2017-10-25+17:12:13.28",
    "contentFile": "PD9waHANCg0KY2xhc3MgcmVmX2ltYWdlc09iaiAgZXh0ZW5kcyBEYWZ0YXJPYmoyeyANCiAgdmFyICRQcmVmaXggPSAncmVmX2ltYWdlcyc7DQogIHZhciAkZWxDdXJyUGFnZT0iSGFsRGVmYXVsdCI7DQogIHZhciAkU0hPV19DRUsgPSBUUlVFOw0KICB2YXIgJFRibE5hbWUgPSAnaW1hZ2VzJzsgLy9ib251cw0KICB2YXIgJFRibE5hbWVfSGFwdXMgPSAnaW1hZ2VzJzsNCiAgdmFyICRNYXhGbHVzaCA9IDEwOw0KICB2YXIgJFRibFN0eWxlID0gYXJyYXkoICdrb3B0YWJsZScsICdjZXRhaycsJ2NldGFrJyk7IC8vYmVyZGFzYXIgbW9kZQ0KICB2YXIgJENvbFN0eWxlID0gYXJyYXkoICdHYXJpc0RhZnRhcicsICdHYXJpc0NldGFrJywnR2FyaXNDZXRhaycpOw0KICB2YXIgJEtleUZpZWxkcyA9IGFycmF5KCdpZCcpOyAvL3ByaW1hcnkga2V5IGRhcmkgc2VidWFoIHRhYmxlDQogIHZhciAkRmllbGRTdW0gPSBhcnJheSgpOy8vYXJyYXkoJ2ptbF9oYXJnYScpOw0KICB2YXIgJFN1bVZhbHVlID0gYXJyYXkoKTsNCiAgdmFyICRGaWVsZFN1bV9DcDEgPSBhcnJheSggMTQsIDEzLCAxMyk7Ly9iZXJkYXNhciBtb2RlDQogIHZhciAkRmllbGRTdW1fQ3AyID0gYXJyYXkoIDEsIDEsIDEpOyAgDQogIHZhciAkY2hlY2tib3hfcm93c3BhbiA9IDI7DQogIHZhciAkUGFnZVRpdGxlID0gJ1JFRkVSRU5TSSBBUlNJUCc7DQogIHZhciAkUGFnZUljb24gPSAnaW1hZ2VzL21hc3RlcmRhdGFfaWNvLmdpZic7DQogIHZhciAkcGFnZVBlckhhbCA9Jyc7DQogIC8vdmFyICRjZXRha194bHM9VFJVRSA7DQogIHZhciAkZmlsZU5hbWVFeGNlbD0ncmVmX2ltYWdlcy54bHMnOw0KICB2YXIgJG5hbWFNb2R1bENldGFrPSdNQVNURVIgREFUQSc7DQogIHZhciAkQ2V0YWtfSnVkdWwgPSAncmVmX2ltYWdlcyc7IA0KICB2YXIgJENldGFrX01vZGU9MjsNCiAgdmFyICRDZXRha19XSURUSCA9ICczMGNtJzsNCiAgdmFyICRDZXRha19PdGhlckhUTUxIZWFkOw0KICB2YXIgJEZvcm1OYW1lID0gJ3JlZl9pbWFnZXNGb3JtJzsNCiAgdmFyICRub01vZHVsPTk7IA0KICB2YXIgJFRhbXBpbEZpbHRlckNvbGFwc2UgPSAwOyAvLzANCiAgdmFyICR1c2VybmFtZSA9ICIiOw0KICANCiAgZnVuY3Rpb24gc2V0VGl0bGUoKXsNCiAgICByZXR1cm4gJ0lNQUdFUyBNQU5BR0VNRU5UJzsNCiAgfQ0KICANCiAgZnVuY3Rpb24gc2V0TWVudUVkaXQoKXsNCiAgICAkZ2V0VXNlckluZm8gPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSBhZG1pbiB3aGVyZSB1aWQgPSckdGhpcy0+dXNlcm5hbWUnIikpOw0KICAgIGZvcmVhY2ggKCRnZXRVc2VySW5mbyBhcyAka2V5ID0+ICR2YWx1ZSkgeyANCiAgICAgICAgJCRrZXkgPSAkdmFsdWU7IA0KICAgICAgfSANCiAgICANCiAgICAgIHJldHVybg0KICAgICAgICAgICAgICAgICAgIjx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5VcGxvYWQoKSIsInVwbG9hZC5wbmciLCJVcGxvYWQiLCAnVXBsb2FkJykuIjwvdGQ+Ii4NCiAgICAgICAgIjx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5CYXJ1KCkiLCJzZWN0aW9ucy5wbmciLCJCYXJ1IiwgJ0JhcnUnKS4iPC90ZD4iLg0KDQogICAgICAgICI8dGQ+Ii5nZW5QYW5lbEljb24oImphdmFzY3JpcHQ6Ii4kdGhpcy0+UHJlZml4LiIuRWRpdCgpIiwiZWRpdF9mMi5wbmciLCJFZGl0IiwgJ0VkaXQnKS4iPC90ZD4iLg0KICAgICAgICAiPHRkPiIuZ2VuUGFuZWxJY29uKCJqYXZhc2NyaXB0OiIuJHRoaXMtPlByZWZpeC4iLkhhcHVzKCkiLCJkZWxldGVfZjIucG5nIiwiSGFwdXMiLCAnSGFwdXMnKS4iPC90ZD4iOyANCg0KICB9DQogIA0KICBmdW5jdGlvbiBzZXRNZW51Vmlldygpew0KICAgIHJldHVybiAiIjsNCiAgICAgIA0KICB9DQogIA0KICAgIA0KICANCiAgZnVuY3Rpb24gc2ltcGFuRWRpdCgpew0KICAgZ2xvYmFsICRIVFRQX0NPT0tJRV9WQVJTOw0KICAgZ2xvYmFsICRNYWluOw0KICAgJHVpZCA9ICRIVFRQX0NPT0tJRV9WQVJTWydjb0lEJ107DQogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOw0KICAgLy9nZXQgZGF0YSAtLS0tLS0tLS0tLS0tLS0tLQ0KICAgJGZtU1QgPSAkX1JFUVVFU1RbJHRoaXMtPlByZWZpeC4nX2ZtU1QnXTsNCiAgICRpZHBsaCA9ICRfUkVRVUVTVFskdGhpcy0+UHJlZml4LidfaWRwbGgnXTsNCiAgDQogICRkaz0gJF9SRVFVRVNUWydrJ107DQogICRkbD0gJF9SRVFVRVNUWydsJ107DQogICRkbT0gJF9SRVFVRVNUWydtJ107DQogICRkbj0gJF9SRVFVRVNUWyduJ107DQogICRkbz0gJF9SRVFVRVNUWydvJ107DQogICRuYW1hPSAkX1JFUVVFU1RbJ25tXyddOw0KICANCg0KICAvLyRrZSA9IHN1YnN0cigka2UsMSwxKTsNCiAgDQogICAgICAgICAgICAgICAgDQogIGlmKCRlcnI9PScnKXsgICAgICAgICAgIA0KICAgIA0KICAkYXFyeSA9ICJVUERBVEUgIHNldCBrPSckZGsnLGw9JyRkbCcsbT0nJGRtJyxuPSckZG4nLG89JyRkbycsbm1fPSckbmFtYScgd2hlcmUgY29uY2F0IChrLCcgJyxsLCcgJyxtLCcgJyxuLCcgJyxvKT0nIi4kaWRwbGguIiciOyRjZWsgLj0gJGFxcnk7DQogICAgICAgICAgICAkcXJ5ID0gbXlzcWxfcXVlcnkoJGFxcnkpOw0KICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOyAgDQogICAgfSANCiAgDQoNCiAgDQogIGZ1bmN0aW9uIHNpbXBhbigpew0KICAgZ2xvYmFsICRIVFRQX0NPT0tJRV9WQVJTOw0KICAgZ2xvYmFsICRNYWluOw0KICAgJHVpZCA9ICRIVFRQX0NPT0tJRV9WQVJTWydjb0lEJ107DQogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOw0KICAvL2dldCBkYXRhIC0tLS0tLS0tLS0tLS0tLS0tDQogICAkZm1TVCA9ICRfUkVRVUVTVFskdGhpcy0+UHJlZml4LidfZm1TVCddOw0KICAgJGlkcGxoID0gJF9SRVFVRVNUWyR0aGlzLT5QcmVmaXguJ19pZHBsaCddOw0KICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7IA0KICAgICAgICAgICQka2V5ID0gJHZhbHVlOyANCiAgICAgICAgfQ0KICAgIGlmKGVtcHR5KCRuYW1hKSkkZXJyID0gIklzaSBOQU1BIjsNCiAgICAgIGlmKCRmbVNUID09IDApew0KICAgICAgICBpZigkZXJyID09ICcnKXsNCg0KJGdldGthdGVnb3JpID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoIlNFTEVDVCAqIEZST00ga2F0ZWdvcmlfYXJzaXAgV0hFUkUgaWQ9JyRjbWJLYXRlZ29yaSciKSk7DQokbmFtYV9maWxlID0gJF9GSUxFU1sndXBsb2FkJ11bJ25hbWUnXTsNCiRmaWxlX3RtcCA9ICRfRklMRVNbJ3VwbG9hZCddWyd0bXBfbmFtZSddOw0KDQptb3ZlX3VwbG9hZGVkX2ZpbGUoJGZpbGVfdG1wLCAkZ2V0a2F0ZWdvcmlbJ25hbWFfa2F0ZWdvcmknXS4nLycuJG5hbWFfZmlsZSk7DQoNCiAgICAgICAgICAkZGF0YSA9IGFycmF5KA0KICAgICAgICAgICAgICAgICAgJ25hbWEnID0+ICRuYW1hLA0KICAgICAgICAgICAgICAgICAgJ2thdGVnb3JpJyA9PiAkY21iS2F0ZWdvcmksDQogICAgICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwNCiAgICAgICAgICAgICAgICAgICd0YW5nZ2FsX3VwbG9hZCcgPT4gJHRhbmdnYWwsDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICBteXNxbF9xdWVyeShWdWxuV2Fsa2VySW5zZXJ0KCdpbWFnZXMnLCRkYXRhKSk7DQogICAgICAgICAgJGNlayA9IFZ1bG5XYWxrZXJJbnNlcnQoJ2ltYWdlcycsJGRhdGEpOw0KICAgICAgICB9DQogICAgICB9ZWxzZXsgICAgICAgICAgICANCiAgICAgICR0YW5nZ2FsX3VwZGF0ZSA9IGV4cGxvZGUoJy0nLCR0YW5nZ2FsX3VwZGF0ZSk7DQogICAgICAgICAgJGRhdGEgPSBhcnJheSgNCiAgICAgICAgICAgICAgICAgICduYW1hJyA9PiAkbmFtYSwNCiAgICAgICAgICAgICAgICAgICdrYXRlZ29yaScgPT4gJGNtYkthdGVnb3JpLA0KICAgICAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUsDQogICAgICAgICAgICAgICAgICAndGFuZ2dhbF91cGxvYWQnID0+ICR0YW5nZ2FsLA0KICAgICAgICAgICAgICAgICk7DQogICAgICAgIG15c3FsX3F1ZXJ5KFZ1bG5XYWxrZXJVcGRhdGUoJ2ltYWdlcycsJGRhdGEsIklkPSckaHVibGEnIikpOw0KICAgICAgICAkY2VrID0gVnVsbldhbGtlclVwZGF0ZSgnaW1hZ2VzJywkZGF0YSwiSWQ9JyRodWJsYSciKTsNCiAgICAgIH0gDQogICAgICAgICAgJGNlayA9JG5hbWFfZmlsZTsNCiAgICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCk7ICANCiAgICB9IA0KICANCiAgZnVuY3Rpb24gc2V0X3NlbGVjdG9yX290aGVyMigkdGlwZSl7DQogICBnbG9iYWwgJE1haW47DQogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOw0KICAgIA0KICAgcmV0dXJuIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQsICdqc29uJz0+JGpzb24pOw0KICB9DQogIA0KICBmdW5jdGlvbiBzZXRfc2VsZWN0b3Jfb3RoZXIoJHRpcGUpew0KICAgZ2xvYmFsICRNYWluOw0KICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgJGpzb249VFJVRTsNCiAgICANCiAgICBzd2l0Y2goJHRpcGUpew0KDQogICAgY2FzZSAnZ2V0ZGF0YSc6ew0KICAgICAgICAkSWQgPSAkX1JFUVVFU1RbJ2lkJ107DQogICAgICAgICRrID0gc3Vic3RyKCRJZCwgMCwxKTsNCiAgICAgICAgJGwgPSBzdWJzdHIoJElkLCAyLDEpOw0KICAgICAgICAkbSA9IHN1YnN0cigkSWQsIDQsMSk7DQogICAgICAgICRuID0gc3Vic3RyKCRJZCwgNiwyKTsNCiAgICAgICAgJG8gPSBzdWJzdHIoJElkLCA5LDIpOw0KICAgICAgICAkZ2V0ID0gbXlzcWxfZmV0Y2hfYXJyYXkoIG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiwgY29uY2F0KGssJy4nLGwsJy4nLG0sJy4nLG4sJy4nLG8pIGFzIGtvZGUgIGZyb20gIHdoZXJlIGs9JyRrJyBBTkQgbD0nJGwnIEFORCBtPSckbScgQU5EIG49JyRuJyBBTkQgbz0nJG8nIikpOw0KICAgICAgDQogICAgICAgIA0KICAgICAgICAkY29udGVudCA9IGFycmF5KCdrb2RlXycgPT4gJGdldFsna29kZSddLCAnbm1fJyA9PiAkZ2V0WydubV8nXSk7DQogICAgICAgICAgDQogICAgICAgIA0KICAgIGJyZWFrOw0KICAgICAgfQ0KICAgIA0KICAgIGNhc2UgJ21vZHVsJzp7DQogICAgICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgeyANCiAgICAgICAgICAkJGtleSA9ICR2YWx1ZTsgDQogICAgICAgIH0NCiAgICAgICAgbXlzcWxfcXVlcnkoImRlbGV0ZSBmcm9tIHRlbXBfcmluY2lhbl9hcGxpa2FzaV9wZW1kYSB3aGVyZSB1c2VybmFtZSA9ICckdGhpcy0+dXNlcm5hbWUnIik7ICANCiAgICAgICAgJGlkUGVuZ2d1bmFBcGxpa2FzaSA9ICRfY2JbMF07DQogICAgICAgICRnZXRJZEFwbGlrYXNpID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gJHRoaXMtPlRibE5hbWUgd2hlcmUgaWQgPSAnJGlkUGVuZ2d1bmFBcGxpa2FzaSciKSk7DQogICAgICAgICRpZEFwbGlrYXNpID0gJGdldElkQXBsaWthc2lbJ2lkX2FwbGlrYXNpJ107DQogICAgICAgICRncmFiaW5nQWxsU3ViTW9kdWwgPSBteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSByZWZfYXBsaWthc2kgd2hlcmUga29kZV9hcGxpa2FzaSA9ICckaWRBcGxpa2FzaScgYW5kIGtvZGVfbW9kdWwgIT0gJzAnIGFuZCBrb2RlX3N1Yl9tb2R1bCAhPScwJyIpOw0KICAgICAgICB3aGlsZSgkcm93cyA9IG15c3FsX2ZldGNoX2FycmF5KCRncmFiaW5nQWxsU3ViTW9kdWwpKXsNCiAgICAgICAgICAgIGZvcmVhY2ggKCRyb3dzIGFzICRrZXkgPT4gJHZhbHVlKSB7IA0KICAgICAgICAgICAgJCRrZXkgPSAkdmFsdWU7IA0KICAgICAgICAgIH0NCiAgICAgICAgICANCiAgICAgICAgICBpZihteXNxbF9udW1fcm93cyhteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSByaW5jaWFuX2FwbGlrYXNpX3BlbWRhIHdoZXJlIGlkX2FwbGlrYXNpX3BlbWRhPSAnJGlkUGVuZ2d1bmFBcGxpa2FzaScgYW5kIGlkX3BlbWRhID0gJyIuJGdldElkQXBsaWthc2lbJ2lkX3BlbWRhJ10uIicgYW5kIGlkX2FwbGlrYXNpID0gJyRrb2RlX2FwbGlrYXNpJyBhbmQgaWRfbW9kdWwgPSAnJGtvZGVfbW9kdWwnIGFuZCBpZF9zdWJfbW9kdWwgPSAnJGtvZGVfc3ViX21vZHVsJyIpKSAhPSAwKXsNCiAgICAgICAgICAgICRzdGF0dXMgPSAiY2hlY2tlZCI7DQogICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAkc3RhdHVzID0gIiI7DQogICAgICAgICAgfQ0KICAgICAgICAgICAgJGRhdGEgPSBhcnJheSggIA0KICAgICAgICAgICAgICAgICAgJ2lkX2FwbGlrYXNpX3BlbWRhJyA9PiAkaWRQZW5nZ3VuYUFwbGlrYXNpLA0KICAgICAgICAgICAgICAgICAgJ2lkX3BlbWRhJyA9PiAkZ2V0SWRBcGxpa2FzaVsnaWRfcGVtZGEnXSwNCiAgICAgICAgICAgICAgICAgICdpZF9hcGxpa2FzaScgPT4gJGtvZGVfYXBsaWthc2ksDQogICAgICAgICAgICAgICAgICAnaWRfbW9kdWwnID0+ICRrb2RlX21vZHVsLA0KICAgICAgICAgICAgICAgICAgJ2lkX3N1Yl9tb2R1bCcgPT4gJGtvZGVfc3ViX21vZHVsLA0KICAgICAgICAgICAgICAgICAgJ3N0YXR1cycgPT4gJHN0YXR1cywNCiAgICAgICAgICAgICAgICAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lLA0KICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICBteXNxbF9xdWVyeShWdWxuV2Fsa2VySW5zZXJ0KCJ0ZW1wX3JpbmNpYW5fYXBsaWthc2lfcGVtZGEiLCRkYXRhKSk7DQogICAgICAgICAgJGNlayA9InNlbGVjdCAqIGZyb20gcmluY2lhbl9hcGxpa2FzaV9wZW1kYSB3aGVyZSBpZF9hcGxpa2FzaV9wZW1kYT0gJyRpZFBlbmdndW5hQXBsaWthc2knIGFuZCBpZF9wZW1kYSA9ICciLiRnZXRJZEFwbGlrYXNpWydpZF9wZW1kYSddLiInIGFuZCBpZF9hcGxpa2FzaSA9ICcka29kZV9hcGxpa2FzaScgYW5kIGlkX21vZHVsID0gJyRrb2RlX21vZHVsJyBhbmQgaWRfc3ViX21vZHVsID0gJyRrb2RlX3N1Yl9tb2R1bCciOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAkY29udGVudCA9IGFycmF5KCdpZEFwbGlrYXNpJz0+JGlkQXBsaWthc2kpOw0KICAgIGJyZWFrOw0KICAgICAgfQ0KDQogICAgY2FzZSAnZm9ybUJhcnVTdWJNb2R1bCc6eyAgICAgDQogICAgICAgICRpZF9rYXRlZ29yaSA9ICRfUkVRVUVTVFsnaWRfa2F0ZWdvcmknXTsNCiAgICAgICAgJGZtID0gJHRoaXMtPnNldEZvcm1CYXJ1U3ViTW9kdWwoJGlkX2thdGVnb3JpKTsgICAgICAgIA0KICAgICAgICAkY2VrID0gJGZtWydjZWsnXTsNCiAgICAgICAgJGVyciA9ICRmbVsnZXJyJ107DQogICAgICAgICRjb250ZW50ID0gJGZtWydjb250ZW50J107ICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICBicmVhazsNCiAgICB9DQoNCiAgICBjYXNlICdzaW1wYW5QZW1kYSc6ew0KICAgICAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsgDQogICAgICAgICAgJCRrZXkgPSAkdmFsdWU7IA0KICAgICAgICB9DQogICAgICAgIGlmKG15c3FsX251bV9yb3dzKG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9wZW1kYSB3aGVyZSBuYW1hX3BlbWRhID0gJyRuYW1hUGVtZGEnIikpID4gMCl7DQogICAgICAgICAgJGVyciA9ICJQZW1kYSBTdWRhaCBBZGEiOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAkZGF0YSA9IGFycmF5KCduYW1hX3BlbWRhJyA9PiAkbmFtYVBlbWRhKTsNCiAgICAgICAgICBteXNxbF9xdWVyeShWdWxuV2Fsa2VySW5zZXJ0KCdyZWZfcGVtZGEnLCRkYXRhKSk7DQogICAgICAgICAgJGlkbnlhID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3BlbWRhIHdoZXJlIG5hbWFfcGVtZGEgPSAnJG5hbWFQZW1kYSciKSk7DQogICAgICAgICAgJGNvbnRlbnQgPSBhcnJheSgncmVwbGFjZXInID0+IGNtYlF1ZXJ5KCdjbWJQZW1kYScsJGlkbnlhWydpZCddLCJzZWxlY3QgaWQsbmFtYV9wZW1kYSBmcm9tIHJlZl9wZW1kYSIsJ3N0eWxlPSJ3aWR0aDo1MDA7IicsJy0tIFBpbGloIFBlbWRhIC0tJykgKTsNCiAgICAgICAgfQ0KICAgIGJyZWFrOw0KICAgIH0NCiAgICANCiAgICBjYXNlICdzaW1wYW5BcGxpa2FzaSc6ew0KICAgICAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsgDQogICAgICAgICAgJCRrZXkgPSAkdmFsdWU7IA0KICAgICAgICB9DQogICAgICAgIGlmKG15c3FsX251bV9yb3dzKG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9hcGxpa2FzaSB3aGVyZSBuYW1hX3BlbWRhID0gJyRuYW1hQXBsaWthc2knIikpID4gMCl7DQogICAgICAgICAgJGVyciA9ICJBcGxpa2FzaSBTdWRhaCBBZGEiOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAkZGF0YSA9IGFycmF5KCduYW1hX2FwbGlrYXNpJyA9PiAkbmFtYUFwbGlrYXNpKTsNCiAgICAgICAgICBteXNxbF9xdWVyeShWdWxuV2Fsa2VySW5zZXJ0KCdyZWZfYXBsaWthc2knLCRkYXRhKSk7DQogICAgICAgICAgJGlkbnlhID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX2FwbGlrYXNpIHdoZXJlIG5hbWFfYXBsaWthc2kgPSAnJG5hbWFBcGxpa2FzaSciKSk7DQogICAgICAgICAgJGNvbnRlbnQgPSBhcnJheSgncmVwbGFjZXInID0+IGNtYlF1ZXJ5KCdjbWJQZW1kYScsJGlkbnlhWydpZCddLCJzZWxlY3QgaWQsbmFtYV9hcGxpa2FzaSBmcm9tIHJlZl9hcGxpa2FzaSIsJ3N0eWxlPSJ3aWR0aDo1MDA7IicsJy0tIFBpbGloIEFwbGlrYXNpIC0tJykgKTsNCiAgICAgICAgfQ0KICAgIGJyZWFrOw0KICAgIH0NCiAgICANCiAgICBjYXNlICdlZGl0UGVtZGEnOnsNCiAgICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7IA0KICAgICAgICAgICQka2V5ID0gJHZhbHVlOyANCiAgICAgICAgfQ0KICAgICAgICAkZGF0YSA9IGFycmF5KCduYW1hX3BlbWRhJyA9PiAkbmFtYVBlbWRhKTsNCiAgICAgICAgbXlzcWxfcXVlcnkoVnVsbldhbGtlclVwZGF0ZSgicmVmX3BlbWRhIiwkZGF0YSwiaWQ9JyRpZCciKSk7DQogICAgICAgICRpZG55YSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9wZW1kYSB3aGVyZSBuYW1hX3BlbWRhID0gJyRuYW1hUGVtZGEnIikpOw0KICAgICAgICAkY29udGVudCA9IGFycmF5KCdyZXBsYWNlcicgPT4gY21iUXVlcnkoJ2NtYlBlbWRhJywkaWRueWFbJ2lkJ10sInNlbGVjdCBpZCxuYW1hX3BlbWRhIGZyb20gcmVmX3BlbWRhIiwnc3R5bGU9IndpZHRoOjUwMDsiJywnLS0gUGlsaWggUGVtZGEgLS0nKSApOw0KICAgIGJyZWFrOw0KICAgIH0NCiAgICBjYXNlICdlZGl0QXBsaWthc2knOnsNCiAgICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7IA0KICAgICAgICAgICQka2V5ID0gJHZhbHVlOyANCiAgICAgICAgfQ0KICAgICAgICAkZGF0YSA9IGFycmF5KCduYW1hX2FwbGlrYXNpJyA9PiAkbmFtYUFwbGlrYXNpKTsNCiAgICAgICAgbXlzcWxfcXVlcnkoVnVsbldhbGtlclVwZGF0ZSgicmVmX2FwbGlrYXNpIiwkZGF0YSwiaWQ9JyRpZCciKSk7DQogICAgICAgICRpZG55YSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9hcGxpa2FzaSB3aGVyZSBuYW1hX2FwbGlrYXNpID0gJyRuYW1hQXBsaWthc2knIikpOw0KICAgICAgICAkY29udGVudCA9IGFycmF5KCdyZXBsYWNlcicgPT4gY21iUXVlcnkoJ2NtYkFwbGlrYXNpJywkaWRueWFbJ2lkJ10sInNlbGVjdCBpZCxuYW1hX2FwbGlrYXNpIGZyb20gcmVmX2FwbGlrYXNpIiwnc3R5bGU9IndpZHRoOjUwMDsiJywnLS0gUGlsaWggQXBsaWthc2kgLS0nKSApOw0KICAgIGJyZWFrOw0KICAgIH0NCg0KDQogICAgICANCg0KICAgIGNhc2UgJ2Zvcm1CYXJ1Jzp7ICAgICAgIA0KICAgICAgJGZtID0gJHRoaXMtPnNldEZvcm1CYXJ1KCk7ICAgICAgIA0KICAgICAgJGNlayA9ICRmbVsnY2VrJ107DQogICAgICAkZXJyID0gJGZtWydlcnInXTsNCiAgICAgICRjb250ZW50ID0gJGZtWydjb250ZW50J107ICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgYnJlYWs7DQogICAgfQ0KICAgIA0KDQogICAgDQogICAgY2FzZSAnZm9ybUJhcnVQZW1kYSc6eyAgICAgIA0KICAgICAgICAkaWRQZW1kYSA9ICRfUkVRVUVTVFsnaWRQZW1kYSddOw0KICAgICAgICAkZm0gPSAkdGhpcy0+c2V0Rm9ybUJhcnVQZW1kYSgkaWRQZW1kYSk7ICAgICAgICANCiAgICAgICAgJGNlayA9ICRmbVsnY2VrJ107DQogICAgICAgICRlcnIgPSAkZm1bJ2VyciddOw0KICAgICAgICAkY29udGVudCA9ICRmbVsnY29udGVudCddOyAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgYnJlYWs7DQogICAgfQ0KICAgIGNhc2UgJ2Zvcm1CYXJ1QXBsaWthc2knOnsgICAgIA0KICAgICAgICAkaWRBcGxpa2FzaSA9ICRfUkVRVUVTVFsnaWRBcGxpa2FzaSddOw0KICAgICAgICAkZm0gPSAkdGhpcy0+c2V0Rm9ybUJhcnVBcGxpa2FzaSgkaWRBcGxpa2FzaSk7ICAgICAgICANCiAgICAgICAgJGNlayA9ICRmbVsnY2VrJ107DQogICAgICAgICRlcnIgPSAkZm1bJ2VyciddOw0KICAgICAgICAkY29udGVudCA9ICRmbVsnY29udGVudCddOyAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgYnJlYWs7DQogICAgfSAgIA0KICAgIA0KDQogICAgY2FzZSAnZm9ybUVkaXQnOnsgICAgICAgDQogICAgICAkZm0gPSAkdGhpcy0+c2V0Rm9ybUVkaXQoKTsgICAgICAgDQogICAgICAkY2VrID0gJGZtWydjZWsnXTsNCiAgICAgICRlcnIgPSAkZm1bJ2VyciddOw0KICAgICAgJGNvbnRlbnQgPSAkZm1bJ2NvbnRlbnQnXTsgICAgICAgICAgICAgICAgICAgICAgICANCiAgICBicmVhazsNCiAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgY2FzZSAnZm9ybVVwbG9hZCc6eyAgICAgICAgDQogICAgICAkZm0gPSAkdGhpcy0+c2V0Rm9ybVVwbG9hZCgpOyAgICAgICANCiAgICAgICRjZWsgPSAkZm1bJ2NlayddOw0KICAgICAgJGVyciA9ICRmbVsnZXJyJ107DQogICAgICAkY29udGVudCA9ICRmbVsnY29udGVudCddOyAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgIGJyZWFrOw0KICAgIH0NCiAgICBjYXNlICduZXdLYXRlZ29yaSc6eyAgICAgICANCiAgICAgICRmbSA9ICR0aGlzLT5zZXRGb3JtQmFydUthdGVnb3JpKCk7ICAgICAgIA0KICAgICAgJGNlayA9ICRmbVsnY2VrJ107DQogICAgICAkZXJyID0gJGZtWydlcnInXTsNCiAgICAgICRjb250ZW50ID0gJGZtWydjb250ZW50J107ICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgYnJlYWs7DQogICAgfQ0KICAgIGNhc2UgJ3NpbXBhbic6ew0KICAgICAgJGdldD0gJHRoaXMtPnNpbXBhbigpOw0KICAgICAgJGNlayA9ICRnZXRbJ2NlayddOw0KICAgICAgJGVyciA9ICRnZXRbJ2VyciddOw0KICAgICAgJGNvbnRlbnQgPSAkZ2V0Wydjb250ZW50J107DQogICAgYnJlYWs7DQogICAgICB9DQoNCiAgIGNhc2UgJ3NhdmVFZGl0S2F0ZWdvcmknOnsgDQogICAgICAgIGlmICgkX1JFUVVFU1RbJ25hbWFfa2F0ZWdvcmknXT09IiIpIHsNCiAgICAgICAgICAgJGVyciA9ICdFcnJvcic7DQogICAgICAgICAgICANCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgJGlkX2thdGVnb3JpID0gJF9SRVFVRVNUWydjbWJLYXRlZ29yaSddOyANCiAgICAgICAgICAkbmFtYV9rYXRlZ29yaSA9ICRfUkVRVUVTVFsnbmFtYV9rYXRlZ29yaSddOw0KDQogICAgICAgICAgbXlzcWxfcXVlcnkoIlVQREFURSBpbWFnZXNfa2F0ZWdvcmkgc2V0IG5hbWE9JyRuYW1hX2thdGVnb3JpJyB3aGVyZSBpZD0nJGlkX2thdGVnb3JpJyIpOw0KDQogICAgICAgICAgJGNlayA9ICJVUERBVEUga2F0ZWdvcmlfYXJzaXAgc2V0IG5hbWFfa2F0ZWdvcmk9JyRuYW1hX2thdGVnb3JpJyB3aGVyZSBpZD0nJGlkX2thdGVnb3JpJyI7DQogICAgICAgICAgJG1heCA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJTRUxFQ1QgICogZnJvbSBrYXRlZ29yaV9hcnNpcCB3aGVyZSBpZD0nJGlkX2thdGVnb3JpJyIpKTsNCiAgICAgICAgICAkZGF0YV9tYXggPSAkbWF4WydpZCddOw0KICAgICAgICAgICRjbWJLYXRlZ29yaSA9IGNtYlF1ZXJ5KCdjbWJLYXRlZ29yaScsJGtvbWJvS2F0ZWdvcmksInNlbGVjdCBpZCxuYW1hIGZyb20gaW1hZ2VzX2thdGVnb3JpIiwnLS0gU2VsZWN0IE9wdGlvbiAtLScpOw0KICAgICAgICAgICRjb250ZW50ID0gYXJyYXkoJ2NtYkthdGVnb3JpJyA9PiAkY21iS2F0ZWdvcmkgKTsgICAgIA0KICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgDQogICAgYnJlYWs7DQogICAgfQ0KDQogICAgIGNhc2UgJ1NpbXBhbkthdGVnb3JpJzp7DQogICAgICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgeyANCiAgICAgICAgICAkJGtleSA9ICR2YWx1ZTsgDQogICAgICAgIH0NCiAgICAgICAgICBpZiAoJGlkX2thdGVnb3JpICE9ICIiKSB7DQogICAgICAgICAgJHF1ZXJ5ID0gbXlzcWxfcXVlcnkoIlVQREFURSBpbWFnZXNfa2F0ZWdvcmkgc2V0IG5hbWEgPSAnJG5hbWFfa2F0ZWdvcmknIHdoZXJlIGlkID0gJyRpZF9rYXRlZ29yaScgIik7DQogICAgICAgICAgJGNtYkthdGVnb3JpID0gY21iUXVlcnkoJ2NtYkthdGVnb3JpJywkaWRfa2F0ZWdvcmksInNlbGVjdCBpZCwgbmFtYSBmcm9tIGltYWdlc19rYXRlZ29yaSAiLCctLSBQaWxpaCBLYXRlZ29yaSAtLScpOw0KICAgICAgICAgICRjb250ZW50ID0gYXJyYXkoJ3JlcGxhY2VyJz0+JGNtYkthdGVnb3JpKTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgJHF1ZXJ5ID0gbXlzcWxfcXVlcnkoIklOU0VSVCBpbnRvIGltYWdlc19rYXRlZ29yaSB2YWx1ZXMgKCcnLCckbmFtYV9rYXRlZ29yaScpIik7DQogICAgICAgICAgJGFtYmlsX2lkID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoIlNFTEVDVCBtYXgoaWQpIGZyb20gaW1hZ2VzX2thdGVnb3JpIikpOw0KICAgICAgICAgICRpZF9pbWFnZXMgPSAkYW1iaWxfaWRbJ21heChpZCknXTsNCiAgICAgICAgICAkY21iS2F0ZWdvcmkgPSBjbWJRdWVyeSgnY21iS2F0ZWdvcmknLCRpZF9pbWFnZXMsInNlbGVjdCBpZCwgbmFtYSBmcm9tIGltYWdlc19rYXRlZ29yaSAiLCctLSBQaWxpaCBLYXRlZ29yaSAtLScpOw0KICAgICAgICAgICRjb250ZW50ID0gYXJyYXkoJ3JlcGxhY2VyJz0+JGNtYkthdGVnb3JpKTsNCiAgICAgICAgfSAgICAgICAgDQogICAgICAgIA0KICAgIGJyZWFrOw0KICAgIH0NCg0KICAgICBjYXNlICdlZGl0S2F0ZWdvcmknOnsgICAgICAgDQogICAgICAgICRmbSA9ICR0aGlzLT5zZXRGb3JtZWRpdEthdGVnb3JpKCRfUkVRVUVTVFsnY21iS2F0ZWdvcmknXSk7ICAgICAgIA0KICAgICAgICAkY2VrID0gJGZtWydjZWsnXTsNCiAgICAgICAgJGVyciA9ICRmbVsnZXJyJ107DQogICAgICAgICRjb250ZW50ID0gJGZtWydjb250ZW50J107ICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICBicmVhazsNCiAgICAgIH0NCiAgICANCg0KICAgICAgDQogICAgY2FzZSAnc2ltcGFuRWRpdCc6ew0KICAgICAgJGdldD0gJHRoaXMtPnNpbXBhbkVkaXQoKTsNCiAgICAgICRjZWsgPSAkZ2V0WydjZWsnXTsNCiAgICAgICRlcnIgPSAkZ2V0WydlcnInXTsNCiAgICAgICRjb250ZW50ID0gJGdldFsnY29udGVudCddOw0KICAgIGJyZWFrOw0KICAgICB9ICANCiAgICAgICAgDQogIA0KICAgICANCiAgICAgZGVmYXVsdDp7DQogICAgICAgICRvdGhlciA9ICR0aGlzLT5zZXRfc2VsZWN0b3Jfb3RoZXIyKCR0aXBlKTsNCiAgICAgICAgJGNlayA9ICRvdGhlclsnY2VrJ107DQogICAgICAgICRlcnIgPSAkb3RoZXJbJ2VyciddOw0KICAgICAgICAkY29udGVudD0kb3RoZXJbJ2NvbnRlbnQnXTsNCiAgICAgICAgJGpzb249JG90aGVyWydqc29uJ107DQogICAgIGJyZWFrOw0KICAgICB9DQogICAgIA0KICAgfS8vZW5kIHN3aXRjaA0KICAgIA0KICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCwgJ2pzb24nPT4kanNvbik7DQogICB9DQogICANCg0KDQogIA0KICAgZnVuY3Rpb24gc2V0Rm9ybUJhcnVQZW1kYSgkaWRQZW1kYSl7DQogICAgDQogICAgJHRoaXMtPmZvcm1fZm1TVCA9IDA7DQogICAgDQogICAgJGZtID0gJHRoaXMtPkJhcnVQZW1kYSgkaWRQZW1kYSk7DQogICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRmbVsnY2VrJ10sICdlcnInPT4kZm1bJ2VyciddLCAnY29udGVudCc9PiRmbVsnY29udGVudCddKTsNCiAgfQ0KICANCiAgIGZ1bmN0aW9uIHNldEZvcm1CYXJ1QXBsaWthc2koJGlkQXBsaWthc2kpew0KICAgIA0KICAgICR0aGlzLT5mb3JtX2ZtU1QgPSAwOw0KICAgIA0KICAgICRmbSA9ICR0aGlzLT5CYXJ1QXBsaWthc2koJGlkQXBsaWthc2kpOw0KICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kZm1bJ2NlayddLCAnZXJyJz0+JGZtWydlcnInXSwgJ2NvbnRlbnQnPT4kZm1bJ2NvbnRlbnQnXSk7DQogIH0NCg0KICAgICBmdW5jdGlvbiBzZXRGb3JtQmFydUthdGVnb3JpKCl7DQogICAgDQogICAgICAkdGhpcy0+Zm9ybV9mbVNUID0gMDsNCiAgICAgIA0KICAgICAgJGZtID0gJHRoaXMtPkJhcnVLYXRlZ29yaSgpOw0KICAgICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRmbVsnY2VrJ10sICdlcnInPT4kZm1bJ2VyciddLCAnY29udGVudCc9PiRmbVsnY29udGVudCddKTsNCiAgICB9DQoNCiAgICAgICBmdW5jdGlvbiBzZXRGb3JtZWRpdEthdGVnb3JpKCRpZF9rYXRlZ29yaSl7DQogICAgDQogICAgICAkdGhpcy0+Zm9ybV9mbVNUID0gMDsNCiAgICAgIA0KICAgICAgJGZtID0gJHRoaXMtPmVkaXRLYXRlZ29yaSgkaWRfa2F0ZWdvcmkpOw0KICAgICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRmbVsnY2VrJ10sICdlcnInPT4kZm1bJ2VyciddLCAnY29udGVudCc9PiRmbVsnY29udGVudCddKTsNCiAgICB9DQogICAgDQoNCiAgZnVuY3Rpb24gQmFydVN1Yk1vZHVsKCRkdCl7DQogICBnbG9iYWwgJFNlbnN1c1RtcCwgJE1haW47DQogICANCiAgICRjZWsgPSAnJzsgJGVycj0nJzsgJGNvbnRlbnQ9Jyc7ICAgICANCiAgICRqc29uID0gVFJVRTsgIC8vJEVyck1zZyA9ICd0ZXMnOyAgICANCiAgICRmb3JtX25hbWUgPSAkdGhpcy0+UHJlZml4LidfZm9ybUtCJzsgICAgICAgIA0KICAgJHRoaXMtPmZvcm1fd2lkdGggPSA1MDA7DQogICAkdGhpcy0+Zm9ybV9oZWlnaHQgPSA4MDsNCiAgIA0KICAgaWYoIWVtcHR5KCRkdCkpew0KICAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnRWRpdCBLYXRlZ29yaSc7DQogICAgJG5hbWFTdWJNb2R1bCA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIGltYWdlc19rYXRlZ29yaSB3aGVyZSBuYW1hID0nJGR0JyIpKTsNCiAgICAkbmFtYVN1Yk1vZHVsID0gJG5hbWFTdWJNb2R1bFsnbmFtYSddOw0KICAgfWVsc2V7DQogICAgaWYgKCR0aGlzLT5mb3JtX2ZtU1Q9PTApIHsNCiAgICAkdGhpcy0+Zm9ybV9jYXB0aW9uID0gJ0thdGVnb3JpIEJhcnUnOw0KDQoNCiAgICAka2VtYW5hID0gJ1NpbXBhbkthdGVnb3JpKCknOw0KICAgIA0KICAgIH0NCiAgIH0NCiAgICANCiAgICAgIC8vYW1iaWwgZGF0YSB0cmVmZGl0ZXJ1c2thbg0KICAgICAgJHF1ZXJ5ID0gIiIgOyRjZWsgLj0kcXVlcnk7DQogICAgICAkcmVzID0gbXlzcWxfcXVlcnkoJHF1ZXJ5KTsNCiAgICANCiAgICANCiAgIC8vaXRlbXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KA0KICAgICAgDQogICAgICAnS2Vsb21wb2snID0+IGFycmF5KCANCiAgICAgICAgICAgICdsYWJlbCc9PidOYW1hIEthdGVnb3JpJywNCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTAwLCANCiAgICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nbmFtYV9rYXRlZ29yaScgaWQ9J25hbWFfa2F0ZWdvcmknIHZhbHVlPSckbmFtYVN1Yk1vZHVsJyBzdHlsZT0nd2lkdGg6MjU1cHg7JyA+DQoNCiAgICAgICAgICAgIDwvZGl2PiIsIA0KICAgICAgICAgICAgICksIA0KICAgICAgKTsNCiAgICAvL3RvbWJvbA0KICAgICR0aGlzLT5mb3JtX21lbnViYXdhaCA9DQogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1NpbXBhbicgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLnNpbXBhbk1lcmVrKCRkdCknIHRpdGxlPSdTaW1wYW4nID4iLiImbmJzcCZuYnNwIi4NCiAgICAgICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nQmF0YWwnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5DbG9zZTIoKScgPiI7DQogICAgICAgICAgICAgIA0KICAgICRmb3JtID0gJHRoaXMtPmdlbkZvcm1LQigpOw0KICAgICRjb250ZW50ID0gJGZvcm07DQogICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50KTsNCiAgfQ0KDQogIGZ1bmN0aW9uIHNldEZvcm1CYXJ1U3ViTW9kdWwoJGlkX2thdGVnb3JpKXsNCiAgICANCiAgICAkdGhpcy0+Zm9ybV9mbVNUID0gMDsNCiAgICANCiAgICAkZm0gPSAkdGhpcy0+QmFydVN1Yk1vZHVsKCRpZF9rYXRlZ29yaSk7DQogICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRmbVsnY2VrJ10sICdlcnInPT4kZm1bJ2VyciddLCAnY29udGVudCc9PiRmbVsnY29udGVudCddKTsNCiAgfQ0KICANCiAgZnVuY3Rpb24gQmFydVBlbWRhKCRkdCl7ICANCiAgIGdsb2JhbCAkU2Vuc3VzVG1wLCAkTWFpbjsNCiAgIA0KICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgICAgIA0KICAgJGpzb24gPSBUUlVFOyAgLy8kRXJyTXNnID0gJ3Rlcyc7ICAgIA0KICAgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtS0InOyAgICAgICAgDQogICAkdGhpcy0+Zm9ybV93aWR0aCA9IDUwMDsNCiAgICR0aGlzLT5mb3JtX2hlaWdodCA9IDgwOw0KICAgDQogICBpZighZW1wdHkoJGR0KSl7DQogICAgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdFZGl0IFBlbWRhJzsNCiAgICAka2VtYW5hID0gIkVkaXRQZW1kYSgkZHQpIjsNCiAgICAkbmFtYVBlbWRhID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3BlbWRhIHdoZXJlIGlkPSckZHQnIikpOw0KICAgICRuYW1hUGVtZGEgPSAkbmFtYVBlbWRhWyduYW1hX3BlbWRhJ107DQogICB9ZWxzZXsNCiAgICBpZiAoJHRoaXMtPmZvcm1fZm1TVD09MCkgew0KICAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnQmFydSBQZW1kYSc7DQogICAgJG5pcCAgID0gJyc7DQogICAgJEtBMSA9ICRfUkVRVUVTVCBbJ2ZtS0EnXTsNCiAgICAgIA0KICAgICRrZW1hbmEgPSAnU2ltcGFuUGVtZGEoKSc7DQogICAgDQogICAgfQ0KICAgfQ0KICAgIA0KICAgICAgLy9hbWJpbCBkYXRhIHRyZWZkaXRlcnVza2FuDQogICAgICAkcXVlcnkgPSAiIiA7JGNlayAuPSRxdWVyeTsNCiAgICAgICRyZXMgPSBteXNxbF9xdWVyeSgkcXVlcnkpOw0KICAgIA0KICAgIA0KICAgLy9pdGVtcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgJHRoaXMtPmZvcm1fZmllbGRzID0gYXJyYXkoDQogICAgICANCiAgICAgICdLZWxvbXBvaycgPT4gYXJyYXkoIA0KICAgICAgICAgICAgJ2xhYmVsJz0+J05hbWEgUGVtZGEnLA0KICAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4xMDAsIA0KICAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSduYW1hUGVtZGEnIGlkPSduYW1hUGVtZGEnIHZhbHVlPSckbmFtYVBlbWRhJyBzdHlsZT0nd2lkdGg6MjU1cHg7JyA+DQoNCiAgICAgICAgICAgIDwvZGl2PiIsIA0KICAgICAgICAgICAgICksIA0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgIA0KICAgICAgKTsNCiAgICAvL3RvbWJvbA0KICAgICR0aGlzLT5mb3JtX21lbnViYXdhaCA9DQogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1NpbXBhbicgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLiRrZW1hbmEnIHRpdGxlPSdTaW1wYW4nID4iLiImbmJzcCZuYnNwIi4NCiAgICAgICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nQmF0YWwnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5DbG9zZTIoKScgPiI7DQogICAgICAgICAgICAgIA0KICAgICRmb3JtID0gJHRoaXMtPmdlbkZvcm1LQigpOyAgIA0KICAgICRjb250ZW50ID0gJGZvcm07DQogICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50KTsNCiAgfQ0KDQogICBmdW5jdGlvbiBlZGl0S2F0ZWdvcmkoJGR0KXsgIA0KICAgZ2xvYmFsICRTZW5zdXNUbXAsICRNYWluOw0KICAgDQogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAgICAgDQogICAkanNvbiA9IFRSVUU7ICAvLyRFcnJNc2cgPSAndGVzJzsgICAgDQogICAkZm9ybV9uYW1lID0gJHRoaXMtPlByZWZpeC4nX2Zvcm1LQic7ICAgICAgICANCiAgICR0aGlzLT5mb3JtX3dpZHRoID0gNTAwOw0KICAgJHRoaXMtPmZvcm1faGVpZ2h0ID0gODA7DQogICANCiAgIGlmKCFlbXB0eSgkZHQpKXsNCiAgICAkdGhpcy0+Zm9ybV9jYXB0aW9uID0gJ0VkaXQgS2F0ZWdvcmknOw0KICAgICRrZW1hbmEgPSAic2F2ZUVkaXRLYXRlZ29yaSgkZHQpIjsNCiAgICAkbmFtYV9rYXRlZ29yaSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIGltYWdlc19rYXRlZ29yaSB3aGVyZSBpZD0nJGR0JyIpKTsNCiAgICAkbmFtYV9rYXRlZ29yaSA9ICRuYW1hX2thdGVnb3JpWyduYW1hJ107DQogICB9ZWxzZXsNCiAgICBpZiAoJHRoaXMtPmZvcm1fZm1TVD09MCkgew0KICAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnQmFydSBLYXRlZ29yaSc7DQogICAgJG5pcCAgID0gJyc7DQogICAgJEtBMSA9ICRfUkVRVUVTVCBbJ2ZtS0EnXTsNCiAgICAgIA0KICAgIA0KICAgIH0NCiAgIH0NCiAgICANCiAgICAgIC8vYW1iaWwgZGF0YSB0cmVmZGl0ZXJ1c2thbg0KICAgICAgJHF1ZXJ5ID0gIiIgOyRjZWsgLj0kcXVlcnk7DQogICAgICAkcmVzID0gbXlzcWxfcXVlcnkoJHF1ZXJ5KTsNCiAgICANCiAgICANCiAgIC8vaXRlbXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KA0KICAgICAgDQogICAgICAnS2Vsb21wb2snID0+IGFycmF5KCANCiAgICAgICAgICAgICdsYWJlbCc9PidOYW1hIEthdGVnb3JpJywNCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTAwLCANCiAgICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nbmFtYV9rYXRlZ29yaScgaWQ9J25hbWFfa2F0ZWdvcmknIHZhbHVlPSckbmFtYV9rYXRlZ29yaScgc3R5bGU9J3dpZHRoOjI1NXB4OycgPg0KDQogICAgICAgICAgICA8L2Rpdj4iLCANCiAgICAgICAgICAgICApLCANCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICANCiAgICAgICk7DQogICAgLy90b21ib2wNCiAgICAkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQ0KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdTaW1wYW4nIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi4ka2VtYW5hJyB0aXRsZT0nU2ltcGFuJyA+Ii4iJm5ic3AmbmJzcCIuDQogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0JhdGFsJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuQ2xvc2UyKCknID4iOw0KICAgICAgICAgICAgICANCiAgICAkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtS0IoKTsgICANCiAgICAkY29udGVudCA9ICRmb3JtOw0KICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCk7DQogIH0NCiAgDQogIGZ1bmN0aW9uIEJhcnVLYXRlZ29yaSgpeyAgDQogICBnbG9iYWwgJFNlbnN1c1RtcCwgJE1haW47DQogICANCiAgICRjZWsgPSAnJzsgJGVycj0nJzsgJGNvbnRlbnQ9Jyc7ICAgICANCiAgICRqc29uID0gVFJVRTsgIC8vJEVyck1zZyA9ICd0ZXMnOyAgICANCiAgICRmb3JtX25hbWUgPSAkdGhpcy0+UHJlZml4LidfZm9ybUtCJzsgICAgICAgIA0KICAgJHRoaXMtPmZvcm1fd2lkdGggPSA1MDA7DQogICAkdGhpcy0+Zm9ybV9oZWlnaHQgPSA4MDsNCiAgIA0KICAgIGlmICgkdGhpcy0+Zm9ybV9mbVNUPT0wKSB7DQogICAgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdCYXJ1IEthdGVnb3JpJzsNCiAgICAkbmlwICAgPSAnJzsNCiAgICAkS0ExID0gJF9SRVFVRVNUWydmbUtBJ107DQogICAgfQ0KICAgICAgLy9hbWJpbCBkYXRhIHRyZWZkaXRlcnVza2FuDQogICAgICAkcXVlcnkgPSAiIiA7JGNlayAuPSRxdWVyeTsNCiAgICAgICRyZXMgPSBteXNxbF9xdWVyeSgkcXVlcnkpOw0KICAgIA0KICAgLy9pdGVtcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgJHRoaXMtPmZvcm1fZmllbGRzID0gYXJyYXkoDQogICAgICANCiAgICAgICdLZWxvbXBvaycgPT4gYXJyYXkoIA0KICAgICAgICAgICAgJ2xhYmVsJz0+J05hbWEgS2F0ZWdvcmknLA0KICAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4xMDAsIA0KICAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSduYW1hX2thdGVnb3JpJyBpZD0nbmFtYV9rYXRlZ29yaScgc3R5bGU9J3dpZHRoOjI1NXB4OycgPg0KDQogICAgICAgICAgICA8L2Rpdj4iLCANCiAgICAgICAgICAgICApLCANCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICANCiAgICAgICk7DQogICAgLy90b21ib2wNCiAgICAkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQ0KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdTaW1wYW4nIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5TaW1wYW5LYXRlZ29yaSgpJyB0aXRsZT0nU2ltcGFuJyA+Ii4iJm5ic3AmbmJzcCIuDQogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0JhdGFsJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuQ2xvc2UyKCknID4iOw0KICAgICAgICAgICAgICANCiAgICAkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtS0IoKTsgICANCiAgICAkY29udGVudCA9ICRmb3JtOw0KICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCk7DQogIH0NCg0KDQogIGZ1bmN0aW9uIEJhcnVBcGxpa2FzaSgkZHQpeyANCiAgIGdsb2JhbCAkU2Vuc3VzVG1wLCAkTWFpbjsNCiAgIA0KICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgICAgIA0KICAgJGpzb24gPSBUUlVFOyAgLy8kRXJyTXNnID0gJ3Rlcyc7ICAgIA0KICAgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtS0InOyAgICAgICAgDQogICAkdGhpcy0+Zm9ybV93aWR0aCA9IDUwMDsNCiAgICR0aGlzLT5mb3JtX2hlaWdodCA9IDgwOw0KICAgDQogICBpZighZW1wdHkoJGR0KSl7DQogICAgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdFZGl0IEFwbGlrYXNpJzsNCiAgICAka2VtYW5hID0gIkVkaXRBcGxpa2FzaSgkZHQpIjsNCiAgICAkbmFtYUFwbGlrYXNpID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX2FwbGlrYXNpIHdoZXJlIGlkPSckZHQnIikpOw0KICAgICRuYW1hQXBsaWthc2kgPSAkbmFtYUFwbGlrYXNpWyduYW1hX2FwbGlrYXNpJ107DQogICB9ZWxzZXsNCiAgICBpZiAoJHRoaXMtPmZvcm1fZm1TVD09MCkgew0KICAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnQmFydSBBcGxpa2FzaSc7DQogICAgJG5pcCAgID0gJyc7DQoNCiAgICAgIA0KICAgICRrZW1hbmEgPSAnU2ltcGFuQXBsaWthc2koKSc7DQogICAgDQogICAgfQ0KICAgfQ0KICAgIA0KICAgICAgLy9hbWJpbCBkYXRhIHRyZWZkaXRlcnVza2FuDQogICAgICAkcXVlcnkgPSAiIiA7JGNlayAuPSRxdWVyeTsNCiAgICAgICRyZXMgPSBteXNxbF9xdWVyeSgkcXVlcnkpOw0KICAgIA0KICAgIA0KICAgLy9pdGVtcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgJHRoaXMtPmZvcm1fZmllbGRzID0gYXJyYXkoDQogICAgICANCiAgICAgICdLZWxvbXBvaycgPT4gYXJyYXkoIA0KICAgICAgICAgICAgJ2xhYmVsJz0+J05hbWEgQXBsaWthc2knLA0KICAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4xMDAsIA0KICAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSduYW1hQXBsaWthc2knIGlkPSduYW1hQXBsaWthc2knIHZhbHVlPSckbmFtYUFwbGlrYXNpJyBzdHlsZT0nd2lkdGg6MjU1cHg7JyA+DQoNCiAgICAgICAgICAgIDwvZGl2PiIsIA0KICAgICAgICAgICAgICksIA0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgIA0KICAgICAgKTsNCiAgICAvL3RvbWJvbA0KICAgICR0aGlzLT5mb3JtX21lbnViYXdhaCA9DQogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1NpbXBhbicgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLiRrZW1hbmEnIHRpdGxlPSdTaW1wYW4nID4iLiImbmJzcCZuYnNwIi4NCiAgICAgICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nQmF0YWwnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5DbG9zZTIoKScgPiI7DQogICAgICAgICAgICAgIA0KICAgICRmb3JtID0gJHRoaXMtPmdlbkZvcm1LQigpOyAgIA0KICAgICRjb250ZW50ID0gJGZvcm07DQogICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50KTsNCiAgfQ0KICANCiAgZnVuY3Rpb24gZ2VuRm9ybUtCKCR3aXRoRm9ybT1UUlVFLCAkcGFyYW1zPU5VTEwsICRjZW50ZXI9VFJVRSl7IA0KICAgICRmb3JtX25hbWUgPSAkdGhpcy0+UHJlZml4LidfS0Jmb3JtJzsgDQogICAgDQogICAgaWYoJHdpdGhGb3JtKXsNCiAgICAgICRmb3JtPSAiPGZvcm0gbmFtZT0nJGZvcm1fbmFtZScgaWQ9JyRmb3JtX25hbWUnIG1ldGhvZD0ncG9zdCcgYWN0aW9uPScnPiIuDQogICAgICAgIGNyZWF0ZURpYWxvZygNCiAgICAgICAgICAkZm9ybV9uYW1lLidfZGl2JywgDQogICAgICAgICAgJHRoaXMtPnNldEZvcm1fY29udGVudCgpLA0KICAgICAgICAgICR0aGlzLT5mb3JtX3dpZHRoLA0KICAgICAgICAgICR0aGlzLT5mb3JtX2hlaWdodCwNCiAgICAgICAgICAkdGhpcy0+Zm9ybV9jYXB0aW9uLA0KICAgICAgICAgICcnLA0KICAgICAgICAgICR0aGlzLT5mb3JtX21lbnViYXdhaC4NCiAgICAgICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX2lkcGxoJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9pZHBsaCcgdmFsdWU9JyR0aGlzLT5mb3JtX2lkcGxoJyA+DQogICAgICAgICAgPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX2ZtU1QnIG5hbWU9JyIuJHRoaXMtPlByZWZpeC4iX2ZtU1QnIHZhbHVlPSckdGhpcy0+Zm9ybV9mbVNUJyA+IiwNCiAgICAgICAgICAkdGhpcy0+Zm9ybV9tZW51X2Jhd2FoX2hlaWdodCwnJywkcGFyYW1zKS4NCiAgICAgICAgIjwvZm9ybT4iOw0KICAgICAgICANCiAgICB9ZWxzZXsNCiAgICAgICRmb3JtPSANCiAgICAgICAgY3JlYXRlRGlhbG9nKA0KICAgICAgICAgICRmb3JtX25hbWUuJ19kaXYnLCANCiAgICAgICAgICAkdGhpcy0+c2V0Rm9ybV9jb250ZW50KCksDQogICAgICAgICAgJHRoaXMtPmZvcm1fd2lkdGgsDQogICAgICAgICAgJHRoaXMtPmZvcm1faGVpZ2h0LA0KICAgICAgICAgICR0aGlzLT5mb3JtX2NhcHRpb24sDQogICAgICAgICAgJycsDQogICAgICAgICAgJHRoaXMtPmZvcm1fbWVudWJhd2FoLg0KICAgICAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nIi4kdGhpcy0+UHJlZml4LiJfaWRwbGgnIG5hbWU9JyIuJHRoaXMtPlByZWZpeC4iX2lkcGxoJyB2YWx1ZT0nJHRoaXMtPmZvcm1faWRwbGgnID4NCiAgICAgICAgICA8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nIi4kdGhpcy0+UHJlZml4LiJfZm1TVCcgbmFtZT0nIi4kdGhpcy0+UHJlZml4LiJfZm1TVCcgdmFsdWU9JyR0aGlzLT5mb3JtX2ZtU1QnID4iLA0KICAgICAgICAgICR0aGlzLT5mb3JtX21lbnVfYmF3YWhfaGVpZ2h0LCcnLCRwYXJhbXMNCiAgICAgICAgKTsNCiAgICB9DQogICAgDQogICAgaWYoJGNlbnRlcil7DQogICAgICAkZm9ybSA9IGNlbnRlclBhZ2UoICRmb3JtICk7ICANCiAgICB9DQogICAgcmV0dXJuICRmb3JtOw0KICB9DQoNCiAgZnVuY3Rpb24gc2V0UGFnZV9IZWFkZXJPdGhlcigpew0KICAgICAgDQogIHJldHVybiANCiAgIjx0YWJsZSB3aWR0aD1cIjEwMCVcIiBjbGFzcz1cIm1lbnViYXJcIiBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIiBib3JkZXI9XCIwXCIgc3R5bGU9J21hcmdpbjowIDAgMCAwJz4NCiAgPHRyPg0KICA8dGQgY2xhc3M9XCJtZW51ZG90dGVkbGluZVwiIHdpZHRoPVwiNDAlXCIgaGVpZ2h0PVwiMjBcIiBzdHlsZT0ndGV4dC1hbGlnbjpyaWdodCc+PEI+DQogIDxBIGhyZWY9XCJwYWdlcy5waHA\/UGc9cmVmX2FwbGlrYXNpXCIgdGl0bGU9J1JLQk1EIFBFTkdBREFBTiBNVVJOSScgPiBBUExJS0FTSSA8L2E+IHwNCiAgPEEgaHJlZj1cInBhZ2VzLnBocD9QZz1yZWZfcGVtZGFcIiB0aXRsZT0nUktCTUQgUEVOR0FEQUFOIE1VUk5JJyA+IFBFTURBIDwvYT4gfA0KICA8QSBocmVmPVwicGFnZXMucGhwP1BnPVwiIHRpdGxlPSdSS0JNRCBQRU1FTElIQVJBQU4gTVVSTkknICBzdHlsZT0nY29sb3IgOiBibHVlOycgPiBQRUdBV0FJIDwvYT4gfA0KICAmbmJzcCZuYnNwJm5ic3AgDQogIDwvdGQ+DQogIDwvdHI+DQogIDwvdGFibGU+Ig0KICA7DQogIH0NCiAgDQogIA0KICBmdW5jdGlvbiBzZXRQYWdlX090aGVyU2NyaXB0KCl7DQogICAgJGdldFVzZXJJbmZvID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gYWRtaW4gd2hlcmUgdWlkID0nJHRoaXMtPnVzZXJuYW1lJyIpKTsNCiAgICBmb3JlYWNoICgkZ2V0VXNlckluZm8gYXMgJGtleSA9PiAkdmFsdWUpIHsgDQogICAgICAgICQka2V5ID0gJHZhbHVlOyANCiAgICAgIH0gDQogICAgaWYoJGxldmVsICE9ICcxJyl7DQogICAgDQogICAgICAkc2NyaXB0bG9hZCA9IA0KICAgICAgICAgICI8c2NyaXB0Pg0KICAgICAgICAgICAgYWxlcnQoJ0Frc2VzIERpdG9sYWsnKTsNCiAgICAgICAgICAgIGhpc3RvcnkuZ28oLTEpOw0KICAgICAgICAgIDwvc2NyaXB0PiI7DQogICAgICANCiAgICB9ZWxzZXsNCiAgICAgICRzY3JpcHRsb2FkID0gDQogICAgICAgICAgIjxzY3JpcHQ+DQogICAgICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpeyANCiAgICAgICAgICAgICAgIi4kdGhpcy0+UHJlZml4LiIubG9hZGluZygpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgPC9zY3JpcHQ+IjsNCiAgICB9DQogICAgcmV0dXJuIA0KICAgICAgICI8c2NyaXB0IHNyYz0nanMvc2twZC5qcycgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48L3NjcmlwdD4NCiAgICAgICA8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPSdqcy9yZWZfaW1hZ2VzL3JlZl9pbWFnZXMuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0JyA+PC9zY3JpcHQ+DQogICAgICAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nanMvcmVmX2FwbGlrYXNpX3BlbWRhL3BvcHVwT3B0aW9uLmpzJyBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgPjwvc2NyaXB0Pg0KICAgICAgIA0KICAgICAgICIuJzxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iZGF0ZXBpY2tlci9qcXVlcnktdWkuY3NzIj4NCiAgICAgICAgPHNjcmlwdCBzcmM9ImRhdGVwaWNrZXIvanF1ZXJ5LTEuMTIuNC5qcyI+PC9zY3JpcHQ+DQogICAgICAgIDxzY3JpcHQgc3JjPSJkYXRlcGlja2VyL2pxdWVyeS11aS5qcyI+PC9zY3JpcHQ+Jy4NCiAgICAgIA0KICAgICAgJHNjcmlwdGxvYWQ7DQogIH0NCiAgDQogIGZ1bmN0aW9uIHNldEZvcm1CYXJ1KCl7DQogICAgJGNlayA9JGNiaWRbMF07ICAgICAgIA0KICAgICR0aGlzLT5mb3JtX2lkcGxoID0gJGNiaWRbMF07DQogICAgJGtvZGUgPSBleHBsb2RlKCcgJywkdGhpcy0+Zm9ybV9pZHBsaCk7DQogICAgJHRoaXMtPmZvcm1fZm1TVCA9IDA7DQogICAgJGR0WydyZWFkb25seSddPScnOw0KICAgICRmbUJJREFORyA9ICRfUkVRVUVTVFsnZm1CSURBTkcnXTsNCiAgICAkZm1LRUxPTVBPSyA9ICRfUkVRVUVTVFsnZm1LRUxPTVBPSyddOw0KICAgICRmbVNVQktFTE9NUE9LID0gJF9SRVFVRVNUWydmbVNVQktFTE9NUE9LJ107DQogICAgJGZtU1VCU1VCS0VMT01QT0sgPSAkX1JFUVVFU1RbJ2ZtU1VCU1VCS0VMT01QT0snXTsNCiAgICBpZighZW1wdHkoJGZtQklEQU5HKSAmJiBlbXB0eSgkZm1LRUxPTVBPSykgJiYgZW1wdHkoJGZtU1VCS0VMT01QT0spICYmIGVtcHR5KCRmbVNVQlNVQktFTE9NUE9LKSkNCiAgICB7DQogICAgICAkZHRbJ2tvZGVfanVybmFsJ109JGZtQklEQU5HLicuJzsNCiAgICB9DQogICAgZWxzZWlmKCFlbXB0eSgkZm1CSURBTkcpICYmICFlbXB0eSgkZm1LRUxPTVBPSykgJiYgZW1wdHkoJGZtU1VCS0VMT01QT0spICYmIGVtcHR5KCRmbVNVQlNVQktFTE9NUE9LKSkNCiAgICB7DQogICAgICAkZHRbJ2tvZGVfanVybmFsJ109JGZtQklEQU5HLicuJy4kZm1LRUxPTVBPSy4nLic7DQogICAgfQ0KICAgIGVsc2VpZighZW1wdHkoJGZtQklEQU5HKSAmJiAhZW1wdHkoJGZtS0VMT01QT0spICYmICFlbXB0eSgkZm1TVUJLRUxPTVBPSykgJiYgZW1wdHkoJGZtU1VCU1VCS0VMT01QT0spKQ0KICAgIHsNCiAgICAgICRkdFsna29kZV9qdXJuYWwnXT0kZm1CSURBTkcuJy4nLiRmbUtFTE9NUE9LLicuJy4kZm1TVUJLRUxPTVBPSy4nLic7DQogICAgfQ0KICAgIGVsc2VpZighZW1wdHkoJGZtQklEQU5HKSAmJiAhZW1wdHkoJGZtS0VMT01QT0spICYmICFlbXB0eSgkZm1TVUJLRUxPTVBPSykgJiYgIWVtcHR5KCRmbVNVQlNVQktFTE9NUE9LKSkNCiAgICB7DQogICAgICAkZHRbJ2tvZGVfanVybmFsJ109JGZtQklEQU5HLicuJy4kZm1LRUxPTVBPSy4nLicuJGZtU1VCS0VMT01QT0suJy4nLiRmbVNVQlNVQktFTE9NUE9LLicuJzsNCiAgICB9DQogICAgJGZtID0gJHRoaXMtPnNldEZvcm0oJGR0KTsgICAgDQogICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRjZWsuJGZtWydjZWsnXSwgJ2Vycic9PiRmbVsnZXJyJ10sICdjb250ZW50Jz0+JGZtWydjb250ZW50J10pOw0KICB9IA0KICAgDQogICAgZnVuY3Rpb24gc2V0Rm9ybUVkaXQoKXsNCiAgICAkY2VrID0nJzsNCiAgICANCiAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsgDQogICAgICAgICQka2V5ID0gJHZhbHVlOyANCiAgICAgIH0NCiAgICAkdGhpcy0+Zm9ybV9mbVNUID0gMTsNCiAgICANCiAgICAkZm0gPSAkdGhpcy0+c2V0Rm9ybSgkcmVmX2ltYWdlc19jYlswXSk7DQogICAgDQogICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRjZWsuJGZtWydjZWsnXSwgJ2Vycic9PiRmbVsnZXJyJ10sICdjb250ZW50Jz0+JGZtWydjb250ZW50J10pOw0KICB9IA0KDQogICAgZnVuY3Rpb24gc2V0Rm9ybVVwbG9hZCgpew0KICAgICRjZWsgPScnOw0KICAgIA0KICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgeyANCiAgICAgICAgJCRrZXkgPSAkdmFsdWU7IA0KICAgICAgfQ0KICAgICR0aGlzLT5mb3JtX2ZtU1QgPSAxOw0KICAgIA0KICAgICRmbSA9ICR0aGlzLT5zZXRVcGxvYWQoJHJlZl9pbWFnZXNfY2JbMF0pOw0KICAgIA0KICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kY2VrLiRmbVsnY2VrJ10sICdlcnInPT4kZm1bJ2VyciddLCAnY29udGVudCc9PiRmbVsnY29udGVudCddKTsNCiAgfSANCiAgDQogIGZ1bmN0aW9uIHNldEZvcm1FZGl0ZGF0YSgkZHQpeyAgDQogICBnbG9iYWwgJFNlbnN1c1RtcCAsJE1haW47DQogICANCiAgICRjZWsgPSAnJzsgJGVycj0nJzsgJGNvbnRlbnQ9Jyc7IA0KICAgJGpzb24gPSBUUlVFOyAgLy8kRXJyTXNnID0gJ3Rlcyc7DQogICAkZm9ybV9uYW1lID0gJHRoaXMtPlByZWZpeC4nX2Zvcm0nOyAgICAgICAgDQogICAkdGhpcy0+Zm9ybV93aWR0aCA9IDQ5MDsNCiAgICR0aGlzLT5mb3JtX2hlaWdodCA9IDE1MDsNCiAgICBpZiAoJHRoaXMtPmZvcm1fZm1TVD09MSkgew0KICAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnRk9STSBFRElUIEtPREUgJzsNCiAgICB9DQogICANCiAgICAkY2JpZCA9ICRfUkVRVUVTVFskdGhpcy0+UHJlZml4LidfY2InXTsNCiAgICAkdGhpcy0+Zm9ybV9pZHBsaCA9ICRjYmlkWzBdOw0KICAgICRrb2RlID0gZXhwbG9kZSgnICcsJHRoaXMtPmZvcm1faWRwbGgpOw0KICAgICR0aGlzLT5mb3JtX2ZtU1QgPSAxOyANCiAgICAkaz0ka29kZVswXTsNCiAgICAkbD0ka29kZVsxXTsNCiAgICAkbT0ka29kZVsyXTsNCiAgICAkbj0ka29kZVszXTsNCiAgICAkbz0ka29kZVs0XTsNCiAgICANCiAgICANCiAgICANCiAgICAkcXVlcnlLQWVkaXQ9bXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoIlNFTEVDVCBrLCBubV8gRlJPTSAgV0hFUkUgaz0nJGsnIGFuZCBsID0gJzAnIGFuZCBtPScwJyBhbmQgbj0nMDAnIGFuZCBvPScwMCciKSkgOw0KICAgICRjZWsuPSRxdWVyeUtBZWRpdDsNCiAgICAkcXVlcnlLQmVkaXQ9bXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoIlNFTEVDVCBsLCBubV8gRlJPTSAgV0hFUkUgaz0nJGsnIGFuZCBsPSckbCcgYW5kIG09ICcwJyBhbmQgbj0nMDAnIGFuZCBvPScwMCciKSkgOw0KICAgICRxdWVyeUtDZWRpdD1teXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgiU0VMRUNUIG0sIG5tXyBGUk9NICBXSEVSRSBrPSckaycgYW5kIGw9JyRsJyBhbmQgbT0nJG0nIGFuZCBuPScwMCcgYW5kIG89JzAwJyIpKSA7DQogICAgJHF1ZXJ5S0RlZGl0PW15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJTRUxFQ1Qgbiwgbm1fIEZST00gIFdIRVJFIGs9JyRrJyBhbmQgbD0nJGwnIGFuZCBtPSckbScgYW5kIG49JyRuJyBhbmQgbz0nMDAnIikpIDsNCiAgICAkcXVlcnlLRWVkaXQ9bXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoIlNFTEVDVCBvLCBubV8gRlJPTSAgV0hFUkUgaz0nJGsnIGFuZCBsPSckbCcgYW5kIG09JyRtJyBhbmQgbj0nJG4nIGFuZCBvPSckbyciKSkgOw0KICAvLyAgJGNlay49IlNFTEVDVCBrZSwgbm1fYWNjb3VudCBGUk9NIHJlZl9qdXJuYWwgV0hFUkUga2E9JyRkYXRhX2thJyBhbmQga2I9JyRkYXRhX2tiJyBhbmQga2M9JyRkYXRhX2tjJyBhbmQga2Q9JyRkYXRhX2tkJyBhbmQga2U9JyRkYXRhX2tlJyBhbmQga2Y9JzAnIjsNCiAgICAgICAgICANCiAgDQogICAgJGRhdGthPSRxdWVyeUtBZWRpdFsnayddLiIuICAiLiRxdWVyeUtBZWRpdFsnbm1fJ107DQogICAgJGRhdGtiPSRxdWVyeUtCZWRpdFsnbCddLiIuICIuJHF1ZXJ5S0JlZGl0WydubV8nXTsNCiAgICAkZGF0a2M9JHF1ZXJ5S0NlZGl0WydtJ10uIiAuICAiLiRxdWVyeUtDZWRpdFsnbm1fJ107DQogICAgJGRhdGtkPSRxdWVyeUtEZWRpdFsnbiddLiIuICIuJHF1ZXJ5S0RlZGl0WydubV8nXTsNCiAgICAkZGF0a2U9JHF1ZXJ5S0VlZGl0WydvJ107DQogIC8vICAkZGF0a2U9c3ByaW50ZigiJTAycyIsJHF1ZXJ5S0VlZGl0WydrZSddKS4iIC4gICIuJHF1ZXJ5S0VlZGl0WydubV9hY2NvdW50J107DQogICAgDQogICAgICAgLy9pdGVtcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAkdGhpcy0+Zm9ybV9maWVsZHMgPSBhcnJheSgNCiAgICAgIA0KICAgICAgJ2tvZGVfQWt1bicgPT4gYXJyYXkoIA0KICAgICAgICAgICAgJ2xhYmVsJz0+J2tvZGUgJywNCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTIwLCANCiAgICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZWsnIGlkPSdlaycgdmFsdWU9JyIuJGRhdGthLiInIHN0eWxlPSd3aWR0aDoyNzBweDsnIHJlYWRvbmx5Pg0KICAgICAgICAgICAgPGlucHV0IHR5cGUgPSdoaWRkZW4nIG5hbWU9J2snIGlkPSdrJyB2YWx1ZT0nIi4kcXVlcnlLQWVkaXRbJ2snXS4iJz4NCiAgICAgICAgICAgIDwvZGl2PiIsIA0KICAgICAgICAgICAgICksDQogICAgICAna29kZV9rZWxvbXBvaycgPT4gYXJyYXkoIA0KICAgICAgICAgICAgJ2xhYmVsJz0+J0tvZGUgS2Vsb21wb2snLA0KICAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4xMDAsIA0KICAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdlbCcgaWQ9J2VsJyB2YWx1ZT0nIi4kZGF0a2IuIicgc3R5bGU9J3dpZHRoOjI3MHB4OycgcmVhZG9ubHk+DQogICAgICAgICAgICA8aW5wdXQgdHlwZSA9J2hpZGRlbicgbmFtZT0nbCcgaWQ9J2wnIHZhbHVlPSciLiRxdWVyeUtCZWRpdFsnbCddLiInPg0KICAgICAgICAgICAgPC9kaXY+IiwgDQogICAgICAgICAgICAgKSwNCiAgICAgICdrb2RlX0plbmlzJyA9PiBhcnJheSggDQogICAgICAgICAgICAnbGFiZWwnPT4na29kZSBKZW5pcycsDQogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjEwMCwgDQogICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPg0KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2VtJyBpZD0nZW0nIHZhbHVlPSciLiRkYXRrYy4iJyBzdHlsZT0nd2lkdGg6MjcwcHg7JyByZWFkb25seT4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlID0naGlkZGVuJyBuYW1lPSdtJyBpZD0nbScgdmFsdWU9JyIuJHF1ZXJ5S0NlZGl0WydtJ10uIic+DQogICAgICAgICAgICA8L2Rpdj4iLCANCiAgICAgICAgICAgICApLA0KICAgICAgJ2tvZGVfT2JqZWsnID0+IGFycmF5KCANCiAgICAgICAgICAgICdsYWJlbCc9Pidrb2RlIE9iamVrJywNCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTAwLCANCiAgICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZW4nIGlkPSdlbicgdmFsdWU9JyIuJGRhdGtkLiInIHN0eWxlPSd3aWR0aDoyNzBweDsnIHJlYWRvbmx5Pg0KICAgICAgICAgICAgPGlucHV0IHR5cGUgPSdoaWRkZW4nIG5hbWU9J24nIGlkPSduJyB2YWx1ZT0nIi4kcXVlcnlLRGVkaXRbJ24nXS4iJz4NCiAgICAgICAgICAgIDwvZGl2PiIsIA0KICAgICAgICAgICAgICksDQogICAgICAnS29kZV9SaW5jaWFuX09iamVrJyA9PiBhcnJheSggDQogICAgICAgICAgICAnbGFiZWwnPT4nS29kZSBSaW5jaWFuIE9iamVrJywNCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTAwLCANCiAgICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZW8nIGlkPSdlbycgdmFsdWU9JyIuJGRhdGtlLiInIHN0eWxlPSd3aWR0aDoyMHB4OycgcmVhZG9ubHk+DQogICAgICAgICAgICA8aW5wdXQgdHlwZSA9J2hpZGRlbicgbmFtZT0nbycgaWQ9J28nIHZhbHVlPSciLiRxdWVyeUtFZWRpdFsnbyddLiInPg0KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J25tXycgaWQ9J25tXycgdmFsdWU9JyIuJGR0WydubV8nXS4iJyBzaXplPSczNnB4Jz4NCiAgICAgICAgICAgIDwvZGl2PiIsIA0KICAgICAgICAgICAgICksICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgDQogICAgIA0KICAgICAgDQogICAgICAvKidOYW1hJyA9PiBhcnJheSggDQogICAgICAgICAgICAnbGFiZWwnPT4nTmFtYScsDQogICAgICAgICAgICAvLydpZCc9Pidjb250X29iamVjdCcsDQogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjEwMCwgDQogICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdubV9hY2NvdW50JyBpZD0nbm1fYWNjb3VudCcgdmFsdWU9JyIuJGR0WydubV9hY2NvdW50J10uIicgc2l6ZT0nNDBweCc+DQogICAgICAgICAgICA8L2Rpdj4iLCANCiAgICAgICAgICAgICApLCAgICovICAgICAgICAgDQogICAgICApOw0KICAgIC8vdG9tYm9sDQogICAgJHRoaXMtPmZvcm1fbWVudWJhd2FoID0gDQogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1NpbXBhbicgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLlNpbXBhbkVkaXQoKScgdGl0bGU9J1NpbXBhbicgPiIuIiZuYnNwJm5ic3AiLg0KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdCYXRhbCcgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLkNsb3NlKCknID4iOw0KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2thJyBpZD0na2EnIHZhbHVlPSciLiRkdFsna2EnXS4iJz4iLg0KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2tiJyBpZD0na2InIHZhbHVlPSciLiRkdFsna2InXS4iJz4iLg0KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2tjJyBpZD0na2MnIHZhbHVlPSciLiRkdFsna2MnXS4iJz4iLg0KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2tkJyBpZD0na2QnIHZhbHVlPSciLiRkdFsna2QnXS4iJz4iLg0KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2tlJyBpZD0na2UnIHZhbHVlPSciLiRkdFsna2UnXS4iJz4iLg0KICAgICAgICAgICAgICANCiAgICAkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtKCk7ICAgDQogICAgJGNvbnRlbnQgPSAkZm9ybTsvLyRjb250ZW50ID0gJ2NvbnRlbnQnOw0KICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCk7DQogIH0NCg0KICBmdW5jdGlvbiBzZXRVcGxvYWQoJGR0KXsgIA0KICAgZ2xvYmFsICRTZW5zdXNUbXAgLCRNYWluOw0KICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgICAgIA0KICAgJGpzb24gPSBUUlVFOyAgLy8kRXJyTXNnID0gJ3Rlcyc7ICAgIA0KICAgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtJzsNCiAgICAgICAgDQogICR0aGlzLT5mb3JtX3dpZHRoID0gNTAwOw0KICAgJHRoaXMtPmZvcm1faGVpZ2h0ID0gMjAwOw0KICAgIGlmICgkdGhpcy0+Zm9ybV9mbVNUPT0wKSB7DQogICAgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdCYXJ1JzsNCiAgICANCiAgLy8gICRuaXAgICA9ICcnOw0KICAgIH1lbHNlew0KICAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnRWRpdCc7ICAgICANCiAgICAkcmVhZG9ubHk9J3JlYWRvbmx5JzsNCiAgICAkZ2V0ID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gaW1hZ2VzIHdoZXJlIGlkID0nJGR0JyIpKTsNCiAgICBmb3JlYWNoICgkZ2V0IGFzICRrZXkgPT4gJHZhbHVlKSB7IA0KICAgICAgICAkJGtleSA9ICR2YWx1ZTsgDQogICAgICB9IA0KICAgICR0YW5nZ2FsX3VwZGF0ZSA9IGV4cGxvZGUoIi0iLCR0YW5nZ2FsX3VwZGF0ZSk7DQogICAgJHRhbmdnYWxfdXBkYXRlID0gJHRhbmdnYWxfdXBkYXRlWzJdLiItIi4kdGFuZ2dhbF91cGRhdGVbMV0uIi0iLiR0YW5nZ2FsX3VwZGF0ZVswXTsgICAgIA0KICAgIH0NCiAgIC8vaXRlbXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICRnZXRkYXRha2F0ZWdvcmkgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgiU0VMRUNUICogRlJPTSBpbWFnZXMgd2hlcmUgaWQ9JyRpZF9rYXRlZ29yaSciKSk7DQogICAgJHRoaXMtPmZvcm1fZmllbGRzID0gYXJyYXkoDQogICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAnVXBsb2FkJyA9PiBhcnJheSggDQogICAgICAgICAgICAgICAgJ2xhYmVsJz0+J1VwbG9hZCcsDQogICAgICAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4xMDAsIA0KICAgICAgICAgICAgICAgICd2YWx1ZSc9Pg0KICAgICAgICAgICAgICAgICI8Zm9ybT48L2Zvcm0+Ii4NCiAgICAgICAgICAgICAgICAiPGZvcm0gYWN0aW9uPSdwYWdlcy5waHA\/UGc9cHJvY2Vzc3VwbG9hZGZpbGVhcnNpcCcgbWV0aG9kPSdwb3N0JyBlbmN0eXBlPSdtdWx0aXBhcnQvZm9ybS1kYXRhJyBpZD0nVXBsb2FkRm9ybSc+Ii4NCiAgICAgICAgICAgICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9J2lkJyBuYW1lPSdpZCcgdmFsdWU9JyIuJGlkLiInID4iLg0KICAgICAgICAgICAgICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9J2ZvbGRlcicgbmFtZT0nZm9sZGVyJyB2YWx1ZT0nIi4kZ2V0ZGF0YWthdGVnb3JpWyduYW1hX2thdGVnb3JpJ10uIicgPiIuDQogICAgICAgICAgICAgICAgIjxpbnB1dCBpZD0nSW1hZ2VGaWxlJyBuYW1lPSdJbWFnZUZpbGUnIHR5cGU9J2ZpbGUnICBvbmNoYW5nZT1cIiIuJHRoaXMtPlByZWZpeC4iLmJ0ZmlsZV9vbmNoYW5nZSgpO1wiIC8+Ig0KICAgICAgICAgICAgICAgICAgICAgICAgICAuIjwvZm9ybT4iLCANCiAgICAgICAgICAgICAgICApLA0KICAgICAgKTsNCiAgICANCiAgICAgICAgICAgICAgDQogICAgJGZvcm0gPSAkdGhpcy0+Z2VuRm9ybSgpOyAgIA0KICAgICRjb250ZW50ID0gJGZvcm07Ly8kY29udGVudCA9ICdjb250ZW50JzsNCiAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOw0KICB9DQogICAgDQogIGZ1bmN0aW9uIHNldEZvcm0oJGR0KXsgIA0KICAgZ2xvYmFsICRTZW5zdXNUbXAgLCRNYWluOw0KICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgICAgIA0KICAgJGpzb24gPSBUUlVFOyAgLy8kRXJyTXNnID0gJ3Rlcyc7ICAgIA0KICAgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtJzsNCiAgICAgICAgDQogICR0aGlzLT5mb3JtX3dpZHRoID0gNTAwOw0KICAgJHRoaXMtPmZvcm1faGVpZ2h0ID0gMjAwOw0KICAgIGlmICgkdGhpcy0+Zm9ybV9mbVNUPT0wKSB7DQogICAgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdCYXJ1JzsNCiAgICANCiAgLy8gICRuaXAgICA9ICcnOw0KICAgIH1lbHNlew0KICAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnRWRpdCc7ICAgICANCiAgICAkcmVhZG9ubHk9J3JlYWRvbmx5JzsNCiAgICAkZ2V0ID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gYXJzaXAgd2hlcmUgaWQgPSckZHQnIikpOw0KICAgIGZvcmVhY2ggKCRnZXQgYXMgJGtleSA9PiAkdmFsdWUpIHsgDQogICAgICAgICQka2V5ID0gJHZhbHVlOyANCiAgICAgIH0gDQogICAgJHRhbmdnYWxfdXBkYXRlID0gZXhwbG9kZSgiLSIsJHRhbmdnYWxfdXBkYXRlKTsNCiAgICAkdGFuZ2dhbF91cGRhdGUgPSAkdGFuZ2dhbF91cGRhdGVbMl0uIi0iLiR0YW5nZ2FsX3VwZGF0ZVsxXS4iLSIuJHRhbmdnYWxfdXBkYXRlWzBdOyAgICAgDQogICAgfQ0KICAgIA0KICAgICAgICAgICAgICAgJGNtYkthdGVnb3JpID0gY21iUXVlcnkoJ2NtYkthdGVnb3JpJywkbmFtYV9rYXRlZ29yaSwiU0VMRUNUIGlkLG5hbWEgZnJvbSBpbWFnZXNfa2F0ZWdvcmkgIiwnLS0gU2VsZWN0IE9wdGlvbiAtLScpOw0KICAgICAgICAgICAgICAgJGlkX3RlcmFraGlyID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoIlNFTEVDVCBtYXgoaWQpIEZST00gYXJzaXAiKSk7DQogICAvL2l0ZW1zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAkdGhpcy0+Zm9ybV9maWVsZHMgPSBhcnJheSgNCiAgICAgIA0KICAgICAgICANCiAgICAgICduYW1hJyA9PiBhcnJheSggDQogICAgICAgICAgICAnbGFiZWwnPT4nTkFNQScsDQogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjEwMCwgDQogICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPg0KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J25hbWEnIGlkPSduYW1hJyB2YWx1ZT0nIi4kbmFtYS4iJyBwbGFjZWhvbGRlcj0nTkFNQScgc3R5bGU9J3dpZHRoOjI1MHB4Oyc+DQogICAgICAgICAgICA8L2Rpdj4iLCANCiAgICAgICAgICAgICApLA0KDQogICAgICAna2F0ZWdvcmknID0+IGFycmF5KCANCiAgICAgICAgICAnbGFiZWwnPT4nS0FURUdPUkknLA0KICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTAwLCANCiAgICAgICAgICAndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPg0KICAgICAgICAgICAgJGNtYkthdGVnb3JpDQogICAgICAgICAgPGlucHV0IHR5cGU9J2J1dHRvbicgbmFtZT0nd2FybmFCYXJ1JyBpZD0nd2FybmFCYXJ1JyB2YWx1ZT0nQmFydScgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLm5ld0thdGVnb3JpKCknPg0KICAgICAgICAgIDxpbnB1dCB0eXBlPSdidXR0b24nIG5hbWU9J2VkaXQnIGlkPSdlZGl0JyB2YWx1ZT0nRWRpdCcgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLmVkaXRLYXRlZ29yaSgpJz4NCiAgICAgICAgICA8L2Rpdj4iLCANCiAgICAgICAgICApLA0KDQogICAgICAndXNlcm5hbWUnID0+IGFycmF5KA0KICAgICAgICAgICAgJ2xhYmVsJyA9PiAnVVNFUk5BTUUnLA0KICAgICAgICAgICAgJ2xhYmVsV2lkdGgnID0+IDEwMCwNCiAgICAgICAgICAgICd2YWx1ZScgPT4gIjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyByZWFkb25seSBuYW1lPSd1c2VybmFtZScgaWQ9J3VzZXJuYW1lJyB2YWx1ZT0nIi4kX0NPT0tJRVsnY29JRCddLiInDQogICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSd1c2VybmFtZScgc3R5bGU9J3dpZHRoOjI1MHB4Oyc+DQogICAgICAgICAgICA8L2Rpdj4iLA0KICAgICAgICAgICksDQoNCiAgICAgICd0YW5nZ2FsJyA9PiBhcnJheSgNCiAgICAgICAgICAgICdsYWJlbCcgPT4gJ1RBTkdHQUwnLA0KICAgICAgICAgICAgJ2xhYmVsV2lkdGgnID0+IDEwMCwNCiAgICAgICAgICAgICd2YWx1ZScgPT4gIjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSdkYXRlJyBuYW1lPSd0YW5nZ2FsJyBpZD0ndGFuZ2dhbCcgdmFsdWU9JyIuZGF0ZSgnWS1tLWQnKS4iJw0KICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0ndGFuZ2dhbCcgc3R5bGU9J3dpZHRoOjI1MHB4Oyc+DQogICAgICAgICAgICA8L2Rpdj4iLA0KICAgICAgICAgICksDQogICAgICAnaW1hZ2UnID0+IGFycmF5KA0KICAgICAgICAgICAgJ2xhYmVsJyA9PiAnSU1BR0UnLA0KICAgICAgICAgICAgJ2xhYmVsV2lkdGgnID0+IDEwMCwNCiAgICAgICAgICAgICd2YWx1ZScgPT4gIg0KICAgICAgICAgICAgPGZvcm0gYWN0aW9uPSd1cGxvYWQucGhwJyBtZXRob2Q9J3Bvc3QnIGVuY3R5cGU9J211bHRpcGFydC9mb3JtLWRhdGEnPg0KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J2ZpbGUnIG5hbWU9J2ZpbGVUb1VwbG9hZCcgaWQ9J2ZpbGVUb1VwbG9hZCcgdmFsdWU9JyIuJGZpbGVUb1VwbG9hZC4iJyBwbGFjZWhvbGRlcj0naW1hZ2UnPg0KICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZm9ybT4iLA0KICAgICAgICAgICksICAgICAgICAgICAgICAgICAgICAgDQoNCiAgICAgICk7DQogICAgLy90b21ib2wNCiAgICAkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQ0KICAgICAgDQogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1NpbXBhbicgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLlNpbXBhbigkZHQpJyB0aXRsZT0nU2ltcGFuJyA+ICZuYnNwIi4NCiAgICAgICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nQmF0YWwnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5DbG9zZSgpJyA+IjsNCiAgICAgICAgICAgICAgDQogICAgJGZvcm0gPSAkdGhpcy0+Z2VuRm9ybSgpOyAgIA0KICAgICRjb250ZW50ID0gJGZvcm07Ly8kY29udGVudCA9ICdjb250ZW50JzsNCiAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOw0KICB9DQogIA0KICAvKmZ1bmN0aW9uIHNldFBhZ2VfSGVhZGVyT3RoZXIoKXsNCiAgcmV0dXJuIA0KICAgICAgIjx0YWJsZSB3aWR0aD1cIjEwMCVcIiBjbGFzcz1cIm1lbnViYXJcIiBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIiBib3JkZXI9XCIwXCIgc3R5bGU9J21hcmdpbjowIDAgMCAwJz4NCiAgPHRyPjx0ZCBjbGFzcz1cIm1lbnVkb3R0ZWRsaW5lXCIgd2lkdGg9XCI0MCVcIiBoZWlnaHQ9XCIyMFwiIHN0eWxlPSd0ZXh0LWFsaWduOnJpZ2h0Jz48Qj4NCiAgPEEgaHJlZj1cInBhZ2VzLnBocD9QZz1yZWZfc2twZFwiIHRpdGxlPSdTa3BkJyAgPlNrcGQ8L2E+IHwgDQogIDxBIGhyZWY9XCJwYWdlcy5waHA\/UGc9XCIgdGl0bGU9Jycgc3R5bGU9J2NvbG9yOmJsdWUnICA+PC9hPiB8DQogIDxBIGhyZWY9XCJwYWdlcy5waHA\/UGc9cmVmX3NhdHVhblwiIHRpdGxlPSdTYXR1YW4nICA+U2F0dWFuPC9hPiB8DQogIDxBIGhyZWY9XCJwYWdlcy5waHA\/UGc9cmVmX2tlcGFsYV9za3BkXCIgdGl0bGU9J0tlcGFsYSBTa3BkJyAgPktlcGFsYSBTa3BkPC9hPiB8DQogIDxBIGhyZWY9XCJwYWdlcy5waHA\/UGc9cmVmX3Blbmdlc2FoYW5cIiB0aXRsZT0nUGVuZ2VzYWhhbicgICA+UGVuZ2VzYWhhbjwvYT4gfA0KICA8QSBocmVmPVwicGFnZXMucGhwP1BnPXJlZl90YXBkXCIgdGl0bGU9J1RhcGQnICAgPlRhcGQ8L2E+IHwNCiAgPEEgaHJlZj1cInBhZ2VzLnBocD9QZz1yZWZfcHJvZ3JhbVwiIHRpdGxlPSdQcm9ncmFtICYgS2VnaWF0YW4nICAgPlByb2dyYW0gJiBLZWdpYXRhbjwvYT4gfA0KICA8QSBocmVmPVwicGFnZXMucGhwP1BnPXJlZl9zdW1iZXJfZGFuYVwiIHRpdGxlPSdTdW1iZXIgRGFuYScgICA+U3VtYmVyIERhbmE8L2E+IHwNCiAgDQogIDwvdGQ+PC90cj48L3RhYmxlPiI7DQogICI8dGFibGUgd2lkdGg9XCIxMDAlXCIgY2xhc3M9XCJtZW51YmFyXCIgY2VsbHBhZGRpbmc9XCIwXCIgY2VsbHNwYWNpbmc9XCIwXCIgYm9yZGVyPVwiMFwiIHN0eWxlPSdtYXJnaW46MCAwIDAgMCc+IjsNCiAgDQogIH0qLw0KICAgIA0KICAvL2RhZnRhciA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgZnVuY3Rpb24gc2V0S29sb21IZWFkZXIoJE1vZGU9MSwgJENoZWNrYm94PScnKXsNCiAgICAkTm9tb3JDb2xTcGFuID0gJE1vZGU9PTE\/IDI6IDE7DQogICAgJGhlYWRlclRhYmxlID0NCiAgICAgICI8dGhlYWQ+DQogICAgICAgIDx0cj4NCiAgICAgICAgDQogICAgICAgIDx0aCBjbGFzcz0ndGgwMScgd2lkdGg9JzQwJz5Oby48L3RoPg0KICAgICAgICAkQ2hlY2tib3ggICANCiAgICAgICAgPHRoIGNsYXNzPSd0aDAxJyA+SUQgPC90aD4NCiAgICAgICAgPHRoIGNsYXNzPSd0aDAxJyA+TkFNQSA8L3RoPg0KICAgICAgICA8dGggY2xhc3M9J3RoMDEnID5LQVRFR09SSSA8L3RoPg0KICAgICAgICA8dGggY2xhc3M9J3RoMDEnID5VU0VSTkFNRSA8L3RoPg0KICAgICAgICA8dGggY2xhc3M9J3RoMDEnID5UQU5HR0FMIFVQTE9BRCA8L3RoPg0KICAgICAgICA8dGggY2xhc3M9J3RoMDEnID5ESVJFQ1RPUlkgPC90aD4NCiAgICAgICAgPC90cj4NCiAgICAgICAgDQogICAgICA8L3RoZWFkPiI7DQogICAgcmV0dXJuICRoZWFkZXJUYWJsZTsNCiAgfQ0KICANCiAgZnVuY3Rpb24gc2V0S29sb21EYXRhKCRubywgJGlzaSwgJE1vZGUsICRUYW1waWxDaGVja0JveCl7DQogICRxdWVyeSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJTRUxFQ1QgKiBmcm9tIGthdGVnb3JpX2Fyc2lwIHdoZXJlIGlkPSciLiRpc2lbJ2lkX2thdGVnb3JpJ10uIiciKSk7DQogICAgDQogICBpZigkaXNpWydmaWxlJ10gIT0gJycpew0KICAgICRmaWxlMiA9ICI8YSBkb3dubG9hZD0nIi4kaXNpWydmaWxlJ10uIicgaHJlZj0nTWVkaWEvIi4gJHF1ZXJ5WyduYW1hX2thdGVnb3JpJ10uIi8iLiRpc2lbJ2ZpbGUnXS4iJyB0aXRsZT0nS2xpayBVbnR1ayBEb3dubG9hZCc+RE9XTkxPQUQgQVJTSVA8L2E+IjsNCiAgICANCiAgIH1lbHNlew0KICAgICRmaWxlMj0iIjsNCiAgIH0NCg0KICAgIGdsb2JhbCAkUmVmOw0KICAgICRLb2xvbXMgPSBhcnJheSgpOw0KICAgICRLb2xvbXNbXSA9IGFycmF5KCdhbGlnbj1yaWdodCcsICRuby4nLicgKTsNCiAgICBpZiAoJE1vZGUgPT0gMSkgJEtvbG9tc1tdID0gYXJyYXkoIiBhbGlnbj0nY2VudGVyJyAgIiwgJFRhbXBpbENoZWNrQm94KTsNCiAgICAkbmFtYV9rYXRlZ29yaSA9ICRxdWVyeVsnbmFtYV9rYXRlZ29yaSddOw0KICAgICRLb2xvbXNbXSA9IGFycmF5KCcnLCAkaXNpWydpZCddKTsNCiAgICAkS29sb21zW10gPSBhcnJheSgnJywgJGlzaVsnbmFtYSddKTsNCiAgICAkc3FsX2ltYWdlc19rID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoIlNFTEVDVCAqIGZyb20gaW1hZ2VzIikpOw0KICAgICRnZXRfaW1hZ2VzX2sgPSAkc3FsX2ltYWdlc19rWydrYXRlZ29yaSddOw0KICAgICRzcWxfaW1hZ2VzX24gPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgiU0VMRUNUICogZnJvbSBpbWFnZXNfa2F0ZWdvcmkgd2hlcmUgaWQgPSAnIi4kZ2V0X2ltYWdlc19rLiInICIpKTsNCiAgICAkS29sb21zW10gPSBhcnJheSgnJywgJHNxbF9pbWFnZXNfblsnbmFtYSddKTsNCiAgICAkS29sb21zW10gPSBhcnJheSgnJywgJGlzaVsndXNlcm5hbWUnXSk7DQogICAgJEtvbG9tc1tdID0gYXJyYXkoJycsICRpc2lbJ3RhbmdnYWxfdXBsb2FkJ10pOw0KICAgICRLb2xvbXNbXSA9IGFycmF5KCcnLCAkaXNpWydkaXJlY3RvcnknXSk7DQogICAgDQogICAgJEtvbG9tc1tdID0gYXJyYXkoJycsICRmaWxlMik7ICAgIA0KICAgIHJldHVybiAkS29sb21zOw0KICB9DQogIA0KICBmdW5jdGlvbiBnZW5EYWZ0YXJPcHNpKCl7DQogICBnbG9iYWwgJFJlZiwgJE1haW47DQogICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsgDQogICAgICAgICAgJCRrZXkgPSAkdmFsdWU7IA0KICAgICAgICB9DQogICRmbVBJTENBUkkgPSAkX1JFUVVFU1RbJ2ZtUElMQ0FSSSddOyAgDQogICRmbVBJTENBUkl2YWx1ZSA9ICRfUkVRVUVTVFsnZm1QSUxDQVJJdmFsdWUnXTsgICAgDQogIC8vdGdsIGJ1bGFuIGRhbiB0YWh1bg0KICAkZm1GaWx0VGdsQnR3ID0gJF9SRVFVRVNUWydmbUZpbHRUZ2xCdHcnXTsNCiAgJGZtRmlsdFRnbEJ0d190Z2wxID0gJF9SRVFVRVNUWydmbUZpbHRUZ2xCdHdfdGdsMSddOw0KICAkZm1GaWx0VGdsQnR3X3RnbDIgPSAkX1JFUVVFU1RbJ2ZtRmlsdFRnbEJ0d190Z2wyJ107DQogICRmbU9SREVSMSA9IGNla1BPU1QoJ2ZtT1JERVIxJyk7DQogICRmbURFU0MxID0gY2VrUE9TVCgnZm1ERVNDMScpOw0KICAgJGFyck9yZGVyID0gIGFycmF5KA0KICAgICAgICAgICAgICAgIGFycmF5KCcxJywnSUQnKSwNCiAgICAgICAgICAgICAgICBhcnJheSgnMicsJ0thdGVnb3JpJyksDQogICAgICAgICAgICAgICAgYXJyYXkoJzMnLCdOYW1hJyksDQogICAgICAgICAgKTsNCiAgJGFyciA9IGFycmF5KA0KICAgICAgLy9hcnJheSgnc2VsZWN0QWxsJywnU2VtdWEnKSwgDQogICAgICBhcnJheSgnc2VsZWN0SWQnLCdJRCcpLCANCiAgICAgIGFycmF5KCdzZWxlY3RJZF9rYXRlZ29yaScsJ0thdGVnb3JpJyksDQogICAgICBhcnJheSgnc2VsZWN0dWlkTmFtYScsJ05hbWEnKSwgICAgDQogICAgICApOw0KICAkVGFtcGlsT3B0ID0NCiAgICAgIA0KICAgICAgJHZPcmRlcj0gICAgICANCiAgICAgIGdlbkZpbHRlckJhcigNCiAgICAgICAgYXJyYXkoICAgICAgICAgICAgICANCiAgICAgICAgICBjbWJBcnJheSgnZm1QSUxDQVJJJywkZm1QSUxDQVJJLCRhcnIsJy0tIENhcmkgRGF0YSAtLScsJycpLiAvL2dlbmVyYXRlIGNoZWNrYm94ICAgICAgICAgDQogICAgICAgICAgIiZuYnNwJm5ic3A8aW5wdXQgdHlwZT0ndGV4dCcgdmFsdWU9JyIuJGZtUElMQ0FSSXZhbHVlLiInIG5hbWU9J2ZtUElMQ0FSSXZhbHVlJyBpZD0nZm1QSUxDQVJJdmFsdWUnIHVpZD0nZm1QSUxDQVJJdmFsdWUnPiZuYnNwJm5ic3AiDQogICAgICAgICAgLy88aW5wdXQgdHlwZT0nYnV0dG9uJyBpZD0nYnRUYW1waWwnIHZhbHVlPSdDYXJpJyBvbmNsaWNrPSciLiR0aGlzLT5QcmVmaXguIi5yZWZyZXNoTGlzdCh0cnVlKSc+Ig0KICAgICAgICAgIA0KICAgICAgICAgIC5jbWJBcnJheSgnZm1PUkRFUjEnLCRmbU9SREVSMSwkYXJyT3JkZXIsJy0tVXJ1dGthbi0tJywnJykuDQogICAgICAgICAgIjxpbnB1dCAkZm1ERVNDMSB0eXBlPSdjaGVja2JveCcgaWQ9J2ZtREVTQzEnIG5hbWU9J2ZtREVTQzEnIHZhbHVlPSdjaGVja2VkJz4mbmJzcG1lbnVydW4uIg0KICAgICAgICAgICksICAgICAgDQogICAgICAgICR0aGlzLT5QcmVmaXguIi5yZWZyZXNoTGlzdCh0cnVlKSIpOw0KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIGlkPSdidFRhbXBpbCcgdmFsdWU9J1RhbXBpbGthbicgb25jbGljaz0nIi4kdGhpcy0+UHJlZml4LiIucmVmcmVzaExpc3QodHJ1ZSknPiI7DQogICAgICANCiAgICByZXR1cm4gYXJyYXkoJ1RhbXBpbE9wdCc9PiRUYW1waWxPcHQpOw0KICB9IA0KICANCiAgZnVuY3Rpb24gZ2V0RGFmdGFyT3BzaSgkTW9kZT0xKXsNCiAgICBnbG9iYWwgJE1haW4sICRIVFRQX0NPT0tJRV9WQVJTOw0KICAgICRVSUQgPSAkX0NPT0tJRVsnY29JRCddOyANCiAgICAvL2tvbmRpc2kgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAkYXJyS29uZGlzaSA9IGFycmF5KCk7ICANCiAgICAkZm1QSUxDQVJJID0gJF9SRVFVRVNUWydmbVBJTENBUkknXTsgIA0KICAgICRmbVBJTENBUkl2YWx1ZSA9ICRfUkVRVUVTVFsnZm1QSUxDQVJJdmFsdWUnXTsNCiAgICAvKiRyZWZfc2twZFNrcGRmbVNFS1NJID0gJF9SRVFVRVNUWydyZWZfc2twZFNrcGRmbVNFS1NJJ107Ly9yZWZfc2twZFNrcGRmbVNLUEQNCiAgICAkcmVmX3NrcGRTa3BkZm1TS1BEID0gJF9SRVFVRVNUWydyZWZfc2twZFNrcGRmbVNLUEQnXTsNCiAgICAkcmVmX3NrcGRTa3BkZm1VTklUID0gJF9SRVFVRVNUWydyZWZfc2twZFNrcGRmbVVOSVQnXTsNCiAgICAkcmVmX3NrcGRTa3BkZm1TVUJVTklUID0gJF9SRVFVRVNUWydyZWZfc2twZFNrcGRmbVNVQlVOSVQnXTsqLw0KICAgIC8vQ2FyaSANCiAgICAkaXNpdmFsdWU9ZXhwbG9kZSgnLicsJGZtUElMQ0FSSXZhbHVlKTsNCiAgICBzd2l0Y2goJGZtUElMQ0FSSSl7ICAgICANCiAgICAgIC8vY2FzZSAnc2VsZWN0S29kZSc6ICRhcnJLb25kaXNpW10gPSAiIGM9JyIuJGlzaXZhbHVlWzBdLiInIGFuZCBkPSciLiRpc2l2YWx1ZVsxXS4iJyBhbmQgZT0nIi4kaXNpdmFsdWVbMl0uIicgYW5kIGUxPSciLiRpc2l2YWx1ZVszXS4iJyI7IGJyZWFrOw0KICAgICAgY2FzZSAnc2VsZWN0SWQnOiAkYXJyS29uZGlzaVtdID0gIiBJZCBsaWtlICckZm1QSUxDQVJJdmFsdWUlJyI7IGJyZWFrOw0KICAgICAgY2FzZSAnc2VsZWN0SWRfa2F0ZWdvcmknOiAkYXJyS29uZGlzaVtdID0gIiBpZF9rYXRlZ29yaSBsaWtlICclJGZtUElMQ0FSSXZhbHVlJSciOyBicmVhazsNCiAgICAgIGNhc2UgJ3NlbGVjdHVpZE5hbWEnIDogJGFycktvbmRpc2lbXSA9ICIgaWRfa2F0ZWdvcmkgbGlrZSAnJSRmbVBJTENBUkl2YWx1ZSUnIjsgYnJlYWs7DQogICAgICAgICAgICAgICAgICANCiAgICB9IA0KICAgIC8qaWYoJHJlZl9za3BkU2twZGZtU0tQRCE9JzAwJyBhbmQgJHJlZl9za3BkU2twZGZtU0tQRCAhPScnKSRhcnJLb25kaXNpW109ICJjPSckcmVmX3NrcGRTa3BkZm1TS1BEJyI7DQogICAgaWYoJHJlZl9za3BkU2twZGZtVU5JVCE9JzAwJyBhbmQgJHJlZl9za3BkU2twZGZtVU5JVCAhPScnKSRhcnJLb25kaXNpW109ICJkPSckcmVmX3NrcGRTa3BkZm1VTklUJyI7DQogICAgaWYoJHJlZl9za3BkU2twZGZtU1VCVU5JVCE9JzAwJyBhbmQgJHJlZl9za3BkU2twZGZtU1VCVU5JVCAhPScnKSRhcnJLb25kaXNpW109ICJlPSckcmVmX3NrcGRTa3BkZm1TVUJVTklUJyI7DQogICAgaWYoJHJlZl9za3BkU2twZGZtU0VLU0khPScwMCcgYW5kICRyZWZfc2twZFNrcGRmbVNFS1NJICE9JycpJGFycktvbmRpc2lbXT0gImUxPSckcmVmX3NrcGRTa3BkZm1TRUtTSSciOyovDQogICAgLyokYXJyS29uZGlzaSA9IGFycmF5KCk7DQogICAgDQogICAgJGZtUElMQ0FSSSA9ICRfUkVRVUVTVFsnZm1QSUxDQVJJJ107ICANCiAgICAkZm1QSUxDQVJJdmFsdWUgPSAkX1JFUVVFU1RbJ2ZtUElMQ0FSSXZhbHVlJ107DQogICAgLy9jYXJpIHRnbCxibG4sdGhuDQogICAgJGZtRmlsdFRnbEJ0dyA9ICRfUkVRVUVTVFsnZm1GaWx0VGdsQnR3J107ICAgICAgDQogICAgJGZtRmlsdFRnbEJ0d190Z2wxID0gJF9SRVFVRVNUWydmbUZpbHRUZ2xCdHdfdGdsMSddOw0KICAgICRmbUZpbHRUZ2xCdHdfdGdsMiA9ICRfUkVRVUVTVFsnZm1GaWx0VGdsQnR3X3RnbDInXTsNCiAgICAvL0NhcmkgDQogICAgc3dpdGNoKCRmbVBJTENBUkkpeyAgICAgDQogICAgICBjYXNlICdzZWxlY3ROYW1hJzogJGFycktvbmRpc2lbXSA9ICIgbmFtYV9wYXNpZW4gbGlrZSAnJSRmbVBJTENBUkl2YWx1ZSUnIjsgYnJlYWs7DQogICAgICBjYXNlICdzZWxlY3RBbGFtYXQnOiAkYXJyS29uZGlzaVtdID0gIiBhbGFtYXQgbGlrZSAnJSRmbVBJTENBUkl2YWx1ZSUnIjsgYnJlYWs7ICAgICAgICAgICAgIA0KICAgIH0NCiAgICBpZighZW1wdHkoJGZtRmlsdFRnbEJ0d190Z2wxKSkgJGFycktvbmRpc2lbXT0gIiB0Z2xfZGFmdGFyPj0nJGZtRmlsdFRnbEJ0d190Z2wxJyI7DQogICAgaWYoIWVtcHR5KCRmbUZpbHRUZ2xCdHdfdGdsMikpICRhcnJLb25kaXNpW109ICIgdGdsX2RhZnRhcjw9JyRmbUZpbHRUZ2xCdHdfdGdsMiciOyAgKi8NCiAgICAvLyAkYXJyS29uZGlzaVtdPSJuYW1hID0gJ0VnaSBTdXJlZ3knIjsNCiAgICAkS29uZGlzaSA9IGpvaW4oJyBhbmQgJywkYXJyS29uZGlzaSk7ICAgDQogICAgJEtvbmRpc2kgPSAkS29uZGlzaSA9PScnID8gJyc6JyBXaGVyZSAnLiRLb25kaXNpOw0KICAgIA0KICAgIC8vT3JkZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICRmbU9SREVSMSA9IGNla1BPU1QoJ2ZtT1JERVIxJyk7DQogICAgJGZtREVTQzEgPSBjZWtQT1NUKCdmbURFU0MxJyk7ICAgICAgDQogICAgJEFzYzEgPSAkZm1ERVNDMSA9PScnPyAnJzogJ2Rlc2MnOyAgICANCiAgICAkYXJyT3JkZXJzID0gYXJyYXkoKTsNCiAgICBzd2l0Y2goJGZtT1JERVIxKXsNCiAgICAgIGNhc2UgJzEnOiAkYXJyT3JkZXJzW10gPSAiIGlkICRBc2MxICIgO2JyZWFrOw0KICAgICAgY2FzZSAnMic6ICRhcnJPcmRlcnNbXSA9ICIgaWRfa2F0ZWdvcmkgJEFzYzEgIiA7YnJlYWs7DQogICAgICBjYXNlICczJzogJGFyck9yZGVyc1tdID0gIiBuYW1hICRBc2MxICIgO2JyZWFrOw0KICAgICAgDQogICAgfQ0KICAgICRPcmRlcj0gam9pbignLCcsJGFyck9yZGVycyk7IA0KICAgICRPcmRlckRlZmF1bHQgPSAnJzsvLyBPcmRlciBCeSBub190ZXJpbWEgZGVzYyAnOw0KICAgICRPcmRlciA9ICAkT3JkZXIgPT0nJz8gJE9yZGVyRGVmYXVsdCA6ICcgT3JkZXIgQnkgJy4kT3JkZXI7DQogICAgLy8kT3JkZXIgPSIiOw0KICAgIC8vbGltaXQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAvKiokSGFsRGVmYXVsdD1jZWtQT1NUKCR0aGlzLT5QcmVmaXguJ19oYWwnLDEpOyAvL0NhdDpTZXR0aW5nYW4gTGFtYSAgICAgICAgDQogICAgJExpbWl0ID0gIiBsaW1pdCAiLigoJEhhbERlZmF1bHQgICoxKSAtIDEpICogJE1haW4tPlBhZ2VQZXJIYWwuIiwiLiRNYWluLT5QYWdlUGVySGFsOyAvLyRMaW1pdEhhbCA9ICcnOw0KICAgICRMaW1pdCA9ICRNb2RlID09IDMgPyAnJzogJExpbWl0Ow0KICAgIC8vbm9hd2FsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICROb0F3YWw9ICRNYWluLT5QYWdlUGVySGFsICogKCgkSGFsRGVmYXVsdCoxKSAtIDEpOyAgICAgICAgICAgICANCiAgICAkTm9Bd2FsID0gJE1vZGUgPT0gMyA\/IDA6ICROb0F3YWw7ICAgIA0KICAgICoqLw0KICAgICRwYWdlUGVySGFsID0gJHRoaXMtPnBhZ2VQZXJIYWwgPT0nJyA\/ICRNYWluLT5QYWdlUGVySGFsOiAkdGhpcy0+cGFnZVBlckhhbDsgDQogICAgJEhhbERlZmF1bHQ9Y2VrUE9TVCgkdGhpcy0+UHJlZml4LidfaGFsJywxKTsgICAgICAgICAgDQogICAgLy8kTGltaXQgPSAiIGxpbWl0ICIuKCgkSGFsRGVmYXVsdCAgKjEpIC0gMSkgKiAkTWFpbi0+UGFnZVBlckhhbC4iLCIuJE1haW4tPlBhZ2VQZXJIYWw7IC8vJExpbWl0SGFsID0gJyc7DQogICAgJExpbWl0ID0gIiBsaW1pdCAiLigoJEhhbERlZmF1bHQgICoxKSAtIDEpICogJHBhZ2VQZXJIYWwuIiwiLiRwYWdlUGVySGFsOyAvLyRMaW1pdEhhbCA9ICcnOw0KICAgICRMaW1pdCA9ICRNb2RlID09IDMgPyAnJzogJExpbWl0Ow0KICAgIC8vbm9hd2FsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICROb0F3YWw9ICRwYWdlUGVySGFsICogKCgkSGFsRGVmYXVsdCoxKSAtIDEpOyAgICAgICAgICAgICANCiAgICAkTm9Bd2FsID0gJE1vZGUgPT0gMyA\/IDA6ICROb0F3YWw7ICANCiAgICANCiAgICByZXR1cm4gYXJyYXkoJ0tvbmRpc2knPT4kS29uZGlzaSwgJ09yZGVyJz0+JE9yZGVyICwnTGltaXQnPT4kTGltaXQsICdOb0F3YWwnPT4kTm9Bd2FsKTsNCiAgICANCiAgfQ0KfQ0KJHJlZl9pbWFnZXMgPSBuZXcgcmVmX2ltYWdlc09iaigpOw0KJHJlZl9pbWFnZXMtPnVzZXJuYW1lID0gJF9DT09LSUVbJ2NvSUQnXTsNCj8+",
    "size": "47043"
}