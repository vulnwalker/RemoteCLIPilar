{
    "namaFile": "js\/persediaan\/daftarPersediaanBarang.js",
    "lastUpdate": "2018-09-25+08:41:16.83",
    "contentFile": "dmFyIGRhZnRhclBlcnNlZGlhYW5CYXJhbmdGaWx0ZXJTS1BEID0gbmV3IFNrcGRDbHMoewogIHByZWZpeDogImRhZnRhclBlcnNlZGlhYW5CYXJhbmciLAogIGZvcm1OYW1lOiAiZGFmdGFyUGVyc2VkaWFhbkJhcmFuZ0Zvcm0iLAogIHBpbGloVXJ1c2FuZnRlcjogZnVuY3Rpb24oKSB7CiAgICBkYWZ0YXJQZXJzZWRpYWFuQmFyYW5nLmZpbHRlclJlbmRlcih0cnVlKTsKICB9LAogIHBpbGloQmlkYW5nQWZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgZGFmdGFyUGVyc2VkaWFhbkJhcmFuZy5maWx0ZXJSZW5kZXIodHJ1ZSk7CiAgfSwKICBwaWxpaFVuaXRBZnRlcjogZnVuY3Rpb24oKSB7CiAgICBkYWZ0YXJQZXJzZWRpYWFuQmFyYW5nLmZpbHRlclJlbmRlcih0cnVlKTsKICB9LAogIHBpbGloU3ViVW5pdEFmdGVyOiBmdW5jdGlvbigpIHsKICAgIGRhZnRhclBlcnNlZGlhYW5CYXJhbmcuZmlsdGVyUmVuZGVyKHRydWUpOwogIH0sCiAgcGlsaWhTZWtzaUFmdGVyOiBmdW5jdGlvbigpIHsKICAgIGRhZnRhclBlcnNlZGlhYW5CYXJhbmcuZmlsdGVyUmVuZGVyKHRydWUpOwogIH0KfSk7CnZhciBkYWZ0YXJQZXJzZWRpYWFuQmFyYW5nID0gbmV3IERhZnRhck9iajIoewoJcHJlZml4IDogJ2RhZnRhclBlcnNlZGlhYW5CYXJhbmcnLAoJdXJsIDogJ3BnUGVyc2VkaWFhbi5waHA\/UGc9ZGFmdGFyUGVyc2VkaWFhbkJhcmFuZycsCglmb3JtTmFtZSA6ICdkYWZ0YXJQZXJzZWRpYWFuQmFyYW5nRm9ybScsCglkYWZ0YXJQZXJzZWRpYWFuQmFyYW5nX2Zvcm0gOiAnMCcsLy9kZWZhdWx0IGpzIGRhZnRhclBlcnNlZGlhYW5CYXJhbmcKCWxvYWRpbmc6IGZ1bmN0aW9uKCl7CgkJLy9hbGVydCgnbG9hZGluZycpOwoJCXRoaXMudG9wQmFyUmVuZGVyKCk7CgkJdGhpcy5maWx0ZXJSZW5kZXIoKTsKCQkvLyB0aGlzLmRhZnRhclJlbmRlcigpOwoJCXRoaXMuc3VtSGFsUmVuZGVyKCk7CgoKCX0sCglmaWx0ZXJSZW5kZXJBZnRlciA6IGZ1bmN0aW9uKCl7CiAgICAJLy8gdGhpcy5kYWZ0YXJSZW5kZXIoKTsKCX0sCiAgCUNsb3NlMjogZnVuY3Rpb24oKXsKCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3ZlcktCJzsKCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikpIGRlbEVsZW0oY292ZXIpOwoJCWlmKHRpcGU9PW51bGwpewoJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJzsKCQl9Cgl9LAoKCXByb2dyYW1DaGFuZ2VkIDogZnVuY3Rpb24oKXsKCQl2YXIgYXJyYXlQID0gJCgiI3AiKS52YWwoKS5zcGxpdCgnLicpOzsKCQl2YXIgYmsgPSBhcnJheVBbMF07CgkJdmFyIGNrID0gYXJyYXlQWzFdOwoJCXZhciBoaWRkZW5QID0gYXJyYXlQWzJdOwoKCQkkKCIjYmsiKS52YWwoYmspOwoJCSQoIiNjayIpLnZhbChjayk7CgkJJCgiI2hpZGRlblAiKS52YWwoaGlkZGVuUCk7CgkJJCgiI3EiKS52YWwoJycpOwoJCWRhZnRhclBlcnNlZGlhYW5CYXJhbmcucmVmcmVzaExpc3QodHJ1ZSk7Cgl9LAoJZGV0YWlsOiBmdW5jdGlvbigpewoJCS8vYWxlcnQoJ2RldGFpbCcpOwoJCXZhciBtZSA9IHRoaXM7CgkJZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOwoJCWlmKGVycm1zZyA9PScnKXsKCQkJdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOwoJCQkvL1VzZXJBa3Rpdml0YXNEZXQuZ2VuRGV0YWlsKCk7CgoJCX1lbHNlewoKCQkJYWxlcnQoZXJybXNnKTsKCQl9CgoJfSxwaWxpaEJpZGFuZzogZnVuY3Rpb24oKXsKCQlkYWZ0YXJQZXJzZWRpYWFuQmFyYW5nLnJlZnJlc2hMaXN0KHRydWUpOwoKCX0sQmlkYW5nQWZ0ZXIyOiBmdW5jdGlvbigpewoJCWRhZnRhclBlcnNlZGlhYW5CYXJhbmcucmVmcmVzaExpc3QodHJ1ZSk7CgoJfSxjb21ib1NLUERDaGFuZ2VkOiBmdW5jdGlvbigpewoJCWRhZnRhclBlcnNlZGlhYW5CYXJhbmcucmVmcmVzaExpc3QodHJ1ZSk7CgoJfSxDYXJpTW9kdWw6IGZ1bmN0aW9uKCl7CgkJdmFyIG1lID0gdGhpczsKCgkJcG9wdXBNb2R1bC5lbF9uYW1hTW9kdWw9ICduYW1hTW9kdWwnOwoJCXBvcHVwTW9kdWwuZWxfaWRNb2R1bD0gJ2lkTW9kdWwnOwovKgkJUmVmQmFyYW5nQnV0dWguZWxfbmFtYV9iYXJhbmc9ICduYW1hX2JhcmFuZyc7CQkqLwoJCXBvcHVwTW9kdWwud2luZG93U2F2ZUFmdGVyPSBmdW5jdGlvbigpe307CgkJcG9wdXBNb2R1bC53aW5kb3dTaG93KCk7Cgl9LAoKCWhpc3Rvcmk6IGZ1bmN0aW9uKGlkKXsKCQl2YXIgbWUgPSB0aGlzOwoKCQlwb3B1cEhpc3RvcmkuZWxfbmFtYUhpc3Rvcmk9ICduYW1hSGlzdG9yaSc7CgkJcG9wdXBIaXN0b3JpLmVsX2lkSGlzdG9yaT0gJ2lkSGlzdG9yaSc7CgkJcG9wdXBIaXN0b3JpLndpbmRvd1NhdmVBZnRlcj0gZnVuY3Rpb24oKXt9OwoJCXBvcHVwSGlzdG9yaS53aW5kb3dTaG93KGlkKTsKCX0sCglkYWZ0YXJSZW5kZXI6ZnVuY3Rpb24oKXsKCQl2YXIgbWUgPXRoaXM7IC8vcmVuZGVyIGRhZnRhcgoJCWFkZENvdmVyUGFnZTIoCgkJCSdkYWZ0YXJfY292ZXInLAkxLCAJdHJ1ZSwgdHJ1ZSwJe3JlbmRlclRvOiB0aGlzLnByZWZpeCsnX2NvbnRfZGFmdGFyJywKCQkJaW1nc3JjOiAnaW1hZ2VzL3dhaXQuZ2lmJywKCQkJc3R5bGU6IHtwb3NpdGlvbjonYWJzb2x1dGUnLCB0b3A6JzUnLCBsZWZ0Oic1J30KCQkJfQoJCSk7CgoJCSQuYWpheCh7CgkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9ZGFmdGFyJywKCQkgCXR5cGU6J1BPU1QnLAoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfZGFmdGFyJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwoKCQkJbWUuc3VtSGFsUmVuZGVyKCk7CgkJICAJfQoJCX0pOwoJfSwKCXBpbGloUGFuZ2thdCA6IGZ1bmN0aW9uKCl7Cgl2YXIgbWUgPSB0aGlzOwoJCSQuYWpheCh7CgkJICB1cmw6IHRoaXMudXJsKycmdGlwZT1waWxpaFBhbmdrYXQnLAoJCSAgdHlwZSA6ICdQT1NUJywKCQkgIGRhdGE6ewoJCQkJYzEJCQkgIDogJCgiI2ZpbHRlclVydXNhbiIpLnZhbCgpLAoJCQkJYyAJCQkgIDogJCgiI2ZpbHRlckJpZGFuZyIpLnZhbCgpLAoJCQkJZCAJCQkgIDogJCgiI2ZpbHRlclNLUEQiKS52YWwoKSwKCQkJCWUgCQkJICA6ICQoIiNmaWx0ZXJVbml0IikudmFsKCksCgkJCQllMSAJCQkgIDogJCgiI2ZpbHRlclN1YlVuaXQiKS52YWwoKSwKCQkJICAJZGMxIAkJICA6ICQoIiNkYzEiKS52YWwoKSwKCQkJICAJZGMgIAkJICA6ICQoIiNkYyIpLnZhbCgpLAoJCQkgIAlkZCAgCQkgIDogJCgiI2RkIikudmFsKCksCgkJCSAgCWthdGVnb3JpICAgICAgOiAkKCIja2F0ZWdvcmkiKS52YWwoKSwKCQkJICAJbmFtYXBlZ2F3YWkgICA6ICQoIiNuYW1hcGVnYXdhaSIpLnZhbCgpLAoJCQkgIAluaXBwZWdhd2FpICAgIDogJCgiI25pcHBlZ2F3YWkiKS52YWwoKSwKCQkJICAJcGFuZ2thdGFraGlyICA6ICQoIiNwYW5na2F0YWtoaXIiKS52YWwoKSwKCQkJICAJZ29sYW5nX2FraGlyICA6ICQoIiNnb2xhbmdfYWtoaXIiKS52YWwoKSwKCQkJICAJamFiYXRhbiAgICAgICA6ICQoIiNqYWJhdGFuIikudmFsKCksCgkJCSAgCWVzZWxvbl9ha2hpciAgOiAkKCIjZXNlbG9uX2FraGlyIikudmFsKCksCgkJICB9LAoJCSAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewoJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgoJCQlpZihyZXNwLmVyciA9PSAnJyl7CgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ29sYW5nX2FraGlyJykudmFsdWUgPSByZXNwLmNvbnRlbnQ7CgkJCX1lbHNlewoJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQl9CgkJfQoJCX0pOwoJfSwKCVNpbXBhbjogZnVuY3Rpb24oKXsKCQl2YXIgbWU9IHRoaXM7CgkJdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZQoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7CgkJdmFyIGNvdmVyID0gJ3JlbmphQXNldCcrJ19mb3Jtc2ltcGFuJzsKCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CgkJJC5hamF4KHsKCQkJdHlwZTonUE9TVCcsCgkJCWRhdGE6ewoJCQkJamVuaXNLZWdpYXRhbiA6ICQoIiNqZW5pc0tlZ2lhdGFuIikudmFsKCksCgkJCQljMQkJCSAgOiAkKCIjZmlsdGVyVXJ1c2FuIikudmFsKCksCgkJCQljIAkJCSAgOiAkKCIjZmlsdGVyQmlkYW5nIikudmFsKCksCgkJCQlkIAkJCSAgOiAkKCIjZmlsdGVyU0tQRCIpLnZhbCgpLAoJCQkJZSAJCQkgIDogJCgiI2ZpbHRlclVuaXQiKS52YWwoKSwKCQkJCWUxIAkJCSAgOiAkKCIjZmlsdGVyU3ViVW5pdCIpLnZhbCgpLAoJCQkgIAlkYzEgCQkgIDogJCgiI2RjMSIpLnZhbCgpLAoJCQkgIAlkYyAgCQkgIDogJCgiI2RjIikudmFsKCksCgkJCSAgCWRkICAJCSAgOiAkKCIjZGQiKS52YWwoKSwKCQkJICAJa2F0ZWdvcmkgICAgICA6ICQoIiNrYXRlZ29yaSIpLnZhbCgpLAoJCQkgIAluYW1hcGVnYXdhaSAgIDogJCgiI25hbWFwZWdhd2FpIikudmFsKCksCgkJCSAgCW5pcHBlZ2F3YWkgICAgOiAkKCIjbmlwcGVnYXdhaSIpLnZhbCgpLAoJCQkgIAlwYW5na2F0YWtoaXIgIDogJCgiI3BhbmdrYXRha2hpciIpLnZhbCgpLAoJCQkgIAlnb2xhbmdfYWtoaXIgIDogJCgiI2dvbGFuZ19ha2hpciIpLnZhbCgpLAoJCQkgIAlqYWJhdGFuICAgICAgIDogJCgiI2phYmF0YW4iKS52YWwoKSwKCQkJICAJZXNlbG9uX2FraGlyICA6ICQoIiNlc2Vsb25fYWtoaXIiKS52YWwoKSwKCQkJfSwKCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c2ltcGFuJywKCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQlkZWxFbGVtKGNvdmVyKTsKCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKCQkJCWlmKHJlc3AuZXJyPT0nJyl7CgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3R0ZCcpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5jb21ib3R0ZDsKCQkJCQlkYWZ0YXJQZXJzZWRpYWFuQmFyYW5nLkNsb3NlKCk7CgkJCQl9ZWxzZXsKCQkJCQlhbGVydChyZXNwLmVycik7CgkJCQl9CgkJICAJfQoJCX0pOwoJfSwKCUJhcnU6IGZ1bmN0aW9uKCl7CgkJdmFyIG1lID0gdGhpczsKCQl2YXIgZXJyPScnOwoJCXZhciB1cnVzYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsdGVyVXJ1c2FuJykudmFsdWU7CgkJdmFyIGJpZGFuZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJCaWRhbmcnKS52YWx1ZTsKCQl2YXIgc2twZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJTS1BEJykudmFsdWU7CgkJdmFyIHVuaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsdGVyVW5pdCcpLnZhbHVlOwoJCXZhciBzdWJ1bml0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlclN1YlVuaXQnKS52YWx1ZTsKCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOwoJCWlmKGVycj09JycpewoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOwoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDk5OSx0cnVlLGZhbHNlKTsKCQkJJC5hamF4KHsKCQkJCXR5cGU6J1BPU1QnLAoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSsiJnVydXNhbj0iK3VydXNhbisiJmJpZGFuZz0iK2JpZGFuZysiJnNrcGQ9Iitza3BkKyImdW5pdD0iK3VuaXQrIiZzdWJ1bml0PSIrc3VidW5pdCwKCQkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9Zm9ybUJhcnUnLAoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCSAgCQlkZWxFbGVtKGNvdmVyKTsKCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgoJCQkJCWlmIChyZXNwLmVyciA9PScnKXsKCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKCQkJCQl9ZWxzZXsKCQkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsKCQkJCQl9CgoJCQkgIAl9CgkJCX0pOwoJCX1lbHNlewoJCQlhbGVydChlcnIpOwoJCX0KCX0sCgoJSW5mbzogZnVuY3Rpb24oKXsKCQl2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZvcm1OYW1lKTsKCQkJCSQuYWpheCh7CgkJCQkgIHVybDogdGhpcy51cmwrJyZ0aXBlPWh1YmxhJywKCQkJCSAgdHlwZSA6ICdQT1NUJywKCQkJCSAgZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKCQkJCSAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewoJCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQkJCWlmKHJlc3AuZXJyID09ICIiKSB7CgkJCQkJCQl2YXIga29kZVJlayA9IHJlc3AuY29udGVudC5rb2RlUmVrOwoJCQkJCQkJYUZvcm0uYWN0aW9uPSAncGdQZXJzZWRpYWFuLnBocD9QZz1hbG9rYXNpRHBhJzsKCQkJCQkJCWFGb3JtLnRhcmdldD0nX2JsYW5rJzsKCQkJCQkJCWFGb3JtLnN1Ym1pdCgpOwoJCQkJCQkJYUZvcm0udGFyZ2V0PScnOwoJCQkJCQl9ZWxzZXsKCQkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJCQkJfQoKCQkJCSAgfQoJCQkJfSk7Cgl9LAoJdW5sb2NrRmluZFJla2VuaW5nOiBmdW5jdGlvbigpewoJCXZhciBtZSA9IHRoaXM7CgkJaWYoICQoIiNjbWJKZW5pc1JLQUZvcm0iKS52YWwoKSA9PSAiIil7CgkJCSQoIiNmaW5kUmVrZW5pbmciKS5hdHRyKCdkaXNhYmxlZCcsdHJ1ZSk7CgkJfWVsc2V7CgkJCSQoIiNmaW5kUmVrZW5pbmciKS5hdHRyKCdkaXNhYmxlZCcsZmFsc2UpOwoJCQkkKCIjZmluZFJla2VuaW5nIikuYXR0cignb25jbGljaycsImRhZnRhclBlcnNlZGlhYW5CYXJhbmcuZmluZFJla2VuaW5nKCciKyQoIiNjbWJKZW5pc1JLQUZvcm0iKS52YWwoKSsiJyk7Iik7CgoJCX0KCgoJfSwKCUVkaXQ6ZnVuY3Rpb24oKXsKCQl2YXIgbWUgPSB0aGlzOwoJCWVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsKCgkJCWlmKGVycm1zZyA9PScnKXsKCQkJCXZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsKCQkJCXZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9ybU5hbWUpOwoJCQkJJC5hamF4KHsKCQkJCSAgdXJsOiB0aGlzLnVybCsnJnRpcGU9ZWRpdFRhYicsCgkJCQkgIHR5cGUgOiAnUE9TVCcsCgkJCQkgIGRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCgkJCQkgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwoJCQkJCQlpZihyZXNwLmVyciA9PSAiIikgewoJCQkJCQkJYUZvcm0uYWN0aW9uPSAncGdQZXJzZWRpYWFuLnBocD9QZz1kYWZ0YXJQZXJzZWRpYWFuQmFyYW5nX2lucyZza3BkPScrcmVzcC5jb250ZW50LnNrcGQrIiZub21vcj0iK3Jlc3AuY29udGVudC5ub21vcjsKCQkJCQkJCWFGb3JtLnRhcmdldD0nX2JsYW5rJzsKCQkJCQkJCWFGb3JtLnN1Ym1pdCgpOwoJCQkJCQkJYUZvcm0udGFyZ2V0PScnOwoJCQkJCQl9ZWxzZXsKCQkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJCQkJfQoKCQkJCSAgfQoJCQkJfSk7CgkJCX1lbHNlewoJCQkJYWxlcnQoZXJybXNnKTsKCQkJfQoKCX0sCglsb2NrQmFyYW5nOmZ1bmN0aW9uKCl7CgkJdmFyIG1lID0gdGhpczsKCQllcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7CgkJaWYoZXJybXNnID09JycpewoJCQl2YXIgYm94ID0gdGhpcy5HZXRDYnhDaGVja2VkKCk7CgoJCQkvL3RoaXMuU2hvdyAoJ2Zvcm1lZGl0Jyx7aWRwbGg6Ym94LnZhbHVlfSwgZmFsc2UsIHRydWUpOwoJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7CgkJCWFkZENvdmVyUGFnZTIoY292ZXIsMix0cnVlLGZhbHNlKTsKCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsKCQkJJC5hamF4KHsKCQkJCXR5cGU6J1BPU1QnLAoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPWxvY2tCYXJhbmcnLAoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwoJCQkJCWlmIChyZXNwLmVyciA9PScnKXsKCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKCQkJCQkJbWUuQWZ0ZXJGb3JtRWRpdChyZXNwKTsKCQkJCQl9ZWxzZXsKCQkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJCQlkZWxFbGVtKGNvdmVyKTsKCQkJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7CgkJCQkJfQoJCQkgIAl9CgkJCX0pOwoJCX1lbHNlewoJCQlhbGVydChlcnJtc2cpOwoJCX0KCgl9LAoJa2FydHVQZXJzZWRpYWFuOmZ1bmN0aW9uKCl7CgkJdmFyIG1lID0gdGhpczsKCQllcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7CgkJaWYoZXJybXNnID09JycpewoJCQl2YXIgYm94ID0gdGhpcy5HZXRDYnhDaGVja2VkKCk7CgoJCQkvL3RoaXMuU2hvdyAoJ2Zvcm1lZGl0Jyx7aWRwbGg6Ym94LnZhbHVlfSwgZmFsc2UsIHRydWUpOwoJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7CgkJCWFkZENvdmVyUGFnZTIoY292ZXIsMix0cnVlLGZhbHNlKTsKCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsKCQkJJC5hamF4KHsKCQkJCXR5cGU6J1BPU1QnLAoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPWthcnR1UGVyc2VkaWFhbicsCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQkJaWYgKHJlc3AuZXJyID09JycpewoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwoJCQkJCQlsaXN0S2FydHVLdW5jaS5sb2FkaW5nKHJlc3AuY2VrKTsKCQkJCQl9ZWxzZXsKCQkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJCQlkZWxFbGVtKGNvdmVyKTsKCQkJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7CgkJCQkJfQoJCQkgIAl9CgkJCX0pOwoJCX1lbHNlewoJCQlhbGVydChlcnJtc2cpOwoJCX0KCgl9LAoJc2hvd0thcnR1OmZ1bmN0aW9uKGlkTG9jayl7CgkJdmFyIG1lID0gdGhpczsKCQlpZigkKCIjZmlsdGVyUGVyaW9kZSIpLnZhbCgpICE9ICcnKXsKCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOwoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDIsdHJ1ZSxmYWxzZSk7CgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7CgkJCSQuYWpheCh7CgkJCQl0eXBlOidQT1NUJywKCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1zaG93S2FydHUnLAoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQkJaWYgKHJlc3AuZXJyID09JycpewoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwoJCQkJCQlsaXN0S2FydHVLdW5jaS5sb2FkaW5nKGlkTG9jayk7CgkJCQkJfWVsc2V7CgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJCQkJZGVsRWxlbShjb3Zlcik7CgkJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOwoJCQkJCX0KCQkJCQl9CgkJCX0pOwoJCX1lbHNlewoJCQkJYWxlcnQoIlBpbGloIFBlcmlvZGUiKTsKCQl9CgoJfSwKCWNoZWNrRXJyb3I6ZnVuY3Rpb24oaWRQZXJzZWRpYWFuKXsKCQl2YXIgbWUgPSB0aGlzOwoJCWlmKCQoIiNmaWx0ZXJQZXJpb2RlIikudmFsKCkgIT0gJycpewoJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7CgkJCWFkZENvdmVyUGFnZTIoY292ZXIsMix0cnVlLGZhbHNlKTsKCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsKCQkJJC5hamF4KHsKCQkJCXR5cGU6J1BPU1QnLAoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSsiJmlkUGVyc2VkaWFhbj0iK2lkUGVyc2VkaWFhbiwKCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPWNoZWNrRXJyb3InLAoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQkJaWYgKHJlc3AuZXJyID09JycpewoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwoJCQkJCQlrYXJ0dUVycm9yLmxvYWRpbmcoaWRQZXJzZWRpYWFuKTsKCQkJCQl9ZWxzZXsKCQkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJCQlkZWxFbGVtKGNvdmVyKTsKCQkJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7CgkJCQkJfQoJCQkJCX0KCQkJfSk7CgkJfWVsc2V7CgkJCQlhbGVydCgiUGlsaWggUGVyaW9kZSIpOwoJCX0KCgl9LAoJZGV0YWlsUGVuZ2VsdWFyYW46ZnVuY3Rpb24oaWRQZW5nZWx1YXJhbil7CgkJdmFyIG1lID0gdGhpczsKCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXJEZXRhaWxQZW5nZWx1YXJhbic7CgkJYWRkQ292ZXJQYWdlMihjb3Zlciw0LHRydWUsZmFsc2UpOwoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7CgkJJC5hamF4KHsKCQkJdHlwZTonUE9TVCcsCgkJCWRhdGE6e2lkUGVuZ2VsdWFyYW4gOiBpZFBlbmdlbHVhcmFufSwKCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9ZGV0YWlsUGVuZ2VsdWFyYW4nLAoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKCQkJCWlmIChyZXNwLmVyciA9PScnKXsKCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwoJCQkJfWVsc2V7CgkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJCWRlbEVsZW0oY292ZXIpOwoJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOwoJCQkJfQoJCSAgCX0KCQl9KTsKCX0sCglkZXRhaWxQZW5nZWx1YXJhblRlbXA6ZnVuY3Rpb24oaWRQZW5nZWx1YXJhbil7CgkJdmFyIG1lID0gdGhpczsKCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXJEZXRhaWxQZW5nZWx1YXJhbic7CgkJYWRkQ292ZXJQYWdlMihjb3Zlciw0LHRydWUsZmFsc2UpOwoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7CgkJJC5hamF4KHsKCQkJdHlwZTonUE9TVCcsCgkJCWRhdGE6e2lkUGVuZ2VsdWFyYW4gOiBpZFBlbmdlbHVhcmFufSwKCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9ZGV0YWlsUGVuZ2VsdWFyYW5UZW1wJywKCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQlpZiAocmVzcC5lcnIgPT0nJyl7CgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKCQkJCX1lbHNlewoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJCQlkZWxFbGVtKGNvdmVyKTsKCQkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsKCQkJCX0KCQkgIAl9CgkJfSk7Cgl9LAoKCUNsb3NlRGV0YWlsUGVuZ2VsdWFyYW46ZnVuY3Rpb24oKXsvL2FsZXJ0KHRoaXMuZWxDb3Zlcik7CgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXJEZXRhaWxQZW5nZWx1YXJhbic7CgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpKSBkZWxFbGVtKGNvdmVyKTsKCgl9LAoKCglzYXZlTG9ja0JhcmFuZzogZnVuY3Rpb24oaWRQb3N0aW5nKXsKCQl2YXIgbWU9IHRoaXM7CgkJdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZQoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7CgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3Jtc2ltcGFuJzsKCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CgkJJC5hamF4KHsKCQkJdHlwZTonUE9TVCcsCgkJCWRhdGE6JCgnIycrdGhpcy5wcmVmaXgrJ19mb3JtJykuc2VyaWFsaXplKCkrIiZpZFBvc3Rpbmc9IitpZFBvc3RpbmcsCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPXNhdmVMb2NrQmFyYW5nJywKCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQlkZWxFbGVtKGNvdmVyKTsKCQkJCWlmKHJlc3AuZXJyPT0nJyl7CgkJCQkJCW1lLkNsb3NlKCk7CgkJCQkJCW1lLnJlZnJlc2hMaXN0KHRydWUpOwoJCQkJfWVsc2V7CgkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJfQoJCSAgCX0KCQl9KTsKCX0KCSwKCXVuTG9ja0JhcmFuZzogZnVuY3Rpb24oaWRMb2NrKXsKCQl2YXIgbWU9IHRoaXM7CgkJdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZQoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7CgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3Jtc2ltcGFuJzsKCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CgkJJC5hamF4KHsKCQkJdHlwZTonUE9TVCcsCgkJCWRhdGE6JCgnIycrdGhpcy5wcmVmaXgrJ19mb3JtJykuc2VyaWFsaXplKCkrIiZpZExvY2s9IitpZExvY2ssCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPXVuTG9ja0JhcmFuZycsCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwoJCQkJZGVsRWxlbShjb3Zlcik7CgkJCQlpZihyZXNwLmVycj09JycpewoJCQkJCQltZS5DbG9zZSgpOwoJCQkJCQltZS5yZWZyZXNoTGlzdCh0cnVlKTsKCQkJCX1lbHNlewoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJCX0KCQkgIAl9CgkJfSk7Cgl9CgksCgoJYmFudHVWb2x1bWVCYXJhbmcgOiBmdW5jdGlvbihpZCl7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhbnR1Vm9sdW1lQmFyYW5nJytpZCkuaW5uZXJIVE1MID0gZGFmdGFyUGVyc2VkaWFhbkJhcmFuZy5mb3JtYXRDdXJyZW5jeTIoJCgiI3ZvbHVtZUJhcmFuZyIraWQpLnZhbCgpKTsKCQl2YXIgaGFzaWxLYWxpID0gTnVtYmVyKCQoIiN2b2x1bWVCYXJhbmciK2lkKS52YWwoKSkgKiBOdW1iZXIoJCgiI3NhdHVhbkhhcmdhIitpZCkudmFsKCkpIDsKCQkkKCIjc3Bhbkp1bWxhaEhhcmdhIitpZCkudGV4dChkYWZ0YXJQZXJzZWRpYWFuQmFyYW5nLmZvcm1hdEN1cnJlbmN5KGhhc2lsS2FsaSkpOwoJfSwKCWJhbnR1U2F0dWFuSGFyZ2EgOiBmdW5jdGlvbihpZCl7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhbnR1U2F0dWFuSGFyZ2EnK2lkKS5pbm5lckhUTUwgPSAgZGFmdGFyUGVyc2VkaWFhbkJhcmFuZy5mb3JtYXRDdXJyZW5jeSgkKCIjc2F0dWFuSGFyZ2EiK2lkKS52YWwoKSk7CgkJdmFyIGhhc2lsS2FsaSA9IE51bWJlcigkKCIjdm9sdW1lQmFyYW5nIitpZCkudmFsKCkpICogTnVtYmVyKCQoIiNzYXR1YW5IYXJnYSIraWQpLnZhbCgpKSA7CgkJJCgiI3NwYW5KdW1sYWhIYXJnYSIraWQpLnRleHQoZGFmdGFyUGVyc2VkaWFhbkJhcmFuZy5mb3JtYXRDdXJyZW5jeShoYXNpbEthbGkpKTsKCX0sCgoJZm9ybWF0Q3VycmVuY3k6ZnVuY3Rpb24obnVtKSB7CgkJbnVtID0gbnVtLnRvU3RyaW5nKCkucmVwbGFjZSgvXCR8XCwvZywnJyk7CgkJaWYoaXNOYU4obnVtKSkKCQludW0gPSAiMCI7CgkJc2lnbiA9IChudW0gPT0gKG51bSA9IE1hdGguYWJzKG51bSkpKTsKCQludW0gPSBNYXRoLmZsb29yKG51bSoxMDArMC41MDAwMDAwMDAwMSk7CgkJY2VudHMgPSBudW0lMTAwOwoJCW51bSA9IE1hdGguZmxvb3IobnVtLzEwMCkudG9TdHJpbmcoKTsKCQlpZihjZW50czwxMCkKCQljZW50cyA9ICIwIiArIGNlbnRzOwoJCWZvciAodmFyIGkgPSAwOyBpIDwgTWF0aC5mbG9vcigobnVtLmxlbmd0aC0oMStpKSkvMyk7IGkrKykKCQludW0gPSBudW0uc3Vic3RyaW5nKDAsbnVtLmxlbmd0aC0oNCppKzMpKSsnLicrCgkJbnVtLnN1YnN0cmluZyhudW0ubGVuZ3RoLSg0KmkrMykpOwoJCXJldHVybiAoKChzaWduKT8nJzonLScpICsgJycgKyBudW0gKyAnLCcgKyBjZW50cyk7Cgl9LAoJZm9ybWF0Q3VycmVuY3kyOmZ1bmN0aW9uKG51bSkgewoJCW51bSA9IG51bS50b1N0cmluZygpLnJlcGxhY2UoL1wkfFwsL2csJycpOwoJCWlmKGlzTmFOKG51bSkpCgkJbnVtID0gIjAiOwoJCXNpZ24gPSAobnVtID09IChudW0gPSBNYXRoLmFicyhudW0pKSk7CgkJbnVtID0gTWF0aC5mbG9vcihudW0qMTAwKzAuNTAwMDAwMDAwMDEpOwoJCWNlbnRzID0gbnVtJTEwMDsKCQludW0gPSBNYXRoLmZsb29yKG51bS8xMDApLnRvU3RyaW5nKCk7CgkJaWYoY2VudHM8MTApCgkJY2VudHMgPSAiMCIgKyBjZW50czsKCQlmb3IgKHZhciBpID0gMDsgaSA8IE1hdGguZmxvb3IoKG51bS5sZW5ndGgtKDEraSkpLzMpOyBpKyspCgkJbnVtID0gbnVtLnN1YnN0cmluZygwLG51bS5sZW5ndGgtKDQqaSszKSkrJy4nKwoJCW51bS5zdWJzdHJpbmcobnVtLmxlbmd0aC0oNCppKzMpKTsKCQlyZXR1cm4gKCgoc2lnbik\/Jyc6Jy0nKSArICcnICsgbnVtICk7Cgl9LAoKCWJhbnR1IDogZnVuY3Rpb24oKXsKCQkkKCIjYmFudHUiKS50ZXh0KCJScC4gIitkYWZ0YXJQZXJzZWRpYWFuQmFyYW5nLmZvcm1hdEN1cnJlbmN5KCQoIiNoYXJnYVNhdHVhbiIpLnZhbCgpKSAgKTsKCgl9LAoKCWZpbmRSZWtlbmluZyA6IGZ1bmN0aW9uKGplbmlzUmthKXsKCQl2YXIgbWUgPSB0aGlzOwoJCXZhciBmaWx0ZXJSZWsgPSAiIjsKCQlpZihqZW5pc1JrYSA9PSAiMi4yLjEiKXsKCQkJZmlsdGVyUmVrID0gIlJLQSAyLjIuMSI7CgkJfWVsc2UgaWYoamVuaXNSa2EgPT0gIjIuMSIpewoJCQlmaWx0ZXJSZWsgPSAiUktBIDIuMSI7CgkJfQoJCXBvcHVwUmVrZW5pbmcuZWxfa29kZV9yZWtlbmluZyA9ICdrb2RlUmVrZW5pbmcnOwoJCXBvcHVwUmVrZW5pbmcuZWxfbmFtYV9yZWtlbmluZyA9ICduYW1hUmVrZW5pbmcnOwoJCXBvcHVwUmVrZW5pbmcud2luZG93U2F2ZUFmdGVyPSBmdW5jdGlvbigpe307CgkJcG9wdXBSZWtlbmluZy5maWx0ZXJBa3VuPWZpbHRlclJlazsKCQlwb3B1cFJla2VuaW5nLndpbmRvd1Nob3coKTsKCgl9LAoKCWZpbmRCYXJhbmcgOiBmdW5jdGlvbihrb2RlUkVOSkEpewoJCXZhciBtZSA9IHRoaXM7CgkJcG9wdXBCYXJhbmdSS0Eud2luZG93U2hvdyhrb2RlUkVOSkEpOwoKCX0sCgoJY2F0YXRhbjpmdW5jdGlvbihpZCl7CgkJdmFyIG1lID0gdGhpczsKCgoJCQkgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOwoKCQkJJC5hamF4KHsKCQkJCXR5cGU6J1BPU1QnLAoJCQkJZGF0YTp7aWRBd2FsIDogaWQgfSwKCQkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9Q2F0YXRhbicsCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQkJaWYocmVzcC5lcnIgPT0gJycpewoKCQkJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsKCQkJCQkJYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7CgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CgkJCQkJfWVsc2V7CgkJCQkJLyoJZGVsRWxlbShjb3Zlcik7Ki8KCQkJCQkJYWxlcnQocmVzcC5lcnIpOwoJCQkJCX0KCgoJCQkgIAl9CgkJCX0pOwoKCgl9LAogICBWYWxpZGFzaTpmdW5jdGlvbigpewoJCXZhciBtZSA9IHRoaXM7CgkJZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOwoJCWlmKGVycm1zZyA9PScnKXsKCQkJdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOwoKCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOwoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOwoJCQlpZihtZS5zYXR1YW5fZm9ybT09MCl7Ly9iYXJ1IGRhcmkgc2F0dWFuCgkJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CgkJCX1lbHNley8vYmFydSBkYXJpIGJhcmFuZwoJCQkJYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7CgkJCX0KCQkJJC5hamF4KHsKCQkJCXR5cGU6J1BPU1QnLAoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKCQkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9VmFsaWRhc2knLAoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwoJCQkJCWlmKHJlc3AuZXJyID09ICcnKXsKCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKCQkJCQl9ZWxzZXsKCQkJCQkJZGVsRWxlbShjb3Zlcik7CgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJCQkJaWYocmVzcC5lcnIgPT0gJ1RhaGFwIFZhbGlkYXNpIFRlbGFoIEhhYmlzJyl7CgkJCQkJCQl3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCS8vc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge2RhZnRhclBlcnNlZGlhYW5CYXJhbmcuamFtKCl9LDEwMCk7CgkJCQkJLy9tZS5BZnRlckZvcm1CYXJ1KCk7CgkJCSAgCX0KCQkJfSk7CgkJfWVsc2V7CgkJCWFsZXJ0KGVycm1zZyk7CgkJfQoKCX0sCgoKCgogICBTYXZlVmFsaWQ6IGZ1bmN0aW9uKCl7CgkJdmFyIG1lPSB0aGlzOwoJCXRoaXMuT25FcnJvckNsb3NlID0gZmFsc2UKCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOwoJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybXNpbXBhbic7CgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwoJCSQuYWpheCh7CgkJCXR5cGU6J1BPU1QnLAoJCQlkYXRhOiQoJyMnK3RoaXMucHJlZml4KydfZm9ybScpLnNlcmlhbGl6ZSgpLAoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1TYXZlVmFsaWQnLAoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKCQkJCWRlbEVsZW0oY292ZXIpOwoJCQkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwoJCQkJaWYocmVzcC5lcnI9PScnKXsKCQkJCQlpZihtZS5kYWZ0YXJQZXJzZWRpYWFuQmFyYW5nX2Zvcm09PTApewoJCQkJCQltZS5DbG9zZSgpOwoJCQkJCQltZS5BZnRlclNpbXBhbigpOwoJCQkJCX0KCgkJCQl9ZWxzZXsKCQkJCQlhbGVydChyZXNwLmVycik7CgkJCQl9CgkJICAJfQoJCX0pOwoJfQoJLAogICBTYXZlQ2F0YXRhbjogZnVuY3Rpb24oaWQpewoJCXZhciBtZT0gdGhpczsKCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsKCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1zaW1wYW4nOwoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsKCQkkLmFqYXgoewoJCQl0eXBlOidQT1NUJywKCQkJZGF0YTp7aWQgOiBpZCwKCQkJCSAgY2F0YXRhbiA6ICQoIiNjYXRhdGFuIikudmFsKCl9LAoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1TYXZlQ2F0YXRhbicsCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwoJCQkJZGVsRWxlbShjb3Zlcik7CgkJCQlpZihyZXNwLmVycj09JycpewoJCQkJCWlmKG1lLmRhZnRhclBlcnNlZGlhYW5CYXJhbmdfZm9ybT09MCl7CgkJCQkJCW1lLkNsb3NlKCk7CgkJCQkJCW1lLkFmdGVyU2ltcGFuKCk7CgkJCQkJfQoKCQkJCX1lbHNlewoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKCQkJCX0KCQkgIAl9CgkJfSk7Cgl9LAoJTGFwb3JhbjogZnVuY3Rpb24oKXsKCQl2YXIgbWUgPSB0aGlzOwoJCXZhciBlcnI9Jyc7CgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOwoKCQlpZihlcnI9PScnKXsKCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsKCQkJYWRkQ292ZXJQYWdlMihjb3ZlciwyLHRydWUsZmFsc2UpOwoJCQkkLmFqYXgoewoJCQkJdHlwZTonUE9TVCcsCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAoJCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1MYXBvcmFuJywKCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKCQkJCQlpZiAocmVzcC5lcnIgPT0nJyl7CgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CgkJCQkJCW1lLkFmdGVyRm9ybUJhcnUocmVzcCk7CiAgICAgICAgICAgICQoJyN0YW5nZ2FsQ2V0YWsnKS5kYXRlcGlja2VyKHsKCQkJCQkJCQkgIGRhdGVGb3JtYXQ6ICdkZC1tbS15eScsCgkJCQkJCQkJCXNob3dBbmltOiAnc2xpZGVEb3duJywKCQkJCQkJCQkgIGlubGluZTogdHJ1ZSwKCQkJCQkJCQkJc2hvd09uOiAiYnV0dG9uIiwKCQkgICAgIAkJCQkJYnV0dG9uSW1hZ2U6ICJpbWFnZXMvY2FsZW5kYXIuZ2lmIiwKCQkgICAgICAJCQkJYnV0dG9uSW1hZ2VPbmx5OiB0cnVlLAoJCQkJCQkJCQljaGFuZ2VNb250aDogdHJ1ZSwKCQkJCQkJCQkJY2hhbmdlWWVhcjogZmFsc2UsCgkJCQkJCQkJCXllYXJSYW5nZTogcmVzcC5jb250ZW50LnllYXJSYW5nZSwKCQkJCQkJCQkJYnV0dG9uVGV4dCA6ICcnLAoJCQkJCQkJCQlkZWZhdWx0RGF0ZTogKzAKCQkJCQkJCX0pOwoJCQkJCX1lbHNlewoJCQkJCQlhbGVydChyZXNwLmVycik7CgkJCQkJCWRlbEVsZW0oY292ZXIpOwoJCQkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsKCQkJCQl9CgoJCQkgIAl9CgkJCX0pOwoJCX1lbHNlewoJCQlhbGVydChlcnIpOwoJCX0KCX0sCgluZXdUYW5kYVRhbmdhbmdhbjogZnVuY3Rpb24oKXsKCQl2YXIgbWUgPSB0aGlzOwoJCXZhciBlcnI9Jyc7CgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXJUYW5kYVRhbmdhbic7CgoJCWlmKGVycj09JycpewoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOwoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDk5LHRydWUsZmFsc2UpOwoJCQkkLmFqYXgoewoJCQkJdHlwZTonUE9TVCcsCgkJCQlkYXRhOiQoJyMnK3RoaXMucHJlZml4KyJfZm9ybSIpLnNlcmlhbGl6ZSgpLAoJCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1uZXdUYW5kYVRhbmdhbmdhbicsCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CgkJCQkJaWYgKHJlc3AuZXJyID09JycpewoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwoJCQkJCQltZS5BZnRlckZvcm1CYXJ1KHJlc3ApOwoJCQkJCX1lbHNlewoJCQkJCQlhbGVydChyZXNwLmVycik7CgkJCQkJCWRlbEVsZW0oY292ZXIpOwoJCQkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsKCQkJCQl9CgoJCQkgIAl9CgkJCX0pOwoJCX1lbHNlewoJCQlhbGVydChlcnIpOwoJCX0KCX0sCgl2aWV3TGFwb3JhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgZXJybXNnID0gIiI7CiAgICBpZiAoZXJybXNnID09ICIiKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIHZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4KyJfZm9ybSIpOwogICAgICBhRm9ybS5hY3Rpb24gPSAicGdQZXJzZWRpYWFuLnBocD9QZz1kYWZ0YXJQZXJzZWRpYWFuQmFyYW5nJnRpcGU9dmlld0xhcG9yYW4iOwogICAgICBhRm9ybS50YXJnZXQgPSAiX2JsYW5rIjsKICAgICAgYUZvcm0uc3VibWl0KCk7CiAgICAgIGFGb3JtLnRhcmdldCA9ICIiOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoZXJybXNnKTsKICAgIH0KICB9LAogIGNsb3NlVGFuZGFUYW5nYW5Gb3JtOiBmdW5jdGlvbigpewogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXJUYW5kYVRhbmdhbic7CgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpKSBkZWxFbGVtKGNvdmVyKTsKCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7CiAgfSwKCXNhdmVOZXdUYW5kYVRhbmdhbjogZnVuY3Rpb24oKXsKCQl2YXIgbWU9IHRoaXM7CgkJdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZQoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7CgkJdmFyIGNvdmVyID0gJ3JlbmphQXNldCcrJ19mb3Jtc2ltcGFuJzsKCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CgkJJC5hamF4KHsKCQkJdHlwZTonUE9TVCcsCgkJCWRhdGE6ewoJCQkJYzEJOiAkKCIjYzEiKS52YWwoKSwKCQkJCQljICAgOiAkKCIjYyIpLnZhbCgpLAoJCQkJCWQgICA6ICQoIiNkIikudmFsKCksCgkJCQkJZSAgIDogJCgiI2UiKS52YWwoKSwKCQkJCQllMSAgIDogJCgiI2UxIikudmFsKCksCgkJCQkJa2F0ZWdvcmkgICAgICA6ICQoIiNrYXRlZ29yaSIpLnZhbCgpLAoJCQkJCW5hbWFwZWdhd2FpICAgOiAkKCIjbmFtYXBlZ2F3YWkiKS52YWwoKSwKCQkJCQluaXBwZWdhd2FpICAgIDogJCgiI25pcHBlZ2F3YWkiKS52YWwoKSwKCQkJCQlwYW5na2F0YWtoaXIgIDogJCgiI3BhbmdrYXRha2hpciIpLnZhbCgpLAoJCQkJCWdvbGFuZ19ha2hpciAgOiAkKCIjZ29sYW5nX2FraGlyIikudmFsKCksCgkJCQkJamFiYXRhbiAgICAgICA6ICQoIiNqYWJhdGFuIikudmFsKCksCgkJCQkJZXNlbG9uX2FraGlyICA6ICQoIiNlc2Vsb25fYWtoaXIiKS52YWwoKSwKCQkJfSwKCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c2F2ZU5ld1RhbmRhVGFuZ2FuJywKCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKCQkJCWRlbEVsZW0oY292ZXIpOwoJCQkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwoJCQkJaWYocmVzcC5lcnI9PScnKXsKCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRQZW5hbmRhVGFuZ2FuJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LmNvbWJvdHRkOwoJCQkJCW1lLmNsb3NlVGFuZGFUYW5nYW5Gb3JtKCk7CgkJCQl9ZWxzZXsKCQkJCQlhbGVydChyZXNwLmVycik7CgkJCQl9CgkJCQl9CgkJfSk7Cgl9LAp9KTsK",
    "size": "21426"
}