{
    "namaFile": "lib\/PHPExcel\/Classes\/PHPExcel\/Writer\/Excel5\/Escher.php",
    "lastUpdate": "2017-12-25+01:39:38.00",
    "contentFile": "PD9waHAKLyoqCiAqIFBIUEV4Y2VsCiAqCiAqIENvcHlyaWdodCAoYykgMjAwNiAtIDIwMTUgUEhQRXhjZWwKICoKICogVGhpcyBsaWJyYXJ5IGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vcgogKiBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljCiAqIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlcgogKiB2ZXJzaW9uIDIuMSBvZiB0aGUgTGljZW5zZSwgb3IgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KICoKICogVGhpcyBsaWJyYXJ5IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUgR05VCiAqIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCiAqCiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMKICogTGljZW5zZSBhbG9uZyB3aXRoIHRoaXMgbGlicmFyeTsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZQogKiBGb3VuZGF0aW9uLCBJbmMuLCA1MSBGcmFua2xpbiBTdHJlZXQsIEZpZnRoIEZsb29yLCBCb3N0b24sIE1BICAwMjExMC0xMzAxICBVU0EKICoKICogQGNhdGVnb3J5ICAgUEhQRXhjZWwKICogQHBhY2thZ2UgICAgUEhQRXhjZWxfV3JpdGVyX0V4Y2VsNQogKiBAY29weXJpZ2h0ICBDb3B5cmlnaHQgKGMpIDIwMDYgLSAyMDE1IFBIUEV4Y2VsIChodHRwOi8vd3d3LmNvZGVwbGV4LmNvbS9QSFBFeGNlbCkKICogQGxpY2Vuc2UgICAgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL29sZC1saWNlbnNlcy9sZ3BsLTIuMS50eHQgICAgTEdQTAogKiBAdmVyc2lvbiAgICAjI1ZFUlNJT04jIywgIyNEQVRFIyMKICovCgoKLyoqCiAqIFBIUEV4Y2VsX1NoYXJlZF9Fc2NoZXJfRGdnQ29udGFpbmVyX0JzdG9yZUNvbnRhaW5lcgogKgogKiBAY2F0ZWdvcnkgICBQSFBFeGNlbAogKiBAcGFja2FnZSAgICBQSFBFeGNlbF9Xcml0ZXJfRXhjZWw1CiAqIEBjb3B5cmlnaHQgIENvcHlyaWdodCAoYykgMjAwNiAtIDIwMTUgUEhQRXhjZWwgKGh0dHA6Ly93d3cuY29kZXBsZXguY29tL1BIUEV4Y2VsKQogKi8KY2xhc3MgUEhQRXhjZWxfV3JpdGVyX0V4Y2VsNV9Fc2NoZXIKewogICAgLyoqCiAgICAgKiBUaGUgb2JqZWN0IHdlIGFyZSB3cml0aW5nCiAgICAgKi8KICAgIHByaXZhdGUgJG9iamVjdDsKCiAgICAvKioKICAgICAqIFRoZSB3cml0dGVuIGJpbmFyeSBkYXRhCiAgICAgKi8KICAgIHByaXZhdGUgJGRhdGE7CgogICAgLyoqCiAgICAgKiBTaGFwZSBvZmZzZXRzLiBQb3NpdGlvbnMgaW4gYmluYXJ5IHN0cmVhbSB3aGVyZSBhIG5ldyBzaGFwZSByZWNvcmQgYmVnaW5zCiAgICAgKgogICAgICogQHZhciBhcnJheQogICAgICovCiAgICBwcml2YXRlICRzcE9mZnNldHM7CgogICAgLyoqCiAgICAgKiBTaGFwZSB0eXBlcy4KICAgICAqCiAgICAgKiBAdmFyIGFycmF5CiAgICAgKi8KICAgIHByaXZhdGUgJHNwVHlwZXM7CiAgICAKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IKICAgICAqCiAgICAgKiBAcGFyYW0gbWl4ZWQKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRvYmplY3QpCiAgICB7CiAgICAgICAgJHRoaXMtPm9iamVjdCA9ICRvYmplY3Q7CiAgICB9CgogICAgLyoqCiAgICAgKiBQcm9jZXNzIHRoZSBvYmplY3QgdG8gYmUgd3JpdHRlbgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gY2xvc2UoKQogICAgewogICAgICAgIC8vIGluaXRpYWxpemUKICAgICAgICAkdGhpcy0+ZGF0YSA9ICcnOwoKICAgICAgICBzd2l0Y2ggKGdldF9jbGFzcygkdGhpcy0+b2JqZWN0KSkgewogICAgICAgICAgICBjYXNlICdQSFBFeGNlbF9TaGFyZWRfRXNjaGVyJzoKICAgICAgICAgICAgICAgIGlmICgkZGdnQ29udGFpbmVyID0gJHRoaXMtPm9iamVjdC0+Z2V0RGdnQ29udGFpbmVyKCkpIHsKICAgICAgICAgICAgICAgICAgICAkd3JpdGVyID0gbmV3IFBIUEV4Y2VsX1dyaXRlcl9FeGNlbDVfRXNjaGVyKCRkZ2dDb250YWluZXIpOwogICAgICAgICAgICAgICAgICAgICR0aGlzLT5kYXRhID0gJHdyaXRlci0+Y2xvc2UoKTsKICAgICAgICAgICAgICAgIH0gZWxzZWlmICgkZGdDb250YWluZXIgPSAkdGhpcy0+b2JqZWN0LT5nZXREZ0NvbnRhaW5lcigpKSB7CiAgICAgICAgICAgICAgICAgICAgJHdyaXRlciA9IG5ldyBQSFBFeGNlbF9Xcml0ZXJfRXhjZWw1X0VzY2hlcigkZGdDb250YWluZXIpOwogICAgICAgICAgICAgICAgICAgICR0aGlzLT5kYXRhID0gJHdyaXRlci0+Y2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+c3BPZmZzZXRzID0gJHdyaXRlci0+Z2V0U3BPZmZzZXRzKCk7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnNwVHlwZXMgPSAkd3JpdGVyLT5nZXRTcFR5cGVzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnUEhQRXhjZWxfU2hhcmVkX0VzY2hlcl9EZ2dDb250YWluZXInOgogICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBhIGNvbnRhaW5lciByZWNvcmQKCiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplCiAgICAgICAgICAgICAgICAkaW5uZXJEYXRhID0gJyc7CgogICAgICAgICAgICAgICAgLy8gd3JpdGUgdGhlIGRnZwogICAgICAgICAgICAgICAgJHJlY1ZlciAgICAgICAgICAgID0gMHgwOwogICAgICAgICAgICAgICAgJHJlY0luc3RhbmNlICAgID0gMHgwMDAwOwogICAgICAgICAgICAgICAgJHJlY1R5cGUgICAgICAgID0gMHhGMDA2OwoKICAgICAgICAgICAgICAgICRyZWNWZXJJbnN0YW5jZSAgPSAkcmVjVmVyOwogICAgICAgICAgICAgICAgJHJlY1Zlckluc3RhbmNlIHw9ICRyZWNJbnN0YW5jZSA8PCA0OwoKICAgICAgICAgICAgICAgIC8vIGRnZyBkYXRhCiAgICAgICAgICAgICAgICAkZGdnRGF0YSA9CiAgICAgICAgICAgICAgICAgICAgcGFjaygKICAgICAgICAgICAgICAgICAgICAgICAgJ1ZWVlYnLAogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+b2JqZWN0LT5nZXRTcElkTWF4KCksIC8vIG1heGltdW0gc2hhcGUgaWRlbnRpZmllciBpbmNyZWFzZWQgYnkgb25lCiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5vYmplY3QtPmdldENEZ1NhdmVkKCkgKyAxLCAvLyBudW1iZXIgb2YgZmlsZSBpZGVudGlmaWVyIGNsdXN0ZXJzIGluY3JlYXNlZCBieSBvbmUKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPm9iamVjdC0+Z2V0Q1NwU2F2ZWQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPm9iamVjdC0+Z2V0Q0RnU2F2ZWQoKSAvLyBjb3VudCB0b3RhbCBudW1iZXIgb2YgZHJhd2luZ3Mgc2F2ZWQKICAgICAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgIC8vIGFkZCBmaWxlIGlkZW50aWZpZXIgY2x1c3RlcnMgKG9uZSBwZXIgZHJhd2luZykKICAgICAgICAgICAgICAgICRJRENMcyA9ICR0aGlzLT5vYmplY3QtPmdldElEQ0xzKCk7CgogICAgICAgICAgICAgICAgZm9yZWFjaCAoJElEQ0xzIGFzICRkZ0lkID0+ICRtYXhSZWR1Y2VkU3BJZCkgewogICAgICAgICAgICAgICAgICAgICRkZ2dEYXRhIC49IHBhY2soJ1ZWJywgJGRnSWQsICRtYXhSZWR1Y2VkU3BJZCArIDEpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRoZWFkZXIgPSBwYWNrKCd2dlYnLCAkcmVjVmVySW5zdGFuY2UsICRyZWNUeXBlLCBzdHJsZW4oJGRnZ0RhdGEpKTsKICAgICAgICAgICAgICAgICRpbm5lckRhdGEgLj0gJGhlYWRlciAuICRkZ2dEYXRhOwoKICAgICAgICAgICAgICAgIC8vIHdyaXRlIHRoZSBic3RvcmVDb250YWluZXIKICAgICAgICAgICAgICAgIGlmICgkYnN0b3JlQ29udGFpbmVyID0gJHRoaXMtPm9iamVjdC0+Z2V0QnN0b3JlQ29udGFpbmVyKCkpIHsKICAgICAgICAgICAgICAgICAgICAkd3JpdGVyID0gbmV3IFBIUEV4Y2VsX1dyaXRlcl9FeGNlbDVfRXNjaGVyKCRic3RvcmVDb250YWluZXIpOwogICAgICAgICAgICAgICAgICAgICRpbm5lckRhdGEgLj0gJHdyaXRlci0+Y2xvc2UoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyB3cml0ZSB0aGUgcmVjb3JkCiAgICAgICAgICAgICAgICAkcmVjVmVyICAgICAgICAgICAgPSAweEY7CiAgICAgICAgICAgICAgICAkcmVjSW5zdGFuY2UgICAgPSAweDAwMDA7CiAgICAgICAgICAgICAgICAkcmVjVHlwZSAgICAgICAgPSAweEYwMDA7CiAgICAgICAgICAgICAgICAkbGVuZ3RoICAgICAgICAgICAgPSBzdHJsZW4oJGlubmVyRGF0YSk7CgogICAgICAgICAgICAgICAgJHJlY1Zlckluc3RhbmNlICA9ICRyZWNWZXI7CiAgICAgICAgICAgICAgICAkcmVjVmVySW5zdGFuY2UgfD0gJHJlY0luc3RhbmNlIDw8IDQ7CgogICAgICAgICAgICAgICAgJGhlYWRlciA9IHBhY2soJ3Z2VicsICRyZWNWZXJJbnN0YW5jZSwgJHJlY1R5cGUsICRsZW5ndGgpOwoKICAgICAgICAgICAgICAgICR0aGlzLT5kYXRhID0gJGhlYWRlciAuICRpbm5lckRhdGE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnUEhQRXhjZWxfU2hhcmVkX0VzY2hlcl9EZ2dDb250YWluZXJfQnN0b3JlQ29udGFpbmVyJzoKICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYSBjb250YWluZXIgcmVjb3JkCgogICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZQogICAgICAgICAgICAgICAgJGlubmVyRGF0YSA9ICcnOwoKICAgICAgICAgICAgICAgIC8vIHRyZWF0IHRoZSBpbm5lciBkYXRhCiAgICAgICAgICAgICAgICBpZiAoJEJTRUNvbGxlY3Rpb24gPSAkdGhpcy0+b2JqZWN0LT5nZXRCU0VDb2xsZWN0aW9uKCkpIHsKICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICgkQlNFQ29sbGVjdGlvbiBhcyAkQlNFKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICR3cml0ZXIgPSBuZXcgUEhQRXhjZWxfV3JpdGVyX0V4Y2VsNV9Fc2NoZXIoJEJTRSk7CiAgICAgICAgICAgICAgICAgICAgICAgICRpbm5lckRhdGEgLj0gJHdyaXRlci0+Y2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gd3JpdGUgdGhlIHJlY29yZAogICAgICAgICAgICAgICAgJHJlY1ZlciAgICAgICAgICAgID0gMHhGOwogICAgICAgICAgICAgICAgJHJlY0luc3RhbmNlICAgID0gY291bnQoJHRoaXMtPm9iamVjdC0+Z2V0QlNFQ29sbGVjdGlvbigpKTsKICAgICAgICAgICAgICAgICRyZWNUeXBlICAgICAgICA9IDB4RjAwMTsKICAgICAgICAgICAgICAgICRsZW5ndGggICAgICAgICAgICA9IHN0cmxlbigkaW5uZXJEYXRhKTsKCiAgICAgICAgICAgICAgICAkcmVjVmVySW5zdGFuY2UgID0gJHJlY1ZlcjsKICAgICAgICAgICAgICAgICRyZWNWZXJJbnN0YW5jZSB8PSAkcmVjSW5zdGFuY2UgPDwgNDsKCiAgICAgICAgICAgICAgICAkaGVhZGVyID0gcGFjaygndnZWJywgJHJlY1Zlckluc3RhbmNlLCAkcmVjVHlwZSwgJGxlbmd0aCk7CgogICAgICAgICAgICAgICAgJHRoaXMtPmRhdGEgPSAkaGVhZGVyIC4gJGlubmVyRGF0YTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdQSFBFeGNlbF9TaGFyZWRfRXNjaGVyX0RnZ0NvbnRhaW5lcl9Cc3RvcmVDb250YWluZXJfQlNFJzoKICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYSBzZW1pLWNvbnRhaW5lciByZWNvcmQKCiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplCiAgICAgICAgICAgICAgICAkaW5uZXJEYXRhID0gJyc7CgogICAgICAgICAgICAgICAgLy8gaGVyZSB3ZSB0cmVhdCB0aGUgaW5uZXIgZGF0YQogICAgICAgICAgICAgICAgaWYgKCRibGlwID0gJHRoaXMtPm9iamVjdC0+Z2V0QmxpcCgpKSB7CiAgICAgICAgICAgICAgICAgICAgJHdyaXRlciA9IG5ldyBQSFBFeGNlbF9Xcml0ZXJfRXhjZWw1X0VzY2hlcigkYmxpcCk7CiAgICAgICAgICAgICAgICAgICAgJGlubmVyRGF0YSAuPSAkd3JpdGVyLT5jbG9zZSgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemUKICAgICAgICAgICAgICAgICRkYXRhID0gJyc7CgogICAgICAgICAgICAgICAgJGJ0V2luMzIgPSAkdGhpcy0+b2JqZWN0LT5nZXRCbGlwVHlwZSgpOwogICAgICAgICAgICAgICAgJGJ0TWFjT1MgPSAkdGhpcy0+b2JqZWN0LT5nZXRCbGlwVHlwZSgpOwogICAgICAgICAgICAgICAgJGRhdGEgLj0gcGFjaygnQ0MnLCAkYnRXaW4zMiwgJGJ0TWFjT1MpOwoKICAgICAgICAgICAgICAgICRyZ2JVaWQgPSBwYWNrKCdWVlZWJywgMCwgMCwgMCwgMCk7IC8vIHRvZG8KICAgICAgICAgICAgICAgICRkYXRhIC49ICRyZ2JVaWQ7CgogICAgICAgICAgICAgICAgJHRhZyA9IDA7CiAgICAgICAgICAgICAgICAkc2l6ZSA9IHN0cmxlbigkaW5uZXJEYXRhKTsKICAgICAgICAgICAgICAgICRjUmVmID0gMTsKICAgICAgICAgICAgICAgICRmb0RlbGF5ID0gMDsgLy90b2RvCiAgICAgICAgICAgICAgICAkdW51c2VkMSA9IDB4MDsKICAgICAgICAgICAgICAgICRjYk5hbWUgPSAweDA7CiAgICAgICAgICAgICAgICAkdW51c2VkMiA9IDB4MDsKICAgICAgICAgICAgICAgICR1bnVzZWQzID0gMHgwOwogICAgICAgICAgICAgICAgJGRhdGEgLj0gcGFjaygndlZWVkNDQ0MnLCAkdGFnLCAkc2l6ZSwgJGNSZWYsICRmb0RlbGF5LCAkdW51c2VkMSwgJGNiTmFtZSwgJHVudXNlZDIsICR1bnVzZWQzKTsKCiAgICAgICAgICAgICAgICAkZGF0YSAuPSAkaW5uZXJEYXRhOwoKICAgICAgICAgICAgICAgIC8vIHdyaXRlIHRoZSByZWNvcmQKICAgICAgICAgICAgICAgICRyZWNWZXIgICAgICAgICAgICA9IDB4MjsKICAgICAgICAgICAgICAgICRyZWNJbnN0YW5jZSAgICA9ICR0aGlzLT5vYmplY3QtPmdldEJsaXBUeXBlKCk7CiAgICAgICAgICAgICAgICAkcmVjVHlwZSAgICAgICAgPSAweEYwMDc7CiAgICAgICAgICAgICAgICAkbGVuZ3RoICAgICAgICAgICAgPSBzdHJsZW4oJGRhdGEpOwoKICAgICAgICAgICAgICAgICRyZWNWZXJJbnN0YW5jZSAgPSAkcmVjVmVyOwogICAgICAgICAgICAgICAgJHJlY1Zlckluc3RhbmNlIHw9ICAgICRyZWNJbnN0YW5jZSA8PCA0OwoKICAgICAgICAgICAgICAgICRoZWFkZXIgPSBwYWNrKCd2dlYnLCAkcmVjVmVySW5zdGFuY2UsICRyZWNUeXBlLCAkbGVuZ3RoKTsKCiAgICAgICAgICAgICAgICAkdGhpcy0+ZGF0YSA9ICRoZWFkZXI7CgogICAgICAgICAgICAgICAgJHRoaXMtPmRhdGEgLj0gJGRhdGE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnUEhQRXhjZWxfU2hhcmVkX0VzY2hlcl9EZ2dDb250YWluZXJfQnN0b3JlQ29udGFpbmVyX0JTRV9CbGlwJzoKICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYW4gYXRvbSByZWNvcmQKCiAgICAgICAgICAgICAgICAvLyB3cml0ZSB0aGUgcmVjb3JkCiAgICAgICAgICAgICAgICBzd2l0Y2ggKCR0aGlzLT5vYmplY3QtPmdldFBhcmVudCgpLT5nZXRCbGlwVHlwZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSBQSFBFeGNlbF9TaGFyZWRfRXNjaGVyX0RnZ0NvbnRhaW5lcl9Cc3RvcmVDb250YWluZXJfQlNFOjpCTElQVFlQRV9KUEVHOgogICAgICAgICAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplCiAgICAgICAgICAgICAgICAgICAgICAgICRpbm5lckRhdGEgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICRyZ2JVaWQxID0gcGFjaygnVlZWVicsIDAsIDAsIDAsIDApOyAvLyB0b2RvCiAgICAgICAgICAgICAgICAgICAgICAgICRpbm5lckRhdGEgLj0gJHJnYlVpZDE7CgogICAgICAgICAgICAgICAgICAgICAgICAkdGFnID0gMHhGRjsgLy8gdG9kbwogICAgICAgICAgICAgICAgICAgICAgICAkaW5uZXJEYXRhIC49IHBhY2soJ0MnLCAkdGFnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICRpbm5lckRhdGEgLj0gJHRoaXMtPm9iamVjdC0+Z2V0RGF0YSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgJHJlY1ZlciAgICAgICAgICAgID0gMHgwOwogICAgICAgICAgICAgICAgICAgICAgICAkcmVjSW5zdGFuY2UgICAgPSAweDQ2QTsKICAgICAgICAgICAgICAgICAgICAgICAgJHJlY1R5cGUgICAgICAgID0gMHhGMDFEOwogICAgICAgICAgICAgICAgICAgICAgICAkbGVuZ3RoICAgICAgICAgICAgPSBzdHJsZW4oJGlubmVyRGF0YSk7CgogICAgICAgICAgICAgICAgICAgICAgICAkcmVjVmVySW5zdGFuY2UgID0gJHJlY1ZlcjsKICAgICAgICAgICAgICAgICAgICAgICAgJHJlY1Zlckluc3RhbmNlIHw9ICAgICRyZWNJbnN0YW5jZSA8PCA0OwoKICAgICAgICAgICAgICAgICAgICAgICAgJGhlYWRlciA9IHBhY2soJ3Z2VicsICRyZWNWZXJJbnN0YW5jZSwgJHJlY1R5cGUsICRsZW5ndGgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmRhdGEgPSAkaGVhZGVyOwoKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmRhdGEgLj0gJGlubmVyRGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgUEhQRXhjZWxfU2hhcmVkX0VzY2hlcl9EZ2dDb250YWluZXJfQnN0b3JlQ29udGFpbmVyX0JTRTo6QkxJUFRZUEVfUE5HOgogICAgICAgICAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplCiAgICAgICAgICAgICAgICAgICAgICAgICRpbm5lckRhdGEgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICRyZ2JVaWQxID0gcGFjaygnVlZWVicsIDAsIDAsIDAsIDApOyAvLyB0b2RvCiAgICAgICAgICAgICAgICAgICAgICAgICRpbm5lckRhdGEgLj0gJHJnYlVpZDE7CgogICAgICAgICAgICAgICAgICAgICAgICAkdGFnID0gMHhGRjsgLy8gdG9kbwogICAgICAgICAgICAgICAgICAgICAgICAkaW5uZXJEYXRhIC49IHBhY2soJ0MnLCAkdGFnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICRpbm5lckRhdGEgLj0gJHRoaXMtPm9iamVjdC0+Z2V0RGF0YSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgJHJlY1ZlciAgICAgICAgICAgID0gMHgwOwogICAgICAgICAgICAgICAgICAgICAgICAkcmVjSW5zdGFuY2UgICAgPSAweDZFMDsKICAgICAgICAgICAgICAgICAgICAgICAgJHJlY1R5cGUgICAgICAgID0gMHhGMDFFOwogICAgICAgICAgICAgICAgICAgICAgICAkbGVuZ3RoICAgICAgICAgICAgPSBzdHJsZW4oJGlubmVyRGF0YSk7CgogICAgICAgICAgICAgICAgICAgICAgICAkcmVjVmVySW5zdGFuY2UgID0gJHJlY1ZlcjsKICAgICAgICAgICAgICAgICAgICAgICAgJHJlY1Zlckluc3RhbmNlIHw9ICAgICRyZWNJbnN0YW5jZSA8PCA0OwoKICAgICAgICAgICAgICAgICAgICAgICAgJGhlYWRlciA9IHBhY2soJ3Z2VicsICRyZWNWZXJJbnN0YW5jZSwgJHJlY1R5cGUsICRsZW5ndGgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmRhdGEgPSAkaGVhZGVyOwoKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmRhdGEgLj0gJGlubmVyRGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnUEhQRXhjZWxfU2hhcmVkX0VzY2hlcl9EZ0NvbnRhaW5lcic6CiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGEgY29udGFpbmVyIHJlY29yZAoKICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemUKICAgICAgICAgICAgICAgICRpbm5lckRhdGEgPSAnJzsKCiAgICAgICAgICAgICAgICAvLyB3cml0ZSB0aGUgZGcKICAgICAgICAgICAgICAgICRyZWNWZXIgICAgICAgICAgICA9IDB4MDsKICAgICAgICAgICAgICAgICRyZWNJbnN0YW5jZSAgICA9ICR0aGlzLT5vYmplY3QtPmdldERnSWQoKTsKICAgICAgICAgICAgICAgICRyZWNUeXBlICAgICAgICA9IDB4RjAwODsKICAgICAgICAgICAgICAgICRsZW5ndGggICAgICAgICAgICA9IDg7CgogICAgICAgICAgICAgICAgJHJlY1Zlckluc3RhbmNlICA9ICRyZWNWZXI7CiAgICAgICAgICAgICAgICAkcmVjVmVySW5zdGFuY2UgfD0gJHJlY0luc3RhbmNlIDw8IDQ7CgogICAgICAgICAgICAgICAgJGhlYWRlciA9IHBhY2soJ3Z2VicsICRyZWNWZXJJbnN0YW5jZSwgJHJlY1R5cGUsICRsZW5ndGgpOwoKICAgICAgICAgICAgICAgIC8vIG51bWJlciBvZiBzaGFwZXMgaW4gdGhpcyBkcmF3aW5nIChpbmNsdWRpbmcgZ3JvdXAgc2hhcGUpCiAgICAgICAgICAgICAgICAkY291bnRTaGFwZXMgPSBjb3VudCgkdGhpcy0+b2JqZWN0LT5nZXRTcGdyQ29udGFpbmVyKCktPmdldENoaWxkcmVuKCkpOwogICAgICAgICAgICAgICAgJGlubmVyRGF0YSAuPSAkaGVhZGVyIC4gcGFjaygnVlYnLCAkY291bnRTaGFwZXMsICR0aGlzLT5vYmplY3QtPmdldExhc3RTcElkKCkpOwogICAgICAgICAgICAgICAgLy8kaW5uZXJEYXRhIC49ICRoZWFkZXIgLiBwYWNrKCdWVicsIDAsIDApOwoKICAgICAgICAgICAgICAgIC8vIHdyaXRlIHRoZSBzcGdyQ29udGFpbmVyCiAgICAgICAgICAgICAgICBpZiAoJHNwZ3JDb250YWluZXIgPSAkdGhpcy0+b2JqZWN0LT5nZXRTcGdyQ29udGFpbmVyKCkpIHsKICAgICAgICAgICAgICAgICAgICAkd3JpdGVyID0gbmV3IFBIUEV4Y2VsX1dyaXRlcl9FeGNlbDVfRXNjaGVyKCRzcGdyQ29udGFpbmVyKTsKICAgICAgICAgICAgICAgICAgICAkaW5uZXJEYXRhIC49ICR3cml0ZXItPmNsb3NlKCk7CgogICAgICAgICAgICAgICAgICAgIC8vIGdldCB0aGUgc2hhcGUgb2Zmc2V0cyByZWxhdGl2ZSB0byB0aGUgc3BnckNvbnRhaW5lciByZWNvcmQKICAgICAgICAgICAgICAgICAgICAkc3BPZmZzZXRzID0gJHdyaXRlci0+Z2V0U3BPZmZzZXRzKCk7CiAgICAgICAgICAgICAgICAgICAgJHNwVHlwZXMgICA9ICR3cml0ZXItPmdldFNwVHlwZXMoKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBzYXZlIHRoZSBzaGFwZSBvZmZzZXRzIHJlbGF0aXZlIHRvIGRnQ29udGFpbmVyCiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJHNwT2Zmc2V0cyBhcyAmICRzcE9mZnNldCkgewogICAgICAgICAgICAgICAgICAgICAgICAkc3BPZmZzZXQgKz0gMjQ7IC8vIGFkZCBsZW5ndGggb2YgZGdDb250YWluZXIgaGVhZGVyIGRhdGEgKDggYnl0ZXMpIHBsdXMgZGcgZGF0YSAoMTYgYnl0ZXMpCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+c3BPZmZzZXRzID0gJHNwT2Zmc2V0czsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+c3BUeXBlcyA9ICRzcFR5cGVzOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIHdyaXRlIHRoZSByZWNvcmQKICAgICAgICAgICAgICAgICRyZWNWZXIgICAgICAgICAgICA9IDB4RjsKICAgICAgICAgICAgICAgICRyZWNJbnN0YW5jZSAgICA9IDB4MDAwMDsKICAgICAgICAgICAgICAgICRyZWNUeXBlICAgICAgICA9IDB4RjAwMjsKICAgICAgICAgICAgICAgICRsZW5ndGggICAgICAgICAgICA9IHN0cmxlbigkaW5uZXJEYXRhKTsKCiAgICAgICAgICAgICAgICAkcmVjVmVySW5zdGFuY2UgID0gJHJlY1ZlcjsKICAgICAgICAgICAgICAgICRyZWNWZXJJbnN0YW5jZSB8PSAkcmVjSW5zdGFuY2UgPDwgNDsKCiAgICAgICAgICAgICAgICAkaGVhZGVyID0gcGFjaygndnZWJywgJHJlY1Zlckluc3RhbmNlLCAkcmVjVHlwZSwgJGxlbmd0aCk7CgogICAgICAgICAgICAgICAgJHRoaXMtPmRhdGEgPSAkaGVhZGVyIC4gJGlubmVyRGF0YTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdQSFBFeGNlbF9TaGFyZWRfRXNjaGVyX0RnQ29udGFpbmVyX1NwZ3JDb250YWluZXInOgogICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBhIGNvbnRhaW5lciByZWNvcmQKCiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplCiAgICAgICAgICAgICAgICAkaW5uZXJEYXRhID0gJyc7CgogICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZSBzcGFwZSBvZmZzZXRzCiAgICAgICAgICAgICAgICAkdG90YWxTaXplID0gODsKICAgICAgICAgICAgICAgICRzcE9mZnNldHMgPSBhcnJheSgpOwogICAgICAgICAgICAgICAgJHNwVHlwZXMgICA9IGFycmF5KCk7CgogICAgICAgICAgICAgICAgLy8gdHJlYXQgdGhlIGlubmVyIGRhdGEKICAgICAgICAgICAgICAgIGZvcmVhY2ggKCR0aGlzLT5vYmplY3QtPmdldENoaWxkcmVuKCkgYXMgJHNwQ29udGFpbmVyKSB7CiAgICAgICAgICAgICAgICAgICAgJHdyaXRlciA9IG5ldyBQSFBFeGNlbF9Xcml0ZXJfRXhjZWw1X0VzY2hlcigkc3BDb250YWluZXIpOwogICAgICAgICAgICAgICAgICAgICRzcERhdGEgPSAkd3JpdGVyLT5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgICRpbm5lckRhdGEgLj0gJHNwRGF0YTsKCiAgICAgICAgICAgICAgICAgICAgLy8gc2F2ZSB0aGUgc2hhcGUgb2Zmc2V0cyAod2hlcmUgbmV3IHNoYXBlIHJlY29yZHMgYmVnaW4pCiAgICAgICAgICAgICAgICAgICAgJHRvdGFsU2l6ZSArPSBzdHJsZW4oJHNwRGF0YSk7CiAgICAgICAgICAgICAgICAgICAgJHNwT2Zmc2V0c1tdID0gJHRvdGFsU2l6ZTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAkc3BUeXBlcyA9IGFycmF5X21lcmdlKCRzcFR5cGVzLCAkd3JpdGVyLT5nZXRTcFR5cGVzKCkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIHdyaXRlIHRoZSByZWNvcmQKICAgICAgICAgICAgICAgICRyZWNWZXIgICAgICAgICAgICA9IDB4RjsKICAgICAgICAgICAgICAgICRyZWNJbnN0YW5jZSAgICA9IDB4MDAwMDsKICAgICAgICAgICAgICAgICRyZWNUeXBlICAgICAgICA9IDB4RjAwMzsKICAgICAgICAgICAgICAgICRsZW5ndGggICAgICAgICAgICA9IHN0cmxlbigkaW5uZXJEYXRhKTsKCiAgICAgICAgICAgICAgICAkcmVjVmVySW5zdGFuY2UgID0gJHJlY1ZlcjsKICAgICAgICAgICAgICAgICRyZWNWZXJJbnN0YW5jZSB8PSAkcmVjSW5zdGFuY2UgPDwgNDsKCiAgICAgICAgICAgICAgICAkaGVhZGVyID0gcGFjaygndnZWJywgJHJlY1Zlckluc3RhbmNlLCAkcmVjVHlwZSwgJGxlbmd0aCk7CgogICAgICAgICAgICAgICAgJHRoaXMtPmRhdGEgPSAkaGVhZGVyIC4gJGlubmVyRGF0YTsKICAgICAgICAgICAgICAgICR0aGlzLT5zcE9mZnNldHMgPSAkc3BPZmZzZXRzOwogICAgICAgICAgICAgICAgJHRoaXMtPnNwVHlwZXMgPSAkc3BUeXBlczsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdQSFBFeGNlbF9TaGFyZWRfRXNjaGVyX0RnQ29udGFpbmVyX1NwZ3JDb250YWluZXJfU3BDb250YWluZXInOgogICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZQogICAgICAgICAgICAgICAgJGRhdGEgPSAnJzsKCiAgICAgICAgICAgICAgICAvLyBidWlsZCB0aGUgZGF0YQoKICAgICAgICAgICAgICAgIC8vIHdyaXRlIGdyb3VwIHNoYXBlIHJlY29yZCwgaWYgbmVjZXNzYXJ5PwogICAgICAgICAgICAgICAgaWYgKCR0aGlzLT5vYmplY3QtPmdldFNwZ3IoKSkgewogICAgICAgICAgICAgICAgICAgICRyZWNWZXIgICAgICAgICAgICA9IDB4MTsKICAgICAgICAgICAgICAgICAgICAkcmVjSW5zdGFuY2UgICAgPSAweDAwMDA7CiAgICAgICAgICAgICAgICAgICAgJHJlY1R5cGUgICAgICAgID0gMHhGMDA5OwogICAgICAgICAgICAgICAgICAgICRsZW5ndGggICAgICAgICAgICA9IDB4MDAwMDAwMTA7CgogICAgICAgICAgICAgICAgICAgICRyZWNWZXJJbnN0YW5jZSAgPSAkcmVjVmVyOwogICAgICAgICAgICAgICAgICAgICRyZWNWZXJJbnN0YW5jZSB8PSAkcmVjSW5zdGFuY2UgPDwgNDsKCiAgICAgICAgICAgICAgICAgICAgJGhlYWRlciA9IHBhY2soJ3Z2VicsICRyZWNWZXJJbnN0YW5jZSwgJHJlY1R5cGUsICRsZW5ndGgpOwoKICAgICAgICAgICAgICAgICAgICAkZGF0YSAuPSAkaGVhZGVyIC4gcGFjaygnVlZWVicsIDAsIDAsIDAsIDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJHRoaXMtPnNwVHlwZXNbXSA9ICgkdGhpcy0+b2JqZWN0LT5nZXRTcFR5cGUoKSk7CgogICAgICAgICAgICAgICAgLy8gd3JpdGUgdGhlIHNoYXBlIHJlY29yZAogICAgICAgICAgICAgICAgJHJlY1ZlciAgICAgICAgICAgID0gMHgyOwogICAgICAgICAgICAgICAgJHJlY0luc3RhbmNlICAgID0gJHRoaXMtPm9iamVjdC0+Z2V0U3BUeXBlKCk7IC8vIHNoYXBlIHR5cGUKICAgICAgICAgICAgICAgICRyZWNUeXBlICAgICAgICA9IDB4RjAwQTsKICAgICAgICAgICAgICAgICRsZW5ndGggICAgICAgICAgICA9IDB4MDAwMDAwMDg7CgogICAgICAgICAgICAgICAgJHJlY1Zlckluc3RhbmNlICA9ICRyZWNWZXI7CiAgICAgICAgICAgICAgICAkcmVjVmVySW5zdGFuY2UgfD0gJHJlY0luc3RhbmNlIDw8IDQ7CgogICAgICAgICAgICAgICAgJGhlYWRlciA9IHBhY2soJ3Z2VicsICRyZWNWZXJJbnN0YW5jZSwgJHJlY1R5cGUsICRsZW5ndGgpOwoKICAgICAgICAgICAgICAgICRkYXRhIC49ICRoZWFkZXIgLiBwYWNrKCdWVicsICR0aGlzLT5vYmplY3QtPmdldFNwSWQoKSwgJHRoaXMtPm9iamVjdC0+Z2V0U3BncigpID8gMHgwMDA1IDogMHgwQTAwKTsKCgogICAgICAgICAgICAgICAgLy8gdGhlIG9wdGlvbnMKICAgICAgICAgICAgICAgIGlmICgkdGhpcy0+b2JqZWN0LT5nZXRPUFRDb2xsZWN0aW9uKCkpIHsKICAgICAgICAgICAgICAgICAgICAkb3B0RGF0YSA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAkcmVjVmVyICAgICAgICAgICAgPSAweDM7CiAgICAgICAgICAgICAgICAgICAgJHJlY0luc3RhbmNlICAgID0gY291bnQoJHRoaXMtPm9iamVjdC0+Z2V0T1BUQ29sbGVjdGlvbigpKTsKICAgICAgICAgICAgICAgICAgICAkcmVjVHlwZSAgICAgICAgPSAweEYwMEI7CiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJHRoaXMtPm9iamVjdC0+Z2V0T1BUQ29sbGVjdGlvbigpIGFzICRwcm9wZXJ0eSA9PiAkdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJG9wdERhdGEgLj0gcGFjaygndlYnLCAkcHJvcGVydHksICR2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRsZW5ndGggICAgICAgICAgICA9IHN0cmxlbigkb3B0RGF0YSk7CgogICAgICAgICAgICAgICAgICAgICRyZWNWZXJJbnN0YW5jZSAgPSAkcmVjVmVyOwogICAgICAgICAgICAgICAgICAgICRyZWNWZXJJbnN0YW5jZSB8PSAkcmVjSW5zdGFuY2UgPDwgNDsKCiAgICAgICAgICAgICAgICAgICAgJGhlYWRlciA9IHBhY2soJ3Z2VicsICRyZWNWZXJJbnN0YW5jZSwgJHJlY1R5cGUsICRsZW5ndGgpOwogICAgICAgICAgICAgICAgICAgICRkYXRhIC49ICRoZWFkZXIgLiAkb3B0RGF0YTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyB0aGUgY2xpZW50IGFuY2hvcgogICAgICAgICAgICAgICAgaWYgKCR0aGlzLT5vYmplY3QtPmdldFN0YXJ0Q29vcmRpbmF0ZXMoKSkgewogICAgICAgICAgICAgICAgICAgICRjbGllbnRBbmNob3JEYXRhID0gJyc7CgogICAgICAgICAgICAgICAgICAgICRyZWNWZXIgICAgICAgICAgICA9IDB4MDsKICAgICAgICAgICAgICAgICAgICAkcmVjSW5zdGFuY2UgICAgPSAweDA7CiAgICAgICAgICAgICAgICAgICAgJHJlY1R5cGUgICAgICAgID0gMHhGMDEwOwoKICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBjb29yZGluYXRlcwogICAgICAgICAgICAgICAgICAgIGxpc3QoJGNvbHVtbiwgJHJvdykgPSBQSFBFeGNlbF9DZWxsOjpjb29yZGluYXRlRnJvbVN0cmluZygkdGhpcy0+b2JqZWN0LT5nZXRTdGFydENvb3JkaW5hdGVzKCkpOwogICAgICAgICAgICAgICAgICAgICRjMSA9IFBIUEV4Y2VsX0NlbGw6OmNvbHVtbkluZGV4RnJvbVN0cmluZygkY29sdW1uKSAtIDE7CiAgICAgICAgICAgICAgICAgICAgJHIxID0gJHJvdyAtIDE7CgogICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IG9mZnNldFgKICAgICAgICAgICAgICAgICAgICAkc3RhcnRPZmZzZXRYID0gJHRoaXMtPm9iamVjdC0+Z2V0U3RhcnRPZmZzZXRYKCk7CgogICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IG9mZnNldFkKICAgICAgICAgICAgICAgICAgICAkc3RhcnRPZmZzZXRZID0gJHRoaXMtPm9iamVjdC0+Z2V0U3RhcnRPZmZzZXRZKCk7CgogICAgICAgICAgICAgICAgICAgIC8vIGVuZCBjb29yZGluYXRlcwogICAgICAgICAgICAgICAgICAgIGxpc3QoJGNvbHVtbiwgJHJvdykgPSBQSFBFeGNlbF9DZWxsOjpjb29yZGluYXRlRnJvbVN0cmluZygkdGhpcy0+b2JqZWN0LT5nZXRFbmRDb29yZGluYXRlcygpKTsKICAgICAgICAgICAgICAgICAgICAkYzIgPSBQSFBFeGNlbF9DZWxsOjpjb2x1bW5JbmRleEZyb21TdHJpbmcoJGNvbHVtbikgLSAxOwogICAgICAgICAgICAgICAgICAgICRyMiA9ICRyb3cgLSAxOwoKICAgICAgICAgICAgICAgICAgICAvLyBlbmQgb2Zmc2V0WAogICAgICAgICAgICAgICAgICAgICRlbmRPZmZzZXRYID0gJHRoaXMtPm9iamVjdC0+Z2V0RW5kT2Zmc2V0WCgpOwoKICAgICAgICAgICAgICAgICAgICAvLyBlbmQgb2Zmc2V0WQogICAgICAgICAgICAgICAgICAgICRlbmRPZmZzZXRZID0gJHRoaXMtPm9iamVjdC0+Z2V0RW5kT2Zmc2V0WSgpOwoKICAgICAgICAgICAgICAgICAgICAkY2xpZW50QW5jaG9yRGF0YSA9IHBhY2soJ3Z2dnZ2dnZ2dicsICR0aGlzLT5vYmplY3QtPmdldFNwRmxhZygpLCAkYzEsICRzdGFydE9mZnNldFgsICRyMSwgJHN0YXJ0T2Zmc2V0WSwgJGMyLCAkZW5kT2Zmc2V0WCwgJHIyLCAkZW5kT2Zmc2V0WSk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgJGxlbmd0aCAgICAgICAgICAgID0gc3RybGVuKCRjbGllbnRBbmNob3JEYXRhKTsKCiAgICAgICAgICAgICAgICAgICAgJHJlY1Zlckluc3RhbmNlICA9ICRyZWNWZXI7CiAgICAgICAgICAgICAgICAgICAgJHJlY1Zlckluc3RhbmNlIHw9ICRyZWNJbnN0YW5jZSA8PCA0OwoKICAgICAgICAgICAgICAgICAgICAkaGVhZGVyID0gcGFjaygndnZWJywgJHJlY1Zlckluc3RhbmNlLCAkcmVjVHlwZSwgJGxlbmd0aCk7CiAgICAgICAgICAgICAgICAgICAgJGRhdGEgLj0gJGhlYWRlciAuICRjbGllbnRBbmNob3JEYXRhOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIHRoZSBjbGllbnQgZGF0YSwganVzdCBlbXB0eSBmb3Igbm93CiAgICAgICAgICAgICAgICBpZiAoISR0aGlzLT5vYmplY3QtPmdldFNwZ3IoKSkgewogICAgICAgICAgICAgICAgICAgICRjbGllbnREYXRhRGF0YSA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAkcmVjVmVyICAgICAgICAgICAgPSAweDA7CiAgICAgICAgICAgICAgICAgICAgJHJlY0luc3RhbmNlICAgID0gMHgwOwogICAgICAgICAgICAgICAgICAgICRyZWNUeXBlICAgICAgICA9IDB4RjAxMTsKCiAgICAgICAgICAgICAgICAgICAgJGxlbmd0aCA9IHN0cmxlbigkY2xpZW50RGF0YURhdGEpOwoKICAgICAgICAgICAgICAgICAgICAkcmVjVmVySW5zdGFuY2UgID0gJHJlY1ZlcjsKICAgICAgICAgICAgICAgICAgICAkcmVjVmVySW5zdGFuY2UgfD0gJHJlY0luc3RhbmNlIDw8IDQ7CgogICAgICAgICAgICAgICAgICAgICRoZWFkZXIgPSBwYWNrKCd2dlYnLCAkcmVjVmVySW5zdGFuY2UsICRyZWNUeXBlLCAkbGVuZ3RoKTsKICAgICAgICAgICAgICAgICAgICAkZGF0YSAuPSAkaGVhZGVyIC4gJGNsaWVudERhdGFEYXRhOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIHdyaXRlIHRoZSByZWNvcmQKICAgICAgICAgICAgICAgICRyZWNWZXIgICAgICAgICAgICA9IDB4RjsKICAgICAgICAgICAgICAgICRyZWNJbnN0YW5jZSAgICA9IDB4MDAwMDsKICAgICAgICAgICAgICAgICRyZWNUeXBlICAgICAgICA9IDB4RjAwNDsKICAgICAgICAgICAgICAgICRsZW5ndGggICAgICAgICAgICA9IHN0cmxlbigkZGF0YSk7CgogICAgICAgICAgICAgICAgJHJlY1Zlckluc3RhbmNlICA9ICRyZWNWZXI7CiAgICAgICAgICAgICAgICAkcmVjVmVySW5zdGFuY2UgfD0gJHJlY0luc3RhbmNlIDw8IDQ7CgogICAgICAgICAgICAgICAgJGhlYWRlciA9IHBhY2soJ3Z2VicsICRyZWNWZXJJbnN0YW5jZSwgJHJlY1R5cGUsICRsZW5ndGgpOwoKICAgICAgICAgICAgICAgICR0aGlzLT5kYXRhID0gJGhlYWRlciAuICRkYXRhOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJHRoaXMtPmRhdGE7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXRzIHRoZSBzaGFwZSBvZmZzZXRzCiAgICAgKgogICAgICogQHJldHVybiBhcnJheQogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0U3BPZmZzZXRzKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPnNwT2Zmc2V0czsKICAgIH0KCiAgICAvKioKICAgICAqIEdldHMgdGhlIHNoYXBlIHR5cGVzCiAgICAgKgogICAgICogQHJldHVybiBhcnJheQogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0U3BUeXBlcygpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5zcFR5cGVzOwogICAgfQp9Cg==",
    "size": "18715"
}