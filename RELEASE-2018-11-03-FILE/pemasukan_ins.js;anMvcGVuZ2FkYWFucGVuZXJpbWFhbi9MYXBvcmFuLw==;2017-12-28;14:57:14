{
    "namaFile": "js\/pengadaanpenerimaan\/Laporan\/pemasukan_ins.js",
    "lastUpdate": "2017-12-28+14:57:14.37",
    "contentFile": "dmFyIHBlbWFzdWthbl9pbnNTS1BEID0gbmV3IFNrcGRDbHMoew0KCXByZWZpeCA6ICdwZW1hc3VrYW5faW5zU0tQRCcsIGZvcm1OYW1lOidwZW1hc3VrYW5faW5zRm9ybScsIGtvbG9tV2lkdGg6MTIwLA0KCQ0KCWEgOiBmdW5jdGlvbigpew0KCQlhbGVydCgnZHNmJyk7DQoJfSwNCn0pOw0KDQp2YXIgcGVtYXN1a2FuX2lucyA9IG5ldyBEYWZ0YXJPYmoyKHsNCglwcmVmaXggOiAncGVtYXN1a2FuX2lucycsDQoJdXJsIDogJ3BhZ2VzLnBocD9QZz1wZW1hc3VrYW5faW5zJywgDQoJZm9ybU5hbWUgOiAncGVtYXN1a2FuX2luc0Zvcm0nLA0KCXNhdHVhbl9mb3JtIDogJzAnLC8vZGVmYXVsdCBqcyBzYXR1YW4NCgkNCgkNCgkNCglsb2FkaW5nOiBmdW5jdGlvbigpew0KCQkvL2FsZXJ0KCdsb2FkaW5nJyk7DQoJCXRoaXMudG9wQmFyUmVuZGVyKCk7DQoJCXRoaXMuZmlsdGVyUmVuZGVyKCk7DQoJCS8vc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge3ZhciBtZT10aGlzO21lLnRhYmVsUmVrZW5pbmcoKX0sMTAwKTsNCgkJLy9zZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7dmFyIG1lPXRoaXM7bWUudGFiZWxSZWtlbmluZygpfSwxMDApOw0KCQkvL3NldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHtkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVrZXJqYWFuJykuZm9jdXMoKX0sMTAwMCk7DQoJCS8vdGhpcy5kYWZ0YXJSZW5kZXIoKTsNCgkJLy90aGlzLnN1bUhhbFJlbmRlcigpOw0KCQ0KCX0sCQ0KCQ0KCWZpbHRlclJlbmRlckFmdGVyIDogZnVuY3Rpb24oKXsNCgkJdmFyIG1lID0gdGhpczsNCgkJDQoJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHttZS5jYXJhcGVyb2xlaGFuKCl9LDEwMDApOw0KCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7bWUuaW5wdXRwZW5lcmltYWFuKCl9LDEwMDApOw0KCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7bWUucmluY2lhbnBlbmVyaW1hYW4oKX0sMTAwMCk7DQoJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHttZS5TZXRQZW5lcmltYSgpfSwxMDAwKTsNCgkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge21lLkdldF9UYW5nZ2FsRG9rX1N1bWJlcigpfSwxMDAwKTsNCgkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge21lLm55YWxha2FuZGF0ZXBpY2tlcigpfSwxMDAwKTsNCgkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge21lLm55YWxha2FuZGF0ZXBpY2tlcjIoKX0sMTAwMCk7DQoJCQkJCQkNCgkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge3BhcmVudC53aW5kb3cub251bmxvYWQ9bWUuVHV0dXBIYWxhbWFuKCl9LDEwMDApOw0KCX0sDQoJDQoJbnlhbGFrYW5kYXRlcGlja2VyOiBmdW5jdGlvbigpew0KCQkNCgkJJCggIi5kYXRlcGlja2VyIiApLmRhdGVwaWNrZXIoeyANCgkJCWRhdGVGb3JtYXQ6ICJkZC1tbS15eSIsIA0KCQkJc2hvd0FuaW06ICJzbGlkZURvd24iLA0KCQkJaW5saW5lOiB0cnVlLA0KCQkJc2hvd09uOiAiYnV0dG9uIiwNCgkJCWJ1dHRvbkltYWdlOiAiZGF0ZXBpY2tlci9jYWxlbmRlcjEucG5nIiwNCgkJCWJ1dHRvbkltYWdlT25seTogdHJ1ZSwNCgkJCWNoYW5nZU1vbnRoOiB0cnVlLA0KCQkJY2hhbmdlWWVhcjogdHJ1ZSwNCgkJCXllYXJSYW5nZTogIi0xMDA6KzAiLA0KCQkJYnV0dG9uVGV4dCA6ICIiLA0KCQl9KTsJDQoJfSwNCgkNCglueWFsYWthbmRhdGVwaWNrZXIyOiBmdW5jdGlvbigpew0KCQkNCgkJJCggIi5kYXRlcGlja2VyMiIgKS5kYXRlcGlja2VyKHsgDQoJCQlkYXRlRm9ybWF0OiAiZGQtbW0iLCANCgkJCXNob3dBbmltOiAic2xpZGVEb3duIiwNCgkJCWlubGluZTogdHJ1ZSwNCgkJCXNob3dPbjogImJ1dHRvbiIsDQoJCQlidXR0b25JbWFnZTogImRhdGVwaWNrZXIvY2FsZW5kZXIxLnBuZyIsDQoJCQlidXR0b25JbWFnZU9ubHk6IHRydWUsDQoJCQljaGFuZ2VNb250aDogdHJ1ZSwNCgkJCWNoYW5nZVllYXI6IHRydWUsDQoJCQl5ZWFyUmFuZ2U6ICItMTAwOiswIiwNCgkJCWJ1dHRvblRleHQgOiAiIiwNCgkJfSk7CQ0KCX0sDQoNCglpbnB1dHBlbmVyaW1hYW46IGZ1bmN0aW9uKCl7DQoJCS8qZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0cGVuZXJpbWFhbmJhcmFuZycpLnN0eWxlLmNvbG9yID0gImJsdWUiOw0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXRwZW5lcmltYWFuYmFyYW5nJykuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JpbmNpYW5wZW5lcmltYWFuYmFyYW5nJykuc3R5bGUuY29sb3IgPSAicmVkIjsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JpbmNpYW5wZW5lcmltYWFuYmFyYW5nJykuc3R5bGUuZm9udFdlaWdodCA9ICIiOyovDQoJCQ0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPWlucHV0cGVuZXJpbWFhbkRFVCcsDQoJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YWJhcmFuZ255YScpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCX0NCgkJCX0NCgkJfSk7CQ0KCQkNCgl9LA0KCQ0KCXJpbmNpYW5wZW5lcmltYWFuOiBmdW5jdGlvbigpew0KCQl2YXIgbWU9dGhpczsNCgkJLypkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmluY2lhbnBlbmVyaW1hYW5iYXJhbmcnKS5zdHlsZS5jb2xvciA9ICJibHVlIjsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JpbmNpYW5wZW5lcmltYWFuYmFyYW5nJykuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0cGVuZXJpbWFhbmJhcmFuZycpLnN0eWxlLmNvbG9yID0gInJlZCI7DQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dHBlbmVyaW1hYW5iYXJhbmcnKS5zdHlsZS5mb250V2VpZ2h0ID0gIiI7Ki8NCgkJDQoJCS8qJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1yaW5jaWFucGVuZXJpbWFhbkRFVCcsDQoJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmluY2lhbmRhdGFiYXJhbmdueWEnKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHtwZW1hc3VrYW5faW5zLkNla1Nlc3VhaSgpfSwxMDApOw0KCQkJCQkNCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCX0NCgkJCX0NCgkJfSk7CSovDQoJCW1lLkFtYmlsUGVtYXN1a2FuRGV0KCk7DQoJfSwNCgkJDQoJdGFiZWxSZWtlbmluZzogZnVuY3Rpb24oaGFwdXMgPSAxKXsNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT10YWJlbFJla2VuaW5nJkhhcHVzRGF0YT0nK2hhcHVzLA0KCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQkJDQoJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RibF9yZWtlbmluZycpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC50YWJlbDsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvdGFsYmVsYW5qYTIzJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Lmp1bWxhaDsNCgkJCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2tvZGVyZWsnKSl7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna29kZXJlaycpLmZvY3VzKCk7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXRhc2J1dHRvbicpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5hdGFzYnV0dG9uOw0KCQkJCQkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge3BlbWFzdWthbl9pbnMuQ2VrU2VzdWFpKCl9LDEwMDApOw0KCQkJCQl9DQoJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHtwZW1hc3VrYW5faW5zLnJlbG9hZF9jYXJhYmF5YXIoKX0sMTAwMCk7CQkJCQkNCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCX0NCgkJCX0NCgkJfSk7CQ0KCQkNCgkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge3BlbWFzdWthbl9pbnMuQ2VrU2VzdWFpKCl9LDEwMDApOw0KCX0sDQoJDQoJY2FyYXBlcm9sZWhhbjogZnVuY3Rpb24oQklSTVMgPSAwKXsNCgkJdmFyIGFzYWx1c3VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FzYWx1c3VsJykudmFsdWU7DQoJCXZhciBtZSA9dGhpczsNCgkJDQoJCWlmKGFzYWx1c3VsID09ICcxJyl7DQoJCQkkLmFqYXgoew0KCQkJCQl0eXBlOidQT1NUJywgDQoJCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPWNhcmFwZXJvbGVoYW4nLA0KCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQ0KCQkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGlsQ2FyYVBlcm9sZWhhbicpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7cGVtYXN1a2FuX2lucy50YWJlbFJla2VuaW5nKCl9LDEwMCk7CQkJCQkJDQoJCQkJCQkJaWYoQklSTVMgPT0gMSl7DQoJCQkJCQkJCW1lLkFmdGVyUGlsQklSTSgpOw0KCQkJCQkJCX1lbHNlew0KCQkJCQkJCQl2YXIgS0VCSVJNUyA9IHRydWU7DQoJCQkJCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJrb2RlX2FjY291bnRfYXAiKS52YWx1ZSA9PSAiIilLRUJJUk1TID0gZmFsc2U7DQoJCQkJCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJrb2RlX2FjY291bnRfYXAiKS52YWx1ZSA9PSAiMCIpS0VCSVJNUyA9IGZhbHNlOw0KCQkJCQkJCQlpZihLRUJJUk1TID09IHRydWUpew0KCQkJCQkJCQkJbWUuQWZ0ZXJQaWxCSVJNKDApOw0KCQkJCQkJCQl9ZWxzZXsNCgkJCQkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHttZS5UZ2xOb21vckRva3VtZW4oKX0sNTAwKTsNCgkJCQkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHttZS5HZXRfVGFuZ2dhbERva19TdW1iZXIoKX0sNTAwKTsJCQkJDQoJCQkJCQkJCX0NCgkJCQkJCQkJLy9tZS5QaWxfTm9tb3JEb2t1bWVuKCk7DQoJCQkJCQkJfQkNCgkJCQkJCQkNCgkJCQkJCX1lbHNlew0KCQkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0pOw0KCQl9ZWxzZXsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaWxDYXJhUGVyb2xlaGFuJykuaW5uZXJIVE1MID0gJyc7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGJsX3Jla2VuaW5nJykuaW5uZXJIVE1MID0gJyc7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90YWxiZWxhbmphMjMnKS5pbm5lckhUTUwgPSAnJzsNCgkJfQkNCgkJDQoJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHttZS5Lb2RlUGVuZXJpbWFhbigpfSw1MDApOw0KCQkvL3NldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHttZS5HZXRTdW1iZXJEYW5hKCl9LDEwMCk7DQoJfSwNCgkNCglHZXRTdW1iZXJEYW5hOiBmdW5jdGlvbigpew0KCQl2YXIgbWUgPXRoaXM7DQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9R2V0U3VtYmVyRGFuYScsDQoJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidHVrQ2FyYVBlcm9sZWhhbiIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCX0NCgkJCX0NCgkJfSk7CQ0KCX0sDQoJDQoJQmFydVJla2VuaW5nOiBmdW5jdGlvbigpew0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPUluc2VydFJla2VuaW5nJywNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCWlmKHJlc3AuY29udGVudCA9PSAxKXsNCgkJCQkJCXZhciBtZSA9IHRoaXMgOw0KCQkJCQkJcGVtYXN1a2FuX2lucy50YWJlbFJla2VuaW5nKDApOw0KCQkJCQl9DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCQl9DQoJCX0pOwkNCgl9LA0KCQ0KCW5hbWFyZWtlbmluZzogZnVuY3Rpb24oKXsNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1uYW1hcmVrZW5pbmcnLA0KCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQkJDQoJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWFha3VuXycrcmVzcC5jb250ZW50LmlkcmVrKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQubmFtYXJla2VuaW5nOw0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQ0KCQkJfQ0KCQl9KTsJDQoJfSwNCgkNCglIYXB1c1Jla2VuaW5nOiBmdW5jdGlvbihpc2kpew0KCQl2YXIga29uZnJpbSA9IGNvbmZpcm0oIkhhcHVzIERhdGEgUmVrZW5pbmcgPyIpOw0KCQl2YXIgbWU9dGhpczsNCgkJaWYoa29uZnJpbSA9PSB0cnVlKXsNCgkJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9SGFwdXNSZWtlbmluZyZpZHJla2VpPScraXNpLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWFha3VuXycrcmVzcC5jb250ZW50LmlkcmVrKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQubmFtYXJla2VuaW5nOw0KCQkJCQkJbWUudGFiZWxSZWtlbmluZygpOw0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0pOwkNCgkJfQ0KCQkNCgl9LA0KCQ0KCXVwZEtvZGVSZWs6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT10aGlzOw0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPXVwZEtvZGVSZWsnLA0KCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQkJDQoJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2tvZGVyZWtlbmluZ255YV8nK3Jlc3AuY29udGVudC5pZHJlaykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LmtvZGVyZWs7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqdW1sYW55YV8nK3Jlc3AuY29udGVudC5pZHJlaykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Lmp1bWxhaG55YTsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wdGlvbl8nK3Jlc3AuY29udGVudC5pZHJlaykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Lm9wdGlvbjsNCgkJCQkJDQoJCQkJCW1lLnRhYmVsUmVrZW5pbmcoKTsNCgkJCQkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtYWFrdW5fJytyZXNwLmNvbnRlbnQuaWRyZWspLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5uYW1hcmVrZW5pbmc7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCQl9DQoJCX0pOwkNCgl9LA0KCQ0KCUpBRElLQU5JTlBVVDogZnVuY3Rpb24oaWRuYSl7DQoJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9amFkaWlucHV0JmlkcmVrZW5pbmdueWE9JytpZG5hLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrb2RlcmVrZW5pbmdueWFfJytyZXNwLmNvbnRlbnQuaWRyZWspLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5rb2RlcmVrOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2p1bWxhbnlhXycrcmVzcC5jb250ZW50LmlkcmVrKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQuanVtbGFobnlhOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wdGlvbl8nK3Jlc3AuY29udGVudC5pZHJlaykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Lm9wdGlvbjsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdGFzYnV0dG9uJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LmF0YXNidXR0b247DQoJCQkJCQkvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1hYWt1bl8nK3Jlc3AuY29udGVudC5pZHJlaykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Lm5hbWFyZWtlbmluZzsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCX0NCgkJCQl9DQoJCQl9KTsJDQoJfSwNCgkNCglqYWRpaW5wdXQ6IGZ1bmN0aW9uKGlkbmEpew0KCQl2YXIgbWU9dGhpczsNCgkJbWUudGFiZWxSZWtlbmluZygpOw0KCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7cGVtYXN1a2FuX2lucy5KQURJS0FOSU5QVVQoaWRuYSl9LDEwMCk7DQoJfSwNCgkNCgkNCgkNCgkNCglDYXJpUHJvZ3JhbTogZnVuY3Rpb24oKXsNCgkJdmFyIG1lID0gdGhpczsNCgkJY2FyaXByb2dyYW0ud2luZG93U2hvdygpOwkNCgl9LA0KCQ0KCVRnbE5vbW9yRG9rdW1lbjogZnVuY3Rpb24oKXsNCgkJdmFyIG1lID0gdGhpczsNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1UZ2xub21vcmRva3VtZW4nLA0KCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQkJDQoJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RnbF9kb2tjb3B5JykudmFsdWUgPSByZXNwLmNvbnRlbnQudGdsOw0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGdsX2RvaycpLnZhbHVlID0gcmVzcC5jb250ZW50LnRnbF9kb2s7DQoJCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdUb21ib2xQaWxpaCcpKWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdUb21ib2xQaWxpaCcpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5Ub21ib2w7DQoJCQkJCW1lLlRnbE5vbW9yRG9rdW1lbkFmdGVyKCk7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCQl9DQoJCX0pOwkNCgkJDQoJfSwNCgkNCglUZ2xOb21vckRva3VtZW5BZnRlcjpmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCX0sDQoJDQoJDQoJY2VrQ2FyYVBlcm9sZWhhbjogZnVuY3Rpb24oKXsNCgkJdmFyIGFzYWx1c3VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FzYWx1c3VsJykudmFsdWU7DQoJCQ0KCQlpZihhc2FsdXN1bCAhPSAnMScpew0KCQkJLypkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWV0b2RlcGVuZ2FkYWFuJykuZGlzYWJsZWQgPXRydWU7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVuY2FpcmFuX2RhbmEnKS5kaXNhYmxlZCA9dHJ1ZTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmFtJykudmFsdWUgPScnOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2djYXInKS5kaXNhYmxlZCA9dHJ1ZTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrZWdpYXRhbicpLnZhbHVlID0iIjsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrZWdpYXRhbicpLmRpc2FibGVkID10cnVlOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bla2VyamFhbicpLmRpc2FibGVkID10cnVlOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bla2VyamFhbicpLnZhbHVlID0iIjsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0Z2xfZG9rY29weScpLnZhbHVlID0iIjsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub21kb2snKS52YWx1ZSA9IiI7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQmFydU5vRG9rJykuZGlzYWJsZWQgPXRydWU7DQoJCQkNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9nJykudmFsdWUgPScnOyovDQoJCX1lbHNlew0KCQkJLypkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ2NhcicpLmRpc2FibGVkID1mYWxzZTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZWtlcmphYW4nKS5kaXNhYmxlZCA9ZmFsc2U7Ki8NCgkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21ldG9kZXBlbmdhZGFhbicpLmRpc2FibGVkID1mYWxzZTsNCgkJfQ0KCX0sDQoJDQoJYW1iaWxOb21vckRva3VtZW46IGZ1bmN0aW9uKHBpbCA9ICcnLCBsYW5nPSd0Jyl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9bm9tb3Jkb2t1bWVuJm5vbT0nK3BpbCwNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub21iZXInKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQuaXNpOw0KCQkJCQlpZihsYW5nID09ICd5Jyl7DQoJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7bWUuVGdsTm9tb3JEb2t1bWVuKCl9LDEwMCk7DQoJCQkJCX1lbHNlew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RnbF9kb2tjb3B5JykudmFsdWUgPSAnJzsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0Z2xfZG9rJykudmFsdWUgPSAnJzsNCgkJCQkJfQ0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQ0KCQkJfQ0KCQl9KTsJDQoJfSwNCgkNCglCYXJ1Tm9tRG9rOiBmdW5jdGlvbigpewkNCgkJDQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBlcnI9Jyc7DQoJCQ0KCQlpZiAoZXJyID09JycgKXsJCQ0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCWlmKG1lLnNhdHVhbl9mb3JtPT0wKXsvL2JhcnUgZGFyaSBzYXR1YW4NCgkJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJfWVsc2V7Ly9iYXJ1IGRhcmkgYmFyYW5nDQoJCQkJYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7CQ0KCQkJfQ0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPWZvcm1CYXJ1Tm9tRG9rJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJCQ0KCQkJCQlpZihyZXNwLmVyciA9PSIiKXsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCQlwZW1hc3VrYW5faW5zLm55YWxha2FuZGF0ZXBpY2tlcigpOwkNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJfQkJCQ0KCQkJCQkNCgkJCSAgCX0NCgkJCX0pOw0KCQkNCgkJfWVsc2V7DQoJCSAJYWxlcnQoZXJyKTsNCgkJfQ0KCX0sDQoJCQ0KCVViYWhOb21Eb2s6IGZ1bmN0aW9uKCl7CQ0KCQkNCgkJdmFyIG1lID0gdGhpczsNCgkJdmFyIGVycj0nJzsNCgkJDQoJCWlmIChlcnIgPT0nJyApewkJDQoJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7DQoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1mb3JtVWJhaE5vbURvaycsDQoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOw0KCQkJCQkNCgkJCQkJaWYocmVzcC5lcnIgPT0iIil7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCQkJcGVtYXN1a2FuX2lucy5ueWFsYWthbmRhdGVwaWNrZXIoKTsJDQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJCX0JCQkNCgkJCQkJDQoJCQkgIAl9DQoJCQl9KTsNCgkJDQoJCX1lbHNlew0KCQkgCWFsZXJ0KGVycik7DQoJCX0NCgl9LA0KCQ0KCVNpbXBhbk5vbW9yRG9rdW1lbjogZnVuY3Rpb24oKXsNCgkJdmFyIG1lPSB0aGlzOwkNCgkJdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZQkNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3Jtc2ltcGFuJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJLyp0aGlzLnNlbmRSZXEoDQoJCQl0aGlzLnVybCwNCgkJCXsgaWRwcnM6IDAsIGRhZnRhclByb3NlczogbmV3IEFycmF5KCdzaW1wYW4nKX0sDQoJCQl0aGlzLmZvcm1EaWFsb2cpOyovDQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMucHJlZml4KydfZm9ybScpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c2ltcGFuTm9tb3JEb2t1bWVuJywNCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQlkZWxFbGVtKGNvdmVyKTsJCQ0KCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQltZS5DbG9zZSgpOw0KCQkJCQltZS5hbWJpbE5vbW9yRG9rdW1lbihyZXNwLmNvbnRlbnQubm9tZG9rLCAneScpOw0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQ0KCQkgIAl9DQoJCX0pOw0KCX0sDQoJDQoJSGFwdXNOb21Eb2s6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT0gdGhpczsJCQkNCgkJdmFyIHRhbnlhID0gY29uZmlybSgiSGFwdXMgRG9rdW1lbiBLb250cmFrID8iKTsNCgkJaWYodGFueWEgPT0gdHJ1ZSl7DQoJCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCQ0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybXNpbXBhbic7DQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJDQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPUhhcHVzTm9tb3JEb2t1bWVuJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJbWUuQ2xvc2UoKTsNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdUb21ib2xQaWxpaCcpLmlubmVySFRNTCA9ICIiOw0KCQkJCQkJbWUuYW1iaWxOb21vckRva3VtZW4oKTsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCX0NCgkJCSAgCX0NCgkJCX0pOw0KCQl9DQoJCQ0KCX0sDQoJDQoJQmFydVBlbnllZGlhOiBmdW5jdGlvbigpewkNCgkJDQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBlcnI9Jyc7DQoJCQ0KCQlpZiAoZXJyID09JycgKXsJCQ0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCWlmKG1lLnNhdHVhbl9mb3JtPT0wKXsvL2JhcnUgZGFyaSBzYXR1YW4NCgkJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJfWVsc2V7Ly9iYXJ1IGRhcmkgYmFyYW5nDQoJCQkJYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7CQ0KCQkJfQ0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPWZvcm1CYXJ1UGVueWVkaWEnLA0KCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsNCgkJCQkJDQoJCQkJCWlmKHJlc3AuZXJyID09IiIpew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQkJCS8vJCggIiNkYXRlcGlja2VyIiApLmRhdGVwaWNrZXIoeyBkYXRlRm9ybWF0OiAiZGQtbW0teXkiIH0pOwkNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJfQkJCQ0KCQkJCQkNCgkJCSAgCX0NCgkJCX0pOw0KCQkNCgkJfWVsc2V7DQoJCSAJYWxlcnQoZXJyKTsNCgkJfQ0KCX0sDQoJDQoJU2ltcGFuUGVueWVkaWE6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT0gdGhpczsJDQoJCXRoaXMuT25FcnJvckNsb3NlID0gZmFsc2UJDQoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybXNpbXBhbic7DQoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCS8qdGhpcy5zZW5kUmVxKA0KCQkJdGhpcy51cmwsDQoJCQl7IGlkcHJzOiAwLCBkYWZ0YXJQcm9zZXM6IG5ldyBBcnJheSgnc2ltcGFuJyl9LA0KCQkJdGhpcy5mb3JtRGlhbG9nKTsqLw0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLnByZWZpeCsnX2Zvcm0nKS5zZXJpYWxpemUoKSwNCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPXNpbXBhblBlbnllZGlhJywNCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQlkZWxFbGVtKGNvdmVyKTsJCQ0KCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQltZS5DbG9zZSgpOw0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGFmcGVueWVkaWEnKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQucGVueWVkaWFuOw0KCQkJCQkvL21lLmFtYmlsTm9tb3JEb2t1bWVuKHJlc3AuY29udGVudC5ub21kb2ssICd5Jyk7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCSAgCX0NCgkJfSk7DQoJfSwNCgkNCglTaW1wYW5QZW5lcmltYTogZnVuY3Rpb24oKXsNCgkJdmFyIG1lPSB0aGlzOwkNCgkJdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZQkNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3Jtc2ltcGFuJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJLyp0aGlzLnNlbmRSZXEoDQoJCQl0aGlzLnVybCwNCgkJCXsgaWRwcnM6IDAsIGRhZnRhclByb3NlczogbmV3IEFycmF5KCdzaW1wYW4nKX0sDQoJCQl0aGlzLmZvcm1EaWFsb2cpOyovDQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMucHJlZml4KydfZm9ybScpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c2ltcGFuUGVuZXJpbWEnLA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCWRlbEVsZW0oY292ZXIpOwkJDQoJCQkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCW1lLkNsb3NlKCk7DQoJCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYWZwZW5lcmltYScpKXsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYWZwZW5lcmltYScpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5wZW5lcmltYTsNCgkJCQkJfWVsc2V7DQoJCQkJCQkNCgkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvblBlcnNlbigpIHtwZW1hc3VrYW4uVHV0dXBGb3JtKCdwZW1hc3VrYW5fZm9ybWNvdmVyX1RURCcpO30sMTAwKTsNCgkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvblBlcnNlbigpIHtwZW1hc3VrYW4uTGFwb3JhblRURCgpO30sMTAxKTsNCgkJCQkJfQ0KCQkJCQkvL21lLmFtYmlsTm9tb3JEb2t1bWVuKHJlc3AuY29udGVudC5ub21kb2ssICd5Jyk7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCSAgCX0NCgkJfSk7DQoJfSwNCgkNCglwaWxpaFBhbmdrYXQgOiBmdW5jdGlvbigpew0KCXZhciBtZSA9IHRoaXM7IA0KCQkkLmFqYXgoew0KCQkgIHVybDogdGhpcy51cmwrJyZ0aXBlPXBpbGloUGFuZ2thdCcsDQoJCSAgdHlwZSA6ICdQT1NUJywNCgkJICBkYXRhOiQoJyMnK3RoaXMucHJlZml4KydfZm9ybScpLnNlcmlhbGl6ZSgpLA0KCQkgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOw0KCQkJDQoJCQlpZihyZXNwLmVyciA9PSAnJyl7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvbGFuZ19ha2hpcicpLnZhbHVlID0gcmVzcC5jb250ZW50Ow0KCQkJfWVsc2V7DQoJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJfQkJCQkNCgkJfQkNCgkJfSk7DQoJfSwNCgkNCglCYXJ1UGVuZXJpbWE6IGZ1bmN0aW9uKEZPUk1fRFBMSCA9ICcjJyt0aGlzLmZvcm1OYW1lKXsJDQoJCQ0KCQl2YXIgbWUgPSB0aGlzOw0KCQl2YXIgZXJyPScnOw0KCQkNCgkJaWYgKGVyciA9PScnICl7CQkNCgkJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyJzsNCgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCQkJYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7DQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoRk9STV9EUExIKS5zZXJpYWxpemUoKSwNCgkJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPWZvcm1CYXJ1UGVuZXJpbWEnLA0KCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsNCgkJCQkJDQoJCQkJCWlmKHJlc3AuZXJyID09IiIpew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQkJCS8vJCggIiNkYXRlcGlja2VyIiApLmRhdGVwaWNrZXIoeyBkYXRlRm9ybWF0OiAiZGQtbW0teXkiIH0pOwkNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJfQkJCQ0KCQkJCQkNCgkJCSAgCX0NCgkJCX0pOw0KCQkNCgkJfWVsc2V7DQoJCSAJYWxlcnQoZXJyKTsNCgkJfQ0KCX0sDQoJDQoJVWJhaFBlbmVyaW1hOiBmdW5jdGlvbihGT1JNX0RQTEggPSAnIycrdGhpcy5mb3JtTmFtZSl7CQ0KCQkNCgkJdmFyIG1lID0gdGhpczsNCgkJdmFyIGVycj0nJzsNCgkJDQoJCWlmIChlcnIgPT0nJyApewkJDQoJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7DQoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJCWFkZENvdmVyUGFnZTIoY292ZXIsOTk5LHRydWUsZmFsc2UpOw0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKEZPUk1fRFBMSCkuc2VyaWFsaXplKCksDQoJCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1mb3JtVWJhaFBlbmVyaW1hJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJCQ0KCQkJCQlpZihyZXNwLmVyciA9PSIiKXsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCQkvLyQoICIjZGF0ZXBpY2tlciIgKS5kYXRlcGlja2VyKHsgZGF0ZUZvcm1hdDogImRkLW1tLXl5IiB9KTsJDQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJCX0JCQkNCgkJCQkJDQoJCQkgIAl9DQoJCQl9KTsNCgkJDQoJCX1lbHNlew0KCQkgCWFsZXJ0KGVycik7DQoJCX0NCgl9LA0KCQ0KCWRldGFpbDogZnVuY3Rpb24oKXsNCgkJLy9hbGVydCgnZGV0YWlsJyk7DQoJCXZhciBtZSA9IHRoaXM7DQoJCWVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsNCgkJaWYoZXJybXNnID09JycpeyANCgkJCXZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsJCQkNCgkJCS8vVXNlckFrdGl2aXRhc0RldC5nZW5EZXRhaWwoKTsJCQkNCgkJCQ0KCQl9ZWxzZXsNCgkJDQoJCQlhbGVydChlcnJtc2cpOw0KCQl9DQoJCQ0KCX0sDQoJZGFmdGFyUmVuZGVyOmZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9dGhpczsgLy9yZW5kZXIgZGFmdGFyIA0KCQlhZGRDb3ZlclBhZ2UyKA0KCQkJJ2RhZnRhcl9jb3ZlcicsCTEsIAl0cnVlLCB0cnVlLAl7cmVuZGVyVG86IHRoaXMucHJlZml4KydfY29udF9kYWZ0YXInLA0KCQkJaW1nc3JjOiAnaW1hZ2VzL3dhaXQuZ2lmJywNCgkJCXN0eWxlOiB7cG9zaXRpb246J2Fic29sdXRlJywgdG9wOic1JywgbGVmdDonNSd9DQoJCQl9DQoJCSk7DQoJCSQuYWpheCh7DQoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPWRhZnRhcicsDQoJCSAJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwgDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXgrJ19jb250X2RhZnRhcicpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQltZS5zdW1IYWxSZW5kZXIoKTsNCgkJICAJfQ0KCQl9KTsNCgl9LA0KCUJhcnU6IGZ1bmN0aW9uKCl7CQ0KCQkNCgkJdmFyIG1lID0gdGhpczsNCgkJdmFyIGVycj0nJzsNCgkJDQoJCWlmIChlcnIgPT0nJyApewkJDQoJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7DQoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJaWYobWUuc2F0dWFuX2Zvcm09PTApey8vYmFydSBkYXJpIHNhdHVhbg0KCQkJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCQl9ZWxzZXsvL2JhcnUgZGFyaSBiYXJhbmcNCgkJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDk5OSx0cnVlLGZhbHNlKTsJDQoJCQl9DQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9Zm9ybUJhcnUnLA0KCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsJDQoJCQkJCW1lLkFmdGVyRm9ybUJhcnUoKTsNCgkJCSAgCX0NCgkJCX0pOw0KCQkNCgkJfWVsc2V7DQoJCSAJYWxlcnQoZXJyKTsNCgkJfQ0KCX0sDQoJRWRpdDpmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQllcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7DQoJCWlmKGVycm1zZyA9PScnKXsgDQoJCQl2YXIgYm94ID0gdGhpcy5HZXRDYnhDaGVja2VkKCk7DQoJCQkNCgkJCS8vdGhpcy5TaG93ICgnZm9ybWVkaXQnLHtpZHBsaDpib3gudmFsdWV9LCBmYWxzZSwgdHJ1ZSk7CQkJDQoJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7DQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDk5OSx0cnVlLGZhbHNlKTsJDQoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1mb3JtRWRpdCcsDQoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQkJaWYgKHJlc3AuZXJyID09JycpewkJDQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCQkJbWUuQWZ0ZXJGb3JtRWRpdChyZXNwKTsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCQl9DQoJCQkgIAl9DQoJCQl9KTsNCgkJfWVsc2V7DQoJCQlhbGVydChlcnJtc2cpOw0KCQl9DQoJCQ0KCX0sDQoJDQoJU2ltcGFuRGV0OiBmdW5jdGlvbigpew0KCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPVNpbXBhbkRldCcsDQoJCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkJLy8JcmluY2lhbnBlbmVyaW1hYW4uaW5wdXRwZW5lcmltYWFuDQoJCQkJCQkvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1hYWt1bl8nK3Jlc3AuY29udGVudC5pZHJlaykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Lm5hbWFyZWtlbmluZzsNCgkJCQkJCXBlbWFzdWthbl9pbnMucmluY2lhbnBlbmVyaW1hYW4oKTsNCgkJCQkJCXBlbWFzdWthbl9pbnMuaW5wdXRwZW5lcmltYWFuKCk7DQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfSk7CQ0KCX0sDQoJCQ0KCVNpbXBhbjogZnVuY3Rpb24oKXsNCgkJdmFyIG1lPSB0aGlzOwkNCgkJdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZQkNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3Jtc2ltcGFuJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJLyp0aGlzLnNlbmRSZXEoDQoJCQl0aGlzLnVybCwNCgkJCXsgaWRwcnM6IDAsIGRhZnRhclByb3NlczogbmV3IEFycmF5KCdzaW1wYW4nKX0sDQoJCQl0aGlzLmZvcm1EaWFsb2cpOyovDQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMucHJlZml4KydfZm9ybScpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c2ltcGFuJywNCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQlkZWxFbGVtKGNvdmVyKTsJCQ0KCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQlpZihtZS5zYXR1YW5fZm9ybT09MCl7DQoJCQkJCQltZS5DbG9zZSgpOw0KCQkJCQkJbWUuQWZ0ZXJTaW1wYW4oKTsJCQkJCQkNCgkJCQkJfWVsc2V7DQoJCQkJCQltZS5DbG9zZSgpOw0KCQkJCQkJYmFyYW5nLnJlZnJlc2hDb21ib1NhdHVhbigpOw0KCQkJCQl9DQoNCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCX0NCgkJICAJfQ0KCQl9KTsNCgl9LA0KCQ0KCWZvcm1hdEN1cnJlbmN5OmZ1bmN0aW9uKG51bSkgew0KCQludW0gPSBudW0udG9TdHJpbmcoKS5yZXBsYWNlKC9cJHxcLC9nLCcnKTsNCgkJaWYoaXNOYU4obnVtKSkNCgkJbnVtID0gIjAiOw0KCQlzaWduID0gKG51bSA9PSAobnVtID0gTWF0aC5hYnMobnVtKSkpOw0KCQludW0gPSBNYXRoLmZsb29yKG51bSoxMDArMC41MDAwMDAwMDAwMSk7DQoJCWNlbnRzID0gbnVtJTEwMDsNCgkJbnVtID0gTWF0aC5mbG9vcihudW0vMTAwKS50b1N0cmluZygpOw0KCQlpZihjZW50czwxMCkNCgkJY2VudHMgPSAiMCIgKyBjZW50czsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBNYXRoLmZsb29yKChudW0ubGVuZ3RoLSgxK2kpKS8zKTsgaSsrKQ0KCQludW0gPSBudW0uc3Vic3RyaW5nKDAsbnVtLmxlbmd0aC0oNCppKzMpKSsnLicrDQoJCW51bS5zdWJzdHJpbmcobnVtLmxlbmd0aC0oNCppKzMpKTsNCgkJcmV0dXJuICgoKHNpZ24pPycnOictJykgKyAnJyArIG51bSArICcsJyArIGNlbnRzKTsNCgl9LA0KCQ0KCWlzTnVtYmVyS2V5OiBmdW5jdGlvbihldnQpew0KCQl2YXIgY2hhckNvZGUgPSAoZXZ0LndoaWNoKSA\/IGV2dC53aGljaCA6IGV2ZW50LmtleUNvZGUNCgkJaWYgKGNoYXJDb2RlID4gMzEgJiYgKGNoYXJDb2RlIDwgNDggfHwgY2hhckNvZGUgPiA1NykpDQoJCQ0KCQlyZXR1cm4gZmFsc2U7DQoJCXJldHVybiB0cnVlOw0KCX0sDQoJDQoJaGl0dW5nanVtbGFoSGFyZ2E6IGZ1bmN0aW9uKEZST01OWUE9Jycpew0KCQl2YXIganVtbGFoX2JhcmFuZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqdW1sYWhfYmFyYW5nJytGUk9NTllBKS52YWx1ZTsNCgkJdmFyIGhhcmdhX3NhdHVhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoYXJnYV9zYXR1YW4nK0ZST01OWUEpLnZhbHVlOw0KCQkNCgkJdmFyIGpuc190cmFucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqbnNfdHJhbnNha3NpJykudmFsdWU7DQoJCWlmKGpuc190cmFucyA9PSAnMicpew0KCQkJdmFyIGt1YW50aXRhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrdWFudGl0YXMnK0ZST01OWUEpLnZhbHVlOw0KCQkJdmFyIHZvbHVtZSA9IGp1bWxhaF9iYXJhbmcgKiBrdWFudGl0YXM7DQoJCQl2YXIgdG90YWwgPSB2b2x1bWUgKiBoYXJnYV9zYXR1YW47DQoJCQkNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2b2x1bWUnK0ZST01OWUEpLnZhbHVlID0gdm9sdW1lOw0KCQkJDQoJCX1lbHNlew0KCQkJdmFyIHRvdGFsID0ganVtbGFoX2JhcmFuZyAqIGhhcmdhX3NhdHVhbjsNCgkJfQ0KCQkNCgkJLy9KaWthIEFkYSBQYWphaw0KCQl2YXIgcHBuX29rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBwbl9vayIrRlJPTU5ZQSk7DQoJCXZhciBqbWxfcHBuID1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiam1sX3BwbiIrRlJPTU5ZQSk7DQoJCWlmKHBwbl9vay5jaGVja2VkID09IHRydWUpew0KCQkJdmFyIGhhcmdhX3BhamFrID0gdG90YWwgKiAoam1sX3Bwbi52YWx1ZSAvMTAwKTsNCgkJCXRvdGFsID0gdG90YWwgKyBoYXJnYV9wYWphazsNCgkJfQ0KCQkNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2p1bWxhaF9oYXJnYScrRlJPTU5ZQSkudmFsdWUgPSB0aGlzLmZvcm1hdEN1cnJlbmN5KHRvdGFsKTsNCgl9LA0KCQ0KCUhhcHVzUmluY2lhblBlbmVyaW1hYW46IGZ1bmN0aW9uKGlzaSl7DQoJCXZhciBrb25mcmltID0gY29uZmlybSgiSGFwdXMgUmluY2lhbiBQZW5lcmltYWFuID8iKTsNCgkJaWYoa29uZnJpbSA9PSB0cnVlKXsNCgkJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9SGFwdXNSaW5jaWFuUGVuZXJpbWFhbiZJZFJpbmNpYW49Jytpc2ksDQoJCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtYWFrdW5fJytyZXNwLmNvbnRlbnQuaWRyZWspLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5uYW1hcmVrZW5pbmc7DQoJCQkJCQlwZW1hc3VrYW5faW5zLnJpbmNpYW5wZW5lcmltYWFuKCk7DQoJCQkJCQlwZW1hc3VrYW5faW5zLmlucHV0cGVuZXJpbWFhbigpOw0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0pOwkNCgkJfQ0KCQkNCgkJLy9hbGVydChpc2kpOw0KCQkNCgl9LA0KCQ0KCVViYWhSaW5jaWFuUGVuZXJpbWFhbjogZnVuY3Rpb24oaXNpKXsNCgkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1VYmFoUmluY2lhblBlbmVyaW1hYW4mSWRSaW5jaWFuPScraXNpLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCS8vCXJpbmNpYW5wZW5lcmltYWFuLmlucHV0cGVuZXJpbWFhbg0KCQkJCQkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtYWFrdW5fJytyZXNwLmNvbnRlbnQuaWRyZWspLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5uYW1hcmVrZW5pbmc7DQoJCQkJCQkvKnBlbWFzdWthbl9pbnMucmluY2lhbnBlbmVyaW1hYW4oKTsqLw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFiYXJhbmdueWEnKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfSk7CQ0KCX0sDQoJDQoJQ2VrU2VzdWFpOiBmdW5jdGlvbigpew0KCQl2YXIgbWU9dGhpczsNCgkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1DZWtTZXN1YWknLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCS8vCXJpbmNpYW5wZW5lcmltYWFuLmlucHV0cGVuZXJpbWFhbg0KCQkJCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqdW1sYWhzdWRhaHNlc3VhaScpKWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqdW1sYWhzdWRhaHNlc3VhaScpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5jZWtsaXM7CQ0KCQkJCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkcGVuZXJpbWFhbicpLnZhbHVlID0gcmVzcC5jb250ZW50LmlkcGVuZXJpbWFhYW47CQ0KCQkJCQkJCW1lLktvZGVQZW5lcmltYWFuKCk7CQkJCQkNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCX0NCgkJCQl9DQoJCQl9KTsJDQoJfSwNCgkNCglLb2RlUGVuZXJpbWFhbjogZnVuY3Rpb24oKXsNCgkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1Lb2RlUGVuZXJpbWFhbicsDQoJCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCQlpZihyZXNwLmVycj09JycpewkNCgkJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRwZW5lcmltYWFuJykudmFsdWUgPSByZXNwLmNvbnRlbnQ7CQkJCQkJCQkNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCX0NCgkJCQl9DQoJCQl9KTsJDQoJfSwNCgkNCglTaW1wYW5TZW11YTogZnVuY3Rpb24oKXsNCgkJaWRuYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5faW5zX2lkcGxoJykudmFsdWU7DQoJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybXNpbXBhbic7DQoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsNCgkJDQoJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9U2ltcGFuU2VtdWEnLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJCWRlbEVsZW0oY292ZXIpOwkJCQ0KCQkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkJYWxlcnQoIkRhdGEgQmVyaGFzaWwgRGlzaW1wYW4gISIpOw0KCQkJCQkJDQoJCQkJCQl2YXIga29uZnJpbSA9IGNvbmZpcm0oIkNFVEFLIFNVUkFUIFBFUk1PSE9OQU4gVkFMSURBU0kgSU5QVVQgREFUQSA\/Iik7DQoJCQkJCQlpZihrb25mcmltID09IHRydWUpew0KCQkJCQkJCXBlbWFzdWthbi5DZXRha1Blcm1vaG9uYW4oaWRuYSk7DQoJCQkJCQl9ZWxzZXsNCgkJCQkJCQl3aW5kb3cuY2xvc2UoKTsNCgkJCQkJCQl3aW5kb3cub3BlbmVyLmxvY2F0aW9uLnJlbG9hZCgpOw0KCQkJCQkJfQ0KCQkJCQkJDQoJCQkJCQkvLwlyaW5jaWFucGVuZXJpbWFhbi5pbnB1dHBlbmVyaW1hYW4NCgkJCQkJCQkvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqdW1sYWhzdWRhaHNlc3VhaScpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5jZWtsaXM7CQ0KCQkJCQkJCQkJCQkJDQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfSk7CQ0KCX0sDQoJDQoJU2V0UGVuZXJpbWE6IGZ1bmN0aW9uKCl7DQoJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9U2V0UGVuZXJpbWEnLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCS8vCXJpbmNpYW5wZW5lcmltYWFuLmlucHV0cGVuZXJpbWFhbg0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ09wdFBlbmVyaW1hJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCQkJDQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfSk7CQ0KCX0sDQoJDQoJQ2FyaUJhcmFuZzogZnVuY3Rpb24oKXsNCgkJY2FyaUJhcmFuZy53aW5kb3dTaG93KHRoaXMuZm9ybU5hbWUpOw0KCX0sDQoJDQoJQmF0YWxTZW11YTogZnVuY3Rpb24oKXsNCgkJaWRuYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5faW5zX2lkcGxoJykudmFsdWU7DQoJCQ0KCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPUJhdGFsU2VtdWEnLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCQl3aW5kb3cuY2xvc2UoKTsNCgkJCQkJCQl3aW5kb3cub3BlbmVyLmxvY2F0aW9uLnJlbG9hZCgpOwkJCQkJCQkJCQ0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0pOwkNCgl9LA0KCQ0KCVR1dHVwSGFsYW1hbjogZnVuY3Rpb24oKXsNCgkJd2luZG93Lm9wZW5lci5sb2NhdGlvbi5yZWxvYWQoKTsJDQoJfSwNCgkNCglDYXJpQklSTTogZnVuY3Rpb24oKXsNCgkJdmFyIG1lID0gdGhpczsJDQoJCQ0KCQlCSVJNLmVsX0lEID0gJ2tvZGVfYWNjb3VudF9hcCc7DQoJCUJJUk0uZWxfZm1VUlVTQU4gPSAnYzFueWEnOw0KCQlCSVJNLmVsX2ZtU0tQRCA9ICdjbnlhJzsNCgkJQklSTS5lbF9mbVVOSVQgPSAnZG55YSc7DQoJCUJJUk0uZWxfZm1TVUJVTklUID0gJ2VueWEnOw0KCQlCSVJNLmVsX2ZtU0VLU0kgPSAnZTFueWEnOw0KCQkvL0JJUk0uZWxfbmFtYV9hY2NvdW50ID0gJ25hbWFfYWNjb3VudF9hcCc7DQoJCUJJUk0ud2luZG93U2hvdygiIik7CQ0KCQlCSVJNLndpbmRvd1NhdmVBZnRlcj0gZnVuY3Rpb24oKXsNCgkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwZW1hc3VrYW5faW5zX2lkcGxoIikpcGVtYXN1a2FuX2lucy5jYXJhcGVyb2xlaGFuKDEpOw0KCQl9Ow0KCQkvL1JlZkp1cm5hbC5maWx0ZXJBa3VuPScxLjMuNyc7Ly9rb2RlIGFrdW4gYWt1bSBwZW55dXN1dGFuDQoJfSwNCgkNCglBZnRlclBpbEJJUk06IGZ1bmN0aW9uKFNpbXBhblQgPSAxKXsNCgkJdmFyIG1lID10aGlzOwkJDQoJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybXNpbXBhbic7DQoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsNCgkJDQoJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9QWZ0ZXJQaWxCSVJNJlNpbXBhblQ9JytTaW1wYW5ULA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJCWRlbEVsZW0oY292ZXIpOwkJCQ0KCQkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkJLy9QZWtlcmphYW4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0JCQkJCQkNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwZWtlcmphYW4iKS52YWx1ZSA9IHJlc3AuY29udGVudC5wZWtlcmphYW47CQ0KCQkJCQkJaWYocmVzcC5jb250ZW50LmhpZGVfcGVrZXJqYWFuID09ICJZIilkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGVrZXJqYWFuIikucmVhZE9ubHkJPSB0cnVlOwkNCgkJCQkJCQ0KCQkJCQkJLy9Qcm9ncmFtIEtlZ2lhdGFuIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2dyYW0iKS52YWx1ZSA9IHJlc3AuY29udGVudC5uYW1hX3Byb2dyYW07DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZyIpLnZhbHVlID0gcmVzcC5jb250ZW50LnByb2c7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGFma2VnIikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LmtlZ2lhdGFuOw0KCQkJCQkJaWYocmVzcC5jb250ZW50LmNhcmFfYmF5YXIgIT0gMClkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FyYV9iYXlhciIpLnZhbHVlID0gcmVzcC5jb250ZW50LmNhcmFfYmF5YXI7DQoJCQkJCQkNCgkJCQkJCS8vVGFuZ2dhbCAmIE5vIERva3VtZW4gS29udHJhayAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCgkJCQkJCWlmKHJlc3AuY29udGVudC5EYXRhS29udHJhay5oaWRlX2tvbnRyYWsgPT0gIjEiKXsNCgkJCQkJCQkvL1RhbmdnYWwNCgkJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGdsX2Rva2NvcHkiKS52YWx1ZSA9IHJlc3AuY29udGVudC5EYXRhS29udHJhay50Z2xfa29udHJha19pZG47CQ0KCQkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0Z2xfZG9rIikudmFsdWUgPSByZXNwLmNvbnRlbnQuRGF0YUtvbnRyYWsudGdsX2tvbnRyYWs7CQ0KCQkJCQkJCS8vTm9tb3IgDQoJCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5vbWJlciIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5EYXRhS29udHJhay5ub19rb250cmFrOwkNCgkJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiVG9tYm9sQmFydU5vbURvayIpLmlubmVySFRNTCA9ICIiOwkNCgkJCQkJCX0NCgkJCQkJCQ0KCQkJCQkJLy9UYW5nZ2FsICYgTm8gQkFTVCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCgkJCQkJCWlmKHJlc3AuY29udGVudC5EYXRhTm9CQVNULmhpZGVfYmFzdCA9PSAiMSIpew0KCQkJCQkJCXZhciBub21vcl9kb2t1bWVuX2Jhc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibm9tb3JfZG9rdW1lbl9iYXN0Iik7DQoJCQkJCQkJdmFyIFVudHVrVGFuZ2dhbEJBU1QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiVW50dWtUYW5nZ2FsQkFTVCIpOw0KCQkJCQkJCXZhciBkb2t1bWVuX3N1bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkb2t1bWVuX3N1bWJlciIpOw0KCQkJCQkJCQ0KCQkJCQkJCW5vbW9yX2Rva3VtZW5fYmFzdC52YWx1ZSA9IHJlc3AuY29udGVudC5EYXRhTm9CQVNULm5vX2Jhc3Q7CQ0KCQkJCQkJCW5vbW9yX2Rva3VtZW5fYmFzdC5yZWFkT25seQk9IHRydWU7CQkJDQoJCQkJCQkJbm9tb3JfZG9rdW1lbl9iYXN0LnN0eWxlLndpZHRoID0gIjI3MnB4IjsNCgkJCQkJCQkNCgkJCQkJCQlVbnR1a1RhbmdnYWxCQVNULmlubmVySFRNTCA9IHJlc3AuY29udGVudC5EYXRhTm9CQVNULnRnbF9iYXN0X2lkbjsJDQoJCQkJCQkJDQoJCQkJCQkJZG9rdW1lbl9zdW1iZXIudmFsdWUgPSAiQkFTVCI7CQ0KCQkJCQkJCWRva3VtZW5fc3VtYmVyLmRpc2FibGVkID0gdHJ1ZTsJDQoJCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlVudHVrRG9rdW1lblN1bWJlciIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5EYXRhTm9CQVNULmRva3VtZW5fc3VtYmVyOw0KCQkJCQkJfWVsc2V7DQoJCQkJCQkJbWUuR2VuX0RlZmF1bHRUZ2xCQVNUKCk7DQoJCQkJCQl9DQoJCQkJCQkNCgkJCQkJCS8vUGVueWVkaWFhbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCgkJCQkJCS8vZGV0X2RhZnBlbnllZGlhIGRldF9kYWZwZW5lcmltYQ0KCQkJCQkJaWYocmVzcC5jb250ZW50LnBlbnllZGlhbiAhPSAnJylkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGV0X2RhZnBlbnllZGlhIikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LnBlbnllZGlhbiA7DQoJCQkJCQkvL1BlbmVyaW1hIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCQkJCQkJaWYocmVzcC5jb250ZW50LnBlbmVyaW1hICE9ICcnKWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZXRfZGFmcGVuZXJpbWEiKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQucGVuZXJpbWEgOw0KCQkJCQkJDQoJCQkJCQkNCgkJCQkJCW1lLnRhYmVsUmVrZW5pbmcoKTsNCgkJCQkJCW1lLnJpbmNpYW5wZW5lcmltYWFuKCk7DQoJCQkJCQkJDQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfSk7CQ0KCX0sDQoJDQoJR2VuX0RlZmF1bHRUZ2xCQVNUOiBmdW5jdGlvbigpew0KCQl2YXIgbm9tb3JfZG9rdW1lbl9iYXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5vbW9yX2Rva3VtZW5fYmFzdCIpOw0KCQl2YXIgVW50dWtUYW5nZ2FsQkFTVCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJVbnR1a1RhbmdnYWxCQVNUIik7DQoJCXZhciBkb2t1bWVuX3N1bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkb2t1bWVuX3N1bWJlciIpOw0KCQl2YXIgbWUgPSB0aGlzOw0KCQkNCgkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1HZW5fRGVmYXVsdFRnbEJBU1QnLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCW5vbW9yX2Rva3VtZW5fYmFzdC52YWx1ZSA9ICIiOwkNCgkJCQkJCW5vbW9yX2Rva3VtZW5fYmFzdC5yZWFkT25seQk9IGZhbHNlOwkJCQ0KCQkJCQkJbm9tb3JfZG9rdW1lbl9iYXN0LnN0eWxlLndpZHRoID0gIjI1OHB4IjsNCgkJCQkJCQ0KCQkJCQkJVW50dWtUYW5nZ2FsQkFTVC5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CQ0KCQkJCQkJZG9rdW1lbl9zdW1iZXIudmFsdWUgPSAiQkFTVCI7CQ0KCQkJCQkJZG9rdW1lbl9zdW1iZXIuZGlzYWJsZWQgPSBmYWxzZTsJDQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiVW50dWtEb2t1bWVuU3VtYmVyIikuaW5uZXJIVE1MID0gIiI7CQ0KCQkJCQkJbWUubnlhbGFrYW5kYXRlcGlja2VyKCk7CQkJCQkJCQkNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCX0NCgkJCQl9DQoJCQl9KTsJDQoJfSwNCgkNCglKdW1sYWhPbkZvY3VzOiBmdW5jdGlvbigpew0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiTVNHX0p1bWxhaCIpLmlubmVySFRNTCA9ICc8c3BhbiBzdHlsZT0iY29sb3I6cmVkIj4gJm5ic3AgICZuYnNwICpVbnR1ayBCaWxhbmdhbiBEZXNpbWFsIGJlcmtvbWEgIiwiIEd1bmFrYW4gVGl0aWsgIi4iPC9zcGFuPicJOw0KCX0sDQoJDQoJSnVtbGFoT0ZGRm9jdXM6IGZ1bmN0aW9uKCl7DQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJNU0dfSnVtbGFoIikuaW5uZXJIVE1MID0gJycJOw0KCX0sDQoJDQoJQ2VrX1BQTjogZnVuY3Rpb24oRlJPTU5ZQT0nJyl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBwcG5fb2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHBuX29rIitGUk9NTllBKTsNCgkJdmFyIGptbF9wcG4gPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJqbWxfcHBuIitGUk9NTllBKTsNCgkJaWYocHBuX29rLmNoZWNrZWQgPT0gdHJ1ZSl7DQoJCQlqbWxfcHBuLnJlYWRPbmx5ID0gZmFsc2U7DQoJCQlqbWxfcHBuLnZhbHVlID0gIjEwIjsNCgkJfWVsc2V7DQoJCQlqbWxfcHBuLnJlYWRPbmx5ID0gdHJ1ZTsNCgkJCWptbF9wcG4udmFsdWUgPSAiIjsNCgkJfQ0KCQkNCgkJbWUuaGl0dW5nanVtbGFoSGFyZ2EoRlJPTU5ZQSk7DQoJfSwNCgkNCglQaWxfTWV0b2RlUGVuZ2FkYWFuOiBmdW5jdGlvbigpew0KCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWV0b2RlcGVuZ2FkYWFuIikpew0KCQkJdmFyIG1ldG9kZXBlbmdhZGFhbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWV0b2RlcGVuZ2FkYWFuIikudmFsdWU7DQoJCQl2YXIgcGVueWVkaWFuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwZW55ZWRpYW4iKTsNCgkJCXZhciBCYXJ1UGVueWVkaWE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkJhcnVQZW55ZWRpYSIpOw0KCQkJDQoJCQlpZihtZXRvZGVwZW5nYWRhYW4gPT0gIjIiKXsNCgkJCQlwZW55ZWRpYW4uZGlzYWJsZWQgPSB0cnVlOw0KCQkJCUJhcnVQZW55ZWRpYS5kaXNhYmxlZCA9IHRydWU7DQoJCQl9ZWxzZXsNCgkJCQlwZW55ZWRpYW4uZGlzYWJsZWQgPSBmYWxzZTsNCgkJCQlCYXJ1UGVueWVkaWEuZGlzYWJsZWQgPSBmYWxzZTsNCgkJCX0NCgkJfQkJDQoJfSwNCgkNCglPcHRpb25QZW55ZWRpYTogZnVuY3Rpb24oKXsNCgkJdmFyIG1lID0gdGhpczsNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1PcHRpb25QZW55ZWRpYUJhcmFuZycsDQoJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnT3B0UGVueWVkaWEnKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCQl9DQoJCX0pOwkNCgl9LA0KCQ0KCVViYWhQZW55ZWRpYTogZnVuY3Rpb24oKXsJDQoJCQ0KCQl2YXIgbWUgPSB0aGlzOw0KCQl2YXIgZXJyPScnOw0KCQkNCgkJaWYgKGVyciA9PScnICl7CQkNCgkJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyJzsNCgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPWZvcm1VYmFoUGVueWVkaWEnLA0KCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkJCQ0KCQkJCQlpZihyZXNwLmVyciA9PSIiKXsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJCX0JCQkNCgkJCQkJDQoJCQkgIAl9DQoJCQl9KTsNCgkJDQoJCX1lbHNlew0KCQkgCWFsZXJ0KGVycik7DQoJCX0NCgl9LA0KCQ0KCUhhcHVzUGVueWVkaWE6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT0gdGhpczsJDQoJCXZhciB0YW55YSA9IGNvbmZpcm0oIkhhcHVzIFBlbnllZGlhIEJhcmFuZyA\/Iik7CQkNCgkJaWYodGFueWEgPT0gdHJ1ZSl7DQoJCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCQ0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybXNpbXBhbic7DQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJDQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPUhhcHVzUGVueWVkaWEnLA0KCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJCWRlbEVsZW0oY292ZXIpOw0KCQkJCQltZS5DbG9zZSgpOw0KCQkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ09wdFBlbnllZGlhJykuaW5uZXJIVE1MID0gIiI7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGFmcGVueWVkaWEnKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQl9DQoJCQkgIAl9DQoJCQl9KTsNCgkJfQ0KCQkNCgl9LA0KCQ0KCUhhcHVzUGVuZXJpbWE6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT0gdGhpczsJDQoJCXZhciB0YW55YSA9IGNvbmZpcm0oIkhhcHVzIFBlbmVyaW1hIEJhcmFuZyA\/Iik7CQkNCgkJaWYodGFueWEgPT0gdHJ1ZSl7DQoJCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCQ0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybXNpbXBhbic7DQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJDQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPUhhcHVzUGVuZXJpbWEnLA0KCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJCWRlbEVsZW0oY292ZXIpOw0KCQkJCQltZS5DbG9zZSgpOw0KCQkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ09wdFBlbmVyaW1hJykuaW5uZXJIVE1MID0gIiI7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGFmcGVuZXJpbWEnKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQl9DQoJCQkgIAl9DQoJCQl9KTsNCgkJfQ0KCQkNCgl9LA0KCQ0KCUNhcmlUZW1wbGF0ZUJhcmFuZzogZnVuY3Rpb24oKXsNCgkJdmFyIG1lID0gdGhpczsNCgkJcmVmX3RlbXBsYXRlYmFyYW5nLndpbmRvd1Nob3codGhpcy5mb3JtTmFtZSk7DQoJCXJlZl90ZW1wbGF0ZWJhcmFuZy53aW5kb3dTYXZlQWZ0ZXI9IGZ1bmN0aW9uKCl7DQoJCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiS29kZVRlbXBsYXRlQmFyYW5nIikpcGVtYXN1a2FuX2lucy5Gb3JtTG9hZGluZ0ltcG9ydCgpOw0KCQl9Ow0KCX0sDQoJDQoJR2V0UGVyc2VuOiBmdW5jdGlvbihtYXhwZXJzZW4pew0KCQl2YXIgbWU9dGhpczsNCgkJaWYobWF4cGVyc2VuID49IDEwMCl7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RhdHVzdHh0Iikuc3R5bGUud2lkdGggPSAxMDArIiUiOyANCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0dXN0eHQiKS5pbm5lckhUTUwgPSAxMDArIiUiOw0KCQkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge21lLkNsb3NlKCl9LDUwKTsNCgkJfWVsc2V7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RhdHVzdHh0Iikuc3R5bGUud2lkdGggPSBNYXRoLnJvdW5kKG1heHBlcnNlbikrIiUiOyANCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0dXN0eHQiKS5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKG1heHBlcnNlbikrIiUiOw0KCQl9CQ0KCX0sDQoJDQoJQWZ0ZXJQaWxpaFRlbXBsYXRlQnJnOiBmdW5jdGlvbihtdWxhaW55YT0wKXsNCgkJdmFyIG1lPXRoaXM7DQoJCQ0KCQlpZihtdWxhaW55YSA9PSAwKXsNCgkJCXRoaXMuT25FcnJvckNsb3NlID0gZmFsc2UJDQoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtMic7DQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQl9DQoJCQ0KCQkNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1JbXBvcnRUZW1wbGF0ZUJhcmFuZyZtdWxhaW55YT0nK211bGFpbnlhLA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJaWYocmVzcC5lcnI9PScnKXsJDQoJCQkJCWlmKHJlc3AuY29udGVudC5tdWxhaSA8IHJlc3AuY29udGVudC5qbWxiYXJhbmcpew0KCQkJCQkJcGVtYXN1a2FuX2lucy5BZnRlclBpbGloVGVtcGxhdGVCcmcocmVzcC5jb250ZW50Lm11bGFpKTsJDQoJCQkJCX1lbHNlewkJCQkNCgkJCQkJCSQoIiMiK21lLnByZWZpeCsnX2Zvcm0yJykucmVtb3ZlKCk7DQoJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7bWUucmluY2lhbnBlbmVyaW1hYW4oKX0sMTAwMCk7CQ0KCQkJCQl9DQoJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHttZS5HZXRQZXJzZW4ocmVzcC5jb250ZW50Lm1heHBlcnNlbil9LDUwKTsNCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOwkNCgkJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJfQ0KCQkgIAl9DQoJCX0pOw0KCX0sDQoJDQoJR2FuZGFrYW5QZW5lcmltYWFuOiBmdW5jdGlvbihkYXRhbnlhKXsNCgkJdmFyIG1lID0gdGhpczsNCgkJdmFyIHRhbnlhID0gY29uZmlybSgiR2FuZGFrYW4gRGF0YSBSaW5jaWFuIFBlbmVyaW1hYW4gPyIpOw0KCQlpZih0YW55YSA9PSB0cnVlKXsNCgkJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3ZlcjInOw0KCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7CQkJDQoJCQkJYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7CQkJDQoJCQkJDQoJCQkJJC5hamF4KHsNCgkJCQkJdHlwZTonUE9TVCcsIA0KCQkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPURhdGFDb3B5JmRhdGFrb3BpPScrZGF0YW55YSwNCgkJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsNCgkJCQkJCWRlbEVsZW0oY292ZXIpOwkJDQoJCQkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsJCQ0KCQkJCQkJaWYocmVzcC5lcnIgPT0gICIiKXsJCQkJCQkJDQoJCQkJCQkJbWUucmluY2lhbnBlbmVyaW1hYW4oKTsJDQoJCQkJCQl9ZWxzZXsJCQkJCQkJCQkJCQkJDQoJCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfSk7CQkJDQoJCX0NCgl9LA0KCQ0KCUZvcm1Mb2FkaW5nSW1wb3J0OiBmdW5jdGlvbigpewkJCQ0KCQl2YXIgbWUgPSB0aGlzOw0KCQl2YXIgZXJyPScnOw0KCQkNCgkJaWYgKGVyciA9PScnICl7CQkNCgkJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyJzsNCgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPUZvcm1Mb2FkaW5nSW1wb3J0JywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJCWlmKHJlc3AuZXJyID09ICIiKXsJCQkJCQkNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7bWUuQWZ0ZXJQaWxpaFRlbXBsYXRlQnJnKCl9LDUwKTsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7CQ0KCQkJCQkJZGVsRWxlbShjb3Zlcik7CQ0KCQkJCQl9DQoJCQkgIAl9DQoJCQl9KTsNCgkJDQoJCX1lbHNlew0KCQkgCWFsZXJ0KGVycik7DQoJCX0NCgl9LA0KCQ0KCUFtYmlsUGVtYXN1a2FuRGV0OmZ1bmN0aW9uKCl7DQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyaW5jaWFuZGF0YWJhcmFuZ255YScpLmlubmVySFRNTCA9IA0KCQkJIjxkaXYgaWQ9J3BlbWFzdWthbl9pbnNfZGV0X2NvbnRfdGl0bGUnIHN0eWxlPSdwb3NpdGlvbjpyZWxhdGl2ZSc+PC9kaXY+IisNCgkJCSI8ZGl2IGlkPSdwZW1hc3VrYW5faW5zX2RldF9jb250X29wc2knIHN0eWxlPSdwb3NpdGlvbjpyZWxhdGl2ZSc+IisNCgkJCSI8L2Rpdj4iKw0KCQkJIjxkaXYgaWQ9J3BlbWFzdWthbl9pbnNfZGV0X2NvbnRfZGFmdGFyJyBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmUnPjwvZGl2PiIrDQoJCQkiPGRpdiBpZD0ncGVtYXN1a2FuX2luc19kZXRfY29udF9oYWwnIHN0eWxlPSdwb3NpdGlvbjpyZWxhdGl2ZSc+PC9kaXY+Ig0KCQkJOw0KCQlwZW1hc3VrYW5faW5zX2RldC5mb3JtTmFtZT10aGlzLmZvcm1OYW1lOw0KCQlwZW1hc3VrYW5faW5zX2RldC5sb2FkaW5nKCk7DQoJfSwNCgkNCglHZXRfVGFuZ2dhbERva19TdW1iZXI6ZnVuY3Rpb24oKXsNCgkJdmFyIG1lID0gdGhpczsNCgkJdmFyIGVycj0nJzsNCgkJDQoJCWlmIChlcnIgPT0nJyApewkJDQoJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3ZlcjInOw0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9R2V0X1RhbmdnYWxEb2tfU3VtYmVyJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCQlkZWxFbGVtKGNvdmVyKTsJDQoJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCQlpZihyZXNwLmVyciA9PSAiIil7CQkJCQkJDQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiVW50dWtUYW5nZ2FsQkFTVCIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHttZS5ueWFsYWthbmRhdGVwaWNrZXIyKCl9LDEwMDApOw0KCQkJCQkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge21lLm55YWxha2FuZGF0ZXBpY2tlcigpfSwxMDAwKTsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCX0NCgkJCSAgCX0NCgkJCX0pOw0KCQkNCgkJfWVsc2V7DQoJCSAJYWxlcnQoZXJyKTsNCgkJfQ0KCX0sDQoJDQoJcmVsb2FkX2NhcmFiYXlhcjogZnVuY3Rpb24oKXsNCgkJdmFyIGNhcmFfYmF5YXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FyYV9iYXlhciIpLnZhbHVlOw0KCQl2YXIgam5zX3RyYW5zYWtzaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJqbnNfdHJhbnNha3NpIikudmFsdWU7DQoJCQ0KCQlpZihqbnNfdHJhbnNha3NpID09ICIxIil7DQoJCQlpZihjYXJhX2JheWFyID09ICcxJyB8fCBjYXJhX2JheWFyID09ICcyJyl7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlbG9hZF9jYXJhYmF5YXIiKS5pbm5lckhUTUwgPSAiIDxpbWcgc3JjPSdpbWFnZXMvYWRtaW5pc3RyYXRvci9pbWFnZXMvcmVsb2FkX2YyLnBuZycgc3R5bGU9J3dpZHRoOjIwcHg7bWFyZ2luLWJvdHRvbTotNXB4Oycgb25jbGljaz0ncGVtYXN1a2FuX2lucy5Mb2FkX0RhdGFDYXJhQmF5YXIoKScgb25tb3VzZW92ZXI9J3RoaXMuc3R5bGUud2lkdGg9YDIzcHhgOycgb25tb3VzZW91dD0ndGhpcy5zdHlsZS53aWR0aD1gMjBweGA7JyAvPiI7DQoJCQl9ZWxzZXsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVsb2FkX2NhcmFiYXlhciIpLmlubmVySFRNTCA9ICIiOw0KCQkJfQ0KCQl9CQkNCgl9LA0KCQ0KCUxvYWRfRGF0YUNhcmFCYXlhcjpmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQl2YXIgZXJyPScnOw0KCQkNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXIyJzsNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPUxvYWRfRGF0YUNhcmFCYXlhcicsDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJZGVsRWxlbShjb3Zlcik7CQ0KCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCWlmKHJlc3AuZXJyID09ICIiKXsJCQkJCQkJCQkNCgkJCQkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge21lLnJpbmNpYW5wZW5lcmltYWFuKCl9LDEwMDApOw0KCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7bWUudGFiZWxSZWtlbmluZygpfSwxMDAwKTsNCgkJCQkJaWYocmVzcC5jb250ZW50LmFrdGlmID09IDEpew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1bWJlcmRhbmEnKS52YWx1ZSA9IHJlc3AuY29udGVudC5zdW1iZXJkYW5hOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21ldG9kZXBlbmdhZGFhbicpLnZhbHVlID0gcmVzcC5jb250ZW50Lm1ldG9kZXBlbmdhZGFhbjsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW5jYWlyYW5fZGFuYScpLnZhbHVlID0gcmVzcC5jb250ZW50LnBlbmNhaXJhbl9kYW5hOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2cnKS52YWx1ZSA9IHJlc3AuY29udGVudC5wcm9nOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyYW0nKS52YWx1ZSA9IHJlc3AuY29udGVudC5wcm9ncmFtOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhZmtlZycpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5kYWZrZWc7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVrZXJqYWFuJykudmFsdWUgPSByZXNwLmNvbnRlbnQucGVrZXJqYWFuOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbnllZGlhbicpLnZhbHVlID0gcmVzcC5jb250ZW50LnBlbnllZGlhbjsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW5lcmltYScpLnZhbHVlID0gcmVzcC5jb250ZW50LnBlbmVyaW1hOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2tldGVyYW5nYW5fcGVuZXJpbWFhbicpLnZhbHVlID0gcmVzcC5jb250ZW50LmtldGVyYW5nYW5fcGVuZXJpbWFhbjsNCgkJCQkJCQ0KCQkJCQl9DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCSAgCX0NCgkJfSk7DQoJCQ0KCX0sDQoJDQp9KTsNCg==",
    "size": "43987"
}