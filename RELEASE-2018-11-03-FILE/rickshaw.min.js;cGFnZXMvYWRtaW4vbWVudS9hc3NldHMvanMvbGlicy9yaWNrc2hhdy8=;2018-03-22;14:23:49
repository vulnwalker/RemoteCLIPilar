{
    "namaFile": "pages\/admin\/menu\/assets\/js\/libs\/rickshaw\/rickshaw.min.js",
    "lastUpdate": "2018-03-22+14:23:49.60",
    "contentFile": "KGZ1bmN0aW9uKHJvb3QsZmFjdG9yeSl7aWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbImQzIl0sZnVuY3Rpb24oZDMpe3JldHVybiByb290LlJpY2tzaGF3PWZhY3RvcnkoZDMpfSl9ZWxzZSBpZih0eXBlb2YgZXhwb3J0cz09PSJvYmplY3QiKXttb2R1bGUuZXhwb3J0cz1mYWN0b3J5KHJlcXVpcmUoImQzIikpfWVsc2V7cm9vdC5SaWNrc2hhdz1mYWN0b3J5KGQzKX19KSh0aGlzLGZ1bmN0aW9uKGQzKXt2YXIgUmlja3NoYXc9e25hbWVzcGFjZTpmdW5jdGlvbihuYW1lc3BhY2Usb2JqKXt2YXIgcGFydHM9bmFtZXNwYWNlLnNwbGl0KCIuIik7dmFyIHBhcmVudD1SaWNrc2hhdztmb3IodmFyIGk9MSxsZW5ndGg9cGFydHMubGVuZ3RoO2k8bGVuZ3RoO2krKyl7dmFyIGN1cnJlbnRQYXJ0PXBhcnRzW2ldO3BhcmVudFtjdXJyZW50UGFydF09cGFyZW50W2N1cnJlbnRQYXJ0XXx8e307cGFyZW50PXBhcmVudFtjdXJyZW50UGFydF19cmV0dXJuIHBhcmVudH0sa2V5czpmdW5jdGlvbihvYmope3ZhciBrZXlzPVtdO2Zvcih2YXIga2V5IGluIG9iailrZXlzLnB1c2goa2V5KTtyZXR1cm4ga2V5c30sZXh0ZW5kOmZ1bmN0aW9uKGRlc3RpbmF0aW9uLHNvdXJjZSl7Zm9yKHZhciBwcm9wZXJ0eSBpbiBzb3VyY2Upe2Rlc3RpbmF0aW9uW3Byb3BlcnR5XT1zb3VyY2VbcHJvcGVydHldfXJldHVybiBkZXN0aW5hdGlvbn0sY2xvbmU6ZnVuY3Rpb24ob2JqKXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKX19OyhmdW5jdGlvbihnbG9iYWxDb250ZXh0KXt2YXIgX3RvU3RyaW5nPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsTlVMTF9UWVBFPSJOdWxsIixVTkRFRklORURfVFlQRT0iVW5kZWZpbmVkIixCT09MRUFOX1RZUEU9IkJvb2xlYW4iLE5VTUJFUl9UWVBFPSJOdW1iZXIiLFNUUklOR19UWVBFPSJTdHJpbmciLE9CSkVDVF9UWVBFPSJPYmplY3QiLEZVTkNUSU9OX0NMQVNTPSJbb2JqZWN0IEZ1bmN0aW9uXSI7ZnVuY3Rpb24gaXNGdW5jdGlvbihvYmplY3Qpe3JldHVybiBfdG9TdHJpbmcuY2FsbChvYmplY3QpPT09RlVOQ1RJT05fQ0xBU1N9ZnVuY3Rpb24gZXh0ZW5kKGRlc3RpbmF0aW9uLHNvdXJjZSl7Zm9yKHZhciBwcm9wZXJ0eSBpbiBzb3VyY2UpaWYoc291cmNlLmhhc093blByb3BlcnR5KHByb3BlcnR5KSlkZXN0aW5hdGlvbltwcm9wZXJ0eV09c291cmNlW3Byb3BlcnR5XTtyZXR1cm4gZGVzdGluYXRpb259ZnVuY3Rpb24ga2V5cyhvYmplY3Qpe2lmKFR5cGUob2JqZWN0KSE9PU9CSkVDVF9UWVBFKXt0aHJvdyBuZXcgVHlwZUVycm9yfXZhciByZXN1bHRzPVtdO2Zvcih2YXIgcHJvcGVydHkgaW4gb2JqZWN0KXtpZihvYmplY3QuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKXtyZXN1bHRzLnB1c2gocHJvcGVydHkpfX1yZXR1cm4gcmVzdWx0c31mdW5jdGlvbiBUeXBlKG8pe3N3aXRjaChvKXtjYXNlIG51bGw6cmV0dXJuIE5VTExfVFlQRTtjYXNlIHZvaWQgMDpyZXR1cm4gVU5ERUZJTkVEX1RZUEV9dmFyIHR5cGU9dHlwZW9mIG87c3dpdGNoKHR5cGUpe2Nhc2UiYm9vbGVhbiI6cmV0dXJuIEJPT0xFQU5fVFlQRTtjYXNlIm51bWJlciI6cmV0dXJuIE5VTUJFUl9UWVBFO2Nhc2Uic3RyaW5nIjpyZXR1cm4gU1RSSU5HX1RZUEV9cmV0dXJuIE9CSkVDVF9UWVBFfWZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iamVjdCl7cmV0dXJuIHR5cGVvZiBvYmplY3Q9PT0idW5kZWZpbmVkIn12YXIgc2xpY2U9QXJyYXkucHJvdG90eXBlLnNsaWNlO2Z1bmN0aW9uIGFyZ3VtZW50TmFtZXMoZm4pe3ZhciBuYW1lcz1mbi50b1N0cmluZygpLm1hdGNoKC9eW1xzXChdKmZ1bmN0aW9uW14oXSpcKChbXildKilcKS8pWzFdLnJlcGxhY2UoL1wvXC8uKj9bXHJcbl18XC9cKig\/Oi58W1xyXG5dKSo\/XCpcLy9nLCIiKS5yZXBsYWNlKC9ccysvZywiIikuc3BsaXQoIiwiKTtyZXR1cm4gbmFtZXMubGVuZ3RoPT0xJiYhbmFtZXNbMF0\/W106bmFtZXN9ZnVuY3Rpb24gd3JhcChmbix3cmFwcGVyKXt2YXIgX19tZXRob2Q9Zm47cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGE9dXBkYXRlKFtiaW5kKF9fbWV0aG9kLHRoaXMpXSxhcmd1bWVudHMpO3JldHVybiB3cmFwcGVyLmFwcGx5KHRoaXMsYSl9fWZ1bmN0aW9uIHVwZGF0ZShhcnJheSxhcmdzKXt2YXIgYXJyYXlMZW5ndGg9YXJyYXkubGVuZ3RoLGxlbmd0aD1hcmdzLmxlbmd0aDt3aGlsZShsZW5ndGgtLSlhcnJheVthcnJheUxlbmd0aCtsZW5ndGhdPWFyZ3NbbGVuZ3RoXTtyZXR1cm4gYXJyYXl9ZnVuY3Rpb24gbWVyZ2UoYXJyYXksYXJncyl7YXJyYXk9c2xpY2UuY2FsbChhcnJheSwwKTtyZXR1cm4gdXBkYXRlKGFycmF5LGFyZ3MpfWZ1bmN0aW9uIGJpbmQoZm4sY29udGV4dCl7aWYoYXJndW1lbnRzLmxlbmd0aDwyJiZpc1VuZGVmaW5lZChhcmd1bWVudHNbMF0pKXJldHVybiB0aGlzO3ZhciBfX21ldGhvZD1mbixhcmdzPXNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3ZhciBhPW1lcmdlKGFyZ3MsYXJndW1lbnRzKTtyZXR1cm4gX19tZXRob2QuYXBwbHkoY29udGV4dCxhKX19dmFyIGVtcHR5RnVuY3Rpb249ZnVuY3Rpb24oKXt9O3ZhciBDbGFzcz1mdW5jdGlvbigpe3ZhciBJU19ET05URU5VTV9CVUdHWT1mdW5jdGlvbigpe2Zvcih2YXIgcCBpbnt0b1N0cmluZzoxfSl7aWYocD09PSJ0b1N0cmluZyIpcmV0dXJuIGZhbHNlfXJldHVybiB0cnVlfSgpO2Z1bmN0aW9uIHN1YmNsYXNzKCl7fWZ1bmN0aW9uIGNyZWF0ZSgpe3ZhciBwYXJlbnQ9bnVsbCxwcm9wZXJ0aWVzPVtdLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyk7aWYoaXNGdW5jdGlvbihwcm9wZXJ0aWVzWzBdKSlwYXJlbnQ9cHJvcGVydGllcy5zaGlmdCgpO2Z1bmN0aW9uIGtsYXNzKCl7dGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1leHRlbmQoa2xhc3MsQ2xhc3MuTWV0aG9kcyk7a2xhc3Muc3VwZXJjbGFzcz1wYXJlbnQ7a2xhc3Muc3ViY2xhc3Nlcz1bXTtpZihwYXJlbnQpe3N1YmNsYXNzLnByb3RvdHlwZT1wYXJlbnQucHJvdG90eXBlO2tsYXNzLnByb3RvdHlwZT1uZXcgc3ViY2xhc3M7dHJ5e3BhcmVudC5zdWJjbGFzc2VzLnB1c2goa2xhc3MpfWNhdGNoKGUpe319Zm9yKHZhciBpPTAsbGVuZ3RoPXByb3BlcnRpZXMubGVuZ3RoO2k8bGVuZ3RoO2krKylrbGFzcy5hZGRNZXRob2RzKHByb3BlcnRpZXNbaV0pO2lmKCFrbGFzcy5wcm90b3R5cGUuaW5pdGlhbGl6ZSlrbGFzcy5wcm90b3R5cGUuaW5pdGlhbGl6ZT1lbXB0eUZ1bmN0aW9uO2tsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1rbGFzcztyZXR1cm4ga2xhc3N9ZnVuY3Rpb24gYWRkTWV0aG9kcyhzb3VyY2Upe3ZhciBhbmNlc3Rvcj10aGlzLnN1cGVyY2xhc3MmJnRoaXMuc3VwZXJjbGFzcy5wcm90b3R5cGUscHJvcGVydGllcz1rZXlzKHNvdXJjZSk7aWYoSVNfRE9OVEVOVU1fQlVHR1kpe2lmKHNvdXJjZS50b1N0cmluZyE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZylwcm9wZXJ0aWVzLnB1c2goInRvU3RyaW5nIik7aWYoc291cmNlLnZhbHVlT2YhPU9iamVjdC5wcm90b3R5cGUudmFsdWVPZilwcm9wZXJ0aWVzLnB1c2goInZhbHVlT2YiKX1mb3IodmFyIGk9MCxsZW5ndGg9cHJvcGVydGllcy5sZW5ndGg7aTxsZW5ndGg7aSsrKXt2YXIgcHJvcGVydHk9cHJvcGVydGllc1tpXSx2YWx1ZT1zb3VyY2VbcHJvcGVydHldO2lmKGFuY2VzdG9yJiZpc0Z1bmN0aW9uKHZhbHVlKSYmYXJndW1lbnROYW1lcyh2YWx1ZSlbMF09PSIkc3VwZXIiKXt2YXIgbWV0aG9kPXZhbHVlO3ZhbHVlPXdyYXAoZnVuY3Rpb24obSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGFuY2VzdG9yW21dLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KHByb3BlcnR5KSxtZXRob2QpO3ZhbHVlLnZhbHVlT2Y9YmluZChtZXRob2QudmFsdWVPZixtZXRob2QpO3ZhbHVlLnRvU3RyaW5nPWJpbmQobWV0aG9kLnRvU3RyaW5nLG1ldGhvZCl9dGhpcy5wcm90b3R5cGVbcHJvcGVydHldPXZhbHVlfXJldHVybiB0aGlzfXJldHVybntjcmVhdGU6Y3JlYXRlLE1ldGhvZHM6e2FkZE1ldGhvZHM6YWRkTWV0aG9kc319fSgpO2lmKGdsb2JhbENvbnRleHQuZXhwb3J0cyl7Z2xvYmFsQ29udGV4dC5leHBvcnRzLkNsYXNzPUNsYXNzfWVsc2V7Z2xvYmFsQ29udGV4dC5DbGFzcz1DbGFzc319KShSaWNrc2hhdyk7Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5Db21wYXQuQ2xhc3NMaXN0Iik7Umlja3NoYXcuQ29tcGF0LkNsYXNzTGlzdD1mdW5jdGlvbigpe2lmKHR5cGVvZiBkb2N1bWVudCE9PSJ1bmRlZmluZWQiJiYhKCJjbGFzc0xpc3QiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKSl7KGZ1bmN0aW9uKHZpZXcpeyJ1c2Ugc3RyaWN0Ijt2YXIgY2xhc3NMaXN0UHJvcD0iY2xhc3NMaXN0Iixwcm90b1Byb3A9InByb3RvdHlwZSIsZWxlbUN0clByb3RvPSh2aWV3LkhUTUxFbGVtZW50fHx2aWV3LkVsZW1lbnQpW3Byb3RvUHJvcF0sb2JqQ3RyPU9iamVjdCxzdHJUcmltPVN0cmluZ1twcm90b1Byb3BdLnRyaW18fGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfSxhcnJJbmRleE9mPUFycmF5W3Byb3RvUHJvcF0uaW5kZXhPZnx8ZnVuY3Rpb24oaXRlbSl7dmFyIGk9MCxsZW49dGhpcy5sZW5ndGg7Zm9yKDtpPGxlbjtpKyspe2lmKGkgaW4gdGhpcyYmdGhpc1tpXT09PWl0ZW0pe3JldHVybiBpfX1yZXR1cm4tMX0sRE9NRXg9ZnVuY3Rpb24odHlwZSxtZXNzYWdlKXt0aGlzLm5hbWU9dHlwZTt0aGlzLmNvZGU9RE9NRXhjZXB0aW9uW3R5cGVdO3RoaXMubWVzc2FnZT1tZXNzYWdlfSxjaGVja1Rva2VuQW5kR2V0SW5kZXg9ZnVuY3Rpb24oY2xhc3NMaXN0LHRva2VuKXtpZih0b2tlbj09PSIiKXt0aHJvdyBuZXcgRE9NRXgoIlNZTlRBWF9FUlIiLCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQiKX1pZigvXHMvLnRlc3QodG9rZW4pKXt0aHJvdyBuZXcgRE9NRXgoIklOVkFMSURfQ0hBUkFDVEVSX0VSUiIsIlN0cmluZyBjb250YWlucyBhbiBpbnZhbGlkIGNoYXJhY3RlciIpfXJldHVybiBhcnJJbmRleE9mLmNhbGwoY2xhc3NMaXN0LHRva2VuKX0sQ2xhc3NMaXN0PWZ1bmN0aW9uKGVsZW0pe3ZhciB0cmltbWVkQ2xhc3Nlcz1zdHJUcmltLmNhbGwoZWxlbS5jbGFzc05hbWUpLGNsYXNzZXM9dHJpbW1lZENsYXNzZXM\/dHJpbW1lZENsYXNzZXMuc3BsaXQoL1xzKy8pOltdLGk9MCxsZW49Y2xhc3Nlcy5sZW5ndGg7Zm9yKDtpPGxlbjtpKyspe3RoaXMucHVzaChjbGFzc2VzW2ldKX10aGlzLl91cGRhdGVDbGFzc05hbWU9ZnVuY3Rpb24oKXtlbGVtLmNsYXNzTmFtZT10aGlzLnRvU3RyaW5nKCl9fSxjbGFzc0xpc3RQcm90bz1DbGFzc0xpc3RbcHJvdG9Qcm9wXT1bXSxjbGFzc0xpc3RHZXR0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENsYXNzTGlzdCh0aGlzKX07RE9NRXhbcHJvdG9Qcm9wXT1FcnJvcltwcm90b1Byb3BdO2NsYXNzTGlzdFByb3RvLml0ZW09ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXNbaV18fG51bGx9O2NsYXNzTGlzdFByb3RvLmNvbnRhaW5zPWZ1bmN0aW9uKHRva2VuKXt0b2tlbis9IiI7cmV0dXJuIGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLHRva2VuKSE9PS0xfTtjbGFzc0xpc3RQcm90by5hZGQ9ZnVuY3Rpb24odG9rZW4pe3Rva2VuKz0iIjtpZihjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcyx0b2tlbik9PT0tMSl7dGhpcy5wdXNoKHRva2VuKTt0aGlzLl91cGRhdGVDbGFzc05hbWUoKX19O2NsYXNzTGlzdFByb3RvLnJlbW92ZT1mdW5jdGlvbih0b2tlbil7dG9rZW4rPSIiO3ZhciBpbmRleD1jaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcyx0b2tlbik7aWYoaW5kZXghPT0tMSl7dGhpcy5zcGxpY2UoaW5kZXgsMSk7dGhpcy5fdXBkYXRlQ2xhc3NOYW1lKCl9fTtjbGFzc0xpc3RQcm90by50b2dnbGU9ZnVuY3Rpb24odG9rZW4pe3Rva2VuKz0iIjtpZihjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcyx0b2tlbik9PT0tMSl7dGhpcy5hZGQodG9rZW4pfWVsc2V7dGhpcy5yZW1vdmUodG9rZW4pfX07Y2xhc3NMaXN0UHJvdG8udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qb2luKCIgIil9O2lmKG9iakN0ci5kZWZpbmVQcm9wZXJ0eSl7dmFyIGNsYXNzTGlzdFByb3BEZXNjPXtnZXQ6Y2xhc3NMaXN0R2V0dGVyLGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX07dHJ5e29iakN0ci5kZWZpbmVQcm9wZXJ0eShlbGVtQ3RyUHJvdG8sY2xhc3NMaXN0UHJvcCxjbGFzc0xpc3RQcm9wRGVzYyl9Y2F0Y2goZXgpe2lmKGV4Lm51bWJlcj09PS0yMTQ2ODIzMjUyKXtjbGFzc0xpc3RQcm9wRGVzYy5lbnVtZXJhYmxlPWZhbHNlO29iakN0ci5kZWZpbmVQcm9wZXJ0eShlbGVtQ3RyUHJvdG8sY2xhc3NMaXN0UHJvcCxjbGFzc0xpc3RQcm9wRGVzYyl9fX1lbHNlIGlmKG9iakN0cltwcm90b1Byb3BdLl9fZGVmaW5lR2V0dGVyX18pe2VsZW1DdHJQcm90by5fX2RlZmluZUdldHRlcl9fKGNsYXNzTGlzdFByb3AsY2xhc3NMaXN0R2V0dGVyKX19KSh3aW5kb3cpfX07aWYodHlwZW9mIFJJQ0tTSEFXX05PX0NPTVBBVCE9PSJ1bmRlZmluZWQiJiYhUklDS1NIQVdfTk9fQ09NUEFUfHx0eXBlb2YgUklDS1NIQVdfTk9fQ09NUEFUPT09InVuZGVmaW5lZCIpe25ldyBSaWNrc2hhdy5Db21wYXQuQ2xhc3NMaXN0fVJpY2tzaGF3Lm5hbWVzcGFjZSgiUmlja3NoYXcuR3JhcGgiKTtSaWNrc2hhdy5HcmFwaD1mdW5jdGlvbihhcmdzKXt2YXIgc2VsZj10aGlzO3RoaXMuaW5pdGlhbGl6ZT1mdW5jdGlvbihhcmdzKXtpZighYXJncy5lbGVtZW50KXRocm93IlJpY2tzaGF3LkdyYXBoIG5lZWRzIGEgcmVmZXJlbmNlIHRvIGFuIGVsZW1lbnQiO2lmKGFyZ3MuZWxlbWVudC5ub2RlVHlwZSE9PTEpdGhyb3ciUmlja3NoYXcuR3JhcGggZWxlbWVudCB3YXMgZGVmaW5lZCBidXQgbm90IGFuIEhUTUwgZWxlbWVudCI7dGhpcy5lbGVtZW50PWFyZ3MuZWxlbWVudDt0aGlzLnNlcmllcz1hcmdzLnNlcmllczt0aGlzLndpbmRvdz17fTt0aGlzLnVwZGF0ZUNhbGxiYWNrcz1bXTt0aGlzLmNvbmZpZ3VyZUNhbGxiYWNrcz1bXTt0aGlzLmRlZmF1bHRzPXtpbnRlcnBvbGF0aW9uOiJjYXJkaW5hbCIsb2Zmc2V0OiJ6ZXJvIixtaW46dW5kZWZpbmVkLG1heDp1bmRlZmluZWQscHJlc2VydmU6ZmFsc2UseFNjYWxlOnVuZGVmaW5lZCx5U2NhbGU6dW5kZWZpbmVkLHN0YWNrOnRydWV9O3RoaXMuX2xvYWRSZW5kZXJlcnMoKTt0aGlzLmNvbmZpZ3VyZShhcmdzKTt0aGlzLnZhbGlkYXRlU2VyaWVzKGFyZ3Muc2VyaWVzKTt0aGlzLnNlcmllcy5hY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gc2VsZi5zZXJpZXMuZmlsdGVyKGZ1bmN0aW9uKHMpe3JldHVybiFzLmRpc2FibGVkfSl9O3RoaXMuc2V0U2l6ZSh7d2lkdGg6YXJncy53aWR0aCxoZWlnaHQ6YXJncy5oZWlnaHR9KTt0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgicmlja3NoYXdfZ3JhcGgiKTt0aGlzLnZpcz1kMy5zZWxlY3QodGhpcy5lbGVtZW50KS5hcHBlbmQoInN2ZzpzdmciKS5hdHRyKCJ3aWR0aCIsdGhpcy53aWR0aCkuYXR0cigiaGVpZ2h0Iix0aGlzLmhlaWdodCk7dGhpcy5kaXNjb3ZlclJhbmdlKCl9O3RoaXMuX2xvYWRSZW5kZXJlcnM9ZnVuY3Rpb24oKXtmb3IodmFyIG5hbWUgaW4gUmlja3NoYXcuR3JhcGguUmVuZGVyZXIpe2lmKCFuYW1lfHwhUmlja3NoYXcuR3JhcGguUmVuZGVyZXIuaGFzT3duUHJvcGVydHkobmFtZSkpY29udGludWU7dmFyIHI9Umlja3NoYXcuR3JhcGguUmVuZGVyZXJbbmFtZV07aWYoIXJ8fCFyLnByb3RvdHlwZXx8IXIucHJvdG90eXBlLnJlbmRlciljb250aW51ZTtzZWxmLnJlZ2lzdGVyUmVuZGVyZXIobmV3IHIoe2dyYXBoOnNlbGZ9KSl9fTt0aGlzLnZhbGlkYXRlU2VyaWVzPWZ1bmN0aW9uKHNlcmllcyl7aWYoIUFycmF5LmlzQXJyYXkoc2VyaWVzKSYmIShzZXJpZXMgaW5zdGFuY2VvZiBSaWNrc2hhdy5TZXJpZXMpKXt2YXIgc2VyaWVzU2lnbmF0dXJlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkoc2VyaWVzKTt0aHJvdyJzZXJpZXMgaXMgbm90IGFuIGFycmF5OiAiK3Nlcmllc1NpZ25hdHVyZX12YXIgcG9pbnRzQ291bnQ7c2VyaWVzLmZvckVhY2goZnVuY3Rpb24ocyl7aWYoIShzIGluc3RhbmNlb2YgT2JqZWN0KSl7dGhyb3cic2VyaWVzIGVsZW1lbnQgaXMgbm90IGFuIG9iamVjdDogIitzfWlmKCFzLmRhdGEpe3Rocm93InNlcmllcyBoYXMgbm8gZGF0YTogIitKU09OLnN0cmluZ2lmeShzKX1pZighQXJyYXkuaXNBcnJheShzLmRhdGEpKXt0aHJvdyJzZXJpZXMgZGF0YSBpcyBub3QgYW4gYXJyYXk6ICIrSlNPTi5zdHJpbmdpZnkocy5kYXRhKX1pZihzLmRhdGEubGVuZ3RoPjApe3ZhciB4PXMuZGF0YVswXS54O3ZhciB5PXMuZGF0YVswXS55O2lmKHR5cGVvZiB4IT0ibnVtYmVyInx8dHlwZW9mIHkhPSJudW1iZXIiJiZ5IT09bnVsbCl7dGhyb3cieCBhbmQgeSBwcm9wZXJ0aWVzIG9mIHBvaW50cyBzaG91bGQgYmUgbnVtYmVycyBpbnN0ZWFkIG9mICIrdHlwZW9mIHgrIiBhbmQgIit0eXBlb2YgeX19aWYocy5kYXRhLmxlbmd0aD49Myl7aWYocy5kYXRhWzJdLng8cy5kYXRhWzFdLnh8fHMuZGF0YVsxXS54PHMuZGF0YVswXS54fHxzLmRhdGFbcy5kYXRhLmxlbmd0aC0xXS54PHMuZGF0YVswXS54KXt0aHJvdyJzZXJpZXMgZGF0YSBuZWVkcyB0byBiZSBzb3J0ZWQgb24geCB2YWx1ZXMgZm9yIHNlcmllcyBuYW1lOiAiK3MubmFtZX19fSx0aGlzKX07dGhpcy5kYXRhRG9tYWluPWZ1bmN0aW9uKCl7dmFyIGRhdGE9dGhpcy5zZXJpZXMubWFwKGZ1bmN0aW9uKHMpe3JldHVybiBzLmRhdGF9KTt2YXIgbWluPWQzLm1pbihkYXRhLm1hcChmdW5jdGlvbihkKXtyZXR1cm4gZFswXS54fSkpO3ZhciBtYXg9ZDMubWF4KGRhdGEubWFwKGZ1bmN0aW9uKGQpe3JldHVybiBkW2QubGVuZ3RoLTFdLnh9KSk7cmV0dXJuW21pbixtYXhdfTt0aGlzLmRpc2NvdmVyUmFuZ2U9ZnVuY3Rpb24oKXt2YXIgZG9tYWluPXRoaXMucmVuZGVyZXIuZG9tYWluKCk7dGhpcy54PSh0aGlzLnhTY2FsZXx8ZDMuc2NhbGUubGluZWFyKCkpLmNvcHkoKS5kb21haW4oZG9tYWluLngpLnJhbmdlKFswLHRoaXMud2lkdGhdKTt0aGlzLnk9KHRoaXMueVNjYWxlfHxkMy5zY2FsZS5saW5lYXIoKSkuY29weSgpLmRvbWFpbihkb21haW4ueSkucmFuZ2UoW3RoaXMuaGVpZ2h0LDBdKTt0aGlzLngubWFnbml0dWRlPWQzLnNjYWxlLmxpbmVhcigpLmRvbWFpbihbZG9tYWluLnhbMF0tZG9tYWluLnhbMF0sZG9tYWluLnhbMV0tZG9tYWluLnhbMF1dKS5yYW5nZShbMCx0aGlzLndpZHRoXSk7dGhpcy55Lm1hZ25pdHVkZT1kMy5zY2FsZS5saW5lYXIoKS5kb21haW4oW2RvbWFpbi55WzBdLWRvbWFpbi55WzBdLGRvbWFpbi55WzFdLWRvbWFpbi55WzBdXSkucmFuZ2UoWzAsdGhpcy5oZWlnaHRdKX07dGhpcy5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgc3RhY2tlZERhdGE9dGhpcy5zdGFja0RhdGEoKTt0aGlzLmRpc2NvdmVyUmFuZ2UoKTt0aGlzLnJlbmRlcmVyLnJlbmRlcigpO3RoaXMudXBkYXRlQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24oY2FsbGJhY2spe2NhbGxiYWNrKCl9KX07dGhpcy51cGRhdGU9dGhpcy5yZW5kZXI7dGhpcy5zdGFja0RhdGE9ZnVuY3Rpb24oKXt2YXIgZGF0YT10aGlzLnNlcmllcy5hY3RpdmUoKS5tYXAoZnVuY3Rpb24oZCl7cmV0dXJuIGQuZGF0YX0pLm1hcChmdW5jdGlvbihkKXtyZXR1cm4gZC5maWx0ZXIoZnVuY3Rpb24oZCl7cmV0dXJuIHRoaXMuX3NsaWNlKGQpfSx0aGlzKX0sdGhpcyk7dmFyIHByZXNlcnZlPXRoaXMucHJlc2VydmU7aWYoIXByZXNlcnZlKXt0aGlzLnNlcmllcy5mb3JFYWNoKGZ1bmN0aW9uKHNlcmllcyl7aWYoc2VyaWVzLnNjYWxlKXtwcmVzZXJ2ZT10cnVlfX0pfWRhdGE9cHJlc2VydmU\/Umlja3NoYXcuY2xvbmUoZGF0YSk6ZGF0YTt0aGlzLnNlcmllcy5hY3RpdmUoKS5mb3JFYWNoKGZ1bmN0aW9uKHNlcmllcyxpbmRleCl7aWYoc2VyaWVzLnNjYWxlKXt2YXIgc2VyaWVzRGF0YT1kYXRhW2luZGV4XTtpZihzZXJpZXNEYXRhKXtzZXJpZXNEYXRhLmZvckVhY2goZnVuY3Rpb24oZCl7ZC55PXNlcmllcy5zY2FsZShkLnkpfSl9fX0pO3RoaXMuc3RhY2tEYXRhLmhvb2tzLmRhdGEuZm9yRWFjaChmdW5jdGlvbihlbnRyeSl7ZGF0YT1lbnRyeS5mLmFwcGx5KHNlbGYsW2RhdGFdKX0pO3ZhciBzdGFja2VkRGF0YTtpZighdGhpcy5yZW5kZXJlci51bnN0YWNrKXt0aGlzLl92YWxpZGF0ZVN0YWNrYWJsZSgpO3ZhciBsYXlvdXQ9ZDMubGF5b3V0LnN0YWNrKCk7bGF5b3V0Lm9mZnNldChzZWxmLm9mZnNldCk7c3RhY2tlZERhdGE9bGF5b3V0KGRhdGEpfXN0YWNrZWREYXRhPXN0YWNrZWREYXRhfHxkYXRhO2lmKHRoaXMucmVuZGVyZXIudW5zdGFjayl7c3RhY2tlZERhdGEuZm9yRWFjaChmdW5jdGlvbihzZXJpZXNEYXRhKXtzZXJpZXNEYXRhLmZvckVhY2goZnVuY3Rpb24oZCl7ZC55MD1kLnkwPT09dW5kZWZpbmVkPzA6ZC55MH0pfSl9dGhpcy5zdGFja0RhdGEuaG9va3MuYWZ0ZXIuZm9yRWFjaChmdW5jdGlvbihlbnRyeSl7c3RhY2tlZERhdGE9ZW50cnkuZi5hcHBseShzZWxmLFtkYXRhXSl9KTt2YXIgaT0wO3RoaXMuc2VyaWVzLmZvckVhY2goZnVuY3Rpb24oc2VyaWVzKXtpZihzZXJpZXMuZGlzYWJsZWQpcmV0dXJuO3Nlcmllcy5zdGFjaz1zdGFja2VkRGF0YVtpKytdfSk7dGhpcy5zdGFja2VkRGF0YT1zdGFja2VkRGF0YTtyZXR1cm4gc3RhY2tlZERhdGF9O3RoaXMuX3ZhbGlkYXRlU3RhY2thYmxlPWZ1bmN0aW9uKCl7dmFyIHNlcmllcz10aGlzLnNlcmllczt2YXIgcG9pbnRzQ291bnQ7c2VyaWVzLmZvckVhY2goZnVuY3Rpb24ocyl7cG9pbnRzQ291bnQ9cG9pbnRzQ291bnR8fHMuZGF0YS5sZW5ndGg7aWYocG9pbnRzQ291bnQmJnMuZGF0YS5sZW5ndGghPXBvaW50c0NvdW50KXt0aHJvdyJzdGFja2VkIHNlcmllcyBjYW5ub3QgaGF2ZSBkaWZmZXJpbmcgbnVtYmVycyBvZiBwb2ludHM6ICIrcG9pbnRzQ291bnQrIiB2cyAiK3MuZGF0YS5sZW5ndGgrIjsgc2VlIFJpY2tzaGF3LlNlcmllcy5maWxsKCkifX0sdGhpcyl9O3RoaXMuc3RhY2tEYXRhLmhvb2tzPXtkYXRhOltdLGFmdGVyOltdfTt0aGlzLl9zbGljZT1mdW5jdGlvbihkKXtpZih0aGlzLndpbmRvdy54TWlufHx0aGlzLndpbmRvdy54TWF4KXt2YXIgaXNJblJhbmdlPXRydWU7aWYodGhpcy53aW5kb3cueE1pbiYmZC54PHRoaXMud2luZG93LnhNaW4paXNJblJhbmdlPWZhbHNlO2lmKHRoaXMud2luZG93LnhNYXgmJmQueD50aGlzLndpbmRvdy54TWF4KWlzSW5SYW5nZT1mYWxzZTtyZXR1cm4gaXNJblJhbmdlfXJldHVybiB0cnVlfTt0aGlzLm9uVXBkYXRlPWZ1bmN0aW9uKGNhbGxiYWNrKXt0aGlzLnVwZGF0ZUNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKX07dGhpcy5vbkNvbmZpZ3VyZT1mdW5jdGlvbihjYWxsYmFjayl7dGhpcy5jb25maWd1cmVDYWxsYmFja3MucHVzaChjYWxsYmFjayl9O3RoaXMucmVnaXN0ZXJSZW5kZXJlcj1mdW5jdGlvbihyZW5kZXJlcil7dGhpcy5fcmVuZGVyZXJzPXRoaXMuX3JlbmRlcmVyc3x8e307dGhpcy5fcmVuZGVyZXJzW3JlbmRlcmVyLm5hbWVdPXJlbmRlcmVyfTt0aGlzLmNvbmZpZ3VyZT1mdW5jdGlvbihhcmdzKXt0aGlzLmNvbmZpZz10aGlzLmNvbmZpZ3x8e307aWYoYXJncy53aWR0aHx8YXJncy5oZWlnaHQpe3RoaXMuc2V0U2l6ZShhcmdzKX1SaWNrc2hhdy5rZXlzKHRoaXMuZGVmYXVsdHMpLmZvckVhY2goZnVuY3Rpb24oayl7dGhpcy5jb25maWdba109ayBpbiBhcmdzP2FyZ3Nba106ayBpbiB0aGlzP3RoaXNba106dGhpcy5kZWZhdWx0c1trXX0sdGhpcyk7Umlja3NoYXcua2V5cyh0aGlzLmNvbmZpZykuZm9yRWFjaChmdW5jdGlvbihrKXt0aGlzW2tdPXRoaXMuY29uZmlnW2tdfSx0aGlzKTtpZigic3RhY2siaW4gYXJncylhcmdzLnVuc3RhY2s9IWFyZ3Muc3RhY2s7dmFyIHJlbmRlcmVyPWFyZ3MucmVuZGVyZXJ8fHRoaXMucmVuZGVyZXImJnRoaXMucmVuZGVyZXIubmFtZXx8InN0YWNrIjt0aGlzLnNldFJlbmRlcmVyKHJlbmRlcmVyLGFyZ3MpO3RoaXMuY29uZmlndXJlQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24oY2FsbGJhY2spe2NhbGxiYWNrKGFyZ3MpfSl9O3RoaXMuc2V0UmVuZGVyZXI9ZnVuY3Rpb24ocixhcmdzKXtpZih0eXBlb2Ygcj09ImZ1bmN0aW9uIil7dGhpcy5yZW5kZXJlcj1uZXcgcih7Z3JhcGg6c2VsZn0pO3RoaXMucmVnaXN0ZXJSZW5kZXJlcih0aGlzLnJlbmRlcmVyKX1lbHNle2lmKCF0aGlzLl9yZW5kZXJlcnNbcl0pe3Rocm93ImNvdWxkbid0IGZpbmQgcmVuZGVyZXIgIityfXRoaXMucmVuZGVyZXI9dGhpcy5fcmVuZGVyZXJzW3JdfWlmKHR5cGVvZiBhcmdzPT0ib2JqZWN0Iil7dGhpcy5yZW5kZXJlci5jb25maWd1cmUoYXJncyl9fTt0aGlzLnNldFNpemU9ZnVuY3Rpb24oYXJncyl7YXJncz1hcmdzfHx7fTtpZih0eXBlb2Ygd2luZG93IT09dW5kZWZpbmVkKXt2YXIgc3R5bGU9d2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50LG51bGwpO3ZhciBlbGVtZW50V2lkdGg9cGFyc2VJbnQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgid2lkdGgiKSwxMCk7dmFyIGVsZW1lbnRIZWlnaHQ9cGFyc2VJbnQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgiaGVpZ2h0IiksMTApfXRoaXMud2lkdGg9YXJncy53aWR0aHx8ZWxlbWVudFdpZHRofHw0MDA7dGhpcy5oZWlnaHQ9YXJncy5oZWlnaHR8fGVsZW1lbnRIZWlnaHR8fDI1MDt0aGlzLnZpcyYmdGhpcy52aXMuYXR0cigid2lkdGgiLHRoaXMud2lkdGgpLmF0dHIoImhlaWdodCIsdGhpcy5oZWlnaHQpfTt0aGlzLmluaXRpYWxpemUoYXJncyl9O1JpY2tzaGF3Lm5hbWVzcGFjZSgiUmlja3NoYXcuRml4dHVyZXMuQ29sb3IiKTtSaWNrc2hhdy5GaXh0dXJlcy5Db2xvcj1mdW5jdGlvbigpe3RoaXMuc2NoZW1lcz17fTt0aGlzLnNjaGVtZXMuc3BlY3RydW0xND1bIiNlY2I3OTYiLCIjZGM4ZjcwIiwiI2IyYTQ3MCIsIiM5Mjg3NWEiLCIjNzE2YzQ5IiwiI2QyZWQ4MiIsIiNiYmU0NjgiLCIjYTFkMDVkIiwiI2U3Y2JlNiIsIiNkOGFhZDYiLCIjYTg4OGMyIiwiIzlkYzJkMyIsIiM2NDllYjkiLCIjMzg3YWEzIl0ucmV2ZXJzZSgpO3RoaXMuc2NoZW1lcy5zcGVjdHJ1bTIwMDA9WyIjNTczMDZmIiwiIzUxNGM3NiIsIiM2NDY1ODMiLCIjNzM4Mzk0IiwiIzZiOWM3ZCIsIiM4NGI2NjUiLCIjYTdjYTUwIiwiI2JmZTc0NiIsIiNlMmY1MjgiLCIjZmZmNzI2IiwiI2VjZGQwMCIsIiNkNGIxMWQiLCIjZGU4ODAwIiwiI2RlNDgwMCIsIiNjOTE1MTUiLCIjOWEwMDAwIiwiIzdiMDQyOSIsIiM1ODA4MzkiLCIjMzEwODJiIl07dGhpcy5zY2hlbWVzLnNwZWN0cnVtMjAwMT1bIiMyZjI0M2YiLCIjM2MyYzU1IiwiIzRhMzc2OCIsIiM1NjUyNzAiLCIjNmI2YjdjIiwiIzcyOTU3ZiIsIiM4NmFkNmUiLCIjYTFiYzVlIiwiI2I4ZDk1NCIsIiNkM2UwNGUiLCIjY2NhZDJhIiwiI2NjODQxMiIsIiNjMTUyMWQiLCIjYWQzODIxIiwiIzhhMTAxMCIsIiM2ODE3MTciLCIjNTMxZTFlIiwiIzNkMTgxOCIsIiMzMjBhMWIiXTt0aGlzLnNjaGVtZXMuY2xhc3NpYzk9WyIjNDIzZDRmIiwiIzRhNjg2MCIsIiM4NDhmMzkiLCIjYTJiNzNjIiwiI2RkY2I1MyIsIiNjNWEzMmYiLCIjN2Q1ODM2IiwiIzk2M2IyMCIsIiM3YzI2MjYiLCIjNDkxZDM3IiwiIzJmMjU0YSJdLnJldmVyc2UoKTt0aGlzLnNjaGVtZXMuaHR0cFN0YXR1cz17NTAzOiIjZWE1MDI5Iiw1MDI6IiNkMjNmMTQiLDUwMDoiI2JmMzYxMyIsNDEwOiIjZWZhY2VhIiw0MDk6IiNlMjkxZGMiLDQwMzoiI2Y0NTdlOCIsNDA4OiIjZTEyMWQyIiw0MDE6IiNiOTJkYWUiLDQwNToiI2Y0N2NlYiIsNDA0OiIjYTgyYTlmIiw0MDA6IiNiMjYzYzYiLDMwMToiIzZmYTAyNCIsMzAyOiIjODdjMzJiIiwzMDc6IiNhMGQ4NGMiLDMwNDoiIzI4YjU1YyIsMjAwOiIjMWE0Zjc0IiwyMDY6IiMyNzgzOWYiLDIwMToiIzUyYWRjOSIsMjAyOiIjN2M5NzlmIiwyMDM6IiNhNWI4YmQiLDIwNDoiI2MxY2RkMSJ9O3RoaXMuc2NoZW1lcy5jb2xvcndoZWVsPVsiI2I1YjZhOSIsIiM4NTg3NzIiLCIjNzg1ZjQzIiwiIzk2NTU3ZSIsIiM0NjgyYjQiLCIjNjViOWFjIiwiIzczYzAzYSIsIiNjYjUxM2EiXS5yZXZlcnNlKCk7dGhpcy5zY2hlbWVzLmNvb2w9WyIjNWU5ZDJmIiwiIzczYzAzYSIsIiM0NjgyYjQiLCIjN2JjM2I4IiwiI2E5ODg0ZSIsIiNjMWIyNjYiLCIjYTQ3NDkzIiwiI2MwOWZiNSJdO3RoaXMuc2NoZW1lcy5tdW5pbj1bIiMwMGNjMDAiLCIjMDA2NmIzIiwiI2ZmODAwMCIsIiNmZmNjMDAiLCIjMzMwMDk5IiwiIzk5MDA5OSIsIiNjY2ZmMDAiLCIjZmYwMDAwIiwiIzgwODA4MCIsIiMwMDhmMDAiLCIjMDA0ODdkIiwiI2IzNWEwMCIsIiNiMzhmMDAiLCIjNmIwMDZiIiwiIzhmYjMwMCIsIiNiMzAwMDAiLCIjYmViZWJlIiwiIzgwZmY4MCIsIiM4MGM5ZmYiLCIjZmZjMDgwIiwiI2ZmZTY4MCIsIiNhYTgwZmYiLCIjZWUwMGNjIiwiI2ZmODA4MCIsIiM2NjY2MDAiLCIjZmZiZmZmIiwiIzAwZmZjYyIsIiNjYzY2OTkiLCIjOTk5OTAwIl19O1JpY2tzaGF3Lm5hbWVzcGFjZSgiUmlja3NoYXcuRml4dHVyZXMuUmFuZG9tRGF0YSIpO1JpY2tzaGF3LkZpeHR1cmVzLlJhbmRvbURhdGE9ZnVuY3Rpb24odGltZUludGVydmFsKXt2YXIgYWRkRGF0YTt0aW1lSW50ZXJ2YWw9dGltZUludGVydmFsfHwxO3ZhciBsYXN0UmFuZG9tVmFsdWU9MjAwO3ZhciB0aW1lQmFzZT1NYXRoLmZsb29yKChuZXcgRGF0ZSkuZ2V0VGltZSgpLzFlMyk7dGhpcy5hZGREYXRhPWZ1bmN0aW9uKGRhdGEpe3ZhciByYW5kb21WYWx1ZT1NYXRoLnJhbmRvbSgpKjEwMCsxNStsYXN0UmFuZG9tVmFsdWU7dmFyIGluZGV4PWRhdGFbMF0ubGVuZ3RoO3ZhciBjb3VudGVyPTE7ZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHNlcmllcyl7dmFyIHJhbmRvbVZhcmlhbmNlPU1hdGgucmFuZG9tKCkqMjA7dmFyIHY9cmFuZG9tVmFsdWUvMjUrY291bnRlcisrICsoTWF0aC5jb3MoaW5kZXgqY291bnRlcioxMS85NjApKzIpKjE1KyhNYXRoLmNvcyhpbmRleC83KSsyKSo3KyhNYXRoLmNvcyhpbmRleC8xNykrMikqMTtzZXJpZXMucHVzaCh7eDppbmRleCp0aW1lSW50ZXJ2YWwrdGltZUJhc2UseTp2K3JhbmRvbVZhcmlhbmNlfSl9KTtsYXN0UmFuZG9tVmFsdWU9cmFuZG9tVmFsdWUqLjg1fTt0aGlzLnJlbW92ZURhdGE9ZnVuY3Rpb24oZGF0YSl7ZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHNlcmllcyl7c2VyaWVzLnNoaWZ0KCl9KTt0aW1lQmFzZSs9dGltZUludGVydmFsfX07Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5GaXh0dXJlcy5UaW1lIik7Umlja3NoYXcuRml4dHVyZXMuVGltZT1mdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7dGhpcy5tb250aHM9WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXTt0aGlzLnVuaXRzPVt7bmFtZToiZGVjYWRlIixzZWNvbmRzOjg2NDAwKjM2NS4yNSoxMCxmb3JtYXR0ZXI6ZnVuY3Rpb24oZCl7cmV0dXJuIHBhcnNlSW50KGQuZ2V0VVRDRnVsbFllYXIoKS8xMCwxMCkqMTB9fSx7bmFtZToieWVhciIsc2Vjb25kczo4NjQwMCozNjUuMjUsZm9ybWF0dGVyOmZ1bmN0aW9uKGQpe3JldHVybiBkLmdldFVUQ0Z1bGxZZWFyKCl9fSx7bmFtZToibW9udGgiLHNlY29uZHM6ODY0MDAqMzAuNSxmb3JtYXR0ZXI6ZnVuY3Rpb24oZCl7cmV0dXJuIHNlbGYubW9udGhzW2QuZ2V0VVRDTW9udGgoKV19fSx7bmFtZToid2VlayIsc2Vjb25kczo4NjQwMCo3LGZvcm1hdHRlcjpmdW5jdGlvbihkKXtyZXR1cm4gc2VsZi5mb3JtYXREYXRlKGQpfX0se25hbWU6ImRheSIsc2Vjb25kczo4NjQwMCxmb3JtYXR0ZXI6ZnVuY3Rpb24oZCl7cmV0dXJuIGQuZ2V0VVRDRGF0ZSgpfX0se25hbWU6IjYgaG91ciIsc2Vjb25kczozNjAwKjYsZm9ybWF0dGVyOmZ1bmN0aW9uKGQpe3JldHVybiBzZWxmLmZvcm1hdFRpbWUoZCl9fSx7bmFtZToiaG91ciIsc2Vjb25kczozNjAwLGZvcm1hdHRlcjpmdW5jdGlvbihkKXtyZXR1cm4gc2VsZi5mb3JtYXRUaW1lKGQpfX0se25hbWU6IjE1IG1pbnV0ZSIsc2Vjb25kczo2MCoxNSxmb3JtYXR0ZXI6ZnVuY3Rpb24oZCl7cmV0dXJuIHNlbGYuZm9ybWF0VGltZShkKX19LHtuYW1lOiJtaW51dGUiLHNlY29uZHM6NjAsZm9ybWF0dGVyOmZ1bmN0aW9uKGQpe3JldHVybiBkLmdldFVUQ01pbnV0ZXMoKX19LHtuYW1lOiIxNSBzZWNvbmQiLHNlY29uZHM6MTUsZm9ybWF0dGVyOmZ1bmN0aW9uKGQpe3JldHVybiBkLmdldFVUQ1NlY29uZHMoKSsicyJ9fSx7bmFtZToic2Vjb25kIixzZWNvbmRzOjEsZm9ybWF0dGVyOmZ1bmN0aW9uKGQpe3JldHVybiBkLmdldFVUQ1NlY29uZHMoKSsicyJ9fSx7bmFtZToiZGVjaXNlY29uZCIsc2Vjb25kczoxLzEwLGZvcm1hdHRlcjpmdW5jdGlvbihkKXtyZXR1cm4gZC5nZXRVVENNaWxsaXNlY29uZHMoKSsibXMifX0se25hbWU6ImNlbnRpc2Vjb25kIixzZWNvbmRzOjEvMTAwLGZvcm1hdHRlcjpmdW5jdGlvbihkKXtyZXR1cm4gZC5nZXRVVENNaWxsaXNlY29uZHMoKSsibXMifX1dO3RoaXMudW5pdD1mdW5jdGlvbih1bml0TmFtZSl7cmV0dXJuIHRoaXMudW5pdHMuZmlsdGVyKGZ1bmN0aW9uKHVuaXQpe3JldHVybiB1bml0TmFtZT09dW5pdC5uYW1lfSkuc2hpZnQoKX07dGhpcy5mb3JtYXREYXRlPWZ1bmN0aW9uKGQpe3JldHVybiBkMy50aW1lLmZvcm1hdCgiJWIgJWUiKShkKX07dGhpcy5mb3JtYXRUaW1lPWZ1bmN0aW9uKGQpe3JldHVybiBkLnRvVVRDU3RyaW5nKCkubWF0Y2goLyhcZCs6XGQrKTovKVsxXX07dGhpcy5jZWlsPWZ1bmN0aW9uKHRpbWUsdW5pdCl7dmFyIGRhdGUsZmxvb3IseWVhcjtpZih1bml0Lm5hbWU9PSJtb250aCIpe2RhdGU9bmV3IERhdGUodGltZSoxZTMpO2Zsb29yPURhdGUuVVRDKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSxkYXRlLmdldFVUQ01vbnRoKCkpLzFlMztpZihmbG9vcj09dGltZSlyZXR1cm4gdGltZTt5ZWFyPWRhdGUuZ2V0VVRDRnVsbFllYXIoKTt2YXIgbW9udGg9ZGF0ZS5nZXRVVENNb250aCgpO2lmKG1vbnRoPT0xMSl7bW9udGg9MDt5ZWFyPXllYXIrMX1lbHNle21vbnRoKz0xfXJldHVybiBEYXRlLlVUQyh5ZWFyLG1vbnRoKS8xZTN9aWYodW5pdC5uYW1lPT0ieWVhciIpe2RhdGU9bmV3IERhdGUodGltZSoxZTMpO2Zsb29yPURhdGUuVVRDKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSwwKS8xZTM7aWYoZmxvb3I9PXRpbWUpcmV0dXJuIHRpbWU7eWVhcj1kYXRlLmdldFVUQ0Z1bGxZZWFyKCkrMTtyZXR1cm4gRGF0ZS5VVEMoeWVhciwwKS8xZTN9cmV0dXJuIE1hdGguY2VpbCh0aW1lL3VuaXQuc2Vjb25kcykqdW5pdC5zZWNvbmRzfX07Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5GaXh0dXJlcy5UaW1lLkxvY2FsIik7Umlja3NoYXcuRml4dHVyZXMuVGltZS5Mb2NhbD1mdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7dGhpcy5tb250aHM9WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXTt0aGlzLnVuaXRzPVt7bmFtZToiZGVjYWRlIixzZWNvbmRzOjg2NDAwKjM2NS4yNSoxMCxmb3JtYXR0ZXI6ZnVuY3Rpb24oZCl7cmV0dXJuIHBhcnNlSW50KGQuZ2V0RnVsbFllYXIoKS8xMCwxMCkqMTB9fSx7bmFtZToieWVhciIsc2Vjb25kczo4NjQwMCozNjUuMjUsZm9ybWF0dGVyOmZ1bmN0aW9uKGQpe3JldHVybiBkLmdldEZ1bGxZZWFyKCl9fSx7bmFtZToibW9udGgiLHNlY29uZHM6ODY0MDAqMzAuNSxmb3JtYXR0ZXI6ZnVuY3Rpb24oZCl7cmV0dXJuIHNlbGYubW9udGhzW2QuZ2V0TW9udGgoKV19fSx7bmFtZToid2VlayIsc2Vjb25kczo4NjQwMCo3LGZvcm1hdHRlcjpmdW5jdGlvbihkKXtyZXR1cm4gc2VsZi5mb3JtYXREYXRlKGQpfX0se25hbWU6ImRheSIsc2Vjb25kczo4NjQwMCxmb3JtYXR0ZXI6ZnVuY3Rpb24oZCl7cmV0dXJuIGQuZ2V0RGF0ZSgpfX0se25hbWU6IjYgaG91ciIsc2Vjb25kczozNjAwKjYsZm9ybWF0dGVyOmZ1bmN0aW9uKGQpe3JldHVybiBzZWxmLmZvcm1hdFRpbWUoZCl9fSx7bmFtZToiaG91ciIsc2Vjb25kczozNjAwLGZvcm1hdHRlcjpmdW5jdGlvbihkKXtyZXR1cm4gc2VsZi5mb3JtYXRUaW1lKGQpfX0se25hbWU6IjE1IG1pbnV0ZSIsc2Vjb25kczo2MCoxNSxmb3JtYXR0ZXI6ZnVuY3Rpb24oZCl7cmV0dXJuIHNlbGYuZm9ybWF0VGltZShkKX19LHtuYW1lOiJtaW51dGUiLHNlY29uZHM6NjAsZm9ybWF0dGVyOmZ1bmN0aW9uKGQpe3JldHVybiBkLmdldE1pbnV0ZXMoKX19LHtuYW1lOiIxNSBzZWNvbmQiLHNlY29uZHM6MTUsZm9ybWF0dGVyOmZ1bmN0aW9uKGQpe3JldHVybiBkLmdldFNlY29uZHMoKSsicyJ9fSx7bmFtZToic2Vjb25kIixzZWNvbmRzOjEsZm9ybWF0dGVyOmZ1bmN0aW9uKGQpe3JldHVybiBkLmdldFNlY29uZHMoKSsicyJ9fSx7bmFtZToiZGVjaXNlY29uZCIsc2Vjb25kczoxLzEwLGZvcm1hdHRlcjpmdW5jdGlvbihkKXtyZXR1cm4gZC5nZXRNaWxsaXNlY29uZHMoKSsibXMifX0se25hbWU6ImNlbnRpc2Vjb25kIixzZWNvbmRzOjEvMTAwLGZvcm1hdHRlcjpmdW5jdGlvbihkKXtyZXR1cm4gZC5nZXRNaWxsaXNlY29uZHMoKSsibXMifX1dO3RoaXMudW5pdD1mdW5jdGlvbih1bml0TmFtZSl7cmV0dXJuIHRoaXMudW5pdHMuZmlsdGVyKGZ1bmN0aW9uKHVuaXQpe3JldHVybiB1bml0TmFtZT09dW5pdC5uYW1lfSkuc2hpZnQoKX07dGhpcy5mb3JtYXREYXRlPWZ1bmN0aW9uKGQpe3JldHVybiBkMy50aW1lLmZvcm1hdCgiJWIgJWUiKShkKX07dGhpcy5mb3JtYXRUaW1lPWZ1bmN0aW9uKGQpe3JldHVybiBkLnRvU3RyaW5nKCkubWF0Y2goLyhcZCs6XGQrKTovKVsxXX07dGhpcy5jZWlsPWZ1bmN0aW9uKHRpbWUsdW5pdCl7dmFyIGRhdGUsZmxvb3IseWVhcjtpZih1bml0Lm5hbWU9PSJkYXkiKXt2YXIgbmVhckZ1dHVyZT1uZXcgRGF0ZSgodGltZSt1bml0LnNlY29uZHMtMSkqMWUzKTt2YXIgcm91bmRlZD1uZXcgRGF0ZSgwKTtyb3VuZGVkLnNldE1pbGxpc2Vjb25kcygwKTtyb3VuZGVkLnNldFNlY29uZHMoMCk7cm91bmRlZC5zZXRNaW51dGVzKDApO3JvdW5kZWQuc2V0SG91cnMoMCk7cm91bmRlZC5zZXREYXRlKG5lYXJGdXR1cmUuZ2V0RGF0ZSgpKTtyb3VuZGVkLnNldE1vbnRoKG5lYXJGdXR1cmUuZ2V0TW9udGgoKSk7cm91bmRlZC5zZXRGdWxsWWVhcihuZWFyRnV0dXJlLmdldEZ1bGxZZWFyKCkpO3JldHVybiByb3VuZGVkLmdldFRpbWUoKS8xZTN9aWYodW5pdC5uYW1lPT0ibW9udGgiKXtkYXRlPW5ldyBEYXRlKHRpbWUqMWUzKTtmbG9vcj1uZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksZGF0ZS5nZXRNb250aCgpKS5nZXRUaW1lKCkvMWUzO2lmKGZsb29yPT10aW1lKXJldHVybiB0aW1lO3llYXI9ZGF0ZS5nZXRGdWxsWWVhcigpO3ZhciBtb250aD1kYXRlLmdldE1vbnRoKCk7aWYobW9udGg9PTExKXttb250aD0wO3llYXI9eWVhcisxfWVsc2V7bW9udGgrPTF9cmV0dXJuIG5ldyBEYXRlKHllYXIsbW9udGgpLmdldFRpbWUoKS8xZTN9aWYodW5pdC5uYW1lPT0ieWVhciIpe2RhdGU9bmV3IERhdGUodGltZSoxZTMpO2Zsb29yPW5ldyBEYXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSwwKS5nZXRUaW1lKCkvMWUzO2lmKGZsb29yPT10aW1lKXJldHVybiB0aW1lO3llYXI9ZGF0ZS5nZXRGdWxsWWVhcigpKzE7cmV0dXJuIG5ldyBEYXRlKHllYXIsMCkuZ2V0VGltZSgpLzFlM31yZXR1cm4gTWF0aC5jZWlsKHRpbWUvdW5pdC5zZWNvbmRzKSp1bml0LnNlY29uZHN9fTtSaWNrc2hhdy5uYW1lc3BhY2UoIlJpY2tzaGF3LkZpeHR1cmVzLk51bWJlciIpO1JpY2tzaGF3LkZpeHR1cmVzLk51bWJlci5mb3JtYXRLTUJUPWZ1bmN0aW9uKHkpe3ZhciBhYnNfeT1NYXRoLmFicyh5KTtpZihhYnNfeT49MWUxMil7cmV0dXJuIHkvMWUxMisiVCJ9ZWxzZSBpZihhYnNfeT49MWU5KXtyZXR1cm4geS8xZTkrIkIifWVsc2UgaWYoYWJzX3k+PTFlNil7cmV0dXJuIHkvMWU2KyJNIn1lbHNlIGlmKGFic195Pj0xZTMpe3JldHVybiB5LzFlMysiSyJ9ZWxzZSBpZihhYnNfeTwxJiZ5PjApe3JldHVybiB5LnRvRml4ZWQoMil9ZWxzZSBpZihhYnNfeT09PTApe3JldHVybiIifWVsc2V7cmV0dXJuIHl9fTtSaWNrc2hhdy5GaXh0dXJlcy5OdW1iZXIuZm9ybWF0QmFzZTEwMjRLTUdUUD1mdW5jdGlvbih5KXt2YXIgYWJzX3k9TWF0aC5hYnMoeSk7aWYoYWJzX3k+PTB4NDAwMDAwMDAwMDAwMCl7cmV0dXJuIHkvMHg0MDAwMDAwMDAwMDAwKyJQIn1lbHNlIGlmKGFic195Pj0xMDk5NTExNjI3Nzc2KXtyZXR1cm4geS8xMDk5NTExNjI3Nzc2KyJUIn1lbHNlIGlmKGFic195Pj0xMDczNzQxODI0KXtyZXR1cm4geS8xMDczNzQxODI0KyJHIn1lbHNlIGlmKGFic195Pj0xMDQ4NTc2KXtyZXR1cm4geS8xMDQ4NTc2KyJNIn1lbHNlIGlmKGFic195Pj0xMDI0KXtyZXR1cm4geS8xMDI0KyJLIn1lbHNlIGlmKGFic195PDEmJnk+MCl7cmV0dXJuIHkudG9GaXhlZCgyKX1lbHNlIGlmKGFic195PT09MCl7cmV0dXJuIiJ9ZWxzZXtyZXR1cm4geX19O1JpY2tzaGF3Lm5hbWVzcGFjZSgiUmlja3NoYXcuQ29sb3IuUGFsZXR0ZSIpO1JpY2tzaGF3LkNvbG9yLlBhbGV0dGU9ZnVuY3Rpb24oYXJncyl7dmFyIGNvbG9yPW5ldyBSaWNrc2hhdy5GaXh0dXJlcy5Db2xvcjthcmdzPWFyZ3N8fHt9O3RoaXMuc2NoZW1lcz17fTt0aGlzLnNjaGVtZT1jb2xvci5zY2hlbWVzW2FyZ3Muc2NoZW1lXXx8YXJncy5zY2hlbWV8fGNvbG9yLnNjaGVtZXMuY29sb3J3aGVlbDt0aGlzLnJ1bm5pbmdJbmRleD0wO3RoaXMuZ2VuZXJhdG9ySW5kZXg9MDtpZihhcmdzLmludGVycG9sYXRlZFN0b3BDb3VudCl7dmFyIHNjaGVtZUNvdW50PXRoaXMuc2NoZW1lLmxlbmd0aC0xO3ZhciBpLGosc2NoZW1lPVtdO2ZvcihpPTA7aTxzY2hlbWVDb3VudDtpKyspe3NjaGVtZS5wdXNoKHRoaXMuc2NoZW1lW2ldKTt2YXIgZ2VuZXJhdG9yPWQzLmludGVycG9sYXRlSHNsKHRoaXMuc2NoZW1lW2ldLHRoaXMuc2NoZW1lW2krMV0pO2ZvcihqPTE7ajxhcmdzLmludGVycG9sYXRlZFN0b3BDb3VudDtqKyspe3NjaGVtZS5wdXNoKGdlbmVyYXRvcigxL2FyZ3MuaW50ZXJwb2xhdGVkU3RvcENvdW50KmopKX19c2NoZW1lLnB1c2godGhpcy5zY2hlbWVbdGhpcy5zY2hlbWUubGVuZ3RoLTFdKTt0aGlzLnNjaGVtZT1zY2hlbWV9dGhpcy5yb3RhdGVDb3VudD10aGlzLnNjaGVtZS5sZW5ndGg7dGhpcy5jb2xvcj1mdW5jdGlvbihrZXkpe3JldHVybiB0aGlzLnNjaGVtZVtrZXldfHx0aGlzLnNjaGVtZVt0aGlzLnJ1bm5pbmdJbmRleCsrXXx8dGhpcy5pbnRlcnBvbGF0ZUNvbG9yKCl8fCIjODA4MDgwIn07dGhpcy5pbnRlcnBvbGF0ZUNvbG9yPWZ1bmN0aW9uKCl7aWYoIUFycmF5LmlzQXJyYXkodGhpcy5zY2hlbWUpKXJldHVybjt2YXIgY29sb3I7aWYodGhpcy5nZW5lcmF0b3JJbmRleD09dGhpcy5yb3RhdGVDb3VudCoyLTEpe2NvbG9yPWQzLmludGVycG9sYXRlSHNsKHRoaXMuc2NoZW1lW3RoaXMuZ2VuZXJhdG9ySW5kZXhdLHRoaXMuc2NoZW1lWzBdKSguNSk7dGhpcy5nZW5lcmF0b3JJbmRleD0wO3RoaXMucm90YXRlQ291bnQqPTJ9ZWxzZXtjb2xvcj1kMy5pbnRlcnBvbGF0ZUhzbCh0aGlzLnNjaGVtZVt0aGlzLmdlbmVyYXRvckluZGV4XSx0aGlzLnNjaGVtZVt0aGlzLmdlbmVyYXRvckluZGV4KzFdKSguNSk7dGhpcy5nZW5lcmF0b3JJbmRleCsrfXRoaXMuc2NoZW1lLnB1c2goY29sb3IpO3JldHVybiBjb2xvcn19O1JpY2tzaGF3Lm5hbWVzcGFjZSgiUmlja3NoYXcuR3JhcGguQWpheCIpO1JpY2tzaGF3LkdyYXBoLkFqYXg9Umlja3NoYXcuQ2xhc3MuY3JlYXRlKHtpbml0aWFsaXplOmZ1bmN0aW9uKGFyZ3Mpe3RoaXMuZGF0YVVSTD1hcmdzLmRhdGFVUkw7dGhpcy5vbkRhdGE9YXJncy5vbkRhdGF8fGZ1bmN0aW9uKGQpe3JldHVybiBkfTt0aGlzLm9uQ29tcGxldGU9YXJncy5vbkNvbXBsZXRlfHxmdW5jdGlvbigpe307dGhpcy5vbkVycm9yPWFyZ3Mub25FcnJvcnx8ZnVuY3Rpb24oKXt9O3RoaXMuYXJncz1hcmdzO3RoaXMucmVxdWVzdCgpfSxyZXF1ZXN0OmZ1bmN0aW9uKCl7alF1ZXJ5LmFqYXgoe3VybDp0aGlzLmRhdGFVUkwsZGF0YVR5cGU6Impzb24iLHN1Y2Nlc3M6dGhpcy5zdWNjZXNzLmJpbmQodGhpcyksZXJyb3I6dGhpcy5lcnJvci5iaW5kKHRoaXMpfSl9LGVycm9yOmZ1bmN0aW9uKCl7Y29uc29sZS5sb2coImVycm9yIGxvYWRpbmcgZGF0YVVSTDogIit0aGlzLmRhdGFVUkwpO3RoaXMub25FcnJvcih0aGlzKX0sc3VjY2VzczpmdW5jdGlvbihkYXRhLHN0YXR1cyl7ZGF0YT10aGlzLm9uRGF0YShkYXRhKTt0aGlzLmFyZ3Muc2VyaWVzPXRoaXMuX3NwbGljZSh7ZGF0YTpkYXRhLHNlcmllczp0aGlzLmFyZ3Muc2VyaWVzfSk7dGhpcy5ncmFwaD10aGlzLmdyYXBofHxuZXcgUmlja3NoYXcuR3JhcGgodGhpcy5hcmdzKTt0aGlzLmdyYXBoLnJlbmRlcigpO3RoaXMub25Db21wbGV0ZSh0aGlzKX0sX3NwbGljZTpmdW5jdGlvbihhcmdzKXt2YXIgZGF0YT1hcmdzLmRhdGE7dmFyIHNlcmllcz1hcmdzLnNlcmllcztpZighYXJncy5zZXJpZXMpcmV0dXJuIGRhdGE7c2VyaWVzLmZvckVhY2goZnVuY3Rpb24ocyl7dmFyIHNlcmllc0tleT1zLmtleXx8cy5uYW1lO2lmKCFzZXJpZXNLZXkpdGhyb3cic2VyaWVzIG5lZWRzIGEga2V5IG9yIGEgbmFtZSI7ZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGQpe3ZhciBkYXRhS2V5PWQua2V5fHxkLm5hbWU7aWYoIWRhdGFLZXkpdGhyb3ciZGF0YSBuZWVkcyBhIGtleSBvciBhIG5hbWUiO2lmKHNlcmllc0tleT09ZGF0YUtleSl7dmFyIHByb3BlcnRpZXM9WyJjb2xvciIsIm5hbWUiLCJkYXRhIl07cHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uKHApe2lmKGRbcF0pc1twXT1kW3BdfSl9fSl9KTtyZXR1cm4gc2VyaWVzfX0pO1JpY2tzaGF3Lm5hbWVzcGFjZSgiUmlja3NoYXcuR3JhcGguQW5ub3RhdGUiKTtSaWNrc2hhdy5HcmFwaC5Bbm5vdGF0ZT1mdW5jdGlvbihhcmdzKXt2YXIgZ3JhcGg9dGhpcy5ncmFwaD1hcmdzLmdyYXBoO3RoaXMuZWxlbWVudHM9e3RpbWVsaW5lOmFyZ3MuZWxlbWVudH07dmFyIHNlbGY9dGhpczt0aGlzLmRhdGE9e307dGhpcy5lbGVtZW50cy50aW1lbGluZS5jbGFzc0xpc3QuYWRkKCJyaWNrc2hhd19hbm5vdGF0aW9uX3RpbWVsaW5lIik7dGhpcy5hZGQ9ZnVuY3Rpb24odGltZSxjb250ZW50LGVuZF90aW1lKXtzZWxmLmRhdGFbdGltZV09c2VsZi5kYXRhW3RpbWVdfHx7Ym94ZXM6W119O3NlbGYuZGF0YVt0aW1lXS5ib3hlcy5wdXNoKHtjb250ZW50OmNvbnRlbnQsZW5kOmVuZF90aW1lfSl9O3RoaXMudXBkYXRlPWZ1bmN0aW9uKCl7Umlja3NoYXcua2V5cyhzZWxmLmRhdGEpLmZvckVhY2goZnVuY3Rpb24odGltZSl7dmFyIGFubm90YXRpb249c2VsZi5kYXRhW3RpbWVdO3ZhciBsZWZ0PXNlbGYuZ3JhcGgueCh0aW1lKTtpZihsZWZ0PDB8fGxlZnQ+c2VsZi5ncmFwaC54LnJhbmdlKClbMV0pe2lmKGFubm90YXRpb24uZWxlbWVudCl7YW5ub3RhdGlvbi5saW5lLmNsYXNzTGlzdC5hZGQoIm9mZnNjcmVlbiIpO2Fubm90YXRpb24uZWxlbWVudC5zdHlsZS5kaXNwbGF5PSJub25lIn1hbm5vdGF0aW9uLmJveGVzLmZvckVhY2goZnVuY3Rpb24oYm94KXtpZihib3gucmFuZ2VFbGVtZW50KWJveC5yYW5nZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgib2Zmc2NyZWVuIil9KTtyZXR1cm59aWYoIWFubm90YXRpb24uZWxlbWVudCl7dmFyIGVsZW1lbnQ9YW5ub3RhdGlvbi5lbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2VsZW1lbnQuY2xhc3NMaXN0LmFkZCgiYW5ub3RhdGlvbiIpO3RoaXMuZWxlbWVudHMudGltZWxpbmUuYXBwZW5kQ2hpbGQoZWxlbWVudCk7ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oZSl7ZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCJhY3RpdmUiKTthbm5vdGF0aW9uLmxpbmUuY2xhc3NMaXN0LnRvZ2dsZSgiYWN0aXZlIik7YW5ub3RhdGlvbi5ib3hlcy5mb3JFYWNoKGZ1bmN0aW9uKGJveCl7aWYoYm94LnJhbmdlRWxlbWVudClib3gucmFuZ2VFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoImFjdGl2ZSIpfSl9LGZhbHNlKX1hbm5vdGF0aW9uLmVsZW1lbnQuc3R5bGUubGVmdD1sZWZ0KyJweCI7YW5ub3RhdGlvbi5lbGVtZW50LnN0eWxlLmRpc3BsYXk9ImJsb2NrIjthbm5vdGF0aW9uLmJveGVzLmZvckVhY2goZnVuY3Rpb24oYm94KXt2YXIgZWxlbWVudD1ib3guZWxlbWVudDtpZighZWxlbWVudCl7ZWxlbWVudD1ib3guZWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlbGVtZW50LmNsYXNzTGlzdC5hZGQoImNvbnRlbnQiKTtlbGVtZW50LmlubmVySFRNTD1ib3guY29udGVudDthbm5vdGF0aW9uLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7YW5ub3RhdGlvbi5saW5lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Fubm90YXRpb24ubGluZS5jbGFzc0xpc3QuYWRkKCJhbm5vdGF0aW9uX2xpbmUiKTtzZWxmLmdyYXBoLmVsZW1lbnQuYXBwZW5kQ2hpbGQoYW5ub3RhdGlvbi5saW5lKTtpZihib3guZW5kKXtib3gucmFuZ2VFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2JveC5yYW5nZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgiYW5ub3RhdGlvbl9yYW5nZSIpO3NlbGYuZ3JhcGguZWxlbWVudC5hcHBlbmRDaGlsZChib3gucmFuZ2VFbGVtZW50KX19aWYoYm94LmVuZCl7dmFyIGFubm90YXRpb25SYW5nZVN0YXJ0PWxlZnQ7dmFyIGFubm90YXRpb25SYW5nZUVuZD1NYXRoLm1pbihzZWxmLmdyYXBoLngoYm94LmVuZCksc2VsZi5ncmFwaC54LnJhbmdlKClbMV0pO2lmKGFubm90YXRpb25SYW5nZVN0YXJ0PmFubm90YXRpb25SYW5nZUVuZCl7YW5ub3RhdGlvblJhbmdlRW5kPWxlZnQ7YW5ub3RhdGlvblJhbmdlU3RhcnQ9TWF0aC5tYXgoc2VsZi5ncmFwaC54KGJveC5lbmQpLHNlbGYuZ3JhcGgueC5yYW5nZSgpWzBdKX12YXIgYW5ub3RhdGlvblJhbmdlV2lkdGg9YW5ub3RhdGlvblJhbmdlRW5kLWFubm90YXRpb25SYW5nZVN0YXJ0O2JveC5yYW5nZUVsZW1lbnQuc3R5bGUubGVmdD1hbm5vdGF0aW9uUmFuZ2VTdGFydCsicHgiO2JveC5yYW5nZUVsZW1lbnQuc3R5bGUud2lkdGg9YW5ub3RhdGlvblJhbmdlV2lkdGgrInB4Ijtib3gucmFuZ2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoIm9mZnNjcmVlbiIpfWFubm90YXRpb24ubGluZS5jbGFzc0xpc3QucmVtb3ZlKCJvZmZzY3JlZW4iKTthbm5vdGF0aW9uLmxpbmUuc3R5bGUubGVmdD1sZWZ0KyJweCJ9KX0sdGhpcyl9O3RoaXMuZ3JhcGgub25VcGRhdGUoZnVuY3Rpb24oKXtzZWxmLnVwZGF0ZSgpfSl9O1JpY2tzaGF3Lm5hbWVzcGFjZSgiUmlja3NoYXcuR3JhcGguQXhpcy5UaW1lIik7Umlja3NoYXcuR3JhcGguQXhpcy5UaW1lPWZ1bmN0aW9uKGFyZ3Mpe3ZhciBzZWxmPXRoaXM7dGhpcy5ncmFwaD1hcmdzLmdyYXBoO3RoaXMuZWxlbWVudHM9W107dGhpcy50aWNrc1RyZWF0bWVudD1hcmdzLnRpY2tzVHJlYXRtZW50fHwicGxhaW4iO3RoaXMuZml4ZWRUaW1lVW5pdD1hcmdzLnRpbWVVbml0O3ZhciB0aW1lPWFyZ3MudGltZUZpeHR1cmV8fG5ldyBSaWNrc2hhdy5GaXh0dXJlcy5UaW1lO3RoaXMuYXBwcm9wcmlhdGVUaW1lVW5pdD1mdW5jdGlvbigpe3ZhciB1bml0O3ZhciB1bml0cz10aW1lLnVuaXRzO3ZhciBkb21haW49dGhpcy5ncmFwaC54LmRvbWFpbigpO3ZhciByYW5nZVNlY29uZHM9ZG9tYWluWzFdLWRvbWFpblswXTt1bml0cy5mb3JFYWNoKGZ1bmN0aW9uKHUpe2lmKE1hdGguZmxvb3IocmFuZ2VTZWNvbmRzL3Uuc2Vjb25kcyk+PTIpe3VuaXQ9dW5pdHx8dX19KTtyZXR1cm4gdW5pdHx8dGltZS51bml0c1t0aW1lLnVuaXRzLmxlbmd0aC0xXX07dGhpcy50aWNrT2Zmc2V0cz1mdW5jdGlvbigpe3ZhciBkb21haW49dGhpcy5ncmFwaC54LmRvbWFpbigpO3ZhciB1bml0PXRoaXMuZml4ZWRUaW1lVW5pdHx8dGhpcy5hcHByb3ByaWF0ZVRpbWVVbml0KCk7dmFyIGNvdW50PU1hdGguY2VpbCgoZG9tYWluWzFdLWRvbWFpblswXSkvdW5pdC5zZWNvbmRzKTt2YXIgcnVubmluZ1RpY2s9ZG9tYWluWzBdO3ZhciBvZmZzZXRzPVtdO2Zvcih2YXIgaT0wO2k8Y291bnQ7aSsrKXt2YXIgdGlja1ZhbHVlPXRpbWUuY2VpbChydW5uaW5nVGljayx1bml0KTtydW5uaW5nVGljaz10aWNrVmFsdWUrdW5pdC5zZWNvbmRzLzI7b2Zmc2V0cy5wdXNoKHt2YWx1ZTp0aWNrVmFsdWUsdW5pdDp1bml0fSl9cmV0dXJuIG9mZnNldHN9O3RoaXMucmVuZGVyPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX0pO3RoaXMuZWxlbWVudHM9W107dmFyIG9mZnNldHM9dGhpcy50aWNrT2Zmc2V0cygpO29mZnNldHMuZm9yRWFjaChmdW5jdGlvbihvKXtpZihzZWxmLmdyYXBoLngoby52YWx1ZSk+c2VsZi5ncmFwaC54LnJhbmdlKClbMV0pcmV0dXJuO3ZhciBlbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2VsZW1lbnQuc3R5bGUubGVmdD1zZWxmLmdyYXBoLngoby52YWx1ZSkrInB4IjtlbGVtZW50LmNsYXNzTGlzdC5hZGQoInhfdGljayIpO2VsZW1lbnQuY2xhc3NMaXN0LmFkZChzZWxmLnRpY2tzVHJlYXRtZW50KTt2YXIgdGl0bGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGl0bGUuY2xhc3NMaXN0LmFkZCgidGl0bGUiKTt0aXRsZS5pbm5lckhUTUw9by51bml0LmZvcm1hdHRlcihuZXcgRGF0ZShvLnZhbHVlKjFlMykpO2VsZW1lbnQuYXBwZW5kQ2hpbGQodGl0bGUpO3NlbGYuZ3JhcGguZWxlbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtzZWxmLmVsZW1lbnRzLnB1c2goZWxlbWVudCl9KX07dGhpcy5ncmFwaC5vblVwZGF0ZShmdW5jdGlvbigpe3NlbGYucmVuZGVyKCl9KX07Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5HcmFwaC5BeGlzLlgiKTtSaWNrc2hhdy5HcmFwaC5BeGlzLlg9ZnVuY3Rpb24oYXJncyl7dmFyIHNlbGY9dGhpczt2YXIgYmVydGhSYXRlPS4xO3RoaXMuaW5pdGlhbGl6ZT1mdW5jdGlvbihhcmdzKXt0aGlzLmdyYXBoPWFyZ3MuZ3JhcGg7dGhpcy5vcmllbnRhdGlvbj1hcmdzLm9yaWVudGF0aW9ufHwidG9wIjt0aGlzLnBpeGVsc1BlclRpY2s9YXJncy5waXhlbHNQZXJUaWNrfHw3NTtpZihhcmdzLnRpY2tzKXRoaXMuc3RhdGljVGlja3M9YXJncy50aWNrcztpZihhcmdzLnRpY2tWYWx1ZXMpdGhpcy50aWNrVmFsdWVzPWFyZ3MudGlja1ZhbHVlczt0aGlzLnRpY2tTaXplPWFyZ3MudGlja1NpemV8fDQ7dGhpcy50aWNrc1RyZWF0bWVudD1hcmdzLnRpY2tzVHJlYXRtZW50fHwicGxhaW4iO2lmKGFyZ3MuZWxlbWVudCl7dGhpcy5lbGVtZW50PWFyZ3MuZWxlbWVudDt0aGlzLl9kaXNjb3ZlclNpemUoYXJncy5lbGVtZW50LGFyZ3MpO3RoaXMudmlzPWQzLnNlbGVjdChhcmdzLmVsZW1lbnQpLmFwcGVuZCgic3ZnOnN2ZyIpLmF0dHIoImhlaWdodCIsdGhpcy5oZWlnaHQpLmF0dHIoIndpZHRoIix0aGlzLndpZHRoKS5hdHRyKCJjbGFzcyIsInJpY2tzaGF3X2dyYXBoIHhfYXhpc19kMyIpO3RoaXMuZWxlbWVudD10aGlzLnZpc1swXVswXTt0aGlzLmVsZW1lbnQuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjt0aGlzLnNldFNpemUoe3dpZHRoOmFyZ3Mud2lkdGgsaGVpZ2h0OmFyZ3MuaGVpZ2h0fSl9ZWxzZXt0aGlzLnZpcz10aGlzLmdyYXBoLnZpc310aGlzLmdyYXBoLm9uVXBkYXRlKGZ1bmN0aW9uKCl7c2VsZi5yZW5kZXIoKX0pfTt0aGlzLnNldFNpemU9ZnVuY3Rpb24oYXJncyl7YXJncz1hcmdzfHx7fTtpZighdGhpcy5lbGVtZW50KXJldHVybjt0aGlzLl9kaXNjb3ZlclNpemUodGhpcy5lbGVtZW50LnBhcmVudE5vZGUsYXJncyk7dGhpcy52aXMuYXR0cigiaGVpZ2h0Iix0aGlzLmhlaWdodCkuYXR0cigid2lkdGgiLHRoaXMud2lkdGgqKDErYmVydGhSYXRlKSk7dmFyIGJlcnRoPU1hdGguZmxvb3IodGhpcy53aWR0aCpiZXJ0aFJhdGUvMik7dGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9LTEqYmVydGgrInB4In07dGhpcy5yZW5kZXI9ZnVuY3Rpb24oKXtpZih0aGlzLl9yZW5kZXJXaWR0aCE9PXVuZGVmaW5lZCYmdGhpcy5ncmFwaC53aWR0aCE9PXRoaXMuX3JlbmRlcldpZHRoKXRoaXMuc2V0U2l6ZSh7YXV0bzp0cnVlfSk7dmFyIGF4aXM9ZDMuc3ZnLmF4aXMoKS5zY2FsZSh0aGlzLmdyYXBoLngpLm9yaWVudCh0aGlzLm9yaWVudGF0aW9uKTtheGlzLnRpY2tGb3JtYXQoYXJncy50aWNrRm9ybWF0fHxmdW5jdGlvbih4KXtyZXR1cm4geH0pO2lmKHRoaXMudGlja1ZhbHVlcylheGlzLnRpY2tWYWx1ZXModGhpcy50aWNrVmFsdWVzKTt0aGlzLnRpY2tzPXRoaXMuc3RhdGljVGlja3N8fE1hdGguZmxvb3IodGhpcy5ncmFwaC53aWR0aC90aGlzLnBpeGVsc1BlclRpY2spO3ZhciBiZXJ0aD1NYXRoLmZsb29yKHRoaXMud2lkdGgqYmVydGhSYXRlLzIpfHwwO3ZhciB0cmFuc2Zvcm07aWYodGhpcy5vcmllbnRhdGlvbj09InRvcCIpe3ZhciB5T2Zmc2V0PXRoaXMuaGVpZ2h0fHx0aGlzLmdyYXBoLmhlaWdodDt0cmFuc2Zvcm09InRyYW5zbGF0ZSgiK2JlcnRoKyIsIit5T2Zmc2V0KyIpIn1lbHNle3RyYW5zZm9ybT0idHJhbnNsYXRlKCIrYmVydGgrIiwgMCkifWlmKHRoaXMuZWxlbWVudCl7dGhpcy52aXMuc2VsZWN0QWxsKCIqIikucmVtb3ZlKCl9dGhpcy52aXMuYXBwZW5kKCJzdmc6ZyIpLmF0dHIoImNsYXNzIixbInhfdGlja3NfZDMiLHRoaXMudGlja3NUcmVhdG1lbnRdLmpvaW4oIiAiKSkuYXR0cigidHJhbnNmb3JtIix0cmFuc2Zvcm0pLmNhbGwoYXhpcy50aWNrcyh0aGlzLnRpY2tzKS50aWNrU3ViZGl2aWRlKDApLnRpY2tTaXplKHRoaXMudGlja1NpemUpKTt2YXIgZ3JpZFNpemU9KHRoaXMub3JpZW50YXRpb249PSJib3R0b20iPzE6LTEpKnRoaXMuZ3JhcGguaGVpZ2h0O3RoaXMuZ3JhcGgudmlzLmFwcGVuZCgic3ZnOmciKS5hdHRyKCJjbGFzcyIsInhfZ3JpZF9kMyIpLmNhbGwoYXhpcy50aWNrcyh0aGlzLnRpY2tzKS50aWNrU3ViZGl2aWRlKDApLnRpY2tTaXplKGdyaWRTaXplKSkuc2VsZWN0QWxsKCJ0ZXh0IikuZWFjaChmdW5jdGlvbigpe3RoaXMucGFyZW50Tm9kZS5zZXRBdHRyaWJ1dGUoImRhdGEteC12YWx1ZSIsdGhpcy50ZXh0Q29udGVudCl9KTt0aGlzLl9yZW5kZXJIZWlnaHQ9dGhpcy5ncmFwaC5oZWlnaHR9O3RoaXMuX2Rpc2NvdmVyU2l6ZT1mdW5jdGlvbihlbGVtZW50LGFyZ3Mpe2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7dmFyIHN0eWxlPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsbnVsbCk7dmFyIGVsZW1lbnRIZWlnaHQ9cGFyc2VJbnQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgiaGVpZ2h0IiksMTApO2lmKCFhcmdzLmF1dG8pe3ZhciBlbGVtZW50V2lkdGg9cGFyc2VJbnQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgid2lkdGgiKSwxMCl9fXRoaXMud2lkdGg9KGFyZ3Mud2lkdGh8fGVsZW1lbnRXaWR0aHx8dGhpcy5ncmFwaC53aWR0aCkqKDErYmVydGhSYXRlKTt0aGlzLmhlaWdodD1hcmdzLmhlaWdodHx8ZWxlbWVudEhlaWdodHx8NDB9O3RoaXMuaW5pdGlhbGl6ZShhcmdzKX07Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5HcmFwaC5BeGlzLlkiKTtSaWNrc2hhdy5HcmFwaC5BeGlzLlk9Umlja3NoYXcuQ2xhc3MuY3JlYXRlKHtpbml0aWFsaXplOmZ1bmN0aW9uKGFyZ3Mpe3RoaXMuZ3JhcGg9YXJncy5ncmFwaDt0aGlzLm9yaWVudGF0aW9uPWFyZ3Mub3JpZW50YXRpb258fCJyaWdodCI7dGhpcy5waXhlbHNQZXJUaWNrPWFyZ3MucGl4ZWxzUGVyVGlja3x8NzU7aWYoYXJncy50aWNrcyl0aGlzLnN0YXRpY1RpY2tzPWFyZ3MudGlja3M7aWYoYXJncy50aWNrVmFsdWVzKXRoaXMudGlja1ZhbHVlcz1hcmdzLnRpY2tWYWx1ZXM7dGhpcy50aWNrU2l6ZT1hcmdzLnRpY2tTaXplfHw0O3RoaXMudGlja3NUcmVhdG1lbnQ9YXJncy50aWNrc1RyZWF0bWVudHx8InBsYWluIjt0aGlzLnRpY2tGb3JtYXQ9YXJncy50aWNrRm9ybWF0fHxmdW5jdGlvbih5KXtyZXR1cm4geX07dGhpcy5iZXJ0aFJhdGU9LjE7aWYoYXJncy5lbGVtZW50KXt0aGlzLmVsZW1lbnQ9YXJncy5lbGVtZW50O3RoaXMudmlzPWQzLnNlbGVjdChhcmdzLmVsZW1lbnQpLmFwcGVuZCgic3ZnOnN2ZyIpLmF0dHIoImNsYXNzIiwicmlja3NoYXdfZ3JhcGggeV9heGlzIik7dGhpcy5lbGVtZW50PXRoaXMudmlzWzBdWzBdO3RoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO3RoaXMuc2V0U2l6ZSh7d2lkdGg6YXJncy53aWR0aCxoZWlnaHQ6YXJncy5oZWlnaHR9KX1lbHNle3RoaXMudmlzPXRoaXMuZ3JhcGgudmlzfXZhciBzZWxmPXRoaXM7dGhpcy5ncmFwaC5vblVwZGF0ZShmdW5jdGlvbigpe3NlbGYucmVuZGVyKCl9KX0sc2V0U2l6ZTpmdW5jdGlvbihhcmdzKXthcmdzPWFyZ3N8fHt9O2lmKCF0aGlzLmVsZW1lbnQpcmV0dXJuO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7dmFyIHN0eWxlPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLG51bGwpO3ZhciBlbGVtZW50V2lkdGg9cGFyc2VJbnQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgid2lkdGgiKSwxMCk7aWYoIWFyZ3MuYXV0byl7dmFyIGVsZW1lbnRIZWlnaHQ9cGFyc2VJbnQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgiaGVpZ2h0IiksMTApfX10aGlzLndpZHRoPWFyZ3Mud2lkdGh8fGVsZW1lbnRXaWR0aHx8dGhpcy5ncmFwaC53aWR0aCp0aGlzLmJlcnRoUmF0ZTt0aGlzLmhlaWdodD1hcmdzLmhlaWdodHx8ZWxlbWVudEhlaWdodHx8dGhpcy5ncmFwaC5oZWlnaHQ7dGhpcy52aXMuYXR0cigid2lkdGgiLHRoaXMud2lkdGgpLmF0dHIoImhlaWdodCIsdGhpcy5oZWlnaHQqKDErdGhpcy5iZXJ0aFJhdGUpKTt2YXIgYmVydGg9dGhpcy5oZWlnaHQqdGhpcy5iZXJ0aFJhdGU7aWYodGhpcy5vcmllbnRhdGlvbj09ImxlZnQiKXt0aGlzLmVsZW1lbnQuc3R5bGUudG9wPS0xKmJlcnRoKyJweCJ9fSxyZW5kZXI6ZnVuY3Rpb24oKXtpZih0aGlzLl9yZW5kZXJIZWlnaHQhPT11bmRlZmluZWQmJnRoaXMuZ3JhcGguaGVpZ2h0IT09dGhpcy5fcmVuZGVySGVpZ2h0KXRoaXMuc2V0U2l6ZSh7YXV0bzp0cnVlfSk7dGhpcy50aWNrcz10aGlzLnN0YXRpY1RpY2tzfHxNYXRoLmZsb29yKHRoaXMuZ3JhcGguaGVpZ2h0L3RoaXMucGl4ZWxzUGVyVGljayk7dmFyIGF4aXM9dGhpcy5fZHJhd0F4aXModGhpcy5ncmFwaC55KTt0aGlzLl9kcmF3R3JpZChheGlzKTt0aGlzLl9yZW5kZXJIZWlnaHQ9dGhpcy5ncmFwaC5oZWlnaHR9LF9kcmF3QXhpczpmdW5jdGlvbihzY2FsZSl7dmFyIGF4aXM9ZDMuc3ZnLmF4aXMoKS5zY2FsZShzY2FsZSkub3JpZW50KHRoaXMub3JpZW50YXRpb24pO2F4aXMudGlja0Zvcm1hdCh0aGlzLnRpY2tGb3JtYXQpO2lmKHRoaXMudGlja1ZhbHVlcylheGlzLnRpY2tWYWx1ZXModGhpcy50aWNrVmFsdWVzKTtpZih0aGlzLm9yaWVudGF0aW9uPT0ibGVmdCIpe3ZhciBiZXJ0aD10aGlzLmhlaWdodCp0aGlzLmJlcnRoUmF0ZTt2YXIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoIit0aGlzLndpZHRoKyIsICIrYmVydGgrIikifWlmKHRoaXMuZWxlbWVudCl7dGhpcy52aXMuc2VsZWN0QWxsKCIqIikucmVtb3ZlKCl9dGhpcy52aXMuYXBwZW5kKCJzdmc6ZyIpLmF0dHIoImNsYXNzIixbInlfdGlja3MiLHRoaXMudGlja3NUcmVhdG1lbnRdLmpvaW4oIiAiKSkuYXR0cigidHJhbnNmb3JtIix0cmFuc2Zvcm0pLmNhbGwoYXhpcy50aWNrcyh0aGlzLnRpY2tzKS50aWNrU3ViZGl2aWRlKDApLnRpY2tTaXplKHRoaXMudGlja1NpemUpKTtyZXR1cm4gYXhpc30sX2RyYXdHcmlkOmZ1bmN0aW9uKGF4aXMpe3ZhciBncmlkU2l6ZT0odGhpcy5vcmllbnRhdGlvbj09InJpZ2h0Ij8xOi0xKSp0aGlzLmdyYXBoLndpZHRoO3RoaXMuZ3JhcGgudmlzLmFwcGVuZCgic3ZnOmciKS5hdHRyKCJjbGFzcyIsInlfZ3JpZCIpLmNhbGwoYXhpcy50aWNrcyh0aGlzLnRpY2tzKS50aWNrU3ViZGl2aWRlKDApLnRpY2tTaXplKGdyaWRTaXplKSkuc2VsZWN0QWxsKCJ0ZXh0IikuZWFjaChmdW5jdGlvbigpe3RoaXMucGFyZW50Tm9kZS5zZXRBdHRyaWJ1dGUoImRhdGEteS12YWx1ZSIsdGhpcy50ZXh0Q29udGVudCkKfSl9fSk7Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5HcmFwaC5BeGlzLlkuU2NhbGVkIik7Umlja3NoYXcuR3JhcGguQXhpcy5ZLlNjYWxlZD1SaWNrc2hhdy5DbGFzcy5jcmVhdGUoUmlja3NoYXcuR3JhcGguQXhpcy5ZLHtpbml0aWFsaXplOmZ1bmN0aW9uKCRzdXBlcixhcmdzKXtpZih0eXBlb2YgYXJncy5zY2FsZT09PSJ1bmRlZmluZWQiKXt0aHJvdyBuZXcgRXJyb3IoIlNjYWxlZCByZXF1aXJlcyBzY2FsZSIpfXRoaXMuc2NhbGU9YXJncy5zY2FsZTtpZih0eXBlb2YgYXJncy5ncmlkPT09InVuZGVmaW5lZCIpe3RoaXMuZ3JpZD10cnVlfWVsc2V7dGhpcy5ncmlkPWFyZ3MuZ3JpZH0kc3VwZXIoYXJncyl9LF9kcmF3QXhpczpmdW5jdGlvbigkc3VwZXIsc2NhbGUpe3ZhciBkb21haW49dGhpcy5zY2FsZS5kb21haW4oKTt2YXIgcmVuZGVyRG9tYWluPXRoaXMuZ3JhcGgucmVuZGVyZXIuZG9tYWluKCkueTt2YXIgZXh0ZW50cz1bTWF0aC5taW4uYXBwbHkoTWF0aCxkb21haW4pLE1hdGgubWF4LmFwcGx5KE1hdGgsZG9tYWluKV07dmFyIGV4dGVudE1hcD1kMy5zY2FsZS5saW5lYXIoKS5kb21haW4oWzAsMV0pLnJhbmdlKGV4dGVudHMpO3ZhciBhZGpFeHRlbnRzPVtleHRlbnRNYXAocmVuZGVyRG9tYWluWzBdKSxleHRlbnRNYXAocmVuZGVyRG9tYWluWzFdKV07dmFyIGFkanVzdG1lbnQ9ZDMuc2NhbGUubGluZWFyKCkuZG9tYWluKGV4dGVudHMpLnJhbmdlKGFkakV4dGVudHMpO3ZhciBhZGp1c3RlZFNjYWxlPXRoaXMuc2NhbGUuY29weSgpLmRvbWFpbihkb21haW4ubWFwKGFkanVzdG1lbnQpKS5yYW5nZShzY2FsZS5yYW5nZSgpKTtyZXR1cm4gJHN1cGVyKGFkanVzdGVkU2NhbGUpfSxfZHJhd0dyaWQ6ZnVuY3Rpb24oJHN1cGVyLGF4aXMpe2lmKHRoaXMuZ3JpZCl7JHN1cGVyKGF4aXMpfX19KTtSaWNrc2hhdy5uYW1lc3BhY2UoIlJpY2tzaGF3LkdyYXBoLkJlaGF2aW9yLlNlcmllcy5IaWdobGlnaHQiKTtSaWNrc2hhdy5HcmFwaC5CZWhhdmlvci5TZXJpZXMuSGlnaGxpZ2h0PWZ1bmN0aW9uKGFyZ3Mpe3RoaXMuZ3JhcGg9YXJncy5ncmFwaDt0aGlzLmxlZ2VuZD1hcmdzLmxlZ2VuZDt2YXIgc2VsZj10aGlzO3ZhciBjb2xvclNhZmU9e307dmFyIGFjdGl2ZUxpbmU9bnVsbDt2YXIgZGlzYWJsZWRDb2xvcj1hcmdzLmRpc2FibGVkQ29sb3J8fGZ1bmN0aW9uKHNlcmllc0NvbG9yKXtyZXR1cm4gZDMuaW50ZXJwb2xhdGVSZ2Ioc2VyaWVzQ29sb3IsZDMucmdiKCIjZDhkOGQ4IikpKC44KS50b1N0cmluZygpfTt0aGlzLmFkZEhpZ2hsaWdodEV2ZW50cz1mdW5jdGlvbihsKXtsLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIixmdW5jdGlvbihlKXtpZihhY3RpdmVMaW5lKXJldHVybjtlbHNlIGFjdGl2ZUxpbmU9bDtzZWxmLmxlZ2VuZC5saW5lcy5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpe2lmKGw9PT1saW5lKXtpZihzZWxmLmdyYXBoLnJlbmRlcmVyLnVuc3RhY2smJihsaW5lLnNlcmllcy5yZW5kZXJlcj9saW5lLnNlcmllcy5yZW5kZXJlci51bnN0YWNrOnRydWUpKXt2YXIgc2VyaWVzSW5kZXg9c2VsZi5ncmFwaC5zZXJpZXMuaW5kZXhPZihsaW5lLnNlcmllcyk7bGluZS5vcmlnaW5hbEluZGV4PXNlcmllc0luZGV4O3ZhciBzZXJpZXM9c2VsZi5ncmFwaC5zZXJpZXMuc3BsaWNlKHNlcmllc0luZGV4LDEpWzBdO3NlbGYuZ3JhcGguc2VyaWVzLnB1c2goc2VyaWVzKX1yZXR1cm59Y29sb3JTYWZlW2xpbmUuc2VyaWVzLm5hbWVdPWNvbG9yU2FmZVtsaW5lLnNlcmllcy5uYW1lXXx8bGluZS5zZXJpZXMuY29sb3I7bGluZS5zZXJpZXMuY29sb3I9ZGlzYWJsZWRDb2xvcihsaW5lLnNlcmllcy5jb2xvcil9KTtzZWxmLmdyYXBoLnVwZGF0ZSgpfSxmYWxzZSk7bC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IixmdW5jdGlvbihlKXtpZighYWN0aXZlTGluZSlyZXR1cm47ZWxzZSBhY3RpdmVMaW5lPW51bGw7c2VsZi5sZWdlbmQubGluZXMuZm9yRWFjaChmdW5jdGlvbihsaW5lKXtpZihsPT09bGluZSYmbGluZS5oYXNPd25Qcm9wZXJ0eSgib3JpZ2luYWxJbmRleCIpKXt2YXIgc2VyaWVzPXNlbGYuZ3JhcGguc2VyaWVzLnBvcCgpO3NlbGYuZ3JhcGguc2VyaWVzLnNwbGljZShsaW5lLm9yaWdpbmFsSW5kZXgsMCxzZXJpZXMpO2RlbGV0ZSBsaW5lLm9yaWdpbmFsSW5kZXh9aWYoY29sb3JTYWZlW2xpbmUuc2VyaWVzLm5hbWVdKXtsaW5lLnNlcmllcy5jb2xvcj1jb2xvclNhZmVbbGluZS5zZXJpZXMubmFtZV19fSk7c2VsZi5ncmFwaC51cGRhdGUoKX0sZmFsc2UpfTtpZih0aGlzLmxlZ2VuZCl7dGhpcy5sZWdlbmQubGluZXMuZm9yRWFjaChmdW5jdGlvbihsKXtzZWxmLmFkZEhpZ2hsaWdodEV2ZW50cyhsKX0pfX07Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5HcmFwaC5CZWhhdmlvci5TZXJpZXMuT3JkZXIiKTtSaWNrc2hhdy5HcmFwaC5CZWhhdmlvci5TZXJpZXMuT3JkZXI9ZnVuY3Rpb24oYXJncyl7dGhpcy5ncmFwaD1hcmdzLmdyYXBoO3RoaXMubGVnZW5kPWFyZ3MubGVnZW5kO3ZhciBzZWxmPXRoaXM7aWYodHlwZW9mIHdpbmRvdy5qUXVlcnk9PSJ1bmRlZmluZWQiKXt0aHJvdyJjb3VsZG4ndCBmaW5kIGpRdWVyeSBhdCB3aW5kb3cualF1ZXJ5In1pZih0eXBlb2Ygd2luZG93LmpRdWVyeS51aT09InVuZGVmaW5lZCIpe3Rocm93ImNvdWxkbid0IGZpbmQgalF1ZXJ5IFVJIGF0IHdpbmRvdy5qUXVlcnkudWkifWpRdWVyeShmdW5jdGlvbigpe2pRdWVyeShzZWxmLmxlZ2VuZC5saXN0KS5zb3J0YWJsZSh7Y29udGFpbm1lbnQ6InBhcmVudCIsdG9sZXJhbmNlOiJwb2ludGVyIix1cGRhdGU6ZnVuY3Rpb24oZXZlbnQsdWkpe3ZhciBzZXJpZXM9W107alF1ZXJ5KHNlbGYubGVnZW5kLmxpc3QpLmZpbmQoImxpIikuZWFjaChmdW5jdGlvbihpbmRleCxpdGVtKXtpZighaXRlbS5zZXJpZXMpcmV0dXJuO3Nlcmllcy5wdXNoKGl0ZW0uc2VyaWVzKX0pO2Zvcih2YXIgaT1zZWxmLmdyYXBoLnNlcmllcy5sZW5ndGgtMTtpPj0wO2ktLSl7c2VsZi5ncmFwaC5zZXJpZXNbaV09c2VyaWVzLnNoaWZ0KCl9c2VsZi5ncmFwaC51cGRhdGUoKX19KTtqUXVlcnkoc2VsZi5sZWdlbmQubGlzdCkuZGlzYWJsZVNlbGVjdGlvbigpfSk7dGhpcy5ncmFwaC5vblVwZGF0ZShmdW5jdGlvbigpe3ZhciBoPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHNlbGYubGVnZW5kLmVsZW1lbnQpLmhlaWdodDtzZWxmLmxlZ2VuZC5lbGVtZW50LnN0eWxlLmhlaWdodD1ofSl9O1JpY2tzaGF3Lm5hbWVzcGFjZSgiUmlja3NoYXcuR3JhcGguQmVoYXZpb3IuU2VyaWVzLlRvZ2dsZSIpO1JpY2tzaGF3LkdyYXBoLkJlaGF2aW9yLlNlcmllcy5Ub2dnbGU9ZnVuY3Rpb24oYXJncyl7dGhpcy5ncmFwaD1hcmdzLmdyYXBoO3RoaXMubGVnZW5kPWFyZ3MubGVnZW5kO3ZhciBzZWxmPXRoaXM7dGhpcy5hZGRBbmNob3I9ZnVuY3Rpb24obGluZSl7dmFyIGFuY2hvcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7YW5jaG9yLmlubmVySFRNTD0iJiMxMDAwNDsiO2FuY2hvci5jbGFzc0xpc3QuYWRkKCJhY3Rpb24iKTtsaW5lLmVsZW1lbnQuaW5zZXJ0QmVmb3JlKGFuY2hvcixsaW5lLmVsZW1lbnQuZmlyc3RDaGlsZCk7YW5jaG9yLm9uY2xpY2s9ZnVuY3Rpb24oZSl7aWYobGluZS5zZXJpZXMuZGlzYWJsZWQpe2xpbmUuc2VyaWVzLmVuYWJsZSgpO2xpbmUuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCJkaXNhYmxlZCIpfWVsc2V7aWYodGhpcy5ncmFwaC5zZXJpZXMuZmlsdGVyKGZ1bmN0aW9uKHMpe3JldHVybiFzLmRpc2FibGVkfSkubGVuZ3RoPD0xKXJldHVybjtsaW5lLnNlcmllcy5kaXNhYmxlKCk7bGluZS5lbGVtZW50LmNsYXNzTGlzdC5hZGQoImRpc2FibGVkIil9fS5iaW5kKHRoaXMpO3ZhciBsYWJlbD1saW5lLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNwYW4iKVswXTtsYWJlbC5vbmNsaWNrPWZ1bmN0aW9uKGUpe3ZhciBkaXNhYmxlQWxsT3RoZXJMaW5lcz1saW5lLnNlcmllcy5kaXNhYmxlZDtpZighZGlzYWJsZUFsbE90aGVyTGluZXMpe2Zvcih2YXIgaT0wO2k8c2VsZi5sZWdlbmQubGluZXMubGVuZ3RoO2krKyl7dmFyIGw9c2VsZi5sZWdlbmQubGluZXNbaV07aWYobGluZS5zZXJpZXM9PT1sLnNlcmllcyl7fWVsc2UgaWYobC5zZXJpZXMuZGlzYWJsZWQpe31lbHNle2Rpc2FibGVBbGxPdGhlckxpbmVzPXRydWU7YnJlYWt9fX1pZihkaXNhYmxlQWxsT3RoZXJMaW5lcyl7bGluZS5zZXJpZXMuZW5hYmxlKCk7bGluZS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoImRpc2FibGVkIik7c2VsZi5sZWdlbmQubGluZXMuZm9yRWFjaChmdW5jdGlvbihsKXtpZihsaW5lLnNlcmllcz09PWwuc2VyaWVzKXt9ZWxzZXtsLnNlcmllcy5kaXNhYmxlKCk7bC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoImRpc2FibGVkIil9fSl9ZWxzZXtzZWxmLmxlZ2VuZC5saW5lcy5mb3JFYWNoKGZ1bmN0aW9uKGwpe2wuc2VyaWVzLmVuYWJsZSgpO2wuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCJkaXNhYmxlZCIpfSl9fX07aWYodGhpcy5sZWdlbmQpe3ZhciAkPWpRdWVyeTtpZih0eXBlb2YgJCE9InVuZGVmaW5lZCImJiQodGhpcy5sZWdlbmQubGlzdCkuc29ydGFibGUpeyQodGhpcy5sZWdlbmQubGlzdCkuc29ydGFibGUoe3N0YXJ0OmZ1bmN0aW9uKGV2ZW50LHVpKXt1aS5pdGVtLmJpbmQoIm5vLm9uY2xpY2siLGZ1bmN0aW9uKGV2ZW50KXtldmVudC5wcmV2ZW50RGVmYXVsdCgpfSl9LHN0b3A6ZnVuY3Rpb24oZXZlbnQsdWkpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt1aS5pdGVtLnVuYmluZCgibm8ub25jbGljayIpfSwyNTApfX0pfXRoaXMubGVnZW5kLmxpbmVzLmZvckVhY2goZnVuY3Rpb24obCl7c2VsZi5hZGRBbmNob3IobCl9KX10aGlzLl9hZGRCZWhhdmlvcj1mdW5jdGlvbigpe3RoaXMuZ3JhcGguc2VyaWVzLmZvckVhY2goZnVuY3Rpb24ocyl7cy5kaXNhYmxlPWZ1bmN0aW9uKCl7aWYoc2VsZi5ncmFwaC5zZXJpZXMubGVuZ3RoPD0xKXt0aHJvdyJvbmx5IG9uZSBzZXJpZXMgbGVmdCJ9cy5kaXNhYmxlZD10cnVlO3NlbGYuZ3JhcGgudXBkYXRlKCl9O3MuZW5hYmxlPWZ1bmN0aW9uKCl7cy5kaXNhYmxlZD1mYWxzZTtzZWxmLmdyYXBoLnVwZGF0ZSgpfX0pfTt0aGlzLl9hZGRCZWhhdmlvcigpO3RoaXMudXBkYXRlQmVoYXZpb3VyPWZ1bmN0aW9uKCl7dGhpcy5fYWRkQmVoYXZpb3IoKX19O1JpY2tzaGF3Lm5hbWVzcGFjZSgiUmlja3NoYXcuR3JhcGguSG92ZXJEZXRhaWwiKTtSaWNrc2hhdy5HcmFwaC5Ib3ZlckRldGFpbD1SaWNrc2hhdy5DbGFzcy5jcmVhdGUoe2luaXRpYWxpemU6ZnVuY3Rpb24oYXJncyl7dmFyIGdyYXBoPXRoaXMuZ3JhcGg9YXJncy5ncmFwaDt0aGlzLnhGb3JtYXR0ZXI9YXJncy54Rm9ybWF0dGVyfHxmdW5jdGlvbih4KXtyZXR1cm4gbmV3IERhdGUoeCoxZTMpLnRvVVRDU3RyaW5nKCl9O3RoaXMueUZvcm1hdHRlcj1hcmdzLnlGb3JtYXR0ZXJ8fGZ1bmN0aW9uKHkpe3JldHVybiB5PT09bnVsbD95OnkudG9GaXhlZCgyKX07dmFyIGVsZW1lbnQ9dGhpcy5lbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2VsZW1lbnQuY2xhc3NOYW1lPSJkZXRhaWwiO3RoaXMudmlzaWJsZT10cnVlO2dyYXBoLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7dGhpcy5sYXN0RXZlbnQ9bnVsbDt0aGlzLl9hZGRMaXN0ZW5lcnMoKTt0aGlzLm9uU2hvdz1hcmdzLm9uU2hvdzt0aGlzLm9uSGlkZT1hcmdzLm9uSGlkZTt0aGlzLm9uUmVuZGVyPWFyZ3Mub25SZW5kZXI7dGhpcy5mb3JtYXR0ZXI9YXJncy5mb3JtYXR0ZXJ8fHRoaXMuZm9ybWF0dGVyfSxmb3JtYXR0ZXI6ZnVuY3Rpb24oc2VyaWVzLHgseSxmb3JtYXR0ZWRYLGZvcm1hdHRlZFksZCl7cmV0dXJuIHNlcmllcy5uYW1lKyI6Jm5ic3A7Iitmb3JtYXR0ZWRZfSx1cGRhdGU6ZnVuY3Rpb24oZSl7ZT1lfHx0aGlzLmxhc3RFdmVudDtpZighZSlyZXR1cm47dGhpcy5sYXN0RXZlbnQ9ZTtpZighZS50YXJnZXQubm9kZU5hbWUubWF0Y2goL14ocGF0aHxzdmd8cmVjdHxjaXJjbGUpJC8pKXJldHVybjt2YXIgZ3JhcGg9dGhpcy5ncmFwaDt2YXIgZXZlbnRYPWUub2Zmc2V0WHx8ZS5sYXllclg7dmFyIGV2ZW50WT1lLm9mZnNldFl8fGUubGF5ZXJZO3ZhciBqPTA7dmFyIHBvaW50cz1bXTt2YXIgbmVhcmVzdFBvaW50O3RoaXMuZ3JhcGguc2VyaWVzLmFjdGl2ZSgpLmZvckVhY2goZnVuY3Rpb24oc2VyaWVzKXt2YXIgZGF0YT10aGlzLmdyYXBoLnN0YWNrZWREYXRhW2orK107aWYoIWRhdGEubGVuZ3RoKXJldHVybjt2YXIgZG9tYWluWD1ncmFwaC54LmludmVydChldmVudFgpO3ZhciBkb21haW5JbmRleFNjYWxlPWQzLnNjYWxlLmxpbmVhcigpLmRvbWFpbihbZGF0YVswXS54LGRhdGEuc2xpY2UoLTEpWzBdLnhdKS5yYW5nZShbMCxkYXRhLmxlbmd0aC0xXSk7dmFyIGFwcHJveGltYXRlSW5kZXg9TWF0aC5yb3VuZChkb21haW5JbmRleFNjYWxlKGRvbWFpblgpKTtpZihhcHByb3hpbWF0ZUluZGV4PT1kYXRhLmxlbmd0aC0xKWFwcHJveGltYXRlSW5kZXgtLTt2YXIgZGF0YUluZGV4PU1hdGgubWluKGFwcHJveGltYXRlSW5kZXh8fDAsZGF0YS5sZW5ndGgtMSk7Zm9yKHZhciBpPWFwcHJveGltYXRlSW5kZXg7aTxkYXRhLmxlbmd0aC0xOyl7aWYoIWRhdGFbaV18fCFkYXRhW2krMV0pYnJlYWs7aWYoZGF0YVtpXS54PD1kb21haW5YJiZkYXRhW2krMV0ueD5kb21haW5YKXtkYXRhSW5kZXg9TWF0aC5hYnMoZG9tYWluWC1kYXRhW2ldLngpPE1hdGguYWJzKGRvbWFpblgtZGF0YVtpKzFdLngpP2k6aSsxO2JyZWFrfWlmKGRhdGFbaSsxXS54PD1kb21haW5YKXtpKyt9ZWxzZXtpLS19fWlmKGRhdGFJbmRleDwwKWRhdGFJbmRleD0wO3ZhciB2YWx1ZT1kYXRhW2RhdGFJbmRleF07dmFyIGRpc3RhbmNlPU1hdGguc3FydChNYXRoLnBvdyhNYXRoLmFicyhncmFwaC54KHZhbHVlLngpLWV2ZW50WCksMikrTWF0aC5wb3coTWF0aC5hYnMoZ3JhcGgueSh2YWx1ZS55K3ZhbHVlLnkwKS1ldmVudFkpLDIpKTt2YXIgeEZvcm1hdHRlcj1zZXJpZXMueEZvcm1hdHRlcnx8dGhpcy54Rm9ybWF0dGVyO3ZhciB5Rm9ybWF0dGVyPXNlcmllcy55Rm9ybWF0dGVyfHx0aGlzLnlGb3JtYXR0ZXI7dmFyIHBvaW50PXtmb3JtYXR0ZWRYVmFsdWU6eEZvcm1hdHRlcih2YWx1ZS54KSxmb3JtYXR0ZWRZVmFsdWU6eUZvcm1hdHRlcihzZXJpZXMuc2NhbGU\/c2VyaWVzLnNjYWxlLmludmVydCh2YWx1ZS55KTp2YWx1ZS55KSxzZXJpZXM6c2VyaWVzLHZhbHVlOnZhbHVlLGRpc3RhbmNlOmRpc3RhbmNlLG9yZGVyOmosbmFtZTpzZXJpZXMubmFtZX07aWYoIW5lYXJlc3RQb2ludHx8ZGlzdGFuY2U8bmVhcmVzdFBvaW50LmRpc3RhbmNlKXtuZWFyZXN0UG9pbnQ9cG9pbnR9cG9pbnRzLnB1c2gocG9pbnQpfSx0aGlzKTtpZighbmVhcmVzdFBvaW50KXJldHVybjtuZWFyZXN0UG9pbnQuYWN0aXZlPXRydWU7dmFyIGRvbWFpblg9bmVhcmVzdFBvaW50LnZhbHVlLng7dmFyIGZvcm1hdHRlZFhWYWx1ZT1uZWFyZXN0UG9pbnQuZm9ybWF0dGVkWFZhbHVlO3RoaXMuZWxlbWVudC5pbm5lckhUTUw9IiI7dGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9Z3JhcGgueChkb21haW5YKSsicHgiO3RoaXMudmlzaWJsZSYmdGhpcy5yZW5kZXIoe3BvaW50czpwb2ludHMsZGV0YWlsOnBvaW50cyxtb3VzZVg6ZXZlbnRYLG1vdXNlWTpldmVudFksZm9ybWF0dGVkWFZhbHVlOmZvcm1hdHRlZFhWYWx1ZSxkb21haW5YOmRvbWFpblh9KX0saGlkZTpmdW5jdGlvbigpe3RoaXMudmlzaWJsZT1mYWxzZTt0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgiaW5hY3RpdmUiKTtpZih0eXBlb2YgdGhpcy5vbkhpZGU9PSJmdW5jdGlvbiIpe3RoaXMub25IaWRlKCl9fSxzaG93OmZ1bmN0aW9uKCl7dGhpcy52aXNpYmxlPXRydWU7dGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoImluYWN0aXZlIik7aWYodHlwZW9mIHRoaXMub25TaG93PT0iZnVuY3Rpb24iKXt0aGlzLm9uU2hvdygpfX0scmVuZGVyOmZ1bmN0aW9uKGFyZ3Mpe3ZhciBncmFwaD10aGlzLmdyYXBoO3ZhciBwb2ludHM9YXJncy5wb2ludHM7dmFyIHBvaW50PXBvaW50cy5maWx0ZXIoZnVuY3Rpb24ocCl7cmV0dXJuIHAuYWN0aXZlfSkuc2hpZnQoKTtpZihwb2ludC52YWx1ZS55PT09bnVsbClyZXR1cm47dmFyIGZvcm1hdHRlZFhWYWx1ZT1wb2ludC5mb3JtYXR0ZWRYVmFsdWU7dmFyIGZvcm1hdHRlZFlWYWx1ZT1wb2ludC5mb3JtYXR0ZWRZVmFsdWU7dGhpcy5lbGVtZW50LmlubmVySFRNTD0iIjt0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD1ncmFwaC54KHBvaW50LnZhbHVlLngpKyJweCI7dmFyIHhMYWJlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt4TGFiZWwuY2xhc3NOYW1lPSJ4X2xhYmVsIjt4TGFiZWwuaW5uZXJIVE1MPWZvcm1hdHRlZFhWYWx1ZTt0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoeExhYmVsKTt2YXIgaXRlbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtpdGVtLmNsYXNzTmFtZT0iaXRlbSI7dmFyIHNlcmllcz1wb2ludC5zZXJpZXM7dmFyIGFjdHVhbFk9c2VyaWVzLnNjYWxlP3Nlcmllcy5zY2FsZS5pbnZlcnQocG9pbnQudmFsdWUueSk6cG9pbnQudmFsdWUueTtpdGVtLmlubmVySFRNTD10aGlzLmZvcm1hdHRlcihzZXJpZXMscG9pbnQudmFsdWUueCxhY3R1YWxZLGZvcm1hdHRlZFhWYWx1ZSxmb3JtYXR0ZWRZVmFsdWUscG9pbnQpO2l0ZW0uc3R5bGUudG9wPXRoaXMuZ3JhcGgueShwb2ludC52YWx1ZS55MCtwb2ludC52YWx1ZS55KSsicHgiO3RoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChpdGVtKTt2YXIgZG90PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2RvdC5jbGFzc05hbWU9ImRvdCI7ZG90LnN0eWxlLnRvcD1pdGVtLnN0eWxlLnRvcDtkb3Quc3R5bGUuYm9yZGVyQ29sb3I9c2VyaWVzLmNvbG9yO3RoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChkb3QpO2lmKHBvaW50LmFjdGl2ZSl7aXRlbS5jbGFzc0xpc3QuYWRkKCJhY3RpdmUiKTtkb3QuY2xhc3NMaXN0LmFkZCgiYWN0aXZlIil9dmFyIGFsaWduYWJsZXM9W3hMYWJlbCxpdGVtXTthbGlnbmFibGVzLmZvckVhY2goZnVuY3Rpb24oZWwpe2VsLmNsYXNzTGlzdC5hZGQoImxlZnQiKX0pO3RoaXMuc2hvdygpO3ZhciBsZWZ0QWxpZ25FcnJvcj10aGlzLl9jYWxjTGF5b3V0RXJyb3IoYWxpZ25hYmxlcyk7aWYobGVmdEFsaWduRXJyb3I+MCl7YWxpZ25hYmxlcy5mb3JFYWNoKGZ1bmN0aW9uKGVsKXtlbC5jbGFzc0xpc3QucmVtb3ZlKCJsZWZ0Iik7ZWwuY2xhc3NMaXN0LmFkZCgicmlnaHQiKX0pO3ZhciByaWdodEFsaWduRXJyb3I9dGhpcy5fY2FsY0xheW91dEVycm9yKGFsaWduYWJsZXMpO2lmKHJpZ2h0QWxpZ25FcnJvcj5sZWZ0QWxpZ25FcnJvcil7YWxpZ25hYmxlcy5mb3JFYWNoKGZ1bmN0aW9uKGVsKXtlbC5jbGFzc0xpc3QucmVtb3ZlKCJyaWdodCIpO2VsLmNsYXNzTGlzdC5hZGQoImxlZnQiKX0pfX1pZih0eXBlb2YgdGhpcy5vblJlbmRlcj09ImZ1bmN0aW9uIil7dGhpcy5vblJlbmRlcihhcmdzKX19LF9jYWxjTGF5b3V0RXJyb3I6ZnVuY3Rpb24oYWxpZ25hYmxlcyl7dmFyIHBhcmVudFJlY3Q9dGhpcy5lbGVtZW50LnBhcmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dmFyIGVycm9yPTA7dmFyIGFsaWduUmlnaHQ9YWxpZ25hYmxlcy5mb3JFYWNoKGZ1bmN0aW9uKGVsKXt2YXIgcmVjdD1lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZighcmVjdC53aWR0aCl7cmV0dXJufWlmKHJlY3QucmlnaHQ+cGFyZW50UmVjdC5yaWdodCl7ZXJyb3IrPXJlY3QucmlnaHQtcGFyZW50UmVjdC5yaWdodH1pZihyZWN0LmxlZnQ8cGFyZW50UmVjdC5sZWZ0KXtlcnJvcis9cGFyZW50UmVjdC5sZWZ0LXJlY3QubGVmdH19KTtyZXR1cm4gZXJyb3J9LF9hZGRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLmdyYXBoLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixmdW5jdGlvbihlKXt0aGlzLnZpc2libGU9dHJ1ZTt0aGlzLnVwZGF0ZShlKX0uYmluZCh0aGlzKSxmYWxzZSk7dGhpcy5ncmFwaC5vblVwZGF0ZShmdW5jdGlvbigpe3RoaXMudXBkYXRlKCl9LmJpbmQodGhpcykpO3RoaXMuZ3JhcGguZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsZnVuY3Rpb24oZSl7aWYoZS5yZWxhdGVkVGFyZ2V0JiYhKGUucmVsYXRlZFRhcmdldC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0aGlzLmdyYXBoLmVsZW1lbnQpJk5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTlMpKXt0aGlzLmhpZGUoKX19LmJpbmQodGhpcyksZmFsc2UpfX0pO1JpY2tzaGF3Lm5hbWVzcGFjZSgiUmlja3NoYXcuR3JhcGguSlNPTlAiKTtSaWNrc2hhdy5HcmFwaC5KU09OUD1SaWNrc2hhdy5DbGFzcy5jcmVhdGUoUmlja3NoYXcuR3JhcGguQWpheCx7cmVxdWVzdDpmdW5jdGlvbigpe2pRdWVyeS5hamF4KHt1cmw6dGhpcy5kYXRhVVJMLGRhdGFUeXBlOiJqc29ucCIsc3VjY2Vzczp0aGlzLnN1Y2Nlc3MuYmluZCh0aGlzKSxlcnJvcjp0aGlzLmVycm9yLmJpbmQodGhpcyl9KX19KTtSaWNrc2hhdy5uYW1lc3BhY2UoIlJpY2tzaGF3LkdyYXBoLkxlZ2VuZCIpO1JpY2tzaGF3LkdyYXBoLkxlZ2VuZD1SaWNrc2hhdy5DbGFzcy5jcmVhdGUoe2NsYXNzTmFtZToicmlja3NoYXdfbGVnZW5kIixpbml0aWFsaXplOmZ1bmN0aW9uKGFyZ3Mpe3RoaXMuZWxlbWVudD1hcmdzLmVsZW1lbnQ7dGhpcy5ncmFwaD1hcmdzLmdyYXBoO3RoaXMubmF0dXJhbE9yZGVyPWFyZ3MubmF0dXJhbE9yZGVyO3RoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3NOYW1lKTt0aGlzLmxpc3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidWwiKTt0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5saXN0KTt0aGlzLnJlbmRlcigpO3RoaXMuZ3JhcGgub25VcGRhdGUoZnVuY3Rpb24oKXt9KX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIHNlbGY9dGhpczt3aGlsZSh0aGlzLmxpc3QuZmlyc3RDaGlsZCl7dGhpcy5saXN0LnJlbW92ZUNoaWxkKHRoaXMubGlzdC5maXJzdENoaWxkKX10aGlzLmxpbmVzPVtdO3ZhciBzZXJpZXM9dGhpcy5ncmFwaC5zZXJpZXMubWFwKGZ1bmN0aW9uKHMpe3JldHVybiBzfSk7aWYoIXRoaXMubmF0dXJhbE9yZGVyKXtzZXJpZXM9c2VyaWVzLnJldmVyc2UoKX1zZXJpZXMuZm9yRWFjaChmdW5jdGlvbihzKXtzZWxmLmFkZExpbmUocyl9KX0sYWRkTGluZTpmdW5jdGlvbihzZXJpZXMpe3ZhciBsaW5lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7bGluZS5jbGFzc05hbWU9ImxpbmUiO2lmKHNlcmllcy5kaXNhYmxlZCl7bGluZS5jbGFzc05hbWUrPSIgZGlzYWJsZWQifWlmKHNlcmllcy5jbGFzc05hbWUpe2QzLnNlbGVjdChsaW5lKS5jbGFzc2VkKHNlcmllcy5jbGFzc05hbWUsdHJ1ZSl9dmFyIHN3YXRjaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtzd2F0Y2guY2xhc3NOYW1lPSJzd2F0Y2giO3N3YXRjaC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9c2VyaWVzLmNvbG9yO2xpbmUuYXBwZW5kQ2hpbGQoc3dhdGNoKTt2YXIgbGFiZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2xhYmVsLmNsYXNzTmFtZT0ibGFiZWwiO2xhYmVsLmlubmVySFRNTD1zZXJpZXMubmFtZTtsaW5lLmFwcGVuZENoaWxkKGxhYmVsKTt0aGlzLmxpc3QuYXBwZW5kQ2hpbGQobGluZSk7bGluZS5zZXJpZXM9c2VyaWVzO2lmKHNlcmllcy5ub0xlZ2VuZCl7bGluZS5zdHlsZS5kaXNwbGF5PSJub25lIn12YXIgX2xpbmU9e2VsZW1lbnQ6bGluZSxzZXJpZXM6c2VyaWVzfTtpZih0aGlzLnNoZWx2aW5nKXt0aGlzLnNoZWx2aW5nLmFkZEFuY2hvcihfbGluZSk7dGhpcy5zaGVsdmluZy51cGRhdGVCZWhhdmlvdXIoKX1pZih0aGlzLmhpZ2hsaWdodGVyKXt0aGlzLmhpZ2hsaWdodGVyLmFkZEhpZ2hsaWdodEV2ZW50cyhfbGluZSl9dGhpcy5saW5lcy5wdXNoKF9saW5lKTtyZXR1cm4gbGluZX19KTtSaWNrc2hhdy5uYW1lc3BhY2UoIlJpY2tzaGF3LkdyYXBoLlJhbmdlU2xpZGVyIik7Umlja3NoYXcuR3JhcGguUmFuZ2VTbGlkZXI9Umlja3NoYXcuQ2xhc3MuY3JlYXRlKHtpbml0aWFsaXplOmZ1bmN0aW9uKGFyZ3Mpe3ZhciBlbGVtZW50PXRoaXMuZWxlbWVudD1hcmdzLmVsZW1lbnQ7dmFyIGdyYXBoPXRoaXMuZ3JhcGg9YXJncy5ncmFwaDt0aGlzLnNsaWRlQ2FsbGJhY2tzPVtdO3RoaXMuYnVpbGQoKTtncmFwaC5vblVwZGF0ZShmdW5jdGlvbigpe3RoaXMudXBkYXRlKCl9LmJpbmQodGhpcykpfSxidWlsZDpmdW5jdGlvbigpe3ZhciBlbGVtZW50PXRoaXMuZWxlbWVudDt2YXIgZ3JhcGg9dGhpcy5ncmFwaDt2YXIgJD1qUXVlcnk7dmFyIGRvbWFpbj1ncmFwaC5kYXRhRG9tYWluKCk7dmFyIHNlbGY9dGhpczskKGZ1bmN0aW9uKCl7JChlbGVtZW50KS5zbGlkZXIoe3JhbmdlOnRydWUsbWluOmRvbWFpblswXSxtYXg6ZG9tYWluWzFdLHZhbHVlczpbZG9tYWluWzBdLGRvbWFpblsxXV0sc2xpZGU6ZnVuY3Rpb24oZXZlbnQsdWkpe2lmKHVpLnZhbHVlc1sxXTw9dWkudmFsdWVzWzBdKXJldHVybjtncmFwaC53aW5kb3cueE1pbj11aS52YWx1ZXNbMF07Z3JhcGgud2luZG93LnhNYXg9dWkudmFsdWVzWzFdO2dyYXBoLnVwZGF0ZSgpO3ZhciBkb21haW49Z3JhcGguZGF0YURvbWFpbigpO2lmKGRvbWFpblswXT09dWkudmFsdWVzWzBdKXtncmFwaC53aW5kb3cueE1pbj11bmRlZmluZWR9aWYoZG9tYWluWzFdPT11aS52YWx1ZXNbMV0pe2dyYXBoLndpbmRvdy54TWF4PXVuZGVmaW5lZH1zZWxmLnNsaWRlQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24oY2FsbGJhY2spe2NhbGxiYWNrKGdyYXBoLGdyYXBoLndpbmRvdy54TWluLGdyYXBoLndpbmRvdy54TWF4KX0pfX0pfSk7JChlbGVtZW50KVswXS5zdHlsZS53aWR0aD1ncmFwaC53aWR0aCsicHgifSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgZWxlbWVudD10aGlzLmVsZW1lbnQ7dmFyIGdyYXBoPXRoaXMuZ3JhcGg7dmFyICQ9alF1ZXJ5O3ZhciB2YWx1ZXM9JChlbGVtZW50KS5zbGlkZXIoIm9wdGlvbiIsInZhbHVlcyIpO3ZhciBkb21haW49Z3JhcGguZGF0YURvbWFpbigpOyQoZWxlbWVudCkuc2xpZGVyKCJvcHRpb24iLCJtaW4iLGRvbWFpblswXSk7JChlbGVtZW50KS5zbGlkZXIoIm9wdGlvbiIsIm1heCIsZG9tYWluWzFdKTtpZihncmFwaC53aW5kb3cueE1pbj09bnVsbCl7dmFsdWVzWzBdPWRvbWFpblswXX1pZihncmFwaC53aW5kb3cueE1heD09bnVsbCl7dmFsdWVzWzFdPWRvbWFpblsxXX0kKGVsZW1lbnQpLnNsaWRlcigib3B0aW9uIiwidmFsdWVzIix2YWx1ZXMpfSxvblNsaWRlOmZ1bmN0aW9uKGNhbGxiYWNrKXt0aGlzLnNsaWRlQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spfX0pO1JpY2tzaGF3Lm5hbWVzcGFjZSgiUmlja3NoYXcuR3JhcGguUmFuZ2VTbGlkZXIuUHJldmlldyIpO1JpY2tzaGF3LkdyYXBoLlJhbmdlU2xpZGVyLlByZXZpZXc9Umlja3NoYXcuQ2xhc3MuY3JlYXRlKHtpbml0aWFsaXplOmZ1bmN0aW9uKGFyZ3Mpe2lmKCFhcmdzLmVsZW1lbnQpdGhyb3ciUmlja3NoYXcuR3JhcGguUmFuZ2VTbGlkZXIuUHJldmlldyBuZWVkcyBhIHJlZmVyZW5jZSB0byBhbiBlbGVtZW50IjtpZighYXJncy5ncmFwaCYmIWFyZ3MuZ3JhcGhzKXRocm93IlJpY2tzaGF3LkdyYXBoLlJhbmdlU2xpZGVyLlByZXZpZXcgbmVlZHMgYSByZWZlcmVuY2UgdG8gYW4gZ3JhcGggb3IgYW4gYXJyYXkgb2YgZ3JhcGhzIjt0aGlzLmVsZW1lbnQ9YXJncy5lbGVtZW50O3RoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO3RoaXMuZ3JhcGhzPWFyZ3MuZ3JhcGg\/W2FyZ3MuZ3JhcGhdOmFyZ3MuZ3JhcGhzO3RoaXMuZGVmYXVsdHM9e2hlaWdodDo3NSx3aWR0aDo0MDAsZ3JpcHBlckNvbG9yOnVuZGVmaW5lZCxmcmFtZVRvcFRoaWNrbmVzczozLGZyYW1lSGFuZGxlVGhpY2tuZXNzOjEwLGZyYW1lQ29sb3I6IiNkNGQ0ZDQiLGZyYW1lT3BhY2l0eToxLG1pbmltdW1GcmFtZVdpZHRoOjAsaGVpZ2h0UmF0aW86LjJ9O3RoaXMuaGVpZ2h0UmF0aW89YXJncy5oZWlnaHRSYXRpb3x8dGhpcy5kZWZhdWx0cy5oZWlnaHRSYXRpbzt0aGlzLmRlZmF1bHRzLmdyaXBwZXJDb2xvcj1kMy5yZ2IodGhpcy5kZWZhdWx0cy5mcmFtZUNvbG9yKS5kYXJrZXIoKS50b1N0cmluZygpO3RoaXMuY29uZmlndXJlQ2FsbGJhY2tzPVtdO3RoaXMuc2xpZGVDYWxsYmFja3M9W107dGhpcy5wcmV2aWV3cz1bXTtpZighYXJncy53aWR0aCl0aGlzLndpZHRoRnJvbUdyYXBoPXRydWU7aWYoIWFyZ3MuaGVpZ2h0KXRoaXMuaGVpZ2h0RnJvbUdyYXBoPXRydWU7aWYodGhpcy53aWR0aEZyb21HcmFwaHx8dGhpcy5oZWlnaHRGcm9tR3JhcGgpe3RoaXMuZ3JhcGhzWzBdLm9uQ29uZmlndXJlKGZ1bmN0aW9uKCl7dGhpcy5jb25maWd1cmUoYXJncyk7dGhpcy5yZW5kZXIoKX0uYmluZCh0aGlzKSl9YXJncy53aWR0aD1hcmdzLndpZHRofHx0aGlzLmdyYXBoc1swXS53aWR0aHx8dGhpcy5kZWZhdWx0cy53aWR0aDthcmdzLmhlaWdodD1hcmdzLmhlaWdodHx8dGhpcy5ncmFwaHNbMF0uaGVpZ2h0KnRoaXMuaGVpZ2h0UmF0aW98fHRoaXMuZGVmYXVsdHMuaGVpZ2h0O3RoaXMuY29uZmlndXJlKGFyZ3MpO3RoaXMucmVuZGVyKCl9LG9uU2xpZGU6ZnVuY3Rpb24oY2FsbGJhY2spe3RoaXMuc2xpZGVDYWxsYmFja3MucHVzaChjYWxsYmFjayl9LG9uQ29uZmlndXJlOmZ1bmN0aW9uKGNhbGxiYWNrKXt0aGlzLmNvbmZpZ3VyZUNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKX0sY29uZmlndXJlOmZ1bmN0aW9uKGFyZ3Mpe3RoaXMuY29uZmlnPXRoaXMuY29uZmlnfHx7fTt0aGlzLmNvbmZpZ3VyZUNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uKGNhbGxiYWNrKXtjYWxsYmFjayhhcmdzKX0pO1JpY2tzaGF3LmtleXModGhpcy5kZWZhdWx0cykuZm9yRWFjaChmdW5jdGlvbihrKXt0aGlzLmNvbmZpZ1trXT1rIGluIGFyZ3M\/YXJnc1trXTprIGluIHRoaXMuY29uZmlnP3RoaXMuY29uZmlnW2tdOnRoaXMuZGVmYXVsdHNba119LHRoaXMpO2lmKCJ3aWR0aCJpbiBhcmdzfHwiaGVpZ2h0ImluIGFyZ3Mpe2lmKHRoaXMud2lkdGhGcm9tR3JhcGgpe3RoaXMuY29uZmlnLndpZHRoPXRoaXMuZ3JhcGhzWzBdLndpZHRofWlmKHRoaXMuaGVpZ2h0RnJvbUdyYXBoKXt0aGlzLmNvbmZpZy5oZWlnaHQ9dGhpcy5ncmFwaHNbMF0uaGVpZ2h0KnRoaXMuaGVpZ2h0UmF0aW87dGhpcy5wcmV2aWV3SGVpZ2h0PXRoaXMuY29uZmlnLmhlaWdodH10aGlzLnByZXZpZXdzLmZvckVhY2goZnVuY3Rpb24ocHJldmlldyl7dmFyIGhlaWdodD10aGlzLnByZXZpZXdIZWlnaHQvdGhpcy5ncmFwaHMubGVuZ3RoLXRoaXMuY29uZmlnLmZyYW1lVG9wVGhpY2tuZXNzKjI7dmFyIHdpZHRoPXRoaXMuY29uZmlnLndpZHRoLXRoaXMuY29uZmlnLmZyYW1lSGFuZGxlVGhpY2tuZXNzKjI7cHJldmlldy5zZXRTaXplKHt3aWR0aDp3aWR0aCxoZWlnaHQ6aGVpZ2h0fSk7aWYodGhpcy5zdmcpe3ZhciBzdmdIZWlnaHQ9aGVpZ2h0K3RoaXMuY29uZmlnLmZyYW1lSGFuZGxlVGhpY2tuZXNzKjI7dmFyIHN2Z1dpZHRoPXdpZHRoK3RoaXMuY29uZmlnLmZyYW1lSGFuZGxlVGhpY2tuZXNzKjI7dGhpcy5zdmcuc3R5bGUoIndpZHRoIixzdmdXaWR0aCsicHgiKTt0aGlzLnN2Zy5zdHlsZSgiaGVpZ2h0IixzdmdIZWlnaHQrInB4Iil9fSx0aGlzKX19LHJlbmRlcjpmdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7dGhpcy5zdmc9ZDMuc2VsZWN0KHRoaXMuZWxlbWVudCkuc2VsZWN0QWxsKCJzdmcucmlja3NoYXdfcmFuZ2Vfc2xpZGVyX3ByZXZpZXciKS5kYXRhKFtudWxsXSk7dGhpcy5wcmV2aWV3SGVpZ2h0PXRoaXMuY29uZmlnLmhlaWdodC10aGlzLmNvbmZpZy5mcmFtZVRvcFRoaWNrbmVzcyoyO3RoaXMucHJldmlld1dpZHRoPXRoaXMuY29uZmlnLndpZHRoLXRoaXMuY29uZmlnLmZyYW1lSGFuZGxlVGhpY2tuZXNzKjI7dGhpcy5jdXJyZW50RnJhbWU9WzAsdGhpcy5wcmV2aWV3V2lkdGhdO3ZhciBidWlsZEdyYXBoPWZ1bmN0aW9uKHBhcmVudCxpbmRleCl7dmFyIGdyYXBoQXJncz1SaWNrc2hhdy5leHRlbmQoe30scGFyZW50LmNvbmZpZyk7dmFyIGhlaWdodD1zZWxmLnByZXZpZXdIZWlnaHQvc2VsZi5ncmFwaHMubGVuZ3RoO3ZhciByZW5kZXJlcj1wYXJlbnQucmVuZGVyZXIubmFtZTtSaWNrc2hhdy5leHRlbmQoZ3JhcGhBcmdzLHtlbGVtZW50OnRoaXMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpLGhlaWdodDpoZWlnaHQsd2lkdGg6c2VsZi5wcmV2aWV3V2lkdGgsc2VyaWVzOnBhcmVudC5zZXJpZXMscmVuZGVyZXI6cmVuZGVyZXJ9KTt2YXIgZ3JhcGg9bmV3IFJpY2tzaGF3LkdyYXBoKGdyYXBoQXJncyk7c2VsZi5wcmV2aWV3cy5wdXNoKGdyYXBoKTtwYXJlbnQub25VcGRhdGUoZnVuY3Rpb24oKXtncmFwaC5yZW5kZXIoKTtzZWxmLnJlbmRlcigpfSk7cGFyZW50Lm9uQ29uZmlndXJlKGZ1bmN0aW9uKGFyZ3Mpe2RlbGV0ZSBhcmdzLmhlaWdodDthcmdzLndpZHRoPWFyZ3Mud2lkdGgtc2VsZi5jb25maWcuZnJhbWVIYW5kbGVUaGlja25lc3MqMjtncmFwaC5jb25maWd1cmUoYXJncyk7Z3JhcGgucmVuZGVyKCl9KTtncmFwaC5yZW5kZXIoKX07dmFyIGdyYXBoQ29udGFpbmVyPWQzLnNlbGVjdCh0aGlzLmVsZW1lbnQpLnNlbGVjdEFsbCgiZGl2LnJpY2tzaGF3X3JhbmdlX3NsaWRlcl9wcmV2aWV3X2NvbnRhaW5lciIpLmRhdGEodGhpcy5ncmFwaHMpO3ZhciB0cmFuc2xhdGVDb21tYW5kPSJ0cmFuc2xhdGUoIit0aGlzLmNvbmZpZy5mcmFtZUhhbmRsZVRoaWNrbmVzcysicHgsICIrdGhpcy5jb25maWcuZnJhbWVUb3BUaGlja25lc3MrInB4KSI7Z3JhcGhDb250YWluZXIuZW50ZXIoKS5hcHBlbmQoImRpdiIpLmNsYXNzZWQoInJpY2tzaGF3X3JhbmdlX3NsaWRlcl9wcmV2aWV3X2NvbnRhaW5lciIsdHJ1ZSkuc3R5bGUoIi13ZWJraXQtdHJhbnNmb3JtIix0cmFuc2xhdGVDb21tYW5kKS5zdHlsZSgiLW1vei10cmFuc2Zvcm0iLHRyYW5zbGF0ZUNvbW1hbmQpLnN0eWxlKCItbXMtdHJhbnNmb3JtIix0cmFuc2xhdGVDb21tYW5kKS5zdHlsZSgidHJhbnNmb3JtIix0cmFuc2xhdGVDb21tYW5kKS5lYWNoKGJ1aWxkR3JhcGgpO2dyYXBoQ29udGFpbmVyLmV4aXQoKS5yZW1vdmUoKTt2YXIgbWFzdGVyR3JhcGg9dGhpcy5ncmFwaHNbMF07dmFyIGRvbWFpblNjYWxlPWQzLnNjYWxlLmxpbmVhcigpLmRvbWFpbihbMCx0aGlzLnByZXZpZXdXaWR0aF0pLnJhbmdlKG1hc3RlckdyYXBoLmRhdGFEb21haW4oKSk7dmFyIGN1cnJlbnRXaW5kb3c9W21hc3RlckdyYXBoLndpbmRvdy54TWluLG1hc3RlckdyYXBoLndpbmRvdy54TWF4XTt0aGlzLmN1cnJlbnRGcmFtZVswXT1jdXJyZW50V2luZG93WzBdPT09dW5kZWZpbmVkPzA6TWF0aC5yb3VuZChkb21haW5TY2FsZS5pbnZlcnQoY3VycmVudFdpbmRvd1swXSkpO2lmKHRoaXMuY3VycmVudEZyYW1lWzBdPDApdGhpcy5jdXJyZW50RnJhbWVbMF09MDt0aGlzLmN1cnJlbnRGcmFtZVsxXT1jdXJyZW50V2luZG93WzFdPT09dW5kZWZpbmVkP3RoaXMucHJldmlld1dpZHRoOmRvbWFpblNjYWxlLmludmVydChjdXJyZW50V2luZG93WzFdKTtpZih0aGlzLmN1cnJlbnRGcmFtZVsxXS10aGlzLmN1cnJlbnRGcmFtZVswXTxzZWxmLmNvbmZpZy5taW5pbXVtRnJhbWVXaWR0aCl7dGhpcy5jdXJyZW50RnJhbWVbMV09KHRoaXMuY3VycmVudEZyYW1lWzBdfHwwKStzZWxmLmNvbmZpZy5taW5pbXVtRnJhbWVXaWR0aH10aGlzLnN2Zy5lbnRlcigpLmFwcGVuZCgic3ZnIikuY2xhc3NlZCgicmlja3NoYXdfcmFuZ2Vfc2xpZGVyX3ByZXZpZXciLHRydWUpLnN0eWxlKCJoZWlnaHQiLHRoaXMuY29uZmlnLmhlaWdodCsicHgiKS5zdHlsZSgid2lkdGgiLHRoaXMuY29uZmlnLndpZHRoKyJweCIpLnN0eWxlKCJwb3NpdGlvbiIsImFic29sdXRlIikuc3R5bGUoInRvcCIsMCk7dGhpcy5fcmVuZGVyRGltbWluZygpO3RoaXMuX3JlbmRlckZyYW1lKCk7dGhpcy5fcmVuZGVyR3JpcHBlcnMoKTt0aGlzLl9yZW5kZXJIYW5kbGVzKCk7dGhpcy5fcmVuZGVyTWlkZGxlKCk7dGhpcy5fcmVnaXN0ZXJNb3VzZUV2ZW50cygpfSxfcmVuZGVyRGltbWluZzpmdW5jdGlvbigpe3ZhciBlbGVtZW50PXRoaXMuc3ZnLnNlbGVjdEFsbCgicGF0aC5kaW1taW5nIikuZGF0YShbbnVsbF0pO2VsZW1lbnQuZW50ZXIoKS5hcHBlbmQoInBhdGgiKS5hdHRyKCJmaWxsIiwid2hpdGUiKS5hdHRyKCJmaWxsLW9wYWNpdHkiLCIwLjciKS5hdHRyKCJmaWxsLXJ1bGUiLCJldmVub2RkIikuY2xhc3NlZCgiZGltbWluZyIsdHJ1ZSk7dmFyIHBhdGg9IiI7cGF0aCs9IiBNICIrdGhpcy5jb25maWcuZnJhbWVIYW5kbGVUaGlja25lc3MrIiAiK3RoaXMuY29uZmlnLmZyYW1lVG9wVGhpY2tuZXNzO3BhdGgrPSIgaCAiK3RoaXMucHJldmlld1dpZHRoO3BhdGgrPSIgdiAiK3RoaXMucHJldmlld0hlaWdodDtwYXRoKz0iIGggIistdGhpcy5wcmV2aWV3V2lkdGg7cGF0aCs9IiB6ICI7cGF0aCs9IiBNICIrTWF0aC5tYXgodGhpcy5jdXJyZW50RnJhbWVbMF0sdGhpcy5jb25maWcuZnJhbWVIYW5kbGVUaGlja25lc3MpKyIgIit0aGlzLmNvbmZpZy5mcmFtZVRvcFRoaWNrbmVzcztwYXRoKz0iIEggIitNYXRoLm1pbih0aGlzLmN1cnJlbnRGcmFtZVsxXSt0aGlzLmNvbmZpZy5mcmFtZUhhbmRsZVRoaWNrbmVzcyoyLHRoaXMucHJldmlld1dpZHRoK3RoaXMuY29uZmlnLmZyYW1lSGFuZGxlVGhpY2tuZXNzKTtwYXRoKz0iIHYgIit0aGlzLnByZXZpZXdIZWlnaHQ7cGF0aCs9IiBIICIrTWF0aC5tYXgodGhpcy5jdXJyZW50RnJhbWVbMF0sdGhpcy5jb25maWcuZnJhbWVIYW5kbGVUaGlja25lc3MpO3BhdGgrPSIgeiI7ZWxlbWVudC5hdHRyKCJkIixwYXRoKX0sX3JlbmRlckZyYW1lOmZ1bmN0aW9uKCl7dmFyIGVsZW1lbnQ9dGhpcy5zdmcuc2VsZWN0QWxsKCJwYXRoLmZyYW1lIikuZGF0YShbbnVsbF0pO2VsZW1lbnQuZW50ZXIoKS5hcHBlbmQoInBhdGgiKS5hdHRyKCJzdHJva2UiLCJ3aGl0ZSIpLmF0dHIoInN0cm9rZS13aWR0aCIsIjFweCIpLmF0dHIoInN0cm9rZS1saW5lam9pbiIsInJvdW5kIikuYXR0cigiZmlsbCIsdGhpcy5jb25maWcuZnJhbWVDb2xvcikuYXR0cigiZmlsbC1vcGFjaXR5Iix0aGlzLmNvbmZpZy5mcmFtZU9wYWNpdHkpLmF0dHIoImZpbGwtcnVsZSIsImV2ZW5vZGQiKS5jbGFzc2VkKCJmcmFtZSIsdHJ1ZSk7dmFyIHBhdGg9IiI7cGF0aCs9IiBNICIrdGhpcy5jdXJyZW50RnJhbWVbMF0rIiAwIjtwYXRoKz0iIEggIisodGhpcy5jdXJyZW50RnJhbWVbMV0rdGhpcy5jb25maWcuZnJhbWVIYW5kbGVUaGlja25lc3MqMik7cGF0aCs9IiBWICIrdGhpcy5jb25maWcuaGVpZ2h0O3BhdGgrPSIgSCAiK3RoaXMuY3VycmVudEZyYW1lWzBdO3BhdGgrPSIgeiI7cGF0aCs9IiBNICIrKHRoaXMuY3VycmVudEZyYW1lWzBdK3RoaXMuY29uZmlnLmZyYW1lSGFuZGxlVGhpY2tuZXNzKSsiICIrdGhpcy5jb25maWcuZnJhbWVUb3BUaGlja25lc3M7cGF0aCs9IiBIICIrKHRoaXMuY3VycmVudEZyYW1lWzFdK3RoaXMuY29uZmlnLmZyYW1lSGFuZGxlVGhpY2tuZXNzKTtwYXRoKz0iIHYgIit0aGlzLnByZXZpZXdIZWlnaHQ7cGF0aCs9IiBIICIrKHRoaXMuY3VycmVudEZyYW1lWzBdK3RoaXMuY29uZmlnLmZyYW1lSGFuZGxlVGhpY2tuZXNzKTtwYXRoKz0iIHoiO2VsZW1lbnQuYXR0cigiZCIscGF0aCl9LF9yZW5kZXJHcmlwcGVyczpmdW5jdGlvbigpe3ZhciBncmlwcGVyPXRoaXMuc3ZnLnNlbGVjdEFsbCgicGF0aC5ncmlwcGVyIikuZGF0YShbbnVsbF0pO2dyaXBwZXIuZW50ZXIoKS5hcHBlbmQoInBhdGgiKS5hdHRyKCJzdHJva2UiLHRoaXMuY29uZmlnLmdyaXBwZXJDb2xvcikuY2xhc3NlZCgiZ3JpcHBlciIsdHJ1ZSk7dmFyIHBhdGg9IiI7Wy40LC42XS5mb3JFYWNoKGZ1bmN0aW9uKHNwYWNpbmcpe3BhdGgrPSIgTSAiK01hdGgucm91bmQodGhpcy5jdXJyZW50RnJhbWVbMF0rdGhpcy5jb25maWcuZnJhbWVIYW5kbGVUaGlja25lc3Mqc3BhY2luZykrIiAiK01hdGgucm91bmQodGhpcy5jb25maWcuaGVpZ2h0Ki4zKTtwYXRoKz0iIFYgIitNYXRoLnJvdW5kKHRoaXMuY29uZmlnLmhlaWdodCouNyk7cGF0aCs9IiBNICIrTWF0aC5yb3VuZCh0aGlzLmN1cnJlbnRGcmFtZVsxXSt0aGlzLmNvbmZpZy5mcmFtZUhhbmRsZVRoaWNrbmVzcyooMStzcGFjaW5nKSkrIiAiK01hdGgucm91bmQodGhpcy5jb25maWcuaGVpZ2h0Ki4zKTtwYXRoKz0iIFYgIitNYXRoLnJvdW5kKHRoaXMuY29uZmlnLmhlaWdodCouNyl9LmJpbmQodGhpcykpO2dyaXBwZXIuYXR0cigiZCIscGF0aCl9LF9yZW5kZXJIYW5kbGVzOmZ1bmN0aW9uKCl7dmFyIGxlZnRIYW5kbGU9dGhpcy5zdmcuc2VsZWN0QWxsKCJyZWN0LmxlZnRfaGFuZGxlIikuZGF0YShbbnVsbF0pO2xlZnRIYW5kbGUuZW50ZXIoKS5hcHBlbmQoInJlY3QiKS5hdHRyKCJ3aWR0aCIsdGhpcy5jb25maWcuZnJhbWVIYW5kbGVUaGlja25lc3MpLnN0eWxlKCJjdXJzb3IiLCJldy1yZXNpemUiKS5zdHlsZSgiZmlsbC1vcGFjaXR5IiwiMCIpLmNsYXNzZWQoImxlZnRfaGFuZGxlIix0cnVlKTtsZWZ0SGFuZGxlLmF0dHIoIngiLHRoaXMuY3VycmVudEZyYW1lWzBdKS5hdHRyKCJoZWlnaHQiLHRoaXMuY29uZmlnLmhlaWdodCk7dmFyIHJpZ2h0SGFuZGxlPXRoaXMuc3ZnLnNlbGVjdEFsbCgicmVjdC5yaWdodF9oYW5kbGUiKS5kYXRhKFtudWxsXSk7cmlnaHRIYW5kbGUuZW50ZXIoKS5hcHBlbmQoInJlY3QiKS5hdHRyKCJ3aWR0aCIsdGhpcy5jb25maWcuZnJhbWVIYW5kbGVUaGlja25lc3MpLnN0eWxlKCJjdXJzb3IiLCJldy1yZXNpemUiKS5zdHlsZSgiZmlsbC1vcGFjaXR5IiwiMCIpLmNsYXNzZWQoInJpZ2h0X2hhbmRsZSIsdHJ1ZSk7cmlnaHRIYW5kbGUuYXR0cigieCIsdGhpcy5jdXJyZW50RnJhbWVbMV0rdGhpcy5jb25maWcuZnJhbWVIYW5kbGVUaGlja25lc3MpLmF0dHIoImhlaWdodCIsdGhpcy5jb25maWcuaGVpZ2h0KX0sX3JlbmRlck1pZGRsZTpmdW5jdGlvbigpe3ZhciBtaWRkbGVIYW5kbGU9dGhpcy5zdmcuc2VsZWN0QWxsKCJyZWN0Lm1pZGRsZV9oYW5kbGUiKS5kYXRhKFtudWxsXSk7bWlkZGxlSGFuZGxlLmVudGVyKCkuYXBwZW5kKCJyZWN0Iikuc3R5bGUoImN1cnNvciIsIm1vdmUiKS5zdHlsZSgiZmlsbC1vcGFjaXR5IiwiMCIpLmNsYXNzZWQoIm1pZGRsZV9oYW5kbGUiLHRydWUpO21pZGRsZUhhbmRsZS5hdHRyKCJ3aWR0aCIsTWF0aC5tYXgoMCx0aGlzLmN1cnJlbnRGcmFtZVsxXS10aGlzLmN1cnJlbnRGcmFtZVswXSkpLmF0dHIoIngiLHRoaXMuY3VycmVudEZyYW1lWzBdK3RoaXMuY29uZmlnLmZyYW1lSGFuZGxlVGhpY2tuZXNzKS5hdHRyKCJoZWlnaHQiLHRoaXMuY29uZmlnLmhlaWdodCl9LF9yZWdpc3Rlck1vdXNlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGVsZW1lbnQ9ZDMuc2VsZWN0KHRoaXMuZWxlbWVudCk7dmFyIGRyYWc9e3RhcmdldDpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsLGxlZnQ6ZmFsc2UscmlnaHQ6ZmFsc2UscmlnaWQ6ZmFsc2V9O3ZhciBzZWxmPXRoaXM7ZnVuY3Rpb24gb25Nb3VzZW1vdmUoZGF0dW0saW5kZXgpe2RyYWcuc3RvcD1zZWxmLl9nZXRDbGllbnRYRnJvbUV2ZW50KGQzLmV2ZW50LGRyYWcpO3ZhciBkaXN0YW5jZVRyYXZlbGVkPWRyYWcuc3RvcC1kcmFnLnN0YXJ0O3ZhciBmcmFtZUFmdGVyRHJhZz1zZWxmLmZyYW1lQmVmb3JlRHJhZy5zbGljZSgwKTt2YXIgbWluaW11bUZyYW1lV2lkdGg9c2VsZi5jb25maWcubWluaW11bUZyYW1lV2lkdGg7aWYoZHJhZy5yaWdpZCl7bWluaW11bUZyYW1lV2lkdGg9c2VsZi5mcmFtZUJlZm9yZURyYWdbMV0tc2VsZi5mcmFtZUJlZm9yZURyYWdbMF19aWYoZHJhZy5sZWZ0KXtmcmFtZUFmdGVyRHJhZ1swXT1NYXRoLm1heChmcmFtZUFmdGVyRHJhZ1swXStkaXN0YW5jZVRyYXZlbGVkLDApfWlmKGRyYWcucmlnaHQpe2ZyYW1lQWZ0ZXJEcmFnWzFdPU1hdGgubWluKGZyYW1lQWZ0ZXJEcmFnWzFdK2Rpc3RhbmNlVHJhdmVsZWQsc2VsZi5wcmV2aWV3V2lkdGgpfXZhciBjdXJyZW50RnJhbWVXaWR0aD1mcmFtZUFmdGVyRHJhZ1sxXS1mcmFtZUFmdGVyRHJhZ1swXTtpZihjdXJyZW50RnJhbWVXaWR0aDw9bWluaW11bUZyYW1lV2lkdGgpe2lmKGRyYWcubGVmdCl7ZnJhbWVBZnRlckRyYWdbMF09ZnJhbWVBZnRlckRyYWdbMV0tbWluaW11bUZyYW1lV2lkdGh9aWYoZHJhZy5yaWdodCl7ZnJhbWVBZnRlckRyYWdbMV09ZnJhbWVBZnRlckRyYWdbMF0rbWluaW11bUZyYW1lV2lkdGh9aWYoZnJhbWVBZnRlckRyYWdbMF08PTApe2ZyYW1lQWZ0ZXJEcmFnWzFdLT1mcmFtZUFmdGVyRHJhZ1swXTtmcmFtZUFmdGVyRHJhZ1swXT0wfWlmKGZyYW1lQWZ0ZXJEcmFnWzFdPj1zZWxmLnByZXZpZXdXaWR0aCl7ZnJhbWVBZnRlckRyYWdbMF0tPWZyYW1lQWZ0ZXJEcmFnWzFdLXNlbGYucHJldmlld1dpZHRoO2ZyYW1lQWZ0ZXJEcmFnWzFdPXNlbGYucHJldmlld1dpZHRofX1zZWxmLmdyYXBocy5mb3JFYWNoKGZ1bmN0aW9uKGdyYXBoKXt2YXIgZG9tYWluU2NhbGU9ZDMuc2NhbGUubGluZWFyKCkuaW50ZXJwb2xhdGUoZDMuaW50ZXJwb2xhdGVOdW1iZXIpLmRvbWFpbihbMCxzZWxmLnByZXZpZXdXaWR0aF0pLnJhbmdlKGdyYXBoLmRhdGFEb21haW4oKSk7dmFyIHdpbmRvd0FmdGVyRHJhZz1bZG9tYWluU2NhbGUoZnJhbWVBZnRlckRyYWdbMF0pLGRvbWFpblNjYWxlKGZyYW1lQWZ0ZXJEcmFnWzFdKV07c2VsZi5zbGlkZUNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uKGNhbGxiYWNrKXtjYWxsYmFjayhncmFwaCx3aW5kb3dBZnRlckRyYWdbMF0sd2luZG93QWZ0ZXJEcmFnWzFdKX0pO2lmKGZyYW1lQWZ0ZXJEcmFnWzBdPT09MCl7d2luZG93QWZ0ZXJEcmFnWzBdPXVuZGVmaW5lZH1pZihmcmFtZUFmdGVyRHJhZ1sxXT09PXNlbGYucHJldmlld1dpZHRoKXt3aW5kb3dBZnRlckRyYWdbMV09dW5kZWZpbmVkfWdyYXBoLndpbmRvdy54TWluPXdpbmRvd0FmdGVyRHJhZ1swXTtncmFwaC53aW5kb3cueE1heD13aW5kb3dBZnRlckRyYWdbMV07Z3JhcGgudXBkYXRlKCl9KX1mdW5jdGlvbiBvbk1vdXNlZG93bigpe2RyYWcudGFyZ2V0PWQzLmV2ZW50LnRhcmdldDtkcmFnLnN0YXJ0PXNlbGYuX2dldENsaWVudFhGcm9tRXZlbnQoZDMuZXZlbnQsZHJhZyk7c2VsZi5mcmFtZUJlZm9yZURyYWc9c2VsZi5jdXJyZW50RnJhbWUuc2xpY2UoKTtkMy5ldmVudC5wcmV2ZW50RGVmYXVsdD9kMy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpOmQzLmV2ZW50LnJldHVyblZhbHVlPWZhbHNlO2QzLnNlbGVjdChkb2N1bWVudCkub24oIm1vdXNlbW92ZS5yaWNrc2hhd19yYW5nZV9zbGlkZXJfcHJldmlldyIsb25Nb3VzZW1vdmUpO2QzLnNlbGVjdChkb2N1bWVudCkub24oIm1vdXNldXAucmlja3NoYXdfcmFuZ2Vfc2xpZGVyX3ByZXZpZXciLG9uTW91c2V1cCk7ZDMuc2VsZWN0KGRvY3VtZW50KS5vbigidG91Y2htb3ZlLnJpY2tzaGF3X3JhbmdlX3NsaWRlcl9wcmV2aWV3Iixvbk1vdXNlbW92ZSk7ZDMuc2VsZWN0KGRvY3VtZW50KS5vbigidG91Y2hlbmQucmlja3NoYXdfcmFuZ2Vfc2xpZGVyX3ByZXZpZXciLG9uTW91c2V1cCk7ZDMuc2VsZWN0KGRvY3VtZW50KS5vbigidG91Y2hjYW5jZWwucmlja3NoYXdfcmFuZ2Vfc2xpZGVyX3ByZXZpZXciLG9uTW91c2V1cCl9ZnVuY3Rpb24gb25Nb3VzZWRvd25MZWZ0SGFuZGxlKGRhdHVtLGluZGV4KXtkcmFnLmxlZnQ9dHJ1ZTtvbk1vdXNlZG93bigpfWZ1bmN0aW9uIG9uTW91c2Vkb3duUmlnaHRIYW5kbGUoZGF0dW0saW5kZXgpe2RyYWcucmlnaHQ9dHJ1ZTtvbk1vdXNlZG93bigpfWZ1bmN0aW9uIG9uTW91c2Vkb3duTWlkZGxlSGFuZGxlKGRhdHVtLGluZGV4KXtkcmFnLmxlZnQ9dHJ1ZTtkcmFnLnJpZ2h0PXRydWU7ZHJhZy5yaWdpZD10cnVlO29uTW91c2Vkb3duKCl9ZnVuY3Rpb24gb25Nb3VzZXVwKGRhdHVtLGluZGV4KXtkMy5zZWxlY3QoZG9jdW1lbnQpLm9uKCJtb3VzZW1vdmUucmlja3NoYXdfcmFuZ2Vfc2xpZGVyX3ByZXZpZXciLG51bGwpO2QzLnNlbGVjdChkb2N1bWVudCkub24oIm1vdXNldXAucmlja3NoYXdfcmFuZ2Vfc2xpZGVyX3ByZXZpZXciLG51bGwpO2QzLnNlbGVjdChkb2N1bWVudCkub24oInRvdWNobW92ZS5yaWNrc2hhd19yYW5nZV9zbGlkZXJfcHJldmlldyIsbnVsbCk7ZDMuc2VsZWN0KGRvY3VtZW50KS5vbigidG91Y2hlbmQucmlja3NoYXdfcmFuZ2Vfc2xpZGVyX3ByZXZpZXciLG51bGwpO2QzLnNlbGVjdChkb2N1bWVudCkub24oInRvdWNoY2FuY2VsLnJpY2tzaGF3X3JhbmdlX3NsaWRlcl9wcmV2aWV3IixudWxsKTtkZWxldGUgc2VsZi5mcmFtZUJlZm9yZURyYWc7ZHJhZy5sZWZ0PWZhbHNlO2RyYWcucmlnaHQ9ZmFsc2U7ZHJhZy5yaWdpZD1mYWxzZX1lbGVtZW50LnNlbGVjdCgicmVjdC5sZWZ0X2hhbmRsZSIpLm9uKCJtb3VzZWRvd24iLG9uTW91c2Vkb3duTGVmdEhhbmRsZSk7ZWxlbWVudC5zZWxlY3QoInJlY3QucmlnaHRfaGFuZGxlIikub24oIm1vdXNlZG93biIsb25Nb3VzZWRvd25SaWdodEhhbmRsZSk7ZWxlbWVudC5zZWxlY3QoInJlY3QubWlkZGxlX2hhbmRsZSIpLm9uKCJtb3VzZWRvd24iLG9uTW91c2Vkb3duTWlkZGxlSGFuZGxlKTtlbGVtZW50LnNlbGVjdCgicmVjdC5sZWZ0X2hhbmRsZSIpLm9uKCJ0b3VjaHN0YXJ0Iixvbk1vdXNlZG93bkxlZnRIYW5kbGUpO2VsZW1lbnQuc2VsZWN0KCJyZWN0LnJpZ2h0X2hhbmRsZSIpLm9uKCJ0b3VjaHN0YXJ0Iixvbk1vdXNlZG93blJpZ2h0SGFuZGxlKTtlbGVtZW50LnNlbGVjdCgicmVjdC5taWRkbGVfaGFuZGxlIikub24oInRvdWNoc3RhcnQiLG9uTW91c2Vkb3duTWlkZGxlSGFuZGxlKX0sX2dldENsaWVudFhGcm9tRXZlbnQ6ZnVuY3Rpb24oZXZlbnQsZHJhZyl7c3dpdGNoKGV2ZW50LnR5cGUpe2Nhc2UidG91Y2hzdGFydCI6Y2FzZSJ0b3VjaG1vdmUiOnZhciB0b3VjaExpc3Q9ZXZlbnQuY2hhbmdlZFRvdWNoZXM7dmFyIHRvdWNoPW51bGw7Zm9yKHZhciB0b3VjaEluZGV4PTA7dG91Y2hJbmRleDx0b3VjaExpc3QubGVuZ3RoO3RvdWNoSW5kZXgrKyl7aWYodG91Y2hMaXN0W3RvdWNoSW5kZXhdLnRhcmdldD09PWRyYWcudGFyZ2V0KXt0b3VjaD10b3VjaExpc3RbdG91Y2hJbmRleF07YnJlYWt9fXJldHVybiB0b3VjaCE9PW51bGw\/dG91Y2guY2xpZW50WDp1bmRlZmluZWQ7ZGVmYXVsdDpyZXR1cm4gZXZlbnQuY2xpZW50WH19fSk7Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5HcmFwaC5SZW5kZXJlciIpO1JpY2tzaGF3LkdyYXBoLlJlbmRlcmVyPVJpY2tzaGF3LkNsYXNzLmNyZWF0ZSh7aW5pdGlhbGl6ZTpmdW5jdGlvbihhcmdzKXt0aGlzLmdyYXBoPWFyZ3MuZ3JhcGg7dGhpcy50ZW5zaW9uPWFyZ3MudGVuc2lvbnx8dGhpcy50ZW5zaW9uO3RoaXMuY29uZmlndXJlKGFyZ3MpfSxzZXJpZXNQYXRoRmFjdG9yeTpmdW5jdGlvbigpe30sc2VyaWVzU3Ryb2tlRmFjdG9yeTpmdW5jdGlvbigpe30sZGVmYXVsdHM6ZnVuY3Rpb24oKXtyZXR1cm57dGVuc2lvbjouOCxzdHJva2VXaWR0aDoyLHVuc3RhY2s6dHJ1ZSxwYWRkaW5nOnt0b3A6LjAxLHJpZ2h0OjAsYm90dG9tOi4wMSxsZWZ0OjB9LHN0cm9rZTpmYWxzZSxmaWxsOmZhbHNlfX0sZG9tYWluOmZ1bmN0aW9uKGRhdGEpe3ZhciBzdGFja2VkRGF0YT1kYXRhfHx0aGlzLmdyYXBoLnN0YWNrZWREYXRhfHx0aGlzLmdyYXBoLnN0YWNrRGF0YSgpO3ZhciB4TWluPStJbmZpbml0eTt2YXIgeE1heD0tSW5maW5pdHk7dmFyIHlNaW49K0luZmluaXR5O3ZhciB5TWF4PS1JbmZpbml0eTtzdGFja2VkRGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHNlcmllcyl7c2VyaWVzLmZvckVhY2goZnVuY3Rpb24oZCl7aWYoZC55PT1udWxsKXJldHVybjt2YXIgeT1kLnkrZC55MDtpZih5PHlNaW4peU1pbj15O2lmKHk+eU1heCl5TWF4PXl9KTtpZighc2VyaWVzLmxlbmd0aClyZXR1cm47aWYoc2VyaWVzWzBdLng8eE1pbil4TWluPXNlcmllc1swXS54O2lmKHNlcmllc1tzZXJpZXMubGVuZ3RoLTFdLng+eE1heCl4TWF4PXNlcmllc1tzZXJpZXMubGVuZ3RoLTFdLnh9KTt4TWluLT0oeE1heC14TWluKSp0aGlzLnBhZGRpbmcubGVmdDt4TWF4Kz0oeE1heC14TWluKSp0aGlzLnBhZGRpbmcucmlnaHQ7eU1pbj10aGlzLmdyYXBoLm1pbj09PSJhdXRvIj95TWluOnRoaXMuZ3JhcGgubWlufHwwO3lNYXg9dGhpcy5ncmFwaC5tYXg9PT11bmRlZmluZWQ\/eU1heDp0aGlzLmdyYXBoLm1heDtpZih0aGlzLmdyYXBoLm1pbj09PSJhdXRvInx8eU1pbjwwKXt5TWluLT0oeU1heC15TWluKSp0aGlzLnBhZGRpbmcuYm90dG9tfWlmKHRoaXMuZ3JhcGgubWF4PT09dW5kZWZpbmVkKXt5TWF4Kz0oeU1heC15TWluKSp0aGlzLnBhZGRpbmcudG9wfXJldHVybnt4Olt4TWluLHhNYXhdLHk6W3lNaW4seU1heF19fSxyZW5kZXI6ZnVuY3Rpb24oYXJncyl7YXJncz1hcmdzfHx7fTt2YXIgZ3JhcGg9dGhpcy5ncmFwaDt2YXIgc2VyaWVzPWFyZ3Muc2VyaWVzfHxncmFwaC5zZXJpZXM7dmFyIHZpcz1hcmdzLnZpc3x8Z3JhcGgudmlzO3Zpcy5zZWxlY3RBbGwoIioiKS5yZW1vdmUoKTt2YXIgZGF0YT1zZXJpZXMuZmlsdGVyKGZ1bmN0aW9uKHMpe3JldHVybiFzLmRpc2FibGVkfSkubWFwKGZ1bmN0aW9uKHMpe3JldHVybiBzLnN0YWNrfSk7dmFyIHBhdGhOb2Rlcz12aXMuc2VsZWN0QWxsKCJwYXRoLnBhdGgiKS5kYXRhKGRhdGEpLmVudGVyKCkuYXBwZW5kKCJzdmc6cGF0aCIpLmNsYXNzZWQoInBhdGgiLHRydWUpLmF0dHIoImQiLHRoaXMuc2VyaWVzUGF0aEZhY3RvcnkoKSk7aWYodGhpcy5zdHJva2Upe3ZhciBzdHJva2VOb2Rlcz12aXMuc2VsZWN0QWxsKCJwYXRoLnN0cm9rZSIpLmRhdGEoZGF0YSkuZW50ZXIoKS5hcHBlbmQoInN2ZzpwYXRoIikuY2xhc3NlZCgic3Ryb2tlIix0cnVlKS5hdHRyKCJkIix0aGlzLnNlcmllc1N0cm9rZUZhY3RvcnkoKSl9dmFyIGk9MDtzZXJpZXMuZm9yRWFjaChmdW5jdGlvbihzZXJpZXMpe2lmKHNlcmllcy5kaXNhYmxlZClyZXR1cm47c2VyaWVzLnBhdGg9cGF0aE5vZGVzWzBdW2ldO2lmKHRoaXMuc3Ryb2tlKXNlcmllcy5zdHJva2U9c3Ryb2tlTm9kZXNbMF1baV07dGhpcy5fc3R5bGVTZXJpZXMoc2VyaWVzKTtpKyt9LHRoaXMpfSxfc3R5bGVTZXJpZXM6ZnVuY3Rpb24oc2VyaWVzKXt2YXIgZmlsbD10aGlzLmZpbGw\/c2VyaWVzLmNvbG9yOiJub25lIjt2YXIgc3Ryb2tlPXRoaXMuc3Ryb2tlP3Nlcmllcy5jb2xvcjoibm9uZSI7c2VyaWVzLnBhdGguc2V0QXR0cmlidXRlKCJmaWxsIixmaWxsKTtzZXJpZXMucGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsc3Ryb2tlKTtzZXJpZXMucGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZS13aWR0aCIsdGhpcy5zdHJva2VXaWR0aCk7aWYoc2VyaWVzLmNsYXNzTmFtZSl7ZDMuc2VsZWN0KHNlcmllcy5wYXRoKS5jbGFzc2VkKHNlcmllcy5jbGFzc05hbWUsdHJ1ZSl9aWYoc2VyaWVzLmNsYXNzTmFtZSYmdGhpcy5zdHJva2Upe2QzLnNlbGVjdChzZXJpZXMuc3Ryb2tlKS5jbGFzc2VkKHNlcmllcy5jbGFzc05hbWUsdHJ1ZSl9fSxjb25maWd1cmU6ZnVuY3Rpb24oYXJncyl7YXJncz1hcmdzfHx7fTtSaWNrc2hhdy5rZXlzKHRoaXMuZGVmYXVsdHMoKSkuZm9yRWFjaChmdW5jdGlvbihrZXkpe2lmKCFhcmdzLmhhc093blByb3BlcnR5KGtleSkpe3RoaXNba2V5XT10aGlzW2tleV18fHRoaXMuZ3JhcGhba2V5XXx8dGhpcy5kZWZhdWx0cygpW2tleV07cmV0dXJufWlmKHR5cGVvZiB0aGlzLmRlZmF1bHRzKClba2V5XT09Im9iamVjdCIpe1JpY2tzaGF3LmtleXModGhpcy5kZWZhdWx0cygpW2tleV0pLmZvckVhY2goZnVuY3Rpb24oayl7dGhpc1trZXldW2tdPWFyZ3Nba2V5XVtrXSE9PXVuZGVmaW5lZD9hcmdzW2tleV1ba106dGhpc1trZXldW2tdIT09dW5kZWZpbmVkP3RoaXNba2V5XVtrXTp0aGlzLmRlZmF1bHRzKClba2V5XVtrXX0sdGhpcyl9ZWxzZXt0aGlzW2tleV09YXJnc1trZXldIT09dW5kZWZpbmVkP2FyZ3Nba2V5XTp0aGlzW2tleV0hPT11bmRlZmluZWQ\/dGhpc1trZXldOnRoaXMuZ3JhcGhba2V5XSE9PXVuZGVmaW5lZD90aGlzLmdyYXBoW2tleV06dGhpcy5kZWZhdWx0cygpW2tleV19fSx0aGlzKX0sc2V0U3Ryb2tlV2lkdGg6ZnVuY3Rpb24oc3Ryb2tlV2lkdGgpe2lmKHN0cm9rZVdpZHRoIT09dW5kZWZpbmVkKXt0aGlzLnN0cm9rZVdpZHRoPXN0cm9rZVdpZHRofX0sc2V0VGVuc2lvbjpmdW5jdGlvbih0ZW5zaW9uKXtpZih0ZW5zaW9uIT09dW5kZWZpbmVkKXt0aGlzLnRlbnNpb249dGVuc2lvbn19fSk7Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5HcmFwaC5SZW5kZXJlci5MaW5lIik7Umlja3NoYXcuR3JhcGguUmVuZGVyZXIuTGluZT1SaWNrc2hhdy5DbGFzcy5jcmVhdGUoUmlja3NoYXcuR3JhcGguUmVuZGVyZXIse25hbWU6ImxpbmUiLGRlZmF1bHRzOmZ1bmN0aW9uKCRzdXBlcil7cmV0dXJuIFJpY2tzaGF3LmV4dGVuZCgkc3VwZXIoKSx7dW5zdGFjazp0cnVlLGZpbGw6ZmFsc2Usc3Ryb2tlOnRydWV9KX0sc2VyaWVzUGF0aEZhY3Rvcnk6ZnVuY3Rpb24oKXt2YXIgZ3JhcGg9dGhpcy5ncmFwaDt2YXIgZmFjdG9yeT1kMy5zdmcubGluZSgpLngoZnVuY3Rpb24oZCl7cmV0dXJuIGdyYXBoLngoZC54KX0pLnkoZnVuY3Rpb24oZCl7cmV0dXJuIGdyYXBoLnkoZC55KX0pLmludGVycG9sYXRlKHRoaXMuZ3JhcGguaW50ZXJwb2xhdGlvbikudGVuc2lvbih0aGlzLnRlbnNpb24pO2ZhY3RvcnkuZGVmaW5lZCYmZmFjdG9yeS5kZWZpbmVkKGZ1bmN0aW9uKGQpe3JldHVybiBkLnkhPT1udWxsfSk7cmV0dXJuIGZhY3Rvcnl9fSk7Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5HcmFwaC5SZW5kZXJlci5TdGFjayIpO1JpY2tzaGF3LkdyYXBoLlJlbmRlcmVyLlN0YWNrPVJpY2tzaGF3LkNsYXNzLmNyZWF0ZShSaWNrc2hhdy5HcmFwaC5SZW5kZXJlcix7bmFtZToic3RhY2siLGRlZmF1bHRzOmZ1bmN0aW9uKCRzdXBlcil7cmV0dXJuIFJpY2tzaGF3LmV4dGVuZCgkc3VwZXIoKSx7ZmlsbDp0cnVlLHN0cm9rZTpmYWxzZSx1bnN0YWNrOmZhbHNlfSl9LHNlcmllc1BhdGhGYWN0b3J5OmZ1bmN0aW9uKCl7dmFyIGdyYXBoPXRoaXMuZ3JhcGg7dmFyIGZhY3Rvcnk9ZDMuc3ZnLmFyZWEoKS54KGZ1bmN0aW9uKGQpe3JldHVybiBncmFwaC54KGQueCl9KS55MChmdW5jdGlvbihkKXtyZXR1cm4gZ3JhcGgueShkLnkwKX0pLnkxKGZ1bmN0aW9uKGQpe3JldHVybiBncmFwaC55KGQueStkLnkwKX0pLmludGVycG9sYXRlKHRoaXMuZ3JhcGguaW50ZXJwb2xhdGlvbikudGVuc2lvbih0aGlzLnRlbnNpb24pO2ZhY3RvcnkuZGVmaW5lZCYmZmFjdG9yeS5kZWZpbmVkKGZ1bmN0aW9uKGQpe3JldHVybiBkLnkhPT1udWxsfSk7cmV0dXJuIGZhY3Rvcnl9fSk7Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5HcmFwaC5SZW5kZXJlci5CYXIiKTtSaWNrc2hhdy5HcmFwaC5SZW5kZXJlci5CYXI9Umlja3NoYXcuQ2xhc3MuY3JlYXRlKFJpY2tzaGF3LkdyYXBoLlJlbmRlcmVyLHtuYW1lOiJiYXIiLGRlZmF1bHRzOmZ1bmN0aW9uKCRzdXBlcil7dmFyIGRlZmF1bHRzPVJpY2tzaGF3LmV4dGVuZCgkc3VwZXIoKSx7Z2FwU2l6ZTouMDUsdW5zdGFjazpmYWxzZX0pO2RlbGV0ZSBkZWZhdWx0cy50ZW5zaW9uO3JldHVybiBkZWZhdWx0c30saW5pdGlhbGl6ZTpmdW5jdGlvbigkc3VwZXIsYXJncyl7YXJncz1hcmdzfHx7fTt0aGlzLmdhcFNpemU9YXJncy5nYXBTaXplfHx0aGlzLmdhcFNpemU7JHN1cGVyKGFyZ3MpfSxkb21haW46ZnVuY3Rpb24oJHN1cGVyKXt2YXIgZG9tYWluPSRzdXBlcigpO3ZhciBmcmVxdWVudEludGVydmFsPXRoaXMuX2ZyZXF1ZW50SW50ZXJ2YWwodGhpcy5ncmFwaC5zdGFja2VkRGF0YS5zbGljZSgtMSkuc2hpZnQoKSk7ZG9tYWluLnhbMV0rPU51bWJlcihmcmVxdWVudEludGVydmFsLm1hZ25pdHVkZSk7cmV0dXJuIGRvbWFpbn0sYmFyV2lkdGg6ZnVuY3Rpb24oc2VyaWVzKXt2YXIgZnJlcXVlbnRJbnRlcnZhbD10aGlzLl9mcmVxdWVudEludGVydmFsKHNlcmllcy5zdGFjayk7dmFyIGJhcldpZHRoPXRoaXMuZ3JhcGgueC5tYWduaXR1ZGUoZnJlcXVlbnRJbnRlcnZhbC5tYWduaXR1ZGUpKigxLXRoaXMuZ2FwU2l6ZSk7cmV0dXJuIGJhcldpZHRofSxyZW5kZXI6ZnVuY3Rpb24oYXJncyl7YXJncz1hcmdzfHx7fTt2YXIgZ3JhcGg9dGhpcy5ncmFwaDt2YXIgc2VyaWVzPWFyZ3Muc2VyaWVzfHxncmFwaC5zZXJpZXM7dmFyIHZpcz1hcmdzLnZpc3x8Z3JhcGgudmlzO3Zpcy5zZWxlY3RBbGwoIioiKS5yZW1vdmUoKTt2YXIgYmFyV2lkdGg9dGhpcy5iYXJXaWR0aChzZXJpZXMuYWN0aXZlKClbMF0pO3ZhciBiYXJYT2Zmc2V0PTA7dmFyIGFjdGl2ZVNlcmllc0NvdW50PXNlcmllcy5maWx0ZXIoZnVuY3Rpb24ocyl7cmV0dXJuIXMuZGlzYWJsZWR9KS5sZW5ndGg7dmFyIHNlcmllc0JhcldpZHRoPXRoaXMudW5zdGFjaz9iYXJXaWR0aC9hY3RpdmVTZXJpZXNDb3VudDpiYXJXaWR0aDt2YXIgdHJhbnNmb3JtPWZ1bmN0aW9uKGQpe3ZhciBtYXRyaXg9WzEsMCwwLGQueTwwPy0xOjEsMCxkLnk8MD9ncmFwaC55Lm1hZ25pdHVkZShNYXRoLmFicyhkLnkpKSoyOjBdO3JldHVybiJtYXRyaXgoIittYXRyaXguam9pbigiLCIpKyIpIn07c2VyaWVzLmZvckVhY2goZnVuY3Rpb24oc2VyaWVzKXtpZihzZXJpZXMuZGlzYWJsZWQpcmV0dXJuO3ZhciBiYXJXaWR0aD10aGlzLmJhcldpZHRoKHNlcmllcyk7dmFyIG5vZGVzPXZpcy5zZWxlY3RBbGwoInBhdGgiKS5kYXRhKHNlcmllcy5zdGFjay5maWx0ZXIoZnVuY3Rpb24oZCl7cmV0dXJuIGQueSE9PW51bGx9KSkuZW50ZXIoKS5hcHBlbmQoInN2ZzpyZWN0IikuYXR0cigieCIsZnVuY3Rpb24oZCl7cmV0dXJuIGdyYXBoLngoZC54KStiYXJYT2Zmc2V0fSkuYXR0cigieSIsZnVuY3Rpb24oZCl7cmV0dXJuIGdyYXBoLnkoZC55MCtNYXRoLmFicyhkLnkpKSooZC55PDA\/LTE6MSl9KS5hdHRyKCJ3aWR0aCIsc2VyaWVzQmFyV2lkdGgpLmF0dHIoImhlaWdodCIsZnVuY3Rpb24oZCl7cmV0dXJuIGdyYXBoLnkubWFnbml0dWRlKE1hdGguYWJzKGQueSkpfSkuYXR0cigidHJhbnNmb3JtIix0cmFuc2Zvcm0pO0FycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobm9kZXNbMF0sZnVuY3Rpb24obil7bi5zZXRBdHRyaWJ1dGUoImZpbGwiLHNlcmllcy5jb2xvcil9KTtpZih0aGlzLnVuc3RhY2spYmFyWE9mZnNldCs9c2VyaWVzQmFyV2lkdGh9LHRoaXMpfSxfZnJlcXVlbnRJbnRlcnZhbDpmdW5jdGlvbihkYXRhKXt2YXIgaW50ZXJ2YWxDb3VudHM9e307Zm9yKHZhciBpPTA7aTxkYXRhLmxlbmd0aC0xO2krKyl7dmFyIGludGVydmFsPWRhdGFbaSsxXS54LWRhdGFbaV0ueDtpbnRlcnZhbENvdW50c1tpbnRlcnZhbF09aW50ZXJ2YWxDb3VudHNbaW50ZXJ2YWxdfHwwO2ludGVydmFsQ291bnRzW2ludGVydmFsXSsrfXZhciBmcmVxdWVudEludGVydmFsPXtjb3VudDowLG1hZ25pdHVkZToxfTtSaWNrc2hhdy5rZXlzKGludGVydmFsQ291bnRzKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2lmKGZyZXF1ZW50SW50ZXJ2YWwuY291bnQ8aW50ZXJ2YWxDb3VudHNbaV0pe2ZyZXF1ZW50SW50ZXJ2YWw9e2NvdW50OmludGVydmFsQ291bnRzW2ldLG1hZ25pdHVkZTppfX19KTtyZXR1cm4gZnJlcXVlbnRJbnRlcnZhbH19KTtSaWNrc2hhdy5uYW1lc3BhY2UoIlJpY2tzaGF3LkdyYXBoLlJlbmRlcmVyLkFyZWEiKTtSaWNrc2hhdy5HcmFwaC5SZW5kZXJlci5BcmVhPVJpY2tzaGF3LkNsYXNzLmNyZWF0ZShSaWNrc2hhdy5HcmFwaC5SZW5kZXJlcix7bmFtZToiYXJlYSIsZGVmYXVsdHM6ZnVuY3Rpb24oJHN1cGVyKXtyZXR1cm4gUmlja3NoYXcuZXh0ZW5kKCRzdXBlcigpLHt1bnN0YWNrOmZhbHNlLGZpbGw6ZmFsc2Usc3Ryb2tlOmZhbHNlfSl9LHNlcmllc1BhdGhGYWN0b3J5OmZ1bmN0aW9uKCl7dmFyIGdyYXBoPXRoaXMuZ3JhcGg7dmFyIGZhY3Rvcnk9ZDMuc3ZnLmFyZWEoKS54KGZ1bmN0aW9uKGQpe3JldHVybiBncmFwaC54KGQueCl9KS55MChmdW5jdGlvbihkKXtyZXR1cm4gZ3JhcGgueShkLnkwKX0pLnkxKGZ1bmN0aW9uKGQpe3JldHVybiBncmFwaC55KGQueStkLnkwKX0pLmludGVycG9sYXRlKGdyYXBoLmludGVycG9sYXRpb24pLnRlbnNpb24odGhpcy50ZW5zaW9uKTsKZmFjdG9yeS5kZWZpbmVkJiZmYWN0b3J5LmRlZmluZWQoZnVuY3Rpb24oZCl7cmV0dXJuIGQueSE9PW51bGx9KTtyZXR1cm4gZmFjdG9yeX0sc2VyaWVzU3Ryb2tlRmFjdG9yeTpmdW5jdGlvbigpe3ZhciBncmFwaD10aGlzLmdyYXBoO3ZhciBmYWN0b3J5PWQzLnN2Zy5saW5lKCkueChmdW5jdGlvbihkKXtyZXR1cm4gZ3JhcGgueChkLngpfSkueShmdW5jdGlvbihkKXtyZXR1cm4gZ3JhcGgueShkLnkrZC55MCl9KS5pbnRlcnBvbGF0ZShncmFwaC5pbnRlcnBvbGF0aW9uKS50ZW5zaW9uKHRoaXMudGVuc2lvbik7ZmFjdG9yeS5kZWZpbmVkJiZmYWN0b3J5LmRlZmluZWQoZnVuY3Rpb24oZCl7cmV0dXJuIGQueSE9PW51bGx9KTtyZXR1cm4gZmFjdG9yeX0scmVuZGVyOmZ1bmN0aW9uKGFyZ3Mpe2FyZ3M9YXJnc3x8e307dmFyIGdyYXBoPXRoaXMuZ3JhcGg7dmFyIHNlcmllcz1hcmdzLnNlcmllc3x8Z3JhcGguc2VyaWVzO3ZhciB2aXM9YXJncy52aXN8fGdyYXBoLnZpczt2aXMuc2VsZWN0QWxsKCIqIikucmVtb3ZlKCk7dmFyIG1ldGhvZD10aGlzLnVuc3RhY2s\/ImFwcGVuZCI6Imluc2VydCI7dmFyIGRhdGE9c2VyaWVzLmZpbHRlcihmdW5jdGlvbihzKXtyZXR1cm4hcy5kaXNhYmxlZH0pLm1hcChmdW5jdGlvbihzKXtyZXR1cm4gcy5zdGFja30pO3ZhciBub2Rlcz12aXMuc2VsZWN0QWxsKCJwYXRoIikuZGF0YShkYXRhKS5lbnRlcigpW21ldGhvZF0oInN2ZzpnIiwiZyIpO25vZGVzLmFwcGVuZCgic3ZnOnBhdGgiKS5hdHRyKCJkIix0aGlzLnNlcmllc1BhdGhGYWN0b3J5KCkpLmF0dHIoImNsYXNzIiwiYXJlYSIpO2lmKHRoaXMuc3Ryb2tlKXtub2Rlcy5hcHBlbmQoInN2ZzpwYXRoIikuYXR0cigiZCIsdGhpcy5zZXJpZXNTdHJva2VGYWN0b3J5KCkpLmF0dHIoImNsYXNzIiwibGluZSIpfXZhciBpPTA7c2VyaWVzLmZvckVhY2goZnVuY3Rpb24oc2VyaWVzKXtpZihzZXJpZXMuZGlzYWJsZWQpcmV0dXJuO3Nlcmllcy5wYXRoPW5vZGVzWzBdW2krK107dGhpcy5fc3R5bGVTZXJpZXMoc2VyaWVzKX0sdGhpcyl9LF9zdHlsZVNlcmllczpmdW5jdGlvbihzZXJpZXMpe2lmKCFzZXJpZXMucGF0aClyZXR1cm47ZDMuc2VsZWN0KHNlcmllcy5wYXRoKS5zZWxlY3QoIi5hcmVhIikuYXR0cigiZmlsbCIsc2VyaWVzLmNvbG9yKTtpZih0aGlzLnN0cm9rZSl7ZDMuc2VsZWN0KHNlcmllcy5wYXRoKS5zZWxlY3QoIi5saW5lIikuYXR0cigiZmlsbCIsIm5vbmUiKS5hdHRyKCJzdHJva2UiLHNlcmllcy5zdHJva2V8fGQzLmludGVycG9sYXRlUmdiKHNlcmllcy5jb2xvciwiYmxhY2siKSguMTI1KSkuYXR0cigic3Ryb2tlLXdpZHRoIix0aGlzLnN0cm9rZVdpZHRoKX1pZihzZXJpZXMuY2xhc3NOYW1lKXtzZXJpZXMucGF0aC5zZXRBdHRyaWJ1dGUoImNsYXNzIixzZXJpZXMuY2xhc3NOYW1lKX19fSk7Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5HcmFwaC5SZW5kZXJlci5TY2F0dGVyUGxvdCIpO1JpY2tzaGF3LkdyYXBoLlJlbmRlcmVyLlNjYXR0ZXJQbG90PVJpY2tzaGF3LkNsYXNzLmNyZWF0ZShSaWNrc2hhdy5HcmFwaC5SZW5kZXJlcix7bmFtZToic2NhdHRlcnBsb3QiLGRlZmF1bHRzOmZ1bmN0aW9uKCRzdXBlcil7cmV0dXJuIFJpY2tzaGF3LmV4dGVuZCgkc3VwZXIoKSx7dW5zdGFjazp0cnVlLGZpbGw6dHJ1ZSxzdHJva2U6ZmFsc2UscGFkZGluZzp7dG9wOi4wMSxyaWdodDouMDEsYm90dG9tOi4wMSxsZWZ0Oi4wMX0sZG90U2l6ZTo0fSl9LGluaXRpYWxpemU6ZnVuY3Rpb24oJHN1cGVyLGFyZ3MpeyRzdXBlcihhcmdzKX0scmVuZGVyOmZ1bmN0aW9uKGFyZ3Mpe2FyZ3M9YXJnc3x8e307dmFyIGdyYXBoPXRoaXMuZ3JhcGg7dmFyIHNlcmllcz1hcmdzLnNlcmllc3x8Z3JhcGguc2VyaWVzO3ZhciB2aXM9YXJncy52aXN8fGdyYXBoLnZpczt2YXIgZG90U2l6ZT10aGlzLmRvdFNpemU7dmlzLnNlbGVjdEFsbCgiKiIpLnJlbW92ZSgpO3Nlcmllcy5mb3JFYWNoKGZ1bmN0aW9uKHNlcmllcyl7aWYoc2VyaWVzLmRpc2FibGVkKXJldHVybjt2YXIgbm9kZXM9dmlzLnNlbGVjdEFsbCgicGF0aCIpLmRhdGEoc2VyaWVzLnN0YWNrLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm4gZC55IT09bnVsbH0pKS5lbnRlcigpLmFwcGVuZCgic3ZnOmNpcmNsZSIpLmF0dHIoImN4IixmdW5jdGlvbihkKXtyZXR1cm4gZ3JhcGgueChkLngpfSkuYXR0cigiY3kiLGZ1bmN0aW9uKGQpe3JldHVybiBncmFwaC55KGQueSl9KS5hdHRyKCJyIixmdW5jdGlvbihkKXtyZXR1cm4iciJpbiBkP2Qucjpkb3RTaXplfSk7aWYoc2VyaWVzLmNsYXNzTmFtZSl7bm9kZXMuY2xhc3NlZChzZXJpZXMuY2xhc3NOYW1lLHRydWUpfUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobm9kZXNbMF0sZnVuY3Rpb24obil7bi5zZXRBdHRyaWJ1dGUoImZpbGwiLHNlcmllcy5jb2xvcil9KX0sdGhpcyl9fSk7Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5HcmFwaC5SZW5kZXJlci5NdWx0aSIpO1JpY2tzaGF3LkdyYXBoLlJlbmRlcmVyLk11bHRpPVJpY2tzaGF3LkNsYXNzLmNyZWF0ZShSaWNrc2hhdy5HcmFwaC5SZW5kZXJlcix7bmFtZToibXVsdGkiLGluaXRpYWxpemU6ZnVuY3Rpb24oJHN1cGVyLGFyZ3MpeyRzdXBlcihhcmdzKX0sZGVmYXVsdHM6ZnVuY3Rpb24oJHN1cGVyKXtyZXR1cm4gUmlja3NoYXcuZXh0ZW5kKCRzdXBlcigpLHt1bnN0YWNrOnRydWUsZmlsbDpmYWxzZSxzdHJva2U6dHJ1ZX0pfSxjb25maWd1cmU6ZnVuY3Rpb24oJHN1cGVyLGFyZ3Mpe2FyZ3M9YXJnc3x8e307dGhpcy5jb25maWc9YXJnczskc3VwZXIoYXJncyl9LGRvbWFpbjpmdW5jdGlvbigkc3VwZXIpe3RoaXMuZ3JhcGguc3RhY2tEYXRhKCk7dmFyIGRvbWFpbnM9W107dmFyIGdyb3Vwcz10aGlzLl9ncm91cHMoKTt0aGlzLl9zdGFjayhncm91cHMpO2dyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uKGdyb3VwKXt2YXIgZGF0YT1ncm91cC5zZXJpZXMuZmlsdGVyKGZ1bmN0aW9uKHMpe3JldHVybiFzLmRpc2FibGVkfSkubWFwKGZ1bmN0aW9uKHMpe3JldHVybiBzLnN0YWNrfSk7aWYoIWRhdGEubGVuZ3RoKXJldHVybjt2YXIgZG9tYWluPW51bGw7aWYoZ3JvdXAucmVuZGVyZXImJmdyb3VwLnJlbmRlcmVyLmRvbWFpbil7ZG9tYWluPWdyb3VwLnJlbmRlcmVyLmRvbWFpbihkYXRhKX1lbHNle2RvbWFpbj0kc3VwZXIoZGF0YSl9ZG9tYWlucy5wdXNoKGRvbWFpbil9KTt2YXIgeE1pbj1kMy5taW4oZG9tYWlucy5tYXAoZnVuY3Rpb24oZCl7cmV0dXJuIGQueFswXX0pKTt2YXIgeE1heD1kMy5tYXgoZG9tYWlucy5tYXAoZnVuY3Rpb24oZCl7cmV0dXJuIGQueFsxXX0pKTt2YXIgeU1pbj1kMy5taW4oZG9tYWlucy5tYXAoZnVuY3Rpb24oZCl7cmV0dXJuIGQueVswXX0pKTt2YXIgeU1heD1kMy5tYXgoZG9tYWlucy5tYXAoZnVuY3Rpb24oZCl7cmV0dXJuIGQueVsxXX0pKTtyZXR1cm57eDpbeE1pbix4TWF4XSx5Olt5TWluLHlNYXhdfX0sX2dyb3VwczpmdW5jdGlvbigpe3ZhciBncmFwaD10aGlzLmdyYXBoO3ZhciByZW5kZXJHcm91cHM9e307Z3JhcGguc2VyaWVzLmZvckVhY2goZnVuY3Rpb24oc2VyaWVzKXtpZihzZXJpZXMuZGlzYWJsZWQpcmV0dXJuO2lmKCFyZW5kZXJHcm91cHNbc2VyaWVzLnJlbmRlcmVyXSl7dmFyIG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI7dmFyIHZpcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsImciKTtncmFwaC52aXNbMF1bMF0uYXBwZW5kQ2hpbGQodmlzKTt2YXIgcmVuZGVyZXI9Z3JhcGguX3JlbmRlcmVyc1tzZXJpZXMucmVuZGVyZXJdO3ZhciBjb25maWc9e307dmFyIGRlZmF1bHRzPVt0aGlzLmRlZmF1bHRzKCkscmVuZGVyZXIuZGVmYXVsdHMoKSx0aGlzLmNvbmZpZyx0aGlzLmdyYXBoXTtkZWZhdWx0cy5mb3JFYWNoKGZ1bmN0aW9uKGQpe1JpY2tzaGF3LmV4dGVuZChjb25maWcsZCl9KTtyZW5kZXJlci5jb25maWd1cmUoY29uZmlnKTtyZW5kZXJHcm91cHNbc2VyaWVzLnJlbmRlcmVyXT17cmVuZGVyZXI6cmVuZGVyZXIsc2VyaWVzOltdLHZpczpkMy5zZWxlY3QodmlzKX19cmVuZGVyR3JvdXBzW3Nlcmllcy5yZW5kZXJlcl0uc2VyaWVzLnB1c2goc2VyaWVzKX0sdGhpcyk7dmFyIGdyb3Vwcz1bXTtPYmplY3Qua2V5cyhyZW5kZXJHcm91cHMpLmZvckVhY2goZnVuY3Rpb24oa2V5KXt2YXIgZ3JvdXA9cmVuZGVyR3JvdXBzW2tleV07Z3JvdXBzLnB1c2goZ3JvdXApfSk7cmV0dXJuIGdyb3Vwc30sX3N0YWNrOmZ1bmN0aW9uKGdyb3Vwcyl7Z3JvdXBzLmZvckVhY2goZnVuY3Rpb24oZ3JvdXApe3ZhciBzZXJpZXM9Z3JvdXAuc2VyaWVzLmZpbHRlcihmdW5jdGlvbihzZXJpZXMpe3JldHVybiFzZXJpZXMuZGlzYWJsZWR9KTt2YXIgZGF0YT1zZXJpZXMubWFwKGZ1bmN0aW9uKHNlcmllcyl7cmV0dXJuIHNlcmllcy5zdGFja30pO2lmKCFncm91cC5yZW5kZXJlci51bnN0YWNrKXt2YXIgbGF5b3V0PWQzLmxheW91dC5zdGFjaygpO3ZhciBzdGFja2VkRGF0YT1SaWNrc2hhdy5jbG9uZShsYXlvdXQoZGF0YSkpO3Nlcmllcy5mb3JFYWNoKGZ1bmN0aW9uKHNlcmllcyxpbmRleCl7c2VyaWVzLl9zdGFjaz1SaWNrc2hhdy5jbG9uZShzdGFja2VkRGF0YVtpbmRleF0pfSl9fSx0aGlzKTtyZXR1cm4gZ3JvdXBzfSxyZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLmdyYXBoLnNlcmllcy5mb3JFYWNoKGZ1bmN0aW9uKHNlcmllcyl7aWYoIXNlcmllcy5yZW5kZXJlcil7dGhyb3cgbmV3IEVycm9yKCJFYWNoIHNlcmllcyBuZWVkcyBhIHJlbmRlcmVyIGZvciBncmFwaCAnbXVsdGknIHJlbmRlcmVyIil9fSk7dGhpcy5ncmFwaC52aXMuc2VsZWN0QWxsKCIqIikucmVtb3ZlKCk7dmFyIGdyb3Vwcz10aGlzLl9ncm91cHMoKTtncm91cHM9dGhpcy5fc3RhY2soZ3JvdXBzKTtncm91cHMuZm9yRWFjaChmdW5jdGlvbihncm91cCl7dmFyIHNlcmllcz1ncm91cC5zZXJpZXMuZmlsdGVyKGZ1bmN0aW9uKHNlcmllcyl7cmV0dXJuIXNlcmllcy5kaXNhYmxlZH0pO3Nlcmllcy5hY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gc2VyaWVzfTtncm91cC5yZW5kZXJlci5yZW5kZXIoe3NlcmllczpzZXJpZXMsdmlzOmdyb3VwLnZpc30pO3Nlcmllcy5mb3JFYWNoKGZ1bmN0aW9uKHMpe3Muc3RhY2s9cy5fc3RhY2t8fHMuc3RhY2t8fHMuZGF0YX0pfSl9fSk7Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5HcmFwaC5SZW5kZXJlci5MaW5lUGxvdCIpO1JpY2tzaGF3LkdyYXBoLlJlbmRlcmVyLkxpbmVQbG90PVJpY2tzaGF3LkNsYXNzLmNyZWF0ZShSaWNrc2hhdy5HcmFwaC5SZW5kZXJlcix7bmFtZToibGluZXBsb3QiLGRlZmF1bHRzOmZ1bmN0aW9uKCRzdXBlcil7cmV0dXJuIFJpY2tzaGF3LmV4dGVuZCgkc3VwZXIoKSx7dW5zdGFjazp0cnVlLGZpbGw6ZmFsc2Usc3Ryb2tlOnRydWUscGFkZGluZzp7dG9wOi4wMSxyaWdodDouMDEsYm90dG9tOi4wMSxsZWZ0Oi4wMX0sZG90U2l6ZTozLHN0cm9rZVdpZHRoOjJ9KX0sc2VyaWVzUGF0aEZhY3Rvcnk6ZnVuY3Rpb24oKXt2YXIgZ3JhcGg9dGhpcy5ncmFwaDt2YXIgZmFjdG9yeT1kMy5zdmcubGluZSgpLngoZnVuY3Rpb24oZCl7cmV0dXJuIGdyYXBoLngoZC54KX0pLnkoZnVuY3Rpb24oZCl7cmV0dXJuIGdyYXBoLnkoZC55KX0pLmludGVycG9sYXRlKHRoaXMuZ3JhcGguaW50ZXJwb2xhdGlvbikudGVuc2lvbih0aGlzLnRlbnNpb24pO2ZhY3RvcnkuZGVmaW5lZCYmZmFjdG9yeS5kZWZpbmVkKGZ1bmN0aW9uKGQpe3JldHVybiBkLnkhPT1udWxsfSk7cmV0dXJuIGZhY3Rvcnl9LHJlbmRlcjpmdW5jdGlvbihhcmdzKXthcmdzPWFyZ3N8fHt9O3ZhciBncmFwaD10aGlzLmdyYXBoO3ZhciBzZXJpZXM9YXJncy5zZXJpZXN8fGdyYXBoLnNlcmllczt2YXIgdmlzPWFyZ3MudmlzfHxncmFwaC52aXM7dmFyIGRvdFNpemU9dGhpcy5kb3RTaXplO3Zpcy5zZWxlY3RBbGwoIioiKS5yZW1vdmUoKTt2YXIgZGF0YT1zZXJpZXMuZmlsdGVyKGZ1bmN0aW9uKHMpe3JldHVybiFzLmRpc2FibGVkfSkubWFwKGZ1bmN0aW9uKHMpe3JldHVybiBzLnN0YWNrfSk7dmFyIG5vZGVzPXZpcy5zZWxlY3RBbGwoInBhdGgiKS5kYXRhKGRhdGEpLmVudGVyKCkuYXBwZW5kKCJzdmc6cGF0aCIpLmF0dHIoImQiLHRoaXMuc2VyaWVzUGF0aEZhY3RvcnkoKSk7dmFyIGk9MDtzZXJpZXMuZm9yRWFjaChmdW5jdGlvbihzZXJpZXMpe2lmKHNlcmllcy5kaXNhYmxlZClyZXR1cm47c2VyaWVzLnBhdGg9bm9kZXNbMF1baSsrXTt0aGlzLl9zdHlsZVNlcmllcyhzZXJpZXMpfSx0aGlzKTtzZXJpZXMuZm9yRWFjaChmdW5jdGlvbihzZXJpZXMpe2lmKHNlcmllcy5kaXNhYmxlZClyZXR1cm47dmFyIG5vZGVzPXZpcy5zZWxlY3RBbGwoIngiKS5kYXRhKHNlcmllcy5zdGFjay5maWx0ZXIoZnVuY3Rpb24oZCl7cmV0dXJuIGQueSE9PW51bGx9KSkuZW50ZXIoKS5hcHBlbmQoInN2ZzpjaXJjbGUiKS5hdHRyKCJjeCIsZnVuY3Rpb24oZCl7cmV0dXJuIGdyYXBoLngoZC54KX0pLmF0dHIoImN5IixmdW5jdGlvbihkKXtyZXR1cm4gZ3JhcGgueShkLnkpfSkuYXR0cigiciIsZnVuY3Rpb24oZCl7cmV0dXJuInIiaW4gZD9kLnI6ZG90U2l6ZX0pO0FycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobm9kZXNbMF0sZnVuY3Rpb24obil7aWYoIW4pcmV0dXJuO24uc2V0QXR0cmlidXRlKCJkYXRhLWNvbG9yIixzZXJpZXMuY29sb3IpO24uc2V0QXR0cmlidXRlKCJmaWxsIiwid2hpdGUiKTtuLnNldEF0dHJpYnV0ZSgic3Ryb2tlIixzZXJpZXMuY29sb3IpO24uc2V0QXR0cmlidXRlKCJzdHJva2Utd2lkdGgiLHRoaXMuc3Ryb2tlV2lkdGgpfS5iaW5kKHRoaXMpKX0sdGhpcyl9fSk7Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5HcmFwaC5TbW9vdGhlciIpO1JpY2tzaGF3LkdyYXBoLlNtb290aGVyPVJpY2tzaGF3LkNsYXNzLmNyZWF0ZSh7aW5pdGlhbGl6ZTpmdW5jdGlvbihhcmdzKXt0aGlzLmdyYXBoPWFyZ3MuZ3JhcGg7dGhpcy5lbGVtZW50PWFyZ3MuZWxlbWVudDt0aGlzLmFnZ3JlZ2F0aW9uU2NhbGU9MTt0aGlzLmJ1aWxkKCk7dGhpcy5ncmFwaC5zdGFja0RhdGEuaG9va3MuZGF0YS5wdXNoKHtuYW1lOiJzbW9vdGhlciIsb3JkZXJQb3NpdGlvbjo1MCxmOnRoaXMudHJhbnNmb3JtZXIuYmluZCh0aGlzKX0pfSxidWlsZDpmdW5jdGlvbigpe3ZhciBzZWxmPXRoaXM7dmFyICQ9alF1ZXJ5O2lmKHRoaXMuZWxlbWVudCl7JChmdW5jdGlvbigpeyQoc2VsZi5lbGVtZW50KS5zbGlkZXIoe21pbjoxLG1heDoxMDAsc2xpZGU6ZnVuY3Rpb24oZXZlbnQsdWkpe3NlbGYuc2V0U2NhbGUodWkudmFsdWUpO3NlbGYuZ3JhcGgudXBkYXRlKCl9fSl9KX19LHNldFNjYWxlOmZ1bmN0aW9uKHNjYWxlKXtpZihzY2FsZTwxKXt0aHJvdyJzY2FsZSBvdXQgb2YgcmFuZ2U6ICIrc2NhbGV9dGhpcy5hZ2dyZWdhdGlvblNjYWxlPXNjYWxlO3RoaXMuZ3JhcGgudXBkYXRlKCl9LHRyYW5zZm9ybWVyOmZ1bmN0aW9uKGRhdGEpe2lmKHRoaXMuYWdncmVnYXRpb25TY2FsZT09MSlyZXR1cm4gZGF0YTt2YXIgYWdncmVnYXRlZERhdGE9W107ZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHNlcmllc0RhdGEpe3ZhciBhZ2dyZWdhdGVkU2VyaWVzRGF0YT1bXTt3aGlsZShzZXJpZXNEYXRhLmxlbmd0aCl7dmFyIGF2Z1g9MCxhdmdZPTA7dmFyIHNsaWNlPXNlcmllc0RhdGEuc3BsaWNlKDAsdGhpcy5hZ2dyZWdhdGlvblNjYWxlKTtzbGljZS5mb3JFYWNoKGZ1bmN0aW9uKGQpe2F2Z1grPWQueC9zbGljZS5sZW5ndGg7YXZnWSs9ZC55L3NsaWNlLmxlbmd0aH0pO2FnZ3JlZ2F0ZWRTZXJpZXNEYXRhLnB1c2goe3g6YXZnWCx5OmF2Z1l9KX1hZ2dyZWdhdGVkRGF0YS5wdXNoKGFnZ3JlZ2F0ZWRTZXJpZXNEYXRhKX0uYmluZCh0aGlzKSk7cmV0dXJuIGFnZ3JlZ2F0ZWREYXRhfX0pO1JpY2tzaGF3Lm5hbWVzcGFjZSgiUmlja3NoYXcuR3JhcGguU29ja2V0aW8iKTtSaWNrc2hhdy5HcmFwaC5Tb2NrZXRpbz1SaWNrc2hhdy5DbGFzcy5jcmVhdGUoUmlja3NoYXcuR3JhcGguQWpheCx7cmVxdWVzdDpmdW5jdGlvbigpe3ZhciBzb2NrZXQ9aW8uY29ubmVjdCh0aGlzLmRhdGFVUkwpO3ZhciBzZWxmPXRoaXM7c29ja2V0Lm9uKCJyaWNrc2hhdyIsZnVuY3Rpb24oZGF0YSl7c2VsZi5zdWNjZXNzKGRhdGEpfSl9fSk7Umlja3NoYXcubmFtZXNwYWNlKCJSaWNrc2hhdy5TZXJpZXMiKTtSaWNrc2hhdy5TZXJpZXM9Umlja3NoYXcuQ2xhc3MuY3JlYXRlKEFycmF5LHtpbml0aWFsaXplOmZ1bmN0aW9uKGRhdGEscGFsZXR0ZSxvcHRpb25zKXtvcHRpb25zPW9wdGlvbnN8fHt9O3RoaXMucGFsZXR0ZT1uZXcgUmlja3NoYXcuQ29sb3IuUGFsZXR0ZShwYWxldHRlKTt0aGlzLnRpbWVCYXNlPXR5cGVvZiBvcHRpb25zLnRpbWVCYXNlPT09InVuZGVmaW5lZCI\/TWF0aC5mbG9vcigobmV3IERhdGUpLmdldFRpbWUoKS8xZTMpOm9wdGlvbnMudGltZUJhc2U7dmFyIHRpbWVJbnRlcnZhbD10eXBlb2Ygb3B0aW9ucy50aW1lSW50ZXJ2YWw9PSJ1bmRlZmluZWQiPzFlMzpvcHRpb25zLnRpbWVJbnRlcnZhbDt0aGlzLnNldFRpbWVJbnRlcnZhbCh0aW1lSW50ZXJ2YWwpO2lmKGRhdGEmJnR5cGVvZiBkYXRhPT0ib2JqZWN0IiYmQXJyYXkuaXNBcnJheShkYXRhKSl7ZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe3RoaXMuYWRkSXRlbShpdGVtKX0sdGhpcyl9fSxhZGRJdGVtOmZ1bmN0aW9uKGl0ZW0pe2lmKHR5cGVvZiBpdGVtLm5hbWU9PT0idW5kZWZpbmVkIil7dGhyb3ciYWRkSXRlbSgpIG5lZWRzIGEgbmFtZSJ9aXRlbS5jb2xvcj1pdGVtLmNvbG9yfHx0aGlzLnBhbGV0dGUuY29sb3IoaXRlbS5uYW1lKTtpdGVtLmRhdGE9aXRlbS5kYXRhfHxbXTtpZihpdGVtLmRhdGEubGVuZ3RoPT09MCYmdGhpcy5sZW5ndGgmJnRoaXMuZ2V0SW5kZXgoKT4wKXt0aGlzWzBdLmRhdGEuZm9yRWFjaChmdW5jdGlvbihwbG90KXtpdGVtLmRhdGEucHVzaCh7eDpwbG90LngseTowfSl9KX1lbHNlIGlmKGl0ZW0uZGF0YS5sZW5ndGg9PT0wKXtpdGVtLmRhdGEucHVzaCh7eDp0aGlzLnRpbWVCYXNlLSh0aGlzLnRpbWVJbnRlcnZhbHx8MCkseTowfSl9dGhpcy5wdXNoKGl0ZW0pO2lmKHRoaXMubGVnZW5kKXt0aGlzLmxlZ2VuZC5hZGRMaW5lKHRoaXMuaXRlbUJ5TmFtZShpdGVtLm5hbWUpKX19LGFkZERhdGE6ZnVuY3Rpb24oZGF0YSx4KXt2YXIgaW5kZXg9dGhpcy5nZXRJbmRleCgpO1JpY2tzaGF3LmtleXMoZGF0YSkuZm9yRWFjaChmdW5jdGlvbihuYW1lKXtpZighdGhpcy5pdGVtQnlOYW1lKG5hbWUpKXt0aGlzLmFkZEl0ZW0oe25hbWU6bmFtZX0pfX0sdGhpcyk7dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe2l0ZW0uZGF0YS5wdXNoKHt4Onh8fChpbmRleCp0aGlzLnRpbWVJbnRlcnZhbHx8MSkrdGhpcy50aW1lQmFzZSx5OmRhdGFbaXRlbS5uYW1lXXx8MH0pfSx0aGlzKX0sZ2V0SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1swXSYmdGhpc1swXS5kYXRhJiZ0aGlzWzBdLmRhdGEubGVuZ3RoP3RoaXNbMF0uZGF0YS5sZW5ndGg6MH0saXRlbUJ5TmFtZTpmdW5jdGlvbihuYW1lKXtmb3IodmFyIGk9MDtpPHRoaXMubGVuZ3RoO2krKyl7aWYodGhpc1tpXS5uYW1lPT1uYW1lKXJldHVybiB0aGlzW2ldfX0sc2V0VGltZUludGVydmFsOmZ1bmN0aW9uKGl2KXt0aGlzLnRpbWVJbnRlcnZhbD1pdi8xZTN9LHNldFRpbWVCYXNlOmZ1bmN0aW9uKHQpe3RoaXMudGltZUJhc2U9dH0sZHVtcDpmdW5jdGlvbigpe3ZhciBkYXRhPXt0aW1lQmFzZTp0aGlzLnRpbWVCYXNlLHRpbWVJbnRlcnZhbDp0aGlzLnRpbWVJbnRlcnZhbCxpdGVtczpbXX07dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe3ZhciBuZXdJdGVtPXtjb2xvcjppdGVtLmNvbG9yLG5hbWU6aXRlbS5uYW1lLGRhdGE6W119O2l0ZW0uZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHBsb3Qpe25ld0l0ZW0uZGF0YS5wdXNoKHt4OnBsb3QueCx5OnBsb3QueX0pfSk7ZGF0YS5pdGVtcy5wdXNoKG5ld0l0ZW0pfSk7cmV0dXJuIGRhdGF9LGxvYWQ6ZnVuY3Rpb24oZGF0YSl7aWYoZGF0YS50aW1lSW50ZXJ2YWwpe3RoaXMudGltZUludGVydmFsPWRhdGEudGltZUludGVydmFsfWlmKGRhdGEudGltZUJhc2Upe3RoaXMudGltZUJhc2U9ZGF0YS50aW1lQmFzZX1pZihkYXRhLml0ZW1zKXtkYXRhLml0ZW1zLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7dGhpcy5wdXNoKGl0ZW0pO2lmKHRoaXMubGVnZW5kKXt0aGlzLmxlZ2VuZC5hZGRMaW5lKHRoaXMuaXRlbUJ5TmFtZShpdGVtLm5hbWUpKX19LHRoaXMpfX19KTtSaWNrc2hhdy5TZXJpZXMuemVyb0ZpbGw9ZnVuY3Rpb24oc2VyaWVzKXtSaWNrc2hhdy5TZXJpZXMuZmlsbChzZXJpZXMsMCl9O1JpY2tzaGF3LlNlcmllcy5maWxsPWZ1bmN0aW9uKHNlcmllcyxmaWxsKXt2YXIgeDt2YXIgaT0wO3ZhciBkYXRhPXNlcmllcy5tYXAoZnVuY3Rpb24ocyl7cmV0dXJuIHMuZGF0YX0pO3doaWxlKGk8TWF0aC5tYXguYXBwbHkobnVsbCxkYXRhLm1hcChmdW5jdGlvbihkKXtyZXR1cm4gZC5sZW5ndGh9KSkpe3g9TWF0aC5taW4uYXBwbHkobnVsbCxkYXRhLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm4gZFtpXX0pLm1hcChmdW5jdGlvbihkKXtyZXR1cm4gZFtpXS54fSkpO2RhdGEuZm9yRWFjaChmdW5jdGlvbihkKXtpZighZFtpXXx8ZFtpXS54IT14KXtkLnNwbGljZShpLDAse3g6eCx5OmZpbGx9KX19KTtpKyt9fTtSaWNrc2hhdy5uYW1lc3BhY2UoIlJpY2tzaGF3LlNlcmllcy5GaXhlZER1cmF0aW9uIik7Umlja3NoYXcuU2VyaWVzLkZpeGVkRHVyYXRpb249Umlja3NoYXcuQ2xhc3MuY3JlYXRlKFJpY2tzaGF3LlNlcmllcyx7aW5pdGlhbGl6ZTpmdW5jdGlvbihkYXRhLHBhbGV0dGUsb3B0aW9ucyl7b3B0aW9ucz1vcHRpb25zfHx7fTtpZih0eXBlb2Ygb3B0aW9ucy50aW1lSW50ZXJ2YWw9PT0idW5kZWZpbmVkIil7dGhyb3cgbmV3IEVycm9yKCJGaXhlZER1cmF0aW9uIHNlcmllcyByZXF1aXJlcyB0aW1lSW50ZXJ2YWwiKX1pZih0eXBlb2Ygb3B0aW9ucy5tYXhEYXRhUG9pbnRzPT09InVuZGVmaW5lZCIpe3Rocm93IG5ldyBFcnJvcigiRml4ZWREdXJhdGlvbiBzZXJpZXMgcmVxdWlyZXMgbWF4RGF0YVBvaW50cyIpfXRoaXMucGFsZXR0ZT1uZXcgUmlja3NoYXcuQ29sb3IuUGFsZXR0ZShwYWxldHRlKTt0aGlzLnRpbWVCYXNlPXR5cGVvZiBvcHRpb25zLnRpbWVCYXNlPT09InVuZGVmaW5lZCI\/TWF0aC5mbG9vcigobmV3IERhdGUpLmdldFRpbWUoKS8xZTMpOm9wdGlvbnMudGltZUJhc2U7dGhpcy5zZXRUaW1lSW50ZXJ2YWwob3B0aW9ucy50aW1lSW50ZXJ2YWwpO2lmKHRoaXNbMF0mJnRoaXNbMF0uZGF0YSYmdGhpc1swXS5kYXRhLmxlbmd0aCl7dGhpcy5jdXJyZW50U2l6ZT10aGlzWzBdLmRhdGEubGVuZ3RoO3RoaXMuY3VycmVudEluZGV4PXRoaXNbMF0uZGF0YS5sZW5ndGh9ZWxzZXt0aGlzLmN1cnJlbnRTaXplPTA7dGhpcy5jdXJyZW50SW5kZXg9MH10aGlzLm1heERhdGFQb2ludHM9b3B0aW9ucy5tYXhEYXRhUG9pbnRzO2lmKGRhdGEmJnR5cGVvZiBkYXRhPT0ib2JqZWN0IiYmQXJyYXkuaXNBcnJheShkYXRhKSl7ZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe3RoaXMuYWRkSXRlbShpdGVtKX0sdGhpcyk7dGhpcy5jdXJyZW50U2l6ZSs9MTt0aGlzLmN1cnJlbnRJbmRleCs9MX10aGlzLnRpbWVCYXNlLT0odGhpcy5tYXhEYXRhUG9pbnRzLXRoaXMuY3VycmVudFNpemUpKnRoaXMudGltZUludGVydmFsO2lmKHR5cGVvZiB0aGlzLm1heERhdGFQb2ludHMhPT0idW5kZWZpbmVkIiYmdGhpcy5jdXJyZW50U2l6ZTx0aGlzLm1heERhdGFQb2ludHMpe2Zvcih2YXIgaT10aGlzLm1heERhdGFQb2ludHMtdGhpcy5jdXJyZW50U2l6ZS0xO2k+MTtpLS0pe3RoaXMuY3VycmVudFNpemUrPTE7dGhpcy5jdXJyZW50SW5kZXgrPTE7dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe2l0ZW0uZGF0YS51bnNoaWZ0KHt4OigoaS0xKSp0aGlzLnRpbWVJbnRlcnZhbHx8MSkrdGhpcy50aW1lQmFzZSx5OjAsaTppfSl9LHRoaXMpfX19LGFkZERhdGE6ZnVuY3Rpb24oJHN1cGVyLGRhdGEseCl7JHN1cGVyKGRhdGEseCk7dGhpcy5jdXJyZW50U2l6ZSs9MTt0aGlzLmN1cnJlbnRJbmRleCs9MTtpZih0aGlzLm1heERhdGFQb2ludHMhPT11bmRlZmluZWQpe3doaWxlKHRoaXMuY3VycmVudFNpemU+dGhpcy5tYXhEYXRhUG9pbnRzKXt0aGlzLmRyb3BEYXRhKCl9fX0sZHJvcERhdGE6ZnVuY3Rpb24oKXt0aGlzLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7aXRlbS5kYXRhLnNwbGljZSgwLDEpfSk7dGhpcy5jdXJyZW50U2l6ZS09MX0sZ2V0SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50SW5kZXh9fSk7cmV0dXJuIFJpY2tzaGF3fSk7",
    "size": "76344"
}