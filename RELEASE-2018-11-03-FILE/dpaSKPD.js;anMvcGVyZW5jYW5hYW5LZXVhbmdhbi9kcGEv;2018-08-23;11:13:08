{
    "namaFile": "js\/perencanaanKeuangan\/dpa\/dpaSKPD.js",
    "lastUpdate": "2018-08-23+11:13:08.13",
    "contentFile": "dmFyIGRwYVNLUERGaWx0ZXJTS1BEID0gbmV3IFNrcGRDbHMoewogIHByZWZpeDogImRwYVNLUEQiLAogIGZvcm1OYW1lOiAiZHBhU0tQREZvcm0iLAoKICBwaWxpaFVydXNhbmZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgLy8gZHBhU0tQRC5yZWZyZXNoTGlzdCh0cnVlKTsKICAgIGRwYVNLUEQuZmlsdGVyUmVuZGVyKCk7CiAgfSwKICBwaWxpaEJpZGFuZ0FmdGVyOiBmdW5jdGlvbigpIHsKICAgIC8vIGRwYVNLUEQucmVmcmVzaExpc3QodHJ1ZSk7CiAgICBkcGFTS1BELmZpbHRlclJlbmRlcigpOwogIH0sCiAgcGlsaWhVbml0QWZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgLy8gZHBhU0tQRC5yZWZyZXNoTGlzdCh0cnVlKTsKICAgIGRwYVNLUEQuZmlsdGVyUmVuZGVyKCk7CiAgfSwKICBwaWxpaFN1YlVuaXRBZnRlcjogZnVuY3Rpb24oKSB7CiAgICAvLyBkcGFTS1BELnJlZnJlc2hMaXN0KHRydWUpOwogICAgZHBhU0tQRC5maWx0ZXJSZW5kZXIoKTsKICB9LAogIHBpbGloU2Vrc2lBZnRlcjogZnVuY3Rpb24oKSB7CiAgICAvLyBkcGFTS1BELnJlZnJlc2hMaXN0KHRydWUpOwogICAgZHBhU0tQRC5maWx0ZXJSZW5kZXIoKTsKICB9Cn0pOwp2YXIgZHBhU0tQRCA9IG5ldyBEYWZ0YXJPYmoyKHsKICBwcmVmaXg6ICJkcGFTS1BEIiwKICB1cmw6ICJwZ0tldS5waHA\/UGc9ZHBhU0tQRCIsCiAgZm9ybU5hbWU6ICJkcGFTS1BERm9ybSIsCiAgZHBhU0tQRF9mb3JtOiAiMCIsIC8vZGVmYXVsdCBqcyBkcGFTS1BECiAgbG9hZGluZzogZnVuY3Rpb24oKSB7CiAgICAvL2FsZXJ0KCdsb2FkaW5nJyk7CiAgICB0aGlzLnRvcEJhclJlbmRlcigpOwogICAgdGhpcy5maWx0ZXJSZW5kZXIoKTsKICAgIHRoaXMuZGFmdGFyUmVuZGVyKCk7CiAgICB0aGlzLnN1bUhhbFJlbmRlcigpOwogIH0sCiAgdG9wQmFyUmVuZGVyOiBmdW5jdGlvbigpewogICAgdmFyIG1lPXRoaXM7CiAgICAvL3JlbmRlciBzdWJ0aXRsZQogICAgJC5hamF4KHsKICAgICAgdXJsOiB0aGlzLnVybCsnJnRpcGU9c3VidGl0bGUnLAogICAgICB0eXBlOidQT1NUJywKICAgICAgZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfdGl0bGUnKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgIG1lLnRvcEJhclJlbmRlckFmdGVyKCkKICAgICAgfQogICAgfSk7CiAgfSwKICAvLyBmaWx0ZXJSZW5kZXJBZnRlcjogZnVuY3Rpb24oKSB7CiAgLy8gICB0aGlzLmRhZnRhclJlbmRlcigpOwogIC8vIH0sCiAgZGV0YWlsOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBlcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7CiAgICBpZiAoZXJybXNnID09ICIiKSB7CiAgICAgIHZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycm1zZyk7CiAgICB9CiAgfSwKICBkYWZ0YXJSZW5kZXI6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsgLy9yZW5kZXIgZGFmdGFyCiAgICBhZGRDb3ZlclBhZ2UyKCJkYWZ0YXJfY292ZXIiLCAxLCB0cnVlLCB0cnVlLCB7CiAgICAgIHJlbmRlclRvOiB0aGlzLnByZWZpeCArICJfY29udF9kYWZ0YXIiLAogICAgICBpbWdzcmM6ICJpbWFnZXMvd2FpdC5naWYiLAogICAgICBzdHlsZTogeyBwb3NpdGlvbjogImFic29sdXRlIiwgdG9wOiAiNSIsIGxlZnQ6ICI1IiB9CiAgICB9KTsKICAgICQuYWpheCh7CiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZGFmdGFyIiwKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCArICJfY29udF9kYWZ0YXIiKS5pbm5lckhUTUwgPQogICAgICAgICAgcmVzcC5jb250ZW50OwogICAgICAgIG1lLnN1bUhhbFJlbmRlcigpOwogICAgICB9CiAgICB9KTsKICB9LAogIEJhcnU6IGZ1bmN0aW9uKCl7CiAgICB2YXIgbWUgPSB0aGlzOwoKICAJCWVycm1zZyA9ICcnOwoKICAJCWlmKCQoIiNmaWx0ZXJVcnVzYW4iKS52YWwoKSA9PSAnMDAnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggVXJ1c2FuIjsKICAJCX1lbHNlIGlmKCQoIiNmaWx0ZXJTS1BEIikudmFsKCkgPT0gJzAwJyl7CiAgCQkJZXJybXNnID0gIlBpbGloIEJpZGFuZyI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyU0tQRCIpLnZhbCgpID09ICcwMCcpewogIAkJCWVycm1zZyA9ICJQaWxpaCBTS1BEIjsKICAJCX1lbHNlIGlmKCQoIiNmaWx0ZXJDb25jYXRQcm9ncmFtIikudmFsKCkgPT0gJycpewogIAkJCWVycm1zZyA9ICJQaWxpaCBQcm9ncmFtIjsKICAJCX1lbHNlIGlmKCQoIiNmaWx0ZXJRIikudmFsKCkgPT0gJycpewogIAkJCWVycm1zZyA9ICJQaWxpaCBLZWdpYXRhbiI7CiAgCQl9CiAgCQlpZihlcnJtc2cgPT0nJyl7CiAgCQkJdmFyIG1lID0gdGhpczsKICAJCQl2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZvcm1OYW1lKTsKICAJCQkkLmFqYXgoewogIAkJCSAgdXJsOiB0aGlzLnVybCsnJnRpcGU9QmFydScsCiAgCQkJICB0eXBlIDogJ1BPU1QnLAogIAkJCSAgZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAJCQkgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKICAJCQkJCWlmKHJlc3AuZXJyID09ICIiKSB7CiAgCQkJCQkJYUZvcm0uYWN0aW9uPSAncGdLZXUucGhwP1BnPWRwYVNLUERJbnMnOwogIAkJCQkJCWFGb3JtLnRhcmdldD0nX2JsYW5rJzsKICAJCQkJCQlhRm9ybS5zdWJtaXQoKTsKICAJCQkJCQlhRm9ybS50YXJnZXQ9Jyc7CiAgCQkJCQl9ZWxzZXsKICAJCQkJCQlhbGVydChyZXNwLmVycik7CiAgCQkJCQl9CiAgCQkJICB9CiAgCQkJfSk7CiAgCQl9ZWxzZXsKICAJCQkJYWxlcnQoZXJybXNnKTsKICAJCX0KCX0sCiAgSW5mbzogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlciI7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9SW5mbyIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OTksIHRydWUsIGZhbHNlKTsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCgogIENhcmk6IGZ1bmN0aW9uKCkgewogICAgcG9wdXBCYXJhbmcua29kZUJhcmFuZyA9ICJrb2RlQmFyYW5nIjsKICAgIHBvcHVwQmFyYW5nLm5hbWFCYXJhbmcgPSAibmFtYUJhcmFuZyI7CiAgICBwb3B1cEJhcmFuZy5zYXR1YW5CYXJhbmcgPSAic2F0dWFuIjsKICAgIHBvcHVwQmFyYW5nLndpbmRvd1Nob3coKTsKICB9LAogIEVkaXQ6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIGVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsKICAgIGlmIChlcnJtc2cgPT0gIiIpIHsKICAgICAgdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOwogICAgICB2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZvcm1OYW1lKTsKICAgICAgJC5hamF4KHsKICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWVkaXRUYWIiLAogICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgICB2YXIgSURyZW5qYSA9IE51bWJlcihyZXNwLmNvbnRlbnQuaWRyZW5qYSk7CiAgICAgICAgICAgIGFGb3JtLmFjdGlvbiA9CiAgICAgICAgICAgICAgInBnS2V1LnBocD9QZz1ya2JtZF8iICsKICAgICAgICAgICAgICByZXNwLmNvbnRlbnQua2VtYW5hICsKICAgICAgICAgICAgICAiJllOPTEmaWQ9IiArCiAgICAgICAgICAgICAgSURyZW5qYTsKICAgICAgICAgICAgYUZvcm0udGFyZ2V0ID0gIl9ibGFuayI7CiAgICAgICAgICAgIGFGb3JtLnN1Ym1pdCgpOwogICAgICAgICAgICBhRm9ybS50YXJnZXQgPSAiIjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoZXJybXNnKTsKICAgIH0KICB9LAogIHJlbW92ZTogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOwogICAgaWYgKGVycm1zZyA9PSAiIikgewogICAgICB2YXIgYm94ID0gdGhpcy5HZXRDYnhDaGVja2VkKCk7CgogICAgICAkLmFqYXgoewogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9cmVtb3ZlIiwKICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgZGF0YTogJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgICBkcGFTS1BELnJlZnJlc2hMaXN0KHRydWUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnJtc2cpOwogICAgfQogIH0sCiAgVmFsaWRhc2k6IGZ1bmN0aW9uKGlkX2FuZ2dhcmFuKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlciI7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICBpZiAobWUuc2F0dWFuX2Zvcm0gPT0gMCkgewogICAgICAvL2JhcnUgZGFyaSBzYXR1YW4KICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMSwgdHJ1ZSwgZmFsc2UpOwogICAgfSBlbHNlIHsKICAgICAgLy9iYXJ1IGRhcmkgYmFyYW5nCiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5OSwgdHJ1ZSwgZmFsc2UpOwogICAgfQogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPVZhbGlkYXNpJmlkX2FuZ2dhcmFuPSIgKyBpZF9hbmdnYXJhbiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICJUYWhhcCBQZW55dXN1bmFuIFRlbGFoIEhhYmlzIikgewogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAoKICBuZXdOb21vclBlbmV0YXBhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlcktCIjsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1uZXdOb21vclBlbmV0YXBhbiIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA1LCB0cnVlLCBmYWxzZSk7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgICAgJCgiI25ld1RhbmdnYWxQZW5ldGFwYW4iKS5kYXRlcGlja2VyKHsKICAgICAgICAgICAgZGF0ZUZvcm1hdDogImRkLW1tLXl5IiwKICAgICAgICAgICAgc2hvd0FuaW06ICJzbGlkZURvd24iLAogICAgICAgICAgICBpbmxpbmU6IHRydWUsCiAgICAgICAgICAgIHNob3dPbjogImJ1dHRvbiIsCiAgICAgICAgICAgIGJ1dHRvbkltYWdlOiAiaW1hZ2VzL2NhbGVuZGFyLmdpZiIsCiAgICAgICAgICAgIGJ1dHRvbkltYWdlT25seTogdHJ1ZSwKICAgICAgICAgICAgY2hhbmdlTW9udGg6IHRydWUsCiAgICAgICAgICAgIGNoYW5nZVllYXI6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIENsb3NlMjogZnVuY3Rpb24oKSB7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyS0IiOwogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKSkgZGVsRWxlbShjb3Zlcik7CiAgICBpZiAodGlwZSA9PSBudWxsKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiYXV0byI7CiAgICB9CiAgfSwKCiAgc2F2ZVRldGFwa2FuUktCTUQ6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHRoaXMuT25FcnJvckNsb3NlID0gZmFsc2U7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybXNpbXBhbiI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAxLCB0cnVlLCBmYWxzZSk7CgogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVUZXRhcGthblJLQk1EIiwKICAgICAgZGF0YTogewogICAgICAgIG5vbW9yOiAkKCIjbm9tb3JQZW5ldGFwYW4iKS52YWwoKSwKICAgICAgICBjMTogJCgiI2MxIikudmFsKCksCiAgICAgICAgYzogJCgiI2MiKS52YWwoKSwKICAgICAgICBkOiAkKCIjZCIpLnZhbCgpLAogICAgICAgIG5vbW9yUGVuZXRhcGFuOiAkKCIjbm9tb3JQZW5ldGFwYW4iKS52YWwoKSwKICAgICAgICB0YW5nZ2FsUGVuZXRhcGFuOiAkKCIjdGFuZ2dhbFBlbmV0YXBhbiIpLnZhbCgpLAogICAgICAgIG5hbWFQZWphYmF0OiAkKCIjbmFtYVBlamFiYXQiKS52YWwoKSwKICAgICAgICBuaXA6ICQoIiNuaXAiKS52YWwoKSwKICAgICAgICBqYWJhdGFuOiAkKCIjamFiYXRhbiIpLnZhbCgpLAogICAgICAgIHN0YXR1c1BlbmdhZGFhbjogJCgiI2NoZWNrQm94UGVuZ2FkYWFuIikuaXMoIjpjaGVja2VkIiksCiAgICAgICAgc3RhdHVzUGVtZWxpaGFyYWFuOiAkKCIjY2hlY2tib3hQZW1lbGloYXJhYW4iKS5pcygiOmNoZWNrZWQiKSwKICAgICAgICBzdGF0dXNQZXJzZWRpYWFuOiAkKCIjY2hlY2tib3hQZXJzZWRpYWFuIikuaXMoIjpjaGVja2VkIikKICAgICAgfSwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICBpZiAocmVzcC5lcnIgIT0gIiIpIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoIlBlbmV0YXBhbiBCZXJoYXNpbCIpOwogICAgICAgICAgbWUuQ2xvc2UoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgc2F2ZU5vbW9yUGVuZXRhcGFuOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlcktCIjsKICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDEsIHRydWUsIGZhbHNlKTsKCiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2F2ZU5vbW9yUGVuZXRhcGFuIiwKICAgICAgZGF0YTogewogICAgICAgIG5vbW9yOiAkKCIjbmV3Tm9tb3JQZW5ldGFwYW4iKS52YWwoKSwKICAgICAgICB0YW5nZ2FsUGVuZXRhcGFuOiAkKCIjbmV3VGFuZ2dhbFBlbmV0YXBhbiIpLnZhbCgpLAogICAgICAgIG5hbWFQZWphYmF0OiAkKCIjbmV3TmFtYVBlamFiYXQiKS52YWwoKSwKICAgICAgICBuaXA6ICQoIiNuZXdOSVAiKS52YWwoKSwKICAgICAgICBqYWJhdGFuOiAkKCIjbmV3SmFiYXRhbiIpLnZhbCgpCiAgICAgIH0sCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgaWYgKHJlc3AuZXJyICE9ICIiKSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCJEYXRhIFRlcnNpbXBhbiIpOwogICAgICAgICAgJCgiI25vbW9yUGVuZXRhcGFuIikuaHRtbChyZXNwLmNvbnRlbnQuY29tYm9Ob21vclBlbmV0YXBhbik7CiAgICAgICAgICBtZS5DbG9zZTIoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCgogIGZvcm1hdEN1cnJlbmN5OiBmdW5jdGlvbihudW0pIHsKICAgIG51bSA9IG51bS50b1N0cmluZygpLnJlcGxhY2UoL1wkfFwsL2csICIiKTsKICAgIGlmIChpc05hTihudW0pKSBudW0gPSAiMCI7CiAgICBzaWduID0gbnVtID09IChudW0gPSBNYXRoLmFicyhudW0pKTsKICAgIG51bSA9IE1hdGguZmxvb3IobnVtICogMTAwICsgMC41MDAwMDAwMDAwMSk7CiAgICBjZW50cyA9IG51bSAlIDEwMDsKICAgIG51bSA9IE1hdGguZmxvb3IobnVtIC8gMTAwKS50b1N0cmluZygpOwogICAgaWYgKGNlbnRzIDwgMTApIGNlbnRzID0gIjAiICsgY2VudHM7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1hdGguZmxvb3IoKG51bS5sZW5ndGggLSAoMSArIGkpKSAvIDMpOyBpKyspCiAgICAgIG51bSA9CiAgICAgICAgbnVtLnN1YnN0cmluZygwLCBudW0ubGVuZ3RoIC0gKDQgKiBpICsgMykpICsKICAgICAgICAiLiIgKwogICAgICAgIG51bS5zdWJzdHJpbmcobnVtLmxlbmd0aCAtICg0ICogaSArIDMpKTsKICAgIHJldHVybiAoc2lnbiA\/ICIiIDogIi0iKSArICIiICsgbnVtOwogIH0sCiAgYmFudHU6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgaWRBbmdrYSA9IGlkLnJlcGxhY2UoIkoiLCAiaiIpOwogICAgdmFyIGFuZ2thID0gJCgiIyIgKyBpZEFuZ2thKS52YWwoKTsKICAgICQoIiNiYW50dSIgKyBpZCkudGV4dChkcGFTS1BELmZvcm1hdEN1cnJlbmN5KGFuZ2thKSk7CiAgfSwKICBMYXBvcmFuOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgZXJyID0gIiI7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyIjsKICAgIGlmIChlcnIgPT0gIiIpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAyLCB0cnVlLCBmYWxzZSk7CiAgICAgICQuYWpheCh7CiAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1MYXBvcmFuIiwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKICAgICAgICAgICAgbWUuQWZ0ZXJGb3JtQmFydShyZXNwKTsKICAgICAgICAgICAgJCgiI3RhbmdnYWxDZXRhayIpLmRhdGVwaWNrZXIoewogICAgICAgICAgICAgIGRhdGVGb3JtYXQ6ICJkZC1tbS15eSIsCiAgICAgICAgICAgICAgc2hvd0FuaW06ICJzbGlkZURvd24iLAogICAgICAgICAgICAgIGlubGluZTogdHJ1ZSwKICAgICAgICAgICAgICBzaG93T246ICJidXR0b24iLAogICAgICAgICAgICAgIGJ1dHRvbkltYWdlOiAiaW1hZ2VzL2NhbGVuZGFyLmdpZiIsCiAgICAgICAgICAgICAgYnV0dG9uSW1hZ2VPbmx5OiB0cnVlLAogICAgICAgICAgICAgIGNoYW5nZU1vbnRoOiB0cnVlLAogICAgICAgICAgICAgIGNoYW5nZVllYXI6IGZhbHNlLAogICAgICAgICAgICAgIHllYXJSYW5nZTogcmVzcC5jb250ZW50LnllYXJSYW5nZSwKICAgICAgICAgICAgICBidXR0b25UZXh0OiAiIiwKICAgICAgICAgICAgICBkZWZhdWx0RGF0ZTogKzAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnIpOwogICAgfQogIH0sCiAgbmV3VGFuZGFUYW5nYW5nYW46IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBlcnIgPSAiIjsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJUYW5kYVRhbmdhbiI7CgogICAgaWYgKGVyciA9PSAiIikgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7CiAgICAgICQuYWpheCh7CiAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5wcmVmaXggKyAiX2Zvcm0iKS5zZXJpYWxpemUoKSwKICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPW5ld1RhbmRhVGFuZ2FuZ2FuIiwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKICAgICAgICAgICAgbWUuQWZ0ZXJGb3JtQmFydShyZXNwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiYXV0byI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycik7CiAgICB9CiAgfSwKICBjbG9zZVRhbmRhVGFuZ2FuRm9ybTogZnVuY3Rpb24oKSB7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyVGFuZGFUYW5nYW4iOwogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKSkgZGVsRWxlbShjb3Zlcik7CiAgICBpZiAodGlwZSA9PSBudWxsKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiYXV0byI7CiAgICB9CiAgfSwKICBwaWxpaFBhbmdrYXQ6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgICQuYWpheCh7CiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9cGlsaWhQYW5na2F0IiwKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAgYzE6ICQoIiNmaWx0ZXJVcnVzYW4iKS52YWwoKSwKICAgICAgICBjOiAkKCIjZmlsdGVyQmlkYW5nIikudmFsKCksCiAgICAgICAgZDogJCgiI2ZpbHRlclNLUEQiKS52YWwoKSwKICAgICAgICBlOiAkKCIjZmlsdGVyVW5pdCIpLnZhbCgpLAogICAgICAgIGUxOiAkKCIjZmlsdGVyU3ViVW5pdCIpLnZhbCgpLAogICAgICAgIGRjMTogJCgiI2RjMSIpLnZhbCgpLAogICAgICAgIGRjOiAkKCIjZGMiKS52YWwoKSwKICAgICAgICBkZDogJCgiI2RkIikudmFsKCksCiAgICAgICAga2F0ZWdvcmk6ICQoIiNrYXRlZ29yaSIpLnZhbCgpLAogICAgICAgIG5hbWFwZWdhd2FpOiAkKCIjbmFtYXBlZ2F3YWkiKS52YWwoKSwKICAgICAgICBuaXBwZWdhd2FpOiAkKCIjbmlwcGVnYXdhaSIpLnZhbCgpLAogICAgICAgIHBhbmdrYXRha2hpcjogJCgiI3BhbmdrYXRha2hpciIpLnZhbCgpLAogICAgICAgIGdvbGFuZ19ha2hpcjogJCgiI2dvbGFuZ19ha2hpciIpLnZhbCgpLAogICAgICAgIGphYmF0YW46ICQoIiNqYWJhdGFuIikudmFsKCksCiAgICAgICAgZXNlbG9uX2FraGlyOiAkKCIjZXNlbG9uX2FraGlyIikudmFsKCkKICAgICAgfSwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnb2xhbmdfYWtoaXIiKS52YWx1ZSA9IHJlc3AuY29udGVudDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBzYXZlTmV3VGFuZGFUYW5nYW46IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHRoaXMuT25FcnJvckNsb3NlID0gZmFsc2U7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICB2YXIgY292ZXIgPSAicmVuamFBc2V0IiArICJfZm9ybXNpbXBhbiI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAxLCB0cnVlLCBmYWxzZSk7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBrYXRlZ29yaTogJCgiI2thdGVnb3JpIikudmFsKCksCiAgICAgICAgbmFtYXBlZ2F3YWk6ICQoIiNuYW1hcGVnYXdhaSIpLnZhbCgpLAogICAgICAgIG5pcHBlZ2F3YWk6ICQoIiNuaXBwZWdhd2FpIikudmFsKCksCiAgICAgICAgcGFuZ2thdGFraGlyOiAkKCIjcGFuZ2thdGFraGlyIikudmFsKCksCiAgICAgICAgZ29sYW5nX2FraGlyOiAkKCIjZ29sYW5nX2FraGlyIikudmFsKCksCiAgICAgICAgamFiYXRhbjogJCgiI2phYmF0YW4iKS52YWwoKSwKICAgICAgICBlc2Vsb25fYWtoaXI6ICQoIiNlc2Vsb25fYWtoaXIiKS52YWwoKQogICAgICB9LAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVOZXdUYW5kYVRhbmdhbiIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlkUGVuYW5kYVRhbmdhbiIpLmlubmVySFRNTCA9CiAgICAgICAgICAgIHJlc3AuY29udGVudC5jb21ib3R0ZDsKICAgICAgICAgIG1lLmNsb3NlVGFuZGFUYW5nYW5Gb3JtKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgdmlld0xhcG9yYW46IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIGVycm1zZyA9ICIiOwogICAgaWYgKGVycm1zZyA9PSAiIikgewogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICB2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCArICJfZm9ybSIpOwogICAgICBhRm9ybS5hY3Rpb24gPSBtZS51cmwgKyAiJnRpcGU9dmlld0xhcG9yYW4iOwogICAgICBhRm9ybS50YXJnZXQgPSAiX2JsYW5rIjsKICAgICAgYUZvcm0uc3VibWl0KCk7CiAgICAgIGFGb3JtLnRhcmdldCA9ICIiOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoZXJybXNnKTsKICAgIH0KICB9LAogIG5vdGljZVN5bmM6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXIiOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPW5vdGljZVN5bmMiLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTk5LCB0cnVlLCBmYWxzZSk7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIGNsb3NlTm90aWNlOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBtZS5TeW5jKCk7CiAgfSwKICBTeW5jOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyTG9hZGluZyI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OTk5LCB0cnVlLCBmYWxzZSk7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6IHsga29kZVNLUEQ6ICQoIiNrb2RlU0tQRCIpLnZhbCgpIH0sCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c3luYyIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBhbGVydCgic3luYyBzdWtzZXMiKTsKICAgICAgICAgIG1lLkNsb3NlKCk7CiAgICAgICAgICBtZS5yZWZyZXNoTGlzdCh0cnVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBlZGl0UmVrZW5pbmc6IGZ1bmN0aW9uKGlkUktBKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlckxvYWRpbmciOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgNSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAgaWRSS0E6IGlkUktBCiAgICAgIH0sCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZWRpdFJla2VuaW5nIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICQoIiNzcGFuRWRpdFJla2VuaW5nIiArIGlkUktBKS5odG1sKHJlc3AuY29udGVudC5pc2lTcGFuUmVrZW5pbmcpOwogICAgICAgICAgJCgiI2FjdGlvblNwYW5SZWtlbmluZyIgKyBpZFJLQSkuaHRtbChyZXNwLmNvbnRlbnQuaXNpQWN0aW9uU3Bhbik7CiAgICAgICAgICAkKCIjc3BhbkVkaXRSZWtlbmluZyIgKyBpZFJLQSkuYXR0cigib25jbGljayIsICIiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBmaW5kUmVrZW5pbmc6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGZpbHRlclJlayA9ICIiOwogICAgcG9wdXBSZWtlbmluZy5lbF9rb2RlX3Jla2VuaW5nID0gImhpZGRlblJla2VuaW5nIiArIGlkOwogICAgcG9wdXBSZWtlbmluZy5lbF9uYW1hX3Jla2VuaW5nID0gInRleHRSZWtlbmluZyIgKyBpZDsKICAgIHBvcHVwUmVrZW5pbmcud2luZG93U2F2ZUFmdGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIHBvcHVwUmVrZW5pbmcuZmlsdGVyQWt1biA9ICJSS0EgLjEiOwogICAgcG9wdXBSZWtlbmluZy53aW5kb3dTaG93KCk7CiAgfSwKICBzYXZlRWRpdFJla2VuaW5nOiBmdW5jdGlvbihpZCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJMb2FkaW5nIjsKICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDUsIHRydWUsIGZhbHNlKTsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YToKICAgICAgICAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpICsKICAgICAgICAiJmlkRWRpdFJrYT0iICsKICAgICAgICBpZCArCiAgICAgICAgIiZrb2RlUmVrZW5pbmdSS0E9IiArCiAgICAgICAgJCgiI2hpZGRlblJla2VuaW5nIiArIGlkKS52YWwoKSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlRWRpdFJla2VuaW5nIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIG1lLnJlZnJlc2hMaXN0KHRydWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIHNhdmVFZGl0UmluY2lhbkJlbGFuamE6IGZ1bmN0aW9uKGlkRWRpdFJrYSwgaWRSaW5jaWFuQmVsYW5qYSkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJMb2FkaW5nIjsKICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDUsIHRydWUsIGZhbHNlKTsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YToKICAgICAgICAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpICsKICAgICAgICAiJmlkUmluY2lhbkJlbGFuamE9IiArCiAgICAgICAgaWRSaW5jaWFuQmVsYW5qYSArCiAgICAgICAgIiZuYW1hUmluY2lhbkJlbGFuamE9IiArCiAgICAgICAgJCgiI3RleHRSaW5jaWFuQmVsYW5qYSIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVFZGl0UmluY2lhbkJlbGFuamEiLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgbWUucmVmcmVzaExpc3QodHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgZWRpdFJpbmNpYW5CZWxhbmphOiBmdW5jdGlvbihpZEVkaXRSa2EsIGlkUmluY2lhbkJlbGFuamEpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyTG9hZGluZyI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA1LCB0cnVlLCBmYWxzZSk7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBpZEVkaXRSa2E6IGlkRWRpdFJrYSwKICAgICAgICBpZFJpbmNpYW5CZWxhbmphOiBpZFJpbmNpYW5CZWxhbmphCiAgICAgIH0sCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZWRpdFJpbmNpYW5CZWxhbmphIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICQoIiNzcGFuRWRpdFJpbmNpYW5CZWxhbmphIiArIGlkRWRpdFJrYSkuaHRtbCgKICAgICAgICAgICAgcmVzcC5jb250ZW50LmlzaVNwYW5SaW5jaWFuQmVsYW5qYQogICAgICAgICAgKTsKICAgICAgICAgICQoIiNhY3Rpb25TcGFuUmluY2lhbkJlbGFuamEiICsgaWRFZGl0UmthKS5odG1sKAogICAgICAgICAgICByZXNwLmNvbnRlbnQuaXNpQWN0aW9uU3BhbgogICAgICAgICAgKTsKICAgICAgICAgICQoIiNzcGFuRWRpdFJpbmNpYW5CZWxhbmphIiArIGlkRWRpdFJrYSkuYXR0cigib25jbGljayIsICIiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBlZGl0U3ViUmluY2lhbjogZnVuY3Rpb24oaWRFZGl0UmthKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlckxvYWRpbmciOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgNSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAgaWRFZGl0UmthOiBpZEVkaXRSa2EKICAgICAgfSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1lZGl0U3ViUmluY2lhbiIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAkKCIjc3BhblZvbHVtZVJla2VuaW5nIiArIGlkRWRpdFJrYSkuaHRtbChyZXNwLmNvbnRlbnQuaXNpU3BhblZvbHVtZSk7CiAgICAgICAgICAkKCIjc3BhblNhdHVhbiIgKyBpZEVkaXRSa2EpLmh0bWwocmVzcC5jb250ZW50LmlzaVNwYW5TYXR1YW4pOwogICAgICAgICAgJCgiI3NwYW5IYXJnYVNhdHVhbiIgKyBpZEVkaXRSa2EpLmh0bWwoCiAgICAgICAgICAgIHJlc3AuY29udGVudC5pc2lTcGFuSGFyZ2FTYXR1YW4KICAgICAgICAgICk7CiAgICAgICAgICAkKCIjc3BhblRvdGFsSnVtbGFoIiArIGlkRWRpdFJrYSkuaHRtbCgKICAgICAgICAgICAgcmVzcC5jb250ZW50LmlzaVNwYW5Ub3RhbEp1bWxhaAogICAgICAgICAgKTsKICAgICAgICAgICQoIiNhY3Rpb25TcGFuIiArIGlkRWRpdFJrYSkuaHRtbChyZXNwLmNvbnRlbnQuaXNpQWN0aW9uU3Bhbik7CiAgICAgICAgICAvLyAkKCIjdGRWb2x1bWVSZWtlbmluZyIraWRFZGl0UmthKS5hdHRyKCJhbGlnbiIsImxlZnQiKTsKICAgICAgICAgICQoIiNoZWFkZXJVcmFpYW4iKS5hdHRyKCJ3aWR0aCIsICI2MDAiKTsKICAgICAgICAgICQoIiNoZWFkZXJWb2x1bWUiKS5hdHRyKCJ3aWR0aCIsICIxNTAiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBmb3JtUmluY2lhblZvbHVtZTogZnVuY3Rpb24oaWQpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyIjsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogewogICAgICAgIGlkOiBpZCwKICAgICAgICB2b2x1bWUxVGVtcDogJCgiI3ZvbHVtZTFUZW1wIiArIGlkKS52YWwoKSwKICAgICAgICB2b2x1bWUyVGVtcDogJCgiI3ZvbHVtZTJUZW1wIiArIGlkKS52YWwoKSwKICAgICAgICB2b2x1bWUzVGVtcDogJCgiI3ZvbHVtZTNUZW1wIiArIGlkKS52YWwoKSwKICAgICAgICBzYXR1YW4xVGVtcDogJCgiI3NhdHVhbjFUZW1wIiArIGlkKS52YWwoKSwKICAgICAgICBzYXR1YW4yVGVtcDogJCgiI3NhdHVhbjJUZW1wIiArIGlkKS52YWwoKSwKICAgICAgICBzYXR1YW4zVGVtcDogJCgiI3NhdHVhbjNUZW1wIiArIGlkKS52YWwoKSwKICAgICAgICB1cmFpYW5Wb2x1bWU6ICQoIiN1cmFpYW5Wb2x1bWUiICsgaWQpLnRleHQoKQogICAgICB9LAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWZvcm1SaW5jaWFuVm9sdW1lIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDIsIHRydWUsIGZhbHNlKTsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgc2V0VG90YWxSaW5jaWFuOiBmdW5jdGlvbigpIHsKICAgIHZhciBqdW1sYWgxID0gTnVtYmVyKCQoIiNqdW1sYWgxIikudmFsKCkpOwogICAgdmFyIGp1bWxhaDIgPSBOdW1iZXIoJCgiI2p1bWxhaDIiKS52YWwoKSk7CiAgICB2YXIganVtbGFoMyA9IE51bWJlcigkKCIjanVtbGFoMyIpLnZhbCgpKTsKICAgIGlmICgkKCIjanVtbGFoMiIpLnZhbCgpID09ICIiKSB7CiAgICAgIHZhciBqdW1sYWhUb3RhbCA9IE51bWJlcihqdW1sYWgxKTsKICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDMiKS52YWwoKSA9PSAiIikgewogICAgICB2YXIganVtbGFoVG90YWwgPSBOdW1iZXIoanVtbGFoMSAqIGp1bWxhaDIpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGp1bWxhaFRvdGFsID0gTnVtYmVyKGp1bWxhaDEgKiBqdW1sYWgyICoganVtbGFoMyk7CiAgICB9CiAgICAkKCIjanVtbGFoNCIpLnZhbChqdW1sYWhUb3RhbCk7CiAgfSwKICBTYXZlUmluY2lhblZvbHVtZTogZnVuY3Rpb24oaWQpIHsKICAgIHZhciBlcnIgPSAiIjsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1zaW1wYW4iOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMSwgdHJ1ZSwgZmFsc2UpOwogICAgZGVsRWxlbShjb3Zlcik7CiAgICBpZiAoJCgiI2p1bWxhaDEiKS52YWwoKSAhPSAiIiAmJiAkKCIjc2F0dWFuMSIpLnZhbCgpID09ICIiKSB7CiAgICAgIGVyciA9ICJJc2kgU2F0dWFuIEtlc2F0dSAhIjsKICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDIiKS52YWwoKSAhPSAiIiAmJiAkKCIjc2F0dWFuMiIpLnZhbCgpID09ICIiKSB7CiAgICAgIGVyciA9ICJJc2kgU2F0dWFuIEtlZHVhICEiOwogICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMyIpLnZhbCgpICE9ICIiICYmICQoIiNzYXR1YW4zIikudmFsKCkgPT0gIiIpIHsKICAgICAgZXJyID0gIklzaSBTYXR1YW4gS2VkdWEgISI7CiAgICB9IGVsc2UgaWYgKCQoIiNqdW1sYWgzIikudmFsKCkgIT0gIiIgJiYgJCgiI2p1bWxhaDIiKS52YWwoKSA9PSAiIikgewogICAgICBlcnIgPSAiSXNpIFZvbHVtZSBLZWR1YSAhIjsKICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDMiKS52YWwoKSAhPSAiIiAmJiAkKCIjanVtbGFoMSIpLnZhbCgpID09ICIiKSB7CiAgICAgIGVyciA9ICJJc2kgVm9sdW1lIEtlc2F0dSAhIjsKICAgIH0KICAgIGlmIChlcnIgPT0gIiIpIHsKICAgICAgJCgiI3ZvbHVtZTFUZW1wIiArIGlkKS52YWwoJCgiI2p1bWxhaDEiKS52YWwoKSk7CiAgICAgICQoIiN2b2x1bWUyVGVtcCIgKyBpZCkudmFsKCQoIiNqdW1sYWgyIikudmFsKCkpOwogICAgICAkKCIjdm9sdW1lM1RlbXAiICsgaWQpLnZhbCgkKCIjanVtbGFoMyIpLnZhbCgpKTsKICAgICAgJCgiI3NhdHVhbjFUZW1wIiArIGlkKS52YWwoJCgiI3NhdHVhbjEiKS52YWwoKSk7CiAgICAgICQoIiNzYXR1YW4yVGVtcCIgKyBpZCkudmFsKCQoIiNzYXR1YW4yIikudmFsKCkpOwogICAgICAkKCIjc2F0dWFuM1RlbXAiICsgaWQpLnZhbCgkKCIjc2F0dWFuMyIpLnZhbCgpKTsKICAgICAgJCgiI3ZvbHVtZVJlayIgKyBpZCkudmFsKCQoIiNqdW1sYWg0IikudmFsKCkpOwogICAgICAkKCIjdXJhaWFuVm9sdW1lIiArIGlkKS50ZXh0KCQoIiNyaW5jaWFuVm9sdW1lVGVtcCIpLnZhbCgpKTsKICAgICAgLy8kKCIjc2F0dWFuUmVrIitpZCkudmFsKCQoIiNyaW5jaWFuVm9sdW1lVGVtcCIpLnZhbCgpKTsKICAgICAgLy9tZS5iYW50dSgpOwogICAgICBkcGFTS1BELmhpdHVuZ1ZvbHVtZShpZCk7CiAgICAgIHZhciBzYXR1YW4gPSAiIjsKICAgICAgaWYgKCQoIiNqdW1sYWgzIikudmFsKCkgIT0gIiIpIHsKICAgICAgICBzYXR1YW4gPQogICAgICAgICAgJCgiI3NhdHVhbjEiKS52YWwoKSArCiAgICAgICAgICAiIC8gIiArCiAgICAgICAgICAkKCIjc2F0dWFuMiIpLnZhbCgpICsKICAgICAgICAgICIgLyAiICsKICAgICAgICAgICQoIiNzYXR1YW4zIikudmFsKCk7CiAgICAgICAgJCgiI3NhdHVhblJlayIgKyBpZCkudmFsKHNhdHVhbik7CiAgICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDIiKS52YWwoKSAhPSAiIikgewogICAgICAgIHNhdHVhbiA9ICQoIiNzYXR1YW4xIikudmFsKCkgKyAiIC8gIiArICQoIiNzYXR1YW4yIikudmFsKCk7CiAgICAgICAgJCgiI3NhdHVhblJlayIgKyBpZCkudmFsKHNhdHVhbik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2F0dWFuID0gJCgiI3NhdHVhbjEiKS52YWwoKTsKICAgICAgICAkKCIjc2F0dWFuUmVrIiArIGlkKS52YWwoc2F0dWFuKTsKICAgICAgfQogICAgICBtZS5DbG9zZSgpOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoZXJyKTsKICAgIH0KICB9LAogIGhpdHVuZ1ZvbHVtZTogZnVuY3Rpb24oaWQpIHsKICAgIHZhciBoYXNpbEthbGkgPSAkKCIjdm9sdW1lUmVrIiArIGlkKS52YWwoKSAqICQoIiNoYXJnYVNhdHVhbiIgKyBpZCkudmFsKCk7CiAgICAkKCIjc3BhblRvdGFsSnVtbGFoIiArIGlkKS50ZXh0KGRwYVNLUEQuZm9ybWF0Q3VycmVuY3koaGFzaWxLYWxpKSk7CiAgfSwKICBmaW5kU1NIOiBmdW5jdGlvbihpZCkgewogICAgdmFyIG1lID0gdGhpczsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1nZXREYXRhU1NIIiwKICAgICAgZGF0YTogewogICAgICAgIGlkOiBpZAogICAgICB9LAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgcG9wdXBTU0gua29kZVJla2VuaW5nID0gcmVzcC5jb250ZW50LmtvZGVSZWtlbmluZzsKICAgICAgICAgIHBvcHVwU1NILmtvZGVCYXJhbmcgPSByZXNwLmNvbnRlbnQua29kZUJhcmFuZzsKICAgICAgICAgIHBvcHVwU1NILmRhcmkgPSBpZDsKICAgICAgICAgIHBvcHVwU1NILndpbmRvd1Nob3coKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBzYXZlRWRpdFN1YlJpbmNpYW46IGZ1bmN0aW9uKGlkRWRpdFJrYSkgewogICAgdmFyIG1lID0gdGhpczsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogewogICAgICAgIGlkRWRpdFJrYTogaWRFZGl0UmthLAogICAgICAgIGhhcmdhU2F0dWFuOiAkKCIjaGFyZ2FTYXR1YW4iICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgICB2b2x1bWUxOiAkKCIjdm9sdW1lMVRlbXAiICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgICB2b2x1bWUyOiAkKCIjdm9sdW1lMlRlbXAiICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgICB2b2x1bWUzOiAkKCIjdm9sdW1lM1RlbXAiICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgICB2b2x1bWVSZWtlbmluZzogJCgiI3ZvbHVtZVJlayIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHNhdHVhbjE6ICQoIiNzYXR1YW4xVGVtcCIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHNhdHVhbjI6ICQoIiNzYXR1YW4yVGVtcCIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHNhdHVhbjM6ICQoIiNzYXR1YW4zVGVtcCIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHNhdHVhblJla2VuaW5nOiAkKCIjc2F0dWFuUmVrIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgICAgdXJhaWFuVm9sdW1lOiAkKCIjdXJhaWFuVm9sdW1lIiArIGlkRWRpdFJrYSkudGV4dCgpCiAgICAgIH0sCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2F2ZUVkaXRTdWJSaW5jaWFuIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIG1lLnJlZnJlc2hMaXN0KHRydWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9Cn0pOwo=",
    "size": "24902"
}