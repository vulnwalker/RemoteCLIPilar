{
    "namaFile": "lib\/jpgraph\/jpgraph_log.php",
    "lastUpdate": "2013-12-16+17:18:14.00",
    "contentFile": "PD9waHAKLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogLy8gRmlsZTogICAgICAgIEpQR1JBUEhfTE9HLlBIUAogLy8gRGVzY3JpcHRpb246IExvZyBzY2FsZSBwbG90IGV4dGVuc2lvbiBmb3IgSnBHcmFwaAogLy8gQ3JlYXRlZDogICAgIDIwMDEtMDEtMDgKIC8vIFZlcjogICAgICAgICAkSWQ6IGpwZ3JhcGhfbG9nLnBocCAxMTA2IDIwMDktMDItMjIgMjA6MTY6MzVaIGxqcCAkCiAvLwogLy8gQ29weXJpZ2h0IChjKSBBc2lhbCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAqLwoKREVGSU5FKCdMT0dMQUJFTFNfUExBSU4nLDApOwpERUZJTkUoJ0xPR0xBQkVMU19NQUdOSVRVREUnLDEpOwoKLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gQ0xBU1MgTG9nU2NhbGUKLy8gRGVzY3JpcHRpb246IExvZ2FyaXRobWljIHNjYWxlIGJldHdlZW4gd29ybGQgYW5kIHNjcmVlbgovLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpjbGFzcyBMb2dTY2FsZSBleHRlbmRzIExpbmVhclNjYWxlIHsKICAgIC8vLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBDT05TVFJVQ1RPUgoKICAgIC8vIExvZyBzY2FsZSBpcyBzcGVjaWZpZWQgdXNpbmcgdGhlIGxvZyBvZiBtaW4gYW5kIG1heAogICAgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG1pbiwkbWF4LCR0eXBlPSJ5IikgewogICAgICAgIHBhcmVudDo6X19jb25zdHJ1Y3QoJG1pbiwkbWF4LCR0eXBlKTsKICAgICAgICAkdGhpcy0+dGlja3MgPSBuZXcgTG9nVGlja3MoKTsKICAgICAgICAkdGhpcy0+bmFtZSA9ICdsb2cnOwogICAgfQoKICAgIC8vLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gUFVCTElDIE1FVEhPRFMKCiAgICAvLyBUcmFuc2xhdGUgYmV0d2VlbiB3b3JsZCBhbmQgc2NyZWVuCiAgICBmdW5jdGlvbiBUcmFuc2xhdGUoJGEpIHsKICAgICAgICBpZiggIWlzX251bWVyaWMoJGEpICkgewogICAgICAgICAgICBpZiggJGEgIT0gJycgJiYgJGEgIT0gJy0nICYmICRhICE9ICd4JyApIHsgCiAgICAgICAgICAgICAgICBKcEdyYXBoRXJyb3I6OlJhaXNlTCgxMTAwMSk7CiAgICAgICAgICAgICAgICAvLyAoJ1lvdXIgZGF0YSBjb250YWlucyBub24tbnVtZXJpYyB2YWx1ZXMuJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGlmKCAkYSA8IDAgKSB7CiAgICAgICAgICAgIEpwR3JhcGhFcnJvcjo6UmFpc2VMKDExMDAyKTsKICAgICAgICAgICAgLy8oIk5lZ2F0aXZlIGRhdGEgdmFsdWVzIGNhbiBub3QgYmUgdXNlZCBpbiBhIGxvZyBzY2FsZS4iKTsKICAgICAgICAgICAgZXhpdCgxKTsKICAgICAgICB9CiAgICAgICAgaWYoICRhPT0wICkgJGE9MTsKICAgICAgICAkYT1sb2cxMCgkYSk7CiAgICAgICAgcmV0dXJuIGNlaWwoJHRoaXMtPm9mZiArICgkYSoxLjAgLSAkdGhpcy0+c2NhbGVbMF0pICogJHRoaXMtPnNjYWxlX2ZhY3Rvcik7CiAgICB9CgogICAgLy8gUmVsYXRpdmUgdHJhbnNsYXRlIChkb24ndCBpbmNsdWRlIG9mZnNldCkgdXNlZnVsbCB3aGVuIHdlIGp1c3Qgd2FudAogICAgLy8gdG8ga25vdyB0aGUgcmVsYXRpdmUgcG9zaXRpb24gKGluIHBpeGVscykgb24gdGhlIGF4aXMKICAgIGZ1bmN0aW9uIFJlbFRyYW5zbGF0ZSgkYSkgewogICAgICAgIGlmKCAhaXNfbnVtZXJpYygkYSkgKSB7CiAgICAgICAgICAgIGlmKCAkYSAhPSAnJyAmJiAkYSAhPSAnLScgJiYgJGEgIT0gJ3gnICkgewogICAgICAgICAgICAgICAgSnBHcmFwaEVycm9yOjpSYWlzZUwoMTEwMDEpOwogICAgICAgICAgICAgICAgLy8oJ1lvdXIgZGF0YSBjb250YWlucyBub24tbnVtZXJpYyB2YWx1ZXMuJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGlmKCAkYT09MCApIHsKICAgICAgICAgICAgJGE9MTsKICAgICAgICB9CiAgICAgICAgJGE9bG9nMTAoJGEpOwogICAgICAgIHJldHVybiByb3VuZCgoJGEqMS4wIC0gJHRoaXMtPnNjYWxlWzBdKSAqICR0aGlzLT5zY2FsZV9mYWN0b3IpOwogICAgfQoKICAgIC8vIFVzZSBiY3BvdygpIGZvciBpbmNyZWFzZWQgcHJlY2lzaW9uCiAgICBmdW5jdGlvbiBHZXRNaW5WYWwoKSB7CiAgICAgICAgaWYoIGZ1bmN0aW9uX2V4aXN0cygiYmNwb3ciKSApIHsKICAgICAgICAgICAgcmV0dXJuIHJvdW5kKGJjcG93KDEwLCR0aGlzLT5zY2FsZVswXSwxNSksMTQpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHJvdW5kKHBvdygxMCwkdGhpcy0+c2NhbGVbMF0pLDE0KTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gR2V0TWF4VmFsKCkgewogICAgICAgIGlmKCBmdW5jdGlvbl9leGlzdHMoImJjcG93IikgKSB7CiAgICAgICAgICAgIHJldHVybiByb3VuZChiY3BvdygxMCwkdGhpcy0+c2NhbGVbMV0sMTUpLDE0KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiByb3VuZChwb3coMTAsJHRoaXMtPnNjYWxlWzFdKSwxNCk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIExvZ2FyaXRobWljIGF1dG9zY2FsaW5nIGlzIG11Y2ggc2ltcGxpZXIgc2luY2Ugd2UganVzdAogICAgLy8gc2V0IHRoZSBtaW4gYW5kIG1heCB0byBsb2dzIG9mIHRoZSBtaW4gYW5kIG1heCB2YWx1ZXMuCiAgICAvLyBOb3RlIHRoYXQgZm9yIGxvZyBhdXRvc2NhbGUgdGhlICJtYXhzdGVwIiB0aGUgZm91cnRoIGFyZ3VtZW50CiAgICAvLyBpc24ndCB1c2VkLiBUaGlzIGlzIGp1c3QgaW5jbHVkZWQgdG8gZ2l2ZSB0aGUgbWV0aG9kIHRoZSBzYW1lCiAgICAvLyBzaWduYXR1cmUgYXMgdGhlIGxpbmVhciBjb3VudGVycGFydC4KICAgIGZ1bmN0aW9uIEF1dG9TY2FsZSgkaW1nLCRtaW4sJG1heCwkbWF4c3RlcHMsJG1hamVuZD10cnVlKSB7CiAgICAgICAgaWYoICRtaW49PTAgKSAkbWluPTE7CgogICAgICAgIGlmKCAkbWF4IDw9IDAgKSB7CiAgICAgICAgICAgIEpwR3JhcGhFcnJvcjo6UmFpc2VMKDExMDA0KTsKICAgICAgICAgICAgLy8oJ1NjYWxlIGVycm9yIGZvciBsb2dhcml0aG1pYyBzY2FsZS4gWW91IGhhdmUgYSBwcm9ibGVtIHdpdGggeW91ciBkYXRhIHZhbHVlcy4gVGhlIG1heCB2YWx1ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwLiBJdCBpcyBtYXRoZW1hdGljYWxseSBpbXBvc3NpYmxlIHRvIGhhdmUgMCBpbiBhIGxvZ2FyaXRobWljIHNjYWxlLicpOwogICAgICAgIH0KICAgICAgICBpZiggaXNfbnVtZXJpYygkdGhpcy0+YXV0b3NjYWxlX21pbikgKSB7CiAgICAgICAgICAgICRzbWluID0gcm91bmQoJHRoaXMtPmF1dG9zY2FsZV9taW4pOwogICAgICAgICAgICAkc21heCA9IGNlaWwobG9nMTAoJG1heCkpOwogICAgICAgICAgICBpZiggJG1pbiA+PSAkbWF4ICkgewogICAgICAgICAgICAgICAgSnBHcmFwaEVycm9yOjpSYWlzZUwoMjUwNzEpOy8vKCdZb3UgaGF2ZSBzcGVjaWZpZWQgYSBtaW4gdmFsdWUgd2l0aCBTZXRBdXRvTWluKCkgd2hpY2ggaXMgbGFyZ2VyIHRoYW4gdGhlIG1heGltdW0gdmFsdWUgdXNlZCBmb3IgdGhlIHNjYWxlLiBUaGlzIGlzIG5vdCBwb3NzaWJsZS4nKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJHNtaW4gPSBmbG9vcihsb2cxMCgkbWluKSk7CiAgICAgICAgICAgIGlmKCBpc19udW1lcmljKCR0aGlzLT5hdXRvc2NhbGVfbWF4KSApIHsKICAgICAgICAgICAgICAgICRzbWF4ID0gcm91bmQoJHRoaXMtPmF1dG9zY2FsZV9tYXgpOwogICAgICAgICAgICAgICAgaWYoICRzbWluID49ICRzbWF4ICkgewogICAgICAgICAgICAgICAgICAgIEpwR3JhcGhFcnJvcjo6UmFpc2VMKDI1MDcyKTsvLygnWW91IGhhdmUgc3BlY2lmaWVkIGEgbWF4IHZhbHVlIHdpdGggU2V0QXV0b01heCgpIHdoaWNoIGlzIHNtYWxsZXIgdGhhbiB0aGUgbWltaW51bSB2YWx1ZSB1c2VkIGZvciB0aGUgc2NhbGUuIFRoaXMgaXMgbm90IHBvc3NpYmxlLicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgJHNtYXggPSBjZWlsKGxvZzEwKCRtYXgpKTsKICAgICAgICB9CgogICAgICAgICR0aGlzLT5VcGRhdGUoJGltZywkc21pbiwkc21heCk7CiAgICB9CiAgICAvLy0tLS0tLS0tLS0tLS0tLQogICAgLy8gUFJJVkFURSBNRVRIT0RTCn0gLy8gQ2xhc3MKCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIENMQVNTIExvZ1RpY2tzCi8vIERlc2NyaXB0aW9uOgovLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpjbGFzcyBMb2dUaWNrcyBleHRlbmRzIFRpY2tzewogICAgcHJpdmF0ZSAkbGFiZWxfbG9ndHlwZT1MT0dMQUJFTFNfTUFHTklUVURFOwogICAgcHJpdmF0ZSAkdGlja2xhYmVsc19wb3MgPSBhcnJheSgpOwogICAgLy8tLS0tLS0tLS0tLS0tLS0KICAgIC8vIENPTlNUUlVDVE9SCiAgICBmdW5jdGlvbiBMb2dUaWNrcygpIHsKICAgIH0KICAgIC8vLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBQVUJMSUMgTUVUSE9EUwogICAgZnVuY3Rpb24gSXNTcGVjaWZpZWQoKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgZnVuY3Rpb24gU2V0TGFiZWxMb2dUeXBlKCRhVHlwZSkgewogICAgICAgICR0aGlzLT5sYWJlbF9sb2d0eXBlID0gJGFUeXBlOwogICAgfQoKICAgIC8vIEZvciBsb2cgc2NhbGUgaXQncyBtZWFuaW5nbGVzcyB0byBzcGVhayBhYm91dCBhIG1ham9yIHN0ZXAKICAgIC8vIFdlIGp1c3QgcmV0dXJuIC0xIHRvIG1ha2UgdGhlIGZyYW1ld29yayBoYXBweSAoc3BlY2lmaWNhbGx5CiAgICAvLyBTdHJva2VMYWJlbHMoKSApCiAgICBmdW5jdGlvbiBHZXRNYWpvcigpIHsKICAgICAgICByZXR1cm4gLTE7CiAgICB9CgogICAgZnVuY3Rpb24gU2V0VGV4dExhYmVsU3RhcnQoJGFTdGFydCkgewogICAgICAgIEpwR3JhcGhFcnJvcjo6UmFpc2VMKDExMDA1KTsKICAgICAgICAvLygnU3BlY2lmeWluZyB0aWNrIGludGVydmFsIGZvciBhIGxvZ2FyaXRobWljIHNjYWxlIGlzIHVuZGVmaW5lZC4gUmVtb3ZlIGFueSBjYWxscyB0byBTZXRUZXh0TGFiZWxTdGFydCgpIG9yIFNldFRleHRUaWNrSW50ZXJ2YWwoKSBvbiB0aGUgbG9nYXJpdGhtaWMgc2NhbGUuJyk7CiAgICB9CgogICAgZnVuY3Rpb24gU2V0WExhYmVsT2Zmc2V0KCRkdW1teSkgewogICAgICAgIC8vIEZvciBsb2cgc2NhbGVzIHdlIGRvbnQgY2FyZSBhYm91dCBYTGFiZWwgb2Zmc2V0CiAgICB9CgogICAgLy8gRHJhdyB0aWNrcyBvbiBpbWFnZSAiaW1nIiB1c2luZyBzY2FsZSAic2NhbGUiLiBUaGUgYXhpcyBhYnNvbHV0ZQogICAgLy8gcG9zaXRpb24gaW4gdGhlIGltYWdlIGlzIHNwZWNpZmllZCBpbiBwb3MsIGkuZS4gZm9yIGFuIHgtYXhpcwogICAgLy8gaXQgc3BlY2lmaWVzIHRoZSBhYnNvbHV0ZSB5LWNvb3JkIGFuZCBmb3IgWS10aWNrcyBpdCBzcGVjaWZpZWQgdGhlCiAgICAvLyBhYnNvbHV0ZSB4LXBvc2l0aW9uLgogICAgZnVuY3Rpb24gU3Ryb2tlKCRpbWcsJHNjYWxlLCRwb3MpIHsKICAgICAgICAkc3RhcnQgPSAkc2NhbGUtPkdldE1pblZhbCgpOwogICAgICAgICRsaW1pdCA9ICRzY2FsZS0+R2V0TWF4VmFsKCk7CiAgICAgICAgJG5leHRNYWpvciA9IDEwKiRzdGFydDsKICAgICAgICAkc3RlcCA9ICRuZXh0TWFqb3IgLyAxMC4wOwoKCiAgICAgICAgJGltZy0+U2V0TGluZVdlaWdodCgkdGhpcy0+d2VpZ2h0KTsKCiAgICAgICAgaWYoICRzY2FsZS0+dHlwZSA9PSAieSIgKSB7CiAgICAgICAgICAgIC8vIG1lbWJlciBkaXJlY3Rpb24gc3BlY2lmaWVkIGlmIHRoZSB0aWNrcyBzaG91bGQgYmUgb24KICAgICAgICAgICAgLy8gbGVmdCBvciByaWdodCBzaWRlLgogICAgICAgICAgICAkYT0kcG9zICsgJHRoaXMtPmRpcmVjdGlvbiokdGhpcy0+R2V0TWluVGlja0Fic1NpemUoKTsKICAgICAgICAgICAgJGEyPSRwb3MgKyAkdGhpcy0+ZGlyZWN0aW9uKiR0aGlzLT5HZXRNYWpUaWNrQWJzU2l6ZSgpOwogICAgICAgICAgICAgCiAgICAgICAgICAgICRjb3VudD0xOwogICAgICAgICAgICAkdGhpcy0+bWFqX3RpY2tzX3Bvc1swXT0kc2NhbGUtPlRyYW5zbGF0ZSgkc3RhcnQpOwogICAgICAgICAgICAkdGhpcy0+bWFqX3RpY2tsYWJlbHNfcG9zWzBdPSRzY2FsZS0+VHJhbnNsYXRlKCRzdGFydCk7CiAgICAgICAgICAgIGlmKCAkdGhpcy0+c3VwcmVzc19maXJzdCApCiAgICAgICAgICAgICR0aGlzLT5tYWpfdGlja3NfbGFiZWxbMF09IiI7CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgaWYoICR0aGlzLT5sYWJlbF9mb3JtZnVuYyAhPSAnJyApIHsKICAgICAgICAgICAgICAgICAgICAkZiA9ICR0aGlzLT5sYWJlbF9mb3JtZnVuYzsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+bWFqX3RpY2tzX2xhYmVsWzBdPWNhbGxfdXNlcl9mdW5jKCRmLCRzdGFydCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYoICR0aGlzLT5sYWJlbF9sb2d0eXBlID09IExPR0xBQkVMU19QTEFJTiApIHsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+bWFqX3RpY2tzX2xhYmVsWzBdPSRzdGFydDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICR0aGlzLT5tYWpfdGlja3NfbGFiZWxbMF09JzEwXicucm91bmQobG9nMTAoJHN0YXJ0KSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJGk9MTsKICAgICAgICAgICAgZm9yKCR5PSRzdGFydDsgJHk8PSRsaW1pdDsgJHkrPSRzdGVwLCsrJGNvdW50ICApIHsKICAgICAgICAgICAgICAgICR5cz0kc2NhbGUtPlRyYW5zbGF0ZSgkeSk7CiAgICAgICAgICAgICAgICAkdGhpcy0+dGlja3NfcG9zW109JHlzOwogICAgICAgICAgICAgICAgJHRoaXMtPnRpY2tsYWJlbHNfcG9zW109JHlzOwogICAgICAgICAgICAgICAgaWYoICRjb3VudCAlIDEwID09IDAgKSB7CiAgICAgICAgICAgICAgICAgICAgaWYoICEkdGhpcy0+c3VwcmVzc190aWNrbWFya3MgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkdGhpcy0+bWFqY29sb3IhPSIiICkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGltZy0+UHVzaENvbG9yKCR0aGlzLT5tYWpjb2xvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW1nLT5MaW5lKCRwb3MsJHlzLCRhMiwkeXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGltZy0+UG9wQ29sb3IoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbWctPkxpbmUoJHBvcywkeXMsJGEyLCR5cyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICR0aGlzLT5tYWpfdGlja3NfcG9zWyRpXT0keXM7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPm1hal90aWNrbGFiZWxzX3Bvc1skaV09JHlzOwoKICAgICAgICAgICAgICAgICAgICBpZiggJHRoaXMtPmxhYmVsX2Zvcm1mdW5jICE9ICcnICkgewogICAgICAgICAgICAgICAgICAgICAgICAkZiA9ICR0aGlzLT5sYWJlbF9mb3JtZnVuYzsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPm1hal90aWNrc19sYWJlbFskaV09Y2FsbF91c2VyX2Z1bmMoJGYsJG5leHRNYWpvcik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiggJHRoaXMtPmxhYmVsX2xvZ3R5cGUgPT0gMCApIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPm1hal90aWNrc19sYWJlbFskaV09JG5leHRNYWpvcjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5tYWpfdGlja3NfbGFiZWxbJGldPScxMF4nLnJvdW5kKGxvZzEwKCRuZXh0TWFqb3IpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKyskaTsKICAgICAgICAgICAgICAgICAgICAkbmV4dE1ham9yICo9IDEwOwogICAgICAgICAgICAgICAgICAgICRzdGVwICo9IDEwOwogICAgICAgICAgICAgICAgICAgICRjb3VudD0xOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYoICEkdGhpcy0+c3VwcmVzc190aWNrbWFya3MgJiYgISR0aGlzLT5zdXByZXNzX21pbm9yX3RpY2ttYXJrcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiggJHRoaXMtPm1pbmNvbG9yIT0iIiApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbWctPlB1c2hDb2xvcigkdGhpcy0+bWluY29sb3IpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICRpbWctPkxpbmUoJHBvcywkeXMsJGEsJHlzKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoICR0aGlzLT5taW5jb2xvciE9IiIgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW1nLT5Qb3BDb2xvcigpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkYT0kcG9zIC0gJHRoaXMtPmRpcmVjdGlvbiokdGhpcy0+R2V0TWluVGlja0Fic1NpemUoKTsKICAgICAgICAgICAgJGEyPSRwb3MgLSAkdGhpcy0+ZGlyZWN0aW9uKiR0aGlzLT5HZXRNYWpUaWNrQWJzU2l6ZSgpOwogICAgICAgICAgICAkY291bnQ9MTsKICAgICAgICAgICAgJHRoaXMtPm1hal90aWNrc19wb3NbMF09JHNjYWxlLT5UcmFuc2xhdGUoJHN0YXJ0KTsKICAgICAgICAgICAgJHRoaXMtPm1hal90aWNrbGFiZWxzX3Bvc1swXT0kc2NhbGUtPlRyYW5zbGF0ZSgkc3RhcnQpOwogICAgICAgICAgICBpZiggJHRoaXMtPnN1cHJlc3NfZmlyc3QgKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+bWFqX3RpY2tzX2xhYmVsWzBdPSIiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgaWYoICR0aGlzLT5sYWJlbF9mb3JtZnVuYyAhPSAnJyApIHsKICAgICAgICAgICAgICAgICAgICAkZiA9ICR0aGlzLT5sYWJlbF9mb3JtZnVuYzsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+bWFqX3RpY2tzX2xhYmVsWzBdPWNhbGxfdXNlcl9mdW5jKCRmLCRzdGFydCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYoICR0aGlzLT5sYWJlbF9sb2d0eXBlID09IDAgKSB7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPm1hal90aWNrc19sYWJlbFswXT0kc3RhcnQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+bWFqX3RpY2tzX2xhYmVsWzBdPScxMF4nLnJvdW5kKGxvZzEwKCRzdGFydCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICRpPTE7CiAgICAgICAgICAgIGZvcigkeD0kc3RhcnQ7ICR4PD0kbGltaXQ7ICR4Kz0kc3RlcCwrKyRjb3VudCAgKSB7CiAgICAgICAgICAgICAgICAkeHM9JHNjYWxlLT5UcmFuc2xhdGUoJHgpOwogICAgICAgICAgICAgICAgJHRoaXMtPnRpY2tzX3Bvc1tdPSR4czsKICAgICAgICAgICAgICAgICR0aGlzLT50aWNrbGFiZWxzX3Bvc1tdPSR4czsKICAgICAgICAgICAgICAgIGlmKCAkY291bnQgJSAxMCA9PSAwICkgewogICAgICAgICAgICAgICAgICAgIGlmKCAhJHRoaXMtPnN1cHJlc3NfdGlja21hcmtzICkgewogICAgICAgICAgICAgICAgICAgICAgICAkaW1nLT5MaW5lKCR4cywkcG9zLCR4cywkYTIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkdGhpcy0+bWFqX3RpY2tzX3Bvc1skaV09JHhzOwogICAgICAgICAgICAgICAgICAgICR0aGlzLT5tYWpfdGlja2xhYmVsc19wb3NbJGldPSR4czsKCiAgICAgICAgICAgICAgICAgICAgaWYoICR0aGlzLT5sYWJlbF9mb3JtZnVuYyAhPSAnJyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGYgPSAkdGhpcy0+bGFiZWxfZm9ybWZ1bmM7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5tYWpfdGlja3NfbGFiZWxbJGldPWNhbGxfdXNlcl9mdW5jKCRmLCRuZXh0TWFqb3IpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYoICR0aGlzLT5sYWJlbF9sb2d0eXBlID09IDAgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5tYWpfdGlja3NfbGFiZWxbJGldPSRuZXh0TWFqb3I7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+bWFqX3RpY2tzX2xhYmVsWyRpXT0nMTBeJy5yb3VuZChsb2cxMCgkbmV4dE1ham9yKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICsrJGk7CiAgICAgICAgICAgICAgICAgICAgJG5leHRNYWpvciAqPSAxMDsKICAgICAgICAgICAgICAgICAgICAkc3RlcCAqPSAxMDsKICAgICAgICAgICAgICAgICAgICAkY291bnQ9MTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmKCAhJHRoaXMtPnN1cHJlc3NfdGlja21hcmtzICYmICEkdGhpcy0+c3VwcmVzc19taW5vcl90aWNrbWFya3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGltZy0+TGluZSgkeHMsJHBvcywkeHMsJGEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfSAvLyBDbGFzcwovKiBFT0YgKi8KPz4K",
    "size": "11061"
}