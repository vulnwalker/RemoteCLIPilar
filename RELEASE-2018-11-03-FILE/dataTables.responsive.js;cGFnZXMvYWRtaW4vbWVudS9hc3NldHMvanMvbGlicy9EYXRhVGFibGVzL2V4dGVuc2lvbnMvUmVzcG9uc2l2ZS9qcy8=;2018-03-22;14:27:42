{
    "namaFile": "pages\/admin\/menu\/assets\/js\/libs\/DataTables\/extensions\/Responsive\/js\/dataTables.responsive.js",
    "lastUpdate": "2018-03-22+14:27:42.50",
    "contentFile": "LyohIFJlc3BvbnNpdmUgMS4wLjEKICogMjAxNCBTcHJ5TWVkaWEgTHRkIC0gZGF0YXRhYmxlcy5uZXQvbGljZW5zZQogKi8KCi8qKgogKiBAc3VtbWFyeSAgICAgUmVzcG9uc2l2ZQogKiBAZGVzY3JpcHRpb24gUmVzcG9uc2l2ZSB0YWJsZXMgcGx1Zy1pbiBmb3IgRGF0YVRhYmxlcwogKiBAdmVyc2lvbiAgICAgMS4wLjEKICogQGZpbGUgICAgICAgIGRhdGFUYWJsZXMucmVzcG9uc2l2ZS5qcwogKiBAYXV0aG9yICAgICAgU3ByeU1lZGlhIEx0ZCAod3d3LnNwcnltZWRpYS5jby51aykKICogQGNvbnRhY3QgICAgIHd3dy5zcHJ5bWVkaWEuY28udWsvY29udGFjdAogKiBAY29weXJpZ2h0ICAgQ29weXJpZ2h0IDIwMTQgU3ByeU1lZGlhIEx0ZC4KICoKICogVGhpcyBzb3VyY2UgZmlsZSBpcyBmcmVlIHNvZnR3YXJlLCBhdmFpbGFibGUgdW5kZXIgdGhlIGZvbGxvd2luZyBsaWNlbnNlOgogKiAgIE1JVCBsaWNlbnNlIC0gaHR0cDovL2RhdGF0YWJsZXMubmV0L2xpY2Vuc2UvbWl0CiAqCiAqIFRoaXMgc291cmNlIGZpbGUgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwgYnV0CiAqIFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YgTUVSQ0hBTlRBQklMSVRZCiAqIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiBTZWUgdGhlIGxpY2Vuc2UgZmlsZXMgZm9yIGRldGFpbHMuCiAqCiAqIEZvciBkZXRhaWxzIHBsZWFzZSByZWZlciB0bzogaHR0cDovL3d3dy5kYXRhdGFibGVzLm5ldAogKi8KCihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHsKCgp2YXIgZmFjdG9yeSA9IGZ1bmN0aW9uKCAkLCBEYXRhVGFibGUgKSB7CiJ1c2Ugc3RyaWN0IjsKCi8qKgogKiBSZXNwb25zaXZlIGlzIGEgcGx1Zy1pbiBmb3IgdGhlIERhdGFUYWJsZXMgbGlicmFyeSB0aGF0IG1ha2VzIHVzZSBvZgogKiBEYXRhVGFibGVzJyBhYmlsaXR5IHRvIGNoYW5nZSB0aGUgdmlzaWJpbGl0eSBvZiBjb2x1bW5zLCBjaGFuZ2luZyB0aGUKICogdmlzaWJpbGl0eSBvZiBjb2x1bW5zIHNvIHRoZSBkaXNwbGF5ZWQgY29sdW1ucyBmaXQgaW50byB0aGUgdGFibGUgY29udGFpbmVyLgogKiBUaGUgZW5kIHJlc3VsdCBpcyB0aGF0IGNvbXBsZXggdGFibGVzIHdpbGwgYmUgZHluYW1pY2FsbHkgYWRqdXN0ZWQgdG8gZml0CiAqIGludG8gdGhlIHZpZXdwb3J0LCBiZSBpdCBvbiBhIGRlc2t0b3AsIHRhYmxldCBvciBtb2JpbGUgYnJvd3Nlci4KICoKICogUmVzcG9uc2l2ZSBmb3IgRGF0YVRhYmxlcyBoYXMgdHdvIG1vZGVzIG9mIG9wZXJhdGlvbiwgd2hpY2ggY2FuIHVzZWQKICogaW5kaXZpZHVhbGx5IG9yIGNvbWJpbmVkOgogKgogKiAqIENsYXNzIG5hbWUgYmFzZWQgY29udHJvbCAtIGNvbHVtbnMgYXNzaWduZWQgY2xhc3MgbmFtZXMgdGhhdCBtYXRjaCB0aGUKICogICBicmVha3BvaW50IGxvZ2ljIGNhbiBiZSBzaG93biAvIGhpZGRlbiBhcyByZXF1aXJlZCBmb3IgZWFjaCBicmVha3BvaW50LgogKiAqIEF1dG9tYXRpYyBjb250cm9sIC0gY29sdW1ucyBhcmUgYXV0b21hdGljYWxseSBoaWRkZW4gd2hlbiB0aGVyZSBpcyBubwogKiAgIHJvb20gbGVmdCB0byBkaXNwbGF5IHRoZW0uIENvbHVtbnMgcmVtb3ZlZCBmcm9tIHRoZSByaWdodC4KICoKICogSW4gYWRkaXRpb25hbCB0byBjb2x1bW4gdmlzaWJpbGl0eSBjb250cm9sLCBSZXNwb25zaXZlIGFsc28gaGFzIGJ1aWx0IGludG8KICogb3B0aW9ucyB0byB1c2UgRGF0YVRhYmxlcycgY2hpbGQgcm93IGRpc3BsYXkgdG8gc2hvdyAvIGhpZGUgdGhlIGluZm9ybWF0aW9uCiAqIGZyb20gdGhlIHRhYmxlIHRoYXQgaGFzIGJlZW4gaGlkZGVuLiBUaGVyZSBhcmUgYWxzbyB0d28gbW9kZXMgb2Ygb3BlcmF0aW9uCiAqIGZvciB0aGlzIGNoaWxkIHJvdyBkaXNwbGF5OgogKgogKiAqIElubGluZSAtIHdoZW4gdGhlIGNvbnRyb2wgZWxlbWVudCB0aGF0IHRoZSB1c2VyIGNhbiB1c2UgdG8gc2hvdyAvIGhpZGUKICogICBjaGlsZCByb3dzIGlzIGRpc3BsYXllZCBpbnNpZGUgdGhlIGZpcnN0IGNvbHVtbiBvZiB0aGUgdGFibGUuCiAqICogQ29sdW1uIC0gd2hlcmUgYSB3aG9sZSBjb2x1bW4gaXMgZGVkaWNhdGVkIHRvIGJlIHRoZSBzaG93IC8gaGlkZSBjb250cm9sLgogKgogKiBJbml0aWFsaXNhdGlvbiBvZiBSZXNwb25zaXZlIGlzIHBlcmZvcm1lZCBieToKICoKICogKiBBZGRpbmcgdGhlIGNsYXNzIGByZXNwb25zaXZlYCBvciBgZHQtcmVzcG9uc2l2ZWAgdG8gdGhlIHRhYmxlLiBJbiB0aGlzIGNhc2UKICogICBSZXNwb25zaXZlIHdpbGwgYXV0b21hdGljYWxseSBiZSBpbml0aWFsaXNlZCB3aXRoIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24KICogICBvcHRpb25zIHdoZW4gdGhlIERhdGFUYWJsZSBpcyBjcmVhdGVkLgogKiAqIFVzaW5nIHRoZSBgcmVzcG9uc2l2ZWAgb3B0aW9uIGluIHRoZSBEYXRhVGFibGVzIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy4gVGhpcwogKiAgIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3BlY2lmeSB0aGUgY29uZmlndXJhdGlvbiBvcHRpb25zLCBvciBzaW1wbHkgc2V0IHRvCiAqICAgYHRydWVgIHRvIHVzZSB0aGUgZGVmYXVsdHMuCiAqCiAqICBAY2xhc3MKICogIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyBEYXRhVGFibGVzIHNldHRpbmdzIG9iamVjdCBmb3IgdGhlIGhvc3QgdGFibGUKICogIEBwYXJhbSB7b2JqZWN0fSBbb3B0c10gQ29uZmlndXJhdGlvbiBvcHRpb25zCiAqICBAcmVxdWlyZXMgalF1ZXJ5IDEuNysKICogIEByZXF1aXJlcyBEYXRhVGFibGVzIDEuMTAuMSsKICoKICogIEBleGFtcGxlCiAqICAgICAgJCgnI2V4YW1wbGUnKS5EYXRhVGFibGUoIHsKICogICAgICAgIHJlc3BvbnNpdmU6IHRydWUKICogICAgICB9ICk7CiAqICAgIH0gKTsKICovCnZhciBSZXNwb25zaXZlID0gZnVuY3Rpb24gKCBzZXR0aW5ncywgb3B0cyApIHsKCS8vIFNhbml0eSBjaGVjayB0aGF0IHdlIGFyZSB1c2luZyBEYXRhVGFibGVzIDEuMTAgb3IgbmV3ZXIKCWlmICggISBEYXRhVGFibGUudmVyc2lvbkNoZWNrIHx8ICEgRGF0YVRhYmxlLnZlcnNpb25DaGVjayggJzEuMTAuMScgKSApIHsKCQl0aHJvdyAnRGF0YVRhYmxlcyBSZXNwb25zaXZlIHJlcXVpcmVzIERhdGFUYWJsZXMgMS4xMC4xIG9yIG5ld2VyJzsKCX0KCWVsc2UgaWYgKCBzZXR0aW5ncy5yZXNwb25zaXZlICkgewoJCXJldHVybjsKCX0KCgl0aGlzLnMgPSB7CgkJZHQ6IG5ldyBEYXRhVGFibGUuQXBpKCBzZXR0aW5ncyApLAoJCWNvbHVtbnM6IFtdCgl9OwoKCS8vIGRldGFpbHMgaXMgYW4gb2JqZWN0LCBidXQgZm9yIHNpbXBsaWNpdHkgdGhlIHVzZXIgY2FuIGdpdmUgaXQgYXMgYSBzdHJpbmcKCWlmICggb3B0cyAmJiB0eXBlb2Ygb3B0cy5kZXRhaWxzID09PSAnc3RyaW5nJyApIHsKCQlvcHRzLmRldGFpbHMgPSB7IHR5cGU6IG9wdHMuZGV0YWlscyB9OwoJfQoKCXRoaXMuYyA9ICQuZXh0ZW5kKCB0cnVlLCB7fSwgUmVzcG9uc2l2ZS5kZWZhdWx0cywgb3B0cyApOwoJc2V0dGluZ3MucmVzcG9uc2l2ZSA9IHRoaXM7Cgl0aGlzLl9jb25zdHJ1Y3RvcigpOwp9OwoKUmVzcG9uc2l2ZS5wcm90b3R5cGUgPSB7CgkvKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqCgkgKiBDb25zdHJ1Y3RvcgoJICovCgoJLyoqCgkgKiBJbml0aWFsaXNlIHRoZSBSZXNwb25zaXZlIGluc3RhbmNlCgkgKgoJICogQHByaXZhdGUKCSAqLwoJX2NvbnN0cnVjdG9yOiBmdW5jdGlvbiAoKQoJewoJCXZhciB0aGF0ID0gdGhpczsKCQl2YXIgZHQgPSB0aGlzLnMuZHQ7CgoJCWR0LnNldHRpbmdzKClbMF0uX3Jlc3BvbnNpdmUgPSB0aGlzOwoKCQkvLyBVc2UgRGF0YVRhYmxlcycgcHJpdmF0ZSB0aHJvdHRsZSBmdW5jdGlvbiB0byBhdm9pZCBwcm9jZXNzb3IgdGhyYXNoaW5nCgkJJCh3aW5kb3cpLm9uKCAncmVzaXplLmR0ciBvcmllbnRhdGlvbmNoYW5nZS5kdHInLCBkdC5zZXR0aW5ncygpWzBdLm9BcGkuX2ZuVGhyb3R0bGUoIGZ1bmN0aW9uICgpIHsKCQkJdGhhdC5fcmVzaXplKCk7CgkJfSApICk7CgoJCS8vIERlc3Ryb3kgZXZlbnQgaGFuZGxlcgoJCWR0Lm9uKCAnZGVzdHJveS5kdHInLCBmdW5jdGlvbiAoKSB7CgkJCSQod2luZG93KS5vZmYoICdyZXNpemUuZHRyIG9yaWVudGF0aW9uY2hhbmdlLmR0cicgKTsKCQl9ICk7CgoJCS8vIFJlb3JkZXIgdGhlIGJyZWFrcG9pbnRzIGFycmF5IGhlcmUgaW4gY2FzZSB0aGV5IGhhdmUgYmVlbiBhZGRlZCBvdXQKCQkvLyBvZiBvcmRlcgoJCXRoaXMuYy5icmVha3BvaW50cy5zb3J0KCBmdW5jdGlvbiAoYSwgYikgewoJCQlyZXR1cm4gYS53aWR0aCA8IGIud2lkdGggPyAxIDoKCQkJCWEud2lkdGggPiBiLndpZHRoID8gLTEgOiAwOwoJCX0gKTsKCgkJdGhpcy5fY2xhc3NMb2dpYygpOwoJCXRoaXMuX3Jlc2l6ZUF1dG8oKTsKCgkJLy8gRmlyc3QgcGFzcyAtIGRyYXcgdGhlIHRhYmxlIGZvciB0aGUgY3VycmVudCB2aWV3cG9ydCBzaXplCgkJdGhpcy5fcmVzaXplKCk7CgoJCS8vIERldGFpbHMgaGFuZGxlcgoJCXZhciBkZXRhaWxzID0gdGhpcy5jLmRldGFpbHM7CgkJaWYgKCBkZXRhaWxzLnR5cGUgKSB7CgkJCXRoYXQuX2RldGFpbHNJbml0KCk7CgkJCXRoaXMuX2RldGFpbHNWaXMoKTsKCgkJCWR0Lm9uKCAnY29sdW1uLXZpc2liaWxpdHkuZHRyJywgZnVuY3Rpb24gKCkgewoJCQkJdGhhdC5fZGV0YWlsc1ZpcygpOwoJCQl9ICk7CgoJCQkkKGR0LnRhYmxlKCkubm9kZSgpKS5hZGRDbGFzcyggJ2R0ci0nK2RldGFpbHMudHlwZSApOwoJCX0KCX0sCgoKCS8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICoKCSAqIFByaXZhdGUgbWV0aG9kcwoJICovCgoJLyoqCgkgKiBDYWxjdWxhdGUgdGhlIHZpc2liaWxpdHkgZm9yIHRoZSBjb2x1bW5zIGluIGEgdGFibGUgZm9yIGEgZ2l2ZW4KCSAqIGJyZWFrcG9pbnQuIFRoZSByZXN1bHQgaXMgcHJlLWRldGVybWluZWQgYmFzZWQgb24gdGhlIGNsYXNzIGxvZ2ljIGlmCgkgKiBjbGFzcyBuYW1lcyBhcmUgdXNlZCB0byBjb250cm9sIGFsbCBjb2x1bW5zLCBidXQgdGhlIHdpZHRoIG9mIHRoZSB0YWJsZQoJICogaXMgYWxzbyB1c2VkIGlmIHRoZXJlIGFyZSBjb2x1bW5zIHdoaWNoIGFyZSB0byBiZSBhdXRvbWF0aWNhbGx5IHNob3duCgkgKiBhbmQgaGlkZGVuLgoJICoKCSAqIEBwYXJhbSAge3N0cmluZ30gYnJlYWtwb2ludCBCcmVha3BvaW50IG5hbWUgdG8gdXNlIGZvciB0aGUgY2FsY3VsYXRpb24KCSAqIEByZXR1cm4ge2FycmF5fSBBcnJheSBvZiBib29sZWFuIHZhbHVlcyBpbml0aWF0aW5nIHRoZSB2aXNpYmlsaXR5IG9mIGVhY2gKCSAqICAgY29sdW1uLgoJICogIEBwcml2YXRlCgkgKi8KCV9jb2x1bW5zVmlzaWJsaXR5OiBmdW5jdGlvbiAoIGJyZWFrcG9pbnQgKQoJewoJCXZhciBkdCA9IHRoaXMucy5kdDsKCQl2YXIgY29sdW1ucyA9IHRoaXMucy5jb2x1bW5zOwoJCXZhciBpLCBpZW47CgoJCS8vIENsYXNzIGxvZ2ljIC0gZGV0ZXJtaW5lIHdoaWNoIGNvbHVtbnMgYXJlIGluIHRoaXMgYnJlYWtwb2ludCBiYXNlZAoJCS8vIG9uIHRoZSBjbGFzc2VzLiBJZiBubyBjbGFzcyBjb250cm9sIChpLmUuIGBhdXRvYCkgdGhlbiBgLWAgaXMgdXNlZAoJCS8vIHRvIGluZGljYXRlIHRoaXMgdG8gdGhlIHJlc3Qgb2YgdGhlIGZ1bmN0aW9uCgkJdmFyIGRpc3BsYXkgPSAkLm1hcCggY29sdW1ucywgZnVuY3Rpb24gKCBjb2wgKSB7CgkJCXJldHVybiBjb2wuYXV0byAmJiBjb2wubWluV2lkdGggPT09IG51bGwgPwoJCQkJZmFsc2UgOgoJCQkJY29sLmF1dG8gPT09IHRydWUgPwoJCQkJCSctJyA6CgkJCQkJY29sLmluY2x1ZGVJbi5pbmRleE9mKCBicmVha3BvaW50ICkgIT09IC0xOwoJCX0gKTsKCgkJLy8gQXV0byBjb2x1bW4gY29udHJvbCAtIGZpcnN0IHBhc3M6IGhvdyBtdWNoIHdpZHRoIGlzIHRha2VuIGJ5IHRoZQoJCS8vIG9uZXMgdGhhdCBtdXN0IGJlIGluY2x1ZGVkIGZyb20gdGhlIG5vbi1hdXRvIGNvbHVtbnMKCQl2YXIgcmVxdWlyZWRXaWR0aCA9IDA7CgkJZm9yICggaT0wLCBpZW49ZGlzcGxheS5sZW5ndGggOyBpPGllbiA7IGkrKyApIHsKCQkJaWYgKCBkaXNwbGF5W2ldID09PSB0cnVlICkgewoJCQkJcmVxdWlyZWRXaWR0aCArPSBjb2x1bW5zW2ldLm1pbldpZHRoOwoJCQl9CgkJfQoKCQkvLyBTZWNvbmQgcGFzcywgdXNlIHVwIGFueSByZW1haW5pbmcgd2lkdGggZm9yIG90aGVyIGNvbHVtbnMKCQl2YXIgd2lkdGhBdmFpbGFibGUgPSBkdC50YWJsZSgpLmNvbnRhaW5lcigpLm9mZnNldFdpZHRoOwoJCXZhciB1c2VkV2lkdGggPSB3aWR0aEF2YWlsYWJsZSAtIHJlcXVpcmVkV2lkdGg7CgoJCWZvciAoIGk9MCwgaWVuPWRpc3BsYXkubGVuZ3RoIDsgaTxpZW4gOyBpKysgKSB7CgkJCS8vIENvbnRyb2wgY29sdW1uIG5lZWRzIHRvIGFsd2F5cyBiZSBpbmNsdWRlZC4gVGhpcyBtYWtlcyBpdCBzdWItCgkJCS8vIG9wdGltYWwgaW4gdGVybXMgb2YgdXNpbmcgdGhlIGF2YWlsYWJsZSB3aXRoLCBidXQgdG8gc3RvcCBsYXlvdXQKCQkJLy8gdGhyYXNoaW5nIG9yIG92ZXJmbG93CgkJCWlmICggY29sdW1uc1tpXS5jb250cm9sICkgewoJCQkJdXNlZFdpZHRoIC09IGNvbHVtbnNbaV0ubWluV2lkdGg7CgkJCX0KCQkJZWxzZSBpZiAoIGRpc3BsYXlbaV0gPT09ICctJyApIHsKCQkJCS8vIE90aGVyd2lzZSwgcmVtb3ZlIHRoZSB3aWR0aAoJCQkJZGlzcGxheVtpXSA9IHVzZWRXaWR0aCAtIGNvbHVtbnNbaV0ubWluV2lkdGggPCAwID8KCQkJCQlmYWxzZSA6CgkJCQkJdHJ1ZTsKCgkJCQkvLyBDb250aW51ZSBjb3VudGluZyBkb3duIHRoZSB3aWR0aCwgc28gYSBzbWFsbGVyIGNvbHVtbiB0byB0aGUKCQkJCS8vIGxlZnQgd29uJ3QgYmUgc2hvd24KCQkJCXVzZWRXaWR0aCAtPSBjb2x1bW5zW2ldLm1pbldpZHRoOwoJCQl9CgkJfQoKCQkvLyBEZXRlcm1pbmUgaWYgdGhlICdjb250cm9sJyBjb2x1bW4gc2hvdWxkIGJlIHNob3duIChpZiB0aGVyZSBpcyBvbmUpLgoJCS8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiB0aGVyZSBpcyBhIGhpZGRlbiBjb2x1bW4gKHRoYXQgaXMgbm90IHRoZQoJCS8vIGNvbnRyb2wgY29sdW1uKS4gVGhlIHR3byBsb29wcyBsb29rIGluZWZmaWNpZW50IGhlcmUsIGJ1dCB0aGV5IGFyZQoJCS8vIHRyaXZpYWwgYW5kIHdpbGwgZmx5IHRocm91Z2guIFdlIG5lZWQgdG8ga25vdyB0aGUgb3V0Y29tZSBmcm9tIHRoZQoJCS8vIGZpcnN0ICwgYmVmb3JlIHRoZSBhY3Rpb24gaW4gdGhlIHNlY29uZCBjYW4gYmUgdGFrZW4KCQl2YXIgc2hvd0NvbnRyb2wgPSBmYWxzZTsKCgkJZm9yICggaT0wLCBpZW49Y29sdW1ucy5sZW5ndGggOyBpPGllbiA7IGkrKyApIHsKCQkJaWYgKCAhIGNvbHVtbnNbaV0uY29udHJvbCAmJiAhIGRpc3BsYXlbaV0gKSB7CgkJCQlzaG93Q29udHJvbCA9IHRydWU7CgkJCQlicmVhazsKCQkJfQoJCX0KCgkJZm9yICggaT0wLCBpZW49Y29sdW1ucy5sZW5ndGggOyBpPGllbiA7IGkrKyApIHsKCQkJaWYgKCBjb2x1bW5zW2ldLmNvbnRyb2wgKSB7CgkJCQlkaXNwbGF5W2ldID0gc2hvd0NvbnRyb2w7CgkJCX0KCQl9CgoJCXJldHVybiBkaXNwbGF5OwoJfSwKCgoJLyoqCgkgKiBDcmVhdGUgdGhlIGludGVybmFsIGBjb2x1bW5zYCBhcnJheSB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjb2x1bW5zCgkgKiBmb3IgdGhlIHRhYmxlLiBUaGlzIGluY2x1ZGVzIGRldGVybWluaW5nIHdoaWNoIGJyZWFrcG9pbnRzIHRoZSBjb2x1bW4KCSAqIHdpbGwgYXBwZWFyIGluLCBiYXNlZCB1cG9uIGNsYXNzIG5hbWVzIGluIHRoZSBjb2x1bW4sIHdoaWNoIG1ha2VzIHVwIHRoZQoJICogdmFzdCBtYWpvcml0eSBvZiB0aGlzIG1ldGhvZC4KCSAqCgkgKiBAcHJpdmF0ZQoJICovCglfY2xhc3NMb2dpYzogZnVuY3Rpb24gKCkKCXsKCQl2YXIgdGhhdCA9IHRoaXM7CgkJdmFyIGNhbGMgPSB7fTsKCQl2YXIgYnJlYWtwb2ludHMgPSB0aGlzLmMuYnJlYWtwb2ludHM7CgkJdmFyIGNvbHVtbnMgPSB0aGlzLnMuZHQuY29sdW1ucygpLmVxKDApLm1hcCggZnVuY3Rpb24gKGkpIHsKCQkJcmV0dXJuIHsKCQkJCWNsYXNzTmFtZTogdGhpcy5jb2x1bW4oaSkuaGVhZGVyKCkuY2xhc3NOYW1lLAoJCQkJaW5jbHVkZUluOiBbXSwKCQkJCWF1dG86ICAgICAgZmFsc2UsCgkJCQljb250cm9sOiAgIGZhbHNlCgkJCX07CgkJfSApOwoKCQkvLyBTaW1wbHkgYWRkIGEgYnJlYWtwb2ludCB0byBgaW5jbHVkZUluYCBhcnJheSwgZW5zdXJpbmcgdGhhdCB0aGVyZSBhcmUKCQkvLyBubyBkdXBsaWNhdGVzCgkJdmFyIGFkZCA9IGZ1bmN0aW9uICggY29sSWR4LCBuYW1lICkgewoJCQl2YXIgaW5jbHVkZUluID0gY29sdW1uc1sgY29sSWR4IF0uaW5jbHVkZUluOwoKCQkJaWYgKCBpbmNsdWRlSW4uaW5kZXhPZiggbmFtZSApID09PSAtMSApIHsKCQkJCWluY2x1ZGVJbi5wdXNoKCBuYW1lICk7CgkJCX0KCQl9OwoKCQl2YXIgY29sdW1uID0gZnVuY3Rpb24gKCBjb2xJZHgsIG5hbWUsIG9wZXJhdG9yLCBtYXRjaGVkICkgewoJCQl2YXIgc2l6ZSwgaSwgaWVuOwoKCQkJaWYgKCAhIG9wZXJhdG9yICkgewoJCQkJY29sdW1uc1sgY29sSWR4IF0uaW5jbHVkZUluLnB1c2goIG5hbWUgKTsKCQkJfQoJCQllbHNlIGlmICggb3BlcmF0b3IgPT09ICdtYXgtJyApIHsKCQkJCS8vIEFkZCB0aGlzIGJyZWFrcG9pbnQgYW5kIGFsbCBzbWFsbGVyCgkJCQlzaXplID0gdGhhdC5fZmluZCggbmFtZSApLndpZHRoOwoKCQkJCWZvciAoIGk9MCwgaWVuPWJyZWFrcG9pbnRzLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkgewoJCQkJCWlmICggYnJlYWtwb2ludHNbaV0ud2lkdGggPD0gc2l6ZSApIHsKCQkJCQkJYWRkKCBjb2xJZHgsIGJyZWFrcG9pbnRzW2ldLm5hbWUgKTsKCQkJCQl9CgkJCQl9CgkJCX0KCQkJZWxzZSBpZiAoIG9wZXJhdG9yID09PSAnbWluLScgKSB7CgkJCQkvLyBBZGQgdGhpcyBicmVha3BvaW50IGFuZCBhbGwgbGFyZ2VyCgkJCQlzaXplID0gdGhhdC5fZmluZCggbmFtZSApLndpZHRoOwoKCQkJCWZvciAoIGk9MCwgaWVuPWJyZWFrcG9pbnRzLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkgewoJCQkJCWlmICggYnJlYWtwb2ludHNbaV0ud2lkdGggPj0gc2l6ZSApIHsKCQkJCQkJYWRkKCBjb2xJZHgsIGJyZWFrcG9pbnRzW2ldLm5hbWUgKTsKCQkJCQl9CgkJCQl9CgkJCX0KCQkJZWxzZSBpZiAoIG9wZXJhdG9yID09PSAnbm90LScgKSB7CgkJCQkvLyBBZGQgYWxsIGJ1dCB0aGlzIGJyZWFrcG9pbnQgKHh4eCBuZWVkIGV4dHJhIGluZm9ybWF0aW9uKQoKCQkJCWZvciAoIGk9MCwgaWVuPWJyZWFrcG9pbnRzLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkgewoJCQkJCWlmICggYnJlYWtwb2ludHNbaV0ubmFtZS5pbmRleE9mKCBtYXRjaGVkICkgPT09IC0xICkgewoJCQkJCQlhZGQoIGNvbElkeCwgYnJlYWtwb2ludHNbaV0ubmFtZSApOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX07CgoJCS8vIExvb3Agb3ZlciBlYWNoIGNvbHVtbiBhbmQgZGV0ZXJtaW5lIGlmIGl0IGhhcyBhIHJlc3BvbnNpdmUgY29udHJvbAoJCS8vIGNsYXNzCgkJY29sdW1ucy5lYWNoKCBmdW5jdGlvbiAoIGNvbCwgaSApIHsKCQkJdmFyIGNsYXNzTmFtZXMgPSBjb2wuY2xhc3NOYW1lLnNwbGl0KCcgJyk7CgkJCXZhciBoYXNDbGFzcyA9IGZhbHNlOwoKCQkJLy8gU3BsaXQgdGhlIGNsYXNzIG5hbWUgdXAgc28gbXVsdGlwbGUgcnVsZXMgY2FuIGJlIGFwcGxpZWQgaWYgbmVlZGVkCgkJCWZvciAoIHZhciBrPTAsIGtlbj1jbGFzc05hbWVzLmxlbmd0aCA7IGs8a2VuIDsgaysrICkgewoJCQkJdmFyIGNsYXNzTmFtZSA9ICQudHJpbSggY2xhc3NOYW1lc1trXSApOwoKCQkJCWlmICggY2xhc3NOYW1lID09PSAnYWxsJyApIHsKCQkJCQkvLyBJbmNsdWRlIGluIGFsbAoJCQkJCWhhc0NsYXNzID0gdHJ1ZTsKCQkJCQljb2wuaW5jbHVkZUluID0gJC5tYXAoIGJyZWFrcG9pbnRzLCBmdW5jdGlvbiAoYSkgewoJCQkJCQlyZXR1cm4gYS5uYW1lOwoJCQkJCX0gKTsKCQkJCQlyZXR1cm47CgkJCQl9CgkJCQllbHNlIGlmICggY2xhc3NOYW1lID09PSAnbm9uZScgKSB7CgkJCQkJLy8gSW5jbHVkZSBpbiBub25lIChkZWZhdWx0KSBhbmQgbm8gYXV0bwoJCQkJCWhhc0NsYXNzID0gdHJ1ZTsKCQkJCQlyZXR1cm47CgkJCQl9CgkJCQllbHNlIGlmICggY2xhc3NOYW1lID09PSAnY29udHJvbCcgKSB7CgkJCQkJLy8gU3BlY2lhbCBjb2x1bW4gdGhhdCBpcyBvbmx5IHZpc2libGUsIHdoZW4gb25lIG9mIHRoZSBvdGhlcgoJCQkJCS8vIGNvbHVtbnMgaXMgaGlkZGVuLiBUaGlzIGlzIHVzZWQgZm9yIHRoZSBkZXRhaWxzIGNvbnRyb2wKCQkJCQloYXNDbGFzcyA9IHRydWU7CgkJCQkJY29sLmNvbnRyb2wgPSB0cnVlOwoJCQkJCXJldHVybjsKCQkJCX0KCgkJCQkkLmVhY2goIGJyZWFrcG9pbnRzLCBmdW5jdGlvbiAoIGosIGJyZWFrcG9pbnQgKSB7CgkJCQkJLy8gRG9lcyB0aGlzIGNvbHVtbiBoYXZlIGEgY2xhc3MgdGhhdCBtYXRjaGVzIHRoaXMgYnJlYWtwb2ludD8KCQkJCQl2YXIgYnJva2VuUG9pbnQgPSBicmVha3BvaW50Lm5hbWUuc3BsaXQoJy0nKTsKCQkJCQl2YXIgcmUgPSBuZXcgUmVnRXhwKCAnKG1pblxcLXxtYXhcXC18bm90XFwtKT8oJyticm9rZW5Qb2ludFswXSsnKShcXC1bX2EtekEtWjAtOV0pPycgKTsKCQkJCQl2YXIgbWF0Y2ggPSBjbGFzc05hbWUubWF0Y2goIHJlICk7CgoJCQkJCWlmICggbWF0Y2ggKSB7CgkJCQkJCWhhc0NsYXNzID0gdHJ1ZTsKCgkJCQkJCWlmICggbWF0Y2hbMl0gPT09IGJyb2tlblBvaW50WzBdICYmIG1hdGNoWzNdID09PSAnLScrYnJva2VuUG9pbnRbMV0gKSB7CgkJCQkJCQkvLyBDbGFzcyBuYW1lIG1hdGNoZXMgYnJlYWtwb2ludCBuYW1lIGZ1bGx5CgkJCQkJCQljb2x1bW4oIGksIGJyZWFrcG9pbnQubmFtZSwgbWF0Y2hbMV0sIG1hdGNoWzJdK21hdGNoWzNdICk7CgkJCQkJCX0KCQkJCQkJZWxzZSBpZiAoIG1hdGNoWzJdID09PSBicm9rZW5Qb2ludFswXSAmJiAhIG1hdGNoWzNdICkgewoJCQkJCQkJLy8gQ2xhc3MgbmFtZSBtYXRjaGVkIHByaW1hcnkgYnJlYWtwb2ludCBuYW1lIHdpdGggbm8gcXVhbGlmaWVyCgkJCQkJCQljb2x1bW4oIGksIGJyZWFrcG9pbnQubmFtZSwgbWF0Y2hbMV0sIG1hdGNoWzJdICk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9ICk7CgkJCX0KCgkJCS8vIElmIHRoZXJlIHdhcyBubyBjb250cm9sIGNsYXNzLCB0aGVuIGF1dG9tYXRpYyBzaXppbmcgaXMgdXNlZAoJCQlpZiAoICEgaGFzQ2xhc3MgKSB7CgkJCQljb2wuYXV0byA9IHRydWU7CgkJCX0KCQl9ICk7CgoJCXRoaXMucy5jb2x1bW5zID0gY29sdW1uczsKCX0sCgoKCS8qKgoJICogSW5pdGlhbGlzYXRpb24gZm9yIHRoZSBkZXRhaWxzIGhhbmRsZXIKCSAqCgkgKiBAcHJpdmF0ZQoJICovCglfZGV0YWlsc0luaXQ6IGZ1bmN0aW9uICgpCgl7CgkJdmFyIHRoYXQgICAgPSB0aGlzOwoJCXZhciBkdCAgICAgID0gdGhpcy5zLmR0OwoJCXZhciBkZXRhaWxzID0gdGhpcy5jLmRldGFpbHM7CgoJCS8vIFRoZSBpbmxpbmUgdHlwZSBhbHdheXMgdXNlcyB0aGUgZmlyc3QgY2hpbGQgYXMgdGhlIHRhcmdldAoJCWlmICggZGV0YWlscy50eXBlID09PSAnaW5saW5lJyApIHsKCQkJZGV0YWlscy50YXJnZXQgPSAndGQ6Zmlyc3QtY2hpbGQnOwoJCX0KCgkJLy8gdHlwZS50YXJnZXQgY2FuIGJlIGEgc3RyaW5nIGpRdWVyeSBzZWxlY3RvciBvciBhIGNvbHVtbiBpbmRleAoJCXZhciB0YXJnZXQgICA9IGRldGFpbHMudGFyZ2V0OwoJCXZhciBzZWxlY3RvciA9IHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnID8gdGFyZ2V0IDogJ3RkJzsKCgkJLy8gQ2xpY2sgaGFuZGxlciB0byBzaG93IC8gaGlkZSB0aGUgZGV0YWlscyByb3dzIHdoZW4gdGhleSBhcmUgYXZhaWxhYmxlCgkJJCggZHQudGFibGUoKS5ib2R5KCkgKS5vbiggJ2NsaWNrJywgc2VsZWN0b3IsIGZ1bmN0aW9uIChlKSB7CgkJCS8vIElmIHRoZSB0YWJsZSBpcyBub3QgY29sbGFwc2VkIChpLmUuIHRoZXJlIGlzIG5vIGhpZGRlbiBjb2x1bW5zKQoJCQkvLyB0aGVuIHRha2Ugbm8gYWN0aW9uCgkJCWlmICggISAkKGR0LnRhYmxlKCkubm9kZSgpKS5oYXNDbGFzcygnY29sbGFwc2VkJyApICkgewoJCQkJcmV0dXJuOwoJCQl9CgoJCQkvLyBGb3IgY29sdW1uIGluZGV4LCB3ZSBkZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIGFjdCBvciBub3QgaW4gdGhlCgkJCS8vIGhhbmRsZXIgLSBvdGhlcndpc2UgaXQgaXMgYWxyZWFkeSBva2F5CgkJCWlmICggdHlwZW9mIHRhcmdldCA9PT0gJ251bWJlcicgKSB7CgkJCQl2YXIgdGFyZ2V0SWR4ID0gdGFyZ2V0IDwgMCA\/CgkJCQkJZHQuY29sdW1ucygpLmVxKDApLmxlbmd0aCArIHRhcmdldCA6CgkJCQkJdGFyZ2V0OwoKCQkJCWlmICggZHQuY2VsbCggdGhpcyApLmluZGV4KCkuY29sdW1uICE9PSB0YXJnZXRJZHggKSB7CgkJCQkJcmV0dXJuOwoJCQkJfQoJCQl9CgoJCQkvLyAkKCkuY2xvc2VzdCgpIGluY2x1ZGVzIGl0c2VsZiBpbiBpdHMgY2hlY2sKCQkJdmFyIHJvdyA9IGR0LnJvdyggJCh0aGlzKS5jbG9zZXN0KCd0cicpICk7CgoJCQlpZiAoIHJvdy5jaGlsZC5pc1Nob3duKCkgKSB7CgkJCQlyb3cuY2hpbGQoIGZhbHNlICk7CgkJCQkkKCByb3cubm9kZSgpICkucmVtb3ZlQ2xhc3MoICdwYXJlbnQnICk7CgkJCX0KCQkJZWxzZSB7CgkJCQl2YXIgaW5mbyA9IHRoYXQuYy5kZXRhaWxzLnJlbmRlcmVyKCBkdCwgcm93WzBdICk7CgkJCQlyb3cuY2hpbGQoIGluZm8sICdjaGlsZCcgKS5zaG93KCk7CgkJCQkkKCByb3cubm9kZSgpICkuYWRkQ2xhc3MoICdwYXJlbnQnICk7CgkJCX0KCQl9ICk7Cgl9LAoKCgkvKioKCSAqIFVwZGF0ZSB0aGUgY2hpbGQgcm93cyBpbiB0aGUgdGFibGUgd2hlbmV2ZXIgdGhlIGNvbHVtbiB2aXNpYmlsaXR5IGNoYW5nZXMKCSAqCgkgKiBAcHJpdmF0ZQoJICovCglfZGV0YWlsc1ZpczogZnVuY3Rpb24gKCkKCXsKCQl2YXIgdGhhdCA9IHRoaXM7CgkJdmFyIGR0ID0gdGhpcy5zLmR0OwoKCQl2YXIgaGlkZGVuQ29sdW1ucyA9IGR0LmNvbHVtbnMoJzpoaWRkZW4nKS5pbmRleGVzKCkuZmxhdHRlbigpOwoJCXZhciBoYXZlSGlkZGVuID0gdHJ1ZTsKCgkJaWYgKCBoaWRkZW5Db2x1bW5zLmxlbmd0aCA9PT0gMCB8fCAoIGhpZGRlbkNvbHVtbnMubGVuZ3RoID09PSAxICYmIHRoaXMucy5jb2x1bW5zWyBoaWRkZW5Db2x1bW5zWzBdIF0uY29udHJvbCApICkgewoJCQloYXZlSGlkZGVuID0gZmFsc2U7CgkJfQoKCQlpZiAoIGhhdmVIaWRkZW4gKSB7CgkJCS8vIEdvdCBoaWRkZW4gY29sdW1ucwoJCQkkKCBkdC50YWJsZSgpLm5vZGUoKSApLmFkZENsYXNzKCdjb2xsYXBzZWQnKTsKCgkJCS8vIFNob3cgYWxsIGV4aXN0aW5nIGNoaWxkIHJvd3MKCQkJZHQucm93cygpLmVxKDApLmVhY2goIGZ1bmN0aW9uIChpZHgpIHsKCQkJCXZhciByb3cgPSBkdC5yb3coIGlkeCApOwoKCQkJCWlmICggcm93LmNoaWxkKCkgKSB7CgkJCQkJdmFyIGluZm8gPSB0aGF0LmMuZGV0YWlscy5yZW5kZXJlciggZHQsIHJvd1swXSApOwoKCQkJCQkvLyBUaGUgcmVuZGVyZXIgY2FuIHJldHVybiBmYWxzZSB0byBoYXZlIG5vIGNoaWxkIHJvdwoJCQkJCWlmICggaW5mbyA9PT0gZmFsc2UgKSB7CgkJCQkJCXJvdy5jaGlsZC5oaWRlKCk7CgkJCQkJfQoJCQkJCWVsc2UgewoJCQkJCQlyb3cuY2hpbGQoIGluZm8sICdjaGlsZCcgKS5zaG93KCk7CgkJCQkJfQoJCQkJfQoJCQl9ICk7CgkJfQoJCWVsc2UgewoJCQkvLyBObyBoaWRkZW4gY29sdW1ucwoJCQkkKCBkdC50YWJsZSgpLm5vZGUoKSApLnJlbW92ZUNsYXNzKCdjb2xsYXBzZWQnKTsKCgkJCS8vIEhpZGUgYWxsIGV4aXN0aW5nIGNoaWxkIHJvd3MKCQkJZHQucm93cygpLmVxKDApLmVhY2goIGZ1bmN0aW9uIChpZHgpIHsKCQkJCWR0LnJvdyggaWR4ICkuY2hpbGQuaGlkZSgpOwoJCQl9ICk7CgkJfQoJfSwKCgoJLyoqCgkgKiBGaW5kIGEgYnJlYWtwb2ludCBvYmplY3QgZnJvbSBhIG5hbWUKCSAqIEBwYXJhbSAge3N0cmluZ30gbmFtZSBCcmVha3BvaW50IG5hbWUgdG8gZmluZAoJICogQHJldHVybiB7b2JqZWN0fSAgICAgIEJyZWFrcG9pbnQgZGVzY3JpcHRpb24gb2JqZWN0CgkgKi8KCV9maW5kOiBmdW5jdGlvbiAoIG5hbWUgKQoJewoJCXZhciBicmVha3BvaW50cyA9IHRoaXMuYy5icmVha3BvaW50czsKCgkJZm9yICggdmFyIGk9MCwgaWVuPWJyZWFrcG9pbnRzLmxlbmd0aCA7IGk8aWVuIDsgaSsrICkgewoJCQlpZiAoIGJyZWFrcG9pbnRzW2ldLm5hbWUgPT09IG5hbWUgKSB7CgkJCQlyZXR1cm4gYnJlYWtwb2ludHNbaV07CgkJCX0KCQl9Cgl9LAoKCgkvKioKCSAqIEFsdGVyIHRoZSB0YWJsZSBkaXNwbGF5IGZvciBhIHJlc2l6ZWQgdmlld3BvcnQuIFRoaXMgaW52b2x2ZXMgZmlyc3QKCSAqIGRldGVybWluaW5nIHdoYXQgYnJlYWtwb2ludCB0aGUgd2luZG93IGN1cnJlbnRseSBpcyBpbiwgZ2V0dGluZyB0aGUKCSAqIGNvbHVtbiB2aXNpYmlsaXRpZXMgdG8gYXBwbHkgYW5kIHRoZW4gc2V0dGluZyB0aGVtLgoJICoKCSAqIEBwcml2YXRlCgkgKi8KCV9yZXNpemU6IGZ1bmN0aW9uICgpCgl7CgkJdmFyIGR0ID0gdGhpcy5zLmR0OwoJCXZhciB3aWR0aCA9ICQod2luZG93KS53aWR0aCgpOwoJCXZhciBicmVha3BvaW50cyA9IHRoaXMuYy5icmVha3BvaW50czsKCQl2YXIgYnJlYWtwb2ludCA9IGJyZWFrcG9pbnRzWzBdLm5hbWU7CgoJCS8vIERldGVybWluZSB3aGF0IGJyZWFrcG9pbnQgd2UgYXJlIGN1cnJlbnRseSBhdAoJCWZvciAoIHZhciBpPWJyZWFrcG9pbnRzLmxlbmd0aC0xIDsgaT49MCA7IGktLSApIHsKCQkJaWYgKCB3aWR0aCA8PSBicmVha3BvaW50c1tpXS53aWR0aCApIHsKCQkJCWJyZWFrcG9pbnQgPSBicmVha3BvaW50c1tpXS5uYW1lOwoJCQkJYnJlYWs7CgkJCX0KCQl9CgkJCgkJLy8gU2hvdyB0aGUgY29sdW1ucyBmb3IgdGhhdCBicmVhayBwb2ludAoJCXZhciBjb2x1bW5zID0gdGhpcy5fY29sdW1uc1Zpc2libGl0eSggYnJlYWtwb2ludCApOwoKCQlkdC5jb2x1bW5zKCkuZXEoMCkuZWFjaCggZnVuY3Rpb24gKCBjb2xJZHgsIGkgKSB7CgkJCWR0LmNvbHVtbiggY29sSWR4ICkudmlzaWJsZSggY29sdW1uc1tpXSApOwoJCX0gKTsKCX0sCgoKCS8qKgoJICogRGV0ZXJtaW5lIHRoZSB3aWR0aCBvZiBlYWNoIGNvbHVtbiBpbiB0aGUgdGFibGUgc28gdGhlIGF1dG8gY29sdW1uIGhpZGluZwoJICogaGFzIHRoYXQgaW5mb3JtYXRpb24gdG8gd29yayB3aXRoLiBUaGlzIG1ldGhvZCBpcyBuZXZlciBnb2luZyB0byBiZSAxMDAlCgkgKiBwZXJmZWN0IHNpbmNlIGNvbHVtbiB3aWR0aHMgY2FuIGNoYW5nZSBzbGlnaHRseSBwZXIgcGFnZSwgYnV0IHdpdGhvdXQKCSAqIHNlcmlvdXNseSBjb21wcm9taXNpbmcgcGVyZm9ybWFuY2UgdGhpcyBpcyBxdWl0ZSBlZmZlY3RpdmUuCgkgKgoJICogQHByaXZhdGUKCSAqLwoJX3Jlc2l6ZUF1dG86IGZ1bmN0aW9uICgpCgl7CgkJdmFyIGR0ID0gdGhpcy5zLmR0OwoJCXZhciBjb2x1bW5zID0gdGhpcy5zLmNvbHVtbnM7CgoJCS8vIEFyZSB3ZSBhbGxvd2VkIHRvIGRvIGF1dG8gc2l6aW5nPwoJCWlmICggISB0aGlzLmMuYXV0byApIHsKCQkJcmV0dXJuOwoJCX0KCgkJLy8gQXJlIHRoZXJlIGFueSBjb2x1bW5zIHRoYXQgYWN0dWFsbHkgbmVlZCBhdXRvLXNpemluZywgb3IgZG8gdGhleSBhbGwKCQkvLyBoYXZlIGNsYXNzZXMgZGVmaW5lZAoJCWlmICggJC5pbkFycmF5KCB0cnVlLCAkLm1hcCggY29sdW1ucywgZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuYXV0bzsgfSApICkgPT09IC0xICkgewoJCQlyZXR1cm47CgkJfQoKCQkvLyBDbG9uZSB0aGUgdGFibGUgd2l0aCB0aGUgY3VycmVudCBkYXRhIGluIGl0CgkJdmFyIHRhYmxlV2lkdGggICA9IGR0LnRhYmxlKCkubm9kZSgpLm9mZnNldFdpZHRoOwoJCXZhciBjb2x1bW5XaWR0aHMgPSBkdC5jb2x1bW5zOwoJCXZhciBjbG9uZWRUYWJsZSAgPSBkdC50YWJsZSgpLm5vZGUoKS5jbG9uZU5vZGUoIGZhbHNlICk7CgkJdmFyIGNsb25lZEhlYWRlciA9ICQoIGR0LnRhYmxlKCkuaGVhZGVyKCkuY2xvbmVOb2RlKCBmYWxzZSApICkuYXBwZW5kVG8oIGNsb25lZFRhYmxlICk7CgkJdmFyIGNsb25lZEJvZHkgICA9ICQoIGR0LnRhYmxlKCkuYm9keSgpLmNsb25lTm9kZSggZmFsc2UgKSApLmFwcGVuZFRvKCBjbG9uZWRUYWJsZSApOwoKCQkvLyBUaGlzIGlzIGEgYml0IHNsb3csIGJ1dCB3ZSBuZWVkIHRvIGdldCBhIGNsb25lIG9mIGVhY2ggcm93IHRoYXQKCQkvLyBpbmNsdWRlcyBhbGwgY29sdW1ucy4gQXMgc3VjaCwgdHJ5IHRvIGRvIHRoaXMgYXMgbGl0dGxlIGFzIHBvc3NpYmxlLgoJCWR0LnJvd3MoIHsgcGFnZTogJ2N1cnJlbnQnIH0gKS5pbmRleGVzKCkuZWFjaCggZnVuY3Rpb24gKCBpZHggKSB7CgkJCXZhciBjbG9uZSA9IGR0LnJvdyggaWR4ICkubm9kZSgpLmNsb25lTm9kZSggdHJ1ZSApOwoJCQkKCQkJaWYgKCBkdC5jb2x1bW5zKCAnOmhpZGRlbicgKS5mbGF0dGVuKCkubGVuZ3RoICkgewoJCQkJJChjbG9uZSkuYXBwZW5kKCBkdC5jZWxscyggaWR4LCAnOmhpZGRlbicgKS5ub2RlcygpLnRvJCgpLmNsb25lKCkgKTsKCQkJfQoKCQkJJChjbG9uZSkuYXBwZW5kVG8oIGNsb25lZEJvZHkgKTsKCQl9ICk7CgoJCXZhciBjZWxscyAgICAgICAgPSBkdC5jb2x1bW5zKCkuaGVhZGVyKCkudG8kKCkuY2xvbmUoIGZhbHNlICkud3JhcEFsbCgndHInKS5hcHBlbmRUbyggY2xvbmVkSGVhZGVyICk7CgkJdmFyIGluc2VydGVkICAgICA9ICQoJzxkaXYvPicpCgkJCS5jc3MoIHsKCQkJCXdpZHRoOiAxLAoJCQkJaGVpZ2h0OiAxLAoJCQkJb3ZlcmZsb3c6ICdoaWRkZW4nCgkJCX0gKQoJCQkuYXBwZW5kKCBjbG9uZWRUYWJsZSApCgkJCS5pbnNlcnRCZWZvcmUoIGR0LnRhYmxlKCkubm9kZSgpICk7CgoJCS8vIFRoZSBjbG9uZWQgaGVhZGVyIG5vdyBjb250YWlucyB0aGUgc21hbGxlc3QgdGhhdCBlYWNoIGNvbHVtbiBjYW4gYmUKCQlkdC5jb2x1bW5zKCkuZXEoMCkuZWFjaCggZnVuY3Rpb24gKCBpZHggKSB7CgkJCWNvbHVtbnNbaWR4XS5taW5XaWR0aCA9IGNlbGxzWyBpZHggXS5vZmZzZXRXaWR0aCB8fCAwOwoJCX0gKTsKCgkJaW5zZXJ0ZWQucmVtb3ZlKCk7Cgl9Cn07CgoKLyoqCiAqIExpc3Qgb2YgZGVmYXVsdCBicmVha3BvaW50cy4gRWFjaCBpdGVtIGluIHRoZSBhcnJheSBpcyBhbiBvYmplY3Qgd2l0aCB0d28KICogcHJvcGVydGllczoKICoKICogKiBgbmFtZWAgLSB0aGUgYnJlYWtwb2ludCBuYW1lLgogKiAqIGB3aWR0aGAgLSB0aGUgYnJlYWtwb2ludCB3aWR0aAogKgogKiBAbmFtZSBSZXNwb25zaXZlLmJyZWFrcG9pbnRzCiAqIEBzdGF0aWMKICovClJlc3BvbnNpdmUuYnJlYWtwb2ludHMgPSBbCgl7IG5hbWU6ICdkZXNrdG9wJywgIHdpZHRoOiBJbmZpbml0eSB9LAoJeyBuYW1lOiAndGFibGV0LWwnLCB3aWR0aDogMTAyNCB9LAoJeyBuYW1lOiAndGFibGV0LXAnLCB3aWR0aDogNzY4IH0sCgl7IG5hbWU6ICdtb2JpbGUtbCcsIHdpZHRoOiA0ODAgfSwKCXsgbmFtZTogJ21vYmlsZS1wJywgd2lkdGg6IDMyMCB9Cl07CgoKLyoqCiAqIFJlc3BvbnNpdmUgZGVmYXVsdCBzZXR0aW5ncyBmb3IgaW5pdGlhbGlzYXRpb24KICoKICogQG5hbWVzcGFjZQogKiBAbmFtZSBSZXNwb25zaXZlLmRlZmF1bHRzCiAqIEBzdGF0aWMKICovClJlc3BvbnNpdmUuZGVmYXVsdHMgPSB7CgkvKioKCSAqIExpc3Qgb2YgYnJlYWtwb2ludHMgZm9yIHRoZSBpbnN0YW5jZS4gTm90ZSB0aGF0IHRoaXMgbWVhbnMgdGhhdCBlYWNoCgkgKiBpbnN0YW5jZSBjYW4gaGF2ZSBpdHMgb3duIGJyZWFrcG9pbnRzLiBBZGRpdGlvbmFsbHksIHRoZSBicmVha3BvaW50cwoJICogY2Fubm90IGJlIGNoYW5nZWQgb25jZSBhbiBpbnN0YW5jZSBoYXMgYmVlbiBjcmVhc2VkLgoJICoKCSAqIEB0eXBlIHtBcnJheX0KCSAqIEBkZWZhdWx0IFRha2VzIHRoZSB2YWx1ZSBvZiBgUmVzcG9uc2l2ZS5icmVha3BvaW50c2AKCSAqLwoJYnJlYWtwb2ludHM6IFJlc3BvbnNpdmUuYnJlYWtwb2ludHMsCgoJLyoqCgkgKiBFbmFibGUgLyBkaXNhYmxlIGF1dG8gaGlkaW5nIGNhbGN1bGF0aW9ucy4gSXQgY2FuIGhlbHAgdG8gaW5jcmVhc2UKCSAqIHBlcmZvcm1hbmNlIHNsaWdodGx5IGlmIHlvdSBkaXNhYmxlIHRoaXMgb3B0aW9uLCBidXQgYWxsIGNvbHVtbnMgd291bGQKCSAqIG5lZWQgdG8gaGF2ZSBicmVha3BvaW50IGNsYXNzZXMgYXNzaWduZWQgdG8gdGhlbQoJICoKCSAqIEB0eXBlIHtCb29sZWFufQoJICogQGRlZmF1bHQgIGB0cnVlYAoJICovCglhdXRvOiB0cnVlLAoKCS8qKgoJICogRGV0YWlscyBjb250cm9sLiBJZiBnaXZlbiBhcyBhIHN0cmluZyB2YWx1ZSwgdGhlIGB0eXBlYCBwcm9wZXJ0eSBvZiB0aGUKCSAqIGRlZmF1bHQgb2JqZWN0IGlzIHNldCB0byB0aGF0IHZhbHVlLCBhbmQgdGhlIGRlZmF1bHRzIHVzZWQgZm9yIHRoZSByZXN0CgkgKiBvZiB0aGUgb2JqZWN0IC0gdGhpcyBpcyBmb3IgZWFzZSBvZiBpbXBsZW1lbnRhdGlvbi4KCSAqCgkgKiBUaGUgb2JqZWN0IGNvbnNpc3RzIG9mIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczoKCSAqCgkgKiAqIGByZW5kZXJlcmAgLSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCBmb3IgZGlzcGxheSBvZiB0aGUgY2hpbGQgcm93IGRhdGEuCgkgKiAgIFRoZSBkZWZhdWx0IGZ1bmN0aW9uIHdpbGwgc2hvdyB0aGUgZGF0YSBmcm9tIHRoZSBoaWRkZW4gY29sdW1ucwoJICogKiBgdGFyZ2V0YCAtIFVzZWQgYXMgdGhlIHNlbGVjdG9yIGZvciB3aGF0IG9iamVjdHMgdG8gYXR0YWNoIHRoZSBjaGlsZAoJICogICBvcGVuIC8gY2xvc2UgdG8KCSAqICogYHR5cGVgIC0gYGZhbHNlYCB0byBkaXNhYmxlIHRoZSBkZXRhaWxzIGRpc3BsYXksIGBpbmxpbmVgIG9yIGBjb2x1bW5gCgkgKiAgIGZvciB0aGUgdHdvIGNvbnRyb2wgdHlwZXMKCSAqCgkgKiBAdHlwZSB7T2JqZWN0fHN0cmluZ30KCSAqLwoJZGV0YWlsczogewoJCXJlbmRlcmVyOiBmdW5jdGlvbiAoIGFwaSwgcm93SWR4ICkgewoJCQl2YXIgZGF0YSA9IGFwaS5jZWxscyggcm93SWR4LCAnOmhpZGRlbicgKS5lcSgwKS5tYXAoIGZ1bmN0aW9uICggY2VsbCApIHsKCQkJCXZhciBoZWFkZXIgPSAkKCBhcGkuY29sdW1uKCBjZWxsLmNvbHVtbiApLmhlYWRlcigpICk7CgoJCQkJaWYgKCBoZWFkZXIuaGFzQ2xhc3MoICdjb250cm9sJyApICkgewoJCQkJCXJldHVybiAnJzsKCQkJCX0KCgkJCQlyZXR1cm4gJzxsaT4nKwoJCQkJCQknPHNwYW4gY2xhc3M9ImR0ci10aXRsZSI+JysKCQkJCQkJCWhlYWRlci50ZXh0KCkrJzonKwoJCQkJCQknPC9zcGFuPiAnKwoJCQkJCQknPHNwYW4gY2xhc3M9ImR0ci1kYXRhIj4nKwoJCQkJCQkJYXBpLmNlbGwoIGNlbGwgKS5kYXRhKCkrCgkJCQkJCSc8L3NwYW4+JysKCQkJCQknPC9saT4nOwoJCQl9ICkudG9BcnJheSgpLmpvaW4oJycpOwoKCQkJcmV0dXJuIGRhdGEgPwoJCQkJJCgnPHVsLz4nKS5hcHBlbmQoIGRhdGEgKSA6CgkJCQlmYWxzZTsKCQl9LAoKCQl0YXJnZXQ6IDAsCgoJCXR5cGU6ICdpbmxpbmUnCgl9Cn07CgoKLyoKICogQVBJCiAqLwp2YXIgQXBpID0gJC5mbi5kYXRhVGFibGUuQXBpOwoKLy8gRG9lc24ndCBkbyBhbnl0aGluZyAtIHdvcmsgYXJvdW5kIGZvciBhIGJ1ZyBpbiBEVC4uLiBOb3QgZG9jdW1lbnRlZApBcGkucmVnaXN0ZXIoICdyZXNwb25zaXZlKCknLCBmdW5jdGlvbiAoKSB7CglyZXR1cm4gdGhpczsKfSApOwoKQXBpLnJlZ2lzdGVyKCAncmVzcG9uc2l2ZS5yZWNhbGMoKScsIGZ1bmN0aW9uICggcm93SWR4LCBpbnRQYXJzZSwgdmlydHVhbCApIHsKCXRoaXMuaXRlcmF0b3IoICd0YWJsZScsIGZ1bmN0aW9uICggY3R4ICkgewoJCWlmICggY3R4Ll9yZXNwb25zaXZlICkgewoJCQljdHguX3Jlc3BvbnNpdmUuX3Jlc2l6ZUF1dG8oKTsKCQkJY3R4Ll9yZXNwb25zaXZlLl9yZXNpemUoKTsKCQl9Cgl9ICk7Cn0gKTsKCgovKioKICogVmVyc2lvbiBpbmZvcm1hdGlvbgogKgogKiBAbmFtZSBSZXNwb25zaXZlLnZlcnNpb24KICogQHN0YXRpYwogKi8KUmVzcG9uc2l2ZS52ZXJzaW9uID0gJzEuMC4xJzsKCgokLmZuLmRhdGFUYWJsZS5SZXNwb25zaXZlID0gUmVzcG9uc2l2ZTsKJC5mbi5EYXRhVGFibGUuUmVzcG9uc2l2ZSA9IFJlc3BvbnNpdmU7CgovLyBBdHRhY2ggYSBsaXN0ZW5lciB0byB0aGUgZG9jdW1lbnQgd2hpY2ggbGlzdGVucyBmb3IgRGF0YVRhYmxlcyBpbml0aWFsaXNhdGlvbgovLyBldmVudHMgc28gd2UgY2FuIGF1dG9tYXRpY2FsbHkgaW5pdGlhbGlzZQokKGRvY3VtZW50KS5vbiggJ2luaXQuZHQuZHRyJywgZnVuY3Rpb24gKGUsIHNldHRpbmdzLCBqc29uKSB7CglpZiAoICQoc2V0dGluZ3MublRhYmxlKS5oYXNDbGFzcyggJ3Jlc3BvbnNpdmUnICkgfHwKCQkgJChzZXR0aW5ncy5uVGFibGUpLmhhc0NsYXNzKCAnZHQtcmVzcG9uc2l2ZScgKSB8fAoJCSBzZXR0aW5ncy5vSW5pdC5yZXNwb25zaXZlCgkpIHsKCQl2YXIgaW5pdCA9IHNldHRpbmdzLm9Jbml0LnJlc3BvbnNpdmU7CgoJCWlmICggaW5pdCAhPT0gZmFsc2UgKSB7CgkJCW5ldyBSZXNwb25zaXZlKCBzZXR0aW5ncywgJC5pc1BsYWluT2JqZWN0KCBpbml0ICkgPyBpbml0IDoge30gICk7CgkJfQoJfQp9ICk7CgpyZXR1cm4gUmVzcG9uc2l2ZTsKfTsgLy8gL2ZhY3RvcnkKCgovLyBEZWZpbmUgYXMgYW4gQU1EIG1vZHVsZSBpZiBwb3NzaWJsZQppZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHsKCWRlZmluZSggWydqcXVlcnknLCAnZGF0YXRhYmxlcyddLCBmYWN0b3J5ICk7Cn0KZWxzZSBpZiAoIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyApIHsKICAgIC8vIE5vZGUvQ29tbW9uSlMKICAgIGZhY3RvcnkoIHJlcXVpcmUoJ2pxdWVyeScpLCByZXF1aXJlKCdkYXRhdGFibGVzJykgKTsKfQplbHNlIGlmICggalF1ZXJ5ICYmICFqUXVlcnkuZm4uZGF0YVRhYmxlLlJlc3BvbnNpdmUgKSB7CgkvLyBPdGhlcndpc2Ugc2ltcGx5IGluaXRpYWxpc2UgYXMgbm9ybWFsLCBzdG9wcGluZyBtdWx0aXBsZSBldmFsdWF0aW9uCglmYWN0b3J5KCBqUXVlcnksIGpRdWVyeS5mbi5kYXRhVGFibGUgKTsKfQoKCn0pKHdpbmRvdywgZG9jdW1lbnQpOwoK",
    "size": "21084"
}