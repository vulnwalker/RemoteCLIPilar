{
    "namaFile": "pages\/perencanaanKeuangan\/spd\/detailSPD.php",
    "lastUpdate": "2018-08-24+16:59:48.17",
    "contentFile": "PD9waHAKCmNsYXNzIGRldGFpbFNQRE9iaiAgZXh0ZW5kcyBjb25maWdDbGFzc3sKCXZhciAkUHJlZml4ID0gJ2RldGFpbFNQRCc7Cgl2YXIgJGVsQ3VyclBhZ2U9IkhhbERlZmF1bHQiOwoJdmFyICRTSE9XX0NFSyA9IFRSVUU7Cgl2YXIgJFRibE5hbWUgPSAndF9ub21vcl9zcGRfZGV0JzsgLy9kYWZ0YXIKCXZhciAkVGJsTmFtZV9IYXB1cyA9ICdyZWZfcmVrZW5pbmcnOwoJdmFyICRNYXhGbHVzaCA9IDEwOwoJdmFyICRUYmxTdHlsZSA9IGFycmF5KCAna29wdGFibGUnLCAnY2V0YWsnLCdjZXRhaycpOyAvL2JlcmRhc2FyIG1vZGUKCXZhciAkQ29sU3R5bGUgPSBhcnJheSggJ0dhcmlzRGFmdGFyJywgJ0dhcmlzQ2V0YWsnLCdHYXJpc0NldGFrJyk7Cgl2YXIgJEtleUZpZWxkcyA9IGFycmF5KCdJZCcpOwoJdmFyICRGaWVsZFN1bSA9IGFycmF5KCk7Ly9hcnJheSgnam1sX2hhcmdhJyk7Cgl2YXIgJFN1bVZhbHVlID0gYXJyYXkoKTsKCXZhciAkRmllbGRTdW1fQ3AxID0gYXJyYXkoIDE0LCAxMywgMTMpOy8vYmVyZGFzYXIgbW9kZQoJdmFyICRGaWVsZFN1bV9DcDIgPSBhcnJheSggMSwgMSwgMSk7Cgl2YXIgJGNoZWNrYm94X3Jvd3NwYW4gPSAxOwoJdmFyICRQYWdlVGl0bGUgPSAnUmVmZXJlbnNpIERhdGEnOwoJdmFyICRQYWdlSWNvbiA9ICdpbWFnZXMvbWFzdGVyRGF0YV8wMS5naWYnOwoJdmFyICRwYWdlUGVySGFsID0nJzsKCXZhciAkY2V0YWtfeGxzPVRSVUUgOwoJdmFyICRmaWxlTmFtZUV4Y2VsPSd1c3VsYW5zay54bHMnOwoJdmFyICRDZXRha19KdWR1bCA9ICdSRUtFTklORyc7Cgl2YXIgJENldGFrX01vZGU9MjsKCXZhciAkQ2V0YWtfV0lEVEggPSAnMzBjbSc7Cgl2YXIgJENldGFrX090aGVySFRNTEhlYWQ7Cgl2YXIgJEZvcm1OYW1lID0gJ2RldGFpbFNQREZvcm0nOwoJdmFyICRXSEVSRV9PID0gIiI7Cgl2YXIgJGRpZmZlcmVudFJla2VuaW5nID0gIiI7CiAgdmFyICRub21vcktvbG9tID0gMTsKCXZhciAkamVuaXNSS0EgPSAiIjsKCXZhciAkbm9tb3JDaGVja0JveCA9IDA7CglmdW5jdGlvbiBzZXRUaXRsZSgpewoJCXJldHVybiAnJzsKCX0KCWZ1bmN0aW9uIHNldE1lbnVFZGl0KCl7CgkJcmV0dXJuCgkJCSIiOwoJfQoJZnVuY3Rpb24gc2V0TWVudVZpZXcoKXsKCQlyZXR1cm4gIiI7Cgl9CglmdW5jdGlvbiBzZXRUb3BCYXIoKXsKCQlyZXR1cm4gIiI7Cgl9CglmdW5jdGlvbiBzZXRDZXRha19IZWFkZXIoJE1vZGU9JycpewoJCWdsb2JhbCAkTWFpbiwgJEhUVFBfQ09PS0lFX1ZBUlM7CgoJCXJldHVybgoJCQkiPHRhYmxlIHN0eWxlPSd3aWR0aDoxMDAlJyBib3JkZXI9XCIwXCI+CgkJCTx0cj4KCQkJCTx0ZCBjbGFzcz1cImp1ZHVsY2V0YWtcIj4iLiR0aGlzLT5zZXRDZXRha1RpdGxlKCkuIjwvdGQ+CgkJCTwvdHI+CgkJCTwvdGFibGU+IjsKCgl9CgoKCWZ1bmN0aW9uIHNldF9zZWxlY3Rvcl9vdGhlcjIoJHRpcGUpewoJIGdsb2JhbCAkTWFpbjsKCSAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOwoKCSByZXR1cm4JYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCwgJ2pzb24nPT4kanNvbik7Cgl9CgoJZnVuY3Rpb24gc2V0X3NlbGVjdG9yX290aGVyKCR0aXBlKXsKCSBnbG9iYWwgJE1haW47CgkgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgJGpzb249VFJVRTsKCSAgc3dpdGNoKCR0aXBlKXsKICAJCWNhc2UgJ3NpbXBhbic6ewogIAkJCSRnZXQ9ICR0aGlzLT5zaW1wYW4oKTsKICAJCQkkY2VrID0gJGdldFsnY2VrJ107CiAgCQkJJGVyciA9ICRnZXRbJ2VyciddOwogIAkJCSRjb250ZW50ID0gJGdldFsnY29udGVudCddOwogIAkJYnJlYWs7CiAgCSAgIH0KCiAgCSAgIGRlZmF1bHQ6ewogIAkJCSRvdGhlciA9ICR0aGlzLT5zZXRfc2VsZWN0b3Jfb3RoZXIyKCR0aXBlKTsKICAJCQkkY2VrID0gJG90aGVyWydjZWsnXTsKICAJCQkkZXJyID0gJG90aGVyWydlcnInXTsKICAJCQkkY29udGVudD0kb3RoZXJbJ2NvbnRlbnQnXTsKICAJCQkkanNvbj0kb3RoZXJbJ2pzb24nXTsKICAgIAkgYnJlYWs7CiAgICAJIH0KCSB9Ly9lbmQgc3dpdGNoCgoJCXJldHVybglhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50LCAnanNvbic9PiRqc29uKTsKICAgfQoKCWZ1bmN0aW9uIHNldFBhZ2VfT3RoZXJTY3JpcHQoKXsKCQkkc2NyaXB0bG9hZCA9CgoJCQkJCSI8c2NyaXB0PgoJCQkJCQkkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpewoJCQkJCQkJIi4kdGhpcy0+UHJlZml4LiIubG9hZGluZygpOwoJCQkJCQl9KTsKCgkJCQkJPC9zY3JpcHQ+IjsKCgkJcmV0dXJuCgkJCSAiPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nanMvcGVyZW5jYW5hYW4vL2RldGFpbFNQRC5qcycgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnID48L3NjcmlwdD4iLgoJCQkkc2NyaXB0bG9hZDsKCX0KCgoJLy9kYWZ0YXIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CglmdW5jdGlvbiBzZXRLb2xvbUhlYWRlcigkTW9kZT0xLCAkQ2hlY2tib3g9JycpewoJICROb21vckNvbFNwYW4gPSAkTW9kZT09MT8gMjogMTsKCSAkaGVhZGVyVGFibGUgPQoJICAiPHRoZWFkPgogICAgICA8dHI+CiAgICAgICAgPHRoIGNsYXNzPSd0aDAxIGtvbG9tTm9tb3InPk5PPC90aD4KICAgICAgICA8dGggY2xhc3M9J3RoMDEnIHdpZHRoPScxMDBweCc+S09ERSBSRUtFTklORzwvdGg+CiAgICAgICAgPHRoIGNsYXNzPSd0aDAxJyBzdHlsZT0nd2lkdGg6NzAlOyc+VVJBSUFOPC90aD4KICAgICAgICA8dGggY2xhc3M9J3RoMDEnICBzdHlsZT0nd2lkdGg6MTglOyc+SlVNTEFIPC90aD4KICAgICAgPC90cj4KCSAgIDwvdGhlYWQ+IjsKCgkJcmV0dXJuICRoZWFkZXJUYWJsZTsKCX0KCglmdW5jdGlvbiBzZXRLb2xvbURhdGEoJG5vLCAkaXNpLCAkTW9kZSwgJFRhbXBpbENoZWNrQm94KXsKCSBnbG9iYWwgJFJlZjsKICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICB9CiAgIGlmKCR2aWV3TGlzdCAhPSAiUkVLQVAiKXsKICAgICAkS29sb21zID0gJHRoaXMtPmRhZnRhckxpc3QoJGlzaSwkVGFtcGlsQ2hlY2tCb3gpOwogICB9ZWxzZWlmKCR2aWV3TGlzdCA9PSAiUkVLQVAiKXsKICAgICAkS29sb21zID0gJHRoaXMtPmRhZnRhclJla2FwKCRpc2ksJFRhbXBpbENoZWNrQm94KTsKICAgfQogICAkS29sb21zID0gYXJyYXkoCiAgICAgYXJyYXkoIlZ1bG5XYWxrZXIiLCAkS29sb21zKQogICAgKTsKCgkgcmV0dXJuICRLb2xvbXM7Cgl9CgogIGZ1bmN0aW9uIGRhZnRhckxpc3QoJGlzaSwkVGFtcGlsQ2hlY2tCb3gpewogICAgZm9yZWFjaCAoJGlzaSBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkJCQkgJCRrZXkgPSAkdmFsdWU7CgkJfQoJCWZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkJCQkgJCRrZXkgPSAkdmFsdWU7CgkJfQoKCQlpZigkZmlsdGVyVXJ1c2FuICE9ICcwMCcpewoJCQkka29uZGlzaVNLUEQuPSAiIGFuZCBjMSA9ICckZmlsdGVyVXJ1c2FuJyAiOwoJCX0KCQlpZigkZmlsdGVyQmlkYW5nICE9ICcwMCcpewoJCQkka29uZGlzaVNLUEQuPSAiIGFuZCBjID0gJyRmaWx0ZXJCaWRhbmcnICI7CgkJfQoJCWlmKCRmaWx0ZXJTS1BEICE9ICcwMCcpewoJCQkka29uZGlzaVNLUEQuPSAiIGFuZCBkID0gJyRmaWx0ZXJTS1BEJyAiOwoJCX0KICAgICRrb2RlUHJvZ3JhbUtlZ2lhdGFuID0gJGJrLiIuIi4kY2suIi4iLiRkay4iLiIuJHAuIi4iLiRxOwogICAgJGtvbmRpc2lQcm9ncmFtS2VnaWF0YW4gPSAiIGFuZCBjb25jYXQoYmssJy4nLGNrLCcuJyxkaywnLicscCwnLicscSkgPSAnJGtvZGVQcm9ncmFtS2VnaWF0YW4nICI7CiAgICAka29kZVJla2VuaW5nID0gJGsuIi4iLiRsLiIuIi4kbS4iLiIuJG4uIi4iLiRvOwoKICAgIGlmKCRrLiIuIi4kbCA9PSAnNS4yJyl7CiAgICAgICRLb2xvbXMgPSAkdGhpcy0+bGlzdEJlbGFuamFMYW5nc3VuZygkaXNpLCRUYW1waWxDaGVja0JveCwka29uZGlzaVNLUEQsJGtvZGVSZWtlbmluZywka29uZGlzaVByb2dyYW1LZWdpYXRhbik7CiAgICB9ZWxzZXsKICAgICAgJEtvbG9tcyA9ICR0aGlzLT5saXN0QmVsYW5qYVRpZGFrTGFuZ3N1bmcoJGlzaSwkVGFtcGlsQ2hlY2tCb3gsJGtvbmRpc2lTS1BELCRrb2RlUmVrZW5pbmcpOwogICAgfQoKICAgIHJldHVybiAkS29sb21zOwogIH0KICBmdW5jdGlvbiBkYWZ0YXJSZWthcCgkaXNpLCRUYW1waWxDaGVja0JveCl7CiAgICBmb3JlYWNoICgkaXNpIGFzICRrZXkgPT4gJHZhbHVlKSB7CgkJCQkJCSAkJGtleSA9ICR2YWx1ZTsKCQl9CgkJZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CgkJCQkJCSAkJGtleSA9ICR2YWx1ZTsKCQl9CgoJCWlmKCRmaWx0ZXJVcnVzYW4gIT0gJzAwJyl7CgkJCSRrb25kaXNpU0tQRC49ICIgYW5kIGMxID0gJyRmaWx0ZXJVcnVzYW4nICI7CgkJfQoJCWlmKCRmaWx0ZXJCaWRhbmcgIT0gJzAwJyl7CgkJCSRrb25kaXNpU0tQRC49ICIgYW5kIGMgPSAnJGZpbHRlckJpZGFuZycgIjsKCQl9CgkJaWYoJGZpbHRlclNLUEQgIT0gJzAwJyl7CgkJCSRrb25kaXNpU0tQRC49ICIgYW5kIGQgPSAnJGZpbHRlclNLUEQnICI7CgkJfQogICAgJGtvZGVQcm9ncmFtS2VnaWF0YW4gPSAkYmsuIi4iLiRjay4iLiIuJGRrLiIuIi4kcC4iLiIuJHE7CiAgICAka29uZGlzaVByb2dyYW1LZWdpYXRhbiA9ICIgYW5kIGNvbmNhdChiaywnLicsY2ssJy4nLGRrLCcuJyxwLCcuJyxxKSA9ICcka29kZVByb2dyYW1LZWdpYXRhbicgIjsKICAgICRrb2RlUmVrZW5pbmcgPSAkay4iLiIuJGwuIi4iLiRtLiIuIi4kbi4iLiIuJG87CiAgICAkY29uY2F0UmVrZW5pbmdMZXZlbDEgPSAkazsKICAgIGlmKCFpbl9hcnJheSgkY29uY2F0UmVrZW5pbmdMZXZlbDEsJHRoaXMtPmNvbmNhdEFycmF5KSApewogICAgICBpZigkdGhpcy0+bm9tb3JLb2xvbSAlIDIgPT0gMSl7CiAgICAgICAkcm93Q2xhc3MgPSAicm93MCI7CiAgICAgIH1lbHNlewogICAgICAgJHJvd0NsYXNzID0gInJvdzEiOwogICAgICB9CiAgICAgICR0aGlzLT5jb25jYXRBcnJheVtdID0gJGNvbmNhdFJla2VuaW5nTGV2ZWwxOwogICAgICAka29kZVJla2VuaW5nID0gJGs7CiAgICAgICRnZXREYXRhUmVrZW5pbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9yZWtlbmluZyB3aGVyZSBrPSckaycgb3JkZXIgYnkgayxsLG0sbixvIGFzYyAgbGltaXQgMSIpKTsKICAgICAgJGdldFRvdGFsQW5nZ2FyYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3Qgc3VtKHRvdGFsKSBmcm9tIHRfbm9tb3Jfc3BkX2RldCB3aGVyZSByZWZpZF9ub21vcl9zcGQgPSAnJGlkTm9tb3JTUEQnIGFuZCBrPSckayciKSk7CiAgICAgICRrb2xvbVJla2VuaW5nMSA9ICIKICAgICAgICAgPHRyIGNsYXNzPSckcm93Q2xhc3MnIHZhbGlnbj0ndG9wJz4KICAgICAgICAgIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInID4kdGhpcy0+bm9tb3JLb2xvbTwvdGQ+CiAgICAgICAgICA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPiRrb2RlUmVrZW5pbmc8L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID48c3BhbiBzdHlsZT0nZm9udC13ZWlnaHQ6Ym9sZDsnPiIuJGdldERhdGFSZWtlbmluZ1snbm1fcmVrZW5pbmcnXS4iPC9zcGFuPjwvdGQ+CiAgICAgICAgICA8dGQgYWxpZ249J3JpZ2h0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID48Yj4iLiR0aGlzLT5udW1iZXJGb3JtYXQoJGdldFRvdGFsQW5nZ2FyYW5bJ3N1bSh0b3RhbCknXSwyKS4iPC90ZD4KICAgICAgICAgPC90cj4KICAgICAgICI7CiAgICAgICAkdGhpcy0+bm9tb3JLb2xvbSAgKz0gMTsKICAgICAgICR0aGlzLT5ub21vckNoZWNrQm94ICArPSAxOwogICAgIH0KICAgICRjb25jYXRSZWtlbmluZ0xldmVsMiA9ICRrLiIuIi4kbDsKICAgIGlmKCFpbl9hcnJheSgkY29uY2F0UmVrZW5pbmdMZXZlbDIsJHRoaXMtPmNvbmNhdEFycmF5KSApewogICAgICBpZigkdGhpcy0+bm9tb3JLb2xvbSAlIDIgPT0gMSl7CiAgICAgICAkcm93Q2xhc3MgPSAicm93MCI7CiAgICAgIH1lbHNlewogICAgICAgJHJvd0NsYXNzID0gInJvdzEiOwogICAgICB9CiAgICAgICR0aGlzLT5jb25jYXRBcnJheVtdID0gJGNvbmNhdFJla2VuaW5nTGV2ZWwyOwogICAgICAka29kZVJla2VuaW5nID0gJGsuIi4iLiRsOwogICAgICAkZ2V0RGF0YVJla2VuaW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfcmVrZW5pbmcgd2hlcmUgY29uY2F0KGssJy4nLGwpID0gJyRrb2RlUmVrZW5pbmcnIG9yZGVyIGJ5IGssbCxtLG4sbyBhc2MgIGxpbWl0IDEiKSk7CiAgICAgICRnZXRUb3RhbEFuZ2dhcmFuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IHN1bSh0b3RhbCkgZnJvbSB0X25vbW9yX3NwZF9kZXQgd2hlcmUgcmVmaWRfbm9tb3Jfc3BkID0gJyRpZE5vbW9yU1BEJyBhbmQgY29uY2F0KGssJy4nLGwpID0gJyRrb2RlUmVrZW5pbmcnIikpOwogICAgICAka29sb21SZWtlbmluZzIgPSAiCiAgICAgICAgIDx0ciBjbGFzcz0nJHJvd0NsYXNzJyB2YWxpZ249J3RvcCc+CiAgICAgICAgICA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JHRoaXMtPm5vbW9yS29sb208L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID4ka29kZVJla2VuaW5nPC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PHNwYW4gc3R5bGU9J2ZvbnQtd2VpZ2h0OmJvbGQ7bWFyZ2luLWxlZnQ6NXB4Oyc+Ii4kZ2V0RGF0YVJla2VuaW5nWydubV9yZWtlbmluZyddLiI8L3NwYW4+PC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0ncmlnaHQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPjxiPiIuJHRoaXMtPm51bWJlckZvcm1hdCgkZ2V0VG90YWxBbmdnYXJhblsnc3VtKHRvdGFsKSddLDIpLiI8L3RkPgogICAgICAgICA8L3RyPgogICAgICAgIjsKICAgICAgICR0aGlzLT5ub21vcktvbG9tICArPSAxOwogICAgICAgJHRoaXMtPm5vbW9yQ2hlY2tCb3ggICs9IDE7CiAgICAgfQoKCgogICAgJGNvbmNhdFJla2VuaW5nTGV2ZWwzID0gJGsuIi4iLiRsLiIuIi4kbTsKICAgIGlmKCFpbl9hcnJheSgkY29uY2F0UmVrZW5pbmdMZXZlbDMsJHRoaXMtPmNvbmNhdEFycmF5KSApewogICAgICBpZigkdGhpcy0+bm9tb3JLb2xvbSAlIDIgPT0gMSl7CiAgICAgICAkcm93Q2xhc3MgPSAicm93MCI7CiAgICAgIH1lbHNlewogICAgICAgJHJvd0NsYXNzID0gInJvdzEiOwogICAgICB9CiAgICAgICR0aGlzLT5jb25jYXRBcnJheVtdID0gJGNvbmNhdFJla2VuaW5nTGV2ZWwzOwogICAgICAka29kZVJla2VuaW5nID0gICRrLiIuIi4kbC4iLiIuJG07CiAgICAgICRnZXREYXRhUmVrZW5pbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9yZWtlbmluZyB3aGVyZSBjb25jYXQoaywnLicsbCwnLicsbSkgPSAnJGtvZGVSZWtlbmluZycgb3JkZXIgYnkgayxsLG0sbixvIGFzYyAgbGltaXQgMSIpKTsKICAgICAgJGdldFRvdGFsQW5nZ2FyYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3Qgc3VtKHRvdGFsKSBmcm9tIHRfbm9tb3Jfc3BkX2RldCB3aGVyZSByZWZpZF9ub21vcl9zcGQgPSAnJGlkTm9tb3JTUEQnIGFuZCBjb25jYXQoaywnLicsbCwnLicsbSkgPSAnJGtvZGVSZWtlbmluZycgIikpOwogICAgICAka29sb21SZWtlbmluZzMgPSAiCiAgICAgICAgIDx0ciBjbGFzcz0nJHJvd0NsYXNzJyB2YWxpZ249J3RvcCc+CiAgICAgICAgICA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JHRoaXMtPm5vbW9yS29sb208L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID4ka29kZVJla2VuaW5nPC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PHNwYW4gc3R5bGU9J2ZvbnQtd2VpZ2h0OmJvbGQ7bWFyZ2luLWxlZnQ6MTBweDsnPiIuJGdldERhdGFSZWtlbmluZ1snbm1fcmVrZW5pbmcnXS4iPC9zcGFuPjwvdGQ+CiAgICAgICAgICA8dGQgYWxpZ249J3JpZ2h0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID48Yj4iLiR0aGlzLT5udW1iZXJGb3JtYXQoJGdldFRvdGFsQW5nZ2FyYW5bJ3N1bSh0b3RhbCknXSwyKS4iPC90ZD4KICAgICAgICAgPC90cj4KICAgICAgICI7CiAgICAgICAkdGhpcy0+bm9tb3JLb2xvbSAgKz0gMTsKICAgICAgICR0aGlzLT5ub21vckNoZWNrQm94ICArPSAxOwogICAgIH0KCiAgICAkY29uY2F0UmVrZW5pbmdMZXZlbDQgPSAkay4iLiIuJGwuIi4iLiRtLiIuIi4kbjsKICAgIGlmKCFpbl9hcnJheSgkY29uY2F0UmVrZW5pbmdMZXZlbDQsJHRoaXMtPmNvbmNhdEFycmF5KSApewogICAgICBpZigkdGhpcy0+bm9tb3JLb2xvbSAlIDIgPT0gMSl7CiAgICAgICAkcm93Q2xhc3MgPSAicm93MCI7CiAgICAgIH1lbHNlewogICAgICAgJHJvd0NsYXNzID0gInJvdzEiOwogICAgICB9CiAgICAgICR0aGlzLT5jb25jYXRBcnJheVtdID0gJGNvbmNhdFJla2VuaW5nTGV2ZWw0OwogICAgICAka29kZVJla2VuaW5nID0gICRrLiIuIi4kbC4iLiIuJG0uIi4iLiRuOwogICAgICAkZ2V0RGF0YVJla2VuaW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfcmVrZW5pbmcgd2hlcmUgY29uY2F0KGssJy4nLGwsJy4nLG0sJy4nLG4pID0gJyRrb2RlUmVrZW5pbmcnIG9yZGVyIGJ5IGssbCxtLG4sbyBhc2MgIGxpbWl0IDEiKSk7CiAgICAgICRnZXRUb3RhbEFuZ2dhcmFuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IHN1bSh0b3RhbCkgZnJvbSB0X25vbW9yX3NwZF9kZXQgd2hlcmUgcmVmaWRfbm9tb3Jfc3BkID0gJyRpZE5vbW9yU1BEJyBhbmQgY29uY2F0KGssJy4nLGwsJy4nLG0sJy4nLG4pID0gJyRrb2RlUmVrZW5pbmcnICIpKTsKICAgICAgJGtvbG9tUmVrZW5pbmc0ID0gIgogICAgICAgICA8dHIgY2xhc3M9JyRyb3dDbGFzcycgdmFsaWduPSd0b3AnPgogICAgICAgICAgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgPiR0aGlzLT5ub21vcktvbG9tPC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JGtvZGVSZWtlbmluZzwvdGQ+CiAgICAgICAgICA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPjxzcGFuIHN0eWxlPSdmb250LXdlaWdodDpib2xkO21hcmdpbi1sZWZ0OjE1cHg7Jz4iLiRnZXREYXRhUmVrZW5pbmdbJ25tX3Jla2VuaW5nJ10uIjwvc3Bhbj48L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdyaWdodCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PGI+Ii4kdGhpcy0+bnVtYmVyRm9ybWF0KCRnZXRUb3RhbEFuZ2dhcmFuWydzdW0odG90YWwpJ10sMikuIjwvdGQ+CiAgICAgICAgIDwvdHI+CiAgICAgICAiOwogICAgICAgJHRoaXMtPm5vbW9yS29sb20gICs9IDE7CiAgICAgICAkdGhpcy0+bm9tb3JDaGVja0JveCAgKz0gMTsKICAgICB9CgogICAgJGNvbmNhdFJla2VuaW5nTGV2ZWw1ID0gJGsuIi4iLiRsLiIuIi4kbS4iLiIuJG4uIi4iLiRvOwogICAgaWYoIWluX2FycmF5KCRjb25jYXRSZWtlbmluZ0xldmVsNSwkdGhpcy0+Y29uY2F0QXJyYXkpICl7CiAgICAgIGlmKCR0aGlzLT5ub21vcktvbG9tICUgMiA9PSAxKXsKICAgICAgICRyb3dDbGFzcyA9ICJyb3cwIjsKICAgICAgfWVsc2V7CiAgICAgICAkcm93Q2xhc3MgPSAicm93MSI7CiAgICAgIH0KICAgICAgJHRoaXMtPmNvbmNhdEFycmF5W10gPSAkY29uY2F0UmVrZW5pbmdMZXZlbDU7CiAgICAgICRrb2RlUmVrZW5pbmcgPSAgJGsuIi4iLiRsLiIuIi4kbS4iLiIuJG4uIi4iLiRvOwogICAgICAkZ2V0RGF0YVJla2VuaW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfcmVrZW5pbmcgd2hlcmUgY29uY2F0KGssJy4nLGwsJy4nLG0sJy4nLG4sJy4nLG8pID0gJyRrb2RlUmVrZW5pbmcnIG9yZGVyIGJ5IGssbCxtLG4sbyBhc2MgIGxpbWl0IDEiKSk7CiAgICAgICRnZXRUb3RhbEFuZ2dhcmFuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IHN1bSh0b3RhbCkgZnJvbSB0X25vbW9yX3NwZF9kZXQgd2hlcmUgcmVmaWRfbm9tb3Jfc3BkID0gJyRpZE5vbW9yU1BEJyBhbmQgY29uY2F0KGssJy4nLGwsJy4nLG0sJy4nLG4sJy4nLG8pID0gJyRrb2RlUmVrZW5pbmcnICIpKTsKICAgICAgJGtvbG9tUmVrZW5pbmc1ID0gIgogICAgICAgICA8dHIgY2xhc3M9JyRyb3dDbGFzcycgdmFsaWduPSd0b3AnPgogICAgICAgICAgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgPiR0aGlzLT5ub21vcktvbG9tPC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JGtvZGVSZWtlbmluZzwvdGQ+CiAgICAgICAgICA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPjxzcGFuIHN0eWxlPSdtYXJnaW4tbGVmdDoyMHB4Oyc+Ii4kZ2V0RGF0YVJla2VuaW5nWydubV9yZWtlbmluZyddLiI8L3NwYW4+PC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0ncmlnaHQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPiIuJHRoaXMtPm51bWJlckZvcm1hdCgkZ2V0VG90YWxBbmdnYXJhblsnc3VtKHRvdGFsKSddLDIpLiI8L3RkPgogICAgICAgICA8L3RyPgogICAgICAgIjsKICAgICAgICR0aGlzLT5ub21vcktvbG9tICArPSAxOwogICAgICAgJHRoaXMtPm5vbW9yQ2hlY2tCb3ggICs9IDE7CiAgICAgfQoKCgoKICAgcmV0dXJuICRrb2xvbVJla2VuaW5nMS4ka29sb21SZWtlbmluZzIuJGtvbG9tUmVrZW5pbmczLiRrb2xvbVJla2VuaW5nNC4ka29sb21SZWtlbmluZzU7CgogIH0KICBmdW5jdGlvbiBsaXN0QmVsYW5qYUxhbmdzdW5nKCRpc2ksJFRhbXBpbENoZWNrQm94LCRrb25kaXNpU0tQRCwka29kZVJla2VuaW5nLCRrb25kaXNpUHJvZ3JhbUtlZ2lhdGFuKXsKICAgICAgZm9yZWFjaCAoJGlzaSBhcyAka2V5ID0+ICR2YWx1ZSkgewogIAkJCQkJCSAkJGtleSA9ICR2YWx1ZTsKICAJCX0KICAJCWZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewogIAkJCQkJCSAkJGtleSA9ICR2YWx1ZTsKICAJCX0KICAJICRjb25jYXRSZWtlbmluZ0xldmVsMSA9ICRrOwogIAkgaWYoIWluX2FycmF5KCRjb25jYXRSZWtlbmluZ0xldmVsMSwkdGhpcy0+Y29uY2F0QXJyYXkpICl7CiAgICAgICBpZigkdGhpcy0+bm9tb3JLb2xvbSAlIDIgPT0gMSl7CiAgICAgICAgJHJvd0NsYXNzID0gInJvdzAiOwogICAgICAgfWVsc2V7CiAgICAgICAgJHJvd0NsYXNzID0gInJvdzEiOwogICAgICAgfQogIAkJICR0aGlzLT5jb25jYXRBcnJheVtdID0gJGNvbmNhdFJla2VuaW5nTGV2ZWwxOwogIAkJICRrb2RlUmVrZW5pbmcgPSAkazsKICAgICAgICRnZXREYXRhUmVrZW5pbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9yZWtlbmluZyB3aGVyZSBrPSckaycgb3JkZXIgYnkgayxsLG0sbixvIGFzYyAgbGltaXQgMSIpKTsKICAJCSAkZ2V0VG90YWxBbmdnYXJhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBzdW0odG90YWwpIGZyb20gdF9ub21vcl9zcGRfZGV0IHdoZXJlIHJlZmlkX25vbW9yX3NwZCA9ICckaWROb21vclNQRCcgYW5kIGs9JyRrJyIpKTsKICAJCSAka29sb21SZWtlbmluZzEgPSAiCiAgCQkJCTx0ciBjbGFzcz0nJHJvd0NsYXNzJyB2YWxpZ249J3RvcCc+CiAgCQkJCSA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JHRoaXMtPm5vbW9yS29sb208L3RkPgogIAkJCQkgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID4ka29kZVJla2VuaW5nPC90ZD4KICAJCQkJIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PHNwYW4gc3R5bGU9J2ZvbnQtd2VpZ2h0OmJvbGQ7Jz4iLiRnZXREYXRhUmVrZW5pbmdbJ25tX3Jla2VuaW5nJ10uIjwvc3Bhbj48L3RkPgogIAkJCQkgPHRkIGFsaWduPSdyaWdodCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PGI+Ii4kdGhpcy0+bnVtYmVyRm9ybWF0KCRnZXRUb3RhbEFuZ2dhcmFuWydzdW0odG90YWwpJ10sMikuIjwvdGQ+CiAgCQkJCTwvdHI+CiAgCQkJIjsKICAJCQkkdGhpcy0+bm9tb3JLb2xvbSAgKz0gMTsKICAJCQkkdGhpcy0+bm9tb3JDaGVja0JveCAgKz0gMTsKICAJCX0KICAJICRjb25jYXRSZWtlbmluZ0xldmVsMiA9ICRrLiIuIi4kbDsKICAJIGlmKCFpbl9hcnJheSgkY29uY2F0UmVrZW5pbmdMZXZlbDIsJHRoaXMtPmNvbmNhdEFycmF5KSApewogICAgICAgaWYoJHRoaXMtPm5vbW9yS29sb20gJSAyID09IDEpewogICAgICAgICRyb3dDbGFzcyA9ICJyb3cwIjsKICAgICAgIH1lbHNlewogICAgICAgICRyb3dDbGFzcyA9ICJyb3cxIjsKICAgICAgIH0KICAJCSAkdGhpcy0+Y29uY2F0QXJyYXlbXSA9ICRjb25jYXRSZWtlbmluZ0xldmVsMjsKICAJCSAka29kZVJla2VuaW5nID0gJGsuIi4iLiRsOwogICAgICAgJGdldERhdGFSZWtlbmluZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3Jla2VuaW5nIHdoZXJlIGNvbmNhdChrLCcuJyxsKSA9ICcka29kZVJla2VuaW5nJyBvcmRlciBieSBrLGwsbSxuLG8gYXNjICBsaW1pdCAxIikpOwogIAkJICRnZXRUb3RhbEFuZ2dhcmFuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IHN1bSh0b3RhbCkgZnJvbSB0X25vbW9yX3NwZF9kZXQgd2hlcmUgcmVmaWRfbm9tb3Jfc3BkID0gJyRpZE5vbW9yU1BEJyBhbmQgY29uY2F0KGssJy4nLGwpID0gJyRrb2RlUmVrZW5pbmcnIikpOwogIAkJICRrb2xvbVJla2VuaW5nMiA9ICIKICAJCQkJPHRyIGNsYXNzPSckcm93Q2xhc3MnIHZhbGlnbj0ndG9wJz4KICAJCQkJIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInID4kdGhpcy0+bm9tb3JLb2xvbTwvdGQ+CiAgCQkJCSA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPiRrb2RlUmVrZW5pbmc8L3RkPgogIAkJCQkgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID48c3BhbiBzdHlsZT0nZm9udC13ZWlnaHQ6Ym9sZDttYXJnaW4tbGVmdDo1cHg7Jz4iLiRnZXREYXRhUmVrZW5pbmdbJ25tX3Jla2VuaW5nJ10uIjwvc3Bhbj48L3RkPgogIAkJCQkgPHRkIGFsaWduPSdyaWdodCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PGI+Ii4kdGhpcy0+bnVtYmVyRm9ybWF0KCRnZXRUb3RhbEFuZ2dhcmFuWydzdW0odG90YWwpJ10sMikuIjwvdGQ+CiAgCQkJCTwvdHI+CiAgCQkJIjsKICAJCQkkdGhpcy0+bm9tb3JLb2xvbSAgKz0gMTsKICAJCQkkdGhpcy0+bm9tb3JDaGVja0JveCAgKz0gMTsKICAJCX0KCiAgCSAkY29uY2F0UmVrZW5pbmdQcm9ncmFtID0gJGsuIi4iLiRsLiIuIi4kYmsuIi4iLiRjay4iLiIuJGRrLiIuIi4kcDsKICAJIGlmKCFpbl9hcnJheSgkY29uY2F0UmVrZW5pbmdQcm9ncmFtLCR0aGlzLT5jb25jYXRBcnJheSkgKXsKICAgICAgIGlmKCR0aGlzLT5ub21vcktvbG9tICUgMiA9PSAxKXsKICAgICAgICAkcm93Q2xhc3MgPSAicm93MCI7CiAgICAgICB9ZWxzZXsKICAgICAgICAkcm93Q2xhc3MgPSAicm93MSI7CiAgICAgICB9CiAgCQkgJHRoaXMtPmNvbmNhdEFycmF5W10gPSAkY29uY2F0UmVrZW5pbmdQcm9ncmFtOwogIAkJICRrb2RlUHJvZ3JhbSA9ICRiay4iLiIuJGNrLiIuIi4kZGsuIi4iLiRwOwogICAgICAgJGdldERhdGFQcm9ncmFtID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfcHJvZ3JhbSB3aGVyZSBjb25jYXQoYmssJy4nLGNrLCcuJyxkaywnLicscCkgPSAnJGtvZGVQcm9ncmFtJyBvcmRlciBieSBiayxjayxkayxwIGFzYyBsaW1pdCAxIikpOwogIAkJICRnZXRUb3RhbEFuZ2dhcmFuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IHN1bSh0b3RhbCkgZnJvbSB0X25vbW9yX3NwZF9kZXQgd2hlcmUgcmVmaWRfbm9tb3Jfc3BkID0gJyRpZE5vbW9yU1BEJyBhbmQgY29uY2F0KGssJy4nLGwpID0gJyRrb2RlUmVrZW5pbmcnIGFuZCBjb25jYXQoYmssJy4nLGNrLCcuJyxkaywnLicscCkgPSAnJGtvZGVQcm9ncmFtJyIpKTsKICAJCSAka29sb21Qcm9ncmFtID0gIgogIAkJCQk8dHIgY2xhc3M9JyRyb3dDbGFzcycgdmFsaWduPSd0b3AnPgogIAkJCQkgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgPiR0aGlzLT5ub21vcktvbG9tPC90ZD4KICAJCQkJIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PC90ZD4KICAJCQkJIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PHNwYW4gc3R5bGU9J2ZvbnQtd2VpZ2h0OmJvbGQ7bWFyZ2luLWxlZnQ6MTBweDsnPiIuJGdldERhdGFQcm9ncmFtWyduYW1hJ10uIjwvc3Bhbj48L3RkPgogIAkJCQkgPHRkIGFsaWduPSdyaWdodCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PGI+Ii4kdGhpcy0+bnVtYmVyRm9ybWF0KCRnZXRUb3RhbEFuZ2dhcmFuWydzdW0odG90YWwpJ10sMikuIjwvdGQ+CiAgCQkJCTwvdHI+CiAgCQkJIjsKICAJCQkkdGhpcy0+bm9tb3JLb2xvbSAgKz0gMTsKICAJCQkkdGhpcy0+bm9tb3JDaGVja0JveCAgKz0gMTsKICAJCX0KCiAgCSAkY29uY2F0UmVrZW5pbmdQcm9ncmFtS2VnaWF0YW4gPSAkay4iLiIuJGwuIi4iLiRiay4iLiIuJGNrLiIuIi4kZGsuIi4iLiRwLiIuIi4kcTsKICAJIGlmKCFpbl9hcnJheSgkY29uY2F0UmVrZW5pbmdQcm9ncmFtS2VnaWF0YW4sJHRoaXMtPmNvbmNhdEFycmF5KSApewogICAgICAgaWYoJHRoaXMtPm5vbW9yS29sb20gJSAyID09IDEpewogICAgICAgICRyb3dDbGFzcyA9ICJyb3cwIjsKICAgICAgIH1lbHNlewogICAgICAgICRyb3dDbGFzcyA9ICJyb3cxIjsKICAgICAgIH0KICAJCSAkdGhpcy0+Y29uY2F0QXJyYXlbXSA9ICRjb25jYXRSZWtlbmluZ1Byb2dyYW1LZWdpYXRhbjsKICAJCSAka29kZVByb2dyYW1LZWdpYXRhbiA9ICRiay4iLiIuJGNrLiIuIi4kZGsuIi4iLiRwLiIuIi4kcTsKICAgICAgICRnZXREYXRhS2VnaWF0YW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9wcm9ncmFtIHdoZXJlIGNvbmNhdChiaywnLicsY2ssJy4nLGRrLCcuJyxwLCcuJyxxKSA9ICcka29kZVByb2dyYW1LZWdpYXRhbicgb3JkZXIgYnkgYmssY2ssZGsscCBhc2MgbGltaXQgMSIpKTsKICAJCSAkZ2V0VG90YWxBbmdnYXJhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBzdW0odG90YWwpIGZyb20gdF9ub21vcl9zcGRfZGV0IHdoZXJlIHJlZmlkX25vbW9yX3NwZCA9ICckaWROb21vclNQRCcgYW5kIGNvbmNhdChrLCcuJyxsKSA9ICcka29kZVJla2VuaW5nJyBhbmQgY29uY2F0KGJrLCcuJyxjaywnLicsZGssJy4nLHAsJy4nLHEpID0gJyRrb2RlUHJvZ3JhbUtlZ2lhdGFuJyIpKTsKICAJCSAka29sb21LZWdpYXRhbiA9ICIKICAJCQkJPHRyIGNsYXNzPSckcm93Q2xhc3MnIHZhbGlnbj0ndG9wJz4KICAJCQkJIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInID4kdGhpcy0+bm9tb3JLb2xvbTwvdGQ+CiAgCQkJCSA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPjwvdGQ+CiAgCQkJCSA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPjxzcGFuIHN0eWxlPSdmb250LXdlaWdodDpib2xkO21hcmdpbi1sZWZ0OjE1cHg7Jz4iLiRnZXREYXRhS2VnaWF0YW5bJ25hbWEnXS4iPC9zcGFuPjwvdGQ+CiAgCQkJCSA8dGQgYWxpZ249J3JpZ2h0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID48Yj4iLiR0aGlzLT5udW1iZXJGb3JtYXQoJGdldFRvdGFsQW5nZ2FyYW5bJ3N1bSh0b3RhbCknXSwyKS4iPC90ZD4KICAJCQkJPC90cj4KICAJCQkiOwogIAkJCSR0aGlzLT5ub21vcktvbG9tICArPSAxOwogIAkJCSR0aGlzLT5ub21vckNoZWNrQm94ICArPSAxOwogIAkJfQoKICAJICRjb25jYXRSZWtlbmluZ0xldmVsMyA9ICRrLiIuIi4kbC4iLiIuJGJrLiIuIi4kY2suIi4iLiRkay4iLiIuJHAuIi4iLiRxLiIuIi4kbTsKICAJIGlmKCFpbl9hcnJheSgkY29uY2F0UmVrZW5pbmdMZXZlbDMsJHRoaXMtPmNvbmNhdEFycmF5KSApewogICAgICAgaWYoJHRoaXMtPm5vbW9yS29sb20gJSAyID09IDEpewogICAgICAgICRyb3dDbGFzcyA9ICJyb3cwIjsKICAgICAgIH1lbHNlewogICAgICAgICRyb3dDbGFzcyA9ICJyb3cxIjsKICAgICAgIH0KICAJCSAkdGhpcy0+Y29uY2F0QXJyYXlbXSA9ICRjb25jYXRSZWtlbmluZ0xldmVsMzsKICAJCSAka29kZVJla2VuaW5nID0gICRrLiIuIi4kbC4iLiIuJG07CiAgICAgICAkZ2V0RGF0YVJla2VuaW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfcmVrZW5pbmcgd2hlcmUgY29uY2F0KGssJy4nLGwsJy4nLG0pID0gJyRrb2RlUmVrZW5pbmcnIG9yZGVyIGJ5IGssbCxtLG4sbyBhc2MgIGxpbWl0IDEiKSk7CiAgCQkgJGdldFRvdGFsQW5nZ2FyYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3Qgc3VtKHRvdGFsKSBmcm9tIHRfbm9tb3Jfc3BkX2RldCB3aGVyZSByZWZpZF9ub21vcl9zcGQgPSAnJGlkTm9tb3JTUEQnIGFuZCBjb25jYXQoaywnLicsbCwnLicsbSkgPSAnJGtvZGVSZWtlbmluZycgJGtvbmRpc2lQcm9ncmFtS2VnaWF0YW4iKSk7CiAgCQkgJGtvbG9tUmVrZW5pbmczID0gIgogIAkJCQk8dHIgY2xhc3M9JyRyb3dDbGFzcycgdmFsaWduPSd0b3AnPgogIAkJCQkgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgPiR0aGlzLT5ub21vcktvbG9tPC90ZD4KICAJCQkJIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JGtvZGVSZWtlbmluZzwvdGQ+CiAgCQkJCSA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPjxzcGFuIHN0eWxlPSdmb250LXdlaWdodDpib2xkO21hcmdpbi1sZWZ0OjIwcHg7Jz4iLiRnZXREYXRhUmVrZW5pbmdbJ25tX3Jla2VuaW5nJ10uIjwvc3Bhbj48L3RkPgogIAkJCQkgPHRkIGFsaWduPSdyaWdodCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PGI+Ii4kdGhpcy0+bnVtYmVyRm9ybWF0KCRnZXRUb3RhbEFuZ2dhcmFuWydzdW0odG90YWwpJ10sMikuIjwvdGQ+CiAgCQkJCTwvdHI+CiAgCQkJIjsKICAJCQkkdGhpcy0+bm9tb3JLb2xvbSAgKz0gMTsKICAJCQkkdGhpcy0+bm9tb3JDaGVja0JveCAgKz0gMTsKICAJCX0KCiAgCSAkY29uY2F0UmVrZW5pbmdMZXZlbDQgPSAkay4iLiIuJGwuIi4iLiRiay4iLiIuJGNrLiIuIi4kZGsuIi4iLiRwLiIuIi4kcS4iLiIuJG0uIi4iLiRuOwogIAkgaWYoIWluX2FycmF5KCRjb25jYXRSZWtlbmluZ0xldmVsNCwkdGhpcy0+Y29uY2F0QXJyYXkpICl7CiAgICAgICBpZigkdGhpcy0+bm9tb3JLb2xvbSAlIDIgPT0gMSl7CiAgICAgICAgJHJvd0NsYXNzID0gInJvdzAiOwogICAgICAgfWVsc2V7CiAgICAgICAgJHJvd0NsYXNzID0gInJvdzEiOwogICAgICAgfQogIAkJICR0aGlzLT5jb25jYXRBcnJheVtdID0gJGNvbmNhdFJla2VuaW5nTGV2ZWw0OwogIAkJICRrb2RlUmVrZW5pbmcgPSAgJGsuIi4iLiRsLiIuIi4kbS4iLiIuJG47CiAgICAgICAkZ2V0RGF0YVJla2VuaW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfcmVrZW5pbmcgd2hlcmUgY29uY2F0KGssJy4nLGwsJy4nLG0sJy4nLG4pID0gJyRrb2RlUmVrZW5pbmcnIG9yZGVyIGJ5IGssbCxtLG4sbyBhc2MgIGxpbWl0IDEiKSk7CiAgCQkgJGdldFRvdGFsQW5nZ2FyYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3Qgc3VtKHRvdGFsKSBmcm9tIHRfbm9tb3Jfc3BkX2RldCB3aGVyZSByZWZpZF9ub21vcl9zcGQgPSAnJGlkTm9tb3JTUEQnIGFuZCBjb25jYXQoaywnLicsbCwnLicsbSwnLicsbikgPSAnJGtvZGVSZWtlbmluZycgJGtvbmRpc2lQcm9ncmFtS2VnaWF0YW4iKSk7CiAgCQkgJGtvbG9tUmVrZW5pbmc0ID0gIgogIAkJCQk8dHIgY2xhc3M9JyRyb3dDbGFzcycgdmFsaWduPSd0b3AnPgogIAkJCQkgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgPiR0aGlzLT5ub21vcktvbG9tPC90ZD4KICAJCQkJIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JGtvZGVSZWtlbmluZzwvdGQ+CiAgCQkJCSA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPjxzcGFuIHN0eWxlPSdmb250LXdlaWdodDpib2xkO21hcmdpbi1sZWZ0OjI1cHg7Jz4iLiRnZXREYXRhUmVrZW5pbmdbJ25tX3Jla2VuaW5nJ10uIjwvc3Bhbj48L3RkPgogIAkJCQkgPHRkIGFsaWduPSdyaWdodCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PGI+Ii4kdGhpcy0+bnVtYmVyRm9ybWF0KCRnZXRUb3RhbEFuZ2dhcmFuWydzdW0odG90YWwpJ10sMikuIjwvdGQ+CiAgCQkJCTwvdHI+CiAgCQkJIjsKICAJCQkkdGhpcy0+bm9tb3JLb2xvbSAgKz0gMTsKICAJCQkkdGhpcy0+bm9tb3JDaGVja0JveCAgKz0gMTsKICAJCX0KCiAgCSAkY29uY2F0UmVrZW5pbmdMZXZlbDUgPSAkay4iLiIuJGwuIi4iLiRiay4iLiIuJGNrLiIuIi4kZGsuIi4iLiRwLiIuIi4kcS4iLiIuJG0uIi4iLiRuLiIuIi4kbzsKICAJIGlmKCFpbl9hcnJheSgkY29uY2F0UmVrZW5pbmdMZXZlbDUsJHRoaXMtPmNvbmNhdEFycmF5KSApewogICAgICAgaWYoJHRoaXMtPm5vbW9yS29sb20gJSAyID09IDEpewogICAgICAgICRyb3dDbGFzcyA9ICJyb3cwIjsKICAgICAgIH1lbHNlewogICAgICAgICRyb3dDbGFzcyA9ICJyb3cxIjsKICAgICAgIH0KICAJCSAkdGhpcy0+Y29uY2F0QXJyYXlbXSA9ICRjb25jYXRSZWtlbmluZ0xldmVsNTsKICAJCSAka29kZVJla2VuaW5nID0gICRrLiIuIi4kbC4iLiIuJG0uIi4iLiRuLiIuIi4kbzsKICAgICAgICRnZXREYXRhUmVrZW5pbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9yZWtlbmluZyB3aGVyZSBjb25jYXQoaywnLicsbCwnLicsbSwnLicsbiwnLicsbykgPSAnJGtvZGVSZWtlbmluZycgb3JkZXIgYnkgayxsLG0sbixvIGFzYyAgbGltaXQgMSIpKTsKICAJCSAkZ2V0VG90YWxBbmdnYXJhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBzdW0odG90YWwpIGZyb20gdF9ub21vcl9zcGRfZGV0IHdoZXJlIHJlZmlkX25vbW9yX3NwZCA9ICckaWROb21vclNQRCcgYW5kIGNvbmNhdChrLCcuJyxsLCcuJyxtLCcuJyxuLCcuJyxvKSA9ICcka29kZVJla2VuaW5nJyAka29uZGlzaVByb2dyYW1LZWdpYXRhbiIpKTsKICAJCSAka29sb21SZWtlbmluZzUgPSAiCiAgCQkJCTx0ciBjbGFzcz0nJHJvd0NsYXNzJyB2YWxpZ249J3RvcCc+CiAgCQkJCSA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JHRoaXMtPm5vbW9yS29sb208L3RkPgogIAkJCQkgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID4ka29kZVJla2VuaW5nPC90ZD4KICAJCQkJIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PHNwYW4gc3R5bGU9J21hcmdpbi1sZWZ0OjMwcHg7Jz4iLiRnZXREYXRhUmVrZW5pbmdbJ25tX3Jla2VuaW5nJ10uIjwvc3Bhbj48L3RkPgogIAkJCQkgPHRkIGFsaWduPSdyaWdodCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+Ii4kdGhpcy0+bnVtYmVyRm9ybWF0KCRnZXRUb3RhbEFuZ2dhcmFuWydzdW0odG90YWwpJ10sMikuIjwvdGQ+CiAgCQkJCTwvdHI+CiAgCQkJIjsKICAJCQkkdGhpcy0+bm9tb3JLb2xvbSAgKz0gMTsKICAJCQkkdGhpcy0+bm9tb3JDaGVja0JveCAgKz0gMTsKICAJCX0KCQkgaWYoJGZpbHRlclJpbmNpYW4gPT0gInNob3ciKXsKICAgICAgICRjb25jYXRSaW5jaWFuQmVsYW5qYSA9ICRrLiIuIi4kbC4iLiIuJGJrLiIuIi4kY2suIi4iLiRkay4iLiIuJHAuIi4iLiRxLiIuIi4kbS4iLiIuJG4uIi4iLiRvLiIuIi4kaWRfcmluY2lhbl9iZWxhbmphOwogICAgCSBpZighaW5fYXJyYXkoJGNvbmNhdFJpbmNpYW5CZWxhbmphLCR0aGlzLT5jb25jYXRBcnJheSkgKXsKICAgICAgICAgaWYoJHRoaXMtPm5vbW9yS29sb20gJSAyID09IDEpewogICAgICAgICAgJHJvd0NsYXNzID0gInJvdzAiOwogICAgICAgICB9ZWxzZXsKICAgICAgICAgICRyb3dDbGFzcyA9ICJyb3cxIjsKICAgICAgICAgfQogICAgCQkgJHRoaXMtPmNvbmNhdEFycmF5W10gPSAkY29uY2F0UmluY2lhbkJlbGFuamE7CiAgICAJCSAka29kZVJla2VuaW5nID0gICRrLiIuIi4kbC4iLiIuJG0uIi4iLiRuLiIuIi4kbzsKICAgICAgICAgJGdldERhdGFSaW5jaWFuQmVsYW5qYSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmluY2lhbl9iZWxhbmphIHdoZXJlIGlkID0gJyRpZF9yaW5jaWFuX2JlbGFuamEnIikpOwogICAgCQkgJGdldFRvdGFsQW5nZ2FyYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3Qgc3VtKHRvdGFsKSBmcm9tIHRfbm9tb3Jfc3BkX2RldCB3aGVyZSByZWZpZF9ub21vcl9zcGQgPSAnJGlkTm9tb3JTUEQnIGFuZCBjb25jYXQoaywnLicsbCwnLicsbSwnLicsbiwnLicsbykgPSAnJGtvZGVSZWtlbmluZycgJGtvbmRpc2lQcm9ncmFtS2VnaWF0YW4gYW5kIGlkX3JpbmNpYW5fYmVsYW5qYSA9ICckaWRfcmluY2lhbl9iZWxhbmphJyIpKTsKICAgIAkJICRrb2xvbVJpbmNpYW5CZWxhbmphID0gIgogICAgCQkJCTx0ciBjbGFzcz0nJHJvd0NsYXNzJyB2YWxpZ249J3RvcCc+CiAgICAJCQkJIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInID4kdGhpcy0+bm9tb3JLb2xvbTwvdGQ+CiAgICAJCQkJIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PC90ZD4KICAgIAkJCQkgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID48c3BhbiBzdHlsZT0nbWFyZ2luLWxlZnQ6MzVweDsnPiIuJGdldERhdGFSaW5jaWFuQmVsYW5qYVsnbmFtYV9yaW5jaWFuX2JlbGFuamEnXS4iPC9zcGFuPjwvdGQ+CiAgICAJCQkJIDx0ZCBhbGlnbj0ncmlnaHQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPiIuJHRoaXMtPm51bWJlckZvcm1hdCgkZ2V0VG90YWxBbmdnYXJhblsnc3VtKHRvdGFsKSddLDIpLiI8L3RkPgogICAgCQkJCTwvdHI+CiAgICAJCQkiOwogICAgCQkJJHRoaXMtPm5vbW9yS29sb20gICs9IDE7CiAgICAJCQkkdGhpcy0+bm9tb3JDaGVja0JveCAgKz0gMTsKICAgIAkJfQogICAgIH0KCQkgaWYoJGZpbHRlclN1YlJpbmNpYW4gPT0gInNob3ciKXsKICAgICAgIGlmKCR0aGlzLT5ub21vcktvbG9tICUgMiA9PSAxKXsKICAgICAgICAkcm93Q2xhc3MgPSAicm93MCI7CiAgICAgICB9ZWxzZXsKICAgICAgICAkcm93Q2xhc3MgPSAicm93MSI7CiAgICAgICB9CiAgICAgICAkZ2V0RGF0YURQQSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdGFiZWxfZHBhIHdoZXJlIGlkID0gJyRpZF9kcGEnIikpOwogICAgICAgJGdldFRvdGFsQW5nZ2FyYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3Qgc3VtKHRvdGFsKSBmcm9tIHRfbm9tb3Jfc3BkX2RldCB3aGVyZSByZWZpZF9ub21vcl9zcGQgPSAnJGlkTm9tb3JTUEQnIGFuZCBjb25jYXQoaywnLicsbCwnLicsbSwnLicsbiwnLicsbykgPSAnJGtvZGVSZWtlbmluZycgJGtvbmRpc2lQcm9ncmFtS2VnaWF0YW4gYW5kIGlkX3JpbmNpYW5fYmVsYW5qYSA9ICckaWRfcmluY2lhbl9iZWxhbmphJyBhbmQgaWRfZHBhPSckaWRfZHBhJyIpKTsKICAJCSAka29sb21TdWJSaW5jaWFuQmVsYW5qYSA9ICIKICAJCQkJPHRyIGNsYXNzPSckcm93Q2xhc3MnIHZhbGlnbj0ndG9wJz4KICAJCQkJIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInID4kdGhpcy0+bm9tb3JLb2xvbTwvdGQ+CiAgCQkJCSA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPjwvdGQ+CiAgCQkJCSA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPjxzcGFuIHN0eWxlPSdtYXJnaW4tbGVmdDo0MHB4Oyc+IC0gIi4kZ2V0RGF0YURQQVsncmluY2lhbl9wZXJoaXR1bmdhbiddLiI8L3NwYW4+PC90ZD4KICAJCQkJIDx0ZCBhbGlnbj0ncmlnaHQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPiIuJHRoaXMtPm51bWJlckZvcm1hdCgkZ2V0VG90YWxBbmdnYXJhblsnc3VtKHRvdGFsKSddLDIpLiI8L3RkPgogIAkJCQk8L3RyPgogIAkJCSI7CiAgCQkJJHRoaXMtPm5vbW9yS29sb20gICs9IDE7CiAgCQkJJHRoaXMtPm5vbW9yQ2hlY2tCb3ggICs9IDE7CiAgICAgfQoKCgoKICAgIHJldHVybiAka29sb21SZWtlbmluZzEuJGtvbG9tUmVrZW5pbmcyLiRrb2xvbVByb2dyYW0uJGtvbG9tS2VnaWF0YW4uJGtvbG9tUmVrZW5pbmczLiRrb2xvbVJla2VuaW5nNC4ka29sb21SZWtlbmluZzUuJGtvbG9tUmluY2lhbkJlbGFuamEuJGtvbG9tU3ViUmluY2lhbkJlbGFuamE7CiAgfQogIGZ1bmN0aW9uIGxpc3RCZWxhbmphVGlkYWtMYW5nc3VuZygkaXNpLCRUYW1waWxDaGVja0JveCwka29uZGlzaVNLUEQsJGtvZGVSZWtlbmluZyl7CiAgICAgIGZvcmVhY2ggKCRpc2kgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgICAgICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgICAgIH0KICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgICB9CiAgICAgJGNvbmNhdFJla2VuaW5nTGV2ZWwxID0gJGs7CiAgICAgaWYoIWluX2FycmF5KCRjb25jYXRSZWtlbmluZ0xldmVsMSwkdGhpcy0+Y29uY2F0QXJyYXkpICl7CiAgICAgICBpZigkdGhpcy0+bm9tb3JLb2xvbSAlIDIgPT0gMSl7CiAgICAgICAgJHJvd0NsYXNzID0gInJvdzAiOwogICAgICAgfWVsc2V7CiAgICAgICAgJHJvd0NsYXNzID0gInJvdzEiOwogICAgICAgfQogICAgICAgJHRoaXMtPmNvbmNhdEFycmF5W10gPSAkY29uY2F0UmVrZW5pbmdMZXZlbDE7CiAgICAgICAka29kZVJla2VuaW5nID0gJGs7CiAgICAgICAkZ2V0RGF0YVJla2VuaW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfcmVrZW5pbmcgd2hlcmUgaz0nJGsnIG9yZGVyIGJ5IGssbCxtLG4sbyBhc2MgIGxpbWl0IDEiKSk7CiAgICAgICAkZ2V0VG90YWxBbmdnYXJhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBzdW0odG90YWwpIGZyb20gdF9ub21vcl9zcGRfZGV0IHdoZXJlIHJlZmlkX25vbW9yX3NwZCA9ICckaWROb21vclNQRCcgYW5kIGs9JyRrJyIpKTsKICAgICAgICRrb2xvbVJla2VuaW5nMSA9ICIKICAgICAgICAgIDx0ciBjbGFzcz0nJHJvd0NsYXNzJyB2YWxpZ249J3RvcCc+CiAgICAgICAgICAgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgPiR0aGlzLT5ub21vcktvbG9tPC90ZD4KICAgICAgICAgICA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPiRrb2RlUmVrZW5pbmc8L3RkPgogICAgICAgICAgIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PHNwYW4gc3R5bGU9J2ZvbnQtd2VpZ2h0OmJvbGQ7Jz4iLiRnZXREYXRhUmVrZW5pbmdbJ25tX3Jla2VuaW5nJ10uIjwvc3Bhbj48L3RkPgogICAgICAgICAgIDx0ZCBhbGlnbj0ncmlnaHQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPjxiPiIuJHRoaXMtPm51bWJlckZvcm1hdCgkZ2V0VG90YWxBbmdnYXJhblsnc3VtKHRvdGFsKSddLDIpLiI8L3RkPgogICAgICAgICAgPC90cj4KICAgICAgICAiOwogICAgICAgICR0aGlzLT5ub21vcktvbG9tICArPSAxOwogICAgICAgICR0aGlzLT5ub21vckNoZWNrQm94ICArPSAxOwogICAgICB9CiAgICAgJGNvbmNhdFJla2VuaW5nTGV2ZWwyID0gJGsuIi4iLiRsOwogICAgIGlmKCFpbl9hcnJheSgkY29uY2F0UmVrZW5pbmdMZXZlbDIsJHRoaXMtPmNvbmNhdEFycmF5KSApewogICAgICAgaWYoJHRoaXMtPm5vbW9yS29sb20gJSAyID09IDEpewogICAgICAgICRyb3dDbGFzcyA9ICJyb3cwIjsKICAgICAgIH1lbHNlewogICAgICAgICRyb3dDbGFzcyA9ICJyb3cxIjsKICAgICAgIH0KICAgICAgICR0aGlzLT5jb25jYXRBcnJheVtdID0gJGNvbmNhdFJla2VuaW5nTGV2ZWwyOwogICAgICAgJGtvZGVSZWtlbmluZyA9ICRrLiIuIi4kbDsKICAgICAgICRnZXREYXRhUmVrZW5pbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9yZWtlbmluZyB3aGVyZSBjb25jYXQoaywnLicsbCkgPSAnJGtvZGVSZWtlbmluZycgb3JkZXIgYnkgayxsLG0sbixvIGFzYyAgbGltaXQgMSIpKTsKICAgICAgICRnZXRUb3RhbEFuZ2dhcmFuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IHN1bSh0b3RhbCkgZnJvbSB0X25vbW9yX3NwZF9kZXQgd2hlcmUgcmVmaWRfbm9tb3Jfc3BkID0gJyRpZE5vbW9yU1BEJyBhbmQgY29uY2F0KGssJy4nLGwpID0gJyRrb2RlUmVrZW5pbmcnIikpOwogICAgICAgJGtvbG9tUmVrZW5pbmcyID0gIgogICAgICAgICAgPHRyIGNsYXNzPSckcm93Q2xhc3MnIHZhbGlnbj0ndG9wJz4KICAgICAgICAgICA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JHRoaXMtPm5vbW9yS29sb208L3RkPgogICAgICAgICAgIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JGtvZGVSZWtlbmluZzwvdGQ+CiAgICAgICAgICAgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID48c3BhbiBzdHlsZT0nZm9udC13ZWlnaHQ6Ym9sZDttYXJnaW4tbGVmdDo1cHg7Jz4iLiRnZXREYXRhUmVrZW5pbmdbJ25tX3Jla2VuaW5nJ10uIjwvc3Bhbj48L3RkPgogICAgICAgICAgIDx0ZCBhbGlnbj0ncmlnaHQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPjxiPiIuJHRoaXMtPm51bWJlckZvcm1hdCgkZ2V0VG90YWxBbmdnYXJhblsnc3VtKHRvdGFsKSddLDIpLiI8L3RkPgogICAgICAgICAgPC90cj4KICAgICAgICAiOwogICAgICAgICR0aGlzLT5ub21vcktvbG9tICArPSAxOwogICAgICAgICR0aGlzLT5ub21vckNoZWNrQm94ICArPSAxOwogICAgICB9CgoKCiAgICAgJGNvbmNhdFJla2VuaW5nTGV2ZWwzID0gJGsuIi4iLiRsLiIuIi4kbTsKICAgICBpZighaW5fYXJyYXkoJGNvbmNhdFJla2VuaW5nTGV2ZWwzLCR0aGlzLT5jb25jYXRBcnJheSkgKXsKICAgICAgIGlmKCR0aGlzLT5ub21vcktvbG9tICUgMiA9PSAxKXsKICAgICAgICAkcm93Q2xhc3MgPSAicm93MCI7CiAgICAgICB9ZWxzZXsKICAgICAgICAkcm93Q2xhc3MgPSAicm93MSI7CiAgICAgICB9CiAgICAgICAkdGhpcy0+Y29uY2F0QXJyYXlbXSA9ICRjb25jYXRSZWtlbmluZ0xldmVsMzsKICAgICAgICRrb2RlUmVrZW5pbmcgPSAgJGsuIi4iLiRsLiIuIi4kbTsKICAgICAgICRnZXREYXRhUmVrZW5pbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9yZWtlbmluZyB3aGVyZSBjb25jYXQoaywnLicsbCwnLicsbSkgPSAnJGtvZGVSZWtlbmluZycgb3JkZXIgYnkgayxsLG0sbixvIGFzYyAgbGltaXQgMSIpKTsKICAgICAgICRnZXRUb3RhbEFuZ2dhcmFuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IHN1bSh0b3RhbCkgZnJvbSB0X25vbW9yX3NwZF9kZXQgd2hlcmUgcmVmaWRfbm9tb3Jfc3BkID0gJyRpZE5vbW9yU1BEJyBhbmQgY29uY2F0KGssJy4nLGwsJy4nLG0pID0gJyRrb2RlUmVrZW5pbmcnICIpKTsKICAgICAgICRrb2xvbVJla2VuaW5nMyA9ICIKICAgICAgICAgIDx0ciBjbGFzcz0nJHJvd0NsYXNzJyB2YWxpZ249J3RvcCc+CiAgICAgICAgICAgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgPiR0aGlzLT5ub21vcktvbG9tPC90ZD4KICAgICAgICAgICA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPiRrb2RlUmVrZW5pbmc8L3RkPgogICAgICAgICAgIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PHNwYW4gc3R5bGU9J2ZvbnQtd2VpZ2h0OmJvbGQ7bWFyZ2luLWxlZnQ6MTBweDsnPiIuJGdldERhdGFSZWtlbmluZ1snbm1fcmVrZW5pbmcnXS4iPC9zcGFuPjwvdGQ+CiAgICAgICAgICAgPHRkIGFsaWduPSdyaWdodCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PGI+Ii4kdGhpcy0+bnVtYmVyRm9ybWF0KCRnZXRUb3RhbEFuZ2dhcmFuWydzdW0odG90YWwpJ10sMikuIjwvdGQ+CiAgICAgICAgICA8L3RyPgogICAgICAgICI7CiAgICAgICAgJHRoaXMtPm5vbW9yS29sb20gICs9IDE7CiAgICAgICAgJHRoaXMtPm5vbW9yQ2hlY2tCb3ggICs9IDE7CiAgICAgIH0KCiAgICAgJGNvbmNhdFJla2VuaW5nTGV2ZWw0ID0gJGsuIi4iLiRsLiIuIi4kbS4iLiIuJG47CiAgICAgaWYoIWluX2FycmF5KCRjb25jYXRSZWtlbmluZ0xldmVsNCwkdGhpcy0+Y29uY2F0QXJyYXkpICl7CiAgICAgICBpZigkdGhpcy0+bm9tb3JLb2xvbSAlIDIgPT0gMSl7CiAgICAgICAgJHJvd0NsYXNzID0gInJvdzAiOwogICAgICAgfWVsc2V7CiAgICAgICAgJHJvd0NsYXNzID0gInJvdzEiOwogICAgICAgfQogICAgICAgJHRoaXMtPmNvbmNhdEFycmF5W10gPSAkY29uY2F0UmVrZW5pbmdMZXZlbDQ7CiAgICAgICAka29kZVJla2VuaW5nID0gICRrLiIuIi4kbC4iLiIuJG0uIi4iLiRuOwogICAgICAgJGdldERhdGFSZWtlbmluZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3Jla2VuaW5nIHdoZXJlIGNvbmNhdChrLCcuJyxsLCcuJyxtLCcuJyxuKSA9ICcka29kZVJla2VuaW5nJyBvcmRlciBieSBrLGwsbSxuLG8gYXNjICBsaW1pdCAxIikpOwogICAgICAgJGdldFRvdGFsQW5nZ2FyYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3Qgc3VtKHRvdGFsKSBmcm9tIHRfbm9tb3Jfc3BkX2RldCB3aGVyZSByZWZpZF9ub21vcl9zcGQgPSAnJGlkTm9tb3JTUEQnIGFuZCBjb25jYXQoaywnLicsbCwnLicsbSwnLicsbikgPSAnJGtvZGVSZWtlbmluZycgIikpOwogICAgICAgJGtvbG9tUmVrZW5pbmc0ID0gIgogICAgICAgICAgPHRyIGNsYXNzPSckcm93Q2xhc3MnIHZhbGlnbj0ndG9wJz4KICAgICAgICAgICA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JHRoaXMtPm5vbW9yS29sb208L3RkPgogICAgICAgICAgIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JGtvZGVSZWtlbmluZzwvdGQ+CiAgICAgICAgICAgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID48c3BhbiBzdHlsZT0nZm9udC13ZWlnaHQ6Ym9sZDttYXJnaW4tbGVmdDoxNXB4Oyc+Ii4kZ2V0RGF0YVJla2VuaW5nWydubV9yZWtlbmluZyddLiI8L3NwYW4+PC90ZD4KICAgICAgICAgICA8dGQgYWxpZ249J3JpZ2h0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID48Yj4iLiR0aGlzLT5udW1iZXJGb3JtYXQoJGdldFRvdGFsQW5nZ2FyYW5bJ3N1bSh0b3RhbCknXSwyKS4iPC90ZD4KICAgICAgICAgIDwvdHI+CiAgICAgICAgIjsKICAgICAgICAkdGhpcy0+bm9tb3JLb2xvbSAgKz0gMTsKICAgICAgICAkdGhpcy0+bm9tb3JDaGVja0JveCAgKz0gMTsKICAgICAgfQoKICAgICAkY29uY2F0UmVrZW5pbmdMZXZlbDUgPSAkay4iLiIuJGwuIi4iLiRtLiIuIi4kbi4iLiIuJG87CiAgICAgaWYoIWluX2FycmF5KCRjb25jYXRSZWtlbmluZ0xldmVsNSwkdGhpcy0+Y29uY2F0QXJyYXkpICl7CiAgICAgICBpZigkdGhpcy0+bm9tb3JLb2xvbSAlIDIgPT0gMSl7CiAgICAgICAgJHJvd0NsYXNzID0gInJvdzAiOwogICAgICAgfWVsc2V7CiAgICAgICAgJHJvd0NsYXNzID0gInJvdzEiOwogICAgICAgfQogICAgICAgJHRoaXMtPmNvbmNhdEFycmF5W10gPSAkY29uY2F0UmVrZW5pbmdMZXZlbDU7CiAgICAgICAka29kZVJla2VuaW5nID0gICRrLiIuIi4kbC4iLiIuJG0uIi4iLiRuLiIuIi4kbzsKICAgICAgICRnZXREYXRhUmVrZW5pbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9yZWtlbmluZyB3aGVyZSBjb25jYXQoaywnLicsbCwnLicsbSwnLicsbiwnLicsbykgPSAnJGtvZGVSZWtlbmluZycgb3JkZXIgYnkgayxsLG0sbixvIGFzYyAgbGltaXQgMSIpKTsKICAgICAgICRnZXRUb3RhbEFuZ2dhcmFuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IHN1bSh0b3RhbCkgZnJvbSB0X25vbW9yX3NwZF9kZXQgd2hlcmUgcmVmaWRfbm9tb3Jfc3BkID0gJyRpZE5vbW9yU1BEJyBhbmQgY29uY2F0KGssJy4nLGwsJy4nLG0sJy4nLG4sJy4nLG8pID0gJyRrb2RlUmVrZW5pbmcnICIpKTsKICAgICAgICRrb2xvbVJla2VuaW5nNSA9ICIKICAgICAgICAgIDx0ciBjbGFzcz0nJHJvd0NsYXNzJyB2YWxpZ249J3RvcCc+CiAgICAgICAgICAgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgPiR0aGlzLT5ub21vcktvbG9tPC90ZD4KICAgICAgICAgICA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPiRrb2RlUmVrZW5pbmc8L3RkPgogICAgICAgICAgIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+PHNwYW4gc3R5bGU9J21hcmdpbi1sZWZ0OjIwcHg7Jz4iLiRnZXREYXRhUmVrZW5pbmdbJ25tX3Jla2VuaW5nJ10uIjwvc3Bhbj48L3RkPgogICAgICAgICAgIDx0ZCBhbGlnbj0ncmlnaHQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPiIuJHRoaXMtPm51bWJlckZvcm1hdCgkZ2V0VG90YWxBbmdnYXJhblsnc3VtKHRvdGFsKSddLDIpLiI8L3RkPgogICAgICAgICAgPC90cj4KICAgICAgICAiOwogICAgICAgICR0aGlzLT5ub21vcktvbG9tICArPSAxOwogICAgICAgICR0aGlzLT5ub21vckNoZWNrQm94ICArPSAxOwogICAgICB9CiAgICAgaWYoJGZpbHRlclJpbmNpYW4gPT0gInNob3ciKXsKICAgICAgICRjb25jYXRSaW5jaWFuQmVsYW5qYSA9ICRrLiIuIi4kbC4iLiIuJG0uIi4iLiRuLiIuIi4kby4iLiIuJGlkX3JpbmNpYW5fYmVsYW5qYTsKICAgICAgIGlmKCFpbl9hcnJheSgkY29uY2F0UmluY2lhbkJlbGFuamEsJHRoaXMtPmNvbmNhdEFycmF5KSApewogICAgICAgICBpZigkdGhpcy0+bm9tb3JLb2xvbSAlIDIgPT0gMSl7CiAgICAgICAgICAkcm93Q2xhc3MgPSAicm93MCI7CiAgICAgICAgIH1lbHNlewogICAgICAgICAgJHJvd0NsYXNzID0gInJvdzEiOwogICAgICAgICB9CiAgICAgICAgICR0aGlzLT5jb25jYXRBcnJheVtdID0gJGNvbmNhdFJpbmNpYW5CZWxhbmphOwogICAgICAgICAka29kZVJla2VuaW5nID0gICRrLiIuIi4kbC4iLiIuJG0uIi4iLiRuLiIuIi4kbzsKICAgICAgICAgJGdldERhdGFSaW5jaWFuQmVsYW5qYSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmluY2lhbl9iZWxhbmphIHdoZXJlIGlkID0gJyRpZF9yaW5jaWFuX2JlbGFuamEnIikpOwogICAgICAgICAkZ2V0VG90YWxBbmdnYXJhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBzdW0odG90YWwpIGZyb20gdF9ub21vcl9zcGRfZGV0IHdoZXJlIHJlZmlkX25vbW9yX3NwZCA9ICckaWROb21vclNQRCcgYW5kIGNvbmNhdChrLCcuJyxsLCcuJyxtLCcuJyxuLCcuJyxvKSA9ICcka29kZVJla2VuaW5nJyAgYW5kIGlkX3JpbmNpYW5fYmVsYW5qYSA9ICckaWRfcmluY2lhbl9iZWxhbmphJyIpKTsKICAgICAgICAgJGtvbG9tUmluY2lhbkJlbGFuamEgPSAiCiAgICAgICAgICAgIDx0ciBjbGFzcz0nJHJvd0NsYXNzJyB2YWxpZ249J3RvcCc+CiAgICAgICAgICAgICA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JHRoaXMtPm5vbW9yS29sb208L3RkPgogICAgICAgICAgICAgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID48L3RkPgogICAgICAgICAgICAgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID48c3BhbiBzdHlsZT0nbWFyZ2luLWxlZnQ6MjVweDsnPiIuJGdldERhdGFSaW5jaWFuQmVsYW5qYVsnbmFtYV9yaW5jaWFuX2JlbGFuamEnXS4iPC9zcGFuPjwvdGQ+CiAgICAgICAgICAgICA8dGQgYWxpZ249J3JpZ2h0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID4iLiR0aGlzLT5udW1iZXJGb3JtYXQoJGdldFRvdGFsQW5nZ2FyYW5bJ3N1bSh0b3RhbCknXSwyKS4iPC90ZD4KICAgICAgICAgICAgPC90cj4KICAgICAgICAgICI7CiAgICAgICAgICAkdGhpcy0+bm9tb3JLb2xvbSAgKz0gMTsKICAgICAgICAgICR0aGlzLT5ub21vckNoZWNrQm94ICArPSAxOwogICAgICAgIH0KICAgICB9CiAgICAgaWYoJGZpbHRlclN1YlJpbmNpYW4gPT0gInNob3ciKXsKICAgICAgIGlmKCR0aGlzLT5ub21vcktvbG9tICUgMiA9PSAxKXsKICAgICAgICAkcm93Q2xhc3MgPSAicm93MCI7CiAgICAgICB9ZWxzZXsKICAgICAgICAkcm93Q2xhc3MgPSAicm93MSI7CiAgICAgICB9CiAgICAgICAkZ2V0RGF0YURQQSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdGFiZWxfZHBhIHdoZXJlIGlkID0gJyRpZF9kcGEnIikpOwogICAgICAgJGdldFRvdGFsQW5nZ2FyYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3Qgc3VtKHRvdGFsKSBmcm9tIHRfbm9tb3Jfc3BkX2RldCB3aGVyZSByZWZpZF9ub21vcl9zcGQgPSAnJGlkTm9tb3JTUEQnIGFuZCBjb25jYXQoaywnLicsbCwnLicsbSwnLicsbiwnLicsbykgPSAnJGtvZGVSZWtlbmluZycgIGFuZCBpZF9yaW5jaWFuX2JlbGFuamEgPSAnJGlkX3JpbmNpYW5fYmVsYW5qYScgYW5kIGlkX2RwYT0nJGlkX2RwYSciKSk7CiAgICAgICAka29sb21TdWJSaW5jaWFuQmVsYW5qYSA9ICIKICAgICAgICAgIDx0ciBjbGFzcz0nJHJvd0NsYXNzJyB2YWxpZ249J3RvcCc+CiAgICAgICAgICAgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgPiR0aGlzLT5ub21vcktvbG9tPC90ZD4KICAgICAgICAgICA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPjwvdGQ+CiAgICAgICAgICAgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID48c3BhbiBzdHlsZT0nbWFyZ2luLWxlZnQ6MzBweDsnPiAtICIuJGdldERhdGFEUEFbJ3JpbmNpYW5fcGVyaGl0dW5nYW4nXS4iPC9zcGFuPjwvdGQ+CiAgICAgICAgICAgPHRkIGFsaWduPSdyaWdodCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+Ii4kdGhpcy0+bnVtYmVyRm9ybWF0KCRnZXRUb3RhbEFuZ2dhcmFuWydzdW0odG90YWwpJ10sMikuIjwvdGQ+CiAgICAgICAgICA8L3RyPgogICAgICAgICI7CiAgICAgICAgJHRoaXMtPm5vbW9yS29sb20gICs9IDE7CiAgICAgICAgJHRoaXMtPm5vbW9yQ2hlY2tCb3ggICs9IDE7CiAgICAgfQoKCgoKICAgIHJldHVybiAka29sb21SZWtlbmluZzEuJGtvbG9tUmVrZW5pbmcyLiRrb2xvbVJla2VuaW5nMy4ka29sb21SZWtlbmluZzQuJGtvbG9tUmVrZW5pbmc1LiRrb2xvbVJpbmNpYW5CZWxhbmphLiRrb2xvbVN1YlJpbmNpYW5CZWxhbmphOwogIH0KCiAgZnVuY3Rpb24gZ2VuRGFmdGFyT3BzaSgpewogICBnbG9iYWwgJFJlZiwgJE1haW47CiAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSl7CiAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICB9CiAgICRnZXREYXRhU1BEID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X25vbW9yX3NwZCB3aGVyZSBJZCA9ICckaWROb21vclNQRCciKSk7CgogICAgICAkVGFtcGlsT3B0ID0KCiAgICAgICAgJHRoaXMtPmdlbkZpbHRlckJhclRSKAogICAgICAgICAgYXJyYXkoCiAgICAgICAgICAiPGRpdiBzdHlsZT0nZmxvYXQ6IGxlZnQ7IHdpZHRoOjEwMCU7IGhlaWdodDogYXV0bzsgcGFkZGluZzogNHB4Oyc+CiAgICAgICAgICA8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdmaWx0ZXJVcnVzYW4nIGlkPSdmaWx0ZXJVcnVzYW4nIHZhbHVlPSciLiRnZXREYXRhU1BEWydjMSddLiInPgogICAgICAgICAgPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nZmlsdGVyQmlkYW5nJyBpZD0nZmlsdGVyQmlkYW5nJyB2YWx1ZT0nIi4kZ2V0RGF0YVNQRFsnYyddLiInPgogICAgICAgICAgPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nZmlsdGVyU0tQRCcgaWQ9J2ZpbHRlclNLUEQnIHZhbHVlPSciLiRnZXREYXRhU1BEWydkJ10uIic+CiAgICAgICAgICAgIDx0YWJsZSB3aWR0aD1cIjEwMCVcIiAgID4KICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgIDx0ZCB3aWR0aD0nMTA4cHgnPlRBTVBJTEtBTjwvdGQ+CiAgICAgICAgICAgICAgICAgPHRkIHdpZHRoPScxMCc+OjwvdGQ+CiAgICAgICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgICAgICAiLiR0aGlzLT5jaGVja1RhbXBpbCgpLiIgJm5ic3AgIi4kdGhpcy0+cmFkaW9MaXN0KCR2aWV3TGlzdCkuIgogICAgICAgICAgICAgICAgICZuYnNwIDxpbnB1dCB0eXBlPSdidXR0b24nIG9uY2xpY2sgPSR0aGlzLT5QcmVmaXgucmVmcmVzaExpc3QodHJ1ZSk7IHZhbHVlPSdUYW1waWxrYW4nPgogICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgIDwvdHI+CgogICAgICAgICAgICA8L3RhYmxlPgogICAgICAgIDwvZGl2PiIKICAgICAgICApLCcnLCcnLCcnKQogICAgICAgICAgOwogICAgcmV0dXJuIGFycmF5KCdUYW1waWxPcHQnPT4kVGFtcGlsT3B0KTsKICB9CgoKICBmdW5jdGlvbiBjaGVja1RhbXBpbCgpewogICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAkJGtleSA9ICR2YWx1ZTsKICAgIH0KICAgIGlmKCFpc3NldCgkX1JFUVVFU1RbJ2ZpbHRlclJpbmNpYW4nXSkpewogICAgICAkZmlsdGVyUmluY2lhbj0gJyc7CiAgICB9CiAgICBpZighaXNzZXQoJF9SRVFVRVNUWydmaWx0ZXJTdWJSaW5jaWFuJ10pKXsKICAgICAgJGZpbHRlclN1YlJpbmNpYW49ICcnOwogICAgfQogICAgaWYoIWlzc2V0KCRfUkVRVUVTVFsnZmlsdGVyTmlsYWlOb2wnXSkpewogICAgICAkZmlsdGVyTmlsYWlOb2w9ICcnOwogICAgfQogICAgaWYoJGZpbHRlclJpbmNpYW4gPT0gJ3Nob3cnKSRzdGF0dXNDaGVja1JpbmNpYW5CZWxhbmphID0gImNoZWNrZWQiOwogICAgaWYoJGZpbHRlclN1YlJpbmNpYW4gPT0gJ3Nob3cnKSRzdGF0dXNDaGVja1N1YlJpbmNpYW5CZWxhbmphID0gImNoZWNrZWQiOwogICAgaWYoJGZpbHRlck5pbGFpTm9sID09ICdzaG93Jykkc3RhdHVzQ2hlY2tOaWxhaU5vbCA9ICJjaGVja2VkIjsKICAgICRyYWRpb0FMb2thc2kgPSAiCiAgICA8aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSdjaGVja0JveFNob3dSaW5jaWFuQmVsYW5qYScgICRzdGF0dXNDaGVja1JpbmNpYW5CZWxhbmphIG9uQ2hhbmdlPSR0aGlzLT5QcmVmaXguY2hlY2tCb3hSaW5jaWFuQmVsYW5qYUNoYW5nZWQoKTs+IFJpbmNpYW4gQmVsYW5qYSAmbmJzcAogICAgPGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nY2hlY2tCb3hTaG93U3ViUmluY2lhbkJlbGFuamEnICAgJHN0YXR1c0NoZWNrU3ViUmluY2lhbkJlbGFuamEgb25DaGFuZ2U9JHRoaXMtPlByZWZpeC5jaGVja0JveFN1YlJpbmNpYW5CZWxhbmphQ2hhbmdlZCgpOz4gU3ViIFJpbmNpYW4gQmVsYW5qYSAmbmJzcAogICAgPGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nY2hlY2tCb3hTaG93TmlsYWlOb2wnICAgJHN0YXR1c0NoZWNrTmlsYWlOb2wgb25DaGFuZ2U9JHRoaXMtPlByZWZpeC5jaGVja0JveE5pbGFpTm9sQ2hhbmdlZCgpOz4gTmlsYWkgTm9sCiAgICA8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdmaWx0ZXJSaW5jaWFuJyBpZD0nZmlsdGVyUmluY2lhbicgdmFsdWU9JyRmaWx0ZXJSaW5jaWFuJyA+CiAgICA8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdmaWx0ZXJTdWJSaW5jaWFuJyBpZD0nZmlsdGVyU3ViUmluY2lhbicgIHZhbHVlPSckZmlsdGVyU3ViUmluY2lhbicgID4KICAgIDxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2ZpbHRlck5pbGFpTm9sJyBpZD0nZmlsdGVyTmlsYWlOb2wnICB2YWx1ZT0nJGZpbHRlck5pbGFpTm9sJyAgPgogICAgIjsKICAgIHJldHVybiAkcmFkaW9BTG9rYXNpOwogIH0KICBmdW5jdGlvbiByYWRpb0xpc3QoJHZhbHVlUmFkaW8pewogICAgc3dpdGNoICgkdmFsdWVSYWRpbykgewogICAgICBjYXNlICdSRUtBUCc6CiAgICAgICAgJG9uQnVsYW5hbj0gImNoZWNrZWQiOwogICAgICAgIGJyZWFrOwogICAgICBkZWZhdWx0OgogICAgICAgICRvbkJ1bGFuYW49ICIiOwogICAgICAgIGJyZWFrOwogICAgfQoKICAgICRyYWRpb0xpc3QgPSAiCiAgICA8aW5wdXQgdHlwZT0nY2hlY2tib3gnIG5hbWU9J3ZpZXdMaXN0JyAkb25CdWxhbmFuIHZhbHVlPSdSRUtBUCcgb25jbGljaz0kdGhpcy0+UHJlZml4LnZpZXdBbG9rYXNpKCk+IFJla2FwIEtvZGUgUmVrZW5pbmcKICAgICI7CiAgICByZXR1cm4gJHJhZGlvTGlzdDsKICB9CgogIGZ1bmN0aW9uIGdldERhZnRhck9wc2koJE1vZGU9MSl7CiAgICBnbG9iYWwgJE1haW4sICRIVFRQX0NPT0tJRV9WQVJTOwogICAgJFVJRCA9ICRfQ09PS0lFWydjb0lEJ107CiAgICAvL2tvbmRpc2kgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICRhcnJLb25kaXNpID0gYXJyYXkoKTsKICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewogICAgICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgICB9CiAgICBpZigkZmlsdGVyVXJ1c2FuICE9JzAwJyl7CiAgICAgICAgJGFycktvbmRpc2lbXSA9ICJjMSA9ICckZmlsdGVyVXJ1c2FuJyI7CiAgICAgICAgJGtvbmRpc2lTS1BEIC49ICIgYW5kIGMxPSckZmlsdGVyVXJ1c2FuJyI7CiAgICB9CiAgICBpZigkZmlsdGVyQmlkYW5nICE9JzAwJyl7CiAgICAgICAgJGFycktvbmRpc2lbXSA9ICJjID0gJyRmaWx0ZXJCaWRhbmcnIjsKICAgICAgICAka29uZGlzaVNLUEQgLj0gIiBhbmQgYz0nJGZpbHRlckJpZGFuZyciOwogICAgfQogICAgaWYoJGZpbHRlclNLUEQgIT0nMDAnKXsKICAgICAgICAkYXJyS29uZGlzaVtdID0gImQgPSAnJGZpbHRlclNLUEQnIjsKICAgICAgICAka29uZGlzaVNLUEQgLj0gIiBhbmQgZD0nJGZpbHRlclNLUEQnIjsKICAgIH0KICAgIGlmKCRmaWx0ZXJOaWxhaU5vbCAhPSAic2hvdyIpewogICAgICAkYXJyS29uZGlzaVtdID0gInRvdGFsICE9ICcwJyI7CiAgICB9CiAgICAkYXJyS29uZGlzaVtdID0gInJlZmlkX25vbW9yX3NwZCA9ICckaWROb21vclNQRCciOwoKICAgICRLb25kaXNpPSBqb2luKCcgYW5kICcsJGFycktvbmRpc2kpOwogICAgJEtvbmRpc2kgPSAkS29uZGlzaSA9PScnID8gJyc6JyBXaGVyZSAnLiRLb25kaXNpIDsKICAgIC8vT3JkZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgJGZtT1JERVIxID0gY2VrUE9TVCgnZm1PUkRFUjEnKTsKICAgICRmbURFU0MxID0gY2VrUE9TVCgnZm1ERVNDMScpOwogICAgJEFzYzEgPSAkZm1ERVNDMSA9PScnPyAnJzogJ2Rlc2MnOwogICAgJGFyck9yZGVycyA9IGFycmF5KCk7CiAgICAkYXJyT3JkZXJzW10gPSJjb25jYXQoaywnLicsbCwnLicsbSwnLicsbiwnLicsbykgYXNjLGNvbmNhdChiaywnLicsY2ssJy4nLGRrLCcuJyxwLCcuJyxxKSBkZXNjLGNvbmNhdChjMSwnLicsYywnLicsZCkgYXNjIjsKICAgICRPcmRlcj0gam9pbignLCcsJGFyck9yZGVycyk7CiAgICAkT3JkZXJEZWZhdWx0ID0gJyc7CiAgICAkT3JkZXIgPSAgJE9yZGVyID09Jyc\/ICRPcmRlckRlZmF1bHQgOiAnIE9yZGVyIEJ5ICcuJE9yZGVyOwoKICAgIGlmKGVtcHR5KCRqdW1sYWhEYXRhKSkkanVtbGFoRGF0YSA9NTA7CiAgICAkdGhpcy0+cGFnZVBlckhhbCA9ICRqdW1sYWhEYXRhOwogICAgJHBhZ2VQZXJIYWwgPSAkdGhpcy0+cGFnZVBlckhhbCA9PScnID8gJE1haW4tPlBhZ2VQZXJIYWw6ICR0aGlzLT5wYWdlUGVySGFsOwogICAgJEhhbERlZmF1bHQ9Y2VrUE9TVCgkdGhpcy0+UHJlZml4LidfaGFsJywxKTsKICAgIC8vJExpbWl0ID0gIiBsaW1pdCAiLigoJEhhbERlZmF1bHQgICoxKSAtIDEpICogJE1haW4tPlBhZ2VQZXJIYWwuIiwiLiRNYWluLT5QYWdlUGVySGFsOyAvLyRMaW1pdEhhbCA9ICcnOwogICAgJExpbWl0ID0gIiBsaW1pdCAiLigoJEhhbERlZmF1bHQgICoxKSAtIDEpICogJHBhZ2VQZXJIYWwuIiwiLiRwYWdlUGVySGFsIDsgLy8kTGltaXRIYWwgPSAnJzsKICAgICRMaW1pdCA9ICRNb2RlID09IDMgPyAnJzogJExpbWl0OwogICAgLy9ub2F3YWwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAkTm9Bd2FsPSAkcGFnZVBlckhhbCAqICgoJEhhbERlZmF1bHQqMSkgLSAxKTsKICAgICROb0F3YWwgPSAkTW9kZSA9PSAzID8gMDogJE5vQXdhbDsKCiAgICByZXR1cm4gYXJyYXkoJ0tvbmRpc2knPT4kS29uZGlzaSwgJ09yZGVyJz0+JE9yZGVyICwnTGltaXQnPT4kTGltaXQsICdOb0F3YWwnPT4kTm9Bd2FsICk7CgogIH0KCgoJZnVuY3Rpb24gZ2V0RXhjZXB0UmVrZW5pbmcoJGplbmlzVHJhbnNha3NpKXsKCQlmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKCQkJCQkkJGtleSA9ICR2YWx1ZTsKCQl9CgkJJHJldHVyblZhbHVlID0gIiI7CgkJaWYoc3RycG9zKCRqZW5pc1RyYW5zYWtzaSwiIiApICE9PSBmYWxzZSl7CgkJCSRnZXREYXRhID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRhYmVsXyB3aGVyZSB0YWh1bl9hbmdnYXJhbiA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIGplbmlzX2FuZ2dhcmFuID0gJyR0aGlzLT5qZW5pc0FuZ2dhcmFuJyBhbmQgaWRfdGFoYXAgPSAnJHRoaXMtPmlkVGFoYXAnIGFuZCBjb25jYXQoYzEsJy4nLGMsJy4nLGQpID0gJyRrb2RlU0tQRCcgICIpOwoJCX1lbHNlewoJCQkkZ2V0RGF0YSA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0YWJlbF9kcGEgd2hlcmUgdGFodW5fYW5nZ2FyYW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBqZW5pc19hbmdnYXJhbiA9ICckdGhpcy0+amVuaXNBbmdnYXJhbicgYW5kIGNvbmNhdChjMSwnLicsYywnLicsZCkgPSAnJGtvZGVTS1BEJyIpOwoJCX0KCQkkYXJyUmVrZW5pbmcgPSBhcnJheSgpOwoJCXdoaWxlICgkZGF0YSA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YSkpIHsKCQkJJGFyclJla2VuaW5nW10gPSAiJyIuJGRhdGFbJ2snXS4iLiIuJGRhdGFbJ2wnXS4iLiIuJGRhdGFbJ20nXS4iLiIuJGRhdGFbJ24nXS4iLiIuJGRhdGFbJ28nXS4iJyI7CgkJfQoJCWlmKHNpemVvZigkYXJyUmVrZW5pbmcpICE9MCl7CgkJCSRyZXR1cm5WYWx1ZSA9ICIgYW5kIGNvbmNhdChrLCcuJyxsLCcuJyxtLCcuJyxuLCcuJyxvKSBub3QgaW4gKCIuaW1wbG9kZSgnLCcsJGFyclJla2VuaW5nKS4iKSAiOwoJCX0KCgkJcmV0dXJuICRyZXR1cm5WYWx1ZTsKCgoJfQoKfQokZGV0YWlsU1BEID0gbmV3IGRldGFpbFNQRE9iaigpOwppZigkTWFpbi0+UkVLX0RJR0lUX08gPT0gMCl7CgkkZGV0YWlsU1BELT5XSEVSRV9PID0gIjAwIjsKfWVsc2V7CgkkZGV0YWlsU1BELT5XSEVSRV9PID0gIjAwMCI7Cn0KJGRldGFpbFNQRC0+dXNlcm5hbWUgPSAkX0NPT0tJRVsnY29JRCddOwokYXJyYXlSZXN1bHQgPSAkZGV0YWlsU1BELT5nZXRUYWhhcEtldWFuZ2FuKCIiLCJNVVJOSSIpOwokZGV0YWlsU1BELT50YWh1bkFuZ2dhcmFuID0gJGFycmF5UmVzdWx0Wyd0YWh1bl9hbmdnYXJhbiddOwokZGV0YWlsU1BELT5qZW5pc0FuZ2dhcmFuID0gJGFycmF5UmVzdWx0WydqZW5pc19hbmdnYXJhbiddOwokZGV0YWlsU1BELT5ub21vclVydXRUYWhhcCA9ICRhcnJheVJlc3VsdFsnbm9tb3JfdXJ1dCddOwokZGV0YWlsU1BELT5pZFRhaGFwID0gJGFycmF5UmVzdWx0WydpZCddOwo\/Pgo=",
    "size": "38252"
}