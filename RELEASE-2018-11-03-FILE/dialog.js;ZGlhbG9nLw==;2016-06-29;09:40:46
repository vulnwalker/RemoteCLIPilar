{
    "namaFile": "dialog\/dialog.js",
    "lastUpdate": "2016-06-29+09:40:46.40",
    "contentFile": "ZnVuY3Rpb24gbG9hZGluZ1Nob3coZm9ybUlELCBpbWdTcmMpew0KICAgIHZhciBpZE92ZXJsYXkgPSBmb3JtSUQrJ19vdmVybGF5JzsNCiAgICBpZiAoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkT3ZlcmxheSApID09IG51bGwgKXsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgKz0gJzxkaXYgaWQ9IicraWRPdmVybGF5KyciIGNsYXNzPSJwbmxPdmVybGF5Ij48L2Rpdj4nDQogICAgfQ0KICAgIHZhciBkbGdvdmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRPdmVybGF5KTsNCiAgICAvL2RsZ292ZXIuc2V0QXR0cmlidXRlKCdzdHlsZScsJ3Zpc2liaWxpdHk6dmlzaWJsZTt6LWluZGV4Ojk5OyBjdXJzb3I6d2FpdCcpOw0KICAgIGRsZ292ZXIuc3R5bGUudmlzaWJpbGl0eT0ndmlzaWJsZSc7DQogICAgZGxnb3Zlci5pbm5lckhUTUwgPSAiIisNCiAgICAiPHRhYmxlIHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnPjx0cj48dGQgYWxpZ249Y2VudGVyPiIrDQoJCQkNCiAgICAvL3JnYigxNCwgMzEsIDkxKQ0KCQkJDQogICAgc2V0U2hhZG93Rm9ybSgNCiAgICAgICAgIjxkaXYgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6d2hpdGU7IGRpc3BsYXk6YmxvY2s7IHdpZHRoOjYwOyBtYXJnaW46MCAwIDAgMDsgcGFkZGluZzoxMCAxMCAxMCAxMDsgIisNCiAgICAgICAgImJvcmRlci1jb2xvcjogcmdiKDE1MywgMTcwLCAxODkpO2JvcmRlci13aWR0aDoxIDIgMiAxcHg7Ym9yZGVyLXN0eWxlOnNvbGlkOyc+IisNCiAgICAgICAgIjx0YWJsZSB3aWR0aD0nNjAnIGhlaWdodD0nNDUnPjx0cj48dGQgYWxpZ249Y2VudGVyPiIrDQogICAgICAgICI8aW1nIHNyYz0nIitpbWdTcmMrIicgPiIrDQogICAgICAgICI8L3RkPjwvdHI+PHRyPjx0ZCBhbGlnbj1jZW50ZXI+V2FpdGluZyAuLi4iKw0KCQkJDQogICAgICAgICI8L3RkPjwvdHI+PC90YWJsZT4iKw0KICAgICAgICAiPC9kaXY+IikrDQoJCQkNCiAgICAiPC90ZD48L3RyPjwvdGFibGU+IjsNCi8vdGhpcy5mb3JtSUQgPSAnZGxnRGV2aWNlRm9ybSc7DQovL3RoaXMuc2hvdyhtb2RlLCBldmVudCk7DQp9DQoNCmZ1bmN0aW9uIGxvYWRpbmdDbG9zZShmb3JtSUQpew0KICAgIHZhciBpZE92ZXJsYXkgPSBmb3JtSUQrJ19vdmVybGF5JzsNCiAgICB2YXIgZGxnb3ZlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkT3ZlcmxheSk7DQogICAgZGxnb3Zlci5pbm5lckhUTUwgPSAnJzsNCiAgICAvL2RsZ292ZXIuc2V0QXR0cmlidXRlKCdzdHlsZScsJ3Zpc2liaWxpdHk6aGlkZGVuO3otaW5kZXg6LTk5Jyk7DQogICAgZGxnb3Zlci5zdHlsZS52aXNpYmlsaXR5PSdoaWRkZW4nOw0KfQ0KDQpmdW5jdGlvbiBzZXRTaGFkb3dGb3JtKHRoZWZvcm0pew0KICAgIHZhciBzdHIgPQ0KICAgICI8dGFibGUgQ0VMTFNQQUNJTkc9JzAnIENFTExQQURESU5HPScwJz48dHI+PHRkPjwhLS10aGUgZm9ybS0tPiIrDQoJDQogICAgdGhlZm9ybSsNCgkNCiAgICAiPC90ZD48dGQgd2lkdGg9NCBoZWlnaHQ9JzEwMCUnIHZhbGlnbj10b3A+IisNCgkNCiAgICAvL2thbmFuDQogICAgIjx0YWJsZSBzdHlsZT0nd2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTsnICBDRUxMU1BBQ0lORz0nMCcgQ0VMTFBBRERJTkc9JzAnPjx0cj48dGQgaGVpZ2h0PTg+PC90ZD48L3RyPiA8dHI+IisNCiAgICAiPHRkIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOmdyYXk7b3BhY2l0eTowLjU7IisNCiAgICAvLyJib3JkZXItcmlnaHQtY29sb3I6IHNpbHZlcjtib3JkZXItcmlnaHQtc3R5bGU6IHNvbGlkO2JvcmRlci1yaWdodC13aWR0aDogMXB4OyIrDQogICAgIiAnPiA8L3RkPjwvdHI+PC90YWJsZT4iKw0KCQkNCiAgICAiPC90ZD48L3RyPiIrDQogICAgIjx0cj48dGQgaGVpZ2h0PTQgY29sc3Bhbj0yPiIrDQoJDQogICAgLy9iYXdhaA0KICAgICI8dGFibGUgd2lkdGg9JzEwMCUnIGhlaWdodD0nMTAwJScgQ0VMTFNQQUNJTkc9JzAnIENFTExQQURESU5HPScwJz48dHI+PHRkIHdpZHRoPTg+IDwvdGQ+IisNCiAgICAiPHRkIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOmdyYXk7b3BhY2l0eTowLjU7Jz4gPC90ZD48L3RyPjwvdGFibGU+IisNCgkNCiAgICAiPC90ZD48L3RyPiIrDQoJDQogICAgIjwvdGFibGU+IjsNCgkNCiAgICAvKiAvL2Nocm9tZQ0KCXZhciBzdHIgPSAJCQ0KCQkiPHRhYmxlIENFTExTUEFDSU5HPScwJyBDRUxMUEFERElORz0nMCc+IisNCgkJIjx0cj48dGQgY29sc3Bhbj0nMicgcm93c3Bhbj0nMic+PCEtLXRoZSBmb3JtLS0+IisNCgkJCXRoZWZvcm0rDQoJCSI8L3RkPjx0ZCB3aWR0aD0nNCcgaGVpZ2h0PSc4Jz48L3RkPjwvdHI+IisNCgkJIjx0cj48dGQgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6Z3JheTtvcGFjaXR5OjAuNTsnPjwvdGQ+PC90cj4iKw0KCQkiPHRyPjx0ZCB3aWR0aD0nOCcgaGVpZ2h0PSc0Jz48L3RkPiA8dGQgY29sc3Bhbj0nMicgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6Z3JheTtvcGFjaXR5OjAuNTsnPjwvdGQ+PC90cj48L3RhYmxlPiI7DQoJKi8NCgkNCiAgICAvKnZhciBzdHIgPQ0KCQkiPHRhYmxlPiAiKw0KCQkJIjx0cj48dGQ+PCEtLXRoZSBmb3JtLS0+IisNCgkJCXRoZWZvcm0rIjwvdGQ+ICIrDQoJCQkiPHRkPjwhLS1rYW5hbi0tPiAiKw0KCQkJIjx0YWJsZSB3aWR0aD0nNCcgaGVpZ2h0PScxMDAlJz48dHIgaGVpZ2h0PScxMCc+PHRkPjwvdGQ+PC90cj48dHI+PHRkIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOmdyYXk7b3BhY2l0eTowLjU7Jz48L3RkPjwvdHI+PC90YWJsZT4iKw0KCQkJIjwvdGQ+PC90cj4iKw0KCQkJIjx0cj48dHIgY29sc3Bhbj0yPjwhLS1iYXdhaC0tPiIrDQoJCQkiPHRhYmxlIHdpZHRoPScxMDAlJyBoZWlnaHQ9JzQnPjx0cj48dGQgd2lkdGg9JzEwJz48L3RkPjx0ZD48dGQgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6Z3JheTtvcGFjaXR5OjAuNTsnPjwvdHI+PC90YWJsZT4iKw0KCQkJIjx0ZD48L3RyPiIrDQoJCSI8L3RhYmxlPiI7CQ0KCSovCQkNCiAgICByZXR1cm4gc3RyOw0KfQ0KDQpmdW5jdGlvbiBzZXRTaGFkb3dGb3JtMih0aGVmb3JtKXsNCiAgICB2YXIgc3RyID0NCiAgICAnPGRpdiBpZD0iJytmb3JtSUQrJ19zaGFkb3ciIGNsYXNzPSJkaWFsb2dzdHlsZSIgc3R5bGU9InotaW5kZXg6OTk7d2lkdGg6Jyt3aWR0aCsnO2hlaWdodDonK2hlaWdodCsnO3Bvc2l0aW9uOmFic29sdXRlO3RvcDonK3RvcCsnO2xlZnQ6JytsZWZ0Kyc7Ij4nKw0KICAgICI8dGFibGUgQ0VMTFNQQUNJTkc9JzAnIENFTExQQURESU5HPScwJz48dHI+PHRkPjwhLS10aGUgZm9ybS0tPiIrDQoJDQogICAgdGhlZm9ybSsNCgkNCiAgICAiPC90ZD48dGQgd2lkdGg9NCBoZWlnaHQ9JzEwMCUnIHZhbGlnbj10b3A+IisNCgkNCiAgICAvL2thbmFuDQogICAgIjx0YWJsZSBzdHlsZT0nd2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTsnICBDRUxMU1BBQ0lORz0nMCcgQ0VMTFBBRERJTkc9JzAnPjx0cj48dGQgaGVpZ2h0PTg+PC90ZD48L3RyPiA8dHI+IisNCiAgICAiPHRkIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOmdyYXk7b3BhY2l0eTowLjU7IisNCiAgICAvLyJib3JkZXItcmlnaHQtY29sb3I6IHNpbHZlcjtib3JkZXItcmlnaHQtc3R5bGU6IHNvbGlkO2JvcmRlci1yaWdodC13aWR0aDogMXB4OyIrDQogICAgIiAnPiA8L3RkPjwvdHI+PC90YWJsZT4iKw0KCQkNCiAgICAiPC90ZD48L3RyPiIrDQogICAgIjx0cj48dGQgaGVpZ2h0PTQgY29sc3Bhbj0yPiIrDQoJDQogICAgLy9iYXdhaA0KICAgICI8dGFibGUgd2lkdGg9JzEwMCUnIGhlaWdodD0nMTAwJScgQ0VMTFNQQUNJTkc9JzAnIENFTExQQURESU5HPScwJz48dHI+PHRkIHdpZHRoPTg+IDwvdGQ+IisNCiAgICAiPHRkIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOmdyYXk7b3BhY2l0eTowLjU7Jz4gPC90ZD48L3RyPjwvdGFibGU+IisNCgkNCiAgICAiPC90ZD48L3RyPiIrDQoJDQogICAgIjwvdGFibGU+PC9kaXY+IjsNCgkNCgkNCiAgICByZXR1cm4gc3RyOw0KfQ0KDQpmdW5jdGlvbiBkaWFsb2dDbG9zZShmb3JtSUQpew0KICAgIHZhciBpZE92ZXJsYXkgPSBmb3JtSUQrJ19vdmVybGF5JzsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZE92ZXJsYXkpLmlubmVySFRNTCA9ICcnOwkvL2FsZXJ0KCd0ZXMnKTsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZE92ZXJsYXkpLnN0eWxlLnZpc2liaWxpdHk9J2hpZGRlbic7DQogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7Ly9hbGVydCgndGVzJyk7DQp9DQoNCmZ1bmN0aW9uIGRpYWxvZ0Nsb3NlMihmb3JtSUQpew0KICAgIHZhciBpZE92ZXJsYXkgPSBmb3JtSUQrJ19vdmVybGF5JzsNCiAgICB2YXIgaWRTaGFkb3cgPSBmb3JtSUQrJ19zaGFkb3cnOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkU2hhZG93KS5pbm5lckhUTUwgPSAnJzsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZE92ZXJsYXkpLmlubmVySFRNTCA9ICcnOwkvL2FsZXJ0KCd0ZXMnKTsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZE92ZXJsYXkpLnN0eWxlLnZpc2liaWxpdHk9J2hpZGRlbic7DQp9DQoNCmZ1bmN0aW9uIGRpYWxvZ1Nob3dNb2RhbChmb3JtSUQsIHdpZHRoLCBoZWlnaHQgKXsNCgkJDQogICAgaWYgKGlzSVBhZCgpKXsgLy9hbGVydCgnaXBhZCcpOw0KICAgICAgICB3aW5kb3cuc2Nyb2xsKDAsMCk7DQogICAgfWVsc2V7DQogICAgLy9hbGVydCgnYnVrYW5pcGFkJyk7DQogICAgfQ0KICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCQ0KICAgIHZhciBpZE92ZXJsYXkgPSBmb3JtSUQrJ19vdmVybGF5JzsNCiAgICBpZiAoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkT3ZlcmxheSApID09IG51bGwgKXsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSAnPGRpdiBpZD0iJytpZE92ZXJsYXkrJyIgY2xhc3M9InBubE92ZXJsYXkyIiBzdHlsZT0iIj48L2Rpdj4nK2RvY3VtZW50LmJvZHkuaW5uZXJIVE1MIDsNCiAgICB9DQoJCQ0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkT3ZlcmxheSApLnN0eWxlLnZpc2liaWxpdHk9J3Zpc2libGUnOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkT3ZlcmxheSApLmlubmVySFRNTCA9DQogICAgJzx0YWJsZSB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBjZWxsc3BhY2luZz0iMCIgY2VsbHBhZGRpbmc9IjAiPjx0cj48dGQ+PC90ZD48L3RyPicrDQogICAgJzx0cj48dGQgYWxpZ249ImNlbnRlciIgPicrDQogICAgc2V0U2hhZG93Rm9ybSgNCiAgICAgICAgJzxkaXYgY2xhc3M9ImRpYWxvZ3N0eWxlIiBzdHlsZT0id2lkdGg6Jyt3aWR0aCsnO2hlaWdodDonK2hlaWdodCsnOyI+JysNCiAgICAgICAgJzx0YWJsZSB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBjZWxsc3BhY2luZz0iMCIgY2VsbHBhZGRpbmc9IjAiPicrDQogICAgICAgICc8dHI+PHRkIHZhbGlnbj0idG9wIj4nKw0KICAgICAgICAnPGRpdiBpZD0iJytmb3JtSUQrJ19jb250ZW50IiBzdHlsZT0id2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTsiPicrDQogICAgICAgICd0ZXMnKw0KICAgICAgICAnPC9kaXY+JysNCiAgICAgICAgJzwvdGQ+PC90cj4nKw0KICAgICAgICAnPCEtLTx0ciBoZWlnaHQ9IjQwIj48dGQgYWxpZ249InJpZ2h0IiBzdHlsZT0icGFkZGluZzo0IDggNCA0Ij4gJysNCiAgICAgICAgJzxpbnB1dCBjbGFzcz0iYnV0dG9uX3N0ZCIgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iQ2V0YWsiIG9uY2xpY2s9IicrZm9ybUlEKycucHJpbnQoKSI+ICcrDQogICAgICAgICc8aW5wdXQgY2xhc3M9ImJ1dHRvbl9zdGQiIHR5cGU9ImJ1dHRvbiIgdmFsdWU9IkNsb3NlIiBvbmNsaWNrPSInK2Zvcm1JRCsnLmNsb3NlKCkiPiAnKw0KICAgICAgICAnPC90ZD48L3RyPi0tPjwvdGFibGU+JysNCiAgICAgICAgJzwvZGl2PicpKw0KICAgICc8L3RkPjwvdHI+JysNCiAgICAnPHRyPjx0ZD48L3RkPjwvdHI+Jw0KOw0KCQkNCn0NCg0KZnVuY3Rpb24gZGlhbG9nU2hvd01vZGFsMihmb3JtSUQsIHdpZHRoLCBoZWlnaHQsdG9wLGxlZnQgKXsNCiAgICB2YXIgaWRPdmVybGF5ID0gZm9ybUlEKydfb3ZlcmxheSc7DQogICAgdmFyIGlkU2hhZG93ID0gZm9ybUlEKydfc2hhZG93JzsNCiAgICBpZiAoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkT3ZlcmxheSApID09IG51bGwgKXsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgKz0gJzxkaXYgaWQ9IicraWRPdmVybGF5KyciIGNsYXNzPSJwbmxPdmVybGF5Ij48L2Rpdj4nOw0KICAgICAgICBpZiAoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkU2hhZG93ICkgPT0gbnVsbCApew0KICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgKz0gJzxkaXYgaWQ9IicraWRTaGFkb3crJyI+PC9kaXY+JzsNCiAgICAgICAgfQ0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZFNoYWRvdyApLmlubmVySFRNTCA9DQogICAgICAgICc8ZGl2ICBzdHlsZT0iei1pbmRleDo5OTt3aWR0aDonKyh3aWR0aCs2KSsnO2hlaWdodDonKyhoZWlnaHQrNikrDQogICAgICAgICc7cG9zaXRpb246YWJzb2x1dGU7dG9wOicrdG9wKyc7bGVmdDonK2xlZnQrJzsiPicrDQogICAgICAgIHNldFNoYWRvd0Zvcm0oDQoJCQkJDQogICAgICAgICAgICAnPHRhYmxlIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGNlbGxzcGFjaW5nPSIwIiBjZWxscGFkZGluZz0iMCI+JysNCiAgICAgICAgICAgICc8dHI+PHRkIHZhbGlnbj0idG9wIj4nKw0KICAgICAgICAgICAgJzxkaXYgaWQ9IicrZm9ybUlEKydfY29udGVudCIgc3R5bGU9IndpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7IiBjbGFzcz0iZGlhbG9nc3R5bGUiPicrDQogICAgICAgICAgICAndGVzJysNCiAgICAgICAgICAgICc8L2Rpdj4nKw0KICAgICAgICAgICAgJzwvdGQ+PC90cj4nKw0KICAgICAgICAgICAgJzwhLS08dHIgaGVpZ2h0PSI0MCI+PHRkIGFsaWduPSJyaWdodCIgc3R5bGU9InBhZGRpbmc6NCA4IDQgNCI+ICcrDQogICAgICAgICAgICAnPGlucHV0IGNsYXNzPSJidXR0b25fc3RkIiB0eXBlPSJidXR0b24iIHZhbHVlPSJDZXRhayIgb25jbGljaz0iJytmb3JtSUQrJy5wcmludCgpIj4gJysNCiAgICAgICAgICAgICc8aW5wdXQgY2xhc3M9ImJ1dHRvbl9zdGQiIHR5cGU9ImJ1dHRvbiIgdmFsdWU9IkNsb3NlIiBvbmNsaWNrPSInK2Zvcm1JRCsnLmNsb3NlKCkiPiAnKw0KICAgICAgICAgICAgJzwvdGQ+PC90cj4tLT48L3RhYmxlPicrDQogICAgICAgICAgICAnPC9kaXY+JykrDQogICAgICAgICc8L2Rpdj4nOw0KCQkJCQ0KICAgIH0NCgkJDQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRPdmVybGF5ICkuc3R5bGUudmlzaWJpbGl0eT0ndmlzaWJsZSc7DQovKmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkT3ZlcmxheSApLmlubmVySFRNTCA9IAkJDQoJCQknPHRhYmxlIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGNlbGxzcGFjaW5nPSIwIiBjZWxscGFkZGluZz0iMCI+PHRyPjx0ZD48L3RkPjwvdHI+JysNCgkJCSc8dHI+PHRkIGFsaWduPSJjZW50ZXIiID4nKwkJDQoJCQkJc2V0U2hhZG93Rm9ybSgNCgkJCQknPGRpdiBjbGFzcz0iZGlhbG9nc3R5bGUiIHN0eWxlPSJ3aWR0aDonK3dpZHRoKyc7aGVpZ2h0OicraGVpZ2h0Kyc7Ij4nKw0KCQkJCSc8dGFibGUgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgY2VsbHNwYWNpbmc9IjAiIGNlbGxwYWRkaW5nPSIwIj4nKw0KCQkJCQknPHRyPjx0ZCB2YWxpZ249InRvcCI+JysNCgkJCQkJCSc8ZGl2IGlkPSInK2Zvcm1JRCsnX2NvbnRlbnQiIHN0eWxlPSJ3aWR0aDoxMDAlO2hlaWdodDoxMDAlOyI+JysNCgkJCQkJCQkndGVzJysNCgkJCQkJCSc8L2Rpdj4nKw0KCQkJCQknPC90ZD48L3RyPicrDQoJCQkJCSc8IS0tPHRyIGhlaWdodD0iNDAiPjx0ZCBhbGlnbj0icmlnaHQiIHN0eWxlPSJwYWRkaW5nOjQgOCA0IDQiPiAnKw0KCQkJCQkJJzxpbnB1dCBjbGFzcz0iYnV0dG9uX3N0ZCIgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iQ2V0YWsiIG9uY2xpY2s9IicrZm9ybUlEKycucHJpbnQoKSI+ICcrDQoJCQkJCQknPGlucHV0IGNsYXNzPSJidXR0b25fc3RkIiB0eXBlPSJidXR0b24iIHZhbHVlPSJjbG9zZSIgb25jbGljaz0iJytmb3JtSUQrJy5jbG9zZSgpIj4gJysNCgkJCQkJJzwvdGQ+PC90cj4tLT48L3RhYmxlPicrDQoJCQkJJzwvZGl2PicpKwkJDQoJCQknPC90ZD48L3RyPicrDQoJCQknPHRyPjx0ZD48L3RkPjwvdHI+Jw0KCQkJOw0KCQkqLw0KfQ0KDQpkbGdGb3JtT2JqID0gZnVuY3Rpb24oKXsNCiAgICB0aGlzLnVyaSA9ICd2aWV3ZXIvdmlld19jYXJpX2RldC5waHAnOw0KICAgIHRoaXMuZm9ybUlEID0gJ2RsZ0RldGFpbCc7DQogICAgdGhpcy5sZWZ0PTEwMDsNCiAgICB0aGlzLnRvcD0xMDA7DQogICAgdGhpcy5oZWlnaHQ9ICc1NTBweCc7DQogICAgdGhpcy53aWR0aD0gJzY0MHB4JzsNCiAgICB0aGlzLmZtQ2FwdGlvbiA9Jyc7DQogICAgdGhpcy5Gb3JtTWV0aG9kID0gJ0dFVCc7DQoJDQogICAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uKCl7DQogICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOy8vYWxlcnQoJ3RlcycpOw0KICAgICAgICBkaWFsb2dDbG9zZSh0aGlzLmZvcm1JRCk7DQogICAgfQ0KICAgIHRoaXMuc2hvd01vZGFsID0gZnVuY3Rpb24oKXsJLy9hbGVydCgndGVzJyk7DQogICAgICAgIC8vZGlhbG9nU2hvd01vZGFsKHRoaXMuZm9ybUlELCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCApOw0KCQkNCiAgICAgICAgZGlhbG9nU2hvd01vZGFsKHRoaXMuZm9ybUlELCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5sZWZ0LHRoaXMudG9wICk7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9ybUlEKydfY29udGVudCcpLmlubmVySFRNTCA9dGhpcy5HZXRSZXNwb25zZVRleHQoKTsNCiAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9ybUlEKydfY29udGVudCcpLmlubmVySFRNTCA9DQogICAgLy8JJzx0ZXh0QXJlYSA+Jyt0aGlzLkdldFJlc3BvbnNlVGV4dCgpKyc8L3RleHRhcmVhPic7DQogICAgfQ0KICAgIHRoaXMuT25TdWNjZXNzID0gZnVuY3Rpb24oKSB7DQogICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdUZXh0RGl2JykuaW5uZXJIVE1MID0gdGhpcy5HZXRSZXNwb25zZVRleHQoKTsNCiAgICAgICAgLy9hbGVydCh0aGlzLkdldFJlc3BvbnNlVGV4dCgpKTsNCiAgICAgICAgbG9hZGluZ0Nsb3NlKCdkbGdQcm9ncmVzcycpOw0KICAgICAgICB0aGlzLnNob3dNb2RhbCggKTsNCiAgICAgICAgdGhpcy5PblNob3coKTsNCiAgICB9DQogICAgdGhpcy5PblNob3cgPSBmdW5jdGlvbigpIHsNCiAgICB9DQogICAgdGhpcy5HZXREYXRhID0gZnVuY3Rpb24oKSB7DQoJCQ0KICAgICAgICB0aGlzLnVyaSArPSAnJnJhbmROdW09JyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpOw0KICAgICAgICAvL2FsZXJ0KHRoaXMudXJpKTsNCiAgICAgICAgbG9hZGluZ1Nob3coJ2RsZ1Byb2dyZXNzJywnaW1hZ2VzL2FkbWluaXN0cmF0b3IvaW1hZ2VzL2xvYWRpbmcuZ2lmJyk7DQogICAgICAgIHRoaXMuSW5pdGlhbGl6ZVJlcXVlc3QodGhpcy5Gb3JtTWV0aG9kLCB0aGlzLnVyaSk7DQogICAgICAgIHRoaXMuQ29tbWl0KG51bGwpOw0KICAgIH0NCn0NCmRsZ0Zvcm1PYmoucHJvdG90eXBlID0gbmV3IGFqYXgoKTsNCmRsZ0Zvcm0gPSBuZXcgZGxnRm9ybU9iaigpOw0KDQoNCmZ1bmN0aW9uIGFkZENvdmVyUGFnZShpZCwgemluZGV4ICl7DQogICAgdmFyIGRpdlRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgIGRpdlRhZy5zZXRBdHRyaWJ1dGUoJ2lkJyxpZCk7DQogICAgZGl2VGFnLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsNCiAgICBkaXZUYWcuc3R5bGUudG9wID0gMDsNCiAgICBkaXZUYWcuc3R5bGUubGVmdCA9IDA7DQogICAgZGl2VGFnLnN0eWxlLnJpZ2h0ID0gMDsNCiAgICBkaXZUYWcuc3R5bGUuYm90dG9tID0gMDsNCiAgICBkaXZUYWcuc3R5bGUuekluZGV4ID0gemluZGV4Ow0KICAgIGRpdlRhZy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgwLDAsMCwwLjUpJzsNCgkJCQ0KICAgIC8vZGl2VGFnLmlubmVySFRNTD0iPGltZyBpZD0nIitpZCsiX2ltZ2xvYWQnIHNyYz0naW1hZ2VzL2FkbWluaXN0cmF0b3IvaW1hZ2VzL2xvYWRpbmcuZ2lmJyBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7dG9wOjQ4JTtsZWZ0OjQ4JSc+IjsNCgkJCQ0KICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2VGFnKTsNCn0NCg0KdmFyIENvdmVyT2JqID0gZnVuY3Rpb24gKCBwYXJhbXNfICl7DQoJdGhpcy5wYXJhbXMgPSBwYXJhbXNfOw0KCS8qdGhpcy5pZCA9IGlkXzsNCgl0aGlzLnppbmRleCA9IHppbmRleF87DQoJdGhpcy53aXRod2FpdCA9IHdpdGh3YWl0XzsgDQoJdGhpcy5hbHBoYT0gYWxwaGFfOyovDQoJDQoJdGhpcy5pbml0aWFsID0gZnVuY3Rpb24oKXsJCQ0KCQlmb3IgKHZhciBuYW1lIGluIHRoaXMucGFyYW1zKSB7DQoJCQlldmFsKCAnaWYodGhpcy5wYXJhbXMuJytuYW1lKycgIT0gbnVsbCkgdGhpcy4nK25hbWUrJz0gdGhpcy5wYXJhbXMuJytuYW1lKyc7ICcpOw0KCQl9DQoJfQ0KCXRoaXMuaW5pdGlhbCgpOw0KCQ0KCXRoaXMuc2hvdyA9IGZ1bmN0aW9uICgpey8vaWQsIHppbmRleCwgd2l0aHdhaXQsIGFscGhhLCBwYXJhbXMpew0KCQ0KCQl2YXIgZGl2VGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQoJCWRpdlRhZy5zZXRBdHRyaWJ1dGUoJ2lkJyx0aGlzLmlkKTsNCgkJZGl2VGFnLnN0eWxlLnpJbmRleCA9IHRoaXMuemluZGV4Oy8vZGl2VGFnLnN0eWxlPSBwYXJhbXMuc3R5bGU7DQoJCWlmICh0aGlzLmFscGhhKXsNCgkJCWRpdlRhZy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgwLDAsMCwwLjUpJzsJDQoJCX0JCQkNCgkJDQoJCS8vZGltZW5zaSAtLS0tDQoJCWlmKHRoaXMucGFyYW1zPT1udWxsIHx8IHRoaXMuc3R5bGU9PW51bGwpew0KCQkJZGl2VGFnLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsNCgkJCWRpdlRhZy5zdHlsZS50b3AgPSAwOw0KCQkJZGl2VGFnLnN0eWxlLmxlZnQgPSAwOw0KCQkJZGl2VGFnLnN0eWxlLnJpZ2h0ID0gMDsNCgkJCWRpdlRhZy5zdHlsZS5ib3R0b20gPSAwOwkJCQ0KCQl9ZWxzZXsNCgkJCWZvciAodmFyIG5hbWUgaW4gdGhpcy5zdHlsZSkgew0KCQkJICBldmFsKCAnZGl2VGFnLnN0eWxlLicrbmFtZSsnID0gdGhpcy5zdHlsZS4nK25hbWUrJzsnKQ0KCQkJfQ0KCQl9DQoJCQ0KCQkvL2ltYWdlIC0tLS0tLS0NCgkJaWYodGhpcy53aXRod2FpdCl7DQoJCQlpZih0aGlzLnBhcmFtcyA9PSBudWxsIHx8IHRoaXMuaW1nc3JjPT1udWxsKXsNCgkJCQl2YXIgaW1nc3JjID0gJ2ltYWdlcy9sb2FkaW5nLmdpZic7DQoJCQkJdmFyIGltZyA9IA0KCQkJCQkiPGltZyBpZD0nIit0aGlzLmlkKw0KCQkJCQkiX2ltZ2xvYWQnIHNyYz0nIitpbWdzcmMrDQoJCQkJCSInIHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NDglO2xlZnQ6NDglJz4iOw0KCQkJfWVsc2V7DQoJCQkJdmFyIGltZ3NyYyA9IHRoaXMuaW1nc3JjOw0KCQkJCXZhciBpbWc9DQoJCQkJCSI8aW1nIGlkPSciK3RoaXMuaWQrDQoJCQkJCSJfaW1nbG9hZCcgc3JjPSciK2ltZ3NyYysNCgkJCQkJIicgc3R5bGU9J3dpZHRoOjI0O3Bvc2l0aW9uOmFic29sdXRlO3RvcDo0OCU7bGVmdDo0OCUnPiI7DQoJCQl9CQkNCgkJCWRpdlRhZy5pbm5lckhUTUw9aW1nOw0KCQl9DQoJCQ0KCQkvL3JlbmRlciAtLS0tLS0NCgkJaWYoIHRoaXMucGFyYW1zPT1udWxsfHwgdGhpcy5yZW5kZXJUbyA9PSBudWxsIHx8IA0KCQkJdGhpcy5yZW5kZXJUbyA9PSdib2R5JyB8fCB0aGlzLnJlbmRlclRvPT0nJyApDQoJCXsNCgkJCXZhciByZW5kZXJUb19lbCA9IGRvY3VtZW50LmJvZHk7DQoJCX1lbHNlew0KCQkJaWYoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucmVuZGVyVG8pKXsNCgkJCQl2YXIgcmVuZGVyVG9fZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnJlbmRlclRvKTsNCgkJCX1lbHNlew0KCQkJCWFsZXJ0KHRoaXMucmVuZGVyVG8rJyBUaWRhayBBZGEgIScgKTsNCgkJCX0NCgkJfQ0KCQlyZW5kZXJUb19lbC5hcHBlbmRDaGlsZChkaXZUYWcpOw0KCX0JDQp9DQoNCg0KZnVuY3Rpb24gYWRkQ292ZXJQYWdlMiggaWRfLCB6aW5kZXhfLCB3aXRod2FpdF8sIGFscGhhXywgcGFyYW1zXyApew0KCXZhciBwYXJhbXMgPSB7aWQ6aWRfLCB6aW5kZXg6emluZGV4Xywgd2l0aHdhaXQ6d2l0aHdhaXRfLCBhbHBoYTphbHBoYV99Ow0KCQ0KCXZhciAgaTsNCglmb3IoaSBpbiBwYXJhbXNfKSBwYXJhbXNbaV09cGFyYW1zX1tpXTsNCgl2YXIgY292ZXIgPSBuZXcgQ292ZXJPYmoocGFyYW1zKTsNCgljb3Zlci5zaG93KCk7Ly8oaWQsIHppbmRleCwgd2l0aHdhaXQsIGFscGhhLCBwYXJhbXMpOw0KfQ0KDQovKg0KZnVuY3Rpb24gYWRkQ292ZXJQYWdlMihpZCwgemluZGV4LCB3aXRod2FpdCwgYWxwaGEgKXsNCiAgICB2YXIgZGl2VGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgZGl2VGFnLnNldEF0dHJpYnV0ZSgnaWQnLGlkKTsNCiAgICBkaXZUYWcuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnOw0KICAgIGRpdlRhZy5zdHlsZS50b3AgPSAwOw0KICAgIGRpdlRhZy5zdHlsZS5sZWZ0ID0gMDsNCiAgICBkaXZUYWcuc3R5bGUucmlnaHQgPSAwOw0KICAgIGRpdlRhZy5zdHlsZS5ib3R0b20gPSAwOw0KICAgIGRpdlRhZy5zdHlsZS56SW5kZXggPSB6aW5kZXg7DQogICAgaWYgKGFscGhhKXsNCiAgICAgICAgZGl2VGFnLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDAsMCwwLDAuNSknOw0KICAgIH0NCiAgICBpZih3aXRod2FpdCl7DQogICAgICAgIGRpdlRhZy5pbm5lckhUTUw9IjxpbWcgaWQ9JyIraWQrIl9pbWdsb2FkJyBzcmM9J2ltYWdlcy9hZG1pbmlzdHJhdG9yL2ltYWdlcy9sb2FkaW5nLmdpZicgc3R5bGU9J3Bvc2l0aW9uOmFic29sdXRlO3RvcDo0OCU7bGVmdDo0OCUnPiI7DQogICAgfQ0KICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2VGFnKTsNCn0NCiovDQoNCmZ1bmN0aW9uIGRlbEVsZW0oZWxJRCl7DQogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsSUQpKXsNCiAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxJRCk7DQogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWwpOw0KICAgIH1lbHNlew0KICAgICAgICBhbGVydCAoJ2dhZ2FsIGhhcHVzLCBlbGVtZW50IHRpZGFrIGFkYSEnKTsNCiAgICB9DQoJDQp9DQoNCg0KQWp4UmVmcmVzaE9iaiA9IGZ1bmN0aW9uKCBpZEFqYXhQcnNfLCBlbENvdmVyXywgZWxDb250YWluZXJfLCBhcnJQYXJhbVNlbmRfKSB7CQ0KICAgIHRoaXMuaWRBamF4UHJzID0gaWRBamF4UHJzXzsNCiAgICB0aGlzLmVsQ292ZXIgPSBlbENvdmVyXzsNCiAgICB0aGlzLmFyclBhcmFtU2VuZCA9IGFyclBhcmFtU2VuZF87DQogICAgdGhpcy5lbENvbnRhaW5lcj0gZWxDb250YWluZXJfOw0KICAgIHRoaXMuUmVmcmVzaCA9IGZ1bmN0aW9uICgpew0KICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KICAgICAgICBhZGRDb3ZlclBhZ2UyKHRoaXMuZWxDb3ZlciwxLHRydWUsIGZhbHNlKTsNCiAgICAgICAgdGhpcy51cmkgPSAnYWpheHBycy5waHA\/cHJzPScrdGhpcy5pZEFqYXhQcnMrIGNyZWF0ZVBhcmFtU2VuZCh0aGlzLmFyclBhcmFtU2VuZCkgOy8vJyZpZGJpX2F3YWw9JytpZGJpX2F3YWw7DQogICAgICAgIHRoaXMuR2V0RGF0YSgpOw0KICAgIH0NCiAgICB0aGlzLk9uU3VjY2VzcyA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB2YXIgcmVzcCA9IHRoaXMuR2V0UmVzcG9uc2VUZXh0KCk7Ly9hbGVydChyZXNwKTsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbENvbnRhaW5lcikuaW5uZXJIVE1MID1yZXNwOw0KICAgICAgICBkZWxFbGVtKHRoaXMuZWxDb3Zlcik7DQogICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KICAgIH0NCiAgICB0aGlzLkdldERhdGEgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgdGhpcy5Jbml0aWFsaXplUmVxdWVzdCgnR0VUJywgdGhpcy51cmkpOw0KICAgICAgICB0aGlzLkNvbW1pdChudWxsKTsNCiAgICB9DQp9DQpBanhSZWZyZXNoT2JqLnByb3RvdHlwZSA9IG5ldyBhamF4KCk7CQkNCgkJDQpBanhGb3JtT2JqID0gZnVuY3Rpb24oIGlkQWpheFByc18sIGVsQ292ZXJfLCBlbEptbENla18sIGVsSm1sRGF0YVRhbXBpbF8sIGVsQ2hlY2tCb3hfLCBhcnJQYXJhbVNlbmRfLCBhZnRlclN1Y2Nlc18pIHsNCiAgICB0aGlzLmlkQWpheFBycyA9IGlkQWpheFByc187DQogICAgdGhpcy5lbENvdmVyID0gZWxDb3Zlcl87DQogICAgdGhpcy5lbEptbENlayA9IGVsSm1sQ2VrXzsgLy8nUGVsaWhhcmFfY2hlY2tib3gnDQogICAgdGhpcy5lbEptbERhdGFUYW1waWwgPSBlbEptbERhdGFUYW1waWxfOy8vJ2ptbFRhbXBpbFBMSCcNCiAgICB0aGlzLmVsQ2hlY2tCb3ggPSBlbENoZWNrQm94XzsgLy8nY2JQTEgnDQogICAgdGhpcy5hcnJQYXJhbVNlbmQgPSBhcnJQYXJhbVNlbmRfOyAvL25ldyBBcnJheSgnaWRiaScsJ2lkYmlfYXdhbCcpDQogICAgdGhpcy5hZnRlclN1Y2NlcyA9IGFmdGVyU3VjY2VzXzsNCiAgICB0aGlzLkNsb3NlID0gZnVuY3Rpb24oKXsNCiAgICAgICAgZGVsRWxlbSh0aGlzLmVsQ292ZXIpOw0KICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCiAgICB9DQogICAgdGhpcy5FZGl0ID0gZnVuY3Rpb24oKSB7DQogICAgICAgIGVycm1zZyA9ICcnOw0KICAgICAgICBpZigoZXJybXNnPT0nJykgJiYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxKbWxDZWspLnZhbHVlID4xICkpew0KICAgICAgICAgICAgZXJybXNnPSAnUGlsaWggSGFueWEgU2F0dSBEYXRhISc7DQogICAgICAgIH0NCiAgICAgICAgaWYoKGVycm1zZz09JycpICYmICggKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxKbWxDZWspLnZhbHVlID09IDApfHwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbEptbENlaykudmFsdWUgPT0gJycpICApKXsNCiAgICAgICAgICAgIGVycm1zZz0gJ0RhdGEgYmVsdW0gZGlwaWxpaCEnOw0KICAgICAgICB9DQogICAgICAgIGlmKGVycm1zZyA9PScnKXsNCiAgICAgICAgICAgIHZhciBqbWxkYXRhPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggdGhpcy5lbEptbERhdGFUYW1waWwgKS52YWx1ZTsNCiAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgam1sZGF0YTsgaSsrKXsNCiAgICAgICAgICAgICAgICB2YXIgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHRoaXMuZWxDaGVja0JveCArIGkpOw0KICAgICAgICAgICAgICAgIGlmKCBib3guY2hlY2tlZCl7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQogICAgICAgICAgICAgICAgICAgIC8vYWRkQ292ZXJQYWdlMih0aGlzLmVsQ292ZXIsMSx0cnVlLHRydWUpOw0KICAgICAgICAgICAgICAgICAgICBhZGRDb3ZlclBhZ2UyKHRoaXMuZWxDb3ZlciwxLHRydWUsZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnVyaSA9ICdhamF4cHJzLnBocD9wcnM9Jyt0aGlzLmlkQWpheFBycysnJmlkcGxoPScrYm94LnZhbHVlICsgY3JlYXRlUGFyYW1TZW5kKHRoaXMuYXJyUGFyYW1TZW5kKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5HZXREYXRhKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGFsZXJ0KGVycm1zZyk7DQogICAgICAgIH0NCiAgICB9DQogICAgdGhpcy5CYXJ1ID0gZnVuY3Rpb24oKXsNCiAgICAgICAgLy92YXIgaWRiaT0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkYmknKS52YWx1ZTsJLy92YXIgaWRiaV9hd2FsID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZGJpX2F3YWwnKS52YWx1ZTsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsgLy9hbGVydCgndGVzJyk7DQogICAgICAgIGFkZENvdmVyUGFnZTIodGhpcy5lbENvdmVyLDEsdHJ1ZSxmYWxzZSk7DQogICAgICAgIC8vdGhpcy51cmkgPSAnYWpheHBycy5waHA\/cHJzPTEmZm1zdD0xJmlkYmk9JytpZGJpKycmaWRiaV9hd2FsPScraWRiaV9hd2FsOw0KICAgICAgICB0aGlzLnVyaSA9ICdhamF4cHJzLnBocD9wcnM9Jyt0aGlzLmlkQWpheFBycysnJmZtc3Q9MScrIGNyZWF0ZVBhcmFtU2VuZCh0aGlzLmFyclBhcmFtU2VuZCk7DQogICAgICAgIHRoaXMuR2V0RGF0YSgpOw0KICAgIH0NCiAgICB0aGlzLk9uU3VjY2VzcyA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB2YXIgcmVzcCA9IHRoaXMuR2V0UmVzcG9uc2VUZXh0KCk7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxDb3ZlcikuaW5uZXJIVE1MID0gJzx0YWJsZSB3aWR0aD1cJzEwMCVcJyBoZWlnaHQ9XCcxMDAlXCc+PHRyPjx0ZCBhbGlnbj1cJ2NlbnRlclwnPiAnK3Jlc3ArJzwvdGQ+PC90cj48L3RhYmxlPic7DQogICAgICAgIGV2YWwodGhpcy5hZnRlclN1Y2Nlcyk7Ly9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm1UQU5HR0FMUEVNRUxJSEFSQUFOX3RnbCcpLmZvY3VzKCk7DQogICAgfQ0KICAgIHRoaXMuR2V0RGF0YSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB0aGlzLkluaXRpYWxpemVSZXF1ZXN0KCdHRVQnLCB0aGlzLnVyaSk7DQogICAgICAgIHRoaXMuQ29tbWl0KG51bGwpOw0KICAgIH0NCn0NCkFqeEZvcm1PYmoucHJvdG90eXBlID0gbmV3IGFqYXgoKTsJCQ0KCQkJCQkJDQpBanhTaW1wYW5PYmogPSBmdW5jdGlvbihpZEFqYXhQcnNfLCBlbENvdmVyXywgcGFyYW1TZW5kXywgYWZ0ZXJTdWNjZXNfKSB7DQogICAgdGhpcy5pZEFqYXhQcnMgPSBpZEFqYXhQcnNfOy8vJzInDQogICAgdGhpcy5lbENvdmVyID0gZWxDb3Zlcl87Ly8nUGVsaWhhcmFfY292ZXInOw0KICAgIHRoaXMuYXJyUGFyYW1zID0gcGFyYW1TZW5kXzsNCiAgICB0aGlzLmFmdGVyU3VjY2VzID0gYWZ0ZXJTdWNjZXNfOw0KICAgIHRoaXMuU2ltcGFuID0gZnVuY3Rpb24oKXsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCiAgICAgICAgYWRkQ292ZXJQYWdlMih0aGlzLmVsQ292ZXIsMSx0cnVlLCBmYWxzZSk7DQogICAgICAgIHZhciBwYXJhbXMgPSAncHJzPScrdGhpcy5pZEFqYXhQcnM7IC8vYWxlcnQodGhpcy5hcnJQYXJhbXMpOw0KICAgICAgICBwYXJhbXMgKz0gY3JlYXRlUGFyYW1TZW5kKHRoaXMuYXJyUGFyYW1zKTsNCiAgICAgICAgdGhpcy51cmkgPSAnYWpheHBycy5waHA\/JytwYXJhbXM7ICAvL2FsZXJ0KHRoaXMudXJpKTsNCiAgICAgICAgdGhpcy5HZXREYXRhKCk7DQogICAgfQ0KICAgIHRoaXMuT25TdWNjZXNzID0gZnVuY3Rpb24oKSB7DQogICAgICAgIHZhciByZXNwID0gdHJpbSh0aGlzLkdldFJlc3BvbnNlVGV4dCgpKTsNCiAgICAgICAgZGVsRWxlbSh0aGlzLmVsQ292ZXIpOw0KICAgICAgICBpZihyZXNwPT0nJyl7DQogICAgICAgICAgICBhbGVydCgnU3Vrc2VzIFNpbXBhbiBEYXRhJyk7DQogICAgICAgICAgICBldmFsKHRoaXMuYWZ0ZXJTdWNjZXMpOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGFsZXJ0KHJlc3ApOw0KICAgICAgICB9DQogICAgfQ0KICAgIHRoaXMuR2V0RGF0YSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB0aGlzLkluaXRpYWxpemVSZXF1ZXN0KCdHRVQnLCB0aGlzLnVyaSk7DQogICAgICAgIHRoaXMuQ29tbWl0KG51bGwpOw0KICAgIH0NCn0NCkFqeFNpbXBhbk9iai5wcm90b3R5cGUgPSBuZXcgYWpheCgpOw0KCQkJCQ0KQWp4SGFwdXNPYmogPSBmdW5jdGlvbihpZEFqYXhQcnNfLCBlbENvdmVyXywgZWxKbWxDZWtfLCBlbEptbERhdGFUYW1waWxfLCBlbENoZWNrQm94Xywgbm1QYXJhbVNlbmRfLGFmdGVyU3VjY2VzXykgewkNCiAgICB0aGlzLmlkQWpheFBycyA9IGlkQWpheFByc187DQogICAgdGhpcy5lbEptbENlayA9IGVsSm1sQ2VrXzsNCiAgICB0aGlzLmVsSm1sRGF0YVRhbXBpbCA9IGVsSm1sRGF0YVRhbXBpbF87DQogICAgdGhpcy5lbENoZWNrQm94ID0gZWxDaGVja0JveF87DQogICAgdGhpcy5ubVBhcmFtU2VuZCA9IG5tUGFyYW1TZW5kXzsNCiAgICB0aGlzLmVsQ292ZXI9IGVsQ292ZXJfOw0KICAgIHRoaXMuYWZ0ZXJTdWNjZXMgPSBhZnRlclN1Y2Nlc187DQogICAgdGhpcy5IYXB1cyA9IGZ1bmN0aW9uICgpew0KICAgICAgICB2YXIgam1sY2VrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbEptbENlaykudmFsdWU7DQogICAgICAgIGlmICggam1sY2VrID4gMCApew0KICAgICAgICAgICAgaWYoY29uZmlybSgnWWFraW4gJytqbWxjZWsrJyBkYXRhIGFrYW4gZGkgaGFwdXM\/Jykpew0KICAgICAgICAgICAgICAgIHZhciBqbWxkYXRhPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVsSm1sRGF0YVRhbXBpbCkudmFsdWU7DQogICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9ICcnOw0KICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgam1sZGF0YTsgaSsrKXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxDaGVja0JveCArIGkpOw0KICAgICAgICAgICAgICAgICAgICBpZiggYm94LmNoZWNrZWQpew0KICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zICs9JyYnK3RoaXMubm1QYXJhbVNlbmQrJ1tdPScrYm94LnZhbHVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQogICAgICAgICAgICAgICAgYWRkQ292ZXJQYWdlMih0aGlzLmVsQ292ZXIsMSx0cnVlLCB0cnVlKTsNCiAgICAgICAgICAgICAgICB0aGlzLnVyaSA9ICdhamF4cHJzLnBocD9wcnM9Jyt0aGlzLmlkQWpheFBycytwYXJhbXM7DQogICAgICAgICAgICAgICAgdGhpcy5HZXREYXRhKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgdGhpcy5PblN1Y2Nlc3MgPSBmdW5jdGlvbigpIHsNCgkJCQkNCgkJCQkJDQogICAgICAgIHZhciByZXNwID0gdHJpbSh0aGlzLkdldFJlc3BvbnNlVGV4dCgpKTsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7DQogICAgICAgIGRlbEVsZW0odGhpcy5lbENvdmVyKTsNCiAgICAgICAgaWYocmVzcD09Jycpew0KICAgICAgICAvL2FsZXJ0KCdTdWtzZXMgSGFwdXMgRGF0YScpOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGFsZXJ0KHJlc3ApOw0KICAgICAgICB9DQoJCQkJCQkJDQogICAgICAgIGV2YWwodGhpcy5hZnRlclN1Y2Nlcyk7DQoJCQkJDQogICAgfQ0KICAgIHRoaXMuR2V0RGF0YSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB0aGlzLkluaXRpYWxpemVSZXF1ZXN0KCdHRVQnLCB0aGlzLnVyaSk7DQogICAgICAgIHRoaXMuQ29tbWl0KG51bGwpOw0KICAgIH0NCn0NCkFqeEhhcHVzT2JqLnByb3RvdHlwZSA9IG5ldyBhamF4KCk7DQoNCmZ1bmN0aW9uIGdldENieENoZWNrZWRWYWx1ZShjYnhOYW1lKXsgLy9idXR1aCBqcXVlcnkNCgl2YXIgZXJybXNnID0gJyc7IA0KCXZhciB2YWx1ZT0nJzsJDQoJdmFyIGNieD0kKCJpbnB1dFtuYW1lPSciK2NieE5hbWUrIiddOmNoZWNrZWQiKTsJDQoJaWYoKGVycm1zZz09JycpICYmIChjYngubGVuZ3RoID4xICkpewllcnJtc2c9ICdQaWxpaCBIYW55YSBTYXR1IERhdGEhJzsgfQkNCglpZigoZXJybXNnPT0nJykgJiYgKCBjYngubGVuZ3RoID09IDAgICkpewllcnJtc2c9ICdEYXRhIGJlbHVtIGRpcGlsaWghJzsJfQ0KCWlmKGVycm1zZyA9PScnKXsgCQkNCgkJdmFsdWUgPSAkKCJpbnB1dFtuYW1lPSciK2NieE5hbWUrIiddOmNoZWNrZWQiKS52YWwoKTsJCQ0KCX1lbHNlew0KCQlhbGVydChlcnJtc2cpOw0KCX0NCglyZXR1cm4gdmFsdWU7DQp9DQoNCkFqeEZvcm1PYmoyID0gZnVuY3Rpb24oDQoJCWRsZ05hbWVfLA0KCQl1cmxfLCANCgkJZm9ybURhZnRhcl8sIA0KCQlhZnRlckJhcnVfLCANCgkJYWZ0ZXJFZGl0XywgDQoJCWFmdGVyU2ltcGFuXywgDQoJCWFmdGVyQmF0YWxfIA0KCQkvL2VsQ292ZXJfLCAgZWxKbWxDZWtfLCAgZWxKbWxEYXRhVGFtcGlsXywgZWxDaGVja0JveF8sIGFmdGVyU3VjY2VzXw0KCSkgewkJCQ0KCXRoaXMuZGxnTmFtZSA9IGRsZ05hbWVfOw0KCXRoaXMudXJsID0gdXJsXzsJDQoJdGhpcy5mb3JtRGFmdGFyID0gZm9ybURhZnRhcl87Ly8gJ2FkbWluRm9ybSc7IC8vZm9ybSBsaXN0DQoJdGhpcy5mb3JtRGlhbG9nID0gdGhpcy5kbGdOYW1lKydfZm9ybSc7Ly9mb3JtRGlhbG9nXyAvL3RoaXMuZm9ybVNpbXBhbiA9IGZvcm1TaW1wYW5fIDsvL2Zvcm1FbnRyeQkNCgl0aGlzLmVsSm1sQ2VrID0gdGhpcy5kbGdOYW1lKydfam1sY2VrJyA7Ly8gZWxKbWxDZWtfOw0KCXRoaXMuZWxKbWxEYXRhVGFtcGlsID0gdGhpcy5kbGdOYW1lKydfam1sZGF0YXBhZ2UnOy8vZWxKbWxEYXRhVGFtcGlsXzsNCgl0aGlzLmVsQ2hlY2tCb3ggPSB0aGlzLmRsZ05hbWUrJ19jYic7Ly9lbENoZWNrQm94XzsgCS8vaWQJCQkNCgkNCgl0aGlzLk9uRXJyb3JDbG9zZSA9dHJ1ZTsNCgl0aGlzLmFmdGVyU3Vrc2VzPSAnJzsvL2FmdGVyU3Vrc2VzXzsNCgl0aGlzLmFmdGVyQmFydSA9IGFmdGVyQmFydV87DQoJdGhpcy5hZnRlckVkaXQgPSBhZnRlckVkaXRfOw0KCXRoaXMuYWZ0ZXJTaW1wYW4gPSBhZnRlclNpbXBhbl87DQoJdGhpcy5hZnRlckJhdGFsID0gYWZ0ZXJCYXRhbF87DQoJdGhpcy5lbENvdmVyID0gdGhpcy5kbGdOYW1lKydfY292ZXJfYmFjayc7Ly9lbENvdmVyXzsgDQoJdGhpcy5lbENvdmVyRm9ybSA9IHRoaXMuZGxnTmFtZSsnX2NvdmVyX2Zvcm0nOw0KCQ0KCXRoaXMuQ2xvc2UgPSBmdW5jdGlvbigpey8vYWxlcnQodGhpcy5lbENvdmVyKTsNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbENvdmVyKSkgZGVsRWxlbSh0aGlzLmVsQ292ZXIpOwkJCQ0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCgkJLy9ldmFsKHRoaXMuYWZ0ZXJDbG9zZSk7CQkJDQoJfQ0KCXRoaXMuQmF0YWwgPSBmdW5jdGlvbigpew0KCQl0aGlzLkNsb3NlKCk7DQoJCWV2YWwodGhpcy5hZnRlckJhdGFsKTsNCgl9IA0KCXRoaXMuQ2VrQ2hlY2tib3g9ZnVuY3Rpb24oKXsvL2FsZXJ0KHRoaXMuZWxKbWxDZWspOw0KCQl2YXIgZXJybXNnID0gJyc7DQoJCS8qdmFyIGNieD0kKCJpbnB1dFtuYW1lPSciK2NieE5hbWUrIiddOmNoZWNrZWQiKTsJDQoJCWlmKChlcnJtc2c9PScnKSAmJiAoY2J4Lmxlbmd0aCA+MSApKXsJZXJybXNnPSAnUGlsaWggSGFueWEgU2F0dSBEYXRhISc7IH0JDQoJCWlmKChlcnJtc2c9PScnKSAmJiAoIGNieC5sZW5ndGggPT0gMCAgKSl7CWVycm1zZz0gJ0RhdGEgYmVsdW0gZGlwaWxpaCEnOwl9Ki8NCgkJLy9hbGVydCh0aGlzLmVsSm1sQ2VrKTsNCgkJaWYoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxKbWxDZWspKXsNCgkJCWlmKChlcnJtc2c9PScnKSAgJiYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxKbWxDZWspLnZhbHVlID4xICkpewllcnJtc2c9ICdQaWxpaCBIYW55YSBTYXR1IERhdGEhJzsgfQ0KCQl9DQoJCWlmKChlcnJtc2c9PScnKSAmJiAoIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVsSm1sQ2VrKS52YWx1ZSA9PSAwKXx8KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxKbWxDZWspLnZhbHVlID09ICcnKSAgKSl7DQoJCQllcnJtc2c9ICdEYXRhIGJlbHVtIGRpcGlsaWghJzsNCgkJfQ0KCQlyZXR1cm4gZXJybXNnOw0KCX0NCgl0aGlzLkdldENieENoZWNrZWQ9ZnVuY3Rpb24oKXsNCgkJdmFyIGptbGRhdGE9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCB0aGlzLmVsSm1sRGF0YVRhbXBpbCApLnZhbHVlOw0KCQlmb3IodmFyIGk9MDsgaSA8IGptbGRhdGE7IGkrKyl7DQoJCQl2YXIgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHRoaXMuZWxDaGVja0JveCArIGkpOw0KCQkJaWYoIGJveC5jaGVja2VkKXsgDQoJCQkJYnJlYWs7DQoJCQl9DQoJCX0NCgkJcmV0dXJuIGJveDsJCQkNCgl9DQoJDQoJdGhpcy5FZGl0ID0gZnVuY3Rpb24oKSB7CQkJCQ0KCQkNCgkJZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOw0KCQlpZihlcnJtc2cgPT0nJyl7IA0KCQkJdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOw0KCQkJDQoJCQl0aGlzLlNob3cgKCdmb3JtZWRpdCcse2lkcGxoOmJveC52YWx1ZX0sIGZhbHNlLCB0cnVlKTsJCQkNCgkJfWVsc2V7DQoJCQlhbGVydChlcnJtc2cpOw0KCQl9DQoJfQkJDQoJdGhpcy5CYXJ1ID0gZnVuY3Rpb24oanNvbnBhcmFtc18pewkNCgkJLy9hbGVydCgndGVzJyk7DQoJCXRoaXMuT25FcnJvckNsb3NlID0gdHJ1ZTsJCQ0KCQl0aGlzLlNob3coJ2Zvcm1iYXJ1JywganNvbnBhcmFtc18sIGZhbHNlLCB0cnVlKTsJCQ0KCX0JDQoJdGhpcy5TaG93ID0gZnVuY3Rpb24obm1wcm9zZXMsanNvbnBhcmFtc18sIHdpdGhjZWssIE9uRXJyb3JDbG9zZV8pew0KCQl2YXIgZXJybXNnPScnOw0KCQlpZiAod2l0aGNlayllcnJtc2c9dGhpcy5DZWtDaGVja2JveCgpOw0KCQlpZiAoZXJybXNnPT0nJyl7DQoJCQlwYXJhbSA9IHsgaWRwcnM6IDAsIGRhZnRhclByb3NlczogbmV3IEFycmF5KG5tcHJvc2VzKX07DQoJCQl2YXIgIGk7DQoJCQlmb3IoaSBpbiBqc29ucGFyYW1zXykgcGFyYW1baV09anNvbnBhcmFtc19baV07DQoJCQkvL2FsZXJ0KHRoaXMuZWxDb3Zlcik7DQoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOyAvL2FsZXJ0KCd0ZXMnKTsNCgkJCWFkZENvdmVyUGFnZTIodGhpcy5lbENvdmVyLDEsdHJ1ZSxmYWxzZSk7CQkJCQkJCQkJCQkNCgkJCXRoaXMuT25FcnJvckNsb3NlID0gT25FcnJvckNsb3NlXzsNCgkJCXRoaXMuc2VuZFJlcSgNCgkJCQl0aGlzLnVybCwNCgkJCQlwYXJhbSwNCgkJCQl0aGlzLmZvcm1EYWZ0YXIpOwkNCgkJfWVsc2V7DQoJCQlhbGVydChlcnJtc2cpOw0KCQl9DQoJfQ0KCQ0KCXRoaXMuU2ltcGFuID0gZnVuY3Rpb24oKXsJDQoJCXRoaXMuT25FcnJvckNsb3NlID0gZmFsc2UJDQoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCWFkZENvdmVyUGFnZTIodGhpcy5lbENvdmVyRm9ybSwxLHRydWUsZmFsc2UpOwkNCgkJdGhpcy5zZW5kUmVxKA0KCQkJdGhpcy51cmwsDQoJCQl7IGlkcHJzOiAwLCBkYWZ0YXJQcm9zZXM6IG5ldyBBcnJheSgnc2ltcGFuJyl9LA0KCQkJdGhpcy5mb3JtRGlhbG9nKTsJDQoJfQkNCgl0aGlzLk9uU3VjY2VzcyA9IGZ1bmN0aW9uKCkgeyAgCQkJCQkJCQkgICAJCQ0KCQkvL3ZhciByZXNwID0gdGhpcy5HZXRSZXNwb25zZVRleHQoKTsvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxDb3ZlcikuaW5uZXJIVE1MID0gJzx0YWJsZSB3aWR0aD1cJzEwMCVcJyBoZWlnaHQ9XCcxMDAlXCc+PHRyPjx0ZCBhbGlnbj1cJ2NlbnRlclwnPiAnK3Jlc3ArJzwvdGQ+PC90cj48L3RhYmxlPic7DQoJCS8vYWxlcnQodGhpcy5HZXRSZXNwb25zZVRleHQoKSk7DQoJCXZhciByZXNwID0gZXZhbCgnKCcgKyB0aGlzLkdldFJlc3BvbnNlVGV4dCgpICsgJyknKTsgDQoJCQ0KCQlpZiAocmVzcC5FcnJNc2cgPT0nJykJewkNCgkJCXN3aXRjaCAocmVzcC5kYWZ0YXJQcm9zZXNbcmVzcC5pZHByc10pewkJCQkJCQkJCQ0KCQkJCWNhc2UgJ2Zvcm1iYXJ1JzogCQkJCQkNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbENvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCWV2YWwodGhpcy5hZnRlckJhcnUpOwkJCQkJDQoJCQkJYnJlYWs7DQoJCQkJY2FzZSAnZm9ybWVkaXQnOiAJCQkJCQ0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVsQ292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQkJZXZhbCh0aGlzLmFmdGVyRWRpdCk7CQkJCQkNCgkJCQlicmVhazsNCgkJCQljYXNlICdzaW1wYW4nOiAvL2xhbmdzdW5nIGNsb3NlIGRpYWxvZw0KCQkJCQlkZWxFbGVtKHRoaXMuZWxDb3ZlckZvcm0pOwkJCQ0KCQkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsJCQkJCQ0KCQkJCQl0aGlzLkNsb3NlKCk7DQoJCQkJCWV2YWwodGhpcy5hZnRlclNpbXBhbik7CQkJCQ0KCQkJCWJyZWFrOw0KCQkJCWRlZmF1bHQgOgkvL3Nob3cJCQkNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbENvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCWV2YWwodGhpcy5hZnRlclN1a3Nlcyk7DQoJCQkJYnJlYWs7CQkJCQ0KCQkJfQ0KCQl9ZWxzZQ0KCQl7CQ0KCQkJLyppZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVsQ292ZXIpKXsNCgkJCQlkZWxFbGVtKHRoaXMuZWxDb3Zlcik7CQkJDQoJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7DQoJCQl9Ki8NCgkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxDb3ZlckZvcm0pKXsNCgkJCQlkZWxFbGVtKHRoaXMuZWxDb3ZlckZvcm0pOwkJCQ0KCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJfQ0KCQkJYWxlcnQocmVzcC5FcnJNc2cpOy8vKycgJysgdGhpcy5PbkVycm9yQ2xvc2UpOw0KCQkJaWYodGhpcy5PbkVycm9yQ2xvc2UpIHRoaXMuQ2xvc2UoKTsNCgkJCQ0KCQl9CQ0KCQkNCgl9DQoJdGhpcy5zZW5kUmVxID0gZnVuY3Rpb24odXJsLCBvcHQsIGZvcm1OYW1lKSB7DQoJCS8vdXJsID0gJ2luZGV4LnBocD9PcD1wYXkmU1BnPTImb3B0PScNCgkJdmFyIG9wdHN0cmluZyA9IEpTT04uc3RyaW5naWZ5KCBvcHQgKTsgDQoJCXZhciB1cmwgPSB1cmwrJ29wdD0nK29wdHN0cmluZysnJmFqeD0xJzsNCgkJdGhpcy5Jbml0aWFsaXplUmVxdWVzdCgnUE9TVCcsIHVybCk7CQkJCQ0KCQl2YXIgUGFyYW1zID0gZm9ybU5hbWUgIT0gJycgPyBjcmVhdGVQYXJhbUJ5Rm9ybShmb3JtTmFtZSkgOiAnbnVsbCc7DQoJCS8vYWxlcnQoUGFyYW1zKTsNCgkJdGhpcy5Db21taXQoUGFyYW1zKTsvL3RoaXMuQ29tbWl0KG51bGwpOw0KCX0NCn0NCkFqeEZvcm1PYmoyLnByb3RvdHlwZSA9IG5ldyBhamF4KCk7CQkNCg0KZnVuY3Rpb24gY2hlY2tBbGwzKCBuLCBmbGROYW1lICxlbEhlYWRlckNoZWNrZWQsIGVsSm1sQ2VrKSB7DQoJDQogIGlmICghZmxkTmFtZSkgew0KICAgICBmbGROYW1lID0gJ2NiJzsNCiAgfQ0KICAgaWYgKCFlbEhlYWRlckNoZWNrZWQpIHsNCiAgICAgZWxIZWFkZXJDaGVja2VkID0gJ3RvZ2dsZSc7DQogIH0NCgkvL3ZhciBmID0gZG9jdW1lbnQuYWRtaW5Gb3JtOw0KCS8vdmFyIGMgPSBldmFsKCdmLicrZmxkQ2hlY2tlZCsnLmNoZWNrZWQnKTsNCgl2YXIgYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsSGVhZGVyQ2hlY2tlZCkuY2hlY2tlZDsNCgl2YXIgbjIgPSAwOw0KCS8vdmFyIG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbEptbERhdGEpLnZhbHVlOw0KCWZvciAoaT0wOyBpIDwgbjsgaSsrKSB7DQoJCS8vYWxlcnQoZmxkTmFtZStpKycgJytjKTsJCQ0KCQljYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZsZE5hbWUraSk7DQoJCWlmIChjYikgew0KCQkJY2IuY2hlY2tlZCA9IGM7DQoJCQluMisrOw0KCQl9DQoJfQ0KCWlmIChjKSB7CQkNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxKbWxDZWspLnZhbHVlID0gbjI7DQoJfSBlbHNlIHsJCQ0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbEptbENlaykudmFsdWUgPSAwOw0KCX0NCn0NCg0KDQpmdW5jdGlvbiBCYXJQYW5lbF9leHBhbmQoYmFyTmFtZSwgYmFySGVpZ2h0KXsNCgkvL3ZhciBiYXJIZWlnaHQ9MzE7DQoJdmFyIHRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJhck5hbWUpOw0KCXZhciB0YWJoZWFkPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYXJOYW1lKydfaGVhZCcpOw0KCXZhciBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYXJOYW1lKydfaWNvJyk7DQoJaWYgKHRhYi5zdHlsZS5oZWlnaHQgIT0gKGJhckhlaWdodCsxKSsncHgnKXsNCgkJdGFiLnN0eWxlLmhlaWdodCA9IChiYXJIZWlnaHQrMSkrJ3B4JzsNCgkJaW1nLnNyYyA9ICdpbWFnZXMvbWVudS9yaWdodC5wbmcnOw0KCX1lbHNlew0KCQl0YWIuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2hlaWdodCcpOw0KCQlpbWcuc3JjID0gJ2ltYWdlcy9tZW51L2Rvd24ucG5nJzsNCgl9DQp9DQoNCg0Kc3RvcmVvYmogPSBmdW5jdGlvbihwYXJhbXNfKXsNCgl0aGlzLnBhcmFtcyA9IHBhcmFtc187DQoJdGhpcy51cmwgPSAnJzsvLyJpbmRleC5waHA\/T3A9OSZQZz1rZWMmcHJzPWdldGFsbCI7DQoJdGhpcy5yb3dzPUFycmF5KCk7DQoJdGhpcy5pZHg9MDsNCgkvKnJvd3M6IFsNCgkJCXtuYW1lOiAnMjAxMjExMDJfNjE3MTg3Xzg4MTMwNTQzNS5qcGcnIH0sDQoJCQl7bmFtZTogJzIwMTIxMTIwXzEwMjU0XzE2MjE4NzI1MjcuanBnJyB9DQoJCV0qLw0KCXRoaXMuYWZ0ZXJHZXREYXRhID0gZnVuY3Rpb24ocm93cyl7DQoJCQ0KCX0NCgl0aGlzLmdldGRhdGE9ZnVuY3Rpb24oKXsJCQ0KCQkNCgkJdmFyIG1lPSB0aGlzOw0KCQkNCgkJaWYodGhpcy51cmwgIT0gJycpeyAvL2ppa2Egc2VydmVyDQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyNhZG1pbkZvcm0nKS5zZXJpYWxpemUoKSwJCQ0KCQkJCS8vdXJsOiAiaW5kZXgucGhwP09wPTkmUGc9a2VjJnBycz1nZXRDb21ibyZvbmNoZz1mbUtlYy5waWxpaEtlYyhcJ2NieEtlbFwnKSIsDQoJCQkJdXJsOiB0aGlzLnVybCwNCgkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgewkJCQkJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyByZXNwb25zZSArICcpJyk7CQkJCQkJCQkNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsgDQoJCQkJCQltZS5pZHg9MDsNCgkJCQkJCW1lLnJvd3M9QXJyYXkoKTsNCgkJCQkJCW1lLnJvd3MgPSByZXNwLmNvbnRlbnQucm93czsNCgkJCQkJCW1lLmFmdGVyR2V0RGF0YShtZS5yb3dzKTsJCQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfSk7DQoJCX1lbHNleyAvL2xva2FsDQoJCQltZS5hZnRlckdldERhdGEobWUucm93cyk7DQoJCX0NCgkJCQ0KCX0NCgl0aGlzLmluaXRpYWwgPSBmdW5jdGlvbigpewkJDQoJCS8vaWYodGhpcy5wYXJhbXMud2lkdGggIT0gbnVsbCkgdGhpcy53aWR0aD0gdGhpcy5wYXJhbXMud2lkdGg7IA0KCQlmb3IgKHZhciBuYW1lIGluIHRoaXMucGFyYW1zKSB7DQoJCSAgZXZhbCggJ2lmKHRoaXMucGFyYW1zLicrbmFtZSsnICE9IG51bGwpIHRoaXMuJytuYW1lKyc9IHRoaXMucGFyYW1zLicrbmFtZSsnOyAnKTsNCgkJfQ0KCX0NCgl0aGlzLmluaXRpYWwoKTsJDQp9DQoNCg0KY29tYm9ib3hvYmogPWZ1bmN0aW9uKHBhcmFtc18pew0KCXRoaXMucGFyYW1zID0gcGFyYW1zXzsNCgl0aGlzLmRlZiA9ICdTZW11YSBLZWNhbWF0YW4nOw0KCXRoaXMubmFtZSA9ICdmbVBpbEtlYyc7DQoJdGhpcy5zdG9yZSA9IG51bGw7Ly8gDQoJLy90aGlzLnN0b3JlID1BcnJheSh7aWQ6MSxuYW1hOidzYXR1J30se2lkOjIsIG5hbWE6J2R1YSd9KTsNCgl0aGlzLnJlbmRlclRvPSdjYnhLZWMnOw0KCXRoaXMuZmllbGRLZXk9J0tEX0tFQ0FNQVRBTic7DQoJdGhpcy5maWVsZFZhbHVlPSdOTV9LRUNBTUFUQU4nOw0KCXRoaXMuZmllbGROYW1lID0gJ2NtYktlY0VsJywNCgl0aGlzLmRlZlZhbHVlID0gJycsDQoJdGhpcy50ZXMgPSBmdW5jdGlvbigpew0KCQlhbGVydCgndGVzJyk7DQoJfQ0KCXRoaXMub25jaGFuZ2UgPSBmdW5jdGlvbigpew0KCQkvL2FsZXJ0KCdjaGFuZ2UnKTsNCgl9DQoJdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQl0aGlzLnN0b3JlLmFmdGVyR2V0RGF0YSA9IGZ1bmN0aW9uKHJvd3Mpew0KCQkJLy9hbGVydCgnZGVmPScrbWUuZGVmVmFsdWUpOw0KCQkJdmFyIG9wc2kgPSAiPG9wdGlvbiB2YWx1ZT0nJz4iK21lLmRlZisiPC9vcHRpb24+IjsNCgkJCWZvcih2YXIgaT0wO2k8cm93cy5sZW5ndGg7aSsrKSB7IA0KCQkJCS8vU2VsID0gJEhhc2lsWyRmaWVsZEtleV09PSR2YWx1ZT8ic2VsZWN0ZWQiOiIiOyANCgkJCQlrZXkgPSBldmFsKCJyb3dzWyIraSsiXS4iK21lLmZpZWxkS2V5KTsgLy9kYXRhW2ldLmlkOw0KCQkJCXZhbCA9IGV2YWwoInJvd3NbIitpKyJdLiIrbWUuZmllbGRWYWx1ZSk7Ly9kYXRhW2ldLm5hbWE7DQoJCQkJDQoJCQkJU2VsID0gJyc7DQoJCQkJaWYgKG1lLmRlZlZhbHVlICE9ICcnKXsNCgkJCQkJU2VsID0ga2V5PT1tZS5kZWZWYWx1ZT8ic2VsZWN0ZWQiOiIiOw0KCQkJCX0vL2FsZXJ0KCdzZWw9JyArU2VsKycgdmFsPScrdmFsKTsNCgkJCQlvcHNpICs9ICI8b3B0aW9uICIrU2VsKyIgdmFsdWU9JyIra2V5KyInPiIrdmFsKyI8L29wdGlvbj4iOyANCgkJCX0gDQoJCQl2YXIgY2J4PSAiPHNlbGVjdCBuYW1lPSciK21lLmVsbmFtZSsiJyBpZD0nIittZS5lbG5hbWUrIicgb25jaGFuZ2U9JyIrbWUubmFtZSsiLm9uY2hhbmdlKCknPiIrb3BzaSsiPC9zZWxlY3QgPiI7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5yZW5kZXJUbykuaW5uZXJIVE1MID0gY2J4Ow0KCQl9DQoJCXRoaXMuc3RvcmUuZ2V0ZGF0YSgpOw0KCQkNCgkJDQoJfQ0KCXRoaXMuaW5pdGlhbCA9IGZ1bmN0aW9uKCl7CQkNCgkJLy9pZih0aGlzLnBhcmFtcy53aWR0aCAhPSBudWxsKSB0aGlzLndpZHRoPSB0aGlzLnBhcmFtcy53aWR0aDsgDQoJCWZvciAodmFyIG5hbWUgaW4gdGhpcy5wYXJhbXMpIHsNCgkJICBldmFsKCAnaWYodGhpcy5wYXJhbXMuJytuYW1lKycgIT0gbnVsbCkgdGhpcy4nK25hbWUrJz0gdGhpcy5wYXJhbXMuJytuYW1lKyc7ICcpOw0KCQl9DQoJfQ0KCXRoaXMuaW5pdGlhbCgpOwkNCgkNCn0NCg0KDQpmdW5jdGlvbiBFbnRyeSggbmFtZSwgdmFsdWUsIHBhcmFtLCB0aXBlKXsNCgloc2wgPScnOw0KCXN3aXRjaCh0aXBlKXsJDQoJCWNhc2UgMTogY2FzZSAnaGlkZGVuJzogaHNsID0gIjxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSciK25hbWUrIicgbmFtZT0nIituYW1lKyInIHZhbHVlPSciK3ZhbHVlKyInICIrcGFyYW0rIj4iIDticmVhazsNCgkJY2FzZSAyOiBjYXNlICd0ZXh0JzogaHNsID0gIjxpbnB1dCB0eXBlPSd0ZXh0JyBpZD0nIituYW1lKyInIG5hbWU9JyIrbmFtZSsiJyB2YWx1ZT0nIit2YWx1ZSsiJyAiK3BhcmFtKyI+IiA7YnJlYWs7DQoJCS8vY2FzZSAzOiBjYXNlICdkYXRlJzogaHNsID0gY3JlYXRlRW50cnlUZ2wzKCR2YWwsICRuYW1lLCBmYWxzZSkgO2JyZWFrOwkJDQoJCWNhc2UgNDogY2FzZSAnbnVtYmVyJzogDQoJCQloc2wgPSANCgkJCQkiPGlucHV0IHR5cGU9J3RleHQnIG9ua2V5cHJlc3M9J3JldHVybiBpc051bWJlcktleShldmVudCknICIrCQkJCQ0KCQkJCQkidmFsdWU9JyIrdmFsdWUrIicgIisNCgkJCQkJIm5hbWU9JyIrbmFtZSsiJyBpZD0nIituYW1lKyInICIrIA0KCQkJCQlwYXJhbSsNCgkJCQkiPiI7DQoJCQlicmVhazsJCQkJCQ0KCQkNCgkJZGVmYXVsdDogaHNsID0gIjxpbnB1dCB0eXBlPSd0ZXh0JyBpZD0nIituYW1lKyInIG5hbWU9JyIrbmFtZSsiJyB2YWx1ZT0nIit2YWx1ZSsiJyAiK3BhcmFtKyI+IiA7YnJlYWs7DQoJCQ0KCX0NCglyZXR1cm4gaHNsOw0KfQ0K",
    "size": "29748"
}