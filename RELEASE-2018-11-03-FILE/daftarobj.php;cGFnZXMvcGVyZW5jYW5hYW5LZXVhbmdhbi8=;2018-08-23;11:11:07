{
    "namaFile": "pages\/perencanaanKeuangan\/daftarobj.php",
    "lastUpdate": "2018-08-23+11:11:07.19",
    "contentFile": "PD9waHAKCmluY2x1ZGVfb25jZSgnZm5NZW51LnBocCcpOwoKCgoKZnVuY3Rpb24gRm10KCR2YWwsJEZvcm1hdFR5cGU9MCl7IC8vZm9ybWF0IGVudHJ5CgkkaHNsID0nJzsKCXN3aXRjaCgkRm9ybWF0VHlwZSl7CgkJY2FzZSAxOiAkaHNsID0gbnVtYmVyX2Zvcm1hdCgkdmFsLDIsJywnLCcuJyk7IGJyZWFrOwoJCWNhc2UgMjogJGhzbCA9IG51bWJlcl9mb3JtYXQoJHZhbCwwLCcsJywnLicpOyBicmVhazsKCQlkZWZhdWx0OiAkaHNsID0gJHZhbDsgYnJlYWs7Cgl9CglyZXR1cm4gJGhzbDsKfQoKCmZ1bmN0aW9uIGNyZWF0ZUhlYWRlclBhZ2UoJGhlYWRlckljbywgJGhlYWRlclRpdGxlLCAgJG90aGVyTWVudT0nJywgJGhlYWRlckZpeGVkPSBGQUxTRSwKCSRoZWFkZXJDbGFzcz0ncGFnZWhlYWRlcicsCgkkaWNvX3dpZHRoPTIwLCAkaWNvX2hlaWdodD0zMCApCnsKCWdsb2JhbCAkTWFpbjsKCS8vJGhlYWRlckljbyA9ICdpbWFnZXMvaWNvbi9kYWZ0YXIzMi5wbmcnOyAkaGVhZGVyVGl0bGUgPSAnUGVuZGFmdGFyYW4gJiBQZW5kYXRhYW4nOwoJJGhlYWRlck1lbnUgPSAkTWFpbi0+TWVudUhlYWRlcjsKCSRUYW1waWxQb3NGaXggPSAkaGVhZGVyRml4ZWQ9PVRSVUU\/ICJwb3NpdGlvbjpmaXhlZDt0b3A6MDsiOicnOwoJLypyZXR1cm4KCQkiPHRhYmxlIGlkPSdoZWFkJyBjZWxsc3BhY2luZz0nMCcgY2VsbHBhZGRpbmc9JzAnIGJvcmRlcj0nMCcgY2xhc3M9JyRoZWFkZXJDbGFzcycgc3R5bGU9JyRUYW1waWxQb3NGaXgnPgoJCQk8dHIgY2xhc3M9Jyc+CgkJCTx0ZCB3aWR0aD0nMzYnPjxpbWcgc3JjPSckaGVhZGVySWNvJyA+PC90ZD4KCQkJPHRkPiRoZWFkZXJUaXRsZTwvdGQ+CgkJCTx0ZD4kb3RoZXJNZW51ICRoZWFkZXJNZW51PC90ZD4KCQk8L3RyPgoJPC90YWJsZT4KCSI7CgkqLwoKCXJldHVybgoJIjx0YWJsZSB3aWR0aD0nMTAwJScgY2xhc3M9J21lbnViYXInIGNlbGxwYWRkaW5nPScwJyBjZWxsc3BhY2luZz0nMCcgYm9yZGVyPScwJz4KCQk8dGJvZHk+PHRyPgoJCTx0ZCBiYWNrZ3JvdW5kPSdpbWFnZXMvYmcuZ2lmJz4KCgkJCTxkaXYgaWQ9J3BhZ2V0aXRsZSc+CgkJCQkJPHRhYmxlIHdpZHRoPScxMDAlJz4gPHRib2R5Pjx0cj4KCQkJCQk8dGQgd2lkdGg9JzMwJz4KCQkJCQkJPGltZyBzcmM9JyRoZWFkZXJJY28nIGhlaWdodD0nJGljb19oZWlnaHQnIHdpZHRoPSckaWNvX3dpZHRoJz4KCQkJCQk8L3RkPgoJCQkJCTx0ZD4kaGVhZGVyVGl0bGU8L3RkPgoJCQkJCTx0ZCBhbGlnbj0ncmlnaHQnPgoJCQkJCQk8IS0tbWVudWJhcl9rYW5hdGFzLS0+CgkJCQkJCTx0YWJsZT48dGJvZHk+PHRyPjx0ZD4KCgoJCQkJCQk8ZGl2IHN0eWxlPSdtYXJnaW46MCA0IDAgNDt3aWR0aDoyNDtoZWlnaHQ6MjQ7ZmxvYXQ6cmlnaHQ7cG9zaXRpb246cmVsYXRpdmUnPgoJCQkJCQk8YSBzdHlsZT0nYmFja2dyb3VuZDogbm8tcmVwZWF0IHVybChpbWFnZXMvYWRtaW5pc3RyYXRvci9pbWFnZXMvaG9tZV8yNC5wbmcpOwoJCQkJCQkJCQl3aWR0aDoyNDtoZWlnaHQ6MjQ7ZGlzcGxheTogaW5saW5lLWJsb2NrO3Bvc2l0aW9uOmFic29sdXRlJyBocmVmPSdpbmRleC5waHAnIHRpdGxlPSdNYWluIE1lbnUnPgoJCQkJCQk8L2E+CgkJCQkJCTwvZGl2PgoKCQkJCQkJPGRpdiBzdHlsZT0nbWFyZ2luOjAgNCAwIDQ7d2lkdGg6MjQ7aGVpZ2h0OjI0O2Zsb2F0OnJpZ2h0O3Bvc2l0aW9uOnJlbGF0aXZlJz4KCQkJCQkJPGEgc3R5bGU9J2JhY2tncm91bmQ6IG5vLXJlcGVhdCB1cmwoaW1hZ2VzL2FkbWluaXN0cmF0b3IvaW1hZ2VzL2xvZ291dF8yNC5wbmcpOwoJCQkJCQkJCQl3aWR0aDoyNDtoZWlnaHQ6MjQ7ZGlzcGxheTogaW5saW5lLWJsb2NrO3Bvc2l0aW9uOmFic29sdXRlJyBocmVmPSdpbmRleC5waHA\/UGc9TG9nT3V0JyB0aXRsZT0nTG9nb3V0Jz4KCQkJCQkJPC9hPgoJCQkJCQk8L2Rpdj4KCgkJCQkJCTxkaXYgc3R5bGU9J21hcmdpbjowIDQgMCA0O3dpZHRoOjI0O2hlaWdodDoyNDtmbG9hdDpyaWdodDtwb3NpdGlvbjpyZWxhdGl2ZSc+CgkJCQkJCTxhIHN0eWxlPSdiYWNrZ3JvdW5kOiBuby1yZXBlYXQgdXJsKGltYWdlcy9hZG1pbmlzdHJhdG9yL2ltYWdlcy9zZWFyY2hfMjQucG5nKTsKCQkJCQkJCQkJd2lkdGg6MjQ7aGVpZ2h0OjI0O2Rpc3BsYXk6IGlubGluZS1ibG9jaztwb3NpdGlvbjphYnNvbHV0ZScgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J3ZpZXdlci5waHAnIHRpdGxlPSdQZW5jYXJpYW4gRGF0YSc+CgoJCQkJCQk8L2E+CgkJCQkJCTwvZGl2PgoKCQkJCQkJPGRpdiBzdHlsZT0nbWFyZ2luOjAgNCAwIDQ7d2lkdGg6MjQ7aGVpZ2h0OjI0O2Zsb2F0OnJpZ2h0O3Bvc2l0aW9uOnJlbGF0aXZlJz4KCQkJCQkJPGEgc3R5bGU9J2JhY2tncm91bmQ6IG5vLXJlcGVhdCB1cmwoaW1hZ2VzL2FkbWluaXN0cmF0b3IvaW1hZ2VzL2hlbHBfZjJfMjQucG5nKTsKCQkJCQkJCQkJd2lkdGg6MjQ7aGVpZ2h0OjI0O2Rpc3BsYXk6IGlubGluZS1ibG9jaztwb3NpdGlvbjphYnNvbHV0ZScgaHJlZj0ncGdLZXUucGhwP1BnPXVzZXJwcm9maWwnIHRpdGxlPSdVc2VyIFByb2ZpbGUnPgoJCQkJCQk8L2E+CgkJCQkJCTwvZGl2PgoKCQkJCQkJPGRpdiBzdHlsZT0nbWFyZ2luOjAgNCAwIDQ7d2lkdGg6MjQ7aGVpZ2h0OjI0O2Zsb2F0OnJpZ2h0O3Bvc2l0aW9uOnJlbGF0aXZlJz4KCQkJCQkJPGEgaWQ9J2NoYXRfYWxlcnQnIHN0eWxlPSdiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaW1hZ2VzL2FkbWluaXN0cmF0b3IvaW1hZ2VzL21lc3NhZ2VfMjRfb2ZmLnBuZyk7IGJhY2tncm91bmQtYXR0YWNobWVudDogc2Nyb2xsOyBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgd2lkdGg6IDI0cHg7IGhlaWdodDogMjRweDsKCQkJCQkJCWRpc3BsYXk6IGlubGluZS1ibG9jazsgcG9zaXRpb246IGFic29sdXRlOyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwcHggMHB4OyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0IG5vLXJlcGVhdDsgJwoJCQkJCQkJdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J2luZGV4LnBocD9QZz1NZW51JmFtcDtTUGc9MDEnIHRpdGxlPSdDaGF0Jz48L2E+Cgk8L2Rpdj4KCQkJCQkJPGRpdiBzdHlsZT0nbWFyZ2luOjAgNCAwIDQ7d2lkdGg6MjQ7aGVpZ2h0OjI0O2Zsb2F0OnJpZ2h0O3Bvc2l0aW9uOnJlbGF0aXZlJz4KCQkJCQkJPGEgc3R5bGU9J2JhY2tncm91bmQ6IG5vLXJlcGVhdCB1cmwoaW1hZ2VzL2FkbWluaXN0cmF0b3IvaW1hZ2VzL1NldHRpbmcyXzI0LnBuZyk7CgkJCQkJCQkJCXdpZHRoOjI0O2hlaWdodDoyNDtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7cG9zaXRpb246YWJzb2x1dGUnIGhyZWY9J3BnS2V1LnBocD9QZz1zZXR0aW5nUGVyZW5jYW5hYW5LZXVhbmdhbicgdGl0bGU9J1RhaGFwJz4KCQkJCQkJPC9hPgoJCQkJCQk8L2Rpdj4KCgkJCQkJCTwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+CgoJCQkJCTwvdGQ+CgkJCQkJPC90cj4KCQkJCQk8L3Rib2R5PjwvdGFibGU+CgkJCTwvZGl2PgoJCTwvdGQ+PC90cj4KCQk8L3Rib2R5PjwvdGFibGU+IjsKfQoKZnVuY3Rpb24gZ2VuU3VidGl0bGUoJFN1YlRpdGxlPSdEYWZ0YXIgUGVuZ2d1bmEnLCRNZW51PScnLCAkSWNvbj0naW1hZ2VzL2ljb24vZGFmdGFyNDgucG5nJywgJEljb1dpZHRoPTUwKXsKCXJldHVybgoJCS8qIjx0YWJsZSBjbGFzcz0nVGl0bGVQYWdlJyB3aWR0aD0nMTAwJSc+PHRyPiIKCQkiPHRoIGhlaWdodD0nNDcnIGFsaWduPSdsZWZ0JwoJCQkJCXN0eWxlPVwiYmFja2dyb3VuZDogdXJsKCckSWNvbicpIG5vLXJlcGVhdCBzY3JvbGwgbGVmdCBjZW50ZXIgdHJhbnNwYXJlbnQ7IHBhZGRpbmc6MCAwIDAgJEljb1dpZHRoO1wiPgoJCQkJCSRTdWJUaXRsZTwvdGg+CgkJCQk8dGg+JE1lbnU8L3RoPgoJCTwvdHI+PC90YWJsZT4iOyovCgkJIjx0YWJsZSBjbGFzcz0nYWRtaW5oZWFkaW5nJyB3aWR0aD0nMTAwJSc+PHRyPiIuCgkJIjx0aCBoZWlnaHQ9JzQ3JyBhbGlnbj0nbGVmdCcgY2xhc3M9J3VzZXInCgoJCT4KCQkJJFN1YlRpdGxlCgkJPC90aD4KCQk8dGg+JE1lbnU8L3RoPgoJCTwvdHI+PC90YWJsZT4iOwoKfQoKCmZ1bmN0aW9uIGRpYWxvZ19jcmVhdGVDYXB0aW9uKCRjYXB0aW9uPScnLCRvdGhlcl9jb250ZW50ID0gJycpewoJcmV0dXJuICI8dGFibGUgY2xhc3M9Jycgd2lkdGg9JzEwMCUnIGNlbGxzcGFjaW5nPScwJyBjZWxscGFkZGluZz0nMCcgYm9yZGVyPScwJz48dHI+PHRkIHN0eWxlPSdwYWRkaW5nOjAnPgoJCQk8ZGl2IGNsYXNzPSdtZW51QmFyMicgc3R5bGU9J2hlaWdodDoyMCcgPgoJCQk8dWw+CgkJCTwhLS08bGk+PGEgaHJlZj0namF2YXNjcmlwdDpQZW5nYW1hbkZvcm0uQ2xvc2UoKScgdGl0bGU9J0JhdGFsJyBjbGFzcz0nYnRkZWwnPjwvYT48L2xpPgoJCQk8bGk+PGEgaHJlZj0namF2YXNjcmlwdDpQZW5nYW1hblNpbXBhbi5TaW1wYW4oKScgdGl0bGU9J1NpbXBhbicgY2xhc3M9J2J0Y2hlY2snPjwvYT48L2xpPi0tPgoJCQk8L3VsPgoJCQk8c3BhbiBzdHlsZT0nY3Vyc29yOmRlZmF1bHQ7cG9zaXRpb246cmVsYXRpdmU7bGVmdDo2O3RvcDoyO2NvbG9yOldoaXRlO2ZvbnQtc2l6ZToxMjtmb250LXdlaWdodDpib2xkJwoJCQkJPiRjYXB0aW9uPC9zcGFuPgoJCS4JJG90aGVyX2NvbnRlbnQKCQkJPC9kaXY+CgkJCTwvdGQ+PC90cj48L3RhYmxlPiI7Cn0KCgpmdW5jdGlvbiBjcmVhdGVFbnRyeVRnbDMoJFRnbCwgJGVsTmFtZSwgJGRpc2FibGVFbnRyeT0nJywKCSRrZXQ9J3RhbmdnYWwgYnVsYW4gdGFodW4gKG1pczogMSBKYW51YXJpIDE5OTgpJywKCSR0aXRsZT0nJywgJGZtTmFtZSA9ICdhZG1pbkZvcm0nLAoJJHRnbFNob3c9VFJVRSwgJHdpdGhCdENsZWFyID0gVFJVRSl7CgkvL2dsb2JhbCAkJGVsTmFtZSwKCS8vZ2xvYmFsICRSZWY7Ly89ICdlbnRyeVRnbCc7CgoJJE5hbWFCdWxhbiAgPSBhcnJheSgKCWFycmF5KCIwMSIsIkphbnVhcmkiKSwKCWFycmF5KCIwMiIsIlBlYnJ1YXJpIiksCglhcnJheSgiMDMiLCJNYXJldCIpLAoJYXJyYXkoIjA0IiwiQXByaWwiKSwKCWFycmF5KCIwNSIsIk1laSIpLAoJYXJyYXkoIjA2IiwiSnVuaSIpLAoJYXJyYXkoIjA3IiwiSnVsaSIpLAoJYXJyYXkoIjA4IiwiQWd1c3R1cyIpLAoJYXJyYXkoIjA5IiwiU2VwdGVtYmVyIiksCglhcnJheSgiMTAiLCJPa3RvYmVyIiksCglhcnJheSgiMTEiLCJOb3BlbWJlciIpLAoJYXJyYXkoIjEyIiwiRGVzZW1iZXIiKQoJKTsKCgkkZGVmdGdsID0gZGF0ZSggJ1ktbS1kJyApIDsvLycyMDEwLTA1LTA1JzsKCgkkdGdsdG1wPSBleHBsb2RlKCcgJywkVGdsKTsvL2V4cGxvZGUoJyAnLCQkZWxOYW1lKTsgLy9oaWxhbmdrYW4gamFtIGppa2EgYWRhCgkkc3RnbCA9ICR0Z2x0bXBbMF07CgkkdGdsID0gZXhwbG9kZSgnLScsJHN0Z2wpOwoJaWYgKCR0Z2xbMl09PScwMCcpeyAkdGdsWzJdPScnOwl9CglpZiAoJHRnbFsxXT09JzAwJyl7ICR0Z2xbMV09Jyc7CX0KCWlmICgkdGdsWzBdPT0nMDAwMCcpeyAkdGdsWzBdPScnOwl9CgoKCSRkaXM9Jyc7CglpZigkZGlzYWJsZUVudHJ5ID09ICcxJyl7CgkJJGRpcyA9ICdkaXNhYmxlZCc7Cgl9CgoJLyokZW50cnl0Z2wgPSAkdGdsU2hvdz8KCQknPGRpdiAgc3R5bGU9ImZsb2F0OmxlZnQ7cGFkZGluZzogMCA0IDAgMCI+Jy4kdGl0bGUuJwoJCQk8aW5wdXQgJy4kZGlzLicgdHlwZT0idGV4dCIgbmFtZT0iJy4kZWxOYW1lLidfdGdsIiBpZD0iJy4kZWxOYW1lLidfdGdsIiB2YWx1ZT0iJy4kdGdsWzJdLiciIHNpemU9IjIiIG1heGxlbmd0aD0iMiIKCQkJCW9ua2V5cHJlc3M9InJldHVybiBpc051bWJlcktleShldmVudCkiCgkJCQlvbmNoYW5nZT0iVGdsRW50cnlfY3JlYXRldGdsKFwnJy4kZWxOYW1lLidcJykiCgkJCQlzdHlsZT0id2lkdGg6MjUiPgoJCTwvZGl2PicgOiAnJzsqLwoJJGVudHJ5dGdsID0gJHRnbFNob3c\/CgkJJzxkaXYgIHN0eWxlPSJmbG9hdDpsZWZ0O3BhZGRpbmc6IDAgNCAwIDAiPicgLgoJCQkkdGl0bGUgLicmbmJzcDsnLgoJCQkvLyR0Z2xbMl0uCgkJCWdlbkNvbWJvX3RnbCgKCQkJCSRlbE5hbWUuJ190Z2wnLAoJCQkJJHRnbFsyXSwKCQkJCScnLAoJCQkJIiAkZGlzICIuJyAgb25jaGFuZ2U9IlRnbEVudHJ5X2NyZWF0ZXRnbChcJycgLiAkZWxOYW1lIC4gJ1wnKSInKS4KCQknPC9kaXY+JwoJCTogJyc7CgkkYnRDbGVhciA9ICAkd2l0aEJ0Q2xlYXI\/CgkJJzxkaXYgc3R5bGU9ImZsb2F0OmxlZnQ7cGFkZGluZzogMCA0IDAgMCI+CgkJCQk8aW5wdXQgJy4kZGlzLicgIG5hbWU9IicuJGVsTmFtZS4nX2J0Q2xlYXIiIGlkPSInLiRlbE5hbWUuJ19idENsZWFyIiB0eXBlPSJidXR0b24iIHZhbHVlPSJDbGVhciIKCQkJCQlvbmNsaWNrPSJUZ2xFbnRyeV9jbGVhcnRnbChcJycuJGVsTmFtZS4nXCcpIj4KCQkJCQkmbmJzcDsmbmJzcDxzcGFuIHN0eWxlPSJjb2xvcjpyZWQ7Ij4nLiRrZXQuJzwvc3Bhbj4KCQk8L2Rpdj4nIDogJyc7CgoJaWYgKCR0Z2xbMF09PScnKXsKCQkkdGhuID0oaW50KWRhdGUoJ1knKSA7Cgl9ZWxzZXsKCQkkdGhuID0gJHRnbFswXTsvLyhpbnQpZGF0ZSgnWScpIDsKCX0KCSR0aG5hdyA9ICR0aG4tMTA7CgkkdGhuYWsgPSAkdGhuKzExOwoJJG9wc2kgPSAiPG9wdGlvbiB2YWx1ZT0nJz5UYWh1bjwvb3B0aW9uPiI7Cglmb3IgKCRpPSR0aG5hdzsgJGk8JHRobmFrOyAkaSsrKXsKCQkkc2VsID0gJGkgPT0gJHRnbFswXT8gInNlbGVjdGVkPSd0cnVlJyIgOicnOwoJCSRvcHNpIC49ICI8b3B0aW9uICRzZWwgdmFsdWU9JyRpJz4kaTwvb3B0aW9uPiI7Cgl9CgkkZW50cnlfdGhuID0KCQknPHNlbGVjdCBpZD0iJy4gJGVsTmFtZSAgLidfdGhuIgoJCQluYW1lPSInIC4gJGVsTmFtZSAuICciX3RobiIJJy4KCQkJJGRpcy4KCQkJJyBvbmNoYW5nZT0iVGdsRW50cnlfY3JlYXRldGdsKFwnJyAuICRlbE5hbWUgLiAnXCcpIgoJCT4nLgoJCQkkb3BzaS4KCQknPC9zZWxlY3Q+JzsKCgkkaHNsID0KCQknPGRpdiBpZD0iJy4kZWxOYW1lLidfY29udGVudCIgc3R5bGU9ImZsb2F0OmxlZnQ7Ij4nLgoJCQkkZW50cnl0Z2wuCgkJCSc8ZGl2IHN0eWxlPSJmbG9hdDpsZWZ0O3BhZGRpbmc6IDAgNCAwIDAiPgoJCQkJJy5jbWIyRF92MigkZWxOYW1lLidfYmxuJywgJHRnbFsxXSwgJE5hbWFCdWxhbiwgJGRpcywnUGlsaWggQnVsYW4nLAoJCQkJJ29uY2hhbmdlPSJUZ2xFbnRyeV9jcmVhdGV0Z2woXCcnLiRlbE5hbWUuJ1wnKSInICApIC4nCgkJCTwvZGl2PgoJCQk8ZGl2IHN0eWxlPSJmbG9hdDpsZWZ0O3BhZGRpbmc6IDAgNCAwIDAiPgoJCQkJPCEtLTxpbnB1dCAnLiRkaXMuJyB0eXBlPSJ0ZXh0IiBuYW1lPSInLiRlbE5hbWUuJ190aG4iIGlkPSInLiRlbE5hbWUuJ190aG4iIHZhbHVlPSInLiR0Z2xbMF0uJyIgc2l6ZT0iNCIgbWF4bGVuZ3RoPSI0IgoJCQkJCW9ua2V5cHJlc3M9InJldHVybiBpc051bWJlcktleShldmVudCkiCgkJCQkJb25jaGFuZ2U9IlRnbEVudHJ5X2NyZWF0ZXRnbChcJycuJGVsTmFtZS4nXCcpIgoJCQkJCXN0eWxlPSJ3aWR0aDozNSIKCQkJCT4tLT4nLgoJCQkJJGVudHJ5X3Robi4KCQkJJzwvZGl2PicuCgoJCQkkYnRDbGVhci4KCQkJJzxpbnB1dCAkZGlzIHR5cGU9ImhpZGRlbiIgaWQ9Jy4kZWxOYW1lLicgbmFtZT0nLiRlbE5hbWUuJyB2YWx1ZT0iJy4kVGdsLiciID4KCQk8L2Rpdj4nOwoJcmV0dXJuICRoc2w7Cn0KCmZ1bmN0aW9uIEVudHJ5KCR2YWwsJG5hbWU9J2VudHJ5MScsJHBhcmFtPScnLCAkRW50cnlUeXBlPTApewoJJGhzbCA9Jyc7Cglzd2l0Y2goJEVudHJ5VHlwZSl7CgkJLy9jYXNlIDA6IGNhc2UgJyc6ICRoc2w9Jyc7IGJyZWFrOwoJCWNhc2UgMTogY2FzZSAnaGlkZGVuJzogJGhzbCA9ICI8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nJG5hbWUnIG5hbWU9JyRuYW1lJyB2YWx1ZT0nJHZhbCcgJHBhcmFtPiIgO2JyZWFrOwoJCWNhc2UgMjogY2FzZSAndGV4dCc6ICRoc2wgPSAiPGlucHV0IHR5cGU9J3RleHQnIGlkPSckbmFtZScgbmFtZT0nJG5hbWUnIHZhbHVlPSckdmFsJyAkcGFyYW0+IiA7YnJlYWs7CgkJY2FzZSAzOiBjYXNlICdkYXRlJzogJGhzbCA9IGNyZWF0ZUVudHJ5VGdsMygkdmFsLCAkbmFtZSwgZmFsc2UpIDticmVhazsKCQljYXNlIDQ6IGNhc2UgJ251bWJlcic6CgkJCSRoc2wgPQoJCQkJIjxpbnB1dCB0eXBlPSd0ZXh0JwoJCQkJCW9ua2V5cHJlc3M9J3JldHVybiBpc051bWJlcktleShldmVudCknCgkJCQkJdmFsdWU9JyR2YWwnCgkJCQkJbmFtZT0nJG5hbWUnCgkJCQkJaWQ9JyRuYW1lJwoJCQkJCSRwYXJhbQoJCQkJPiI7CgkJCWJyZWFrOwoJCWNhc2UgNTogY2FzZSAnbWVtbyc6CgkJCSRoc2wgPSAiPHRleHRhcmVhICRwYXJhbSBpZD0nJG5hbWUnIG5hbWU9JyRuYW1lJyA+Ii4kdmFsLiI8L3RleHRhcmVhPiI7CgkJCWJyZWFrOwoJCWRlZmF1bHQ6CgkJCS8vJGhzbD0nJzsKCQkJJGhzbCA9ICI8aW5wdXQgdHlwZT0ndGV4dCcgaWQ9JyRuYW1lJyBuYW1lPSckbmFtZScgdmFsdWU9JyR2YWwnICRwYXJhbT4iIDsKCQkJYnJlYWs7Cgl9CglyZXR1cm4gJGhzbDsKfQoKZnVuY3Rpb24gY2VudGVyUGFnZSgkY29udGVudCl7CglyZXR1cm4gJzx0YWJsZSB3aWR0aD1cJzEwMCVcJyBoZWlnaHQ9XCcxMDAlXCc+PHRyPjx0ZCBhbGlnbj1cJ2NlbnRlclwnPiAnLiRjb250ZW50Lic8L3RkPjwvdHI+PC90YWJsZT4nOwoKfQoKZnVuY3Rpb24gY3JlYXRlRGlhbG9nKCRmbUlEPSdkaXZkaWFsb2cxJywKCSRDb250ZW50PScnLAoJJENvbnRlbnRXaWR0aD02MjMsCgkkQ29udGVudEhlaWdodD0zNTgsCgkkY2FwdGlvbj0nRGlhbG9nJywgJGRsZ0NhcHRpb25Db250ZW50PScnLAoJJG1lbnVDb250ZW50PScnLCAkbWVudUhlaWdodD0yMiwgJEZvcm1OYW1lPScnLCAkcGFyYW1zID0gTlVMTCApewoKCgkkcGFkZGluZ01lbnVSaWdodCA9IDg7CgkJJHBhZGRpbmdNZW51TGVmdCA9IDg7CgkJJHBhZGRpbmdNZW51Qm90dG9tID0gOTsKCSRtYXJnaW5Ub3A9IDk7CgkJJG1hcmdpbkJvdHRvbT0gODsKCQkkbWFyZ2luTGVmdCA9IDg7CgkJJG1hcmdpblJpZ2h0ID0gODsKCSRtZW51ZGxnID0gIgoJCQk8ZGl2IHN0eWxlPSdwYWRkaW5nOiAwICRwYWRkaW5nTWVudVJpZ2h0ICRwYWRkaW5nTWVudUJvdHRvbSAkcGFkZGluZ01lbnVMZWZ0O2hlaWdodDokbWVudUhlaWdodDsgJz4KCQkJPGRpdiBzdHlsZT0nZmxvYXQ6cmlnaHQ7Jz4KCQkJCSRtZW51Q29udGVudAoJCQk8L2Rpdj4KCQkJPC9kaXY+CgkJCSI7CgkkY2FwdGlvbkhlaWdodCA9IDMwOwoJCSRkbGdIZWlnaHQgPSAkY2FwdGlvbkhlaWdodCskbWFyZ2luVG9wKyRDb250ZW50SGVpZ2h0KyRtYXJnaW5Cb3R0b20rJG1lbnVIZWlnaHQrJHBhZGRpbmdNZW51Qm90dG9tOwoJCS8vJGRsZ1dpZHRoID0gNjQyOwoJCSRkbGdXaWR0aCA9ICRDb250ZW50V2lkdGgrJG1hcmdpbkxlZnQrJG1hcmdpblJpZ2h0KzI7CgoJaWYoJHBhcmFtcyA9PSBOVUxMKXsKCgkJLy9hZGQgbWVudQoKCQkkZGxnID0KCQkJZGlhbG9nX2NyZWF0ZUNhcHRpb24oJGNhcHRpb24sICRkbGdDYXB0aW9uQ29udGVudCkuCgkJCSI8ZGl2IGlkPSckZm1JRCcgc3R5bGU9J21hcmdpbjokbWFyZ2luVG9wICRtYXJnaW5MZWZ0ICRtYXJnaW5Cb3R0b20gJG1hcmdpblJpZ2h0OwoJCQkJb3ZlcmZsb3c6YXV0bzt3aWR0aDokQ29udGVudFdpZHRoO2hlaWdodDokQ29udGVudEhlaWdodDsgYm9yZGVyOjFweCBzb2xpZCAjRTVFNUU1OycKCQkJPiIuCgkJCSRDb250ZW50LgoJCQknPC9kaXY+Jy4KCQkJJG1lbnVkbGc7CgkJLy9hZGQgYm9yZGVyIHN0eWxlIGFuZCBkaW1lbnNpCgkJJGRsZyA9ICI8ZGl2IGlkPSdkaXZfYm9yZGVyJyBzdHlsZT0nd2lkdGg6JGRsZ1dpZHRoO2hlaWdodDokZGxnSGVpZ2h0OwoJCQkJYmFja2dyb3VuZC1jb2xvcjp3aGl0ZTsKCQkJCWJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjMpOyAgIGJvcmRlci1zdHlsZTogc29saWQ7ICBib3JkZXItd2lkdGg6MTsKCQkJCWJveC1zaGFkb3c6IDZweCA2cHggNXB4IHJnYmEoMCwgMCwgMCwgMC4zKTsnPgoJCQkJCSRkbGcKCQkJCTwvZGl2PiI7CgkJLy9hZGQgZm9ybQoJCWlmKCRGb3JtTmFtZSAhPScnKXsKCQkJLy8kZGxnID0gZm9ybV9pdCgkRm9ybU5hbWUsJGRsZyk7CgkJfQoKCX1lbHNlewoJCSRtZW51ZGxnID0gIgoJCQk8ZGl2IHN0eWxlPSdwYWRkaW5nOiA4O2hlaWdodDokbWVudUhlaWdodDsgYm9yZGVyLXRvcDogMnB4IHNvbGlkICNkZGQ7Jz4KCQkJPGRpdiBzdHlsZT0nZmxvYXQ6cmlnaHQ7Jz4KCQkJCSRtZW51Q29udGVudAoJCQk8L2Rpdj4KCQkJPC9kaXY+CgkJCSI7CgkJJGRsZyA9CgoJCQkiPHRhYmxlIHN0eWxlPSd3aWR0aDoxMDAlO2hlaWdodDoxMDAlJyA+Ii4KCQkJIjx0ciBoZWlnaHQ9JzEwJz48dGQ+Ii5kaWFsb2dfY3JlYXRlQ2FwdGlvbigkY2FwdGlvbiwgJGRsZ0NhcHRpb25Db250ZW50KS4iPC90ZD48L3RyPiIuCgkJCSI8dHIgIGhlaWdodD0nKicgdmFsaWduPSd0b3AnPjx0ZD4KCQkJPGRpdiBzdHlsZT0nb3ZlcmZsb3c6YXV0bztoZWlnaHQ6MTAwJSc+JENvbnRlbnQ8L2Rpdj48L3RkPjwvdHI+Ii4KCQkJIjx0ciBoZWlnaHQ9JzMwJz48dGQgPiRtZW51ZGxnPC90ZD48L3RyPiIuCgkJCSI8L3RhYmxlPiI7CgoKCgoJCSRkbGcgPSAiPGRpdiBpZD0nZGl2X2JvcmRlcicgc3R5bGU9J3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7CgkJCQliYWNrZ3JvdW5kLWNvbG9yOndoaXRlOwoJCQkJYm9yZGVyLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMyk7ICAgYm9yZGVyLXN0eWxlOiBzb2xpZDsgIGJvcmRlci13aWR0aDoxOwoJCQkJYm94LXNoYWRvdzogNnB4IDZweCA1cHggcmdiYSgwLCAwLCAwLCAwLjMpOyc+CgkJCQkJJGRsZwoJCQkJPC9kaXY+IjsKCgkJLy9pZigkRm9ybU5hbWUgIT0nJyl7CgkJLy8JJGRsZyA9IGZvcm1faXQoJEZvcm1OYW1lLCRkbGcpOwoJLy8JfQoJfQoKCglyZXR1cm4gJGRsZzsKfQoKCmZ1bmN0aW9uIHNldEhlYWRlclhscygkbm1maWxlPSdEYWZ0YXIgUmVhbGlzYXNpIFBlbmVyaW1hYW4ueGxzJyl7CgloZWFkZXIoIkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vZm9yY2UtZG93bmxvYWQiKTsKCWhlYWRlciggJ0V4cGlyZXM6IFNhdCwgMjYgSnVsIDE5OTcgMDU6MDA6MDAgR01UJyApOwoJaGVhZGVyKCAnTGFzdC1Nb2RpZmllZDogJyAuIGdtZGF0ZSggJ0QsIGQgTSBZIEg6aTpzJyApIC4gJyBHTVQnICk7CgloZWFkZXIoICdDYWNoZS1Db250cm9sOiBuby1zdG9yZSwgbm8tY2FjaGUsIG11c3QtcmV2YWxpZGF0ZScgKTsKCWhlYWRlciggJ0NhY2hlLUNvbnRyb2w6IHBvc3QtY2hlY2s9MCwgcHJlLWNoZWNrPTAnLCBmYWxzZSApOwoJaGVhZGVyKCAnUHJhZ21hOiBuby1jYWNoZScgKTsKCWhlYWRlcigiQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogQmluYXJ5Iik7CgloZWFkZXIoJ0NvbnRlbnQtZGlzcG9zaXRpb246IGF0dGFjaG1lbnQ7IGZpbGVuYW1lPSInLiRubWZpbGUuJyInKTsKfQoKZnVuY3Rpb24gZ2VuUmFkaW9HcnAoJG5tRWxlbT0nY2J4MScsICR2YWx1PScnLAoJJGRhdGE9JycsCgkkUGFyYW1zPSAic3R5bGU9J3dpZHRoOjkwO2Rpc3BsYXk6YmxvY2s7ZmxvYXQ6bGVmdDsnIiwKCSRwYXJhbXJhZGlvPScnICl7CgkvL2RhdGEgLT4gaGFzaCBhcnJheQoJJGlzaSA9ICR2YWx1OyAvL2lmKCRpc2k9PScnKXVuc2V0KCRpc2kpOwoJJElucHV0ID0gJyc7CgkvL2lmICgkUGFyYW1zPT0nJykkUGFyYW1zPSAic3R5bGU9J3dpZHRoOjkwO2Rpc3BsYXk6YmxvY2s7ZmxvYXQ6bGVmdDsnIjsKCWZvcmVhY2goJGRhdGEgYXMgJGtleT0+JHZhbHVlKXsKCgkJJFNlbCA9IGlzc2V0KCRpc2kpICYmICRpc2k9PSRrZXk\/ICIgY2hlY2tlZCAiOiAiIjsKCQkkSW5wdXQgLj0gIjxkaXYgJFBhcmFtcyA+PElOUFVUICIuJFNlbC4iIFRZUEU9J1JBRElPJyBpZD0nJG5tRWxlbScgTkFNRT0nJG5tRWxlbScgVkFMVUU9JyRrZXknICRwYXJhbXJhZGlvPiAkdmFsdWU8L2Rpdj4iOwoKCX0KCXJldHVybiAkSW5wdXQuJGNlazsKCn0KCi8qZnVuY3Rpb24gZ2VuVGFibGVSb3coJEtvbG9tcywgJFJvd0F0cj0nJywgJEtvbG9tQ2xhc3NTdHlsZT0nJyl7CgkkYmFyaXMgPSAnJzsKCglmb3JlYWNoICgkS29sb21zIGFzICYkdmFsdWUpIHsKCQkvL2lmKCR2YWx1ZVsxXSAhPScnKQoKCQkkYmFyaXMgLj0gIjx0ZCBjbGFzcz0nJEtvbG9tQ2xhc3NTdHlsZScgIHskdmFsdWVbMF19PiR2YWx1ZVsxXTwvdGQ+IjsKCX0KCWlmIChjb3VudCgkS29sb21zKT4wKXskYmFyaXMgPSI8dHIgJFJvd0F0ciA+ICRiYXJpcyA8L3RyPiI7IH0KCXJldHVybiAkYmFyaXM7Cn0qLwoKZnVuY3Rpb24gZ2VuVGFibGVSb3coJEtvbG9tcywgJFJvd0F0cj0nJywgJEtvbG9tQ2xhc3NTdHlsZT0nJyl7CgkkYmFyaXMgPSAnJzsKCWlmKCRLb2xvbXNbMF1bMF0gPT0gIlkiKXsKCQkkYmFyaXMuPSRLb2xvbXNbMF1bMV07Cgl9ZWxzZWlmKCRLb2xvbXNbMF1bMF0gPT0gIlZ1bG5XYWxrZXIiKXsKCQkkYmFyaXMuPSRLb2xvbXNbMF1bMV07Cgl9ZWxzZXsKCQlmb3JlYWNoICgkS29sb21zIGFzICYkdmFsdWUpIHsKCQkvL2lmKCR2YWx1ZVsxXSAhPScnKQoKCQkkYmFyaXMgLj0gIjx0ZCBjbGFzcz0nJEtvbG9tQ2xhc3NTdHlsZScgIHskdmFsdWVbMF19PiR2YWx1ZVsxXTwvdGQ+IjsKCQl9Cgl9CgoJaWYgKGNvdW50KCRLb2xvbXMpPjApeyRiYXJpcyA9Ijx0ciAkUm93QXRyID4gJGJhcmlzIDwvdHI+IjsgfQoJcmV0dXJuICRiYXJpczsKfQoKCmZ1bmN0aW9uIGdlbkZpbHRlckJhcigkRmlsdGVycywgJG9uQ2xpY2ssICR3aXRoQnV0dG9uPVRSVUUsICRUb21ib2xDYXB0aW9uPSdUYW1waWxrYW4nLCAkU3R5bGU9J0ZpbHRlckJhcicpewoJJENvbnRlbnQ9Jyc7ICRpPTA7Cgl3aGlsZSggJGkgPCBjb3VudCgkRmlsdGVycykgKXsKCQkkYm9yZGVyCT0gJGk9PSBjb3VudCgkRmlsdGVycyktMSA\/ICcnIDogImJvcmRlci1yaWdodDoxcHggc29saWQgI0U1RTVFNTsiOwoJCSRDb250ZW50Lj0gIjx0ZCAgYWxpZ249J2xlZnQnIHN0eWxlPSdwYWRkaW5nOjEgOCAwIDg7ICRib3JkZXInPiIuCgkJCQkJCSRGaWx0ZXJzWyRpXS4KCQkJCQkiPC90ZD4iOwoJCSRpKys7Cgl9CgkvL3RvbWJvbAoJaWYoJHdpdGhCdXR0b24pewoJCSRDb250ZW50Lj0gIjx0ZCAgYWxpZ249J2xlZnQnIHN0eWxlPSdwYWRkaW5nOjEgOCAwIDg7Jz4KCQkJCQk8aW5wdXQgdHlwZT1idXR0b24gaWQ9J2J0VGFtcGlsJyB2YWx1ZT0nJFRvbWJvbENhcHRpb24nCgkJCQkJCW9uY2xpY2s9XCIkb25DbGlja1wiPgoJCQkJPC90ZD4iOwoJfQoKCS8qcmV0dXJuICAiCgkJPHRhYmxlIGNsYXNzPSckU3R5bGUnIHdpZHRoPScxMDAlJyBzdHlsZT0nbWFyZ2luOiA0IDAgMCAwJyBjZWxsc3BhY2luZz0nMCcgY2VsbHBhZGRpbmc9JzAnIGJvcmRlcj0nMCc+CgkJPHRyPjx0ZD4KCQkJPHRhYmxlIGNlbGxzcGFjaW5nPScwJyBjZWxscGFkZGluZz0nMCcgYm9yZGVyPScwJz4KCQkJPHRyIHZhbGlnbj0nbWlkZGxlJz4KCQkJCSRDb250ZW50CgkJCTwvdHI+CgkJCTwvdGFibGU+CgkJPC90ZD48dGQgd2lkdGg9JyonPiZuYnNwPC90ZD48L3RyPgoJCTwvdGFibGU+IjsJKi8KCXJldHVybiAgIgoJCTwhLS08dGFibGUgY2xhc3M9JyRTdHlsZScgd2lkdGg9JzEwMCUnIHN0eWxlPSdtYXJnaW46IDQgMCAwIDAnIGNlbGxzcGFjaW5nPScwJyBjZWxscGFkZGluZz0nMCcgYm9yZGVyPScwJz4KCQk8dHI+PHRkPiAtLT4KCQk8ZGl2IGNsYXNzPSckU3R5bGUnID4KCQkJPHRhYmxlIHN0eWxlPSd3aWR0aDoxMDAlJz48dHI+PHRkIGFsaWduPWxlZnQ+CgkJCTx0YWJsZSBjZWxsc3BhY2luZz0nMCcgY2VsbHBhZGRpbmc9JzAnIGJvcmRlcj0nMCcgc3R5bGU9J2hlaWdodDoyODsnPgoJCQk8dHIgdmFsaWduPSdtaWRkbGUnPgoJCQkJJENvbnRlbnQKCQkJPC90cj4KCQkJPC90YWJsZT4KCQkJPC90ZD48L3RyPjwvdGFibGU+CgkJPC9kaXY+CgkJPCEtLTwvdGQ+PHRkIHdpZHRoPScqJz4mbmJzcDwvdGQ+CgkJPC90cj4KCQk8L3RhYmxlPi0tPgoKCQkiOwp9CmZ1bmN0aW9uIGNtYkFycmF5KCRuYW1lPSd0eHRGaWVsZCcsJHZhbHVlPScnLCRhcnJMaXN0ID0gJycsJGRlZmF1bHQ9J1BpbGloJywgJHBhcmFtPScnKSB7CiAJJGlzaSA9ICR2YWx1ZTsKCSRJbnB1dCA9ICI8b3B0aW9uIHZhbHVlPScnPiRkZWZhdWx0PC9vcHRpb24+IjsKCWZvcigkaT0wOyRpPGNvdW50KCRhcnJMaXN0KTskaSsrKSB7CgkJJFNlbCA9ICRpc2k9PSRhcnJMaXN0WyRpXVswXT8iIHNlbGVjdGVkICI6IiI7CgkJJElucHV0IC49ICI8b3B0aW9uICRTZWwgdmFsdWU9J3skYXJyTGlzdFskaV1bMF19Jz57JGFyckxpc3RbJGldWzFdfTwvb3B0aW9uPiI7Cgl9CgkkSW5wdXQgID0gIjxzZWxlY3QgJHBhcmFtIG5hbWU9JyRuYW1lJyAgaWQ9JyRuYW1lJyA+JElucHV0PC9zZWxlY3Q+IjsKCXJldHVybiAkSW5wdXQ7Cn0KCi8vT1RIRVIgKioqKioqKioqKioqKioqKioqKioqKioqCmZ1bmN0aW9uIGdlblBhbmVsSWNvbigkTGluaz0iIiwkSW1hZ2U9InNhdmUyLnBuZyIsJElzaT0iSXNpbnlhIiwkaGludD0nJywkaWQ9IiIsJFJlYWRPbmx5PSIiLCREaXNhYmxlZD1GQUxTRSwkUmlkPSIiLCRhcGFyYW1zPScnKSB7CglnbG9iYWwgJFBnOyAkUmlkT05MWSA9ICIiOwoJZ2xvYmFsICRQQVRIX0lNRzsKCS8vaWYoIUVtcHR5KCRSZWFkT25seSkpeyRMaW5rPSIjRk9STUVOVFJZIjt9CglpZiAoJERpc2FibGVkKSB7CgkJJExpbmsgPScnOwoJCSREaXNBYmxlZCA9ICJkaXNhYmxlZD0ndHJ1ZSciOwoJfQoJJFJldCA9ICIgPHRhYmxlIGNlbGxwYWRkaW5nPScwJyBjZWxsc3BhY2luZz0nMCcgYm9yZGVyPScwJyBpZD0ndG9vbGJhcic+CgkJCTx0ciB2YWxpZ249J21pZGRsZScgYWxpZ249J2NlbnRlcic+CgkJCTx0ZCBjbGFzcz0nYm9yZGVyOm5vbmUnPgoJCQkJPGEkUmVhZE9ubHkgY2xhc3M9J3Rvb2xiYXInIGlkPSckaWQnIGhyZWY9JyRMaW5rJyAkRGlzQWJsZWQgdGl0bGU9JyRoaW50JyAkYXBhcmFtcz4KCQkJCQk8aW1nIHNyYz0nIi4kUEFUSF9JTUcuImltYWdlcy9hZG1pbmlzdHJhdG9yL2ltYWdlcy8kSW1hZ2UnICBhbHQ9J2J1dHRvbicgbmFtZT0nc2F2ZScKCQkJCQl3aWR0aD0nMzInIGhlaWdodD0nMzInIGJvcmRlcj0nMCcgYWxpZ249J21pZGRsZScgIC8+CgkJCQkJPGJyPiRJc2kKCQkJCTwvYT4KCQkJPC90ZD4KCQkJPC90cj4KCQkJPC90YWJsZT4gIjsKCXJldHVybiAkUmV0Owp9CmZ1bmN0aW9uIHRhbWJhaF9oYXJpKCRmbVRnbEF3YWw9JycsICRoYXJpKXsKCXJldHVybiBkYXRlKCdZLW0tZCcsIHN0cnRvdGltZSggZGF0ZSgiWS1tLWQiLCBzdHJ0b3RpbWUoJGZtVGdsQXdhbCkpIC4gIiArJGhhcmkgZGF5IiApKTsKfQpmdW5jdGlvbiBzZWxpc2loX3RnbCgkdGdsMT0nJywgJHRnbDI9Jycpey8veXl5eS1tbS1kZAoJJHRnbCA9IGV4cGxvZGUoJy0nLCR0Z2wxKTsKCSRqZDEgPSBHcmVnb3JpYW5Ub0pEKCR0Z2xbMV0sICR0Z2xbMl0sICR0Z2xbMF0pOy8vbS9kL3kKCSR0Z2wgPSBleHBsb2RlKCctJywkdGdsMik7CgkkamQyID0gR3JlZ29yaWFuVG9KRCgkdGdsWzFdLCAkdGdsWzJdLCAkdGdsWzBdKTsKCglyZXR1cm4gJGpkMS0kamQyOwp9CmZ1bmN0aW9uIGdlbkhpZGRlbigkZGF0KXsKCSRoaWRkZW4gPSAnJzsKCWZvcmVhY2goJGRhdCBhcyAka2V5ID0+ICR2YWx1ZSl7CgkJJGhpZGRlbiAuPSAiPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nJGtleScgaWQ9JyRrZXknIHZhbHVlPSckdmFsdWUnPiI7Cgl9CglyZXR1cm4gJGhpZGRlbjsKfQoKZnVuY3Rpb24gdGJsX3VwZGF0ZSgkVGJsbmFtZSwkRmllbGRzLCAkS29uZGlzaSwgJG1zZz0nJyl7Ly90ZXMKCS8vRmllbGRzIC0+IGhhc2ggYXJyYXkgKGZpZWxkbmFtZT0+ZmllbGR2YWx1ZSkKCSRlcnJtc2c9Jyc7Cgkka2xtID0gYXJyYXkoKTsKCWZvcmVhY2goJEZpZWxkcyBhcyAka2V5ID0+ICR2YWx1ZSl7CgkJJGtsbVtdID0gIiAka2V5ID0gJyR2YWx1ZScgIjsKCX0KCSRrbG1zdHI9am9pbignLCcsJGtsbSk7CglpZigka2xtc3RyICE9JycpewoJCSRhcXJ5ID0gIiB1cGRhdGUgJFRibG5hbWUgc2V0ICRrbG1zdHIgJEtvbmRpc2kgIjsKCQkkU2ltcGFuID0gbXlzcWxfcXVlcnkoJGFxcnkpOwoJCWlmKCRTaW1wYW49PUZBTFNFKSRlcnJtc2cgPSdHYWdhbCBVcGRhdGUgRGF0YSEnOwoJfWVsc2V7CgkJJGVycm1zZyA9ICdUaWRhayBBZGEgRGF0YSEnOwoJfQoJcmV0dXJuICRlcnJtc2c7Ly8kYXFyeTsKfQoKZnVuY3Rpb24gdGJsX2luc2VydCgkVGJsbmFtZSwkRmllbGRzLCAkS29uZGlzaT0nJywgJG1zZz0nJyl7Ly90ZXMKCS8vRmllbGRzIC0+IGhhc2ggYXJyYXkgKGZpZWxkbmFtZT0+ZmllbGR2YWx1ZSkKCSRlcnJtc2c9Jyc7Cgkka2V5cyA9IGFycmF5KCk7CgkkdmFscyA9IGFycmF5KCk7Cglmb3JlYWNoKCRGaWVsZHMgYXMgJGtleSA9PiAkdmFsdWUpewoJCSRrZXlzW109ICRrZXk7CgkJJHZhbHNbXT0gIickdmFsdWUnIjsKCX0KCS8vJGZpZWxkc3RyID0gcHJpbnRfcigkRmllbGRzKTsKCSRrZXlzdHI9am9pbignLCcsJGtleXMpOwoJJHZhbHN0cj1qb2luKCcsJywkdmFscyk7CglpZigka2V5c3RyICE9JycpewoJCSRhcXJ5ID0gIiBpbnNlcnQgaW50byAkVGJsbmFtZSAoIi4ka2V5c3RyLiIpIHZhbHVlcygiLiR2YWxzdHIuIikgJEtvbmRpc2kgIjsKCQkkU2ltcGFuID0gbXlzcWxfcXVlcnkoJGFxcnkpOwoJCWlmKCRTaW1wYW49PUZBTFNFKSRlcnJtc2cgPSdHYWdhbCBJbnNlcnQgRGF0YSEnOy8vLm15c3FsX2Vycm9yKCk7Ly8uJGFxcnkuJGtleXN0ci4kdmFsc3RyOwoJfWVsc2V7CgkJJGVycm1zZyA9ICdUaWRhayBBZGEgRGF0YSEnOwoJfQoJcmV0dXJuICRlcnJtc2c7Ly8uJGFxcnk7Cn0KCmZ1bmN0aW9uIGdldF9hZG1pbl9ha3NlcygkdWlkLCAka29kZWkpewoJZ2xvYmFsICR1c3I7CgoJJGZ2YWx1ZT1hcnJheSgpOwoKCSRhcXJ5ID0gInNlbGVjdCAqIGZyb20gYWRtaW5fYWtzZXMgd2hlcmUgdWlkID0gJyR1aWQnIGFuZCBpPScka29kZWknIjsKCSRxcnkgPSBteXNxbF9xdWVyeSgkYXFyeSk7CglpZigkaXNpID0gbXlzcWxfZmV0Y2hfYXJyYXkoJHFyeSkpewoJCS8vZ2V0IG1vZHVsIGFrc2VzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQlmb3IoJGk9MDskaTwgc2l6ZW9mKCR1c3ItPkRhZnRhck1vZHVsc0xhYmVsKSA7JGkrKyl7CgkJCSRmbmFtZSA9ICdtb2R1bCcuZ2VuTnVtYmVyKCgkaSsxKSwyKTsvLydtb2R1bDAxJzsKCQkJJGZ2YWx1ZVtdID0gJGlzaVskZm5hbWVdOwoJCX0KCX0KCS8vJGZ2YWx1ZVtdPSR1aWQ7CSRmdmFsdWVbXT0kYXFyeTsKCXJldHVybiAkZnZhbHVlOwp9CgpmdW5jdGlvbiBjZWtOb1RhYmxlKCR0YmxuYW1lLCAkZmllbGRObywgJGZpZWxkVGdsLCAkbm9WYWx1ZSwgJHRnbFZhbHVlKXsKCSRjbnQgPSAwOwoJJGFxcnkgPSAic2VsZWN0IGNvdW50KCopIGFzIGNudCBmcm9tICR0YmxuYW1lIHdoZXJlICRmaWVsZE5vPSckbm9WYWx1ZScgYW5kIHllYXIoJGZpZWxkVGdsKT0nJHRnbFZhbHVlJyI7CgkkcXJ5ID0gbXlzcWxfcXVlcnkoJGFxcnkpOwoJaWYoJGlzaSA9IG15c3FsX2ZldGNoX2FycmF5KCRxcnkpKXsKCQkkY250PSAkaXNpWydjbnQnXTsKCX0KCXJldHVybiAkY250PT0wOwp9CgpmdW5jdGlvbiBnZW5Ob1RhYmxlKCR0YmxuYW1lLCAkZmllbGRObywgJGZpZWxkVGdsKXsKCS8vJGFxcnkgPSAic2VsZWN0IChtYXgoY29hbGVzY2UoJGZpZWxkTm8pKSsxKSBhcyBtYXhubyBmcm9tICR0YmxuYW1lIHdoZXJlIHllYXIoZmllbGRUZ2wpICI7CgkkYXFyeSA9ICJzZWxlY3QgbWF4KGNvYWxlc2NlKCRmaWVsZE5vLDApKSBhcyBtYXhubyBmcm9tICR0YmxuYW1lIHdoZXJlIHllYXIoJGZpZWxkVGdsKSAiOwoJJHFyeSA9IG15c3FsX3F1ZXJ5KCRhcXJ5KTsKCWlmKCRpc2kgPSBteXNxbF9mZXRjaF9hcnJheSgkcXJ5KSl7CgkJJG1heG5vPSRpc2lbJ21heG5vJ107CgkJaWYgKCRtYXhubz09JycpIHsKCQkJJG1heG5vPTE7CgkJfWVsc2V7CgkJCSRtYXhubysrOwoJCX0KCQlyZXR1cm4gZ2VuTnVtYmVyKCAkbWF4bm8sNSk7Cgl9Cn0KCmZ1bmN0aW9uIHNldGNvb2tpZV9wZWphYmF0KAoJICRmbW5tX3BlamFiYXQsICRmbWpidF9wZWphYmF0LCAkZm1uaXBfcGVqYWJhdCwKCQkkZm1ubV9wZXR1Z2FzLCAkZm1qYnRfcGV0dWdhcywgJGZtbmlwX3BldHVnYXMpCnsKCglzZXRjb29raWUoJ2Ztbm1fcGVqYWJhdCcsICRmbW5tX3BlamFiYXQpOwoJc2V0Y29va2llKCdmbWpidF9wZWphYmF0JywgJGZtamJ0X3BlamFiYXQpOwoJc2V0Y29va2llKCdmbW5pcF9wZWphYmF0JywgJGZtbmlwX3BlamFiYXQpOwoJc2V0Y29va2llKCdmbW5tX3BldHVnYXMnLCAkZm1ubV9wZXR1Z2FzKTsKCXNldGNvb2tpZSgnZm1qYnRfcGV0dWdhcycsICRmbWpidF9wZXR1Z2FzKTsKCXNldGNvb2tpZSgnZm1uaXBfcGV0dWdhcycsICRmbW5pcF9wZXR1Z2FzKTsKfQpmdW5jdGlvbiBnZXRjb29raWVfcGVqYWJhdCgpewoJZ2xvYmFsICRIVFRQX0NPT0tJRV9WQVJTOwoKCSRmbW5tX3BlamFiYXQgID0gICRfQ09PS0lFWydmbW5tX3BlamFiYXQnXTsKCSRmbWpidF9wZWphYmF0ID0gICRfQ09PS0lFWydmbWpidF9wZWphYmF0J107CgkkZm1uaXBfcGVqYWJhdCA9ICAkX0NPT0tJRVsnZm1uaXBfcGVqYWJhdCddOwoJJGZtbm1fcGV0dWdhcyAgPSAkX0NPT0tJRVsnZm1ubV9wZXR1Z2FzJ10gOwoJJGZtamJ0X3BldHVnYXMgPSAgJF9DT09LSUVbJ2ZtamJ0X3BldHVnYXMnXTsKCSRmbW5pcF9wZXR1Z2FzID0gICRfQ09PS0lFWydmbW5pcF9wZXR1Z2FzJ10gOwoKCXJldHVybiBhcnJheSAoCgkJJ2Ztbm1fcGVqYWJhdCc9PiRmbW5tX3BlamFiYXQsICdmbWpidF9wZWphYmF0Jz0+JGZtamJ0X3BlamFiYXQsICdmbW5pcF9wZWphYmF0Jz0+JGZtbmlwX3BlamFiYXQsCgkJJ2Ztbm1fcGV0dWdhcyc9PiRmbW5tX3BldHVnYXMsICdmbWpidF9wZXR1Z2FzJz0+JGZtamJ0X3BldHVnYXMsICdmbW5pcF9wZXR1Z2FzJz0+JGZtbmlwX3BldHVnYXMpOwp9CgovL2FwcCBvYmogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KY2xhc3MgQXBwQ2xzewoJLy9nbG9iYWwgJE1haW47CgoJcHVibGljICRhcHBUaXRsZSwgJGFwcENvcHlSaWdodDsKCXB1YmxpYyAkSFRNTFN0eWxlLCAkSFRNTFNjcmlwdCwgJEhUTUxIZWFkLCAkSFRNTEZvb3Q7CgoKCS8vY29uc3RydWN0b3IKCWZ1bmN0aW9uIEFwcENscygkYXBwVGl0bGVfPScnLCAkYXBwQ29weVJpZ2h0Xz0nJyl7CgkJJHRoaXMtPmFwcFRpdGxlID0gJGFwcFRpdGxlXzsKCQkkdGhpcy0+YXBwQ29weVJpZ2h0ID0gJGFwcENvcHlSaWdodF87Cgl9CgoKCWZ1bmN0aW9uIGdlbkhUTUxIZWFkKCRPdGhlckNTUz0nJywgJE90aGVyU2NyaXB0PScnLCAkcGF0aGpzPScnKXsKCQlnbG9iYWwgJE1haW4sICRIVFRQX0NPT0tJRV9WQVJTOwoJCS8qcmV0dXJuCgkJIjxoZWFkPiIuCgkJJE1haW4tPkhUTUxfVGl0bGUuCgkJJE1haW4tPkhUTUxfTWV0YS4KCgkJJE1haW4tPkhUTUxfTGluay4KCQkkT3RoZXJDU1MuCgkJLy8kTWFpbi0+SFRNTF9TY3JpcHQuCgkJIjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9JyIuJHBhdGhqcy4ianMvYmFzZS5qcycgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnPjwvc2NyaXB0PgoJCTxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9JyIuJHBhdGhqcy4ianMvanF1ZXJ5LmpzJyBsYW5ndWFnZT0nSmF2YVNjcmlwdCc+PC9zY3JpcHQ+CgkJPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nIi4kcGF0aGpzLiJqcy9hamF4YzIuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0JyA+PC9zY3JpcHQ+CgkJPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nIi4kcGF0aGpzLiJqcy9kaWFsb2cuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0JyA+PC9zY3JpcHQ+CgkJPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nIi4kcGF0aGpzLiJqcy91c3IuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0JyA+PC9zY3JpcHQ+Ii4KCQkkT3RoZXJTY3JpcHQuCgkJIjwvaGVhZD4iOwoJCSovCgkJcmV0dXJuCgkJCSI8aGVhZD4KCTx0aXRsZT4kTWFpbi0+SnVkdWwgeyRIVFRQX0NPT0tJRV9WQVJTWydjb05hbWEnXX08L3RpdGxlPgoJPG1ldGEgbmFtZT0nZm9ybWF0LWRldGVjdGlvbicgY29udGVudD0ndGVsZXBob25lPW5vJz4KCTxtZXRhIG5hbWU9J1JPQk9UUycgY29udGVudD0nTk9JTkRFWCwgTk9GT0xMT1cnPgoJPG1ldGEgaHR0cC1lcXVpdj0nQ29udGVudC1UeXBlJyBjb250ZW50PSd0ZXh0L2h0bWw7IGNoYXJzZXQ9aXNvLTg4NTktMSc+Cgk8bWV0YSBuYW1lPSdHZW5lcmF0b3InIGNvbnRlbnQ9J0pvb21sYSEgQ29udGVudCBNYW5hZ2VtZW50IFN5c3RlbSc+CgoJPGxpbmsgcmVsPSdzaG9ydGN1dCBpY29uJyBocmVmPSdpbWFnZXMvIi4kTWFpbi0+SGVhZFN0eWxlaWNvLiInIC8+CgkkTWFpbi0+SGVhZFN0eWxlaWNvCgk8IS0tCgk8bGluayByZWw9J3N0eWxlc2hlZXQnIGhyZWY9J2Nzcy90ZW1wbGF0ZV9jc3MuY3NzJyB0eXBlPSd0ZXh0L2NzcycgLz4KCTxsaW5rIHJlbD0nc3R5bGVzaGVldCcgaHJlZj0nY3NzL3RoZW1lLmNzcycgdHlwZT0ndGV4dC9jc3MnIC8+Cgk8bGluayByZWw9J3N0eWxlc2hlZXQnIGhyZWY9J2RpYWxvZy9kaWFsb2cuY3NzJyB0eXBlPSd0ZXh0L2NzcycgLz4KCTxsaW5rIHJlbD0nc3R5bGVzaGVldCcgaHJlZj0nbGliL2NoYXR4L2NoYXR4LmNzcycgdHlwZT0ndGV4dC9jc3MnIC8+Cgk8bGluayByZWw9J3N0eWxlc2hlZXQnIGhyZWY9J2Nzcy9tZW51LmNzcycgdHlwZT0ndGV4dC9jc3MnIC8+CgoJPHNjcmlwdCBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgc3JjPSdsaWIvanMvSlNDb29rTWVudV9taW5pLmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgoJPHNjcmlwdCBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgc3JjPSdsaWIvanMvVGhlbWVPZmZpY2UvdGhlbWUuanMnIHR5cGU9J3RleHQvamF2YXNjcmlwdCc+PC9zY3JpcHQ+Cgk8c2NyaXB0IGxhbmd1YWdlPSdKYXZhU2NyaXB0JyBzcmM9J2xpYi9qcy9qb29tbGEuamF2YXNjcmlwdC5qcycgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48L3NjcmlwdD4KCTxzY3JpcHQgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnIHNyYz0nanMvYWpheGMyLmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgoJPHNjcmlwdCBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgc3JjPSdkaWFsb2cvZGlhbG9nLmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgoJPHNjcmlwdCBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgc3JjPSdqcy9iYXNlLmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgoJPHNjcmlwdCBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgc3JjPSdsaWIvY2hhdHgvY2hhdHguanMnIHR5cGU9J3RleHQvamF2YXNjcmlwdCc+PC9zY3JpcHQ+CgktLT4KCgoJPGxpbmsgcmVsPSdzdHlsZXNoZWV0JyBocmVmPSdjc3MvbWVudS5jc3MnIHR5cGU9J3RleHQvY3NzJz4KCTxsaW5rIHJlbD0nc3R5bGVzaGVldCcgaHJlZj0nY3NzL3RlbXBsYXRlX2Nzcy5jc3MnIHR5cGU9J3RleHQvY3NzJz4KCTxsaW5rIHJlbD0nc3R5bGVzaGVldCcgaHJlZj0nY3NzL3RoZW1lLmNzcycgdHlwZT0ndGV4dC9jc3MnPgoJPGxpbmsgcmVsPSdzdHlsZXNoZWV0JyBocmVmPSdkaWFsb2cvZGlhbG9nLmNzcycgdHlwZT0ndGV4dC9jc3MnPgoJPGxpbmsgcmVsPSdzdHlsZXNoZWV0JyBocmVmPSdsaWIvY2hhdHgvY2hhdHguY3NzJyB0eXBlPSd0ZXh0L2Nzcyc+CgoJPGxpbmsgcmVsPSdzdHlsZXNoZWV0JyBocmVmPSdjc3MvYmFzZS5jc3MnIHR5cGU9J3RleHQvY3NzJz4KCTwhLS08bGluayByZWw9J3N0eWxlc2hlZXQnIGhyZWY9J2Nzcy9zaXNsb2cuY3NzJyB0eXBlPSd0ZXh0L2NzcycgLz4tLT4KCTwhLS08bGluayByZWw9J3N0eWxlc2hlZXQnIHR5cGU9J3RleHQvY3NzJyBtZWRpYT0nYWxsJyBocmVmPSdqcy9qc2NhbGVuZGFyLTEuMC9jYWxlbmRhci13aW4yay1jb2xkLTEuY3NzJyB0aXRsZT0nd2luMmstY29sZC0xJyAvPi0tPgoJJE90aGVyQ1NTCgoKCTxzY3JpcHQgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnIHNyYz0nbGliL2pzL0pTQ29va01lbnVfbWluaS5qcycgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48L3NjcmlwdD4KCTxzY3JpcHQgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnIHNyYz0nbGliL2pzL1RoZW1lT2ZmaWNlL3RoZW1lLmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgoJPHNjcmlwdCBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgc3JjPSdsaWIvanMvam9vbWxhLmphdmFzY3JpcHQuanMnIHR5cGU9J3RleHQvamF2YXNjcmlwdCc+PC9zY3JpcHQ+Cgk8c2NyaXB0IHNyYz0nanMvanF1ZXJ5LmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgoJPHNjcmlwdCBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgc3JjPSdqcy9hamF4YzIuanMnIHR5cGU9J3RleHQvamF2YXNjcmlwdCc+PC9zY3JpcHQ+Cgk8c2NyaXB0IGxhbmd1YWdlPSdKYXZhU2NyaXB0JyBzcmM9J2RpYWxvZy9kaWFsb2cuanMnIHR5cGU9J3RleHQvamF2YXNjcmlwdCc+PC9zY3JpcHQ+Cgk8c2NyaXB0IGxhbmd1YWdlPSdKYXZhU2NyaXB0JyBzcmM9J2pzL2dsb2JhbC5qcycgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48L3NjcmlwdD4KCTxzY3JpcHQgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnIHNyYz0nanMvYmFzZS5qcycgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48L3NjcmlwdD4KCTxzY3JpcHQgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnIHNyYz0nanMvZW5jb2Rlci5qcycgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48L3NjcmlwdD4KCTxzY3JpcHQgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnIHNyYz0nbGliL2NoYXR4L2NoYXR4LmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9J2pzL2RhZnRhcm9iai5qcycgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSdqcy9wYWdlb2JqLmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgoJPCEtLTxzY3JpcHQgc3JjPSdqcy9waW5kYWh0YW5nYW4uanMnIHR5cGU9J3RleHQvamF2YXNjcmlwdCc+PC9zY3JpcHQ+LS0+CgkkT3RoZXJTY3JpcHQKCgoKCgkgIDwhLS0gY2FsZW5kYXIgc3R5bGVzaGVldCAtLT4KCSAgPGxpbmsgcmVsPSdzdHlsZXNoZWV0JyB0eXBlPSd0ZXh0L2NzcycgbWVkaWE9J2FsbCcgaHJlZj0nanMvanNjYWxlbmRhci0xLjAvY2FsZW5kYXItd2luMmstY29sZC0xLmNzcycgdGl0bGU9J3dpbjJrLWNvbGQtMSc+CgoJICA8IS0tIG1haW4gY2FsZW5kYXIgcHJvZ3JhbSAtLT4KCSAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nanMvanNjYWxlbmRhci0xLjAvY2FsZW5kYXIuanMnPjwvc2NyaXB0PgoKCSAgPCEtLSBsYW5ndWFnZSBmb3IgdGhlIGNhbGVuZGFyIC0tPgoJICA8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPSdqcy9qc2NhbGVuZGFyLTEuMC9sYW5nL2NhbGVuZGFyLWlkLmpzJz48L3NjcmlwdD4KCgkgIDwhLS0gdGhlIGZvbGxvd2luZyBzY3JpcHQgZGVmaW5lcyB0aGUgQ2FsZW5kYXIuc2V0dXAgaGVscGVyIGZ1bmN0aW9uLCB3aGljaCBtYWtlcwoJCSAgIGFkZGluZyBhIGNhbGVuZGFyIGEgbWF0dGVyIG9mIDEgb3IgMiBsaW5lcyBvZiBjb2RlLiAtLT4KCSAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nanMvanNjYWxlbmRhci0xLjAvY2FsZW5kYXItc2V0dXAuanMnPjwvc2NyaXB0PgoKCSAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPgoKCgkgIDwvc2NyaXB0PgoKCgoKCTwvaGVhZD4iOwoKCgl9CglmdW5jdGlvbiBnZW5QYWdlRm9vdCgkV2l0aE1hcnF1ZWUgPSBUUlVFKXsKCQlnbG9iYWwgJFBBVEhfSU1HOwoJCSRjb3B5cmlnaHQgPSAiQ29weXJpZ2h0ICZjb3B5OyAyMDExLiBEaW5hcyBQZW5kYXBhdGFuIFBlbWVyaW50YWggS290YSBDaW1haGkuIEpsLiBSZC4gRGVtYW5nIEhhcmRqYWt1c3VtYWggLSBLb3RhIENpbWFoaS4gQWxsIHJpZ2h0IHJlc2VydmVkLiI7CgkJJG1hcnEgPSAkV2l0aE1hcnF1ZWU\/ICI8bWFycXVlZSBzY3JvbGxhbW91bnQ9JzMnID4KCQkJCQkJJGNvcHlyaWdodAoJCQkJCTwvbWFycXVlZT4iOiAkY29weXJpZ2h0OwoJCSRhbGlnbiA9ICRXaXRoTWFycXVlZT8gJycgOiAiYWxpZ249J2NlbnRlciciOwoJCXJldHVybgoJCQkiPHRhYmxlIHdpZHRoPScxMDAlJyBjZWxsc3BhY2luZz0nMCcgY2VsbHBhZGRpbmc9JzAnIGJvcmRlcj0nMCc+PHRyPjx0ZCBjbGFzcz0ndGV4dF90aXRsZScgaGVpZ2h0PScyOScgYWxpZ249J2NlbnRlcicgYmFja2dyb3VuZD0nIi4kUEFUSF9JTUcuImltYWdlcy9pbmRleF8wMy5qcGcnIGNsYXNzPSd0ZXh0X3RpdGxlJz4KCQkJJG1hcnE8L3RkPjwvdHI+PC90YWJsZT4iOwoJfQoKCWZ1bmN0aW9uIGdlbkFwcExvZ28oJGNhcHRpb24gPSAnU0lTVEVNIElORk9STUFTSSBNQU5BSkVNRU4gPEJSPlJVTUFIIFNBS0lUIEpJV0EnLCAkTE9HT0FQUD0nJyl7CgkJZ2xvYmFsICRQQVRIX0lNRzsKCQkvKnJldHVybgoJCSI8dGFibGUgd2lkdGg9Jzk3MCcgY2VsbHNwYWNpbmc9JzAnIGNlbGxwYWRkaW5nPScwJyBib3JkZXI9JzAnPgogICAgICAgICAgPHRib2R5Pjx0cj4KICAgICAgICAgICAgPHRkIHdpZHRoPSczMSc+Jm5ic3A7PC90ZD4KICAgICAgICAgICAgPHRkIHdpZHRoPScxNzknPjxpbWcgd2lkdGg9JzE3OScgaGVpZ2h0PSc4Mycgc3JjPSdpbWFnZXMvc2ltcGFkYS5naWYnPjwvdGQ+CiAgICAgICAgICAgIDx0ZCB3aWR0aD0nMjUnPiZuYnNwOzwvdGQ+CiAgICAgICAgICAgIDx0ZCB3aWR0aD0nNDU1Jz48aW1nIHdpZHRoPSc0NTUnIGhlaWdodD0nODMnIHNyYz0naW1hZ2VzL3NpYXRlbS1pbmZvcm1hc2ktbWFuYWplbWVuLXBhamFrLWRhZXJhaC5qcGcnPjwvdGQ+CiAgICAgICAgICAgIDx0ZCB3aWR0aD0nMjQ4Jz48aW1nIHdpZHRoPScyNDgnIGhlaWdodD0nODMnIHNyYz0naW1hZ2VzL2RpbmFzLXBlbmRhcGF0YW4uZ2lmJz48L3RkPgogICAgICAgICAgICA8dGQgd2lkdGg9JzMyJz4mbmJzcDs8L3RkPgogICAgICAgICAgPC90cj4KICAgICAgICA8L3Rib2R5PjwvdGFibGU+IjsqLwoKCQlyZXR1cm4iCgkJPHRhYmxlIHdpZHRoPSc5NzAnIGJvcmRlcj0nMCcgY2VsbHBhZGRpbmc9JzAnIGNlbGxzcGFjaW5nPScwJz4KICAgICAgICAgIDx0cj4KICAgICAgICAgICAgPHRkIHdpZHRoPSczMSc+Jm5ic3A7PC90ZD4KICAgICAgICAgICAgPHRkIHdpZHRoPScxNzknPjxpbWcgc3JjPSciLiRQQVRIX0lNRy4iaW1hZ2VzL3NpbXBhZGEuZ2lmJyB3aWR0aD0nMTc5JyBoZWlnaHQ9JzgzJz48L3RkPgogICAgICAgICAgICA8dGQgd2lkdGg9JzI1Jz4mbmJzcDs8L3RkPgogICAgICAgICAgICA8dGQgd2lkdGg9JzQ1NSc+PGltZyBzcmM9JyIuJFBBVEhfSU1HLiJpbWFnZXMvc2lhdGVtLWluZm9ybWFzaS1tYW5hamVtZW4tcGFqYWstZGFlcmFoLmpwZycgd2lkdGg9JzQ1NScgaGVpZ2h0PSc4Myc+PC90ZD4KICAgICAgICAgICAgPHRkIHdpZHRoPScyNDgnPjxpbWcgc3JjPSciLiRQQVRIX0lNRy4iaW1hZ2VzL2RpbmFzLXBlbmRhcGF0YW4uZ2lmJyB3aWR0aD0nMjQ4JyBoZWlnaHQ9JzgzJz48L3RkPgogICAgICAgICAgICA8dGQgd2lkdGg9JzMyJz4mbmJzcDs8L3RkPgogICAgICAgICAgPC90cj4KICAgICAgICA8L3RhYmxlPiI7Cgl9Cgp9CiRBUFBfVElUTEUgPSAnLjpTSU1QQURBIC0gUGF5bWVudCBQb2ludDouJzsKJGFwcCA9IG5ldyBBcHBDbHMoICRBUFBfVElUTEUsICRBUFBfQ09QWVJJR0hUKTsKCgovLyBmb3JtIG9iaiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpjbGFzcyBGb3JtT2JqewoJdmFyICRmb3JtX3dpZHRoID0gJzYwMCc7Cgl2YXIgJGZvcm1faGVpZ2h0ID0gJzQzOSc7Cgl2YXIgJGZvcm1fY2FwdGlvbiA9ICJVc2VyIjsKCXZhciAkZm9ybV9tZW51X2Jhd2FoX2hlaWdodCA9IDIyOwoJdmFyICRmb3JtX2ZpZWxkcyA9CgkJCWFycmF5KAoJCQkJJ2ZpZWxkMScgPT4gYXJyYXkoICdsYWJlbCc9PidsYWJlbDEnLCAndmFsdWUnPT4ndmFsdWUxJywgJ3R5cGUnPT4ndGV4dCcgKSwKCQkJCSdmaWVsZDInID0+IGFycmF5KCAnbGFiZWwnPT4nbGFiZWwxJywgJ3ZhbHVlJz0+J3ZhbHVlMicsICd0eXBlJz0+J3RleHQnICkKCQkJKTsKCXZhciAkZm9ybV9mbVNUIDsKCXZhciAkZm9ybV9pZHBsaCA7Cgl2YXIgJGZvcm1fbWVudWJhd2FoIDsKCXZhciAkcm93X3BhcmFtczsKCWZ1bmN0aW9uIHNldEZvcm1fY29udGVudF9maWVsZHMoJGtvbG9tMV93aWR0aD0gMTAwKXsKCQkkY29udGVudCA9ICcnOwoKCQlmb3JlYWNoICgkdGhpcy0+Zm9ybV9maWVsZHMgYXMgJGtleT0+JGZpZWxkKXsKCQkJaWYgKCRmaWVsZFsndHlwZSddID09ICcnKXsKCQkJCSR2YWwgPSAkZmllbGRbJ3ZhbHVlJ107CgkJCX1lbHNlewoJCQkJJHZhbCA9IEVudHJ5KCRmaWVsZFsndmFsdWUnXSwka2V5LCcnLCRmaWVsZFsndHlwZSddKTsKCQkJfQoKCQkJJGNvbnRlbnQgLj0KCQkJCSI8dHIgJHRoaXMtPnJvd19wYXJhbXM+CgkJCQkJPHRkIHN0eWxlPSd3aWR0aDoka29sb20xX3dpZHRoJz4iLiRmaWVsZFsnbGFiZWwnXS4iPC90ZD4KCQkJCQk8dGQgc3R5bGU9J3dpZHRoOjEwJz46PC90ZD4KCQkJCQk8dGQ+Ii4gJHZhbC4iPC90ZD4KCQkJCTwvdHI+IjsKCQl9CgkJLy8kY29udGVudCA9CgkJLy8JIjx0cj48dGQgc3R5bGU9J3dpZHRoOjEwMCc+ZmllbGQ8L3RkPjx0ZCBzdHlsZT0nd2lkdGg6MTAnPjo8L3RkPjx0ZD52YWx1ZTwvdGQ+PC90cj4iOwoJCXJldHVybiAkY29udGVudDsKCX0KCWZ1bmN0aW9uIHNldEZvcm1fY29udGVudCgpewoJCSRjb250ZW50ID0gJyc7CgkJJGNvbnRlbnQgPSAkdGhpcy0+c2V0Rm9ybV9jb250ZW50X2ZpZWxkcygpOwoKCQkkY29udGVudCA9CgkJCSI8dGFibGUgc3R5bGU9J3dpZHRoOjEwMCUnIHN0eWxlPScnPjx0cj48dGQgc3R5bGU9J3BhZGRpbmc6NCc+CgkJCQk8dGFibGUgc3R5bGU9J3dpZHRoOjEwMCUnID4KCQkJCSRjb250ZW50CgkJCQk8L3RhYmxlPgoJCQk8L3RkPjwvdHI+PC90YWJsZT4iOwoJCXJldHVybiAkY29udGVudDsKCX0KfQoKLy8gZGFmdGFyIG9iaiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpjbGFzcyBEYWZ0YXJPYmp7Cgl2YXIgJFByZWZpeCA9ICdQZW5ldGFwYW4nOwoJdmFyICRTSE9XX0NFSyA9IEZBTFNFOwoJdmFyICRlbEN1cnJQYWdlPSJIYWxEZWZhdWx0IjsKCXZhciAkVGJsTmFtZSA9ICd2M19wZW5ldGFwYW4nOyAvL2RhZnRhcgoJdmFyICRUYmxOYW1lX0hhcHVzID0gJyc7Cgl2YXIgJE1heEZsdXNoID0gMTA7Cgl2YXIgJFRibFN0eWxlID0gYXJyYXkoICdrb3B0YWJsZScsICdjZXRhaycsJ2NldGFrJyk7IC8vYmVyZGFzYXIgbW9kZQoJdmFyICRDb2xTdHlsZSA9IGFycmF5KCAnR2FyaXNEYWZ0YXInLCAnR2FyaXNDZXRhaycsJ0dhcmlzQ2V0YWsnKTsKCXZhciAkS2V5RmllbGRzID0gYXJyYXkoJ0lkJyk7IC8vZGFmdGFyL2hhcHVzCgl2YXIgJEZpZWxkU3VtID0gYXJyYXkoJ2ptbF9rZXRldGFwYW4nKTsKCXZhciAkU3VtVmFsdWUgPSBhcnJheSgpOwoJdmFyICRGaWVsZFN1bV9DcDEgPSBhcnJheSggMTAsIDksOSk7Ly9iZXJkYXNhciBtb2RlCgl2YXIgJEZpZWxkU3VtX0NwMiA9IGFycmF5KCAwLCAwLDApOwoJdmFyICRjaGVja2JveF9yb3dzcGFuID0gMTsKCS8vdmFyICRLZXlGaWVsZHNfSGFwdXMgPSBhcnJheSgnSWQnKTsKCS8vY2V0YWsgLS0tLS0tLS0tCgl2YXIgJGNldGFrX3hscz1GQUxTRSA7Cgl2YXIgJENldGFrX0p1ZHVsOwoJLy92YXIgJENldGFrX0hlYWRlcjsKCXZhciAkQ2V0YWtfTW9kZT0yOwoJdmFyICRDZXRha19XSURUSCA9ICcyMGNtJzsKCXZhciAkQ2V0YWtfT3RoZXJIVE1MSGVhZDsvLz0iPGxpbmsgdHlwZT0ndGV4dC9jc3MnIGhyZWY9J2Nzcy90ZW1wbGF0ZV9jc3MuY3NzJyByZWw9J3N0eWxlc2hlZXQnPiI7CgkvL3BhZ2UKCXZhciAkVG9vbGJhckF0YXNfZWRpdCA7CgkvL2Zvcm0KCS8vdmFyICRmb3JtX25hbWUgPSAnVXNyX2Zvcm0nOwoJdmFyICRmb3JtX3dpZHRoID0gJzYwMCc7Cgl2YXIgJGZvcm1faGVpZ2h0ID0gJzQzOSc7Cgl2YXIgJGZvcm1fY2FwdGlvbiA9ICJVc2VyIjsKCXZhciAkZm9ybV9tZW51X2Jhd2FoX2hlaWdodCA9IDIyOwoJdmFyICRmb3JtX2ZpZWxkcyA9CgkJCWFycmF5KAoJCQkJJ2ZpZWxkMScgPT4gYXJyYXkoICdsYWJlbCc9PidsYWJlbDEnLCAndmFsdWUnPT4ndmFsdWUxJywgJ3R5cGUnPT4ndGV4dCcsICdwYXJhbSc9PicnICksCgkJCQknZmllbGQyJyA9PiBhcnJheSggJ2xhYmVsJz0+J2xhYmVsMScsICd2YWx1ZSc9Pid2YWx1ZTInLCAndHlwZSc9Pid0ZXh0JyApCgkJCSk7Cgl2YXIgJGZvcm1fZm1TVCA7Cgl2YXIgJGZvcm1faWRwbGggOwoJdmFyICRmb3JtX21lbnViYXdhaCA7Cgl2YXIgJHBlbWlzYWhJRCA9ICcgJzsgLy9wZW1pc2FoIHV0ayBtdWx0aSBpZCBkaSBjaGVja2JveAoJCQkvKi8vZXgKCQkJIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdTaW1wYW4nIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5TaW1wYW4oKScgPgoJCQkiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0JhdGFsJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuQ2xvc2UoKScgPgoJCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0naWRwbGgnIHZhbHVlPScnID4KCQkJPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9J2ZtU1QnIHZhbHVlPScwJyA+IjsJKi8KCi8vaW5pc2lhbCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCWZ1bmN0aW9uIERhZnRhck9iaigpewoKCgkJJHRoaXMtPmZvcm1fbWVudWJhd2FoID0KCQkJLy8iPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1NpbXBhbicgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLlNpbXBhbigpJyA+CgkJCSI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nQmF0YWwnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5DbG9zZSgpJyA+IjsKCQkJLy88aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0naWRwbGgnIHZhbHVlPScnID4KCQkJLy88aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nZm1TVCcgdmFsdWU9JzAnID4iOwoKCQkkdGhpcy0+VG9vbGJhckF0YXNfZWRpdCA9CgkJCSI8dGQ+Ii5nZW5QYW5lbEljb24oImphdmFzY3JpcHQ6Ii4kdGhpcy0+UHJlZml4LiIuQmFydSgpIiwibmV3X2YyLnBuZyIsIkJhcnUiLCcnKS4iPC90ZD4iLgoJCQkiPHRkPiIuZ2VuUGFuZWxJY29uKCJqYXZhc2NyaXB0OiIuJHRoaXMtPlByZWZpeC4iLkVkaXQoKSIsImVkaXRfZjIucG5nIiwiVWJhaCIsICcnKS4iPC90ZD4iLgoJCQkiPHRkPiIuZ2VuUGFuZWxJY29uKCJqYXZhc2NyaXB0OiIuJHRoaXMtPlByZWZpeC4iLkhhcHVzKCkiLCJkZWxldGVfZjIucG5nIiwiSGFwdXMiLCAnJykuIjwvdGQ+IjsKCgkJLyokdGhpcy0+Q2V0YWtfSnVkdWwgPQoJCQkiPHRhYmxlIHdpZHRoPScxMDAlJyBib3JkZXI9XCIwXCI+CgkJCQk8dHI+CgkJCQkJPHRkIGFsaWduPSdyaWdodCcgY29sc3Bhbj0nNCc+CgkJCQkJCTxzcGFuIGNsYXNzPSd0aXRsZTInPgoJCQkJCQkJTEFQT1JBTiBEQUZUQVIgUEVOREFUQUFOCgkJCQkJCTwvc3Bhbj4KCQkJCQk8L3RkPgoJCQkJPC90cj4KCQkJCTx0cj4KCQkJCQk8dGQgYWxpZ249J3JpZ2h0JyBjb2xzcGFuPSc0Jz4KCQkJCQkJPHNwYW4gY2xhc3M9J3RpdGxlMSc+CgkJCQkJCQk0LjEuMS4wNC4wMCAtIFBBSkFLIFJFS0xBTUUKCQkJCQkJPC9zcGFuPgoJCQkJCTwvdGQ+CgkJCQkJPHRkIGNvbHNwYW49JzQnPjxzcGFuIGNsYXNzPSd0aXRsZTEnPjwvc3Bhbj48L3RkPgoJCQkJPC90cj4KCQkJCTx0cj4KCQkJCQk8dGQ+PHNwYW4gY2xhc3M9J3RpdGxlMSc+PC9zcGFuPjwvdGQ+CgkJCQkJPHRkIGNvbHNwYW49JzQnPjxzcGFuIGNsYXNzPSd0aXRsZTEnPjwvc3Bhbj48L3RkPgoJCQkJPC90cj4KCQkJPC90YWJsZT4iOyovCgoJCS8qJHRoaXMtPkNldGFrSGVhZGVyPQoJCQkkaGVhZGVyID0KCQkJIjx0YWJsZSBzdHlsZT0nd2lkdGg6MTAwJScgYm9yZGVyPVwiMFwiPgoJCQkJCTx0cj48dGQgY2xhc3M9XCJqdWR1bGNldGFrXCIgYWxpZ249J2NlbnRlcic+JEpVRFVMPC90ZD4JPC90cj4KCQkJCTwvdGFibGU+CgkJCQk8YnI+IjsqLwoKCgoJfQoKLy9QUk9TRVMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoJZnVuY3Rpb24gSGFwdXNfVmFsaWRhc2koJGlkKXsvL2lkIC0+IG11bHRpIGlkIHdpdGggc3BhY2UgZGVsaW1pdGVyCgkJJGVycm1zZyA9Jyc7CgkJLyppZigkZXJybXNnPT0nJyAmJgoJCQkJbXlzcWxfbnVtX3Jvd3MobXlzcWxfcXVlcnkoCgkJCQkJInNlbGVjdCBJZCBmcm9tIHRhZ2loYW4gd2hlcmUgcmVmX2lkcGVuZXRhcGFuPSciLiRpZC4iJyIpCgkJCQkpID4wICkKCQkJeyAkZXJybXNnID0gJ0dhZ2FsIEhhcHVzISBTS1BEIFN1ZGFoIGFkYSBkaSBUYWdpaGFuISc7fSovCgkJcmV0dXJuICRlcnJtc2c7Cgl9CglmdW5jdGlvbiBIYXB1c19EYXRhKCRpZCl7Ly9pZCAtPiBtdWx0aSBpZCB3aXRoIHNwYWNlIGRlbGltaXRlcgoJCSRLZXlWYWx1ZSA9IGV4cGxvZGUoJHRoaXMtPnBlbWlzYWhJRCwkaWQpOwoJCSRhcnJLb25kaXNpID0gYXJyYXkoKTsKCQlmb3IoJGk9MDskaTxzaXplb2YoJHRoaXMtPktleUZpZWxkcyk7JGkrKyl7CgkJCSRhcnJLb25kaXNpW10gPSAkdGhpcy0+S2V5RmllbGRzWyRpXS4iPSciLiRLZXlWYWx1ZVskaV0uIiciOwoJCX0KCQkkS29uZGlzaSA9IGpvaW4oJyBhbmQgJywkYXJyS29uZGlzaSk7CgkJaWYgKCRLb25kaXNpICE9JycpJEtvbmRpc2kgPSAnIFdoZXJlICcuJEtvbmRpc2k7CgkJLy8kS29uZGlzaSA9IAkiSWQ9JyIuJGlkLiInIjsKCgkJJGFxcnk9ICJkZWxldGUgZnJvbSAiLiR0aGlzLT5UYmxOYW1lX0hhcHVzLicgJy4kS29uZGlzaTsKCQkkcXJ5ID0gbXlzcWxfcXVlcnkoJGFxcnkpOwoJCWlmICgkcXJ5PT1GQUxTRSl7CgkJCSRlcnJtc2cgPSAnR2FnYWwgSGFwdXMgRGF0YScuICRhcXJ5OwoJCX0KCgkJcmV0dXJuICRlcnJtc2c7Cgl9CglmdW5jdGlvbiBIYXB1c19EYXRhX0FmdGVyKCRpZCl7Ly9pZCAtPiBtdWx0aSBpZCB3aXRoIHNwYWNlIGRlbGltaXRlcgoJCSRlcnJtc2cgPSAnJzsgJGNvbnRlbnQ9Jyc7ICRjZWs9Jyc7CgkJLy9rb25kaXNpIGtleSAtLS0tLS0tLS0tLS0tLS0tLQoJCSRLZXlWYWx1ZSA9IGV4cGxvZGUoJHRoaXMtPnBlbWlzYWhJRCwkaWQpOwoJCSRhcnJLb25kaXNpID0gYXJyYXkoKTsKCQlmb3IoJGk9MDskaTxzaXplb2YoJHRoaXMtPktleUZpZWxkcyk7JGkrKyl7CgkJCSRhcnJLb25kaXNpW10gPSAkdGhpcy0+S2V5RmllbGRzWyRpXS4iPSciLiRLZXlWYWx1ZVskaV0uIiciOwoJCX0KCQkkS29uZGlzaSA9IGpvaW4oJyBhbmQgJywkYXJyS29uZGlzaSk7CgkJaWYgKCRLb25kaXNpICE9JycpJEtvbmRpc2kgPSAnIFdoZXJlICcuJEtvbmRpc2k7CgoJCS8vYWN0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgoJCXJldHVybiAkZXJybXNnOwoJCS8vcmV0dXJuIGFycmF5KCdlcnInPT4kZXJybXNnLCAnY29udGVudCc9PiRjb250ZW50LCAnY2VrJz0+JGNlayk7Cgl9CglmdW5jdGlvbiBIYXB1cygkaWRzKXsvL2FycmF5IG9mIGlkCgkJLy8kY2lkPSAkUE9TVFsnY2lkJ107CgkJJGVycm1zZyA9ICcnLiRpZHM7CgkJZm9yKCRpID0gMDsgJGk8Y291bnQoJGlkcyk7ICRpKyspCXsKCQkJJGVycm1zZyA9ICR0aGlzLT5IYXB1c19WYWxpZGFzaSgkaWRzWyRpXSk7CgoJCQlpZigkZXJybXNnID09JycpewoJCQkJJGVycm1zZyA9ICR0aGlzLT5IYXB1c19EYXRhKCRpZHNbJGldKTsKCQkJCWlmICgkZXJybXNnPT0nJykgJGVycm1zZyA9ICR0aGlzLT5IYXB1c19EYXRhX0FmdGVyKCRpZHNbJGldKTsKCQkJCWlmICgkZXJybXNnICE9ICcnKSBicmVhazsKCgkJCX1lbHNlewoJCQkJYnJlYWs7CgkJCX0KCQl9CgkJcmV0dXJuICRlcnJtc2c7Cgl9CglmdW5jdGlvbiBTaW1wYW5WYWxpZGFzaSgkZm1TVCl7CgkJJGVyciA9ICcnOwoJCXN3aXRjaCAoJGZtU1QpewoJCQljYXNlIDAgOiB7IC8vYmFydQoJCQkJYnJlYWs7CgkJCX0KCQkJY2FzZSAxOiB7Ly9lZGl0CgkJCQlicmVhazsKCQkJfQoJCX0KCQlyZXR1cm4gJGVycjsKCX0KCWZ1bmN0aW9uIHNpbXBhbigkZm1TVCwgJHRibHNpbXBhbj0nJywgJGZpZWxkS2V5U3RyID0gJycsICRmaWVsZEtleVZhbFN0cj0nJywgJGZpZWxkcyA9ICcnLCAkZmllbGRzdmFsID0gJycgKXsKCQkkU2ltcGFuID0gRkFMU0U7ICRlcnJtc2cgPScnOyRjb250ZW50PScnOyAkY2VrID0gJyc7CgkJc3dpdGNoICgkZm1TVCl7CgkJCWNhc2UgMCA6IHsgLy9iYXJ1CgkJCQkkZXJybXNnID0gJHRoaXMtPlNpbXBhblZhbGlkYXNpKCRmbVNUKTsKCQkJCWlmKCRlcnJtc2cgPT0gJycpewoJCQkJCS8vY2xlYW4gZmllbGRzIGluc2VydCAtLS0tLS0tLS0tLS0tLS0tLS0tCgkJCQkJJGFycmZpZWxkc3ZhbCA9IGV4cGxvZGUoJywnLCRmaWVsZHN2YWwpOwoJCQkJCWZvcigkaT0wOyRpPHNpemVvZigkYXJyZmllbGRzdmFsKTskaSsrKSAkYXJyZmllbGR1cGRbXSA9ICInIi4kYXJyZmllbGRzdmFsWyRpXS4iJyI7CgkJCQkJJGZpZWxkdXBkID0gam9pbignLCcsJGFycmZpZWxkdXBkKTsKCQkJCQkvL2luc2VydCB0YWJlbCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQkJCSRhcXJ5ID0gImluc2VydCBpbnRvICR0YmxzaW1wYW4gKCRmaWVsZHMpIHZhbHVlcyAoJGZpZWxkdXBkKSAiOyAkY2VrIC49ICRhcXJ5OwoJCQkJCSRTaW1wYW4gPSBteXNxbF9xdWVyeSgkYXFyeSk7CgkJCQkJaWYgKCRTaW1wYW4gPT0gRkFMU0UpICRlcnJtc2cgPSAnR2FnYWwgVXBkYXRlIERhdGEgISc7Ly8uJGFxcnk7CgkJCQl9CgkJCQlicmVhazsKCQkJfQoJCQljYXNlIDE6IHsgLy9lZGl0CgkJCQkvL3ZhbGlkYXNpIGVkaXQoKQoJCQkJJGVycm1zZyA9ICR0aGlzLT5TaW1wYW5WYWxpZGFzaSgkZm1TVCk7CgkJCQlpZigkZXJybXNnID09ICcnKXsKCQkJCQkvL2NyZWF0ZSBrb25kaXNpIGtleSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJCQkJJGZpZCA9IGFycmF5KCk7CgkJCQkJaWYgKCRmaWVsZEtleVN0ciA9PSAnJyApewoJCQkJCQkkZmlkW10gPSAnSWQnOyAvL2RlZmF1bHQKCQkJCQkJJHZhbElkW10gPSAkZmllbGRLZXlWYWxTdHI7CgkJCQkJfWVsc2V7CgkJCQkJCSRmaWQgPSBleHBsb2RlKCcsJywkZmllbGRLZXlTdHIpOwoJCQkJCQkkdmFsSWQgPSBleHBsb2RlKCcsJywkZmllbGRLZXlWYWxTdHIpOwoJCQkJCX0KCQkJCQkka29uZGlzaSA9ICcnOwoJCQkJCWZvcigkaT0wOyRpPHNpemVvZigkZmlkKTskaSsrKSAka29uZGlzaSAuPSAkZmlkWyRpXS4iID0gJyIuJHZhbElkWyRpXS4iJyI7CgkJCQkJaWYgKCRrb25kaXNpICE9ICcnKSAka29uZGlzaSA9ICIgd2hlcmUgJGtvbmRpc2kiOwoJCQkJCS8vZ2VuZXJhdGUgZmllbGRzIHVwZGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tCgkJCQkJJGFycmZpZWxkdXBkID0gYXJyYXkoKTsKCQkJCQkkYXJyZmllbGRzID0gZXhwbG9kZSgnLCcsJGZpZWxkcyk7CgkJCQkJJGFycmZpZWxkc3ZhbCA9IGV4cGxvZGUoJywnLCRmaWVsZHN2YWwpOwoJCQkJCWZvcigkaT0wOyRpPHNpemVvZigkYXJyZmllbGRzKTskaSsrKSAkYXJyZmllbGR1cGRbXSA9ICRhcnJmaWVsZHNbJGldLiIgPSAnIi4kYXJyZmllbGRzdmFsWyRpXS4iJyI7CgkJCQkJJGZpZWxkdXBkID0gam9pbignLCcsJGFycmZpZWxkdXBkKTsKCQkJCQlpZiAoJGZpZWxkdXBkICE9ICcnKSAkZmllbGR1cGQgPSAiIHNldCAkZmllbGR1cGQiOwoJCQkJCS8vdXBkYXRlIHRhYmVsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJCQkJJGFxcnkgPSAidXBkYXRlICR0YmxzaW1wYW4gJGZpZWxkdXBkICRrb25kaXNpIjsgJGNlayAuPSAkYXFyeTsKCQkJCQkkU2ltcGFuID0gbXlzcWxfcXVlcnkoJGFxcnkpOwoJCQkJCWlmICgkU2ltcGFuID09IEZBTFNFKSAkZXJybXNnID0gJ0dhZ2FsIFVwZGF0ZSBEYXRhICEnOy8vLiRhcXJ5OwoJCQkJfQoJCQkJYnJlYWs7CgkJCX0KCgkJfQoJCXJldHVybiBhcnJheSgnZXJyJz0+JGVycm1zZywgJ2NvbnRlbnQnPT4kY29udGVudCwgJ2Nlayc9PiRjZWspOwoJfQoKLy9GT1JNID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoJZnVuY3Rpb24gc2V0Rm9ybV9jb250ZW50X2ZpZWxkcygpewoJCSRjb250ZW50ID0gJyc7CgoJCWZvcmVhY2ggKCR0aGlzLT5mb3JtX2ZpZWxkcyBhcyAka2V5PT4kZmllbGQpewoJCQlpZiAoJGZpZWxkWyd0eXBlJ10gPT0gJycpewoJCQkJJHZhbCA9ICRmaWVsZFsndmFsdWUnXTsKCQkJfWVsc2V7CgkJCQkkdmFsID0gRW50cnkoJGZpZWxkWyd2YWx1ZSddLCRrZXksJGZpZWxkWydwYXJhbSddLCRmaWVsZFsndHlwZSddKTsKCQkJfQoKCQkJaWYoJGZpZWxkWyd0dGtEdWEnXT09JycpeyAkdHRrRHVhPSc6JyA7fWVsc2UgeyAkdHRrRHVhPSRmaWVsZFsndHRrRHVhJ107IH0KCQkJaWYoJGZpZWxkWyd2YWxpZ24nXSA9PScnKXsJJHZhbGlnbiA9ICd0b3AnO31lbHNlewkkdmFsaWduID0gJGZpZWxkWyd2YWxpZ24nXTsJfQoKCQkJJGNvbnRlbnQgLj0KCQkJCSI8dHIgdmFsaWduPSckdmFsaWduJz4KCQkJCQk8dGQgc3R5bGU9J3dpZHRoOiIuJGZpZWxkWydsYWJlbFdpZHRoJ10uIic+Ii4kZmllbGRbJ2xhYmVsJ10uIjwvdGQ+CgkJCQkJPHRkIHN0eWxlPSd3aWR0aDoxMCc+JHR0a0R1YTwvdGQ+CgkJCQkJPHRkPiIuICR2YWwuIjwvdGQ+CgkJCQk8L3RyPiI7CgkJfQoJCS8vJGNvbnRlbnQgPQoJCS8vCSI8dHI+PHRkIHN0eWxlPSd3aWR0aDoxMDAnPmZpZWxkPC90ZD48dGQgc3R5bGU9J3dpZHRoOjEwJz46PC90ZD48dGQ+dmFsdWU8L3RkPjwvdHI+IjsKCQlyZXR1cm4gJGNvbnRlbnQ7Cgl9CglmdW5jdGlvbiBzZXRGb3JtX2NvbnRlbnQoKXsKCQkkY29udGVudCA9ICcnOwoJCSRjb250ZW50ID0gJHRoaXMtPnNldEZvcm1fY29udGVudF9maWVsZHMoKTsKCgkJJGNvbnRlbnQgPQoJCQkiPHRhYmxlIHN0eWxlPSd3aWR0aDoxMDAlJyBzdHlsZT0nJz48dHI+PHRkIHN0eWxlPSdwYWRkaW5nOjQnPgoJCQkJPHRhYmxlIHN0eWxlPSd3aWR0aDoxMDAlJyA+CgkJCQkkY29udGVudAoJCQkJPC90YWJsZT4KCQkJPC90ZD48L3RyPjwvdGFibGU+IjsKCQlyZXR1cm4gJGNvbnRlbnQ7Cgl9CgkvKmZ1bmN0aW9uIHNldEZvcm1fbWVudWJhd2FoX2NvbnRlbnQoKXsKCQlyZXR1cm4KCQkJLy8iPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1NpbXBhbicgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLlNpbXBhbigpJyA+CgkJCSI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nQmF0YWwnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5DbG9zZSgpJyA+CgkJCTxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSdpZHBsaCcgdmFsdWU9JycgPgoJCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nZm1TVCcgdmFsdWU9JzAnID4iOwoJfSovCglmdW5jdGlvbiBnZW5Gb3JtX21lbnViYXdhaF9hZGQoJGNvbnRlbnQsICRpbnNlcnQ9RkFMU0UpewoJCWlmKCRpbnNlcnQpewoJCQkkdGhpcy0+Zm9ybV9tZW51YmF3YWggPSAkY29udGVudC4kdGhpcy0+Zm9ybV9tZW51YmF3YWg7CgkJfWVsc2V7CgkJCSR0aGlzLT5mb3JtX21lbnViYXdhaCAuPSAkY29udGVudDsKCQl9Cgl9CglmdW5jdGlvbiBnZW5Gb3JtKCl7CgkJJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtJzsKCQkkZm9ybSA9CgkJCWNlbnRlclBhZ2UoCgkJCQkiPGZvcm0gbmFtZT0nJGZvcm1fbmFtZScgaWQ9JyRmb3JtX25hbWUnIG1ldGhvZD0ncG9zdCcgYWN0aW9uPScnID4iLgoJCQkJY3JlYXRlRGlhbG9nKAoJCQkJCSRmb3JtX25hbWUuJ19kaXYnLAoJCQkJCSR0aGlzLT5zZXRGb3JtX2NvbnRlbnQoKSwKCQkJCQkkdGhpcy0+Zm9ybV93aWR0aCwKCQkJCQkkdGhpcy0+Zm9ybV9oZWlnaHQsCgkJCQkJJHRoaXMtPmZvcm1fY2FwdGlvbiwKCQkJCQknJywKCQkJCQkkdGhpcy0+Zm9ybV9tZW51YmF3YWguCgkJCQkJIjxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSciLiR0aGlzLT5QcmVmaXguIl9pZHBsaCcgbmFtZT0nIi4kdGhpcy0+UHJlZml4LiJfaWRwbGgnIHZhbHVlPSckdGhpcy0+Zm9ybV9pZHBsaCcgPgoJCQkJCTxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSciLiR0aGlzLT5QcmVmaXguIl9mbVNUJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9mbVNUJyB2YWx1ZT0nJHRoaXMtPmZvcm1fZm1TVCcgPiIKCQkJCQksLy8kdGhpcy0+c2V0Rm9ybV9tZW51YmF3YWhfY29udGVudCgpLAoJCQkJCSR0aGlzLT5mb3JtX21lbnVfYmF3YWhfaGVpZ2h0KS4KCQkJCSI8L2Zvcm0+IgoJCQkpOwoJCXJldHVybiAkZm9ybTsKCX0KLy9EQUZUQVIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoJZnVuY3Rpb24gZ2V0RGFmdGFyX2xpbWl0KCRNb2RlPTEpewoJCWdsb2JhbCAkTWFpbjsKCQkkTGltaXQ9Jyc7ICROb0F3YWwgPSAwOwoJCS8vbGltaXQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkkSGFsRGVmYXVsdD1jZWtQT1NUKCR0aGlzLT5lbEN1cnJQYWdlLDEpOy8vY2VrUE9TVCgnSGFsRGVmYXVsdCcsMSk7CgkJJExpbWl0ID0gIiBsaW1pdCAiLigoJEhhbERlZmF1bHQJKjEpIC0gMSkgKiAkTWFpbi0+UGFnZVBlckhhbC4iLCIuJE1haW4tPlBhZ2VQZXJIYWw7IC8vJExpbWl0SGFsID0gJyc7CgkJJExpbWl0ID0gJE1vZGUgPT0gMyA\/ICcnOiAkTGltaXQ7CgkJLy9ub2F3YWwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJJE5vQXdhbD0gJE1haW4tPlBhZ2VQZXJIYWwgKiAoKCRIYWxEZWZhdWx0KjEpIC0gMSk7CgkJJE5vQXdhbCA9ICRNb2RlID09IDMgPyAwOiAkTm9Bd2FsOwoKCQlyZXR1cm4gYXJyYXkoJ0xpbWl0Jz0+JExpbWl0LCAnTm9Bd2FsJyA9PiAkTm9Bd2FsKTsKCX0KCWZ1bmN0aW9uIGdldERhZnRhck9wc2koJE1vZGU9MSl7CgkJZ2xvYmFsICRNYWluOwoJCSRLb25kaXNpPScnOyAkT3JkZXIgPSAnJzsgJExpbWl0PScnOyAkTm9Bd2FsID0gMDsgJGNlayA9Jyc7CgkJJGFycktvbmRpc2k9IGFycmF5KCk7CgoJCS8vS29uZGlzaQoJCSRmbUtPREVJID0gJF9QT1NUWydmbU9wJ107CgkJaWYgKCFlbXB0eSgkZm1LT0RFSSkpICRhcnJLb25kaXNpW10gPSAiIGk9ICciLiRmbUtPREVJLiInIjsKCQkkZm1TdGF0dXNIaXQgPSAkX1BPU1RbJ2ZtU3RhdHVzSGl0J107CgkJc3dpdGNoKCRmbVN0YXR1c0hpdCl7CgkJCWNhc2UgJzEnOiAkYXJyS29uZGlzaVtdID0gICIgcmVmX2lkaGl0dW5nICE9JycgIjsgYnJlYWs7CgkJCWNhc2UgJzInOiAkYXJyS29uZGlzaVtdID0gICIgKHJlZl9pZGhpdHVuZyA9Jycgb3IgIHJlZl9pZGhpdHVuZyBpcyBudWxsKSI7IGJyZWFrOwoJCX0KCQkkZm1QSUxDQVJJID0gY2VrUE9TVCgnZm1QSUxDQVJJJyk7CgkJJGZtUElMQ0FSSVZBTFVFID0gY2VrUE9TVCgnZm1QSUxDQVJJVkFMVUUnKTsKCQlzd2l0Y2goJGZtUElMQ0FSSSl7CgkJCWNhc2UgJzEnOiAkYXJyS29uZGlzaVtdID0gIiBub19zcHRwZCBsaWtlICclJGZtUElMQ0FSSVZBTFVFJSciOyBicmVhazsKCQkJY2FzZSAnMic6ICRhcnJLb25kaXNpW10gPSAiIG5hbWFfd3AgbGlrZSAnJSRmbVBJTENBUklWQUxVRSUnIjsgYnJlYWs7CgkJCWNhc2UgJzMnOiAkYXJyS29uZGlzaVtdID0gIiBucHdwZCBsaWtlICclJGZtUElMQ0FSSVZBTFVFJSciOyBicmVhazsKCQkJY2FzZSAnNCc6ICRhcnJLb25kaXNpW10gPSAiIG5hbWFfb3AgbGlrZSAnJSRmbVBJTENBUklWQUxVRSUnIjsgYnJlYWs7CgkJCWNhc2UgJzUnOiAkYXJyS29uZGlzaVtdID0gIiBub19vcCBsaWtlICclJGZtUElMQ0FSSVZBTFVFJSciOyBicmVhazsKCQkJY2FzZSAnNic6ICRhcnJLb25kaXNpW10gPSAiIGxwYWQocmVmX2lkaGl0dW5nLDUsJzAnKSBsaWtlICclJGZtUElMQ0FSSVZBTFVFJSciOyBicmVhazsKCQl9CgkJc3dpdGNoKCRmbVNUQVRVUyl7CgkJCWNhc2UgJzEnOiAkYXJyS29uZGlzaVtdID0gIiBzdGF0dXNfYmF0YWwgPD4gMyAiOyBicmVhazsKCQkJY2FzZSAnMic6ICRhcnJLb25kaXNpW10gPSAiIHN0YXR1c19iYXRhbCA9IDMgIjsgYnJlYWs7CgkJfQoKCgoJCS8vb3JkZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCSRmbURFU0MxID0gJF9QT1NUWydmbURFU0MxJ107CgkJJEFzY0RzYzEgPSAkZm1ERVNDMSA9PSAxPyAnZGVzYycgOiAnJzsKCQkkZm1PUkRFUjEgPSAkX1BPU1RbJ2ZtT1JERVIxJ107CgkJJE9yZGVyQXJyPSBhcnJheSgpOwoJCXN3aXRjaCgkZm1PUkRFUjEpewoJCQljYXNlICcxJzogJE9yZGVyQXJyW10gPSAgIiBub19zcHRwZCAkQXNjRHNjMSAiOyBicmVhazsKCQkJY2FzZSAnMic6ICRPcmRlckFycltdID0gICIgbmFtYV93cCAkQXNjRHNjMSAiOyBicmVhazsKCQkJY2FzZSAnMyc6ICRPcmRlckFycltdID0gICIgbnB3cGQgJEFzY0RzYzEgIjsgYnJlYWs7CgkJCWNhc2UgJzQnOiAkT3JkZXJBcnJbXSA9ICAiIG5hbWFfb3AgJEFzY0RzYzEgIjsgYnJlYWs7CgkJCWNhc2UgJzUnOiAkT3JkZXJBcnJbXSA9ICAiIG5vX29wICRBc2NEc2MxICI7IGJyZWFrOwoJCQljYXNlICc2JzogJE9yZGVyQXJyW10gPSAgIiB0Z2xfc3B0cGQgJEFzY0RzYzEgIjsgYnJlYWs7CgkJCWNhc2UgJzcnOiAkT3JkZXJBcnJbXSA9ICAiIHJlZl9pZGhpdHVuZyAkQXNjRHNjMSAiOyBicmVhazsKCQl9CgoJCS8qCgkJLy9saW1pdCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCSRIYWxEZWZhdWx0PWNla1BPU1QoJHRoaXMtPmVsQ3VyclBhZ2UsMSk7Ly9jZWtQT1NUKCdIYWxEZWZhdWx0JywxKTsKCQkkTGltaXQgPSAiIGxpbWl0ICIuKCgkSGFsRGVmYXVsdAkqMSkgLSAxKSAqICRNYWluLT5QYWdlUGVySGFsLiIsIi4kTWFpbi0+UGFnZVBlckhhbDsgLy8kTGltaXRIYWwgPSAnJzsKCQkkTGltaXQgPSAkTW9kZSA9PSAzID8gJyc6ICRMaW1pdDsKCQkvL25vYXdhbCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkkTm9Bd2FsPSAkTWFpbi0+UGFnZVBlckhhbCAqICgoJEhhbERlZmF1bHQqMSkgLSAxKTsKCQkkTm9Bd2FsID0gJE1vZGUgPT0gMyA\/IDA6ICROb0F3YWw7CgkJKi8KCQkkbG10ID0gJHRoaXMtPmdldERhZnRhcl9saW1pdCgkTW9kZSk7CgkJJExpbWl0ID0gJGxtdFsnTGltaXQnXTsKCQkkTm9Bd2FsID0gJGxtdFsnTm9Bd2FsJ107CgoJCSRLb25kaXNpID0gam9pbignIGFuZCAnLCRhcnJLb25kaXNpKTsKCQlpZigkS29uZGlzaSAhPScnKSAkS29uZGlzaSA9ICcgV2hlcmUgJy4kS29uZGlzaTsKCQkkT3JkZXIgPSBqb2luKCcsICcsJE9yZGVyQXJyKTsKCQlpZigkT3JkZXIgIT0nJykgJE9yZGVyID0gJyBPcmRlciBieSAnLiRPcmRlcjsKCQlyZXR1cm4gYXJyYXkoJ0tvbmRpc2knPT4kS29uZGlzaSwgJ09yZGVyJz0+JE9yZGVyLCAnTGltaXQnPT4kTGltaXQsJ05vQXdhbCc9PiROb0F3YWwsJ2Nlayc9PiRjZWspOwoKCX0KCWZ1bmN0aW9uIGdlbkRhZnRhck9wc2koKXsKCQlnbG9iYWwgJE1haW47CgkJJGFyckNhcmkgPSBhcnJheSgKCQkJYXJyYXkoJzEnLCdOby4gU1BUUEQnKSwKCQkJYXJyYXkoJzInLCdOYW1hIFdhamliIFBhamFrJyksCgkJCWFycmF5KCczJywnTlBXUEQnKSwKCQkJYXJyYXkoJzQnLCdOYW1hIE9ieWVrIFBhamFrJyksCgkJCWFycmF5KCc1JywnTk9QRCcpLAoJCQlhcnJheSgnNicsJ05vLiBOb3RhIEhpdHVuZycpCgkJKTsKCQkkYXJyT3JkZXIgPSBhcnJheSgKCQkJYXJyYXkoJzEnLCdOby4gU1BUUEQnKSwKCQkJYXJyYXkoJzInLCdOYW1hIFdhamliIFBhamFrJyksCgkJCWFycmF5KCczJywnTlBXUEQnKSwKCQkJYXJyYXkoJzQnLCdOYW1hIE9ieWVrIFBhamFrJyksCgkJCWFycmF5KCc1JywnTk9QRCcpLAoJCQlhcnJheSgnNicsJ1RnbC4gU1BUUEQnKSwKCQkJYXJyYXkoJzcnLCdOby4gTm90YSBIaXR1bmcnKQoJCSk7CgkJJFRhbXBpbE9wdCA9CgkJCWdlbkZpbHRlckJhcigKCQkJCWFycmF5KAoJCQkJCWNtYkFycmF5KCdmbVBJTENBUkknLCRmbVBJTENBUkksJGFyckNhcmksJ0NhcmkgRGF0YScsJycpLgoJCQkJCSImbmJzcDs8aW5wdXQgdHlwZT0ndGV4dCcgdmFsdWU9JyRmbVBJTENBUklWQUxVRScgaWQ9J2ZtUElMQ0FSSVZBTFVFJyBuYW1lPSdmbVBJTENBUklWQUxVRSc+IgoJCQkJKQoJCQkJLCAkdGhpcy0+UHJlZml4LiIucmVmcmVzaExpc3QodHJ1ZSkiLFRSVUUsICdDYXJpJykuCgkJCWdlbkZpbHRlckJhcigKCQkJCWFycmF5KAoJCQkJCS8vJ1RhbXBpbGthbiA6ICcuCgkJCQkJLy8nTm90YSBIaXR1bmcgJm5ic3A7Jm5ic3A7Jy5nZW5Db21ib0JveDIoJ2ZtU3RhdHVzSGl0JywkZm1TdGF0dXNIaXQsJE1haW4tPkFyQWRhLCcnLCdQaWxpaCBTZW11YScsICcnKSwKCQkJCQknVXJ1dGthbiA6ICcuCgkJCQkJY21iQXJyYXkoJ2ZtT1JERVIxJywkZm1PUkRFUjEsJGFyck9yZGVyLCctLScsJycpLgoJCQkJCSI8aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSdmbURFU0MxJyBuYW1lPSdmbURFU0MxJyB2YWx1ZT0nMSc+TWVudXJ1biIKCQkJCSkKCQkJCSwgJHRoaXMtPlByZWZpeC4iLnJlZnJlc2hMaXN0KHRydWUpIik7CgoJCXJldHVybiBhcnJheSgnVGFtcGlsT3B0Jz0+JFRhbXBpbE9wdCk7CgoKCX0KCWZ1bmN0aW9uIHNldEtvbG9tSGVhZGVyKCRNb2RlPTEsICRDaGVja2JveD0nJyl7CgkJJGhlYWRlclRhYmxlID0KCQkJIjx0aGVhZD4KCQkJCTx0cj4KCQkJCQkkQ2hlY2tib3gKCQkJCQk8dGggY2xhc3M9J3RoMDEnIHdpZHRoPSczMCcgcm93c3Bhbj0yPk5vLjwvdGg+CgkJCQkJPHRoIGNsYXNzPSd0aDAxJyB3aWR0aD0nJyByb3dzcGFuPTI+Tm8uIFNLUEQvPGJyPk5vLiBTUFRQRC88YnI+Tm8uIEhpdHVuZzwvdGg+CgkJCQkJPHRoIGNsYXNzPSd0aDAxJyB3aWR0aD0nJyByb3dzcGFuPTI+VGdsLiBUZXJiaXQ8L3RoPgoJCQkJCTx0aCBjbGFzcz0ndGgwMicgd2lkdGg9JycgY29sc3Bhbj0yPk9iamVrIFBhamFrPC90aD4KCQkJCQk8dGggY2xhc3M9J3RoMDInIHdpZHRoPScnIGNvbHNwYW49Mj5XYWppYiBQYWphazwvdGg+CgkJCQkJPHRoIGNsYXNzPSd0aDAxJyByb3dzcGFuPTI+SmVuaXMgUGFqYWs8L3RoPgoJCQkJCTx0aCBjbGFzcz0ndGgwMScgcm93c3Bhbj0yPk1hc2EgUGFqYWs8L3RoPgoJCQkJCTx0aCBjbGFzcz0ndGgwMScgcm93c3Bhbj0yPkp1bWxhaCBLZXRldGFwYW48L3RoPgoKCQkJCTwvdHI+CgkJCQk8dHI+CgoJCQkJPHRoIGNsYXNzPSd0aDAxJyB3aWR0aD0nMTAwJz5OT1BEL05hbWEgT1A8L3RoPgoJCQkJPHRoIGNsYXNzPSd0aDAxJyB3aWR0aD0nJz5BbGFtYXQgT1A8L3RoPgoJCQkJPHRoIGNsYXNzPSd0aDAxJyB3aWR0aD0nMTAwJz5OUFdQRC9OYW1hIFdQPC90aD4KCQkJCTx0aCBjbGFzcz0ndGgwMScgd2lkdGg9Jyc+QWxhbWF0IFdQPC90aD4KCgoKCQkJCTwvdHI+CgkJCTwvdGhlYWQ+IjsKCQlyZXR1cm4gJGhlYWRlclRhYmxlOwoJfQoJZnVuY3Rpb24gZ2VuRGFmdGFySGVhZGVyKCRNb2RlPTEpewoJCS8vbW9kZSA6MS47aXN0LCAyLmNldGFrIGhhbCwgMy4gY2V0YWsgc2VtdWEKCQlnbG9iYWwgJE1haW47CgkJJHJvd3NwYW5fY2J4ID0gJHRoaXMtPmNoZWNrYm94X3Jvd3NwYW4gPjEgPyAicm93c3Bhbj0nJHRoaXMtPmNoZWNrYm94X3Jvd3NwYW4nIjonJzsKCQkkQ2hlY2tib3ggPSAkTW9kZT09MT8KCQkJIjx0aCBjbGFzcz0ndGgwMScgd2lkdGg9JzEwJyAkcm93c3Bhbl9jYng+CgkJCQkJPGlucHV0IHR5cGU9J2NoZWNrYm94JyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl90b2dnbGUnIGlkPSciLiR0aGlzLT5QcmVmaXguIl90b2dnbGUnIHZhbHVlPScnCgkJCQkJCW9uQ2xpY2s9XCJjaGVja0FsbDMoJE1haW4tPlBhZ2VQZXJIYWwsJyIuJHRoaXMtPlByZWZpeC4iX2NiJywnIi4kdGhpcy0+UHJlZml4LiJfdG9nZ2xlJywnIi4kdGhpcy0+UHJlZml4LiJfam1sY2VrJyk7XCIgLz4KCQkJPC90aD4iIDogJyc7CgkJJGhlYWRlclRhYmxlID0gJHRoaXMtPnNldEtvbG9tSGVhZGVyKCRNb2RlLCAkQ2hlY2tib3gpOwoJCXJldHVybiAkaGVhZGVyVGFibGU7Cgl9CglmdW5jdGlvbiBzZXRLb2xvbURhdGEoJG5vLCAkaXNpLCAkTW9kZSwgJFRhbXBpbENoZWNrQm94KXsKCQkkS29sb21zID0gYXJyYXkoKTsKCgkJJEtvbG9tc1tdID0gYXJyYXkoJ2FsaWduPXJpZ2h0JywgJG5vLicuJyApOwoJCWlmICgkTW9kZSA9PSAxKSAkS29sb21zW10gPSBhcnJheSgiYWxpZ249J2NlbnRlcicgICIsICRUYW1waWxDaGVja0JveCk7CgkJcmV0dXJuICRLb2xvbXM7Cgl9CglmdW5jdGlvbiBzZXREYWZ0YXJfcXVlcnkoJEtvbmRpc2k9JycsICRPcmRlcj0nJywgJExpbWl0PScnKXsKCQkkYXFyeSA9ICJzZWxlY3QgKiBmcm9tICR0aGlzLT5UYmxOYW1lICRLb25kaXNpICRPcmRlciAkTGltaXQgIjsJLy9lY2hvICRhcXJ5OwoJCS8vcmV0dXJuIG15c3FsX3F1ZXJ5KCRhcXJ5KTsKCQlyZXR1cm4gJGFxcnk7Cgl9CglmdW5jdGlvbiBzZXREYWZ0YXJfYWZ0ZXJfZ2V0cm93KCRsaXN0X3JvdywgJGlzaSl7CgkJcmV0dXJuICRsaXN0X3JvdzsKCX0KCWZ1bmN0aW9uIHNldERhZnRhcl9iZWZvcmVfZ2V0cm93KCRubywgJGlzaSwgJE1vZGUsICRUYW1waWxDaGVja0JveCwKCQkJJFJvd0F0ciwgJEtvbG9tQ2xhc3NTdHlsZSkKCXsKCQkkTGlzdERhdGEgPScnOwoJCS8qJEtvbG9tcyA9ICR0aGlzLT5zZXRLb2xvbURhdGEoJG5vLCRpc2ksJE1vZGUsICRUYW1waWxDaGVja0JveCk7CgkJJGxpc3Rfcm93ID0gZ2VuVGFibGVSb3coJEtvbG9tcywKCQkJCQkJJFJvd0F0ci4iIHZhbGlnbj0ndG9wJyBpZD0nJGNiJyB2YWx1ZT0nIi4kaXNpWydJZCddLiInIiwkQ29sU3R5bGUpOwoJCSRMaXN0RGF0YSA9ICR0aGlzLT5zZXREYWZ0YXJfYWZ0ZXJfZ2V0cm93KCRsaXN0X3JvdywgJGlzaSk7Ki8KCQlyZXR1cm4gYXJyYXkgKCdMaXN0RGF0YSc9PiRMaXN0RGF0YSwgJ25vJz0+JG5vKTsKCX0KCWZ1bmN0aW9uIGdlbkRhZnRhcigkS29uZGlzaT0nJywgJE9yZGVyPScnLCAkTGltaXQ9JycsICRub0F3YWwgPSAwLCAkTW9kZT0xKXsKCQkvLyRNb2RlIC0+IDEuIGRhZnRhciwgMi4gY2V0YWsgaGFsLCAzLmNldGFrIGFsbAoJCS8qcmVxdWlyZSAkdGhpcy0+IDoKCQkJTWF4Rmx1c2gsIFRibFN0eWxlLCAgQ29sU3R5bGUsIEtleUZpZWxkcywgUHJlZml4LCBGaWVsZFN1bSwgU3VtVmFsdWUsCgkJCWdlbkRhZnRhckhlYWRlcigpLCBzZXREYWZ0YXJfcXVlcnkoKSwgc2V0RGFmdGFyX2JlZm9yZV9nZXRyb3coKSwKCQkJc2V0S29sb21EYXRhKCksIHNldERhZnRhcl9hZnRlcl9nZXRyb3coKSwgZ2VuU3VtSGFsKCksIGdlblJvd1N1bSgpLAoJCSovCgkJJGNlayA9ICcnOwoKCQkkTWF4Rmx1c2g9JHRoaXMtPk1heEZsdXNoOwoJCSRoZWFkZXJUYWJsZSA9ICR0aGlzLT5nZW5EYWZ0YXJIZWFkZXIoJE1vZGUpOwoJCSRUYmxTdHlsZSA9CSR0aGlzLT5UYmxTdHlsZVskTW9kZS0xXTsvLyRNb2RlID09MSA\/ICdrb3B0YWJsZSc6ICdjZXRhayc7CgkJJExpc3REYXRhID0KCQkJIjx0YWJsZSBjbGFzcz0kVGJsU3R5bGUgYm9yZGVyPScxJyAgIHN0eWxlPSdtYXJnaW46NCAwIDAgMDt3aWR0aDoxMDAlJz4iLgoJCQkkaGVhZGVyVGFibGUuCgkJCSI8dGJvZHk+IjsKCgkJJENvbFN0eWxlID0gJHRoaXMtPkNvbFN0eWxlWyRNb2RlLTFdOy8vJE1vZGU9PTE\/ICdHYXJpc0RhZnRhcic6J0dhcmlDZXRhayc7CgkJJG5vPSRub0F3YWw7ICRjYj0wOyAkam1sRGF0YVBhZ2UgPTA7CgkJJFRvdGFsSGFsUnAgPSAwOwoKCQkvLyRhcXJ5ID0gInNlbGVjdCAqIGZyb20gJHRoaXMtPlRibE5hbWUgJEtvbmRpc2kgJE9yZGVyICRMaW1pdCAiOwkvL2VjaG8gJGFxcnk7CgkJLy8kcXJ5ID0gbXlzcWxfcXVlcnkoJGFxcnkpOwoJCSRhcXJ5ID0gJHRoaXMtPnNldERhZnRhcl9xdWVyeSgkS29uZGlzaSwgJE9yZGVyLCAkTGltaXQpOyAkY2VrIC49ICRhcXJ5OwoJCSRxcnkgPSBteXNxbF9xdWVyeSgkYXFyeSk7CgkJd2hpbGUgKCAkaXNpPW15c3FsX2ZldGNoX2FycmF5KCRxcnkpKXsKCQkJJGlzaSA9IGFycmF5X21hcCgndXRmOF9lbmNvZGUnLCAkaXNpKTsKCQkJJG5vKys7CgkJCSRqbWxEYXRhUGFnZSsrOwoJCQlpZigkTW9kZSA9PSAxKSAkUm93QXRyID0gJG5vICUgMiA9PSAxPyAiY2xhc3M9J3JvdzAnIiA6ICJjbGFzcz0ncm93MSciOwoKCQkJJEtleVZhbHVlID0gYXJyYXkoKTsKCQkJZm9yICgkaT0wOyAkaTwgc2l6ZW9mKCR0aGlzLT5LZXlGaWVsZHMpIDsgJGkrKykgewoJCQkJJEtleVZhbHVlWyRpXSA9ICRpc2lbJHRoaXMtPktleUZpZWxkc1skaV1dOwoJCQl9CgkJCSRLZXlWYWx1ZVN0ciA9IGpvaW4oJHRoaXMtPnBlbWlzYWhJRCwkS2V5VmFsdWUpOwoJCQkkVGFtcGlsQ2hlY2tCb3ggPSAvLyRDZXRhaz8gJycgOgoJCQkJIjxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX2NiJGNiJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9jYltdJwoJCQkJCXZhbHVlPSciLiRLZXlWYWx1ZVN0ci4iJyBvbkNsaWNrPVwiaXNDaGVja2VkMih0aGlzLmNoZWNrZWQsJyIuJHRoaXMtPlByZWZpeC4iX2ptbGNlaycpO1wiIC8+IjsKCgoJCQkvL3N1bSBoYWxhbWFuCgkJCWZvciAoJGk9MDsgJGk8IHNpemVvZigkdGhpcy0+RmllbGRTdW0pIDsgJGkrKykgewoJCQkJJHRoaXMtPlN1bVZhbHVlWyRpXSArPSAkaXNpWyR0aGlzLT5GaWVsZFN1bVskaV1dOwoJCQl9CgoJCQkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQkkcm93YXRyXyA9ICRSb3dBdHIuIiB2YWxpZ249J3RvcCcgaWQ9JyRjYicgdmFsdWU9JyIuJGlzaVsnSWQnXS4iJyI7CgkJCSRiZWY9ICR0aGlzLT5zZXREYWZ0YXJfYmVmb3JlX2dldHJvdygKCQkJCQkkbm8sJGlzaSwkTW9kZSwgJFRhbXBpbENoZWNrQm94LAoJCQkJCSRyb3dhdHJfLAoJCQkJCSRDb2xTdHlsZQoJCQkJCSk7CgkJCSRMaXN0RGF0YSAuPSAkYmVmWydMaXN0RGF0YSddOwoJCQkkbm8gPSAkYmVmWydubyddOwoJCQkvL2dldCByb3cKCQkJJEtvbG9tcyA9ICR0aGlzLT5zZXRLb2xvbURhdGEoJG5vLCRpc2ksJE1vZGUsICRUYW1waWxDaGVja0JveCk7CgkJCSRsaXN0X3JvdyA9IGdlblRhYmxlUm93KAoJCQkJJEtvbG9tcywKCQkJCSRyb3dhdHJfLAoJCQkJJENvbFN0eWxlCgkJCSk7CgoJCQkkTGlzdERhdGEgLj0gJHRoaXMtPnNldERhZnRhcl9hZnRlcl9nZXRyb3coJGxpc3Rfcm93LCAkaXNpKTsKCQkJJGNiKys7CgoJCQlpZiggKCRNb2RlID09IDMgKSAmJiAoJGNiICUgJE1heEZsdXNoPT0wKSAmJiAkY2IgPjAgKXsKCQkJCWVjaG8gJExpc3REYXRhOwoJCQkJb2JfZmx1c2goKTsKCQkJCWZsdXNoKCk7CgkJCQkkTGlzdERhdGE9Jyc7CgkJCQkvL3NsZWVwKDIpOyAvL3RlcwoJCQl9CgkJfQoKCQkvL3RvdGFsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJaWYgKCRNb2RlPT0zKSB7CS8vZmx1c2gKCQkJZWNobyAkTGlzdERhdGE7CgkJCW9iX2ZsdXNoKCk7CgkJCWZsdXNoKCk7CgkJCSRMaXN0RGF0YT0nJzsKCQkJJFN1bUhhbCA9ICR0aGlzLT5nZW5TdW1IYWwoJEtvbmRpc2kpOwoJCX0KCgkJJENvbnRlbnRTdW0gPSAkdGhpcy0+Z2VuUm93U3VtKCRDb2xTdHlsZSwgJE1vZGUsICRTdW1IYWxbJ3N1bSddKTsKCQkvKiRUYW1waWxUb3RhbEhhbFJwID0gbnVtYmVyX2Zvcm1hdCgkVG90YWxIYWxScCwyLCAnLCcsICcuJyk7CgkJJFRvdGFsQ29sU3BhbiA9ICR0aGlzLT5GaWVsZFN1bV9DcDFbJE1vZGUtMV07Ly8kTW9kZSA9PTEgPyA1IDogNDsKCQkkQ29udGVudFRvdGFsSGFsID0KCQkJIjx0cj4KCQkJCTx0ZCBjbGFzcz0nJENvbFN0eWxlJyBjb2xzcGFuPSckVG90YWxDb2xTcGFuJyBhbGlnbj0nY2VudGVyJz48Yj5Ub3RhbCBwZXIgSGFsYW1hbjwvdGQ+CgkJCQk8dGQgY2xhc3M9JyRDb2xTdHlsZScgYWxpZ249J3JpZ2h0Jz48Yj4kVGFtcGlsVG90YWxIYWxScDwvdGQ+CgkJCQk8dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nNCc+PC90ZD4KCQkJPC90cj4iIDsKCgkJJENvbnRlbnRUb3RhbCA9CgkJCQkiPHRyPgoJCQkJCTx0ZCBjbGFzcz0nJENvbFN0eWxlJyBjb2xzcGFuPSckVG90YWxDb2xTcGFuJyBhbGlnbj0nY2VudGVyJz48Yj5Ub3RhbDwvdGQ+CgkJCQkJPHRkIGNsYXNzPSckQ29sU3R5bGUnIGFsaWduPSdyaWdodCc+PGI+PGRpdiAgaWQ9J2NudERhZnRhclRvdGFsJz4iLiRTdW1IYWxbJ3N1bSddLiI8L2Rpdj48L3RkPgoJCQkJCTx0ZCBjbGFzcz0nJENvbFN0eWxlJyBjb2xzcGFuPSc0Jz48L3RkPgoJCQkJPC90cj4iIDsKCgkJaWYoJE1vZGUgPT0gMil7CgkJCSRDb250ZW50VG90YWwgPSAnJzsKCQl9ZWxzZSBpZigkTW9kZSA9PSAzKXsKCQkJJENvbnRlbnRUb3RhbEhhbD0nJzsKCQl9CgkJJENvbnRlbnRTdW09JENvbnRlbnRUb3RhbEhhbC4kQ29udGVudFRvdGFsOwoJCSovCgoJCSRMaXN0RGF0YSAuPQoJCQkJLy8kQ29udGVudFRvdGFsSGFsLiRDb250ZW50VG90YWwuCgkJCQkkQ29udGVudFN1bS4KCQkJCSI8L3Rib2R5PiIuCgkJCSI8L3RhYmxlPgoJCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nIi4kdGhpcy0+UHJlZml4LiJfam1sZGF0YXBhZ2UnIG5hbWU9JyIuJHRoaXMtPlByZWZpeC4iX2ptbGRhdGFwYWdlJyB2YWx1ZT0nJGptbERhdGFQYWdlJz4KCQkJPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX2ptbGNlaycgbmFtZT0nIi4kdGhpcy0+UHJlZml4LiJfam1sY2VrJyB2YWx1ZT0nJz4iOwoKCQkvL3JldHVybiAkTGlzdERhdGE7CgkJcmV0dXJuIGFycmF5KCdsaXN0Jz0+JExpc3REYXRhLCAnY2VrJz0+JGNlayk7Cgl9CgoJZnVuY3Rpb24gZ2VuUm93U3VtKCRDb2xTdHlsZSwgJE1vZGUsICRUb3RhbCl7CgkJLy9oYWwKCQkkQ29udGVudFRvdGFsSGFsPScnOyAkQ29udGVudFRvdGFsPScnOwoJCWlmIChzaXplb2YoJHRoaXMtPkZpZWxkU3VtKT4wKXsKCQkJJFRhbXBpbFRvdGFsSGFsUnAgPSBudW1iZXJfZm9ybWF0KCR0aGlzLT5TdW1WYWx1ZVswXSwyLCAnLCcsICcuJyk7CgkJCSRUb3RhbENvbFNwYW4xID0gJHRoaXMtPkZpZWxkU3VtX0NwMVskTW9kZS0xXTsvLyRNb2RlID09MSA\/IDUgOiA0OwoJCQkkVG90YWxDb2xTcGFuMiA9ICR0aGlzLT5GaWVsZFN1bV9DcDJbJE1vZGUtMV07Ly8kTW9kZSA9PTEgPyA1IDogNDsKCQkJJEtpcmkxID0gJFRvdGFsQ29sU3BhbjEgPiAwID8gIjx0ZCBjbGFzcz0nJENvbFN0eWxlJyBjb2xzcGFuPSckVG90YWxDb2xTcGFuMScgYWxpZ249J2NlbnRlcic+PGI+VG90YWwgcGVyIEhhbGFtYW48L3RkPiI6ICcnOwoJCQkkS2FuYW4xID0gJFRvdGFsQ29sU3BhbjIgPiAwID8gIjx0ZCBjbGFzcz0nJENvbFN0eWxlJyBjb2xzcGFuPSckVG90YWxDb2xTcGFuMicgYWxpZ249J2NlbnRlcic+PC90ZD4iOiAnJzsKCQkJJEtpcmkyID0gJFRvdGFsQ29sU3BhbjEgPiAwID8gIjx0ZCBjbGFzcz0nJENvbFN0eWxlJyBjb2xzcGFuPSckVG90YWxDb2xTcGFuMScgYWxpZ249J2NlbnRlcic+PGI+VG90YWw8L3RkPiI6ICcnOwoJCQkkS2FuYW4yID0gJFRvdGFsQ29sU3BhbjIgPiAwID8gIjx0ZCBjbGFzcz0nJENvbFN0eWxlJyBjb2xzcGFuPSckVG90YWxDb2xTcGFuMicgYWxpZ249J2NlbnRlcic+PC90ZD4iOiAnJzsKCQkJJENvbnRlbnRUb3RhbEhhbCA9CgkJCQkiPHRyPgoJCQkJCSRLaXJpMQoJCQkJCTwhLS08dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nJFRvdGFsQ29sU3BhbicgYWxpZ249J2NlbnRlcic+PGI+VG90YWwgcGVyIEhhbGFtYW48L3RkPi0tPgoJCQkJCTx0ZCBjbGFzcz0nJENvbFN0eWxlJyBhbGlnbj0ncmlnaHQnPjxiPiRUYW1waWxUb3RhbEhhbFJwPC90ZD4KCQkJCQkkS2FuYW4xPCEtLTx0ZCBjbGFzcz0nJENvbFN0eWxlJyBjb2xzcGFuPSc0Jz48L3RkPi0tPgoJCQkJPC90cj4iIDsKCQkJJENvbnRlbnRUb3RhbCA9CgkJCQkiPHRyPgoJCQkJCSRLaXJpMgoJCQkJCTx0ZCBjbGFzcz0nJENvbFN0eWxlJyBhbGlnbj0ncmlnaHQnPjxiPjxkaXYgIGlkPSd7JHRoaXMtPlByZWZpeH1fY29udF9zdW0nPiIuJFRvdGFsLiI8L2Rpdj48L3RkPgoJCQkJCSRLYW5hbjIKCQkJCTwvdHI+IiA7CgoJCQlpZigkTW9kZSA9PSAyKXsKCQkJCSRDb250ZW50VG90YWwgPSAnJzsKCQkJfWVsc2UgaWYoJE1vZGUgPT0gMyl7CgkJCQkkQ29udGVudFRvdGFsSGFsPScnOwoJCQl9CgoJCX0KCQlyZXR1cm4gJENvbnRlbnRUb3RhbEhhbC4kQ29udGVudFRvdGFsOwoJfQoJZnVuY3Rpb24gc2V0RGFmdGFyX2hhbCgkam1sRGF0YSl7CgkJZ2xvYmFsICRNYWluOwoJCXJldHVybgoJCQkiPHRhYmxlIGNsYXNzPSdrb3B0YWJsZScgYm9yZGVyPScxJyB3aWR0aD0nMTAwJScgc3R5bGU9J21hcmdpbjo0IDAgMCAwJz4KCQkJPHRyPjx0ZCBhbGlnbj1jZW50ZXIgc3R5bGU9J3BhZGRpbmc6NCc+Ii4KCQkJCUhhbGFtYW4yYigKCQkJCQkkam1sRGF0YSwKCQkJCQkkTWFpbi0+UGFnZVBlckhhbCwKCQkJCQkkdGhpcy0+ZWxDdXJyUGFnZSwKCQkJCQljZWtQT1NUKCR0aGlzLT5lbEN1cnJQYWdlKSwKCQkJCQk1LAoJCQkJCSR0aGlzLT5QcmVmaXguJy5nb3RvSGFsYW1hbicpLgoJCQkiPC90ZD48L3RyPjwvdGFibGU+IjsKCX0KCWZ1bmN0aW9uIGdlblN1bUhhbCgkS29uZGlzaSl7CgkJZ2xvYmFsICRNYWluOwoJCS8vJFN1bSA9ICdzdW0nOyAkSGFsID0gJ2hhbCc7CgkJJGptbERhdGEgPSAwOwoJCSRqbWxUb3RhbCA9IDA7CgkJJFN1bUFycj1hcnJheSgpOwoJCSR2U3VtID0gYXJyYXkoKTsKCgkJJGZzdW1fID0gYXJyYXkoKTsKCQkkZnN1bV9bXSA9ICJjb3VudCgqKSBhcyBjbnQiOwoJCS8vJGk9MDsKCQlmb3JlYWNoKCR0aGlzLT5GaWVsZFN1bSBhcyAmJHZhbHVlKXsKCQkJJGZzdW1fW10gPSAic3VtKCR2YWx1ZSkgYXMgc3VtXyR2YWx1ZSI7CgkJCS8vJGkrKzsKCQl9CgkJJGZzdW0gPSBqb2luKCcsJywkZnN1bV8pOwoKCgkJLy8kYXFyeSA9ICJzZWxlY3QgY291bnQoKikgYXMgY250LCAgc3VtKGptbF90ZXJpbWEpIGFzIHRvdHRlcmltYSAgZnJvbSAkdGhpcy0+VGJsTmFtZSAkS29uZGlzaSAiOyAvL2VjaG8gJGFxcnk7CgkJJGFxcnkgPSAic2VsZWN0ICRmc3VtIGZyb20gJHRoaXMtPlRibE5hbWUgJEtvbmRpc2kgIjsgLy9lY2hvICRhcXJ5OwoJCSRxcnkgPSBteXNxbF9xdWVyeSgkYXFyeSk7CgkJaWYgKCRpc2k9IG15c3FsX2ZldGNoX2FycmF5KCRxcnkpKXsKCQkJJGptbERhdGEgPSAkaXNpWydjbnQnXTsKCQkJLyokSGFsPSAiPHRhYmxlIGNsYXNzPSdrb3B0YWJsZScgYm9yZGVyPScxJyB3aWR0aD0nMTAwJScgc3R5bGU9J21hcmdpbjo0IDAgMCAwJz4KCQkJCTx0cj48dGQgYWxpZ249Y2VudGVyIHN0eWxlPSdwYWRkaW5nOjQnPiIuCgkJCQkJSGFsYW1hbjJiKCRqbWxEYXRhLCRNYWluLT5QYWdlUGVySGFsLCR0aGlzLT5lbEN1cnJQYWdlLGNla1BPU1QoJ0hhbERlZmF1bHQnKSw1LCAkdGhpcy0+UHJlZml4LicuZ290b0hhbGFtYW4nKS4KCQkJCSI8L3RkPjwvdHI+PC90YWJsZT4iOwoJCQkqLwoJCQkkSGFsID0gJHRoaXMtPnNldERhZnRhcl9oYWwoJGptbERhdGEpOwoKCgkJCS8vJGptbFRvdGFsPSAkaXNpWyd0b3R0ZXJpbWEnXTsKCgkJCWZvcmVhY2goJHRoaXMtPkZpZWxkU3VtIGFzICYkdmFsdWUpewoJCQkJJFN1bUFycltdID0gJGlzaVsic3VtXyR2YWx1ZSJdOwoJCQkJJHZTdW1bXSA9IEZtdCgkaXNpWyJzdW1fJHZhbHVlIl0sMSk7CgkJCX0KCQkJaWYoc2l6ZW9mKCR0aGlzLT5GaWVsZFN1bSk+MCApJFN1bSA9IG51bWJlcl9mb3JtYXQoJFN1bUFyclswXSwgMiwgJywnICwnLicpOwoKCgkJfQoKCQlyZXR1cm4gYXJyYXkoJ3N1bSc9PiRTdW0sICdoYWwnPT4kSGFsLCAnc3Vtcyc9PiR2U3VtKTsKCX0KCWZ1bmN0aW9uIGdlbkRhZnRhckluaXRpYWwoKXsKCQkkdk9wc2kgPSAkdGhpcy0+Z2VuRGFmdGFyT3BzaSgpOwoJCXJldHVybgoJCQkiPGRpdiBpZD0neyR0aGlzLT5QcmVmaXh9X2NvbnRfb3BzaScgc3R5bGU9J3Bvc2l0aW9uOnJlbGF0aXZlJz4iLgoJCQkJJHZPcHNpWydUYW1waWxPcHQnXS4KCQkJIjwvZGl2PiIuCgkJCSI8ZGl2IGlkPSd7JHRoaXMtPlByZWZpeH1fY29udF9kYWZ0YXInIHN0eWxlPSdwb3NpdGlvbjpyZWxhdGl2ZScgPiIuCgkJCQkvLyR0aGlzLT5nZW5EYWZ0YXIoJE9wc2lbJ0tvbmRpc2knXSwkT3BzaVsnT3JkZXInXSwgJE9wc2lbJ0xpbWl0J10sICRPcHNpWydOb0F3YWwnXSkuCgkJCSI8L2Rpdj4iLgoJCQkiPGRpdiBpZD0neyR0aGlzLT5QcmVmaXh9X2NvbnRfaGFsJyBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmUnPiIuCgkJCQkiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9JyR0aGlzLT5lbEN1cnJQYWdlJyBuYW1lPSckdGhpcy0+ZWxDdXJyUGFnZScgdmFsdWU9JzEnPiIuCgkJCSI8L2Rpdj4iOwoJfQoKCS8qCglmdW5jdGlvbiBnZW5TdW1IYWwyKCRLb25kaXNpKXsKCQlnbG9iYWwgJE1haW47CgkJLy8kU3VtID0gJ3N1bSc7ICRIYWwgPSAnaGFsJzsKCQkkam1sRGF0YSA9IDA7CgkJJGptbFRvdGFsID0gMDsKCgkJJGFxcnkgPSAic2VsZWN0IGNvdW50KCopIGFzIHN1bTEsIHN1bShqbWxfa2V0ZXRhcGFuKSBhcyBzdW0yIGZyb20gJHRoaXMtPlRibE5hbWUgJEtvbmRpc2kgIjsgLy9lY2hvICRhcXJ5OwoJCSRxcnkgPSBteXNxbF9xdWVyeSgkYXFyeSk7CgkJaWYgKCRpc2k9IG15c3FsX2ZldGNoX2FycmF5KCRxcnkpKXsKCQkJJGptbERhdGEgPSAkaXNpWydzdW0xJ107CgkJCSRqbWxUb3RhbD0gJGlzaVsnc3VtMiddOwoJCQkkU3VtID0gbnVtYmVyX2Zvcm1hdCgkam1sVG90YWwsIDIsICcsJyAsJy4nKTsKCQkJJEhhbD0gIjx0YWJsZSBjbGFzcz0na29wdGFibGUnIGJvcmRlcj0nMScgd2lkdGg9JzEwMCUnIHN0eWxlPSdtYXJnaW46NCAwIDAgMCc+CgkJCQk8dHI+PHRkIGFsaWduPWNlbnRlciBzdHlsZT0ncGFkZGluZzo0Jz4iLgoJCQkJCUhhbGFtYW4yYigkam1sRGF0YSwkTWFpbi0+UGFnZVBlckhhbCwiSGFsRGVmYXVsdCIsY2VrUE9TVCgnSGFsRGVmYXVsdCcpLDUsJ1BlbmV0YXBhbi5nb3RvSGFsYW1hbicpLgoJCQkJIjwvdGQ+PC90cj48L3RhYmxlPiI7CgkJfQoKCQlyZXR1cm4gYXJyYXkoJ3N1bSc9PiRTdW0sICdoYWwnPT4kSGFsKTsKCX0qLwovL2FqeCBwcm9zZXMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCWZ1bmN0aW9uIHNldF9hanhwcm9zZXNfY2V0YWtfaGFsKCl7CgkJJHRoaXMtPkNldGFrX01vZGU9MjsKCQkkdGhpcy0+Z2VuQ2V0YWsoKTsKCX0KCWZ1bmN0aW9uIHNldF9hanhwcm9zZXNfY2V0YWtfYWxsKCl7CgkJJHRoaXMtPkNldGFrX01vZGU9MzsKCQkkdGhpcy0+Z2VuQ2V0YWsoKTsKCX0KCWZ1bmN0aW9uIHNldF9hanhwcm9zZXNfb3RoZXIoJGlkcHJzLCAkT3B0KXsKCQkkRXJyTm89MDsgJEVyck1zZyA9ICcnOyAkY29udGVudD0ndGVzJzsgJGpzb249RkFMU0U7CgkJLy8tLS0tLS0tLS0KCQlzd2l0Y2ggKCRpZHBycyl7CgkJCWNhc2UgJ2Zvcm1iYXJ1Jzp7CgkJCQkkanNvbiA9IFRSVUU7CS8vJEVyck1zZyA9ICd0ZXMnOwoJCQkJJGNvbnRlbnQgPSAkdGhpcy0+Z2VuRm9ybSgpOy8vJGNvbnRlbnQgPSAnY29udGVudCc7CgkJCQlicmVhazsKCQkJfQoJCX0KCQlyZXR1cm4gYXJyYXkoJ0Vyck5vJz0+JEVyck5vLCAnRXJyTXNnJz0+JEVyck1zZywgJ2NvbnRlbnQnPT4gJGNvbnRlbnQsICdqc29uJz0+JGpzb24gKTsKCX0KCWZ1bmN0aW9uIHNldF9hanhwcm9zZXMoJGlkcHJzLCAkT3B0KXsKCQlnbG9iYWwgJE1haW47CgkJJEVyck5vPTA7ICRFcnJNc2cgPSAnJzsgJGNvbnRlbnQ9Jyc7ICRqc29uPUZBTFNFOwoKCQkJc3dpdGNoICgkaWRwcnMpewoJCQkJY2FzZSAnbGlzdCc6ewoJCQkJCSRPcHNpID0gJHRoaXMtPmdldERhZnRhck9wc2koKTsJLy8kY29udGVudCA9ICd0ZXMnLgoJCQkJCSRsaXN0ID0gJHRoaXMtPmdlbkRhZnRhcigKCQkJCQkJJE9wc2lbJ0tvbmRpc2knXSwgJE9wc2lbJ09yZGVyJ10sCgkJCQkJCSRPcHNpWydMaW1pdCddLCAkT3BzaVsnTm9Bd2FsJ10sIDEKCQkJCQkpOwoJCQkJCSRjb250ZW50PQoJCQkJCQlhcnJheSgnbGlzdCc9PiRsaXN0WydsaXN0J10KCgkJCQkJCSk7CgkJCQkJJGNlayAuPSAkT3BzaVsnS29uZGlzaSddOwoJCQkJCSRjZWsgLj0gJGxpc3RbJ2NlayddOwoJCQkJCSRqc29uPSB0cnVlOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJY2FzZSAnc3VtaGFsJzp7CgkJCQkJJE9wc2kgPSAkdGhpcy0+Z2V0RGFmdGFyT3BzaSgpOwoJCQkJCSRjb250ZW50ID0gJHRoaXMtPmdlblN1bUhhbCgkT3BzaVsnS29uZGlzaSddKTsKCQkJCQkkanNvbj0gdHJ1ZTsKCQkJCQlicmVhazsKCQkJCX0KCQkJCWNhc2UgJ2NldGFrX2hhbCc6IHsKCQkJCQkkdGhpcy0+c2V0X2FqeHByb3Nlc19jZXRha19oYWwoKTsKCQkJCQlicmVhazsKCQkJCX0KCQkJCWNhc2UgJ2NldGFrX2FsbCc6ewoJCQkJCSR0aGlzLT5zZXRfYWp4cHJvc2VzX2NldGFrX2FsbCgpOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJY2FzZSAnaGFwdXMnOnsKCQkJCQkkY2JpZD0gJF9QT1NUWyR0aGlzLT5QcmVmaXguJ19jYiddOwoJCQkJCSRFcnJNc2c9Ly8naGFwdXMgJy4kY2JzdHI7CgkJCQkJCSR0aGlzLT5IYXB1cygkY2JpZCk7CgkJCQkJJGpzb249VFJVRTsKCQkJCQlicmVhazsKCQkJCX0KCgkJCQlkZWZhdWx0IDp7CgkJCQkJLy8kVGFtcGlsT3B0ID0gJFBlcmhpdHVuZ2FuLT5nZW5EYWZ0YXJPcHNpKCk7CgkJCQkJJG90aGVyID0gJHRoaXMtPnNldF9hanhwcm9zZXNfb3RoZXIoJGlkcHJzLCRPcHQpOwoJCQkJCSRFcnJObyA9ICRvdGhlclsnRXJyTm8nXTsKCQkJCQkkRXJyTXNnID0gJG90aGVyWydFcnJNc2cnXTsKCQkJCQkkY2VrID0gJG90aGVyWydjZWsnXTsKCQkJCQkkY29udGVudCA9ICRvdGhlclsnY29udGVudCddOwoJCQkJCSRqc29uID0gJG90aGVyWydqc29uJ107CgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCgoKCQlpZigkTWFpbi0+U0hPV19DRUsgPT0gRkFMU0UpICRjZWsgPScnOwoJCXJldHVybiBhcnJheSgnRXJyTm8nPT4kRXJyTm8sICdFcnJNc2cnPT4kRXJyTXNnLCAnY29udGVudCc9PiAkY29udGVudCwgJ2pzb24nPT4kanNvbiwgJ2Nlayc9PiRjZWsgKTsKCX0KCWZ1bmN0aW9uIGFqeHByb3NlcygpewoJCSRFcnJNc2cgPSAnJzsKCQlpZiAoJF9HRVRbJ2lkcHJzJ10gIT0gJycpewoJCQkkaWRwcnMgPSAkX0dFVFsnaWRwcnMnXTsgLy9lY2hvICcsaWRwcnM9Jy4kaWRwcnM7CgkJfWVsc2V7IC8vanNvbgoJCQkkb3B0c3RyaW5nID0gc3RyaXBzbGFzaGVzKCRfR0VUWydvcHQnXSk7CgkJCSRPcHQgPSBqc29uX2RlY29kZSgkb3B0c3RyaW5nKTsgLy8kcGFnZSA9IGpzb25fZW5jb2RlKCIsY2VrPSIrJE9wdC0+aWRwcnMpOwoJCQkkaWRwcnMgPSAkT3B0LT5kYWZ0YXJQcm9zZXNbJE9wdC0+aWRwcnNdOwoJCX0KCgkJaWYgKCRpZHBycyA9PScnKSB7CgoJCQllY2hvICR0aGlzLT5zZXRQYWdlKCk7CgkJCS8vJHRoaXMtPnNldFBhZ2UoKTsKCQl9ZWxzZXsKCQkJLy9lY2hvICd0ZXMnOwoJCQkkZ2V0ID0gJHRoaXMtPnNldF9hanhwcm9zZXMoJGlkcHJzLCAkT3B0KTsKCgkJCSRFcnJObyA9ICRnZXRbJ0Vyck5vJ107CgkJCSRFcnJNc2cgPSAkZ2V0WydFcnJNc2cnXTsKCQkJJGNvbnRlbnQgPSAkZ2V0Wydjb250ZW50J107CgkJCSRjZWsgPSAkZ2V0WydjZWsnXTsKCQkJJGpzb24gPSAkZ2V0Wydqc29uJ107CgkJCWlmKCRqc29uKXsgLy9qc29uLS0tCgkJCQkkcGFnZUFyciA9IGFycmF5KAoJCQkJCQkJJ2lkcHJzJz0+JE9wdC0+aWRwcnMsCgkJCQkJCQknZGFmdGFyUHJvc2VzJz0+JE9wdC0+ZGFmdGFyUHJvc2VzICwKCQkJCQkJCSdjZWsnPT4kY2VrLAoJCQkJCQkJJ0Vyck5vJz0+JEVyck5vLAoJCQkJCQkJJ0Vyck1zZyc9PiRFcnJNc2csCgkJCQkJCQknY29udGVudCc9PiAkY29udGVudAoKCQkJCQkJKTsKCQkJCSRwYWdlID0ganNvbl9lbmNvZGUoJHBhZ2VBcnIpOwoJCQkJJHBhZ2U7CgkJCX0KCQkJZWNobyAkcGFnZTsKCQl9CgoJfQoKLy9QQUdFID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCS8vZnVuY3Rpb24gc2V0UGFnZV9IZWFkZXJfSWNvbigpewlyZXR1cm4gJEljb25QYWdlO30KCS8vZnVuY3Rpb24gc2V0UGFnZV9IZWFkZXJfVGl0bGUoKXtyZXR1cm4gJFRpdGxlUGFnZTsgfQoJZnVuY3Rpb24gc2V0UGFnZV9IZWFkZXIoJEljb25QYWdlPScnLCAkVGl0bGVQYWdlPScnKXsKCQkvL2dsb2JhbCAkYXBwLCAkTWFpbjsKCQkvL2lmICgkSWNvblBhZ2UgPT0nJykgJEljb25QYWdlID0gJHRoaXMtPnNldFBhZ2VfSGVhZGVyX0ljb24oKTsKCQkvL2lmICgkVGl0bGVQYWdlID09JycpICRUaXRsZVBhZ2UgPSAkdGhpcy0+c2V0UGFnZV9IZWFkZXJfVGl0bGUoKTsKCQlyZXR1cm4gY3JlYXRlSGVhZGVyUGFnZSgkSWNvblBhZ2UsICRUaXRsZVBhZ2UpOwoJfQoJZnVuY3Rpb24gc2V0UGFnZV9PdGhlclN0eWxlKCl7CgkJLypyZXR1cm4gIjxsaW5rIHR5cGU9J3RleHQvY3NzJyBocmVmPSdjc3MvcGF5LmNzcycgcmVsPSdzdHlsZXNoZWV0Jz4KCQkJCQkJPGxpbmsgdHlwZT0ndGV4dC9jc3MnIGhyZWY9J2Nzcy9tZW51X3BheS5jc3MnIHJlbD0nc3R5bGVzaGVldCc+IjsKCQkqLwoJCXJldHVybiAnJzsKCX0KCWZ1bmN0aW9uIHNldFBhZ2VfT3RoZXJTY3JpcHQoKXsKCQkkc2NyaXB0bG9hZCA9CgkJCQkJIjxzY3JpcHQ+CgkJCQkJCSQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7CgkJCQkJCQkiLiR0aGlzLT5QcmVmaXguIi5sb2FkaW5nKCk7CgkJCQkJCX0pOwoKCQkJCQk8L3NjcmlwdD4iOwoJCXJldHVybiAiPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nanMvIi5zdHJ0b2xvd2VyKCR0aGlzLT5QcmVmaXgpLiIuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0JyA+PC9zY3JpcHQ+CgkJCQkJCTxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9J3BhZ2VzL3BlbmRhdGFhbi9tb2R1bF9lbnRyeS5qcycgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnID48L3NjcmlwdD4KCQkJCQkJPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nanMvZGlhbG9nMS5qcycgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnID48L3NjcmlwdD4KCQkJCQkJPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nanMvanF1ZXJ5LmpzJyBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgPjwvc2NyaXB0PiIuCgkJCQkJCSRzY3JpcHRsb2FkOwoJfQoJZnVuY3Rpb24gc2V0UGFnZV9JY29uUGFnZSgpewoJCXJldHVybiAnaW1hZ2VzL2ljb24vZGFmdGFyMzIucG5nJzsKCX0KCWZ1bmN0aW9uIHNldFBhZ2VfVGl0bGVQYWdlKCl7CgkJJHRpdGxlPSdUaXRsZSc7CgkJcmV0dXJuICAkdGl0bGU7Cgl9CglmdW5jdGlvbiBzZXRQYWdlX090aGVySGVhZGVyUGFnZSgpewoJCXJldHVybiAnJzsKCX0KCWZ1bmN0aW9uIHNldFBhZ2VfRm9ybU5hbWUoKXsKCQlyZXR1cm4gJ2FkbWluRm9ybSc7Cgl9CglmdW5jdGlvbiBzZXRQYWdlX2hpZGRlbigpewoJCXJldHVybiBnZW5IaWRkZW4oYXJyYXkoJ2ZtT3AnPT4gZ2VuTnVtYmVyKCRfR0VUWydPcCddLDIpICkpOwoJfQoJZnVuY3Rpb24gc2V0UGFnZV9UaXRsZURhZnRhcigpewoJCXJldHVybiAnRGFmdGFyIFBlbmRhdGFhbic7Cgl9CglmdW5jdGlvbiBUb29sYmFyQXRhc0VkaXRfQWRkKCRsYWJlbD0nJywkaWNvPScnLCRsaW5rPScnLCRoaW50PScnLCRpbnNlcnQ9RkFMU0UpewoJCWlmKCRpbnNlcnQpewoJCQkkdGhpcy0+VG9vbGJhckF0YXNfZWRpdCA9CgkJCQkiPHRkPiIuZ2VuUGFuZWxJY29uKCRsaW5rLCRpY28sJGxhYmVsLCRoaW50KS4iPC90ZD4iLiR0aGlzLT5Ub29sYmFyQXRhc19lZGl0OwoJCX1lbHNlewoJCQkkdGhpcy0+VG9vbGJhckF0YXNfZWRpdCAuPQoJCQkJIjx0ZD4iLmdlblBhbmVsSWNvbigkbGluaywkaWNvLCRsYWJlbCwkaGludCkuIjwvdGQ+IjsKCQl9CgoJCXJldHVybiAkVG9vbGJhckF0YXNfZWRpdDsKCX0KCWZ1bmN0aW9uIHNldFBhZ2VfVG9vbGJhckF0YXNWaWV3KCl7CgkJcmV0dXJuIC8vIjx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5jZXRha0hpdCgpIiwicHJpbnRfZjIucG5nIiwiQ2V0YWsiLCAnQ2V0YWsgTm90YSBIaXR1bmcnKS4iPC90ZD4KCQkJCQkiPHRkPiIuZ2VuUGFuZWxJY29uKCJqYXZhc2NyaXB0OiIuJHRoaXMtPlByZWZpeC4iLmNldGFrSGFsKFwiJE9wXCIpIiwicHJpbnRfZjIucG5nIiwiSGFsYW1hbiIpLiI8L3RkPgoJCQkJCTx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5jZXRha0FsbChcIiRPcFwiKSIsInByaW50X2YyLnBuZyIsIlNlbXVhIikuIjwvdGQ+IjsKCgl9CglmdW5jdGlvbiBzZXRQYWdlX1N1YlRpdGxlX21lbnUoKXsKCgkJJFN1YlRpdGxlX21lbnUgPQoJCQkJCSI8ZGl2IHN0eWxlPSdmbG9hdDpyaWdodDsnPgoJCQkJCTxkaXY+PGRpdj48L2Rpdj48ZGl2PiRzY3JpcHRNZW51PC9kaXY+PC9kaXY+CgkJCQkJPHRhYmxlID48dHI+Ii4KCQkJCQkkdGhpcy0+VG9vbGJhckF0YXNfZWRpdC4vLyR0aGlzLT5TZXRQYWdlX1Rvb2xiYXJBdGFzRWRpdCgpLgoJCQkJCSR0aGlzLT5TZXRQYWdlX1Rvb2xiYXJBdGFzVmlldygpLgoJCQkJCSI8L3RyPgoJCQkJCTwvdGFibGU+CgkJCQkJPC9kaXY+IjsKCQlyZXR1cm4gJFN1YlRpdGxlX21lbnU7Cgl9CglmdW5jdGlvbiBzZXRQYWdlX090aGVySW5Gb3JtKCl7fQoJZnVuY3Rpb24gc2V0UGFnZV9PdGhlckNvbnRlbnRQYWdlKCl7fQoJZnVuY3Rpb24gc2V0UGFnZV9PdGhlckZvb3RlclBhZ2UoKXt9CglmdW5jdGlvbiBzZXRQYWdlKCl7CgkJcmV0dXJuICR0aGlzLT5nZW5QYWdlKAoJCQkJCSR0aGlzLT5zZXRQYWdlX090aGVyU3R5bGUoKSwKCQkJCQkkdGhpcy0+c2V0UGFnZV9PdGhlclNjcmlwdCgpLAoJCQkJCSR0aGlzLT5zZXRQYWdlX0ljb25QYWdlKCksCgkJCQkJJHRoaXMtPnNldFBhZ2VfVGl0bGVQYWdlKCksCgkJCQkJJHRoaXMtPnNldFBhZ2VfT3RoZXJIZWFkZXJQYWdlKCksCgkJCQkJJHRoaXMtPnNldFBhZ2VfRm9ybU5hbWUoKSwKCQkJCQkkdGhpcy0+c2V0UGFnZV9oaWRkZW4oKSwKCQkJCQkkdGhpcy0+c2V0UGFnZV9UaXRsZURhZnRhcigpLAoJCQkJCSR0aGlzLT5zZXRQYWdlX1N1YlRpdGxlX21lbnUoKSwKCQkJCQkkdGhpcy0+c2V0UGFnZV9PdGhlckluRm9ybSgpLAoJCQkJCSR0aGlzLT5zZXRQYWdlX090aGVyQ29udGVudFBhZ2UoKSwKCQkJCQkkdGhpcy0+c2V0UGFnZV9PdGhlckZvb3RlclBhZ2UoKQoJCQkJKTsKCX0KCWZ1bmN0aW9uIGdlblBhZ2UoICRPdGhlclN0eWxlICwgJE90aGVyU2NyaXB0LAoJCSRJY29uUGFnZSwgJFRpdGxlUGFnZSwJJE90aGVySGVhZGVyUGFnZSwKCQkkRm9ybU5hbWUsICRoaWRkZW4sICRUaXRsZURhZnRhciwgJFN1YlRpdGxlX21lbnUsICRPdGhlckluRm9ybSwKCQkkT3RoZXJDb250ZW50UGFnZSwgJE90aGVyRm9vdGVyUGFnZSApCgl7CgkJZ2xvYmFsICRhcHAsICRNYWluOwoJCS8qKgoJCSRmb3JtYmFyY29kZSA9ICAiPHNwYW4gc3R5bGU9J2NvbG9yOnJlZCc+QkFSQ09ERTwvc3Bhbj4iLgoJCQkJCQkJIjxpbnB1dCB0eXBlPSdURVhUJyB2YWx1ZT0nJwoJCQkJCQkJCWlkPSdiYXJjb2RlX2lucHV0JyBuYW1lPSdiYXJjb2RlX2lucHV0JwoJCQkJCQkJCXN0eWxlPSdmb250LXNpemU6MjQ7d2lkdGg6IDM2OXB4OycKCQkJCQkJCQlzaXplPScyOCcgbWF4bGVuZ3RoPScyOCcKCgkJCQkJCQk+PHNwYW4gaWQ9J2JhcmNvZGVfbXNnJyBuYW1lPSdiYXJjb2RlX21zZycgPjwvc3Bhbj4gIjsKCQkJCQkJCSoqLwoJCSRmb3JtYmFyY29kZSA9ICAiPHNwYW4gc3R5bGU9J2NvbG9yOnJlZCc+QkFSQ09ERTwvc3Bhbj4iLgoJCQkJCQkJIjxpbnB1dCB0eXBlPSdURVhUJyB2YWx1ZT0nJwoJCQkJCQkJCWlkPSdiYXJjb2RlX2lucHV0JyBuYW1lPSdiYXJjb2RlX2lucHV0JwoJCQkJCQkJCXN0eWxlPSdmb250LXNpemU6MjQ7d2lkdGg6IDM2OXB4OycKCgkJCQkJCQk+PHNwYW4gaWQ9J2JhcmNvZGVfbXNnJyBuYW1lPSdiYXJjb2RlX21zZycgPjwvc3Bhbj4gIjsKCQlyZXR1cm4KCQkvLyI8aHRtbCB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc+Ii4KCQkiPGh0bWw+Ii4KCQkJJGFwcC0+Z2VuSFRNTEhlYWQoJE90aGVyU3R5bGUsIAkkT3RoZXJTY3JpcHQpLgoJCQkiPGJvZHkgPiIuCgkJCSI8dGFibGUgaWQ9J0tlcmFuZ2thSGFsJyBjbGFzcz0nbWVudWJhcicgY2VsbHNwYWNpbmc9JzAnIGNlbGxwYWRkaW5nPScwJyBib3JkZXI9JzAnIHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnID4iLgoJCQkJLy9oZWFkZXIgcGFnZSAtLS0tLS0tLS0tLS0tLS0tLS0tCgkJCQkiPHRyIGhlaWdodD0nMzAnPjx0ZCB2YWxpZ249J3RvcCc+Ii4KCQkJCQkkdGhpcy0+c2V0UGFnZV9IZWFkZXIoJEljb25QYWdlLCAkVGl0bGVQYWdlKS4KCQkJCQkiPGRpdiBpZD0naGVhZGVyJz48L2Rpdj4iLgoJCQkJIjwvdGQ+PC90cj4iLgoJCQkJJE90aGVySGVhZGVyUGFnZS4KCQkJCS8vQ29udGVudCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJCSI8dHIgaGVpZ2h0PScqJyB2YWxpZ249J3RvcCc+IDx0ZCBzdHlsZT0ncGFkZGluZzowIDggMCA4Jz4iLgoKCQkJCQkiPGZvcm0gbmFtZT0nJEZvcm1OYW1lJyBpZD0nJEZvcm1OYW1lJyBtZXRob2Q9J3Bvc3QnIGFjdGlvbj0nJz4iLgoJCQkJCQkvL0Zvcm0gLS0tLS0tLS0tLS0tLS0tLS0tCgkJCQkJCSRoaWRkZW4uCgkJCQkJCWdlblN1YlRpdGxlKCRUaXRsZURhZnRhciwkU3ViVGl0bGVfbWVudSkuCgoJCQkJCQkiPCEtLXdpbCBza3BkLS0+CgkJCQkJCTx0YWJsZSB3aWR0aD1cIjEwMCVcIiBjbGFzcz1cImFkbWluZm9ybVwiPgk8dHI+CgkJCQkJCTx0ZCB3aWR0aD1cIjEwMCVcIiB2YWxpZ249XCJ0b3BcIj4iLgoJCQkJCQkJV2lsU0tQRF9hangzKCR0aGlzLT5QcmVmaXgpLgoJCQkJCQkiPC90ZD4KCQkJCQkJPHRkID4iIC4KCQkJCQkJJGZvcm1iYXJjb2RlLiAvL29ua2V5dXA9J2lucHV0QmFyY29kZSh0aGlzKScKCgkJCQkJCQkJLy88aW5wdXQgdHlwZT0nVEVYVCcgdmFsdWU9JycgCXN0eWxlPScJZm9udC13ZWlnaHQ6Ym9sZCcgCXNpemU9JzUwJwk+Ii4KCgkJCQkJCSI8L3RkPgoJCQkJCQk8L3RyPjwvdGFibGU+Ii4KCgkJCQkJCSR0aGlzLT5nZW5EYWZ0YXJJbml0aWFsKCkuCgkJCQkJCSRPdGhlckluRm9ybS4KCQkJCQkiPC9mb3JtPiIuCgkJCQkiPC90ZD48L3RyPiIuCgkJCQkkT3RoZXJDb250ZW50UGFnZS4KCQkJCS8vRm9vdGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQkJIjx0cj48dGQgaGVpZ2h0PScyOScgPiIuCgkJCQkJLy8kYXBwLT5nZW5QYWdlRm9vdChGQUxTRSkuCgkJCQkJJE1haW4tPkNvcHlSaWdodC4KCQkJCSI8L3RkPjwvdHI+Ii4KCQkJCSRPdGhlckZvb3RlclBhZ2UuCgkJCSI8L3RhYmxlPgoJCQk8L2JvZHk+CgkJPC9odG1sPiI7Cgl9CgovL0NFVEFLIERBRlRBUiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgkvKmZ1bmN0aW9uIHNldENldGFrX01vZGUoJE1vZGUpeyByZXR1cm4gJE1vZGU7fQoJZnVuY3Rpb24gc2V0Q2V0YWtfT3RoZXJIVE1MSGVhZCgkb3RoZXI9Jycpe3JldHVybiAkb3RoZXI7fQoJZnVuY3Rpb24gc2V0Q2V0YWtfV0lEVEgoJHdpZHRoPTMwKXtyZXR1cm4gJHdpZHRoO30KCWZ1bmN0aW9uIHNldENldGFrX0pVRFVMKCRqdWR1bD0nRGFmdGFyJyl7cmV0dXJuICRqdWR1bDt9CglmdW5jdGlvbiBzZXRDZXRhaygkTW9kZSl7CgkJcmV0dXJuICR0aGlzLT5nZW5DZXRhaygKCQkJCQkkdGhpcy0+c2V0Q2V0YWtfTW9kZSgkTW9kZSksCgkJCQkJJHRoaXMtPnNldENldGFrX090aGVySFRNTEhlYWQoKSwKCQkJCQkkdGhpcy0+c2V0Q2V0YWtfV0lEVEgoKSwKCQkJCQkkdGhpcy0+c2V0Q2V0YWtfSlVEVUwoKQoJCQkJKTsKCX0qLwoJZnVuY3Rpb24gc2V0Q2V0YWtfSGVhZGVyKCl7CgkJZ2xvYmFsICRNYWluOwoJCS8qcmV0dXJuCgkJCSI8dGFibGUgc3R5bGU9J3dpZHRoOjEwMCUnIGJvcmRlcj1cIjBcIj48dHI+CgkJCTx0ZCA+Ii4KCQkJCSRNYWluLT5Lb3BMb2dvLgoJCQkiPC90ZD4KCQkJPHRkID4iLgoJCQkJJHRoaXMtPkNldGFrX0p1ZHVsLgoJCQkiPC90ZD4KCQkJPC90cj48L3RhYmxlPiI7CgkJKi8KCQlyZXR1cm4KCQkJIjx0YWJsZSBzdHlsZT0nd2lkdGg6MTAwJScgYm9yZGVyPVwiMFwiPgoJCQk8dHI+CgkJCQk8dGQgY2xhc3M9XCJqdWR1bGNldGFrXCI+PERJViBBTElHTj1DRU5URVI+JHRoaXMtPkNldGFrX0p1ZHVsPC90ZD4KCQkJPC90cj4KCQkJPC90YWJsZT4KCQkJPHRhYmxlIHdpZHRoPVwiMTAwJVwiIGJvcmRlcj1cIjBcIj4KCQkJCTx0cj4KCQkJCQk8dGQgY2xhc3M9XCJzdWJqdWR1bGNldGFrXCI+Ii5QcmludFNLUEQoKS4iPC90ZD4KCQkJCTwvdHI+CgkJCTwvdGFibGU+PGJyPiI7Cgl9CgkvL2Z1bmN0aW9uIGdlbkNldGFrKCRNb2RlPTIsICRPdGhlckhUTUxIZWFkPScnLCAkV0lEVEg9MzAsICRKVURVTD0nJyl7CglmdW5jdGlvbiBzZXRDZXRha19mb290ZXIoKXsKCQlyZXR1cm4gIjxicj4iLgoJCQkJUHJpbnRUVEQoJHRoaXMtPkNldGFrX1dJRFRIKTsKCX0KCglmdW5jdGlvbiBnZW5DZXRhaygpewoJCWdsb2JhbCAkTWFpbjsKCQkvKgoJCTxzdHlsZT4KCQkubmZtdDEge21zby1udW1iZXItZm9ybWF0OidcI1wsXCNcIzBfXClcO1xbUmVkXF1cXChcI1wsXCNcIzBcXCknO30KCQkubmZtdDIge21zby1udW1iZXItZm9ybWF0OicwXC4wMF8nO30KCQkubmZtdDMge21zby1udW1iZXItZm9ybWF0OicwMDAwMCc7fQoJCS5uZm10NCB7bXNvLW51bWJlci1mb3JtYXQ6J1wjXCxcI1wjMC4wMF9cKVw7XFtSZWRcXVxcKFwjXCxcI1wjMFxcKSc7fQoJCS5uZm10NSB7bXNvLW51bWJlci1mb3JtYXQ6J1xAJzt9CgkJdGFibGUge21zby1kaXNwbGF5ZWQtZGVjaW1hbC1zZXBhcmF0b3I6J1wuJzsKCQkJbXNvLWRpc3BsYXllZC10aG91c2FuZC1zZXBhcmF0b3I6J1wsJzt9CgkJYnIge21zby1kYXRhLXBsYWNlbWVudDpzYW1lLWNlbGw7fQoJCTwvc3R5bGU+Ki8KCQkkY3NzID0gJHRoaXMtPmNldGFrX3hscwk\/CgkJCSI8c3R5bGU+CgkJCS5uZm10NSB7bXNvLW51bWJlci1mb3JtYXQ6J1xAJzt9CgkJCTwvc3R5bGU+IjoKCQkJIjxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPVwiY3NzL3RlbXBsYXRlX2Nzcy5jc3NcIiB0eXBlPVwidGV4dC9jc3NcIiAvPiI7CgkJZWNobwoJCQkiPGh0bWw+Ii4KCQkJCSI8aGVhZD4KCQkJCQk8dGl0bGU+JE1haW4tPkp1ZHVsPC90aXRsZT4KCQkJCQkkY3NzCgkJCQkJJHRoaXMtPkNldGFrX090aGVySFRNTEhlYWQKCQkJCTwvaGVhZD4iLgoJCQkiPGJvZHk+CgkJCTxmb3JtIG5hbWU9J2FkbWluRm9ybScgaWQ9J2FkbWluRm9ybScgbWV0aG9kPSdwb3N0JyBhY3Rpb249Jyc+CgkJCTx0YWJsZSBjbGFzcz1cInJhbmdrYWNldGFrXCIgc3R5bGU9J3dpZHRoOiR0aGlzLT5DZXRha19XSURUSCc+CgkJCTx0cj48dGQgdmFsaWduPVwidG9wXCI+Ii4KCQkJCSR0aGlzLT5zZXRDZXRha19IZWFkZXIoKS4vLyR0aGlzLT5DZXRha19IZWFkZXIuLy8KCQkJCSI8ZGl2IGlkPSdjbnRUZXJpbWFLb25kaXNpJz4iLgoJCQkJCS8vJFRhbXBpbE9wdFsnVGFtcGlsT3B0J10uCgkJCQkiPC9kaXY+CgkJCQk8ZGl2IGlkPSdjbnRUZXJpbWFEYWZ0YXInID4iOwoKCQkkT3BzaSA9ICR0aGlzLT5nZXREYWZ0YXJPcHNpKCR0aGlzLT5DZXRha19Nb2RlKTsKCQkJLy9lY2hvICcsS29uZGlzaT0nLiRPcHNpWydLb25kaXNpJ10uJyxPcmRlcj0nLiRPcHNpWydPcmRlciddLicsaGFsPScuJF9QT1NUWydIYWxEZWZhdWx0J10uCgkJCS8vCScsbGltaXQ9Jy4kT3BzaVsnTGltaXQnXS4nLE5vQXdhbD0nLiRPcHNpWydOb0F3YWwnXS4nLCc7CgkJJGRhZnRhciA9ICR0aGlzLT5nZW5EYWZ0YXIoCgkJCSRPcHNpWydLb25kaXNpJ10sCgkJCSRPcHNpWydPcmRlciddLAoJCQkkT3BzaVsnTGltaXQnXSwKCQkJJE9wc2lbJ05vQXdhbCddLAoJCQkkdGhpcy0+Q2V0YWtfTW9kZQoJCSk7CgkJZWNobyAkZGFmdGFyWydsaXN0J107CgoJCWVjaG8JIjwvZGl2PgkiLgoJCQkJJHRoaXMtPnNldENldGFrX2Zvb3RlcigpLgoJCQkiPC90ZD48L3RyPgoJCQk8L3RhYmxlPgoJCQk8L2Zvcm0+CgkJCTwvYm9keT4KCQkJPC9odG1sPiI7Cgl9Cn0KCgoKCmNsYXNzIERhZnRhck9iajJ7Cgl2YXIgJFByZWZpeCA9ICdwYmJfcGVuZXRhcGFuX2RhZnRhcic7IC8vanNuYW1lCgl2YXIgJFNIT1dfQ0VLID0gRkFMU0U7Cgl2YXIgJHdpdGhmb3JtID0gVFJVRTsKCS8vZGFmdGFyIC0tLS0tLS0tLS0tLS0tLS0tLS0KCS8vdmFyICRlbEN1cnJQYWdlPSJIYWxEZWZhdWx0IjsKCXZhciAkVGJsTmFtZSA9ICdwYmJfZW50cnlhd2FsJzsgLy9kYWZ0YXIKCXZhciAkVGJsTmFtZV9IYXB1cyA9ICdwYmJfZW50cnlhd2FsJzsKCXZhciAkTWF4Rmx1c2ggPSAxMDsKCXZhciAkVGJsU3R5bGUgPSBhcnJheSggJ2tvcHRhYmxlJywgJ2NldGFrJywnY2V0YWsnKTsgLy9iZXJkYXNhciBtb2RlCgl2YXIgJENvbFN0eWxlID0gYXJyYXkoICdHYXJpc0RhZnRhcicsICdHYXJpc0NldGFrJywnR2FyaXNDZXRhaycpOwoJdmFyICRLZXlGaWVsZHMgPSBhcnJheSgnSWQnKTsgLy9kYWZ0YXIvaGFwdXMKCXZhciAkRmllbGRTdW0gPSBhcnJheSgnbHVhc190YW5haCcpOwoJdmFyICRTdW1WYWx1ZSA9IGFycmF5KCk7Cgl2YXIgJEZpZWxkU3VtX0NwMSA9IGFycmF5KCAxMCwgOSw5KTsvL2JlcmRhc2FyIG1vZGUKCXZhciAkRmllbGRTdW1fQ3AyID0gYXJyYXkoIDAsIDAsMCk7Cgl2YXIgJGNoZWNrYm94X3Jvd3NwYW4gPSAxOwoJdmFyICR0b3RhbENvbCA9IDExOyAvL3RvdGFsIGtvbG9tIGRhZnRhcgoJdmFyICRmaWVsZFN1bV9sb2thc2kgPSBhcnJheSggMTApOyAgLy9sb2thc2kgc3VtYXJ5IGRpIGtvbG9tIGtlCgl2YXIgJHdpdGhTdW1BbGwgPSBUUlVFOwoJdmFyICR3aXRoU3VtSGFsID0gVFJVRTsKCXZhciAkV0lUSF9IQUwgPSBUUlVFOwoJdmFyICR0b3RhbGhhbHN0ciA9ICc8Yj5Ub3RhbCBwZXIgSGFsYW1hbic7Cgl2YXIgJHRvdGFsQWxsU3RyID0gJzxiPlRvdGFsJzsKCS8vdmFyICRLZXlGaWVsZHNfSGFwdXMgPSBhcnJheSgnSWQnKTsKCS8vY2V0YWsgLS0tLS0tLS0tLS0tLS0tLS0tLS0KCXZhciAkY2V0YWtfeGxzPUZBTFNFIDsKCXZhciAkZmlsZU5hbWVFeGNlbD0ndGVzLnhscyc7Cgl2YXIgJENldGFrX0p1ZHVsOwoJLy92YXIgJENldGFrX0hlYWRlcjsKCXZhciAkQ2V0YWtfTW9kZT0yOwoJdmFyICRDZXRha19XSURUSCA9ICczMGNtJzsKCXZhciAkQ2V0YWtfT3RoZXJIVE1MSGVhZDsvLz0iPGxpbmsgdHlwZT0ndGV4dC9jc3MnIGhyZWY9J2Nzcy90ZW1wbGF0ZV9jc3MuY3NzJyByZWw9J3N0eWxlc2hlZXQnPiI7CgkvL3BhZ2UgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJLy92YXIgJFByZWZpeD0ncGFnZSc7IC8vanMgb2JqZWN0IHBha2UgaW5pCgl2YXIgJFRvb2xiYXJBdGFzX2VkaXQgPScnOwoJdmFyICRQYWdlVGl0bGUgPSAnUEJCIC0gUGVuZXRhcGFuJzsKCXZhciAkUGFnZUljb24gPSAnaW1hZ2VzL2ljb24vZGFmdGFyMzIucG5nJzsKCXZhciAkcGFnZVBlckhhbD0gJyc7Cgl2YXIgJEZvcm1OYW1lID0gJ2FkbWluRm9ybSc7Cgl2YXIgJGljb193aWR0aCA9IDIwOwoJdmFyICRpY29faGVpZ2h0ID0gMzA7CgkvL2Zvcm0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvL3ZhciAkZm9ybV9uYW1lID0gJ1Vzcl9mb3JtJzsKCXZhciAkdGJsRm9ybVN0eWxlID0gJ3RibGZvcm0nOwoJdmFyICRmb3JtTGFiZWxXaWR0aCA9IDEwMDsKCXZhciAkZm9ybV93aWR0aCA9ICc2MDAnOwoJdmFyICRmb3JtX2hlaWdodCA9ICc0MzknOwoJdmFyICRmb3JtX2NhcHRpb24gPSAiVXNlciI7Cgl2YXIgJGZvcm1fbWVudV9iYXdhaF9oZWlnaHQgPSAyMjsKCXZhciAkZm9ybV9maWVsZHMgPQoJCQlhcnJheSgKCQkJCSdmaWVsZDEnID0+IGFycmF5KCAnbGFiZWwnPT4nbGFiZWwxJywgJ3ZhbHVlJz0+J3ZhbHVlMScsICd0eXBlJz0+J3RleHQnLCAncGFyYW0nPT4nJyApLAoJCQkJJ2ZpZWxkMicgPT4gYXJyYXkoICdsYWJlbCc9PidsYWJlbDEnLCAndmFsdWUnPT4ndmFsdWUyJywgJ3R5cGUnPT4ndGV4dCcgKQoJCQkpOwoJdmFyICRmb3JtX2ZtU1QgOwoJdmFyICRmb3JtX2lkcGxoIDsKCXZhciAkZm9ybV9tZW51YmF3YWggOwoJCS8qLy9zYW1wbGUKCQkiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1NpbXBhbicgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLlNpbXBhbigpJyA+CgkJIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdCYXRhbCcgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLkNsb3NlKCknID4KCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0naWRwbGgnIHZhbHVlPScnID4KCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nZm1TVCcgdmFsdWU9JzAnID4iOwkqLwoJdmFyICRtdWx0aXNlbGVjdCA9IEZBTFNFOwoJdmFyICRwZW1pc2FoSUQgPSAnICc7IC8vcGVtaXNhaCB1dGsgbXVsdGkgaWQgZGkgY2hlY2tib3gKCS8vdmFyICRtc19jb250YWluID0gJyc7CgoJLy91c2VyIGFrc2VzCgl2YXIgJG5vTW9kdWwgPSAxOwoKCS8vcGFnZQoJdmFyICRmb290ZXJIZWlnaHQ9IDI5OwoJdmFyICRoZWFkZXJIZWlnaHQ9IDM0OwoKCgkvL211bHRpIHNlbGVjdCA9PT09PT09PT09PT09PT09PT09PT09PT09PQoJZnVuY3Rpb24gZ2V0Tm1Nc0NieFBpbGloRmlsdGVyKCl7CgkJcmV0dXJuICR0aGlzLT5QcmVmaXguJ19jYnhwaWxpaGZpbHRlcic7Cgl9CglmdW5jdGlvbiBnZXRObU1zSm1sUGlsaWgoKXsKCQlyZXR1cm4gJHRoaXMtPlByZWZpeC4nX21zX2ptbHBpbGloJzsKCX0KCWZ1bmN0aW9uIGdldF9tdWx0aXNlbGVjdF9jb250YWluKCl7CgkJZ2xvYmFsICRIVFRQX0NPT0tJRV9WQVJTOwoKCQkkY2J4ID0gJF9SRVFVRVNUWyR0aGlzLT5nZXRObU1zQ2J4UGlsaWhGaWx0ZXIoKV07CgkJJGNoZWNrZWQgPSAkY2J4PT0xID8gImNoZWNrZWQ9J3RydWUnIiA6ICcnOwoJCSRpZF9lbCA9ICAkdGhpcy0+UHJlZml4LiAnX3BpbGloYW5fbXNnJzsKCQkkam1scGlsaWggPTA7Ly8gJF9SRVFVRVNUWyR0aGlzLT5nZXRObU1zSm1sUGlsaWgoKV07CgoJCSRpZHBpbGloYW4gPSAkSFRUUF9DT09LSUVfVkFSU1skdGhpcy0+UHJlZml4LidfRGFmdGFyUGlsaWgnXTsKCQlpZigkaWRwaWxpaGFuICE9ICcnKXsKCQkJJGFycmlkID0gYXJyYXkoKTsKCQkJJGFycmlkID0gZXhwbG9kZSgnLCcsJGlkcGlsaWhhbik7CgkJCSRqbWxwaWxpaCA9IGNvdW50KCRhcnJpZCk7CgkJfQoKCQkvL2lmICgkam1scGlsaWggPT0gJycgKSAkam1scGlsaWggPSAwOwoJCXJldHVybiAiPGRpdiBpZD0nJGlkX2VsJyBuYW1lPSckaWRfZWwnIHN0eWxlPSdmbG9hdDpyaWdodDtwYWRkaW5nOiA0IDQgNCA4Oyc+Ii4KCQkJCSI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0O3BhZGRpbmc6Mic+VGVycGlsaWg6IDwvZGl2PiIuCgkJCQkiPGRpdiBpZD0nIi4kdGhpcy0+Z2V0Tm1Nc0ptbFBpbGloKCkuIicgbmFtZT0nIi4kdGhpcy0+Z2V0Tm1Nc0ptbFBpbGloKCkuIicgc3R5bGU9J2Zsb2F0OmxlZnQ7cGFkZGluZzoyJz4kam1scGlsaWg8L2Rpdj4iLgoJCQkJIjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQnPiIuCgkJCQkJIjxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9JyIuJHRoaXMtPmdldE5tTXNDYnhQaWxpaEZpbHRlcigpLiInIG5hbWU9JyIuJHRoaXMtPmdldE5tTXNDYnhQaWxpaEZpbHRlcigpLiInIHZhbHVlPScxJyAiLgoJCQkJCQkiIG9uY2xpY2s9JyIuJHRoaXMtPlByZWZpeC4iLmNieEZpbHRlcktsaWsodGhpcyknICRjaGVja2VkPiIuCgkJCQkiPC9kaXY+Ii4KCQkJIjwvZGl2PiI7Cgl9CgovL2luaXNpYWwgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CglmdW5jdGlvbiBEYWZ0YXJPYmoyKCl7CgkJZ2xvYmFsICRNYWluLCAkTWVudXY1OwoJCWlmKCRNYWluLT5NRU5VX1ZFUlNJID09IDUpewoJCQlpbmNsdWRlX29uY2UoJ3BhZ2VzL2Jhc2VfbWFpbl92NS5waHAnKTsKCQl9CgoJCWlmKCRNYWluLT5NRU5VX1ZFUlNJPT01KXsKCQkJJHRoaXMtPmZvb3RlckhlaWdodCA9IDgzOwoJCX0KCgkJJHRoaXMtPmZvcm1fbWVudWJhd2FoID0KCQkJLy8iPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1NpbXBhbicgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLlNpbXBhbigpJyA+CgkJCSI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nQmF0YWwnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5DbG9zZSgpJyA+IjsKCQkJLy88aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0naWRwbGgnIHZhbHVlPScnID4KCQkJLy88aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nZm1TVCcgdmFsdWU9JzAnID4iOwoJLyoKCQkkdGhpcy0+VG9vbGJhckF0YXNfZWRpdCA9CgkJCSI8dGQ+Ii5nZW5QYW5lbEljb24oImphdmFzY3JpcHQ6Ii4kdGhpcy0+UHJlZml4LiIuQmFydSgpIiwibmV3X2YyLnBuZyIsIkJhcnUiLCcnKS4iPC90ZD4iLgoJCQkiPHRkPiIuZ2VuUGFuZWxJY29uKCJqYXZhc2NyaXB0OiIuJHRoaXMtPlByZWZpeC4iLkVkaXQoKSIsImVkaXRfZjIucG5nIiwiVWJhaCIsICcnKS4iPC90ZD4iLgoJCQkiPHRkPiIuZ2VuUGFuZWxJY29uKCJqYXZhc2NyaXB0OiIuJHRoaXMtPlByZWZpeC4iLkhhcHVzKCkiLCJkZWxldGVfZjIucG5nIiwiSGFwdXMiLCAnJykuIjwvdGQ+IjsKCgkJLyokdGhpcy0+Q2V0YWtfSnVkdWwgPQoJCQkiPHRhYmxlIHdpZHRoPScxMDAlJyBib3JkZXI9XCIwXCI+CgkJCQk8dHI+CgkJCQkJPHRkIGFsaWduPSdyaWdodCcgY29sc3Bhbj0nNCc+CgkJCQkJCTxzcGFuIGNsYXNzPSd0aXRsZTInPgoJCQkJCQkJTEFQT1JBTiBEQUZUQVIgUEVOREFUQUFOCgkJCQkJCTwvc3Bhbj4KCQkJCQk8L3RkPgoJCQkJPC90cj4KCQkJCTx0cj4KCQkJCQk8dGQgYWxpZ249J3JpZ2h0JyBjb2xzcGFuPSc0Jz4KCQkJCQkJPHNwYW4gY2xhc3M9J3RpdGxlMSc+CgkJCQkJCQk0LjEuMS4wNC4wMCAtIFBBSkFLIFJFS0xBTUUKCQkJCQkJPC9zcGFuPgoJCQkJCTwvdGQ+CgkJCQkJPHRkIGNvbHNwYW49JzQnPjxzcGFuIGNsYXNzPSd0aXRsZTEnPjwvc3Bhbj48L3RkPgoJCQkJPC90cj4KCQkJCTx0cj4KCQkJCQk8dGQ+PHNwYW4gY2xhc3M9J3RpdGxlMSc+PC9zcGFuPjwvdGQ+CgkJCQkJPHRkIGNvbHNwYW49JzQnPjxzcGFuIGNsYXNzPSd0aXRsZTEnPjwvc3Bhbj48L3RkPgoJCQkJPC90cj4KCQkJPC90YWJsZT4iOyovCgoJCS8qJHRoaXMtPkNldGFrSGVhZGVyPQoJCQkkaGVhZGVyID0KCQkJIjx0YWJsZSBzdHlsZT0nd2lkdGg6MTAwJScgYm9yZGVyPVwiMFwiPgoJCQkJCTx0cj48dGQgY2xhc3M9XCJqdWR1bGNldGFrXCIgYWxpZ249J2NlbnRlcic+JEpVRFVMPC90ZD4JPC90cj4KCQkJCTwvdGFibGU+CgkJCQk8YnI+IjsqLwoKCgoJfQoKLy9QUk9TRVMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoJZnVuY3Rpb24gSGFwdXNfVmFsaWRhc2koJGlkKXsKCQkkZXJybXNnID0nJzsKCQkvKmlmKCRlcnJtc2c9PScnICYmCgkJCQlteXNxbF9udW1fcm93cyhteXNxbF9xdWVyeSgKCQkJCQkic2VsZWN0IElkIGZyb20gdGFnaWhhbiB3aGVyZSByZWZfaWRwZW5ldGFwYW49JyIuJGlkLiInIikKCQkJCSkgPjAgKQoJCQl7ICRlcnJtc2cgPSAnR2FnYWwgSGFwdXMhIFNLUEQgU3VkYWggYWRhIGRpIFRhZ2loYW4hJzt9Ki8KCQlyZXR1cm4gJGVycm1zZzsKCX0KCWZ1bmN0aW9uIEhhcHVzX0RhdGEoJGlkKXsvL2lkIC0+IG11bHRpIGlkIHdpdGggc3BhY2UgZGVsaW1pdGVyCgkJJGVyciA9ICcnOyAkY2VrPScnOwoJCS8vJEtleVZhbHVlID0gZXhwbG9kZSgnICcsJGlkKTsKCQkkS2V5VmFsdWUgPSBleHBsb2RlKCR0aGlzLT5wZW1pc2FoSUQsJGlkKTsKCQkkYXJyS29uZGlzaSA9IGFycmF5KCk7CgkJZm9yKCRpPTA7JGk8c2l6ZW9mKCR0aGlzLT5LZXlGaWVsZHMpOyRpKyspewoJCQkkYXJyS29uZGlzaVtdID0gJHRoaXMtPktleUZpZWxkc1skaV0uIj0nIi4kS2V5VmFsdWVbJGldLiInIjsKCQl9CgkJJEtvbmRpc2kgPSBqb2luKCcgYW5kICcsJGFycktvbmRpc2kpOwoJCWlmICgkS29uZGlzaSAhPScnKSRLb25kaXNpID0gJyBXaGVyZSAnLiRLb25kaXNpOwoJCS8vJEtvbmRpc2kgPSAJIklkPSciLiRpZC4iJyI7CgoJCSRhcXJ5PSAiZGVsZXRlIGZyb20gIi4kdGhpcy0+VGJsTmFtZV9IYXB1cy4nICcuJEtvbmRpc2k7ICRjZWsuPSRhcXJ5OwoJCSRxcnkgPSBteXNxbF9xdWVyeSgkYXFyeSk7CgkJaWYgKCRxcnk9PUZBTFNFKXsKCQkJJGVyciA9ICdHYWdhbCBIYXB1cyBEYXRhJzsKCQl9CgoJCXJldHVybiBhcnJheSgnZXJyJz0+JGVyciwnY2VrJz0+JGNlayk7Cgl9CglmdW5jdGlvbiBIYXB1c19EYXRhX0FmdGVyKCRpZCl7CgkJJGVyciA9ICcnOyAkY29udGVudD0nJzsgJGNlaz0nJzsKCgkJcmV0dXJuIGFycmF5KCdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50LCAnY2VrJz0+JGNlayk7Cgl9CglmdW5jdGlvbiBIYXB1cygkaWRzKXsKCQkkZXJyPScnOyAkY2VrPScnOyAkY29udGVudCA9ICcnOwoJCS8vJGNpZD0gJFBPU1RbJ2NpZCddOwoJCS8vJGVyciA9ICcnLiRpZHM7CgkJZm9yKCRpID0gMDsgJGk8Y291bnQoJGlkcyk7ICRpKyspCXsKCQkJJGVyciAuPSAkdGhpcy0+SGFwdXNfVmFsaWRhc2koJGlkc1skaV0pOwoKCQkJaWYoJGVyciA9PScnKXsKCQkJCSRnZXQgPSAkdGhpcy0+SGFwdXNfRGF0YSgkaWRzWyRpXSk7CgkJCQkkZXJyIC49ICRnZXRbJ2VyciddOwoJCQkJJGNlayAuPSAkZ2V0WydjZWsnXTsKCQkJCSRjb250ZW50IC49ICRnZXRbJ2NvbnRlbnQnXTsKCQkJCWlmICgkZXJybXNnPT0nJykgewoJCQkJCSRhZnRlciA9ICR0aGlzLT5IYXB1c19EYXRhX0FmdGVyKCRpZHNbJGldKTsKCQkJCQkkZXJyIC49JGFmdGVyWydlcnInXTsKCQkJCQkkY2VrIC49JGFmdGVyWydjZWsnXTsKCQkJCQkkY29udGVudCAuPSAkYWZ0ZXJbJ2NvbnRlbnQnXTsKCQkJCX0KCQkJCWlmICgkZXJyICE9ICcnKSBicmVhazsKCgkJCX1lbHNlewoJCQkJYnJlYWs7CgkJCX0KCQl9CgkJcmV0dXJuIGFycmF5KCdlcnInPT4kZXJyLCdjZWsnPT4kY2VrLCAnY29udGVudCcgPT4gJGNvbnRlbnQpOwoJfQoJZnVuY3Rpb24gU2ltcGFuVmFsaWRhc2koJGZtU1QpewoJCSRlcnIgPSAnJzsKCQlzd2l0Y2ggKCRmbVNUKXsKCQkJY2FzZSAwIDogeyAvL2JhcnUKCQkJCWJyZWFrOwoJCQl9CgkJCWNhc2UgMTogey8vZWRpdAoJCQkJYnJlYWs7CgkJCX0KCQl9CgkJcmV0dXJuICRlcnI7Cgl9CglmdW5jdGlvbiBzaW1wYW4oJGZtU1QsICR0YmxzaW1wYW49JycsICRmaWVsZEtleT0nJywgJGZpZWxkS2V5VmFsPScnLCAkZmllbGRzID0gJycsICRmaWVsZHN2YWwgPSAnJyApewoJCS8qJGdldCA9ICR0aGlzLT5zaW1wYW4oJGZtU1QsICdiYXJhbmdfdGlkYWtfdGVyY2F0YXQnLCAnSWQnLCAkaWQsCgkJCQkJImExLGEsYiIsCgkJCQkJYXJyYXkoJ2ExJz0+JzExJywnYSc9PicxMCcsJ2InPT4nMDAnKQoJCQkJKTsKCQkqLwoJCSRTaW1wYW4gPSBGQUxTRTsgJGVycm1zZyA9Jyc7JGNvbnRlbnQ9Jyc7ICRjZWs9Jyc7CgoJCSRjZWsgLj0gImZtc3Q9JGZtU1QgIjsKCQlzd2l0Y2ggKCRmbVNUKXsKCQkJY2FzZSAwIDogeyAvL2JhcnUKCQkJCS8vZ2VuZXJhdGUgZmllbGRzIHVwZGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tCgkJCQkkYXFyeSAgPSAiaW5zZXJ0IGludG8gJHRibHNpbXBhbiAoIi5pbXBsb2RlKCcsJyxhcnJheV9rZXlzKCRmaWVsZHN2YWwpKS4KCQkJCQkiKSB2YWx1ZXMgKCIuaW1wbG9kZSgnLCcsYXJyYXlfdmFsdWVzKCRmaWVsZHN2YWwpKS4iKSA7IjsKCQkJCSRjZWsgLj0gJGFxcnk7CgkJCQkkU2ltcGFuID0gbXlzcWxfcXVlcnkoJGFxcnkpOwoJCQkJaWYgKCRTaW1wYW4gPT0gRkFMU0UpICRlcnJtc2cgPSAnR2FnYWwgU2ltcGFuIERhdGEgISc7Ly8uJGFxcnk7CgkJCQlicmVhazsKCQkJfQoJCQkvKmNhc2UgMTogeyAvL2VkaXQKCQkJCS8vdmFsaWRhc2kgZWRpdCgpCgkJCQkkZXJybXNnID0gJHRoaXMtPlNpbXBhblZhbGlkYXNpKCRmbVNUKTsKCQkJCWlmKCRlcnJtc2cgPT0gJycpewoJCQkJCS8vY3JlYXRlIGtvbmRpc2kga2V5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJCQkkZmlkID0gYXJyYXkoKTsKCQkJCQlpZiAoJGZpZWxkS2V5ID09ICcnICl7CgkJCQkJCSRmaWRbXSA9ICdJZCc7IC8vZGVmYXVsdAoJCQkJCQkkdmFsSWRbXSA9ICRmaWVsZEtleVZhbDsKCQkJCQl9ZWxzZXsKCQkJCQkJJGZpZCA9ICRmaWVsZEtleTsvL2V4cGxvZGUoJywnLCRmaWVsZEtleVN0cik7CgkJCQkJCSR2YWxJZCA9ICRmaWVsZEtleVZhbDsvL2V4cGxvZGUoJywnLCRmaWVsZEtleVZhbFN0cik7CgkJCQkJfQoJCQkJCSRrb25kaXNpID0gJyc7CgkJCQkJZm9yKCRpPTA7JGk8c2l6ZW9mKCRmaWQpOyRpKyspICRrb25kaXNpIC49ICRmaWRbJGldLiIgPSAnIi4kdmFsSWRbJGldLiInIjsKCQkJCQlpZiAoJGtvbmRpc2kgIT0gJycpICRrb25kaXNpID0gIiB3aGVyZSAka29uZGlzaSI7CgkJCQkJLy9nZW5lcmF0ZSBmaWVsZHMgdXBkYXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJCQkkYXJyZmllbGR1cGQgPSBhcnJheSgpOwoJCQkJCSRhcnJmaWVsZHMgPSAkZmllbGRzOy8vZXhwbG9kZSgnLCcsJGZpZWxkcyk7CgkJCQkJJGFycmZpZWxkc3ZhbCA9ICRmaWVsZHN2YWw7Ly8gZXhwbG9kZSgnLCcsJGZpZWxkc3ZhbCk7CgkJCQkJZm9yKCRpPTA7JGk8c2l6ZW9mKCRhcnJmaWVsZHMpOyRpKyspICRhcnJmaWVsZHVwZFtdID0gJGFycmZpZWxkc1skaV0uIiA9ICciLiRhcnJmaWVsZHN2YWxbJGldLiInIjsKCQkJCQkkZmllbGR1cGQgPSBqb2luKCcsJywkYXJyZmllbGR1cGQpOwoJCQkJCWlmICgkZmllbGR1cGQgIT0gJycpICRmaWVsZHVwZCA9ICIgc2V0ICRmaWVsZHVwZCI7CgkJCQkJLy91cGRhdGUgdGFiZWwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJCQkkYXFyeSAgPSAidXBkYXRlICR0YmxzaW1wYW4gJGZpZWxkdXBkICRrb25kaXNpIjsgJGNlay49JGFxcnk7CgkJCQkJJFNpbXBhbiA9IG15c3FsX3F1ZXJ5KCRhcXJ5KTsKCQkJCQlpZiAoJFNpbXBhbiA9PSBGQUxTRSkgJGVycm1zZyA9ICdHYWdhbCBVcGRhdGUgRGF0YSAhJzsvLy4kYXFyeTsKCQkJCX0KCQkJCWJyZWFrOwoJCQl9Ki8KCQkJY2FzZSAxOiB7IC8vZWRpdDIKCQkJCS8vdmFsaWRhc2kgZWRpdCgpCgkJCQkkZXJybXNnID0gJHRoaXMtPlNpbXBhblZhbGlkYXNpKCRmbVNUKTsKCQkJCWlmKCRlcnJtc2cgPT0gJycpewoJCQkJCS8vY3JlYXRlIGtvbmRpc2kga2V5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJCQkkZmlkID0gYXJyYXkoKTsKCQkJCQlpZiAoJGZpZWxkS2V5ID09ICcnICl7CgkJCQkJCSRmaWRbXSA9ICdJZCc7IC8vZGVmYXVsdAoJCQkJCQkkdmFsSWRbXSA9ICRmaWVsZEtleVZhbDsKCQkJCQl9ZWxzZXsKCQkJCQkJJGZpZCA9ICRmaWVsZEtleTsvL2V4cGxvZGUoJywnLCRmaWVsZEtleVN0cik7CgkJCQkJCSR2YWxJZCA9ICRmaWVsZEtleVZhbDsvL2V4cGxvZGUoJywnLCRmaWVsZEtleVZhbFN0cik7CgkJCQkJfQoJCQkJCSRrb25kaXNpID0gJyc7CgkJCQkJZm9yKCRpPTA7JGk8c2l6ZW9mKCRmaWQpOyRpKyspICRrb25kaXNpIC49ICRmaWRbJGldLiIgPSAnIi4kdmFsSWRbJGldLiInIjsKCQkJCQlpZiAoJGtvbmRpc2kgIT0gJycpICRrb25kaXNpID0gIiB3aGVyZSAka29uZGlzaSI7CgkJCQkJLy9nZW5lcmF0ZSBmaWVsZHMgdXBkYXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJCQkkYXJyZmllbGR1cGQgPSBhcnJheSgpOwoJCQkJCSRhcnJmaWVsZHMgPSAkZmllbGRzOy8vZXhwbG9kZSgnLCcsJGZpZWxkcyk7CgkJCQkJJGFycmZpZWxkc3ZhbCA9ICRmaWVsZHN2YWw7Ly8gZXhwbG9kZSgnLCcsJGZpZWxkc3ZhbCk7CgkJCQkJLy9mb3IoJGk9MDskaTxzaXplb2YoJGFycmZpZWxkcyk7JGkrKykgJGFycmZpZWxkdXBkW10gPSAkYXJyZmllbGRzWyRpXS4iID0gJyIuJGFycmZpZWxkc3ZhbFskaV0uIiciOwoJCQkJCWZvcmVhY2goICRmaWVsZHN2YWwgYXMgJGtleT0+JHZhbCkgewoJCQkJCQkkYXJyZmllbGR1cGRbXSA9ICRrZXkuIiA9ICIuJHZhbC4iIjsKCQkJCQl9CgkJCQkJJGZpZWxkdXBkID0gam9pbignLCcsJGFycmZpZWxkdXBkKTsKCQkJCQlpZiAoJGZpZWxkdXBkICE9ICcnKSAkZmllbGR1cGQgPSAiIHNldCAkZmllbGR1cGQiOwoJCQkJCS8vdXBkYXRlIHRhYmVsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJCQkJJGFxcnkgID0gInVwZGF0ZSAkdGJsc2ltcGFuICRmaWVsZHVwZCAka29uZGlzaSI7ICRjZWsuPSRhcXJ5OwoJCQkJCSRTaW1wYW4gPSBteXNxbF9xdWVyeSgkYXFyeSk7CgkJCQkJaWYgKCRTaW1wYW4gPT0gRkFMU0UpICRlcnJtc2cgPSAnR2FnYWwgVXBkYXRlIERhdGEgISc7Ly8uJGFxcnk7CgkJCQl9CgkJCQlicmVhazsKCQkJfQoKCQl9CgkJcmV0dXJuIGFycmF5KCdlcnInPT4kZXJybXNnLCAnY29udGVudCc9PiRjb250ZW50LCAnY2VrJz0+JGNlayk7Cgl9CgoJZnVuY3Rpb24gc2ltcGFuRGF0YSgkZm1TVCwgJHRibHNpbXBhbj0nJywgICRmaWVsZEtleT0nJywgICRmaWVsZHZhbCA9ICcnICl7CgkJLyogLS0tLS0tLS0KCQkJZmllbGRrZXkgLT4gYXJyYXkgKCdpZCc9PjEwJykKCQkJZmllbGR2YWwgLT4gYXJyYXkgKCd0Z2wnPT4nMjAxMi0wMS0wMScpCgkJKi8KCQkkU2ltcGFuID0gRkFMU0U7ICRlcnJtc2cgPScnOyRjb250ZW50PScnOyAkY2VrPScnOwoJCXN3aXRjaCAoJGZtU1QpewoJCQljYXNlIDAgOiB7IC8vYmFydQoJCQkJLy9nZW5lcmF0ZSBmaWVsZHMgaW5zZXJ0IC0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJCSRhcXJ5ICA9ICJpbnNlcnQgaW50byAkdGJsc2ltcGFuICgiLmltcGxvZGUoJywnLGFycmF5X2tleXMoJGZpZWxkdmFsKSkuCgkJCQkJIikgdmFsdWVzICgiLmltcGxvZGUoJywnLGFycmF5X3ZhbHVlcygkZmllbGR2YWwpKS4iKSA7IjsKCQkJCSRjZWsgLj0gJGFxcnk7CgkJCQkkU2ltcGFuID0gbXlzcWxfcXVlcnkoJGFxcnkpOwoJCQkJaWYgKCRTaW1wYW4gPT0gRkFMU0UpICRlcnJtc2cgPSAnR2FnYWwgU2ltcGFuIERhdGEgISc7Ly8uJGFxcnk7CgkJCQlicmVhazsKCQkJfQoJCQljYXNlIDE6IHsgLy9lZGl0MgoJCQkJLy92YWxpZGFzaSBlZGl0KCkKCQkJCSRlcnJtc2cgPSAkdGhpcy0+U2ltcGFuVmFsaWRhc2koJGZtU1QpOwoJCQkJaWYoJGVycm1zZyA9PSAnJyl7CgkJCQkJLy9jcmVhdGUga29uZGlzaSBrZXkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQkJCSRrb25kaXNpID0gJyc7CgkJCQkJJGFycmtvbmQgPSBhcnJheSgpOwoJCQkJCWZvcmVhY2goICRmaWVsZEtleSBhcyAka2V5PT4kdmFsKSB7CgkJCQkJCSRhcnJrb25kW10gPSAka2V5LiIgPSAiLiR2YWwuIiI7CgkJCQkJfQoJCQkJCSRrb25kaXNpID0gam9pbignLCcsJGFycmtvbmQpOwoJCQkJCWlmICgka29uZGlzaSAhPSAnJykgJGtvbmRpc2kgPSAiIHdoZXJlICRrb25kaXNpIjsKCQkJCQkvL2dlbmVyYXRlIGZpZWxkcyB1cGRhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQkJCSRhcnJmaWVsZHVwZCA9IGFycmF5KCk7CgkJCQkJZm9yZWFjaCggJGZpZWxkdmFsIGFzICRrZXk9PiR2YWwpIHsKCQkJCQkJJGFycmZpZWxkdXBkW10gPSAka2V5LiIgPSAiLiR2YWwuIiI7CgkJCQkJfQoJCQkJCSRmaWVsZHVwZCA9IGpvaW4oJywnLCRhcnJmaWVsZHVwZCk7CgkJCQkJaWYgKCRmaWVsZHVwZCAhPSAnJykgJGZpZWxkdXBkID0gIiBzZXQgJGZpZWxkdXBkIjsKCQkJCQkvL3VwZGF0ZSB0YWJlbCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQkJCSRhcXJ5ICA9ICJ1cGRhdGUgJHRibHNpbXBhbiAkZmllbGR1cGQgJGtvbmRpc2kiOyAkY2VrLj0kYXFyeTsKCQkJCQkkU2ltcGFuID0gbXlzcWxfcXVlcnkoJGFxcnkpOwoJCQkJCWlmICgkU2ltcGFuID09IEZBTFNFKSAkZXJybXNnID0gJ0dhZ2FsIFVwZGF0ZSBEYXRhICEnOy8vLiRhcXJ5OwoJCQkJfQoJCQkJYnJlYWs7CgkJCX0KCgkJfQoJCXJldHVybiBhcnJheSgnZXJyJz0+JGVycm1zZywgJ2NvbnRlbnQnPT4kY29udGVudCwgJ2Nlayc9PiRjZWspOwoJfQoKLy9GT1JNID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoJZnVuY3Rpb24gc2V0Rm9ybV9jb250ZW50X2ZpZWxkcygpewoJCSRjb250ZW50ID0gJyc7CgoKCgkJZm9yZWFjaCAoJHRoaXMtPmZvcm1fZmllbGRzIGFzICRrZXk9PiRmaWVsZCl7CgoJCQkkbGFiZWxXaWR0aCA9ICRmaWVsZFsnbGFiZWxXaWR0aCddPT0nJz8gJHRoaXMtPmZvcm1MYWJlbFdpZHRoOiAkZmllbGRbJ2xhYmVsV2lkdGgnXTsKCQkJJHBlbWlzYWggPSAkZmllbGRbJ3BlbWlzYWgnXT09TlVMTD8gJzonOiAkZmllbGRbJ3BlbWlzYWgnXTsKCQkJJHJvd19wYXJhbXMgPSAkZmllbGRbJ3Jvd19wYXJhbXMnXT09TlVMTD8gJHRoaXMtPnJvd19wYXJhbXMgOiAkZmllbGRbJ3Jvd19wYXJhbXMnXTsKCQkJaWYgKCRmaWVsZFsndHlwZSddID09ICcnKXsKCQkJCSR2YWwgPSAkZmllbGRbJ3ZhbHVlJ107CgkJCQkkY29udGVudCAuPQoJCQkJCSI8dHIgJHJvd19wYXJhbXM+CgkJCQkJCTx0ZCBzdHlsZT0nd2lkdGg6JGxhYmVsV2lkdGgnPiIuJGZpZWxkWydsYWJlbCddLiI8L3RkPgoJCQkJCQk8dGQgc3R5bGU9J3dpZHRoOjEwJz4kcGVtaXNhaDwvdGQ+CgkJCQkJCTx0ZD4iLiAkdmFsLiI8L3RkPgoJCQkJCTwvdHI+IjsKCQkJfWVsc2UgaWYgKCRmaWVsZFsndHlwZSddID09ICdtZXJnZScgKXsKCQkJCSR2YWwgPSAkZmllbGRbJ3ZhbHVlJ107CgkJCQkkY29udGVudCAuPQoJCQkJCSI8dHIgJHJvd19wYXJhbXM+CgkJCQkJCTx0ZCBjb2xzcGFuPTMgPiIuJHZhbC4iPC90ZD4KCQkJCQk8L3RyPiI7CgkJCX1lbHNlewoJCQkJJHZhbCA9IEVudHJ5KCRmaWVsZFsndmFsdWUnXSwka2V5LCRmaWVsZFsncGFyYW0nXSwkZmllbGRbJ3R5cGUnXSk7CgkJCQkkY29udGVudCAuPQoJCQkJCSI8dHIgJHJvd19wYXJhbXM+CgkJCQkJCTx0ZCBzdHlsZT0nd2lkdGg6JGxhYmVsV2lkdGgnPiIuJGZpZWxkWydsYWJlbCddLiI8L3RkPgoJCQkJCQk8dGQgc3R5bGU9J3dpZHRoOjEwJz4kcGVtaXNhaDwvdGQ+CgkJCQkJCTx0ZD4iLiAkdmFsLiI8L3RkPgoJCQkJCTwvdHI+IjsKCQkJfQoKCQl9CgkJLy8kY29udGVudCA9CgkJLy8JIjx0cj48dGQgc3R5bGU9J3dpZHRoOjEwMCc+ZmllbGQ8L3RkPjx0ZCBzdHlsZT0nd2lkdGg6MTAnPjo8L3RkPjx0ZD52YWx1ZTwvdGQ+PC90cj4iOwoJCXJldHVybiAkY29udGVudDsKCX0KCWZ1bmN0aW9uIHNldEZvcm1fY29udGVudCgpewoJCSRjb250ZW50ID0gJyc7CgkJJGNvbnRlbnQgPSAkdGhpcy0+c2V0Rm9ybV9jb250ZW50X2ZpZWxkcygpOwoKCQkkY29udGVudCA9CgkJCSI8dGFibGUgc3R5bGU9J3dpZHRoOjEwMCUnIGNsYXNzPSckdGhpcy0+dGJsRm9ybVN0eWxlJz48dHI+PHRkIHN0eWxlPSdwYWRkaW5nOjQnPgoJCQkJPHRhYmxlIHN0eWxlPSd3aWR0aDoxMDAlJyA+CgkJCQkkY29udGVudAoJCQkJPC90YWJsZT4KCQkJPC90ZD48L3RyPjwvdGFibGU+IjsKCQlyZXR1cm4gJGNvbnRlbnQ7Cgl9CglmdW5jdGlvbiBzZXRGb3JtQmFydSgpewoJCSRkdD1hcnJheSgpOwoKCQkkZHRbJ3RhaHVuJ10gPSAyMDEyOwoJCSRkdFsnbm9wX3Byb3AnXSA9ICczMic7CgkJJGR0Wydub3Bfa290YSddID0gJzE3JzsKCQkvLyRkdFsnam5zamxuX29wJ10gPSAwOwoJCS8vJGR0WydqbG5fbm9fb3AnXSA9ICcxJzsKCQkvLyRkdFsnam5zamxuX3dwJ10gPSAwOwoJCS8vJGR0WydqbG5fbm9fd3AnXSA9ICcxJzsKCgkJJHRoaXMtPmZvcm1faWRwbGggPScnOwoJCSR0aGlzLT5mb3JtX2ZtU1QgPSAwOwoJCSR0aGlzLT5zZXRGb3JtKCRkdCk7Cgl9CglmdW5jdGlvbiBzZXRGb3JtRWRpdCgpewoJCSRjZWsgPScnOwoKCgkJJGNiaWQgPSAkX1JFUVVFU1RbJHRoaXMtPlByZWZpeC4nX2NiJ107CgkJJHRoaXMtPmZvcm1faWRwbGggPSAkY2JpZFswXTsKCQkkdGhpcy0+Zm9ybV9mbVNUID0gMTsKCgkJLy9nZXQgZGF0YQoJCSRhcXJ5ID0gInNlbGVjdCAqIGZyb20gcGJiX2VudHJ5YXdhbCB3aGVyZSBpZCA9JHRoaXMtPmZvcm1faWRwbGggIjsgJGNlay49JGFxcnk7CgkJJGR0ID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoJGFxcnkpKTsKCgkJLy9zZXQgZm9ybQoJCSR0aGlzLT5zZXRGb3JtKCRkdCk7CgkJcmV0dXJuIGFycmF5KCdjZWsnPT4kY2VrKTsKCX0KCWZ1bmN0aW9uIHNldEZvcm0oJGR0KXsKCQkkdGhpcy0+Zm9ybV9maWVsZHMgPSBhcnJheSgKCQkJLy8nbm9fc3BwdCcgPT4gYXJyYXkoICdsYWJlbCc9PidOby4gU1BQVCcsICd2YWx1ZSc9PiBnZW5OdW1iZXIoJGdldFsnbm9fdGVyaW1hJ10sNSksICd0eXBlJz0+J251bWJlcicsICdwYXJhbSc9PicgbWF4bGVuZ3RoPTUgc2l6ZT01ICcgKSwKCQkJJ25vX3NwcHQnID0+IGFycmF5KCAnbGFiZWwnPT4nTm8uIFNQUFQnLCAndmFsdWUnPT4gJGR0Wydub19zcHB0J10sICd0eXBlJz0+J3RleHQnLCAncGFyYW0nPT4iIHRpdGxlPSdOby4gU1BQVCcgc3R5bGU9J3dpZHRoOiAzMThweDt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyciICApLAoJCQkndGFodW4nID0+IGFycmF5KCAnbGFiZWwnPT4nVGFodW4nLCAndmFsdWUnPT4kZHRbJ3RhaHVuJ10sICd0eXBlJz0+J251bWJlcicsICdwYXJhbSc9PicgbWF4bGVuZ3RoPTQgc2l6ZT00ICcgKQksCgkJCSdsYWJlbG9iaicgPT4gYXJyYXkoICdsYWJlbCc9PidPQkpFSyBQQUpBSycsICd2YWx1ZSc9Pic8Yj5PQkpFSyBQQUpBSycsICd0eXBlJz0+J21lcmdlJyApCSwKCQkJJ25vX29wJyA9PiBhcnJheSgKCQkJCSdsYWJlbCc9PidOT1AnLAoJCQkJJ3ZhbHVlJz0+CgkJCQkiPGlucHV0IHR5cGU9J3RleHQnIHJlYWRvbmx5PScnIHN0eWxlPSd3aWR0aDozMjt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOycgbWF4bGVuZ3RoPScyJyB2YWx1ZT0nIi4kZHRbJ25vcF9wcm9wJ10uIicgbmFtZT0nbm9wX3Byb3AnIGlkPSdub3BfcHJvcCcgPgoJCQkJPGlucHV0IHR5cGU9J3RleHQnIHJlYWRvbmx5PScnIHN0eWxlPSd3aWR0aDozMjt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOycgbWF4bGVuZ3RoPScyJyB2YWx1ZT0nIi4kZHRbJ25vcF9rb3RhJ10uIicgbmFtZT0nbm9wX2tvdGEnIGlkPSdub3Bfa290YSc+CgkJCQk8aW5wdXQgdHlwZT0ndGV4dCcgc3R5bGU9J3dpZHRoOjQ4O3RleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7JyBtYXhsZW5ndGg9JzMnIHZhbHVlPSciLiRkdFsnbm9wX2tlYyddLiInIG5hbWU9J25vcF9rZWMnIGlkPSdub3Bfa2VjJyB0aXRsZT0nS2VjYW1hdGFuJyBvbmJsdXI9J2ZtS2VjLnNldEtlYygpJz4KCQkJCTxpbnB1dCB0eXBlPSd0ZXh0JyBzdHlsZT0nd2lkdGg6NDg7dGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsnIG1heGxlbmd0aD0nMycgdmFsdWU9JyIuJGR0Wydub3Bfa2VsJ10uIicgbmFtZT0nbm9wX2tlbCcgaWQ9J25vcF9rZWwnIHRpdGxlPSdLZWx1cmFoYW4nIG9uYmx1cj0nZm1LZWwuc2V0S2VsKCknPgoJCQkJPGlucHV0IHR5cGU9J3RleHQnIHN0eWxlPSd3aWR0aDo0ODt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOycgbWF4bGVuZ3RoPSczJyB2YWx1ZT0nIi4kZHRbJ25vcF9ibG9rJ10uIicgbmFtZT0nbm9wX2Jsb2snIGlkPSdub3BfYmxvaycgdGl0bGU9J0Jsb2snPgoJCQkJPGlucHV0IHR5cGU9J3RleHQnIHN0eWxlPSd3aWR0aDo3Mjt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOycgbWF4bGVuZ3RoPSc0JyB2YWx1ZT0nIi4kZHRbJ25vcF91cnV0J10uIicgbmFtZT0nbm9wX3VydXQnIGlkPSdub3BfdXJ1dCcgdGl0bGU9J05vIFVydXQnPgoJCQkJPGlucHV0IHR5cGU9J3RleHQnIHN0eWxlPSd3aWR0aDoyMTt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOycgbWF4bGVuZ3RoPScxJyB2YWx1ZT0nIi4kZHRbJ25vcF9rb2RlJ10uIicgbmFtZT0nbm9wX2tvZGUnIGlkPSdub3Bfa29kZScgdGl0bGU9J0tvZGUnPgoJCQkJJm5ic3AgPGlucHV0IHR5cGU9J2J1dHRvbicgdGl0bGU9J0NlayBOT1AnIHZhbHVlPSdDZWsgTk9QJyBvbmNsaWNrPSciLiR0aGlzLT5QcmVmaXguIi5jZWtOT1AoKSc+IgoJCQkJLAoJCQkJJ3R5cGUnPT4nJwoJCQkpLAoJCQknYWxtX29wJyA9PiBhcnJheSgKCQkJCSdsYWJlbCc9PidBbGFtYXQnLAoJCQkJJ3ZhbHVlJz0+CgkJCQkJLyoiPHNlbGVjdCB0aXRsZT0nSmVuaXMgSmFsYW4nIGlkPSdqbnNqbG5fb3AnIG5hbWU9J2puc2psbl9vcCcgc3R5bGU9J21hcmdpbjogMCA0IDAgMCc+CgkJCQkJCTxvcHRpb24gdmFsdWU9Jyc+PC9vcHRpb24+CgkJCQkJCTxvcHRpb24gdmFsdWU9JzAnPkpsPC9vcHRpb24+CgkJCQkJCTxvcHRpb24gdmFsdWU9JzEnPkdnPC9vcHRpb24+CgkJCQkJPC9zZWxlY3Q+Ii4qLwoJCQkJCWNtYjJEX3YyKCdqbnNqbG5fb3AnLCRkdFsnam5zamxuX29wJ10sIGFycmF5KGFycmF5KCcwJywnSmwuJyksYXJyYXkoJzEnLCdHZy4nKSApLCcnLCcnKS4KCQkJCQknJm5ic3AnLgoJCQkJCUVudHJ5KCRkdFsnamxuX29wJ10sJ2psbl9vcCcsIiB0aXRsZT0nTmFtYSBKYWxhbicgc3R5bGU9J3dpZHRoOiAxNzBweDt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyciLCd0ZXh0JykuCgkJCQkJJyZuYnNwIE5vICcuRW50cnkoJGR0WydqbG5fbm9fb3AnXSwnamxuX25vX29wJywiIHRpdGxlPSdObyBSdW1haC9Mb2thc2knIHN0eWxlPSd3aWR0aDogNzlweDt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyciLCd0ZXh0JykKCQkJCSwKCQkJCSd0eXBlJz0+JycKCQkJKSwKCQkJLy8na2VjX29wJyA9PiBhcnJheSggJ2xhYmVsJz0+J0tlY2FtYXRhbicsICd2YWx1ZSc9PicnLCAndHlwZSc9Pid0ZXh0JyApCSwKCQkJLy8na2VsX29wJyA9PiBhcnJheSggJ2xhYmVsJz0+J0tlbHVyYWhhbicsICd2YWx1ZSc9PicnLCAndHlwZSc9Pid0ZXh0JyApCSwKCQkJJ3J3X3J0X29wJyA9PiBhcnJheSgKCQkJCSdsYWJlbCc9PidSVCAvIFJXJywKCQkJCSd2YWx1ZSc9PgoJCQkJCSI8dGFibGUgd2lkdGg9JzMyMCc+PHRyPjx0ZD4iLgoJCQkJCQlFbnRyeSgkZHRbJ3J0X29wJ10sJ3J0X29wJywiIHRpdGxlPSdSVCcgc3R5bGU9J3dpZHRoOjUwcHg7dGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsnIiwndGV4dCcpLicgLyAnLgoJCQkJCQlFbnRyeSgkZHRbJ3J3X29wJ10sJ3J3X29wJywiIHRpdGxlPSdSVycgc3R5bGU9J3dpZHRoOjUwcHg7dGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsnIiwndGV4dCcpLgoKCQkJCQkiPC90ZD48dGQgYWxpZ249J3JpZ2h0Jz4KCQkJCQk8L3RkPjwvdHI+PC90YWJsZT4iLAoJCQkJJ3R5cGUnPT4nJyApLAoJCQkna2VjX2tlbF9vcCcgPT4gYXJyYXkoCgkJCQknbGFiZWwnPT4nS2VsLiAvIEtlYy4nLAoJCQkJJ3ZhbHVlJz0+CgkJCQkJRW50cnkoJGR0WydrZWxfb3AnXSwna2VsX29wJywiIHJlYWRvbmx5PScnIHRpdGxlPSdLZWx1cmFoYW4nIHN0eWxlPSd3aWR0aDoxNTRweDt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyciLCd0ZXh0JykuJyAvICcuCgkJCQkJRW50cnkoJGR0WydrZWNfb3AnXSwna2VjX29wJywiIHJlYWRvbmx5PScnIHRpdGxlPSdLZWNhbWF0YW4nIHN0eWxlPSd3aWR0aDoxNTRweDt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyciLCd0ZXh0JykKCQkJCQkgLAoJCQkJJ3R5cGUnPT4nJyApLAoJCQkndmx1YXMnID0+IGFycmF5KCAnbGFiZWwnPT4nTHVhcyAobTIpJywKCQkJCSd2YWx1ZSc9PgoJCQkJCSdUYW5haCAmbmJzcDsnLgoJCQkJCUVudHJ5KCRkdFsnbHVhc190YW5haCddLCdsdWFzX3RhbmFoJywiIHRpdGxlPSdUYW5haCcgc3R5bGU9J3dpZHRoOjEwMDt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOycgIiwnbnVtYmVyJykuCgkJCQkJJyZuYnNwOyZuYnNwOyBCYW5ndW5hbiAmbmJzcDsnLgoJCQkJCUVudHJ5KCRkdFsnbHVhc19iYW5nJ10sJ2x1YXNfYmFuZycsIiB0aXRsZT0nTHVhcyBCYW5ndW5hbicgc3R5bGU9J3dpZHRoOjEwMDt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyciLCdudW1iZXInKQoJCQkJLCAndHlwZSc9PicnICkJLAoJCQkndm5pbGFpanVhbCcgPT4gYXJyYXkoICdsYWJlbCc9PidOaWxhaSBKdWFsIC9tMiAoUnApJywKCQkJCSd2YWx1ZSc9PgoJCQkJCSdUYW5haCAmbmJzcDsnLgoJCQkJCUVudHJ5KCRkdFsnbmlsYWlfdGFuYWgnXSwnbmlsYWlfdGFuYWgnLCIgdGl0bGU9J1RhbmFoJyBzdHlsZT0nd2lkdGg6MTAwO3RleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7JyAiLCdudW1iZXInKS4KCQkJCQknJm5ic3A7Jm5ic3A7IEJhbmd1bmFuICZuYnNwOycuCgkJCQkJRW50cnkoJGR0WyduaWxhaV9iYW5nJ10sJ25pbGFpX2JhbmcnLCIgdGl0bGU9J0x1YXMgQmFuZ3VuYW4nIHN0eWxlPSd3aWR0aDoxMDA7dGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsnIiwnbnVtYmVyJykKCQkJCSwgJ3R5cGUnPT4nJyApCSwKCQkJJ3ZrbGFzJyA9PiBhcnJheSggJ2xhYmVsJz0+J0tsYXMnLAoJCQkJJ3ZhbHVlJz0+CgkJCQkJJ1RhbmFoICZuYnNwOycuCgkJCQkJRW50cnkoJGR0WydrbGFzX3RhbmFoJ10sJ2tsYXNfdGFuYWgnLCIgdGl0bGU9J1RhbmFoJyBzdHlsZT0nd2lkdGg6MTAwO3RleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7JyAiLCd0ZXh0JykuCgkJCQkJJyZuYnNwOyZuYnNwOyBCYW5ndW5hbiAmbmJzcDsnLgoJCQkJCUVudHJ5KCRkdFsna2xhc19iYW5nJ10sJ2tsYXNfYmFuZycsIiB0aXRsZT0nTHVhcyBCYW5ndW5hbicgc3R5bGU9J3dpZHRoOjEwMDt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyciLCd0ZXh0JykKCQkJCSwgJ3R5cGUnPT4nJyApCSwKCQkJJ2xhYmVsd3AnID0+IGFycmF5KCAnbGFiZWwnPT4nU1VCSkVLIFBBSkFLJywgJ3ZhbHVlJz0+JzxiPlNVQkpFSyBQQUpBSycsICd0eXBlJz0+J21lcmdlJyApCSwKCQkJJ25wd3AnID0+IGFycmF5KAoJCQkJJ2xhYmVsJz0+J05QV1AnLAoJCQkJJ3ZhbHVlJz0+IEVudHJ5KCRkdFsnbnB3cCddLCducHdwJywic3R5bGU9J3RleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7JyIsJ3RleHQnKSwKCQkJCSd0eXBlJz0+JycKCQkJKSwKCQkJJ25hbWFfd3AnID0+IGFycmF5KCAnbGFiZWwnPT4nTmFtYScsICd2YWx1ZSc9PiRkdFsnbmFtYV93cCddLCAncGFyYW0nPT4ic3R5bGU9J3dpZHRoOiAzMThweDt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyciLCAndHlwZSc9Pid0ZXh0JyApCSwKCgkJCSdhbG1fd3AnID0+IGFycmF5KAoJCQkJJ2xhYmVsJz0+J0FsYW1hdCcsCgkJCQkndmFsdWUnPT4KCQkJCQljbWIyRF92Mignam5zamxuX3dwJywkZHRbJ2puc2psbl93cCddLCBhcnJheShhcnJheSgnMCcsJ0psLicpLGFycmF5KCcxJywnR2cuJykgKSwnJywnJykuCgkJCQkJJyZuYnNwJy4KCQkJCQlFbnRyeSgkZHRbJ2psbl93cCddLCdqbG5fd3AnLCIgdGl0bGU9J05hbWEgSmFsYW4nIHN0eWxlPSd3aWR0aDogMTcwcHg7dGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsnIiwndGV4dCcpLgoJCQkJCScmbmJzcCBObyAnLkVudHJ5KCRkdFsnamxuX25vX3dwJ10sJ2psbl9ub193cCcsIiB0aXRsZT0nTm8gUnVtYWhcTG9rYXNpJyBzdHlsZT0nd2lkdGg6IDc5cHg7dGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsnIiwndGV4dCcpLgoJCQkJCSImbmJzcCA8aW5wdXQgdHlwZT0nYnV0dG9uJyB0aXRsZT0nU2FsaW4gQWxhbWF0IE9QIGtlIFdQJyB2YWx1ZT0nU2FsaW4gQWxhbWF0IE9QJyBvbmNsaWNrPSciLiR0aGlzLT5QcmVmaXguIi5zYWxpbkFsbU9wKCknPiIKCQkJCSwKCQkJCSd0eXBlJz0+JycKCQkJKSwKCQkJLy8na2VjX3dwJyA9PiBhcnJheSggJ2xhYmVsJz0+J0tlY2FtYXRhbicsICd2YWx1ZSc9PicnLCAndHlwZSc9Pid0ZXh0JyApCSwJJ2tlbF93cCcgPT4gYXJyYXkoICdsYWJlbCc9PidLZWx1cmFoYW4nLCAndmFsdWUnPT4nJywgJ3R5cGUnPT4ndGV4dCcgKQksCgkJCSdyd19ydF93cCcgPT4gYXJyYXkoCgkJCQknbGFiZWwnPT4nUlQgLyBSVycsCgkJCQkndmFsdWUnPT4KCQkJCQlFbnRyeSgkZHRbJ3J0X3dwJ10sJ3J0X3dwJywiIHRpdGxlPSdSVCcgc3R5bGU9J3dpZHRoOjUwcHg7dGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsnIiwndGV4dCcpLicgLyAnLgoJCQkJCUVudHJ5KCRkdFsncndfd3AnXSwncndfd3AnLCIgdGl0bGU9J1JXJyBzdHlsZT0nd2lkdGg6NTBweDt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyciLCd0ZXh0JyksCgoJCQkJCS8vJyZuYnNwOyZuYnNwIEtvdGEgJy5FbnRyeSgkZHRbJ2tvdGFfd3AnXSwna290YV93cCcsIiB0aXRsZT0nS290YScgc3R5bGU9J3dpZHRoOjE3NXB4O3RleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7JyIsJ3RleHQnKSAsCgkJCQkndHlwZSc9PicnICksCgkJCSdrZWNfa2VsX3dwJyA9PiBhcnJheSgKCQkJCSdsYWJlbCc9PidLZWwuIC8gS2VjLicsCgkJCQkndmFsdWUnPT4KCQkJCQlFbnRyeSgkZHRbJ2tlbF93cCddLCdrZWxfd3AnLCIgdGl0bGU9J0tlbHVyYWhhbicgc3R5bGU9J3dpZHRoOjE1NHB4O3RleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7JyIsJ3RleHQnKS4nIC8gJy4KCQkJCQlFbnRyeSgkZHRbJ2tlY193cCddLCdrZWNfd3AnLCIgdGl0bGU9J0tlY2FtYXRhbicgc3R5bGU9J3dpZHRoOjE1NHB4O3RleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7JyIsJ3RleHQnKQoJCQkJCSwKCQkJCSd0eXBlJz0+JycgKSwKCQkJJ2tvdGFfd3AnID0+IGFycmF5KAoJCQkJJ2xhYmVsJz0+ICdLb3RhJywKCQkJCSd2YWx1ZSc9PiBFbnRyeSgkZHRbJ2tvdGFfd3AnXSwna290YV93cCcsIiB0aXRsZT0nS290YScgc3R5bGU9J3dpZHRoOjE3NXB4O3RleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7JyIsJ3RleHQnKSAsCgkJCQkndHlwZSc9PicnCgkJCSkKCgkJCS8vJ3J3X3dwJyA9PiBhcnJheSggJ2xhYmVsJz0+J1JXJywgJ3ZhbHVlJz0+JycsICd0eXBlJz0+J3RleHQnICkJLAkncnRfd3AnID0+IGFycmF5KCAnbGFiZWwnPT4nUlQnLCAndmFsdWUnPT4nJywgJ3R5cGUnPT4ndGV4dCcgKQksCgkJCS8vJ2tvdGFfd3AnID0+IGFycmF5KCAnbGFiZWwnPT4nS290YScsICd2YWx1ZSc9PicnLCAndHlwZSc9Pid0ZXh0JyApCSwKCQkJLyondmx1YXNfdGFuYWgnID0+IGFycmF5KCAnbGFiZWwnPT4nTHVhcyBUYW5haCAobTIpJywKCQkJCSd2YWx1ZSc9PgoJCQkJCUVudHJ5KCRkdFsnbHVhc190YW5haCddLCdsdWFzX3RhbmFoJywiIHRpdGxlPSdMdWFzIFRhbmFoJyAiLCdudW1iZXInKS4nJm5ic3A7Jm5ic3A7IEtsYXMgVGFuYWggJm5ic3A7Jm5ic3A7ICZuYnNwOyZuYnNwOyZuYnNwOycuCgkJCQkJRW50cnkoJGR0WydrbGFzX3RhbmFoJ10sJ2tsYXNfdGFuYWgnLCIgdGl0bGU9J0tsYXMgVGFuYWgnIG1heGxlbmd0aD0zIHNpemU9MyAiLCd0ZXh0JykKCQkJCSwgJ3R5cGUnPT4nJyApCSwKCQkJJ3ZsdWFzX2JhbmcnID0+IGFycmF5KCAnbGFiZWwnPT4nTHVhcyBCYW5ndW5hbiAobTIpJywKCQkJCSd2YWx1ZSc9PkVudHJ5KCRkdFsnbHVhc19iYW5nJ10sJ2x1YXNfYmFuZycsIiB0aXRsZT0nTHVhcyBCYW5ndW5hbicgIiwnbnVtYmVyJykuJyZuYnNwOyZuYnNwOyBLbGFzIEJhbmd1bmFuICcuCgkJCQkJRW50cnkoJGR0WydrbGFzX2JhbmcnXSwna2xhc19iYW5nJywiIHRpdGxlPSdLbGFzIEJhbmd1bmFuJyBtYXhsZW5ndGg9MyBzaXplPTMgIiwndGV4dCcpCgkJCQksICd0eXBlJz0+JycgKQksKi8KCgoJCQkvLydwZXR1Z2FzJyA9PiBhcnJheSggJ2xhYmVsJz0+J1BldHVnYXMgUGVuZXJpbWEnLCAndmFsdWUnPT4gJHBldHVnYXN2YWx1ZSwgJ3R5cGUnPT4nJywgKSwKCgkJKTsKCQkkdGhpcy0+Zm9ybV93aWR0aCA9IDcwMDsKCQkkdGhpcy0+Zm9ybV9oZWlnaHQgPSA0MDA7CgoKCgkJaWYgKCR0aGlzLT5mb3JtX2ZtU1Q9PTApIHsKCQkJJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdCYXJ1JzsKCQl9ZWxzZXsKCQkJJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdFZGl0JzsKCQl9CgkJJHRoaXMtPmZvcm1fbWVudWJhd2FoID0KCQkJIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdTaW1wYW4nIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5TaW1wYW4yKCknID4iLgoJCQkiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0JhdGFsJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuQ2xvc2UoKScgPiI7CgoJCS8vcmV0dXJuICRjb250ZW50OwoKCX0KCWZ1bmN0aW9uIGdlbkZvcm1fbWVudWJhd2FoX2FkZCgkY29udGVudCwgJGluc2VydD1GQUxTRSl7CgkJaWYoJGluc2VydCl7CgkJCSR0aGlzLT5mb3JtX21lbnViYXdhaCA9ICRjb250ZW50LiR0aGlzLT5mb3JtX21lbnViYXdhaDsKCQl9ZWxzZXsKCQkJJHRoaXMtPmZvcm1fbWVudWJhd2FoIC49ICRjb250ZW50OwoJCX0KCX0KCglmdW5jdGlvbiBnZW5Gb3JtX25vZGlhbG9nKCl7CgkJZ2xvYmFsICRhcHAsICRNYWluOwoJCS8vJHRoaXMtPnNldEZvcm1CYXJ1KCk7CgkJJHBhZGRpbmdNZW51UmlnaHQgPSA4OwoJCSRwYWRkaW5nTWVudUxlZnQgPSA4OwoJCSRwYWRkaW5nTWVudUJvdHRvbSA9IDk7CgkJJG1lbnVIZWlnaHQ9MjI7CgkJZWNobwoJCQkJLy8iPGh0bWwgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnPiIuCgkJCQkiPGh0bWw+Ii4KCQkJCQkvKiI8aGVhZD4iLgoJCQkJCQkkTWFpbi0+SFRNTF9UaXRsZS4KCQkJCQkJJE1haW4tPkhUTUxfTWV0YS4KCQkJCQkJJE1haW4tPkhUTUxfTGluay4KCQkJCQkJJHRoaXMtPnNldFBhZ2VfT3RoZXJTdHlsZSgpLgoKCQkJCQkJLy8kTWFpbi0+SFRNTF9TY3JpcHQuCgkJCQkJCSI8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPSciLiRwYXRoanMuImpzL2Jhc2UuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0Jz48L3NjcmlwdD4KCQkJCQkJPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nIi4kcGF0aGpzLiJqcy9qcXVlcnkuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0Jz48L3NjcmlwdD4KCQkJCQkJPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nIi4kcGF0aGpzLiJqcy9hamF4YzIuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0JyA+PC9zY3JpcHQ+CgkJCQkJCTxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9JyIuJHBhdGhqcy4ianMvZGlhbG9nLmpzJyBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgPjwvc2NyaXB0PgoJCQkJCQk8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPSciLiRwYXRoanMuImpzL3Vzci5qcycgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnID48L3NjcmlwdD4iLgoJCQkJCQkvLyR0aGlzLT5zZXRQYWdlX090aGVyU2NyaXB0KCkuCgkJCQkJCSI8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPSdwYWdlcy9wZW5kYXRhYW4vbW9kdWxfZW50cnkuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0JyA+PC9zY3JpcHQ+CgkJCQkJCTxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9J2pzL2RpYWxvZzEuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0JyA+PC9zY3JpcHQ+CgkJCQkJCTxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9J2pzL2pxdWVyeS5qcycgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnID48L3NjcmlwdD4iLgoJCQkJCQkiPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nanMvcGJib2JqLmpzJyBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgPjwvc2NyaXB0PiIuCgkJCQkJCSI8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPSdqcy8iLnN0cnRvbG93ZXIoJHRoaXMtPlByZWZpeCkuIi5qcycgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnID48L3NjcmlwdD4iLgoJCQkJCQkvLyRzY3JpcHRsb2FkOwoJCQkJCQkiPHNjcmlwdD4KCgkJCQkJCTwvc2NyaXB0PiIuCgkJCQkJIjwvaGVhZD4iLiovCgkJCQkJLy8kdGhpcy0+Z2VuSFRNTEhlYWQoKS4KCQkJCQkkYXBwLT5nZW5IVE1MSGVhZCgKCQkJCQkJJHRoaXMtPnNldFBhZ2VfT3RoZXJTdHlsZSgpLAoJCQkJCQkkdGhpcy0+c2V0UGFnZV9PdGhlclNjcmlwdF9ub2RpYWxvZygpCgkJCQkJKS4KCQkJCQkiPGJvZHkgb25sb2FkPSciLiR0aGlzLT5QcmVmaXguIi5mb3JtTm9EaWFsb2dfc2hvdygpJz4iLgoJCQkJCSI8dGFibGUgaWQ9J0tlcmFuZ2thSGFsJyBjbGFzcz0nbWVudWJhcicgY2VsbHNwYWNpbmc9JzAnIGNlbGxwYWRkaW5nPScwJyBib3JkZXI9JzAnIHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnID4iLgoJCQkJCQkvL2hlYWRlciBwYWdlIC0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJCQkJIjx0ciBoZWlnaHQ9JzM0Jz48dGQ+Ii4KCQkJCQkJCS8vJHRoaXMtPnNldFBhZ2VfSGVhZGVyKCkuCgkJCQkJCQkvL2NyZWF0ZUhlYWRlclBhZ2UoJHRoaXMtPlBhZ2VJY29uLCAkdGhpcy0+UGFnZVRpdGxlKS4KCQkJCQkJCWNyZWF0ZUhlYWRlclBhZ2UoJHRoaXMtPlBhZ2VJY29uLCAkdGhpcy0+UGFnZVRpdGxlLAoJCQkJCQkJCScnLCBGQUxTRSwgJ3BhZ2VoZWFkZXInLCAkdGhpcy0+aWNvX3dpZHRoLCAkdGhpcy0+aWNvX2hlaWdodAoJCQkJCQkJKS4KCQkJCQkJCSI8ZGl2IGlkPSdoZWFkZXInPjwvZGl2PiIuCgkJCQkJCSI8L3RkPjwvdHI+Ii4KCQkJCQkJLy8kT3RoZXJIZWFkZXJQYWdlLgoJCQkJCQkvL0NvbnRlbnQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJCQkJCSI8dHIgaGVpZ2h0PScqJyB2YWxpZ249J3RvcCc+IDx0ZCBzdHlsZT0ncGFkZGluZzowIDggMCA4Jz4iLgoKCQkJCQkJCSI8Zm9ybSBuYW1lPSckdGhpcy0+Rm9ybU5hbWUnIGlkPSckdGhpcy0+Rm9ybU5hbWUnIG1ldGhvZD0ncG9zdCcgYWN0aW9uPScnPiIuCgkJCQkJCQkJLy9Gb3JtIC0tLS0tLS0tLS0tLS0tLS0tLQoKCQkJCQkJCQkvLyR0aGlzLT5zZXRQYWdlX0NvbnRlbnQoKS4KCQkJCQkJCQkkdGhpcy0+c2V0Rm9ybV9jb250ZW50KCkuCgkJCQkJCQkJIjxkaXYgc3R5bGU9J3BhZGRpbmc6IDAgJHBhZGRpbmdNZW51UmlnaHQgJHBhZGRpbmdNZW51Qm90dG9tICRwYWRkaW5nTWVudUxlZnQ7aGVpZ2h0OiRtZW51SGVpZ2h0OyAnPgoJCQkJCQkJCTxkaXYgc3R5bGU9J2Zsb2F0OnJpZ2h0Oyc+Ii4KCQkJCQkJCQkJJHRoaXMtPmZvcm1fbWVudWJhd2FoLgoJCQkJCQkJCQkiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX2lkcGxoJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9pZHBsaCcgdmFsdWU9JyR0aGlzLT5mb3JtX2lkcGxoJyA+CgkJCQkJCQkJCTxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSciLiR0aGlzLT5QcmVmaXguIl9mbVNUJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9mbVNUJyB2YWx1ZT0nJHRoaXMtPmZvcm1fZm1TVCcgPiIuCgoJCQkJCQkJCSI8L2Rpdj4KCQkJCQkJCQk8L2Rpdj4iLgoJCQkJCQkJIjwvZm9ybT4iLgoKCQkJCQkJIjwvdGQ+PC90cj4iLgoJCQkJCQkvLyRPdGhlckNvbnRlbnRQYWdlLgoJCQkJCQkvL0Zvb3RlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJCQkJIjx0cj48dGQgaGVpZ2h0PScyOScgPiIuCgkJCQkJCQkvLyRhcHAtPmdlblBhZ2VGb290KEZBTFNFKS4KCQkJCQkJCSRNYWluLT5Db3B5UmlnaHQuCgkJCQkJCSI8L3RkPjwvdHI+Ii4KCQkJCQkJJE90aGVyRm9vdGVyUGFnZS4KCQkJCQkiPC90YWJsZT4iLgoJCQkJCSI8L2JvZHk+CgkJCQk8L2h0bWw+IjsKCX0KCglmdW5jdGlvbiBnZW5Gb3JtKCR3aXRoRm9ybT1UUlVFLCAkcGFyYW1zPU5VTEwsICRjZW50ZXI9VFJVRSwgJGZ1bGxTY3JlZW49RkFMU0UpewoJCSRmb3JtX25hbWUgPSAkdGhpcy0+UHJlZml4LidfZm9ybSc7CgoJCWlmICggJGZ1bGxTY3JlZW4gKSAkcGFyYW1zLT50aXBlPTE7CgkJJGZvcm09IGNyZWF0ZURpYWxvZygKCQkJJGZvcm1fbmFtZS4nX2RpdicsCgkJCSR0aGlzLT5zZXRGb3JtX2NvbnRlbnQoKSwKCQkJJHRoaXMtPmZvcm1fd2lkdGgsCgkJCSR0aGlzLT5mb3JtX2hlaWdodCwKCQkJJHRoaXMtPmZvcm1fY2FwdGlvbiwKCQkJJycsCgkJCSR0aGlzLT5mb3JtX21lbnViYXdhaC4KCQkJIjxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSciLiR0aGlzLT5QcmVmaXguIl9pZHBsaCcgbmFtZT0nIi4kdGhpcy0+UHJlZml4LiJfaWRwbGgnIHZhbHVlPSckdGhpcy0+Zm9ybV9pZHBsaCcgPgoJCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nIi4kdGhpcy0+UHJlZml4LiJfZm1TVCcgbmFtZT0nIi4kdGhpcy0+UHJlZml4LiJfZm1TVCcgdmFsdWU9JyR0aGlzLT5mb3JtX2ZtU1QnID4iCgkJCSwvLyR0aGlzLT5zZXRGb3JtX21lbnViYXdhaF9jb250ZW50KCksCgkJCSR0aGlzLT5mb3JtX21lbnVfYmF3YWhfaGVpZ2h0LCcnLCRwYXJhbXMKCQkpOwoJCWlmKCR3aXRoRm9ybSkgJGZvcm09ICI8Zm9ybSBuYW1lPSckZm9ybV9uYW1lJyBpZD0nJGZvcm1fbmFtZScgbWV0aG9kPSdwb3N0JyBhY3Rpb249Jyc+Ii4kZm9ybS4iPC9mb3JtPiI7CgkJaWYoJGNlbnRlcikgJGZvcm0gPSBjZW50ZXJQYWdlKCAkZm9ybSApOwoKCQkvKmlmKCR3aXRoRm9ybSl7CgkJCSRmb3JtPSAiPGZvcm0gbmFtZT0nJGZvcm1fbmFtZScgaWQ9JyRmb3JtX25hbWUnIG1ldGhvZD0ncG9zdCcgYWN0aW9uPScnID4iLgoJCQkJY3JlYXRlRGlhbG9nKAoJCQkJCSRmb3JtX25hbWUuJ19kaXYnLAoJCQkJCSR0aGlzLT5zZXRGb3JtX2NvbnRlbnQoKSwKCQkJCQkkdGhpcy0+Zm9ybV93aWR0aCwKCQkJCQkkdGhpcy0+Zm9ybV9oZWlnaHQsCgkJCQkJJHRoaXMtPmZvcm1fY2FwdGlvbiwKCQkJCQknJywKCQkJCQkkdGhpcy0+Zm9ybV9tZW51YmF3YWguCgkJCQkJIjxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSciLiR0aGlzLT5QcmVmaXguIl9pZHBsaCcgbmFtZT0nIi4kdGhpcy0+UHJlZml4LiJfaWRwbGgnIHZhbHVlPSckdGhpcy0+Zm9ybV9pZHBsaCcgPgoJCQkJCTxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSciLiR0aGlzLT5QcmVmaXguIl9mbVNUJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9mbVNUJyB2YWx1ZT0nJHRoaXMtPmZvcm1fZm1TVCcgPiIKCQkJCQksLy8kdGhpcy0+c2V0Rm9ybV9tZW51YmF3YWhfY29udGVudCgpLAoJCQkJCSR0aGlzLT5mb3JtX21lbnVfYmF3YWhfaGVpZ2h0LCcnLCRwYXJhbXMpLgoJCQkJIjwvZm9ybT4iOwoKCQl9ZWxzZXsKCQkJJGZvcm09CgkJCQljcmVhdGVEaWFsb2coCgkJCQkJJGZvcm1fbmFtZS4nX2RpdicsCgkJCQkJJHRoaXMtPnNldEZvcm1fY29udGVudCgpLAoJCQkJCSR0aGlzLT5mb3JtX3dpZHRoLAoJCQkJCSR0aGlzLT5mb3JtX2hlaWdodCwKCQkJCQkkdGhpcy0+Zm9ybV9jYXB0aW9uLAoJCQkJCScnLAoJCQkJCSR0aGlzLT5mb3JtX21lbnViYXdhaC4KCQkJCQkiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX2lkcGxoJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9pZHBsaCcgdmFsdWU9JyR0aGlzLT5mb3JtX2lkcGxoJyA+CgkJCQkJPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX2ZtU1QnIG5hbWU9JyIuJHRoaXMtPlByZWZpeC4iX2ZtU1QnIHZhbHVlPSckdGhpcy0+Zm9ybV9mbVNUJyA+IgoJCQkJCSwvLyR0aGlzLT5zZXRGb3JtX21lbnViYXdhaF9jb250ZW50KCksCgkJCQkJJHRoaXMtPmZvcm1fbWVudV9iYXdhaF9oZWlnaHQsJycsJHBhcmFtcwoJCQkJKTsKCgoJCX0qLwoKCQkvL2lmKCRjZW50ZXIpewkJCSRmb3JtID0gY2VudGVyUGFnZSggJGZvcm0gKTsJCQl9CgoJCXJldHVybiAkZm9ybTsKCX0KLy9EQUZUQVIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoJZnVuY3Rpb24gc2V0VGl0bGUoKXsKCQlyZXR1cm4gJ0RhZnRhciBQZW5ldGFwYW4gU1BQVCc7Cgl9CglmdW5jdGlvbiBzZXRNZW51RWRpdCgpewoJCS8qJGJ1dHRvbkVkaXRzID0gYXJyYXkoCgkJCWFycmF5KCdsYWJlbCc9PidTUFBUIEJhcnUnLCAnaWNvbic9PiduZXdfZjIucG5nJywnZm4nPT4iamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5CYXJ1KCkiICkKCQkpOyovCgkJcmV0dXJuCgkJCSI8dGQ+Ii5nZW5QYW5lbEljb24oImphdmFzY3JpcHQ6Ii4kdGhpcy0+UHJlZml4LiIuQmFydSgpIiwibmV3X2YyLnBuZyIsIkJhcnUiLCdCYXJ1JykuIjwvdGQ+Ii4KCQkJIjx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5FZGl0KCkiLCJlZGl0X2YyLnBuZyIsIkVkaXQiLCAnRWRpdCcpLiI8L3RkPiIuCgkJCSI8dGQ+Ii5nZW5QYW5lbEljb24oImphdmFzY3JpcHQ6Ii4kdGhpcy0+UHJlZml4LiIuSGFwdXMoKSIsImRlbGV0ZV9mMi5wbmciLCJIYXB1cyIsICdIYXB1cycpLiI8L3RkPiI7CgkJCS8vIjx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5IYXB1cygpIiwiZGVsZXRlX2YyLnBuZyIsIlJlY3ljbGUgQmluIiwgJ0JhdGFsa2FuIFNQUFQnKS4iPC90ZD4iOwoJfQoJZnVuY3Rpb24gc2V0TWVudVZpZXcoKXsKCQlyZXR1cm4KCQkJLy8iPHRkPiIuZ2VuUGFuZWxJY29uKCJqYXZhc2NyaXB0OiIuJHRoaXMtPlByZWZpeC4iLmNldGFrSGFsKCkiLCJwcmludF9mMi5wbmciLCJTUFBUIiwnQ2V0YWsgU1BQVCcpLiI8L3RkPiIuCgkJCSI8dGQ+Ii5nZW5QYW5lbEljb24oImphdmFzY3JpcHQ6Ii4kdGhpcy0+UHJlZml4LiIuY2V0YWtIYWwoKSIsInByaW50X2YyLnBuZyIsJ0hhbGFtYW4nLCJDZXRhayBEYWZ0YXIgcGVyIEhhbGFtYW4iKS4iPC90ZD4iLgoJCQkiPHRkPiIuZ2VuUGFuZWxJY29uKCJqYXZhc2NyaXB0OiIuJHRoaXMtPlByZWZpeC4iLmNldGFrQWxsKCkiLCJwcmludF9mMi5wbmciLCdTZW11YScsIkNldGFrIFNlbXVhIERhZnRhciIpLiI8L3RkPiI7CgkJCS8vIjx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5leHBvcnRYbHMoKSIsInByaW50X2YyLnBuZyIsIkV4Y2VsIiwnRXhwb3J0IGtlIEV4Y2VsbCcpLiI8L3RkPiI7CgkJCS8vIjx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5jZXRha0hhbCgpIiwiZWRpdF9mMi5wbmciLCJEZWZhdWx0IiwnU2V0dGluZyBEZWZhdWx0JykuIjwvdGQ+IjsKCX0KCWZ1bmN0aW9uIGdlbk1lbnUoKXsKCQlnbG9iYWwgJEhUVFBfQ09PS0lFX1ZBUlM7CgkJJE15TW9kdWxLVSA9IGV4cGxvZGUoIi4iLCAkSFRUUF9DT09LSUVfVkFSU1siY29Nb2R1bCJdKTsKCgoJCS8vJHRoaXMtPm5vTW9kdWwgPSAxOwoJCSRtZW51ZWRpdCA9ICcnOwovLwkJaWYoICRNeU1vZHVsS1VbJHRoaXMtPm5vTW9kdWwtMSBdID09IDEgKSB7Ci8vCQkJJG1lbnVlZGl0ID0gJHRoaXMtPnNldE1lbnVFZGl0KCk7Ci8vCQl9CgkJCSRtZW51ZWRpdCA9ICR0aGlzLT5zZXRNZW51RWRpdCgpOwoKCQkkU3ViVGl0bGVfbWVudSA9CgkJCSI8ZGl2IHN0eWxlPSdmbG9hdDpyaWdodDsnPgoJCQk8ZGl2PjxkaXY+PC9kaXY+PGRpdj4kc2NyaXB0TWVudTwvZGl2PjwvZGl2PgoJCQk8dGFibGUgPjx0cj4iLgoJCQkkbWVudWVkaXQuLy8kdGhpcy0+U2V0UGFnZV9Ub29sYmFyQXRhc0VkaXQoKS4KCQkJJHRoaXMtPnNldE1lbnVWaWV3KCkuCgkJCSI8L3RyPgoJCQk8L3RhYmxlPgoJCQk8L2Rpdj4iOwoJCXJldHVybiAkU3ViVGl0bGVfbWVudTsKCX0KCWZ1bmN0aW9uIHNldFRvcEJhcigpewoJCXJldHVybiBnZW5TdWJUaXRsZSgkdGhpcy0+c2V0VGl0bGUoKSwkdGhpcy0+Z2VuTWVudSgpKTsKCX0KCWZ1bmN0aW9uIGdldERhZnRhcl9saW1pdCgkTW9kZT0xKXsKCQlnbG9iYWwgJE1haW47CgkJJExpbWl0PScnOyAkTm9Bd2FsID0gMDsKCQkkcGFnZVBlckhhbCA9ICR0aGlzLT5wYWdlUGVySGFsPT0nJz8gJE1haW4tPlBhZ2VQZXJIYWwgOiAkdGhpcy0+cGFnZVBlckhhbDsKCQkvL2xpbWl0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJJEhhbERlZmF1bHQ9Y2VrUE9TVCgkdGhpcy0+UHJlZml4LidfaGFsJywxKTsvL2Nla1BPU1QoJ0hhbERlZmF1bHQnLDEpOwoJCSRMaW1pdCA9ICIgbGltaXQgIi4oKCRIYWxEZWZhdWx0CSoxKSAtIDEpICogJHBhZ2VQZXJIYWwuIiwiLiRwYWdlUGVySGFsOyAvLyRMaW1pdEhhbCA9ICcnOwoJCSRMaW1pdCA9ICRNb2RlID09IDMgPyAnJzogJExpbWl0OwoJCS8vbm9hd2FsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCSROb0F3YWw9ICRwYWdlUGVySGFsICogKCgkSGFsRGVmYXVsdCoxKSAtIDEpOwoJCSROb0F3YWwgPSAkTW9kZSA9PSAzID8gMDogJE5vQXdhbDsKCgkJcmV0dXJuIGFycmF5KCdMaW1pdCc9PiRMaW1pdCwgJ05vQXdhbCcgPT4gJE5vQXdhbCk7Cgl9CglmdW5jdGlvbiBnZXREYWZ0YXJPcHNpKCRNb2RlPTEpewoJCWdsb2JhbCAkTWFpbiwgJEhUVFBfQ09PS0lFX1ZBUlM7CgkJJFVJRCA9ICRfQ09PS0lFWydjb0lEJ107CgkJLy9rb25kaXNpIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoJCSRmbVNUQVRVUyA9IGNla1BPU1QoJ2ZtU1RBVFVTJyk7CgkJLy8kdGdsID0gZXhwbG9kZSgnLScsJGZtVEdMVEVSSU1BKTsKCQkkYXJyS29uZGlzaSA9IGFycmF5KCk7CgkJLy9kZWZhdWx0IC0tLS0tLS0tLS0tLS0tLS0KCQkvLyRhcnJLb25kaXNpW10gPSAiIHVpZD0nJFVJRCciOwoKCQkkZm1QSUxDQVJJID0gY2VrUE9TVCgnZm1QSUxDQVJJJyk7CgkJJGZtUElMQ0FSSVZBTFVFID0gY2VrUE9TVCgnZm1QSUxDQVJJVkFMVUUnKTsKCQlzd2l0Y2goJGZtUElMQ0FSSSl7CgkJCWNhc2UgJzEnOiAkYXJyS29uZGlzaVtdID0gIiBjb25jYXQobm9wX3Byb3AsJy4nLG5vcF9rb3RhLCcuJyxub3Bfa2VjLCcuJyxub3Bfa2VsLCcuJyxub3BfYmxvaywnLicsbm9wX3VydXQsJy4nLG5vcF9rb2RlKSBsaWtlICclJGZtUElMQ0FSSVZBTFVFJSciOyBicmVhazsKCQkJY2FzZSAnMic6ICRhcnJLb25kaXNpW10gPSAiIGxwYWQobm9fc3BwdCw1LCcwJykgbGlrZSAnJSRmbVBJTENBUklWQUxVRSUnIjsgYnJlYWs7CgkJCWNhc2UgJzMnOiAkYXJyS29uZGlzaVtdID0gIiBuYW1hX3dwIGxpa2UgJyUkZm1QSUxDQVJJVkFMVUUlJyI7IGJyZWFrOwoKCQl9CgkJc3dpdGNoKCRmbVNUQVRVUyl7CgkJCWNhc2UgJzEnOiAkYXJyS29uZGlzaVtdID0gIiBzdGF0dXNfYmF0YWwgPD4gMyBhbmQgc3RhdHVzX2JhdGFsIDw+IDQgIjsgYnJlYWs7CgkJCWNhc2UgJzInOiAkYXJyS29uZGlzaVtdID0gIiBzdGF0dXNfYmF0YWwgPSAzICI7IGJyZWFrOwoJCQljYXNlICczJzogJGFycktvbmRpc2lbXSA9ICIgc3RhdHVzX2JhdGFsID0gNCAiOyBicmVhazsKCQl9CgoJCSRmbVBJTEtBUyA9IGNla1BPU1QoJ2ZtUElMS0FTJyk7CgkJaWYoICFlbXB0eSgkZm1QSUxLQVMpICkgJGFycktvbmRpc2lbXSA9ICIgcmVmX2FkbWluX2dyb3VwPSckZm1QSUxLQVMnIjsKCQkkS29uZGlzaT0gam9pbignIGFuZCAnLCRhcnJLb25kaXNpKTsKCQkkS29uZGlzaSA9ICRLb25kaXNpID09JycgPyAnJzonIFdoZXJlICcuJEtvbmRpc2k7CgkJLy9PcmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJJGZtT1JERVIxID0gY2VrUE9TVCgnZm1PUkRFUjEnKTsKCQkkZm1ERVNDMSA9IGNla1BPU1QoJ2ZtREVTQzEnKTsKCQkkQXNjID0gJGZtREVTQzEgPT0nJz8gJyc6ICdkZXNjJzsKCQkkYXJyT3JkZXJzID0gYXJyYXkoKTsKCQlzd2l0Y2goJGZtT1JERVIxKXsKCQkJY2FzZSAnMSc6ICRhcnJPcmRlcnNbXSA9ICIgbm9fdGVyaW1hICRBc2MgIiA7YnJlYWs7CgkJCWNhc2UgJzInOiAkYXJyT3JkZXJzW10gPSAiIGkgJEFzYyAiIDticmVhazsKCQl9CgkJJE9yZGVyPSBqb2luKCcsJywkYXJyT3JkZXJzKTsKCQkkT3JkZXJEZWZhdWx0ID0gJyc7Ly8gT3JkZXIgQnkgbm9fdGVyaW1hIGRlc2MgJzsKCQkkT3JkZXIgPSAgJE9yZGVyID09Jyc\/ICRPcmRlckRlZmF1bHQgOiAnIE9yZGVyIEJ5ICcuJE9yZGVyOwoJCS8vbGltaXQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkkcGFnZVBlckhhbCA9ICR0aGlzLT5wYWdlUGVySGFsID09JycgPyAkTWFpbi0+UGFnZVBlckhhbDogJHRoaXMtPnBhZ2VQZXJIYWw7CgkJJEhhbERlZmF1bHQ9Y2VrUE9TVCgkdGhpcy0+UHJlZml4LidfaGFsJywxKTsKCQkvLyRMaW1pdCA9ICIgbGltaXQgIi4oKCRIYWxEZWZhdWx0CSoxKSAtIDEpICogJE1haW4tPlBhZ2VQZXJIYWwuIiwiLiRNYWluLT5QYWdlUGVySGFsOyAvLyRMaW1pdEhhbCA9ICcnOwoJCSRMaW1pdCA9ICIgbGltaXQgIi4oKCRIYWxEZWZhdWx0CSoxKSAtIDEpICogJHBhZ2VQZXJIYWwuIiwiLiRwYWdlUGVySGFsOyAvLyRMaW1pdEhhbCA9ICcnOwoJCSRMaW1pdCA9ICRNb2RlID09IDMgPyAnJzogJExpbWl0OwoJCS8vbm9hd2FsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCSROb0F3YWw9ICRwYWdlUGVySGFsICogKCgkSGFsRGVmYXVsdCoxKSAtIDEpOwoJCSROb0F3YWwgPSAkTW9kZSA9PSAzID8gMDogJE5vQXdhbDsKCgkJJHZLb25kaXNpMl9vbGQgPSAnJzsKCQlyZXR1cm4gYXJyYXkoJ0tvbmRpc2knPT4kS29uZGlzaSwgJ09yZGVyJz0+JE9yZGVyICwnTGltaXQnPT4kTGltaXQsICdOb0F3YWwnPT4kTm9Bd2FsLCAndktvbmRpc2kyX29sZCc9PiR2S29uZGlzaTJfb2xkKTsKCgl9CglmdW5jdGlvbiBnZW5EYWZ0YXJPcHNpKCl7CgkJZ2xvYmFsICRSZWYsICRNYWluOwoJCSRhcnIgPSBhcnJheSgKCQkJYXJyYXkoJzEnLCdOby4gTk9QJyksCgkJCWFycmF5KCcyJywnTm8uIFNQUFQnKSwKCQkJYXJyYXkoJzMnLCdOYW1hIFN1YmplayBQYWphaycpLAoJCQkpOwoJCSRhcnIxID0gYXJyYXkoCgkJCWFycmF5KCcxJywnTm8uIE5PUCcpLAoJCQlhcnJheSgnMicsJ05vLiBTUFBUJyksCgkJCWFycmF5KCczJywnTmFtYSBTdWJqZWsgUGFqYWsnKSwKCQkpOwoJCSRhcnJTdGF0ID0gYXJyYXkoCgkJCWFycmF5KCcxJywnVGlkYWsgQmF0YWwnKSwKCQkJYXJyYXkoJzInLCdCYXRhbCcpLAoJCQlhcnJheSgnMycsJ0RpaGFwdXMnKSwKCQkpOwoJCSRhcnJLZWMgPSBhcnJheSgpOwoJCSRhcnJLZWwgPSBhcnJheSgpOwoJCSRmbVRHTFRFUklNQSA9IGRhdGUoJ1ktbS1kJyk7Ly9kZWZhdWx0CgkJJGZtVEdMVEVSSU1BMiA9IGRhdGUoJ1ktbS1kJyk7CgkJJFRhbXBpbE9wdCA9CgkJCWdlbkZpbHRlckJhcigKCQkJCWFycmF5KAoJCQkJCSdDYXJpIERhdGEgJywKCQkJCQljbWJBcnJheSgnZm1QSUxDQVJJJywkZm1QSUxDQVJJLCRhcnIsJy0tIEJlcmRhc2Fya2FuIC0tJywnJykuCgkJCQkJIiZuYnNwOzxpbnB1dCB0eXBlPSd0ZXh0JyB2YWx1ZT0nJGZtUElMQ0FSSVZBTFVFJyBpZD0nZm1QSUxDQVJJVkFMVUUnIG5hbWU9J2ZtUElMQ0FSSVZBTFVFJz4iCgkJCQkpCgkJCQksJHRoaXMtPlByZWZpeC4iLnJlZnJlc2hMaXN0KHRydWUpIixUUlVFLCAnQ2FyaScpLgoJCQlnZW5GaWx0ZXJCYXIoCgkJCQlhcnJheSgKCQkJCQknVGFtcGlsa2FuJywKCQkJCQljbWJBcnJheSgnZm1QaWxLZWMnLCRmbVBpbEtlYywkYXJyS2VjLCdTZW11YSBLZWNhbWF0YW4nLCcnKSwKCQkJCQljbWJBcnJheSgnZm1QaWxLZWwnLCRmbVBpbEtlbCwkYXJyS2VsLCdTZW11YSBLZWx1cmFoYW4nLCcnKSwKCQkJCQljbWJBcnJheSgnZm1QaWxUaG4nLCRmbVBpbFRobiwkYXJyVGhuLCdTZW11YSBUYWh1bicsJycpLAoJCQkJCSJEYXRhIHBlciBIYWxhbWFuICZuYnNwOyZuYnNwOyA8aW5wdXQgdHlwZT0ndGV4dGJveCcgaWQ9J2ptbFBlckhhbCcgdmFsdWU9JyRNYWluLT5QYWdlUGVySGFsJyBzdHlsZT0nd2lkdGg6NTAnPiIKCgkJCQkpCgkJCQksJycsRkFMU0UsJycpLgoJCQkvKmdlbkZpbHRlckJhcigKCQkJCWFycmF5KAoJCQkJCSdMb2thc2kgJm5ic3A7ICcuCgkJCQkJZ2VuQ29tYm9Cb3hRcnkoICdmbVBJTEtBUycsICRmbVBJTEtBUywKCQkJCQkJInNlbGVjdCBJZCwgdXJhaWFuIGZyb20gYWRtaW5fZ3JvdXAgIiwKCQkJCQkJJ0lkJywgJ3VyYWlhbicsICctLSBTZW11YSBMb2thc2kgS2FzIC0tJywic3R5bGU9J3dpZHRoOjE0MCciICksCgkJCQkJLy8iUGVuZXJpbWEgJm5ic3A7IDxpbnB1dCBpZD0nZm1ObVBlbmVyaW1hJyBuYW1lPSdmbU5tUGVuZXJpbWEnIHZhbHVlPSckZm1ObVBlbmVyaW1hJz4iCgkJCQkJIlN0YXR1cyAmbmJzcDsiLmNtYkFycmF5KCdmbVNUQVRVUycsJGZtU1RBVFVTLCRhcnJTdGF0LCctLSBTZW11YSBTdGF0dXMgLS0nLCcnKQoKCQkJCSkKCQkJCSwnJyxGQUxTRSkuKi8KCQkJZ2VuRmlsdGVyQmFyKAoJCQkJYXJyYXkoCgkJCQkJJ1VydXRrYW4gJm5ic3A7JywKCQkJCQljbWJBcnJheSgnZm1PUkRFUjEnLCRmbU9SREVSMSwkYXJyMSwnLS0gQmVyZGFzYXJrYW4gLS0nLCcnKS4iPGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nZm1ERVNDMScgbmFtZT0nZm1ERVNDMScgdmFsdWU9JzEnPk1lbnVydW4iCgkJCQkpCgkJCQksJHRoaXMtPlByZWZpeC4iLnJlZnJlc2hMaXN0KHRydWUpIixUUlVFLCAnVGFtcGlsa2FuJyk7CgoKCQlyZXR1cm4gYXJyYXkoJ1RhbXBpbE9wdCc9PiRUYW1waWxPcHQpOwoJfQoJZnVuY3Rpb24gc2V0S29sb21IZWFkZXIoJE1vZGU9MSwgJENoZWNrYm94PScnKXsKCQkkTm9tb3JDb2xTcGFuID0gJE1vZGU9PTE\/IDI6IDE7CgkJJGhlYWRlclRhYmxlID0KCQkJIjx0aGVhZD4KCQkJCTx0cj4KCQkJCTx0aCBjbGFzcz0ndGgwMicgY29sc3Bhbj0kTm9tb3JDb2xTcGFuPk5vbW9yPC90aD4KCQkJCTx0aCBjbGFzcz0ndGgwMScgcm93c3Bhbj0yPk5PUCBkYW4gTEVUQUsgPGJyPk9CSkVLIFBBSkFLPC90aD4KCQkJCTx0aCBjbGFzcz0ndGgwMScgcm93c3Bhbj0yPk5QV1AsIE5BTUEgZGFuIEFMQU1BVCA8YnI+IFNVQkpFSyBQQUpBSzwvdGg+CgkJCQk8dGggY2xhc3M9J3RoMDEnIHJvd3NwYW49MndpZHRoPSc2MCc+VEFIVU48L3RoPgoJCQkJPHRoIGNsYXNzPSd0aDAyJyBjb2xzcGFuPTQgd2lkdGg9JzIwMCc+T0JKRUsgUEFKQUsgQlVNSTwvdGg+CgkJCQk8dGggY2xhc3M9J3RoMDInIGNvbHNwYW49NCB3aWR0aD0nMjAwJz5PQkpFSyBQQUpBSyBCQU5HVU5BTjwvdGg+CgkJCQk8dGggY2xhc3M9J3RoMDEnIHJvd3NwYW49Mj5UT1RBTCBOSk9QIDxicj5CVU1JIGRhbiBCQU5HVU5BTjxicj4oUnApPC90aD4KCQkJCTx0aCBjbGFzcz0ndGgwMScgcm93c3Bhbj0yPlRvdGFsIE5KT1BQVEtQPGJyPihScCk8L3RoPgoJCQkJPHRoIGNsYXNzPSd0aDAxJyByb3dzcGFuPTI+VG90YWwgTkpPUCBESUtVUkFOR0kgTkpPUFBUS1A8YnI+KFJwKTwvdGg+CgkJCQk8dGggY2xhc3M9J3RoMDEnIHJvd3NwYW49Mj5QQkIgVEVSSFVUQU5HPGJyPihScCk8L3RoPgoJCQkJPHRoIGNsYXNzPSd0aDAxJyByb3dzcGFuPTI+VEdMLiBTUFBULzxicj5UR0wuIEouIFRFTVBPLzxicj5TVEFUVVM8L3RoPgoJCQkJPHRoIGNsYXNzPSd0aDAxJyByb3dzcGFuPTI+VVBEQVRFIDxicj5URVJBS0hJUjwvdGg+CgkJCQk8L3RyPgoJCQkJPHRyPgoJCQkJJENoZWNrYm94CgkJCQk8dGggY2xhc3M9J3RoMDEnIHdpZHRoPSc0MCc+Tm8uPC90aD4KCQkJCTx0aCBjbGFzcz0ndGgwMScgd2lkdGg9JzcwJz5MdWFzIDxicj4obTIpPC90aD4KCQkJCTx0aCBjbGFzcz0ndGgwMScgd2lkdGg9JzcwJz5LZWxhczwvdGg+CgkJCQk8dGggY2xhc3M9J3RoMDEnIHdpZHRoPSc3MCc+cGVyIG0yPGJyPihScCk8L3RoPgoJCQkJPHRoIGNsYXNzPSd0aDAxJyB3aWR0aD0nNzAnPlRvdGFsIE5KT1A8YnI+KFJwKTwvdGg+CgoKCQkJCTx0aCBjbGFzcz0ndGgwMScgd2lkdGg9JzcwJz5MdWFzIDxicj4obTIpPC90aD4KCQkJCTx0aCBjbGFzcz0ndGgwMScgd2lkdGg9JzcwJz5LZWxhczwvdGg+CgkJCQk8dGggY2xhc3M9J3RoMDEnIHdpZHRoPSc3MCc+cGVyIG0yPGJyPihScCk8L3RoPgoJCQkJPHRoIGNsYXNzPSd0aDAxJyB3aWR0aD0nNzAnPlRvdGFsIE5KT1A8YnI+KFJwKTwvdGg+CgoJCQkJPC90cj4KCQkJPC90aGVhZD4iOwoJCXJldHVybiAkaGVhZGVyVGFibGU7Cgl9CglmdW5jdGlvbiBzZXRLb2xvbURhdGEoJG5vLCAkaXNpLCAkTW9kZSwgJFRhbXBpbENoZWNrQm94KXsKCQlnbG9iYWwgJFJlZjsKCQkkYXJyU3RhdHVzID0gYXJyYXkgKCcnLCcnLCcnLCAnQmF0YWwnLCdEaWhhcHVzJyk7CgkJJG5vcCA9ICRpc2lbJ25vcF9wcm9wJ10uJy4nLgoJCQkkaXNpWydub3Bfa290YSddLicuJy4KCQkJJGlzaVsnbm9wX2tlYyddLicuJy4KCQkJJGlzaVsnbm9wX2tlbCddLicuJy4KCQkJJGlzaVsnbm9wX2Jsb2snXS4nLicuCgkJCSRpc2lbJ25vcF91cnV0J10uJy4nLgoJCQkkaXNpWydub3Bfa29kZSddOwoJCQkgLy9nZW5OdW1iZXIoJGlzaVsnbm9fdGVyaW1hJ10sNSk7CgoJCSRhbG1vcCAuPSAkaXNpWydqbnNqbG5fb3AnXT09MT8iR2cuICI6IkpsLiAiOwoJCSRhbG1vcCAuPSAhZW1wdHkoJGlzaVsnamxuX29wJ10pPyIiLiRpc2lbJ2psbl9vcCddOiIiOwoJCSRhbG1vcCAuPSAhZW1wdHkoJGlzaVsnamxuX25vX29wJ10pPyImbmJzcDtOby4gIi4kaXNpWydqbG5fbm9fb3AnXToiIjsKCQkkYWxtb3AgLj0gISggJGlzaVsncnRfb3AnXS4kaXNpWydyd19vcCddID09JycgKSA\/ICImbmJzcDtSVC9SVzogIi4kaXNpWydydF9vcCddLiIvIi4kaXNpWydyd19vcCddIDogIiI7CgkJJGFsbW9wIC49ICFlbXB0eSgkaXNpWydrZWxfb3AnXSk\/Ijxicj5LRUw6ICIuJGlzaVsna2VsX29wJ106IiI7CgkJJGFsbW9wIC49ICFlbXB0eSgkaXNpWydrZWNfb3AnXSk\/Ijxicj5LRUM6ICIuJGlzaVsna2VjX29wJ106IiI7CgoJCS8vJGFsbW9wIC49ICFlbXB0eSgkaXNpWydrb3RhX29wJ10pPyI8YnI+Ii4kaXNpWydrb3RhX29wJ106IiI7CgoJCSRhbG13cCAuPSAkaXNpWydqbnNqbG5fd3AnXT09MT8iR2cuICI6IkpsLiAiOwoJCSRhbG13cCAuPSAhZW1wdHkoJGlzaVsnamxuX3dwJ10pPyIiLiRpc2lbJ2psbl93cCddOiIiOwoJCSRhbG13cCAuPSAhZW1wdHkoJGlzaVsnamxuX25vX3dwJ10pPyImbmJzcDtOby4gIi4kaXNpWydqbG5fbm9fd3AnXToiIjsKCQkkYWxtd3AgLj0gISggJGlzaVsncnRfd3AnXS4kaXNpWydyd193cCddID09JycgKSA\/ICImbmJzcDtSVC9SVzogIi4kaXNpWydydF93cCddLiIvIi4kaXNpWydyd193cCddIDogIiI7CgkJJGFsbXdwIC49ICFlbXB0eSgkaXNpWydrZWxfd3AnXSk\/Ijxicj5LRUw6ICIuJGlzaVsna2VsX3dwJ106IiI7CgkJJGFsbXdwIC49ICFlbXB0eSgkaXNpWydrZWNfd3AnXSk\/Ijxicj5LRUM6ICIuJGlzaVsna2VjX3dwJ106IiI7CgkJJGFsbXdwIC49ICFlbXB0eSgkaXNpWydrb3RhX3dwJ10pPyI8YnI+Ii4kaXNpWydrb3RhX3dwJ106IiI7CgoJCSR3cCA9ICFlbXB0eSgkaXNpWyducHdwJ10pPyAkaXNpWyducHdwJ10uJzxicj4nIDogJy08YnI+JzsKCQkkd3AgLj0gJGlzaVsnbmFtYV93cCddOwoKCQkkS29sb21zID0gYXJyYXkoKTsKCQlpZiAoJE1vZGUgPT0gMSkgJEtvbG9tc1tdID0gYXJyYXkoIiBhbGlnbj0nY2VudGVyJyAgIiwgJFRhbXBpbENoZWNrQm94KTsKCQkkS29sb21zW10gPSBhcnJheSgnYWxpZ249cmlnaHQnLCAkbm8uJy4nICk7CgkJJEtvbG9tc1tdID0gYXJyYXkoJycsICRub3AuJzxicj4nLiRhbG1vcCk7CgkJJEtvbG9tc1tdID0gYXJyYXkoJycsICR3cC4nPGJyPicuJGFsbXdwICk7CgkJJEtvbG9tc1tdID0gYXJyYXkoJ2FsaWduPXJpZ2h0JywgJGlzaVsndGFodW4nXSApOwoKCQkkS29sb21zW10gPSBhcnJheSgnYWxpZ249cmlnaHQnLCAkaXNpWydsdWFzX3RhbmFoJ10gKTsKCQkkS29sb21zW10gPSBhcnJheSgnYWxpZ249cmlnaHQnLCAkaXNpWydrbGFzX3RhbmFoJ10gKTsKCQkkS29sb21zW10gPSBhcnJheSgnYWxpZ249cmlnaHQnLCAkaXNpWydwZXJtMl90YW5haCddICk7CgkJJEtvbG9tc1tdID0gYXJyYXkoJ2FsaWduPXJpZ2h0JywgJGlzaVsndG90YWxfdGFuYWgnXSApOwoKCQkkS29sb21zW10gPSBhcnJheSgnYWxpZ249cmlnaHQnLCAkaXNpWydsdWFzX2JhbmcnXSApOwoJCSRLb2xvbXNbXSA9IGFycmF5KCdhbGlnbj1yaWdodCcsICRpc2lbJ2tsYXNfYmFuZyddICk7CgkJJEtvbG9tc1tdID0gYXJyYXkoJ2FsaWduPXJpZ2h0JywgJGlzaVsncGVybTJfYmFuZyddICk7CgkJJEtvbG9tc1tdID0gYXJyYXkoJ2FsaWduPXJpZ2h0JywgJGlzaVsndG90YWxfYmFuZyddICk7CgoJCSRLb2xvbXNbXSA9IGFycmF5KCdhbGlnbj1yaWdodCcsICRpc2lbJ3RvdGFsX25qb3AnXSApOwoKCQkkS29sb21zW10gPSBhcnJheSgnYWxpZ249cmlnaHQnLCAkaXNpWydrMTMnXSApOwoJCSRLb2xvbXNbXSA9IGFycmF5KCdhbGlnbj1yaWdodCcsICRpc2lbJ2sxNCddICk7CgkJJEtvbG9tc1tdID0gYXJyYXkoJ2FsaWduPXJpZ2h0JywgJGlzaVsnazE1J10gKTsKCQkkS29sb21zW10gPSBhcnJheSgnYWxpZ249cmlnaHQnLCAkaXNpWydrMTYnXSApOwoKCQkkS29sb21zW10gPSBhcnJheSgnYWxpZ249cmlnaHQnLCAkaXNpWyd1cGRhdGUnXSApOwoKCgoKCQlyZXR1cm4gJEtvbG9tczsKCX0KCglmdW5jdGlvbiBnZW5EYWZ0YXJIZWFkZXIoJE1vZGU9MSl7CgkJLy9tb2RlIDoxLjtpc3QsIDIuY2V0YWsgaGFsLCAzLiBjZXRhayBzZW11YQoJCWdsb2JhbCAkTWFpbjsKCQkkcm93c3Bhbl9jYnggPSAkdGhpcy0+Y2hlY2tib3hfcm93c3BhbiA+MSA\/ICJyb3dzcGFuPSckdGhpcy0+Y2hlY2tib3hfcm93c3BhbiciOicnOwoJCSRDaGVja2JveCA9ICRNb2RlPT0xPwoJCQkiPHRoIGNsYXNzPSd0aDAxJyB3aWR0aD0nMTAnICRyb3dzcGFuX2NieD4KCQkJCQk8aW5wdXQgdHlwZT0nY2hlY2tib3gnIG5hbWU9JyIuJHRoaXMtPlByZWZpeC4iX3RvZ2dsZScgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX3RvZ2dsZScgdmFsdWU9JycgIi4KCQkJCQkJLy8iIG9uQ2xpY2s9XCJjaGVja0FsbDQoJE1haW4tPlBhZ2VQZXJIYWwsJyIuJHRoaXMtPlByZWZpeC4iX2NiJywnIi4kdGhpcy0+UHJlZml4LiJfdG9nZ2xlJywnIi4kdGhpcy0+UHJlZml4LiJfam1sY2VrJyk7XCIgLz4gIi4KCQkJCQkJIiBvbkNsaWNrPVwiY2hlY2tBbGw0KCRNYWluLT5QYWdlUGVySGFsLCciLiR0aGlzLT5QcmVmaXguIl9jYicsJyIuJHRoaXMtPlByZWZpeC4iX3RvZ2dsZScsJyIuJHRoaXMtPlByZWZpeC4iX2ptbGNlaycpOyIuCgkJCQkJCQkiJHRoaXMtPlByZWZpeC5jaGVja0FsbCgkTWFpbi0+UGFnZVBlckhhbCwnIi4kdGhpcy0+UHJlZml4LiJfY2InLCciLiR0aGlzLT5QcmVmaXguIl90b2dnbGUnLCciLiR0aGlzLT5QcmVmaXguIl9qbWxjZWsnKVwiIC8+ICIuCgoJCQkiIDwvdGg+IiA6ICcnOwoJCSRoZWFkZXJUYWJsZSA9ICR0aGlzLT5zZXRLb2xvbUhlYWRlcigkTW9kZSwgJENoZWNrYm94KTsKCQlyZXR1cm4gJGhlYWRlclRhYmxlOwoJfQoJZnVuY3Rpb24gc2V0RGFmdGFyX3F1ZXJ5KCRLb25kaXNpPScnLCAkT3JkZXI9JycsICRMaW1pdD0nJyl7CgkJJGFxcnkgPSAic2VsZWN0ICogZnJvbSAkdGhpcy0+VGJsTmFtZSAkS29uZGlzaSAkT3JkZXIgJExpbWl0ICI7CgkJcmV0dXJuICRhcXJ5OwoJfQoJZnVuY3Rpb24gc2V0RGFmdGFyX2FmdGVyX2dldHJvdygkbGlzdF9yb3csICRpc2ksICRubywgJE1vZGUsICRUYW1waWxDaGVja0JveCwKCQkJJFJvd0F0ciwgJEtvbG9tQ2xhc3NTdHlsZSl7CgkJcmV0dXJuICRsaXN0X3JvdzsKCX0KCWZ1bmN0aW9uIHNldERhZnRhcl9iZWZvcmVfZ2V0cm93KCRubywgJGlzaSwgJE1vZGUsICRUYW1waWxDaGVja0JveCwKCQkJJFJvd0F0ciwgJEtvbG9tQ2xhc3NTdHlsZSkKCXsKCQkkTGlzdERhdGEgPScnOwoJCS8qJEtvbG9tcyA9ICR0aGlzLT5zZXRLb2xvbURhdGEoJG5vLCRpc2ksJE1vZGUsICRUYW1waWxDaGVja0JveCk7CgkJJGxpc3Rfcm93ID0gZ2VuVGFibGVSb3coJEtvbG9tcywKCQkJCQkJJFJvd0F0ci4iIHZhbGlnbj0ndG9wJyBpZD0nJGNiJyB2YWx1ZT0nIi4kaXNpWydJZCddLiInIiwkQ29sU3R5bGUpOwoJCSRMaXN0RGF0YSA9ICR0aGlzLT5zZXREYWZ0YXJfYWZ0ZXJfZ2V0cm93KCRsaXN0X3JvdywgJGlzaSk7Ki8KCQlyZXR1cm4gYXJyYXkgKCdMaXN0RGF0YSc9PiRMaXN0RGF0YSwgJ25vJz0+JG5vKTsKCX0KCWZ1bmN0aW9uIHNldENla0JveCgkY2IsICRLZXlWYWx1ZVN0ciwgJGlzaSl7CgkJJGhzbCA9ICcnOwoJCWlmKCRLZXlWYWx1ZVN0ciE9JycpewoJCQkkaHNsID0gIjxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX2NiJGNiJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9jYltdJwoJCQkJCXZhbHVlPSciLiRLZXlWYWx1ZVN0ci4iJyBvbkNsaWNrPVwiaXNDaGVja2VkMih0aGlzLmNoZWNrZWQsJyIuJHRoaXMtPlByZWZpeC4iX2ptbGNlaycpOyIuCgkJCQkJIiR0aGlzLT5QcmVmaXguY2J4UGlsaWgodGhpcykgXCIgLz4iOwoJCX0KCQlyZXR1cm4gJGhzbDsKCX0KCglmdW5jdGlvbiBzZXREYWZ0YXJfQWZ0ZXIoJG5vPTAsICRDb2xTdHlsZT0nJyl7CgkJJExpc3REYXRhID0gJyc7CgkJLyokbGlzdF9yb3cgPSBnZW5UYWJsZVJvdygkS29sb21zLAoJCQkJCQkkcm93YXRyXywKCQkJCQkJJENvbFN0eWxlKTsKCQkqLwoJCXJldHVybiAkTGlzdERhdGE7Cgl9CgoKCWZ1bmN0aW9uIGdlbkRhZnRhcigkS29uZGlzaT0nJywgJE9yZGVyPScnLCAkTGltaXQ9JycsICRub0F3YWwgPSAwLCAkTW9kZT0xLCAkdktvbmRpc2lfb2xkPScnKXsKCQkvLyRNb2RlIC0+IDEuIGRhZnRhciwgMi4gY2V0YWsgaGFsLCAzLmNldGFrIGFsbAoJCSRjZWsgPScnOyAkZXJyPScnOwoKCQkkTWF4Rmx1c2g9JHRoaXMtPk1heEZsdXNoOwoJCSRoZWFkZXJUYWJsZSA9ICR0aGlzLT5nZW5EYWZ0YXJIZWFkZXIoJE1vZGUpOwoJCSRUYmxTdHlsZSA9CSR0aGlzLT5UYmxTdHlsZVskTW9kZS0xXTsvLyRNb2RlID09MSA\/ICdrb3B0YWJsZSc6ICdjZXRhayc7CgkJJExpc3REYXRhID0KCQkJIjx0YWJsZSBjbGFzcz0nJFRibFN0eWxlJyBib3JkZXI9JzEnICAgc3R5bGU9J21hcmdpbjo0IDAgMCAwO3dpZHRoOjEwMCUnPiIuCgkJCSRoZWFkZXJUYWJsZS4KCQkJIjx0Ym9keT4iOwoKCQkkQ29sU3R5bGUgPSAkdGhpcy0+Q29sU3R5bGVbJE1vZGUtMV07Ly8kTW9kZT09MT8gJ0dhcmlzRGFmdGFyJzonR2FyaUNldGFrJzsKCQkkbm89JG5vQXdhbDsgJGNiPTA7ICRqbWxEYXRhUGFnZSA9MDsKCQkkVG90YWxIYWxScCA9IDA7CgoJCS8vJGFxcnkgPSAic2VsZWN0ICogZnJvbSAkdGhpcy0+VGJsTmFtZSAkS29uZGlzaSAkT3JkZXIgJExpbWl0ICI7CS8vZWNobyAkYXFyeTsKCQkvLyRxcnkgPSBteXNxbF9xdWVyeSgkYXFyeSk7CgkJJGFxcnkgPSAkdGhpcy0+c2V0RGFmdGFyX3F1ZXJ5KCRLb25kaXNpLCAkT3JkZXIsICRMaW1pdCk7ICRjZWsgLj0gJGFxcnkuJzxicj4nOwoJCSRxcnkgPSBteXNxbF9xdWVyeSgkYXFyeSk7CgkJJG51bXJvd3MgPSBteXNxbF9udW1fcm93cygkcXJ5KTsgJGNlay49ICIgam1scm93ID0gJG51bXJvd3MgIjsKCQlpZiggJG51bXJvd3M+IDAgKSB7CgoJCXdoaWxlICggJGlzaT1teXNxbF9mZXRjaF9hcnJheSgkcXJ5KSl7CgkJCWlmICggJGlzaVskdGhpcy0+S2V5RmllbGRzWzBdXSAhPSAnJyApewoJCQkJJGlzaSA9IGFycmF5X21hcCgndXRmOF9lbmNvZGUnLCAkaXNpKTsKCgkJCQkkbm8rKzsKCQkJCSRqbWxEYXRhUGFnZSsrOwoJCQkJaWYoJE1vZGUgPT0gMSkgJFJvd0F0ciA9ICRubyAlIDIgPT0gMT8gImNsYXNzPSdyb3cwJyIgOiAiY2xhc3M9J3JvdzEnIjsKCgkJCQkkS2V5VmFsdWUgPSBhcnJheSgpOwoJCQkJZm9yICgkaT0wOyAkaTwgc2l6ZW9mKCR0aGlzLT5LZXlGaWVsZHMpIDsgJGkrKykgewoJCQkJCSRLZXlWYWx1ZVskaV0gPSAkaXNpWyR0aGlzLT5LZXlGaWVsZHNbJGldXTsKCQkJCX0KCQkJCSRLZXlWYWx1ZVN0ciA9IGpvaW4oJHRoaXMtPnBlbWlzYWhJRCwkS2V5VmFsdWUpOwoJCQkJJFRhbXBpbENoZWNrQm94ID0gICR0aGlzLT5zZXRDZWtCb3goJGNiLCAkS2V5VmFsdWVTdHIsICRpc2kpOy8vJENldGFrPyAnJyA6CgoKCgkJCQkvL3N1bSBoYWxhbWFuCgkJCQlmb3IgKCRpPTA7ICRpPCBzaXplb2YoJHRoaXMtPkZpZWxkU3VtKSA7ICRpKyspIHsKCQkJCQkkdGhpcy0+U3VtVmFsdWVbJGldICs9ICRpc2lbJHRoaXMtPkZpZWxkU3VtWyRpXV07CgkJCQl9CgoJCQkJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJCSRyb3dhdHJfID0gJFJvd0F0ci4iIHZhbGlnbj0ndG9wJyBpZD0nJGNiJyB2YWx1ZT0nIi4kaXNpWydJZCddLiInIjsKCQkJCSRiZWY9ICR0aGlzLT5zZXREYWZ0YXJfYmVmb3JlX2dldHJvdygKCQkJCQkJJG5vLCRpc2ksJE1vZGUsICRUYW1waWxDaGVja0JveCwKCQkJCQkJJHJvd2F0cl8sCgkJCQkJCSRDb2xTdHlsZQoJCQkJCQkpOwoJCQkJJExpc3REYXRhIC49ICRiZWZbJ0xpc3REYXRhJ107CgkJCQkkbm8gPSAkYmVmWydubyddOwoJCQkJLy9nZXQgcm93CgkJCQkkS29sb21zID0gJHRoaXMtPnNldEtvbG9tRGF0YSgkbm8sJGlzaSwkTW9kZSwgJFRhbXBpbENoZWNrQm94KTsJJGNlayAuPSAkS29sb21zOwoKCQkJCWlmKCRLb2xvbXMgIT0gTlVMTCl7CgoKCQkJCQkkbGlzdF9yb3cgPSBnZW5UYWJsZVJvdygkS29sb21zLAoJCQkJCQkJCSRyb3dhdHJfLAoJCQkJCQkJCSRDb2xTdHlsZSk7CgoKCQkJCQkkTGlzdERhdGEgLj0gJHRoaXMtPnNldERhZnRhcl9hZnRlcl9nZXRyb3coJGxpc3Rfcm93LCAkaXNpICwgJG5vLCAkTW9kZSwgJFRhbXBpbENoZWNrQm94LAoJCQkJCQkkUm93QXRyLCAkQ29sU3R5bGUpOwoKCQkJCQkkY2IrKzsKCgkJCQkJaWYoICgkTW9kZSA9PSAzICkgJiYgKCRjYiAlICRNYXhGbHVzaD09MCkgJiYgJGNiID4wICl7CgkJCQkJCWVjaG8gJExpc3REYXRhOwoJCQkJCQlvYl9mbHVzaCgpOwoJCQkJCQlmbHVzaCgpOwoJCQkJCQkkTGlzdERhdGE9Jyc7CgkJCQkJCS8vc2xlZXAoMik7IC8vdGVzCgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoKCQl9CgoJCSRMaXN0RGF0YSAuPSAkdGhpcy0+c2V0RGFmdGFyX0FmdGVyKCRubywgJENvbFN0eWxlKTsKCQkvL3RvdGFsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJaWYgKCRNb2RlPT0zKSB7CS8vZmx1c2gKCQkJZWNobyAkTGlzdERhdGE7CgkJCW9iX2ZsdXNoKCk7CgkJCWZsdXNoKCk7CgkJCSRMaXN0RGF0YT0nJzsKCQkJJFN1bUhhbCA9ICR0aGlzLT5nZW5TdW1IYWwoJEtvbmRpc2kpOwoJCX0KCQkvLyRTdW1IYWwgPSAkdGhpcy0+Z2VuU3VtSGFsKCRLb25kaXNpKTsKCQkkQ29udGVudFN1bSA9ICR0aGlzLT5nZW5Sb3dTdW0oJENvbFN0eWxlLCAgJE1vZGUsCgkJCSRTdW1IYWxbJ3N1bXMnXQoJCSk7CgkJLyokVGFtcGlsVG90YWxIYWxScCA9IG51bWJlcl9mb3JtYXQoJFRvdGFsSGFsUnAsMiwgJywnLCAnLicpOwoJCSRUb3RhbENvbFNwYW4gPSAkdGhpcy0+RmllbGRTdW1fQ3AxWyRNb2RlLTFdOy8vJE1vZGUgPT0xID8gNSA6IDQ7CgkJJENvbnRlbnRUb3RhbEhhbCA9CgkJCSI8dHI+CgkJCQk8dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nJFRvdGFsQ29sU3BhbicgYWxpZ249J2NlbnRlcic+PGI+VG90YWwgcGVyIEhhbGFtYW48L3RkPgoJCQkJPHRkIGNsYXNzPSckQ29sU3R5bGUnIGFsaWduPSdyaWdodCc+PGI+JFRhbXBpbFRvdGFsSGFsUnA8L3RkPgoJCQkJPHRkIGNsYXNzPSckQ29sU3R5bGUnIGNvbHNwYW49JzQnPjwvdGQ+CgkJCTwvdHI+IiA7CgoJCSRDb250ZW50VG90YWwgPQoJCQkJIjx0cj4KCQkJCQk8dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nJFRvdGFsQ29sU3BhbicgYWxpZ249J2NlbnRlcic+PGI+VG90YWw8L3RkPgoJCQkJCTx0ZCBjbGFzcz0nJENvbFN0eWxlJyBhbGlnbj0ncmlnaHQnPjxiPjxkaXYgIGlkPSdjbnREYWZ0YXJUb3RhbCc+Ii4kU3VtSGFsWydzdW0nXS4iPC9kaXY+PC90ZD4KCQkJCQk8dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nNCc+PC90ZD4KCQkJCTwvdHI+IiA7CgoJCWlmKCRNb2RlID09IDIpewoJCQkkQ29udGVudFRvdGFsID0gJyc7CgkJfWVsc2UgaWYoJE1vZGUgPT0gMyl7CgkJCSRDb250ZW50VG90YWxIYWw9Jyc7CgkJfQoJCSRDb250ZW50U3VtPSRDb250ZW50VG90YWxIYWwuJENvbnRlbnRUb3RhbDsKCQkqLwoKCQkkTGlzdERhdGEgLj0KCQkJCS8vJENvbnRlbnRUb3RhbEhhbC4kQ29udGVudFRvdGFsLgoKCQkJCSRDb250ZW50U3VtLgoJCQkJIjwvdGJvZHk+Ii4KCQkJIjwvdGFibGU+CgkJCTxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSciLiR0aGlzLT5QcmVmaXguIl9qbWxkYXRhcGFnZScgbmFtZT0nIi4kdGhpcy0+UHJlZml4LiJfam1sZGF0YXBhZ2UnIHZhbHVlPSckam1sRGF0YVBhZ2UnPgoJCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nIi4kdGhpcy0+UHJlZml4LiJfam1sY2VrJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9qbWxjZWsnIHZhbHVlPScnPiIKCQkJLiR2S29uZGlzaV9vbGQKCQkJOwoJCWlmICgkTW9kZT09MykgewkvL2ZsdXNoCgkJCWVjaG8gJExpc3REYXRhOwoJCX0KCgkJcmV0dXJuIGFycmF5KCdjZWsnPT4kY2VrLCdjb250ZW50Jz0+JExpc3REYXRhLCAnZXJyJz0+JGVycik7Cgl9CglmdW5jdGlvbiBnZW5Sb3dTdW1fc2V0VGFtcGlsVmFsdWUoJGksICR2YWx1ZSl7CgoJCXJldHVybiBudW1iZXJfZm9ybWF0KCR2YWx1ZSwyLCAnLCcsICcuJyk7Cgl9CglmdW5jdGlvbiBnZW5Sb3dTdW1fc2V0Q29sc3BhblRvdGFsKCRNb2RlLCAkY29sc3BhbmFyciApewoJCSRUb3RhbENvbFNwYW4xID0gJE1vZGU9PTE\/ICRjb2xzcGFuYXJyWzBdLTEgOiAkY29sc3BhbmFyclswXS0yOwoJCXJldHVybiAkVG90YWxDb2xTcGFuMTsKCX0KCWZ1bmN0aW9uIGdlblJvd1N1bSgkQ29sU3R5bGUsICRNb2RlLCAkVG90YWwpewoJCS8vaGFsCgkJJENvbnRlbnRUb3RhbEhhbD0nJzsgJENvbnRlbnRUb3RhbD0nJzsKCgkJLy9pZiAoc2l6ZW9mKCR0aGlzLT5GaWVsZFN1bSk+MCl7CgkJaWYgKHNpemVvZigkdGhpcy0+RmllbGRTdW0pPT0xKXsKCgkJCSRUYW1waWxUb3RhbEhhbFJwID0gJHRoaXMtPmdlblJvd1N1bV9zZXRUYW1waWxWYWx1ZSgwLCAkdGhpcy0+U3VtVmFsdWVbMF0pOy8vbnVtYmVyX2Zvcm1hdCgkdGhpcy0+U3VtVmFsdWVbMF0sMiwgJywnLCAnLicpOwoJCQkkVG90YWxDb2xTcGFuMSA9ICR0aGlzLT5GaWVsZFN1bV9DcDFbJE1vZGUtMV07Ly8kTW9kZSA9PTEgPyA1IDogNDsKCQkJJFRvdGFsQ29sU3BhbjIgPSAkdGhpcy0+RmllbGRTdW1fQ3AyWyRNb2RlLTFdOy8vJE1vZGUgPT0xID8gNSA6IDQ7CgkJCSRLaXJpMSA9ICRUb3RhbENvbFNwYW4xID4gMCA\/ICI8dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nJFRvdGFsQ29sU3BhbjEnIGFsaWduPSdjZW50ZXInPjxiPlRvdGFsIHBlciBIYWxhbWFuPC90ZD4iOiAnJzsKCQkJJEthbmFuMSA9ICRUb3RhbENvbFNwYW4yID4gMCA\/ICI8dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nJFRvdGFsQ29sU3BhbjInIGFsaWduPSdjZW50ZXInPjwvdGQ+IjogJyc7CgkJCSRLaXJpMiA9ICRUb3RhbENvbFNwYW4xID4gMCA\/ICI8dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nJFRvdGFsQ29sU3BhbjEnIGFsaWduPSdjZW50ZXInPjxiPlRvdGFsPC90ZD4iOiAnJzsKCQkJJEthbmFuMiA9ICRUb3RhbENvbFNwYW4yID4gMCA\/ICI8dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nJFRvdGFsQ29sU3BhbjInIGFsaWduPSdjZW50ZXInPjwvdGQ+IjogJyc7CgkJCSRDb250ZW50VG90YWxIYWwgPQoJCQkJIjx0cj4KCQkJCQkkS2lyaTEKCQkJCQk8IS0tPHRkIGNsYXNzPSckQ29sU3R5bGUnIGNvbHNwYW49JyRUb3RhbENvbFNwYW4nIGFsaWduPSdjZW50ZXInPjxiPlRvdGFsIHBlciBIYWxhbWFuPC90ZD4tLT4KCQkJCQk8dGQgY2xhc3M9JyRDb2xTdHlsZScgYWxpZ249J3JpZ2h0Jz48Yj4kVGFtcGlsVG90YWxIYWxScDwvdGQ+CgkJCQkJJEthbmFuMTwhLS08dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nNCc+PC90ZD4tLT4KCQkJCTwvdHI+IiA7CgoJCQkkQ29udGVudFRvdGFsID0KCQkJCSI8dHI+CgkJCQkJJEtpcmkyCgkJCQkJPHRkIGNsYXNzPSckQ29sU3R5bGUnIGFsaWduPSdyaWdodCc+PGI+PGRpdiAgaWQ9J3skdGhpcy0+UHJlZml4fV9jb250X3N1bSc+Ii4kVG90YWxbMF0uIjwvZGl2PjwvdGQ+CgkJCQkJJEthbmFuMgoJCQkJPC90cj4iIDsKCgoKCQl9CgkJZWxzZSBpZiAoc2l6ZW9mKCR0aGlzLT5GaWVsZFN1bSk+MSl7CgoJCQkkY29sc3BhbmFycj0kdGhpcy0+ZmllbGRTdW1fbG9rYXNpOwoJCQkkQ29udGVudFRvdGFsSGFsID0JIjx0cj4iOwoJCQkkQ29udGVudFRvdGFsID0JIjx0cj4iOwoKCgkJCWZvciAoJGk9MDsgJGk8c2l6ZW9mKCR0aGlzLT5GaWVsZFN1bSk7JGkrKyl7CgoJCQkJaWYoJGk9PTApewoJCQkJCSRUb3RhbENvbFNwYW4xID0gIC8vJE1vZGU9PTE\/ICRjb2xzcGFuYXJyWzBdLTEgOiAkY29sc3BhbmFyclswXS0yICA7CgkJCQkJCSR0aGlzLT5nZW5Sb3dTdW1fc2V0Q29sc3BhblRvdGFsKCRNb2RlLCAkY29sc3BhbmFyciApOwoJCQkJCSRLaXJpMSA9ICRUb3RhbENvbFNwYW4xID4gMCA\/CgkJCQkJCSI8dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nJFRvdGFsQ29sU3BhbjEnIGFsaWduPSdjZW50ZXInPiR0aGlzLT50b3RhbGhhbHN0cjwvdGQ+IjogJyc7CgkJCQkJJENvbnRlbnRUb3RhbEhhbCAuPQkkS2lyaTE7CgkJCQkJJENvbnRlbnRUb3RhbCAuPQkkVG90YWxDb2xTcGFuMSA+IDAgPwoJCQkJCQkiPHRkIGNsYXNzPSckQ29sU3R5bGUnIGNvbHNwYW49JyRUb3RhbENvbFNwYW4xJyBhbGlnbj0nY2VudGVyJz4kdGhpcy0+dG90YWxBbGxTdHI8L3RkPiI6Jyc7CgkJCQl9ZWxzZXsKCQkJCQkkVG90YWxDb2xTcGFuMSA9ICRjb2xzcGFuYXJyWyRpXSAtICRjb2xzcGFuYXJyWyRpLTFdLTE7CgkJCQkJLy9pZigkVG90YWxDb2xTcGFuMT4wKXsKCQkJCQkkQ29udGVudFRvdGFsSGFsIC49CSRUb3RhbENvbFNwYW4xID4gMCA\/CgkJCQkJCSI8dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nJFRvdGFsQ29sU3BhbjEnIGFsaWduPSdjZW50ZXInPjwvdGQ+IjogJyc7CgkJCQkJJENvbnRlbnRUb3RhbCAuPQkkVG90YWxDb2xTcGFuMSA+IDAgPwoJCQkJCQkiPHRkIGNsYXNzPSckQ29sU3R5bGUnIGNvbHNwYW49JyRUb3RhbENvbFNwYW4xJyBhbGlnbj0nY2VudGVyJz48L3RkPiI6ICcnOwoKCQkJCQkvL30KCQkJCX0KCQkJCS8vJHRvdGFsc3RyID0gJGk9PTA\/ICI8Yj5Ub3RhbCBwZXIgSGFsYW1hbiI6ICcnOwoJCQkJLy8vLyRUb3RhbENvbFNwYW4xID0gJGNvbHNwYW5hcnJbJGldLSAkY29sc3BhbmFyclskaS0xXS0xOwoJCQkJLy8kS2lyaTEgPSAkVG90YWxDb2xTcGFuMSA+IDAgPyAiPHRkIGNsYXNzPSckQ29sU3R5bGUnIGNvbHNwYW49JyRUb3RhbENvbFNwYW4xJyBhbGlnbj0nY2VudGVyJz4kdG90YWxzdHI8L3RkPiI6ICcnOwoKCQkJCSRUYW1waWxUb3RhbEhhbFJwID0gLy9udW1iZXJfZm9ybWF0KCR0aGlzLT5TdW1WYWx1ZVskaV0sMiwgJywnLCAnLicpOwoJCQkJCSR0aGlzLT5nZW5Sb3dTdW1fc2V0VGFtcGlsVmFsdWUoJGksICR0aGlzLT5TdW1WYWx1ZVskaV0pOwoJCQkJJHZUb3RhbCA9IG51bWJlcl9mb3JtYXQoJFRvdGFsWyRpXSwyLCAnLCcsICcuJyk7CgkJCQkkQ29udGVudFRvdGFsSGFsIC49IC8vJGk9PTA\/CgkJCQkJLy8iPHRkIGNsYXNzPSckQ29sU3R5bGUnIGFsaWduPSdyaWdodCc+PGI+JFRhbXBpbFRvdGFsSGFsUnA8L3RkPiIJOgoJCQkJCSI8dGQgY2xhc3M9JyRDb2xTdHlsZScgYWxpZ249J3JpZ2h0Jz48Yj4kVGFtcGlsVG90YWxIYWxScDwvdGQ+Igk7CgkJCQkkQ29udGVudFRvdGFsIC49ICRpPT0wPwoJCQkJCSI8dGQgY2xhc3M9JyRDb2xTdHlsZScgYWxpZ249J3JpZ2h0Jz48Yj48ZGl2ICBpZD0neyR0aGlzLT5QcmVmaXh9X2NvbnRfc3VtJz4iLiRUb3RhbFskaV0uIjwvZGl2PjwvdGQ+IjoKCQkJCQkiPHRkIGNsYXNzPSckQ29sU3R5bGUnIGFsaWduPSdyaWdodCc+PGI+PGRpdiAgaWQ9J3skdGhpcy0+UHJlZml4fV9jb250X3N1bSRpJz4iLiRUb3RhbFskaV0uIjwvZGl2PjwvdGQ+IjsKCQkJfQoKCQkJLy8kdG90cm93ID0gJE1vZGUgPT0gMT8gJHRoaXMtPnRvdGFsUm93IDogJHRoaXMtPnRvdGFsUm93OwoJCQkkVG90YWxDb2xTcGFuMSA9ICR0aGlzLT50b3RhbENvbCAtICRjb2xzcGFuYXJyW3NpemVvZigkdGhpcy0+RmllbGRTdW0pLTFdOwoJCQkkQ29udGVudFRvdGFsSGFsIC49CSRUb3RhbENvbFNwYW4xID4gMCA\/CgkJCQkJCSI8dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nJFRvdGFsQ29sU3BhbjEnIGFsaWduPSdjZW50ZXInPjwvdGQ+PC90cj4iOiAnPC90cj4nOwoJCQkkQ29udGVudFRvdGFsIC49ICRUb3RhbENvbFNwYW4xID4gMCA\/CgkJCQkJCSI8dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nJFRvdGFsQ29sU3BhbjEnIGFsaWduPSdjZW50ZXInPjwvdGQ+PC90cj4iOiAnPC90cj4nOwoKCgkJfQoJCSRDb250ZW50VG90YWwgPSAkdGhpcy0+d2l0aFN1bUFsbD8gJENvbnRlbnRUb3RhbDogJyc7CgkJJENvbnRlbnRUb3RhbEhhbCA9ICR0aGlzLT53aXRoU3VtSGFsPyAkQ29udGVudFRvdGFsSGFsOiAnJzsKCQlpZigkTW9kZSA9PSAyKXsKCQkJJENvbnRlbnRUb3RhbCA9ICcnOwoJCX1lbHNlIGlmKCRNb2RlID09IDMpewoJCQkvLyRDb250ZW50VG90YWxIYWw9Jyc7CgkJCWlmICgkdGhpcy0+d2l0aFN1bUFsbCkgewoJCQkJJENvbnRlbnRUb3RhbEhhbCA9ICcnOwoJCQl9CgkJfQoJCXJldHVybiAkQ29udGVudFRvdGFsSGFsLiRDb250ZW50VG90YWw7Cgl9CgoJZnVuY3Rpb24gZ2VuUm93U3VtXygkQ29sU3R5bGUsICRNb2RlLCAkVG90YWwpewoJCS8vaGFsCgkJJENvbnRlbnRUb3RhbEhhbD0nJzsgJENvbnRlbnRUb3RhbD0nJzsKCgkJaWYgKHNpemVvZigkdGhpcy0+RmllbGRTdW0pPjApewoKCQkJJFRhbXBpbFRvdGFsSGFsUnAgPSBudW1iZXJfZm9ybWF0KCR0aGlzLT5TdW1WYWx1ZVswXSwyLCAnLCcsICcuJyk7CgkJCSRUb3RhbENvbFNwYW4xID0gJHRoaXMtPkZpZWxkU3VtX0NwMVskTW9kZS0xXTsvLyRNb2RlID09MSA\/IDUgOiA0OwoJCQkkVG90YWxDb2xTcGFuMiA9ICR0aGlzLT5GaWVsZFN1bV9DcDJbJE1vZGUtMV07Ly8kTW9kZSA9PTEgPyA1IDogNDsKCQkJJEtpcmkxID0gJFRvdGFsQ29sU3BhbjEgPiAwID8gIjx0ZCBjbGFzcz0nJENvbFN0eWxlJyBjb2xzcGFuPSckVG90YWxDb2xTcGFuMScgYWxpZ249J2NlbnRlcic+PGI+VG90YWwgcGVyIEhhbGFtYW48L3RkPiI6ICcnOwoJCQkkS2FuYW4xID0gJFRvdGFsQ29sU3BhbjIgPiAwID8gIjx0ZCBjbGFzcz0nJENvbFN0eWxlJyBjb2xzcGFuPSckVG90YWxDb2xTcGFuMicgYWxpZ249J2NlbnRlcic+PC90ZD4iOiAnJzsKCQkJJEtpcmkyID0gJFRvdGFsQ29sU3BhbjEgPiAwID8gIjx0ZCBjbGFzcz0nJENvbFN0eWxlJyBjb2xzcGFuPSckVG90YWxDb2xTcGFuMScgYWxpZ249J2NlbnRlcic+PGI+VG90YWw8L3RkPiI6ICcnOwoJCQkkS2FuYW4yID0gJFRvdGFsQ29sU3BhbjIgPiAwID8gIjx0ZCBjbGFzcz0nJENvbFN0eWxlJyBjb2xzcGFuPSckVG90YWxDb2xTcGFuMicgYWxpZ249J2NlbnRlcic+PC90ZD4iOiAnJzsKCQkJJENvbnRlbnRUb3RhbEhhbCA9CgkJCQkiPHRyPgoJCQkJCSRLaXJpMQoJCQkJCTwhLS08dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nJFRvdGFsQ29sU3BhbicgYWxpZ249J2NlbnRlcic+PGI+VG90YWwgcGVyIEhhbGFtYW48L3RkPi0tPgoJCQkJCTx0ZCBjbGFzcz0nJENvbFN0eWxlJyBhbGlnbj0ncmlnaHQnPjxiPiRUYW1waWxUb3RhbEhhbFJwPC90ZD4KCQkJCQkkS2FuYW4xPCEtLTx0ZCBjbGFzcz0nJENvbFN0eWxlJyBjb2xzcGFuPSc0Jz48L3RkPi0tPgoJCQkJPC90cj4iIDsKCgkJCSRDb250ZW50VG90YWwgPQoJCQkJIjx0cj4KCQkJCQkkS2lyaTIKCQkJCQk8dGQgY2xhc3M9JyRDb2xTdHlsZScgYWxpZ249J3JpZ2h0Jz48Yj48ZGl2ICBpZD0neyR0aGlzLT5QcmVmaXh9X2NvbnRfc3VtJz4iLiRUb3RhbC4iPC9kaXY+PC90ZD4KCQkJCQkkS2FuYW4yCgkJCQk8L3RyPiIgOwoKCQkJaWYoJE1vZGUgPT0gMil7CgkJCQkkQ29udGVudFRvdGFsID0gJyc7CgkJCX1lbHNlIGlmKCRNb2RlID09IDMpewoJCQkJJENvbnRlbnRUb3RhbEhhbD0nJzsKCQkJfQoKCQl9CgkJcmV0dXJuICRDb250ZW50VG90YWxIYWwuJENvbnRlbnRUb3RhbDsKCX0KCWZ1bmN0aW9uIHNldERhZnRhcl9oYWwoJGptbERhdGEpewoJCWdsb2JhbCAkTWFpbjsKCQkkZWxoYWwgPSAkdGhpcy0+UHJlZml4LidfaGFsJzsKCQkkaGFsID0gY2VrUE9TVCgkdGhpcy0+UHJlZml4LidfaGFsJyk7CgkJJHBhZ2VQZXJIYWwgPSAkdGhpcy0+cGFnZVBlckhhbCA9PScnPyAkTWFpbi0+UGFnZVBlckhhbCA6ICR0aGlzLT5wYWdlUGVySGFsOwoJCXJldHVybgoJCQkiPHRhYmxlIGNsYXNzPSdrb3B0YWJsZScgYm9yZGVyPScxJyB3aWR0aD0nMTAwJScgc3R5bGU9J21hcmdpbjo0IDAgMCAwJz4KCQkJPHRyPjx0ZCBhbGlnbj1jZW50ZXIgc3R5bGU9J3BhZGRpbmc6NCc+Ii4KCQkJCUhhbGFtYW4yYigJJGptbERhdGEsICRwYWdlUGVySGFsLCAkZWxoYWwsICRoYWwsIDUsCgoJCQkJCSR0aGlzLT5QcmVmaXguJy5nb3RvSGFsYW1hbicpLgoKCgkJCSI8L3RkPjwvdHI+PC90YWJsZT4iOwoKCX0KCWZ1bmN0aW9uIHNldFN1bUhhbF9xdWVyeSgkS29uZGlzaSwgJGZzdW0pewoJCXJldHVybiAic2VsZWN0ICRmc3VtIGZyb20gJHRoaXMtPlRibE5hbWUgJEtvbmRpc2kgIjsgLy9lY2hvICRhcXJ5OwoKCQkvL3JldHVybiAiIHNlbGVjdCAiCgl9CglmdW5jdGlvbiBnZW5TdW1IYWwoJEtvbmRpc2kpewoKCQlnbG9iYWwgJE1haW47CgkJLy8kU3VtID0gJ3N1bSc7ICRIYWwgPSAnaGFsJzsKCQkkY2VrID0gJyc7CgkJJGptbERhdGEgPSAwOwoJCSRqbWxUb3RhbCA9IDA7CgkJJFN1bUFycj1hcnJheSgpOwoJCSR2U3VtID0gYXJyYXkoKTsKCgkJJGZzdW1fID0gYXJyYXkoKTsKCQkkZnN1bV9bXSA9ICJjb3VudCgqKSBhcyBjbnQiOwoJCS8vJGk9MDsKCQlmb3JlYWNoKCR0aGlzLT5GaWVsZFN1bSBhcyAmJHZhbHVlKXsKCQkJJGZzdW1fW10gPSAic3VtKCR2YWx1ZSkgYXMgc3VtXyR2YWx1ZSI7CgkJCS8vJGkrKzsKCQl9CgkJJGZzdW0gPSBqb2luKCcsJywkZnN1bV8pOwoKCQkvLyRhcXJ5ID0gInNlbGVjdCBjb3VudCgqKSBhcyBjbnQsICBzdW0oam1sX3RlcmltYSkgYXMgdG90dGVyaW1hICBmcm9tICR0aGlzLT5UYmxOYW1lICRLb25kaXNpICI7IC8vZWNobyAkYXFyeTsKCQkvLyRhcXJ5ID0gInNlbGVjdCAkZnN1bSBmcm9tICR0aGlzLT5UYmxOYW1lICRLb25kaXNpICI7IC8vZWNobyAkYXFyeTsKCQkkYXFyeSA9ICR0aGlzLT5zZXRTdW1IYWxfcXVlcnkoJEtvbmRpc2ksICRmc3VtKTsgJGNlayAuPSAkYXFyeTsKCQkkcXJ5ID0gbXlzcWxfcXVlcnkoJGFxcnkpOwoJCWlmICgkaXNpPSBteXNxbF9mZXRjaF9hcnJheSgkcXJ5KSl7CgkJCSRqbWxEYXRhID0gJGlzaVsnY250J107CgkJCS8qJEhhbD0gIjx0YWJsZSBjbGFzcz0na29wdGFibGUnIGJvcmRlcj0nMScgd2lkdGg9JzEwMCUnIHN0eWxlPSdtYXJnaW46NCAwIDAgMCc+CgkJCQk8dHI+PHRkIGFsaWduPWNlbnRlciBzdHlsZT0ncGFkZGluZzo0Jz4iLgoJCQkJCUhhbGFtYW4yYigkam1sRGF0YSwkTWFpbi0+UGFnZVBlckhhbCwkdGhpcy0+ZWxDdXJyUGFnZSxjZWtQT1NUKCdIYWxEZWZhdWx0JyksNSwgJHRoaXMtPlByZWZpeC4nLmdvdG9IYWxhbWFuJykuCgkJCQkiPC90ZD48L3RyPjwvdGFibGU+IjsKCQkJKi8KCQkJLy8kSGFsID0gJHRoaXMtPnNldERhZnRhcl9oYWwoJGptbERhdGEpOwoKCQkJLy8kam1sVG90YWw9ICRpc2lbJ3RvdHRlcmltYSddOwoJCQkkaj0wOwoJCQlmb3JlYWNoKCR0aGlzLT5GaWVsZFN1bSBhcyAmJHZhbHVlKXsKCQkJCSRTdW1BcnJbXSA9ICRpc2lbInN1bV8kdmFsdWUiXTsKCQkJCS8vJHZTdW1bXSA9ICR0aGlzLT5nZW5TdW1fc2V0VGFtcGlsVmFsdWUoJHZhbHVlLCAkaXNpWyJzdW1fJHZhbHVlIl0pOy8vRm10KCRpc2lbInN1bV8kdmFsdWUiXSwxKTsKCQkJCSR2U3VtW10gPSAkdGhpcy0+Z2VuU3VtX3NldFRhbXBpbFZhbHVlKCRqLCAkaXNpWyJzdW1fJHZhbHVlIl0pOy8vRm10KCRpc2lbInN1bV8kdmFsdWUiXSwxKTsKCQkJCSRqKys7CgkJCX0KCQkJaWYoc2l6ZW9mKCR0aGlzLT5GaWVsZFN1bSk+MCApJFN1bSA9ICR0aGlzLT5nZW5TdW1fc2V0VGFtcGlsVmFsdWUoMCwgJFN1bUFyclswXSk7Ly9udW1iZXJfZm9ybWF0KCRTdW1BcnJbMF0sIDIsICcsJyAsJy4nKTsKCgkJfQoKCQkkSGFsID0gJHRoaXMtPnNldERhZnRhcl9oYWwoJGptbERhdGEpOwoJCWlmICgkdGhpcy0+V0lUSF9IQUw9PUZBTFNFKSAkSGFsID0gJyc7CgkJcmV0dXJuIGFycmF5KCdzdW0nPT4kU3VtLCAnaGFsJz0+JEhhbCwgJ3N1bXMnPT4kdlN1bSwgJ2ptbGRhdGEnPT4kam1sRGF0YSwgJ2Nlayc9Pmh0bWxzcGVjaWFsY2hhcnMoJGNlaykgKTsKCX0KCWZ1bmN0aW9uIGdlblN1bV9zZXRUYW1waWxWYWx1ZSgkaSwgJHZhbHVlKXsKCQlyZXR1cm4gbnVtYmVyX2Zvcm1hdCgkdmFsdWUsIDIsICcsJyAsJy4nKTsKCX0KCWZ1bmN0aW9uIGdlblRhYmxlQXR0cmlidXRlICgkY2xhc3NfKXsKCQkkdGFibGVBdHRyaWJ1dGUgPSAiIGJvcmRlcj0nMScgICBzdHlsZT0nbWFyZ2luOjQgMCAwIDA7d2lkdGg6JyR0aGlzLT50YWJsZVdpZHRoJyAiOwoJCXJldHVybiAiPHRhYmxlIGNsYXNzPSckY2xhc3NfJyAkdGFibGVBdHRyaWJ1dGUgPiI7Cgl9CglmdW5jdGlvbiBnZW5UYWJsZVJvdygkS29sb21zLCAkUm93QXRyPScnLCAkS29sb21DbGFzc1N0eWxlPScnKXsKCQkkYmFyaXMgPSAnJzsKCQlmb3JlYWNoICgkS29sb21zIGFzICYkdmFsdWUpIHsKCQkJJGJhcmlzIC49ICI8dGQgY2xhc3M9JyRLb2xvbUNsYXNzU3R5bGUnICB7JHZhbHVlWzBdfT4kdmFsdWVbMV08L3RkPiI7CgkJfQoJCWlmIChjb3VudCgkS29sb21zKT4wKXskYmFyaXMgPSI8dHIgJFJvd0F0ciBvbmNsaWNrPVwiIi4kdGhpcy0+UHJlZml4LiIucm93T25DbGljayh0aGlzKVwiPiAkYmFyaXMgPC90cj4iOyB9CgkJcmV0dXJuICRiYXJpczsKCX0KCWZ1bmN0aW9uIGdlblRhYmxlRGV0YWlsKCl7CgkJLy9yZXR1cm4gInRlcyI7CgkJcmV0dXJuICcnOwoJfQoKCWZ1bmN0aW9uIGdlbkRhZnRhckluaXRpYWwoKXsKCQkkdk9wc2kgPSAkdGhpcy0+Z2VuRGFmdGFyT3BzaSgpOwoKCQkkZGl2SGFsID0gIjxkaXYgaWQ9J3skdGhpcy0+UHJlZml4fV9jb250X2hhbCcgc3R5bGU9J3Bvc2l0aW9uOnJlbGF0aXZlJz4iLgoJCQkJCQkJIjxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSciLiR0aGlzLT5QcmVmaXguIl9oYWwnIG5hbWU9JyIuJHRoaXMtPlByZWZpeC4iX2hhbCcgdmFsdWU9JzEnPiIuCgkJCQkJCSI8L2Rpdj4iOwoJCXN3aXRjaCgkdGhpcy0+ZGFmdGFyTW9kZSl7CgkJCWNhc2UgJzEnIDp7IC8vZGV0YWlsIGhvcmlzb250YWwKCQkJCSR2ZGFmdGFyID0KCQkJCQkiPHRhYmxlIHdpZHRoPScxMDAlJz48dHIgdmFsaWduPXRvcD4KCQkJCQk8dGQgc3R5bGU9J3dpZHRoOiR0aGlzLT5jb250YWluV2lkdGg7Jz4iLgoJCQkJCQkiPGRpdiBpZD0neyR0aGlzLT5QcmVmaXh9X2NvbnRfZGFmdGFyJyBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmU7d2lkdGg6JHRoaXMtPmNvbnRhaW5XaWR0aDtvdmVyZmxvdzphdXRvJyA+Ii4iPC9kaXY+Ii4KCQkJCQkJJGRpdkhhbC4KCQkJCQkiPC90ZD4iLgoJCQkJCSI8dGQ+Ii4KCQkJCQkJIjxkaXYgaWQ9J3skdGhpcy0+UHJlZml4fV9jb250X2RhZnRhcl9kZXQnIHN0eWxlPScnPiIuJHRoaXMtPmdlblRhYmxlRGV0YWlsKCkuIjwvZGl2PiIuCgkJCQkJIjwvdGQ+Ii4KCQkJCQkiPC90cj48L3RhYmxlPiI7CgkJCQlicmVhazsKCQkJfQoJCQlkZWZhdWx0IDp7CgkJCQkkdmRhZnRhciA9CgkJCQkJIjxkaXYgaWQ9J3skdGhpcy0+UHJlZml4fV9jb250X2RhZnRhcicgc3R5bGU9J3Bvc2l0aW9uOnJlbGF0aXZlOycgPiIuIjwvZGl2PiIuCgkJCQkJJGRpdkhhbDsKCQkJCWJyZWFrOwoJCQl9CgkJfQoKCQlyZXR1cm4KCQkJLy8kTmF2QXRhcy4KCQkJIjxkaXYgaWQ9J3skdGhpcy0+UHJlZml4fV9jb250X3RpdGxlJyBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmUnPjwvZGl2PiIuCgkJCSI8ZGl2IGlkPSd7JHRoaXMtPlByZWZpeH1fY29udF9vcHNpJyBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmUnPiIuCgkJCQkvLyR2T3BzaVsnVGFtcGlsT3B0J10uCgkJCSI8L2Rpdj4iLgoJCQkvLyI8ZGl2IHN0eWxlPSdwb3NpdGlvbjpyZWxhdGl2ZSc+Ii4KCQkJJHZkYWZ0YXIuCgkJCS8vIjwvZGl2PiIuCgkJCScnOwoJfQovKgoJZnVuY3Rpb24gZ2VuRGFmdGFySW5pdGlhbCgpewoJCSR2T3BzaSA9ICR0aGlzLT5nZW5EYWZ0YXJPcHNpKCk7CgoJCXJldHVybgoJCQkvLyROYXZBdGFzLgoJCQkiPGRpdiBpZD0neyR0aGlzLT5QcmVmaXh9X2NvbnRfdGl0bGUnIHN0eWxlPSdwb3NpdGlvbjpyZWxhdGl2ZSc+PC9kaXY+Ii4KCQkJIjxkaXYgaWQ9J3skdGhpcy0+UHJlZml4fV9jb250X29wc2knIHN0eWxlPSdwb3NpdGlvbjpyZWxhdGl2ZSc+Ii4KCQkJCS8vJHZPcHNpWydUYW1waWxPcHQnXS4KCQkJIjwvZGl2PiIuCgkJCSI8ZGl2IGlkPSd7JHRoaXMtPlByZWZpeH1fY29udF9kYWZ0YXInIHN0eWxlPSdwb3NpdGlvbjpyZWxhdGl2ZScgPiIuCgkJCQkvLyR0aGlzLT5nZW5EYWZ0YXIoJE9wc2lbJ0tvbmRpc2knXSwkT3BzaVsnT3JkZXInXSwgJE9wc2lbJ0xpbWl0J10sICRPcHNpWydOb0F3YWwnXSkuCgkJCSI8L2Rpdj4iLgoJCQkiPGRpdiBpZD0neyR0aGlzLT5QcmVmaXh9X2NvbnRfaGFsJyBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmUnPiIuCgkJCQkiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX2hhbCcgbmFtZT0nIi4kdGhpcy0+UHJlZml4LiJfaGFsJyB2YWx1ZT0nMSc+Ii4KCQkJIjwvZGl2PiI7Cgl9CiovCgkvKgoJZnVuY3Rpb24gZ2VuU3VtSGFsMigkS29uZGlzaSl7CgkJZ2xvYmFsICRNYWluOwoJCS8vJFN1bSA9ICdzdW0nOyAkSGFsID0gJ2hhbCc7CgkJJGptbERhdGEgPSAwOwoJCSRqbWxUb3RhbCA9IDA7CgoJCSRhcXJ5ID0gInNlbGVjdCBjb3VudCgqKSBhcyBzdW0xLCBzdW0oam1sX2tldGV0YXBhbikgYXMgc3VtMiBmcm9tICR0aGlzLT5UYmxOYW1lICRLb25kaXNpICI7IC8vZWNobyAkYXFyeTsKCQkkcXJ5ID0gbXlzcWxfcXVlcnkoJGFxcnkpOwoJCWlmICgkaXNpPSBteXNxbF9mZXRjaF9hcnJheSgkcXJ5KSl7CgkJCSRqbWxEYXRhID0gJGlzaVsnc3VtMSddOwoJCQkkam1sVG90YWw9ICRpc2lbJ3N1bTInXTsKCQkJJFN1bSA9IG51bWJlcl9mb3JtYXQoJGptbFRvdGFsLCAyLCAnLCcgLCcuJyk7CgkJCSRIYWw9ICI8dGFibGUgY2xhc3M9J2tvcHRhYmxlJyBib3JkZXI9JzEnIHdpZHRoPScxMDAlJyBzdHlsZT0nbWFyZ2luOjQgMCAwIDAnPgoJCQkJPHRyPjx0ZCBhbGlnbj1jZW50ZXIgc3R5bGU9J3BhZGRpbmc6NCc+Ii4KCQkJCQlIYWxhbWFuMmIoJGptbERhdGEsJE1haW4tPlBhZ2VQZXJIYWwsIkhhbERlZmF1bHQiLGNla1BPU1QoJ0hhbERlZmF1bHQnKSw1LCdQZW5ldGFwYW4uZ290b0hhbGFtYW4nKS4KCQkJCSI8L3RkPjwvdHI+PC90YWJsZT4iOwoJCX0KCgkJcmV0dXJuIGFycmF5KCdzdW0nPT4kU3VtLCAnaGFsJz0+JEhhbCk7Cgl9Ki8KLy8gbWVudSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgovL2FqeCBwcm9zZXMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCWZ1bmN0aW9uIHNldF9hanhwcm9zZXNfb3RoZXJfKCRpZHBycywgJE9wdCl7CgkJJEVyck5vPTA7ICRFcnJNc2cgPSAnJzsgJGNvbnRlbnQ9J3Rlcyc7ICRqc29uPUZBTFNFOyAkY2VrPScnOwoJCS8vLS0tLS0tLS0tCgkJcmV0dXJuIGFycmF5KCdFcnJObyc9PiRFcnJObywgJ0Vyck1zZyc9PiRFcnJNc2csICdjb250ZW50Jz0+ICRjb250ZW50LCAnanNvbic9PiRqc29uICwnY2VrJz0+JGNlayk7Cgl9CglmdW5jdGlvbiBzZXRfYWp4cHJvc2VzXygkaWRwcnMsICRPcHQpewoJCSRFcnJObz0wOyAkRXJyTXNnID0gJyc7ICRjb250ZW50PScnOyAkanNvbj1GQUxTRTsgJGNlayA9Jyc7CgoJCWlmICgkaWRwcnMgPT0nJykgewoJCQllY2hvICR0aGlzLT5zZXRQYWdlKCk7CgkJfWVsc2V7CgkJCXN3aXRjaCAoJGlkcHJzKXsKCQkJCWNhc2UgJ2xpc3QnOnsKCQkJCQkkT3BzaSA9ICR0aGlzLT5nZXREYWZ0YXJPcHNpKCk7CS8vJGNvbnRlbnQgPSAndGVzJy4KCQkJCQkkY29udGVudD0KCQkJCQkJYXJyYXkoJ2xpc3QnPT4KCQkJCQkJCSR0aGlzLT5nZW5EYWZ0YXIoCgkJCQkJCQkJJE9wc2lbJ0tvbmRpc2knXSwgJE9wc2lbJ09yZGVyJ10sCgkJCQkJCQkJJE9wc2lbJ0xpbWl0J10sICRPcHNpWydOb0F3YWwnXSwgMQoJCQkJCQkJKQoJCQkJCQkpOwoJCQkJCSRqc29uPSB0cnVlOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJY2FzZSAnc3VtaGFsJzp7CgkJCQkJJE9wc2kgPSAkdGhpcy0+Z2V0RGFmdGFyT3BzaSgpOwoJCQkJCSRjb250ZW50ID0gJHRoaXMtPmdlblN1bUhhbCgkT3BzaVsnS29uZGlzaSddKTsKCQkJCQkkanNvbj0gdHJ1ZTsKCQkJCQlicmVhazsKCQkJCX0KCQkJCWNhc2UgJ2NldGFrX2hhbCc6IHsKCQkJCQkvL2VjaG8gJHRoaXMtPnNldENldGFrKDIpOwoJCQkJCS8vJHRoaXMtPmdlbkNldGFrKDIsJE90aGVyLCczMGNtJywnREFGVEFSIE5PVEEgSElUVU5HJyk7CgkJCQkJJHRoaXMtPmNldGFrX2hhbCgpOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJY2FzZSAnY2V0YWtfYWxsJzp7CgkJCQkJJHRoaXMtPmNldGFrX2FsbCgpOwoJCQkJCS8vZWNobyAkdGhpcy0+c2V0Q2V0YWsoMyk7CgkJCQkJLy8kdGhpcy0+Z2VuQ2V0YWsoMywkT3RoZXIsJzMwY20nLCdEQUZUQVIgTk9UQSBISVRVTkcnKTsKCQkJCQlicmVhazsKCQkJCX0KCQkJCWNhc2UgJ2hhcHVzJzp7CgkJCQkJJGNiaWQ9ICRfUE9TVFskdGhpcy0+UHJlZml4LidfY2InXTsKCQkJCQkkRXJyTXNnPS8vJ2hhcHVzICcuJGNic3RyOwoJCQkJCQkkdGhpcy0+SGFwdXMoJGNiaWQpOwoJCQkJCSRqc29uPVRSVUU7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCQkvKmNhc2UgJ2NyZWF0ZV90YWh1bic6ewoJCQkJJEVyck1zZyA9J3Rlcyc7Ly8kdGhpcy0+Y3JlYXRlX3RhaHVuKCk7CgkJCQkkY29udGVudCA9ICRfR0VUWyd0aG4nXTsKCQkJCSRqc29uID0gVFJVRTsKCQkJCWJyZWFrOwoJCQkJfSovCgkJCQlkZWZhdWx0IDp7CgkJCQkJLy8kVGFtcGlsT3B0ID0gJFBlcmhpdHVuZ2FuLT5nZW5EYWZ0YXJPcHNpKCk7CgkJCQkJJG90aGVyID0gJHRoaXMtPnNldF9hanhwcm9zZXNfb3RoZXIoJGlkcHJzLCRPcHQpOwoJCQkJCSRFcnJObyA9ICRvdGhlclsnRXJyTm8nXTsKCQkJCQkkRXJyTXNnID0gJG90aGVyWydFcnJNc2cnXTsKCQkJCQkkY29udGVudCA9ICRvdGhlclsnY29udGVudCddOwoJCQkJCSRqc29uID0gJG90aGVyWydqc29uJ107CgkJCQkJJGNlayA9ICRvdGhlclsnY2VrJ107CgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCQl9CgoKCgkJcmV0dXJuIGFycmF5KCdFcnJObyc9PiRFcnJObywgJ0Vyck1zZyc9PiRFcnJNc2csICdjb250ZW50Jz0+ICRjb250ZW50LCAnanNvbic9PiRqc29uLCAnY2VrJz0+JGNlayApOwoJfQoJZnVuY3Rpb24gYWp4cHJvc2VzXygpewoJCSRFcnJNc2cgPSAnJzsgJGNlaz0nJzsKCQlpZiAoJF9HRVRbJ2lkcHJzJ10gIT0gJycpewoJCQkkaWRwcnMgPSAkX0dFVFsnaWRwcnMnXTsgLy9lY2hvICcsaWRwcnM9Jy4kaWRwcnM7CgkJfWVsc2V7IC8vanNvbgoJCQkkb3B0c3RyaW5nID0gc3RyaXBzbGFzaGVzKCRfR0VUWydvcHQnXSk7CgkJCSRPcHQgPSBqc29uX2RlY29kZSgkb3B0c3RyaW5nKTsgLy8kcGFnZSA9IGpzb25fZW5jb2RlKCIsY2VrPSIrJE9wdC0+aWRwcnMpOwoJCQkkaWRwcnMgPSAkT3B0LT5kYWZ0YXJQcm9zZXNbJE9wdC0+aWRwcnNdOwoJCX0KCgkJJGdldCA9ICR0aGlzLT5zZXRfYWp4cHJvc2VzKCRpZHBycywgJE9wdCk7CgkJJEVyck5vID0gJGdldFsnRXJyTm8nXTsKCQkkRXJyTXNnID0gJGdldFsnRXJyTXNnJ107CgkJJGNvbnRlbnQgPSAkZ2V0Wydjb250ZW50J107CgkJJGNlayA9ICRnZXRbJ2NlayddOwoJCSRqc29uID0gJGdldFsnanNvbiddOwoJCWlmKCRqc29uKXsgLy9qc29uLS0tCgkJCSRwYWdlQXJyID0gYXJyYXkoCgkJCQkJCSdpZHBycyc9PiRPcHQtPmlkcHJzLAoJCQkJCQknZGFmdGFyUHJvc2VzJz0+JE9wdC0+ZGFmdGFyUHJvc2VzICwKCQkJCQkJJ0Vyck5vJz0+JEVyck5vLAoJCQkJCQknRXJyTXNnJz0+JEVyck1zZywKCQkJCQkJJ2NvbnRlbnQnPT4gJGNvbnRlbnQgLAoJCQkJCQknY2VrJz0+JGNlawoJCQkJCSk7CgkJCSRwYWdlID0ganNvbl9lbmNvZGUoJHBhZ2VBcnIpOwoJCQkkcGFnZTsKCQl9CgoJCXJldHVybiAkcGFnZTsKCX0KCWZ1bmN0aW9uIHNldF9zZWxlY3Rvcl9vdGhlcigkdGlwZSl7CgkJJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgJGpzb249RkFMU0U7CgkJc3dpdGNoKCR0aXBlKXsKCQkJZGVmYXVsdDp7CgkJCQkkZXJyID0gJ3RpcGUgdGlkYWsgYWRhISc7CgkJCQlicmVhazsKCQkJfQoJCX0KCQlyZXR1cm4JYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCwgJ2pzb24nPT4kanNvbik7Cgl9CglmdW5jdGlvbiBzZXRQcm9wZXJ0eSgpewoJCS8vZnVuZ3NpIGluaSB1bnR1ayBtZW5zZXQgdWxhbmcgcHJvcGVydHkgY2xhc3MsIG1pc2FsbnlhICR0aGlzLT5GaWVsZFN1bV9DcDEKCX0KCWZ1bmN0aW9uIHNlbGVjdG9yKCl7CgkJZ2xvYmFsICRNYWluOwoJCSRjZWsgPSAnJzsgJGVycj0nJzsgJGNvbnRlbnQ9Jyc7ICRqc29uPUZBTFNFOwoJCSR0aXBlID0gJF9SRVFVRVNUWyd0aXBlJ107CgkJJHRoaXMtPnNldFByb3BlcnR5KCk7CgkJLy9lY2hvICR0aXBlOwoJCWlmICgkdGlwZT09JycpewoJCQkvLyRNb2R1bEFrc2VzID0gaXNQYWdlRW5hYmxlKCcwMCcsJ3N1bScpOwoJCQkvL2lmICggJE1vZHVsQWtzZXM+MCl7CgkJCS8vZWNobyAndGVzMic7CgkJCWVjaG8gJHRoaXMtPnBhZ2VTaG93KCk7CgkJCQkJLy9lY2hvICRwYmJQZW5ldGFwYW4tPmFqeHByb3NlcygpOwoJCQkvLwl9CgkJfWVsc2V7CgkJCXN3aXRjaCgkdGlwZSl7CgkJCQljYXNlICdzdWJ0aXRsZSc6ewoJCQkJCSRjb250ZW50ID0gJHRoaXMtPnNldFRvcEJhcigpOwoJCQkJCSRqc29uPVRSVUU7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCQljYXNlICdmaWx0ZXInOiB7CgkJCQkJJG9wc2kgPSAkdGhpcy0+Z2VuRGFmdGFyT3BzaSgpOwoJCQkJCSRjb250ZW50PSRvcHNpWydUYW1waWxPcHQnXTsKCQkJCQkkanNvbj1UUlVFOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJY2FzZSAnZGFmdGFyJzogewoJCQkJCSRPcHNpID0gJHRoaXMtPmdldERhZnRhck9wc2koKTsKCQkJCQkkZGFmdGFyID0gJHRoaXMtPmdlbkRhZnRhcigkT3BzaVsnS29uZGlzaSddLCRPcHNpWydPcmRlciddLCAkT3BzaVsnTGltaXQnXSwgICRPcHNpWydOb0F3YWwnXSwgMSwgJE9wc2lbJ3ZLb25kaXNpX29sZCddKTsKCQkJCQkkY29udGVudD0kZGFmdGFyWydjb250ZW50J10JOwoJCQkJCSRlcnIgPSAkZGFmdGFyWydlcnInXTsKCQkJCQkkY2VrIC49ICRkYWZ0YXJbJ2NlayddOwoJCQkJCSRjZWsgLj0gJ2tvbmRpc2k9Jy4kT3BzaVsnS29uZGlzaSddLidvcmRlcj0nLiRPcHNpWydPcmRlciddLgoJCQkJCQknIGxpbWl0PScuJE9wc2lbJ0xpbWl0J10uCgkJCQkJCScgbm9hd2FsPScuJE9wc2lbJ05vQXdhbCddIC4KCQkJCQkJJyB2a29uZGlzaT0nLiRPcHNpWyd2S29uZGlzaV9vbGQnXTsKCQkJCQkvLyRjZWsgLj0gJGRhZnRhclsnY2VrJ107CgkJCQkJJGpzb24gPSBUUlVFOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQkJY2FzZSAnc3VtaGFsJzp7CgkJCQkJJE9wc2kgPSAkdGhpcy0+Z2V0RGFmdGFyT3BzaSgpOwoJCQkJCSRjb250ZW50ID0gJHRoaXMtPmdlblN1bUhhbCgkT3BzaVsnS29uZGlzaSddKTsKCQkJCQkkY2VrIC49ICdrb25kaXNpPScuJE9wc2lbJ0tvbmRpc2knXS4nb3JkZXI9Jy4kT3BzaVsnT3JkZXInXS4nbGltaXQ9Jy4kT3BzaVsnTGltaXQnXS4nbm9hd2FsPScuJE9wc2lbJ05vQXdhbCddOwoKCQkJCQkkanNvbj0gdHJ1ZTsKCQkJCQlicmVhazsKCQkJCX0KCQkJCWNhc2UgJ2NldGFrX2hhbCc6IHsKCQkJCQkkdGhpcy0+Y2V0YWtfaGFsKCk7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCQljYXNlICdjZXRha19hbGwnOnsKCQkJCQkkdGhpcy0+Y2V0YWtfYWxsKCk7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCQljYXNlICdleHBvcnRYbHMnOnsKCQkJCQkkbW9kZSA9ICRfUkVRVUVTVFsnbW9kZSddOwoJCQkJCSR0aGlzLT5leHBvcnRFeGNlbCgkbW9kZSk7CgkJCQkJYnJlYWs7CgkJCQl9CgoJCQkJY2FzZSAnaGFwdXMnOnsKCQkJCQkkY2JpZD0gJF9QT1NUWyR0aGlzLT5QcmVmaXguJ19jYiddOwoJCQkJCSRnZXQ9ICR0aGlzLT5IYXB1cygkY2JpZCk7CgkJCQkJJGVycj0gJGdldFsnZXJyJ107CgkJCQkJJGNlayA9ICRnZXRbJ2NlayddOwoJCQkJCSRjb250ZW50ID0gJGdldFsnY29udGVudCddOwoJCQkJCSRqc29uPVRSVUU7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCQkvKmNhc2UgJ3NpbXBhbic6ewoJCQkJCS8vJGdldCA9ICR0aGlzLT5TaW1wYW4oKTsKCQkJCQkkZ2V0ID0gYXJyYXkoJ2Nlayc9PicnLCAnZXJyJz0+J2dnYWwnLCdjb250ZW50Jz0+JycsICdqc29uJz0+VFJVRSk7CgkJCQkJJGNlayA9ICRnZXRbJ2NlayddOwoJCQkJCSRlcnIgPSAkZ2V0WydlcnInXTsKCQkJCQkkY29udGVudD0kZ2V0Wydjb250ZW50J107CgkJCQkJJGpzb249JGdldFsnanNvbiddOwoJCQkJCWJyZWFrOwoJCQkJfSovCgkJCQlkZWZhdWx0OiB7Ly9vdGhlciB0eXBlCgkJCQkJLy9pbmNsdWRlKCdwZW5ldGFwYW5fbGlzdC5waHAnKTsKCQkJCQkkb3RoZXIgPSAkdGhpcy0+c2V0X3NlbGVjdG9yX290aGVyKCR0aXBlKTsKCQkJCQkkY2VrID0gJG90aGVyWydjZWsnXTsKCQkJCQkkZXJyID0gJG90aGVyWydlcnInXTsKCQkJCQkkY29udGVudD0kb3RoZXJbJ2NvbnRlbnQnXTsKCQkJCQkkanNvbj0kb3RoZXJbJ2pzb24nXTsKCgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCQkJaWYoJE1haW4tPlNIT1dfQ0VLPT1GQUxTRSkgJGNlayA9ICcnOwoJCQlpZigkanNvbil7CgkJCQkkcGFnZUFyciA9IGFycmF5KAoJCQkJCS8vJ2Nlayc9PnV0ZjhfZW5jb2RlKCRjZWspLAoJCQkJCS8vJ2Nlayc9PnN1YnN0cigkY2VrLDEsJE1haW4tPlNIT1dfQ0VLX0xJTUlUKSwKCQkJCQknY2VrJz0+aHRtbHNwZWNpYWxjaGFycygkY2VrKSwKCQkJCQknZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudAoJCQkJKTsKCQkJCSRwYWdlID0ganNvbl9lbmNvZGUoJHBhZ2VBcnIpOwoJCQkJLy9oZWFkZXIoIkNvbnRlbnQtVHlwZTogdGV4dC9qYXZhc2NyaXB0OyBjaGFyc2V0PXV0Zi04Iik7CgkJCQlpZigkTWFpbi0+SEVBREVSX0pTT04pIGhlYWRlcignQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uJyk7CgkJCQllY2hvICRwYWdlOwoJCQl9CgoJCX0KCgoJfQoKLy9QQUdFID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCWZ1bmN0aW9uIHNldFBhZ2VfSGVhZGVyXygkSWNvblBhZ2U9JycsICRUaXRsZVBhZ2U9JycpewoJCS8vcmV0dXJuIGNyZWF0ZUhlYWRlclBhZ2UoJEljb25QYWdlLCAkVGl0bGVQYWdlKTsKCQlyZXR1cm4gY3JlYXRlSGVhZGVyUGFnZSgkSWNvblBhZ2UsICRUaXRsZVBhZ2UsCgkJCScnLCBGQUxTRSwgJ3BhZ2VoZWFkZXInLCAkdGhpcy0+aWNvX3dpZHRoLCAkdGhpcy0+aWNvX2hlaWdodAoJCSk7Cgl9CglmdW5jdGlvbiBzZXRQYWdlX0hlYWRlcigpewoJCWdsb2JhbCAkTWFpbiwgJE1lbnUsICRNZW51djU7CgkJaWYoJE1haW4tPk1FTlVfVkVSU0k9PTUpewoJCQlyZXR1cm4gJE1lbnV2NS0+TmF2MS4kTWVudXY1LT5OYXYyOwoKCQl9ZWxzZXsKCQkJLy9hbWJpbCB0aXRsZSBkYXJpIG1lbnUKCQkgICAgJG1lbnU9JE1lbnUtPmdldERhdGEoKTsKCQkJaWYoJG1lbnUgIT0gTlVMTCl7CgkJCQkkdGhpcy0+UGFnZVRpdGxlID0kbWVudVsncGFnZV90aXRsZSddOwoJCQkJJHRoaXMtPlBhZ2VJY29uID0kbWVudVsncGFnZV9pY29uJ107CgkJCX0KCQkJLy9yZXR1cm4gY3JlYXRlSGVhZGVyUGFnZSgkdGhpcy0+UGFnZUljb24sICR0aGlzLT5QYWdlVGl0bGUpOwoJCQlyZXR1cm4gY3JlYXRlSGVhZGVyUGFnZSgkdGhpcy0+UGFnZUljb24sICR0aGlzLT5QYWdlVGl0bGUsCgkJCQknJywgRkFMU0UsICdwYWdlaGVhZGVyJywgJHRoaXMtPmljb193aWR0aCwgJHRoaXMtPmljb19oZWlnaHQKCQkJKTsKCQl9CgoJfQoJZnVuY3Rpb24gc2V0UGFnZV9Gb290ZXIoJHBhcmFtPScnKXsKCQlnbG9iYWwgJE1haW4sICRNZW51djU7CgoJCWlmKCRNYWluLT5NRU5VX1ZFUlNJPT01KXsKCQkJcmV0dXJuICRNZW51djUtPmZvb3RlcjEuJE1lbnV2NS0+Zm9vdGVyMjsKCgkJfWVsc2V7CgkJCS8vYW1iaWwgdGl0bGUgZGFyaSBtZW51CgkJICAgIHJldHVybiAkTWFpbi0+Q29weVJpZ2h0OwoJCX0KCX0KCWZ1bmN0aW9uIHNldFBhZ2VfT3RoZXJTdHlsZSgpewoJCS8qcmV0dXJuICI8bGluayB0eXBlPSd0ZXh0L2NzcycgaHJlZj0nY3NzL3BheS5jc3MnIHJlbD0nc3R5bGVzaGVldCc+CgkJCQkJCTxsaW5rIHR5cGU9J3RleHQvY3NzJyBocmVmPSdjc3MvbWVudV9wYXkuY3NzJyByZWw9J3N0eWxlc2hlZXQnPiI7CgkJKi8KCQlyZXR1cm4gJyc7Cgl9CgoKCWZ1bmN0aW9uIHNldFBhZ2VfT3RoZXJTY3JpcHQoKXsKCQkkc2NyaXB0bG9hZCA9CgkJCQkJIjxzY3JpcHQ+CgkJCQkJCSQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7CgkJCQkJCQkiLiR0aGlzLT5QcmVmaXguIi5sb2FkaW5nKCk7CgkJCQkJCX0pOwoKCQkJCQk8L3NjcmlwdD4iOwoKCQlyZXR1cm4KCQkJLyoiPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nanMvZGlhbG9nMS5qcycgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnID48L3NjcmlwdD4KCQkJPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nanMvanF1ZXJ5LmpzJyBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgPjwvc2NyaXB0PiIuCQkJKi8KCQkJIjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9J2pzL2JhcmNvZGUuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0JyA+PC9zY3JpcHQ+Ii4KCQkJIjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9J2pzL3NrcGQuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0JyA+PC9zY3JpcHQ+Ii4KCQkJIjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9J2pzLyIuc3RydG9sb3dlcigkdGhpcy0+UHJlZml4KS4iLmpzJyBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgPjwvc2NyaXB0PiIuCgkJCSRzY3JpcHRsb2FkOwoJfQoJZnVuY3Rpb24gc2V0UGFnZV9PdGhlclNjcmlwdF9ub2RpYWxvZygpewoJCXJldHVybiAiPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nanMvYmFyY29kZS5qcycgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnID48L3NjcmlwdD4iLgoJCQkJCSI8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPSdqcy9za3BkLmpzJyBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgPjwvc2NyaXB0PiIuCgkJCQkJCSI8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPSdqcy8iLnN0cnRvbG93ZXIoJHRoaXMtPlByZWZpeCkuIi5qcycgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnID48L3NjcmlwdD4iOwoJfQoJZnVuY3Rpb24gc2V0UGFnZV9JY29uUGFnZSgpewoJCXJldHVybiAnaW1hZ2VzL2ljb24vZGFmdGFyMzIucG5nJzsKCX0KCWZ1bmN0aW9uIHNldFBhZ2VfVGl0bGVQYWdlKCl7CgkJJE9wID0gJF9HRVRbJ09wJ107CgkJCQkkTmFtYUpuc1BhamFrID0gZ2V0X2tvZHJla19wYWQoZ2VuTnVtYmVyKCRfR0VUWydPcCddLDIgKSAsJzAwJyk7CgkJcmV0dXJuICAkTmFtYUpuc1BhamFrLicgLSBOb3RhIEhpdHVuZyc7Cgl9CglmdW5jdGlvbiBzZXRQYWdlX090aGVySGVhZGVyUGFnZSgpewoJCXJldHVybiAnJzsKCX0KCWZ1bmN0aW9uIHNldFBhZ2VfRm9ybU5hbWUoKXsKCQlyZXR1cm4gJ2FkbWluRm9ybSc7Cgl9CglmdW5jdGlvbiBzZXRQYWdlX2hpZGRlbigpewoJCXJldHVybiBnZW5IaWRkZW4oYXJyYXkoJ2ZtT3AnPT4gZ2VuTnVtYmVyKCRfR0VUWydPcCddLDIpICkpOwoJfQoJZnVuY3Rpb24gVG9vbGJhckF0YXNFZGl0X0FkZCgkbGFiZWw9JycsJGljbz0nJywkbGluaz0nJywkaGludD0nJywkaW5zZXJ0PUZBTFNFKXsKCQlpZigkaW5zZXJ0KXsKCQkJJHRoaXMtPlRvb2xiYXJBdGFzX2VkaXQgPQoJCQkJIjx0ZD4iLmdlblBhbmVsSWNvbigkbGluaywkaWNvLCRsYWJlbCwkaGludCkuIjwvdGQ+Ii4kdGhpcy0+VG9vbGJhckF0YXNfZWRpdDsKCQl9ZWxzZXsKCQkJJHRoaXMtPlRvb2xiYXJBdGFzX2VkaXQgLj0KCQkJCSI8dGQ+Ii5nZW5QYW5lbEljb24oJGxpbmssJGljbywkbGFiZWwsJGhpbnQpLiI8L3RkPiI7CgkJfQoKCQlyZXR1cm4gJFRvb2xiYXJBdGFzX2VkaXQ7Cgl9CglmdW5jdGlvbiBzZXRQYWdlX1Rvb2xiYXJBdGFzVmlldygpewoJCXJldHVybiAvLyI8dGQ+Ii5nZW5QYW5lbEljb24oImphdmFzY3JpcHQ6Ii4kdGhpcy0+UHJlZml4LiIuY2V0YWtIaXQoKSIsInByaW50X2YyLnBuZyIsIkNldGFrIiwgJ0NldGFrIE5vdGEgSGl0dW5nJykuIjwvdGQ+CgkJCQkJIjx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5jZXRha0hhbChcIiRPcFwiKSIsInByaW50X2YyLnBuZyIsIkhhbGFtYW4iKS4iPC90ZD4KCQkJCQk8dGQ+Ii5nZW5QYW5lbEljb24oImphdmFzY3JpcHQ6Ii4kdGhpcy0+UHJlZml4LiIuY2V0YWtBbGwoXCIkT3BcIikiLCJwcmludF9mMi5wbmciLCJTZW11YSIpLiI8L3RkPiI7CgoJfQoJZnVuY3Rpb24gc2V0UGFnZV9PdGhlckluRm9ybSgpe30KCWZ1bmN0aW9uIHNldFBhZ2VfT3RoZXJDb250ZW50UGFnZSgpewoKCX0KCWZ1bmN0aW9uIHNldFBhZ2VfT3RoZXJGb290ZXJQYWdlKCl7fQoJZnVuY3Rpb24gZ2VuSFRNTEhlYWQoKXsKCQlnbG9iYWwgJE1haW4sICRhcHAsICRNZW51djU7CgkJLypyZXR1cm4KCQkJIjxoZWFkPiIuCgkJCQkkTWFpbi0+SFRNTF9UaXRsZS4KCQkJCSRNYWluLT5IVE1MX01ldGEuCgkJCQkkTWFpbi0+SFRNTF9MaW5rLgoJCQkJJHRoaXMtPnNldFBhZ2VfT3RoZXJTdHlsZSgpLgoKCQkJCS8vJE1haW4tPkhUTUxfU2NyaXB0LgoJCQkJIjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9JyIuJHBhdGhqcy4ianMvYmFzZS5qcycgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnPjwvc2NyaXB0PgoJCQkJPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nIi4kcGF0aGpzLiJqcy9qcXVlcnkuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0Jz48L3NjcmlwdD4KCQkJCTxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9JyIuJHBhdGhqcy4ianMvYWpheGMyLmpzJyBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgPjwvc2NyaXB0PgoJCQkJPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nIi4kcGF0aGpzLiJqcy9kaWFsb2cuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0JyA+PC9zY3JpcHQ+CgkJCQk8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPSciLiRwYXRoanMuImpzL3Vzci5qcycgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnID48L3NjcmlwdD4iLgoJCQkJJHRoaXMtPnNldFBhZ2VfT3RoZXJTY3JpcHQoKS4KCQkJIjwvaGVhZD4iOwoJCSovCgkJaWYoJE1haW4tPk1FTlVfVkVSU0k9PTUpewoJCQkkb3RoZXJTdHlsZT0gJE1lbnV2NS0+c3R5bGUuJHRoaXMtPnNldFBhZ2VfT3RoZXJTdHlsZSgpOwoJCQkkb3RoZXJTY3JpcHQgPSAkTWVudXY1LT5zY3JpcHQuJHRoaXMtPnNldFBhZ2VfT3RoZXJTY3JpcHQoKTsKCQkJcmV0dXJuICRhcHAtPmdlbkhUTUxIZWFkKCRvdGhlclN0eWxlLCAkb3RoZXJTY3JpcHQJKTsKCQl9ZWxzZXsKCQkJcmV0dXJuICRhcHAtPmdlbkhUTUxIZWFkKCR0aGlzLT5zZXRQYWdlX090aGVyU3R5bGUoKSwgCSR0aGlzLT5zZXRQYWdlX090aGVyU2NyaXB0KCkpOwoJCX0KCgl9CglmdW5jdGlvbiBzZXRQYWdlX0hlYWRlck90aGVyKCl7CgkJcmV0dXJuICcnOwoJfQoJZnVuY3Rpb24gc2V0TmF2QXRhcygpewoJCWdsb2JhbCAkTWVudTsKCQlpZigkTWVudSkgewoJCQkvL3JldHVybiAkTWVudS0+Z2VuTWVudSgkdGhpcy0+a29kZU1lbnUpOwoJCQlyZXR1cm4gJE1lbnUtPmdlbk1lbnUoKTsKCQl9ZWxzZXsKCQkJcmV0dXJuICcnOwoJCX0KCgkJLy9yZXR1cm4gJyc7Ly8KCQkJLyonPHRhYmxlIGNlbGxzcGFjaW5nPSIwIiBjZWxscGFkZGluZz0iMCIgYm9yZGVyPSIwIiB3aWR0aD0iMTAwJSI+PHRyPgoJCQkJCTx0ZCBjbGFzcz0ibWVudWRvdHRlZGxpbmUiIHdpZHRoPSI0MCUiIGhlaWdodD0iMjAiIHN0eWxlPSJ0ZXh0LWFsaWduOnJpZ2h0Ij48Yj4KCgoJPGEgaHJlZj0iP1BnPTA1JmFtcDtTUGc9MDMiIHRpdGxlPSJCdWt1IEludmVudGFyaXMiPkJJPC9hPiB8Cgk8YSBocmVmPSI\/UGc9MDUmYW1wO1NQZz0wNCIgdGl0bGU9IlRhbmFoIj5LSUIgQTwvYT4gIHwKCTxhIGhyZWY9Ij9QZz0wNSZhbXA7U1BnPTA1IiB0aXRsZT0iUGVyYWxhdGFuICZhbXA7IE1lc2luIj5LSUIgQjwvYT4gIHwKCTxhIGhyZWY9Ij9QZz0wNSZhbXA7U1BnPTA2IiB0aXRsZT0iR2VkdW5nICZhbXA7IEJhbmd1bmFuIj5LSUIgQzwvYT4gIHwKCTxhIGhyZWY9Ij9QZz0wNSZhbXA7U1BnPTA3IiB0aXRsZT0iSmFsYW4sIElyaWdhc2kgJmFtcDsgSmFyaW5nYW4iPktJQiBEPC9hPiAgfAoJPGEgaHJlZj0iP1BnPTA1JmFtcDtTUGc9MDgiIHRpdGxlPSJBc2V0IFRldGFwIExhaW5ueWEiPktJQiBFPC9hPiAgfAoJPGEgaHJlZj0iP1BnPTA1JmFtcDtTUGc9MDkiIHRpdGxlPSJLb25zdHJ1a3NpIERhbGFtIFBlbmdlcmphYW4iPktJQiBGPC9hPiAgfAoJPGEgaHJlZj0iP1BnPTA1JmFtcDtTUGc9MTEiIHRpdGxlPSJSZWthcCBCSSI+UkVLQVAgQkk8L2E+IHwKCTxhIGhyZWY9Ij9QZz0wNSZhbXA7U1BnPTEyIiB0aXRsZT0iRGFmdGFyIE11dGFzaSI+TVVUQVNJPC9hPiAgfAoJPGEgaHJlZj0iP1BnPTA1JmFtcDtTUGc9MTMiIHRpdGxlPSJSZWthcCBNdXRhc2kiPlJFS0FQIE1VVEFTSTwvYT4gfAoJPGEgaHJlZj0icGdLZXUucGhwP1BnPXNlbnN1cyIgdGl0bGU9IlNlbnN1cyI+U0VOU1VTPC9hPgoJICAmbmJzcDsmbmJzcDsmbmJzcDsKCTwvYj48L3RkPgoJPC90cj48L3RhYmxlPic7Ki8KCX0KCWZ1bmN0aW9uIHBhZ2VTaG93KCl7CgkJZ2xvYmFsICRhcHAsICRNYWluOwoKCQkkbmF2YXRhc18gPSAkdGhpcy0+c2V0TmF2QXRhcygpOwoJCSRuYXZhdGFzID0gJG5hdmF0YXNfPT0nJz8gLy8gJzAnOiAnMjAnOwoJCQknJzoKCQkJIjx0cj48dGQgaGVpZ2h0PScyMCc+Ii4KCQkJCQkkbmF2YXRhc18uCgkJCSI8L3RkPjwvdHI+IjsKCQkkZm9ybTEgPSAkdGhpcy0+d2l0aGZvcm0\/ICI8Zm9ybSBuYW1lPSckdGhpcy0+Rm9ybU5hbWUnIGlkPSckdGhpcy0+Rm9ybU5hbWUnIG1ldGhvZD0ncG9zdCcgYWN0aW9uPScnPiIgOiAnJzsKCQkkZm9ybTIgPSAkdGhpcy0+d2l0aGZvcm0\/ICI8L2Zvcm0gPiI6ICcnOwoKCgkJcmV0dXJuCgoJCS8vIjxodG1sIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJz4iLgoJCSI8aHRtbD4iLgoJCQkkdGhpcy0+Z2VuSFRNTEhlYWQoKS4KCQkJIjxib2R5ID4iLgoJCQkvKiI8ZGl2IGlkPSdwYWdlaGVhZGVyJz4iLiR0aGlzLT5zZXRQYWdlX0hlYWRlcigpLiI8L2Rpdj4iLgoJCQkiPGRpdiBpZD0ncGFnZWNvbnRlbnQnPiIuJHRoaXMtPnNldFBhZ2VfQ29udGVudCgpLiI8L2Rpdj4iLgoJCQkkTWFpbi0+Q29weVJpZ2h0LiovCgoJCQkiPHRhYmxlIGlkPSdLZXJhbmdrYUhhbCcgY2xhc3M9J21lbnViYXInIGNlbGxzcGFjaW5nPScwJyBjZWxscGFkZGluZz0nMCcgYm9yZGVyPScwJyB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyA+Ii4KCQkJCS8vaGVhZGVyIHBhZ2UgLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQkJIjx0ciBoZWlnaHQ9JyR0aGlzLT5oZWFkZXJIZWlnaHQnPjx0ZD4iLgoJCQkJCS8vJHRoaXMtPnNldFBhZ2VfSGVhZGVyKCRJY29uUGFnZSwgJFRpdGxlUGFnZSkuCgkJCQkJJHRoaXMtPnNldFBhZ2VfSGVhZGVyKCkuCgkJCQkJIjxkaXYgaWQ9J2hlYWRlcicgPjwvZGl2PiIuCgkJCQkiPC90ZD48L3RyPiIuCgkJCQkkbmF2YXRhcy4KCQkJCS8vJHRoaXMtPnNldFBhZ2VfSGVhZGVyT3RoZXIoKS4KCQkJCS8vQ29udGVudCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJCS8vc3R5bGU9J3BhZGRpbmc6MCA4IDAgOCcKCQkJCSI8dHIgaGVpZ2h0PScqJyB2YWxpZ249J3RvcCc+IDx0ZCA+Ii4KCgkJCQkJJHRoaXMtPnNldFBhZ2VfSGVhZGVyT3RoZXIoKS4KCQkJCQkiPGRpdiBhbGlnbj0nY2VudGVyJyBjbGFzcz0nY2VudGVybWFpbicgPiIuCgkJCQkJIjxkaXYgY2xhc3M9J21haW4nID4iLgoJCQkJCSRmb3JtMS4KCgkJCQkJCS8vRm9ybSAtLS0tLS0tLS0tLS0tLS0tLS0KCQkJCQkJLy8kaGlkZGVuLgoJCQkJCQkvL2dlblN1YlRpdGxlKCRUaXRsZURhZnRhciwkU3ViVGl0bGVfbWVudSkuCgkJCQkJCSR0aGlzLT5zZXRQYWdlX0NvbnRlbnQoKS4KCQkJCQkJLy8kT3RoZXJJbkZvcm0uCgoJCQkJCSRmb3JtMi4vLyI8L2Zvcm0+Ii4KCQkJCQkiPC9kaXY+PC9kaXY+Ii4KCQkJCSI8L3RkPjwvdHI+Ii4KCQkJCS8vJE90aGVyQ29udGVudFBhZ2UuCgkJCQkvL0Zvb3RlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJCSI8dHI+PHRkIGhlaWdodD0nJHRoaXMtPmZvb3RlckhlaWdodCcgPiIuCgkJCQkJLy8kYXBwLT5nZW5QYWdlRm9vdChGQUxTRSkuCgkJCQkJLy8kTWFpbi0+Q29weVJpZ2h0LgoJCQkJCSR0aGlzLT5zZXRQYWdlX0Zvb3RlcignJyk7CgkJCQkiPC90ZD48L3RyPiIuCgkJCQkkT3RoZXJGb290ZXJQYWdlLgoJCQkiPC90YWJsZT4iLgoJCQkiPC9ib2R5PgoJCTwvaHRtbD4iOwoJfQoKCWZ1bmN0aW9uIHNldFBhZ2VfQ29udGVudCgpewoKCQkvL3JldHVybiAiPGRpdiBpZD0nIi4kdGhpcy0+UHJlZml4LiJfcGFnZWNvbnRlbnQnPjwvZGl2PiI7CgkJcmV0dXJuICR0aGlzLT5nZW5EYWZ0YXJJbml0aWFsKCk7CgoJfQovL0NFVEFLIERBRlRBUiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CglmdW5jdGlvbiBjZXRha19oYWwoKXsKCQkkdGhpcy0+Q2V0YWtfTW9kZT0yOwoJCSR0aGlzLT5nZW5DZXRhaygpOwoJfQoJZnVuY3Rpb24gY2V0YWtfYWxsKCl7CgkJJHRoaXMtPkNldGFrX01vZGU9MzsKCQkkdGhpcy0+Z2VuQ2V0YWsoKTsKCX0KCWZ1bmN0aW9uIGV4cG9ydEV4Y2VsKCRtb2RlPTMpeyAvL21vZGUgMyA9IGNldGFrIHNlbXVhLCAyID0gY2V0YWsgaGFsYW1hbgoJCSR0aGlzLT5DZXRha19Nb2RlPSRtb2RlOwoJCSR0aGlzLT5nZW5DZXRhayhUUlVFKTsKCX0KCS8qKgoJZnVuY3Rpb24gZXhwb3J0RXhjZWwoKXsKCQkkdGhpcy0+Q2V0YWtfTW9kZT0zOwoJCSR0aGlzLT5nZW5DZXRhayhUUlVFKTsKCX0JKiovCgoJLypmdW5jdGlvbiBzZXRDZXRha19Nb2RlKCRNb2RlKXsgcmV0dXJuICRNb2RlO30KCWZ1bmN0aW9uIHNldENldGFrX090aGVySFRNTEhlYWQoJG90aGVyPScnKXtyZXR1cm4gJG90aGVyO30KCWZ1bmN0aW9uIHNldENldGFrX1dJRFRIKCR3aWR0aD0zMCl7cmV0dXJuICR3aWR0aDt9CglmdW5jdGlvbiBzZXRDZXRha19KVURVTCgkanVkdWw9J0RhZnRhcicpe3JldHVybiAkanVkdWw7fQoJZnVuY3Rpb24gc2V0Q2V0YWsoJE1vZGUpewoJCXJldHVybiAkdGhpcy0+Z2VuQ2V0YWsoCgkJCQkJJHRoaXMtPnNldENldGFrX01vZGUoJE1vZGUpLAoJCQkJCSR0aGlzLT5zZXRDZXRha19PdGhlckhUTUxIZWFkKCksCgkJCQkJJHRoaXMtPnNldENldGFrX1dJRFRIKCksCgkJCQkJJHRoaXMtPnNldENldGFrX0pVRFVMKCkKCQkJCSk7Cgl9Ki8KCWZ1bmN0aW9uIHNldENldGFrX0hlYWRlcl8oKXsKCQlnbG9iYWwgJE1haW47CgkJcmV0dXJuCgkJCSI8dGFibGUgc3R5bGU9J3dpZHRoOjEwMCUnIGJvcmRlcj1cIjBcIj48dHI+CgkJCTx0ZCA+Ii4KCQkJCS8qIjxzcGFuIGNsYXNzPSd0aXRsZTInPlBFTUVSSU5UQUggS09UQSBDSU1BSEk8L3NwYW4+PGJyPgoJCQkJPHNwYW4gY2xhc3M9J3RpdGxlMyc+RElOQVMgUEVOREFQQVRBTjwvc3Bhbj48YnI+CgkJCQk8c3BhbiBjbGFzcz0ndGl0bGUxJz5Lb21wbGVrIFBlcmthbnRvcmFuIFBlbWVyaW50YWggS290YSBDaW1haGk8L3NwYW4+PGJyPgoJCQkJPHNwYW4gY2xhc3M9J3RpdGxlMSc+SmwuIFJkLiBEZW1hbmcgSGFyZGpha3VzdW1hIEx0LiAyIFRlbHAvRmF4ICgwMjIpIDY2NTI1NTk8L3NwYW4+IgoJCQkJKi8KCQkJCSRNYWluLT5Lb3BMb2dvLgoJCQkiPC90ZD4KCQkJPHRkID4iLgoJCQkJJHRoaXMtPkNldGFrX0p1ZHVsLgoJCQkiPC90ZD4KCQkJPC90cj48L3RhYmxlPiI7Cgl9CgoJZnVuY3Rpb24gc2V0Q2V0YWtUaXRsZSgpewoJCXJldHVybgkiPERJViBBTElHTj1DRU5URVI+JHRoaXMtPkNldGFrX0p1ZHVsIjsKCX0KCglmdW5jdGlvbiBzZXRDZXRha19IZWFkZXIoJE1vZGU9JycpewoJCWdsb2JhbCAkTWFpbiwgJEhUVFBfQ09PS0lFX1ZBUlM7CgkJJGZtVVJVU0FOID0gY2VrUE9TVCgkdGhpcy0+UHJlZml4LidTa3BkZm1VUlVTQU4nKTsKCQkkZm1TS1BEID0gY2VrUE9TVCgkdGhpcy0+UHJlZml4LidTa3BkZm1TS1BEJyk7IC8vZWNobyAnZm1za3BkPScuJGZtU0tQRDsKCQkkZm1VTklUID0gY2VrUE9TVCgkdGhpcy0+UHJlZml4LidTa3BkZm1VTklUJyk7CgkJJGZtU1VCVU5JVCA9IGNla1BPU1QoJHRoaXMtPlByZWZpeC4nU2twZGZtU1VCVU5JVCcpOwoJCSRmbVNFS1NJID0gY2VrUE9TVCgkdGhpcy0+UHJlZml4LidTa3BkZm1TRUtTSScpOwoJCSR2c2twZCA9ICRNYWluLT5VUlVTQU4gPT0xID8gUHJpbnRTS1BEMl91cnVzYW4oJGZtVVJVU0FOLCRmbVNLUEQsICRmbVVOSVQsICRmbVNVQlVOSVQsJGZtU0VLU0kpIDogUHJpbnRTS1BEMigkZm1TS1BELCAkZm1VTklULCAkZm1TVUJVTklULCRmbVNFS1NJKTsKCQlyZXR1cm4KCQkJIjx0YWJsZSBzdHlsZT0nd2lkdGg6MTAwJScgYm9yZGVyPVwiMFwiPgoJCQk8dHI+CgkJCQk8dGQgY2xhc3M9XCJqdWR1bGNldGFrXCI+Ii4kdGhpcy0+c2V0Q2V0YWtUaXRsZSgpLiI8L3RkPgoJCQk8L3RyPgoJCQk8L3RhYmxlPgoJCQk8dGFibGUgd2lkdGg9XCIxMDAlXCIgYm9yZGVyPVwiMFwiPgoJCQkJPHRyPgoJCQkJCTx0ZCBjbGFzcz1cInN1Ymp1ZHVsY2V0YWtcIj4iLiR2c2twZC4iPC90ZD4KCQkJCTwvdHI+CgkJCTwvdGFibGU+PGJyPiI7Cgl9CgkvL2Z1bmN0aW9uIGdlbkNldGFrKCRNb2RlPTIsICRPdGhlckhUTUxIZWFkPScnLCAkV0lEVEg9MzAsICRKVURVTD0nJyl7CglmdW5jdGlvbiBzZXRDZXRha19mb290ZXIoJHhscz1GQUxTRSl7CgkJcmV0dXJuICI8YnI+Ii4KCQkJCVByaW50VFREKCR0aGlzLT5DZXRha19XSURUSCwgJHhscyk7Cgl9CgoJZnVuY3Rpb24gZ2VuQ2V0YWsoJHhscz0gRkFMU0UsICRNb2RlPScnKXsKCQlnbG9iYWwgJE1haW47CgkJLyoKCQk8c3R5bGU+CgkJLm5mbXQxIHttc28tbnVtYmVyLWZvcm1hdDonXCNcLFwjXCMwX1wpXDtcW1JlZFxdXFwoXCNcLFwjXCMwXFwpJzt9CgkJLm5mbXQyIHttc28tbnVtYmVyLWZvcm1hdDonMFwuMDBfJzt9CgkJLm5mbXQzIHttc28tbnVtYmVyLWZvcm1hdDonMDAwMDAnO30KCQkubmZtdDQge21zby1udW1iZXItZm9ybWF0OidcI1wsXCNcIzAuMDBfXClcO1xbUmVkXF1cXChcI1wsXCNcIzBcXCknO30KCQkubmZtdDUge21zby1udW1iZXItZm9ybWF0OidcQCc7fQoJCXRhYmxlIHttc28tZGlzcGxheWVkLWRlY2ltYWwtc2VwYXJhdG9yOidcLic7CgkJCW1zby1kaXNwbGF5ZWQtdGhvdXNhbmQtc2VwYXJhdG9yOidcLCc7fQoJCWJyIHttc28tZGF0YS1wbGFjZW1lbnQ6c2FtZS1jZWxsO30KCQk8L3N0eWxlPiovCgkJLy9pZigkdGhpcy0+Y2V0YWtfeGxzKXsKCQkkdGhpcy0+Y2V0YWtfeGxzPSR4bHM7CgkJaWYoJHhscyl7CgkJCWhlYWRlcigiQ29udGVudC10eXBlOiBhcHBsaWNhdGlvbi9tc2V4Y2VsIik7CgkJCWhlYWRlcigiQ29udGVudC1EaXNwb3NpdGlvbjogYXR0YWNobWVudDsgZmlsZW5hbWU9JHRoaXMtPmZpbGVOYW1lRXhjZWwiKTsKCQkJaGVhZGVyKCJQcmFnbWE6IG5vLWNhY2hlIik7CgkJCWhlYWRlcigiRXhwaXJlczogMCIpOwoJCX0KCgoJCS8vJGNzcyA9ICR0aGlzLT5jZXRha194bHMJPwoJCSRjc3MgPSAkeGxzCT8KCQkJIjxzdHlsZT4KCQkJLm5mbXQ1IHttc28tbnVtYmVyLWZvcm1hdDonXEAnO30KCgkJCTwvc3R5bGU+IjoKCQkJIjxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPVwiY3NzL3RlbXBsYXRlX2Nzcy5jc3NcIiB0eXBlPVwidGV4dC9jc3NcIiAvPiI7CgkJZWNobwoJCQkiPGh0bWw+Ii4KCQkJCSI8aGVhZD4KCQkJCQk8dGl0bGU+JE1haW4tPkp1ZHVsPC90aXRsZT4KCQkJCQkkY3NzCgkJCQkJJHRoaXMtPkNldGFrX090aGVySFRNTEhlYWQKCQkJCTwvaGVhZD4iLgoJCQkiPGJvZHkgPgoJCQk8Zm9ybSBuYW1lPSdhZG1pbkZvcm0nIGlkPSdhZG1pbkZvcm0nIG1ldGhvZD0ncG9zdCcgYWN0aW9uPScnPgoJCQk8ZGl2IHN0eWxlPSd3aWR0aDokdGhpcy0+Q2V0YWtfV0lEVEgnPgoJCQk8dGFibGUgY2xhc3M9XCJyYW5na2FjZXRha1wiIHN0eWxlPSd3aWR0aDokdGhpcy0+Q2V0YWtfV0lEVEgnPgoJCQk8dHI+PHRkIHZhbGlnbj1cInRvcFwiPiIuCgkJCQkvLyR0aGlzLT5jZXRha194bHMuCgkJCQkkdGhpcy0+c2V0Q2V0YWtfSGVhZGVyKCRNb2RlKS4vLyR0aGlzLT5DZXRha19IZWFkZXIuLy8KCQkJCSI8ZGl2IGlkPSdjbnRUZXJpbWFLb25kaXNpJz4iLgoJCQkJCS8vJFRhbXBpbE9wdFsnVGFtcGlsT3B0J10uCgkJCQkiPC9kaXY+CgkJCQk8ZGl2IGlkPSdjbnRUZXJpbWFEYWZ0YXInID4iOwoKCQkkT3BzaSA9ICR0aGlzLT5nZXREYWZ0YXJPcHNpKCR0aGlzLT5DZXRha19Nb2RlKTsKCQkJLy9lY2hvICcsS29uZGlzaT0nLiRPcHNpWydLb25kaXNpJ10uJyxPcmRlcj0nLiRPcHNpWydPcmRlciddLicsaGFsPScuJF9QT1NUWydIYWxEZWZhdWx0J10uCgkJCS8vCScsbGltaXQ9Jy4kT3BzaVsnTGltaXQnXS4nLE5vQXdhbD0nLiRPcHNpWydOb0F3YWwnXS4nLCc7CgkJCS8vZWNobyAndmtvbmRpc2k9Jy4kJE9wc2lbdktvbmRpc2k7CgkJaWYoJHRoaXMtPkNldGFrX01vZGU9PTMpey8vZmx1c2gKCQkJJHRoaXMtPmdlbkRhZnRhcigJJE9wc2lbJ0tvbmRpc2knXSwgJE9wc2lbJ09yZGVyJ10sICRPcHNpWydMaW1pdCddLCAkT3BzaVsnTm9Bd2FsJ10sICR0aGlzLT5DZXRha19Nb2RlLCAkT3BzaVsndktvbmRpc2lfb2xkJ10pOwoJCX1lbHNlewoJCQkkZGFmdGFyID0gJHRoaXMtPmdlbkRhZnRhcigJJE9wc2lbJ0tvbmRpc2knXSwgJE9wc2lbJ09yZGVyJ10sICRPcHNpWydMaW1pdCddLCAkT3BzaVsnTm9Bd2FsJ10sICR0aGlzLT5DZXRha19Nb2RlLCAkT3BzaVsndktvbmRpc2lfb2xkJ10pOwoJCQllY2hvICRkYWZ0YXJbJ2NvbnRlbnQnXTsKCQl9CgkJZWNobwkiPC9kaXY+CSIuCgkJCQkkdGhpcy0+c2V0Q2V0YWtfZm9vdGVyKCR4bHMpLgoJCQkiPC90ZD48L3RyPgoJCQk8L3RhYmxlPgoJCQk8L2Rpdj4KCQkJPC9mb3JtPgoJCQk8L2JvZHk+CgkJCTwvaHRtbD4iOwoJfQp9CgoKCi8vY2xhc3MgUGJiRGFmdGFyT2JqewoKCgpmdW5jdGlvbiBzZXRDZXRha0p1ZHVsICgkSlVEVUwgPSAnTEFQT1JBTiBEQUZUQVIgUEVOREFUQUFOJywKCSRrZHBhamFrPSc0LjEuMS4wNC4wMCcsCgkkbm1wYWphaz0nUEFKQUsgUkVLTEFNRScsICRvdGhlcj0nJykKewoJcmV0dXJuCgkJCSI8dGFibGUgd2lkdGg9JzEwMCUnIGJvcmRlcj1cIjBcIj4KCQkJCTx0cj4KCQkJCQk8dGQgYWxpZ249J3JpZ2h0JyBjb2xzcGFuPSc0Jz4KCQkJCQkJPHNwYW4gY2xhc3M9J3RpdGxlMic+CgkJCQkJCQkkSlVEVUwKCQkJCQkJPC9zcGFuPgoJCQkJCTwvdGQ+CgkJCQk8L3RyPgoJCQkJPHRyPgoJCQkJCTx0ZCBhbGlnbj0ncmlnaHQnIGNvbHNwYW49JzQnPgoJCQkJCQk8c3BhbiBjbGFzcz0ndGl0bGUxJz4KCQkJCQkJCSRrZHBhamFrIC0gJG5tcGFqYWsKCQkJCQkJPC9zcGFuPgoJCQkJCTwvdGQ+CgkJCQkJPHRkIGNvbHNwYW49JzQnPjxzcGFuIGNsYXNzPSd0aXRsZTEnPjwvc3Bhbj48L3RkPgoJCQkJPC90cj4KCQkJCTx0cj4KCQkJCQk8dGQ+PHNwYW4gY2xhc3M9J3RpdGxlMSc+PC9zcGFuPjwvdGQ+CgkJCQkJPHRkIGNvbHNwYW49JzQnPjxzcGFuIGNsYXNzPSd0aXRsZTEnPiRvdGhlcjwvc3Bhbj48L3RkPgoJCQkJPC90cj4KCQkJPC90YWJsZT4iOwoJfQoKY2xhc3MgQ2V0YWtPYmp7Cgl2YXIgJFN0eWxlID0gJ3JhbmdrYWNldGFrJzsKCXZhciAkT3RoZXJIVE1MSGVhZCA9Jyc7Cgl2YXIgJFdJRFRIID0nMjBjbSc7Cgl2YXIgJEhFSUdIVCA9JzI2LjVjbSc7CglmdW5jdGlvbiBzZXRIVE1MSGVhZCgpewoJCWdsb2JhbCAkTWFpbiwgJFBBVEhfQ1NTIDsKCQlyZXR1cm4KCQkJIjxoZWFkPgoJCQkJPHRpdGxlPiRNYWluLT5KdWR1bDwvdGl0bGU+CgkJCQk8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgaHJlZj1cIiIuJFBBVEhfQ1NTLiJjc3MvdGVtcGxhdGVfY3NzLmNzc1wiIHR5cGU9XCJ0ZXh0L2Nzc1wiIC8+CgkJCQkkdGhpcy0+T3RoZXJIVE1MSGVhZAoJCQk8L2hlYWQ+IjsKCX0KCWZ1bmN0aW9uIHNldENvbnRlbnQoKXsKCQkkY29udGVudCA9ICdjb250ZW50JzsKCQlyZXR1cm4gJGNvbnRlbnQ7Cgl9CglmdW5jdGlvbiBnZW5DZXRhaygpewoKCQkvLyRUYW1waWxPcHQgPSAkUGVuZXRhcGFuLT5nZW5EYWZ0YXJPcHNpKCk7CgkJLypyZXR1cm4KCQkJIjxodG1sPiIuCgkJCQkkdGhpcy0+c2V0SFRNTEhlYWQoKS4KCQkJIjxib2R5ID4iLgoJCQkJIjx0YWJsZSBjbGFzcz1cIiR0aGlzLT5TdHlsZVwiIHN0eWxlPSd3aWR0aDokdGhpcy0+V0lEVEgnPgoJCQkJPHRyPjx0ZCB2YWxpZ249XCJ0b3BcIj4iLgoJCQkJCSR0aGlzLT5zZXRDb250ZW50KCkuCgkJCQkiPC90ZD48L3RyPgoJCQkJPC90YWJsZT4iLgoJCQkiPC9ib2R5PgoJCQk8L2h0bWw+IjsqLwoJCS8vJHRoaXMtPldJRFRIID0gJzIwY20nOwoJCSRoZWlnaHQgPSAkdGhpcy0+SEVJR0hUID09Jyc\/ICcnIDogImhlaWdodDoiLiR0aGlzLT5IRUlHSFQ7CgkJcmV0dXJuCgkJCSI8aHRtbD4iLgoJCQkJJHRoaXMtPnNldEhUTUxIZWFkKCkuCgkJCSI8Ym9keSA+Ii4KCQkJCSI8ZGl2IHN0eWxlPSd3aWR0aDoiLiR0aGlzLT5XSURUSC4iOyRoZWlnaHQ7b3ZlcmZsb3c6aGlkZGVuJz4iLgoJCQkJCSR0aGlzLT5zZXRDb250ZW50KCkuCgkJCQkiPC9kaXY+Ii4KCQkJIjwvYm9keT4KCQkJPC9odG1sPiI7Cgl9Cn0KCgpmdW5jdGlvbiBnZW5Db21ib0JveF9kZXRwYWphaygka2RwYWphaz0nNDExMDEnLAoJJG5hbWFfZWw9J2ZtUElMVVJBSUFOX2RldCcsCgkkdmFsdWU9JycsICRwYXJhbXM9InN0eWxlPSd3aWR0aDoxNTAnIikKewoJLy8ka2RwYWphayA9ICc0MTEwMSc7Ly9jb25jYXQoZixnLGgsaSxqKQoJJGNvbnRlbnQgPQoJCWdlbkNvbWJvQm94UXJ5KCAkbmFtYV9lbCwgJHZhbHVlLAoJCQkic2VsZWN0IGogYXMga2QsIHVyYWlhbgoJCQkJZnJvbSB2MV9yZWZfa29kcmVrX3RhcmdldAoJCQkJd2hlcmUgajw+JzAwJyBhbmQgY29uY2F0KGYsJy4nLGcsJy4nLGgsJy4nLGkpPScka2RwYWphayciLAoJCQkna2QnLCAndXJhaWFuJywgJ1BpbGloIFNlbXVhJywkcGFyYW1zLCAnJyApOwoKCXJldHVybiAkY29udGVudDsKfQoKCgovKgpjbGFzcyBNZW51T2JqewoJdmFyICRuYW1lb2JqID0gJ21lbnUnOwoJdmFyICR0YW1waWxLZSA9ICdsYXBfb3B0aW9uJzsKCXZhciAkd2lkdGggPSAyMDA7Cgl2YXIgJGl0ZW1zID0gJ1sKCQkJeyJsYWJlbCI6ImEiLCJsaW5rIjoiIzEiIH0sCgkJCXsibGFiZWwiOiJiIiwibGluayI6IiMyIiB9CgkJXSc7CglmdW5jdGlvbiBzaG93KCl7CgkJJHRkY2xhc3MgPSAnR2FyaXNEYWZ0YXInOwoJCS8vJGFjbGFzcz0gJ3Rvb2xiYXInOwoJCSR0cmNsYXNzPSAncm93MSc7CgkJJGljb253aWR0aCA9ICcxNic7CgkJJHRhYmxlYXRyID0gImNlbGxzcGFjaW5nPScwJyBjZWxscGFkZGluZz0nMCcgYm9yZGVyPScwJyI7CgoJCSRtZW51X2l0ZW1zID0gJyc7CgkJJGl0ZW1zX2FyciA9CgkJCS8vanNvbl9kZWNvZGUoJ1t7ImxhYmVsIjoiMiJ9LHsibGFiZWwiOiIzIn1dJyk7CgkJCWpzb25fZGVjb2RlKCR0aGlzLT5pdGVtcyk7CgkJCS8vYXJyYXkoJzEnPT4nYScsICcyJz0+J2InKTsKCgkJaWYoJGl0ZW1zX2FyciAhPSBOVUxMKQoJCWZvcmVhY2ggKCRpdGVtc19hcnIgYXMgJGtleT0+JHZhbHVlKXsKCgkJCSRpdGVtX2lkPSAkdGhpcy0+bmFtZW9iai4nX2l0ZW1fJy4ka2V5OwoJCQkkaXRlbV9saW5rID0gJHZhbHVlLT5saW5rICE9Jyc\/CgkJCQkkdmFsdWUtPmxpbmsKCQkJCTogImphdmFzY3JpcHQ6Ii4kdGhpcy0+bmFtZW9iai4iX3RhbXBpbChcIiRpdGVtX2lkXCIpOyI7CgkJCSRpdGVtX2xhYmVsID0gJHZhbHVlLT5sYWJlbDsKCQkJaWYoJHRoaXMtPndpdGhfaWNvbikgJGtvbG9tX2ljbyA9Ijx0ZCBzdHlsZT0nd2lkdGg6JGljb253aWR0aCc+JGl0ZW1faWNvPC90ZD4iOwoJCQkkbWVudV9pdGVtcyAuPQoJCQkJIjx0ciBjbGFzcz0nJHRyY2xhc3MnPjx0ZCBjbGFzcz0nJHRkY2xhc3MnID4KCQkJCQk8YSBpZD0nJGl0ZW1faWQnIGNsYXNzPSckYWNsYXNzJyBocmVmPSckaXRlbV9saW5rJyBzdHlsZT0nd2lkdGg6JHRoaXMtPndpZHRoJz4KCQkJCQkJPHRhYmxlIHdpZHRoPScxMDAlJz48dHI+CgkJCQkJCSRrb2xvbV9pY28KCQkJCQkJPHRkPiRpdGVtX2xhYmVsPC90ZD4KCQkJCQkJPC90cj48L3RhYmxlPgoJCQkJCTwvYT4KCQkJCQk8ZGl2IGlkPSciLiRpdGVtX2lkLiJfY29udGVudCcgc3R5bGU9J2Rpc3BsYXk6bm9uZSc+CgkJCQkJCSR2YWx1ZS0+Y29udGVudAoJCQkJCTwvZGl2PgoJCQkJPC90ZD48dHI+IjsKCQl9CgoKCQkkc2NyaXB0ID0KCQkJIjxzY3JpcHQ+CgkJCQlmdW5jdGlvbiAiLiR0aGlzLT5uYW1lb2JqLiJfdGFtcGlsKGlkKXsKCQkJCQkvL2FsZXJ0KGlkKTsKCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnJHRoaXMtPnRhbXBpbEtlJykuaW5uZXJIVE1MID0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQrJ19jb250ZW50JykuaW5uZXJIVE1MOwoJCQkJfQoJCQk8L3NjcmlwdD4iOwoJCSRtZW51a2lyaSA9CgkJCSRzY3JpcHQuCgkJCSI8dGFibGUgY2xhc3M9J2tvcHRhYmxlMycgaWQ9J3Rvb2xiYXInICR0YWJsZWF0cj4KCQkJPHRoZWFkPgoJCQkJPHRoIGNsYXNzPSd0aDAxJyBzdHlsZT0naGVpZ2h0OjMyJz5QaWxpaCBMYXBvcmFuPC90aD4KCQkJPC90aGVhZD4KCQkJPHRib2R5PgoJCQkJJG1lbnVfaXRlbXMKCQkJPC90Ym9keT4KCQkJPC90YWJsZT4iOwoKCQlyZXR1cm4gJG1lbnVraXJpOwoJfQoJZnVuY3Rpb24gaXRlbXNfY2xlYXIoKXsKCQkkdGhpcy0+aXRlbXMgPScnOy8vIGFycmF5KCk7Cgl9CglmdW5jdGlvbiBpdGVtc19hZGRfKCRpdGVtKXsKCQkkdG1wPWpzb25fZGVjb2RlKCR0aGlzLT5pdGVtcyk7CgkJLy8kdG1wW109anNvbl9kZWNvZGUoJ3sibGFiZWwiOiJmMSIsImNvbnRlbnQiOiIiLCJsaW5rIjoiIzUiIH0nKTsKCQkkdG1wW109anNvbl9kZWNvZGUoJGl0ZW0pOwoJCSR0aGlzLT5pdGVtcyA9IGpzb25fZW5jb2RlKCR0bXApOwoJfQoJZnVuY3Rpb24gaXRlbXNfYWRkKCRsYWJlbD0nJywkY29udGVudD0nJywkbXlsaW5rPScnKXsKCQkkanNvbiA9J3sibGFiZWwiOiInLiRsYWJlbC4nIiwgImNvbnRlbnQiOiInLiRjb250ZW50LiciLCAibGluayI6IicuJG15bGluay4nIn0nOwoJCSR0aGlzLT5pdGVtc19hZGRfKCRqc29uKTsKCX0KCn0KCiRNZW51ID0gbmV3IE1lbnVPYmooKTsKLy9zZXQgbWVudSAtLS0tLS0tLS0tLS0tLS0tLS0KJG1lbnVfd2lkdGggPSAyMDA7CiRNZW51LT53aWR0aCA9ICRtZW51X3dpZHRoOwokTWVudS0+dGFtcGlsS2U9J2xhcF9vcHRpb24nOwovL3NldCBpdGVtcyAtLS0tLS0tLS0tLS0tLS0tLQokTWVudS0+aXRlbXNfY2xlYXIoKTsKLy8kTWVudS0+aXRlbXNfYWRkKCJsYXAxIiwnIG9wdGlvbiBsYXAxICcsJ2phdmFzY3JpcHQ6YWxlcnQoXFwidGVzXFwiKTsnICk7Ci8vJE1lbnUtPml0ZW1zX2FkZCgibGFwMiIsJyBvcHRpb24gbGFwMiAnLCcnICk7CiovCj8+Cg==",
    "size": "139372"
}