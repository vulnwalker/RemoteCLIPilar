{
    "namaFile": "js\/perencanaanKeuangan\/rka\/rkaSKPD1DP.js",
    "lastUpdate": "2018-08-23+11:13:17.87",
    "contentFile": "dmFyIHJrYVNLUEQxRFBGaWx0ZXJTS1BEID0gbmV3IFNrcGRDbHMoewogIHByZWZpeDogInJrYVNLUEQxRFAiLAogIGZvcm1OYW1lOiAicmthU0tQRDFEUEZvcm0iLAoKICBwaWxpaFVydXNhbmZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgLy8gcmthU0tQRDFEUC5yZWZyZXNoTGlzdCh0cnVlKTsKICAgIHJrYVNLUEQxRFAuZmlsdGVyUmVuZGVyKCk7CiAgfSwKICBwaWxpaEJpZGFuZ0FmdGVyOiBmdW5jdGlvbigpIHsKICAgIC8vIHJrYVNLUEQxRFAucmVmcmVzaExpc3QodHJ1ZSk7CiAgICBya2FTS1BEMURQLmZpbHRlclJlbmRlcigpOwogIH0sCiAgcGlsaWhVbml0QWZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgLy8gcmthU0tQRDFEUC5yZWZyZXNoTGlzdCh0cnVlKTsKICAgIHJrYVNLUEQxRFAuZmlsdGVyUmVuZGVyKCk7CiAgfSwKICBwaWxpaFN1YlVuaXRBZnRlcjogZnVuY3Rpb24oKSB7CiAgICAvLyBya2FTS1BEMURQLnJlZnJlc2hMaXN0KHRydWUpOwogICAgcmthU0tQRDFEUC5maWx0ZXJSZW5kZXIoKTsKICB9LAogIHBpbGloU2Vrc2lBZnRlcjogZnVuY3Rpb24oKSB7CiAgICAvLyBya2FTS1BEMURQLnJlZnJlc2hMaXN0KHRydWUpOwogICAgcmthU0tQRDFEUC5maWx0ZXJSZW5kZXIoKTsKICB9Cn0pOwp2YXIgcmthU0tQRDFEUCA9IG5ldyBEYWZ0YXJPYmoyKHsKICBwcmVmaXg6ICJya2FTS1BEMURQIiwKICB1cmw6ICJwZ0tldS5waHA\/UGc9cmthU0tQRDFEUCIsCiAgZm9ybU5hbWU6ICJya2FTS1BEMURQRm9ybSIsCiAgcmthU0tQRDFEUF9mb3JtOiAiMCIsIC8vZGVmYXVsdCBqcyBya2FTS1BEMURQCiAgbG9hZGluZzogZnVuY3Rpb24oKSB7CiAgICAvL2FsZXJ0KCdsb2FkaW5nJyk7CiAgICB0aGlzLnRvcEJhclJlbmRlcigpOwogICAgdGhpcy5maWx0ZXJSZW5kZXIoKTsKICAgIHRoaXMuZGFmdGFyUmVuZGVyKCk7CiAgICB0aGlzLnN1bUhhbFJlbmRlcigpOwogIH0sCiAgdG9wQmFyUmVuZGVyOiBmdW5jdGlvbigpewogICAgdmFyIG1lPXRoaXM7CiAgICAvL3JlbmRlciBzdWJ0aXRsZQogICAgJC5hamF4KHsKICAgICAgdXJsOiB0aGlzLnVybCsnJnRpcGU9c3VidGl0bGUnLAogICAgICB0eXBlOidQT1NUJywKICAgICAgZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfdGl0bGUnKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgIG1lLnRvcEJhclJlbmRlckFmdGVyKCkKICAgICAgfQogICAgfSk7CiAgfSwKICAvLyBmaWx0ZXJSZW5kZXJBZnRlcjogZnVuY3Rpb24oKSB7CiAgLy8gICB0aGlzLmRhZnRhclJlbmRlcigpOwogIC8vIH0sCiAgZGV0YWlsOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBlcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7CiAgICBpZiAoZXJybXNnID09ICIiKSB7CiAgICAgIHZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycm1zZyk7CiAgICB9CiAgfSwKICBkYWZ0YXJSZW5kZXI6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsgLy9yZW5kZXIgZGFmdGFyCiAgICBhZGRDb3ZlclBhZ2UyKCJkYWZ0YXJfY292ZXIiLCAxLCB0cnVlLCB0cnVlLCB7CiAgICAgIHJlbmRlclRvOiB0aGlzLnByZWZpeCArICJfY29udF9kYWZ0YXIiLAogICAgICBpbWdzcmM6ICJpbWFnZXMvd2FpdC5naWYiLAogICAgICBzdHlsZTogeyBwb3NpdGlvbjogImFic29sdXRlIiwgdG9wOiAiNSIsIGxlZnQ6ICI1IiB9CiAgICB9KTsKICAgICQuYWpheCh7CiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZGFmdGFyIiwKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCArICJfY29udF9kYWZ0YXIiKS5pbm5lckhUTUwgPQogICAgICAgICAgcmVzcC5jb250ZW50OwogICAgICAgIG1lLnN1bUhhbFJlbmRlcigpOwogICAgICB9CiAgICB9KTsKICB9LAogIEJhcnU6IGZ1bmN0aW9uKCl7CiAgICB2YXIgbWUgPSB0aGlzOwoKICAJCWVycm1zZyA9ICcnOwoKICAJCWlmKCQoIiNmaWx0ZXJVcnVzYW4iKS52YWwoKSA9PSAnMDAnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggVXJ1c2FuIjsKICAJCX1lbHNlIGlmKCQoIiNmaWx0ZXJTS1BEIikudmFsKCkgPT0gJzAwJyl7CiAgCQkJZXJybXNnID0gIlBpbGloIEJpZGFuZyI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyU0tQRCIpLnZhbCgpID09ICcwMCcpewogIAkJCWVycm1zZyA9ICJQaWxpaCBTS1BEIjsKICAJCX1lbHNlIGlmKCQoIiNmaWx0ZXJDb25jYXRQcm9ncmFtIikudmFsKCkgPT0gJycpewogIAkJCWVycm1zZyA9ICJQaWxpaCBQcm9ncmFtIjsKICAJCX1lbHNlIGlmKCQoIiNmaWx0ZXJRIikudmFsKCkgPT0gJycpewogIAkJCWVycm1zZyA9ICJQaWxpaCBLZWdpYXRhbiI7CiAgCQl9CiAgCQlpZihlcnJtc2cgPT0nJyl7CiAgCQkJdmFyIG1lID0gdGhpczsKICAJCQl2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZvcm1OYW1lKTsKICAJCQkkLmFqYXgoewogIAkJCSAgdXJsOiB0aGlzLnVybCsnJnRpcGU9QmFydScsCiAgCQkJICB0eXBlIDogJ1BPU1QnLAogIAkJCSAgZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAJCQkgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKICAJCQkJCWlmKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgICAgJCgiI25ld0JsYW5rUGFnZSIpLnZhbCgiIik7CiAgCQkJCQkJYUZvcm0uYWN0aW9uPSAncGdLZXUucGhwP1BnPXJrYVNLUEQxRFBJbnMnOwogIAkJCQkJCWFGb3JtLnRhcmdldD0nX2JsYW5rJzsKICAJCQkJCQlhRm9ybS5zdWJtaXQoKTsKICAJCQkJCQlhRm9ybS50YXJnZXQ9Jyc7CiAgCQkJCQl9ZWxzZXsKICAJCQkJCQlhbGVydChyZXNwLmVycik7CiAgCQkJCQl9CiAgCQkJICB9CiAgCQkJfSk7CiAgCQl9ZWxzZXsKICAJCQkJYWxlcnQoZXJybXNnKTsKICAJCX0KCX0sCiAgbmV3QmxhbmtQYWdlOiBmdW5jdGlvbigpewogICAgdmFyIG1lID0gdGhpczsKCiAgCQllcnJtc2cgPSAnJzsKCiAgCQlpZigkKCIjZmlsdGVyVXJ1c2FuIikudmFsKCkgPT0gJzAwJyl7CiAgCQkJZXJybXNnID0gIlBpbGloIFVydXNhbiI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyU0tQRCIpLnZhbCgpID09ICcwMCcpewogIAkJCWVycm1zZyA9ICJQaWxpaCBCaWRhbmciOwogIAkJfWVsc2UgaWYoJCgiI2ZpbHRlclNLUEQiKS52YWwoKSA9PSAnMDAnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggU0tQRCI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyQ29uY2F0UHJvZ3JhbSIpLnZhbCgpID09ICcnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggUHJvZ3JhbSI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyUSIpLnZhbCgpID09ICcnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggS2VnaWF0YW4iOwogIAkJfQogIAkJaWYoZXJybXNnID09JycpewogIAkJCXZhciBtZSA9IHRoaXM7CiAgCQkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7CiAgCQkJJC5hamF4KHsKICAJCQkgIHVybDogdGhpcy51cmwrJyZ0aXBlPW5ld0JsYW5rUGFnZScsCiAgCQkJICB0eXBlIDogJ1BPU1QnLAogIAkJCSAgZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAJCQkgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKICAJCQkJCWlmKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgICAgJCgiI25ld0JsYW5rUGFnZSIpLnZhbCgiMSIpOwogIAkJCQkJCWFGb3JtLmFjdGlvbj0gJ3BnS2V1LnBocD9QZz1ya2FTS1BEMURQSW5zJzsKICAJCQkJCQlhRm9ybS50YXJnZXQ9J19ibGFuayc7CiAgCQkJCQkJYUZvcm0uc3VibWl0KCk7CiAgCQkJCQkJYUZvcm0udGFyZ2V0PScnOwogIAkJCQkJfWVsc2V7CiAgCQkJCQkJYWxlcnQocmVzcC5lcnIpOwogIAkJCQkJfQogIAkJCSAgfQogIAkJCX0pOwogIAkJfWVsc2V7CiAgCQkJCWFsZXJ0KGVycm1zZyk7CiAgCQl9Cgl9LAogIEluZm86IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXIiOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPUluZm8iLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTk5LCB0cnVlLCBmYWxzZSk7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAoKICBDYXJpOiBmdW5jdGlvbigpIHsKICAgIHBvcHVwQmFyYW5nLmtvZGVCYXJhbmcgPSAia29kZUJhcmFuZyI7CiAgICBwb3B1cEJhcmFuZy5uYW1hQmFyYW5nID0gIm5hbWFCYXJhbmciOwogICAgcG9wdXBCYXJhbmcuc2F0dWFuQmFyYW5nID0gInNhdHVhbiI7CiAgICBwb3B1cEJhcmFuZy53aW5kb3dTaG93KCk7CiAgfSwKICBFZGl0OiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBlcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7CiAgICBpZiAoZXJybXNnID09ICIiKSB7CiAgICAgIHZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsKICAgICAgdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7CiAgICAgICQuYWpheCh7CiAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1lZGl0VGFiIiwKICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgZGF0YTogJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICAgdmFyIElEcmVuamEgPSBOdW1iZXIocmVzcC5jb250ZW50LmlkcmVuamEpOwogICAgICAgICAgICBhRm9ybS5hY3Rpb24gPQogICAgICAgICAgICAgICJwZ0tldS5waHA\/UGc9cmtibWRfIiArCiAgICAgICAgICAgICAgcmVzcC5jb250ZW50LmtlbWFuYSArCiAgICAgICAgICAgICAgIiZZTj0xJmlkPSIgKwogICAgICAgICAgICAgIElEcmVuamE7CiAgICAgICAgICAgIGFGb3JtLnRhcmdldCA9ICJfYmxhbmsiOwogICAgICAgICAgICBhRm9ybS5zdWJtaXQoKTsKICAgICAgICAgICAgYUZvcm0udGFyZ2V0ID0gIiI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycm1zZyk7CiAgICB9CiAgfSwKICByZW1vdmU6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIGVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsKICAgIGlmIChlcnJtc2cgPT0gIiIpIHsKICAgICAgdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOwoKICAgICAgJC5hamF4KHsKICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXJlbW92ZSIsCiAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICAgcmthU0tQRDFEUC5yZWZyZXNoTGlzdCh0cnVlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoZXJybXNnKTsKICAgIH0KICB9LAogIFZhbGlkYXNpOiBmdW5jdGlvbihpZF9hbmdnYXJhbikgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXIiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgaWYgKG1lLnNhdHVhbl9mb3JtID09IDApIHsKICAgICAgLy9iYXJ1IGRhcmkgc2F0dWFuCiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDEsIHRydWUsIGZhbHNlKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vYmFydSBkYXJpIGJhcmFuZwogICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OTksIHRydWUsIGZhbHNlKTsKICAgIH0KICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1WYWxpZGFzaSZpZF9hbmdnYXJhbj0iICsgaWRfYW5nZ2FyYW4sCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiVGFoYXAgUGVueXVzdW5hbiBUZWxhaCBIYWJpcyIpIHsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKCiAgbmV3Tm9tb3JQZW5ldGFwYW46IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJLQiI7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9bmV3Tm9tb3JQZW5ldGFwYW4iLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgNSwgdHJ1ZSwgZmFsc2UpOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKICAgICAgICAgICQoIiNuZXdUYW5nZ2FsUGVuZXRhcGFuIikuZGF0ZXBpY2tlcih7CiAgICAgICAgICAgIGRhdGVGb3JtYXQ6ICJkZC1tbS15eSIsCiAgICAgICAgICAgIHNob3dBbmltOiAic2xpZGVEb3duIiwKICAgICAgICAgICAgaW5saW5lOiB0cnVlLAogICAgICAgICAgICBzaG93T246ICJidXR0b24iLAogICAgICAgICAgICBidXR0b25JbWFnZTogImltYWdlcy9jYWxlbmRhci5naWYiLAogICAgICAgICAgICBidXR0b25JbWFnZU9ubHk6IHRydWUsCiAgICAgICAgICAgIGNoYW5nZU1vbnRoOiB0cnVlLAogICAgICAgICAgICBjaGFuZ2VZZWFyOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBDbG9zZTI6IGZ1bmN0aW9uKCkgewogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlcktCIjsKICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikpIGRlbEVsZW0oY292ZXIpOwogICAgaWYgKHRpcGUgPT0gbnVsbCkgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwogICAgfQogIH0sCgogIHNhdmVUZXRhcGthblJLQk1EOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1zaW1wYW4iOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMSwgdHJ1ZSwgZmFsc2UpOwoKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlVGV0YXBrYW5SS0JNRCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBub21vcjogJCgiI25vbW9yUGVuZXRhcGFuIikudmFsKCksCiAgICAgICAgYzE6ICQoIiNjMSIpLnZhbCgpLAogICAgICAgIGM6ICQoIiNjIikudmFsKCksCiAgICAgICAgZDogJCgiI2QiKS52YWwoKSwKICAgICAgICBub21vclBlbmV0YXBhbjogJCgiI25vbW9yUGVuZXRhcGFuIikudmFsKCksCiAgICAgICAgdGFuZ2dhbFBlbmV0YXBhbjogJCgiI3RhbmdnYWxQZW5ldGFwYW4iKS52YWwoKSwKICAgICAgICBuYW1hUGVqYWJhdDogJCgiI25hbWFQZWphYmF0IikudmFsKCksCiAgICAgICAgbmlwOiAkKCIjbmlwIikudmFsKCksCiAgICAgICAgamFiYXRhbjogJCgiI2phYmF0YW4iKS52YWwoKSwKICAgICAgICBzdGF0dXNQZW5nYWRhYW46ICQoIiNjaGVja0JveFBlbmdhZGFhbiIpLmlzKCI6Y2hlY2tlZCIpLAogICAgICAgIHN0YXR1c1BlbWVsaWhhcmFhbjogJCgiI2NoZWNrYm94UGVtZWxpaGFyYWFuIikuaXMoIjpjaGVja2VkIiksCiAgICAgICAgc3RhdHVzUGVyc2VkaWFhbjogJCgiI2NoZWNrYm94UGVyc2VkaWFhbiIpLmlzKCI6Y2hlY2tlZCIpCiAgICAgIH0sCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgaWYgKHJlc3AuZXJyICE9ICIiKSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCJQZW5ldGFwYW4gQmVyaGFzaWwiKTsKICAgICAgICAgIG1lLkNsb3NlKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIHNhdmVOb21vclBlbmV0YXBhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZTsKICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJLQiI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAxLCB0cnVlLCBmYWxzZSk7CgogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVOb21vclBlbmV0YXBhbiIsCiAgICAgIGRhdGE6IHsKICAgICAgICBub21vcjogJCgiI25ld05vbW9yUGVuZXRhcGFuIikudmFsKCksCiAgICAgICAgdGFuZ2dhbFBlbmV0YXBhbjogJCgiI25ld1RhbmdnYWxQZW5ldGFwYW4iKS52YWwoKSwKICAgICAgICBuYW1hUGVqYWJhdDogJCgiI25ld05hbWFQZWphYmF0IikudmFsKCksCiAgICAgICAgbmlwOiAkKCIjbmV3TklQIikudmFsKCksCiAgICAgICAgamFiYXRhbjogJCgiI25ld0phYmF0YW4iKS52YWwoKQogICAgICB9LAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIGlmIChyZXNwLmVyciAhPSAiIikgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydCgiRGF0YSBUZXJzaW1wYW4iKTsKICAgICAgICAgICQoIiNub21vclBlbmV0YXBhbiIpLmh0bWwocmVzcC5jb250ZW50LmNvbWJvTm9tb3JQZW5ldGFwYW4pOwogICAgICAgICAgbWUuQ2xvc2UyKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAoKICBmb3JtYXRDdXJyZW5jeTogZnVuY3Rpb24obnVtKSB7CiAgICBudW0gPSBudW0udG9TdHJpbmcoKS5yZXBsYWNlKC9cJHxcLC9nLCAiIik7CiAgICBpZiAoaXNOYU4obnVtKSkgbnVtID0gIjAiOwogICAgc2lnbiA9IG51bSA9PSAobnVtID0gTWF0aC5hYnMobnVtKSk7CiAgICBudW0gPSBNYXRoLmZsb29yKG51bSAqIDEwMCArIDAuNTAwMDAwMDAwMDEpOwogICAgY2VudHMgPSBudW0gJSAxMDA7CiAgICBudW0gPSBNYXRoLmZsb29yKG51bSAvIDEwMCkudG9TdHJpbmcoKTsKICAgIGlmIChjZW50cyA8IDEwKSBjZW50cyA9ICIwIiArIGNlbnRzOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBNYXRoLmZsb29yKChudW0ubGVuZ3RoIC0gKDEgKyBpKSkgLyAzKTsgaSsrKQogICAgICBudW0gPQogICAgICAgIG51bS5zdWJzdHJpbmcoMCwgbnVtLmxlbmd0aCAtICg0ICogaSArIDMpKSArCiAgICAgICAgIi4iICsKICAgICAgICBudW0uc3Vic3RyaW5nKG51bS5sZW5ndGggLSAoNCAqIGkgKyAzKSk7CiAgICByZXR1cm4gKHNpZ24gPyAiIiA6ICItIikgKyAiIiArIG51bTsKICB9LAogIGJhbnR1OiBmdW5jdGlvbihpZCkgewogICAgdmFyIGlkQW5na2EgPSBpZC5yZXBsYWNlKCJKIiwgImoiKTsKICAgIHZhciBhbmdrYSA9ICQoIiMiICsgaWRBbmdrYSkudmFsKCk7CiAgICAkKCIjYmFudHUiICsgaWQpLnRleHQocmthU0tQRDFEUC5mb3JtYXRDdXJyZW5jeShhbmdrYSkpOwogIH0sCiAgTGFwb3JhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGVyciA9ICIiOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlciI7CiAgICBpZiAoZXJyID09ICIiKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMiwgdHJ1ZSwgZmFsc2UpOwogICAgICAkLmFqYXgoewogICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9TGFwb3JhbiIsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgICAgIG1lLkFmdGVyRm9ybUJhcnUocmVzcCk7CiAgICAgICAgICAgICQoIiN0YW5nZ2FsQ2V0YWsiKS5kYXRlcGlja2VyKHsKICAgICAgICAgICAgICBkYXRlRm9ybWF0OiAiZGQtbW0teXkiLAogICAgICAgICAgICAgIHNob3dBbmltOiAic2xpZGVEb3duIiwKICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsCiAgICAgICAgICAgICAgc2hvd09uOiAiYnV0dG9uIiwKICAgICAgICAgICAgICBidXR0b25JbWFnZTogImltYWdlcy9jYWxlbmRhci5naWYiLAogICAgICAgICAgICAgIGJ1dHRvbkltYWdlT25seTogdHJ1ZSwKICAgICAgICAgICAgICBjaGFuZ2VNb250aDogdHJ1ZSwKICAgICAgICAgICAgICBjaGFuZ2VZZWFyOiBmYWxzZSwKICAgICAgICAgICAgICB5ZWFyUmFuZ2U6IHJlc3AuY29udGVudC55ZWFyUmFuZ2UsCiAgICAgICAgICAgICAgYnV0dG9uVGV4dDogIiIsCiAgICAgICAgICAgICAgZGVmYXVsdERhdGU6ICswCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJhdXRvIjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoZXJyKTsKICAgIH0KICB9LAogIG5ld1RhbmRhVGFuZ2FuZ2FuOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgZXJyID0gIiI7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyVGFuZGFUYW5nYW4iOwoKICAgIGlmIChlcnIgPT0gIiIpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOwogICAgICAkLmFqYXgoewogICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICBkYXRhOiAkKCIjIiArIHRoaXMucHJlZml4ICsgIl9mb3JtIikuc2VyaWFsaXplKCksCiAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1uZXdUYW5kYVRhbmdhbmdhbiIsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgICAgIG1lLkFmdGVyRm9ybUJhcnUocmVzcCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnIpOwogICAgfQogIH0sCiAgY2xvc2VUYW5kYVRhbmdhbkZvcm06IGZ1bmN0aW9uKCkgewogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlclRhbmRhVGFuZ2FuIjsKICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikpIGRlbEVsZW0oY292ZXIpOwogICAgaWYgKHRpcGUgPT0gbnVsbCkgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwogICAgfQogIH0sCiAgcGlsaWhQYW5na2F0OiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICAkLmFqYXgoewogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXBpbGloUGFuZ2thdCIsCiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogewogICAgICAgIGMxOiAkKCIjZmlsdGVyVXJ1c2FuIikudmFsKCksCiAgICAgICAgYzogJCgiI2ZpbHRlckJpZGFuZyIpLnZhbCgpLAogICAgICAgIGQ6ICQoIiNmaWx0ZXJTS1BEIikudmFsKCksCiAgICAgICAgZTogJCgiI2ZpbHRlclVuaXQiKS52YWwoKSwKICAgICAgICBlMTogJCgiI2ZpbHRlclN1YlVuaXQiKS52YWwoKSwKICAgICAgICBkYzE6ICQoIiNkYzEiKS52YWwoKSwKICAgICAgICBkYzogJCgiI2RjIikudmFsKCksCiAgICAgICAgZGQ6ICQoIiNkZCIpLnZhbCgpLAogICAgICAgIGthdGVnb3JpOiAkKCIja2F0ZWdvcmkiKS52YWwoKSwKICAgICAgICBuYW1hcGVnYXdhaTogJCgiI25hbWFwZWdhd2FpIikudmFsKCksCiAgICAgICAgbmlwcGVnYXdhaTogJCgiI25pcHBlZ2F3YWkiKS52YWwoKSwKICAgICAgICBwYW5na2F0YWtoaXI6ICQoIiNwYW5na2F0YWtoaXIiKS52YWwoKSwKICAgICAgICBnb2xhbmdfYWtoaXI6ICQoIiNnb2xhbmdfYWtoaXIiKS52YWwoKSwKICAgICAgICBqYWJhdGFuOiAkKCIjamFiYXRhbiIpLnZhbCgpLAogICAgICAgIGVzZWxvbl9ha2hpcjogJCgiI2VzZWxvbl9ha2hpciIpLnZhbCgpCiAgICAgIH0sCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ29sYW5nX2FraGlyIikudmFsdWUgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgc2F2ZU5ld1RhbmRhVGFuZ2FuOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgdmFyIGNvdmVyID0gInJlbmphQXNldCIgKyAiX2Zvcm1zaW1wYW4iOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAga2F0ZWdvcmk6ICQoIiNrYXRlZ29yaSIpLnZhbCgpLAogICAgICAgIG5hbWFwZWdhd2FpOiAkKCIjbmFtYXBlZ2F3YWkiKS52YWwoKSwKICAgICAgICBuaXBwZWdhd2FpOiAkKCIjbmlwcGVnYXdhaSIpLnZhbCgpLAogICAgICAgIHBhbmdrYXRha2hpcjogJCgiI3BhbmdrYXRha2hpciIpLnZhbCgpLAogICAgICAgIGdvbGFuZ19ha2hpcjogJCgiI2dvbGFuZ19ha2hpciIpLnZhbCgpLAogICAgICAgIGphYmF0YW46ICQoIiNqYWJhdGFuIikudmFsKCksCiAgICAgICAgZXNlbG9uX2FraGlyOiAkKCIjZXNlbG9uX2FraGlyIikudmFsKCkKICAgICAgfSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlTmV3VGFuZGFUYW5nYW4iLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZFBlbmFuZGFUYW5nYW4iKS5pbm5lckhUTUwgPQogICAgICAgICAgICByZXNwLmNvbnRlbnQuY29tYm90dGQ7CiAgICAgICAgICBtZS5jbG9zZVRhbmRhVGFuZ2FuRm9ybSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIHZpZXdMYXBvcmFuOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBlcnJtc2cgPSAiIjsKICAgIGlmIChlcnJtc2cgPT0gIiIpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXggKyAiX2Zvcm0iKTsKICAgICAgYUZvcm0uYWN0aW9uID0gbWUudXJsICsgIiZ0aXBlPXZpZXdMYXBvcmFuIjsKICAgICAgYUZvcm0udGFyZ2V0ID0gIl9ibGFuayI7CiAgICAgIGFGb3JtLnN1Ym1pdCgpOwogICAgICBhRm9ybS50YXJnZXQgPSAiIjsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycm1zZyk7CiAgICB9CiAgfSwKICBlZGl0UmVrZW5pbmc6IGZ1bmN0aW9uKGlkUktBKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlckxvYWRpbmciOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgNSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAgaWRSS0E6IGlkUktBCiAgICAgIH0sCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZWRpdFJla2VuaW5nIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICQoIiNzcGFuRWRpdFJla2VuaW5nIiArIGlkUktBKS5odG1sKHJlc3AuY29udGVudC5pc2lTcGFuUmVrZW5pbmcpOwogICAgICAgICAgLy8gJCgiI2FjdGlvblNwYW5SZWtlbmluZyIgKyBpZFJLQSkuaHRtbChyZXNwLmNvbnRlbnQuaXNpQWN0aW9uU3Bhbik7CiAgICAgICAgICAkKCIjc3BhbkVkaXRSZWtlbmluZyIgKyBpZFJLQSkuYXR0cigib25jbGljayIsICIiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBmaW5kUmVrZW5pbmc6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGZpbHRlclJlayA9ICIiOwogICAgcG9wdXBSZWtlbmluZy5lbF9rb2RlX3Jla2VuaW5nID0gImhpZGRlblJla2VuaW5nIiArIGlkOwogICAgcG9wdXBSZWtlbmluZy5lbF9uYW1hX3Jla2VuaW5nID0gInRleHRSZWtlbmluZyIgKyBpZDsKICAgIHBvcHVwUmVrZW5pbmcud2luZG93U2F2ZUFmdGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIHBvcHVwUmVrZW5pbmcuZmlsdGVyQWt1biA9ICJSS0EgMSBEUCI7CiAgICBwb3B1cFJla2VuaW5nLndpbmRvd1Nob3coKTsKICB9LAogIHNhdmVFZGl0UmVrZW5pbmc6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlckxvYWRpbmciOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgNSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOgogICAgICAgICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCkgKwogICAgICAgICImaWRFZGl0UmthPSIgKwogICAgICAgIGlkICsKICAgICAgICAiJmtvZGVSZWtlbmluZ1JLQT0iICsKICAgICAgICAkKCIjaGlkZGVuUmVrZW5pbmciICsgaWQpLnZhbCgpLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVFZGl0UmVrZW5pbmciLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgbWUucmVmcmVzaExpc3QodHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgc2F2ZUVkaXRSaW5jaWFuQmVsYW5qYTogZnVuY3Rpb24oaWRFZGl0UmthLCBpZFJpbmNpYW5CZWxhbmphKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlckxvYWRpbmciOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgNSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOgogICAgICAgICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCkgKwogICAgICAgICImaWRSaW5jaWFuQmVsYW5qYT0iICsKICAgICAgICBpZFJpbmNpYW5CZWxhbmphICsKICAgICAgICAiJm5hbWFSaW5jaWFuQmVsYW5qYT0iICsKICAgICAgICAkKCIjdGV4dFJpbmNpYW5CZWxhbmphIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2F2ZUVkaXRSaW5jaWFuQmVsYW5qYSIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBtZS5yZWZyZXNoTGlzdCh0cnVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBlZGl0UmluY2lhbkJlbGFuamE6IGZ1bmN0aW9uKGlkRWRpdFJrYSwgaWRSaW5jaWFuQmVsYW5qYSkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJMb2FkaW5nIjsKICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDUsIHRydWUsIGZhbHNlKTsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogewogICAgICAgIGlkRWRpdFJrYTogaWRFZGl0UmthLAogICAgICAgIGlkUmluY2lhbkJlbGFuamE6IGlkUmluY2lhbkJlbGFuamEKICAgICAgfSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1lZGl0UmluY2lhbkJlbGFuamEiLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgJCgiI3NwYW5FZGl0UmluY2lhbkJlbGFuamEiICsgaWRFZGl0UmthKS5odG1sKAogICAgICAgICAgICByZXNwLmNvbnRlbnQuaXNpU3BhblJpbmNpYW5CZWxhbmphCiAgICAgICAgICApOwogICAgICAgICAgJCgiI2FjdGlvblNwYW5SaW5jaWFuQmVsYW5qYSIgKyBpZEVkaXRSa2EpLmh0bWwoCiAgICAgICAgICAgIHJlc3AuY29udGVudC5pc2lBY3Rpb25TcGFuCiAgICAgICAgICApOwogICAgICAgICAgJCgiI3NwYW5FZGl0UmluY2lhbkJlbGFuamEiICsgaWRFZGl0UmthKS5hdHRyKCJvbmNsaWNrIiwgIiIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIGVkaXRTdWJSaW5jaWFuOiBmdW5jdGlvbihpZEVkaXRSa2EpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyTG9hZGluZyI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA1LCB0cnVlLCBmYWxzZSk7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBpZEVkaXRSa2E6IGlkRWRpdFJrYQogICAgICB9LAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWVkaXRTdWJSaW5jaWFuIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICQoIiNzcGFuVm9sdW1lUmVrZW5pbmciICsgaWRFZGl0UmthKS5odG1sKHJlc3AuY29udGVudC5pc2lTcGFuVm9sdW1lKTsKICAgICAgICAgICQoIiNzcGFuU2F0dWFuIiArIGlkRWRpdFJrYSkuaHRtbChyZXNwLmNvbnRlbnQuaXNpU3BhblNhdHVhbik7CiAgICAgICAgICAkKCIjc3BhbkhhcmdhU2F0dWFuIiArIGlkRWRpdFJrYSkuaHRtbCgKICAgICAgICAgICAgcmVzcC5jb250ZW50LmlzaVNwYW5IYXJnYVNhdHVhbgogICAgICAgICAgKTsKICAgICAgICAgICQoIiNzcGFuVG90YWxKdW1sYWgiICsgaWRFZGl0UmthKS5odG1sKAogICAgICAgICAgICByZXNwLmNvbnRlbnQuaXNpU3BhblRvdGFsSnVtbGFoCiAgICAgICAgICApOwogICAgICAgICAgJCgiI2FjdGlvblNwYW4iICsgaWRFZGl0UmthKS5odG1sKHJlc3AuY29udGVudC5pc2lBY3Rpb25TcGFuKTsKICAgICAgICAgIC8vICQoIiN0ZFZvbHVtZVJla2VuaW5nIitpZEVkaXRSa2EpLmF0dHIoImFsaWduIiwibGVmdCIpOwogICAgICAgICAgJCgiI2hlYWRlclVyYWlhbiIpLmF0dHIoIndpZHRoIiwgIjYwMCIpOwogICAgICAgICAgJCgiI2hlYWRlclZvbHVtZSIpLmF0dHIoIndpZHRoIiwgIjE1MCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIGZvcm1SaW5jaWFuVm9sdW1lOiBmdW5jdGlvbihpZCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXIiOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAgaWQ6IGlkLAogICAgICAgIHZvbHVtZTFUZW1wOiAkKCIjdm9sdW1lMVRlbXAiICsgaWQpLnZhbCgpLAogICAgICAgIHZvbHVtZTJUZW1wOiAkKCIjdm9sdW1lMlRlbXAiICsgaWQpLnZhbCgpLAogICAgICAgIHZvbHVtZTNUZW1wOiAkKCIjdm9sdW1lM1RlbXAiICsgaWQpLnZhbCgpLAogICAgICAgIHNhdHVhbjFUZW1wOiAkKCIjc2F0dWFuMVRlbXAiICsgaWQpLnZhbCgpLAogICAgICAgIHNhdHVhbjJUZW1wOiAkKCIjc2F0dWFuMlRlbXAiICsgaWQpLnZhbCgpLAogICAgICAgIHNhdHVhbjNUZW1wOiAkKCIjc2F0dWFuM1RlbXAiICsgaWQpLnZhbCgpLAogICAgICAgIHVyYWlhblZvbHVtZTogJCgiI3VyYWlhblZvbHVtZSIgKyBpZCkudGV4dCgpCiAgICAgIH0sCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9Zm9ybVJpbmNpYW5Wb2x1bWUiLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMiwgdHJ1ZSwgZmFsc2UpOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBzZXRUb3RhbFJpbmNpYW46IGZ1bmN0aW9uKCkgewogICAgdmFyIGp1bWxhaDEgPSBOdW1iZXIoJCgiI2p1bWxhaDEiKS52YWwoKSk7CiAgICB2YXIganVtbGFoMiA9IE51bWJlcigkKCIjanVtbGFoMiIpLnZhbCgpKTsKICAgIHZhciBqdW1sYWgzID0gTnVtYmVyKCQoIiNqdW1sYWgzIikudmFsKCkpOwogICAgaWYgKCQoIiNqdW1sYWgyIikudmFsKCkgPT0gIiIpIHsKICAgICAgdmFyIGp1bWxhaFRvdGFsID0gTnVtYmVyKGp1bWxhaDEpOwogICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMyIpLnZhbCgpID09ICIiKSB7CiAgICAgIHZhciBqdW1sYWhUb3RhbCA9IE51bWJlcihqdW1sYWgxICoganVtbGFoMik7CiAgICB9IGVsc2UgewogICAgICB2YXIganVtbGFoVG90YWwgPSBOdW1iZXIoanVtbGFoMSAqIGp1bWxhaDIgKiBqdW1sYWgzKTsKICAgIH0KICAgICQoIiNqdW1sYWg0IikudmFsKGp1bWxhaFRvdGFsKTsKICB9LAogIFNhdmVSaW5jaWFuVm9sdW1lOiBmdW5jdGlvbihpZCkgewogICAgdmFyIGVyciA9ICIiOwogICAgdmFyIG1lID0gdGhpczsKICAgIHRoaXMuT25FcnJvckNsb3NlID0gZmFsc2U7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybXNpbXBhbiI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAxLCB0cnVlLCBmYWxzZSk7CiAgICBkZWxFbGVtKGNvdmVyKTsKICAgIGlmICgkKCIjanVtbGFoMSIpLnZhbCgpICE9ICIiICYmICQoIiNzYXR1YW4xIikudmFsKCkgPT0gIiIpIHsKICAgICAgZXJyID0gIklzaSBTYXR1YW4gS2VzYXR1ICEiOwogICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMiIpLnZhbCgpICE9ICIiICYmICQoIiNzYXR1YW4yIikudmFsKCkgPT0gIiIpIHsKICAgICAgZXJyID0gIklzaSBTYXR1YW4gS2VkdWEgISI7CiAgICB9IGVsc2UgaWYgKCQoIiNqdW1sYWgzIikudmFsKCkgIT0gIiIgJiYgJCgiI3NhdHVhbjMiKS52YWwoKSA9PSAiIikgewogICAgICBlcnIgPSAiSXNpIFNhdHVhbiBLZWR1YSAhIjsKICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDMiKS52YWwoKSAhPSAiIiAmJiAkKCIjanVtbGFoMiIpLnZhbCgpID09ICIiKSB7CiAgICAgIGVyciA9ICJJc2kgVm9sdW1lIEtlZHVhICEiOwogICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMyIpLnZhbCgpICE9ICIiICYmICQoIiNqdW1sYWgxIikudmFsKCkgPT0gIiIpIHsKICAgICAgZXJyID0gIklzaSBWb2x1bWUgS2VzYXR1ICEiOwogICAgfQogICAgaWYgKGVyciA9PSAiIikgewogICAgICAkKCIjdm9sdW1lMVRlbXAiICsgaWQpLnZhbCgkKCIjanVtbGFoMSIpLnZhbCgpKTsKICAgICAgJCgiI3ZvbHVtZTJUZW1wIiArIGlkKS52YWwoJCgiI2p1bWxhaDIiKS52YWwoKSk7CiAgICAgICQoIiN2b2x1bWUzVGVtcCIgKyBpZCkudmFsKCQoIiNqdW1sYWgzIikudmFsKCkpOwogICAgICAkKCIjc2F0dWFuMVRlbXAiICsgaWQpLnZhbCgkKCIjc2F0dWFuMSIpLnZhbCgpKTsKICAgICAgJCgiI3NhdHVhbjJUZW1wIiArIGlkKS52YWwoJCgiI3NhdHVhbjIiKS52YWwoKSk7CiAgICAgICQoIiNzYXR1YW4zVGVtcCIgKyBpZCkudmFsKCQoIiNzYXR1YW4zIikudmFsKCkpOwogICAgICAkKCIjdm9sdW1lUmVrIiArIGlkKS52YWwoJCgiI2p1bWxhaDQiKS52YWwoKSk7CiAgICAgICQoIiN1cmFpYW5Wb2x1bWUiICsgaWQpLnRleHQoJCgiI3JpbmNpYW5Wb2x1bWVUZW1wIikudmFsKCkpOwogICAgICAvLyQoIiNzYXR1YW5SZWsiK2lkKS52YWwoJCgiI3JpbmNpYW5Wb2x1bWVUZW1wIikudmFsKCkpOwogICAgICAvL21lLmJhbnR1KCk7CiAgICAgIHJrYVNLUEQxRFAuaGl0dW5nVm9sdW1lKGlkKTsKICAgICAgdmFyIHNhdHVhbiA9ICIiOwogICAgICBpZiAoJCgiI2p1bWxhaDMiKS52YWwoKSAhPSAiIikgewogICAgICAgIHNhdHVhbiA9CiAgICAgICAgICAkKCIjc2F0dWFuMSIpLnZhbCgpICsKICAgICAgICAgICIgLyAiICsKICAgICAgICAgICQoIiNzYXR1YW4yIikudmFsKCkgKwogICAgICAgICAgIiAvICIgKwogICAgICAgICAgJCgiI3NhdHVhbjMiKS52YWwoKTsKICAgICAgICAkKCIjc2F0dWFuUmVrIiArIGlkKS52YWwoc2F0dWFuKTsKICAgICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMiIpLnZhbCgpICE9ICIiKSB7CiAgICAgICAgc2F0dWFuID0gJCgiI3NhdHVhbjEiKS52YWwoKSArICIgLyAiICsgJCgiI3NhdHVhbjIiKS52YWwoKTsKICAgICAgICAkKCIjc2F0dWFuUmVrIiArIGlkKS52YWwoc2F0dWFuKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzYXR1YW4gPSAkKCIjc2F0dWFuMSIpLnZhbCgpOwogICAgICAgICQoIiNzYXR1YW5SZWsiICsgaWQpLnZhbChzYXR1YW4pOwogICAgICB9CiAgICAgIG1lLkNsb3NlKCk7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnIpOwogICAgfQogIH0sCiAgaGl0dW5nVm9sdW1lOiBmdW5jdGlvbihpZCkgewogICAgdmFyIGhhc2lsS2FsaSA9ICQoIiN2b2x1bWVSZWsiICsgaWQpLnZhbCgpICogJCgiI2hhcmdhU2F0dWFuIiArIGlkKS52YWwoKTsKICAgICQoIiNzcGFuVG90YWxKdW1sYWgiICsgaWQpLnRleHQocmthU0tQRDFEUC5mb3JtYXRDdXJyZW5jeShoYXNpbEthbGkpKTsKICB9LAogIGZpbmRTU0g6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWdldERhdGFTU0giLAogICAgICBkYXRhOiB7CiAgICAgICAgaWQ6IGlkCiAgICAgIH0sCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBwb3B1cFNTSC5rb2RlUmVrZW5pbmcgPSByZXNwLmNvbnRlbnQua29kZVJla2VuaW5nOwogICAgICAgICAgcG9wdXBTU0gua29kZUJhcmFuZyA9IHJlc3AuY29udGVudC5rb2RlQmFyYW5nOwogICAgICAgICAgcG9wdXBTU0guZGFyaSA9IGlkOwogICAgICAgICAgcG9wdXBTU0gud2luZG93U2hvdygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIHNhdmVFZGl0U3ViUmluY2lhbjogZnVuY3Rpb24oaWRFZGl0UmthKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAgaWRFZGl0UmthOiBpZEVkaXRSa2EsCiAgICAgICAgaGFyZ2FTYXR1YW46ICQoIiNoYXJnYVNhdHVhbiIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHZvbHVtZTE6ICQoIiN2b2x1bWUxVGVtcCIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHZvbHVtZTI6ICQoIiN2b2x1bWUyVGVtcCIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHZvbHVtZTM6ICQoIiN2b2x1bWUzVGVtcCIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHZvbHVtZVJla2VuaW5nOiAkKCIjdm9sdW1lUmVrIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgICAgc2F0dWFuMTogJCgiI3NhdHVhbjFUZW1wIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgICAgc2F0dWFuMjogJCgiI3NhdHVhbjJUZW1wIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgICAgc2F0dWFuMzogJCgiI3NhdHVhbjNUZW1wIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgICAgc2F0dWFuUmVrZW5pbmc6ICQoIiNzYXR1YW5SZWsiICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgICB1cmFpYW5Wb2x1bWU6ICQoIiN1cmFpYW5Wb2x1bWUiICsgaWRFZGl0UmthKS50ZXh0KCkKICAgICAgfSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlRWRpdFN1YlJpbmNpYW4iLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgbWUucmVmcmVzaExpc3QodHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0KfSk7Cg==",
    "size": "24910"
}