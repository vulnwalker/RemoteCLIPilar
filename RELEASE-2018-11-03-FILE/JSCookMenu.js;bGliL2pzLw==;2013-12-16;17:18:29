{
    "namaFile": "lib\/js\/JSCookMenu.js",
    "lastUpdate": "2013-12-16+17:18:29.00",
    "contentFile": "LyoNCglKU0Nvb2tNZW51IHYxLjQuMy4gIChjKSBDb3B5cmlnaHQgMjAwMi0yMDA1IGJ5IEhlbmcgWXVhbg0KDQoJUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGENCgljb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLA0KCXRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24NCgl0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwNCglhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUNCglTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOg0KDQoJVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQNCglpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4NCg0KCVRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTDQoJT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksDQoJSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUNCglBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSDQoJTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcNCglGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSDQoJREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLg0KKi8NCg0KLy8gR2xvYmFscw0KdmFyIF9jbUlEQ291bnQgPSAwOw0KdmFyIF9jbUlETmFtZSA9ICdjbVN1Yk1lbnVJRCc7CQkvLyBmb3IgY3JlYXRpbmcgc3VibWVudSBpZA0KDQp2YXIgX2NtVGltZU91dCA9IG51bGw7CQkJLy8gaG93IGxvbmcgdGhlIG1lbnUgd291bGQgc3RheQ0KdmFyIF9jbUN1cnJlbnRJdGVtID0gbnVsbDsJCS8vIHRoZSBjdXJyZW50IG1lbnUgaXRlbSBiZWluZyBzZWxlY3RlZDsNCg0KdmFyIF9jbU5vQWN0aW9uID0gbmV3IE9iamVjdCAoKTsJLy8gaW5kaWNhdGUgdGhhdCB0aGUgaXRlbSBjYW5ub3QgYmUgaG92ZXJlZC4NCnZhciBfY21Ob0NsaWNrID0gbmV3IE9iamVjdCAoKTsJCS8vIHNpbWlsYXIgdG8gX2NtTm9BY3Rpb24gYnV0IGRvZXMgbm90IHJlc3BvbmQgdG8gbW91c2V1cC9tb3VzZWRvd24gZXZlbnRzDQp2YXIgX2NtU3BsaXQgPSBuZXcgT2JqZWN0ICgpOwkJLy8gaW5kaWNhdGUgdGhhdCB0aGUgaXRlbSBpcyBhIG1lbnUgc3BsaXQNCg0KdmFyIF9jbUl0ZW1MaXN0ID0gbmV3IEFycmF5ICgpOwkJLy8gYSBzaW1wbGUgbGlzdCBvZiBpdGVtcw0KDQovLyBkZWZhdWx0IG5vZGUgcHJvcGVydGllcw0KdmFyIF9jbU5vZGVQcm9wZXJ0aWVzID0NCnsNCiAgCS8vIG1haW4gbWVudSBkaXNwbGF5IGF0dHJpYnV0ZXMNCiAgCS8vDQogIAkvLyBOb3RlLiAgV2hlbiB0aGUgbWVudSBiYXIgaXMgaG9yaXpvbnRhbCwNCiAgCS8vIG1haW5Gb2xkZXJMZWZ0IGFuZCBtYWluRm9sZGVyUmlnaHQgYXJlDQogIAkvLyBwdXQgaW4gPHNwYW4+PC9zcGFuPi4gIFdoZW4gdGhlIG1lbnUNCiAgCS8vIGJhciBpcyB2ZXJ0aWNhbCwgdGhleSB3b3VsZCBiZSBwdXQgaW4NCiAgCS8vIGEgc2VwYXJhdGUgVEQgY2VsbC4NCg0KICAJLy8gSFRNTCBjb2RlIHRvIHRoZSBsZWZ0IG9mIHRoZSBmb2xkZXIgaXRlbQ0KICAJbWFpbkZvbGRlckxlZnQ6ICcnLA0KICAJLy8gSFRNTCBjb2RlIHRvIHRoZSByaWdodCBvZiB0aGUgZm9sZGVyIGl0ZW0NCiAgCW1haW5Gb2xkZXJSaWdodDogJycsDQoJLy8gSFRNTCBjb2RlIHRvIHRoZSBsZWZ0IG9mIHRoZSByZWd1bGFyIGl0ZW0NCgltYWluSXRlbUxlZnQ6ICcnLA0KCS8vIEhUTUwgY29kZSB0byB0aGUgcmlnaHQgb2YgdGhlIHJlZ3VsYXIgaXRlbQ0KCW1haW5JdGVtUmlnaHQ6ICcnLA0KDQoJLy8gc3ViIG1lbnUgZGlzcGxheSBhdHRyaWJ1dGVzDQoNCgkvLyBIVE1MIGNvZGUgdG8gdGhlIGxlZnQgb2YgdGhlIGZvbGRlciBpdGVtDQoJZm9sZGVyTGVmdDogJycsDQoJLy8gSFRNTCBjb2RlIHRvIHRoZSByaWdodCBvZiB0aGUgZm9sZGVyIGl0ZW0NCglmb2xkZXJSaWdodDogJycsDQoJLy8gSFRNTCBjb2RlIHRvIHRoZSBsZWZ0IG9mIHRoZSByZWd1bGFyIGl0ZW0NCglpdGVtTGVmdDogJycsDQoJLy8gSFRNTCBjb2RlIHRvIHRoZSByaWdodCBvZiB0aGUgcmVndWxhciBpdGVtDQoJaXRlbVJpZ2h0OiAnJywNCgkvLyBjZWxsIHNwYWNpbmcgZm9yIG1haW4gbWVudQ0KCW1haW5TcGFjaW5nOiAwLA0KCS8vIGNlbGwgc3BhY2luZyBmb3Igc3ViIG1lbnVzDQoJc3ViU3BhY2luZzogMCwNCgkvLyBhdXRvIGRpc2FwcGVhciB0aW1lIGZvciBzdWJtZW51cyBpbiBtaWxsaS1zZWNvbmRzDQoJZGVsYXk6IDUwMCwNCg0KCS8vIGFjdCBvbiBjbGljayB0byBvcGVuIHN1YiBtZW51DQoJLy8gbm90IHlldCBpbXBsZW1lbnRlZA0KCS8vIDAgOiB1c2UgZGVmYXVsdCBiZWhhdmlvcg0KCS8vIDEgOiBob3ZlciBvcGVuIGluIGFsbCBjYXNlcw0KCS8vIDIgOiBjbGljayBvbiBtYWluLCBob3ZlciBvbiBzdWINCgkvLyAzIDogY2xpY2sgb3BlbiBpbiBhbGwgY2FzZXMNCgljbGlja09wZW46IDENCn07DQoNCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCi8vDQovLyBEcmF3aW5nIEZ1bmN0aW9ucyBhbmQgVXRpbGl0eSBGdW5jdGlvbnMNCi8vDQovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQoNCi8vDQovLyBwcm9kdWNlIGEgbmV3IHVuaXF1ZSBpZA0KLy8NCmZ1bmN0aW9uIGNtTmV3SUQgKCkNCnsNCglyZXR1cm4gX2NtSUROYW1lICsgKCsrX2NtSURDb3VudCk7DQp9DQoNCi8vDQovLyByZXR1cm4gdGhlIHByb3BlcnR5IHN0cmluZyBmb3IgdGhlIG1lbnUgaXRlbQ0KLy8NCmZ1bmN0aW9uIGNtQWN0aW9uSXRlbSAoaXRlbSwgcHJlZml4LCBpc01haW4sIGlkU3ViLCBvcmllbnQsIG5vZGVQcm9wZXJ0aWVzKQ0Kew0KCXZhciBjbGlja09wZW4gPSBfY21Ob2RlUHJvcGVydGllcy5jbGlja09wZW47DQoJaWYgKG5vZGVQcm9wZXJ0aWVzLmNsaWNrT3BlbikNCgkJY2xpY2tPcGVuID0gbm9kZVByb3BlcnRpZXMuY2xpY2tPcGVuOw0KDQoJLy8gdmFyIGluZGV4ID0gX2NtSXRlbUxpc3QucHVzaCAoaXRlbSkgLSAxOw0KCV9jbUl0ZW1MaXN0W19jbUl0ZW1MaXN0Lmxlbmd0aF0gPSBpdGVtOw0KCXZhciBpbmRleCA9IF9jbUl0ZW1MaXN0Lmxlbmd0aCAtIDE7DQoJaWRTdWIgPSAoIWlkU3ViKSA\/ICdudWxsJyA6ICgnXCcnICsgaWRTdWIgKyAnXCcnKTsNCglvcmllbnQgPSAnXCcnICsgb3JpZW50ICsgJ1wnJzsNCglwcmVmaXggPSAnXCcnICsgcHJlZml4ICsgJ1wnJzsNCgl2YXIgb25DbGljayA9IChjbGlja09wZW4gPT0gMykgfHwgKGNsaWNrT3BlbiA9PSAyICYmIGlzTWFpbik7DQoJdmFyIHJldHVyblN0cjsNCglpZiAob25DbGljaykNCgkJcmV0dXJuU3RyID0gJyBvbm1vdXNlb3Zlcj0iY21JdGVtTW91c2VPdmVyICh0aGlzLCcgKyBwcmVmaXggKyAnLCcgKyBpc01haW4gKyAnLCcgKyBpZFN1YiArICcsJyArIGluZGV4ICsgJykiIG9ubW91c2Vkb3duPSJjbUl0ZW1Nb3VzZURvd25PcGVuU3ViICh0aGlzLCcgKyBpbmRleCArICcsJyArIHByZWZpeCArICcsJyArIG9yaWVudCArICcsJyArIGlkU3ViICsgJykiJzsNCgllbHNlDQoJCXJldHVyblN0ciA9ICcgb25tb3VzZW92ZXI9ImNtSXRlbU1vdXNlT3Zlck9wZW5TdWIgKHRoaXMsJyArIHByZWZpeCArICcsJyArIGlzTWFpbiArICcsJyArIGlkU3ViICsgJywnICsgb3JpZW50ICsgJywnICsgaW5kZXggKyAnKSIgb25tb3VzZWRvd249ImNtSXRlbU1vdXNlRG93biAodGhpcywnICsgaW5kZXggKyAnKSInOw0KCXJldHVybiByZXR1cm5TdHIgKyAnIG9ubW91c2VvdXQ9ImNtSXRlbU1vdXNlT3V0ICh0aGlzLCcgKyBub2RlUHJvcGVydGllcy5kZWxheSArICcpIiBvbm1vdXNldXA9ImNtSXRlbU1vdXNlVXAgKHRoaXMsJyArIGluZGV4ICsgJykiJzsNCn0NCg0KLy8NCi8vIHRoaXMgb25lIGlzIHVzZWQgYnkgX2NtTm9DbGljayB0byBvbmx5IHRha2UgY2FyZSBvZiBvbm1vdXNlb3ZlciBhbmQgb25tb3VzZW91dA0KLy8gZXZlbnRzIHdoaWNoIGFyZSBhc3NvY2lhdGVkIHdpdGggbWVudSBidXQgbm90IGFjdGlvbnMgYXNzb2NpYXRlZCB3aXRoIG1lbnUgY2xpY2tpbmcvY2xvc2luZw0KLy8NCmZ1bmN0aW9uIGNtTm9DbGlja0l0ZW0gKGl0ZW0sIHByZWZpeCwgaXNNYWluLCBpZFN1Yiwgb3JpZW50LCBub2RlUHJvcGVydGllcykNCnsNCgkvLyB2YXIgaW5kZXggPSBfY21JdGVtTGlzdC5wdXNoIChpdGVtKSAtIDE7DQoJX2NtSXRlbUxpc3RbX2NtSXRlbUxpc3QubGVuZ3RoXSA9IGl0ZW07DQoJdmFyIGluZGV4ID0gX2NtSXRlbUxpc3QubGVuZ3RoIC0gMTsNCglpZFN1YiA9ICghaWRTdWIpID8gJ251bGwnIDogKCdcJycgKyBpZFN1YiArICdcJycpOw0KCW9yaWVudCA9ICdcJycgKyBvcmllbnQgKyAnXCcnOw0KCXByZWZpeCA9ICdcJycgKyBwcmVmaXggKyAnXCcnOw0KCXJldHVybiAnIG9ubW91c2VvdmVyPSJjbUl0ZW1Nb3VzZU92ZXIgKHRoaXMsJyArIHByZWZpeCArICcsJyArIGlzTWFpbiArICcsJyArIGlkU3ViICsgJywnICsgaW5kZXggKyAnKSIgb25tb3VzZW91dD0iY21JdGVtTW91c2VPdXQgKHRoaXMsJyArIG5vZGVQcm9wZXJ0aWVzLmRlbGF5ICsgJykiJzsNCn0NCg0KZnVuY3Rpb24gY21Ob0FjdGlvbkl0ZW0gKGl0ZW0sIHByZWZpeCkNCnsNCglyZXR1cm4gaXRlbVsxXTsNCn0NCg0KZnVuY3Rpb24gY21TcGxpdEl0ZW0gKHByZWZpeCwgaXNNYWluLCB2ZXJ0aWNhbCkNCnsNCgl2YXIgY2xhc3NTdHIgPSAnY20nICsgcHJlZml4Ow0KCWlmIChpc01haW4pDQoJew0KCQljbGFzc1N0ciArPSAnTWFpbic7DQoJCWlmICh2ZXJ0aWNhbCkNCgkJCWNsYXNzU3RyICs9ICdIU3BsaXQnOw0KCQllbHNlDQoJCQljbGFzc1N0ciArPSAnVlNwbGl0JzsNCgl9DQoJZWxzZQ0KCQljbGFzc1N0ciArPSAnSFNwbGl0JzsNCglyZXR1cm4gZXZhbCAoY2xhc3NTdHIpOw0KfQ0KDQovLw0KLy8gZHJhdyB0aGUgc3ViIG1lbnUgcmVjdXJzaXZlbHkNCi8vDQpmdW5jdGlvbiBjbURyYXdTdWJNZW51IChzdWJNZW51LCBwcmVmaXgsIGlkLCBvcmllbnQsIG5vZGVQcm9wZXJ0aWVzKQ0Kew0KCXZhciBzdHIgPSAnPGRpdiBjbGFzcz0iJyArIHByZWZpeCArICdTdWJNZW51IiBpZD0iJyArIGlkICsgJyI+PHRhYmxlIHN1bW1hcnk9InN1YiBtZW51IiBjZWxsc3BhY2luZz0iJyArIG5vZGVQcm9wZXJ0aWVzLnN1YlNwYWNpbmcgKyAnIiBjbGFzcz0iJyArIHByZWZpeCArICdTdWJNZW51VGFibGUiPic7DQoJdmFyIHN0clN1YiA9ICcnOw0KDQoJdmFyIGl0ZW07DQoJdmFyIGlkU3ViOw0KCXZhciBoYXNDaGlsZDsNCg0KCXZhciBpOw0KDQoJdmFyIGNsYXNzU3RyOw0KDQoJZm9yIChpID0gNTsgaSA8IHN1Yk1lbnUubGVuZ3RoOyArK2kpDQoJew0KCQlpdGVtID0gc3ViTWVudVtpXTsNCgkJaWYgKCFpdGVtKQ0KCQkJY29udGludWU7DQoNCgkJaGFzQ2hpbGQgPSAoaXRlbS5sZW5ndGggPiA1KTsNCgkJaWRTdWIgPSBoYXNDaGlsZCA\/IGNtTmV3SUQgKCkgOiBudWxsOw0KDQoJCWlmIChpdGVtID09IF9jbVNwbGl0KQ0KCQkJaXRlbSA9IGNtU3BsaXRJdGVtIChwcmVmaXgsIDAsIHRydWUpOw0KDQoJCXN0ciArPSAnPHRyIGNsYXNzPSInICsgcHJlZml4ICsgJ01lbnVJdGVtIic7DQoJCWlmIChpdGVtWzBdICE9IF9jbU5vQ2xpY2spDQoJCQlzdHIgKz0gY21BY3Rpb25JdGVtIChpdGVtLCBwcmVmaXgsIDAsIGlkU3ViLCBvcmllbnQsIG5vZGVQcm9wZXJ0aWVzKTsNCgkJZWxzZQ0KCQkJc3RyICs9IGNtTm9DbGlja0l0ZW0gKGl0ZW0sIHByZWZpeCwgMCwgaWRTdWIsIG9yaWVudCwgbm9kZVByb3BlcnRpZXMpOw0KCQlzdHIgKz0gJz4nDQoNCgkJaWYgKGl0ZW1bMF0gPT0gX2NtTm9BY3Rpb24gfHwgaXRlbVswXSA9PSBfY21Ob0NsaWNrKQ0KCQl7DQoJCQlzdHIgKz0gY21Ob0FjdGlvbkl0ZW0gKGl0ZW0sIHByZWZpeCk7DQoJCQlzdHIgKz0gJzwvdHI+JzsNCgkJCWNvbnRpbnVlOw0KCQl9DQoNCgkJY2xhc3NTdHIgPSBwcmVmaXggKyAnTWVudSc7DQoJCWNsYXNzU3RyICs9IGhhc0NoaWxkID8gJ0ZvbGRlcicgOiAnSXRlbSc7DQoNCgkJc3RyICs9ICc8dGQgY2xhc3M9IicgKyBjbGFzc1N0ciArICdMZWZ0Ij4nOw0KDQoJCWlmIChpdGVtWzBdICE9IG51bGwpDQoJCQlzdHIgKz0gaXRlbVswXTsNCgkJZWxzZQ0KCQkJc3RyICs9IGhhc0NoaWxkID8gbm9kZVByb3BlcnRpZXMuZm9sZGVyTGVmdCA6IG5vZGVQcm9wZXJ0aWVzLml0ZW1MZWZ0Ow0KDQoJCXN0ciArPSAnPC90ZD48dGQgY2xhc3M9IicgKyBjbGFzc1N0ciArICdUZXh0Ij4nICsgaXRlbVsxXTsNCg0KCQlzdHIgKz0gJzwvdGQ+PHRkIGNsYXNzPSInICsgY2xhc3NTdHIgKyAnUmlnaHQiPic7DQoNCgkJaWYgKGhhc0NoaWxkKQ0KCQl7DQoJCQlzdHIgKz0gbm9kZVByb3BlcnRpZXMuZm9sZGVyUmlnaHQ7DQoJCQlzdHJTdWIgKz0gY21EcmF3U3ViTWVudSAoaXRlbSwgcHJlZml4LCBpZFN1Yiwgb3JpZW50LCBub2RlUHJvcGVydGllcyk7DQoJCX0NCgkJZWxzZQ0KCQkJc3RyICs9IG5vZGVQcm9wZXJ0aWVzLml0ZW1SaWdodDsNCgkJc3RyICs9ICc8L3RkPjwvdHI+JzsNCgl9DQoNCglzdHIgKz0gJzwvdGFibGU+PC9kaXY+JyArIHN0clN1YjsNCglyZXR1cm4gc3RyOw0KfQ0KDQovLw0KLy8gVGhlIGZ1bmN0aW9uIHRoYXQgYnVpbGRzIHRoZSBtZW51IGluc2lkZSB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaWQuDQovLw0KLy8gQHBhcmFtCWlkCWlkIG9mIHRoZSBlbGVtZW50DQovLwkJb3JpZW50CW9yaWVudGF0aW9uIG9mIHRoZSBtZW51IGluIFtodl1bYWJdW2xyXSBmb3JtYXQNCi8vCQltZW51CXRoZSBtZW51IG9iamVjdCB0byBiZSBkcmF3bg0KLy8JCW5vZGVQcm9wZXJ0aWVzCXByb3BlcnRpZXMgZm9yIGVhY2ggbWVudSBub2RlDQovLw0KZnVuY3Rpb24gY21EcmF3IChpZCwgbWVudSwgb3JpZW50LCBub2RlUHJvcGVydGllcywgcHJlZml4KQ0Kew0KCXZhciBvYmogPSBjbUdldE9iamVjdCAoaWQpOw0KDQoJaWYgKCFub2RlUHJvcGVydGllcykNCgkJbm9kZVByb3BlcnRpZXMgPSBfY21Ob2RlUHJvcGVydGllczsNCglpZiAoIXByZWZpeCkNCgkJcHJlZml4ID0gJyc7DQoNCgl2YXIgc3RyID0gJzx0YWJsZSBzdW1tYXJ5PSJtYWluIG1lbnUiIGNsYXNzPSInICsgcHJlZml4ICsgJ01lbnUiIGNlbGxzcGFjaW5nPSInICsgbm9kZVByb3BlcnRpZXMubWFpblNwYWNpbmcgKyAnIj4nOw0KCXZhciBzdHJTdWIgPSAnJzsNCg0KCWlmICghb3JpZW50KQ0KCQlvcmllbnQgPSAnaGJyJzsNCg0KCXZhciBvcmllbnRTdHIgPSBTdHJpbmcgKG9yaWVudCk7DQoJdmFyIG9yaWVudFN1YjsNCgl2YXIgdmVydGljYWw7DQoNCgkvLyBkcmF3IHRoZSBtYWluIG1lbnUgaXRlbXMNCglpZiAob3JpZW50U3RyLmNoYXJBdCAoMCkgPT0gJ2gnKQ0KCXsNCgkJLy8gaG9yaXpvbnRhbCBtZW51DQoJCW9yaWVudFN1YiA9ICd2JyArIG9yaWVudFN0ci5zdWJzdHIgKDEsIDIpOw0KCQlzdHIgKz0gJzx0cj4nOw0KCQl2ZXJ0aWNhbCA9IGZhbHNlOw0KCX0NCgllbHNlDQoJew0KCQkvLyB2ZXJ0aWNhbCBtZW51DQoJCW9yaWVudFN1YiA9ICd2JyArIG9yaWVudFN0ci5zdWJzdHIgKDEsIDIpOw0KCQl2ZXJ0aWNhbCA9IHRydWU7DQoJfQ0KDQoJdmFyIGk7DQoJdmFyIGl0ZW07DQoJdmFyIGlkU3ViOw0KCXZhciBoYXNDaGlsZDsNCg0KCXZhciBjbGFzc1N0cjsNCg0KCWZvciAoaSA9IDA7IGkgPCBtZW51Lmxlbmd0aDsgKytpKQ0KCXsNCgkJaXRlbSA9IG1lbnVbaV07DQoNCgkJaWYgKCFpdGVtKQ0KCQkJY29udGludWU7DQoNCgkJc3RyICs9IHZlcnRpY2FsID8gJzx0cicgOiAnPHRkJzsNCgkJc3RyICs9ICcgY2xhc3M9IicgKyBwcmVmaXggKyAnTWFpbkl0ZW0iJzsNCg0KCQloYXNDaGlsZCA9IChpdGVtLmxlbmd0aCA+IDUpOw0KCQlpZFN1YiA9IGhhc0NoaWxkID8gY21OZXdJRCAoKSA6IG51bGw7DQoNCgkJc3RyICs9IGNtQWN0aW9uSXRlbSAoaXRlbSwgcHJlZml4LCAxLCBpZFN1Yiwgb3JpZW50LCBub2RlUHJvcGVydGllcykgKyAnPic7DQoNCgkJaWYgKGl0ZW0gPT0gX2NtU3BsaXQpDQoJCQlpdGVtID0gY21TcGxpdEl0ZW0gKHByZWZpeCwgMSwgdmVydGljYWwpOw0KDQoJCWlmIChpdGVtWzBdID09IF9jbU5vQWN0aW9uIHx8IGl0ZW1bMF0gPT0gX2NtTm9DbGljaykNCgkJew0KCQkJc3RyICs9IGNtTm9BY3Rpb25JdGVtIChpdGVtLCBwcmVmaXgpOw0KCQkJc3RyICs9IHZlcnRpY2FsPyAnPC90cj4nIDogJzwvdGQ+JzsNCgkJCWNvbnRpbnVlOw0KCQl9DQoNCgkJY2xhc3NTdHIgPSBwcmVmaXggKyAnTWFpbicgKyAoaGFzQ2hpbGQgPyAnRm9sZGVyJyA6ICdJdGVtJyk7DQoNCgkJc3RyICs9IHZlcnRpY2FsID8gJzx0ZCcgOiAnPHNwYW4nOw0KCQlzdHIgKz0gJyBjbGFzcz0iJyArIGNsYXNzU3RyICsgJ0xlZnQiPic7DQoNCgkJc3RyICs9IChpdGVtWzBdID09IG51bGwpID8gKGhhc0NoaWxkID8gbm9kZVByb3BlcnRpZXMubWFpbkZvbGRlckxlZnQgOiBub2RlUHJvcGVydGllcy5tYWluSXRlbUxlZnQpDQoJCQkJCSA6IGl0ZW1bMF07DQoJCXN0ciArPSB2ZXJ0aWNhbCA\/ICc8L3RkPicgOiAnPC9zcGFuPic7DQoNCgkJc3RyICs9IHZlcnRpY2FsID8gJzx0ZCcgOiAnPHNwYW4nOw0KCQlzdHIgKz0gJyBjbGFzcz0iJyArIGNsYXNzU3RyICsgJ1RleHQiPic7DQoJCXN0ciArPSBpdGVtWzFdOw0KDQoJCXN0ciArPSB2ZXJ0aWNhbCA\/ICc8L3RkPicgOiAnPC9zcGFuPic7DQoNCgkJc3RyICs9IHZlcnRpY2FsID8gJzx0ZCcgOiAnPHNwYW4nOw0KCQlzdHIgKz0gJyBjbGFzcz0iJyArIGNsYXNzU3RyICsgJ1JpZ2h0Ij4nOw0KDQoJCXN0ciArPSBoYXNDaGlsZCA\/IG5vZGVQcm9wZXJ0aWVzLm1haW5Gb2xkZXJSaWdodCA6IG5vZGVQcm9wZXJ0aWVzLm1haW5JdGVtUmlnaHQ7DQoNCgkJc3RyICs9IHZlcnRpY2FsID8gJzwvdGQ+JyA6ICc8L3NwYW4+JzsNCg0KCQlzdHIgKz0gdmVydGljYWwgPyAnPC90cj4nIDogJzwvdGQ+JzsNCg0KCQlpZiAoaGFzQ2hpbGQpDQoJCQlzdHJTdWIgKz0gY21EcmF3U3ViTWVudSAoaXRlbSwgcHJlZml4LCBpZFN1Yiwgb3JpZW50U3ViLCBub2RlUHJvcGVydGllcyk7DQoJfQ0KCWlmICghdmVydGljYWwpDQoJCXN0ciArPSAnPC90cj4nOw0KCXN0ciArPSAnPC90YWJsZT4nICsgc3RyU3ViOw0KCW9iai5pbm5lckhUTUwgPSBzdHI7DQoJLy9kb2N1bWVudC53cml0ZSAoIjx4bXA+IiArIHN0ciArICI8L3htcD4iKTsNCn0NCg0KLy8NCi8vIFRoZSBmdW5jdGlvbiBidWlsZHMgdGhlIG1lbnUgaW5zaWRlIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBpZC4NCi8vDQovLyBUaGlzIGZ1bmN0aW9uIGlzIHNpbWlsYXIgdG8gY21EcmF3IGV4Y2VwdCB0aGF0IG1lbnUgaXMgdGFrZW4gZnJvbSBIVE1MIG5vZGUNCi8vIHJhdGhlciBhIGphdmFzY3JpcHQgdHJlZS4gIFRoaXMgZmVhdHVyZSBhbGxvd3MgbGlua3MgdG8gYmUgc2Nhbm5lZCBieSBzZWFyY2gNCi8vIGJvdHMuDQovLw0KLy8gVGhpcyBmdW5jdGlvbiBiYXNpY2FsbHkgY29udmVydHMgSFRNTCBub2RlIHRvIGEgamF2YXNjcmlwdCB0cmVlLCBhbmQgdGhlbiBjYWxscw0KLy8gY21EcmF3IHRvIGRyYXcgdGhlIGFjdHVhbCBtZW51LCByZXBsYWNpbmcgdGhlIGhpZGRlbiBtZW51IHRyZWUuDQovLw0KLy8gRm9ybWF0Og0KLy8JPGRpdiBpZD0ibWVudSI+DQovLwkJPHVsIHN0eWxlPSJ2aXNpYmlsaXR5OiBoaWRkZW4iPg0KLy8JCQk8bGk+PHNwYW4+aWNvbjwvc3Bhbj48YSBocmVmPSJsaW5rIiB0aXRsZT0iZGVzY3JpcHRpb24iPm1haW4gbWVudSB0ZXh0PC9hPg0KLy8JCQkJPHVsPg0KLy8JCQkJCTxsaT48c3Bhbj5pY29uPC9zcGFuPjxhIGhyZWY9ImxpbmsiIHRpdGxlPSJkZXNjcmlwdGlvbiI+c3VibWVudSBpdGVtPC9hPg0KLy8JCQkJCTwvbGk+DQovLwkJCQk8L3VsPg0KLy8JCQk8L2xpPg0KLy8JCTwvdWw+DQovLwk8L2Rpdj4NCi8vDQpmdW5jdGlvbiBjbURyYXdGcm9tVGV4dCAoaWQsIG9yaWVudCwgbm9kZVByb3BlcnRpZXMsIHByZWZpeCkNCnsNCgl2YXIgZG9tTWVudSA9IGNtR2V0T2JqZWN0IChpZCk7DQoJdmFyIG1lbnUgPSBudWxsOw0KCWZvciAodmFyIGN1cnJlbnREb21JdGVtID0gZG9tTWVudS5maXJzdENoaWxkOyBjdXJyZW50RG9tSXRlbTsgY3VycmVudERvbUl0ZW0gPSBjdXJyZW50RG9tSXRlbS5uZXh0U2libGluZykNCgl7DQoJCWlmICghY3VycmVudERvbUl0ZW0udGFnTmFtZSB8fCBjdXJyZW50RG9tSXRlbS50YWdOYW1lLnRvTG93ZXJDYXNlICgpICE9ICd1bCcpDQoJCQljb250aW51ZTsNCgkJbWVudSA9IGNtRHJhd0Zyb21UZXh0U3ViTWVudSAoY3VycmVudERvbUl0ZW0pOw0KCQlicmVhazsNCgl9DQoJaWYgKG1lbnUpDQoJCWNtRHJhdyAoaWQsIG1lbnUsIG9yaWVudCwgbm9kZVByb3BlcnRpZXMsIHByZWZpeCk7DQp9DQoNCi8vDQovLyBhIHJlY3Vyc2l2ZSBmdW5jdGlvbiB0aGF0IGJ1aWxkIG1lbnUgdHJlZSBzdHJ1Y3R1cmUNCi8vDQpmdW5jdGlvbiBjbURyYXdGcm9tVGV4dFN1Yk1lbnUgKGRvbU1lbnUpDQp7DQoJdmFyIGl0ZW1zID0gbmV3IEFycmF5ICgpOw0KCWZvciAodmFyIGN1cnJlbnREb21JdGVtID0gZG9tTWVudS5maXJzdENoaWxkOyBjdXJyZW50RG9tSXRlbTsgY3VycmVudERvbUl0ZW0gPSBjdXJyZW50RG9tSXRlbS5uZXh0U2libGluZykNCgl7DQoJCWlmICghY3VycmVudERvbUl0ZW0udGFnTmFtZSB8fCBjdXJyZW50RG9tSXRlbS50YWdOYW1lLnRvTG93ZXJDYXNlICgpICE9ICdsaScpDQoJCQljb250aW51ZTsNCgkJaWYgKGN1cnJlbnREb21JdGVtLmZpcnN0Q2hpbGQgPT0gbnVsbCkNCgkJew0KCQkJaXRlbXNbaXRlbXMubGVuZ3RoXSA9IF9jbVNwbGl0Ow0KCQkJY29udGludWU7DQoJCX0NCgkJdmFyIGl0ZW0gPSBuZXcgQXJyYXkgKCk7DQoJCXZhciBjdXJyZW50SXRlbSA9IGN1cnJlbnREb21JdGVtLmZpcnN0Q2hpbGQ7DQoJCWZvciAoOyBjdXJyZW50SXRlbTsgY3VycmVudEl0ZW0gPSBjdXJyZW50SXRlbS5uZXh0U2libGluZykNCgkJew0KCQkJLy8gc2NhbiBmb3Igc3BhbiB0YWcNCgkJCWlmICghY3VycmVudEl0ZW0udGFnTmFtZSB8fCBjdXJyZW50SXRlbS50YWdOYW1lLnRvTG93ZXJDYXNlICgpICE9ICdzcGFuJykNCgkJCQljb250aW51ZTsNCgkJCWlmICghY3VycmVudEl0ZW0uZmlyc3RDaGlsZCkNCgkJCQlpdGVtWzBdID0gbnVsbDsNCgkJCWVsc2UNCgkJCQlpdGVtWzBdID0gY3VycmVudEl0ZW0uaW5uZXJIVE1MOw0KCQkJYnJlYWs7DQoJCX0NCgkJaWYgKCFjdXJyZW50SXRlbSkNCgkJCWNvbnRpbnVlOw0KCQlmb3IgKDsgY3VycmVudEl0ZW07IGN1cnJlbnRJdGVtID0gY3VycmVudEl0ZW0ubmV4dFNpYmxpbmcpDQoJCXsNCgkJCS8vIHNjYW4gZm9yIHNwYW4gdGFnDQoJCQlpZiAoIWN1cnJlbnRJdGVtLnRhZ05hbWUgfHwgY3VycmVudEl0ZW0udGFnTmFtZS50b0xvd2VyQ2FzZSAoKSAhPSAnYScpDQoJCQkJY29udGludWU7DQoJCQlpdGVtWzFdID0gY3VycmVudEl0ZW0uaW5uZXJIVE1MOw0KCQkJaXRlbVsyXSA9IGN1cnJlbnRJdGVtLmhyZWY7DQoJCQlpdGVtWzNdID0gY3VycmVudEl0ZW0udGFyZ2V0Ow0KCQkJaXRlbVs0XSA9IGN1cnJlbnRJdGVtLnRpdGxlOw0KCQkJaWYgKGl0ZW1bNF0gPT0gJycpDQoJCQkJaXRlbVs0XSA9IG51bGw7DQoJCQlicmVhazsNCgkJfQ0KDQoJCWZvciAoOyBjdXJyZW50SXRlbTsgY3VycmVudEl0ZW0gPSBjdXJyZW50SXRlbS5uZXh0U2libGluZykNCgkJew0KCQkJLy8gc2NhbiBmb3Igc3BhbiB0YWcNCgkJCWlmICghY3VycmVudEl0ZW0udGFnTmFtZSB8fCBjdXJyZW50SXRlbS50YWdOYW1lLnRvTG93ZXJDYXNlICgpICE9ICd1bCcpDQoJCQkJY29udGludWU7DQoJCQl2YXIgc3ViTWVudUl0ZW1zID0gY21EcmF3RnJvbVRleHRTdWJNZW51IChjdXJyZW50SXRlbSk7DQoJCQlmb3IgKGkgPSAwOyBpIDwgc3ViTWVudUl0ZW1zLmxlbmd0aDsgKytpKQ0KCQkJCWl0ZW1baSArIDVdID0gc3ViTWVudUl0ZW1zW2ldOw0KCQkJYnJlYWs7DQoJCX0NCgkJaXRlbXNbaXRlbXMubGVuZ3RoXSA9IGl0ZW07DQoJfQ0KCXJldHVybiBpdGVtczsNCn0NCg0KLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KLy8NCi8vIE1vdXNlIEV2ZW50IEhhbmRsaW5nIEZ1bmN0aW9ucw0KLy8NCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCg0KLy8NCi8vIGFjdGlvbiBzaG91bGQgYmUgdGFrZW4gZm9yIG1vdXNlIG1vdmluZyBpbiB0byB0aGUgbWVudSBpdGVtDQovLw0KLy8gSGVyZSB3ZSBqdXN0IGRvIHRoaW5ncyBjb25jZXJuaW5nIHRoaXMgbWVudSBpdGVtLCB3L28gb3BlbmluZyBzdWIgbWVudXMuDQovLw0KZnVuY3Rpb24gY21JdGVtTW91c2VPdmVyIChvYmosIHByZWZpeCwgaXNNYWluLCBpZFN1YiwgaW5kZXgpDQp7DQoJY2xlYXJUaW1lb3V0IChfY21UaW1lT3V0KTsNCg0KCWlmICghb2JqLmNtUHJlZml4KQ0KCXsNCgkJb2JqLmNtUHJlZml4ID0gcHJlZml4Ow0KCQlvYmouY21Jc01haW4gPSBpc01haW47DQoJfQ0KDQoJdmFyIHRoaXNNZW51ID0gY21HZXRUaGlzTWVudSAob2JqLCBwcmVmaXgpOw0KDQoJLy8gaW5zZXJ0IG9iaiBpbnRvIGNtSXRlbXMgaWYgY21JdGVtcyBkb2Vzbid0IGhhdmUgb2JqDQoJaWYgKCF0aGlzTWVudS5jbUl0ZW1zKQ0KCQl0aGlzTWVudS5jbUl0ZW1zID0gbmV3IEFycmF5ICgpOw0KCXZhciBpOw0KCWZvciAoaSA9IDA7IGkgPCB0aGlzTWVudS5jbUl0ZW1zLmxlbmd0aDsgKytpKQ0KCXsNCgkJaWYgKHRoaXNNZW51LmNtSXRlbXNbaV0gPT0gb2JqKQ0KCQkJYnJlYWs7DQoJfQ0KCWlmIChpID09IHRoaXNNZW51LmNtSXRlbXMubGVuZ3RoKQ0KCXsNCgkJLy90aGlzTWVudS5jbUl0ZW1zLnB1c2ggKG9iaik7DQoJCXRoaXNNZW51LmNtSXRlbXNbaV0gPSBvYmo7DQoJfQ0KDQoJLy8gaGlkZSB0aGUgcHJldmlvdXMgc3VibWVudSB0aGF0IGlzIG5vdCB0aGlzIGJyYW5jaA0KCWlmIChfY21DdXJyZW50SXRlbSkNCgl7DQoJCS8vIG9jY2F0aW9uYWxseSwgd2UgZ2V0IHRoaXMgY2FzZSB3aGVuIHVzZXINCgkJLy8gbW92ZSB0aGUgbW91c2Ugc2xvd2x5IHRvIHRoZSBib3JkZXINCgkJaWYgKF9jbUN1cnJlbnRJdGVtID09IG9iaiB8fCBfY21DdXJyZW50SXRlbSA9PSB0aGlzTWVudSkNCgkJew0KCQkJdmFyIGl0ZW0gPSBfY21JdGVtTGlzdFtpbmRleF07DQoJCQljbVNldFN0YXR1cyAoaXRlbSk7DQoJCQlyZXR1cm47DQoJCX0NCg0KCQl2YXIgdGhhdFByZWZpeCA9IF9jbUN1cnJlbnRJdGVtLmNtUHJlZml4Ow0KCQl2YXIgdGhhdE1lbnUgPSBjbUdldFRoaXNNZW51IChfY21DdXJyZW50SXRlbSwgdGhhdFByZWZpeCk7DQoNCgkJaWYgKHRoYXRNZW51ICE9IHRoaXNNZW51LmNtUGFyZW50TWVudSkNCgkJew0KCQkJaWYgKF9jbUN1cnJlbnRJdGVtLmNtSXNNYWluKQ0KCQkJCV9jbUN1cnJlbnRJdGVtLmNsYXNzTmFtZSA9IHRoYXRQcmVmaXggKyAnTWFpbkl0ZW0nOw0KCQkJZWxzZQ0KCQkJCV9jbUN1cnJlbnRJdGVtLmNsYXNzTmFtZSA9IHRoYXRQcmVmaXggKyAnTWVudUl0ZW0nOw0KCQkJaWYgKHRoYXRNZW51LmlkICE9IGlkU3ViKQ0KCQkJCWNtSGlkZU1lbnUgKHRoYXRNZW51LCB0aGlzTWVudSwgdGhhdFByZWZpeCk7DQoJCX0NCgl9DQoNCgkvLyBva2F5LCBzZXQgdGhlIGN1cnJlbnQgbWVudSB0byB0aGlzIG9iag0KCV9jbUN1cnJlbnRJdGVtID0gb2JqOw0KDQoJLy8ganVzdCBpbiBjYXNlLCByZXNldCBhbGwgaXRlbXMgaW4gdGhpcyBtZW51IHRvIE1lbnVJdGVtDQoJY21SZXNldE1lbnUgKHRoaXNNZW51LCBwcmVmaXgpOw0KDQoJdmFyIGl0ZW0gPSBfY21JdGVtTGlzdFtpbmRleF07DQoJdmFyIGlzRGVmYXVsdEl0ZW0gPSBjbUlzRGVmYXVsdEl0ZW0gKGl0ZW0pOw0KDQoJaWYgKGlzRGVmYXVsdEl0ZW0pDQoJew0KCQlpZiAoaXNNYWluKQ0KCQkJb2JqLmNsYXNzTmFtZSA9IHByZWZpeCArICdNYWluSXRlbUhvdmVyJzsNCgkJZWxzZQ0KCQkJb2JqLmNsYXNzTmFtZSA9IHByZWZpeCArICdNZW51SXRlbUhvdmVyJzsNCgl9DQoNCgljbVNldFN0YXR1cyAoaXRlbSk7DQp9DQoNCi8vDQovLyBhY3Rpb24gc2hvdWxkIGJlIHRha2VuIGZvciBtb3VzZSBtb3ZpbmcgaW4gdG8gdGhlIG1lbnUgaXRlbQ0KLy8NCi8vIFRoaXMgZnVuY3Rpb24gYWxzbyBvcGVucyBzdWIgbWVudQ0KLy8NCmZ1bmN0aW9uIGNtSXRlbU1vdXNlT3Zlck9wZW5TdWIgKG9iaiwgcHJlZml4LCBpc01haW4sIGlkU3ViLCBvcmllbnQsIGluZGV4KQ0Kew0KCWNtSXRlbU1vdXNlT3ZlciAob2JqLCBwcmVmaXgsIGlzTWFpbiwgaWRTdWIsIGluZGV4KTsNCg0KCWlmIChpZFN1YikNCgl7DQoJCXZhciBzdWJNZW51ID0gY21HZXRPYmplY3QgKGlkU3ViKTsNCgkJY21TaG93U3ViTWVudSAob2JqLCBwcmVmaXgsIHN1Yk1lbnUsIG9yaWVudCk7DQoJfQ0KfQ0KDQovLw0KLy8gYWN0aW9uIHNob3VsZCBiZSB0YWtlbiBmb3IgbW91c2UgbW92aW5nIG91dCBvZiB0aGUgbWVudSBpdGVtDQovLw0KZnVuY3Rpb24gY21JdGVtTW91c2VPdXQgKG9iaiwgZGVsYXlUaW1lKQ0Kew0KCWlmICghZGVsYXlUaW1lKQ0KCQlkZWxheVRpbWUgPSBfY21Ob2RlUHJvcGVydGllcy5kZWxheTsNCglfY21UaW1lT3V0ID0gd2luZG93LnNldFRpbWVvdXQgKCdjbUhpZGVNZW51VGltZSAoKScsIGRlbGF5VGltZSk7DQoJd2luZG93LmRlZmF1bHRTdGF0dXMgPSAnJzsNCn0NCg0KLy8NCi8vIGFjdGlvbiBzaG91bGQgYmUgdGFrZW4gZm9yIG1vdXNlIGJ1dHRvbiBkb3duIGF0IGEgbWVudSBpdGVtDQovLw0KZnVuY3Rpb24gY21JdGVtTW91c2VEb3duIChvYmosIGluZGV4KQ0Kew0KCWlmIChjbUlzRGVmYXVsdEl0ZW0gKF9jbUl0ZW1MaXN0W2luZGV4XSkpDQoJew0KCQlpZiAob2JqLmNtSXNNYWluKQ0KCQkJb2JqLmNsYXNzTmFtZSA9IG9iai5jbVByZWZpeCArICdNYWluSXRlbUFjdGl2ZSc7DQoJCWVsc2UNCgkJCW9iai5jbGFzc05hbWUgPSBvYmouY21QcmVmaXggKyAnTWVudUl0ZW1BY3RpdmUnOw0KCX0NCn0NCg0KLy8NCi8vIGFjdGlvbiBzaG91bGQgYmUgdGFrZW4gZm9yIG1vdXNlIGJ1dHRvbiBkb3duIGF0IGEgbWVudSBpdGVtDQovLyB0aGlzIGlzIG9uZSBhbHNvIG9wZW5zIHN1Ym1lbnUgaWYgbmVlZGVkDQovLw0KZnVuY3Rpb24gY21JdGVtTW91c2VEb3duT3BlblN1YiAob2JqLCBpbmRleCwgcHJlZml4LCBvcmllbnQsIGlkU3ViKQ0Kew0KCWNtSXRlbU1vdXNlRG93biAob2JqLCBpbmRleCk7DQoNCglpZiAoaWRTdWIpDQoJew0KCQl2YXIgc3ViTWVudSA9IGNtR2V0T2JqZWN0IChpZFN1Yik7DQoJCWNtU2hvd1N1Yk1lbnUgKG9iaiwgcHJlZml4LCBzdWJNZW51LCBvcmllbnQpOw0KCX0NCn0NCg0KLy8NCi8vIGFjdGlvbiBzaG91bGQgYmUgdGFrZW4gZm9yIG1vdXNlIGJ1dHRvbiB1cCBhdCBhIG1lbnUgaXRlbQ0KLy8NCmZ1bmN0aW9uIGNtSXRlbU1vdXNlVXAgKG9iaiwgaW5kZXgpDQp7DQoJdmFyIGl0ZW0gPSBfY21JdGVtTGlzdFtpbmRleF07DQoNCgl2YXIgbGluayA9IG51bGwsIHRhcmdldCA9ICdfc2VsZic7DQoNCglpZiAoaXRlbS5sZW5ndGggPiAyKQ0KCQlsaW5rID0gaXRlbVsyXTsNCglpZiAoaXRlbS5sZW5ndGggPiAzICYmIGl0ZW1bM10pDQoJCXRhcmdldCA9IGl0ZW1bM107DQoNCglpZiAobGluayAhPSBudWxsKQ0KCXsNCgkJd2luZG93Lm9wZW4gKGxpbmssIHRhcmdldCk7DQoJfQ0KDQoJdmFyIHByZWZpeCA9IG9iai5jbVByZWZpeDsNCgl2YXIgdGhpc01lbnUgPSBjbUdldFRoaXNNZW51IChvYmosIHByZWZpeCk7DQoNCgl2YXIgaGFzQ2hpbGQgPSAoaXRlbS5sZW5ndGggPiA1KTsNCglpZiAoIWhhc0NoaWxkKQ0KCXsNCgkJaWYgKGNtSXNEZWZhdWx0SXRlbSAoaXRlbSkpDQoJCXsNCgkJCWlmIChvYmouY21Jc01haW4pDQoJCQkJb2JqLmNsYXNzTmFtZSA9IHByZWZpeCArICdNYWluSXRlbSc7DQoJCQllbHNlDQoJCQkJb2JqLmNsYXNzTmFtZSA9IHByZWZpeCArICdNZW51SXRlbSc7DQoJCX0NCgkJY21IaWRlTWVudSAodGhpc01lbnUsIG51bGwsIHByZWZpeCk7DQoJfQ0KCWVsc2UNCgl7DQoJCWlmIChjbUlzRGVmYXVsdEl0ZW0gKGl0ZW0pKQ0KCQl7DQoJCQlpZiAob2JqLmNtSXNNYWluKQ0KCQkJCW9iai5jbGFzc05hbWUgPSBwcmVmaXggKyAnTWFpbkl0ZW1Ib3Zlcic7DQoJCQllbHNlDQoJCQkJb2JqLmNsYXNzTmFtZSA9IHByZWZpeCArICdNZW51SXRlbUhvdmVyJzsNCgkJfQ0KCX0NCn0NCg0KLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KLy8NCi8vIE1vdXNlIEV2ZW50IFN1cHBvcnQgVXRpbGl0eSBGdW5jdGlvbnMNCi8vDQovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQoNCi8vDQovLyBtb3ZlIHN1Ym1lbnUgdG8gdGhlIGFwcHJvcHJpYXRlIGxvY2F0aW9uDQovLw0KLy8gQHBhcmFtCW9iagl0aGUgbWVudSBpdGVtIHRoYXQgb3BlbnMgdXAgdGhlIHN1Yk1lbnUNCi8vCQlzdWJNZW51CXRoZSBzdWIgbWVudSB0byBiZSBzaG93bg0KLy8JCW9yaWVudAl0aGUgb3JpZW50YXRpb24gb2YgdGhlIHN1Yk1lbnUNCi8vDQpmdW5jdGlvbiBjbU1vdmVTdWJNZW51IChvYmosIHN1Yk1lbnUsIG9yaWVudCkNCnsNCgl2YXIgbW9kZSA9IFN0cmluZyAob3JpZW50KTsNCgl2YXIgcCA9IHN1Yk1lbnUub2Zmc2V0UGFyZW50Ow0KCXZhciBzdWJNZW51V2lkdGggPSBjbUdldFdpZHRoIChzdWJNZW51KTsNCgl2YXIgaG9yaXogPSBjbUdldEhvcml6b250YWxBbGlnbiAob2JqLCBtb2RlLCBwLCBzdWJNZW51V2lkdGgpOw0KCWlmIChtb2RlLmNoYXJBdCAoMCkgPT0gJ2gnKQ0KCXsNCgkJaWYgKG1vZGUuY2hhckF0ICgxKSA9PSAnYicpDQoJCQlzdWJNZW51LnN0eWxlLnRvcCA9IChjbUdldFlBdCAob2JqLCBwKSArIGNtR2V0SGVpZ2h0IChvYmopKSArICdweCc7DQoJCWVsc2UNCgkJCXN1Yk1lbnUuc3R5bGUudG9wID0gKGNtR2V0WUF0IChvYmosIHApIC0gY21HZXRIZWlnaHQgKHN1Yk1lbnUpKSArICdweCc7DQoJCWlmIChob3JpeiA9PSAncicpDQoJCQlzdWJNZW51LnN0eWxlLmxlZnQgPSAoY21HZXRYQXQgKG9iaiwgcCkpICsgJ3B4JzsNCgkJZWxzZQ0KCQkJc3ViTWVudS5zdHlsZS5sZWZ0ID0gKGNtR2V0WEF0IChvYmosIHApICsgY21HZXRXaWR0aCAob2JqKSAtIHN1Yk1lbnVXaWR0aCkgKyAncHgnOw0KCX0NCgllbHNlDQoJew0KCQlpZiAoaG9yaXogPT0gJ3InKQ0KCQkJc3ViTWVudS5zdHlsZS5sZWZ0ID0gKGNtR2V0WEF0IChvYmosIHApICsgY21HZXRXaWR0aCAob2JqKSkgKyAncHgnOw0KCQllbHNlDQoJCQlzdWJNZW51LnN0eWxlLmxlZnQgPSAoY21HZXRYQXQgKG9iaiwgcCkgLSBzdWJNZW51V2lkdGgpICsgJ3B4JzsNCgkJaWYgKG1vZGUuY2hhckF0ICgxKSA9PSAnYicpDQoJCQlzdWJNZW51LnN0eWxlLnRvcCA9IChjbUdldFlBdCAob2JqLCBwKSkgKyAncHgnOw0KCQllbHNlDQoJCQlzdWJNZW51LnN0eWxlLnRvcCA9IChjbUdldFlBdCAob2JqLCBwKSArIGNtR2V0SGVpZ2h0IChvYmopIC0gY21HZXRIZWlnaHQgKHN1Yk1lbnUpKSArICdweCc7DQoJfQ0KfQ0KDQovLw0KLy8gYXV0b21hdGljYWxseSByZS1hZGp1c3QgdGhlIG1lbnUgcG9zaXRpb24gYmFzZWQgb24gYXZhaWxhYmxlIHNjcmVlbiBzaXplLg0KLy8NCmZ1bmN0aW9uIGNtR2V0SG9yaXpvbnRhbEFsaWduIChvYmosIG1vZGUsIHAsIHN1Yk1lbnVXaWR0aCkNCnsNCgl2YXIgaG9yaXogPSBtb2RlLmNoYXJBdCAoMik7DQoJaWYgKCEoZG9jdW1lbnQuYm9keSkpDQoJCXJldHVybiBob3JpejsNCgl2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7DQoJdmFyIGJyb3dzZXJMZWZ0Ow0KCXZhciBicm93c2VyUmlnaHQ7DQoJaWYgKHdpbmRvdy5pbm5lcldpZHRoKQ0KCXsNCgkJLy8gRE9NIHdpbmRvdyBhdHRyaWJ1dGVzDQoJCWJyb3dzZXJMZWZ0ID0gd2luZG93LnBhZ2VYT2Zmc2V0Ow0KCQlicm93c2VyUmlnaHQgPSB3aW5kb3cuaW5uZXJXaWR0aCArIGJyb3dzZXJMZWZ0Ow0KCX0NCgllbHNlIGlmIChib2R5LmNsaWVudFdpZHRoKQ0KCXsNCgkJLy8gSUUgYXR0cmlidXRlcw0KCQlicm93c2VyTGVmdCA9IGJvZHkuY2xpZW50TGVmdDsNCgkJYnJvd3NlclJpZ2h0ID0gYm9keS5jbGllbnRXaWR0aCArIGJyb3dzZXJMZWZ0Ow0KCX0NCgllbHNlDQoJCXJldHVybiBob3JpejsNCglpZiAobW9kZS5jaGFyQXQgKDApID09ICdoJykNCgl7DQoJCWlmIChob3JpeiA9PSAncicgJiYgKGNtR2V0WEF0IChvYmopICsgc3ViTWVudVdpZHRoKSA+IGJyb3dzZXJSaWdodCkNCgkJCWhvcml6ID0gJ2wnOw0KCQlpZiAoaG9yaXogPT0gJ2wnICYmIChjbUdldFhBdCAob2JqKSArIGNtR2V0V2lkdGggKG9iaikgLSBzdWJNZW51V2lkdGgpIDwgYnJvd3NlckxlZnQpDQoJCQlob3JpeiA9ICdyJzsNCgkJcmV0dXJuIGhvcml6Ow0KCX0NCgllbHNlDQoJew0KCQlpZiAoaG9yaXogPT0gJ3InICYmIChjbUdldFhBdCAob2JqLCBwKSArIGNtR2V0V2lkdGggKG9iaikgKyBzdWJNZW51V2lkdGgpID4gYnJvd3NlclJpZ2h0KQ0KCQkJaG9yaXogPSAnbCc7DQoJCWlmIChob3JpeiA9PSAnbCcgJiYgKGNtR2V0WEF0IChvYmosIHApIC0gc3ViTWVudVdpZHRoKSA8IGJyb3dzZXJMZWZ0KQ0KCQkJaG9yaXogPSAncic7DQoJCXJldHVybiBob3JpejsNCgl9DQp9DQoNCi8vDQovLyBzaG93IHRoZSBzdWJNZW51IHcvIHNwZWNpZmllZCBvcmllbnRhdGlvbg0KLy8gYWxzbyBtb3ZlIGl0IHRvIHRoZSBjb3JyZWN0IGNvb3JkaW5hdGVzDQovLw0KLy8gQHBhcmFtCW9iagl0aGUgbWVudSBpdGVtIHRoYXQgb3BlbnMgdXAgdGhlIHN1Yk1lbnUNCi8vCQlzdWJNZW51CXRoZSBzdWIgbWVudSB0byBiZSBzaG93bg0KLy8JCW9yaWVudAl0aGUgb3JpZW50YXRpb24gb2YgdGhlIHN1Yk1lbnUNCi8vDQpmdW5jdGlvbiBjbVNob3dTdWJNZW51IChvYmosIHByZWZpeCwgc3ViTWVudSwgb3JpZW50KQ0Kew0KCWlmICghc3ViTWVudS5jbVBhcmVudE1lbnUpDQoJew0KCQkvLyBlc3RhYmxpc2ggdGhlIHRyZWUgdy8gYmFjayBlZGdlDQoJCXZhciB0aGlzTWVudSA9IGNtR2V0VGhpc01lbnUgKG9iaiwgcHJlZml4KTsNCgkJc3ViTWVudS5jbVBhcmVudE1lbnUgPSB0aGlzTWVudTsNCgkJaWYgKCF0aGlzTWVudS5jbVN1Yk1lbnUpDQoJCQl0aGlzTWVudS5jbVN1Yk1lbnUgPSBuZXcgQXJyYXkgKCk7DQoJCS8vdGhpc01lbnUuY21TdWJNZW51LnB1c2ggKHN1Yk1lbnUpOw0KCQl0aGlzTWVudS5jbVN1Yk1lbnVbdGhpc01lbnUuY21TdWJNZW51Lmxlbmd0aF0gPSBzdWJNZW51Ow0KCX0NCg0KCS8vIHBvc2l0aW9uIHRoZSBzdWIgbWVudQ0KCWNtTW92ZVN1Yk1lbnUgKG9iaiwgc3ViTWVudSwgb3JpZW50KTsNCglzdWJNZW51LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7DQoNCgkvLw0KCS8vIE9uIElFLCBjb250cm9scyBzdWNoIGFzIFNFTEVDVCwgT0JKRUNULCBJRlJBTUUgKGJlZm9yZSA1LjUpDQoJLy8gYXJlIHdpbmRvdyBiYXNlZCBjb250cm9scy4gIFNvLCBpZiB0aGUgc3ViIG1lbnUgYW5kIHRoZXNlDQoJLy8gY29udHJvbHMgb3ZlcmxhcCwgc3ViIG1lbnUgd291bGQgYmUgaGlkZGVuIGJlaGluZCB0aGVtLiAgVGh1cw0KCS8vIG9uZSBuZWVkcyB0byB0dXJuIHRoZSB2aXNpYmlsaXR5IG9mIHRoZXNlIGNvbnRyb2xzIG9mZiB3aGVuIHRoZQ0KCS8vIHN1YiBtZW51IGlzIHNob3dpbmcsIGFuZCB0dXJuIHRoZWlyIHZpc2liaWxpdHkgYmFjayBvbg0KCS8vIHdoZW4gdGhlIHN1YiBtZW51IGlzIGhpZGluZy4NCgkvLw0KCWlmIChkb2N1bWVudC5hbGwpCS8vIGl0IGlzIElFDQoJew0KCQkvKiBwYXJ0IG9mIEZlbGl4IFphc2xhdnNraXkncyBmaXggb24gaGlkaW5nIGNvbnRyb2xzDQoJCSAgIG5vdCByZWFsbHkgc3VyZSBpZiB0aGlzIHBhcnQgaXMgbmVjZXNzYXJ5LCBidXQgc2hvdWxkbid0DQoJCSAgIGh1cnQuICovDQoJCWlmICghc3ViTWVudS5jbU92ZXJsYXApDQoJCQlzdWJNZW51LmNtT3ZlcmxhcCA9IG5ldyBBcnJheSAoKTsNCi8qQGNjX29uIEAqLw0KLypAaWYgKEBfanNjcmlwdF92ZXJzaW9uID49IDUuNSkNCkBlbHNlIEAqLw0KCQljbUhpZGVDb250cm9sICgiSUZSQU1FIiwgc3ViTWVudSk7DQovKkBlbmQgQCovDQoJCWNtSGlkZUNvbnRyb2wgKCJTRUxFQ1QiLCBzdWJNZW51KTsNCgkJY21IaWRlQ29udHJvbCAoIk9CSkVDVCIsIHN1Yk1lbnUpOw0KCX0NCn0NCg0KLy8NCi8vIHJlc2V0IGFsbCB0aGUgbWVudSBpdGVtcyB0byBjbGFzcyBNZW51SXRlbSBpbiB0aGlzTWVudQ0KLy8NCmZ1bmN0aW9uIGNtUmVzZXRNZW51ICh0aGlzTWVudSwgcHJlZml4KQ0Kew0KCWlmICh0aGlzTWVudS5jbUl0ZW1zKQ0KCXsNCgkJdmFyIGk7DQoJCXZhciBzdHI7DQoJCXZhciBpdGVtcyA9IHRoaXNNZW51LmNtSXRlbXM7DQoJCWZvciAoaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7ICsraSkNCgkJew0KCQkJaWYgKGl0ZW1zW2ldLmNtSXNNYWluKQ0KCQkJCXN0ciA9IHByZWZpeCArICdNYWluSXRlbSc7DQoJCQllbHNlDQoJCQkJc3RyID0gcHJlZml4ICsgJ01lbnVJdGVtJzsNCgkJCWlmIChpdGVtc1tpXS5jbGFzc05hbWUgIT0gc3RyKQ0KCQkJCWl0ZW1zW2ldLmNsYXNzTmFtZSA9IHN0cjsNCgkJfQ0KCX0NCn0NCg0KLy8NCi8vIGNhbGxlZCBieSB0aGUgdGltZXIgdG8gaGlkZSB0aGUgbWVudQ0KLy8NCmZ1bmN0aW9uIGNtSGlkZU1lbnVUaW1lICgpDQp7DQoJaWYgKF9jbUN1cnJlbnRJdGVtKQ0KCXsNCgkJdmFyIHByZWZpeCA9IF9jbUN1cnJlbnRJdGVtLmNtUHJlZml4Ow0KCQljbUhpZGVNZW51IChjbUdldFRoaXNNZW51IChfY21DdXJyZW50SXRlbSwgcHJlZml4KSwgbnVsbCwgcHJlZml4KTsNCgkJX2NtQ3VycmVudEl0ZW0gPSBudWxsOw0KCX0NCn0NCg0KLy8NCi8vIGhpZGUgdGhpc01lbnUsIGNoaWxkcmVuIG9mIHRoaXNNZW51LCBhcyB3ZWxsIGFzIHRoZSBhbmNlc3Rvcg0KLy8gb2YgdGhpc01lbnUgdW50aWwgY3VycmVudE1lbnUgaXMgZW5jb3VudGVyZWQuICBjdXJyZW50TWVudQ0KLy8gd2lsbCBub3QgYmUgaGlkZGVuDQovLw0KZnVuY3Rpb24gY21IaWRlTWVudSAodGhpc01lbnUsIGN1cnJlbnRNZW51LCBwcmVmaXgpDQp7DQoJdmFyIHN0ciA9IHByZWZpeCArICdTdWJNZW51JzsNCg0KCS8vIGhpZGUgdGhlIGRvd24gc3RyZWFtIG1lbnVzDQoJaWYgKHRoaXNNZW51LmNtU3ViTWVudSkNCgl7DQoJCXZhciBpOw0KCQlmb3IgKGkgPSAwOyBpIDwgdGhpc01lbnUuY21TdWJNZW51Lmxlbmd0aDsgKytpKQ0KCQl7DQoJCQljbUhpZGVTdWJNZW51ICh0aGlzTWVudS5jbVN1Yk1lbnVbaV0sIHByZWZpeCk7DQoJCX0NCgl9DQoNCgkvLyBoaWRlIHRoZSB1cHN0cmVhbSBtZW51cw0KCXdoaWxlICh0aGlzTWVudSAmJiB0aGlzTWVudSAhPSBjdXJyZW50TWVudSkNCgl7DQoJCWNtUmVzZXRNZW51ICh0aGlzTWVudSwgcHJlZml4KTsNCgkJaWYgKHRoaXNNZW51LmNsYXNzTmFtZSA9PSBzdHIpDQoJCXsNCgkJCXRoaXNNZW51LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsNCgkJCWNtU2hvd0NvbnRyb2wgKHRoaXNNZW51KTsNCgkJfQ0KCQllbHNlDQoJCQlicmVhazsNCgkJdGhpc01lbnUgPSBjbUdldFRoaXNNZW51ICh0aGlzTWVudS5jbVBhcmVudE1lbnUsIHByZWZpeCk7DQoJfQ0KfQ0KDQovLw0KLy8gaGlkZSB0aGlzTWVudSBhcyB3ZWxsIGFzIGl0cyBzdWIgbWVudXMgaWYgdGhpc01lbnUgaXMgbm90DQovLyBhbHJlYWR5IGhpZGRlbg0KLy8NCmZ1bmN0aW9uIGNtSGlkZVN1Yk1lbnUgKHRoaXNNZW51LCBwcmVmaXgpDQp7DQoJaWYgKHRoaXNNZW51LnN0eWxlLnZpc2liaWxpdHkgPT0gJ2hpZGRlbicpDQoJCXJldHVybjsNCglpZiAodGhpc01lbnUuY21TdWJNZW51KQ0KCXsNCgkJdmFyIGk7DQoJCWZvciAoaSA9IDA7IGkgPCB0aGlzTWVudS5jbVN1Yk1lbnUubGVuZ3RoOyArK2kpDQoJCXsNCgkJCWNtSGlkZVN1Yk1lbnUgKHRoaXNNZW51LmNtU3ViTWVudVtpXSwgcHJlZml4KTsNCgkJfQ0KCX0NCgljbVJlc2V0TWVudSAodGhpc01lbnUsIHByZWZpeCk7DQoJdGhpc01lbnUuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nOw0KCWNtU2hvd0NvbnRyb2wgKHRoaXNNZW51KTsNCn0NCg0KLy8NCi8vIGhpZGUgYSBjb250cm9sIHN1Y2ggYXMgSUZSQU1FDQovLw0KZnVuY3Rpb24gY21IaWRlQ29udHJvbCAodGFnTmFtZSwgc3ViTWVudSkNCnsNCgl2YXIgeCA9IGNtR2V0WCAoc3ViTWVudSk7DQoJdmFyIHkgPSBjbUdldFkgKHN1Yk1lbnUpOw0KCXZhciB3ID0gc3ViTWVudS5vZmZzZXRXaWR0aDsNCgl2YXIgaCA9IHN1Yk1lbnUub2Zmc2V0SGVpZ2h0Ow0KDQoJdmFyIGk7DQoJZm9yIChpID0gMDsgaSA8IGRvY3VtZW50LmFsbC50YWdzKHRhZ05hbWUpLmxlbmd0aDsgKytpKQ0KCXsNCgkJdmFyIG9iaiA9IGRvY3VtZW50LmFsbC50YWdzKHRhZ05hbWUpW2ldOw0KCQlpZiAoIW9iaiB8fCAhb2JqLm9mZnNldFBhcmVudCkNCgkJCWNvbnRpbnVlOw0KDQoJCS8vIGNoZWNrIGlmIHRoZSBvYmplY3QgYW5kIHRoZSBzdWJNZW51IG92ZXJsYXANCg0KCQl2YXIgb3ggPSBjbUdldFggKG9iaik7DQoJCXZhciBveSA9IGNtR2V0WSAob2JqKTsNCgkJdmFyIG93ID0gb2JqLm9mZnNldFdpZHRoOw0KCQl2YXIgb2ggPSBvYmoub2Zmc2V0SGVpZ2h0Ow0KDQoJCWlmIChveCA+ICh4ICsgdykgfHwgKG94ICsgb3cpIDwgeCkNCgkJCWNvbnRpbnVlOw0KCQlpZiAob3kgPiAoeSArIGgpIHx8IChveSArIG9oKSA8IHkpDQoJCQljb250aW51ZTsNCg0KCQkvLyBpZiBvYmplY3QgaXMgYWxyZWFkeSBtYWRlIGhpZGRlbiBieSBhIGRpZmZlcmVudA0KCQkvLyBzdWJtZW51IHRoZW4gd2UgZG9udCB3YW50IHRvIHB1dCBpdCBvbiBvdmVybGFwIGxpc3Qgb2YNCgkJLy8gb2YgYSBzdWJtZW51IGEgc2Vjb25kIHRpbWUuDQoJCS8vIC0gYnVnIGZpeGVkIGJ5IEZlbGl4IFphc2xhdnNraXkNCgkJaWYob2JqLnN0eWxlLnZpc2liaWxpdHkgPT0gImhpZGRlbiIpDQoJCQljb250aW51ZTsNCg0KCQkvL3N1Yk1lbnUuY21PdmVybGFwLnB1c2ggKG9iaik7DQoJCXN1Yk1lbnUuY21PdmVybGFwW3N1Yk1lbnUuY21PdmVybGFwLmxlbmd0aF0gPSBvYmo7DQoJCW9iai5zdHlsZS52aXNpYmlsaXR5ID0gImhpZGRlbiI7DQoJfQ0KfQ0KDQovLw0KLy8gc2hvdyB0aGUgY29udHJvbCBoaWRkZW4gYnkgdGhlIHN1Yk1lbnUNCi8vDQpmdW5jdGlvbiBjbVNob3dDb250cm9sIChzdWJNZW51KQ0Kew0KCWlmIChzdWJNZW51LmNtT3ZlcmxhcCkNCgl7DQoJCXZhciBpOw0KCQlmb3IgKGkgPSAwOyBpIDwgc3ViTWVudS5jbU92ZXJsYXAubGVuZ3RoOyArK2kpDQoJCQlzdWJNZW51LmNtT3ZlcmxhcFtpXS5zdHlsZS52aXNpYmlsaXR5ID0gIiI7DQoJfQ0KCXN1Yk1lbnUuY21PdmVybGFwID0gbnVsbDsNCn0NCg0KLy8NCi8vIHJldHVybnMgdGhlIG1haW4gbWVudSBvciB0aGUgc3VibWVudSB0YWJsZSB3aGVyZSB0aGlzIG9iaiAobWVudSBpdGVtKQ0KLy8gaXMgaW4NCi8vDQpmdW5jdGlvbiBjbUdldFRoaXNNZW51IChvYmosIHByZWZpeCkNCnsNCgl2YXIgc3RyMSA9IHByZWZpeCArICdTdWJNZW51JzsNCgl2YXIgc3RyMiA9IHByZWZpeCArICdNZW51JzsNCgl3aGlsZSAob2JqKQ0KCXsNCgkJaWYgKG9iai5jbGFzc05hbWUgPT0gc3RyMSB8fCBvYmouY2xhc3NOYW1lID09IHN0cjIpDQoJCQlyZXR1cm4gb2JqOw0KCQlvYmogPSBvYmoucGFyZW50Tm9kZTsNCgl9DQoJcmV0dXJuIG51bGw7DQp9DQoNCi8vDQovLyByZXR1cm4gdHJ1ZSBpZiB0aGlzIGl0ZW0gaXMgaGFuZGxlZCB1c2luZyBkZWZhdWx0IGhhbmRsZXJzDQovLw0KZnVuY3Rpb24gY21Jc0RlZmF1bHRJdGVtIChpdGVtKQ0Kew0KCWlmIChpdGVtID09IF9jbVNwbGl0IHx8IGl0ZW1bMF0gPT0gX2NtTm9BY3Rpb24gfHwgaXRlbVswXSA9PSBfY21Ob0NsaWNrKQ0KCQlyZXR1cm4gZmFsc2U7DQoJcmV0dXJuIHRydWU7DQp9DQoNCi8vDQovLyByZXR1cm5zIHRoZSBvYmplY3QgYmFyaW5nIHRoZSBpZA0KLy8NCmZ1bmN0aW9uIGNtR2V0T2JqZWN0IChpZCkNCnsNCglpZiAoZG9jdW1lbnQuYWxsKQ0KCQlyZXR1cm4gZG9jdW1lbnQuYWxsW2lkXTsNCglyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgKGlkKTsNCn0NCg0KLy8NCi8vIGZ1bmN0aW9ucyB0aGF0IG9idGFpbiB0aGUgd2lkdGggb2YgYW4gSFRNTCBlbGVtZW50Lg0KLy8NCmZ1bmN0aW9uIGNtR2V0V2lkdGggKG9iaikNCnsNCgl2YXIgd2lkdGggPSBvYmoub2Zmc2V0V2lkdGg7DQoJaWYgKHdpZHRoID4gMCB8fCAhY21Jc1RSTm9kZSAob2JqKSkNCgkJcmV0dXJuIHdpZHRoOw0KCWlmICghb2JqLmZpcnN0Q2hpbGQpDQoJCXJldHVybiAwOw0KCS8vIHVzZSBUQUJMRSdzIGxlbmd0aCBjYW4gY2F1c2UgYW4gZXh0cmEgcGl4ZWwgZ2FwDQoJLy9yZXR1cm4gb2JqLnBhcmVudE5vZGUucGFyZW50Tm9kZS5vZmZzZXRXaWR0aDsNCg0KCS8vIHVzZSB0aGUgbGVmdCBhbmQgcmlnaHQgY2hpbGQgaW5zdGVhZA0KCXJldHVybiBvYmoubGFzdENoaWxkLm9mZnNldExlZnQgLSBvYmouZmlyc3RDaGlsZC5vZmZzZXRMZWZ0ICsgY21HZXRXaWR0aCAob2JqLmxhc3RDaGlsZCk7DQp9DQoNCi8vDQovLyBmdW5jdGlvbnMgdGhhdCBvYnRhaW4gdGhlIGhlaWdodCBvZiBhbiBIVE1MIGVsZW1lbnQuDQovLw0KZnVuY3Rpb24gY21HZXRIZWlnaHQgKG9iaikNCnsNCgl2YXIgaGVpZ2h0ID0gb2JqLm9mZnNldEhlaWdodDsNCglpZiAoaGVpZ2h0ID4gMCB8fCAhY21Jc1RSTm9kZSAob2JqKSkNCgkJcmV0dXJuIGhlaWdodDsNCglpZiAoIW9iai5maXJzdENoaWxkKQ0KCQlyZXR1cm4gMDsNCgkvLyB1c2UgdGhlIGZpcnN0IGNoaWxkJ3MgaGVpZ2h0DQoJcmV0dXJuIG9iai5maXJzdENoaWxkLm9mZnNldEhlaWdodDsNCn0NCg0KLy8NCi8vIGZ1bmN0aW9ucyB0aGF0IG9idGFpbiB0aGUgY29vcmRpbmF0ZXMgb2YgYW4gSFRNTCBlbGVtZW50DQovLw0KZnVuY3Rpb24gY21HZXRYIChvYmopDQp7DQoJdmFyIHggPSAwOw0KDQoJZG8NCgl7DQoJCXggKz0gb2JqLm9mZnNldExlZnQ7DQoJCW9iaiA9IG9iai5vZmZzZXRQYXJlbnQ7DQoJfQ0KCXdoaWxlIChvYmopOw0KCXJldHVybiB4Ow0KfQ0KDQpmdW5jdGlvbiBjbUdldFhBdCAob2JqLCBlbG0pDQp7DQoJdmFyIHggPSAwOw0KDQoJd2hpbGUgKG9iaiAmJiBvYmogIT0gZWxtKQ0KCXsNCgkJeCArPSBvYmoub2Zmc2V0TGVmdDsNCgkJb2JqID0gb2JqLm9mZnNldFBhcmVudDsNCgl9DQoJaWYgKG9iaiA9PSBlbG0pDQoJCXJldHVybiB4Ow0KCXJldHVybiB4IC0gY21HZXRYIChlbG0pOw0KfQ0KDQpmdW5jdGlvbiBjbUdldFkgKG9iaikNCnsNCgl2YXIgeSA9IDA7DQoJZG8NCgl7DQoJCXkgKz0gb2JqLm9mZnNldFRvcDsNCgkJb2JqID0gb2JqLm9mZnNldFBhcmVudDsNCgl9DQoJd2hpbGUgKG9iaik7DQoJcmV0dXJuIHk7DQp9DQoNCmZ1bmN0aW9uIGNtSXNUUk5vZGUgKG9iaikNCnsNCgl2YXIgdGFnTmFtZSA9IG9iai50YWdOYW1lOw0KCXJldHVybiB0YWdOYW1lID09ICJUUiIgfHwgdGFnTmFtZSA9PSAidHIiIHx8IHRhZ05hbWUgPT0gIlRyIiB8fCB0YWdOYW1lID09ICJ0UiI7DQp9DQoNCi8vDQovLyBnZXQgdGhlIFkgcG9zaXRpb24gb2YgdGhlIG9iamVjdC4gIEluIGNhc2Ugb2YgVFIgZWxlbWVudCB0aG91Z2gsDQovLyB3ZSBhdHRlbXB0IHRvIGFkanVzdCB0aGUgdmFsdWUuDQovLw0KZnVuY3Rpb24gY21HZXRZQXQgKG9iaiwgZWxtKQ0Kew0KCXZhciB5ID0gMDsNCg0KCWlmICghb2JqLm9mZnNldEhlaWdodCAmJiBjbUlzVFJOb2RlIChvYmopKQ0KCXsNCgkJdmFyIGZpcnN0VFIgPSBvYmoucGFyZW50Tm9kZS5maXJzdENoaWxkOw0KCQlvYmogPSBvYmouZmlyc3RDaGlsZDsNCgkJeSAtPSBmaXJzdFRSLmZpcnN0Q2hpbGQub2Zmc2V0VG9wOw0KCX0NCg0KCXdoaWxlIChvYmogJiYgb2JqICE9IGVsbSkNCgl7DQoJCXkgKz0gb2JqLm9mZnNldFRvcDsNCgkJb2JqID0gb2JqLm9mZnNldFBhcmVudDsNCgl9DQoNCglpZiAob2JqID09IGVsbSkNCgkJcmV0dXJuIHk7DQoJcmV0dXJuIHkgLSBjbUdldFkgKGVsbSk7DQp9DQoNCi8vDQovLyBleHRyYWN0IGRlc2NyaXB0aW9uIGZyb20gdGhlIG1lbnUgaXRlbSBhbmQgc2V0IHRoZSBzdGF0dXMgdGV4dA0KLy8gQHBhcmFtCWl0ZW0JdGhlIG1lbnUgaXRlbQ0KLy8NCmZ1bmN0aW9uIGNtU2V0U3RhdHVzIChpdGVtKQ0Kew0KCXZhciBkZXNjcmlwdCA9ICcnOw0KCWlmIChpdGVtLmxlbmd0aCA+IDQpDQoJCWRlc2NyaXB0ID0gKGl0ZW1bNF0gIT0gbnVsbCkgPyBpdGVtWzRdIDogKGl0ZW1bMl0gPyBpdGVtWzJdIDogZGVzY3JpcHQpOw0KCWVsc2UgaWYgKGl0ZW0ubGVuZ3RoID4gMikNCgkJZGVzY3JpcHQgPSAoaXRlbVsyXSA\/IGl0ZW1bMl0gOiBkZXNjcmlwdCk7DQoNCgl3aW5kb3cuZGVmYXVsdFN0YXR1cyA9IGRlc2NyaXB0Ow0KfQ0KDQovLw0KLy8gZGVidWcgZnVuY3Rpb24sIGlnbm9yZSA6KQ0KLy8NCmZ1bmN0aW9uIGNtR2V0UHJvcGVydGllcyAob2JqKQ0Kew0KCWlmIChvYmogPT0gdW5kZWZpbmVkKQ0KCQlyZXR1cm4gJ3VuZGVmaW5lZCc7DQoJaWYgKG9iaiA9PSBudWxsKQ0KCQlyZXR1cm4gJ251bGwnOw0KDQoJdmFyIG1zZyA9IG9iaiArICc6XG4nOw0KCXZhciBpOw0KCWZvciAoaSBpbiBvYmopDQoJCW1zZyArPSBpICsgJyA9ICcgKyBvYmpbaV0gKyAnOyAnOw0KCXJldHVybiBtc2c7DQp9DQoNCi8qIHYxLjQuMwkJCTEuIGNoYW5nZWQgaG93IF9jbVNwbGl0IGlzIGhhbmRsZWQgYSBiaXQgc28gdGhhdCBfY21Ob0NsaWNrIGNhbiB3b3JrDQoJCQkJCQlwcm9wZXJseS4gIEFsbCBzcGxpdHMgaW4gcHJlZGVmaW5lZCB0aGVtZXMgYXJlIGNoYW5nZWQgdG8gdXNlDQoJCQkJCQlfY21Ob0NsaWNrIGluc3RlYWQgb2YgX2NtTm9BY3Rpb24uDQoqLw0KLyogdjEuNC4yCQkJMS4gZml4ZWQgX2NtTm9DbGljayBtb3VzZSBob292ZXIgYnVnLg0KCQkJCQkyLiBmaXhlZCBhIHN0YXR1c2JhciB0ZXh0IHByb2JsZW0gdGhhdCBjYXVzZSB0ZXh0IHRvIGRpc2FwcGVhciB3aGVuDQoJCQkJCQlob292ZXJpbmcgbW91c2Ugd2l0aGluIHRoZSBzYW1lIG1lbnUgaXRlbS4NCgkJCQkJMy4gY2hhbmdlZCB0aGUgYmVoYXZpb3Igb2YgY21EcmF3RnJvbVRleHQgcy50LiBpZiB0aGUgdGl0bGUgb2YgdGhlDQoJCQkJCQlvZiBhIGxpbmsgaXMgZW1wdHksIHRoZSBhY3R1YWwgdXJsIGlzIHVzZWQgYXMgdGV4dC4gIFRvIGNsZWFyDQoJCQkJCQl0aGlzIGxpbmsgaW5mb3JtYXRpb24sIHRpdGxlIG5lZWRzIHRvIGJlICcgJy4NCiovDQovKiB2MS40LjEJCQkxLiBmaXhlZCBhIHByb2JsZW0gaW50cm9kdWNlZCBpbiAxLjQgd2hlcmUgcmUtZW50ZXJpbmcgYSBtYWluIG1lbnUNCgkJCQkJCWl0ZW0gd2hpY2ggZG9lc24ndCBoYXZlIGEgY2hpbGQgY2FuIGRpc2FibGUgaXRzIGhvdmVyIHNldHRpbmcuDQoJCQkJCQlBcHBhcmVudGx5IEkgZGVsZXRlZCBhbiBleHRyYSBsaW5lIG9mIGNvZGUgd2hlbiBJIHdhcyBkb2luZw0KCQkJCQkJY2xlYW5pbmcgdXAuICBSZXBvcnRlZCBieSBEYXZpZCBNYWxpYWNoaSBhbmQgYSBmZXcgb3RoZXJzLg0KKi8NCi8qIEpTQ29va01lbnUgdjEuNAkxLiBmaXhlZCBhIG1pbm9yIHRkIGNlbGwgY2xvc3VyZSBwcm9ibGVtLiAgVGhhbmtzIHRvIEdlb3JnIExvcmVueg0KCQkJCQkgICA8Z2VvcmdAbG9udXguZGU+IGZvciBkaXNjb3ZlcmluZyB0aGF0Lg0KCQkJCQkyLiBhZGRlZCBjbGlja09wZW4gdG8gbm9kZVByb3BlcnRpZXMuICBTZWUgX2NtTm9kZVByb3BlcnRpZXMgZm9yDQoJCQkJCQlkZXNjcmlwdGlvbi4gIEJhc2ljYWxseSBtZW51cyBjYW4gYmUgb3BlbmVkIG9uIGNsaWNrIG9ubHkuDQoJCQkJCTMuIGFkZGVkIGFuIGFiaWxpdHkgdG8gZHJhdyBtZW51IGZyb20gYW4gaHRtbCBub2RlIGluc3RlYWQgb2YgYSBqYXZhc2NyaXB0DQoJCQkJCQl0cmVlLCBtYWtpbmcgdGhpcyBzY3JpcHQgc2VhcmNoIGJvdCBmcmllbmRseSAoSSBob3BlPykuDQoqLw0KLyogSlNDb29rTWVudSB2MS4zMSAxLiBmaXggYSBidWcgb24gSUUgd2l0aCBjYXVzZXMgc3VibWVudXMgdG8gZGlzcGxheSBhdCB0aGUgdG9wDQoJCQkJCSAgIGxlZnQgY29ybmVyIGR1ZSB0byBkb2N0eXBlLiAgVGhlIGZpeCB3YXMgcHJvdmlkZWQgYnkNCgkJCQkJICAgQnVydG9uIFN0cmF1c3MgPEJ1cnRvbkBudG9wc3VwcG9ydC5jb20+Lg0KKi8NCi8qIEpTQ29va01lbnUgdjEuMwkxLiBhdXRvbWF0aWNhbGx5IHJlYWxpZ24gKGxlZnQgYW5kIHJpZ2h0KSB0aGUgc3VibWVudSB3aGVuDQoJCQkJCSAgIGNsaWVudCBzcGFjZSBpcyBub3QgZW5vdWdoLg0KCQkJCQkyLiBhZGQgX2NtTm9DbGljayB0byBnZXQgcmlkIG9mIG1lbnUgY2xvc2luZyBiZWhhdmlvcg0KCQkJCQkgICBvbiB0aGUgcGFydGljdWxhciBtZW51IGl0ZW0sIHRvIG1ha2UgaXQgcG9zc2libGUgZm9yIHRoaW5ncw0KCQkJCQkgICBzdWNoIGFzIHNlYXJjaCBib3ggdG8gYmUgaW5zaWRlIHRoZSBtZW51Lg0KKi8NCi8qIEpTQ29va01lbnUgdjEuMjUJMS4gZml4IFNhZmFyaSBwb3NpdGlvbmluZyBpc3N1ZS4gIFRoZSBwcm9ibGVtIGlzIHRoYXQgYWxsIFRSIGVsZW1lbnRzIGFyZSBsb2NhdGVkDQoJCQkJCSAgIGF0IHRoZSB0b3AgbGVmdCBjb3JuZXIuICBUaHVzLCBuZWVkIHRvIG9idGFpbiB0aGUgInZpcnR1YWwiDQoJCQkJCSAgIHBvc2l0aW9uIG9mIHRoZXNlIGVsZW1lbnQgY291bGQgYmUgYXQuDQoqLw0KLyogSlNDb29rTWVudSB2MS4yNAkxLiBmaXggd2luZG93IGJhc2VkIGNvbnRyb2wgaGlkaW5nIGJ1Zw0KCQkJCQkgICB0aGFua3MgdG8gRmVsaXggWmFzbGF2c2tpeSA8ZmVsaXhAYmViaW5hcnkuY29tPiBmb3IgdGhlIGZpeC4NCiovDQovKiBKU0Nvb2tNZW51IHYxLjIzCTEuIGNvcnJlY3QgYSBwb3NpdGlvbiBidWcgd2hlbiB0aGUgY29udGFpbmVyIGlzIHBvc2l0aW9uZWQuDQoJCQkJCSAgdGhhbmtzIHRvIEFuZHJlIDxhbmRlcnNAbmV0c3BhY2UubmV0LmF1PiBmb3IgbmFycm93aW5nIGRvd24NCgkJCQkJICB0aGUgcHJvYmxlbS4NCiovDQovKiBKU0Nvb2tNZW51IHYxLjIyCTEuIGNoYW5nZSBBcnJheS5wdXNoIChvYmopIGNhbGwgdG8gQXJyYXlbbGVuZ3RoXSA9IG9iai4NCgkJCQkJICAgU3VnZ2VzdGlvbiBmcm9tIERpY2sgdmFuIGRlciBLYWFkZW4gPGRpY2tAbmV0cmV4Lm5sPiB0bw0KCQkJCQkgICBtYWtlIHRoZSBzY3JpcHQgY29tcGF0aWJsZSB3aXRoIElFIDUuMA0KCQkJCQkyLiBDaGFuZ2VkIHRoZW1lIGZpbGVzIGEgbGl0dGxlIHRvIGFkZCB6LWluZGV4OiAxMDAgZm9yIHN1Yg0KCQkJCQkgICBtZW51cy4gIFRoaXMgY2hhbmdlIGlzIG5lY2Vzc2FyeSBmb3IgTmV0c2NhcGUgdG8gYXZvaWQNCgkJCQkJICAgYSBkaXNwbGF5IHByb2JsZW0uDQoJCQkJCTMuIHNvbWUgY2hhbmdlcyB0byB0aGUgRE9NIHN0cnVjdHVyZSB0byBtYWtlIHRoaXMgbWVudSB3b3JraW5nDQoJCQkJCSAgIG9uIE5ldHNjYXBlIDYuMCAodGVzdGVkKS4gIFRoZSBtYWluIHJlYXNvbiBpcyB0aGF0IE5ONiBkb2VzDQoJCQkJCSAgIG5vdCBkbyBhYnNvbHV0ZSBwb3NpdGlvbmluZyB3aXRoIHRhYmxlcy4gIFRoZXJlZm9yZSBhbiBleHRyYQ0KCQkJCQkgICBkaXYgbGF5ZXIgbXVzdCBiZSBwdXQgYXJvdW5kIHRoZSB0YWJsZS4NCiovDQovKiBKU0Nvb2tNZW51IHYxLjIxCTEuIGZpeGVkIGEgYnVnIHRoYXQgZGlkbid0IGFkZCAncHgnIGFzIHBhcnQgb2YgY29vcmRpbmF0ZXMuDQoJCQkJCSAgIEpTQ29va01lbnUgc2hvdWxkIGJlIFhIVE1MIHZhbGlkYXRvciBmcmllbmRseSBub3cuDQoJCQkJCTIuIHJlbW92ZWQgdW5uZWNlc3NhcnkgZGlzcGxheSBhdHRyaWJ1dGUgYW5kIGNvcnJlc3BvbmRpbmcNCgkJCQkJICAgdGhlbWUgZW50cnkgdG8gZml4IGEgcHJvYmxlbSB0aGF0IE5ldHNjYXBlIHNvbWV0aW1lcw0KCQkJCQkgICByZW5kZXIgT2ZmaWNlIHRoZW1lIGluY29ycmVjdGx5DQoqLw0KLyogSlNDb29rTWVudSB2MS4yLgkxLiBmaXggdGhlIHByb2JsZW0gb2Ygc2hvd2luZyBzdGF0dXMgaW4gTmV0c2NhcGUNCgkJCQkJMi4gY2hhbmdlZCB0aGUgaGFuZGxlciBwYXJhbWV0ZXJzIGEgYml0IHRvIGFsbG93DQoJCQkJCSAgIHN0cmluZyBsaXRlcmFscyB0byBiZSBwYXNzZWQgdG8gamF2YXNjcmlwdCBiYXNlZA0KCQkJCQkgICBsaW5rcw0KCQkJCQkzLiBoYXZpbmcgbnVsbCBpbiB0YXJnZXQgZmllbGQgd291bGQgY2F1c2UgdGhlIGxpbmsNCgkJCQkJICAgdG8gYmUgb3BlbmVkIGluIHRoZSBjdXJyZW50IHdpbmRvdywgYnV0IHRoaXMgYmVoYXZpb3INCgkJCQkJICAgY291bGQgY2hhbmdlIGluIHRoZSBmdXR1cmUgcmVsZWFzZXMNCiovDQovKiBKU0Nvb2tNZW51IHYxLjEuCQlhZGRlZCBhYmlsaXR5IHRvIGhpZGUgY29udHJvbHMgaW4gSUUgdG8gc2hvdyBzdWJtZW51cyBwcm9wZXJseSAqLw0KLyogSlNDb29rTWVudSB2MS4wMS4JY21EcmF3IGdlbmVyYXRlcyBYSFRNTCBjb2RlICovDQovKiBKU0Nvb2tNZW51IHYxLjAuCQkoYykgQ29weXJpZ2h0IDIwMDIgYnkgSGVuZyBZdWFuICovDQo=",
    "size": "30902"
}