{
    "namaFile": "pages\/closingPersediaan\/closingPersediaan.php",
    "lastUpdate": "2018-09-21+14:33:00.08",
    "contentFile": "PD9waHAKCmNsYXNzIGNsb3NpbmdQZXJzZWRpYWFuT2JqICBleHRlbmRzIGNvbmZpZ0NsYXNzewogIHZhciAkUHJlZml4ID0gJ2Nsb3NpbmdQZXJzZWRpYWFuJzsKICB2YXIgJGVsQ3VyclBhZ2U9IkhhbERlZmF1bHQiOwogIHZhciAkU0hPV19DRUsgPSBUUlVFOwogIHZhciAkVGJsTmFtZSA9ICdjbG9zaW5nX3BlcnNlZGlhYW4nOyAvL2JvbnVzCiAgdmFyICRUYmxOYW1lX0hhcHVzID0gJ2Nsb3NpbmdfcGVyc2VkaWFhbic7CiAgdmFyICRNYXhGbHVzaCA9IDEwOwogIHZhciAkVGJsU3R5bGUgPSBhcnJheSggJ2tvcHRhYmxlJywgJ2NldGFrJywnY2V0YWsnKTsgLy9iZXJkYXNhciBtb2RlCiAgdmFyICRDb2xTdHlsZSA9IGFycmF5KCAnR2FyaXNEYWZ0YXInLCAnR2FyaXNDZXRhaycsJ0dhcmlzQ2V0YWsnKTsKICB2YXIgJEtleUZpZWxkcyA9IGFycmF5KCdpZCcpOwogIHZhciAkRmllbGRTdW0gPSBhcnJheSgpOy8vYXJyYXkoJ2ptbF9oYXJnYScpOwogIHZhciAkU3VtVmFsdWUgPSBhcnJheSgpOwogIHZhciAkRmllbGRTdW1fQ3AxID0gYXJyYXkoIDE0LCAxMywgMTMpOy8vYmVyZGFzYXIgbW9kZQogIHZhciAkRmllbGRTdW1fQ3AyID0gYXJyYXkoIDEsIDEsIDEpOwogIHZhciAkY2hlY2tib3hfcm93c3BhbiA9IDI7CiAgdmFyICRQYWdlVGl0bGUgPSAnQ0xPU0lORyc7CiAgdmFyICRQYWdlSWNvbiA9ICdpbWFnZXMvbWFzdGVyRGF0YV8wMS5naWYnOwogIHZhciAkcGFnZVBlckhhbCA9Jyc7CiAgdmFyICRmaWxlTmFtZUV4Y2VsPSdjbG9zaW5nUGVyc2VkaWFhbi54bHMnOwogIHZhciAkbmFtYU1vZHVsQ2V0YWs9J0NMT1NJTkcnOwogIHZhciAkQ2V0YWtfSnVkdWwgPSAnQ0xPU0lORyc7CiAgdmFyICRDZXRha19Nb2RlPTI7CiAgdmFyICRDZXRha19XSURUSCA9ICczMGNtJzsKICB2YXIgJENldGFrX090aGVySFRNTEhlYWQ7CiAgdmFyICRGb3JtTmFtZSA9ICdjbG9zaW5nUGVyc2VkaWFhbkZvcm0nOwogIHZhciAkbW9kdWwgPSAiQ0xPU0lORyI7CiAgdmFyICRqZW5pc0Zvcm0gPSAiIjsKICB2YXIgJHRhaHVuID0gIiI7CiAgdmFyICRub21vclVydXQgPSAiIjsKICB2YXIgJGplbmlzQW5nZ2FyYW4gPSAiIjsKICB2YXIgJGlkVGFoYXAgPSAiIjsKICB2YXIgJGN1cnJlbnRUYWhhcCA9ICIiOwogIHZhciAkbmFtYVRhaGFwVGVyYWtoaXIgPSAiIjsKICB2YXIgJG1hc2FUZXJha2hpciA9ICIiOwogIHZhciAkdXJ1dFRlcmFraGlyID0gIiI7CiAgdmFyICR1cnV0U2ViZWx1bW55YSA9ICIiOwogIHZhciAkamVuaXNGb3JtVGVyYWtoaXIgPSAiIjsKICB2YXIgJHVzZXJuYW1lID0gIiI7CiAgdmFyICR3YWppYlZhbGlkYXNpID0gIiI7CiAgdmFyICRzcWxWYWxpZGFzaSA9ICIiOwogIHZhciAkVGFtcGlsRmlsdGVyQ29sYXBzZSA9IDA7IC8vMAogIHZhciAkcHJvdmluc2kgPSAiIjsKICB2YXIgJGtvdGEgPSAiIjsKICB2YXIgJHBlbmdlbG9sYUJhcmFuZyA9ICIiOwogIHZhciAkcGVqYWJhdFBlbmdlbG9sYUJhcmFuZyA9ICIiOwogIHZhciAkcGVuZ3VydXNQZW5nZWxvbGFCYXJhbmcgPSAiIjsKICB2YXIgJG5pcFBlbmdlbG9sYSA9ICIiOwogIHZhciAkbmlwUGVqYWJhdCA9ICIiOwogIHZhciAkbmlwUGVuZ3VydXMgPSIiOwogIHZhciAkcHVibGljVmFyID0gIiI7CiAgdmFyICRzdHJpbmdDb25jYXRTdWJVbml0ID0gImNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpIjsKICB2YXIgJHN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAiY29uY2F0KGYsJy4nLGcsJy4nLGgsJy4nLGksJy4nLGosJy4nLGoxKSI7CiAgdmFyICRhcnJFc2Vsb24gPSBhcnJheSgKICAgIGFycmF5KCcxJywnRVNFTE9OIEknKSwKICAgIGFycmF5KCcyJywnRVNFTE9OIElJJyksCiAgICBhcnJheSgnMycsJ0VTRUxPTiBJSUknKSwKICAgIGFycmF5KCc0JywnRVNFTE9OIElWJyksCiAgICBhcnJheSgnNScsJ0VTRUxPTiBWJykKICAgICk7CgogIGZ1bmN0aW9uIHNldEZvcm1CYXJ1VFREKCl7CiAgICBnbG9iYWwgJE1haW47CiAgICAkY2JpZCA9ICRfUkVRVUVTVFskdGhpcy0+UHJlZml4LidfY2InXTsKICAgICRjZWsgPSRjYmlkWzBdOwogICAgJHRoaXMtPmZvcm1faWRwbGggPSAkY2JpZFswXTsKICAgICRrb2RlID0gZXhwbG9kZSgnICcsJHRoaXMtPmZvcm1faWRwbGgpOwogICAgJHRoaXMtPmZvcm1fZm1TVCA9IDA7CgogICAgJGR0PWFycmF5KCk7CiAgICAvLyR0aGlzLT5mb3JtX2lkcGxoID0nJzsKICAgICR0aGlzLT5mb3JtX2ZtU1QgPSAwOwogIC8vICAkZGF0X3VydXNhbj0gJF9SRVFVRVNUWydkYXRfdXJ1c2FuJ107CiAgICAkdXJ1c2FuID0gJE1haW4tPlVSVVNBTjsKICAgIGlmICgkdXJ1c2FuPT0nMCcpewogICAgICAkZHRbJ2MxJ10gPSAkX1JFUVVFU1RbJHRoaXMtPlByZWZpeC4nZm1TS1BEVXJ1c2FuJ107CiAgICAgICRkdFsnYyddID0gJF9SRVFVRVNUWyR0aGlzLT5QcmVmaXguJ2ZtU0tQREJpZGFuZyddOwogICAgICAkZHRbJ2QnXSA9ICRfUkVRVUVTVFskdGhpcy0+UHJlZml4LidmbVNLUERza3BkJ107CiAgICAgICRmbSA9ICR0aGlzLT5zZXRGb3JtNCgkZHQpOwogICAgfWVsc2V7CiAgICAgICRkdFsnYzEnXSA9ICRfUkVRVUVTVFskdGhpcy0+UHJlZml4LidjbG9zaW5nUGVyc2VkaWFhblNLUEQyZm1VUlVTQU4nXTsKICAgICAgJGR0WydjJ10gPSAkX1JFUVVFU1RbJHRoaXMtPlByZWZpeC4nY2xvc2luZ1BlcnNlZGlhYW5TS1BEMmZtU0tQRCddOwogICAgICAkZHRbJ2QnXSA9ICRfUkVRVUVTVFskdGhpcy0+UHJlZml4LidjbG9zaW5nUGVyc2VkaWFhblNLUEQyZm1VTklUJ107CiAgICAgICRkdFsnZSddID0gJF9SRVFVRVNUWyR0aGlzLT5QcmVmaXguJ2Nsb3NpbmdQZXJzZWRpYWFuU0tQRDJmbVNVQlVOSVQnXTsKICAgICAgJGR0WydlMSddID0gJF9SRVFVRVNUWyR0aGlzLT5QcmVmaXguJ2Nsb3NpbmdQZXJzZWRpYWFuU0tQRDJmbVNFS1NJJ107CiAgICAgICRmbSA9ICR0aGlzLT5zZXRGb3JtVFREKCRkdCk7CiAgICB9CiAgICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kZm1bJ2NlayddLCAnZXJyJz0+JGZtWydlcnInXSwgJ2NvbnRlbnQnPT4kZm1bJ2NvbnRlbnQnXSk7CiAgfQoKZnVuY3Rpb24gc2V0Rm9ybVRURCgkZHQsJGMxLCRjLCRkLCRlLCRlMSl7CiAgIGdsb2JhbCAkU2Vuc3VzVG1wOwogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOwogICAkanNvbiA9IFRSVUU7ICAvLyRFcnJNc2cgPSAndGVzJzsKICAgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtJzsKICAgJHRoaXMtPmZvcm1fd2lkdGggPSA3MDA7CiAgICR0aGlzLT5mb3JtX2hlaWdodCA9IDI4MDsKICAgIGlmICgkdGhpcy0+Zm9ybV9mbVNUPT0wKSB7CiAgICAkdGhpcy0+Zm9ybV9jYXB0aW9uID0gJ0JBUlUgVEFOREEgVEFOR0FOJzsKICAgICRuaXAgICA9ICcnOwogICAgfWVsc2V7CiAgICAkdGhpcy0+Zm9ybV9jYXB0aW9uID0gJ0VESVQgVEFOREEgVEFOR0FOJzsKICAgICRyZWFkb25seT0ncmVhZG9ubHknOwoKICAgIH0KICAgICAkYXJyT3JkZXIgPSBhcnJheSgKICAgICAgICAgICAgICAgICBhcnJheSgnMScsJ0tlcGFsYSBEaW5hcycpLAogICAgICAgICAgICAgYXJyYXkoJzInLCdQZW5ndXJ1cyBCYXJhbmcnKSwKICAgICAgICAgICk7CiAgJGFyciA9IGFycmF5KAogICAgICAvL2FycmF5KCdzZWxlY3RBbGwnLCdTZW11YScpLAogICAgICBhcnJheSgnc2VsZWN0S2VwYWxhIERpbmFzJywnS2VwYWxhIERpbmFzJyksCiAgICAgIGFycmF5KCdzZWxlY3RQZW5ndXJ1cyBCYXJhbmcnLCdQZW5ndXJ1cyBCYXJhbmcnKSwKICAgICAgKTsKICAgICAgLy9hbWJpbCBkYXRhIHRyZWZkaXRlcnVza2FuCiAgICAkcXVlcnkgPSAiIiA7JGNlayAuPSRxdWVyeTsKICAgICRyZXMgPSBteXNxbF9xdWVyeSgkcXVlcnkpOwogICAgJGtvZGUxPWdlbk51bWJlcigkZHRbJ2MnXSwyKTsKICAgICRrb2RlMj1nZW5OdW1iZXIoJGR0WydkJ10sMik7CiAgICAka29kZTM9Z2VuTnVtYmVyKCRkdFsnZSddLDIpOwogICAgJGtvZGU0PWdlbk51bWJlcigkZHRbJ2UxJ10sMyk7CiAgICAkbmFtYT0kZHRbJ25hbWEnXTsKICAgICRuaXA9JGR0WyduaXAnXTsKICAgICRqYWJhdGFuPSRkdFsnamFiYXRhbiddOwoKICAgICRBcnJqYnQgPSBhcnJheSgKICAgICAgICBhcnJheSgnMS4nLCJLZXBhbGEgRGluYXMiKSwKICAgICAgICBhcnJheSgnMi4nLCdQZW5ndXJ1cyBCYXJhbmcnKSwKICAgICAgICApOwoKICAgICRjMSA9ICRfUkVRVUVTVFsndXJ1c2FuJ107CiAgICAkYyA9ICRfUkVRVUVTVFsnYmlkYW5nJ107CiAgICAkZCA9ICRfUkVRVUVTVFsnc2twZCddOwogICAgJGUgPSAkX1JFUVVFU1RbJ3VuaXQnXTsKICAgICRlMSA9ICRfUkVRVUVTVFsnc3VidW5pdCddOwogICAgJGtldCA9ICRkdFsna2F0ZWdvcmlfdGFuZGF0YW5nYW4nXTsKCiAgICAkcXJ5NCA9ICJTRUxFQ1QgKiBGUk9NIHJlZl9za3BkIFdIRVJFIGMxPSckYzEnIGFuZCBjPScwMCcgQU5EIGQ9JzAwJyBBTkQgZT0nMDAnIEFORCBlMT0nMDAwJyI7Ly8kY2VrLj0kcXJ5OwogICAgJGFxcnk0ID0gbXlzcWxfcXVlcnkoJHFyeTQpOwogICAgJHF1ZXJ5YzEgPSBteXNxbF9mZXRjaF9hcnJheSgkYXFyeTQpOwoKICAgICRxcnkgPSAiU0VMRUNUICogRlJPTSByZWZfc2twZCBXSEVSRSBjMT0nJGMxJyBhbmQgYz0nJGMnIEFORCBkPScwMCcgQU5EIGU9JzAwJyBBTkQgZTE9JzAwMCciOy8vJGNlay49JHFyeTsKICAgICRhcXJ5ID0gbXlzcWxfcXVlcnkoJHFyeSk7CiAgICAkcXVlcnljID0gbXlzcWxfZmV0Y2hfYXJyYXkoJGFxcnkpOwogIC8vICAkY2VrLj0kZGF0YTsKCiAgICAkcXJ5MSA9ICJTRUxFQ1QgKiBGUk9NIHJlZl9za3BkIFdIRVJFIGMxPSckYzEnIGFuZCBjPSckYycgQU5EIGQ9JyRkJyBBTkQgZT0nMDAnIEFORCBlMT0nMDAwJyI7Ly8kY2VrLj0kcXJ5MTsKICAgICRhcXJ5MSA9IG15c3FsX3F1ZXJ5KCRxcnkxKTsKICAgICRxdWVyeWQgPSBteXNxbF9mZXRjaF9hcnJheSgkYXFyeTEpOwoKICAgICRxcnkyID0gIlNFTEVDVCAqIEZST00gcmVmX3NrcGQgV0hFUkUgYzE9JyRjMScgYW5kIGM9JyRjJyBBTkQgZD0nJGQnIEFORCBlPSckZScgQU5EIGUxPScwMDAnIjsvLyRjZWsuPSRxcnkyOwogICAgJGFxcnkyID0gbXlzcWxfcXVlcnkoJHFyeTIpOwogICAgJHF1ZXJ5ZSA9IG15c3FsX2ZldGNoX2FycmF5KCRhcXJ5Mik7CgogICAgJHFyeTMgPSAiU0VMRUNUICogRlJPTSByZWZfc2twZCBXSEVSRSBjMT0nJGMxJyBhbmQgYz0nJGMnIEFORCBkPSckZCcgQU5EIGU9JyRlJyBBTkQgZTE9JyRlMSciOyRjZWsuPSRxcnkzOwogICAgJGFxcnkzID0gbXlzcWxfcXVlcnkoJHFyeTMpOwogICAgJHF1ZXJ5ZTEgPSBteXNxbF9mZXRjaF9hcnJheSgkYXFyeTMpOwoKCiAgICAkcXVlcnlLYXRlZ29yaSA9ICJTRUxFQ1QgaWQsa2F0ZWdvcmlfdGFuZGF0YW5nYW4gRlJPTSByZWZfa2F0ZWdvcmlfdGFuZGF0YW5nYW4gd2hlcmUgaWQgPSAyMyI7CgoKICAgICRxdWVyeVBhbmdrYXQ9InNlbGVjdCBuYW1hLGNvbmNhdChuYW1hLCcgKCcsZ29sLCcvJyxydWFuZywnKScpYXMgbmFtYSBmcm9tIHJlZl9wYW5na2F0IG9yZGVyIGJ5IGdvbCxydWFuZyI7CiAgICAkcXVlcnlQYW5na2F0Mj0ic2VsZWN0IHBhbmdrYXQsY29uY2F0KHBhbmdrYXQsJyAoJyxnb2wsJy8nLHJ1YW5nLCcpJylhcyBuYW1hIGZyb20gcmVmX3RhbmRhdGFuZ2FuIHdoZXJlIHBhbmdrYXQ9JyIuJF9SRVFVRVNUWydwYW5na2F0J10uIicgYW5kIGdvbD0nIi4kX1JFUVVFU1RbJ2dvbCddLiInIGFuZCBydWFuZz0nIi4kX1JFUVVFU1RbJ3J1YW5nJ10uIiciOwogICAgJHF1ZXJ5UGFuZ2thdDI9bXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCBnb2wscnVhbmcgZnJvbSByZWZfdGFuZGF0YW5nYW4gd2hlcmUgYzE9JyRjMScgYW5kIGM9JyRjJyBhbmQgZD0nJGQnIGFuZCBlPSckZScgYW5kIGUxPSckZTEnIGFuZCBJZD0nIi4kdGhpcy0+Zm9ybV9pZHBsaC4iJyIpKTsKICAgICRjZWsuPSJzZWxlY3QgZ29sLHJ1YW5nIGZyb20gcmVmX3RhbmRhdGFuZ2FuIHdoZXJlIGMxPSckYzEnIGFuZCBjPSckYycgYW5kIGQ9JyRkJyBhbmQgZT0nJGUnIGFuZCBlMT0nJGUxJyBhbmQgSWQ9JyIuJHRoaXMtPmZvcm1faWRwbGguIiciOwogICAgICAgLy9pdGVtcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAkZGF0a2V0ZWdvcmk9InNlbGVjdCBrYXRlZ29yaV90YW5kYXRhbmdhbiBmcm9tIHJlZl9rYXRlZ29yaV90YW5kYXRhbmdhbiB3aGVyZSBrYXRlZ29yaV90YW5kYXRhbmdhbj0nIi4kZHRbJ2thdGVnb3JpX3RhbmRhdGFuZ2FuJ10uIiciOwogICAgJGNlay49InNlbGVjdCBrYXRlZ29yaV90YW5kYXRhbmdhbiBmcm9tIHJlZl9rYXRlZ29yaV90YW5kYXRhbmdhbiB3aGVyZSBrYXRlZ29yaV90YW5kYXRhbmdhbj0nIi4kZHRbJ2thdGVnb3JpX3RhbmRhdGFuZ2FuJ10uIiciOwogICAgLy8kcXJ5X2phYmF0YW4gPSAiU0VMRUNUIElkLCBuYW1hIEZST00gcmVmX2phYmF0YW4gV0hFUkUgYzE9JyRjMScgQU5EIGM9JyRjJyBBTkQgZD0nJGQnICI7CiAgICAkcXVlcnlnZWR1bmc9IiI7CiAgICAkZGF0YXBhbmdrYXQ9JHF1ZXJ5UGFuZ2thdDJbJ2dvbCddLiIvIi4kcXVlcnlQYW5na2F0MlsncnVhbmcnXTsKICAgICRkYXRjMT0kcXVlcnljMVsnYzEnXS4iLiIuJHF1ZXJ5YzFbJ25tX3NrcGQnXTsKICAgICRkYXRjPSRxdWVyeWNbJ2MnXS4iLiIuJHF1ZXJ5Y1snbm1fc2twZCddOwogICAgJGRhdGQ9JHF1ZXJ5ZFsnZCddLiIuIi4kcXVlcnlkWydubV9za3BkJ107CiAgICAkZGF0ZT0kcXVlcnllWydlJ10uIi4iLiRxdWVyeWVbJ25tX3NrcGQnXTsKICAgICRkYXRlMT0kcXVlcnllMVsnZTEnXS4iLiIuJHF1ZXJ5ZTFbJ25tX3NrcGQnXTsKICAgICRxdWVyeUthdGVnb3JpMSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJTRUxFQ1QgKiBmcm9tIHJlZl9rYXRlZ29yaV90YW5kYXRhbmdhbiB3aGVyZSBpZCA9ICcyMycgIikpOwogICAgICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KAogICAgICAnVVJVU0FOJyA9PiBhcnJheSgKICAgICAgICAgICAgJ2xhYmVsJz0+J1VSVVNBTicsCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZGMxJyBpZD0nZGMxJyB2YWx1ZT0nIi4kZGF0YzEuIicgc3R5bGU9J3dpZHRoOjUwMHB4OycgcmVhZG9ubHk+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlID0naGlkZGVuJyBuYW1lPSdjMScgaWQ9J2MxJyB2YWx1ZT0nIi4kcXVlcnljMVsnYzEnXS4iJz4KICAgICAgICAgICAgPC9kaXY+IiwKICAgICAgICAgICAgICksCgogICAgICAnYmlkYW5nJyA9PiBhcnJheSgKICAgICAgICAgICAgJ2xhYmVsJz0+J0JJREFORycsCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZGMnIGlkPSdkYycgdmFsdWU9JyIuJGRhdGMuIicgc3R5bGU9J3dpZHRoOjUwMHB4OycgcmVhZG9ubHk+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlID0naGlkZGVuJyBuYW1lPSdjJyBpZD0nYycgdmFsdWU9JyIuJHF1ZXJ5Y1snYyddLiInPgogICAgICAgICAgICA8L2Rpdj4iLAogICAgICAgICAgICAgKSwKCiAgICAgICdza3BkJyA9PiBhcnJheSgKICAgICAgICAgICAgJ2xhYmVsJz0+J1NLUEQnLAogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2RkJyBpZD0nZGQnIHZhbHVlPSciLiRkYXRkLiInIHN0eWxlPSd3aWR0aDo1MDBweDsnIHJlYWRvbmx5PgogICAgICAgICAgICA8aW5wdXQgdHlwZSA9J2hpZGRlbicgbmFtZT0nZCcgaWQ9J2QnIHZhbHVlPSciLiRxdWVyeWRbJ2QnXS4iJz4KICAgICAgICAgICAgPC9kaXY+IiwKICAgICAgICAgICAgICksCiAgICAgICd1bml0JyA9PiBhcnJheSgKICAgICAgICAgICAgJ2xhYmVsJz0+J1VOSVQnLAogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2RlJyBpZD0nZGUnIHZhbHVlPSciLiRkYXRlLiInIHN0eWxlPSd3aWR0aDo1MDBweDsnIHJlYWRvbmx5PgogICAgICAgICAgICA8aW5wdXQgdHlwZSA9J2hpZGRlbicgbmFtZT0nZScgaWQ9J2UnIHZhbHVlPSciLiRxdWVyeWVbJ2UnXS4iJz4KICAgICAgICAgICAgPC9kaXY+IiwKICAgICAgICAgICAgICksCiAgICAgICdzdWJ1bml0JyA9PiBhcnJheSgKICAgICAgICAgICAgJ2xhYmVsJz0+J1NVQlVOSVQnLAogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2RlMScgaWQ9J2RlMScgdmFsdWU9JyIuJGRhdGUxLiInIHN0eWxlPSd3aWR0aDo1MDBweDsnIHJlYWRvbmx5PgogICAgICAgICAgICA8aW5wdXQgdHlwZSA9J2hpZGRlbicgbmFtZT0nZTEnIGlkPSdlMScgdmFsdWU9JyIuJHF1ZXJ5ZTFbJ2UxJ10uIic+CiAgICAgICAgICAgIDwvZGl2PiIsCiAgICAgICAgICAgICApLAogICAgICAna2F0ZWdvcmknID0+IGFycmF5KAogICAgICAgICAgICAnbGFiZWwnPT4nS0FURUdPUkknLAogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICAgICAgJ3ZhbHVlJz0+IjxpbnB1dCB0eXBlPSd0ZXh0JyBzdHlsZT0nd2lkdGg6IDI1MHB4OycgcmVhZG9ubHk9J3JlYWRvbmx5JyBpZD0na2F0ZWdvcmknIG5hbWU9J2thdGVnb3JpJyB2YWx1ZT0nIi4kcXVlcnlLYXRlZ29yaTFba2F0ZWdvcmlfdGFuZGF0YW5nYW5dLiInICA+IiwKCgogICAgICAgICAgICAgKSwKICAgIC8vICBjbWJRdWVyeSgnZm1KYWJhdGFuJywkZHRbJ2phYmF0YW4nXSwkcXVlcnlKYWJhdGFuLCcnLCctLS0tLS0tLSBQaWxpaCAtLS0tLS0tLScpCiAgICAgICduYW1hcGVnYXdhaScgPT4gYXJyYXkoCiAgICAgICAgICAgICdsYWJlbCc9PidOQU1BJywKICAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSduYW1hcGVnYXdhaScgaWQ9J25hbWFwZWdhd2FpJyB2YWx1ZT0nIi4kZHRbJ25hbWEnXS4iJyBzdHlsZT0nd2lkdGg6NTAwcHg7Jz4KCiAgICAgICAgICAgIDwvZGl2PiIsCiAgICAgICAgICAgICApLAogICAgICAnbmlwcGVnYXdhaScgPT4gYXJyYXkoCiAgICAgICAgICAgICdsYWJlbCc9PidOSVAnLAogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjE3MCwKICAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J25pcHBlZ2F3YWknIGlkPSduaXBwZWdhd2FpJyB2YWx1ZT0nIi4kZHRbJ25pcCddLiInIHN0eWxlPSd3aWR0aDoyNTBweDsnPgoKICAgICAgICAgICAgPC9kaXY+IiwKICAgICAgICAgICAgICksCgoKCiAgICAgICdwYW5na2F0JyA9PiBhcnJheSgKICAgICAgICAgICAgJ2xhYmVsJz0+J1BBTkdLQVQvIEdPTC8gUlVBTkcuJywKICAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICAgICAgICd2YWx1ZSc9PgogICAgICAgICAgICAiPGRpdiBpZD0nY29udF9nZCc+Ii5jbWJRdWVyeSgncGFuZ2thdGFraGlyJywkX1JFUVVFU1RbJ3BhbmdrYXQnXSwkcXVlcnlQYW5na2F0LCdzdHlsZT0id2lkdGg6MjUwcHg7Im9uY2hhbmdlPSInLiR0aGlzLT5QcmVmaXguJy5waWxpaFBhbmdrYXQoKSInLCctLVBJTElILS0nKS4iJm5ic3AmbmJzcCIuIjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdnb2xhbmdfYWtoaXInIHN0eWxlPSd3aWR0aDo0MHB4OycgaWQ9J2dvbGFuZ19ha2hpcicgc2l6ZT0xIHZhbHVlPSciLiRkYXRhcGFuZ2thdC4iJyByZWFkb25seT4KCiAgICAgICAgICAgIDwvZGl2PiIsCiAgICAgICAgICAgICApLAoKICAgICAgJ2phYmF0YW4nID0+IGFycmF5KAogICAgICAgICAgICAnbGFiZWwnPT4nSkFCQVRBTicsCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0namFiYXRhbicgaWQ9J2phYmF0YW4nIHZhbHVlPSciLiRkdFsnamFiYXRhbiddLiInIHN0eWxlPSd3aWR0aDozMDBweDsnPgoKICAgICAgICAgICAgPC9kaXY+IiwKICAgICAgICAgICAgICksCgoKICAgICAgJ2VzZWxvbicgPT4gYXJyYXkoCiAgICAgICAgICAgICdsYWJlbCc9PidFU0VMT04nLAogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICAgICAgJ3ZhbHVlJz0+Y21iQXJyYXkoJ2VzZWxvbl9ha2hpcicsJF9SRVFVRVNUWydlc2Vsb24nXSwkdGhpcy0+YXJyRXNlbG9uLCctLVBJTElILS0nLCdzdHlsZT13aWR0aDoxMDBweDsnKSwKICAgICAgICAgIC8vICAndmFsdWUnPT5jbWJBcnJheSgnc3RhdHVzJywkZHRbJ3N0YXR1cyddLCR0aGlzLT5zdFN0YXR1cywnLS1QSUxJSCBTdGF0dXMtLScsJycpLAogICAgICAgICAgICApLAoKICAgICAgKTsKICAgIC8vdG9tYm9sCiAgICAkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nSWRfc2twZCcgaWQ9J0lkX3NrcGQnICB2YWx1ZT0nIi4kSWQuIic+Ii4KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdTaW1wYW4nIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5TaW1wYW5UVEQoKScgdGl0bGU9J1NpbXBhbicgPiIuCiAgICAgICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nQmF0YWwnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5DbG9zZSgpJyA+IjsKCiAgICAkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtKCk7CiAgICAkY29udGVudCA9ICRmb3JtOy8vJGNvbnRlbnQgPSAnY29udGVudCc7CiAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOwogIH0KCmZ1bmN0aW9uIHNpbXBhblRURCgpewogICBnbG9iYWwgJEhUVFBfQ09PS0lFX1ZBUlM7CiAgIGdsb2JhbCAkTWFpbjsKCiAgICR1aWQgPSAkSFRUUF9DT09LSUVfVkFSU1snY29JRCddOwogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOwogIC8vZ2V0IGRhdGEgLS0tLS0tLS0tLS0tLS0tLS0KICAgJGZtU1QgPSAkX1JFUVVFU1RbJHRoaXMtPlByZWZpeC4nX2ZtU1QnXTsKICAgJGlkcGxoID0gJF9SRVFVRVNUWyR0aGlzLT5QcmVmaXguJ19pZHBsaCddOwogICAka29kZTE9ICRfUkVRVUVTVFsnYzEnXTsKICAgJGtvZGUyPSAkX1JFUVVFU1RbJ2MnXTsKICAgJGtvZGUzPSAkX1JFUVVFU1RbJ2QnXTsKICAgJGtvZGU0PSAkX1JFUVVFU1RbJ2UnXTsKICAgJGtvZGU1PSAkX1JFUVVFU1RbJ2UxJ107CiAgICRuYW1hcGVnYXdhaT0gJF9SRVFVRVNUWyduYW1hcGVnYXdhaSddOwogICAkbmlwcGVnYXdhaT0gJF9SRVFVRVNUWyduaXBwZWdhd2FpJ107CgogICAkcDE9ICRfUkVRVUVTVFsncGFuZ2thdGFraGlyJ107CgogICAkZ29sYW5nX2FraGlyPSAkX1JFUVVFU1RbJ2dvbGFuZ19ha2hpciddOwogICAkZ29sb25nYW4gPSBleHBsb2RlKCIvIiwgJGdvbGFuZ19ha2hpcik7CiAgICRqYWJhdGFuPSAkX1JFUVVFU1RbJ2phYmF0YW4nXTsKICAgJGVzZWxvbj0gJF9SRVFVRVNUWydlc2Vsb25fYWtoaXInXTsKICAgJGthdGVnb3JpPSAkX1JFUVVFU1RbJ2thdGVnb3JpJ107CgoKICAkb2xkeT1teXNxbF9mZXRjaF9hcnJheSgKICAgIG15c3FsX3F1ZXJ5KAogICAgICAic2VsZWN0IGNvdW50KCopIGFzIGNudCBmcm9tIHJlZl90YW5kYXRhbmdhbiB3aGVyZSBuaXA9JyRuaXBwZWdhd2FpJyIKICAgICkpOwogICBpZiggJGVycj09JycgJiYgJG5hbWFwZWdhd2FpID09JycgKSAkZXJyPSAnTkFNQSBQRUdBV0FJIEJlbHVtIERpIElzaSAhISc7CiAgIGlmKCAkZXJyPT0nJyAmJiAkbmlwcGVnYXdhaSA9PScnICkgJGVycj0gJ05JUCBCZWx1bSBEaSBJc2kgISEnOwogICBpZiggJGVycj09JycgJiYgJHAxID09JycgKSAkZXJyPSAnUEFOR0tBVC8gR09MLyBSVUFORyBCZWx1bSBEaSBQaWxpaCAhISc7CiAgIGlmKCAkZXJyPT0nJyAmJiAkamFiYXRhbiA9PScnICkgJGVycj0gJ0pBQkFUQU4gQmVsdW0gRGkgSXNpICEhJzsKICAgaWYoICRlcnI9PScnICYmICRrYXRlZ29yaSA9PScnICkgJGVycj0gJ0thdGVnb3JpIEJlbHVtIERpIFBpbGloICEhJzsKCiAgICAgIGlmKCRmbVNUID09IDApewogICAgICBpZigkZXJyPT0nJyAmJiAkb2xkeVsnY250J10+MCkgJGVycj0iTklQICckbmlwcGVnYXdhaScgU3VkYWggQWRhIjsKICAgICAgICBpZigkZXJyPT0nJyl7CgogICAgICAgICAgJGFxcnkgPSAiSU5TRVJUIGludG8gcmVmX3RhbmRhdGFuZ2FuIChjMSxjLGQsZSxlMSxuYW1hLG5pcCxqYWJhdGFuLHBhbmdrYXQsZ29sLHJ1YW5nLGVzZWxvbixrYXRlZ29yaV90YW5kYXRhbmdhbikgdmFsdWVzKCcka29kZTEnLCcka29kZTInLCcka29kZTMnLCcka29kZTQnLCcka29kZTUnLCckbmFtYXBlZ2F3YWknLCckbmlwcGVnYXdhaScsJyRqYWJhdGFuJywnJHAxJywnJGdvbG9uZ2FuWzBdJywnJGdvbG9uZ2FuWzFdJywnJGVzZWxvbicsJzIzJykiOyAgJGNlayAuPSAkYXFyeTsKICAgICAgICAgICRxcnkgPSBteXNxbF9xdWVyeSgkYXFyeSk7CgogICAgICAgICAgJGNvbnRlbnQgPSBhcnJheSgnY29tYm90dGQnID0+IGNtYlF1ZXJ5KCd0dGQnLCRkLCJTRUxFQ1QgSWQsIG5hbWEgZnJvbSByZWZfdGFuZGF0YW5nYW4gd2hlcmUga2F0ZWdvcmlfdGFuZGF0YW5nYW4gPSAyMyBhbmQgYzEgPSAnIi4kX1JFUVVFU1RbYzFdLiInIGFuZCBjID0gJyIuJF9SRVFVRVNUW2NdLiInIGFuZCBkID0gJyIuJF9SRVFVRVNUW2RdLiInIGFuZCBlID0gJyIuJF9SRVFVRVNUW2VdLiInIGFuZCBlMSA9ICciLiRfUkVRVUVTVFtlMV0uIicgIiwnb25jaGFuZ2U9cmthLnJlZnJlc2hMaXN0KHRydWUpOycsJy0tIFRURCAtLScpKTsKICAgICAgICB9CiAgICAgIH1lbHNlewogICAgICAgIGlmKCRlcnI9PScnKXsKICAgICAgICAkYXFyeSA9ICJVUERBVEUgcmVmX3RhbmRhdGFuZ2FuIFNFVCBuYW1hPSckbmFtYXBlZ2F3YWknLCBuaXA9JyRuaXBwZWdhd2FpJywgamFiYXRhbj0nJGphYmF0YW4nICxwYW5na2F0PSckcDEnLCBnb2w9JyRnb2xvbmdhblswXScgLHJ1YW5nPSckZ29sb25nYW5bMV0nLGVzZWxvbj0nJGVzZWxvbicgLGthdGVnb3JpX3RhbmRhdGFuZ2FuPScka2F0ZWdvcmknIFdIRVJFIElkPSciLiRpZHBsaC4iJyI7ICAkY2VrIC49ICRhcXJ5OwogICAgICAgICAgICAkcXJ5ID0gbXlzcWxfcXVlcnkoJGFxcnkpIG9yIGRpZShteXNxbF9lcnJvcigpKTsKICAgICAgICAgIH0KICAgICAgfSAvL2VuZCBlbHNlCgogICAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOwogICAgfQoKICBmdW5jdGlvbiBzZXRUaXRsZSgpewogICAgcmV0dXJuICdDTE9TSU5HJzsKICB9CiAgZnVuY3Rpb24gc2V0TWVudVZpZXcoKXsKICAgIHJldHVybgogICAgICAvLyAiPHRkPiIuZ2VuUGFuZWxJY29uKCJqYXZhc2NyaXB0OiIuJHRoaXMtPlByZWZpeC4iLkxhcG9yYW4oKSIsInByaW50X2YyLnBuZyIsJ0xhcG9yYW4nLCJMYXBvcmFuIikuIjwvdGQ+IjsKICAgICAgIiI7CiAgfQogIGZ1bmN0aW9uIHNldE1lbnVFZGl0KCl7CgogICAgJGxpc3RNZW51ID0KCQkJCQkiPHRkPiIuZ2VuUGFuZWxJY29uKCJqYXZhc2NyaXB0OiIuJHRoaXMtPlByZWZpeC4iLkNsb3NpbmcoKSIsImludmFsaWQucG5nIiwiQ2xvc2luZyAiLCAnQ2xvc2luZyAnKS4iPC90ZD4iLgogICAgICAgICAgIjx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5IYXB1cygpIiwiZGVsZXRlX2YyLnBuZyIsIkJhdGFsIiwgJ0JhdGFsJykuIjwvdGQ+Ii4KICAgICAgICAgICI8dGQ+Ii5nZW5QYW5lbEljb24oImphdmFzY3JpcHQ6Ii4kdGhpcy0+UHJlZml4LiIuVHV0dXBCdWt1KCkiLCIuLi8uLi9wZXJlbmNhbmFhbl9pY28ucG5nIiwiVHV0dXAiLCAnVHV0dXAnKS4iPC90ZD4iCiAgICAgICAgICA7CiAgICByZXR1cm4gJGxpc3RNZW51IDsKICB9CgoKICBmdW5jdGlvbiBzZXRfc2VsZWN0b3Jfb3RoZXIyKCR0aXBlKXsKICAgZ2xvYmFsICRNYWluOwogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOwoKICAgcmV0dXJuIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQsICdqc29uJz0+JGpzb24pOwogIH0KCiAgZnVuY3Rpb24gc2V0X3NlbGVjdG9yX290aGVyKCR0aXBlKXsKICAgZ2xvYmFsICRNYWluOwogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOwoKICAgIHN3aXRjaCgkdGlwZSl7CgogICAgICBjYXNlICdleGVjdXRlQ2xvc2luZyc6ewogICAgICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewogICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgICAgIH0KICAgICAgICAkZXhwbG9kZUtvZGVTS1BEID0gZXhwbG9kZSgiLiIsJGtvZGVTS1BEKTsKICAgICAgICBpZihzaXplb2YoJGV4cGxvZGVLb2RlU0tQRCkgPT0gNSl7CiAgICAgICAgICAka29kZVNLUEQgPSAkYzEuIi4iLiRjLiIuIi4kZC4iLiIuJGUuIi4iLiRlMTsKICAgICAgICAgICRrb25kaXNpU0tQRCA9ICIgYW5kIGMxID0gJyIuJGV4cGxvZGVLb2RlU0tQRFswXS4iJyBhbmQgYyA9ICciLiRleHBsb2RlS29kZVNLUERbMV0uIicgYW5kIGQgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzJdLiInIGFuZCBlID0gJyIuJGV4cGxvZGVLb2RlU0tQRFszXS4iJyBhbmQgZTEgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzRdLiInICAiOwogICAgICAgIH1lbHNlaWYoc2l6ZW9mKCRleHBsb2RlS29kZVNLUEQpID09IDQpewogICAgICAgICAgJGtvZGVTS1BEID0gJGMxLiIuIi4kYy4iLiIuJGQuIi4iLiRlOwogICAgICAgICAgJGtvbmRpc2lTS1BEID0gIiBhbmQgYzEgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzBdLiInIGFuZCBjID0gJyIuJGV4cGxvZGVLb2RlU0tQRFsxXS4iJyBhbmQgZCA9ICciLiRleHBsb2RlS29kZVNLUERbMl0uIicgYW5kIGUgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzNdLiInICAiOwogICAgICAgIH1lbHNlaWYoc2l6ZW9mKCRleHBsb2RlS29kZVNLUEQpID09IDMpewogICAgICAgICAgJGtvZGVTS1BEID0gJGMxLiIuIi4kYy4iLiIuJGQ7CiAgICAgICAgICAka29uZGlzaVNLUEQgPSAiIGFuZCBjMSA9ICciLiRleHBsb2RlS29kZVNLUERbMF0uIicgYW5kIGMgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzFdLiInIGFuZCBkID0gJyIuJGV4cGxvZGVLb2RlU0tQRFsyXS4iJyAgIjsKICAgICAgICB9ZWxzZWlmKHNpemVvZigkZXhwbG9kZUtvZGVTS1BEKSA9PSAyKXsKICAgICAgICAgICRrb2RlU0tQRCA9ICRjMS4iLiIuJGM7CiAgICAgICAgICAka29uZGlzaVNLUEQgPSAiIGFuZCBjMSA9ICciLiRleHBsb2RlS29kZVNLUERbMF0uIicgYW5kIGMgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzFdLiInICAiOwogICAgICAgIH1lbHNlaWYoc2l6ZW9mKCRleHBsb2RlS29kZVNLUEQpID09IDEpewogICAgICAgICAgJGtvZGVTS1BEID0gJGMxOwogICAgICAgICAgJGtvbmRpc2lTS1BEID0gIiBhbmQgYzEgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzBdLiInICI7CiAgICAgICAgfQogICAgICAgIGlmKGVtcHR5KCRmaWx0ZXJQZXJpb2RlKSkkZXJyID0gIlBpbGloIHNlbWVzdGVyIjsKICAgICAgICBpZihlbXB0eSgkZXJyKSl7CiAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRlbXBfY2hlY2tfYmFyYW5nX2t1cmFuZyB3aGVyZSB1c2VybmFtZT0nJHRoaXMtPnVzZXJuYW1lJyIpOwogICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0ZW1wX2NoZWNrX2JhcmFuZ190YW1iYWggd2hlcmUgdXNlcm5hbWU9JyR0aGlzLT51c2VybmFtZSciKTsKICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY2hlY2tfYmFyYW5nX3BlcnNlZGlhYW4gd2hlcmUgdXNlcm5hbWU9JyR0aGlzLT51c2VybmFtZSciKTsKICAgICAgICAgIC8vICRlcnIgPSAkdGhpcy0+Y2hlY2tGaWZvKCRrb25kaXNpU0tQRCwgJGZpbHRlclBlcmlvZGUpOwogICAgICAgICAgaWYoZW1wdHkoJGVycikpewogICAgICAgICAgICBpZigkZmlsdGVyUGVyaW9kZSA9PSAiMSIpewogICAgICAgICAgICAgIGlmKCR0aGlzLT5zcWxOdW1Sb3coJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEIGFuZCB0YWh1bl9hbmdnYXJhbiA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0nMSciKSkgPT0gMCl7CiAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEIGFuZCB0YWh1bl9hbmdnYXJhbiA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0nMScgIik7CiAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEIGFuZCB0YWh1bl9hbmdnYXJhbiA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0nMiciKTsKICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY2xvc2luZ19wZXJzZWRpYWFuIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgYW5kIHRhaHVuX2FuZ2dhcmFuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSczJyIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAiMiIpewogICAgICAgICAgICAgIGlmKCR0aGlzLT5zcWxOdW1Sb3coJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEIGFuZCB0YWh1bl9hbmdnYXJhbiA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0nMiciKSkgPT0gMCl7CiAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEIGFuZCB0YWh1bl9hbmdnYXJhbiA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0nMiciKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gIjMiKXsKICAgICAgICAgICAgICBpZigkdGhpcy0+c3FsTnVtUm93KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjbG9zaW5nX3BlcnNlZGlhYW4gd2hlcmUgMT0xICRrb25kaXNpU0tQRCBhbmQgdGFodW5fYW5nZ2FyYW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9JzMnIikpID09IDApewogICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBjbG9zaW5nX3BlcnNlZGlhYW4gd2hlcmUgMT0xICRrb25kaXNpU0tQRCBhbmQgdGFodW5fYW5nZ2FyYW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9JzMnIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAkY29udGVudCA9IGFycmF5KCdqdW1sYWhEYXRhJyA9PiAkanVtbGFoRGF0YSwgJ2RhdGFIaXR1bmcnID0+IGpzb25fZW5jb2RlKCRhcnJheUlESGl0dW5nKSApOwoKICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgY2FzZSAnZXhlY3V0ZVR1dHVwQnVrdSc6ewogICAgICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewogICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgICAgIH0KICAgICAgICAkZXhwbG9kZUtvZGVTS1BEID0gZXhwbG9kZSgiLiIsJGtvZGVTS1BEKTsKICAgICAgICBpZihzaXplb2YoJGV4cGxvZGVLb2RlU0tQRCkgPT0gNSl7CiAgICAgICAgICAka29kZVNLUEQgPSAkYzEuIi4iLiRjLiIuIi4kZC4iLiIuJGUuIi4iLiRlMTsKICAgICAgICAgICRrb25kaXNpU0tQRCA9ICIgYW5kIGMxID0gJyIuJGV4cGxvZGVLb2RlU0tQRFswXS4iJyBhbmQgYyA9ICciLiRleHBsb2RlS29kZVNLUERbMV0uIicgYW5kIGQgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzJdLiInIGFuZCBlID0gJyIuJGV4cGxvZGVLb2RlU0tQRFszXS4iJyBhbmQgZTEgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzRdLiInICAiOwogICAgICAgIH1lbHNlaWYoc2l6ZW9mKCRleHBsb2RlS29kZVNLUEQpID09IDQpewogICAgICAgICAgJGtvZGVTS1BEID0gJGMxLiIuIi4kYy4iLiIuJGQuIi4iLiRlOwogICAgICAgICAgJGtvbmRpc2lTS1BEID0gIiBhbmQgYzEgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzBdLiInIGFuZCBjID0gJyIuJGV4cGxvZGVLb2RlU0tQRFsxXS4iJyBhbmQgZCA9ICciLiRleHBsb2RlS29kZVNLUERbMl0uIicgYW5kIGUgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzNdLiInICAiOwogICAgICAgIH1lbHNlaWYoc2l6ZW9mKCRleHBsb2RlS29kZVNLUEQpID09IDMpewogICAgICAgICAgJGtvZGVTS1BEID0gJGMxLiIuIi4kYy4iLiIuJGQ7CiAgICAgICAgICAka29uZGlzaVNLUEQgPSAiIGFuZCBjMSA9ICciLiRleHBsb2RlS29kZVNLUERbMF0uIicgYW5kIGMgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzFdLiInIGFuZCBkID0gJyIuJGV4cGxvZGVLb2RlU0tQRFsyXS4iJyAgIjsKICAgICAgICB9ZWxzZWlmKHNpemVvZigkZXhwbG9kZUtvZGVTS1BEKSA9PSAyKXsKICAgICAgICAgICRrb2RlU0tQRCA9ICRjMS4iLiIuJGM7CiAgICAgICAgICAka29uZGlzaVNLUEQgPSAiIGFuZCBjMSA9ICciLiRleHBsb2RlS29kZVNLUERbMF0uIicgYW5kIGMgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzFdLiInICAiOwogICAgICAgIH1lbHNlaWYoc2l6ZW9mKCRleHBsb2RlS29kZVNLUEQpID09IDEpewogICAgICAgICAgJGtvZGVTS1BEID0gJGMxOwogICAgICAgICAgJGtvbmRpc2lTS1BEID0gIiBhbmQgYzEgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzBdLiInICI7CiAgICAgICAgfQogICAgICAgIGlmKGVtcHR5KCRlcnIpKXsKICAgICAgICAgICRnZXRLb25kaXNpRXhjZXB0ID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHR1dHVwX2J1a3VfcGVyc2VkaWFhbiB3aGVyZSB0YWh1bl9hbmdnYXJhbiA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgJGtvbmRpc2lTS1BEICIpOwogICAgICAgICAgd2hpbGUgKCRkYXRhRXhjZXB0ID0gJHRoaXMtPnNxbEFycmF5KCRnZXRLb25kaXNpRXhjZXB0KSkgewogICAgICAgICAgICAkYXJyYXlEYXRhRXhjZXB0W109ICInIi4kZGF0YUV4Y2VwdFsnYzEnXS4iLiIuJGRhdGFFeGNlcHRbJ2MnXS4iLiIuJGRhdGFFeGNlcHRbJ2QnXS4iLiIuJGRhdGFFeGNlcHRbJ2UnXS4iLiIuJGRhdGFFeGNlcHRbJ2UxJ10uIiciOwogICAgICAgICAgfQogICAgICAgICAgaWYoc2l6ZW9mKCRhcnJheURhdGFFeGNlcHQpICE9IDApewogICAgICAgICAgICAka29uZGlzaUV4Y2VwdFR1dHVwQnVrdSA9ICIgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0IG5vdCBpbiAoIi5pbXBsb2RlKCIsIiwkYXJyYXlEYXRhRXhjZXB0KS4iKSAiOwogICAgICAgICAgfQogICAgICAgICAgaWYoZW1wdHkoJGVycikpewogICAgICAgICAgICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEIGFuZCBlMSAhPScwMDAnICRrb25kaXNpRXhjZXB0VHV0dXBCdWt1ICIpOwogICAgICAgICAgICAgIHdoaWxlICgkZGF0YVNLUEQgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFTS1BEKSkgewogICAgICAgICAgICAgICAgICAkY29uY2F0U0tQRCA9ICRkYXRhU0tQRFsnYzEnXS4iLiIuJGRhdGFTS1BEWydjJ10uIi4iLiRkYXRhU0tQRFsnZCddLiIuIi4kZGF0YVNLUERbJ2UnXS4iLiIuJGRhdGFTS1BEWydlMSddOwogICAgICAgICAgICAgICAgICBpZigkdGhpcy0+c3FsTnVtUm93KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjbG9zaW5nX3BlcnNlZGlhYW4gd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGNvbmNhdFNLUEQnIGFuZCB0YWh1bl9hbmdnYXJhbiA9JyR0aGlzLT50YWh1bkFuZ2dhcmFuJyAiKSkgIT0gMil7CiAgICAgICAgICAgICAgICAgICAgJGFycmF5U0tQRE5vdENsb3NpbmdbXSA9ICJTS1BEICIuJGNvbmNhdFNLUEQgOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmKHNpemVvZigkYXJyYXlTS1BETm90Q2xvc2luZykgIT0gMCl7CiAgICAgICAgICAgICAgICBmb3IgKCRpPTA7ICRpIDwgc2l6ZW9mKCRhcnJheVNLUEROb3RDbG9zaW5nKSA7ICRpKyspIHsKICAgICAgICAgICAgICAgICAgJGxvZ0Nsb3NpbmcgLj0gJGFycmF5U0tQRE5vdENsb3NpbmdbJGldLiIgQmVsdW0gZGkgY2xvc2luZyAhISEgICBcbiI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkZXJyID0gIkFkYSBkYXRhIHlhbmcgYmVsdW0gZGkgY2xvc2luZyAhIjsKICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIC8vICRlcnIgPSAiRGF0YSBzdWRhaCBkaSB0dXR1cCBidWt1ICEiLiJzZWxlY3QgKiBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICckY29uY2F0U0tQRCcgYW5kIHRhaHVuX2FuZ2dhcmFuID0nJHRoaXMtPnRhaHVuQW5nZ2FyYW4nICI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgJGNvbnRlbnQgPSBhcnJheSgKICAgICAgICAgICdqdW1sYWhEYXRhJyA9PiAkanVtbGFoRGF0YSwKICAgICAgICAgICdkYXRhSGl0dW5nJyA9PiBqc29uX2VuY29kZSgkYXJyYXlJREhpdHVuZykgLAogICAgICAgICAgJ2xvZ0Nsb3NpbmcnID0+JGxvZ0Nsb3NpbmcgLAogICAgICAgICk7CgogICAgICBicmVhazsKICAgICAgfQogICAgICBjYXNlICdleGVjdXRlQ291bnRBbmRDbG9zZSc6ewogICAgICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewogICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgICAgIH0KICAgICAgICBpZihlbXB0eSgkZmlsdGVyUGVyaW9kZSkpJGVyciA9ICJQaWxpaCBzZW1lc3RlciI7CiAgICAgICAgaWYoZW1wdHkoJGVycikpewogICAgICAgICAgJGFycmF5RGF0YVBvc3QgPSBqc29uX2RlY29kZSgkYXJyYXlLb2RlU0tQRCk7CiAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRlbXBfY2hlY2tfYmFyYW5nX2t1cmFuZyB3aGVyZSB1c2VybmFtZT0nJHRoaXMtPnVzZXJuYW1lJyIpOwogICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0ZW1wX2NoZWNrX2JhcmFuZ190YW1iYWggd2hlcmUgdXNlcm5hbWU9JyR0aGlzLT51c2VybmFtZSciKTsKICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY2hlY2tfYmFyYW5nX3BlcnNlZGlhYW4gd2hlcmUgdXNlcm5hbWU9JyR0aGlzLT51c2VybmFtZSciKTsKICAgICAgICAgICRlcnIgPSAkdGhpcy0+Y2hlY2tGaWZvKCRhcnJheURhdGFQb3N0WyRub21vckluZGV4IC0gMSBdLCAkZmlsdGVyUGVyaW9kZSk7CiAgICAgICAgfQoKICAgICAgICAkY29udGVudCA9IGFycmF5KAogICAgICAgICAgJ2p1bWxhaERhdGEnID0+ICRqdW1sYWhEYXRhLAogICAgICAgICAgJ2RhdGFIaXR1bmcnID0+IGpzb25fZW5jb2RlKCRhcnJheUlESGl0dW5nKSwKICAgICAgICAgICdsb2dDaGVjaycgPT4gICJDaGVjayBiYXJhbmcgZGkgc2twZCAiLiAkYXJyYXlEYXRhUG9zdFskbm9tb3JJbmRleCAtIDEgXSwKICAgICAgICAgKTsKCiAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGNhc2UgJ3Byb3Nlc1NldFNhbGRvQXdhbCc6ewogICAgICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewogICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgICAgIH0KICAgICAgICAkbG9nQ2xvc2luZyA9ICAkdGhpcy0+Y2xvc2luZ1NlbWVzdGVyMSgka29kZVNLUEQsJGtvZGVCYXJhbmcpOwogICAgICAgICRzdGF0dXNTZWxlc2FpID0gIkJlbG9tIjsKICAgICAgICBpZigkbm9tb3JCYXJhbmcgPT0gJHRvdGFsQmFyYW5nKXsKICAgICAgICAgICRzdGF0dXNTZWxlc2FpID0gInNlbGVzYWkiOwogICAgICAgIH0KICAgICAgICAkY29udGVudCA9IGFycmF5KAogICAgICAgICAgImxvZ0Nsb3NpbmciID0+ICRsb2dDbG9zaW5nLAogICAgICAgICAgInN0YXR1c1NlbGVzYWkiID0+ICRzdGF0dXNTZWxlc2FpLAogICAgICAgICk7CiAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGNhc2UgJ3Byb3Nlc1NldFNhbGRvQXdhbFRhaHVuRGVwYW4nOnsKICAgICAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgICAgICAkJGtleSA9ICR2YWx1ZTsKICAgICAgICB9CiAgICAgICAgJGxvZ0Nsb3NpbmcgPSAgJHRoaXMtPnNldFNhbGRvQXdhbFRhaHVuYW4oJGtvZGVTS1BELCRrb2RlQmFyYW5nKTsKICAgICAgICAkc3RhdHVzU2VsZXNhaSA9ICJCZWxvbSI7CiAgICAgICAgaWYoJG5vbW9yQmFyYW5nID09ICR0b3RhbEJhcmFuZyl7CiAgICAgICAgICAkc3RhdHVzU2VsZXNhaSA9ICJzZWxlc2FpIjsKICAgICAgICB9CiAgICAgICAgJGNvbnRlbnQgPSBhcnJheSgKICAgICAgICAgICJsb2dDbG9zaW5nIiA9PiAkbG9nQ2xvc2luZywKICAgICAgICAgICJzdGF0dXNTZWxlc2FpIiA9PiAkc3RhdHVzU2VsZXNhaSwKICAgICAgICApOwogICAgICBicmVhazsKICAgICAgfQogICAgICBjYXNlICdwcm9zZXNTZXRTYWxkb0F3YWxDb3VudCc6ewogICAgICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewogICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgICAgIH0KICAgICAgICAkbG9nQ2xvc2luZyA9ICAkdGhpcy0+Y2xvc2luZ1NlbWVzdGVyMSgka29kZVNLUEQsJGtvZGVCYXJhbmcpOwogICAgICAgICRzdGF0dXNTZWxlc2FpID0gIkJlbG9tIjsKICAgICAgICBpZigkbm9tb3JCYXJhbmcgPT0gJHRvdGFsQmFyYW5nKXsKICAgICAgICAgICRzdGF0dXNTZWxlc2FpID0gInNlbGVzYWkiOwogICAgICAgIH0KICAgICAgICAkY29udGVudCA9IGFycmF5KAogICAgICAgICAgImxvZ0Nsb3NpbmciID0+ICRsb2dDbG9zaW5nLAogICAgICAgICAgInN0YXR1c1NlbGVzYWkiID0+ICRzdGF0dXNTZWxlc2FpLAogICAgICAgICk7CiAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGNhc2UgJ3Byb3Nlc0Nsb3NpbmcnOnsKCQkJICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKCQkJICAgICAkJGtleSA9ICR2YWx1ZTsKCQkJICB9CgkJCQkka29kZVNLUEQgPSAka29kZUNsb3Npbmc7CiAgICAgICAgJGV4cGxvZGVLb2RlU0tQRCA9IGV4cGxvZGUoIi4iLCRrb2RlU0tQRCk7CgkJCSAgJHN0YXR1c1NlbGVzYWkgPSAiYmVsb20iOwogICAgICAgICRzdGF0dXNIaXR1bmcgPSAiU1VEQUgiOwogICAgICAgICRzdGF0dXNOZXh0ID0gInRydWUiOwogICAgICAgIGlmKCR0aGlzLT5nZXRTdGF0dXNIaXR1bmcoJGtvZGVTS1BELCRmaWx0ZXJQZXJpb2RlKSAhPSAwKXsKICAgICAgICAgICRzdGF0dXNIaXR1bmcgPSAiU1VEQUgiOwogICAgICAgICAgJGtvZGVTS1BEQmVsdW1DbG9zaW5nID0gIiI7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAkc3RhdHVzSGl0dW5nID0gIkJFTFVNIjsKICAgICAgICAgICRrb2RlU0tQREJlbHVtQ2xvc2luZyA9ICRrb2RlU0tQRDsKICAgICAgICB9CiAgICAgICAgJGxvZ0Nsb3NpbmcgPSAiIi4kdGhpcy0+bnVtYmVyRm9ybWF0KCRub21vclBvc3QpLiIgLyAiLiR0aGlzLT5udW1iZXJGb3JtYXQoJGp1bWxhaERhdGEpLiIgQ2xvc2luZyBLT0RFIFNLUEQgPSAka29kZVNLUEQgIFNUQVRVUyBISVRVTkcgPSAkc3RhdHVzSGl0dW5nIC4uLi4uLi4uICI7CgkJCSAgaWYoJG5vbW9yUG9zdCA9PSAkanVtbGFoRGF0YSl7CgkJCSAgICAgICRzdGF0dXNTZWxlc2FpID0gIk9LIjsKCQkJICAgICAgJGxvZ0Nsb3NpbmcgPSAiQ2xvc2luZyBmaW5pc2hlZC4iOwoJCQkJCQlpZigkc3RhdHVzSGl0dW5nID09ICJTVURBSCIpewogICAgICAgICAgICAgIGlmKCRmaWx0ZXJQZXJpb2RlID09IDEpewogIAkJCQkJCQkkZGF0YVNlbWVzdGVyMSA9IGFycmF5KAogIAkJCQkJCQkJJ2MxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzBdLAogIAkJCQkJCQkJJ2MnID0+ICRleHBsb2RlS29kZVNLUERbMV0sCiAgCQkJCQkJCQknZCcgPT4gJGV4cGxvZGVLb2RlU0tQRFsyXSwKICAJCQkJCQkJCSdlJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzNdLAogIAkJCQkJCQkJJ2UxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzRdLAogIAkJCQkJCQkJJ3RhaHVuX2FuZ2dhcmFuJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbiwKICAJCQkJCQkJCSdzZW1lc3RlcicgPT4gJzEnLAogIAkJCQkJCQkJJ2tldGVyYW5nYW4nID0+ICRrZXRlcmFuZ2FuLAogIAkJCQkJCQkJJ3RhbmdnYWxfdXBkYXRlJyA9PiBkYXRlKCJZLW0tZCIpLAogIAkJCQkJCQkJJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUKICAJCQkJCQkJKTsKICAgICAgICAgICAgICAgIGlmKCRleHBsb2RlS29kZVNLUERbMF0gIT0gJycpewogICAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgiY2xvc2luZ19wZXJzZWRpYWFuIiwkZGF0YVNlbWVzdGVyMSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoJHN0YXR1c0hpdHVuZyA9PSAiQkVMVU0iKXsKICAgICAgICAgICAgICAgICAgJHN0YXR1c05leHQgPSAidHJ1ZSI7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgJHN0YXR1c05leHQgPSAiZmFsc2UiOwogICAgICAgICAgICAgICAgfQogICAgCQkJCSAgICAvLyAkbG9nQ2xvc2luZyAuPSAkdGhpcy0+Y2xvc2luZ1NlbWVzdGVyMSgka29kZVNLUEQpOwoKICAJCQkJCQl9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09IDIpewogIAkJCQkJCQkkdGFodW5EZXBhbiA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuICsgMTsKICAJICAgICAgICAgICAgLy8gJGRhdGFTZW1lc3RlcjEgPSBhcnJheSgKICAJCQkJCQkJLy8gCSdjMScgPT4gJGV4cGxvZGVLb2RlU0tQRFswXSwKICAJCQkJCQkJLy8gCSdjJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzFdLAogIAkJCQkJCQkvLyAJJ2QnID0+ICRleHBsb2RlS29kZVNLUERbMl0sCiAgCQkJCQkJCS8vIAknZScgPT4gJGV4cGxvZGVLb2RlU0tQRFszXSwKICAJCQkJCQkJLy8gCSdlMScgPT4gJGV4cGxvZGVLb2RlU0tQRFs0XSwKICAJICAgICAgICAgICAgLy8gICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogIAkgICAgICAgICAgICAvLyAgICdzZW1lc3RlcicgPT4gJzEnLAogIAkgICAgICAgICAgICAvLyAgICdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKICAJICAgICAgICAgICAgLy8gICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwKICAJICAgICAgICAgICAgLy8gICAndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCiAgCSAgICAgICAgICAgIC8vICk7CiAgICAgICAgICAgICAgICAvLyBpZigkZXhwbG9kZUtvZGVTS1BEWzBdICE9ICcnKXsKICAgICAgICAgICAgICAgIC8vICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoImNsb3NpbmdfcGVyc2VkaWFhbiIsJGRhdGFTZW1lc3RlcjEpKTsKICAgICAgICAgICAgICAgIC8vIH0KICAJICAgICAgICAgICAgJGRhdGFTZW1lc3RlcjIgPSBhcnJheSgKICAJCQkJCQkJCSdjMScgPT4gJGV4cGxvZGVLb2RlU0tQRFswXSwKICAJCQkJCQkJCSdjJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzFdLAogIAkJCQkJCQkJJ2QnID0+ICRleHBsb2RlS29kZVNLUERbMl0sCiAgCQkJCQkJCQknZScgPT4gJGV4cGxvZGVLb2RlU0tQRFszXSwKICAJCQkJCQkJCSdlMScgPT4gJGV4cGxvZGVLb2RlU0tQRFs0XSwKICAJICAgICAgICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogIAkgICAgICAgICAgICAgICdzZW1lc3RlcicgPT4gJzInLAogIAkgICAgICAgICAgICAgICdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKICAJICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwKICAJICAgICAgICAgICAgICAndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCiAgCSAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICBpZigkZXhwbG9kZUtvZGVTS1BEWzBdICE9ICcnKXsKICAgICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoImNsb3NpbmdfcGVyc2VkaWFhbiIsJGRhdGFTZW1lc3RlcjIpKTsKICAgICAgICAgICAgICAgIH0KICAJCQkJCQl9CiAgICAgICAgICAgIH0KCQkJICB9ZWxzZXsKICAgICAgICAgICAgaWYoJHN0YXR1c0hpdHVuZyA9PSAiU1VEQUgiKXsKICAgICAgICAgICAgICBpZigkZmlsdGVyUGVyaW9kZSA9PSAxKXsKICAgICAgICAgICAgICAgICRkYXRhU2VtZXN0ZXIxID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICdjMScgPT4gJGV4cGxvZGVLb2RlU0tQRFswXSwKICAgICAgICAgICAgICAgICAgJ2MnID0+ICRleHBsb2RlS29kZVNLUERbMV0sCiAgICAgICAgICAgICAgICAgICdkJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzJdLAogICAgICAgICAgICAgICAgICAnZScgPT4gJGV4cGxvZGVLb2RlU0tQRFszXSwKICAgICAgICAgICAgICAgICAgJ2UxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzRdLAogICAgICAgICAgICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICAgICAnc2VtZXN0ZXInID0+ICcxJywKICAgICAgICAgICAgICAgICAgJ2tldGVyYW5nYW4nID0+ICRrZXRlcmFuZ2FuLAogICAgICAgICAgICAgICAgICAndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCiAgICAgICAgICAgICAgICAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoImNsb3NpbmdfcGVyc2VkaWFhbiIsJGRhdGFTZW1lc3RlcjEpKTsKICAgICAgICAgICAgICAgIC8vICRsb2dDbG9zaW5nIC49ICR0aGlzLT5jbG9zaW5nU2VtZXN0ZXIxKCRrb2RlU0tQRCk7CiAgICAgICAgICAgICAgICBpZigkc3RhdHVzSGl0dW5nID09ICJCRUxVTSIpewogICAgICAgICAgICAgICAgICAkc3RhdHVzTmV4dCA9ICJ0cnVlIjsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAkc3RhdHVzTmV4dCA9ICJmYWxzZSI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAyKXsKICAgICAgICAgICAgICAgICR0YWh1bkRlcGFuID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4gKyAxOwogICAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAgIC8vICRkYXRhU2VtZXN0ZXIxID0gYXJyYXkoCiAgICAgICAgICAgICAgICAvLyAgICdjMScgPT4gJGV4cGxvZGVLb2RlU0tQRFswXSwKICAgICAgICAgICAgICAgIC8vICAgJ2MnID0+ICRleHBsb2RlS29kZVNLUERbMV0sCiAgICAgICAgICAgICAgICAvLyAgICdkJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzJdLAogICAgICAgICAgICAgICAgLy8gICAnZScgPT4gJGV4cGxvZGVLb2RlU0tQRFszXSwKICAgICAgICAgICAgICAgIC8vICAgJ2UxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzRdLAogICAgICAgICAgICAgICAgLy8gICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICAgLy8gICAnc2VtZXN0ZXInID0+ICcxJywKICAgICAgICAgICAgICAgIC8vICAgJ2tldGVyYW5nYW4nID0+ICRrZXRlcmFuZ2FuLAogICAgICAgICAgICAgICAgLy8gICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwKICAgICAgICAgICAgICAgIC8vICAgJ3RhbmdnYWxfdXBkYXRlJyA9PiBkYXRlKCJZLW0tZCIpLAogICAgICAgICAgICAgICAgLy8gKTsKICAgICAgICAgICAgICAgIC8vICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCJjbG9zaW5nX3BlcnNlZGlhYW4iLCRkYXRhU2VtZXN0ZXIxKSk7CiAgICAgICAgICAgICAgICAkZGF0YVNlbWVzdGVyMiA9IGFycmF5KAogICAgICAgICAgICAgICAgICAnYzEnID0+ICRleHBsb2RlS29kZVNLUERbMF0sCiAgICAgICAgICAgICAgICAgICdjJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzFdLAogICAgICAgICAgICAgICAgICAnZCcgPT4gJGV4cGxvZGVLb2RlU0tQRFsyXSwKICAgICAgICAgICAgICAgICAgJ2UnID0+ICRleHBsb2RlS29kZVNLUERbM10sCiAgICAgICAgICAgICAgICAgICdlMScgPT4gJGV4cGxvZGVLb2RlU0tQRFs0XSwKICAgICAgICAgICAgICAgICAgJ3RhaHVuX2FuZ2dhcmFuJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbiwKICAgICAgICAgICAgICAgICAgJ3NlbWVzdGVyJyA9PiAnMicsCiAgICAgICAgICAgICAgICAgICdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKICAgICAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICd0YW5nZ2FsX3VwZGF0ZScgPT4gZGF0ZSgiWS1tLWQiKSwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgiY2xvc2luZ19wZXJzZWRpYWFuIiwkZGF0YVNlbWVzdGVyMikpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgLy8gaWYoJGZpbHRlclBlcmlvZGUgPT0gMSl7CiAgICAgICAgICAvLyAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gc2FsZG9fYXdhbCB3aGVyZSB0YW5nZ2FsID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMScgYW5kIGpucz0nMScgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyIpOwogICAgICAgICAgLy8gICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSB0YW5nZ2FsX2J1a3UgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIik7CiAgICAgICAgICAvLyAgICR0aGlzLT5jbG9zaW5nU2VtZXN0ZXIxKCRrb2RlU0tQRCwka29kZUJhcmFuZyk7CiAgICAgICAgICAvLyB9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09IDIpewogICAgICAgICAgLy8gICBpZihlbXB0eSgkZXJyKSl7CiAgICAgICAgICAvLyAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgeWVhcih0YW5nZ2FsX2J1a3UpID0gJyR0YWh1bkRlcGFuJyBhbmQgam5zPScxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIik7CiAgICAgICAgICAvLyAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBzYWxkb19hd2FsIHdoZXJlIHllYXIodGFuZ2dhbCkgPSAnJHRhaHVuRGVwYW4nIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZyciKTsKICAgICAgICAgIC8vICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHNhbGRvX2F3YWwgd2hlcmUgdGFuZ2dhbCA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEnIGFuZCBqbnM9JzEnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZyciKTsKICAgICAgICAgIC8vICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSB0YW5nZ2FsX2J1a3UgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIik7CiAgICAgICAgICAvLyAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIGFuZCB0YWh1biA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0gJzEnIik7CiAgICAgICAgICAvLyAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIGFuZCB0YWh1biA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0gJzInIik7CiAgICAgICAgICAvLyAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIGFuZCB0YWh1biA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0gJzMnIik7CiAgICAgICAgICAvLyAgICAgJHRoaXMtPmNsb3NpbmdTZW1lc3RlcjIoJGtvZGVTS1BELCRrb2RlQmFyYW5nKTsKICAgICAgICAgIC8vICAgfQogICAgICAgICAgLy8gfQogICAgICAgIH0KCgoKCQkJICAkY29udGVudCA9IGFycmF5KAoJCQkgICAgJ3N0YXR1c1NlbGVzYWknID0+ICRzdGF0dXNTZWxlc2FpLAoJCQkgICAgJ21vZHVsdXMnID0+ICRub21vclBvc3QgJSAkdG90YWxCYXJhbmcsCgkJCSAgICAncGVyc2VuJyA9PiAoJG5vbW9yUG9zdCAvICRqdW1sYWhEYXRhICkgKiAxMDAsCgkJCSAgICAibG9nQ2xvc2luZyIgPT4gJGxvZ0Nsb3NpbmcsCiAgICAgICAgICAic2twZEJlbHVtQ2xvc2luZyIgPT4gJGtvZGVTS1BEQmVsdW1DbG9zaW5nLAogICAgICAgICAgInN0YXR1c05leHQiID0+ICRzdGF0dXNOZXh0LAoJCQkgICApOwoJCQlicmVhazsKCQkJfQogICAgICBjYXNlICdwcm9zZXNUdXR1cEJ1a3UnOnsKICAgICAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgICAgICAkJGtleSA9ICR2YWx1ZTsKICAgICAgICB9CiAgICAgICAgJGtvZGVTS1BEID0gJGtvZGVDbG9zaW5nOwogICAgICAgICRleHBsb2RlS29kZVNLUEQgPSBleHBsb2RlKCIuIiwka29kZVNLUEQpOwogICAgICAgICRzdGF0dXNTZWxlc2FpID0gImJlbG9tIjsKICAgICAgICAkc3RhdHVzVHV0dXBCdWt1ID0gIlNVREFIIjsKICAgICAgICAkc3RhdHVzTmV4dCA9ICJ0cnVlIjsKICAgICAgICAkdGFodW5EZXBhbiA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuICsgMTsKICAgICAgICBpZigkdGhpcy0+c3FsTnVtUm93KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBzYWxkb19hd2FsIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kIHRhaHVuX2FuZ2dhcmFuID0gJyR0YWh1bkRlcGFuJyBhbmQgdGFuZ2dhbCA9ICciLiR0YWh1bkRlcGFuLiItJHRoaXMtPmJ1bGFuVGFuZ2dhbFNhbGRvQXdhbCIuIicgIikpIT0gMCl7CiAgICAgICAgICAkc3RhdHVzVHV0dXBCdWt1ID0gIlNVREFIIjsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICRzdGF0dXNUdXR1cEJ1a3UgPSAiQkVMVU0iOwogICAgICAgIH0KICAgICAgICAkbG9nQ2xvc2luZyA9ICIiLiR0aGlzLT5udW1iZXJGb3JtYXQoJG5vbW9yUG9zdCkuIiAvICIuJHRoaXMtPm51bWJlckZvcm1hdCgkanVtbGFoRGF0YSkuIiBDbG9zaW5nIEtPREUgU0tQRCA9ICRrb2RlU0tQRCAgU1RBVFVTIFRVVFVQIEJVS1UgPSAkc3RhdHVzVHV0dXBCdWt1IC4uLi4uLi4uICI7CiAgICAgICAgaWYoJG5vbW9yUG9zdCA9PSAkanVtbGFoRGF0YSl7CiAgICAgICAgICAgICRzdGF0dXNTZWxlc2FpID0gIk9LIjsKICAgICAgICAgICAgJGxvZ0Nsb3NpbmcgPSAiVHV0dXAgYnVrdSBmaW5pc2hlZC4iOwogICAgICAgICAgICAvLyBpZigkc3RhdHVzVHV0dXBCdWt1ID09ICJTVURBSCIpewogICAgICAgICAgICAgICAgJGRhdGFUdXR1cEJ1a3UgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgJ2MxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzBdLAogICAgICAgICAgICAgICAgICAnYycgPT4gJGV4cGxvZGVLb2RlU0tQRFsxXSwKICAgICAgICAgICAgICAgICAgJ2QnID0+ICRleHBsb2RlS29kZVNLUERbMl0sCiAgICAgICAgICAgICAgICAgICdlJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzNdLAogICAgICAgICAgICAgICAgICAnZTEnID0+ICRleHBsb2RlS29kZVNLUERbNF0sCiAgICAgICAgICAgICAgICAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgICAgICAgICAgICAgICAgICdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+IGRhdGUoIlktbS1kIiksCiAgICAgICAgICAgICAgICAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgaWYoJGV4cGxvZGVLb2RlU0tQRFswXSAhPSAnJyl7CiAgICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCJ0dXR1cF9idWt1X3BlcnNlZGlhYW4iLCRkYXRhVHV0dXBCdWt1KSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIH0KICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgLy8gaWYoJHN0YXR1c1R1dHVwQnVrdSA9PSAiU1VEQUgiKXsKICAgICAgICAgICAgICAkZGF0YVR1dHVwQnVrdSA9IGFycmF5KAogICAgICAgICAgICAgICAgJ2MxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzBdLAogICAgICAgICAgICAgICAgJ2MnID0+ICRleHBsb2RlS29kZVNLUERbMV0sCiAgICAgICAgICAgICAgICAnZCcgPT4gJGV4cGxvZGVLb2RlU0tQRFsyXSwKICAgICAgICAgICAgICAgICdlJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzNdLAogICAgICAgICAgICAgICAgJ2UxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzRdLAogICAgICAgICAgICAgICAgJ3RhaHVuX2FuZ2dhcmFuJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbiwKICAgICAgICAgICAgICAgICdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKICAgICAgICAgICAgICAgICd0YW5nZ2FsJyA9PiBkYXRlKCJZLW0tZCIpLAogICAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIGlmKCRleHBsb2RlS29kZVNLUERbMF0gIT0gJycpewogICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoInR1dHVwX2J1a3VfcGVyc2VkaWFhbiIsJGRhdGFUdXR1cEJ1a3UpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIH0KCiAgICAgICAgfQogICAgICAgIGlmKCRzdGF0dXNUdXR1cEJ1a3UgPT0gIlNVREFIIil7CiAgICAgICAgICAkc3RhdHVzTmV4dCA9ICJ0cnVlIjsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICRzdGF0dXNOZXh0ID0gImZhbHNlIjsKICAgICAgICB9CgogICAgICAgICRjb250ZW50ID0gYXJyYXkoCiAgICAgICAgICAnc3RhdHVzU2VsZXNhaScgPT4gJHN0YXR1c1NlbGVzYWksCiAgICAgICAgICAnbW9kdWx1cycgPT4gJG5vbW9yUG9zdCAlICR0b3RhbEJhcmFuZywKICAgICAgICAgICdwZXJzZW4nID0+ICgkbm9tb3JQb3N0IC8gJGp1bWxhaERhdGEgKSAqIDEwMCwKICAgICAgICAgICJsb2dDbG9zaW5nIiA9PiAkbG9nQ2xvc2luZywKICAgICAgICAgICJza3BkQmVsdW1DbG9zaW5nIiA9PiAka29kZVNLUERCZWx1bUNsb3NpbmcsCiAgICAgICAgICAic3RhdHVzTmV4dCIgPT4gJHN0YXR1c05leHQsCiAgICAgICAgICk7CiAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGNhc2UgJ3Byb3Nlc0NvdW50QW5kQ2xvc2luZyc6ewoJCQkgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkgICAgICQka2V5ID0gJHZhbHVlOwoJCQkgIH0KCQkJCSRleHBsb2RlS29kZUNsb3NpbmcgPSBleHBsb2RlKCI7Iiwka29kZUNsb3NpbmcpOwoJCQkJJGtvZGVTS1BEID0gJGV4cGxvZGVLb2RlQ2xvc2luZ1swXTsKCQkJCSRrb2RlQmFyYW5nID0gJGV4cGxvZGVLb2RlQ2xvc2luZ1sxXTsKICAgICAgICAkZXhwbG9kZUtvZGVTS1BEID0gZXhwbG9kZSgiLiIsJGtvZGVTS1BEKTsKCQkJICAkc3RhdHVzU2VsZXNhaSA9ICJiZWxvbSI7CgkJCSAgJGxvZ0Nsb3NpbmcgPSAiIi4kdGhpcy0+bnVtYmVyRm9ybWF0KCRub21vclBvc3QpLiIgLyAiLiR0aGlzLT5udW1iZXJGb3JtYXQoJGp1bWxhaERhdGEpLiIgQ2xvc2luZyBLT0RFIFNLUEQgPSAka29kZVNLUEQgIEtPREUgQkFSQU5HID0gICRrb2RlQmFyYW5nIC4uLi4uLi4uICI7CgkJCSAgaWYoJG5vbW9yUG9zdCA9PSAkanVtbGFoRGF0YSl7CgkJCSAgICAgICRzdGF0dXNTZWxlc2FpID0gIk9LIjsKCQkJICAgICAgJGxvZ0Nsb3NpbmcgPSAiQ2xvc2luZyBmaW5pc2hlZC4iOwoJCQkJCQlpZigkZmlsdGVyUGVyaW9kZSA9PSAxKXsKCQkJCQkJCSRkYXRhU2VtZXN0ZXIxID0gYXJyYXkoCgkJCQkJCQkJJ2MxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzBdLAoJCQkJCQkJCSdjJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzFdLAoJCQkJCQkJCSdkJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzJdLAoJCQkJCQkJCSdlJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzNdLAoJCQkJCQkJCSdlMScgPT4gJGV4cGxvZGVLb2RlU0tQRFs0XSwKCQkJCQkJCQkndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAoJCQkJCQkJCSdzZW1lc3RlcicgPT4gJzEnLAoJCQkJCQkJCSdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKCQkJCQkJCQkndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCgkJCQkJCQkJJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUKCQkJCQkJCSk7CiAgICAgICAgICAgICAgaWYoJGV4cGxvZGVLb2RlU0tQRFswXSAhPSAnJyl7CiAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgiY2xvc2luZ19wZXJzZWRpYWFuIiwkZGF0YVNlbWVzdGVyMSkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAkc3RhdHVzU2V0U2FsZG9Bd2FsID0gInRydWUiOwoJCQkJCQl9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09IDIpewoJCQkJCQkJJHRhaHVuRGVwYW4gPSAkdGhpcy0+dGFodW5BbmdnYXJhbiArIDE7CgoJICAgICAgICAgICAgLy8gJGRhdGFTZW1lc3RlcjEgPSBhcnJheSgKCQkJCQkJCS8vIAknYzEnID0+ICRleHBsb2RlS29kZVNLUERbMF0sCgkJCQkJCQkvLyAJJ2MnID0+ICRleHBsb2RlS29kZVNLUERbMV0sCgkJCQkJCQkvLyAJJ2QnID0+ICRleHBsb2RlS29kZVNLUERbMl0sCgkJCQkJCQkvLyAJJ2UnID0+ICRleHBsb2RlS29kZVNLUERbM10sCgkJCQkJCQkvLyAJJ2UxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzRdLAoJICAgICAgICAgICAgLy8gICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAoJICAgICAgICAgICAgLy8gICAnc2VtZXN0ZXInID0+ICcxJywKCSAgICAgICAgICAgIC8vICAgJ2tldGVyYW5nYW4nID0+ICRrZXRlcmFuZ2FuLAoJICAgICAgICAgICAgLy8gICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwKCSAgICAgICAgICAgIC8vICAgJ3RhbmdnYWxfdXBkYXRlJyA9PiBkYXRlKCJZLW0tZCIpLAoJICAgICAgICAgICAgLy8gKTsKCSAgICAgICAgICAgIC8vICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCJjbG9zaW5nX3BlcnNlZGlhYW4iLCRkYXRhU2VtZXN0ZXIxKSk7CgkgICAgICAgICAgICAkZGF0YVNlbWVzdGVyMiA9IGFycmF5KAoJCQkJCQkJCSdjMScgPT4gJGV4cGxvZGVLb2RlU0tQRFswXSwKCQkJCQkJCQknYycgPT4gJGV4cGxvZGVLb2RlU0tQRFsxXSwKCQkJCQkJCQknZCcgPT4gJGV4cGxvZGVLb2RlU0tQRFsyXSwKCQkJCQkJCQknZScgPT4gJGV4cGxvZGVLb2RlU0tQRFszXSwKCQkJCQkJCQknZTEnID0+ICRleHBsb2RlS29kZVNLUERbNF0sCgkgICAgICAgICAgICAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCgkgICAgICAgICAgICAgICdzZW1lc3RlcicgPT4gJzInLAoJICAgICAgICAgICAgICAna2V0ZXJhbmdhbicgPT4gJGtldGVyYW5nYW4sCgkgICAgICAgICAgICAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lLAoJICAgICAgICAgICAgICAndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCgkgICAgICAgICAgICApOwogICAgICAgICAgICAgIGlmKCRleHBsb2RlS29kZVNLUERbMF0gIT0gJycpewogICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoImNsb3NpbmdfcGVyc2VkaWFhbiIsJGRhdGFTZW1lc3RlcjIpKTsKICAgICAgICAgICAgICB9CgkJCQkJCX0KCQkJICB9ZWxzZXsKICAgICAgICAgIGlmKCRub21vclBvc3QgJSAkdG90YWxCYXJhbmcgPT0gMCl7CiAgICAgICAgICAgIGlmKCRmaWx0ZXJQZXJpb2RlID09IDEpewogICAgICAgICAgICAgICRkYXRhU2VtZXN0ZXIxID0gYXJyYXkoCiAgICAgICAgICAgICAgICAnYzEnID0+ICRleHBsb2RlS29kZVNLUERbMF0sCiAgICAgICAgICAgICAgICAnYycgPT4gJGV4cGxvZGVLb2RlU0tQRFsxXSwKICAgICAgICAgICAgICAgICdkJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzJdLAogICAgICAgICAgICAgICAgJ2UnID0+ICRleHBsb2RlS29kZVNLUERbM10sCiAgICAgICAgICAgICAgICAnZTEnID0+ICRleHBsb2RlS29kZVNLUERbNF0sCiAgICAgICAgICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICAgJ3NlbWVzdGVyJyA9PiAnMScsCiAgICAgICAgICAgICAgICAna2V0ZXJhbmdhbicgPT4gJGtldGVyYW5nYW4sCiAgICAgICAgICAgICAgICAndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCiAgICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoImNsb3NpbmdfcGVyc2VkaWFhbiIsJGRhdGFTZW1lc3RlcjEpKTsKICAgICAgICAgICAgICAvLyAkc3RhdHVzU2V0U2FsZG9Bd2FsID0gInRydWUiOwogICAgICAgICAgICB9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09IDIpewogICAgICAgICAgICAgICR0YWh1bkRlcGFuID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4gKyAxOwogICAgICAgICAgICAgICRkYXRhU2VtZXN0ZXIyID0gYXJyYXkoCiAgICAgICAgICAgICAgICAnYzEnID0+ICRleHBsb2RlS29kZVNLUERbMF0sCiAgICAgICAgICAgICAgICAnYycgPT4gJGV4cGxvZGVLb2RlU0tQRFsxXSwKICAgICAgICAgICAgICAgICdkJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzJdLAogICAgICAgICAgICAgICAgJ2UnID0+ICRleHBsb2RlS29kZVNLUERbM10sCiAgICAgICAgICAgICAgICAnZTEnID0+ICRleHBsb2RlS29kZVNLUERbNF0sCiAgICAgICAgICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICAgJ3NlbWVzdGVyJyA9PiAnMicsCiAgICAgICAgICAgICAgICAna2V0ZXJhbmdhbicgPT4gJGtldGVyYW5nYW4sCiAgICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwKICAgICAgICAgICAgICAgICd0YW5nZ2FsX3VwZGF0ZScgPT4gZGF0ZSgiWS1tLWQiKSwKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCJjbG9zaW5nX3BlcnNlZGlhYW4iLCRkYXRhU2VtZXN0ZXIyKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZigkZmlsdGVyUGVyaW9kZSA9PSAxKXsKICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBzYWxkb19hd2FsIHdoZXJlIHRhbmdnYWwgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxJyBhbmQgam5zPScxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIik7CiAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIHRhbmdnYWxfYnVrdSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZyciKTsKICAgICAgICAgICAgJHRoaXMtPmNvdW50QW5kQ2xvc2VTZW1lc3RlcjEoJGtvZGVTS1BELCRrb2RlQmFyYW5nKTsKICAgICAgICAgIH1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gMil7CiAgICAgICAgICAgIGlmKGVtcHR5KCRlcnIpKXsKICAgICAgICAgICAgICAvLyAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSB5ZWFyKHRhbmdnYWxfYnVrdSkgPSAnJHRhaHVuRGVwYW4nIGFuZCBqbnM9JzEnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZyciKTsKICAgICAgICAgICAgICAvLyAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHNhbGRvX2F3YWwgd2hlcmUgeWVhcih0YW5nZ2FsKSA9ICckdGFodW5EZXBhbicgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyIpOwogICAgICAgICAgICAgIC8vICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gc2FsZG9fYXdhbCB3aGVyZSB0YW5nZ2FsID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMScgYW5kIGpucz0nMScgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyIpOwogICAgICAgICAgICAgIC8vICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIHRhbmdnYWxfYnVrdSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZyciKTsKICAgICAgICAgICAgICAvLyAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZycgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnMSciKTsKICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZycgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnMiciKTsKICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZycgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnMyciKTsKICAgICAgICAgICAgICAkdGhpcy0+Y291bnRBbmRDbG9zZVNlbWVzdGVyMigka29kZVNLUEQsJGtvZGVCYXJhbmcpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgoKICAgICAgICB9CgoKICAgICAgICAkc3RhdHVzU2V0U2FsZG9Bd2FsID0gImZhbHNlIjsKCgkJCSAgJGNvbnRlbnQgPSBhcnJheSgKCQkJICAgICdzdGF0dXNTZWxlc2FpJyA9PiAkc3RhdHVzU2VsZXNhaSwKCQkJICAgICdtb2R1bHVzJyA9PiAkbm9tb3JQb3N0ICUgJHRvdGFsQmFyYW5nLAoJCQkgICAgJ3BlcnNlbicgPT4gKCRub21vclBvc3QgLyAkanVtbGFoRGF0YSApICogMTAwLAoJCQkgICAgImxvZ0Nsb3NpbmciID0+ICRsb2dDbG9zaW5nLAoJCQkgICAgInN0YXR1c05leHQiID0+ICRzdGF0dXNOZXh0LAoJCQkgICAgInN0YXR1c1NldFNhbGRvQXdhbCIgPT4gJHN0YXR1c1NldFNhbGRvQXdhbCwKCQkJICAgKTsKCQkJYnJlYWs7CgkJCX0KICAgIGNhc2UgJ0Nsb3NpbmcnOnsKICAgICAgJGZtID0gJHRoaXMtPkNsb3NpbmcoKTsKICAgICAgJGNlayA9ICRmbVsnY2VrJ107CiAgICAgICRlcnIgPSAkZm1bJ2VyciddOwogICAgICAkY29udGVudCA9ICRmbVsnY29udGVudCddOwogICAgYnJlYWs7CiAgICB9CiAgICBjYXNlICdUdXR1cEJ1a3UnOnsKICAgICAgJGZtID0gJHRoaXMtPlR1dHVwQnVrdSgpOwogICAgICAkY2VrID0gJGZtWydjZWsnXTsKICAgICAgJGVyciA9ICRmbVsnZXJyJ107CiAgICAgICRjb250ZW50ID0gJGZtWydjb250ZW50J107CiAgICBicmVhazsKICAgIH0KICAgIGNhc2UgJ0NvdW50QW5kQ2xvc2UnOnsKICAgICAgJGZtID0gJHRoaXMtPkNvdW50QW5kQ2xvc2UoKTsKICAgICAgJGNlayA9ICRmbVsnY2VrJ107CiAgICAgICRlcnIgPSAkZm1bJ2VyciddOwogICAgICAkY29udGVudCA9ICRmbVsnY29udGVudCddOwogICAgYnJlYWs7CiAgICB9CiAgICBjYXNlICdwaWxpaFBhbmdrYXQnOnsKICAgICAgZ2xvYmFsICRNYWluOwogICAgICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOwoKICAgICAgJGlkcGFuZ2thdCA9ICRfUkVRVUVTVFsncGFuZ2thdGFraGlyJ107CgogICAgICAkcXVlcnkgPSAic2VsZWN0IGNvbmNhdChnb2wsJy8nLHJ1YW5nKWFzIG5hbWEgRlJPTSByZWZfcGFuZ2thdCBXSEVSRSBuYW1hPSckaWRwYW5na2F0JyIgOwogICAgICAkZ2V0PW15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCRxdWVyeSkpOyRjZWsuPSRxdWVyeTsKICAgICAgJGNvbnRlbnQ9JGdldFsnbmFtYSddOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlICdzYXZlQ2xvc2luZyc6ewogICAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgICB9CiAgICAgICRleHBsb2RlS29kZVNLUEQgPSBleHBsb2RlKCIuIiwka29kZVNLUEQpOwogICAgICAkYzEgPSAkZXhwbG9kZUtvZGVTS1BEWzBdOwogICAgICAkYyA9ICRleHBsb2RlS29kZVNLUERbMV07CiAgICAgICRkID0gJGV4cGxvZGVLb2RlU0tQRFsyXTsKICAgICAgJGUgPSAkZXhwbG9kZUtvZGVTS1BEWzNdOwogICAgICAkZTEgPSAkZXhwbG9kZUtvZGVTS1BEWzRdOwogICAgICBpZihzaXplb2YoJGV4cGxvZGVLb2RlU0tQRCkgPT0gNSl7CiAgICAgICAgJGtvZGVTS1BEID0gJGMxLiIuIi4kYy4iLiIuJGQuIi4iLiRlLiIuIi4kZTE7CiAgICAgICAgJGNvbmNhdFNLUEQgPSAiY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSkgIjsKICAgICAgfWVsc2VpZihzaXplb2YoJGV4cGxvZGVLb2RlU0tQRCkgPT0gNCl7CiAgICAgICAgJGtvZGVTS1BEID0gJGMxLiIuIi4kYy4iLiIuJGQuIi4iLiRlOwogICAgICAgICRjb25jYXRTS1BEID0gImNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSkgIjsKICAgICAgfWVsc2VpZihzaXplb2YoJGV4cGxvZGVLb2RlU0tQRCkgPT0gMyl7CiAgICAgICAgJGtvZGVTS1BEID0gJGMxLiIuIi4kYy4iLiIuJGQ7CiAgICAgICAgJGNvbmNhdFNLUEQgPSAiY29uY2F0KGMxLCcuJyxjLCcuJyxkKSAiOwogICAgICB9ZWxzZWlmKHNpemVvZigkZXhwbG9kZUtvZGVTS1BEKSA9PSAyKXsKICAgICAgICAka29kZVNLUEQgPSAkYzEuIi4iLiRjOwogICAgICAgICRjb25jYXRTS1BEID0gImNvbmNhdChjMSwnLicsYykgIjsKICAgICAgfWVsc2VpZihzaXplb2YoJGV4cGxvZGVLb2RlU0tQRCkgPT0gMSl7CiAgICAgICAgJGtvZGVTS1BEID0gJGMxOwogICAgICAgICRjb25jYXRTS1BEID0gImNvbmNhdChjMSwnLicsYykgIjsKICAgICAgfWVsc2VpZihzaXplb2YoJGV4cGxvZGVLb2RlU0tQRCkgPT0gMCl7CiAgICAgICAgJGtvZGVTS1BEID0gIjEiOwogICAgICAgICRjb25jYXRTS1BEID0gIjEgIjsKICAgICAgfQoKICAgICAgaWYoZW1wdHkoJHBlcmlvZGVTZW1lc3RlcikpewogICAgICAgICRlcnIgPSAiUGlsaWggU2VtZXN0ZXIiOwogICAgICB9ZWxzZXsKICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRlbXBfY2hlY2tfYmFyYW5nX2t1cmFuZyB3aGVyZSB1c2VybmFtZT0nJHRoaXMtPnVzZXJuYW1lJyIpOwogICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdGVtcF9jaGVja19iYXJhbmdfdGFtYmFoIHdoZXJlIHVzZXJuYW1lPSckdGhpcy0+dXNlcm5hbWUnIik7CiAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBjaGVja19iYXJhbmdfcGVyc2VkaWFhbiB3aGVyZSB1c2VybmFtZT0nJHRoaXMtPnVzZXJuYW1lJyIpOwogICAgICAgICRlcnIgPSAkdGhpcy0+Y2hlY2tGaWZvKCIkY29uY2F0U0tQRCA9ICcka29kZVNLUEQnIiwgJHBlcmlvZGVTZW1lc3Rlcik7CiAgICAgIH0KICAgICAgJGdldERhdGFTS1BEID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlICRjb25jYXRTS1BEID0gJyRrb2RlU0tQRCcgYW5kIGUxIT0nMDAwJyIpOwogICAgICBpZigkZXJyID09ICcnKXsKICAgICAgICBpZigkcGVyaW9kZVNlbWVzdGVyID09ICcyJyl7CiAgICAgICAgICAkdGFodW5EZXBhbiA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuICsgMTsKICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gJHRoaXMtPlRibE5hbWUgd2hlcmUgJGNvbmNhdFNLUEQgPSAnJGtvZGVTS1BEJyBhbmQgdGFodW5fYW5nZ2FyYW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nICIpOwogICAgICAgICAgJGdldERhdGFTS1BEID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlICRjb25jYXRTS1BEID0gJyRrb2RlU0tQRCcgYW5kIGUxIT0nMDAwJyIpOwogICAgICAgICAgd2hpbGUgKCRkYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVNLUEQpKSB7CiAgICAgICAgICAgICRrb2RlU0tQRCA9ICRkYXRhU0tQRFsnYzEnXS4iLiIuJGRhdGFTS1BEWydjJ10uIi4iLiRkYXRhU0tQRFsnZCddLiIuIi4kZGF0YVNLUERbJ2UnXS4iLiIuJGRhdGFTS1BEWydlMSddOwogICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHNhbGRvX2F3YWwgd2hlcmUgeWVhcih0YW5nZ2FsKSA9ICckdGFodW5EZXBhbicgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCciKTsKICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgeWVhcih0YW5nZ2FsX2J1a3UpID0gJyR0YWh1bkRlcGFuJyBhbmQgam5zPScxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyIpOwogICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCB0YWh1biA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0gJzInIik7CiAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnMyciKTsKICAgICAgICAgICAgJGRhdGFTZW1lc3RlcjEgPSBhcnJheSgKICAgICAgICAgICAgICAnYzEnID0+ICRkYXRhU0tQRFsnYzEnXSwKICAgICAgICAgICAgICAnYycgPT4gJGRhdGFTS1BEWydjJ10sCiAgICAgICAgICAgICAgJ2QnID0+ICRkYXRhU0tQRFsnZCddLAogICAgICAgICAgICAgICdlJyA9PiAkZGF0YVNLUERbJ2UnXSwKICAgICAgICAgICAgICAnZTEnID0+ICRkYXRhU0tQRFsnZTEnXSwKICAgICAgICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICdzZW1lc3RlcicgPT4gJzEnLAogICAgICAgICAgICAgICdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwKICAgICAgICAgICAgICAndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCiAgICAgICAgICAgICk7CiAgICAgICAgICAgICR0aGlzLT5zZXRTYWxkb0F3YWwoJGRhdGFTS1BEWydjMSddLiIuIi4kZGF0YVNLUERbJ2MnXS4iLiIuJGRhdGFTS1BEWydkJ10uIi4iLiRkYXRhU0tQRFsnZSddLiIuIi4kZGF0YVNLUERbJ2UxJ10pOwogICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgkdGhpcy0+VGJsTmFtZSwkZGF0YVNlbWVzdGVyMSkpOwogICAgICAgICAgICAkZGF0YVNlbWVzdGVyMiA9IGFycmF5KAogICAgICAgICAgICAgICdjMScgPT4gJGRhdGFTS1BEWydjMSddLAogICAgICAgICAgICAgICdjJyA9PiAkZGF0YVNLUERbJ2MnXSwKICAgICAgICAgICAgICAnZCcgPT4gJGRhdGFTS1BEWydkJ10sCiAgICAgICAgICAgICAgJ2UnID0+ICRkYXRhU0tQRFsnZSddLAogICAgICAgICAgICAgICdlMScgPT4gJGRhdGFTS1BEWydlMSddLAogICAgICAgICAgICAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgICAgICAgICAgICAgJ3NlbWVzdGVyJyA9PiAnMicsCiAgICAgICAgICAgICAgJ2tldGVyYW5nYW4nID0+ICRrZXRlcmFuZ2FuLAogICAgICAgICAgICAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lLAogICAgICAgICAgICAgICd0YW5nZ2FsX3VwZGF0ZScgPT4gZGF0ZSgiWS1tLWQiKSwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJHRoaXMtPlRibE5hbWUsJGRhdGFTZW1lc3RlcjIpKTsKICAgICAgICAgICAgJHRoaXMtPnNldFNhbGRvQXdhbFRhaHVuYW4oJGRhdGFTS1BEWydjMSddLiIuIi4kZGF0YVNLUERbJ2MnXS4iLiIuJGRhdGFTS1BEWydkJ10uIi4iLiRkYXRhU0tQRFsnZSddLiIuIi4kZGF0YVNLUERbJ2UxJ10pOwogICAgICAgICAgfQogICAgICAgIH1lbHNlewogICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gJHRoaXMtPlRibE5hbWUgd2hlcmUgJGNvbmNhdFNLUEQgPSAnJGtvZGVTS1BEJyBhbmQgdGFodW5fYW5nZ2FyYW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9JzEnICIpOwogICAgICAgICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSAkY29uY2F0U0tQRCA9ICcka29kZVNLUEQnIGFuZCBlMSE9JzAwMCciKTsKICAgICAgICAgICB3aGlsZSAoJGRhdGFTS1BEID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhU0tQRCkpIHsKICAgICAgICAgICAgJGRhdGFTZW1lc3RlcjEgPSBhcnJheSgKICAgICAgICAgICAgICAnYzEnID0+ICRkYXRhU0tQRFsnYzEnXSwKICAgICAgICAgICAgICAnYycgPT4gJGRhdGFTS1BEWydjJ10sCiAgICAgICAgICAgICAgJ2QnID0+ICRkYXRhU0tQRFsnZCddLAogICAgICAgICAgICAgICdlJyA9PiAkZGF0YVNLUERbJ2UnXSwKICAgICAgICAgICAgICAnZTEnID0+ICRkYXRhU0tQRFsnZTEnXSwKICAgICAgICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICdzZW1lc3RlcicgPT4gJzEnLAogICAgICAgICAgICAgICdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKICAgICAgICAgICAgICAndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCiAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUKICAgICAgICAgICAgKTsKICAgICAgICAgICAgJHRoaXMtPnNldFNhbGRvQXdhbCgkZGF0YVNLUERbJ2MxJ10uIi4iLiRkYXRhU0tQRFsnYyddLiIuIi4kZGF0YVNLUERbJ2QnXS4iLiIuJGRhdGFTS1BEWydlJ10uIi4iLiRkYXRhU0tQRFsnZTEnXSk7CiAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCR0aGlzLT5UYmxOYW1lLCRkYXRhU2VtZXN0ZXIxKSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgYnJlYWs7CiAgICB9CiAgICBjYXNlICdzYXZlRWRpdCc6ewogICAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgICB9CiAgICAgICRleHBsb2RlS29kZVNLUEQgPSBleHBsb2RlKCIuIiwka29kZVNLUEQpOwogICAgICAkYzEgPSAkZXhwbG9kZUtvZGVTS1BEWzBdOwogICAgICAkYyA9ICRleHBsb2RlS29kZVNLUERbMV07CiAgICAgICRkID0gJGV4cGxvZGVLb2RlU0tQRFsyXTsKICAgICAgJGUgPSAkZXhwbG9kZUtvZGVTS1BEWzNdOwogICAgICAkZTEgPSAkZXhwbG9kZUtvZGVTS1BEWzRdOwogICAgICBpZihlbXB0eSgkcGVyaW9kZVNlbWVzdGVyKSl7CiAgICAgICAgJGVyciA9ICJQaWxpaCBTZW1lc3RlciI7CiAgICAgIH0KICAgICAgaWYoJGVyciA9PSAnJyl7CiAgICAgICAgaWYoJHBlcmlvZGVTZW1lc3RlciA9PSAnMicpewogICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSAkdGhpcy0+VGJsTmFtZSB3aGVyZSBjMT0nJGMxJyBhbmQgYz0nJGMnIGFuZCBkPSckZCcgYW5kIGU9JyRlJyBhbmQgZTE9JyRlMScgYW5kIHRhaHVuX2FuZ2dhcmFuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyIpOwogICAgICAgICAgJGRhdGFTZW1lc3RlcjEgPSBhcnJheSgKICAgICAgICAgICAgJ2MxJyA9PiAkYzEsCiAgICAgICAgICAgICdjJyA9PiAkYywKICAgICAgICAgICAgJ2QnID0+ICRkLAogICAgICAgICAgICAnZScgPT4gJGUsCiAgICAgICAgICAgICdlMScgPT4gJGUxLAogICAgICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAnc2VtZXN0ZXInID0+ICcxJywKICAgICAgICAgICAgJ2tldGVyYW5nYW4nID0+ICRrZXRlcmFuZ2FuLAogICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwKICAgICAgICAgICAgJ3RhbmdnYWxfdXBkYXRlJyA9PiBkYXRlKCJZLW0tZCIpLAogICAgICAgICAgKTsKICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCR0aGlzLT5UYmxOYW1lLCRkYXRhU2VtZXN0ZXIxKSk7CiAgICAgICAgICAkZGF0YVNlbWVzdGVyMiA9IGFycmF5KAogICAgICAgICAgICAnYzEnID0+ICRjMSwKICAgICAgICAgICAgJ2MnID0+ICRjLAogICAgICAgICAgICAnZCcgPT4gJGQsCiAgICAgICAgICAgICdlJyA9PiAkZSwKICAgICAgICAgICAgJ2UxJyA9PiAkZTEsCiAgICAgICAgICAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgICAgICAgICAgICdzZW1lc3RlcicgPT4gJzInLAogICAgICAgICAgICAna2V0ZXJhbmdhbicgPT4gJGtldGVyYW5nYW4sCiAgICAgICAgICAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lLAogICAgICAgICAgICAndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCiAgICAgICAgICApOwogICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJHRoaXMtPlRibE5hbWUsJGRhdGFTZW1lc3RlcjIpKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgJGRhdGFTZW1lc3RlcjEgPSBhcnJheSgKICAgICAgICAgICAgICAnYzEnID0+ICRjMSwKICAgICAgICAgICAgICAnYycgPT4gJGMsCiAgICAgICAgICAgICAgJ2QnID0+ICRkLAogICAgICAgICAgICAgICdlJyA9PiAkZSwKICAgICAgICAgICAgICAnZTEnID0+ICRlMSwKICAgICAgICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICdzZW1lc3RlcicgPT4gJzEnLAogICAgICAgICAgICAgICdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKICAgICAgICAgICAgICAndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCiAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUKICAgICAgICAgICAgKTsKICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxVcGRhdGUoJHRoaXMtPlRibE5hbWUsJGRhdGFTZW1lc3RlcjEsImlkID0gJyRpZEVkaXQnIikpOwoKICAgICAgICB9CiAgICAgIH0KCiAgICBicmVhazsKICAgIH0KCiAgICBjYXNlICdMYXBvcmFuJzp7CiAgICAgICRmbSA9ICAkdGhpcy0+TGFwb3JhbigkX1JFUVVFU1QpOwogICAgICAkY2VrID0gJGZtWydjZWsnXTsKICAgICAgJGVyciA9ICRmbVsnZXJyJ107CiAgICAgICRjb250ZW50ID0gJGZtWydjb250ZW50J107CiAgICBicmVhazsKICAgIH0KICAgIGNhc2UgJ3NhdmVOZXdUYW5kYVRhbmdhbic6ewogICAgICBnbG9iYWwgJE1haW47CiAgICAgICRrb2RlMT0gJF9SRVFVRVNUWydjMSddOwogICAgICAka29kZTI9ICRfUkVRVUVTVFsnYyddOwogICAgICAka29kZTM9ICRfUkVRVUVTVFsnZCddOwogICAgICAka29kZTQ9ICRfUkVRVUVTVFsnZSddOwogICAgICAka29kZTU9ICRfUkVRVUVTVFsnZTEnXTsKICAgICAgJG5hbWFwZWdhd2FpPSAkX1JFUVVFU1RbJ25hbWFwZWdhd2FpJ107CiAgICAgICRuaXBwZWdhd2FpPSAkX1JFUVVFU1RbJ25pcHBlZ2F3YWknXTsKCiAgICAgICRwMT0gJF9SRVFVRVNUWydwYW5na2F0YWtoaXInXTsKCiAgICAgICRnb2xhbmdfYWtoaXI9ICRfUkVRVUVTVFsnZ29sYW5nX2FraGlyJ107CiAgICAgICRnb2xvbmdhbiA9IGV4cGxvZGUoIi8iLCAkZ29sYW5nX2FraGlyKTsKICAgICAgJGphYmF0YW49ICRfUkVRVUVTVFsnamFiYXRhbiddOwogICAgICAkZXNlbG9uPSAkX1JFUVVFU1RbJ2VzZWxvbl9ha2hpciddOwogICAgICAka2F0ZWdvcmk9ICRfUkVRVUVTVFsna2F0ZWdvcmknXTsKCgogICAgICAkb2xkeT1teXNxbF9mZXRjaF9hcnJheSgKICAgICAgIG15c3FsX3F1ZXJ5KAogICAgICAgICAic2VsZWN0IGNvdW50KCopIGFzIGNudCBmcm9tIHJlZl90YW5kYXRhbmdhbiB3aGVyZSBuaXA9JyRuaXBwZWdhd2FpJyIKICAgICAgICkpOwogICAgICBpZiggJGVycj09JycgJiYgJG5hbWFwZWdhd2FpID09JycgKSAkZXJyPSAnTkFNQSBQRUdBV0FJIEJlbHVtIERpIElzaSAhISc7CiAgICAgIGlmKCAkZXJyPT0nJyAmJiAkbmlwcGVnYXdhaSA9PScnICkgJGVycj0gJ05JUCBCZWx1bSBEaSBJc2kgISEnOwogICAgICBpZiggJGVycj09JycgJiYgJHAxID09JycgKSAkZXJyPSAnUEFOR0tBVC8gR09MLyBSVUFORyBCZWx1bSBEaSBQaWxpaCAhISc7CiAgICAgIGlmKCAkZXJyPT0nJyAmJiAkamFiYXRhbiA9PScnICkgJGVycj0gJ0pBQkFUQU4gQmVsdW0gRGkgSXNpICEhJzsKICAgICAgaWYoICRlcnI9PScnICYmICRrYXRlZ29yaSA9PScnICkgJGVycj0gJ0thdGVnb3JpIEJlbHVtIERpIFBpbGloICEhJzsKCiAgICAgICAgIGlmKCRmbVNUID09IDApewogICAgICAgICBpZigkZXJyPT0nJyAmJiAkb2xkeVsnY250J10+MCkgJGVycj0iTklQICckbmlwcGVnYXdhaScgU3VkYWggQWRhIjsKICAgICAgICAgICBpZigkZXJyPT0nJyl7CgogICAgICAgICAgICAgJGFxcnkgPSAiSU5TRVJUIGludG8gcmVmX3RhbmRhdGFuZ2FuIChjMSxjLGQsZSxlMSxuYW1hLG5pcCxqYWJhdGFuLHBhbmdrYXQsZ29sLHJ1YW5nLGVzZWxvbixrYXRlZ29yaV90YW5kYXRhbmdhbikgdmFsdWVzKCcka29kZTEnLCcka29kZTInLCcka29kZTMnLCcka29kZTQnLCcka29kZTUnLCckbmFtYXBlZ2F3YWknLCckbmlwcGVnYXdhaScsJyRqYWJhdGFuJywnJHAxJywnJGdvbG9uZ2FuWzBdJywnJGdvbG9uZ2FuWzFdJywnJGVzZWxvbicsMjMpIjsgICRjZWsgLj0gJGFxcnk7CiAgICAgICAgICAgICAkcXJ5ID0gbXlzcWxfcXVlcnkoJGFxcnkpOwogICAgICAgICAgICAgJGNvbnRlbnQgPSBhcnJheSgnY29tYm90dGQnID0+IGNtYlF1ZXJ5KCdpZFBlbmFuZGFUYW5nYW4nLCRkLCJTRUxFQ1QgSWQsIG5hbWEgZnJvbSByZWZfdGFuZGF0YW5nYW4gd2hlcmUga2F0ZWdvcmlfdGFuZGF0YW5nYW4gPSAnMjMnIGFuZCBjMSA9ICciLiRfUkVRVUVTVFtjMV0uIicgYW5kIGMgPSAnIi4kX1JFUVVFU1RbY10uIicgYW5kIGQgPSAnIi4kX1JFUVVFU1RbZF0uIicgYW5kIGUgPSAnIi4kX1JFUVVFU1RbZV0uIicgYW5kIGUxID0gJyIuJF9SRVFVRVNUW2UxXS4iJyIsJ29uY2hhbmdlPXJrYS5yZWZyZXNoTGlzdCh0cnVlKTsnLCctLSBUVEQgLS0nKSk7CiAgICAgICAgICAgfQogICAgICAgICB9ZWxzZXsKICAgICAgICAgICBpZigkZXJyPT0nJyl7CiAgICAgICAgICAgJGFxcnkgPSAiVVBEQVRFIHJlZl90YW5kYXRhbmdhbiBTRVQgbmFtYT0nJG5hbWFwZWdhd2FpJywgbmlwPSckbmlwcGVnYXdhaScsIGphYmF0YW49JyRqYWJhdGFuJyAscGFuZ2thdD0nJHAxJywgZ29sPSckZ29sb25nYW5bMF0nICxydWFuZz0nJGdvbG9uZ2FuWzFdJyxlc2Vsb249JyRlc2Vsb24nICxrYXRlZ29yaV90YW5kYXRhbmdhbj0nJGthdGVnb3JpJyBXSEVSRSBJZD0nIi4kaWRwbGguIiciOyAgJGNlayAuPSAkYXFyeTsKICAgICAgICAgICAgICAgJHFyeSA9IG15c3FsX3F1ZXJ5KCRhcXJ5KSBvciBkaWUobXlzcWxfZXJyb3IoKSk7CiAgICAgICAgICAgICB9CiAgICAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlICdwaWxpaFBhbmdrYXQnOnsKICAgICAgZ2xvYmFsICRNYWluOwogICAgICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOwoKICAgICAgJGlkcGFuZ2thdCA9ICRfUkVRVUVTVFsncGFuZ2thdGFraGlyJ107CgogICAgICAkcXVlcnkgPSAic2VsZWN0IGNvbmNhdChnb2wsJy8nLHJ1YW5nKWFzIG5hbWEgRlJPTSByZWZfcGFuZ2thdCBXSEVSRSBuYW1hPSckaWRwYW5na2F0JyIgOwogICAgICAkZ2V0PW15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCRxdWVyeSkpOyRjZWsuPSRxdWVyeTsKICAgICAgJGNvbnRlbnQ9JGdldFsnbmFtYSddOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgJ3ZpZXdMYXBvcmFuJzp7CiAgICAgICRqc29uID0gRkFMU0U7CiAgICAgICR0aGlzLT52aWV3TGFwb3JhbigpOwogICAgYnJlYWs7CiAgICB9CiAgICBjYXNlICduZXdUYW5kYVRhbmdhbmdhbic6ewogICAgICAkZm0gPSAkdGhpcy0+bmV3VGFuZGFUYW5nYW5nYW4oKTsKICAgICAgJGNlayAuPSAkZm1bJ2NlayddOwogICAgICAkZXJyID0gJGZtWydlcnInXTsKICAgICAgJGNvbnRlbnQgPSAkZm1bJ2NvbnRlbnQnXTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlICdmb3JtQmFydVRURCc6ewogICAgICAkZm0gPSAkdGhpcy0+c2V0Rm9ybUJhcnVUVEQoKTsKICAgICAgJGNlayA9ICRmbVsnY2VrJ107CiAgICAgICRlcnIgPSAkZm1bJ2VyciddOwogICAgICAkY29udGVudCA9ICRmbVsnY29udGVudCddOwogICAgYnJlYWs7CiAgICB9CiAgICBjYXNlICdzaW1wYW5UVEQnOnsKICAgICAgJGdldD0gJHRoaXMtPnNpbXBhblRURCgpOwogICAgICAkY2VrID0gJGdldFsnY2VrJ107CiAgICAgICRlcnIgPSAkZ2V0WydlcnInXTsKICAgICAgJGNvbnRlbnQgPSAkZ2V0Wydjb250ZW50J107CiAgICBicmVhazsKICAgICB9CgoKICAgIGNhc2UgJ0JhcnUnOnsKICAgICAgICAkZm0gPSAkdGhpcy0+QmFydSgpOwogICAgICAgICRjZWsgLj0gJGZtWydjZWsnXTsKICAgICAgICAkZXJyID0gJGZtWydlcnInXTsKICAgICAgICAkY29udGVudCA9ICRmbVsnY29udGVudCddOwogICAgYnJlYWs7CiAgICB9CiAgICBjYXNlICdFZGl0Jzp7CiAgICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewogICAgICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgICAgIH0KICAgICAgJGlkRWRpdCA9ICRjbG9zaW5nUGVyc2VkaWFhbl9jYlswXTsKICAgICAgICAkZm0gPSAkdGhpcy0+RWRpdCgkaWRFZGl0KTsKICAgICAgICAkY2VrIC49ICRmbVsnY2VrJ107CiAgICAgICAgJGVyciA9ICRmbVsnZXJyJ107CiAgICAgICAgJGNvbnRlbnQgPSAkZm1bJ2NvbnRlbnQnXTsKICAgIGJyZWFrOwogICAgfQogICAgY2FzZSAnUmVtb3ZlJzp7CiAgICAgICRpZCA9ICRfUkVRVUVTVFsnY2xvc2luZ1BlcnNlZGlhYW5fY2InXTsKICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAkJGtleSA9ICR2YWx1ZTsKICAgICAgfQoKICAgICAgJHVzZXJuYW1lID0gJF9DT09LSUVbJ2NvSUQnXTsKCiAgICAgICRnZXQgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSB0YWJlbF9DTE9TSU5HIHdoZXJlIGlkID0nJGlkWzBdJyIpKTsKICAgICAgJGtvZGVSZWsgPSAkZ2V0WydrJ10uIi4iLiRnZXRbJ2wnXS4iLiIuJGdldFsnbSddLiIuIi4kZ2V0WyduJ10uIi4iLiRnZXRbJ28nXSA7CgogICAgICAkZ2V0QWxsID0gbXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gdGFiZWxfQ0xPU0lORyB3aGVyZSBjb25jYXQoaywnLicsbCwnLicsbSwnLicsbiwnLicsbykgPScka29kZVJlaycgYW5kIGlkX3RhaGFwPSckdGhpcy0+aWRUYWhhcCcgYW5kIHJpbmNpYW5fcGVyaGl0dW5nYW4gIT0nJyAgIGFuZCBjMT0nJGNtYlVydXNhbicgYW5kIGM9JyRjbWJCaWRhbmcnIGFuZCBkPSckY21iU0tQRCcgIGFuZCBzdGF0dXNfdmFsaWRhc2kgIT0nMScgb3JkZXIgYnkgbzEsIHJpbmNpYW5fcGVyaGl0dW5nYW4iKTsKICAgICAgbXlzcWxfcXVlcnkoImRlbGV0ZSBmcm9tIHRlbXBfcmthXzIxIHdoZXJlIHVzZXI9JyR1c2VybmFtZSciKTsKICAgICAgbXlzcWxfcXVlcnkoImRlbGV0ZSBmcm9tIHRlbXBfcmluY2lhbl92b2x1bWVfMjEgd2hlcmUgdXNlcj0nJHVzZXJuYW1lJyIpOwogICAgICAgIG15c3FsX3F1ZXJ5KCJkZWxldGUgZnJvbSB0ZW1wX2Fsb2thc2lfcmthXzIxX3YyIHdoZXJlIHVzZXI9JyR1c2VybmFtZSciKTsKICAgICAgd2hpbGUoJHJvd3MgPSBteXNxbF9mZXRjaF9hcnJheSgkZ2V0QWxsKSl7CiAgICAgICAgZm9yZWFjaCAoJHJvd3MgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgICAgIH0KICAgICAgICBteXNxbF9xdWVyeSgiZGVsZXRlIGZyb20gdGFiZWxfQ0xPU0lORyB3aGVyZSBpZCA9ICckaWQnIik7CiAgICAgICAgLy9teXNxbF9xdWVyeSgiZGVsZXRlIGZyb20gdGFiZWxfQ0xPU0lORyB3aGVyZSBjb25jYXQoaywnLicsbCwnLicsbSwnLicsbiwnLicsbykgPScka29kZVJlaycgYW5kIG8xID0nJG8xJyBhbmQgYzE9JyRjbWJVcnVzYW4nIGFuZCBjPSckY21iQmlkYW5nJyBhbmQgZD0nJGNtYlNLUEQnIGFuZCBlPSckY21iVW5pdCcgYW5kIGUxPSckY21iU3ViVW5pdCcgYW5kIGplbmlzX3JrYT0nMi4xJyBhbmQgdGFodW4gPSckdGhpcy0+dGFodW4nIGFuZCBqZW5pc19hbmdnYXJhbiA9JyR0aGlzLT5qZW5pc0FuZ2dhcmFuJyIpOwoKICAgICAgfQoKICAgICAgYnJlYWs7CiAgICB9CgogICAgIGRlZmF1bHQ6ewogICAgICAgICRvdGhlciA9ICR0aGlzLT5zZXRfc2VsZWN0b3Jfb3RoZXIyKCR0aXBlKTsKICAgICAgICAkY2VrID0gJG90aGVyWydjZWsnXTsKICAgICAgICAkZXJyID0gJG90aGVyWydlcnInXTsKICAgICAgICAkY29udGVudD0kb3RoZXJbJ2NvbnRlbnQnXTsKICAgICAgICAkanNvbj0kb3RoZXJbJ2pzb24nXTsKICAgICBicmVhazsKICAgICB9CgogICB9Ly9lbmQgc3dpdGNoCgogICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50LCAnanNvbic9PiRqc29uKTsKICAgfQogICBmdW5jdGlvbiBzZXRQYWdlX0hlYWRlck90aGVyKCl7CgoJCSAvLyByZXR1cm4KCQkgLy8gIjx0YWJsZSB3aWR0aD1cIjEwMCVcIiBjbGFzcz1cIm1lbnViYXJcIiBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIiBib3JkZXI9XCIwXCIgc3R5bGU9J21hcmdpbjowIDAgMCAwJz4KICAgICAvLwoJCSAvLyA8dHI+PHRkIGNsYXNzPVwibWVudWRvdHRlZGxpbmVcIiB3aWR0aD1cIjQwJVwiIGhlaWdodD1cIjIwXCIgc3R5bGU9J3RleHQtYWxpZ246cmlnaHQnPjxCPgoJCSAvLyA8QSBocmVmPVwicGdQZXJzZWRpYWFuLnBocD9QZz1kYWZ0YXJQZXJzZWRpYWFuQmFyYW5nXCIgdGl0bGU9J0RBRlRBUiBQRVJTRURJQUFOJyA+IERBRlRBUiBQRVJTRURJQUFOIDwvYT4gfAoJCSAvLyA8QSBocmVmPVwicGdQZXJzZWRpYWFuLnBocD9QZz1jbG9zaW5nUGVyc2VkaWFhblwiIHRpdGxlPSdDTE9TSU5HJyBzdHlsZT0nY29sb3IgOiBibHVlOycgID4gQ0xPU0lORzwvYT4KICAgICAvLwoJCSAvLyAmbmJzcCZuYnNwJm5ic3AKCQkgLy8gPC90ZD48L3RyPgoJCSAvLyA8L3RhYmxlPiI7CiAgICAgcmV0dXJuICIiOwp9CiAgIGZ1bmN0aW9uIHNldFBhZ2VfT3RoZXJTY3JpcHQoKXsKICAgICRzY3JpcHRsb2FkID0KICAgICAgICAgICI8c2NyaXB0PgogICAgICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpewogICAgICAgICAgICAgICIuJHRoaXMtPlByZWZpeC4iLmxvYWRpbmcoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICA8L3NjcmlwdD4iOwogICAgcmV0dXJuCiAgICAgICIKICAgICAgPHNjcmlwdCBzcmM9J2pzL3BlcmVuY2FuYWFuS2V1YW5nYW4vZmlsdGVyU0tQRC5qcycgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48L3NjcmlwdD4KICAgICAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nanMvcGVyc2VkaWFhbi9jbG9zaW5nUGVyc2VkaWFhbi9jbG9zaW5nUGVyc2VkaWFhbi5qcycgbGFuZ3VhZ2U9J0phdmFTY3JpcHQnID48L3NjcmlwdD4KICAgICAgICA8bGluayByZWw9J3N0eWxlc2hlZXQnIGhyZWY9J2RhdGVwaWNrZXIvanF1ZXJ5LXVpLmNzcyc+CiAgICAgICAgPHNjcmlwdCBzcmM9J2RhdGVwaWNrZXIvanF1ZXJ5LTEuMTIuNC5qcyc+PC9zY3JpcHQ+CiAgICAgICAgPHNjcmlwdCBzcmM9J2RhdGVwaWNrZXIvanF1ZXJ5LXVpLmpzJz48L3NjcmlwdD4KCiAgICAgICIuCiAgICAgICRzY3JpcHRsb2FkOwogIH0KCiAgZnVuY3Rpb24gQmFydSgpewogICBnbG9iYWwgJFNlbnN1c1RtcDsKICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsKICAgJGpzb24gPSBUUlVFOyAgLy8kRXJyTXNnID0gJ3Rlcyc7CiAgICRmb3JtX25hbWUgPSAkdGhpcy0+UHJlZml4LidfZm9ybSc7CiAgICR0aGlzLT5mb3JtX3dpZHRoID0gNjAwOwogICAkdGhpcy0+Zm9ybV9oZWlnaHQgPSAyMDA7CiAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnQ2xvc2luZyBCYXJ1ICc7CiAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgfQogICAgJGFycmF5U2VtZXN0ZXIgPSBhcnJheSgKICAgICAgYXJyYXkoJzEnLCdTRU1FU1RFUiAxJyksCiAgICAgIGFycmF5KCcyJywnU0VNRVNURVIgMicpLAogICAgKTsKICAgIGlmKCRmaWx0ZXJTdWJVbml0ICE9ICcwMDAnKXsKICAgICAgJGtvZGVTS1BEID0gJGZpbHRlclVydXNhbi4iLiIuJGZpbHRlckJpZGFuZy4iLiIuJGZpbHRlclNLUEQuIi4iLiRmaWx0ZXJVbml0LiIuIi4kZmlsdGVyU3ViVW5pdDsKICAgICAgJGdldERhdGFVcnVzYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPScwMCciKSk7CiAgICAgICRnZXREYXRhQmlkYW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JzAwJyIpKTsKICAgICAgJGdldERhdGFTS1BEID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JyRmaWx0ZXJTS1BEJyIpKTsKICAgICAgJGdldERhdGFVbml0ID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JyRmaWx0ZXJTS1BEJyBhbmQgZT0nJGZpbHRlclVuaXQnIGFuZCBlMT0nMDAwJyIpKTsKICAgICAgJGdldERhdGFTdWJVbml0ID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JyRmaWx0ZXJTS1BEJyBhbmQgZT0nJGZpbHRlclVuaXQnIGFuZCBlMT0nJGZpbHRlclN1YlVuaXQnIikpOwogICAgICAkdXJ1c2FuID0gJGdldERhdGFVcnVzYW5bJ25tX3NrcGQnXTsKICAgICAgJGJpZGFuZyA9ICRnZXREYXRhQmlkYW5nWydubV9za3BkJ107CiAgICAgICRza3BkID0gJGdldERhdGFTS1BEWydubV9za3BkJ107CiAgICAgICR1bml0ID0gJGdldERhdGFVbml0WydubV9za3BkJ107CiAgICAgICRzdWJVbml0ID0gJGdldERhdGFTdWJVbml0WydubV9za3BkJ107CiAgICB9ZWxzZWlmKCRmaWx0ZXJVbml0ICE9ICcwMCcpewogICAgICAka29kZVNLUEQgPSAkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nLiIuIi4kZmlsdGVyU0tQRC4iLiIuJGZpbHRlclVuaXQ7CiAgICAgICRnZXREYXRhVXJ1c2FuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nMDAnIikpOwogICAgICAkZ2V0RGF0YUJpZGFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPScwMCciKSk7CiAgICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCciKSk7CiAgICAgICRnZXREYXRhVW5pdCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCcgYW5kIGU9JyRmaWx0ZXJVbml0JyBhbmQgZTE9JzAwMCciKSk7CiAgICAgICR1cnVzYW4gPSAkZ2V0RGF0YVVydXNhblsnbm1fc2twZCddOwogICAgICAkYmlkYW5nID0gJGdldERhdGFCaWRhbmdbJ25tX3NrcGQnXTsKICAgICAgJHNrcGQgPSAkZ2V0RGF0YVNLUERbJ25tX3NrcGQnXTsKICAgICAgJHVuaXQgPSAkZ2V0RGF0YVVuaXRbJ25tX3NrcGQnXTsKICAgICAgJHN1YlVuaXQgPSAiU0VNVUEgU1VCIFVOSVQiOwogICAgfWVsc2VpZigkZmlsdGVyU0tQRCAhPScwMCcpewogICAgICAka29kZVNLUEQgPSAkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nLiIuIi4kZmlsdGVyU0tQRDsKICAgICAgJGdldERhdGFVcnVzYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPScwMCciKSk7CiAgICAgICRnZXREYXRhQmlkYW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JzAwJyIpKTsKICAgICAgJGdldERhdGFTS1BEID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JyRmaWx0ZXJTS1BEJyIpKTsKICAgICAgJHVydXNhbiA9ICRnZXREYXRhVXJ1c2FuWydubV9za3BkJ107CiAgICAgICRiaWRhbmcgPSAkZ2V0RGF0YUJpZGFuZ1snbm1fc2twZCddOwogICAgICAkc2twZCA9ICRnZXREYXRhU0tQRFsnbm1fc2twZCddOwogICAgICAkdW5pdCA9ICJTRU1VQSBVTklUIjsKICAgICAgJHN1YlVuaXQgPSAiU0VNVUEgU1VCIFVOSVQiOwogICAgfWVsc2VpZigkZmlsdGVyQmlkYW5nICE9JzAwJyl7CiAgICAgICRrb2RlU0tQRCA9ICRmaWx0ZXJVcnVzYW4uIi4iLiRmaWx0ZXJCaWRhbmc7CiAgICAgICRnZXREYXRhVXJ1c2FuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nMDAnIikpOwogICAgICAkZ2V0RGF0YUJpZGFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPScwMCciKSk7CiAgICAgICR1cnVzYW4gPSAkZ2V0RGF0YVVydXNhblsnbm1fc2twZCddOwogICAgICAkYmlkYW5nID0gJGdldERhdGFCaWRhbmdbJ25tX3NrcGQnXTsKICAgICAgJHNrcGQgPSAiU0VNVUEgU0tQRCI7CiAgICAgICR1bml0ID0gIlNFTVVBIFVOSVQiOwogICAgICAkc3ViVW5pdCA9ICJTRU1VQSBTVUIgVU5JVCI7CiAgICB9ZWxzZWlmKCRmaWx0ZXJVcnVzYW4gIT0nMDAnKXsKICAgICAgJGtvZGVTS1BEID0gJGZpbHRlclVydXNhbjsKICAgICAgJGdldERhdGFVcnVzYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPScwMCciKSk7CiAgICAgICR1cnVzYW4gPSAkZ2V0RGF0YVVydXNhblsnbm1fc2twZCddOwogICAgICAkYmlkYW5nID0gIlNFTVVBIEJJREFORyI7CiAgICAgICRza3BkID0gIlNFTVVBIFNLUEQiOwogICAgICAkdW5pdCA9ICJTRU1VQSBVTklUIjsKICAgICAgJHN1YlVuaXQgPSAiU0VNVUEgU1VCIFVOSVQiOwogICAgfWVsc2V7CiAgICAgICRrb2RlU0tQRCA9ICIiOwogICAgICAkdXJ1c2FuID0gIlNFTVVBIFVSVVNBTiI7CiAgICAgICRiaWRhbmcgPSAiU0VNVUEgQklEQU5HIjsKICAgICAgJHNrcGQgPSAiU0VNVUEgU0tQRCI7CiAgICAgICR1bml0ID0gIlNFTVVBIFVOSVQiOwogICAgICAkc3ViVW5pdCA9ICJTRU1VQSBTVUIgVU5JVCI7CiAgICB9CgogICAgJHRoaXMtPmZvcm1fZmllbGRzID0gYXJyYXkoCiAgICAgICdrb2RlMCcgPT4gYXJyYXkoCiAgICAgICdsYWJlbCc9PidVUlVTQU4nLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+ICR1cnVzYW4KICAgICAgKSwKICAgICAgJ2tvZGUxJyA9PiBhcnJheSgKICAgICAgJ2xhYmVsJz0+J0JJREFORycsCiAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAndmFsdWUnPT4gJGJpZGFuZwogICAgICApLAogICAgICAna29kZTInID0+IGFycmF5KAogICAgICAnbGFiZWwnPT4nU0tQRCcsCiAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAndmFsdWUnPT4gJHNrcGQKICAgICAgKSwKICAgICAgJ2tvZGUzJyA9PiBhcnJheSgKICAgICAgJ2xhYmVsJz0+J1VOSVQnLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+ICR1bml0CiAgICAgICksCiAgICAgICdrb2RlNCcgPT4gYXJyYXkoCiAgICAgICdsYWJlbCc9PidTVUIgVU5JVCcsCiAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAndmFsdWUnPT4gJHN1YlVuaXQKICAgICAgKSwKICAgICAgJ3RhaHVuQW5nZ2FyYW4nID0+IGFycmF5KAogICAgICAnbGFiZWwnPT4nVEFIVU4gQU5HR0FSQU4nLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuCiAgICAgICksCiAgICAgICdzZW1lc3RlcicgPT4gYXJyYXkoCiAgICAgICdsYWJlbCc9PidTRU1FU1RFUicsCiAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAndmFsdWUnPT4gY21iQXJyYXkoInBlcmlvZGVTZW1lc3RlciIsJGZpbHRlclNlbWVzdGVyLCRhcnJheVNlbWVzdGVyLCAiLS0gU0VNRVNURVIgLS0gIi4iIiApCiAgICAgICksCiAgICAgICdrZXRlcmFuZ2FuJyA9PiBhcnJheSgKICAgICAgJ2xhYmVsJz0+J0tFVEVSQU5HQU4nLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+ICI8dGV4dGFyZWEgaWQ9J2tldGVyYW5nYW4nIG5hbWU9J2tldGVyYW5nYW4nIHN0eWxlPSd3aWR0aDozMDBweDtoZWlnaHQ6NTBweDsnPjwvdGV4dGFyZWE+IgogICAgICApLAoKICAgICk7CiAgICAvL3RvbWJvbAogICAgJHRoaXMtPmZvcm1fbWVudWJhd2FoID0KICAgICAgIgogICAgICAgIDxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2tvZGVTS1BEJyBpZD0na29kZVNLUEQnIHZhbHVlPScka29kZVNLUEQnID4KICAgICAgPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1NpbXBhbicgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLnNhdmVDbG9zaW5nKCRpZFBvc3RpbmcpJyB0aXRsZT0nU2ltcGFuJyA+ICAmbmJzcCAgIi4KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdCYXRhbCcgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLkNsb3NlKCknID4iOwoKICAgICRmb3JtID0gJHRoaXMtPmdlbkZvcm0oKTsKICAgICRjb250ZW50ID0gJGZvcm07Ly8kY29udGVudCA9ICdjb250ZW50JzsKICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCk7CiAgfQogIGZ1bmN0aW9uIEVkaXQoJGlkRWRpdCl7CiAgIGdsb2JhbCAkU2Vuc3VzVG1wOwogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOwogICAkanNvbiA9IFRSVUU7ICAvLyRFcnJNc2cgPSAndGVzJzsKICAgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtJzsKICAgJHRoaXMtPmZvcm1fd2lkdGggPSA2MDA7CiAgICR0aGlzLT5mb3JtX2hlaWdodCA9IDIwMDsKICAgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdDbG9zaW5nIEVkaXQnOwogICAkZ2V0RGF0YUVkaXQgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tICR0aGlzLT5UYmxOYW1lIHdoZXJlIGlkPSckaWRFZGl0JyIpKTsKICAgIGZvcmVhY2ggKCRnZXREYXRhRWRpdCBhcyAka2V5ID0+ICR2YWx1ZSkgewogICAgICAgICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgICB9CiAgICAkYXJyYXlTZW1lc3RlciA9IGFycmF5KAogICAgICBhcnJheSgnMScsJ1NFTUVTVEVSIDEnKSwKICAgICAgYXJyYXkoJzInLCdTRU1FU1RFUiAyJyksCiAgICApOwogICAgJGtvZGVTS1BEID0gJGMxLiIuIi4kYy4iLiIuJGQuIi4iLiRlLiIuIi4kZTE7CiAgICAkZ2V0RGF0YVVydXNhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGMxJyBhbmQgYz0nMDAnIikpOwogICAgJGdldERhdGFCaWRhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRjMScgYW5kIGM9JyRjJyBhbmQgZD0nMDAnIikpOwogICAgJGdldERhdGFTS1BEID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckYzEnIGFuZCBjPSckYycgYW5kIGQ9JyRkJyIpKTsKICAgICRnZXREYXRhVW5pdCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGMxJyBhbmQgYz0nJGMnIGFuZCBkPSckZCcgYW5kIGU9JyRlJyBhbmQgZTE9JzAwMCciKSk7CiAgICAkZ2V0RGF0YVN1YlVuaXQgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRjMScgYW5kIGM9JyRjJyBhbmQgZD0nJGQnIGFuZCBlPSckZScgYW5kIGUxPSckZTEnIikpOwogICAgJHRoaXMtPmZvcm1fZmllbGRzID0gYXJyYXkoCiAgICAgICdrb2RlMCcgPT4gYXJyYXkoCiAgICAgICdsYWJlbCc9PidVUlVTQU4nLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+ICRnZXREYXRhVXJ1c2FuWydubV9za3BkJ10KICAgICAgKSwKICAgICAgJ2tvZGUxJyA9PiBhcnJheSgKICAgICAgJ2xhYmVsJz0+J0JJREFORycsCiAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAndmFsdWUnPT4gJGdldERhdGFCaWRhbmdbJ25tX3NrcGQnXQogICAgICApLAogICAgICAna29kZTInID0+IGFycmF5KAogICAgICAnbGFiZWwnPT4nU0tQRCcsCiAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAndmFsdWUnPT4gJGdldERhdGFTS1BEWydubV9za3BkJ10KICAgICAgKSwKICAgICAgJ2tvZGUzJyA9PiBhcnJheSgKICAgICAgJ2xhYmVsJz0+J1VOSVQnLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+ICRnZXREYXRhVW5pdFsnbm1fc2twZCddCiAgICAgICksCiAgICAgICdrb2RlNCcgPT4gYXJyYXkoCiAgICAgICdsYWJlbCc9PidTVUIgVU5JVCcsCiAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAndmFsdWUnPT4gJGdldERhdGFTdWJVbml0WydubV9za3BkJ10KICAgICAgKSwKICAgICAgJ3RhaHVuQW5nZ2FyYW4nID0+IGFycmF5KAogICAgICAnbGFiZWwnPT4nVEFIVU4gQU5HR0FSQU4nLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuCiAgICAgICksCiAgICAgICdzZW1lc3RlcicgPT4gYXJyYXkoCiAgICAgICdsYWJlbCc9PidTRU1FU1RFUicsCiAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAndmFsdWUnPT4gY21iQXJyYXkoInBlcmlvZGVTZW1lc3RlciIsJHNlbWVzdGVyLCRhcnJheVNlbWVzdGVyLCAiLS0gU0VNRVNURVIgLS0gIi4iIiApCiAgICAgICksCiAgICAgICdrZXRlcmFuZ2FuJyA9PiBhcnJheSgKICAgICAgJ2xhYmVsJz0+J0tFVEVSQU5HQU4nLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+ICI8dGV4dGFyZWEgaWQ9J2tldGVyYW5nYW4nIG5hbWU9J2tldGVyYW5nYW4nIHN0eWxlPSd3aWR0aDozMDBweDtoZWlnaHQ6NTBweDsnPiRrZXRlcmFuZ2FuPC90ZXh0YXJlYQoKICAgICAgICAiCiAgICAgICksCgogICAgKTsKICAgIC8vdG9tYm9sCiAgICAkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQogICAgICAiCiAgICAgICAgPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0na29kZVNLUEQnIGlkPSdrb2RlU0tQRCcgdmFsdWU9JyRrb2RlU0tQRCcgPgogICAgICA8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nU2ltcGFuJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuc2F2ZUVkaXQoJGlkRWRpdCknIHRpdGxlPSdTaW1wYW4nID4gICZuYnNwICAiLgogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0JhdGFsJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuQ2xvc2UoKScgPiI7CgogICAgJGZvcm0gPSAkdGhpcy0+Z2VuRm9ybSgpOwogICAgJGNvbnRlbnQgPSAkZm9ybTsvLyRjb250ZW50ID0gJ2NvbnRlbnQnOwogICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50KTsKICB9CgoKCiAgLy9kYWZ0YXIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgZnVuY3Rpb24gc2V0S29sb21IZWFkZXIoJE1vZGU9MSwgJENoZWNrYm94PScnKXsKICAgICRoZWFkZXJUYWJsZSA9CiAgICAgICI8dGhlYWQ+CiAgICAgICA8dHI+CiAgICAgICAgIDx0aCBjbGFzcz0ndGgwMScgc3R5bGU9J3dpZHRoOjElOyc+Tk88L3RoPgogICAgICAgICAkQ2hlY2tib3gKICAgICAgICAgPHRoIGNsYXNzPSd0aDAxJyBzdHlsZT0nd2lkdGg6MSU7Jz5LT0RFIFNLUEQ8L3RoPgogICAgICAgICA8dGggY2xhc3M9J3RoMDEnIHN0eWxlPSd3aWR0aDo1MCU7Jz5OQU1BIFNLUEQ8L3RoPgogICAgICAgICA8dGggY2xhc3M9J3RoMDEnIHN0eWxlPSd3aWR0aDoxJTsnPlNFTUVTVEVSPC90aD4KICAgICAgICAgPHRoIGNsYXNzPSd0aDAxJyBzdHlsZT0nd2lkdGg6MTAlOyc+VEFOR0dBTCBVUERBVEU8L3RoPgogICAgICAgICA8dGggY2xhc3M9J3RoMDEnIHN0eWxlPSd3aWR0aDo1JTsnPlVTRVIgSUQ8L3RoPgogICAgICAgICA8dGggY2xhc3M9J3RoMDEnIHN0eWxlPSd3aWR0aDoyMCU7Jz5LRVRFUkFOR0FOPC90aD4KICAgICAgIDwvdHI+CgogICAgICAgPC90aGVhZD4iOwogICAkTm9tb3JDb2xTcGFuID0gJE1vZGU9PTE\/IDI6IDE7CgoKICAgIHJldHVybiAkaGVhZGVyVGFibGU7CiAgfQoKICBmdW5jdGlvbiBzZXRLb2xvbURhdGEoJG5vLCAkaXNpLCAkTW9kZSwgJFRhbXBpbENoZWNrQm94KXsKICAgZ2xvYmFsICRSZWY7CiAgIGZvcmVhY2ggKCRpc2kgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgIH0KICAgaWYoJHRoaXMtPm5vbW9yS29sb20gJSAyID09IDEpewogICAgICAkcm93Q2xhc3MgPSAicm93MCI7CiAgICB9ZWxzZXsKICAgICAgJHJvd0NsYXNzID0gInJvdzEiOwogICAgfQogICAgJGtvZGVTS1BEID0gJGMxLiIuIi4kYy4iLiIuJGQuIi4iLiRlLiIuIi4kZTE7CiAgICBpZihpbl9hcnJheSgka29kZVNLUEQsJHRoaXMtPmFycmF5U0tQRCkgPT0gZmFsc2UpewogICAgICAkdGhpcy0+YXJyYXlTS1BEW10gPSAka29kZVNLUEQ7CiAgICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSkgPSAnJGtvZGVTS1BEJyAiKSk7CiAgICAgICRrb2xvbUNsb3NpbmcgPSAiCiAgICAgICAgPHRyIGNsYXNzPSckcm93Q2xhc3MnIHZhbGlnbj0ndG9wJz4KICAgICAgICAgIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInID4kbm88L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgID4kVGFtcGlsQ2hlY2tCb3g8L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgID4ka29kZVNLUEQ8L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+Ii4kZ2V0RGF0YVNLUERbJ25tX3NrcGQnXS4iPC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+JHNlbWVzdGVyPC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+Ii4kdGhpcy0+Z2VuZXJhdGVEYXRlKCR0YW5nZ2FsX3VwZGF0ZSkuIjwvdGQ+CiAgICAgICAgICA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPiIuJHVzZXJuYW1lLiI8L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+Ii4ka2V0ZXJhbmdhbi4iPC90ZD4KICAgICAgICA8L3RyPgogICAgICAiOwogICAgfWVsc2V7CiAgICAgICRrb2xvbUNsb3NpbmcgPSAiCiAgICAgICAgPHRyIGNsYXNzPSckcm93Q2xhc3MnIHZhbGlnbj0ndG9wJz4KICAgICAgICAgIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInID4kbm88L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgID4kVGFtcGlsQ2hlY2tCb3g8L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgID48L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+PC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+JHNlbWVzdGVyPC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+Ii4kdGhpcy0+Z2VuZXJhdGVEYXRlKCR0YW5nZ2FsX3VwZGF0ZSkuIjwvdGQ+CiAgICAgICAgICA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPiIuJHVzZXJuYW1lLiI8L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+Ii4ka2V0ZXJhbmdhbi4iPC90ZD4KICAgICAgICA8L3RyPgogICAgICAiOwogICAgfQoKCiAgICAkdGhpcy0+bm9tb3JLb2xvbSArPSAxOwogICAgJEtvbG9tcyA9IGFycmF5KAogICAgICBhcnJheSgiVnVsbldhbGtlciIsICRrb2xvbUNsb3NpbmcpCiAgICAgKTsKCiAgIHJldHVybiAkS29sb21zOwogIH0KCgoKCgogIGZ1bmN0aW9uIGdlbkRhZnRhck9wc2koKXsKICAgZ2xvYmFsICRSZWYsICRNYWluOwogICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgIH0KICAgJGp1bWxhaERhdGEgPSAkX1JFUVVFU1RbJ2p1bWxhaERhdGEnXTsKICAgaWYoZW1wdHkoJGp1bWxhaERhdGEpKSRqdW1sYWhEYXRhID0gNTA7CiAgICRhcnJheVNlbWVzdGVyID0gYXJyYXkoCiAgICAgYXJyYXkoJzEnLCJTRU1FU1RFUiAxIiksCiAgICAgYXJyYXkoJzInLCJTRU1FU1RFUiAyIiksCiAgICk7CiAgICAgICRUYW1waWxPcHQgPQogICAgICAgICAgIjx0cj48dGQ+Ii4KICAgICAgICAgIGdlbkZpbHRlckJhcihhcnJheSgkdGhpcy0+Z2VuRmlsdGVyU3ViVW5pdCgkdGhpcy0+UHJlZml4LCR0aGlzLT5QcmVmaXguJ0ZpbHRlclNLUEQnLCcxMDAlJywnMTQ1cHgnKSksJycsJycsJycpLgogICAgICAgICAgZ2VuRmlsdGVyQmFyKAogICAgICAgICAgICBhcnJheSgKICAgICAgICAgICAgICAiCiAgICAgICAgICAgICAgVEFIVU4gJm5ic3AgJm5ic3AgPGlucHV0IHR5cGU9J3RleHQnIHZhbHVlPSciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiInIHN0eWxlPSd3aWR0aDo0MHB4OycgcmVhZG9ubHk+Jm5ic3AgJm5ic3AgJm5ic3AgJm5ic3AgSlVNTEFIIERBVEEgJm5ic3AgJm5ic3AgPGlucHV0IHR5cGU9J3RleHQnIG5hbWUgPSdqdW1sYWhEYXRhJyBpZD0nanVtbGFoRGF0YScgdmFsdWUgPSckanVtbGFoRGF0YScgc3R5bGU9J3dpZHRoOjQwcHg7Jz4gICZuYnNwIDxpbnB1dCB0eXBlPSdidXR0b24nIG9uY2xpY2sgPSR0aGlzLT5QcmVmaXgucmVmcmVzaExpc3QodHJ1ZSk7IHZhbHVlPSdUYW1waWxrYW4nPiAmbmJzcCBTRU1FU1RFUiA6ICIuY21iQXJyYXkoImZpbHRlclNlbWVzdGVyIiwkZmlsdGVyU2VtZXN0ZXIsJGFycmF5U2VtZXN0ZXIsIi0tIFNFTVVBIFNFTUVTVEVSIC0tIiwiIG9uY2hhbmdlPSR0aGlzLT5QcmVmaXguZmlsdGVyUmVuZGVyKHRydWUpIikKICAgICAgICAgICksJycsJycsJycpOwoKICAgIHJldHVybiBhcnJheSgnVGFtcGlsT3B0Jz0+JFRhbXBpbE9wdCk7CgoKICB9CgogIGZ1bmN0aW9uIGdldERhZnRhck9wc2koJE1vZGU9MSl7CiAgICBnbG9iYWwgJE1haW4sICRIVFRQX0NPT0tJRV9WQVJTOwogICAgJFVJRCA9ICRfQ09PS0lFWydjb0lEJ107CiAgICAvL2tvbmRpc2kgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICRhcnJLb25kaXNpID0gYXJyYXkoKTsKICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewogICAgICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgICB9CiAgICBpZigkZmlsdGVyVXJ1c2FuICE9JzAwJyl7CiAgICAgICAgJGFycktvbmRpc2lbXSA9ICJjMSA9ICckZmlsdGVyVXJ1c2FuJyI7CiAgICB9CiAgICBpZigkZmlsdGVyQmlkYW5nICE9JzAwJyl7CiAgICAgICAgJGFycktvbmRpc2lbXSA9ICJjID0gJyRmaWx0ZXJCaWRhbmcnIjsKICAgIH0KICAgIGlmKCRmaWx0ZXJTS1BEICE9JzAwJyl7CiAgICAgICAgJGFycktvbmRpc2lbXSA9ICJkID0gJyRmaWx0ZXJTS1BEJyI7CiAgICB9CiAgICBpZigkZmlsdGVyVW5pdCAhPScwMCcpewogICAgICAgICRhcnJLb25kaXNpW10gPSAiZSA9ICckZmlsdGVyVW5pdCciOwogICAgfQogICAgaWYoJGZpbHRlclN1YlVuaXQgIT0nMDAwJyl7CiAgICAgICAgJGFycktvbmRpc2lbXSA9ICJlMSA9ICckZmlsdGVyU3ViVW5pdCciOwogICAgfQogICAgJGFycktvbmRpc2lbXSA9ICJ0YWh1bl9hbmdnYXJhbiA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiInIjsKCiAgICBpZighZW1wdHkoJGZpbHRlclNlbWVzdGVyKSl7CiAgICAgICAgJGFycktvbmRpc2lbXT0gInNlbWVzdGVyID0gJyRmaWx0ZXJTZW1lc3RlciciOwogICAgfQoKICAgICRLb25kaXNpPSBqb2luKCcgYW5kICcsJGFycktvbmRpc2kpOwogICAgJEtvbmRpc2kgPSAkS29uZGlzaSA9PScnID8gJyc6JyBXaGVyZSAnLiRLb25kaXNpIDsKICAgIC8vT3JkZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgJGZtT1JERVIxID0gY2VrUE9TVCgnZm1PUkRFUjEnKTsKICAgICRmbURFU0MxID0gY2VrUE9TVCgnZm1ERVNDMScpOwogICAgJEFzYzEgPSAkZm1ERVNDMSA9PScnPyAnJzogJ2Rlc2MnOwogICAgJGFyck9yZGVycyA9IGFycmF5KCk7CiAgICAkYXJyT3JkZXJzW109ICIgY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSksc2VtZXN0ZXIiOwogICAgJE9yZGVyPSBqb2luKCcsJywkYXJyT3JkZXJzKTsKICAgICRPcmRlckRlZmF1bHQgPSAnJzsKICAgICRPcmRlciA9ICAkT3JkZXIgPT0nJz8gJE9yZGVyRGVmYXVsdCA6ICcgT3JkZXIgQnkgJy4kT3JkZXI7CgogICAgaWYoZW1wdHkoJGp1bWxhaERhdGEpKSRqdW1sYWhEYXRhID01MDsKICAgICR0aGlzLT5wYWdlUGVySGFsID0gJGp1bWxhaERhdGE7CiAgICAkTWFpbi0+UGFnZVBlckhhbCA9ICRqdW1sYWhEYXRhOwogICAgJHBhZ2VQZXJIYWwgPSAkdGhpcy0+cGFnZVBlckhhbCA9PScnID8gJE1haW4tPlBhZ2VQZXJIYWw6ICR0aGlzLT5wYWdlUGVySGFsOwogICAgJEhhbERlZmF1bHQ9Y2VrUE9TVCgkdGhpcy0+UHJlZml4LidfaGFsJywxKTsKICAgIC8vJExpbWl0ID0gIiBsaW1pdCAiLigoJEhhbERlZmF1bHQgICoxKSAtIDEpICogJE1haW4tPlBhZ2VQZXJIYWwuIiwiLiRNYWluLT5QYWdlUGVySGFsOyAvLyRMaW1pdEhhbCA9ICcnOwogICAgJExpbWl0ID0gIiBsaW1pdCAiLigoJEhhbERlZmF1bHQgICoxKSAtIDEpICogJHBhZ2VQZXJIYWwuIiwiLiRwYWdlUGVySGFsOyAvLyRMaW1pdEhhbCA9ICcnOwogICAgJExpbWl0ID0gJE1vZGUgPT0gMyA\/ICcnOiAkTGltaXQ7CiAgICAvL25vYXdhbCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICROb0F3YWw9ICRwYWdlUGVySGFsICogKCgkSGFsRGVmYXVsdCoxKSAtIDEpOwogICAgJE5vQXdhbCA9ICRNb2RlID09IDMgPyAwOiAkTm9Bd2FsOwoKICAgIHJldHVybiBhcnJheSgnS29uZGlzaSc9PiRLb25kaXNpLCAnT3JkZXInPT4kT3JkZXIgLCdMaW1pdCc9PiRMaW1pdCwgJ05vQXdhbCc9PiROb0F3YWwgKTsKCiAgfQoKCiAgZnVuY3Rpb24gcGFnZVNob3coKXsKICAgIGdsb2JhbCAkYXBwLCAkTWFpbjsKCiAgICAkbmF2YXRhc18gPSAkdGhpcy0+c2V0TmF2QXRhcygpOwogICAgJG5hdmF0YXMgPSAkbmF2YXRhc189PScnPyAvLyAnMCc6ICcyMCc7CiAgICAgICcnOgogICAgICAiPHRyPjx0ZCBoZWlnaHQ9JzIwJz4iLgogICAgICAgICAgJG5hdmF0YXNfLgogICAgICAiPC90ZD48L3RyPiI7CiAgICAkZm9ybTEgPSAkdGhpcy0+d2l0aGZvcm0\/ICI8Zm9ybSBuYW1lPSckdGhpcy0+Rm9ybU5hbWUnIGlkPSckdGhpcy0+Rm9ybU5hbWUnIG1ldGhvZD0ncG9zdCcgYWN0aW9uPScnPiIgOiAnJzsKICAgICRmb3JtMiA9ICR0aGlzLT53aXRoZm9ybT8gIjwvZm9ybSA+IjogJyc7CgogICAgaWYoJHRoaXMtPmplbmlzRm9ybSA9PSJQRU5ZVVNVTkFOIiB8fCAkdGhpcy0+amVuaXNGb3JtID09IlZBTElEQVNJIiB8fCAkdGhpcy0+amVuaXNGb3JtVGVyYWtoaXIgPT0gIlBFTllVU1VOQU4iIHx8ICR0aGlzLT5qZW5pc0Zvcm1UZXJha2hpciA9PSAiVkFMSURBU0kiICl7CiAgICAgICR0ZXJnYW50dW5nID0gIjEwMCI7CiAgICB9ZWxzZXsKICAgICAgJHRlcmdhbnR1bmcgPSAiMTAwIjsKICAgIH0KICAgIHJldHVybgoKICAgICI8aHRtbD4iLgogICAgICAkdGhpcy0+Z2VuSFRNTEhlYWQoKS4KICAgICAgIjxib2R5ID4iLgoKICAgICAgIjx0YWJsZSBpZD0nS2VyYW5na2FIYWwnIGNsYXNzPSdtZW51YmFyJyBjZWxsc3BhY2luZz0nMCcgY2VsbHBhZGRpbmc9JzAnIGJvcmRlcj0nMCcgIGhlaWdodD0nMTAwJScgPiIuCiAgICAgICAgIjx0ciBoZWlnaHQ9JzM0Jz48dGQ+Ii4KICAgICAgICAgICR0aGlzLT5zZXRQYWdlX0hlYWRlcigpLgogICAgICAgICAgIjxkaXYgaWQ9J2hlYWRlcicgPjwvZGl2PiIuCiAgICAgICAgIjwvdGQ+PC90cj4iLgogICAgICAgICRuYXZhdGFzLgogICAgICAgICI8dHIgaGVpZ2h0PScqJyB2YWxpZ249J3RvcCc+IDx0ZCA+Ii4KCiAgICAgICAgICAkdGhpcy0+c2V0UGFnZV9IZWFkZXJPdGhlcigpLgogICAgICAgICAgIjxkaXYgYWxpZ249J2NlbnRlcicgY2xhc3M9J2NlbnRlcm1haW4nID4iLgogICAgICAgICAgIjxkaXYgY2xhc3M9J21haW4nID4iLgogICAgICAgICAgJGZvcm0xLgogICAgICAgICAgICAkdGhpcy0+c2V0UGFnZV9Db250ZW50KCkuCgogICAgICAgICAgJGZvcm0yLgogICAgICAgICAgIjwvZGl2PjwvZGl2PiIuCiAgICAgICAgIjwvdGQ+PC90cj4iLgogICAgICAgICI8dHI+PHRkIGhlaWdodD0nMjknID4iLgogICAgICAgICAgJE1haW4tPkNvcHlSaWdodC4KICAgICAgICAiPC90ZD48L3RyPiIuCiAgICAgICAgJE90aGVyRm9vdGVyUGFnZS4KICAgICAgIjwvdGFibGU+Ii4KICAgICAgIjwvYm9keT4KICAgIDwvaHRtbD4KICAgIDxzdHlsZT4KICAgICAgI2tlcmFuZ2thSGFsIHsKICAgICAgICAgICAgd2lkdGg6JHRlcmdhbnR1bmclOwogICAgICB9CgogICAgPC9zdHlsZT4KICAgICI7CiAgfQoKICBmdW5jdGlvbiBjaGVja0tvc29uZygkanVtbGFoKXsKICAgICAgaWYoJGp1bWxhaCA9PSAwIHx8ICRqdW1sYWggPT0gJycpewogICAgICAgICAgJGp1bWxhaCA9ICIiOwogICAgICB9CiAgICAgIHJldHVybiAkanVtbGFoOwogIH0KICBmdW5jdGlvbiBudWxsQ2hlY2tlcigkYW5na2EpewogICAgaWYoZW1wdHkoJGFuZ2thKSl7CiAgICAgICAgJGFuZ2thID0gIiI7CiAgICB9CiAgICByZXR1cm4gJGFuZ2thOwoKICB9CiAgZnVuY3Rpb24gcmVtb3ZlS29tYSgkYW5na2EpewogICAgICByZXR1cm4gc3RyX3JlcGxhY2UoIi4wMCIsIiIsJGFuZ2thKTsKICB9CiAgZnVuY3Rpb24ga2FzaWhOb2woJGFuZ2thKXsKICAgICAgaWYoJGFuZ2thIDwgMTApewogICAgICAgICAgJGh1YmxhID0gIjAwMCIuJGFuZ2thOwogICAgICB9ZWxzZWlmKCRhbmdrYSA8IDEwMCl7CiAgICAgICAgICAkaHVibGEgPSAiMDAiLiRhbmdrYTsKICAgICAgfWVsc2VpZigkYW5na2EgPCAxMDAwKXsKICAgICAgICAgICRodWJsYSA9ICIwIi4kYW5na2E7CiAgICAgIH1lbHNlaWYoJGFuZ2thIDwgMTAwMDApewogICAgICAgICAgJGh1YmxhID0gJGFuZ2thOwogICAgICB9CiAgICAgIHJldHVybiAkaHVibGE7CiAgfQogIGZ1bmN0aW9uIEhhcHVzKCRpZHMpewogICAgICRlcnI9Jyc7ICRjZWs9Jyc7CiAgICAgJHRhaHVuRGVwYW4gPSAkdGhpcy0+dGFodW5BbmdnYXJhbiArIDE7CiAgICAgZm9yKCRpID0gMDsgJGk8Y291bnQoJGlkcyk7ICRpKyspIHsKICAgICAgICAgICRnZXREYXRhQ2xvc2luZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gY2xvc2luZ19wZXJzZWRpYWFuIHdoZXJlIGlkID0gJyIuJGlkc1skaV0uIiciKSk7CiAgICAgICAgICAka29kZVNLUEQgPSAkZ2V0RGF0YUNsb3NpbmdbJ2MxJ10uIi4iLiRnZXREYXRhQ2xvc2luZ1snYyddLiIuIi4kZ2V0RGF0YUNsb3NpbmdbJ2QnXS4iLiIuJGdldERhdGFDbG9zaW5nWydlJ10uIi4iLiRnZXREYXRhQ2xvc2luZ1snZTEnXTsKICAgICAgICAgIGlmKCR0aGlzLT5zcWxOdW1Sb3coJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHR1dHVwX2J1a3VfcGVyc2VkaWFhbiB3aGVyZSB0YWh1bl9hbmdnYXJhbiA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0nJGtvZGVTS1BEJyIpKSA9PSAwKXsKICAgICAgICAgICAgaWYoJGdldERhdGFDbG9zaW5nWydzZW1lc3RlciddID09ICcxJyl7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBzYWxkb19hd2FsIHdoZXJlIHRhbmdnYWwgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyIpOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIHRhbmdnYWxfYnVrdSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEnIGFuZCBqbnM9JzEnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIik7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9ICcxJyIpOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAvLyAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHNhbGRvX2F3YWwgd2hlcmUgeWVhcih0YW5nZ2FsKSA9ICckdGFodW5EZXBhbicgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCciKTsKICAgICAgICAgICAgICAvLyAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSB5ZWFyKHRhbmdnYWxfYnVrdSkgPSAnJHRhaHVuRGVwYW4nIGFuZCBqbnM9JzEnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIik7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9ICcyJyIpOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnMyciKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBteXNxbF9xdWVyeSgiZGVsZXRlIGZyb20gJHRoaXMtPlRibE5hbWUgd2hlcmUgaWQgPSAnIi4kaWRzWyRpXS4iJyIpOwogICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICRlcnIgPSAiRGF0YSBzdWRhaCBkaSB0dXR1cCBidWt1IHRpZGFrIGRhcGF0IGRpIGhhcHVzICEiOwogICAgICAgICAgfQogICAgfQogICAgcmV0dXJuIGFycmF5KCdlcnInPT4kZXJyLCdjZWsnPT4kY2VrKTsKICB9CgogIGZ1bmN0aW9uIExhcG9yYW4oJGR0KXsKICAJIGdsb2JhbCAkU2Vuc3VzVG1wOwogIAkgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsKICAJICRqc29uID0gVFJVRTsJLy8kRXJyTXNnID0gJ3Rlcyc7CiAgCSAkZm9ybV9uYW1lID0gJHRoaXMtPlByZWZpeC4nX2Zvcm0nOwogIAkgJHRoaXMtPmZvcm1fd2lkdGggPSAzNTA7CiAgCSAkdGhpcy0+Zm9ybV9oZWlnaHQgPSAxMDA7CiAgCSAkdGhpcy0+Zm9ybV9jYXB0aW9uID0gJ0xBUE9SQU4gREFGVEFSIFBFUlNFRElBQU4nOwoKICAJICRjMSA9ICRkdFsnY2xvc2luZ1BlcnNlZGlhYW5TS1BEMmZtVVJVU0FOJ107CiAgCSAkYyA9ICRkdFsnY2xvc2luZ1BlcnNlZGlhYW5TS1BEMmZtU0tQRCddOwogIAkgJGQgPSAkZHRbJ2Nsb3NpbmdQZXJzZWRpYWFuU0tQRDJmbVVOSVQnXTsKICAJICRlID0gJGR0WydjbG9zaW5nUGVyc2VkaWFhblNLUEQyZm1TVUJVTklUJ107CiAgCSAkZTEgPSAkZHRbJ2Nsb3NpbmdQZXJzZWRpYWFuU0tQRDJmbVNFS1NJJ107CgogIAkgJHRoaXMtPmZvcm1fZmllbGRzID0gYXJyYXkoCiAgCQkJJ0NldGFramFuZycgPT4gYXJyYXkoCiAgCQkJCQkJCQkJJ2xhYmVsJz0+J1RBTkdHQUwgQ0VUQUsnLAogIAkJCQkJCQkJCSdsYWJlbFdpaWR0aCc9PjEwMCwKICAJCQkJCQkJCQkndmFsdWUnPT4iPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J3RhbmdnYWxDZXRhaycgaWQ9J3RhbmdnYWxDZXRhaycgdmFsdWU9JyIuZGF0ZSgnZC1tLVknKS4iJz4KICAJCQkJCQkJCQkiLAogIAkJCQkJCQkJKSwKICAJCQkndXNlcm5hbWUnID0+IGFycmF5KAogIAkJCQkJCQkJCSdsYWJlbCc9PidVU0VSTkFNRScsCiAgCQkJCQkJCQkJJ2xhYmVsV2lpZHRoJz0+MTAwLAogIAkJCQkJCQkJCSd2YWx1ZSc9PiI8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0ndXNlcm5hbWUnIGlkPSd1c2VybmFtZScgcmVhZG9ubHk9J3JlYWRvbmx5JyB2YWx1ZT0nIi4kdGhpcy0+dXNlcm5hbWUuIic+CiAgCQkJCQkJCQkJIiwKICAJCQkJCQkJCSksCiAgCQkJJ3R0ZCcgPT4gYXJyYXkoCiAgCQkJCQkJCQkJJ2xhYmVsJz0+J1RURCcsCiAgCQkJCQkJCQkJJ2xhYmVsV2lpZHRoJz0+MTAwLAogIAkJCQkJCQkJCSd2YWx1ZSc9PmNtYlF1ZXJ5KCdpZFBlbmFuZGFUYW5nYW4nLCRpZFBlbmFuZGFUYW5nYW4sIlNFTEVDVCBJZCwgbmFtYSBmcm9tIHJlZl90YW5kYXRhbmdhbiB3aGVyZSBrYXRlZ29yaV90YW5kYXRhbmdhbiA9ICcyMycgYW5kIGMxID0gJyRjMScgYW5kIGMgPSAnJGMnIGFuZCBkID0gJyRkJyIsIiIsJy0tIFRURCAtLScpLAoKICAJCQkJCQkJCSksCiAgCQkJKTsKICAJCSR0aGlzLT5mb3JtX21lbnViYXdhaCA9CiAgCQkJIgogIAkJCTxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2MxJyBpZD0nYzEnIHZhbHVlPSckYzEnID4KICAJCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdjJyBpZD0nYycgdmFsdWU9JyRjJyA+CiAgCQkJPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nZCcgaWQ9J2QnIHZhbHVlPSckZCcgPgogIAkJCTxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2UnIGlkPSdlJyB2YWx1ZT0nJGUnID4KICAJCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdlMScgaWQ9J2UxJyB2YWx1ZT0nJGUxJyA+CiAgCQkJPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nZmlsdGVyUGVyaW9kZScgaWQ9J2ZpbHRlclBlcmlvZGUnIHZhbHVlPSckZmlsdGVyUGVyaW9kZScgPgogIAkJCSIuCiAgCQkJIiA8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nVFREJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIubmV3VGFuZGFUYW5nYW5nYW4oKScgdGl0bGU9J1RURCcgPgogIAkJCQk8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nVmlldycgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLnZpZXdMYXBvcmFuKCknIHRpdGxlPSdWaWV3JyA+ICAgIi4KICAJCQkiIDxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdCYXRhbCcgb25jbGljaz0nJHRoaXMtPlByZWZpeC5DbG9zZSgpJyA+IjsKCiAgCSAkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtKCk7CiAgCSAkY29udGVudCA9ICRmb3JtOy8vJGNvbnRlbnQgPSAnY29udGVudCc7CiAgCSByZXR1cm4JYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCk7CiAgCX0KCiAgCWZ1bmN0aW9uIG5ld1RhbmRhVGFuZ2FuZ2FuKCl7CiAgCQkgZ2xvYmFsICRTZW5zdXNUbXA7CiAgCQkgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsKICAJCSBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAJCQkJJCRrZXkgPSAkdmFsdWU7CiAgCQkgfQogIAkJICRqc29uID0gVFJVRTsgIC8vJEVyck1zZyA9ICd0ZXMnOwogIAkJICRmb3JtX25hbWUgPSAkdGhpcy0+UHJlZml4LidfZm9ybSc7CiAgCQkgJHRoaXMtPmZvcm1fd2lkdGggPSA3MDA7CiAgCQkgJHRoaXMtPmZvcm1faGVpZ2h0ID0gMzAwOwogIAkJICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnQkFSVSBUQU5EQSBUQU5HQU4nOwogIAkJCSAkYXJyT3JkZXIgPSBhcnJheSgKICAJCQkJCQkJCQkgYXJyYXkoJzEnLCdLZXBhbGEgRGluYXMnKSwKICAJCQkJCQkJCQkgYXJyYXkoJzInLCdQZW5ndXJ1cyBCYXJhbmcnKSwKICAJCQkJCQkpOwogIAkJJGFyciA9IGFycmF5KAoKICAJCQkJYXJyYXkoJ3NlbGVjdEtlcGFsYSBEaW5hcycsJ0tlcGFsYSBEaW5hcycpLAogIAkJCQlhcnJheSgnc2VsZWN0UGVuZ3VydXMgQmFyYW5nJywnUGVuZ3VydXMgQmFyYW5nJyksCiAgCQkJCSk7CiAgCQkJJHF1ZXJ5ID0gIiIgOyRjZWsgLj0kcXVlcnk7CiAgCQkJJHJlcyA9IG15c3FsX3F1ZXJ5KCRxdWVyeSk7CiAgCQkJJGtvZGUxPWdlbk51bWJlcigkZHRbJ2MnXSwyKTsKICAJCQkka29kZTI9Z2VuTnVtYmVyKCRkdFsnZCddLDIpOwogIAkJCSRrb2RlMz1nZW5OdW1iZXIoJGR0WydlJ10sMik7CiAgCQkJJGtvZGU0PWdlbk51bWJlcigkZHRbJ2UxJ10sMyk7CiAgCQkJJG5hbWE9JGR0WyduYW1hJ107CiAgCQkJJG5pcD0kZHRbJ25pcCddOwogIAkJCSRqYWJhdGFuPSRkdFsnamFiYXRhbiddOwoKICAJCQkkQXJyamJ0ID0gYXJyYXkoCiAgCQkJCQlhcnJheSgnMS4nLCJLZXBhbGEgRGluYXMiKSwKICAJCQkJCWFycmF5KCcyLicsJ1Blbmd1cnVzIEJhcmFuZycpLAogIAkJCQkJKTsKCiAgCQkJJGtldCA9ICRkdFsna2F0ZWdvcmlfdGFuZGF0YW5nYW4nXTsKICAJCQkkYXJyYXlFc2Vsb24gPSBhcnJheSgKICAJCQkJCWFycmF5KCcxJywnRVNFTE9OIEknKSwKICAJCQkJCWFycmF5KCcyJywnRVNFTE9OIElJJyksCiAgCQkJCQlhcnJheSgnMycsJ0VTRUxPTiBJSUknKSwKICAJCQkJCWFycmF5KCc0JywnRVNFTE9OIElWJyksCiAgCQkJCQlhcnJheSgnNScsJ0VTRUxPTiBWJykKICAJCQkJCSk7CgogIAkJCSRxcnk0ID0gIlNFTEVDVCAqIEZST00gcmVmX3NrcGQgV0hFUkUgYzE9JyRjMScgYW5kIGM9JzAwJyBBTkQgZD0nMDAnIEFORCBlPScwMCcgQU5EIGUxPScwMDAnIjsvLyRjZWsuPSRxcnk7CiAgCQkJJGFxcnk0ID0gbXlzcWxfcXVlcnkoJHFyeTQpOwogIAkJCSRxdWVyeWMxID0gbXlzcWxfZmV0Y2hfYXJyYXkoJGFxcnk0KTsKICAJCQkkcXJ5ID0gIlNFTEVDVCAqIEZST00gcmVmX3NrcGQgV0hFUkUgYzE9JyRjMScgYW5kIGM9JyRjJyBBTkQgZD0nMDAnIEFORCBlPScwMCcgQU5EIGUxPScwMDAnIjsvLyRjZWsuPSRxcnk7CiAgCQkJJGFxcnkgPSBteXNxbF9xdWVyeSgkcXJ5KTsKICAJCQkkcXVlcnljID0gbXlzcWxfZmV0Y2hfYXJyYXkoJGFxcnkpOwogIAkJCSRxcnkxID0gIlNFTEVDVCAqIEZST00gcmVmX3NrcGQgV0hFUkUgYzE9JyRjMScgYW5kIGM9JyRjJyBBTkQgZD0nJGQnIEFORCBlPScwMCcgQU5EIGUxPScwMDAnIjsvLyRjZWsuPSRxcnkxOwogIAkJCSRhcXJ5MSA9IG15c3FsX3F1ZXJ5KCRxcnkxKTsKICAJCQkkcXVlcnlkID0gbXlzcWxfZmV0Y2hfYXJyYXkoJGFxcnkxKTsKICAJCQkkcXJ5MiA9ICJTRUxFQ1QgKiBGUk9NIHJlZl9za3BkIFdIRVJFIGMxPSckYzEnIGFuZCBjPSckYycgQU5EIGQ9JyRkJyBBTkQgZT0nJGUnIEFORCBlMT0nMDAwJyI7Ly8kY2VrLj0kcXJ5MjsKICAJCQkkYXFyeTIgPSBteXNxbF9xdWVyeSgkcXJ5Mik7CiAgCQkJJHF1ZXJ5ZSA9IG15c3FsX2ZldGNoX2FycmF5KCRhcXJ5Mik7CiAgCQkJJHFyeTMgPSAiU0VMRUNUICogRlJPTSByZWZfc2twZCBXSEVSRSBjMT0nJGMxJyBhbmQgYz0nJGMnIEFORCBkPSckZCcgQU5EIGU9JyRlJyBBTkQgZTE9JyRlMSciOyRjZWsuPSRxcnkzOwogIAkJCSRhcXJ5MyA9IG15c3FsX3F1ZXJ5KCRxcnkzKTsKICAJCQkkcXVlcnllMSA9IG15c3FsX2ZldGNoX2FycmF5KCRhcXJ5Myk7CiAgCQkJJHF1ZXJ5S2F0ZWdvcmkgPSAiU0VMRUNUIGlkLGthdGVnb3JpX3RhbmRhdGFuZ2FuIEZST00gcmVmX2thdGVnb3JpX3RhbmRhdGFuZ2FuIjsKCgogIAkJCSRxdWVyeVBhbmdrYXQ9InNlbGVjdCBuYW1hLGNvbmNhdChuYW1hLCcgKCcsZ29sLCcvJyxydWFuZywnKScpYXMgbmFtYSBmcm9tIHJlZl9wYW5na2F0IG9yZGVyIGJ5IGdvbCxydWFuZyI7CiAgCQkJJHF1ZXJ5UGFuZ2thdDI9InNlbGVjdCBwYW5na2F0LGNvbmNhdChwYW5na2F0LCcgKCcsZ29sLCcvJyxydWFuZywnKScpYXMgbmFtYSBmcm9tIHJlZl90YW5kYXRhbmdhbiB3aGVyZSBwYW5na2F0PSciLiRfUkVRVUVTVFsncGFuZ2thdCddLiInIGFuZCBnb2w9JyIuJF9SRVFVRVNUWydnb2wnXS4iJyBhbmQgcnVhbmc9JyIuJF9SRVFVRVNUWydydWFuZyddLiInIjsKICAJCQkkcXVlcnlQYW5na2F0Mj1teXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0IGdvbCxydWFuZyBmcm9tIHJlZl90YW5kYXRhbmdhbiB3aGVyZSBjMT0nJGMxJyBhbmQgYz0nJGMnIGFuZCBkPSckZCcgYW5kIGU9JyRlJyBhbmQgZTE9JyRlMScgYW5kIElkPSciLiR0aGlzLT5mb3JtX2lkcGxoLiInIikpOwogIAkJCSRjZWsuPSJzZWxlY3QgZ29sLHJ1YW5nIGZyb20gcmVmX3RhbmRhdGFuZ2FuIHdoZXJlIGMxPSckYzEnIGFuZCBjPSckYycgYW5kIGQ9JyRkJyBhbmQgZT0nJGUnIGFuZCBlMT0nJGUxJyBhbmQgSWQ9JyIuJHRoaXMtPmZvcm1faWRwbGguIiciOwogIAkJCQkgLy9pdGVtcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgCQkJJGRhdGtldGVnb3JpPSJzZWxlY3Qga2F0ZWdvcmlfdGFuZGF0YW5nYW4gZnJvbSByZWZfa2F0ZWdvcmlfdGFuZGF0YW5nYW4gd2hlcmUga2F0ZWdvcmlfdGFuZGF0YW5nYW49JyIuJGR0WydrYXRlZ29yaV90YW5kYXRhbmdhbiddLiInIjsKICAJCQkkY2VrLj0ic2VsZWN0IGthdGVnb3JpX3RhbmRhdGFuZ2FuIGZyb20gcmVmX2thdGVnb3JpX3RhbmRhdGFuZ2FuIHdoZXJlIGthdGVnb3JpX3RhbmRhdGFuZ2FuPSciLiRkdFsna2F0ZWdvcmlfdGFuZGF0YW5nYW4nXS4iJyI7CiAgCQkJLy8kcXJ5X2phYmF0YW4gPSAiU0VMRUNUIElkLCBuYW1hIEZST00gcmVmX2phYmF0YW4gV0hFUkUgYzE9JyRjMScgQU5EIGM9JyRjJyBBTkQgZD0nJGQnICI7CiAgCQkJJHF1ZXJ5Z2VkdW5nPSIiOwogIAkJCSRkYXRhcGFuZ2thdD0kcXVlcnlQYW5na2F0MlsnZ29sJ10uIi8iLiRxdWVyeVBhbmdrYXQyWydydWFuZyddOwogIAkJCSRkYXRjMT0kcXVlcnljMVsnYzEnXS4iLiIuJHF1ZXJ5YzFbJ25tX3NrcGQnXTsKICAJCQkkZGF0Yz0kcXVlcnljWydjJ10uIi4iLiRxdWVyeWNbJ25tX3NrcGQnXTsKICAJCQkkZGF0ZD0kcXVlcnlkWydkJ10uIi4iLiRxdWVyeWRbJ25tX3NrcGQnXTsKICAJCQkkZGF0ZT0kcXVlcnllWydlJ10uIi4iLiRxdWVyeWVbJ25tX3NrcGQnXTsKICAJCQkkZGF0ZTE9JHF1ZXJ5ZTFbJ2UxJ10uIi4iLiRxdWVyeWUxWydubV9za3BkJ107CiAgCQkJJHF1ZXJ5S2F0ZWdvcmkxID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoIlNFTEVDVCAqIGZyb20gcmVmX2thdGVnb3JpX3RhbmRhdGFuZ2FuIHdoZXJlIGlkID0gJzIzJyAiKSk7CiAgCQkJICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KAogIAkJCQknVVJVU0FOJyA9PiBhcnJheSgKICAJCQkJCQkJJ2xhYmVsJz0+J1VSVVNBTicsCiAgCQkJCQkJCSdsYWJlbFdpZHRoJz0+MTUwLAogIAkJCQkJCQkndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPgogIAkJCQkJCQk8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZGMxJyBpZD0nZGMxJyB2YWx1ZT0nIi4kZGF0YzEuIicgc3R5bGU9J3dpZHRoOjUwMHB4OycgcmVhZG9ubHk+CiAgCQkJCQkJCTwvZGl2PiIsCiAgCQkJCQkJCSApLAogIAkJCQknYmlkYW5nJyA9PiBhcnJheSgKICAJCQkJCQkJJ2xhYmVsJz0+J0JJREFORycsCiAgCQkJCQkJCSdsYWJlbFdpZHRoJz0+MTUwLAogIAkJCQkJCQkndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPgogIAkJCQkJCQk8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZGMnIGlkPSdkYycgdmFsdWU9JyIuJGRhdGMuIicgc3R5bGU9J3dpZHRoOjUwMHB4OycgcmVhZG9ubHk+CiAgCQkJCQkJCTwvZGl2PiIsCiAgCQkJCQkJCSApLAogIAkJCQknc2twZCcgPT4gYXJyYXkoCiAgCQkJCQkJCSdsYWJlbCc9PidTS1BEJywKICAJCQkJCQkJJ2xhYmVsV2lkdGgnPT4xNTAsCiAgCQkJCQkJCSd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+CiAgCQkJCQkJCTxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdkZCcgaWQ9J2RkJyB2YWx1ZT0nIi4kZGF0ZC4iJyBzdHlsZT0nd2lkdGg6NTAwcHg7JyByZWFkb25seT4KICAJCQkJCQkJPC9kaXY+IiwKICAJCQkJCQkJICksCiAgCQkJCSd1bml0JyA9PiBhcnJheSgKICAJCQkJCQkJJ2xhYmVsJz0+J1VOSVQnLAogIAkJCQkJCQknbGFiZWxXaWR0aCc9PjE1MCwKICAJCQkJCQkJJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4KICAJCQkJCQkJPGlucHV0IHR5cGU9J3RleHQndmFsdWU9JyIuJGRhdGUuIicgc3R5bGU9J3dpZHRoOjUwMHB4OycgcmVhZG9ubHk+CiAgCQkJCQkJCTwvZGl2PiIsCiAgCQkJCQkJCSApLAogIAkJCQknc3ViVW5pdCcgPT4gYXJyYXkoCiAgCQkJCQkJCSdsYWJlbCc9PidTVUIgVU5JVCcsCiAgCQkJCQkJCSdsYWJlbFdpZHRoJz0+MTUwLAogIAkJCQkJCQkndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPgogIAkJCQkJCQk8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZGQnIGlkPSdkZCcgdmFsdWU9JyIuJGRhdGUxLiInIHN0eWxlPSd3aWR0aDo1MDBweDsnIHJlYWRvbmx5PgogIAkJCQkJCQk8L2Rpdj4iLAogIAkJCQkJCQkgKSwKICAJCQkJJ2thdGVnb3JpJyA9PiBhcnJheSgKICAJCQkJCQkJJ2xhYmVsJz0+J0tBVEVHT1JJJywKICAJCQkJCQkJJ2xhYmVsV2lkdGgnPT4xNTAsCiAgCQkJCQkJCSd2YWx1ZSc9PiIKICAJCQkJCQkJCTxpbnB1dCB0eXBlPSd0ZXh0JyByZWFkb25seT0ncmVhZG9ubHknIHN0eWxlPSd3aWR0aDogMzUwcHg7JyBuYW1lPSdrYXRlZ29yaScgaWQ9J2thdGVnb3JpJyB2YWx1ZT0nIi4kcXVlcnlLYXRlZ29yaTFba2F0ZWdvcmlfdGFuZGF0YW5nYW5dLiInPgogIAkJCQkJCQkiLAogIAkJCQkJCQkgKSwKICAJCQkJJ25hbWFwZWdhd2FpJyA9PiBhcnJheSgKICAJCQkJCQkJJ2xhYmVsJz0+J05BTUEnLAogIAkJCQkJCQknbGFiZWxXaWR0aCc9PjE1MCwKICAJCQkJCQkJJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4KICAJCQkJCQkJPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J25hbWFwZWdhd2FpJyBpZD0nbmFtYXBlZ2F3YWknIHZhbHVlPSciLiRkdFsnbmFtYSddLiInIHN0eWxlPSd3aWR0aDo1MDBweDsnPgoKICAJCQkJCQkJPC9kaXY+IiwKICAJCQkJCQkJICksCiAgCQkJCSduaXBwZWdhd2FpJyA9PiBhcnJheSgKICAJCQkJCQkJJ2xhYmVsJz0+J05JUCcsCiAgCQkJCQkJCSdsYWJlbFdpZHRoJz0+MTcwLAogIAkJCQkJCQkndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPgogIAkJCQkJCQk8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nbmlwcGVnYXdhaScgaWQ9J25pcHBlZ2F3YWknIHZhbHVlPSciLiRkdFsnbmlwJ10uIicgc3R5bGU9J3dpZHRoOjI1MHB4Oyc+CgogIAkJCQkJCQk8L2Rpdj4iLAogIAkJCQkJCQkgKSwKICAJCQkJJ3BhbmdrYXQnID0+IGFycmF5KAogIAkJCQkJCQknbGFiZWwnPT4nUEFOR0tBVC8gR09MLyBSVUFORy4nLAogIAkJCQkJCQknbGFiZWxXaWR0aCc9PjE1MCwKICAJCQkJCQkJJ3ZhbHVlJz0+CiAgCQkJCQkJCSI8ZGl2IGlkPSdjb250X2dkJz4iLmNtYlF1ZXJ5KCdwYW5na2F0YWtoaXInLCRfUkVRVUVTVFsncGFuZ2thdCddLCRxdWVyeVBhbmdrYXQsJ3N0eWxlPSJ3aWR0aDoyNTBweDsib25jaGFuZ2U9IicuJHRoaXMtPlByZWZpeC4nLnBpbGloUGFuZ2thdCgpIicsJy0tUElMSUgtLScpLiImbmJzcCZuYnNwIi4iPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2dvbGFuZ19ha2hpcicgc3R5bGU9J3dpZHRoOjQwcHg7JyBpZD0nZ29sYW5nX2FraGlyJyBzaXplPTEgdmFsdWU9JyIuJGRhdGFwYW5na2F0LiInIHJlYWRvbmx5PgoKICAJCQkJCQkJPC9kaXY+IiwKICAJCQkJCQkJICksCgogIAkJCQknamFiYXRhbicgPT4gYXJyYXkoCiAgCQkJCQkJCSdsYWJlbCc9PidKQUJBVEFOJywKICAJCQkJCQkJJ2xhYmVsV2lkdGgnPT4xNTAsCiAgCQkJCQkJCSd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+CiAgCQkJCQkJCTxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdqYWJhdGFuJyBpZD0namFiYXRhbicgdmFsdWU9JyIuJGR0WydqYWJhdGFuJ10uIicgc3R5bGU9J3dpZHRoOjMwMHB4Oyc+CgogIAkJCQkJCQk8L2Rpdj4iLAogIAkJCQkJCQkgKSwKCiAgCQkJCSdlc2Vsb24nID0+IGFycmF5KAogIAkJCQkJCQknbGFiZWwnPT4nRVNFTE9OJywKICAJCQkJCQkJJ2xhYmVsV2lkdGgnPT4xNTAsCiAgCQkJCQkJCSd2YWx1ZSc9PmNtYkFycmF5KCdlc2Vsb25fYWtoaXInLCRfUkVRVUVTVFsnZXNlbG9uJ10sJGFycmF5RXNlbG9uLCctLVBJTElILS0nLCdzdHlsZT13aWR0aDoxMDBweDsnKSwKICAJCQkJCQkJKSwKICAJCQkJKTsKICAJCQkkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQogIAkJCQkiPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nSWRfc2twZCcgaWQ9J0lkX3NrcGQnICB2YWx1ZT0nIi4kSWQuIic+Ii4KICAJCQkJIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdTaW1wYW4nIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5zYXZlTmV3VGFuZGFUYW5nYW4oKScgdGl0bGU9J1NpbXBhbicgPiAmbmJzcCIuCiAgCQkJCSI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nQmF0YWwnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5jbG9zZVRhbmRhVGFuZ2FuRm9ybSgpJyA+IjsKICAJCQkkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtKCk7CiAgCQkJJGNvbnRlbnQgPSAkZm9ybTsKICAJCQlyZXR1cm4gIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOwogIAkJfQoKICBmdW5jdGlvbiB2aWV3TGFwb3JhbigkeGxzID1GQUxTRSl7CiAgICBnbG9iYWwgJE1haW47CiAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgIH0KICAgICAgJHRyQ2hpbGQgPSAiPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nanMvcGFnZU51bWJlci5qcyc+PC9zY3JpcHQ+IjsKICAgICAgJHdpZHRoID0gIjMzY20iOwogICAgICAkaGVpZ2h0ID0gIjIxLjVjbSI7CgogICAgJGFsaWduID0gImNlbnRlciI7CiAgICAkeGxzID0gJF9HRVRbJ3hscyddOwogICAgJHBpc2FoID0gIjx0ZCB3aWR0aD0nMSUnIHZhbGlnbj0ndG9wJz4gOiA8L3RkPiI7CiAgICBpZigkeGxzKXsKICAgICAgaGVhZGVyKCJDb250ZW50LXR5cGU6IGFwcGxpY2F0aW9uL21zZXhjZWwiKTsKICAgICAgaGVhZGVyKCJDb250ZW50LURpc3Bvc2l0aW9uOiBhdHRhY2htZW50OyBmaWxlbmFtZT0kdGhpcy0+ZmlsZU5hbWVFeGNlbC54bHMiKTsKICAgICAgaGVhZGVyKCJQcmFnbWE6IG5vLWNhY2hlIik7CiAgICAgIGhlYWRlcigiRXhwaXJlczogMCIpOwogICAgICAkYWxpZ24gPSAnY2VudGVyJzsKICAgICAgJHBpc2FoID0gIiI7CiAgICB9CgoKCgogICAgaWYoIWVtcHR5KCRjMSkgJiYgJGMxIT0iMCIgKXsKICAgICAgJHRoaXMtPmtvbmRpc2lTS1BEID0gIiBhbmQgYzE9JyRjMScgIjsKICAgIH0KICAgIGlmKCFlbXB0eSgkYykgJiYgJGMhPSIwMCIpewogICAgICAkdGhpcy0+a29uZGlzaVNLUEQgPSAiIGFuZCBjMT0nJGMxJyBhbmQgYz0nJGMnICI7CiAgICB9CiAgICBpZighZW1wdHkoJGQpICYmICRkIT0iMDAiKXsKICAgICAgJHRoaXMtPmtvbmRpc2lTS1BEID0gIiBhbmQgYzE9JyRjMScgYW5kIGM9JyRjJyBhbmQgZD0nJGQnICI7CiAgICB9CgogICAgLy9NVUxBSSBIYWxhbWFuIExhcG9yYW4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAkY3NzID0gJHhscyA\/ICI8c3R5bGU+Lm5mbXQ1IHttc28tbnVtYmVyLWZvcm1hdDonXEAnO308L3N0eWxlPiI6IjxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPVwiY3NzL3RlbXBsYXRlX2Nzcy5jc3NcIiB0eXBlPVwidGV4dC9jc3NcIiAvPiI7CiAgICBlY2hvCiAgICAgICI8aHRtbD4KICAgICAgPGxpbmsgcmVsPSdzdHlsZXNoZWV0JyB0eXBlPSd0ZXh0L2NzcycgaHJlZj0nYXNzZXRzL2Nzcy9ib290c3RyYXAubWluLmNzcyc+CiAgICAgIDxsaW5rIHJlbD0nc3R5bGVzaGVldCcgaHJlZj0naHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M\/ZmFtaWx5PSRmb250RmFtaWx5W29wdGlvbl92YWx1ZV0nPgogICAgICA8bGluayByZWw9J3N0eWxlc2hlZXQnIGhyZWY9J2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT0kZm9udE1lbnViYXJbb3B0aW9uX3ZhbHVlXSc+CiAgICAgIDxsaW5rIHJlbD0nc3R5bGVzaGVldCcgaHJlZj0naHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M\/ZmFtaWx5PSRDb250ZW50Rm9udFN0eWxlW29wdGlvbl92YWx1ZV0nPgogICAgICA8bGluayByZWw9J3N0eWxlc2hlZXQnIHR5cGU9J3RleHQvY3NzJyBocmVmPSdjc3MvcGFnZU51bWJlci5jc3MnPgogICAgICA8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPSdhc3NldHMvanMvanF1ZXJ5LTMuMi4xLm1pbi5qcyc+PC9zY3JpcHQ+CiAgICAgIDxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9J2pzL3BhZ2VOdW1iZXIuanMnPjwvc2NyaXB0PgogICAgICA8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPSdhc3NldHMvanMvYm9vdHN0cmFwLm1pbi5qcyc+PC9zY3JpcHQ+Ii4KICAgICAgICAiPGhlYWQ+CiAgICAgICAgICA8dGl0bGU+JE1haW4tPkp1ZHVsPC90aXRsZT4KICAgICAgICAgICRjc3MKICAgICAgICAgICR0aGlzLT5DZXRha19PdGhlckhUTUxIZWFkCiAgICAgICAgICA8c3R5bGU+CiAgICAgICAgICAgIC51a3VyYW50dWxpc2FuewogICAgICAgICAgICAgIGZvbnQtc2l6ZToxNXB4OwogICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC51a3VyYW50dWxpc2FuMXsKICAgICAgICAgICAgICBmb250LXNpemU6MjBweDsKICAgICAgICAgICAgfQogICAgICAgICAgICAudWt1cmFudHVsaXNhbklkUGVuZXJpbWFhbnsKICAgICAgICAgICAgICBmb250LXNpemU6MTZweDsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGVhZCB7IGRpc3BsYXk6IHRhYmxlLWhlYWRlci1ncm91cDsgfQogICAgICAgICAgPC9zdHlsZT4KICAgICAgICA8L2hlYWQ+Ii4KICAgICAgIjxib2R5ID4KICAgICAgICA8ZGl2IHN0eWxlPSd3aWR0aDokdGhpcy0+Q2V0YWtfV0lEVEhfTGFuZHNjYXBlOyc+CiAgICAgICAgICA8dGFibGUgY2xhc3M9XCJyYW5na2FjZXRha1wiIHN0eWxlPSd3aWR0aDogMzNjbTsgaGVpZ2h0OiAyMS41Y207IGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOyc+CiAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICA8dGQgdmFsaWduPVwidG9wXCI+IDxkaXYgc3R5bGU9J3RleHQtYWxpZ246Y2VudGVyOyc+CiAgICAgICAgICAgICAgPHRhYmxlIHN0eWxlPSd3aWR0aDogMTAwJTsgYm9yZGVyOiBub25lOyc+CiAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQgc3R5bGU9J3dpZHRoOiAxMCU7IHRleHQtYWxpZ246IGNlbnRlcjsnPgogICAgICAgICAgICAgICAgICA8aW1nIHNyYz0nIi4kdGhpcy0+Z2V0SW1hZ2VSZXBvcnQoKS4iJyBzdHlsZT0nCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMi4wOHB4OwogICAgICAgICAgICAgICAgICAgIGhlaWdodDogODQuNTk7CiAgICAgICAgICAgICAgICAgICAgbWF4LWhlaWdodDogODQuNTk7CiAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDIuMDhweDsKICAgICAgICAgICAgICAgICAgJz4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyOyc+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9J2ZvbnQtc2l6ZToxOHB4O2ZvbnQtd2VpZ2h0OmJvbGQ7dGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgJz4KICAgICAgICAgICAgICAgICAgICAgIERBRlRBUiBDTE9TSU5HIFBFUlNFRElBQU4gQkFSQU5HPGJyPgogICAgICAgICAgICAgICAgICAgICAgS09UQSAiLiR0aGlzLT5nZXRWZXJzaU5hbWUoKS4iPGJyPgogICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J3VrdXJhbnR1bGlzYW5JZFBlbmVyaW1hYW4nIHN0eWxlPSdmb250LXdlaWdodDogYm9sZDsnPlRBSFVOIEFOR0dBUkFOICIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIiA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICA8L3RhYmxlPiI7CiAgICBlY2hvICIKICAgICAgICAgICAgICAgIDxicj4KICAgICAgICAgICAgICAgIDx0YWJsZSB0YWJsZSB3aWR0aD0nMTAwJScgY2xhc3M9J2NldGFrJyBib3JkZXI9JzEnIHN0eWxlPSd3aWR0aDoxMDAlOyc+CiAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9J3RoMDEnIHN0eWxlPSd3aWR0aDoyMHB4OycgPk5PPC90aD4KICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9J3RoMDEnIHN0eWxlPSd3aWR0aDogNiU7Jz5UR0w8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0ndGgwMSc+Tk9NT1I8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0ndGgwMScgc3R5bGU9J3dpZHRoOiA1JTsnPlVOVFVLIEtFUEVSTFVBTjwvdGg+CiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPSd0aDAxJz5OQU1BIEJBUkFORzwvdGg+CiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPSd0aDAxJyBzdHlsZT0nd2lkdGg6IDglOyc+TUVSSy9UWVBFL1NQRUs8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0ndGgwMScgc3R5bGU9J3dpZHRoOiA3JTsnPkpVTUxBSDwvdGg+CiAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgIjsKICAgICRhcnJheVBlbmdndW5hQmFyYW5nID0gYXJyYXkoKTsKICAgICRhcnJheUV4Y2VwdCA9IGFycmF5KCk7CiAgICAkbm8gPSAxOwoKICAgICRxdWVyeVBlbmdlbHVhcmFuID0gbXlzcWxfcXVlcnkoIlNFTEVDVCAqIGZyb20gcGVuZ2VsdWFyYW4gd2hlcmUgYzEgPSAnJGMxJyBhbmQgYyA9ICckYycgYW5kIGQgPSAnJGQnIGFuZCBlID0gJyRlJyBhbmQgZTEgPSAnJGUxJyBhbmQgc3RhdHVzX3Bvc3RpbmcgPSAxICIpOwoKICAgIHdoaWxlICgkZGF0YVBlbmdlbHVhcmFuID0gbXlzcWxfZmV0Y2hfYXJyYXkoJHF1ZXJ5UGVuZ2VsdWFyYW4pKSB7CgogICAgICAkcXVlcnlEZXRhaWxQZW5nZWx1YXJhbiA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJTRUxFQ1QgKiBmcm9tIGRldGFpbF9wZW5nZWx1YXJhbiB3aGVyZSBpZF9wZW5nZWx1YXJhbiA9ICIuJGRhdGFQZW5nZWx1YXJhbltpZF0uIiAiKSk7CgogICAgICAkZmlyc3RJZCA9ICRxdWVyeURldGFpbFBlbmdlbHVhcmFuW2lkXTsKCiAgICAgIGlmICgkcXVlcnlEZXRhaWxQZW5nZWx1YXJhbltqdW1sYWhdID09ICIiKSB7CiAgICAgICAgJGp1bWxhaCA9ICcwJzsKICAgICAgfWVsc2V7CiAgICAgICAgJGp1bWxhaCA9ICRxdWVyeURldGFpbFBlbmdlbHVhcmFuW2p1bWxhaF07CiAgICAgIH0KCiAgICAgICRxdWVyeVJlZkJhcmFuZyA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJTRUxFQ1QgKiBmcm9tIHJlZl9iYXJhbmcgd2hlcmUgZiA9ICIuJHF1ZXJ5RGV0YWlsUGVuZ2VsdWFyYW5bZl0uIiBhbmQgZyA9ICIuJHF1ZXJ5RGV0YWlsUGVuZ2VsdWFyYW5bZ10uIiBhbmQgaCA9ICIuJHF1ZXJ5RGV0YWlsUGVuZ2VsdWFyYW5baF0uIiBhbmQgaSA9ICIuJHF1ZXJ5RGV0YWlsUGVuZ2VsdWFyYW5baV0uIiBhbmQgaiA9ICIuJHF1ZXJ5RGV0YWlsUGVuZ2VsdWFyYW5bal0uIiBhbmQgajEgPSAiLiRxdWVyeURldGFpbFBlbmdlbHVhcmFuW2oxXS4iICIpKTsKCiAgICAgIGVjaG8gIgogICAgICAgIDx0cj4KICAgICAgICAgIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNDZXRhayc+Ii4kbm8uIjwvdGQ+CiAgICAgICAgICA8dGQgY2xhc3M9J0dhcmlzQ2V0YWsnPiIuJGRhdGFQZW5nZWx1YXJhblt0YW5nZ2FsXS4iPC90ZD4KICAgICAgICAgIDx0ZCBjbGFzcz0nR2FyaXNDZXRhayc+Ii4kZGF0YVBlbmdlbHVhcmFuW25vbW9yXS4iPC90ZD4KICAgICAgICAgIDx0ZCBjbGFzcz0nR2FyaXNDZXRhayc+Ii4kZGF0YVBlbmdlbHVhcmFuW2tlcGVybHVhbl0uIjwvdGQ+CiAgICAgICAgICA8dGQgY2xhc3M9J0dhcmlzQ2V0YWsnPiIuJHF1ZXJ5UmVmQmFyYW5nW25tX2JhcmFuZ10uIjwvdGQ+CiAgICAgICAgICA8dGQgY2xhc3M9J0dhcmlzQ2V0YWsnPiIuJHF1ZXJ5RGV0YWlsUGVuZ2VsdWFyYW5bbWVya10uIjwvdGQ+CiAgICAgICAgICA8dGQgYWxpZ249J3JpZ2h0JyBjbGFzcz0nR2FyaXNDZXRhayc+Ii5udW1iZXJfZm9ybWF0KCRqdW1sYWgsMiwnLCcsJy4nKS4iPC90ZD4KICAgICAgICA8L3RyPgogICAgICAiOwoKICAgICAgJHF1ZXJ5RGV0YWlsUGVuZ2VsdWFyYW4yID0gbXlzcWxfcXVlcnkoIlNFTEVDVCAqIGZyb20gZGV0YWlsX3BlbmdlbHVhcmFuIHdoZXJlIGlkX3BlbmdlbHVhcmFuID0gIi4kZGF0YVBlbmdlbHVhcmFuW2lkXS4iIGFuZCBpZCAhPSAiLiRmaXJzdElkLiIgIik7CiAgICAgIHdoaWxlICgkZGF0YVBlbmdlbHVhcmFuMiA9IG15c3FsX2ZldGNoX2FycmF5KCRxdWVyeURldGFpbFBlbmdlbHVhcmFuMikpIHsKCiAgICAgICAgJHF1ZXJ5UmVmQmFyYW5nMiA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJTRUxFQ1QgKiBmcm9tIHJlZl9iYXJhbmcgd2hlcmUgZiA9ICIuJGRhdGFQZW5nZWx1YXJhbjJbZl0uIiBhbmQgZyA9ICIuJGRhdGFQZW5nZWx1YXJhbjJbZ10uIiBhbmQgaCA9ICIuJGRhdGFQZW5nZWx1YXJhbjJbaF0uIiBhbmQgaSA9ICIuJGRhdGFQZW5nZWx1YXJhbjJbaV0uIiBhbmQgaiA9ICIuJGRhdGFQZW5nZWx1YXJhbjJbal0uIiBhbmQgajEgPSAiLiRkYXRhUGVuZ2VsdWFyYW4yW2oxXS4iICIpKTsKCiAgICAgICAgaWYgKCRkYXRhUGVuZ2VsdWFyYW4yW2p1bWxhaF0gPT0gIiIpIHsKICAgICAgICAgICRqdW1sYWgyID0gJzAnOwogICAgICAgIH1lbHNlewogICAgICAgICAgJGp1bWxhaDIgPSAkZGF0YVBlbmdlbHVhcmFuMltqdW1sYWhdOwogICAgICAgIH0KCiAgICAgICAgZWNobyAiCiAgICAgICAgPHRyPgogICAgICAgICAgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0NldGFrJyBjb2xzcGFuPSc0Jz48L3RkPgogICAgICAgICAgPHRkIGNsYXNzPSdHYXJpc0NldGFrJz4iLiRxdWVyeVJlZkJhcmFuZzJbbm1fYmFyYW5nXS4iPC90ZD4KICAgICAgICAgIDx0ZCBjbGFzcz0nR2FyaXNDZXRhayc+Ii4kZGF0YVBlbmdlbHVhcmFuMlttZXJrXS4iPC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0ncmlnaHQnIGNsYXNzPSdHYXJpc0NldGFrJz4iLm51bWJlcl9mb3JtYXQoJGp1bWxhaDIsMiwnLCcsJy4nKS4iPC90ZD4KICAgICAgICA8L3RyPgogICAgICAiOwogICAgICB9CiAgICAgICRubysrOwogICAgfQoKICAgIGVjaG8gICAgICAgICI8L3RhYmxlPiI7CgogICAgaWYoJHhscyl7CiAgICAgIGVjaG8KICAgICAgICAgICAgIjxicj48ZGl2IGNsYXNzPSd1a3VyYW50dWxpc2FuJyBhbGlnbj0ncmlnaHQnPgogICAgICAgICAgICA8dGFibGUgYWxpZ249J3JpZ2h0Jz4KICAgICAgICAgICAgPHRyPgogICAgICAgICAgICA8dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8dGQgY29sc3Bhbj0nMic+CiAgICAgICAgICAgICR0aGlzLT5rb3RhLCAiLlZ1bG5XYWxrZXJUaXRpTWFuZ3NhKGRhdGUoJ1ktbS1kJykpLiIKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgPHRyPgogICAgICAgICAgICA8dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8dGQgY29sc3Bhbj0nMic+CiAgICAgICAgICAgIFBlbmdlbG9sYSBCYXJhbmcKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgPHRyPgogICAgICAgICAgICA8dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8dGQgY29sc3Bhbj0nMic+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDwvdHI+PHRyPgogICAgICAgICAgICA8dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8dGQgY29sc3Bhbj0nMic+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDwvdHI+PHRyPgogICAgICAgICAgICA8dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8dGQgY29sc3Bhbj0nMic+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkIGNvbHNwYW49JzInPgogICAgICAgICAgICA8dT4kdGhpcy0+cGVuZ2Vsb2xhQmFyYW5nPC91PgogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8L3RyPjx0cj4KICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkIGNvbHNwYW49JzInPgogICAgICAgICAgICBOSVAgJHRoaXMtPm5pcFBlbmdlbG9sYQogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8L3RyPgoKCgoKCiAgICAgICAgICAgIDwvdGFibGU+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvYm9keT4KICAgICAgPC9odG1sPiI7CiAgICB9ZWxzZXsKCgogICAgICAgICAgICAgICAgICAkcXVlcnlOYW1hMSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJTRUxFQ1QgKiBmcm9tIHJlZl90YW5kYXRhbmdhbiB3aGVyZSBrYXRlZ29yaV90YW5kYXRhbmdhbiA9ICczJyBhbmQgYzEgPSAnJGMxJyBhbmQgYyA9ICckYycgYW5kIGQgPSAnJGQnIGFuZCBlID0gJyRlJyBhbmQgZTEgPSAnJGUxJyAiKSk7CiAgICAgICAgICAgICAgICAgICRobW0gPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgiU0VMRUNUICogZnJvbSByZWZfdGFuZGF0YW5nYW4gd2hlcmUga2F0ZWdvcmlfdGFuZGF0YW5nYW4gPSAnMjMnIGFuZCBjMSA9ICckYzEnIGFuZCBjID0gJyRjJyBhbmQgZCA9ICckZCcgYW5kIElkID0gJyIuJGlkUGVuYW5kYVRhbmdhbi4iJyAiKSk7CgogICAgICAgICAgICAgICAgICAkcXVlcnlLYXRlZ29yaTEgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgiU0VMRUNUICogZnJvbSByZWZfa2F0ZWdvcmlfdGFuZGF0YW5nYW4gd2hlcmUgaWQgPSAnMycgIikpOwogICAgICAgICAgICAgICAgICAkbmFtYVBlbWRhID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoIlNFTEVDVCAqIGZyb20gZ2VuZXJhbF9zZXR0aW5nIHdoZXJlIG9wdGlvbl9uYW1lID0gJ2FsYW1hdF9wZW1kYScgIikpOwoKICAgICAgICAgICAgICAgICAgJHRhbmRhVGFuZ2FubmEgLj0gIjxicj48YnI+PGJyPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSd1a3VyYW50dWxpc2FuJyBzdHlsZSA9J2Zsb2F0OnJpZ2h0OyB0ZXh0LWFsaWduOmNlbnRlcjsnPgogICAgICAgICAgICAgICAgICAiLiR0aGlzLT5nZXRWZXJzaU5hbWUoKS4iLCAiLiR0aGlzLT50aXRpTWFuZ3NhKCR0aGlzLT5nZW5lcmF0ZURhdGUoJHRhbmdnYWxDZXRhaykpLiI8YnI+CiAgICAgICAgICAgICAgICAgICRobW1bamFiYXRhbl0KICAgICAgICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgICAgICA8YnI+CiAgICAgICAgICAgICAgICAgIDxicj4KICAgICAgICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgICAgICA8YnI+CiAgICAgICAgICAgICAgICAgIDx1PiIuJGhtbVsnbmFtYSddLiI8L3U+PGJyPgogICAgICAgICAgICAgICAgICBOSVAgIi4kaG1tWyduaXAnXS4iCgoKICAgICAgICAgICAgICAgICAgPC9kaXY+IjsKCgogICAgICBlY2hvCiAgICAgICAgICAgICIKICAgICAgICAgICAgIi4kdGFuZGFUYW5nYW5uYS4iCiAgICAgICAgICAgIDwhLS0gPGg1IGNsYXNzPSdwYWcgcGFnMSc+CiAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9J2JvdHRvbTogLTEwcHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDowOyc+Ii5kYXRlKCdkLW0tWScpLiIgLyAiLmRhdGUoJ2g6aScpLiIgLyAiLiR0aGlzLT51c2VybmFtZS4iPC9zcGFuPgogICAgICAgICAgICA8L2g1PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSdpbnNlcnQnPjwvZGl2PiAtLT4KICAgICAgICA8L2JvZHk+CiAgICAgIDwvaHRtbD4iOwogICAgfQogIH0KCiAgZnVuY3Rpb24gY2hlY2tGaWZvKCRrb25kaXNpU0tQRCwgJHNlbWVzdGVyKXsKICAgICRhcnJheUVycm9yID0gYXJyYXkoKTsKICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEIGFuZCBlMSE9JzAwMCciKTsKICAgIHdoaWxlICgkZGF0YVNLUEQgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFTS1BEKSkgewogICAgICAka29kZVNLUEQgPSAkZGF0YVNLUERbJ2MxJ10uIi4iLiRkYXRhU0tQRFsnYyddLiIuIi4kZGF0YVNLUERbJ2QnXS4iLiIuJGRhdGFTS1BEWydlJ10uIi4iLiRkYXRhU0tQRFsnZTEnXTsKICAgICAgJGdldERhdGFQZXJzZWRpYWFuID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHZpZXdfZGFmdGFyX3BlcnNlZGlhYW4gd2hlcmUgY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSkgPSAnJGtvZGVTS1BEJyIpOwogICAgICB3aGlsZSAoJGRhdGFQZXJzZWRpYWFuID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhUGVyc2VkaWFhbikpIHsKICAgICAgICAgICRrb2RlQmFyYW5nID0gJGRhdGFQZXJzZWRpYWFuWydmJ10uIi4iLiRkYXRhUGVyc2VkaWFhblsnZyddLiIuIi4kZGF0YVBlcnNlZGlhYW5bJ2gnXS4iLiIuJGRhdGFQZXJzZWRpYWFuWydpJ10uIi4iLiRkYXRhUGVyc2VkaWFhblsnaiddLiIuIi4kZGF0YVBlcnNlZGlhYW5bJ2oxJ107CiAgICAgICAgICAkaGFzaWxDaGVjayA9ICAkdGhpcy0+Y2hlY2tCYXJhbmcoJGtvZGVTS1BELCRrb2RlQmFyYW5nLCRzZW1lc3Rlcik7CiAgICAgICAgICBpZihzaXplb2YoJGhhc2lsQ2hlY2spID4gMCl7CiAgICAgICAgICAgICRhcnJheUVycm9yW10gPSBhcnJheSgna29kZUJhcmFuZycgPT4gJGtvZGVCYXJhbmcsICdpZEthcnR1UGVyc2VkaWFhbicgPT4gJGhhc2lsQ2hlY2spOwogICAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBpZihzaXplb2YoJGFycmF5RXJyb3IpID4gMCApewogICAgICAkZXJyb3JNZXNzYWdlID0gIkFkYSBkYXRhIHlhbmcgZXJyb3Igc2lsYWhrYW4gY2VrIGRpIGRhZnRhciBwZXJzZWRpYWFuICEiOwogICAgfWVsc2V7CiAgICAgICRlcnJvck1lc3NhZ2UgPSAiIjsKICAgIH0KICAgIHJldHVybiAkZXJyb3JNZXNzYWdlOwogIH0KCiAgZnVuY3Rpb24gY2hlY2tCYXJhbmcoJGtvZGVTS1BELCRrb2RlQmFyYW5nLCRwZXJpb2RlKXsKICAgICRlcnIgPSAiIjsKICAgICRjZWsgPSAiIjsKICAgICRjb250ZW50ID0gIiI7CiAgICAkZXhwbG9kZUtvZGVTS1BEID0gZXhwbG9kZSgiLiIsJGtvZGVTS1BEKTsKICAgICRleHBsb2RlS29kZUJhcmFuZyA9IGV4cGxvZGUoIi4iLCRrb2RlQmFyYW5nKTsKICAgICRjMSA9ICRleHBsb2RlS29kZVNLUERbMF07CiAgICAkYyA9ICRleHBsb2RlS29kZVNLUERbMV07CiAgICAkZCA9ICRleHBsb2RlS29kZVNLUERbMl07CiAgICAkZSA9ICRleHBsb2RlS29kZVNLUERbM107CiAgICAkZTEgPSAkZXhwbG9kZUtvZGVTS1BEWzRdOwogICAgJGYgPSAkZXhwbG9kZUtvZGVCYXJhbmdbMF07CiAgICAkZyA9ICRleHBsb2RlS29kZUJhcmFuZ1sxXTsKICAgICRoID0gJGV4cGxvZGVLb2RlQmFyYW5nWzJdOwogICAgJGkgPSAkZXhwbG9kZUtvZGVCYXJhbmdbM107CiAgICAkaiA9ICRleHBsb2RlS29kZUJhcmFuZ1s0XTsKICAgICRqMSA9ICRleHBsb2RlS29kZUJhcmFuZ1s1XTsKICAgICRzYWxkb0JhcmFuZyA9IDA7CiAgICAka29uZGlzaVRhaHVuID0gIiBhbmQgbGVmdCh0YW5nZ2FsX2J1a3UsNCkgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iJyAiOwogICAgaWYoIWVtcHR5KCRwZXJpb2RlKSl7CiAgICAgICAgaWYoJHBlcmlvZGUgPT0gJzEnKXsKICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNiI7CiAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZSAgPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInICI7CiAgICAgICAgfWVsc2VpZigkcGVyaW9kZSA9PSAnMicpewogICAgICAgICAgICAkbWluRmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA3IjsKICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CiAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZT0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpID49ICckbWluRmlsdGVyJyBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CiAgICAgICAgfWVsc2VpZigkcGVyaW9kZSA9PSAnMycpewogICAgICAgICAgICAkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjEyIjsKICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlID0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CiAgICAgICAgfQogICAgfQoKICAgICRnZXREYXRhVGFtYmFoID0gbXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgIGFuZCBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0nJGtvZGVCYXJhbmcnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnICRrb25kaXNpVGFodW4gJGtvbmRpc2lQZXJpb2RlIG9yZGVyIGJ5IHRhbmdnYWxfYnVrdSBhc2MiKTsKICAgIHdoaWxlICgkZGF0YVRhbWJhaCA9IG15c3FsX2ZldGNoX2FycmF5KCRnZXREYXRhVGFtYmFoKSkgewogICAgICAgICRkYXRhTG9ja1RhbWJhaCA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICd0YW5nZ2FsJyA9PiAkZGF0YVRhbWJhaFsndGFuZ2dhbF9idWt1J10sCiAgICAgICAgICAgICAgICAgICAgJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFUYW1iYWhbJ2lkJ10sCiAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGRhdGFUYW1iYWhbJ2p1bWxhaCddLAogICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJGRhdGFUYW1iYWhbJ2hhcmdhX3NhdHVhbiddLAogICAgICAgICAgICAgICAgICAgICdzaXNhJyA9PiAkZGF0YVRhbWJhaFsnanVtbGFoJ10sCiAgICAgICAgICAgICAgICAgICAgJ2MxJyA9PiAkYzEsCiAgICAgICAgICAgICAgICAgICAgJ2MnID0+ICRjLAogICAgICAgICAgICAgICAgICAgICdkJyA9PiAkZCwKICAgICAgICAgICAgICAgICAgICAnZScgPT4gJGUsCiAgICAgICAgICAgICAgICAgICAgJ2UxJyA9PiAkZTEsCiAgICAgICAgICAgICAgICAgICAgJ2YnID0+ICRmLAogICAgICAgICAgICAgICAgICAgICdnJyA9PiAkZywKICAgICAgICAgICAgICAgICAgICAnaCcgPT4gJGgsCiAgICAgICAgICAgICAgICAgICAgJ2knID0+ICRpLAogICAgICAgICAgICAgICAgICAgICdqJyA9PiAkaiwKICAgICAgICAgICAgICAgICAgICAnajEnID0+ICRqMSwKICAgICAgICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZQogICAgICAgICk7CiAgICAgICAgbXlzcWxfcXVlcnkoVnVsbldhbGtlckluc2VydCgndGVtcF9jaGVja19iYXJhbmdfdGFtYmFoJywkZGF0YUxvY2tUYW1iYWgpKTsKICAgIH0KICAgICRnZXREYXRhS3VyYW5nID0gbXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgIGFuZCBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0nJGtvZGVCYXJhbmcnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzInICRrb25kaXNpVGFodW4gJGtvbmRpc2lQZXJpb2RlIG9yZGVyIGJ5IHRhbmdnYWxfYnVrdSBhc2MiKTsKICAgIHdoaWxlICgkZGF0YUt1cmFuZyA9IG15c3FsX2ZldGNoX2FycmF5KCRnZXREYXRhS3VyYW5nKSkgewogICAgICAgICRhcnJheVBlcm9sZWhhbiA9IGFycmF5KCk7CiAgICAgICAgJGp1bWxhaEJhcmFuZ0t1cmFuZyA9ICRkYXRhS3VyYW5nWydqdW1sYWgnXTsKICAgICAgICAkZ2V0RGF0YVBlbmVyaW1hYW4gPSBteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSB0ZW1wX2NoZWNrX2JhcmFuZ190YW1iYWggd2hlcmUgY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSkgPSAnJGtvZGVTS1BEJyAgYW5kIGNvbmNhdChmLCcuJyxnLCcuJyxoLCcuJyxpLCcuJyxqLCcuJyxqMSkgPScka29kZUJhcmFuZycgYW5kIHNpc2EgIT0nMCciKTsKICAgICAgICB3aGlsZSAoJGRhdGFQZW5lcmltYWFuID0gbXlzcWxfZmV0Y2hfYXJyYXkoJGdldERhdGFQZW5lcmltYWFuKSkgewogICAgICAgICAgICBpZigkanVtbGFoQmFyYW5nS3VyYW5nICE9IDApewogICAgICAgICAgICAgIGlmKCRqdW1sYWhCYXJhbmdLdXJhbmcgPiAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXSApewogICAgICAgICAgICAgICAgICBteXNxbF9xdWVyeSgidXBkYXRlIHRlbXBfY2hlY2tfYmFyYW5nX3RhbWJhaCBzZXQgc2lzYSA9IHNpc2EgLSAiLiRkYXRhUGVuZXJpbWFhblsnc2lzYSddLiIgd2hlcmUgaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkJ10uIiciKTsKICAgICAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuW10gPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRQZW5lcmltYWFuJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJGRhdGFQZW5lcmltYWFuWydoYXJnYSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10gKiAkZGF0YVBlbmVyaW1hYW5bJ2hhcmdhJ10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICRqdW1sYWhCYXJhbmdLdXJhbmcgLT0gJGRhdGFQZW5lcmltYWFuWydzaXNhJ107CiAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgIG15c3FsX3F1ZXJ5KCJ1cGRhdGUgdGVtcF9jaGVja19iYXJhbmdfdGFtYmFoIHNldCBzaXNhID0gc2lzYSAtICRqdW1sYWhCYXJhbmdLdXJhbmcgd2hlcmUgaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkJ10uIiciKTsKICAgICAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuW10gPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRQZW5lcmltYWFuJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRqdW1sYWhCYXJhbmdLdXJhbmcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ2hhcmdhJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkanVtbGFoQmFyYW5nS3VyYW5nICogJGRhdGFQZW5lcmltYWFuWydoYXJnYSddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nID0gMDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgJGVuY29kaW5nID0ganNvbl9lbmNvZGUoJGFycmF5UGVyb2xlaGFuKTsKICAgICAgICAkZGVjb2RpbmcgPSBqc29uX2RlY29kZSgkZW5jb2RpbmcpOwogICAgICAgICRoYXJnYVBlcm9sZWhhbj0gIiI7CiAgICAgICAgZm9yICgkcGFuamFuZ0Zvcj0wOyAkcGFuamFuZ0ZvciA8IHNpemVvZigkZGVjb2RpbmcpIDsgJHBhbmphbmdGb3IrKykgewogICAgICAgICAgICAkaGFyZ2FQZXJvbGVoYW4gKz0gJGRlY29kaW5nWyRwYW5qYW5nRm9yXS0+dG90YWw7CiAgICAgICAgfQogICAgICAgICRkYXRhTG9ja0t1cmFuZyA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICd0YW5nZ2FsJyA9PiAkZGF0YUt1cmFuZ1sndGFuZ2dhbF9idWt1J10sCiAgICAgICAgICAgICAgICAgICAgJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFLdXJhbmdbJ2lkJ10sCiAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGRhdGFLdXJhbmdbJ2p1bWxhaCddLAogICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRoYXJnYVBlcm9sZWhhbiwKICAgICAgICAgICAgICAgICAgICAgJ2MxJyA9PiAkYzEsCiAgICAgICAgICAgICAgICAgICAgICdjJyA9PiAkYywKICAgICAgICAgICAgICAgICAgICAgJ2QnID0+ICRkLAogICAgICAgICAgICAgICAgICAgICAnZScgPT4gJGUsCiAgICAgICAgICAgICAgICAgICAgICdlMScgPT4gJGUxLAogICAgICAgICAgICAgICAgICAgICAnZicgPT4gJGYsCiAgICAgICAgICAgICAgICAgICAgICdnJyA9PiAkZywKICAgICAgICAgICAgICAgICAgICAgJ2gnID0+ICRoLAogICAgICAgICAgICAgICAgICAgICAnaScgPT4gJGksCiAgICAgICAgICAgICAgICAgICAgICdqJyA9PiAkaiwKICAgICAgICAgICAgICAgICAgICAgJ2oxJyA9PiAkajEsCiAgICAgICAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgJ3Blcm9sZWhhbicgPT4ganNvbl9lbmNvZGUoJGFycmF5UGVyb2xlaGFuKQoKICAgICAgICApOwogICAgICAgIG15c3FsX3F1ZXJ5KFZ1bG5XYWxrZXJJbnNlcnQoJ3RlbXBfY2hlY2tfYmFyYW5nX2t1cmFuZycsJGRhdGFMb2NrS3VyYW5nKSk7CiAgICB9CgoKCiAgICAkZ2V0RGF0YUhpc3RvcmkgPSBteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSkgPSAnJGtvZGVTS1BEJyAgYW5kIGNvbmNhdChmLCcuJyxnLCcuJyxoLCcuJyxpLCcuJyxqLCcuJyxqMSkgPScka29kZUJhcmFuZycgICRrb25kaXNpVGFodW4gJGtvbmRpc2lQZXJpb2RlIG9yZGVyIGJ5IHRhbmdnYWxfYnVrdSxqZW5pc19wZXJzZWRpYWFuIGFzYyIpOwogICAgd2hpbGUgKCRkYXRhSGlzdG9yaSA9IG15c3FsX2ZldGNoX2FycmF5KCRnZXREYXRhSGlzdG9yaSkpIHsKICAgICAgICAkc3RhdHVzQ2hlY2sgPSAyOwogICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnamVuaXNfcGVyc2VkaWFhbiddID09IDEpewogICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnMScpewogICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiU0FMRE8gQVdBTCI7CiAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzInKXsKICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnY2FyYV9wZXJvbGVoYW4nXSA9PSAnMicpewogICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gUEVNQkVMSUFOIjsKICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2NhcmFfcGVyb2xlaGFuJ10gPT0gJzMnKXsKICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5FUklNQUFOIEhJQkFIIjsKICAgICAgICAgICAgfQogICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc0Jyl7CiAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJDRUsgRklTSUsgVEFNQkFIIjsKICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnMycpewogICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVORVJJTUFBTiBESVNUUklCVVNJIjsKICAgICAgICAgIH0KICAgICAgICAgICRoYXJnYVNhdHVhbiA9ICRkYXRhSGlzdG9yaVsnaGFyZ2Ffc2F0dWFuJ107CiAgICAgICAgICAkdG90YWxIYXJnYSA9ICRoYXJnYVNhdHVhbiAqICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAkc2FsZG9CYXJhbmcgKz0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICR0b3RhbFNhbGRvICs9ICR0b3RhbEhhcmdhOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc2Jyl7CiAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5HRUxVQVJBTiI7CiAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNScpewogICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9IDA7CiAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiQ0VLIEZJU0lLIEtVUkFORyI7CiAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNycpewogICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9IDA7CiAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVOR0VMVUFSQU4gRElTVFJJQlVTSSI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJGhhcmdhU2F0dWFuID0gIiI7CiAgICAgICAgICAkc2FsZG9CYXJhbmcgLT0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICRnZXRUb3RhbEhhcmdhID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gdGVtcF9jaGVja19iYXJhbmdfa3VyYW5nIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgIGFuZCBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0nJGtvZGVCYXJhbmcnIGFuZCB1c2VybmFtZSA9JyR0aGlzLT51c2VybmFtZScgYW5kIGlkX3Rfa2FydHVfcGVyc2VkaWFhbiA9ICciLiRkYXRhSGlzdG9yaVsnaWQnXS4iJyIpKTsKICAgICAgICAgICR0b3RhbEhhcmdhID0gJGdldFRvdGFsSGFyZ2FbJ2hhcmdhJ107CiAgICAgICAgICAkdG90YWxTYWxkbyAtPSAkdG90YWxIYXJnYTsKICAgICAgICB9CgogICAgICAgIGlmKCRzYWxkb0JhcmFuZyA8IDApewogICAgICAgICAgICAkaWRLYXJ0dVBlcnNlZGlhYW5bXSA9ICRkYXRhSGlzdG9yaVsnaWQnXTsKICAgICAgICAgICAgJHN0YXR1c0NoZWNrID0gIjEiOwogICAgICAgIH0KICAgICAgICAkZGF0YVJpbmNpYW5Mb2NrID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgJ2MxJyA9PiAkYzEsCiAgICAgICAgICAgICAgICAgICAgJ2MnID0+ICRjLAogICAgICAgICAgICAgICAgICAgICdkJyA9PiAkZCwKICAgICAgICAgICAgICAgICAgICAnZScgPT4gJGUsCiAgICAgICAgICAgICAgICAgICAgJ2UxJyA9PiAkZTEsCiAgICAgICAgICAgICAgICAgICAgJ2YnID0+ICRmLAogICAgICAgICAgICAgICAgICAgICdnJyA9PiAkZywKICAgICAgICAgICAgICAgICAgICAnaCcgPT4gJGgsCiAgICAgICAgICAgICAgICAgICAgJ2knID0+ICRpLAogICAgICAgICAgICAgICAgICAgICdqJyA9PiAkaiwKICAgICAgICAgICAgICAgICAgICAnajEnID0+ICRqMSwKICAgICAgICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFIaXN0b3JpWyd0YW5nZ2FsX2J1a3UnXSwKICAgICAgICAgICAgICAgICAgICAndXJhaWFuJyA9PiAkdXJhaWFuUGVyc2VkaWFhbiwKICAgICAgICAgICAgICAgICAgICAnbWFzdWsnID0+ICRiYXJhbmdNYXN1aywKICAgICAgICAgICAgICAgICAgICAna2VsdWFyJyA9PiAkYmFyYW5nS2VsdWFyLAogICAgICAgICAgICAgICAgICAgICdoYXJnYV9zYXR1YW4nID0+ICRoYXJnYVNhdHVhbiwKICAgICAgICAgICAgICAgICAgICAnc2FsZG8nID0+ICRzYWxkb0JhcmFuZywKICAgICAgICAgICAgICAgICAgICAndG90YWwnID0+ICR0b3RhbEhhcmdhLAogICAgICAgICAgICAgICAgICAgICd0b3RhbF9oYXJnYScgPT4gJHRvdGFsU2FsZG8sCiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnID0+ICRkYXRhSGlzdG9yaVsnamVuaXNfcGVyc2VkaWFhbiddLAogICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhSGlzdG9yaVsnaWQnXSwKICAgICAgICAgICAgICAgICAgICAndGFodW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICAgICAgICdwZXJpb2RlJyA9PiAkcGVyaW9kZSwKICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJyA9PiAkc3RhdHVzQ2hlY2ssCiAgICAgICAgICAgICAgICAgICAgJ2lkX3RyYW5zYWtzaScgPT4gJGRhdGFIaXN0b3JpWydyZWZpZCddCiAgICAgICAgKTsKICAgICAgICBteXNxbF9xdWVyeShWdWxuV2Fsa2VySW5zZXJ0KCdjaGVja19iYXJhbmdfcGVyc2VkaWFhbicsJGRhdGFSaW5jaWFuTG9jaykpOwoKICAgIH0KICAgICAgcmV0dXJuICRpZEthcnR1UGVyc2VkaWFhbiA7CiAgfQoKCiAgZnVuY3Rpb24gc2V0U2FsZG9Bd2FsKCRrb2RlU0tQRCwka29kZUJhcmFuZyl7CiAgICAkZ2V0RGF0YUJhcmFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX2JhcmFuZyB3aGVyZSBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0gJyRrb2RlQmFyYW5nJyIpKTsKICAgICRnZXREYXRhUGVyc2VkaWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdmlld19kYWZ0YXJfcGVyc2VkaWFhbiB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnIGFuZCBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0gJyRrb2RlQmFyYW5nJyBhbmQgeWVhcih0YW5nZ2FsX2J1a3UpID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyIpKTsKICAgICRnZXREYXRhTG9ja0JhcmFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgYW5kIGNvbmNhdChmLCcuJyxnLCcuJyxoLCcuJyxpLCcuJyxqLCcuJyxqMSkgPSAnJGtvZGVCYXJhbmcnIGFuZCB0YWh1biA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0gJzEnIikpOwogICAgJGRhdGFTYWxkb0F3YWwgPSBhcnJheSgKICAgICAgJ2MxJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2MxJ10sCiAgICAgICdjJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2MnXSwKICAgICAgJ2QnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnZCddLAogICAgICAnZScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydlJ10sCiAgICAgICdlMScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydlMSddLAogICAgICAnZicgPT4gJGdldERhdGFQZXJzZWRpYWFuWydmJ10sCiAgICAgICdnJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2cnXSwKICAgICAgJ2gnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnaCddLAogICAgICAnaScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydpJ10sCiAgICAgICdqJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2onXSwKICAgICAgJ2oxJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2oxJ10sCiAgICAgICdzYXR1YW4nID0+ICRnZXREYXRhQmFyYW5nWydzYXR1YW4nXSwKICAgICAgJ3RhbmdnYWwnID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEiLAogICAgICAnam5zJyA9PiAnMScsCiAgICAgICdqZW5pc19wZXJzZWRpYWFuJyA9PiAnMScsCiAgICAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgICAgICdoYXJnYV9zYXR1YW4nID0+ICRnZXREYXRhTG9ja0JhcmFuZ1snaGFyZ2EnXSAvICRnZXREYXRhTG9ja0JhcmFuZ1snc2FsZG9fYmFyYW5nJ10gICwKICAgICAgJ2p1bWxhaCcgPT4gJGdldERhdGFMb2NrQmFyYW5nWydzYWxkb19iYXJhbmcnXSAsCiAgICAgICd0b3RhbCcgPT4gJGdldERhdGFMb2NrQmFyYW5nWydoYXJnYSddLAogICAgKTsKICAgICRxdWVyeUluc2V0U2FsZG9Bd2FsID0gJHRoaXMtPnNxbEluc2VydCgic2FsZG9fYXdhbCIsJGRhdGFTYWxkb0F3YWwpOwogICAgJHRoaXMtPnNxbFF1ZXJ5KCRxdWVyeUluc2V0U2FsZG9Bd2FsKTsKICAgICRnZXRJZFRyYW5zYWtzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBtYXgoaWQpIGZyb20gc2FsZG9fYXdhbCB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZycgYW5kIHRhbmdnYWw9JyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMSIuIiciKSk7CiAgICAkZGF0YUthcnR1UGVyc2VkaWFhbiA9IGFycmF5KAogICAgICAnYzEnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnYzEnXSwKICAgICAgJ2MnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnYyddLAogICAgICAnZCcgPT4gJGdldERhdGFQZXJzZWRpYWFuWydkJ10sCiAgICAgICdlJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2UnXSwKICAgICAgJ2UxJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2UxJ10sCiAgICAgICdmJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2YnXSwKICAgICAgJ2cnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnZyddLAogICAgICAnaCcgPT4gJGdldERhdGFQZXJzZWRpYWFuWydoJ10sCiAgICAgICdpJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2knXSwKICAgICAgJ2onID0+ICRnZXREYXRhUGVyc2VkaWFhblsnaiddLAogICAgICAnajEnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnajEnXSwKICAgICAgJ3RhbmdnYWxfYnVrdScgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMSIsCiAgICAgICdqbnMnID0+ICcxJywKICAgICAgJ2plbmlzX3BlcnNlZGlhYW4nID0+ICcxJywKICAgICAgJ2NhcmFfcGVyb2xlaGFuJyA9PiAnMScsCiAgICAgICdoYXJnYV9zYXR1YW4nID0+ICRnZXREYXRhTG9ja0JhcmFuZ1snaGFyZ2EnXSAvICRnZXREYXRhTG9ja0JhcmFuZ1snc2FsZG9fYmFyYW5nJ10sCiAgICAgICdqdW1sYWgnID0+ICRnZXREYXRhTG9ja0JhcmFuZ1snc2FsZG9fYmFyYW5nJ10gLAogICAgICAndG90YWwnID0+ICRnZXREYXRhTG9ja0JhcmFuZ1snaGFyZ2EnXSwKICAgICAgJ3NhdHVhbicgPT4gJGdldERhdGFCYXJhbmdbJ3NhdHVhbiddLAogICAgICAncmVmaWQnID0+ICRnZXRJZFRyYW5zYWtzaVsnbWF4KGlkKSddCiAgICApOwogICAgJHF1ZXJ5S2FydHVQZXJzZWRpYWFuID0gJHRoaXMtPnNxbEluc2VydCgidF9rYXJ0dV9wZXJzZWRpYWFuIiwkZGF0YUthcnR1UGVyc2VkaWFhbik7CiAgICAkdGhpcy0+c3FsUXVlcnkoJHF1ZXJ5S2FydHVQZXJzZWRpYWFuKTsKICAgIHJldHVybiAkcXVlcnlJbnNldFNhbGRvQXdhbDsKICB9CglmdW5jdGlvbiBzZXRTYWxkb0F3YWxUYWh1bmFuKCRrb2RlU0tQRCwka29kZUJhcmFuZyl7CiAgICAkdGFodW5EZXBhbiA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuICArIDE7CiAgICAkZ2V0RGF0YUJhcmFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX2JhcmFuZyB3aGVyZSBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0gJyRrb2RlQmFyYW5nJyIpKTsKICAgICRnZXREYXRhUGVyc2VkaWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdmlld19kYWZ0YXJfcGVyc2VkaWFhbiB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnIGFuZCBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0gJyRrb2RlQmFyYW5nJyBhbmQgeWVhcih0YW5nZ2FsX2J1a3UpID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyIpKTsKICAgICRnZXREYXRhTG9ja0JhcmFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgYW5kIGNvbmNhdChmLCcuJyxnLCcuJyxoLCcuJyxpLCcuJyxqLCcuJyxqMSkgPSAnJGtvZGVCYXJhbmcnIGFuZCB0YWh1biA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0gJzInIikpOwogICAgJGRhdGFTYWxkb0F3YWwgPSBhcnJheSgKICAgICAgJ2MxJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2MxJ10sCiAgICAgICdjJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2MnXSwKICAgICAgJ2QnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnZCddLAogICAgICAnZScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydlJ10sCiAgICAgICdlMScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydlMSddLAogICAgICAnZicgPT4gJGdldERhdGFQZXJzZWRpYWFuWydmJ10sCiAgICAgICdnJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2cnXSwKICAgICAgJ2gnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnaCddLAogICAgICAnaScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydpJ10sCiAgICAgICdqJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2onXSwKICAgICAgJ2oxJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2oxJ10sCiAgICAgICdzYXR1YW4nID0+ICRnZXREYXRhQmFyYW5nWydzYXR1YW4nXSwKICAgICAgJ3RhbmdnYWwnID0+ICR0YWh1bkRlcGFuLiItJHRoaXMtPmJ1bGFuVGFuZ2dhbFNhbGRvQXdhbCIsCiAgICAgICdqbnMnID0+ICcxJywKICAgICAgJ2plbmlzX3BlcnNlZGlhYW4nID0+ICcxJywKICAgICAgJ3RhaHVuX2FuZ2dhcmFuJyA9PiAkdGFodW5EZXBhbiwKICAgICAgJ2hhcmdhX3NhdHVhbicgPT4gJGdldERhdGFMb2NrQmFyYW5nWydoYXJnYSddIC8gJGdldERhdGFMb2NrQmFyYW5nWydzYWxkb19iYXJhbmcnXSAgLAogICAgICAnanVtbGFoJyA9PiAkZ2V0RGF0YUxvY2tCYXJhbmdbJ3NhbGRvX2JhcmFuZyddICwKICAgICAgJ3RvdGFsJyA9PiAkZ2V0RGF0YUxvY2tCYXJhbmdbJ2hhcmdhJ10sCiAgICApOwogICAgJHF1ZXJ5SW5zZXRTYWxkb0F3YWwgPSAkdGhpcy0+c3FsSW5zZXJ0KCJzYWxkb19hd2FsIiwkZGF0YVNhbGRvQXdhbCk7CiAgICAkdGhpcy0+c3FsUXVlcnkoJHF1ZXJ5SW5zZXRTYWxkb0F3YWwpOwogICAgJGdldElkVHJhbnNha3NpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IG1heChpZCkgZnJvbSBzYWxkb19hd2FsIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyBhbmQgdGFuZ2dhbD0nIi4kdGFodW5EZXBhbi4iLSR0aGlzLT5idWxhblRhbmdnYWxTYWxkb0F3YWwiLiInIikpOwogICAgJGRhdGFLYXJ0dVBlcnNlZGlhYW4gPSBhcnJheSgKICAgICAgJ2MxJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2MxJ10sCiAgICAgICdjJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2MnXSwKICAgICAgJ2QnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnZCddLAogICAgICAnZScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydlJ10sCiAgICAgICdlMScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydlMSddLAogICAgICAnZicgPT4gJGdldERhdGFQZXJzZWRpYWFuWydmJ10sCiAgICAgICdnJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2cnXSwKICAgICAgJ2gnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnaCddLAogICAgICAnaScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydpJ10sCiAgICAgICdqJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2onXSwKICAgICAgJ2oxJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2oxJ10sCiAgICAgICd0YW5nZ2FsX2J1a3UnID0+ICR0YWh1bkRlcGFuLiItJHRoaXMtPmJ1bGFuVGFuZ2dhbFNhbGRvQXdhbCIsCiAgICAgICdqbnMnID0+ICcxJywKICAgICAgJ2plbmlzX3BlcnNlZGlhYW4nID0+ICcxJywKICAgICAgJ2NhcmFfcGVyb2xlaGFuJyA9PiAnMScsCiAgICAgICdoYXJnYV9zYXR1YW4nID0+ICRnZXREYXRhTG9ja0JhcmFuZ1snaGFyZ2EnXSAvICRnZXREYXRhTG9ja0JhcmFuZ1snc2FsZG9fYmFyYW5nJ10sCiAgICAgICdqdW1sYWgnID0+ICRnZXREYXRhTG9ja0JhcmFuZ1snc2FsZG9fYmFyYW5nJ10gLAogICAgICAndG90YWwnID0+ICRnZXREYXRhTG9ja0JhcmFuZ1snaGFyZ2EnXSwKICAgICAgJ3NhdHVhbicgPT4gJGdldERhdGFCYXJhbmdbJ3NhdHVhbiddLAogICAgICAncmVmaWQnID0+ICRnZXRJZFRyYW5zYWtzaVsnbWF4KGlkKSddCiAgICApOwogICAgaWYoIWVtcHR5KCRnZXREYXRhUGVyc2VkaWFhblsnYzEnXSkpewogICAgICAkcXVlcnlLYXJ0dVBlcnNlZGlhYW4gPSAkdGhpcy0+c3FsSW5zZXJ0KCJ0X2thcnR1X3BlcnNlZGlhYW4iLCRkYXRhS2FydHVQZXJzZWRpYWFuKTsKICAgIH0KICAgICR0aGlzLT5zcWxRdWVyeSgkcXVlcnlLYXJ0dVBlcnNlZGlhYW4pOwoKICAgIHJldHVybiAkcXVlcnlJbnNldFNhbGRvQXdhbDsKICB9CiAgZnVuY3Rpb24gZ3JhYlRyYW5zYWtzaVNlbWVzdGVyMSgka29kZVNLUEQsJGtvZGVCYXJhbmcsJGZpbHRlclBlcmlvZGUpewoJCSR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nPScka29kZUJhcmFuZycgYW5kIHNlbWVzdGVyID0gJyRmaWx0ZXJQZXJpb2RlJyIpOwogICAgJGVyciA9ICIiOwogICAgJGNlayA9ICIiOwogICAgJGNvbnRlbnQgPSAiIjsKICAgICRrb25kaXNpVGFodW4gPSAiIGFuZCBsZWZ0KHRhbmdnYWxfYnVrdSw0KSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiInICI7CiAgICBpZighZW1wdHkoJGZpbHRlclBlcmlvZGUpKXsKICAgICAgICBpZigkZmlsdGVyUGVyaW9kZSA9PSAnMScpewogICAgICAgICAgICAkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA2IjsKICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlICA9ICIgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlcicgIjsKICAgICAgICB9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09ICcyJyl7CiAgICAgICAgICAgICRtaW5GaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMDciOwogICAgICAgICAgICAkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjEyIjsKICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPj0gJyRtaW5GaWx0ZXInIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKICAgICAgICB9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09ICczJyl7CiAgICAgICAgICAgICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMTIiOwogICAgICAgICAgICAka29uZGlzaVBlcmlvZGUgPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKICAgICAgICB9CiAgICB9CgogICAgICAkZ2V0RGF0YSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nPScka29kZUJhcmFuZycgIikpOwogICAgICAkZGF0YUxvY2tCYXJhbmcgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICdjMScgPT4gJGdldERhdGFbJ2MxJ10sCiAgICAgICAgICAgICAgICAgICAgICAnYycgPT4gJGdldERhdGFbJ2MnXSwKICAgICAgICAgICAgICAgICAgICAgICdkJyA9PiAkZ2V0RGF0YVsnZCddLAogICAgICAgICAgICAgICAgICAgICAgJ2UnID0+ICRnZXREYXRhWydlJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZTEnID0+ICRnZXREYXRhWydlMSddLAogICAgICAgICAgICAgICAgICAgICAgJ2YxJyA9PiAkZ2V0RGF0YVsnZjEnXSwKICAgICAgICAgICAgICAgICAgICAgICdmMicgPT4gJGdldERhdGFbJ2YyJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZicgPT4gJGdldERhdGFbJ2YnXSwKICAgICAgICAgICAgICAgICAgICAgICdnJyA9PiAkZ2V0RGF0YVsnZyddLAogICAgICAgICAgICAgICAgICAgICAgJ2gnID0+ICRnZXREYXRhWydoJ10sCiAgICAgICAgICAgICAgICAgICAgICAnaScgPT4gJGdldERhdGFbJ2knXSwKICAgICAgICAgICAgICAgICAgICAgICdqJyA9PiAkZ2V0RGF0YVsnaiddLAogICAgICAgICAgICAgICAgICAgICAgJ2oxJyA9PiAkZ2V0RGF0YVsnajEnXSwKICAgICAgICAgICAgICAgICAgICAgICd0YWh1bicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgICAgICAgICAgICAgICAgICAgICAnc2VtZXN0ZXInID0+IDEsCiAgICAgICAgICApOwogICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoInRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyIsJGRhdGFMb2NrQmFyYW5nKSk7CgogICAgICAgICAgJGlkTG9jayA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBtYXgoaWQpIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyBhbmQgZT0nIi4kZ2V0RGF0YVsnZSddLiInIGFuZCBlMT0nIi4kZ2V0RGF0YVsnZTEnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyBhbmQgdGFodW4gPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iJyBhbmQgc2VtZXN0ZXIgPSAnIi4kZmlsdGVyUGVyaW9kZS4iJyAiKSk7CiAgICAgICAgICAkaWRMb2NrID0gJGlkTG9ja1snbWF4KGlkKSddOwoKCiAgICAgICAgICAkZ2V0RGF0YVRhbWJhaCA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgYzE9JyIuJGdldERhdGFbJ2MxJ10uIicgYW5kIGM9JyIuJGdldERhdGFbJ2MnXS4iJyBhbmQgZD0nIi4kZ2V0RGF0YVsnZCddLiInIGFuZCBlPSciLiRnZXREYXRhWydlJ10uIicgYW5kIGUxPSciLiRnZXREYXRhWydlMSddLiInICBhbmQgZj0nIi4kZ2V0RGF0YVsnZiddLiInIGFuZCBnPSciLiRnZXREYXRhWydnJ10uIicgYW5kIGg9JyIuJGdldERhdGFbJ2gnXS4iJyBhbmQgaT0nIi4kZ2V0RGF0YVsnaSddLiInIGFuZCBqPSciLiRnZXREYXRhWydqJ10uIicgYW5kIGoxPSciLiRnZXREYXRhWydqMSddLiInIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnICRrb25kaXNpVGFodW4gJGtvbmRpc2lQZXJpb2RlIG9yZGVyIGJ5IHRhbmdnYWxfYnVrdSBhc2MiKTsKICAgICAgICAgIHdoaWxlICgkZGF0YVRhbWJhaCA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVRhbWJhaCkpIHsKCQkJCQkJaWYoJGRhdGFUYW1iYWhbJ2pucyddID09ICczJyl7CgkJCQkJCQkkZ2V0RGF0YURldGFpbERpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGRldGFpbF9yaW5jaWFuX2Rpc3RyaWJ1c2kgd2hlcmUgIGlkID0gJyIuJGRhdGFUYW1iYWhbJ3JlZmlkJ10uIiciKSk7CgkJCQkJCQkkZ2V0RGF0YVJpbmNpYW5EaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByaW5jaWFuX2Rpc3RyaWJ1c2kgd2hlcmUgIGlkID0gJyIuJGdldERhdGFEZXRhaWxEaXN0cmlidXNpWydpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knXS4iJyIpKTsKCQkJCQkJCSRkYXRhQ291bnREaXN0cmlidXNpID0gYXJyYXkoCgkJCQkJCQkJCQkJCQknaWRfbG9ja19iYXJhbmcnID0+ICRpZExvY2ssCgkJCQkJCQkJCQkJCQknYzEnID0+ICRnZXREYXRhWydjMSddLAoJCQkJCQkJCQkJCQkJJ2MnID0+ICRnZXREYXRhWydjJ10sCgkJCQkJCQkJCQkJCQknZCcgPT4gJGdldERhdGFbJ2QnXSwKCQkJCQkJCQkJCQkJCSdlJyA9PiAkZ2V0RGF0YVsnZSddLAoJCQkJCQkJCQkJCQkJJ2UxJyA9PiAkZ2V0RGF0YVsnZTEnXSwKCQkJCQkJCQkJCQkJCSdmJyA9PiAkZ2V0RGF0YVsnZiddLAoJCQkJCQkJCQkJCQkJJ2cnID0+ICRnZXREYXRhWydnJ10sCgkJCQkJCQkJCQkJCQknaCcgPT4gJGdldERhdGFbJ2gnXSwKCQkJCQkJCQkJCQkJCSdpJyA9PiAkZ2V0RGF0YVsnaSddLAoJCQkJCQkJCQkJCQkJJ2onID0+ICRnZXREYXRhWydqJ10sCgkJCQkJCQkJCQkJCQknajEnID0+ICRnZXREYXRhWydqMSddLAoJCQkJCQkJCQkJCQkJJ2lkX2Rpc3RyaWJ1c2knID0+ICRnZXREYXRhUmluY2lhbkRpc3RyaWJ1c2lbJ2lkX2Rpc3RyaWJ1c2knXSwKCQkJCQkJCQkJCQkJCSdpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knID0+ICRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaVsnaWRfcmluY2lhbl9kaXN0cmlidXNpJ10sCgkJCQkJCQkJCQkJCQknc2VtZXN0ZXInID0+IDEsCgkJCQkJCQkJCQkJCQknbm9tb3InID0+ICRkYXRhVGFtYmFoWydub21vciddLAoJCQkJCQkJCQkJCQkJJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFUYW1iYWhbJ2lkJ10KCgkJCQkJCQkpOwoJCQkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ2NvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbicsJGRhdGFDb3VudERpc3RyaWJ1c2kpKTsKCQkJCQkJIH0KICAgICAgICAgICAgICAkZGF0YUxvY2tUYW1iYWggPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFUYW1iYWhbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhVGFtYmFoWydpZCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhVGFtYmFoWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRkYXRhVGFtYmFoWydoYXJnYV9zYXR1YW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnc2lzYScgPT4gJGRhdGFUYW1iYWhbJ2p1bWxhaCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9sb2NrJyA9PiAkaWRMb2NrLAogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ2xvY2tfYmFyYW5nX3RhbWJhaCcsJGRhdGFMb2NrVGFtYmFoKSk7CiAgICAgICAgICB9CgogICAgICAgICAgJGdldERhdGFLdXJhbmcgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcyJyAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSBvcmRlciBieSB0YW5nZ2FsX2J1a3UgYXNjIik7CiAgICAgICAgICB3aGlsZSAoJGRhdGFLdXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFLdXJhbmcpKSB7CiAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuID0gYXJyYXkoKTsKICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nID0gJGRhdGFLdXJhbmdbJ2p1bWxhaCddOwogICAgICAgICAgICAgICRnZXREYXRhUGVuZXJpbWFhbiA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBsb2NrX2JhcmFuZ190YW1iYWggd2hlcmUgaWRfbG9jayA9ICciLiRpZExvY2suIicgYW5kIHNpc2EgIT0nMCciKTsKICAgICAgICAgICAgICB3aGlsZSAoJGRhdGFQZW5lcmltYWFuID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhUGVuZXJpbWFhbikpIHsKICAgICAgICAgICAgICAgICAgaWYoJGp1bWxhaEJhcmFuZ0t1cmFuZyAhPSAwKXsKCQkJCQkJCQkJCSRnZXRLYXJ0dVBlcnNlZGlhYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10uIiciKSk7CgkJCQkJCQkJCQlpZigkZ2V0S2FydHVQZXJzZWRpYWFuWydqbnMnXSA9PSAnMycpewoJCQkJCQkJCQkJCQkvLyBpZihpbnR2YWwoJGdldEthcnR1UGVyc2VkaWFhblsnaGFyZ2Ffc2F0dWFuJ10pID09IDApewoJCQkJCQkJCQkJCQkJaWYoJHRoaXMtPnNxbE51bVJvdygkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlIG5vbW9yID0gJyIuJGdldEthcnR1UGVyc2VkaWFhblsnbm9tb3InXS4iJyBhbmQgc2VtZXN0ZXIgPSAnMScgYW5kIHRhbWJhaGFuX2hhcmdhICE9JyciKSkgIT0gMCl7CgkJCQkJCQkJCQkJCQkJJGdldERhdGFDb3VudERpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSBub21vciA9ICciLiRnZXRLYXJ0dVBlcnNlZGlhYW5bJ25vbW9yJ10uIicgYW5kIHNlbWVzdGVyID0gJzEnIGFuZCB0YW1iYWhhbl9oYXJnYSAhPScnIikpOwoJCQkJCQkJCQkJCQkJCSRoYXJnYVNhdHVhblBlbmVyaW1hYW4gPSAkZ2V0RGF0YUNvdW50RGlzdHJpYnVzaVsndGFtYmFoYW5faGFyZ2EnXSAvICRnZXRLYXJ0dVBlcnNlZGlhYW5bJ2p1bWxhaCddOwoJCQkJCQkJCQkJCQkJCSRkYXRhVXBkYXRlRGlzdHJpYnVzaUthcnR1ID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJCSdoYXJnYV9zYXR1YW4nID0+ICRoYXJnYVNhdHVhblBlbmVyaW1hYW4sCgkJCQkJCQkJCQkJCQkJCSd0b3RhbCcgPT4gJGdldERhdGFDb3VudERpc3RyaWJ1c2lbJ3RhbWJhaGFuX2hhcmdhJ10sCgkJCQkJCQkJCQkJCQkJKTsKCQkJCQkJCQkJCQkJCQkkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbFVwZGF0ZSgidF9rYXJ0dV9wZXJzZWRpYWFuIiwkZGF0YVVwZGF0ZURpc3RyaWJ1c2lLYXJ0dSwiaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddLiInIikpOwoJCQkJCQkJCQkJCQkJCSR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlIG5vbW9yPSciLiRnZXRLYXJ0dVBlcnNlZGlhYW5bJ25vbW9yJ10uIiciKTsKCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJLy8gfQoJCQkJCQkJCQkJfWVsc2V7CgkJCQkJCQkJCQkJJGhhcmdhU2F0dWFuUGVuZXJpbWFhbiA9ICRkYXRhUGVuZXJpbWFhblsnaGFyZ2EnXTsKCQkJCQkJCQkJCX0KICAgICAgICAgICAgICAgICAgICBpZigkanVtbGFoQmFyYW5nS3VyYW5nID4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10gKXsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgbG9ja19iYXJhbmdfdGFtYmFoIHNldCBzaXNhID0gc2lzYSAtICIuJGRhdGFQZW5lcmltYWFuWydzaXNhJ10uIiB3aGVyZSBpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWQnXS4iJyIpOwogICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXlQZXJvbGVoYW5bXSA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZFBlbmVyaW1hYW4nID0+ICRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkJGhhcmdhU2F0dWFuUGVuZXJpbWFhbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG90YWwnID0+ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddICogJGhhcmdhU2F0dWFuUGVuZXJpbWFhbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGp1bWxhaEJhcmFuZ0t1cmFuZyAtPSAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgbG9ja19iYXJhbmdfdGFtYmFoIHNldCBzaXNhID0gc2lzYSAtICRqdW1sYWhCYXJhbmdLdXJhbmcgd2hlcmUgaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkJ10uIiciKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuW10gPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRQZW5lcmltYWFuJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRqdW1sYWhCYXJhbmdLdXJhbmcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJGp1bWxhaEJhcmFuZ0t1cmFuZyAqICRoYXJnYVNhdHVhblBlbmVyaW1hYW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgICRqdW1sYWhCYXJhbmdLdXJhbmcgPSAwOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAkZW5jb2RpbmcgPSBqc29uX2VuY29kZSgkYXJyYXlQZXJvbGVoYW4pOwogICAgICAgICAgICAgICRkZWNvZGluZyA9IGpzb25fZGVjb2RlKCRlbmNvZGluZyk7CiAgICAgICAgICAgICAgJGhhcmdhUGVyb2xlaGFuPSAiIjsKICAgICAgICAgICAgICBmb3IgKCRpPTA7ICRpIDwgc2l6ZW9mKCRkZWNvZGluZykgOyAkaSsrKSB7CiAgICAgICAgICAgICAgICAgICRoYXJnYVBlcm9sZWhhbiArPSAkZGVjb2RpbmdbJGldLT50b3RhbDsKICAgICAgICAgICAgICB9CgkJCQkJCQlpZigkZGF0YUt1cmFuZ1snam5zJ10gPT0gIjciKXsKCQkJCQkJCQkvL2h1YmxhCgkJCQkJCQkJJGdldERhdGFEZXRhaWxEaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBkZXRhaWxfcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlICBpZCA9ICciLiRkYXRhS3VyYW5nWydyZWZpZCddLiInIikpOwoJCQkJCQkJCSRnZXREYXRhUmluY2lhbkRpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJpbmNpYW5fZGlzdHJpYnVzaSB3aGVyZSAgaWQgPSAnIi4kZ2V0RGF0YURldGFpbERpc3RyaWJ1c2lbJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaSddLiInIikpOwoJCQkJCQkJCSRkYXRhQ291bnREaXN0cmlidXNpID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJJ2lkX2xvY2tfYmFyYW5nJyA9PiAkaWRMb2NrLAoJCQkJCQkJCQkJCQkJCSdjMScgPT4gJGdldERhdGFbJ2MxJ10sCgkJCQkJCQkJCQkJCQkJJ2MnID0+ICRnZXREYXRhWydjJ10sCgkJCQkJCQkJCQkJCQkJJ2QnID0+ICRnZXREYXRhWydkJ10sCgkJCQkJCQkJCQkJCQkJJ2UnID0+ICRnZXREYXRhWydlJ10sCgkJCQkJCQkJCQkJCQkJJ2UxJyA9PiAkZ2V0RGF0YVsnZTEnXSwKCQkJCQkJCQkJCQkJCQknZicgPT4gJGdldERhdGFbJ2YnXSwKCQkJCQkJCQkJCQkJCQknZycgPT4gJGdldERhdGFbJ2cnXSwKCQkJCQkJCQkJCQkJCQknaCcgPT4gJGdldERhdGFbJ2gnXSwKCQkJCQkJCQkJCQkJCQknaScgPT4gJGdldERhdGFbJ2knXSwKCQkJCQkJCQkJCQkJCQknaicgPT4gJGdldERhdGFbJ2onXSwKCQkJCQkJCQkJCQkJCQknajEnID0+ICRnZXREYXRhWydqMSddLAoJCQkJCQkJCQkJCQkJCSdpZF9kaXN0cmlidXNpJyA9PiAkZ2V0RGF0YVJpbmNpYW5EaXN0cmlidXNpWydpZF9kaXN0cmlidXNpJ10sCgkJCQkJCQkJCQkJCQkJJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaScgPT4gJGdldERhdGFEZXRhaWxEaXN0cmlidXNpWydpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knXSwKCQkJCQkJCQkJCQkJCQknc2VtZXN0ZXInID0+IDEsCgkJCQkJCQkJCQkJCQkJJ25vbW9yJyA9PiAkZGF0YUt1cmFuZ1snbm9tb3InXSwKCQkJCQkJCQkJCQkJCQkndGFtYmFoYW5faGFyZ2EnID0+ICRoYXJnYVBlcm9sZWhhbiwKCQkJCQkJCQkJCQkJCQknanNvbl9hcnJheScgPT4gJGVuY29kaW5nCgkJCQkJCQkJKTsKCQkJCQkJCQkkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgnY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuJywkZGF0YUNvdW50RGlzdHJpYnVzaSkpOwoJCQkJCQkJfQogICAgICAgICAgICAgICRkYXRhTG9ja0t1cmFuZyA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICd0YW5nZ2FsJyA9PiAkZGF0YUt1cmFuZ1sndGFuZ2dhbF9idWt1J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFLdXJhbmdbJ2lkJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGRhdGFLdXJhbmdbJ2p1bWxhaCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRoYXJnYVBlcm9sZWhhbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfbG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICAgICAgICAgICAgICAncGVyb2xlaGFuJyA9PiBqc29uX2VuY29kZSgkYXJyYXlQZXJvbGVoYW4pCgogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ2xvY2tfYmFyYW5nX2t1cmFuZycsJGRhdGFMb2NrS3VyYW5nKSk7CiAgICAgICAgICB9CgoKICAgICAgICAgICRnZXREYXRhSGlzdG9yaSA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgYzE9JyIuJGdldERhdGFbJ2MxJ10uIicgYW5kIGM9JyIuJGdldERhdGFbJ2MnXS4iJyBhbmQgZD0nIi4kZ2V0RGF0YVsnZCddLiInIGFuZCBlPSciLiRnZXREYXRhWydlJ10uIicgYW5kIGUxPSciLiRnZXREYXRhWydlMSddLiInICBhbmQgZj0nIi4kZ2V0RGF0YVsnZiddLiInIGFuZCBnPSciLiRnZXREYXRhWydnJ10uIicgYW5kIGg9JyIuJGdldERhdGFbJ2gnXS4iJyBhbmQgaT0nIi4kZ2V0RGF0YVsnaSddLiInIGFuZCBqPSciLiRnZXREYXRhWydqJ10uIicgYW5kIGoxPSciLiRnZXREYXRhWydqMSddLiInICAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSBvcmRlciBieSB0YW5nZ2FsX2J1a3UsamVuaXNfcGVyc2VkaWFhbiBhc2MiKTsKICAgICAgICAgIHdoaWxlICgkZGF0YUhpc3RvcmkgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFIaXN0b3JpKSkgewogICAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnamVuaXNfcGVyc2VkaWFhbiddID09IDEpewogICAgICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnMScpewogICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiU0FMRE8gQVdBTCI7CiAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzInKXsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnY2FyYV9wZXJvbGVoYW4nXSA9PSAnMicpewogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gUEVNQkVMSUFOIjsKICAgICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2NhcmFfcGVyb2xlaGFuJ10gPT0gJzMnKXsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5FUklNQUFOIEhJQkFIIjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc0Jyl7CiAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJDRUsgRklTSUsgVEFNQkFIIjsKICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnMycpewogICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVORVJJTUFBTiBESVNUUklCVVNJIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRoYXJnYVNhdHVhbiA9ICRkYXRhSGlzdG9yaVsnaGFyZ2Ffc2F0dWFuJ107CiAgICAgICAgICAgICAgICAkdG90YWxIYXJnYSA9ICRoYXJnYVNhdHVhbiAqICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAkc2FsZG9CYXJhbmcgKz0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICR0b3RhbFNhbGRvICs9ICR0b3RhbEhhcmdhOwoKICAgICAgICAgICAgICAgICRnZXRJZERldGFpbCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gbG9ja19iYXJhbmdfdGFtYmFoIHdoZXJlIGlkX2xvY2sgPSAnJGlkTG9jaycgYW5kIGlkX3Rfa2FydHVfcGVyc2VkaWFhbiA9ICciLiRkYXRhSGlzdG9yaVsnaWQnXS4iJyIpKTsKICAgICAgICAgICAgICAgICRpZERldGFpbCA9ICRnZXRJZERldGFpbFsnaWQnXTsKICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNicpewogICAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9IDA7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVOR0VMVUFSQU4iOwogICAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzUnKXsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAwOwogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIkNFSyBGSVNJSyBLVVJBTkciOwogICAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzcnKXsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAwOwogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkdFTFVBUkFOIERJU1RSSUJVU0kiOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICRoYXJnYVNhdHVhbiA9ICIiOwogICAgICAgICAgICAgICAgJHNhbGRvQmFyYW5nIC09ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAkZ2V0VG90YWxIYXJnYSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gbG9ja19iYXJhbmdfa3VyYW5nIHdoZXJlIGlkX2xvY2sgPSAnJGlkTG9jaycgYW5kIGlkX3Rfa2FydHVfcGVyc2VkaWFhbiA9ICciLiRkYXRhSGlzdG9yaVsnaWQnXS4iJyIpKTsKICAgICAgICAgICAgICAgICR0b3RhbEhhcmdhID0gJGdldFRvdGFsSGFyZ2FbJ2hhcmdhJ107CiAgICAgICAgICAgICAgICAkdG90YWxTYWxkbyAtPSAkdG90YWxIYXJnYTsKICAgICAgICAgICAgICAgICRpZERldGFpbCA9ICRnZXRUb3RhbEhhcmdhWydpZCddOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAkZGF0YVJpbmNpYW5Mb2NrID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX2xvY2snID0+ICRpZExvY2ssCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+ICRkYXRhSGlzdG9yaVsndGFuZ2dhbF9idWt1J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VyYWlhbicgPT4gJHVyYWlhblBlcnNlZGlhYW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hc3VrJyA9PiAkYmFyYW5nTWFzdWssCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2tlbHVhcicgPT4gJGJhcmFuZ0tlbHVhciwKICAgICAgICAgICAgICAgICAgICAgICAgICAnc2FsZG9fYmFyYW5nJyA9PiAkc2FsZG9CYXJhbmcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkdG90YWxIYXJnYSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnc2FsZG8nID0+ICR0b3RhbFNhbGRvLAogICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJyA9PiAkZGF0YUhpc3RvcmlbJ2plbmlzX3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YUhpc3RvcmlbJ2lkJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX2RldGFpbCcgPT4gJGlkRGV0YWlsLAogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ3JpbmNpYW5fbG9ja19iYXJhbmcnLCRkYXRhUmluY2lhbkxvY2spKTsKICAgICAgICAgIH0KICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgidXBkYXRlIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyBzZXQgaGFyZ2EgPSAnJHRvdGFsU2FsZG8nLCBzYWxkb19iYXJhbmcgPSAnJHNhbGRvQmFyYW5nJyB3aGVyZSBpZCA9ICckaWRMb2NrJyIpOwogICAgICByZXR1cm4gYXJyYXkoCiAgICAgICAgJ2lkTG9jaycgPT4gJGlkTG9jaywKICAgICAgICAnanVtbGFoSGFyZ2EnID0+ICR0b3RhbFNhbGRvLAogICAgICAgICdzYWxkbycgPT4gJHNhbGRvQmFyYW5nLAogICAgICApOwogIH0KICBmdW5jdGlvbiBncmFiVHJhbnNha3NpU2VtZXN0ZXIyKCRrb2RlU0tQRCwka29kZUJhcmFuZyl7CgogICAgJGVyciA9ICIiOwogICAgJGNlayA9ICIiOwogICAgJGNvbnRlbnQgPSAiIjsKICAgICRmaWx0ZXJQZXJpb2RlID0gJzInOwogICAgJGtvbmRpc2lUYWh1biA9ICIgYW5kIGxlZnQodGFuZ2dhbF9idWt1LDQpID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIicgIjsKICAgIGlmKCFlbXB0eSgkZmlsdGVyUGVyaW9kZSkpewogICAgICAgIGlmKCRmaWx0ZXJQZXJpb2RlID09ICcxJyl7CiAgICAgICAgICAgICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMDYiOwogICAgICAgICAgICAka29uZGlzaVBlcmlvZGUgID0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyAiOwogICAgICAgIH1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gJzInKXsKICAgICAgICAgICAgJG1pbkZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNyI7CiAgICAgICAgICAgICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMTIiOwogICAgICAgICAgICAka29uZGlzaVBlcmlvZGU9ICIgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA+PSAnJG1pbkZpbHRlcicgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlciciOwogICAgICAgICAgICAka29uZGlzaVNhbGRvQXdhbCA9ICIgYW5kIGlkIG5vdCBpbiAoIHNlbGVjdCBpZCBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBqbnMgPSAnMScgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgYW5kIHRhbmdnYWxfYnVrdSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItJHRoaXMtPmJ1bGFuVGFuZ2dhbFNhbGRvQXdhbCcpICI7CiAgICAgICAgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAnMycpewogICAgICAgICAgICAkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjEyIjsKICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlID0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CiAgICAgICAgICAgICRrb25kaXNpU2FsZG9Bd2FsID0gIiBhbmQgaWQgbm90IGluICggc2VsZWN0IGlkIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGpucyA9ICcxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgdGFuZ2dhbF9idWt1ID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMScpICI7CiAgICAgICAgfQogICAgfQoKICAgICAgJGdldERhdGEgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZz0nJGtvZGVCYXJhbmcnICIpKTsKICAgICAgJGRhdGFMb2NrQmFyYW5nID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAnYzEnID0+ICRnZXREYXRhWydjMSddLAogICAgICAgICAgICAgICAgICAgICAgJ2MnID0+ICRnZXREYXRhWydjJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZCcgPT4gJGdldERhdGFbJ2QnXSwKICAgICAgICAgICAgICAgICAgICAgICdlJyA9PiAkZ2V0RGF0YVsnZSddLAogICAgICAgICAgICAgICAgICAgICAgJ2UxJyA9PiAkZ2V0RGF0YVsnZTEnXSwKICAgICAgICAgICAgICAgICAgICAgICdmMScgPT4gJGdldERhdGFbJ2YxJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZjInID0+ICRnZXREYXRhWydmMiddLAogICAgICAgICAgICAgICAgICAgICAgJ2YnID0+ICRnZXREYXRhWydmJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZycgPT4gJGdldERhdGFbJ2cnXSwKICAgICAgICAgICAgICAgICAgICAgICdoJyA9PiAkZ2V0RGF0YVsnaCddLAogICAgICAgICAgICAgICAgICAgICAgJ2knID0+ICRnZXREYXRhWydpJ10sCiAgICAgICAgICAgICAgICAgICAgICAnaicgPT4gJGdldERhdGFbJ2onXSwKICAgICAgICAgICAgICAgICAgICAgICdqMScgPT4gJGdldERhdGFbJ2oxJ10sCiAgICAgICAgICAgICAgICAgICAgICAndGFodW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICAgICAgICAgJ3NlbWVzdGVyJyA9PiAyLAogICAgICAgICAgKTsKCQkJCQkkaW5zZXJ0TG9ja0JhcmFuZyA9ICR0aGlzLT5zcWxJbnNlcnQoInRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyIsJGRhdGFMb2NrQmFyYW5nKTsKICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkaW5zZXJ0TG9ja0JhcmFuZyk7CgogICAgICAgICAgJGlkTG9jayA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBtYXgoaWQpIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyBhbmQgZT0nIi4kZ2V0RGF0YVsnZSddLiInIGFuZCBlMT0nIi4kZ2V0RGF0YVsnZTEnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyBhbmQgdGFodW4gPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iJyBhbmQgc2VtZXN0ZXIgPSAnIi4kZmlsdGVyUGVyaW9kZS4iJyAiKSk7CiAgICAgICAgICAkaWRMb2NrID0gJGlkTG9ja1snbWF4KGlkKSddOwoKCiAgICAgICAgICAkZ2V0RGF0YVRhbWJhaCA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgYzE9JyIuJGdldERhdGFbJ2MxJ10uIicgYW5kIGM9JyIuJGdldERhdGFbJ2MnXS4iJyBhbmQgZD0nIi4kZ2V0RGF0YVsnZCddLiInIGFuZCBlPSciLiRnZXREYXRhWydlJ10uIicgYW5kIGUxPSciLiRnZXREYXRhWydlMSddLiInICBhbmQgZj0nIi4kZ2V0RGF0YVsnZiddLiInIGFuZCBnPSciLiRnZXREYXRhWydnJ10uIicgYW5kIGg9JyIuJGdldERhdGFbJ2gnXS4iJyBhbmQgaT0nIi4kZ2V0RGF0YVsnaSddLiInIGFuZCBqPSciLiRnZXREYXRhWydqJ10uIicgYW5kIGoxPSciLiRnZXREYXRhWydqMSddLiInIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnICRrb25kaXNpVGFodW4gJGtvbmRpc2lQZXJpb2RlICRrb25kaXNpU2FsZG9Bd2FsIG9yZGVyIGJ5IHRhbmdnYWxfYnVrdSBhc2MiKTsKICAgICAgICAgIHdoaWxlICgkZGF0YVRhbWJhaCA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVRhbWJhaCkpIHsKICAgICAgICAgICAgICAkZGF0YUxvY2tUYW1iYWggPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFUYW1iYWhbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhVGFtYmFoWydpZCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhVGFtYmFoWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRkYXRhVGFtYmFoWydoYXJnYV9zYXR1YW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnc2lzYScgPT4gJGRhdGFUYW1iYWhbJ2p1bWxhaCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9sb2NrJyA9PiAkaWRMb2NrLAogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ2xvY2tfYmFyYW5nX3RhbWJhaCcsJGRhdGFMb2NrVGFtYmFoKSk7CiAgICAgICAgICB9CgogICAgICAgICAgJGdldERhdGFLdXJhbmcgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcyJyAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSAka29uZGlzaVNhbGRvQXdhbCBvcmRlciBieSB0YW5nZ2FsX2J1a3UgYXNjIik7CiAgICAgICAgICB3aGlsZSAoJGRhdGFLdXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFLdXJhbmcpKSB7CiAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuID0gYXJyYXkoKTsKICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nID0gJGRhdGFLdXJhbmdbJ2p1bWxhaCddOwogICAgICAgICAgICAgICRnZXREYXRhUGVuZXJpbWFhbiA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBsb2NrX2JhcmFuZ190YW1iYWggd2hlcmUgaWRfbG9jayA9ICciLiRpZExvY2suIicgYW5kIHNpc2EgIT0nMCciKTsKICAgICAgICAgICAgICB3aGlsZSAoJGRhdGFQZW5lcmltYWFuID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhUGVuZXJpbWFhbikpIHsKICAgICAgICAgICAgICAgICAgaWYoJGp1bWxhaEJhcmFuZ0t1cmFuZyAhPSAwKXsKICAgICAgICAgICAgICAgICAgICBpZigkanVtbGFoQmFyYW5nS3VyYW5nID4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10gKXsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgbG9ja19iYXJhbmdfdGFtYmFoIHNldCBzaXNhID0gc2lzYSAtICIuJGRhdGFQZW5lcmltYWFuWydzaXNhJ10uIiB3aGVyZSBpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWQnXS4iJyIpOwogICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXlQZXJvbGVoYW5bXSA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZFBlbmVyaW1hYW4nID0+ICRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ2hhcmdhJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXSAqICRkYXRhUGVuZXJpbWFhblsnaGFyZ2EnXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGp1bWxhaEJhcmFuZ0t1cmFuZyAtPSAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgbG9ja19iYXJhbmdfdGFtYmFoIHNldCBzaXNhID0gc2lzYSAtICRqdW1sYWhCYXJhbmdLdXJhbmcgd2hlcmUgaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkJ10uIiciKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuW10gPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRQZW5lcmltYWFuJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRqdW1sYWhCYXJhbmdLdXJhbmcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ2hhcmdhJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkanVtbGFoQmFyYW5nS3VyYW5nICogJGRhdGFQZW5lcmltYWFuWydoYXJnYSddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nID0gMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgJGVuY29kaW5nID0ganNvbl9lbmNvZGUoJGFycmF5UGVyb2xlaGFuKTsKICAgICAgICAgICAgICAkZGVjb2RpbmcgPSBqc29uX2RlY29kZSgkZW5jb2RpbmcpOwogICAgICAgICAgICAgICRoYXJnYVBlcm9sZWhhbj0gIiI7CiAgICAgICAgICAgICAgZm9yICgkaT0wOyAkaSA8IHNpemVvZigkZGVjb2RpbmcpIDsgJGkrKykgewogICAgICAgICAgICAgICAgICAkaGFyZ2FQZXJvbGVoYW4gKz0gJGRlY29kaW5nWyRpXS0+dG90YWw7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICRkYXRhTG9ja0t1cmFuZyA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICd0YW5nZ2FsJyA9PiAkZGF0YUt1cmFuZ1sndGFuZ2dhbF9idWt1J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFLdXJhbmdbJ2lkJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGRhdGFLdXJhbmdbJ2p1bWxhaCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRoYXJnYVBlcm9sZWhhbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfbG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICAgICAgICAgICAgICAncGVyb2xlaGFuJyA9PiBqc29uX2VuY29kZSgkYXJyYXlQZXJvbGVoYW4pCgogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ2xvY2tfYmFyYW5nX2t1cmFuZycsJGRhdGFMb2NrS3VyYW5nKSk7CiAgICAgICAgICB9CgoKICAgICAgICAgICRnZXREYXRhSGlzdG9yaSA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgYzE9JyIuJGdldERhdGFbJ2MxJ10uIicgYW5kIGM9JyIuJGdldERhdGFbJ2MnXS4iJyBhbmQgZD0nIi4kZ2V0RGF0YVsnZCddLiInIGFuZCBlPSciLiRnZXREYXRhWydlJ10uIicgYW5kIGUxPSciLiRnZXREYXRhWydlMSddLiInICBhbmQgZj0nIi4kZ2V0RGF0YVsnZiddLiInIGFuZCBnPSciLiRnZXREYXRhWydnJ10uIicgYW5kIGg9JyIuJGdldERhdGFbJ2gnXS4iJyBhbmQgaT0nIi4kZ2V0RGF0YVsnaSddLiInIGFuZCBqPSciLiRnZXREYXRhWydqJ10uIicgYW5kIGoxPSciLiRnZXREYXRhWydqMSddLiInICAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSAka29uZGlzaVNhbGRvQXdhbCBvcmRlciBieSB0YW5nZ2FsX2J1a3UsamVuaXNfcGVyc2VkaWFhbiBhc2MiKTsKICAgICAgICAgIHdoaWxlICgkZGF0YUhpc3RvcmkgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFIaXN0b3JpKSkgewogICAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnamVuaXNfcGVyc2VkaWFhbiddID09IDEpewogICAgICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnMScpewogICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiU0FMRE8gQVdBTCI7CiAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzInKXsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnY2FyYV9wZXJvbGVoYW4nXSA9PSAnMicpewogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gUEVNQkVMSUFOIjsKICAgICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2NhcmFfcGVyb2xlaGFuJ10gPT0gJzMnKXsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5FUklNQUFOIEhJQkFIIjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc0Jyl7CiAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJDRUsgRklTSUsgVEFNQkFIIjsKICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnMycpewogICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVORVJJTUFBTiBESVNUUklCVVNJIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRoYXJnYVNhdHVhbiA9ICRkYXRhSGlzdG9yaVsnaGFyZ2Ffc2F0dWFuJ107CiAgICAgICAgICAgICAgICAkdG90YWxIYXJnYSA9ICRoYXJnYVNhdHVhbiAqICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAkc2FsZG9CYXJhbmcgKz0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICR0b3RhbFNhbGRvICs9ICR0b3RhbEhhcmdhOwoKICAgICAgICAgICAgICAgICRnZXRJZERldGFpbCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gbG9ja19iYXJhbmdfdGFtYmFoIHdoZXJlIGlkX2xvY2sgPSAnJGlkTG9jaycgYW5kIGlkX3Rfa2FydHVfcGVyc2VkaWFhbiA9ICciLiRkYXRhSGlzdG9yaVsnaWQnXS4iJyIpKTsKICAgICAgICAgICAgICAgICRpZERldGFpbCA9ICRnZXRJZERldGFpbFsnaWQnXTsKICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNicpewogICAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9IDA7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVOR0VMVUFSQU4iOwogICAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzUnKXsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAwOwogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIkNFSyBGSVNJSyBLVVJBTkciOwogICAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzcnKXsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAwOwogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkdFTFVBUkFOIERJU1RSSUJVU0kiOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICRoYXJnYVNhdHVhbiA9ICIiOwogICAgICAgICAgICAgICAgJHNhbGRvQmFyYW5nIC09ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAkZ2V0VG90YWxIYXJnYSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gbG9ja19iYXJhbmdfa3VyYW5nIHdoZXJlIGlkX2xvY2sgPSAnJGlkTG9jaycgYW5kIGlkX3Rfa2FydHVfcGVyc2VkaWFhbiA9ICciLiRkYXRhSGlzdG9yaVsnaWQnXS4iJyIpKTsKICAgICAgICAgICAgICAgICR0b3RhbEhhcmdhID0gJGdldFRvdGFsSGFyZ2FbJ2hhcmdhJ107CiAgICAgICAgICAgICAgICAkdG90YWxTYWxkbyAtPSAkdG90YWxIYXJnYTsKICAgICAgICAgICAgICAgICRpZERldGFpbCA9ICRnZXRUb3RhbEhhcmdhWydpZCddOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAkZGF0YVJpbmNpYW5Mb2NrID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX2xvY2snID0+ICRpZExvY2ssCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+ICRkYXRhSGlzdG9yaVsndGFuZ2dhbF9idWt1J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VyYWlhbicgPT4gJHVyYWlhblBlcnNlZGlhYW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hc3VrJyA9PiAkYmFyYW5nTWFzdWssCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2tlbHVhcicgPT4gJGJhcmFuZ0tlbHVhciwKICAgICAgICAgICAgICAgICAgICAgICAgICAnc2FsZG9fYmFyYW5nJyA9PiAkc2FsZG9CYXJhbmcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkdG90YWxIYXJnYSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnc2FsZG8nID0+ICR0b3RhbFNhbGRvLAogICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJyA9PiAkZGF0YUhpc3RvcmlbJ2plbmlzX3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YUhpc3RvcmlbJ2lkJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX2RldGFpbCcgPT4gJGlkRGV0YWlsLAogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ3JpbmNpYW5fbG9ja19iYXJhbmcnLCRkYXRhUmluY2lhbkxvY2spKTsKICAgICAgICAgIH0KICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgidXBkYXRlIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyBzZXQgaGFyZ2EgPSAnJHRvdGFsU2FsZG8nLCBzYWxkb19iYXJhbmcgPSAnJHNhbGRvQmFyYW5nJyB3aGVyZSBpZCA9ICckaWRMb2NrJyIpOwogICAgICAvLyByZXR1cm4gYXJyYXkoCiAgICAgIC8vICAgJ2lkTG9jaycgPT4gJGlkTG9jaywKICAgICAgLy8gICAnanVtbGFoSGFyZ2EnID0+ICR0b3RhbFNhbGRvLAogICAgICAvLyAgICdzYWxkbycgPT4gJHNhbGRvQmFyYW5nLAogICAgICAvLyApOwoJCQlyZXR1cm4gJGluc2VydExvY2tCYXJhbmc7CiAgfQoKICBmdW5jdGlvbiBncmFiVHJhbnNha3NpVGFodW5hbigka29kZVNLUEQsJGtvZGVCYXJhbmcpewoJCSRmaWx0ZXJQZXJpb2RlID0gMzsKCQkkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZz0nJGtvZGVCYXJhbmcnIGFuZCBzZW1lc3RlciA9ICckZmlsdGVyUGVyaW9kZSciKTsKICAgICRlcnIgPSAiIjsKICAgICRjZWsgPSAiIjsKICAgICRjb250ZW50ID0gIiI7CiAgICAka29uZGlzaVRhaHVuID0gIiBhbmQgbGVmdCh0YW5nZ2FsX2J1a3UsNCkgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iJyAiOwogICAgaWYoIWVtcHR5KCRmaWx0ZXJQZXJpb2RlKSl7CiAgICAgICAgaWYoJGZpbHRlclBlcmlvZGUgPT0gJzEnKXsKICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNiI7CiAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZSAgPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInICI7CiAgICAgICAgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAnMicpewogICAgICAgICAgICAkbWluRmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA3IjsKICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CiAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZT0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpID49ICckbWluRmlsdGVyJyBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CiAgICAgICAgICAgICRrb25kaXNpU2FsZG9Bd2FsID0gIiBhbmQgaWQgbm90IGluICggc2VsZWN0IGlkIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGpucyA9ICcxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgdGFuZ2dhbF9idWt1ID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0kdGhpcy0+YnVsYW5UYW5nZ2FsU2FsZG9Bd2FsJykgIjsKICAgICAgICB9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09ICczJyl7CiAgICAgICAgICAgICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMTIiOwogICAgICAgICAgICAka29uZGlzaVBlcmlvZGUgPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKICAgICAgICAgICAgJGtvbmRpc2lTYWxkb0F3YWwgPSAiIGFuZCBpZCBub3QgaW4gKCBzZWxlY3QgaWQgZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgam5zID0gJzEnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnIGFuZCB0YW5nZ2FsX2J1a3UgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxJykgIjsKICAgICAgICB9CiAgICB9CgoKCiAgICAkZ2V0RGF0YSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nPScka29kZUJhcmFuZycgICIpKTsKICAgICAgJGRhdGFMb2NrQmFyYW5nID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAnYzEnID0+ICRnZXREYXRhWydjMSddLAogICAgICAgICAgICAgICAgICAgICAgJ2MnID0+ICRnZXREYXRhWydjJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZCcgPT4gJGdldERhdGFbJ2QnXSwKICAgICAgICAgICAgICAgICAgICAgICdlJyA9PiAkZ2V0RGF0YVsnZSddLAogICAgICAgICAgICAgICAgICAgICAgJ2UxJyA9PiAkZ2V0RGF0YVsnZTEnXSwKICAgICAgICAgICAgICAgICAgICAgICdmMScgPT4gJGdldERhdGFbJ2YxJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZjInID0+ICRnZXREYXRhWydmMiddLAogICAgICAgICAgICAgICAgICAgICAgJ2YnID0+ICRnZXREYXRhWydmJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZycgPT4gJGdldERhdGFbJ2cnXSwKICAgICAgICAgICAgICAgICAgICAgICdoJyA9PiAkZ2V0RGF0YVsnaCddLAogICAgICAgICAgICAgICAgICAgICAgJ2knID0+ICRnZXREYXRhWydpJ10sCiAgICAgICAgICAgICAgICAgICAgICAnaicgPT4gJGdldERhdGFbJ2onXSwKICAgICAgICAgICAgICAgICAgICAgICdqMScgPT4gJGdldERhdGFbJ2oxJ10sCiAgICAgICAgICAgICAgICAgICAgICAndGFodW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICAgICAgICAgJ3NlbWVzdGVyJyA9PiAzLAogICAgICAgICAgKTsKICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCJ0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmciLCRkYXRhTG9ja0JhcmFuZykpOwoKICAgICAgICAgICRpZExvY2sgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgbWF4KGlkKSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgYW5kIHRhaHVuID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIicgYW5kIHNlbWVzdGVyID0gJyIuJGZpbHRlclBlcmlvZGUuIicgIikpOwogICAgICAgICAgJGlkTG9jayA9ICRpZExvY2tbJ21heChpZCknXTsKCgogICAgICAgICAgJGdldERhdGFUYW1iYWggPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyBhbmQgZT0nIi4kZ2V0RGF0YVsnZSddLiInIGFuZCBlMT0nIi4kZ2V0RGF0YVsnZTEnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSAka29uZGlzaVNhbGRvQXdhbCBvcmRlciBieSB0YW5nZ2FsX2J1a3UgYXNjIik7CiAgICAgICAgICB3aGlsZSAoJGRhdGFUYW1iYWggPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFUYW1iYWgpKSB7CgkJCQkJCQlpZigkZGF0YVRhbWJhaFsnam5zJ10gPT0gJzMnKXsKCQkJCQkJCQkkZ2V0RGF0YURldGFpbERpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGRldGFpbF9yaW5jaWFuX2Rpc3RyaWJ1c2kgd2hlcmUgIGlkID0gJyIuJGRhdGFUYW1iYWhbJ3JlZmlkJ10uIiciKSk7CgkJCQkJCQkJJGdldERhdGFSaW5jaWFuRGlzdHJpYnVzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlICBpZCA9ICciLiRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaVsnaWRfcmluY2lhbl9kaXN0cmlidXNpJ10uIiciKSk7CgkJCQkJCQkJJGRhdGFDb3VudERpc3RyaWJ1c2kgPSBhcnJheSgKCQkJCQkJCQkJCQkJCQknaWRfbG9ja19iYXJhbmcnID0+ICRpZExvY2ssCgkJCQkJCQkJCQkJCQkJJ2MxJyA9PiAkZ2V0RGF0YVsnYzEnXSwKCQkJCQkJCQkJCQkJCQknYycgPT4gJGdldERhdGFbJ2MnXSwKCQkJCQkJCQkJCQkJCQknZCcgPT4gJGdldERhdGFbJ2QnXSwKCQkJCQkJCQkJCQkJCQknZScgPT4gJGdldERhdGFbJ2UnXSwKCQkJCQkJCQkJCQkJCQknZTEnID0+ICRnZXREYXRhWydlMSddLAoJCQkJCQkJCQkJCQkJCSdmJyA9PiAkZ2V0RGF0YVsnZiddLAoJCQkJCQkJCQkJCQkJCSdnJyA9PiAkZ2V0RGF0YVsnZyddLAoJCQkJCQkJCQkJCQkJCSdoJyA9PiAkZ2V0RGF0YVsnaCddLAoJCQkJCQkJCQkJCQkJCSdpJyA9PiAkZ2V0RGF0YVsnaSddLAoJCQkJCQkJCQkJCQkJCSdqJyA9PiAkZ2V0RGF0YVsnaiddLAoJCQkJCQkJCQkJCQkJCSdqMScgPT4gJGdldERhdGFbJ2oxJ10sCgkJCQkJCQkJCQkJCQkJJ2lkX2Rpc3RyaWJ1c2knID0+ICRnZXREYXRhUmluY2lhbkRpc3RyaWJ1c2lbJ2lkX2Rpc3RyaWJ1c2knXSwKCQkJCQkJCQkJCQkJCQknaWRfcmluY2lhbl9kaXN0cmlidXNpJyA9PiAkZ2V0RGF0YURldGFpbERpc3RyaWJ1c2lbJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaSddLAoJCQkJCQkJCQkJCQkJCSdzZW1lc3RlcicgPT4gMywKCQkJCQkJCQkJCQkJCQknbm9tb3InID0+ICRkYXRhVGFtYmFoWydub21vciddLAoJCQkJCQkJCQkJCQkJCSdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhVGFtYmFoWydpZCddCgoJCQkJCQkJCSk7CgkJCQkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ2NvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbicsJGRhdGFDb3VudERpc3RyaWJ1c2kpKTsKCQkJCQkJCSB9CiAgICAgICAgICAgICAgJGRhdGFMb2NrVGFtYmFoID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+ICRkYXRhVGFtYmFoWyd0YW5nZ2FsX2J1a3UnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YVRhbWJhaFsnaWQnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkZGF0YVRhbWJhaFsnanVtbGFoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkZGF0YVRhbWJhaFsnaGFyZ2Ffc2F0dWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Npc2EnID0+ICRkYXRhVGFtYmFoWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfbG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdsb2NrX2JhcmFuZ190YW1iYWgnLCRkYXRhTG9ja1RhbWJhaCkpOwogICAgICAgICAgfQoKICAgICAgICAgICRnZXREYXRhS3VyYW5nID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBlPSciLiRnZXREYXRhWydlJ10uIicgYW5kIGUxPSciLiRnZXREYXRhWydlMSddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMicgJGtvbmRpc2lUYWh1biAka29uZGlzaVBlcmlvZGUgJGtvbmRpc2lTYWxkb0F3YWwgb3JkZXIgYnkgdGFuZ2dhbF9idWt1IGFzYyIpOwogICAgICAgICAgd2hpbGUgKCRkYXRhS3VyYW5nID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhS3VyYW5nKSkgewogICAgICAgICAgICAgICRhcnJheVBlcm9sZWhhbiA9IGFycmF5KCk7CiAgICAgICAgICAgICAgJGp1bWxhaEJhcmFuZ0t1cmFuZyA9ICRkYXRhS3VyYW5nWydqdW1sYWgnXTsKICAgICAgICAgICAgICAkZ2V0RGF0YVBlbmVyaW1hYW4gPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gbG9ja19iYXJhbmdfdGFtYmFoIHdoZXJlIGlkX2xvY2sgPSAnIi4kaWRMb2NrLiInIGFuZCBzaXNhICE9JzAnIik7CiAgICAgICAgICAgICAgd2hpbGUgKCRkYXRhUGVuZXJpbWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVBlbmVyaW1hYW4pKSB7CiAgICAgICAgICAgICAgICAgIGlmKCRqdW1sYWhCYXJhbmdLdXJhbmcgIT0gMCl7CgkJCQkJCQkJCQkkZ2V0S2FydHVQZXJzZWRpYWFuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddLiInIikpOwoJCQkJCQkJCQkJaWYoJGdldEthcnR1UGVyc2VkaWFhblsnam5zJ10gPT0gJzMnKXsKCQkJCQkJCQkJCQkJLy8gaWYoaW50dmFsKCRnZXRLYXJ0dVBlcnNlZGlhYW5bJ2hhcmdhX3NhdHVhbiddKSA9PSAwKXsKCQkJCQkJCQkJCQkJCWlmKCR0aGlzLT5zcWxOdW1Sb3coJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSBub21vciA9ICciLiRnZXRLYXJ0dVBlcnNlZGlhYW5bJ25vbW9yJ10uIicgYW5kIHNlbWVzdGVyID0gJzEnIGFuZCB0YW1iYWhhbl9oYXJnYSAhPScnIikpICE9IDApewoJCQkJCQkJCQkJCQkJCSRnZXREYXRhQ291bnREaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4gd2hlcmUgbm9tb3IgPSAnIi4kZ2V0S2FydHVQZXJzZWRpYWFuWydub21vciddLiInIGFuZCBzZW1lc3RlciA9ICcxJyBhbmQgdGFtYmFoYW5faGFyZ2EgIT0nJyIpKTsKCQkJCQkJCQkJCQkJCQkkaGFyZ2FTYXR1YW5QZW5lcmltYWFuID0gJGdldERhdGFDb3VudERpc3RyaWJ1c2lbJ3RhbWJhaGFuX2hhcmdhJ10gLyAkZ2V0S2FydHVQZXJzZWRpYWFuWydqdW1sYWgnXTsKCQkJCQkJCQkJCQkJCQkkZGF0YVVwZGF0ZURpc3RyaWJ1c2lLYXJ0dSA9IGFycmF5KAoJCQkJCQkJCQkJCQkJCQknaGFyZ2Ffc2F0dWFuJyA9PiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuLAoJCQkJCQkJCQkJCQkJCQkndG90YWwnID0+ICRnZXREYXRhQ291bnREaXN0cmlidXNpWyd0YW1iYWhhbl9oYXJnYSddLAoJCQkJCQkJCQkJCQkJCSk7CgkJCQkJCQkJCQkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxVcGRhdGUoInRfa2FydHVfcGVyc2VkaWFhbiIsJGRhdGFVcGRhdGVEaXN0cmlidXNpS2FydHUsImlkID0gJyIuJGRhdGFQZW5lcmltYWFuWydpZF90X2thcnR1X3BlcnNlZGlhYW4nXS4iJyIpKTsKCQkJCQkJCQkJCQkJCQkkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSBub21vcj0nIi4kZ2V0S2FydHVQZXJzZWRpYWFuWydub21vciddLiInIik7CgkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCS8vIH0KCQkJCQkJCQkJCX1lbHNlewoJCQkJCQkJCQkJCSRoYXJnYVNhdHVhblBlbmVyaW1hYW4gPSAkZGF0YVBlbmVyaW1hYW5bJ2hhcmdhJ107CgkJCQkJCQkJCQl9CiAgICAgICAgICAgICAgICAgICAgaWYoJGp1bWxhaEJhcmFuZ0t1cmFuZyA+ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddICl7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgidXBkYXRlIGxvY2tfYmFyYW5nX3RhbWJhaCBzZXQgc2lzYSA9IHNpc2EgLSAiLiRkYXRhUGVuZXJpbWFhblsnc2lzYSddLiIgd2hlcmUgaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkJ10uIiciKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuW10gPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRQZW5lcmltYWFuJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJGhhcmdhU2F0dWFuUGVuZXJpbWFhbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG90YWwnID0+ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddICogJGhhcmdhU2F0dWFuUGVuZXJpbWFhbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGp1bWxhaEJhcmFuZ0t1cmFuZyAtPSAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgbG9ja19iYXJhbmdfdGFtYmFoIHNldCBzaXNhID0gc2lzYSAtICRqdW1sYWhCYXJhbmdLdXJhbmcgd2hlcmUgaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkJ10uIiciKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuW10gPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRQZW5lcmltYWFuJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRqdW1sYWhCYXJhbmdLdXJhbmcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJGp1bWxhaEJhcmFuZ0t1cmFuZyAqICRoYXJnYVNhdHVhblBlbmVyaW1hYW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgICRqdW1sYWhCYXJhbmdLdXJhbmcgPSAwOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAkZW5jb2RpbmcgPSBqc29uX2VuY29kZSgkYXJyYXlQZXJvbGVoYW4pOwogICAgICAgICAgICAgICRkZWNvZGluZyA9IGpzb25fZGVjb2RlKCRlbmNvZGluZyk7CiAgICAgICAgICAgICAgJGhhcmdhUGVyb2xlaGFuPSAiIjsKICAgICAgICAgICAgICBmb3IgKCRpPTA7ICRpIDwgc2l6ZW9mKCRkZWNvZGluZykgOyAkaSsrKSB7CiAgICAgICAgICAgICAgICAgICRoYXJnYVBlcm9sZWhhbiArPSAkZGVjb2RpbmdbJGldLT50b3RhbDsKICAgICAgICAgICAgICB9CgkJCQkJCQlpZigkZGF0YUt1cmFuZ1snam5zJ10gPT0gIjciKXsKCQkJCQkJCQkvL2h1YmxhCgkJCQkJCQkJJGdldERhdGFEZXRhaWxEaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBkZXRhaWxfcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlICBpZCA9ICciLiRkYXRhS3VyYW5nWydyZWZpZCddLiInIikpOwoJCQkJCQkJCSRnZXREYXRhUmluY2lhbkRpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJpbmNpYW5fZGlzdHJpYnVzaSB3aGVyZSAgaWQgPSAnIi4kZ2V0RGF0YURldGFpbERpc3RyaWJ1c2lbJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaSddLiInIikpOwoJCQkJCQkJCSRkYXRhQ291bnREaXN0cmlidXNpID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJJ2lkX2xvY2tfYmFyYW5nJyA9PiAkaWRMb2NrLAoJCQkJCQkJCQkJCQkJCSdjMScgPT4gJGdldERhdGFbJ2MxJ10sCgkJCQkJCQkJCQkJCQkJJ2MnID0+ICRnZXREYXRhWydjJ10sCgkJCQkJCQkJCQkJCQkJJ2QnID0+ICRnZXREYXRhWydkJ10sCgkJCQkJCQkJCQkJCQkJJ2UnID0+ICRnZXREYXRhWydlJ10sCgkJCQkJCQkJCQkJCQkJJ2UxJyA9PiAkZ2V0RGF0YVsnZTEnXSwKCQkJCQkJCQkJCQkJCQknZicgPT4gJGdldERhdGFbJ2YnXSwKCQkJCQkJCQkJCQkJCQknZycgPT4gJGdldERhdGFbJ2cnXSwKCQkJCQkJCQkJCQkJCQknaCcgPT4gJGdldERhdGFbJ2gnXSwKCQkJCQkJCQkJCQkJCQknaScgPT4gJGdldERhdGFbJ2knXSwKCQkJCQkJCQkJCQkJCQknaicgPT4gJGdldERhdGFbJ2onXSwKCQkJCQkJCQkJCQkJCQknajEnID0+ICRnZXREYXRhWydqMSddLAoJCQkJCQkJCQkJCQkJCSdpZF9kaXN0cmlidXNpJyA9PiAkZ2V0RGF0YVJpbmNpYW5EaXN0cmlidXNpWydpZF9kaXN0cmlidXNpJ10sCgkJCQkJCQkJCQkJCQkJJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaScgPT4gJGdldERhdGFEZXRhaWxEaXN0cmlidXNpWydpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knXSwKCQkJCQkJCQkJCQkJCQknc2VtZXN0ZXInID0+IDMsCgkJCQkJCQkJCQkJCQkJJ25vbW9yJyA9PiAkZGF0YUt1cmFuZ1snbm9tb3InXSwKCQkJCQkJCQkJCQkJCQkndGFtYmFoYW5faGFyZ2EnID0+ICRoYXJnYVBlcm9sZWhhbiwKCQkJCQkJCQkJCQkJCQknanNvbl9hcnJheScgPT4gJGVuY29kaW5nCgkJCQkJCQkJKTsKCQkJCQkJCQkkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgnY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuJywkZGF0YUNvdW50RGlzdHJpYnVzaSkpOwoJCQkJCQkJfQogICAgICAgICAgICAgICRkYXRhTG9ja0t1cmFuZyA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICd0YW5nZ2FsJyA9PiAkZGF0YUt1cmFuZ1sndGFuZ2dhbF9idWt1J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFLdXJhbmdbJ2lkJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGRhdGFLdXJhbmdbJ2p1bWxhaCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRoYXJnYVBlcm9sZWhhbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfbG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICAgICAgICAgICAgICAncGVyb2xlaGFuJyA9PiBqc29uX2VuY29kZSgkYXJyYXlQZXJvbGVoYW4pCgogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ2xvY2tfYmFyYW5nX2t1cmFuZycsJGRhdGFMb2NrS3VyYW5nKSk7CiAgICAgICAgICB9CgoKICAgICAgICAgICRnZXREYXRhSGlzdG9yaSA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgYzE9JyIuJGdldERhdGFbJ2MxJ10uIicgYW5kIGM9JyIuJGdldERhdGFbJ2MnXS4iJyBhbmQgZD0nIi4kZ2V0RGF0YVsnZCddLiInIGFuZCBlPSciLiRnZXREYXRhWydlJ10uIicgYW5kIGUxPSciLiRnZXREYXRhWydlMSddLiInICBhbmQgZj0nIi4kZ2V0RGF0YVsnZiddLiInIGFuZCBnPSciLiRnZXREYXRhWydnJ10uIicgYW5kIGg9JyIuJGdldERhdGFbJ2gnXS4iJyBhbmQgaT0nIi4kZ2V0RGF0YVsnaSddLiInIGFuZCBqPSciLiRnZXREYXRhWydqJ10uIicgYW5kIGoxPSciLiRnZXREYXRhWydqMSddLiInICAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSAka29uZGlzaVNhbGRvQXdhbCBvcmRlciBieSB0YW5nZ2FsX2J1a3UsamVuaXNfcGVyc2VkaWFhbiBhc2MiKTsKICAgICAgICAgIHdoaWxlICgkZGF0YUhpc3RvcmkgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFIaXN0b3JpKSkgewogICAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnamVuaXNfcGVyc2VkaWFhbiddID09IDEpewogICAgICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnMScpewogICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiU0FMRE8gQVdBTCI7CiAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzInKXsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnY2FyYV9wZXJvbGVoYW4nXSA9PSAnMicpewogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gUEVNQkVMSUFOIjsKICAgICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2NhcmFfcGVyb2xlaGFuJ10gPT0gJzMnKXsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5FUklNQUFOIEhJQkFIIjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc0Jyl7CiAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJDRUsgRklTSUsgVEFNQkFIIjsKICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnMycpewogICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVORVJJTUFBTiBESVNUUklCVVNJIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRoYXJnYVNhdHVhbiA9ICRkYXRhSGlzdG9yaVsnaGFyZ2Ffc2F0dWFuJ107CiAgICAgICAgICAgICAgICAkdG90YWxIYXJnYSA9ICRoYXJnYVNhdHVhbiAqICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAkc2FsZG9CYXJhbmcgKz0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICR0b3RhbFNhbGRvICs9ICR0b3RhbEhhcmdhOwoKICAgICAgICAgICAgICAgICRnZXRJZERldGFpbCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gbG9ja19iYXJhbmdfdGFtYmFoIHdoZXJlIGlkX2xvY2sgPSAnJGlkTG9jaycgYW5kIGlkX3Rfa2FydHVfcGVyc2VkaWFhbiA9ICciLiRkYXRhSGlzdG9yaVsnaWQnXS4iJyIpKTsKICAgICAgICAgICAgICAgICRpZERldGFpbCA9ICRnZXRJZERldGFpbFsnaWQnXTsKICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNicpewogICAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9IDA7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVOR0VMVUFSQU4iOwogICAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzUnKXsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAwOwogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIkNFSyBGSVNJSyBLVVJBTkciOwogICAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzcnKXsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAwOwogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkdFTFVBUkFOIERJU1RSSUJVU0kiOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICRoYXJnYVNhdHVhbiA9ICIiOwogICAgICAgICAgICAgICAgJHNhbGRvQmFyYW5nIC09ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAkZ2V0VG90YWxIYXJnYSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gbG9ja19iYXJhbmdfa3VyYW5nIHdoZXJlIGlkX2xvY2sgPSAnJGlkTG9jaycgYW5kIGlkX3Rfa2FydHVfcGVyc2VkaWFhbiA9ICciLiRkYXRhSGlzdG9yaVsnaWQnXS4iJyIpKTsKICAgICAgICAgICAgICAgICR0b3RhbEhhcmdhID0gJGdldFRvdGFsSGFyZ2FbJ2hhcmdhJ107CiAgICAgICAgICAgICAgICAkdG90YWxTYWxkbyAtPSAkdG90YWxIYXJnYTsKICAgICAgICAgICAgICAgICRpZERldGFpbCA9ICRnZXRUb3RhbEhhcmdhWydpZCddOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAkZGF0YVJpbmNpYW5Mb2NrID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX2xvY2snID0+ICRpZExvY2ssCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+ICRkYXRhSGlzdG9yaVsndGFuZ2dhbF9idWt1J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VyYWlhbicgPT4gJHVyYWlhblBlcnNlZGlhYW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hc3VrJyA9PiAkYmFyYW5nTWFzdWssCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2tlbHVhcicgPT4gJGJhcmFuZ0tlbHVhciwKICAgICAgICAgICAgICAgICAgICAgICAgICAnc2FsZG9fYmFyYW5nJyA9PiAkc2FsZG9CYXJhbmcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkdG90YWxIYXJnYSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnc2FsZG8nID0+ICR0b3RhbFNhbGRvLAogICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJyA9PiAkZGF0YUhpc3RvcmlbJ2plbmlzX3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YUhpc3RvcmlbJ2lkJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX2RldGFpbCcgPT4gJGlkRGV0YWlsLAogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ3JpbmNpYW5fbG9ja19iYXJhbmcnLCRkYXRhUmluY2lhbkxvY2spKTsKICAgICAgICAgIH0KICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgidXBkYXRlIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyBzZXQgaGFyZ2EgPSAnJHRvdGFsU2FsZG8nLCBzYWxkb19iYXJhbmcgPSAnJHNhbGRvQmFyYW5nJyB3aGVyZSBpZCA9ICckaWRMb2NrJyIpOwogICAgICByZXR1cm4gYXJyYXkoCiAgICAgICAgJ2lkTG9jaycgPT4gJGlkTG9jaywKICAgICAgICAnanVtbGFoSGFyZ2EnID0+ICR0b3RhbFNhbGRvLAogICAgICAgICdzYWxkbycgPT4gJHNhbGRvQmFyYW5nLAogICAgICApOwogIH0KICBmdW5jdGlvbiBjbG9zaW5nU2VtZXN0ZXIxKCRrb2RlU0tQRCwka29kZUJhcmFuZyl7CgkJIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkJJCRrZXkgPSAkdmFsdWU7CgkJIH0KICAgICAvLyAkZ2V0RGF0YUJhcmFuZyA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfYmFyYW5nIHdoZXJlIGY9ICcwOCcgYW5kIGoxICE9JzAwMDAnIik7CiAgICAgLy8gd2hpbGUgKCRkYXRhQmFyYW5nID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhQmFyYW5nKSkgewogICAgIC8vICAgJGtvZGVCYXJhbmcgPSAkZGF0YUJhcmFuZ1snZiddLiIuIi4kZGF0YUJhcmFuZ1snZyddLiIuIi4kZGF0YUJhcmFuZ1snaCddLiIuIi4kZGF0YUJhcmFuZ1snaSddLiIuIi4kZGF0YUJhcmFuZ1snaiddLiIuIi4kZGF0YUJhcmFuZ1snajEnXTsKICAgICAgICAkdGhpcy0+c2V0U2FsZG9Bd2FsKCRrb2RlU0tQRCwka29kZUJhcmFuZyk7CiAgICAgLy8gfQoKICAgICByZXR1cm4gJGxvZzsKCgl9CglmdW5jdGlvbiBjbG9zaW5nU2VtZXN0ZXIyKCRrb2RlU0tQRCwka29kZUJhcmFuZyl7CgkJZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CgkJCSAkJGtleSA9ICR2YWx1ZTsKCQl9CgkJJGV4cGxvZGVLb2RlU0tQRCA9IGV4cGxvZGUoIi4iLCRrb2RlU0tQRCk7CgkgICR0aGlzLT5zZXRTYWxkb0F3YWwoJGtvZGVTS1BELCRrb2RlQmFyYW5nKTsKCQkkdGhpcy0+c2V0U2FsZG9Bd2FsVGFodW5hbigka29kZVNLUEQsJGtvZGVCYXJhbmcpOwoJfQoKICBmdW5jdGlvbiBDbG9zaW5nKCRkdCl7CiAgIGdsb2JhbCAkU2Vuc3VzVG1wLCRNYWluLCRIVFRQX0NPT0tJRV9WQVJTOwogICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgIH0KICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsKICAgJGpzb24gPSBUUlVFOwkvLyRFcnJNc2cgPSAndGVzJzsKICAgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtJzsKICAgJHRoaXMtPmZvcm1fd2lkdGggPSA4MjA7CiAgICR0aGlzLT5mb3JtX2hlaWdodCA9IDUwMDsKICAgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdDbG9zaW5nJzsKICAgaWYoJGZpbHRlclN1YlVuaXQgIT0gJzAwMCcpewogICAgICRrb25kaXNpU0tQRCA9ICIgYW5kIGMxID0gJyIuJGZpbHRlclVydXNhbi4iJyBhbmQgYyA9ICciLiRmaWx0ZXJCaWRhbmcuIicgYW5kIGQgPSAnIi4kZmlsdGVyU0tQRC4iJyBhbmQgZSA9ICciLiRmaWx0ZXJVbml0LiInIGFuZCBlMSA9ICciLiRmaWx0ZXJTdWJVbml0LiInICAiOwogICAgICRrb2RlU0tQRCA9ICRmaWx0ZXJVcnVzYW4uIi4iLiRmaWx0ZXJCaWRhbmcuIi4iLiRmaWx0ZXJTS1BELiIuIi4kZmlsdGVyVW5pdC4iLiIuJGZpbHRlclN1YlVuaXQ7CiAgICAgJGdldERhdGFVcnVzYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPScwMCciKSk7CiAgICAgJGdldERhdGFCaWRhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nMDAnIikpOwogICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCciKSk7CiAgICAgJGdldERhdGFVbml0ID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JyRmaWx0ZXJTS1BEJyBhbmQgZT0nJGZpbHRlclVuaXQnIGFuZCBlMT0nMDAwJyIpKTsKICAgICAkZ2V0RGF0YVN1YlVuaXQgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nJGZpbHRlclNLUEQnIGFuZCBlPSckZmlsdGVyVW5pdCcgYW5kIGUxPSckZmlsdGVyU3ViVW5pdCciKSk7CiAgICAgJHVydXNhbiA9ICRnZXREYXRhVXJ1c2FuWydubV9za3BkJ107CiAgICAgJGJpZGFuZyA9ICRnZXREYXRhQmlkYW5nWydubV9za3BkJ107CiAgICAgJHNrcGQgPSAkZ2V0RGF0YVNLUERbJ25tX3NrcGQnXTsKICAgICAkdW5pdCA9ICRnZXREYXRhVW5pdFsnbm1fc2twZCddOwogICAgICRzdWJVbml0ID0gJGdldERhdGFTdWJVbml0WydubV9za3BkJ107CiAgIH1lbHNlaWYoJGZpbHRlclVuaXQgIT0gJzAwJyl7CiAgICAgJGtvbmRpc2lTS1BEID0gIiBhbmQgYzEgPSAnIi4kZmlsdGVyVXJ1c2FuLiInIGFuZCBjID0gJyIuJGZpbHRlckJpZGFuZy4iJyBhbmQgZCA9ICciLiRmaWx0ZXJTS1BELiInIGFuZCBlID0gJyIuJGZpbHRlclVuaXQuIicgIjsKICAgICAka29kZVNLUEQgPSAkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nLiIuIi4kZmlsdGVyU0tQRC4iLiIuJGZpbHRlclVuaXQ7CiAgICAgJGdldERhdGFVcnVzYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPScwMCciKSk7CiAgICAgJGdldERhdGFCaWRhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nMDAnIikpOwogICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCciKSk7CiAgICAgJGdldERhdGFVbml0ID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JyRmaWx0ZXJTS1BEJyBhbmQgZT0nJGZpbHRlclVuaXQnIGFuZCBlMT0nMDAwJyIpKTsKICAgICAkdXJ1c2FuID0gJGdldERhdGFVcnVzYW5bJ25tX3NrcGQnXTsKICAgICAkYmlkYW5nID0gJGdldERhdGFCaWRhbmdbJ25tX3NrcGQnXTsKICAgICAkc2twZCA9ICRnZXREYXRhU0tQRFsnbm1fc2twZCddOwogICAgICR1bml0ID0gJGdldERhdGFVbml0WydubV9za3BkJ107CiAgICAgJHN1YlVuaXQgPSAiU0VNVUEgU1VCIFVOSVQiOwogICB9ZWxzZWlmKCRmaWx0ZXJTS1BEICE9JzAwJyl7CiAgICAgJGtvbmRpc2lTS1BEID0gIiBhbmQgYzEgPSAnIi4kZmlsdGVyVXJ1c2FuLiInIGFuZCBjID0gJyIuJGZpbHRlckJpZGFuZy4iJyBhbmQgZCA9ICciLiRmaWx0ZXJTS1BELiInIjsKICAgICAka29kZVNLUEQgPSAkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nLiIuIi4kZmlsdGVyU0tQRDsKICAgICAkZ2V0RGF0YVVydXNhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JzAwJyIpKTsKICAgICAkZ2V0RGF0YUJpZGFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPScwMCciKSk7CiAgICAgJGdldERhdGFTS1BEID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JyRmaWx0ZXJTS1BEJyIpKTsKICAgICAkdXJ1c2FuID0gJGdldERhdGFVcnVzYW5bJ25tX3NrcGQnXTsKICAgICAkYmlkYW5nID0gJGdldERhdGFCaWRhbmdbJ25tX3NrcGQnXTsKICAgICAkc2twZCA9ICRnZXREYXRhU0tQRFsnbm1fc2twZCddOwogICAgICR1bml0ID0gIlNFTVVBIFVOSVQiOwogICAgICRzdWJVbml0ID0gIlNFTVVBIFNVQiBVTklUIjsKICAgfWVsc2VpZigkZmlsdGVyQmlkYW5nICE9JzAwJyl7CiAgICAgJGtvbmRpc2lTS1BEID0gIiBhbmQgYzEgPSAnIi4kZmlsdGVyVXJ1c2FuLiInIGFuZCBjID0gJyIuJGZpbHRlckJpZGFuZy4iJyI7CiAgICAgJGtvZGVTS1BEID0gJGZpbHRlclVydXNhbi4iLiIuJGZpbHRlckJpZGFuZzsKICAgICAkZ2V0RGF0YVVydXNhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JzAwJyIpKTsKICAgICAkZ2V0RGF0YUJpZGFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPScwMCciKSk7CiAgICAgJHVydXNhbiA9ICRnZXREYXRhVXJ1c2FuWydubV9za3BkJ107CiAgICAgJGJpZGFuZyA9ICRnZXREYXRhQmlkYW5nWydubV9za3BkJ107CiAgICAgJHNrcGQgPSAiU0VNVUEgU0tQRCI7CiAgICAgJHVuaXQgPSAiU0VNVUEgVU5JVCI7CiAgICAgJHN1YlVuaXQgPSAiU0VNVUEgU1VCIFVOSVQiOwogICB9ZWxzZWlmKCRmaWx0ZXJVcnVzYW4gIT0nMDAnKXsKICAgICAka29uZGlzaVNLUEQgPSAiIGFuZCBjMSA9ICciLiRmaWx0ZXJVcnVzYW4uIiciOwogICAgICRrb2RlU0tQRCA9ICRmaWx0ZXJVcnVzYW47CiAgICAgJGdldERhdGFVcnVzYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPScwMCciKSk7CiAgICAgJHVydXNhbiA9ICRnZXREYXRhVXJ1c2FuWydubV9za3BkJ107CiAgICAgJGJpZGFuZyA9ICJTRU1VQSBCSURBTkciOwogICAgICRza3BkID0gIlNFTVVBIFNLUEQiOwogICAgICR1bml0ID0gIlNFTVVBIFVOSVQiOwogICAgICRzdWJVbml0ID0gIlNFTVVBIFNVQiBVTklUIjsKICAgfWVsc2V7CiAgICAgJGtvZGVTS1BEID0gIiI7CiAgICAgJHVydXNhbiA9ICJTRU1VQSBVUlVTQU4iOwogICAgICRiaWRhbmcgPSAiU0VNVUEgQklEQU5HIjsKICAgICAkc2twZCA9ICJTRU1VQSBTS1BEIjsKICAgICAkdW5pdCA9ICJTRU1VQSBVTklUIjsKICAgICAkc3ViVW5pdCA9ICJTRU1VQSBTVUIgVU5JVCI7CiAgIH0KICRmaWx0ZXJQZXJpb2RlPSAkZmlsdGVyU2VtZXN0ZXI7CiAgaWYoZW1wdHkoJGZpbHRlclBlcmlvZGUpKSRlcnIgPSAiUGlsaWggUGVyaW9kZSI7CiAJaWYoJGZpbHRlclBlcmlvZGUgPT0gMSl7CiAJCSR0YW5nZ2FsID0gIjMxLTA2LSIuJHRoaXMtPnRhaHVuQW5nZ2FyYW47CiAJCS8vICRzdGF0dXNDbG9zaW5nID0gJHRoaXMtPmdldFN0YXR1c0Nsb3NpbmcoJGtvZGVTS1BELCR0aGlzLT5nZW5lcmF0ZURhdGUoJHRhbmdnYWwpKTsKIAkJaWYoJHN0YXR1c0Nsb3NpbmcgIT0gMCl7CiAJCQkkZXJyID0gIkRhdGEgc2VtZXN0ZXIgc2F0dSBzdWRhaCBkaSBjbG9zaW5nLCBiYXRhbGthbiBjbG9zaW5nID8iOwogCQl9CiAJCSRuYW1hU2VtZXN0ZXIgPSAiU0FUVSI7CiAJfWVsc2V7CiAJCSR0YW5nZ2FsID0gIjMxLTEyLSIuJHRoaXMtPnRhaHVuQW5nZ2FyYW47CiAJCS8vICRzdGF0dXNDbG9zaW5nID0gJHRoaXMtPmdldFN0YXR1c0Nsb3NpbmcoJGtvZGVTS1BELCR0aGlzLT5nZW5lcmF0ZURhdGUoJHRhbmdnYWwpKTsKIAkJaWYoJHN0YXR1c0Nsb3NpbmcgIT0gMCl7CiAJCQkkZXJyID0gIkRhdGEgc2VtZXN0ZXIgZHVhIHN1ZGFoIGRpIGNsb3NpbmcsIGJhdGFsa2FuIGNsb3NpbmcgPyI7CiAJCX0KIAkJJG5hbWFTZW1lc3RlciA9ICJEVUEiOwogCX0KCiAgICRnZXREYXRhQmFyYW5nID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9iYXJhbmcgd2hlcmUgZj0nMDgnIGFuZCBqMSE9JzAwMDAnICIpOwogICB3aGlsZSAoJGRhdGFCYXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFCYXJhbmcpKSB7CiAgICAgJGFycmF5S29kZUJhcmFuZ1tdID0gJGRhdGFCYXJhbmdbJ2YnXS4iLiIuJGRhdGFCYXJhbmdbJ2cnXS4iLiIuJGRhdGFCYXJhbmdbJ2gnXS4iLiIuJGRhdGFCYXJhbmdbJ2knXS4iLiIuJGRhdGFCYXJhbmdbJ2onXS4iLiIuJGRhdGFCYXJhbmdbJ2oxJ107CiAgIH0KICAgJGdldERhdGFDbG9zaW5nID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEIGFuZCB0YWh1bl9hbmdnYXJhbiA9JyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnJGZpbHRlclBlcmlvZGUnIik7CiAgIHdoaWxlICgkZGF0YUNsb3NpbmcgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFDbG9zaW5nKSkgewogICAgICRhcnJheVNLUERDb3NpbmdbXSA9ICInIi4kZGF0YUNsb3NpbmdbJ2MxJ10uIi4iLiRkYXRhQ2xvc2luZ1snYyddLiIuIi4kZGF0YUNsb3NpbmdbJ2QnXS4iLiIuJGRhdGFDbG9zaW5nWydlJ10uIi4iLiRkYXRhQ2xvc2luZ1snZTEnXS4iJyIgOwogICB9CiAgIGlmKHNpemVvZigkYXJyYXlTS1BEQ29zaW5nKSA+IDApewogICAgICRrb25kaXNpQ0xvc2luZ1NLUEQgPSAiIGFuZCBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSBub3QgaW4oIi5pbXBsb2RlKCIsIiwkYXJyYXlTS1BEQ29zaW5nKS4iKSAiOwogICB9CiAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEIGFuZCBlMSE9JzAwMCcgJGtvbmRpc2lDTG9zaW5nU0tQRCAiKTsKICAgd2hpbGUgKCRkYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVNLUEQpKSB7CiAgICAgJGNvbmNhdFNLUERDTG9zaW5nID0gJGRhdGFTS1BEWydjMSddLiIuIi4kZGF0YVNLUERbJ2MnXS4iLiIuJGRhdGFTS1BEWydkJ10uIi4iLiRkYXRhU0tQRFsnZSddLiIuIi4kZGF0YVNLUERbJ2UxJ107CiAgICAgaWYoJHRoaXMtPnNxbE51bVJvdygkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdHV0dXBfYnVrdV9wZXJzZWRpYWFuIHdoZXJlIHRhaHVuX2FuZ2dhcmFuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGNvbmNhdFNLUERDTG9zaW5nJyIpKSA9PTApewogICAgICAgJGFycmF5U0tQRFtdID0gJGRhdGFTS1BEWydjMSddLiIuIi4kZGF0YVNLUERbJ2MnXS4iLiIuJGRhdGFTS1BEWydkJ10uIi4iLiRkYXRhU0tQRFsnZSddLiIuIi4kZGF0YVNLUERbJ2UxJ10gOwogICAgIH0KICAgICAvLyBmb3IgKCRpPTA7ICRpIDwgc2l6ZW9mKCRhcnJheUtvZGVCYXJhbmcpOyAkaSsrKSB7CiAgICAgLy8gICAkYXJyYXlEYXRhUG9zdFtdID0gJGRhdGFTS1BEWydjMSddLiIuIi4kZGF0YVNLUERbJ2MnXS4iLiIuJGRhdGFTS1BEWydkJ10uIi4iLiRkYXRhU0tQRFsnZSddLiIuIi4kZGF0YVNLUERbJ2UxJ10uIjsiLiRhcnJheUtvZGVCYXJhbmdbJGldOwogICAgIC8vIH0KICAgfQogICAkYXJyYXlTZW1lc3RlciA9IGFycmF5KAogICAgYXJyYXkoJzEnLCdTRU1FU1RFUiAxJyksCiAgICBhcnJheSgnMicsJ1NFTUVTVEVSIDInKSwKICApOwogIGlmKGVtcHR5KCRlcnIpKXsKICAgIGlmKHNpemVvZigkYXJyYXlTS1BEKSA9PSAwKXsKICAgICAgJGVyciA9ICJEYXRhIHN1ZGFoIGRpIGNsb3NpbmcgISI7CiAgICB9CiAgfQoKICAgJHRoaXMtPmZvcm1fZmllbGRzID0gYXJyYXkoCiAgICAgJ2tvZGUwJyA9PiBhcnJheSgKICAgICAgICdsYWJlbCc9PidVUlVTQU4nLAogICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICAndmFsdWUnPT4gJHVydXNhbgogICAgICksCiAgICAgJ2tvZGUxJyA9PiBhcnJheSgKICAgICAgICdsYWJlbCc9PidCSURBTkcnLAogICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICAndmFsdWUnPT4gJGJpZGFuZwogICAgICksCiAgICAgJ2tvZGUyJyA9PiBhcnJheSgKICAgICAgICdsYWJlbCc9PidTS1BEJywKICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgJ3ZhbHVlJz0+ICRza3BkCiAgICAgKSwKICAgICAna29kZTMnID0+IGFycmF5KAogICAgICAgJ2xhYmVsJz0+J1VOSVQnLAogICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICAndmFsdWUnPT4gJHVuaXQKICAgICApLAogICAgICdrb2RlNCcgPT4gYXJyYXkoCiAgICAgICAnbGFiZWwnPT4nU1VCIFVOSVQnLAogICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICAndmFsdWUnPT4gJHN1YlVuaXQKICAgICApLAogICAgICdzZW1lc3RlcicgPT4gYXJyYXkoCiAgICAgICAnbGFiZWwnPT4nU0VNRVNURVInLAogICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICAndmFsdWUnPT4gY21iQXJyYXkoInNkcyIsJGZpbHRlclNlbWVzdGVyLCRhcnJheVNlbWVzdGVyLCAiLS0gU0VNRVNURVIgLS0gIiwiIGRpc2FibGVkIiApLiI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nJGZpbHRlclNlbWVzdGVyJyBuYW1lPSdmaWx0ZXJQZXJpb2RlJyBpZD0nZmlsdGVyUGVyaW9kZScgPiIKICAgICApLAogCQkna2V0ZXJhbmdhbicgPT4gYXJyYXkoCiAJCQknbGFiZWwnPT4nS0VURVJBTkdBTicsCiAJCQknbGFiZWxXaWR0aCc9PjcwLAogCQkJJ3ZhbHVlJz0+ICI8dGV4dGFyZWEgaWQ9J2tldGVyYW5nYW4nIG5hbWU9J2tldGVyYW5nYW4nIHN0eWxlPSd3aWR0aDozMDBweDtoZWlnaHQ6NTBweDsnPjwvdGV4dGFyZWE+IgogCQkpLAoKICAgICAncHJvZ3Jlc3MnID0+IGFycmF5KAogICAgICAgJ2xhYmVsJz0+JycsCiAgICAgICAnbGFiZWxXaWR0aCc9PjEsCiAgICAgICAncGVtaXNhaCc9PicgJywKICAgICAgICd0eXBlJz0+J21lcmdlJywKICAgICAgICd2YWx1ZSc9PgogICAgICAgICAiPGRpdiBpZD0ncHJvZ3Jlc3Nib3gnIHN0eWxlPSdiYWNrZ3JvdW5kOiNmZmZiZjA7Ym9yZGVyLXJhZGl1czo1cHg7Ym9yZGVyOjFweCBzb2xpZDtoZWlnaHQ6MTBweCc+CiAgICAgICAgICAgPGRpdiBpZD0ncHJvZ3Jlc3NiYXInPjwvZGl2ID4KICAgICAgICAgICA8ZGl2IGlkPSdzdGF0dXN0eHQnIHN0eWxlPSd3aWR0aDowJTtiYWNrZ3JvdW5kOmdyZWVuO2hlaWdodDoxMHB4O3RleHQtYWxpZ246cmlnaHQ7Y29sb3I6d2hpdGU7Zm9udC1zaXplOjhweDsnPjAlPC9kaXY+CiAgICAgICAgICAgPGRpdiBpZD0nb3V0cHV0Jz48L2Rpdj4KICAgICAgICAgPC9kaXY+CSIKICAgICAgICksCiAgICAgJ3BlcmluZ2F0YW4nID0+IGFycmF5KAogICAgICAgICAgICdsYWJlbCc9PicnLAogCQkJCQkndHlwZSc9PidtZXJnZScsCiAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4xLAogICAgICAgICAgICdwZW1pc2FoJz0+JyAnLAogICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IGlkPSdwZW1pc2FoJyBzdHlsZT0nY29sb3I6cmVkO2ZvbnQtc2l6ZToxMXB4Oyc+PC9kaXY+IiwKICAgICAgICksCiAgICAgJ2xvZycgPT4gYXJyYXkoCiAgICAgICAgICAgJ2xhYmVsJz0+JycsCiAJCQkJCSd0eXBlJz0+J21lcmdlJywKICAgICAgICAgICAnbGFiZWxXaWR0aCc9PicwJywKICAgICAgICAgICAncGVtaXNhaCc9PicgJywKICAgICAgICAgICAndmFsdWUnPT4iCgogICAgICAgICAgIDx0ZXh0YXJlYSBpZD0nbG9nQ2xvc2luZycgbmFtZT0nbG9nQ2xvc2luZycgcmVhZG9ubHkgc3R5bGU9J3dpZHRoOjc5MHB4O2hlaWdodDoyMjBweDsnPkp1bWxhaCBTS1BEICA9ICIuc2l6ZW9mKCRhcnJheVNLUEQpLiJcbkp1bWxhaCBLb2RlIEJhcmFuZyAgPSAiLnNpemVvZigkYXJyYXlLb2RlQmFyYW5nKS4iXG48L3RleHRhcmVhPiIsCiAgICAgICApLAogICAgICk7CiAgICAvL3RvbWJvbAoKICAgIC8vICRsZW5ndGhQcm9jY2VzcyA9IHNpemVvZigkYXJyYXlTS1BEKSAqIHNpemVvZigkYXJyYXlLb2RlQmFyYW5nKTsKICAgICRsZW5ndGhQcm9jY2VzcyA9IHNpemVvZigkYXJyYXlTS1BEKTsKICAgICR0aGlzLT5mb3JtX21lbnViYXdhaCA9CiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi5qc29uX2VuY29kZSgkYXJyYXlLb2RlQmFyYW5nKS4iJyAgaWQ9J2FycmF5S29kZUJhcmFuZycgbmFtZT0nYXJyYXlLb2RlQmFyYW5nJyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi5zaXplb2YoJGFycmF5S29kZUJhcmFuZykuIicgIGlkPSd0b3RhbEJhcmFuZycgbmFtZT0ndG90YWxCYXJhbmcnID4gIi4KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIHZhbHVlPSciLmpzb25fZW5jb2RlKCRhcnJheVNLUEQpLiInICBpZD0nYXJyYXlLb2RlU0tQRCcgbmFtZT0nYXJyYXlLb2RlU0tQRCcgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuanNvbl9lbmNvZGUoJGFycmF5U0tQRCkuIicgIGlkPSdhcnJheURhdGFQb3N0JyBuYW1lPSdhcnJheURhdGFQb3N0JyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi4kbGVuZ3RoUHJvY2Nlc3MuIicgIGlkPSdsZW5ndGhQcm9jY2VzcycgIG5hbWU9J2xlbmd0aFByb2NjZXNzJyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi4ka29kZVNLUEQuIicgIGlkPSdrb2RlU0tQRCcgbmFtZT0na29kZVNLUEQnID4gIi4KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIHZhbHVlPScnICBpZD0nc2twZE5vdENMb3NpbmcnIG5hbWU9J3NrcGROb3RDTG9zaW5nJyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nQ2xvc2luZycgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLmV4ZWN1dGVDbG9zaW5nKCknIHRpdGxlPSdDbG9zaW5nJyA+ICZuYnNwIi4KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdUdXR1cCcgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLkNsb3NlKCknID4iOwoKICAgICRmb3JtID0gJHRoaXMtPmdlbkZvcm0oKTsKICAgICRjb250ZW50ID0gJGZvcm07Ly8kY29udGVudCA9ICdjb250ZW50JzsKICAgIHJldHVybglhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50KTsKICB9CiAgZnVuY3Rpb24gVHV0dXBCdWt1KCRkdCl7CiAgIGdsb2JhbCAkU2Vuc3VzVG1wLCRNYWluLCRIVFRQX0NPT0tJRV9WQVJTOwogICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgIH0KICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsKICAgJGpzb24gPSBUUlVFOwkvLyRFcnJNc2cgPSAndGVzJzsKICAgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtJzsKICAgJHRoaXMtPmZvcm1fd2lkdGggPSA4MjA7CiAgICR0aGlzLT5mb3JtX2hlaWdodCA9IDUwMDsKICAgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdUdXR1cCBCdWt1JzsKICAgaWYoJGZpbHRlclN1YlVuaXQgIT0gJzAwMCcpewogICAgICRrb25kaXNpU0tQRCA9ICIgYW5kIGMxID0gJyIuJGZpbHRlclVydXNhbi4iJyBhbmQgYyA9ICciLiRmaWx0ZXJCaWRhbmcuIicgYW5kIGQgPSAnIi4kZmlsdGVyU0tQRC4iJyBhbmQgZSA9ICciLiRmaWx0ZXJVbml0LiInIGFuZCBlMSA9ICciLiRmaWx0ZXJTdWJVbml0LiInICAiOwogICAgICRrb2RlU0tQRCA9ICRmaWx0ZXJVcnVzYW4uIi4iLiRmaWx0ZXJCaWRhbmcuIi4iLiRmaWx0ZXJTS1BELiIuIi4kZmlsdGVyVW5pdC4iLiIuJGZpbHRlclN1YlVuaXQ7CiAgICAgJGdldERhdGFVcnVzYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPScwMCciKSk7CiAgICAgJGdldERhdGFCaWRhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nMDAnIikpOwogICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCciKSk7CiAgICAgJGdldERhdGFVbml0ID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JyRmaWx0ZXJTS1BEJyBhbmQgZT0nJGZpbHRlclVuaXQnIGFuZCBlMT0nMDAwJyIpKTsKICAgICAkZ2V0RGF0YVN1YlVuaXQgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nJGZpbHRlclNLUEQnIGFuZCBlPSckZmlsdGVyVW5pdCcgYW5kIGUxPSckZmlsdGVyU3ViVW5pdCciKSk7CiAgICAgJHVydXNhbiA9ICRnZXREYXRhVXJ1c2FuWydubV9za3BkJ107CiAgICAgJGJpZGFuZyA9ICRnZXREYXRhQmlkYW5nWydubV9za3BkJ107CiAgICAgJHNrcGQgPSAkZ2V0RGF0YVNLUERbJ25tX3NrcGQnXTsKICAgICAkdW5pdCA9ICRnZXREYXRhVW5pdFsnbm1fc2twZCddOwogICAgICRzdWJVbml0ID0gJGdldERhdGFTdWJVbml0WydubV9za3BkJ107CiAgIH1lbHNlaWYoJGZpbHRlclVuaXQgIT0gJzAwJyl7CiAgICAgJGtvbmRpc2lTS1BEID0gIiBhbmQgYzEgPSAnIi4kZmlsdGVyVXJ1c2FuLiInIGFuZCBjID0gJyIuJGZpbHRlckJpZGFuZy4iJyBhbmQgZCA9ICciLiRmaWx0ZXJTS1BELiInIGFuZCBlID0gJyIuJGZpbHRlclVuaXQuIicgIjsKICAgICAka29kZVNLUEQgPSAkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nLiIuIi4kZmlsdGVyU0tQRC4iLiIuJGZpbHRlclVuaXQ7CiAgICAgJGdldERhdGFVcnVzYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPScwMCciKSk7CiAgICAgJGdldERhdGFCaWRhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nMDAnIikpOwogICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCciKSk7CiAgICAgJGdldERhdGFVbml0ID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JyRmaWx0ZXJTS1BEJyBhbmQgZT0nJGZpbHRlclVuaXQnIGFuZCBlMT0nMDAwJyIpKTsKICAgICAkdXJ1c2FuID0gJGdldERhdGFVcnVzYW5bJ25tX3NrcGQnXTsKICAgICAkYmlkYW5nID0gJGdldERhdGFCaWRhbmdbJ25tX3NrcGQnXTsKICAgICAkc2twZCA9ICRnZXREYXRhU0tQRFsnbm1fc2twZCddOwogICAgICR1bml0ID0gJGdldERhdGFVbml0WydubV9za3BkJ107CiAgICAgJHN1YlVuaXQgPSAiU0VNVUEgU1VCIFVOSVQiOwogICB9ZWxzZWlmKCRmaWx0ZXJTS1BEICE9JzAwJyl7CiAgICAgJGtvbmRpc2lTS1BEID0gIiBhbmQgYzEgPSAnIi4kZmlsdGVyVXJ1c2FuLiInIGFuZCBjID0gJyIuJGZpbHRlckJpZGFuZy4iJyBhbmQgZCA9ICciLiRmaWx0ZXJTS1BELiInIjsKICAgICAka29kZVNLUEQgPSAkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nLiIuIi4kZmlsdGVyU0tQRDsKICAgICAkZ2V0RGF0YVVydXNhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JzAwJyIpKTsKICAgICAkZ2V0RGF0YUJpZGFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPScwMCciKSk7CiAgICAgJGdldERhdGFTS1BEID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JyRmaWx0ZXJTS1BEJyIpKTsKICAgICAkdXJ1c2FuID0gJGdldERhdGFVcnVzYW5bJ25tX3NrcGQnXTsKICAgICAkYmlkYW5nID0gJGdldERhdGFCaWRhbmdbJ25tX3NrcGQnXTsKICAgICAkc2twZCA9ICRnZXREYXRhU0tQRFsnbm1fc2twZCddOwogICAgICR1bml0ID0gIlNFTVVBIFVOSVQiOwogICAgICRzdWJVbml0ID0gIlNFTVVBIFNVQiBVTklUIjsKICAgfWVsc2VpZigkZmlsdGVyQmlkYW5nICE9JzAwJyl7CiAgICAgJGtvbmRpc2lTS1BEID0gIiBhbmQgYzEgPSAnIi4kZmlsdGVyVXJ1c2FuLiInIGFuZCBjID0gJyIuJGZpbHRlckJpZGFuZy4iJyI7CiAgICAgJGtvZGVTS1BEID0gJGZpbHRlclVydXNhbi4iLiIuJGZpbHRlckJpZGFuZzsKICAgICAkZ2V0RGF0YVVydXNhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JzAwJyIpKTsKICAgICAkZ2V0RGF0YUJpZGFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPScwMCciKSk7CiAgICAgJHVydXNhbiA9ICRnZXREYXRhVXJ1c2FuWydubV9za3BkJ107CiAgICAgJGJpZGFuZyA9ICRnZXREYXRhQmlkYW5nWydubV9za3BkJ107CiAgICAgJHNrcGQgPSAiU0VNVUEgU0tQRCI7CiAgICAgJHVuaXQgPSAiU0VNVUEgVU5JVCI7CiAgICAgJHN1YlVuaXQgPSAiU0VNVUEgU1VCIFVOSVQiOwogICB9ZWxzZWlmKCRmaWx0ZXJVcnVzYW4gIT0nMDAnKXsKICAgICAka29uZGlzaVNLUEQgPSAiIGFuZCBjMSA9ICciLiRmaWx0ZXJVcnVzYW4uIiciOwogICAgICRrb2RlU0tQRCA9ICRmaWx0ZXJVcnVzYW47CiAgICAgJGdldERhdGFVcnVzYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPScwMCciKSk7CiAgICAgJHVydXNhbiA9ICRnZXREYXRhVXJ1c2FuWydubV9za3BkJ107CiAgICAgJGJpZGFuZyA9ICJTRU1VQSBCSURBTkciOwogICAgICRza3BkID0gIlNFTVVBIFNLUEQiOwogICAgICR1bml0ID0gIlNFTVVBIFVOSVQiOwogICAgICRzdWJVbml0ID0gIlNFTVVBIFNVQiBVTklUIjsKICAgfWVsc2V7CiAgICAgJGtvZGVTS1BEID0gIiI7CiAgICAgJHVydXNhbiA9ICJTRU1VQSBVUlVTQU4iOwogICAgICRiaWRhbmcgPSAiU0VNVUEgQklEQU5HIjsKICAgICAkc2twZCA9ICJTRU1VQSBTS1BEIjsKICAgICAkdW5pdCA9ICJTRU1VQSBVTklUIjsKICAgICAkc3ViVW5pdCA9ICJTRU1VQSBTVUIgVU5JVCI7CiAgIH0KCiAgICRnZXREYXRhQmFyYW5nID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9iYXJhbmcgd2hlcmUgZj0nMDgnIGFuZCBqMSE9JzAwMDAnICIpOwogICB3aGlsZSAoJGRhdGFCYXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFCYXJhbmcpKSB7CiAgICAgJGFycmF5S29kZUJhcmFuZ1tdID0gJGRhdGFCYXJhbmdbJ2YnXS4iLiIuJGRhdGFCYXJhbmdbJ2cnXS4iLiIuJGRhdGFCYXJhbmdbJ2gnXS4iLiIuJGRhdGFCYXJhbmdbJ2knXS4iLiIuJGRhdGFCYXJhbmdbJ2onXS4iLiIuJGRhdGFCYXJhbmdbJ2oxJ107CiAgIH0KICAgLy8gJGdldERhdGFDbG9zaW5nID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEIGFuZCB0YWh1bl9hbmdnYXJhbiA9JyR0aGlzLT50YWh1bkFuZ2dhcmFuJyAiKTsKICAgLy8gd2hpbGUgKCRkYXRhQ2xvc2luZyA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YUNsb3NpbmcpKSB7CiAgIC8vICAgJGNvbmNhdFNLUEQgPSAkZGF0YUNsb3NpbmdbJ2MxJ10uIi4iLiRkYXRhQ2xvc2luZ1snYyddLiIuIi4kZGF0YUNsb3NpbmdbJ2QnXS4iLiIuJGRhdGFDbG9zaW5nWydlJ10uIi4iLiRkYXRhQ2xvc2luZ1snZTEnXTsKICAgLy8gICBpZigkdGhpcy0+c3FsTnVtUm93KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjbG9zaW5nX3BlcnNlZGlhYW4gd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGNvbmNhdFNLUEQnIGFuZCB0YWh1bl9hbmdnYXJhbiA9JyR0aGlzLT50YWh1bkFuZ2dhcmFuJyAiKSkgIT0gMil7CiAgIC8vICAgICAkYXJyYXlTS1BEQ29zaW5nW10gPSAiJyIuJGRhdGFDbG9zaW5nWydjMSddLiIuIi4kZGF0YUNsb3NpbmdbJ2MnXS4iLiIuJGRhdGFDbG9zaW5nWydkJ10uIi4iLiRkYXRhQ2xvc2luZ1snZSddLiIuIi4kZGF0YUNsb3NpbmdbJ2UxJ10uIiciIDsKICAgLy8gICB9CiAgIC8vIH0KICAgLy8gaWYoc2l6ZW9mKCRhcnJheVNLUERDb3NpbmcpID4gMCl7CiAgIC8vICAgJGtvbmRpc2lDTG9zaW5nU0tQRCA9ICIgYW5kIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpIG5vdCBpbigiLmltcGxvZGUoIiwiLCRhcnJheVNLUERDb3NpbmcpLiIpICI7CiAgIC8vIH0KICAgJGdldERhdGFTS1BEID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgYW5kIGUxIT0nMDAwJyAka29uZGlzaUNMb3NpbmdTS1BEICIpOwogICB3aGlsZSAoJGRhdGFTS1BEID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhU0tQRCkpIHsKICAgICAkYXJyYXlTS1BEW10gPSAkZGF0YVNLUERbJ2MxJ10uIi4iLiRkYXRhU0tQRFsnYyddLiIuIi4kZGF0YVNLUERbJ2QnXS4iLiIuJGRhdGFTS1BEWydlJ10uIi4iLiRkYXRhU0tQRFsnZTEnXSA7CiAgIH0KICAgJGFycmF5U2VtZXN0ZXIgPSBhcnJheSgKICAgIGFycmF5KCcxJywnU0VNRVNURVIgMScpLAogICAgYXJyYXkoJzInLCdTRU1FU1RFUiAyJyksCiAgKTsKICBpZihlbXB0eSgkZXJyKSl7CiAgICBpZihzaXplb2YoJGFycmF5U0tQRCkgPT0gMCl7CiAgICAgICRlcnIgPSAiRGF0YSBzdWRhaCBkaSBjbG9zaW5nICEiOwogICAgfQogIH0KCiAgICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KAogICAgICdrb2RlMCcgPT4gYXJyYXkoCiAgICAgICAnbGFiZWwnPT4nVVJVU0FOJywKICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgJ3ZhbHVlJz0+ICR1cnVzYW4KICAgICApLAogICAgICdrb2RlMScgPT4gYXJyYXkoCiAgICAgICAnbGFiZWwnPT4nQklEQU5HJywKICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgJ3ZhbHVlJz0+ICRiaWRhbmcKICAgICApLAogICAgICdrb2RlMicgPT4gYXJyYXkoCiAgICAgICAnbGFiZWwnPT4nU0tQRCcsCiAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICd2YWx1ZSc9PiAkc2twZAogICAgICksCiAgICAgJ2tvZGUzJyA9PiBhcnJheSgKICAgICAgICdsYWJlbCc9PidVTklUJywKICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgJ3ZhbHVlJz0+ICR1bml0CiAgICAgKSwKICAgICAna29kZTQnID0+IGFycmF5KAogICAgICAgJ2xhYmVsJz0+J1NVQiBVTklUJywKICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgJ3ZhbHVlJz0+ICRzdWJVbml0CiAgICAgKSwKIAkJJ2tldGVyYW5nYW4nID0+IGFycmF5KAogCQkJJ2xhYmVsJz0+J0tFVEVSQU5HQU4nLAogCQkJJ2xhYmVsV2lkdGgnPT43MCwKIAkJCSd2YWx1ZSc9PiAiPHRleHRhcmVhIGlkPSdrZXRlcmFuZ2FuJyBuYW1lPSdrZXRlcmFuZ2FuJyBzdHlsZT0nd2lkdGg6MzAwcHg7aGVpZ2h0OjUwcHg7Jz48L3RleHRhcmVhPiIKIAkJKSwKICAgICAncHJvZ3Jlc3MnID0+IGFycmF5KAogICAgICAgJ2xhYmVsJz0+JycsCiAgICAgICAnbGFiZWxXaWR0aCc9PjEsCiAgICAgICAncGVtaXNhaCc9PicgJywKICAgICAgICd0eXBlJz0+J21lcmdlJywKICAgICAgICd2YWx1ZSc9PgogICAgICAgICAiPGRpdiBpZD0ncHJvZ3Jlc3Nib3gnIHN0eWxlPSdiYWNrZ3JvdW5kOiNmZmZiZjA7Ym9yZGVyLXJhZGl1czo1cHg7Ym9yZGVyOjFweCBzb2xpZDtoZWlnaHQ6MTBweCc+CiAgICAgICAgICAgPGRpdiBpZD0ncHJvZ3Jlc3NiYXInPjwvZGl2ID4KICAgICAgICAgICA8ZGl2IGlkPSdzdGF0dXN0eHQnIHN0eWxlPSd3aWR0aDowJTtiYWNrZ3JvdW5kOmdyZWVuO2hlaWdodDoxMHB4O3RleHQtYWxpZ246cmlnaHQ7Y29sb3I6d2hpdGU7Zm9udC1zaXplOjhweDsnPjAlPC9kaXY+CiAgICAgICAgICAgPGRpdiBpZD0nb3V0cHV0Jz48L2Rpdj4KICAgICAgICAgPC9kaXY+CSIKICAgICAgICksCiAgICAgJ3BlcmluZ2F0YW4nID0+IGFycmF5KAogICAgICAgICAgICdsYWJlbCc9PicnLAogCQkJCQkndHlwZSc9PidtZXJnZScsCiAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4xLAogICAgICAgICAgICdwZW1pc2FoJz0+JyAnLAogICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IGlkPSdwZW1pc2FoJyBzdHlsZT0nY29sb3I6cmVkO2ZvbnQtc2l6ZToxMXB4Oyc+PC9kaXY+IiwKICAgICAgICksCiAgICAgJ2xvZycgPT4gYXJyYXkoCiAgICAgICAgICAgJ2xhYmVsJz0+JycsCiAJCQkJCSd0eXBlJz0+J21lcmdlJywKICAgICAgICAgICAnbGFiZWxXaWR0aCc9PicwJywKICAgICAgICAgICAncGVtaXNhaCc9PicgJywKICAgICAgICAgICAndmFsdWUnPT4iCgogICAgICAgICAgIDx0ZXh0YXJlYSBpZD0nbG9nQ2xvc2luZycgbmFtZT0nbG9nQ2xvc2luZycgcmVhZG9ubHkgc3R5bGU9J3dpZHRoOjc5MHB4O2hlaWdodDoyMjBweDsnPkp1bWxhaCBTS1BEICA9ICIuc2l6ZW9mKCRhcnJheVNLUEQpLiJcbkp1bWxhaCBLb2RlIEJhcmFuZyAgPSAiLnNpemVvZigkYXJyYXlLb2RlQmFyYW5nKS4iXG48L3RleHRhcmVhPiIsCiAgICAgICApLAogICAgICk7CiAgICAvL3RvbWJvbAoKICAgIC8vICRsZW5ndGhQcm9jY2VzcyA9IHNpemVvZigkYXJyYXlTS1BEKSAqIHNpemVvZigkYXJyYXlLb2RlQmFyYW5nKTsKICAgICRsZW5ndGhQcm9jY2VzcyA9IHNpemVvZigkYXJyYXlTS1BEKTsKICAgICR0aGlzLT5mb3JtX21lbnViYXdhaCA9CiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi5qc29uX2VuY29kZSgkYXJyYXlLb2RlQmFyYW5nKS4iJyAgaWQ9J2FycmF5S29kZUJhcmFuZycgbmFtZT0nYXJyYXlLb2RlQmFyYW5nJyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi5zaXplb2YoJGFycmF5S29kZUJhcmFuZykuIicgIGlkPSd0b3RhbEJhcmFuZycgbmFtZT0ndG90YWxCYXJhbmcnID4gIi4KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIHZhbHVlPSciLmpzb25fZW5jb2RlKCRhcnJheVNLUEQpLiInICBpZD0nYXJyYXlLb2RlU0tQRCcgbmFtZT0nYXJyYXlLb2RlU0tQRCcgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuanNvbl9lbmNvZGUoJGFycmF5U0tQRCkuIicgIGlkPSdhcnJheURhdGFQb3N0JyBuYW1lPSdhcnJheURhdGFQb3N0JyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi4kbGVuZ3RoUHJvY2Nlc3MuIicgIGlkPSdsZW5ndGhQcm9jY2VzcycgIG5hbWU9J2xlbmd0aFByb2NjZXNzJyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi4ka29kZVNLUEQuIicgIGlkPSdrb2RlU0tQRCcgbmFtZT0na29kZVNLUEQnID4gIi4KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIHZhbHVlPScnICBpZD0nc2twZE5vdENMb3NpbmcnIG5hbWU9J3NrcGROb3RDTG9zaW5nJyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nVHV0dXAgQnVrdScgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLmV4ZWN1dGVUdXR1cEJ1a3UoKScgdGl0bGU9J1R1dHVwIEJ1a3UnID4gJm5ic3AiLgogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0JhdGFsJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuQ2xvc2UoKScgPiI7CgogICAgJGZvcm0gPSAkdGhpcy0+Z2VuRm9ybSgpOwogICAgJGNvbnRlbnQgPSAkZm9ybTsvLyRjb250ZW50ID0gJ2NvbnRlbnQnOwogICAgcmV0dXJuCWFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOwogIH0KICBmdW5jdGlvbiBDb3VudEFuZENsb3NlKCRkdCl7CiAgIGdsb2JhbCAkU2Vuc3VzVG1wLCRNYWluLCRIVFRQX0NPT0tJRV9WQVJTOwogICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgIH0KICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsKICAgJGpzb24gPSBUUlVFOwkvLyRFcnJNc2cgPSAndGVzJzsKICAgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtJzsKICAgJHRoaXMtPmZvcm1fd2lkdGggPSA4MjA7CiAgICR0aGlzLT5mb3JtX2hlaWdodCA9IDQwMDsKICAgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdDb3VudCBBbmQgQ2xvc2luZyc7CgogICRmaWx0ZXJQZXJpb2RlPSAkZmlsdGVyU2VtZXN0ZXI7CiAgaWYoZW1wdHkoJGZpbHRlclBlcmlvZGUpKSRlcnIgPSAiUGlsaWggUGVyaW9kZSI7CiAJaWYoJGZpbHRlclBlcmlvZGUgPT0gMSl7CiAJCSR0YW5nZ2FsID0gIjMxLTA2LSIuJHRoaXMtPnRhaHVuQW5nZ2FyYW47CiAJCS8vICRzdGF0dXNDbG9zaW5nID0gJHRoaXMtPmdldFN0YXR1c0Nsb3NpbmcoJGtvZGVTS1BELCR0aGlzLT5nZW5lcmF0ZURhdGUoJHRhbmdnYWwpKTsKIAkJaWYoJHN0YXR1c0Nsb3NpbmcgIT0gMCl7CiAJCQkkZXJyID0gIkRhdGEgc2VtZXN0ZXIgc2F0dSBzdWRhaCBkaSBjbG9zaW5nLCBiYXRhbGthbiBjbG9zaW5nID8iOwogCQl9CiAJCSRuYW1hU2VtZXN0ZXIgPSAiU0FUVSI7CiAJfWVsc2V7CiAJCSR0YW5nZ2FsID0gIjMxLTEyLSIuJHRoaXMtPnRhaHVuQW5nZ2FyYW47CiAJCS8vICRzdGF0dXNDbG9zaW5nID0gJHRoaXMtPmdldFN0YXR1c0Nsb3NpbmcoJGtvZGVTS1BELCR0aGlzLT5nZW5lcmF0ZURhdGUoJHRhbmdnYWwpKTsKIAkJaWYoJHN0YXR1c0Nsb3NpbmcgIT0gMCl7CiAJCQkkZXJyID0gIkRhdGEgc2VtZXN0ZXIgZHVhIHN1ZGFoIGRpIGNsb3NpbmcsIGJhdGFsa2FuIGNsb3NpbmcgPyI7CiAJCX0KIAkJJG5hbWFTZW1lc3RlciA9ICJEVUEiOwogCX0KCiAgICRnZXREYXRhQmFyYW5nID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9iYXJhbmcgd2hlcmUgZj0nMDgnIGFuZCBqMSE9JzAwMDAnICIpOwogICB3aGlsZSAoJGRhdGFCYXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFCYXJhbmcpKSB7CiAgICAgJGFycmF5S29kZUJhcmFuZ1tdID0gJGRhdGFCYXJhbmdbJ2YnXS4iLiIuJGRhdGFCYXJhbmdbJ2cnXS4iLiIuJGRhdGFCYXJhbmdbJ2gnXS4iLiIuJGRhdGFCYXJhbmdbJ2knXS4iLiIuJGRhdGFCYXJhbmdbJ2onXS4iLiIuJGRhdGFCYXJhbmdbJ2oxJ107CiAgIH0KICAgJGFycmF5U0tQRENvc2luZyA9IGV4cGxvZGUoIjsiLCRsaXN0S29kZVNLUEQpOwogICBmb3IgKCRpPTA7ICRpIDwgc2l6ZW9mKCRhcnJheVNLUERDb3NpbmcpIDsgJGkrKykgewogICAgICRhcnJheVNLUERDTE9TSU5HW10gPSAiJyIuJGFycmF5U0tQRENvc2luZ1skaV0uIiciOwogICB9CiAgICRrb25kaXNpQ0xvc2luZ1NLUEQgPSAiIGFuZCBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSBpbigiLmltcGxvZGUoIiwiLCRhcnJheVNLUERDTE9TSU5HKS4iKSAiOwogICAkZ2V0RGF0YVNLUEQgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgMT0xICRrb25kaXNpU0tQRCBhbmQgZTEhPScwMDAnICRrb25kaXNpQ0xvc2luZ1NLUEQgIik7CiAgIHdoaWxlICgkZGF0YVNLUEQgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFTS1BEKSkgewogICAgICRhcnJheVNLUERbXSA9ICRkYXRhU0tQRFsnYzEnXS4iLiIuJGRhdGFTS1BEWydjJ10uIi4iLiRkYXRhU0tQRFsnZCddLiIuIi4kZGF0YVNLUERbJ2UnXS4iLiIuJGRhdGFTS1BEWydlMSddIDsKICAgICBmb3IgKCRpPTA7ICRpIDwgc2l6ZW9mKCRhcnJheUtvZGVCYXJhbmcpOyAkaSsrKSB7CiAgICAgICAkYXJyYXlEYXRhUG9zdFtdID0gJGRhdGFTS1BEWydjMSddLiIuIi4kZGF0YVNLUERbJ2MnXS4iLiIuJGRhdGFTS1BEWydkJ10uIi4iLiRkYXRhU0tQRFsnZSddLiIuIi4kZGF0YVNLUERbJ2UxJ10uIjsiLiRhcnJheUtvZGVCYXJhbmdbJGldOwogICAgIH0KICAgfQogICAkYXJyYXlTZW1lc3RlciA9IGFycmF5KAogICAgYXJyYXkoJzEnLCdTRU1FU1RFUiAxJyksCiAgICBhcnJheSgnMicsJ1NFTUVTVEVSIDInKSwKICApOwoKICAgJHRoaXMtPmZvcm1fZmllbGRzID0gYXJyYXkoCiAgICAgJ3NlbWVzdGVyJyA9PiBhcnJheSgKICAgICAgICdsYWJlbCc9PidTRU1FU1RFUicsCiAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICd2YWx1ZSc9PiBjbWJBcnJheSgic2RzIiwkZmlsdGVyU2VtZXN0ZXIsJGFycmF5U2VtZXN0ZXIsICItLSBTRU1FU1RFUiAtLSAiLCIgZGlzYWJsZWQiICkuIjxpbnB1dCB0eXBlPSdoaWRkZW4nIHZhbHVlPSckZmlsdGVyU2VtZXN0ZXInIG5hbWU9J2ZpbHRlclBlcmlvZGUnIGlkPSdmaWx0ZXJQZXJpb2RlJyA+IgogICAgICksCiAJCSdrZXRlcmFuZ2FuJyA9PiBhcnJheSgKIAkJCSdsYWJlbCc9PidLRVRFUkFOR0FOJywKIAkJCSdsYWJlbFdpZHRoJz0+NzAsCiAJCQkndmFsdWUnPT4gIjx0ZXh0YXJlYSBpZD0na2V0ZXJhbmdhbicgbmFtZT0na2V0ZXJhbmdhbicgc3R5bGU9J3dpZHRoOjMwMHB4O2hlaWdodDo1MHB4Oyc+JGtldGVyYW5nYW48L3RleHRhcmVhPiIKIAkJKSwKCiAgICAgJ3Byb2dyZXNzJyA9PiBhcnJheSgKICAgICAgICdsYWJlbCc9PicnLAogICAgICAgJ2xhYmVsV2lkdGgnPT4xLAogICAgICAgJ3BlbWlzYWgnPT4nICcsCiAgICAgICAndHlwZSc9PidtZXJnZScsCiAgICAgICAndmFsdWUnPT4KICAgICAgICAgIjxkaXYgaWQ9J3Byb2dyZXNzYm94JyBzdHlsZT0nYmFja2dyb3VuZDojZmZmYmYwO2JvcmRlci1yYWRpdXM6NXB4O2JvcmRlcjoxcHggc29saWQ7aGVpZ2h0OjEwcHgnPgogICAgICAgICAgIDxkaXYgaWQ9J3Byb2dyZXNzYmFyJz48L2RpdiA+CiAgICAgICAgICAgPGRpdiBpZD0nc3RhdHVzdHh0JyBzdHlsZT0nd2lkdGg6MCU7YmFja2dyb3VuZDpncmVlbjtoZWlnaHQ6MTBweDt0ZXh0LWFsaWduOnJpZ2h0O2NvbG9yOndoaXRlO2ZvbnQtc2l6ZTo4cHg7Jz4wJTwvZGl2PgogICAgICAgICAgIDxkaXYgaWQ9J291dHB1dCc+PC9kaXY+CiAgICAgICAgIDwvZGl2PgkiCiAgICAgICApLAogICAgICdwZXJpbmdhdGFuJyA9PiBhcnJheSgKICAgICAgICAgICAnbGFiZWwnPT4nJywKIAkJCQkJJ3R5cGUnPT4nbWVyZ2UnLAogICAgICAgICAgICdsYWJlbFdpZHRoJz0+MSwKICAgICAgICAgICAncGVtaXNhaCc9PicgJywKICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBpZD0ncGVtaXNhaCcgc3R5bGU9J2NvbG9yOnJlZDtmb250LXNpemU6MTFweDsnPjwvZGl2PiIsCiAgICAgICApLAogICAgICdsb2cnID0+IGFycmF5KAogICAgICAgICAgICdsYWJlbCc9PicnLAogCQkJCQkndHlwZSc9PidtZXJnZScsCiAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4nMCcsCiAgICAgICAgICAgJ3BlbWlzYWgnPT4nICcsCiAgICAgICAgICAgJ3ZhbHVlJz0+IgoKICAgICAgICAgICA8dGV4dGFyZWEgaWQ9J2xvZ0Nsb3NpbmcnIG5hbWU9J2xvZ0Nsb3NpbmcnIHJlYWRvbmx5IHN0eWxlPSd3aWR0aDo3OTBweDtoZWlnaHQ6MjIwcHg7Jz5KdW1sYWggU0tQRCAgPSAiLnNpemVvZigkYXJyYXlTS1BEKS4iXG5KdW1sYWggS29kZSBCYXJhbmcgID0gIi5zaXplb2YoJGFycmF5S29kZUJhcmFuZykuIlxuPC90ZXh0YXJlYT4iLAogICAgICAgKSwKICAgICApOwogICAgLy90b21ib2wKCiAgICAvLyAkbGVuZ3RoUHJvY2Nlc3MgPSBzaXplb2YoJGFycmF5U0tQRCkgKiBzaXplb2YoJGFycmF5S29kZUJhcmFuZyk7CiAgICAkbGVuZ3RoUHJvY2Nlc3MgPSBzaXplb2YoJGFycmF5RGF0YVBvc3QpOwogICAgJHRoaXMtPmZvcm1fbWVudWJhd2FoID0KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIHZhbHVlPSciLmpzb25fZW5jb2RlKCRhcnJheUtvZGVCYXJhbmcpLiInICBpZD0nYXJyYXlLb2RlQmFyYW5nJyBuYW1lPSdhcnJheUtvZGVCYXJhbmcnID4gIi4KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIHZhbHVlPSciLnNpemVvZigkYXJyYXlLb2RlQmFyYW5nKS4iJyAgaWQ9J3RvdGFsQmFyYW5nJyBuYW1lPSd0b3RhbEJhcmFuZycgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuanNvbl9lbmNvZGUoJGFycmF5U0tQRCkuIicgIGlkPSdhcnJheUtvZGVTS1BEJyBuYW1lPSdhcnJheUtvZGVTS1BEJyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi5qc29uX2VuY29kZSgkYXJyYXlEYXRhUG9zdCkuIicgIGlkPSdhcnJheURhdGFQb3N0JyBuYW1lPSdhcnJheURhdGFQb3N0JyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi4kbGVuZ3RoUHJvY2Nlc3MuIicgIGlkPSdsZW5ndGhQcm9jY2VzcycgIG5hbWU9J2xlbmd0aFByb2NjZXNzJyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi4ka29kZVNLUEQuIicgIGlkPSdrb2RlU0tQRCcgbmFtZT0na29kZVNLUEQnID4gIi4KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdDbG9zaW5nJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuZXhlY3V0ZUNvdW50QW5kQ2xvc2UoIi5zaXplb2YoJGFycmF5U0tQRCkuIiwxKScgdGl0bGU9J0Nsb3NpbmcnID4gJm5ic3AiLgogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1R1dHVwJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuQ2xvc2UoKScgPiI7CgogICAgJGZvcm0gPSAkdGhpcy0+Z2VuRm9ybSgpOwogICAgJGNvbnRlbnQgPSAkZm9ybTsvLyRjb250ZW50ID0gJ2NvbnRlbnQnOwogICAgcmV0dXJuCWFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOwogIH0KCgogIGZ1bmN0aW9uIGdldFN0YXR1c0hpdHVuZygka29kZVNLUEQsJHNlbWVzdGVyKXsKCQlpZighZW1wdHkoJHNlbWVzdGVyKSl7CgkJCQlpZigkc2VtZXN0ZXIgPT0gJzEnKXsKCQkJCQkJJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNiI7CgkJCQkJCSRjb25kaXRpb25QZXJpb2RlID0gImFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKCQkJCX1lbHNlaWYoJHNlbWVzdGVyID09ICcyJyl7CgkJCQkJCSRtaW5GaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMDciOwoJCQkJCQkkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjEyIjsKCQkJCQkJJGNvbmRpdGlvblBlcmlvZGUgPSAiYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA+PSAnJG1pbkZpbHRlcicgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlciciOwoJCQkJfWVsc2VpZigkc2VtZXN0ZXIgPT0gJzMnKXsKCQkJCQkJJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CgkJCQl9CgkJfQoJCSRzdGF0dXNIaXR1bmcgPSAkdGhpcy0+c3FsTnVtUm93KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9ICckc2VtZXN0ZXInIikpOwoJCWlmKCAkc3RhdHVzSGl0dW5nICAhPSAwKXsKCQkJJHJldHVybiA9IDE7CgkJfWVsc2V7CgkJCSRyZXR1cm4gPSAwIDsKCQl9CgkJcmV0dXJuICRyZXR1cm47Cgl9CiAgZnVuY3Rpb24gY291bnRBbmRDbG9zZVNlbWVzdGVyMSgka29kZVNLUEQsJGtvZGVCYXJhbmcpewogIAkJIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewogIAkJCQkkJGtleSA9ICR2YWx1ZTsKICAJCSB9CiAgICAgICRnZXREYXRhUGVyc2VkaWFhbiA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB2aWV3X2RhZnRhcl9wZXJzZWRpYWFuIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgYW5kIGNvbmNhdChmLCcuJyxnLCcuJyxoLCcuJyxpLCcuJyxqLCcuJyxqMSkgPSAnJGtvZGVCYXJhbmcnIGFuZCB5ZWFyKHRhbmdnYWxfYnVrdSkgPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIik7CiAgICAgIHdoaWxlICgkZGF0YVBlcnNlZGlhYW4gPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFQZXJzZWRpYWFuKSkgewogICAgICAgICRrb2RlQmFyYW5nID0gJGRhdGFQZXJzZWRpYWFuWydmJ10uIi4iLiRkYXRhUGVyc2VkaWFhblsnZyddLiIuIi4kZGF0YVBlcnNlZGlhYW5bJ2gnXS4iLiIuJGRhdGFQZXJzZWRpYWFuWydpJ10uIi4iLiRkYXRhUGVyc2VkaWFhblsnaiddLiIuIi4kZGF0YVBlcnNlZGlhYW5bJ2oxJ107CiAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSkgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIGFuZCB0YWh1biA9ICckdGhpcy0+dGFodW5BbmdnYXJhbiciKTsKICAgICAgICAkYXJyYXlTYWxkb0F3YWwgPSAkdGhpcy0+Z3JhYlRyYW5zYWtzaVNlbWVzdGVyMSgka29kZVNLUEQsJGtvZGVCYXJhbmcsJzEnKTsKICAgICAgICAkZ2V0RGF0YUJhcmFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZyciKSk7CiAgICAgICAgJGRhdGFTYWxkb0F3YWwgPSBhcnJheSgKICAgICAgICAgICdjMScgPT4gJGRhdGFQZXJzZWRpYWFuWydjMSddLAogICAgICAgICAgJ2MnID0+ICRkYXRhUGVyc2VkaWFhblsnYyddLAogICAgICAgICAgJ2QnID0+ICRkYXRhUGVyc2VkaWFhblsnZCddLAogICAgICAgICAgJ2UnID0+ICRkYXRhUGVyc2VkaWFhblsnZSddLAogICAgICAgICAgJ2UxJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2UxJ10sCiAgICAgICAgICAnZicgPT4gJGRhdGFQZXJzZWRpYWFuWydmJ10sCiAgICAgICAgICAnZycgPT4gJGRhdGFQZXJzZWRpYWFuWydnJ10sCiAgICAgICAgICAnaCcgPT4gJGRhdGFQZXJzZWRpYWFuWydoJ10sCiAgICAgICAgICAnaScgPT4gJGRhdGFQZXJzZWRpYWFuWydpJ10sCiAgICAgICAgICAnaicgPT4gJGRhdGFQZXJzZWRpYWFuWydqJ10sCiAgICAgICAgICAnajEnID0+ICRkYXRhUGVyc2VkaWFhblsnajEnXSwKICAgICAgICAgICdzYXR1YW4nID0+ICRnZXREYXRhQmFyYW5nWydzYXR1YW4nXSwKICAgICAgICAgICd0YW5nZ2FsJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxIiwKICAgICAgICAgICdqbnMnID0+ICcxJywKICAgICAgICAgICdqZW5pc19wZXJzZWRpYWFuJyA9PiAnMScsCiAgICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgJ2hhcmdhX3NhdHVhbicgPT4gJGFycmF5U2FsZG9Bd2FsWydqdW1sYWhIYXJnYSddIC8gJGFycmF5U2FsZG9Bd2FsWydzYWxkbyddICAsCiAgICAgICAgICAnanVtbGFoJyA9PiAkYXJyYXlTYWxkb0F3YWxbJ3NhbGRvJ10gLAogICAgICAgICAgJ3RvdGFsJyA9PiAkYXJyYXlTYWxkb0F3YWxbJ2p1bWxhaEhhcmdhJ10sCiAgICAgICAgKTsKICAgICAgICAkcXVlcnlJbnNldFNhbGRvQXdhbCA9ICR0aGlzLT5zcWxJbnNlcnQoInNhbGRvX2F3YWwiLCRkYXRhU2FsZG9Bd2FsKTsKICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHF1ZXJ5SW5zZXRTYWxkb0F3YWwpOwogICAgICAgICRnZXRJZFRyYW5zYWtzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBtYXgoaWQpIGZyb20gc2FsZG9fYXdhbCB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZycgYW5kIHRhbmdnYWw9JyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMSIuIiciKSk7CiAgICAgICAgJGRhdGFLYXJ0dVBlcnNlZGlhYW4gPSBhcnJheSgKICAgICAgICAgICdjMScgPT4gJGRhdGFQZXJzZWRpYWFuWydjMSddLAogICAgICAgICAgJ2MnID0+ICRkYXRhUGVyc2VkaWFhblsnYyddLAogICAgICAgICAgJ2QnID0+ICRkYXRhUGVyc2VkaWFhblsnZCddLAogICAgICAgICAgJ2UnID0+ICRkYXRhUGVyc2VkaWFhblsnZSddLAogICAgICAgICAgJ2UxJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2UxJ10sCiAgICAgICAgICAnZicgPT4gJGRhdGFQZXJzZWRpYWFuWydmJ10sCiAgICAgICAgICAnZycgPT4gJGRhdGFQZXJzZWRpYWFuWydnJ10sCiAgICAgICAgICAnaCcgPT4gJGRhdGFQZXJzZWRpYWFuWydoJ10sCiAgICAgICAgICAnaScgPT4gJGRhdGFQZXJzZWRpYWFuWydpJ10sCiAgICAgICAgICAnaicgPT4gJGRhdGFQZXJzZWRpYWFuWydqJ10sCiAgICAgICAgICAnajEnID0+ICRkYXRhUGVyc2VkaWFhblsnajEnXSwKICAgICAgICAgICd0YW5nZ2FsX2J1a3UnID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEiLAogICAgICAgICAgJ2pucycgPT4gJzEnLAogICAgICAgICAgJ2plbmlzX3BlcnNlZGlhYW4nID0+ICcxJywKICAgICAgICAgICdjYXJhX3Blcm9sZWhhbicgPT4gJzEnLAogICAgICAgICAgJ2hhcmdhX3NhdHVhbicgPT4gJGFycmF5U2FsZG9Bd2FsWydqdW1sYWhIYXJnYSddIC8gJGFycmF5U2FsZG9Bd2FsWydzYWxkbyddLAogICAgICAgICAgJ2p1bWxhaCcgPT4gJGFycmF5U2FsZG9Bd2FsWydzYWxkbyddICwKICAgICAgICAgICd0b3RhbCcgPT4gJGFycmF5U2FsZG9Bd2FsWydqdW1sYWhIYXJnYSddLAogICAgICAgICAgJ3NhdHVhbicgPT4gJGdldERhdGFCYXJhbmdbJ3NhdHVhbiddLAogICAgICAgICAgJ3JlZmlkJyA9PiAkZ2V0SWRUcmFuc2Frc2lbJ21heChpZCknXQogICAgICAgICk7CiAgICAgICAgJHF1ZXJ5S2FydHVQZXJzZWRpYWFuID0gJHRoaXMtPnNxbEluc2VydCgidF9rYXJ0dV9wZXJzZWRpYWFuIiwkZGF0YUthcnR1UGVyc2VkaWFhbik7CiAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCRxdWVyeUthcnR1UGVyc2VkaWFhbik7CiAgICAgIH0KICAgICAgcmV0dXJuICRjZWs7CiAgCX0KICAgIGZ1bmN0aW9uIGNvdW50QW5kQ2xvc2VTZW1lc3RlcjIoJGtvZGVTS1BELCRrb2RlQmFyYW5nKXsKICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4gd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmc9JyRrb2RlQmFyYW5nJyBhbmQgc2VtZXN0ZXIgPSAnMiciKTsKCiAgICAgICRlcnIgPSAiIjsKICAgICAgJGNlayA9ICIiOwogICAgICAkY29udGVudCA9ICIiOwogICAgICAkZmlsdGVyUGVyaW9kZSA9ICcyJzsKICAgICAgJGtvbmRpc2lUYWh1biA9ICIgYW5kIGxlZnQodGFuZ2dhbF9idWt1LDQpID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIicgIjsKICAgICAgaWYoIWVtcHR5KCRmaWx0ZXJQZXJpb2RlKSl7CiAgICAgICAgICBpZigkZmlsdGVyUGVyaW9kZSA9PSAnMScpewogICAgICAgICAgICAgICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMDYiOwogICAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZSAgPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInICI7CiAgICAgICAgICB9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09ICcyJyl7CiAgICAgICAgICAgICAgJG1pbkZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNyI7CiAgICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CiAgICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPj0gJyRtaW5GaWx0ZXInIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKICAgICAgICAgICAgICAka29uZGlzaVNhbGRvQXdhbCA9ICIgYW5kIGlkIG5vdCBpbiAoIHNlbGVjdCBpZCBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBqbnMgPSAnMScgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgYW5kIHRhbmdnYWxfYnVrdSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItJHRoaXMtPmJ1bGFuVGFuZ2dhbFNhbGRvQXdhbCcpICI7CiAgICAgICAgICB9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09ICczJyl7CiAgICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CiAgICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlID0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CiAgICAgICAgICAgICAgJGtvbmRpc2lTYWxkb0F3YWwgPSAiIGFuZCBpZCBub3QgaW4gKCBzZWxlY3QgaWQgZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgam5zID0gJzEnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnIGFuZCB0YW5nZ2FsX2J1a3UgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxJykgIjsKICAgICAgICAgIH0KICAgICAgfQoKICAgICAgICAkZ2V0RGF0YSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nPScka29kZUJhcmFuZycgIikpOwogICAgICAgICRkYXRhTG9ja0JhcmFuZyA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAnYzEnID0+ICRnZXREYXRhWydjMSddLAogICAgICAgICAgICAgICAgICAgICAgICAnYycgPT4gJGdldERhdGFbJ2MnXSwKICAgICAgICAgICAgICAgICAgICAgICAgJ2QnID0+ICRnZXREYXRhWydkJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICdlJyA9PiAkZ2V0RGF0YVsnZSddLAogICAgICAgICAgICAgICAgICAgICAgICAnZTEnID0+ICRnZXREYXRhWydlMSddLAogICAgICAgICAgICAgICAgICAgICAgICAnZjEnID0+ICRnZXREYXRhWydmMSddLAogICAgICAgICAgICAgICAgICAgICAgICAnZjInID0+ICRnZXREYXRhWydmMiddLAogICAgICAgICAgICAgICAgICAgICAgICAnZicgPT4gJGdldERhdGFbJ2YnXSwKICAgICAgICAgICAgICAgICAgICAgICAgJ2cnID0+ICRnZXREYXRhWydnJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICdoJyA9PiAkZ2V0RGF0YVsnaCddLAogICAgICAgICAgICAgICAgICAgICAgICAnaScgPT4gJGdldERhdGFbJ2knXSwKICAgICAgICAgICAgICAgICAgICAgICAgJ2onID0+ICRnZXREYXRhWydqJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICdqMScgPT4gJGdldERhdGFbJ2oxJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICd0YWh1bicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgICAgICAgICAgICAgICAgICAgICAgICdzZW1lc3RlcicgPT4gMiwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgJGluc2VydExvY2tCYXJhbmcgPSAkdGhpcy0+c3FsSW5zZXJ0KCJ0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmciLCRkYXRhTG9ja0JhcmFuZyk7CiAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkaW5zZXJ0TG9ja0JhcmFuZyk7CgogICAgICAgICAgICAkaWRMb2NrID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IG1heChpZCkgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgYzE9JyIuJGdldERhdGFbJ2MxJ10uIicgYW5kIGM9JyIuJGdldERhdGFbJ2MnXS4iJyBhbmQgZD0nIi4kZ2V0RGF0YVsnZCddLiInIGFuZCBlPSciLiRnZXREYXRhWydlJ10uIicgYW5kIGUxPSciLiRnZXREYXRhWydlMSddLiInICBhbmQgZj0nIi4kZ2V0RGF0YVsnZiddLiInIGFuZCBnPSciLiRnZXREYXRhWydnJ10uIicgYW5kIGg9JyIuJGdldERhdGFbJ2gnXS4iJyBhbmQgaT0nIi4kZ2V0RGF0YVsnaSddLiInIGFuZCBqPSciLiRnZXREYXRhWydqJ10uIicgYW5kIGoxPSciLiRnZXREYXRhWydqMSddLiInIGFuZCB0YWh1biA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiInIGFuZCBzZW1lc3RlciA9ICciLiRmaWx0ZXJQZXJpb2RlLiInICIpKTsKICAgICAgICAgICAgJGlkTG9jayA9ICRpZExvY2tbJ21heChpZCknXTsKCgogICAgICAgICAgICAkZ2V0RGF0YVRhbWJhaCA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgYzE9JyIuJGdldERhdGFbJ2MxJ10uIicgYW5kIGM9JyIuJGdldERhdGFbJ2MnXS4iJyBhbmQgZD0nIi4kZ2V0RGF0YVsnZCddLiInIGFuZCBlPSciLiRnZXREYXRhWydlJ10uIicgYW5kIGUxPSciLiRnZXREYXRhWydlMSddLiInICBhbmQgZj0nIi4kZ2V0RGF0YVsnZiddLiInIGFuZCBnPSciLiRnZXREYXRhWydnJ10uIicgYW5kIGg9JyIuJGdldERhdGFbJ2gnXS4iJyBhbmQgaT0nIi4kZ2V0RGF0YVsnaSddLiInIGFuZCBqPSciLiRnZXREYXRhWydqJ10uIicgYW5kIGoxPSciLiRnZXREYXRhWydqMSddLiInIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnICRrb25kaXNpVGFodW4gJGtvbmRpc2lQZXJpb2RlICRrb25kaXNpU2FsZG9Bd2FsIG9yZGVyIGJ5IHRhbmdnYWxfYnVrdSBhc2MiKTsKICAgICAgICAgICAgd2hpbGUgKCRkYXRhVGFtYmFoID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhVGFtYmFoKSkgewogICAgICAgICAgICAgIGlmKCRkYXRhVGFtYmFoWydqbnMnXSA9PSAnMycpewogICAgICAgICAgICAgICRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gZGV0YWlsX3JpbmNpYW5fZGlzdHJpYnVzaSB3aGVyZSAgaWQgPSAnIi4kZGF0YVRhbWJhaFsncmVmaWQnXS4iJyIpKTsKICAgICAgICAgICAgICAkZ2V0RGF0YVJpbmNpYW5EaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByaW5jaWFuX2Rpc3RyaWJ1c2kgd2hlcmUgIGlkID0gJyIuJGdldERhdGFEZXRhaWxEaXN0cmlidXNpWydpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knXS4iJyIpKTsKICAgICAgICAgICAgICAkZGF0YUNvdW50RGlzdHJpYnVzaSA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9sb2NrX2JhcmFuZycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICAgICAgICAgICAgICAnYzEnID0+ICRnZXREYXRhWydjMSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdjJyA9PiAkZ2V0RGF0YVsnYyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdkJyA9PiAkZ2V0RGF0YVsnZCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdlJyA9PiAkZ2V0RGF0YVsnZSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdlMScgPT4gJGdldERhdGFbJ2UxJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2YnID0+ICRnZXREYXRhWydmJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2cnID0+ICRnZXREYXRhWydnJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2gnID0+ICRnZXREYXRhWydoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2knID0+ICRnZXREYXRhWydpJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2onID0+ICRnZXREYXRhWydqJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2oxJyA9PiAkZ2V0RGF0YVsnajEnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfZGlzdHJpYnVzaScgPT4gJGdldERhdGFSaW5jaWFuRGlzdHJpYnVzaVsnaWRfZGlzdHJpYnVzaSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knID0+ICRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaVsnaWRfcmluY2lhbl9kaXN0cmlidXNpJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NlbWVzdGVyJyA9PiAyLAogICAgICAgICAgICAgICAgICAgICAgICAgICdub21vcicgPT4gJGRhdGFUYW1iYWhbJ25vbW9yJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFUYW1iYWhbJ2lkJ10KCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgnY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuJywkZGF0YUNvdW50RGlzdHJpYnVzaSkpOwogICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGRhdGFMb2NrVGFtYmFoID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFUYW1iYWhbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFUYW1iYWhbJ2lkJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkZGF0YVRhbWJhaFsnanVtbGFoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRkYXRhVGFtYmFoWydoYXJnYV9zYXR1YW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzaXNhJyA9PiAkZGF0YVRhbWJhaFsnanVtbGFoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfbG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgnbG9ja19iYXJhbmdfdGFtYmFoJywkZGF0YUxvY2tUYW1iYWgpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJGdldERhdGFLdXJhbmcgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcyJyAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSAka29uZGlzaVNhbGRvQXdhbCBvcmRlciBieSB0YW5nZ2FsX2J1a3UgYXNjIik7CiAgICAgICAgICAgIHdoaWxlICgkZGF0YUt1cmFuZyA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YUt1cmFuZykpIHsKICAgICAgICAgICAgICAgICRhcnJheVBlcm9sZWhhbiA9IGFycmF5KCk7CiAgICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nID0gJGRhdGFLdXJhbmdbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgJGdldERhdGFQZW5lcmltYWFuID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGxvY2tfYmFyYW5nX3RhbWJhaCB3aGVyZSBpZF9sb2NrID0gJyIuJGlkTG9jay4iJyBhbmQgc2lzYSAhPScwJyIpOwogICAgICAgICAgICAgICAgd2hpbGUgKCRkYXRhUGVuZXJpbWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVBlbmVyaW1hYW4pKSB7CiAgICAgICAgICAgICAgICAgICAgaWYoJGp1bWxhaEJhcmFuZ0t1cmFuZyAhPSAwKXsKICAgICAgICAgICAgICAgICAgICAgICRnZXRLYXJ0dVBlcnNlZGlhYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10uIiciKSk7CiAgICAgICAgICAgICAgICAgICAgICBpZigkZ2V0S2FydHVQZXJzZWRpYWFuWydqbnMnXSA9PSAnMycpewogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmKGludHZhbCgkZ2V0S2FydHVQZXJzZWRpYWFuWydoYXJnYV9zYXR1YW4nXSkgPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkdGhpcy0+c3FsTnVtUm93KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4gd2hlcmUgbm9tb3IgPSAnIi4kZ2V0S2FydHVQZXJzZWRpYWFuWydub21vciddLiInIGFuZCBzZW1lc3RlciA9ICcyJyBhbmQgdGFtYmFoYW5faGFyZ2EgIT0nJyIpKSAhPSAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGdldERhdGFDb3VudERpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSBub21vciA9ICciLiRnZXRLYXJ0dVBlcnNlZGlhYW5bJ25vbW9yJ10uIicgYW5kIHNlbWVzdGVyID0gJzInIGFuZCB0YW1iYWhhbl9oYXJnYSAhPScnIikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuID0gJGdldERhdGFDb3VudERpc3RyaWJ1c2lbJ3RhbWJhaGFuX2hhcmdhJ10gLyAkZ2V0S2FydHVQZXJzZWRpYWFuWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGRhdGFVcGRhdGVEaXN0cmlidXNpS2FydHUgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2Ffc2F0dWFuJyA9PiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJGdldERhdGFDb3VudERpc3RyaWJ1c2lbJ3RhbWJhaGFuX2hhcmdhJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsVXBkYXRlKCJ0X2thcnR1X3BlcnNlZGlhYW4iLCRkYXRhVXBkYXRlRGlzdHJpYnVzaUthcnR1LCJpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10uIiciKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlIG5vbW9yPSciLiRnZXRLYXJ0dVBlcnNlZGlhYW5bJ25vbW9yJ10uIiciKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgJGhhcmdhU2F0dWFuUGVuZXJpbWFhbiA9ICRkYXRhUGVuZXJpbWFhblsnaGFyZ2EnXTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIGlmKCRqdW1sYWhCYXJhbmdLdXJhbmcgPiAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXSApewogICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgidXBkYXRlIGxvY2tfYmFyYW5nX3RhbWJhaCBzZXQgc2lzYSA9IHNpc2EgLSAiLiRkYXRhUGVuZXJpbWFhblsnc2lzYSddLiIgd2hlcmUgaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkJ10uIiciKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXlQZXJvbGVoYW5bXSA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkUGVuZXJpbWFhbicgPT4gJGRhdGFQZW5lcmltYWFuWydpZF90X2thcnR1X3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXSAqICRoYXJnYVNhdHVhblBlbmVyaW1hYW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nIC09ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddOwogICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgbG9ja19iYXJhbmdfdGFtYmFoIHNldCBzaXNhID0gc2lzYSAtICRqdW1sYWhCYXJhbmdLdXJhbmcgd2hlcmUgaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkJ10uIiciKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXlQZXJvbGVoYW5bXSA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkUGVuZXJpbWFhbicgPT4gJGRhdGFQZW5lcmltYWFuWydpZF90X2thcnR1X3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRqdW1sYWhCYXJhbmdLdXJhbmcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRoYXJnYVNhdHVhblBlbmVyaW1hYW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG90YWwnID0+ICRqdW1sYWhCYXJhbmdLdXJhbmcgKiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgJGp1bWxhaEJhcmFuZ0t1cmFuZyA9IDA7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGVuY29kaW5nID0ganNvbl9lbmNvZGUoJGFycmF5UGVyb2xlaGFuKTsKICAgICAgICAgICAgICAgICRkZWNvZGluZyA9IGpzb25fZGVjb2RlKCRlbmNvZGluZyk7CiAgICAgICAgICAgICAgICAkaGFyZ2FQZXJvbGVoYW49ICIiOwogICAgICAgICAgICAgICAgZm9yICgkaT0wOyAkaSA8IHNpemVvZigkZGVjb2RpbmcpIDsgJGkrKykgewogICAgICAgICAgICAgICAgICAgICRoYXJnYVBlcm9sZWhhbiArPSAkZGVjb2RpbmdbJGldLT50b3RhbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKCRkYXRhS3VyYW5nWydqbnMnXSA9PSAiNyIpewogICAgICAgICAgICAgICAgICAvL2h1YmxhCiAgICAgICAgICAgICAgICAgICRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gZGV0YWlsX3JpbmNpYW5fZGlzdHJpYnVzaSB3aGVyZSAgaWQgPSAnIi4kZGF0YUt1cmFuZ1sncmVmaWQnXS4iJyIpKTsKICAgICAgICAgICAgICAgICAgJGdldERhdGFSaW5jaWFuRGlzdHJpYnVzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlICBpZCA9ICciLiRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaVsnaWRfcmluY2lhbl9kaXN0cmlidXNpJ10uIiciKSk7CiAgICAgICAgICAgICAgICAgICRkYXRhQ291bnREaXN0cmlidXNpID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9sb2NrX2JhcmFuZycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2MxJyA9PiAkZ2V0RGF0YVsnYzEnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2MnID0+ICRnZXREYXRhWydjJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkJyA9PiAkZ2V0RGF0YVsnZCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZScgPT4gJGdldERhdGFbJ2UnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2UxJyA9PiAkZ2V0RGF0YVsnZTEnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2YnID0+ICRnZXREYXRhWydmJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdnJyA9PiAkZ2V0RGF0YVsnZyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaCcgPT4gJGdldERhdGFbJ2gnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2knID0+ICRnZXREYXRhWydpJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdqJyA9PiAkZ2V0RGF0YVsnaiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnajEnID0+ICRnZXREYXRhWydqMSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfZGlzdHJpYnVzaScgPT4gJGdldERhdGFSaW5jaWFuRGlzdHJpYnVzaVsnaWRfZGlzdHJpYnVzaSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfcmluY2lhbl9kaXN0cmlidXNpJyA9PiAkZ2V0RGF0YURldGFpbERpc3RyaWJ1c2lbJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2VtZXN0ZXInID0+IDIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdub21vcicgPT4gJGRhdGFLdXJhbmdbJ25vbW9yJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0YW1iYWhhbl9oYXJnYScgPT4gJGhhcmdhUGVyb2xlaGFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnanNvbl9hcnJheScgPT4gJGVuY29kaW5nCiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4nLCRkYXRhQ291bnREaXN0cmlidXNpKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkZGF0YUxvY2tLdXJhbmcgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0YW5nZ2FsJyA9PiAkZGF0YUt1cmFuZ1sndGFuZ2dhbF9idWt1J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YUt1cmFuZ1snaWQnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhS3VyYW5nWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRoYXJnYVBlcm9sZWhhbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9sb2NrJyA9PiAkaWRMb2NrLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Blcm9sZWhhbicgPT4ganNvbl9lbmNvZGUoJGFycmF5UGVyb2xlaGFuKQoKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgnbG9ja19iYXJhbmdfa3VyYW5nJywkZGF0YUxvY2tLdXJhbmcpKTsKICAgICAgICAgICAgfQoKCiAgICAgICAgICAgICRnZXREYXRhSGlzdG9yaSA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgYzE9JyIuJGdldERhdGFbJ2MxJ10uIicgYW5kIGM9JyIuJGdldERhdGFbJ2MnXS4iJyBhbmQgZD0nIi4kZ2V0RGF0YVsnZCddLiInIGFuZCBlPSciLiRnZXREYXRhWydlJ10uIicgYW5kIGUxPSciLiRnZXREYXRhWydlMSddLiInICBhbmQgZj0nIi4kZ2V0RGF0YVsnZiddLiInIGFuZCBnPSciLiRnZXREYXRhWydnJ10uIicgYW5kIGg9JyIuJGdldERhdGFbJ2gnXS4iJyBhbmQgaT0nIi4kZ2V0RGF0YVsnaSddLiInIGFuZCBqPSciLiRnZXREYXRhWydqJ10uIicgYW5kIGoxPSciLiRnZXREYXRhWydqMSddLiInICAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSAka29uZGlzaVNhbGRvQXdhbCBvcmRlciBieSB0YW5nZ2FsX2J1a3UsamVuaXNfcGVyc2VkaWFhbiBhc2MiKTsKICAgICAgICAgICAgd2hpbGUgKCRkYXRhSGlzdG9yaSA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YUhpc3RvcmkpKSB7CiAgICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2plbmlzX3BlcnNlZGlhYW4nXSA9PSAxKXsKICAgICAgICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnMScpewogICAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiU0FMRE8gQVdBTCI7CiAgICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnMicpewogICAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydjYXJhX3Blcm9sZWhhbiddID09ICcyJyl7CiAgICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5FUklNQUFOIFBFTUJFTElBTiI7CiAgICAgICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2NhcmFfcGVyb2xlaGFuJ10gPT0gJzMnKXsKICAgICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gSElCQUgiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc0Jyl7CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJDRUsgRklTSUsgVEFNQkFIIjsKICAgICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICczJyl7CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5FUklNQUFOIERJU1RSSUJVU0kiOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICRoYXJnYVNhdHVhbiA9ICRkYXRhSGlzdG9yaVsnaGFyZ2Ffc2F0dWFuJ107CiAgICAgICAgICAgICAgICAgICR0b3RhbEhhcmdhID0gJGhhcmdhU2F0dWFuICogJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJHNhbGRvQmFyYW5nICs9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICR0b3RhbFNhbGRvICs9ICR0b3RhbEhhcmdhOwoKICAgICAgICAgICAgICAgICAgJGdldElkRGV0YWlsID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBsb2NrX2JhcmFuZ190YW1iYWggd2hlcmUgaWRfbG9jayA9ICckaWRMb2NrJyBhbmQgaWRfdF9rYXJ0dV9wZXJzZWRpYWFuID0gJyIuJGRhdGFIaXN0b3JpWydpZCddLiInIikpOwogICAgICAgICAgICAgICAgICAkaWREZXRhaWwgPSAkZ2V0SWREZXRhaWxbJ2lkJ107CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc2Jyl7CiAgICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5HRUxVQVJBTiI7CiAgICAgICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc1Jyl7CiAgICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJDRUsgRklTSUsgS1VSQU5HIjsKICAgICAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzcnKXsKICAgICAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkdFTFVBUkFOIERJU1RSSUJVU0kiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkaGFyZ2FTYXR1YW4gPSAiIjsKICAgICAgICAgICAgICAgICAgJHNhbGRvQmFyYW5nIC09ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICRnZXRUb3RhbEhhcmdhID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBsb2NrX2JhcmFuZ19rdXJhbmcgd2hlcmUgaWRfbG9jayA9ICckaWRMb2NrJyBhbmQgaWRfdF9rYXJ0dV9wZXJzZWRpYWFuID0gJyIuJGRhdGFIaXN0b3JpWydpZCddLiInIikpOwogICAgICAgICAgICAgICAgICAkdG90YWxIYXJnYSA9ICRnZXRUb3RhbEhhcmdhWydoYXJnYSddOwogICAgICAgICAgICAgICAgICAkdG90YWxTYWxkbyAtPSAkdG90YWxIYXJnYTsKICAgICAgICAgICAgICAgICAgJGlkRGV0YWlsID0gJGdldFRvdGFsSGFyZ2FbJ2lkJ107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkZGF0YVJpbmNpYW5Mb2NrID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfbG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0YW5nZ2FsJyA9PiAkZGF0YUhpc3RvcmlbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VyYWlhbicgPT4gJHVyYWlhblBlcnNlZGlhYW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFzdWsnID0+ICRiYXJhbmdNYXN1aywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdrZWx1YXInID0+ICRiYXJhbmdLZWx1YXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2FsZG9fYmFyYW5nJyA9PiAkc2FsZG9CYXJhbmcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG90YWwnID0+ICR0b3RhbEhhcmdhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NhbGRvJyA9PiAkdG90YWxTYWxkbywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJyA9PiAkZGF0YUhpc3RvcmlbJ2plbmlzX3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhSGlzdG9yaVsnaWQnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9kZXRhaWwnID0+ICRpZERldGFpbCwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgncmluY2lhbl9sb2NrX2JhcmFuZycsJGRhdGFSaW5jaWFuTG9jaykpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgidXBkYXRlIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyBzZXQgaGFyZ2EgPSAnJHRvdGFsU2FsZG8nLCBzYWxkb19iYXJhbmcgPSAnJHNhbGRvQmFyYW5nJyB3aGVyZSBpZCA9ICckaWRMb2NrJyIpOwogICAgICAgIC8vIHJldHVybiBhcnJheSgKICAgICAgICAvLyAgICdpZExvY2snID0+ICRpZExvY2ssCiAgICAgICAgLy8gICAnanVtbGFoSGFyZ2EnID0+ICR0b3RhbFNhbGRvLAogICAgICAgIC8vICAgJ3NhbGRvJyA9PiAkc2FsZG9CYXJhbmcsCiAgICAgICAgLy8gKTsKICAgICAgICByZXR1cm4gJGluc2VydExvY2tCYXJhbmc7CiAgICB9Cgp9CgokY2xvc2luZ1BlcnNlZGlhYW4gPSBuZXcgY2xvc2luZ1BlcnNlZGlhYW5PYmooKTsKJGNsb3NpbmdQZXJzZWRpYWFuLT51c2VybmFtZSA9ICRfQ09PS0lFWydjb0lEJ107CiRkYXRhUGVuZ2F0dXJhbiA9ICRjbG9zaW5nUGVyc2VkaWFhbi0+Z2V0U2V0dGluZ1BlcnNlZGlhYW4oKTsKJGNsb3NpbmdQZXJzZWRpYWFuLT50YWh1bkFuZ2dhcmFuID0gJGRhdGFQZW5nYXR1cmFuWyd0YWh1biddOwoKCj8+Cg==",
    "size": "202315"
}