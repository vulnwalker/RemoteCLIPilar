{
    "namaFile": "js\/perencanaanKeuangan\/rka\/rkaSKPD1PADIns.js",
    "lastUpdate": "2018-08-23+11:13:20.51",
    "contentFile": "dmFyIHJrYVNLUEQxUEFESW5zID0gbmV3IERhZnRhck9iajIoew0KICBwcmVmaXg6ICJya2FTS1BEMVBBRElucyIsDQogIHVybDogInBnS2V1LnBocD9QZz1ya2FTS1BEMVBBRElucyIsDQogIGZvcm1OYW1lOiAicmthU0tQRDFQQURJbnNGb3JtIiwNCiAgc2F0dWFuX2Zvcm06ICIwIiwNCiAgbG9hZGluZzogZnVuY3Rpb24oKSB7DQogICAgdGhpcy50b3BCYXJSZW5kZXIoKTsNCiAgICB0aGlzLmZpbHRlclJlbmRlcigpOw0KICB9LA0KICBmaWx0ZXJSZW5kZXJBZnRlcjogZnVuY3Rpb24oKSB7DQogICAgaWYgKCQoIiNuZXdCbGFua1BhZ2UiKS52YWwoKSA9PSAiMSIpIHsNCiAgICAgIHRoaXMuZmluZFJla2VuaW5nUmthKCk7DQogICAgfQ0KICB9LA0KICBjbG9zZVRhYjogZnVuY3Rpb24oKSB7DQogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxIikuZGlzYWJsZWQgPT0gdHJ1ZSkgew0KICAgICAgJC5hamF4KHsNCiAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWNsZWFyIiwNCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICAgICQoIiNiayIpLnZhbCgiIik7DQogICAgICAgICAgJCgiI2NrIikudmFsKCIiKTsNCiAgICAgICAgICAkKCIjZGsiKS52YWwoIiIpOw0KICAgICAgICAgICQoIiNwIikudmFsKCIiKTsNCiAgICAgICAgICAkKCIjcSIpLnZhbCgiIik7DQogICAgICAgICAgJCgiI2NvbmNhdFByb2dyYW1LZWdpYXRhbiIpLnZhbCgiIik7DQogICAgICAgICAgJCgiI3Byb2dyYW0iKS52YWwoIiIpOw0KICAgICAgICAgIHJrYVNLUEQxUEFESW5zLnJlZnJlc2hMaXN0KHRydWUpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9IGVsc2Ugew0KICAgICAgd2luZG93Lm9wZW5lci5sb2NhdGlvbi5yZWxvYWQoKTsNCiAgICAgIHZhciB3dyA9IHdpbmRvdy5vcGVuKHdpbmRvdy5sb2NhdGlvbiwgIl9zZWxmIik7DQogICAgICB3dy5jbG9zZSgpOw0KICAgIH0NCiAgfSwNCg0KICBmb3JtYXRDdXJyZW5jeTogZnVuY3Rpb24obnVtKSB7DQogICAgbnVtID0gbnVtLnRvU3RyaW5nKCkucmVwbGFjZSgvXCR8XCwvZywgIiIpOw0KICAgIGlmIChpc05hTihudW0pKSBudW0gPSAiMCI7DQogICAgc2lnbiA9IG51bSA9PSAobnVtID0gTWF0aC5hYnMobnVtKSk7DQogICAgbnVtID0gTWF0aC5mbG9vcihudW0gKiAxMDAgKyAwLjUwMDAwMDAwMDAxKTsNCiAgICBjZW50cyA9IG51bSAlIDEwMDsNCiAgICBudW0gPSBNYXRoLmZsb29yKG51bSAvIDEwMCkudG9TdHJpbmcoKTsNCiAgICBpZiAoY2VudHMgPCAxMCkgY2VudHMgPSAiMCIgKyBjZW50czsNCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1hdGguZmxvb3IoKG51bS5sZW5ndGggLSAoMSArIGkpKSAvIDMpOyBpKyspDQogICAgICBudW0gPQ0KICAgICAgICBudW0uc3Vic3RyaW5nKDAsIG51bS5sZW5ndGggLSAoNCAqIGkgKyAzKSkgKw0KICAgICAgICAiLiIgKw0KICAgICAgICBudW0uc3Vic3RyaW5nKG51bS5sZW5ndGggLSAoNCAqIGkgKyAzKSk7DQogICAgcmV0dXJuIChzaWduID8gIiIgOiAiLSIpICsgIiIgKyBudW0gKyAiLCIgKyBjZW50czsNCiAgfSwNCg0KICBpc051bWJlcktleTogZnVuY3Rpb24oZXZ0KSB7DQogICAgdmFyIGNoYXJDb2RlID0gZXZ0LndoaWNoID8gZXZ0LndoaWNoIDogZXZlbnQua2V5Q29kZTsNCiAgICBpZiAoY2hhckNvZGUgPiAzMSAmJiAoY2hhckNvZGUgPCA0OCB8fCBjaGFyQ29kZSA+IDU3KSkgcmV0dXJuIGZhbHNlOw0KICAgIHJldHVybiB0cnVlOw0KICB9LA0KDQogIHNhdmVSa2E6IGZ1bmN0aW9uKCkgew0KICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9jb3ZlciI7DQogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2F2ZVJrYSIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIGRlbEVsZW0oY292ZXIpOw0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgIHdpbmRvdy5vcGVuZXIubG9jYXRpb24ucmVsb2FkKCk7DQogICAgICAgICAgdmFyIHd3ID0gd2luZG93Lm9wZW4od2luZG93LmxvY2F0aW9uLCAiX3NlbGYiKTsNCiAgICAgICAgICB3dy5jbG9zZSgpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KICBhZGRSZWtlbmluZzogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICQuYWpheCh7DQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWFkZFJla2VuaW5nIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQoNCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFiZWxTdWJSaW5jaWFuQmVsYW5qYSIpLmlubmVySFRNTCA9DQogICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxTdWJSaW5jaWFuQmVsYW5qYTsNCiAgICAgICAgICAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgiIik7DQogICAgICAgICAgJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoIiIpOw0KICAgICAgICAgICQoIiNuYW1lU2VsZWN0ZWRSZWtlbmluZyIpLnRleHQoIiIpOw0KICAgICAgICAgICQoIiNuYW1lU2VsZWN0ZWRSaW5jaWFuQmVsYW5qYSIpLnRleHQoIiIpOw0KICAgICAgICAgIG1lLmZpbmRSZWtlbmluZ1JrYSgpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KICBmaW5kUmVrZW5pbmc6IGZ1bmN0aW9uKCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGZpbHRlclJlayA9ICIiOw0KICAgIGZpbHRlclJlayA9ICJSS0EgMSBQQUQiOw0KDQogICAgcG9wdXBSZWtlbmluZy5lbF9rb2RlX3Jla2VuaW5nID0gImtvZGVSZWtlbmluZyI7DQogICAgcG9wdXBSZWtlbmluZy5lbF9uYW1hX3Jla2VuaW5nID0gIm5hbWFSZWtlbmluZyI7DQogICAgcG9wdXBSZWtlbmluZy5zcGFuUmVrZW5pbmcgPSAic3Bhbk5hbWFSZWtlbmluZyI7DQogICAgcG9wdXBSZWtlbmluZy53aW5kb3dTYXZlQWZ0ZXIgPSBmdW5jdGlvbigpIHt9Ow0KICAgIHBvcHVwUmVrZW5pbmcuZmlsdGVyQWt1biA9IGZpbHRlclJlazsNCiAgICBwb3B1cFJla2VuaW5nLndpbmRvd1Nob3coKTsNCiAgfSwNCiAgZmluZFJla2VuaW5nUmthOiBmdW5jdGlvbihqZW5pc1JrYSkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGZpbHRlclJlayA9ICIiOw0KICAgIGZpbHRlclJlayA9ICJSS0EgMSBQQUQiOw0KICAgIHZhciBrb2RlU0tQRCA9ICQoIiNjMSIpLnZhbCgpICsgIi4iICsgJCgiI2MiKS52YWwoKSArICIuIiArICQoIiNkIikudmFsKCk7DQogICAgcG9wdXBSZWtlbmluZ1JrYS5rb2RlU0tQRCA9ICIma29kZVNLUEQ9IiArIGtvZGVTS1BEOw0KICAgIHBvcHVwUmVrZW5pbmdSa2EuZWxfa29kZV9yZWtlbmluZyA9ICJrb2RlUmVrZW5pbmciOw0KICAgIHBvcHVwUmVrZW5pbmdSa2EuZWxfbmFtYV9yZWtlbmluZyA9ICJuYW1hUmVrZW5pbmciOw0KICAgIHBvcHVwUmVrZW5pbmdSa2Euc3BhblJla2VuaW5nID0gInNwYW5OYW1hUmVrZW5pbmciOw0KICAgIHBvcHVwUmVrZW5pbmdSa2Eud2luZG93U2F2ZUFmdGVyID0gZnVuY3Rpb24oKSB7fTsNCiAgICBwb3B1cFJla2VuaW5nUmthLmZpbHRlckFrdW4gPSBmaWx0ZXJSZWs7DQogICAgcG9wdXBSZWtlbmluZ1JrYS53aW5kb3dTaG93KCk7DQogIH0sDQogIGVkaXRSZWtlbmluZzogZnVuY3Rpb24oaWQpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9jb3ZlckxvYWRpbmciOw0KICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7DQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIGRhdGE6IHsgaWQ6IGlkIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWVkaXRSZWtlbmluZyIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIGRlbEVsZW0oY292ZXIpOw0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFJla2VuaW5nIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgIHJlc3AuY29udGVudC50YWJlbFJla2VuaW5nOw0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFN1YlJpbmNpYW5CZWxhbmphIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgIHJlc3AuY29udGVudC50YWJlbFN1YlJpbmNpYW5CZWxhbmphOw0KICAgICAgICAgICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCIiKTsNCiAgICAgICAgICAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgiIik7DQogICAgICAgICAgJCgiI25hbWVTZWxlY3RlZFJla2VuaW5nIikudGV4dCgiIik7DQogICAgICAgICAgJCgiI25hbWVTZWxlY3RlZFJpbmNpYW5CZWxhbmphIikudGV4dCgiIik7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQoNCiAgY2FuY2VsUmVrZW5pbmc6IGZ1bmN0aW9uKCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1jYW5jZWxSZWtlbmluZyIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIGRlbEVsZW0oY292ZXIpOw0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFJla2VuaW5nIikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KICBzYXZlRWRpdFJla2VuaW5nOiBmdW5jdGlvbihpZCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogew0KICAgICAgICBrb2RlUmVrZW5pbmc6ICQoIiNrb2RlUmVrZW5pbmciKS52YWwoKSwNCiAgICAgICAgc3VtYmVyRGFuYTogJCgiI2NtYlN1bWJlckRhbmEiKS52YWwoKSwNCiAgICAgICAgaWQ6IGlkDQogICAgICB9LA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlRWRpdFJla2VuaW5nIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsUmVrZW5pbmciKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIGRlbGV0ZVJla2VuaW5nOiBmdW5jdGlvbihpZCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQoNCiAgICBpZiAoY29uZmlybSgiWWFraW4gaGFwdXMgcmVrZW5pbmcgKCBkYXRhIHJpbmNpYW4gcGVuZGFwYXRhbiBha2FuIGhpbGFuZykgPyAiKSkgew0KICAgICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICAgJC5hamF4KHsNCiAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICBkYXRhOiB7DQogICAgICAgICAgaWQ6IGlkDQogICAgICAgIH0sDQogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZGVsZXRlUmVrZW5pbmciLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsUmVrZW5pbmciKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxSZWtlbmluZzsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFN1YlJpbmNpYW5CZWxhbmphIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsU3ViUmluY2lhbkJlbGFuamE7DQogICAgICAgICAgICAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgiIik7DQogICAgICAgICAgICAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgiIik7DQogICAgICAgICAgICAkKCIjbmFtZVNlbGVjdGVkUmVrZW5pbmciKS50ZXh0KCIiKTsNCiAgICAgICAgICAgICQoIiNuYW1lU2VsZWN0ZWRSaW5jaWFuQmVsYW5qYSIpLnRleHQoIiIpOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9IGVsc2Ugew0KICAgIH0NCiAgfSwNCiAgcmluY2lhbkJlbGFuamE6IGZ1bmN0aW9uIChpZCkgew0KICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCiAgICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAgICAgJC5hamF4KHsNCiAgICAgICAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgICAgICAgIGRhdGE6IHsgaWQ6IGlkIH0sDQogICAgICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXJpbmNpYW5CZWxhbmphIiwNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7DQogICAgICAgICAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgICAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFiZWxSaW5jaWFuQmVsYW5qYSIpLmlubmVySFRNTCA9DQogICAgICAgICAgICAgICAgICAgIC8vICAgcmVzcC5jb250ZW50LnRhYmVsUmluY2lhbkJlbGFuamE7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFJla2VuaW5nIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AuY29udGVudC50YWJlbFJla2VuaW5nOw0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFiZWxTdWJSaW5jaWFuQmVsYW5qYSIpLmlubmVySFRNTCA9DQogICAgICAgICAgICAgICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxTdWJSaW5jaWFuQmVsYW5qYTsNCiAgICAgICAgICAgICAgICAgICAgJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoaWQpOw0KICAgICAgICAgICAgICAgICAgICAkKCIjbmFtZVNlbGVjdGVkUmVrZW5pbmciKS5odG1sKHJlc3AuY29udGVudC5uYW1lU2VsZWN0ZWRSZWtlbmluZyk7DQogICAgICAgICAgICAgICAgICAgIG1lLnN1YlJpbmNpYW5CZWxhbmphKGlkKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoIiIpOw0KICAgICAgICAgICAgICAgICAgICAvLyAkKCIja2FsaW1hdFJpbmNpYW5CZWxhbmphIikuaHRtbChyZXNwLmNvbnRlbnQua2FsaW1hdFJpbmNpYW5CZWxhbmphKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gJCgiI2thbGltYXRTdWJSaW5jaWFuQmVsYW5qYSIpLmh0bWwoDQogICAgICAgICAgICAgICAgICAgIC8vICAgcmVzcC5jb250ZW50LmthbGltYXRTdWJSaW5jaWFuQmVsYW5qYQ0KICAgICAgICAgICAgICAgICAgICAvLyApOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICB9LA0KICBhZGRSaW5jaWFuQmVsYW5qYTogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgZXJyID0gIiI7DQogICAgaWYgKCQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCkgPT0gIiIpIHsNCiAgICAgIGVyciA9ICJQaWxpaCBSZWtlbmluZyAhIjsNCiAgICB9DQogICAgaWYgKGVyciA9PSAiIikgew0KICAgICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICAgJC5hamF4KHsNCiAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWFkZFJpbmNpYW5CZWxhbmphIiwNCiAgICAgICAgZGF0YTogeyBpZDogJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoKSB9LA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsU3ViUmluY2lhbkJlbGFuamEiKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxTdWJSaW5jaWFuQmVsYW5qYTsNCiAgICAgICAgICAgICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCIiKTsNCiAgICAgICAgICAgICQoIiNuYW1lU2VsZWN0ZWRSaW5jaWFuQmVsYW5qYSIpLnRleHQoIiIpOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9IGVsc2Ugew0KICAgICAgYWxlcnQoZXJyKTsNCiAgICB9DQogIH0sDQogIHNhdmVOZXdSaW5jaWFuQmVsYW5qYTogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICQuYWpheCh7DQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICBkYXRhOiB7DQogICAgICAgIHVyYWlhbkJlbGFuamE6ICQoIiN1cmFpYW5CZWxhbmphIikudmFsKCksDQogICAgICAgIGlkUmVrZW5pbmc6ICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCkNCiAgICAgIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVOZXdSaW5jaWFuQmVsYW5qYSIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIGRlbEVsZW0oY292ZXIpOw0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIGVkaXRSaW5jaWFuQmVsYW5qYTogZnVuY3Rpb24oaWQpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9jb3ZlckxvYWRpbmciOw0KICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7DQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIGRhdGE6IHsNCiAgICAgICAgaWRFZGl0OiBpZCwNCiAgICAgICAgaWRSZWtlbmluZzogJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoKQ0KICAgICAgfSwNCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZWRpdFJpbmNpYW5CZWxhbmphIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQoNCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFiZWxTdWJSaW5jaWFuQmVsYW5qYSIpLmlubmVySFRNTCA9DQogICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxTdWJSaW5jaWFuQmVsYW5qYTsNCiAgICAgICAgICAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgiIik7DQogICAgICAgICAgJCgiI25hbWVTZWxlY3RlZFJpbmNpYW5CZWxhbmphIikudGV4dCgiIik7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIHNhdmVFZGl0UmluY2lhbkJlbGFuamE6IGZ1bmN0aW9uKGlkKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICQuYWpheCh7DQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICBkYXRhOiB7DQogICAgICAgIGlkRWRpdDogaWQsDQogICAgICAgIGlkUmVrZW5pbmc6ICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCksDQogICAgICAgIHVyYWlhbkJlbGFuamE6ICQoIiN1cmFpYW5CZWxhbmphIikudmFsKCkNCiAgICAgIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVFZGl0UmluY2lhbkJlbGFuamEiLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICBkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCg0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KICBkZWxldGVSaW5jaWFuQmVsYW5qYTogZnVuY3Rpb24oaWQpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIGlmIChjb25maXJtKCJZYWtpbiBoYXB1cyByaW5jaWFuIGJlbGFuamEgKGRhdGEgcmluY2lhbiBiZWxhbmphIGFrYW4gaGlsYW5nKSA\/IikpIHsNCiAgICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9jb3ZlckxvYWRpbmciOw0KICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAgICQuYWpheCh7DQogICAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgICAgZGF0YTogew0KICAgICAgICAgIGlkOiBpZCwNCiAgICAgICAgICBpZFJla2VuaW5nOiAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgpDQogICAgICAgIH0sDQogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZGVsZXRlUmluY2lhbkJlbGFuamEiLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KDQogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFN1YlJpbmNpYW5CZWxhbmphIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxTdWJSaW5jaWFuQmVsYW5qYTsNCiAgICAgICAgICAgICAgJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoIiIpOw0KICAgICAgICAgICAgICAkKCIjbmFtZVNlbGVjdGVkUmluY2lhbkJlbGFuamEiKS50ZXh0KCIiKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfQ0KICB9LA0KICBzdWJSaW5jaWFuQmVsYW5qYTogZnVuY3Rpb24gKGlkKSB7DQogICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9jb3ZlckxvYWRpbmciOw0KICAgICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICAgICAkLmFqYXgoew0KICAgICAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgICAgIGlkOiBpZCwNCiAgICAgICAgICAgICAgICBpZFJla2VuaW5nOiAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgpDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zdWJSaW5jaWFuQmVsYW5qYSIsDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkgew0KICAgICAgICAgICAgICAgIGRlbEVsZW0oY292ZXIpOw0KICAgICAgICAgICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCg0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFiZWxTdWJSaW5jaWFuQmVsYW5qYSIpLmlubmVySFRNTCA9DQogICAgICAgICAgICAgICAgICAgICAgICByZXNwLmNvbnRlbnQudGFiZWxTdWJSaW5jaWFuQmVsYW5qYTsNCiAgICAgICAgICAgICAgICAgICAgJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoaWQpOw0KICAgICAgICAgICAgICAgICAgICAkKCIja2FsaW1hdFN1YlJpbmNpYW5CZWxhbmphIikuaHRtbCgNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AuY29udGVudC5rYWxpbWF0U3ViUmluY2lhbkJlbGFuamENCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICBhZGRTdWJSaW5jaWFuQmVsYW5qYTogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgZXJyID0gIiI7DQogICAgaWYgKCQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCkgPT0gIiIpIHsNCiAgICAgIGVyciA9ICJQaWxpaCBSZWtlbmluZyAhIjsNCiAgICB9DQogICAgaWYgKGVyciA9PSAiIikgew0KICAgICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICAgJC5hamF4KHsNCiAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWFkZFN1YlJpbmNpYW5CZWxhbmphIiwNCiAgICAgICAgZGF0YTogew0KICAgICAgICAgIGlkOiAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgpLA0KICAgICAgICAgIGlkUmVrZW5pbmc6ICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCkNCiAgICAgICAgfSwNCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICAgIGRlbEVsZW0oY292ZXIpOw0KICAgICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFN1YlJpbmNpYW5CZWxhbmphIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsU3ViUmluY2lhbkJlbGFuamE7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0gZWxzZSB7DQogICAgICBhbGVydChlcnIpOw0KICAgIH0NCiAgfSwNCiAgZm9ybVJpbmNpYW5Wb2x1bWU6IGZ1bmN0aW9uKCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlciI7DQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIGRhdGE6IHsNCiAgICAgICAgdm9sdW1lUmVrOiAkKCIjdm9sdW1lQmFyYW5nIikudmFsKCksDQogICAgICAgIGp1bWxhaDEgOiAkKCIjdm9sdW1lMVRlbXAiKS52YWwoKSwNCiAgICAgICAganVtbGFoMiA6ICQoIiN2b2x1bWUyVGVtcCIpLnZhbCgpLA0KICAgICAgICBqdW1sYWgzIDogJCgiI3ZvbHVtZTNUZW1wIikudmFsKCksDQogICAgICB9LA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1mb3JtUmluY2lhblZvbHVtZSIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOw0KICAgICAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDIsIHRydWUsIGZhbHNlKTsNCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KICAgICAgICAgICQoIiNqdW1sYWgxIikudmFsKCQoIiN2b2x1bWUxVGVtcCIpLnZhbCgpKTsNCiAgICAgICAgICAvLyAkKCIjanVtbGFoMiIpLnZhbCgkKCIjdm9sdW1lMlRlbXAiKS52YWwoKSk7DQogICAgICAgICAgLy8gJCgiI2p1bWxhaDMiKS52YWwoJCgiI3ZvbHVtZTNUZW1wIikudmFsKCkpOw0KICAgICAgICAgICQoIiNqdW1sYWg0IikudmFsKCQoIiN2b2x1bWVCYXJhbmciKS52YWwoKSk7DQogICAgICAgICAgJCgiI3NhdHVhbjEiKS52YWwoJCgiI3NhdHVhbjFUZW1wIikudmFsKCkpOw0KICAgICAgICAgICQoIiNzYXR1YW4yIikudmFsKCQoIiNzYXR1YW4yVGVtcCIpLnZhbCgpKTsNCiAgICAgICAgICAkKCIjc2F0dWFuMyIpLnZhbCgkKCIjc2F0dWFuM1RlbXAiKS52YWwoKSk7DQogICAgICAgICAgJCgiI2RldGFpbFZvbHVtZVJpbmNpYW4iKS50ZXh0KCQoIiNkZXRhaWxWb2x1bWVUZW1wIikudGV4dCgpKTsNCiAgICAgICAgICAkKCIjcmluY2lhblZvbHVtZVRlbXAiKS52YWwoJCgiI3JpbmNpYW5Wb2x1bWUiKS52YWwoKSk7DQoNCiAgICAgICAgICBpZiAoJCgiI3NhdHVhbjNUZW1wIikudmFsKCkgIT0gIiIpIHsNCiAgICAgICAgICAgICQoIiNzYXR1YW5Wb2x1bWUiKS52YWwoDQogICAgICAgICAgICAgICQoIiNzYXR1YW4xVGVtcCIpLnZhbCgpICsNCiAgICAgICAgICAgICAgICAiIC8gIiArDQogICAgICAgICAgICAgICAgJCgiI3NhdHVhbjJUZW1wIikudmFsKCkgKw0KICAgICAgICAgICAgICAgICIgLyAiICsNCiAgICAgICAgICAgICAgICAkKCIjc2F0dWFuM1RlbXAiKS52YWwoKQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKCQoIiNzYXR1YW4yVGVtcCIpLnZhbCgpICE9ICIiKSB7DQogICAgICAgICAgICAkKCIjc2F0dWFuVm9sdW1lIikudmFsKA0KICAgICAgICAgICAgICAkKCIjc2F0dWFuMVRlbXAiKS52YWwoKSArICIgLyAiICsgJCgiI3NhdHVhbjJUZW1wIikudmFsKCkNCiAgICAgICAgICAgICk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICQoIiNzYXR1YW5Wb2x1bWUiKS52YWwoJCgiI3NhdHVhbjFUZW1wIikudmFsKCkpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgc2V0VG90YWxSaW5jaWFuOiBmdW5jdGlvbihvYmopIHsNCiAgICB2YXIganVtbGFoMSA9IE51bWJlcigkKCIjanVtbGFoMSIpLnZhbCgpKTsNCiAgICB2YXIganVtbGFoMiA9IE51bWJlcigkKCIjanVtbGFoMiIpLnZhbCgpKTsNCiAgICB2YXIganVtbGFoMyA9IE51bWJlcigkKCIjanVtbGFoMyIpLnZhbCgpKTsNCiAgICBpZiAoJCgiI2p1bWxhaDIiKS52YWwoKSA9PSAiIikgew0KICAgICAgdmFyIGp1bWxhaFRvdGFsID0gTnVtYmVyKGp1bWxhaDEpOw0KICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDMiKS52YWwoKSA9PSAiIikgew0KICAgICAgdmFyIGp1bWxhaFRvdGFsID0gTnVtYmVyKGp1bWxhaDEgKiBqdW1sYWgyKTsNCiAgICB9IGVsc2Ugew0KICAgICAgdmFyIGp1bWxhaFRvdGFsID0gTnVtYmVyKGp1bWxhaDEgKiBqdW1sYWgyICoganVtbGFoMyk7DQogICAgfQ0KICAgIHZhciBpZFNhdHVhbiA9ICJzYXR1YW4iICsgb2JqLmlkLnJlcGxhY2UoImp1bWxhaCIsICIiKTsNCiAgICBpZiAoJCgiIyIgKyBvYmouaWQpLnZhbCgpICE9ICIiKSB7DQogICAgICAkKCIjIiArIGlkU2F0dWFuKS5yZW1vdmVBdHRyKCJyZWFkb25seSIpOw0KICAgIH0gZWxzZSB7DQogICAgICAkKCIjIiArIGlkU2F0dWFuKS5hdHRyKCJyZWFkb25seSIsIHRydWUpOw0KICAgICAgJCgiIyIgKyBpZFNhdHVhbikudmFsKCIiKTsNCiAgICB9DQoNCiAgICAkKCIjanVtbGFoNCIpLnZhbChqdW1sYWhUb3RhbCk7DQogIH0sDQogIFNhdmVSaW5jaWFuVm9sdW1lOiBmdW5jdGlvbigpIHsNCiAgICB2YXIgZXJyID0gIiI7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlOw0KICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybXNpbXBhbiI7DQogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMSwgdHJ1ZSwgZmFsc2UpOw0KICAgIGRlbEVsZW0oY292ZXIpOw0KDQogICAgaWYgKCQoIiNqdW1sYWgxIikudmFsKCkgIT0gIiIgJiYgJCgiI3NhdHVhbjEiKS52YWwoKSA9PSAiIikgew0KICAgICAgZXJyID0gIklzaSBTYXR1YW4gS2VzYXR1ICEiOw0KICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDIiKS52YWwoKSAhPSAiIiAmJiAkKCIjc2F0dWFuMiIpLnZhbCgpID09ICIiKSB7DQogICAgICBlcnIgPSAiSXNpIFNhdHVhbiBLZWR1YSAhIjsNCiAgICB9IGVsc2UgaWYgKCQoIiNqdW1sYWgzIikudmFsKCkgIT0gIiIgJiYgJCgiI3NhdHVhbjMiKS52YWwoKSA9PSAiIikgew0KICAgICAgZXJyID0gIklzaSBTYXR1YW4gS2VkdWEgISI7DQogICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMyIpLnZhbCgpICE9ICIiICYmICQoIiNqdW1sYWgyIikudmFsKCkgPT0gIiIpIHsNCiAgICAgIGVyciA9ICJJc2kgVm9sdW1lIEtlZHVhICEiOw0KICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDMiKS52YWwoKSAhPSAiIiAmJiAkKCIjanVtbGFoMSIpLnZhbCgpID09ICIiKSB7DQogICAgICBlcnIgPSAiSXNpIFZvbHVtZSBLZXNhdHUgISI7DQogICAgfQ0KDQogICAgaWYgKGVyciA9PSAiIikgew0KICAgICAgJCgiI3ZvbHVtZTFUZW1wIikudmFsKCQoIiNqdW1sYWgxIikudmFsKCkpOw0KICAgICAgJCgiI3ZvbHVtZTJUZW1wIikudmFsKCQoIiNqdW1sYWgyIikudmFsKCkpOw0KICAgICAgJCgiI3ZvbHVtZTNUZW1wIikudmFsKCQoIiNqdW1sYWgzIikudmFsKCkpOw0KICAgICAgJCgiI3NhdHVhbjFUZW1wIikudmFsKCQoIiNzYXR1YW4xIikudmFsKCkpOw0KICAgICAgJCgiI3NhdHVhbjJUZW1wIikudmFsKCQoIiNzYXR1YW4yIikudmFsKCkpOw0KICAgICAgJCgiI3NhdHVhbjNUZW1wIikudmFsKCQoIiNzYXR1YW4zIikudmFsKCkpOw0KICAgICAgJCgiI3ZvbHVtZUJhcmFuZyIpLnZhbCgkKCIjanVtbGFoNCIpLnZhbCgpKTsNCiAgICAgICQoIiNyaW5jaWFuVm9sdW1lIikudmFsKCQoIiNyaW5jaWFuVm9sdW1lVGVtcCIpLnZhbCgpKTsNCiAgICAgICQoIiNzcGFuUmluY2lhblZvbHVtZSIpLnRleHQoJCgiI3JpbmNpYW5Wb2x1bWVUZW1wIikudmFsKCkpOw0KICAgICAgbWUuYmFudHUoKTsNCiAgICAgIHZhciBzYXR1YW4gPSAiIjsNCiAgICAgIGlmICgkKCIjanVtbGFoMyIpLnZhbCgpICE9ICIiKSB7DQogICAgICAgIHNhdHVhbiA9DQogICAgICAgICAgJCgiI3NhdHVhbjEiKS52YWwoKSArDQogICAgICAgICAgIiAvICIgKw0KICAgICAgICAgICQoIiNzYXR1YW4yIikudmFsKCkgKw0KICAgICAgICAgICIgLyAiICsNCiAgICAgICAgICAkKCIjc2F0dWFuMyIpLnZhbCgpOw0KICAgICAgICAkKCIjZGV0YWlsVm9sdW1lVGVtcCIpLnRleHQoc2F0dWFuKTsNCiAgICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDIiKS52YWwoKSAhPSAiIikgew0KICAgICAgICBzYXR1YW4gPSAkKCIjc2F0dWFuMSIpLnZhbCgpICsgIiAvICIgKyAkKCIjc2F0dWFuMiIpLnZhbCgpOw0KICAgICAgICAkKCIjZGV0YWlsVm9sdW1lVGVtcCIpLnRleHQoc2F0dWFuKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHNhdHVhbiA9ICQoIiNzYXR1YW4xIikudmFsKCk7DQogICAgICAgICQoIiNkZXRhaWxWb2x1bWVUZW1wIikudGV4dChzYXR1YW4pOw0KICAgICAgfQ0KDQogICAgICBtZS5DbG9zZSgpOw0KICAgIH0gZWxzZSB7DQogICAgICBhbGVydChlcnIpOw0KICAgIH0NCiAgfSwNCiAgYmFudHU6IGZ1bmN0aW9uKCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgJCgiI2JhbnR1U2F0dWFuSGFyZ2EiKS50ZXh0KA0KICAgICAgIlJwLiAiICsgbWUuZm9ybWF0Q3VycmVuY3koJCgiI2hhcmdhU2F0dWFuIikudmFsKCkpDQogICAgKTsNCiAgICAkKCIjanVtbGFoSGFyZ2EiKS52YWwoDQogICAgICBtZS5mb3JtYXRDdXJyZW5jeSgkKCIjaGFyZ2FTYXR1YW4iKS52YWwoKSAqICQoIiN2b2x1bWVCYXJhbmciKS52YWwoKSkNCiAgICApOw0KICAgICQoIiNiYW50dUp1bWxhaEhhcmdhIikudGV4dCgNCiAgICAgICJScC4gIiArIG1lLmZvcm1hdEN1cnJlbmN5KCQoIiNqdW1sYWhIYXJnYSIpLnZhbCgpKQ0KICAgICk7DQogICAgJCgiI3RlcmFsb2thc2kiKS52YWwoIiIpOw0KICB9LA0KICBDYXJpQmFyYW5nOiBmdW5jdGlvbigpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgICQoIiN1cmFpYW5CZWxhbmphIikudmFsKCIiKTsNCiAgICAkKCIja29kZUJhcmFuZyIpLnZhbCgiIik7DQogICAgJCgiI2plbmlzQXRyaWJ1c2kiKS52YWwoIiIpOw0KICAgICQoIiNjaGVja2JveEF0cmlidXNpIikuYXR0cigiY2hlY2tlZCIsIGZhbHNlKTsNCg0KICAgIHBvcHVwQmFyYW5nQmVsYW5qYU1vZGFsLmtvZGVSZWtlbmluZyA9ICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCk7DQogICAgcG9wdXBCYXJhbmdCZWxhbmphTW9kYWwud2luZG93U2hvdygpOw0KICB9LA0KICBDYXJpQmFyYW5nUGVyc2VkaWFhbjogZnVuY3Rpb24oKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICAkKCIjdXJhaWFuQmVsYW5qYSIpLnZhbCgiIik7DQogICAgJCgiI2tvZGVCYXJhbmciKS52YWwoIiIpOw0KICAgICQoIiNqZW5pc0F0cmlidXNpIikudmFsKCIiKTsNCiAgICAkKCIjY2hlY2tib3hBdHJpYnVzaSIpLmF0dHIoImNoZWNrZWQiLCBmYWxzZSk7DQoNCiAgICBwb3B1cEJhcmFuZ1BlcnNlZGlhYW4ua29kZVJla2VuaW5nID0gJCgiI2N1cnJlbnRSaW5jaWFuUmVrZW5pbmciKS52YWwoKTsNCiAgICBwb3B1cEJhcmFuZ1BlcnNlZGlhYW4ud2luZG93U2hvdygpOw0KICB9LA0KICBhdHJpYnVzaTogZnVuY3Rpb24oKSB7DQogICAgJCgiI2tvZGVCYXJhbmciKS52YWwoIiIpOw0KICAgICQoIiN1cmFpYW5CZWxhbmphIikudmFsKCIiKTsNCiAgICAkKCIjbmFtYUJhcmFuZyIpLnZhbCgiIik7DQogICAgJCgiI3VyYWlhbkJlbGFuamEiKS5hdHRyKCJyZWFkb25seSIsIGZhbHNlKTsNCiAgICAkKCIjamVuaXNBdHJpYnVzaSIpLnZhbCgieWEiKTsNCiAgfSwNCg0KICBjbGVhckJhcmFuZzogZnVuY3Rpb24oKSB7DQogICAgJCgiI2tvZGVCYXJhbmciKS52YWwoIiIpOw0KICAgICQoIiNuYW1hQmFyYW5nIikudmFsKCIiKTsNCiAgfSwNCg0KICBzYXZlTmV3U3ViUmluY2lhbkJlbGFuamE6IGZ1bmN0aW9uKCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogew0KICAgICAgICB1cmFpYW5CZWxhbmphOiAkKCIjdXJhaWFuQmVsYW5qYSIpLnZhbCgpLA0KICAgICAgICBpZFJla2VuaW5nOiAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgpLA0KICAgICAgICByaW5jaWFuVm9sdW1lOiAkKCIjcmluY2lhblZvbHVtZSIpLnZhbCgpLA0KICAgICAgICBoYXJnYVNhdHVhbjogJCgiI2hhcmdhU2F0dWFuIikudmFsKCksDQogICAgICAgIHZvbHVtZUJhcmFuZzogJCgiI3ZvbHVtZUJhcmFuZyIpLnZhbCgpLA0KICAgICAgICBrb2RlQmFyYW5nOiAkKCIja29kZUJhcmFuZyIpLnZhbCgpLA0KICAgICAgICB2b2x1bWUxOiAkKCIjdm9sdW1lMVRlbXAiKS52YWwoKSwNCiAgICAgICAgdm9sdW1lMjogJCgiI3ZvbHVtZTJUZW1wIikudmFsKCksDQogICAgICAgIHZvbHVtZTM6ICQoIiN2b2x1bWUzVGVtcCIpLnZhbCgpLA0KICAgICAgICBzYXR1YW4xOiAkKCIjc2F0dWFuMVRlbXAiKS52YWwoKSwNCiAgICAgICAgc2F0dWFuMjogJCgiI3NhdHVhbjJUZW1wIikudmFsKCksDQogICAgICAgIHNhdHVhbjM6ICQoIiNzYXR1YW4zVGVtcCIpLnZhbCgpLA0KICAgICAgICBqZW5pc0F0cmlidXNpOiAkKCIjamVuaXNBdHJpYnVzaSIpLnZhbCgpDQogICAgICB9LA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlTmV3U3ViUmluY2lhbkJlbGFuamEiLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICBkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFiZWxTdWJSaW5jaWFuQmVsYW5qYSIpLmlubmVySFRNTCA9DQogICAgICAgICAgICByZXNwLmNvbnRlbnQ7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIGZpbmRTU0g6IGZ1bmN0aW9uKGlkKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1nZXREYXRhU1NIIiwNCiAgICAgIGRhdGE6IHsNCiAgICAgICAgaWQ6IGlkLA0KICAgICAgICBrb2RlQmFyYW5nOiAkKCIja29kZUJhcmFuZyIpLnZhbCgpLA0KICAgICAgICBpZFJla2VuaW5nOiAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgpDQogICAgICB9LA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgIHBvcHVwU1NILmtvZGVSZWtlbmluZyA9IHJlc3AuY29udGVudC5rb2RlUmVrZW5pbmc7DQogICAgICAgICAgcG9wdXBTU0gua29kZUJhcmFuZyA9IHJlc3AuY29udGVudC5rb2RlQmFyYW5nOw0KICAgICAgICAgIHBvcHVwU1NILmRhcmkgPSBtZTsNCiAgICAgICAgICBwb3B1cFNTSC53aW5kb3dTaG93KCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIHNldFNhdHVhbkhhcmdhOiBmdW5jdGlvbigpIHsNCiAgICB2YXIgYXJyYXlLb2RlQmFyYW5nID0gJCgiI2tvZGVCYXJhbmciKQ0KICAgICAgLnZhbCgpDQogICAgICAuc3BsaXQoIi4iKTsNCg0KICAgIHZhciBmID0gYXJyYXlLb2RlQmFyYW5nWzJdOw0KICAgIHZhciBnID0gYXJyYXlLb2RlQmFyYW5nWzNdOw0KICAgIHZhciBoID0gYXJyYXlLb2RlQmFyYW5nWzRdOw0KICAgIHZhciBpID0gYXJyYXlLb2RlQmFyYW5nWzVdOw0KICAgIHZhciBqID0gYXJyYXlLb2RlQmFyYW5nWzZdOw0KICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9jb3ZlckxvYWRpbmciOw0KICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5LCB0cnVlLCBmYWxzZSk7DQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2V0U2F0dWFuSGFyZ2EiLA0KICAgICAgZGF0YTogew0KICAgICAgICBmOiBmLA0KICAgICAgICBnOiBnLA0KICAgICAgICBoOiBoLA0KICAgICAgICBpOiBpLA0KICAgICAgICBqOiBqDQogICAgICB9LA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICBkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICAkKCIjaGFyZ2FTYXR1YW4iKS52YWwocmVzcC5jb250ZW50LmhhcmdhKTsNCiAgICAgICAgICAkKCIjYmFudHVTYXR1YW5IYXJnYSIpLnRleHQocmVzcC5jb250ZW50LmJhbnR1KTsNCiAgICAgICAgICAkKCIjanVtbGFoSGFyZ2EiKS52YWwoDQogICAgICAgICAgICAkKCIjaGFyZ2FTYXR1YW4iKS52YWwoKSAqICQoIiN2b2x1bWVCYXJhbmciKS52YWwoKQ0KICAgICAgICAgICk7DQogICAgICAgICAgJCgiI2JhbnR1SnVtbGFoSGFyZ2EiKS50ZXh0KA0KICAgICAgICAgICAgIlJwLiAiICsgcmthU0tQRDFQQURJbnMuZm9ybWF0Q3VycmVuY3koJCgiI2p1bWxhaEhhcmdhIikudmFsKCkpDQogICAgICAgICAgKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgZWRpdFN1YlJpbmNpYW5CZWxhbmphOiBmdW5jdGlvbihpZCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2NvdmVyTG9hZGluZyI7DQogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogew0KICAgICAgICBpZEVkaXQ6IGlkLA0KICAgICAgICBpZFJla2VuaW5nOiAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgpLA0KICAgICAgfSwNCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZWRpdFN1YlJpbmNpYW5CZWxhbmphIiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsNCiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7DQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsU3ViUmluY2lhbkJlbGFuamEiKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgcmVzcC5jb250ZW50LnRhYmVsU3ViUmluY2lhbkJlbGFuamE7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIHNhdmVFZGl0U3ViUmluY2lhbkJlbGFuamE6IGZ1bmN0aW9uKGlkKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfY292ZXJMb2FkaW5nIjsNCiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOw0KICAgICQuYWpheCh7DQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICBkYXRhOiB7DQogICAgICAgIHVyYWlhbkJlbGFuamE6ICQoIiN1cmFpYW5CZWxhbmphIikudmFsKCksDQogICAgICAgIGlkUmVrZW5pbmc6ICQoIiNjdXJyZW50UmluY2lhblJla2VuaW5nIikudmFsKCksDQogICAgICAgIHJpbmNpYW5Wb2x1bWU6ICQoIiNyaW5jaWFuVm9sdW1lIikudmFsKCksDQogICAgICAgIGhhcmdhU2F0dWFuOiAkKCIjaGFyZ2FTYXR1YW4iKS52YWwoKSwNCiAgICAgICAgdm9sdW1lQmFyYW5nOiAkKCIjdm9sdW1lQmFyYW5nIikudmFsKCksDQogICAgICAgIGtvZGVCYXJhbmc6ICQoIiNrb2RlQmFyYW5nIikudmFsKCksDQogICAgICAgIHZvbHVtZTE6ICQoIiN2b2x1bWUxVGVtcCIpLnZhbCgpLA0KICAgICAgICB2b2x1bWUyOiAkKCIjdm9sdW1lMlRlbXAiKS52YWwoKSwNCiAgICAgICAgdm9sdW1lMzogJCgiI3ZvbHVtZTNUZW1wIikudmFsKCksDQogICAgICAgIHNhdHVhbjE6ICQoIiNzYXR1YW4xVGVtcCIpLnZhbCgpLA0KICAgICAgICBzYXR1YW4yOiAkKCIjc2F0dWFuMlRlbXAiKS52YWwoKSwNCiAgICAgICAgc2F0dWFuMzogJCgiI3NhdHVhbjNUZW1wIikudmFsKCksDQogICAgICAgIGlkRWRpdDogaWQsDQogICAgICAgIGplbmlzQXRyaWJ1c2k6ICQoIiNqZW5pc0F0cmlidXNpIikudmFsKCkNCiAgICAgIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVFZGl0U3ViUmluY2lhbkJlbGFuamEiLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICBkZWxFbGVtKGNvdmVyKTsNCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsNCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFiZWxTdWJSaW5jaWFuQmVsYW5qYSIpLmlubmVySFRNTCA9DQogICAgICAgICAgICByZXNwLmNvbnRlbnQ7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIGRlbGV0ZVN1YlJpbmNpYW5CZWxhbmphOiBmdW5jdGlvbihpZCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgaWYgKGNvbmZpcm0oIllha2luIGhhcHVzIHJpbmNpYW4gYmVsYW5qYSA\/IikpIHsNCiAgICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9jb3ZlckxvYWRpbmciOw0KICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTksIHRydWUsIGZhbHNlKTsNCiAgICAgICQuYWpheCh7DQogICAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgICAgZGF0YTogew0KICAgICAgICAgIGlkOiBpZCwNCiAgICAgICAgICBpZFJla2VuaW5nOiAkKCIjY3VycmVudFJpbmNpYW5SZWtlbmluZyIpLnZhbCgpDQogICAgICAgIH0sDQogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZGVsZXRlU3ViUmluY2lhbkJlbGFuamEiLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOw0KICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmVsU3ViUmluY2lhbkJlbGFuamEiKS5pbm5lckhUTUwgPQ0KICAgICAgICAgICAgICByZXNwLmNvbnRlbnQ7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0NCiAgfSwNCiAgY2FuY2VsU3ViUmluY2lhbkJlbGFuamE6IGZ1bmN0aW9uKGlkKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogeyBpZDogaWQgfSwNCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9Y2FuY2VsU3ViUmluY2lhbkJlbGFuamEiLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJlbFN1YlJpbmNpYW5CZWxhbmphIikuaW5uZXJIVE1MID0NCiAgICAgICAgICAgIHJlc3AuY29udGVudDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgY2FuY2VsUmluY2lhbkJlbGFuamE6IGZ1bmN0aW9uKGlkKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogeyBpZDogaWQgfSwNCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9Y2FuY2VsUmluY2lhbkJlbGFuamEiLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIHNhdmVOZXdTYXR1YW46IGZ1bmN0aW9uKG5hbWFLb2xvbSkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIGRhdGE6IHsNCiAgICAgICAgc2F0dWFuOiAkKCIjIituYW1hS29sb20pLnZhbCgpICwNCiAgICAgICAga29kZVNLUEQ6ICQoIiNrb2RlU0tQRCIpLnZhbCgpLA0KICAgICAgIH0sDQogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVOZXdTYXR1YW4iLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7DQogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgew0KICAgICAgICAgIGFsZXJ0KCJTYXR1YW4gRGl0YW1iYWhrYW4iKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgY2FyaVNhdHVhbjogZnVuY3Rpb24obmFtYUtvbG9tKSB7DQogICAgcG9wdXBTYXR1YW4ubmFtYUtvbG9tID0gbmFtYUtvbG9tOw0KICAgIHBvcHVwU2F0dWFuLmtvZGVTS1BEID0gIiZrb2RlU0tQRD0iKyQoIiNrb2RlU0tQRCIpLnZhbCgpOw0KICAgIHBvcHVwU2F0dWFuLndpbmRvd1Nob3coKTsNCiAgfQ0KfSk7DQo=",
    "size": "27536"
}