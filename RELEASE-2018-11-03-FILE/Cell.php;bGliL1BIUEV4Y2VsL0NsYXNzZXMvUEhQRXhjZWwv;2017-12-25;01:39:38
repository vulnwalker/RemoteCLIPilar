{
    "namaFile": "lib\/PHPExcel\/Classes\/PHPExcel\/Cell.php",
    "lastUpdate": "2017-12-25+01:39:38.00",
    "contentFile": "PD9waHAKCi8qKgogKiAgICBQSFBFeGNlbF9DZWxsCiAqCiAqICAgIENvcHlyaWdodCAoYykgMjAwNiAtIDIwMTUgUEhQRXhjZWwKICoKICogICAgVGhpcyBsaWJyYXJ5IGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vcgogKiAgICBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljCiAqICAgIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlcgogKiAgICB2ZXJzaW9uIDIuMSBvZiB0aGUgTGljZW5zZSwgb3IgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KICoKICogICAgVGhpcyBsaWJyYXJ5IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAqICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCiAqICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUgR05VCiAqICAgIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCiAqCiAqICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMKICogICAgTGljZW5zZSBhbG9uZyB3aXRoIHRoaXMgbGlicmFyeTsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZQogKiAgICBGb3VuZGF0aW9uLCBJbmMuLCA1MSBGcmFua2xpbiBTdHJlZXQsIEZpZnRoIEZsb29yLCBCb3N0b24sIE1BICAwMjExMC0xMzAxICBVU0EKICoKICogICAgQGNhdGVnb3J5ICAgIFBIUEV4Y2VsCiAqICAgIEBwYWNrYWdlICAgIFBIUEV4Y2VsX0NlbGwKICogICAgQGNvcHlyaWdodCAgICBDb3B5cmlnaHQgKGMpIDIwMDYgLSAyMDE1IFBIUEV4Y2VsIChodHRwOi8vd3d3LmNvZGVwbGV4LmNvbS9QSFBFeGNlbCkKICogICAgQGxpY2Vuc2UgICAgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL29sZC1saWNlbnNlcy9sZ3BsLTIuMS50eHQgICAgTEdQTAogKiAgICBAdmVyc2lvbiAgICAjI1ZFUlNJT04jIywgIyNEQVRFIyMKICovCmNsYXNzIFBIUEV4Y2VsX0NlbGwKewogICAgLyoqCiAgICAgKiAgRGVmYXVsdCByYW5nZSB2YXJpYWJsZSBjb25zdGFudAogICAgICoKICAgICAqICBAdmFyICBzdHJpbmcKICAgICAqLwogICAgY29uc3QgREVGQVVMVF9SQU5HRSA9ICdBMTpBMSc7CgogICAgLyoqCiAgICAgKiAgICBWYWx1ZSBiaW5kZXIgdG8gdXNlCiAgICAgKgogICAgICogICAgQHZhciAgICBQSFBFeGNlbF9DZWxsX0lWYWx1ZUJpbmRlcgogICAgICovCiAgICBwcml2YXRlIHN0YXRpYyAkdmFsdWVCaW5kZXI7CgogICAgLyoqCiAgICAgKiAgICBWYWx1ZSBvZiB0aGUgY2VsbAogICAgICoKICAgICAqICAgIEB2YXIgICAgbWl4ZWQKICAgICAqLwogICAgcHJpdmF0ZSAkdmFsdWU7CgogICAgLyoqCiAgICAgKiAgICBDYWxjdWxhdGVkIHZhbHVlIG9mIHRoZSBjZWxsICh1c2VkIGZvciBjYWNoaW5nKQogICAgICogICAgVGhpcyByZXR1cm5zIHRoZSB2YWx1ZSBsYXN0IGNhbGN1bGF0ZWQgYnkgTVMgRXhjZWwgb3Igd2hpY2hldmVyIHNwcmVhZHNoZWV0IHByb2dyYW0gd2FzIHVzZWQgdG8KICAgICAqICAgICAgICBjcmVhdGUgdGhlIG9yaWdpbmFsIHNwcmVhZHNoZWV0IGZpbGUuCiAgICAgKiAgICBOb3RlIHRoYXQgdGhpcyB2YWx1ZSBpcyBub3QgZ3VhcmFudGVlZCB0byByZWZsZWN0IHRoZSBhY3R1YWwgY2FsY3VsYXRlZCB2YWx1ZSBiZWNhdXNlIGl0IGlzCiAgICAgKiAgICAgICAgcG9zc2libGUgdGhhdCBhdXRvLWNhbGN1bGF0aW9uIHdhcyBkaXNhYmxlZCBpbiB0aGUgb3JpZ2luYWwgc3ByZWFkc2hlZXQsIGFuZCB1bmRlcmx5aW5nIGRhdGEKICAgICAqICAgICAgICB2YWx1ZXMgdXNlZCBieSB0aGUgZm9ybXVsYSBoYXZlIGNoYW5nZWQgc2luY2UgaXQgd2FzIGxhc3QgY2FsY3VsYXRlZC4KICAgICAqCiAgICAgKiAgICBAdmFyIG1peGVkCiAgICAgKi8KICAgIHByaXZhdGUgJGNhbGN1bGF0ZWRWYWx1ZTsKCiAgICAvKioKICAgICAqICAgIFR5cGUgb2YgdGhlIGNlbGwgZGF0YQogICAgICoKICAgICAqICAgIEB2YXIgICAgc3RyaW5nCiAgICAgKi8KICAgIHByaXZhdGUgJGRhdGFUeXBlOwoKICAgIC8qKgogICAgICogICAgUGFyZW50IHdvcmtzaGVldAogICAgICoKICAgICAqICAgIEB2YXIgICAgUEhQRXhjZWxfQ2FjaGVkT2JqZWN0U3RvcmFnZV9DYWNoZUJhc2UKICAgICAqLwogICAgcHJpdmF0ZSAkcGFyZW50OwoKICAgIC8qKgogICAgICogICAgSW5kZXggdG8gY2VsbFhmCiAgICAgKgogICAgICogICAgQHZhciAgICBpbnQKICAgICAqLwogICAgcHJpdmF0ZSAkeGZJbmRleCA9IDA7CgogICAgLyoqCiAgICAgKiAgICBBdHRyaWJ1dGVzIG9mIHRoZSBmb3JtdWxhCiAgICAgKgogICAgICovCiAgICBwcml2YXRlICRmb3JtdWxhQXR0cmlidXRlczsKCgogICAgLyoqCiAgICAgKiAgICBTZW5kIG5vdGlmaWNhdGlvbiB0byB0aGUgY2FjaGUgY29udHJvbGxlcgogICAgICoKICAgICAqICAgIEByZXR1cm4gdm9pZAogICAgICoqLwogICAgcHVibGljIGZ1bmN0aW9uIG5vdGlmeUNhY2hlQ29udHJvbGxlcigpCiAgICB7CiAgICAgICAgJHRoaXMtPnBhcmVudC0+dXBkYXRlQ2FjaGVEYXRhKCR0aGlzKTsKCiAgICAgICAgcmV0dXJuICR0aGlzOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBkZXRhY2goKQogICAgewogICAgICAgICR0aGlzLT5wYXJlbnQgPSBudWxsOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBhdHRhY2goUEhQRXhjZWxfQ2FjaGVkT2JqZWN0U3RvcmFnZV9DYWNoZUJhc2UgJHBhcmVudCkKICAgIHsKICAgICAgICAkdGhpcy0+cGFyZW50ID0gJHBhcmVudDsKICAgIH0KCgogICAgLyoqCiAgICAgKiAgICBDcmVhdGUgYSBuZXcgQ2VsbAogICAgICoKICAgICAqICAgIEBwYXJhbSAgICBtaXhlZCAgICAgICAgICAgICAgICAkcFZhbHVlCiAgICAgKiAgICBAcGFyYW0gICAgc3RyaW5nICAgICAgICAgICAgICAgICRwRGF0YVR5cGUKICAgICAqICAgIEBwYXJhbSAgICBQSFBFeGNlbF9Xb3Jrc2hlZXQgICAgJHBTaGVldAogICAgICogICAgQHRocm93cyAgICBQSFBFeGNlbF9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRwVmFsdWUgPSBudWxsLCAkcERhdGFUeXBlID0gbnVsbCwgUEhQRXhjZWxfV29ya3NoZWV0ICRwU2hlZXQgPSBudWxsKQogICAgewogICAgICAgIC8vIEluaXRpYWxpc2UgY2VsbCB2YWx1ZQogICAgICAgICR0aGlzLT52YWx1ZSA9ICRwVmFsdWU7CgogICAgICAgIC8vIFNldCB3b3Jrc2hlZXQgY2FjaGUKICAgICAgICAkdGhpcy0+cGFyZW50ID0gJHBTaGVldC0+Z2V0Q2VsbENhY2hlQ29udHJvbGxlcigpOwoKICAgICAgICAvLyBTZXQgZGF0YXR5cGU\/CiAgICAgICAgaWYgKCRwRGF0YVR5cGUgIT09IG51bGwpIHsKICAgICAgICAgICAgaWYgKCRwRGF0YVR5cGUgPT0gUEhQRXhjZWxfQ2VsbF9EYXRhVHlwZTo6VFlQRV9TVFJJTkcyKSB7CiAgICAgICAgICAgICAgICAkcERhdGFUeXBlID0gUEhQRXhjZWxfQ2VsbF9EYXRhVHlwZTo6VFlQRV9TVFJJTkc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJHRoaXMtPmRhdGFUeXBlID0gJHBEYXRhVHlwZTsKICAgICAgICB9IGVsc2VpZiAoIXNlbGY6OmdldFZhbHVlQmluZGVyKCktPmJpbmRWYWx1ZSgkdGhpcywgJHBWYWx1ZSkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX0V4Y2VwdGlvbigiVmFsdWUgY291bGQgbm90IGJlIGJvdW5kIHRvIGNlbGwuIik7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogICAgR2V0IGNlbGwgY29vcmRpbmF0ZSBjb2x1bW4KICAgICAqCiAgICAgKiAgICBAcmV0dXJuICAgIHN0cmluZwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0Q29sdW1uKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPnBhcmVudC0+Z2V0Q3VycmVudENvbHVtbigpOwogICAgfQoKICAgIC8qKgogICAgICogICAgR2V0IGNlbGwgY29vcmRpbmF0ZSByb3cKICAgICAqCiAgICAgKiAgICBAcmV0dXJuICAgIGludAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0Um93KCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPnBhcmVudC0+Z2V0Q3VycmVudFJvdygpOwogICAgfQoKICAgIC8qKgogICAgICogICAgR2V0IGNlbGwgY29vcmRpbmF0ZQogICAgICoKICAgICAqICAgIEByZXR1cm4gICAgc3RyaW5nCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRDb29yZGluYXRlKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPnBhcmVudC0+Z2V0Q3VycmVudEFkZHJlc3MoKTsKICAgIH0KCiAgICAvKioKICAgICAqICAgIEdldCBjZWxsIHZhbHVlCiAgICAgKgogICAgICogICAgQHJldHVybiAgICBtaXhlZAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0VmFsdWUoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+dmFsdWU7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBHZXQgY2VsbCB2YWx1ZSB3aXRoIGZvcm1hdHRpbmcKICAgICAqCiAgICAgKiAgICBAcmV0dXJuICAgIHN0cmluZwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkVmFsdWUoKQogICAgewogICAgICAgIHJldHVybiAoc3RyaW5nKSBQSFBFeGNlbF9TdHlsZV9OdW1iZXJGb3JtYXQ6OnRvRm9ybWF0dGVkU3RyaW5nKAogICAgICAgICAgICAkdGhpcy0+Z2V0Q2FsY3VsYXRlZFZhbHVlKCksCiAgICAgICAgICAgICR0aGlzLT5nZXRTdHlsZSgpCiAgICAgICAgICAgICAgICAtPmdldE51bWJlckZvcm1hdCgpLT5nZXRGb3JtYXRDb2RlKCkKICAgICAgICApOwogICAgfQoKICAgIC8qKgogICAgICogICAgU2V0IGNlbGwgdmFsdWUKICAgICAqCiAgICAgKiAgICBTZXRzIHRoZSB2YWx1ZSBmb3IgYSBjZWxsLCBhdXRvbWF0aWNhbGx5IGRldGVybWluaW5nIHRoZSBkYXRhdHlwZSB1c2luZyB0aGUgdmFsdWUgYmluZGVyCiAgICAgKgogICAgICogICAgQHBhcmFtICAgIG1peGVkICAgICRwVmFsdWUgICAgICAgICAgICAgICAgICAgIFZhbHVlCiAgICAgKiAgICBAcmV0dXJuICAgIFBIUEV4Y2VsX0NlbGwKICAgICAqICAgIEB0aHJvd3MgICAgUEhQRXhjZWxfRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBzZXRWYWx1ZSgkcFZhbHVlID0gbnVsbCkKICAgIHsKICAgICAgICBpZiAoIXNlbGY6OmdldFZhbHVlQmluZGVyKCktPmJpbmRWYWx1ZSgkdGhpcywgJHBWYWx1ZSkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX0V4Y2VwdGlvbigiVmFsdWUgY291bGQgbm90IGJlIGJvdW5kIHRvIGNlbGwuIik7CiAgICAgICAgfQogICAgICAgIHJldHVybiAkdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqICAgIFNldCB0aGUgdmFsdWUgZm9yIGEgY2VsbCwgd2l0aCB0aGUgZXhwbGljaXQgZGF0YSB0eXBlIHBhc3NlZCB0byB0aGUgbWV0aG9kIChieXBhc3NpbmcgYW55IHVzZSBvZiB0aGUgdmFsdWUgYmluZGVyKQogICAgICoKICAgICAqICAgIEBwYXJhbSAgICBtaXhlZCAgICAkcFZhbHVlICAgICAgICAgICAgVmFsdWUKICAgICAqICAgIEBwYXJhbSAgICBzdHJpbmcgICAgJHBEYXRhVHlwZSAgICAgICAgRXhwbGljaXQgZGF0YSB0eXBlCiAgICAgKiAgICBAcmV0dXJuICAgIFBIUEV4Y2VsX0NlbGwKICAgICAqICAgIEB0aHJvd3MgICAgUEhQRXhjZWxfRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBzZXRWYWx1ZUV4cGxpY2l0KCRwVmFsdWUgPSBudWxsLCAkcERhdGFUeXBlID0gUEhQRXhjZWxfQ2VsbF9EYXRhVHlwZTo6VFlQRV9TVFJJTkcpCiAgICB7CiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBhY2NvcmRpbmcgdG8gZGF0YSB0eXBlCiAgICAgICAgc3dpdGNoICgkcERhdGFUeXBlKSB7CiAgICAgICAgICAgIGNhc2UgUEhQRXhjZWxfQ2VsbF9EYXRhVHlwZTo6VFlQRV9OVUxMOgogICAgICAgICAgICAgICAgJHRoaXMtPnZhbHVlID0gJHBWYWx1ZTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIFBIUEV4Y2VsX0NlbGxfRGF0YVR5cGU6OlRZUEVfU1RSSU5HMjoKICAgICAgICAgICAgICAgICRwRGF0YVR5cGUgPSBQSFBFeGNlbF9DZWxsX0RhdGFUeXBlOjpUWVBFX1NUUklORzsKICAgICAgICAgICAgICAgIC8vIG5vIGJyZWFrCiAgICAgICAgICAgIGNhc2UgUEhQRXhjZWxfQ2VsbF9EYXRhVHlwZTo6VFlQRV9TVFJJTkc6CiAgICAgICAgICAgICAgICAvLyBTeW5vbnltIGZvciBzdHJpbmcKICAgICAgICAgICAgY2FzZSBQSFBFeGNlbF9DZWxsX0RhdGFUeXBlOjpUWVBFX0lOTElORToKICAgICAgICAgICAgICAgIC8vIFJpY2ggdGV4dAogICAgICAgICAgICAgICAgJHRoaXMtPnZhbHVlID0gUEhQRXhjZWxfQ2VsbF9EYXRhVHlwZTo6Y2hlY2tTdHJpbmcoJHBWYWx1ZSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBQSFBFeGNlbF9DZWxsX0RhdGFUeXBlOjpUWVBFX05VTUVSSUM6CiAgICAgICAgICAgICAgICAkdGhpcy0+dmFsdWUgPSAoZmxvYXQpICRwVmFsdWU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBQSFBFeGNlbF9DZWxsX0RhdGFUeXBlOjpUWVBFX0ZPUk1VTEE6CiAgICAgICAgICAgICAgICAkdGhpcy0+dmFsdWUgPSAoc3RyaW5nKSAkcFZhbHVlOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgUEhQRXhjZWxfQ2VsbF9EYXRhVHlwZTo6VFlQRV9CT09MOgogICAgICAgICAgICAgICAgJHRoaXMtPnZhbHVlID0gKGJvb2wpICRwVmFsdWU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBQSFBFeGNlbF9DZWxsX0RhdGFUeXBlOjpUWVBFX0VSUk9SOgogICAgICAgICAgICAgICAgJHRoaXMtPnZhbHVlID0gUEhQRXhjZWxfQ2VsbF9EYXRhVHlwZTo6Y2hlY2tFcnJvckNvZGUoJHBWYWx1ZSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBQSFBFeGNlbF9FeGNlcHRpb24oJ0ludmFsaWQgZGF0YXR5cGU6ICcgLiAkcERhdGFUeXBlKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgLy8gc2V0IHRoZSBkYXRhdHlwZQogICAgICAgICR0aGlzLT5kYXRhVHlwZSA9ICRwRGF0YVR5cGU7CgogICAgICAgIHJldHVybiAkdGhpcy0+bm90aWZ5Q2FjaGVDb250cm9sbGVyKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBHZXQgY2FsY3VsYXRlZCBjZWxsIHZhbHVlCiAgICAgKgogICAgICogICAgQGRlcHJlY2F0ZWQgICAgICAgIFNpbmNlIHZlcnNpb24gMS43LjggZm9yIHBsYW5uZWQgY2hhbmdlcyB0byBjZWxsIGZvciBhcnJheSBmb3JtdWxhIGhhbmRsaW5nCiAgICAgKgogICAgICogICAgQHBhcmFtICAgIGJvb2xlYW4gJHJlc2V0TG9nICBXaGV0aGVyIHRoZSBjYWxjdWxhdGlvbiBlbmdpbmUgbG9nZ2VyIHNob3VsZCBiZSByZXNldCBvciBub3QKICAgICAqICAgIEByZXR1cm4gICAgbWl4ZWQKICAgICAqICAgIEB0aHJvd3MgICAgUEhQRXhjZWxfRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRDYWxjdWxhdGVkVmFsdWUoJHJlc2V0TG9nID0gdHJ1ZSkKICAgIHsKLy9lY2hvICdDZWxsICcuJHRoaXMtPmdldENvb3JkaW5hdGUoKS4nIHZhbHVlIGlzIGEgJy4kdGhpcy0+ZGF0YVR5cGUuJyB3aXRoIGEgdmFsdWUgb2YgJy4kdGhpcy0+Z2V0VmFsdWUoKS5QSFBfRU9MOwogICAgICAgIGlmICgkdGhpcy0+ZGF0YVR5cGUgPT0gUEhQRXhjZWxfQ2VsbF9EYXRhVHlwZTo6VFlQRV9GT1JNVUxBKSB7CiAgICAgICAgICAgIHRyeSB7Ci8vZWNobyAnQ2VsbCB2YWx1ZSBmb3IgJy4kdGhpcy0+Z2V0Q29vcmRpbmF0ZSgpLicgaXMgYSBmb3JtdWxhOiBDYWxjdWxhdGluZyB2YWx1ZScuUEhQX0VPTDsKICAgICAgICAgICAgICAgICRyZXN1bHQgPSBQSFBFeGNlbF9DYWxjdWxhdGlvbjo6Z2V0SW5zdGFuY2UoCiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmdldFdvcmtzaGVldCgpLT5nZXRQYXJlbnQoKQogICAgICAgICAgICAgICAgKS0+Y2FsY3VsYXRlQ2VsbFZhbHVlKCR0aGlzLCAkcmVzZXRMb2cpOwovL2VjaG8gJHRoaXMtPmdldENvb3JkaW5hdGUoKS4nIGNhbGN1bGF0aW9uIHJlc3VsdCBpcyAnLiRyZXN1bHQuUEhQX0VPTDsKICAgICAgICAgICAgICAgIC8vICAgIFdlIGRvbid0IHlldCBoYW5kbGUgYXJyYXkgcmV0dXJucwogICAgICAgICAgICAgICAgaWYgKGlzX2FycmF5KCRyZXN1bHQpKSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGlzX2FycmF5KCRyZXN1bHQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRyZXN1bHQgPSBhcnJheV9wb3AoJHJlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChQSFBFeGNlbF9FeGNlcHRpb24gJGV4KSB7CiAgICAgICAgICAgICAgICBpZiAoKCRleC0+Z2V0TWVzc2FnZSgpID09PSAnVW5hYmxlIHRvIGFjY2VzcyBFeHRlcm5hbCBXb3JrYm9vaycpICYmICgkdGhpcy0+Y2FsY3VsYXRlZFZhbHVlICE9PSBudWxsKSkgewovL2VjaG8gJ1JldHVybmluZyBmYWxsYmFjayB2YWx1ZSBvZiAnLiR0aGlzLT5jYWxjdWxhdGVkVmFsdWUuJyBmb3IgY2VsbCAnLiR0aGlzLT5nZXRDb29yZGluYXRlKCkuUEhQX0VPTDsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHRoaXMtPmNhbGN1bGF0ZWRWYWx1ZTsgLy8gRmFsbGJhY2sgZm9yIGNhbGN1bGF0aW9ucyByZWZlcmVuY2luZyBleHRlcm5hbCBmaWxlcy4KICAgICAgICAgICAgICAgIH0KLy9lY2hvICdDYWxjdWxhdGlvbiBFeGNlcHRpb246ICcuJGV4LT5nZXRNZXNzYWdlKCkuUEhQX0VPTDsKICAgICAgICAgICAgICAgICRyZXN1bHQgPSAnI04vQSc7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfQ2FsY3VsYXRpb25fRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgICR0aGlzLT5nZXRXb3Jrc2hlZXQoKS0+Z2V0VGl0bGUoKS4nIScuJHRoaXMtPmdldENvb3JkaW5hdGUoKS4nIC0+ICcuJGV4LT5nZXRNZXNzYWdlKCkKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICgkcmVzdWx0ID09PSAnI05vdCBZZXQgSW1wbGVtZW50ZWQnKSB7Ci8vZWNobyAnUmV0dXJuaW5nIGZhbGxiYWNrIHZhbHVlIG9mICcuJHRoaXMtPmNhbGN1bGF0ZWRWYWx1ZS4nIGZvciBjZWxsICcuJHRoaXMtPmdldENvb3JkaW5hdGUoKS5QSFBfRU9MOwogICAgICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5jYWxjdWxhdGVkVmFsdWU7IC8vIEZhbGxiYWNrIGlmIGNhbGN1bGF0aW9uIGVuZ2luZSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBmb3JtdWxhLgogICAgICAgICAgICB9Ci8vZWNobyAnUmV0dXJuaW5nIGNhbGN1bGF0ZWQgdmFsdWUgb2YgJy4kcmVzdWx0LicgZm9yIGNlbGwgJy4kdGhpcy0+Z2V0Q29vcmRpbmF0ZSgpLlBIUF9FT0w7CiAgICAgICAgICAgIHJldHVybiAkcmVzdWx0OwogICAgICAgIH0gZWxzZWlmICgkdGhpcy0+dmFsdWUgaW5zdGFuY2VvZiBQSFBFeGNlbF9SaWNoVGV4dCkgewovLyAgICAgICAgZWNobyAnQ2VsbCB2YWx1ZSBmb3IgJy4kdGhpcy0+Z2V0Q29vcmRpbmF0ZSgpLicgaXMgcmljaCB0ZXh0OiBSZXR1cm5pbmcgZGF0YSB2YWx1ZSBvZiAnLiR0aGlzLT52YWx1ZS4nPGJyIC8+JzsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT52YWx1ZS0+Z2V0UGxhaW5UZXh0KCk7CiAgICAgICAgfQovLyAgICAgICAgZWNobyAnQ2VsbCB2YWx1ZSBmb3IgJy4kdGhpcy0+Z2V0Q29vcmRpbmF0ZSgpLicgaXMgbm90IGEgZm9ybXVsYTogUmV0dXJuaW5nIGRhdGEgdmFsdWUgb2YgJy4kdGhpcy0+dmFsdWUuJzxiciAvPic7CiAgICAgICAgcmV0dXJuICR0aGlzLT52YWx1ZTsKICAgIH0KCiAgICAvKioKICAgICAqICAgIFNldCBvbGQgY2FsY3VsYXRlZCB2YWx1ZSAoY2FjaGVkKQogICAgICoKICAgICAqICAgIEBwYXJhbSAgICBtaXhlZCAkcFZhbHVlICAgIFZhbHVlCiAgICAgKiAgICBAcmV0dXJuICAgIFBIUEV4Y2VsX0NlbGwKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHNldENhbGN1bGF0ZWRWYWx1ZSgkcFZhbHVlID0gbnVsbCkKICAgIHsKICAgICAgICBpZiAoJHBWYWx1ZSAhPT0gbnVsbCkgewogICAgICAgICAgICAkdGhpcy0+Y2FsY3VsYXRlZFZhbHVlID0gKGlzX251bWVyaWMoJHBWYWx1ZSkpID8gKGZsb2F0KSAkcFZhbHVlIDogJHBWYWx1ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAkdGhpcy0+bm90aWZ5Q2FjaGVDb250cm9sbGVyKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBHZXQgb2xkIGNhbGN1bGF0ZWQgdmFsdWUgKGNhY2hlZCkKICAgICAqICAgIFRoaXMgcmV0dXJucyB0aGUgdmFsdWUgbGFzdCBjYWxjdWxhdGVkIGJ5IE1TIEV4Y2VsIG9yIHdoaWNoZXZlciBzcHJlYWRzaGVldCBwcm9ncmFtIHdhcyB1c2VkIHRvCiAgICAgKiAgICAgICAgY3JlYXRlIHRoZSBvcmlnaW5hbCBzcHJlYWRzaGVldCBmaWxlLgogICAgICogICAgTm90ZSB0aGF0IHRoaXMgdmFsdWUgaXMgbm90IGd1YXJhbnRlZWQgdG8gcmVmZWxlY3QgdGhlIGFjdHVhbCBjYWxjdWxhdGVkIHZhbHVlIGJlY2F1c2UgaXQgaXMKICAgICAqICAgICAgICBwb3NzaWJsZSB0aGF0IGF1dG8tY2FsY3VsYXRpb24gd2FzIGRpc2FibGVkIGluIHRoZSBvcmlnaW5hbCBzcHJlYWRzaGVldCwgYW5kIHVuZGVybHlpbmcgZGF0YQogICAgICogICAgICAgIHZhbHVlcyB1c2VkIGJ5IHRoZSBmb3JtdWxhIGhhdmUgY2hhbmdlZCBzaW5jZSBpdCB3YXMgbGFzdCBjYWxjdWxhdGVkLgogICAgICoKICAgICAqICAgIEByZXR1cm4gICAgbWl4ZWQKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldE9sZENhbGN1bGF0ZWRWYWx1ZSgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5jYWxjdWxhdGVkVmFsdWU7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBHZXQgY2VsbCBkYXRhIHR5cGUKICAgICAqCiAgICAgKiAgICBAcmV0dXJuIHN0cmluZwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0RGF0YVR5cGUoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+ZGF0YVR5cGU7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBTZXQgY2VsbCBkYXRhIHR5cGUKICAgICAqCiAgICAgKiAgICBAcGFyYW0gICAgc3RyaW5nICRwRGF0YVR5cGUKICAgICAqICAgIEByZXR1cm4gICAgUEhQRXhjZWxfQ2VsbAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gc2V0RGF0YVR5cGUoJHBEYXRhVHlwZSA9IFBIUEV4Y2VsX0NlbGxfRGF0YVR5cGU6OlRZUEVfU1RSSU5HKQogICAgewogICAgICAgIGlmICgkcERhdGFUeXBlID09IFBIUEV4Y2VsX0NlbGxfRGF0YVR5cGU6OlRZUEVfU1RSSU5HMikgewogICAgICAgICAgICAkcERhdGFUeXBlID0gUEhQRXhjZWxfQ2VsbF9EYXRhVHlwZTo6VFlQRV9TVFJJTkc7CiAgICAgICAgfQogICAgICAgICR0aGlzLT5kYXRhVHlwZSA9ICRwRGF0YVR5cGU7CgogICAgICAgIHJldHVybiAkdGhpcy0+bm90aWZ5Q2FjaGVDb250cm9sbGVyKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiAgSWRlbnRpZnkgaWYgdGhlIGNlbGwgY29udGFpbnMgYSBmb3JtdWxhCiAgICAgKgogICAgICogIEByZXR1cm4gYm9vbGVhbgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gaXNGb3JtdWxhKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmRhdGFUeXBlID09IFBIUEV4Y2VsX0NlbGxfRGF0YVR5cGU6OlRZUEVfRk9STVVMQTsKICAgIH0KCiAgICAvKioKICAgICAqICAgIERvZXMgdGhpcyBjZWxsIGNvbnRhaW4gRGF0YSB2YWxpZGF0aW9uIHJ1bGVzPwogICAgICoKICAgICAqICAgIEByZXR1cm4gICAgYm9vbGVhbgogICAgICogICAgQHRocm93cyAgICBQSFBFeGNlbF9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGhhc0RhdGFWYWxpZGF0aW9uKCkKICAgIHsKICAgICAgICBpZiAoIWlzc2V0KCR0aGlzLT5wYXJlbnQpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBQSFBFeGNlbF9FeGNlcHRpb24oJ0Nhbm5vdCBjaGVjayBmb3IgZGF0YSB2YWxpZGF0aW9uIHdoZW4gY2VsbCBpcyBub3QgYm91bmQgdG8gYSB3b3Jrc2hlZXQnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAkdGhpcy0+Z2V0V29ya3NoZWV0KCktPmRhdGFWYWxpZGF0aW9uRXhpc3RzKCR0aGlzLT5nZXRDb29yZGluYXRlKCkpOwogICAgfQoKICAgIC8qKgogICAgICogICAgR2V0IERhdGEgdmFsaWRhdGlvbiBydWxlcwogICAgICoKICAgICAqICAgIEByZXR1cm4gICAgUEhQRXhjZWxfQ2VsbF9EYXRhVmFsaWRhdGlvbgogICAgICogICAgQHRocm93cyAgICBQSFBFeGNlbF9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldERhdGFWYWxpZGF0aW9uKCkKICAgIHsKICAgICAgICBpZiAoIWlzc2V0KCR0aGlzLT5wYXJlbnQpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBQSFBFeGNlbF9FeGNlcHRpb24oJ0Nhbm5vdCBnZXQgZGF0YSB2YWxpZGF0aW9uIGZvciBjZWxsIHRoYXQgaXMgbm90IGJvdW5kIHRvIGEgd29ya3NoZWV0Jyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJHRoaXMtPmdldFdvcmtzaGVldCgpLT5nZXREYXRhVmFsaWRhdGlvbigkdGhpcy0+Z2V0Q29vcmRpbmF0ZSgpKTsKICAgIH0KCiAgICAvKioKICAgICAqICAgIFNldCBEYXRhIHZhbGlkYXRpb24gcnVsZXMKICAgICAqCiAgICAgKiAgICBAcGFyYW0gICAgUEhQRXhjZWxfQ2VsbF9EYXRhVmFsaWRhdGlvbiAgICAkcERhdGFWYWxpZGF0aW9uCiAgICAgKiAgICBAcmV0dXJuICAgIFBIUEV4Y2VsX0NlbGwKICAgICAqICAgIEB0aHJvd3MgICAgUEhQRXhjZWxfRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBzZXREYXRhVmFsaWRhdGlvbihQSFBFeGNlbF9DZWxsX0RhdGFWYWxpZGF0aW9uICRwRGF0YVZhbGlkYXRpb24gPSBudWxsKQogICAgewogICAgICAgIGlmICghaXNzZXQoJHRoaXMtPnBhcmVudCkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX0V4Y2VwdGlvbignQ2Fubm90IHNldCBkYXRhIHZhbGlkYXRpb24gZm9yIGNlbGwgdGhhdCBpcyBub3QgYm91bmQgdG8gYSB3b3Jrc2hlZXQnKTsKICAgICAgICB9CgogICAgICAgICR0aGlzLT5nZXRXb3Jrc2hlZXQoKS0+c2V0RGF0YVZhbGlkYXRpb24oJHRoaXMtPmdldENvb3JkaW5hdGUoKSwgJHBEYXRhVmFsaWRhdGlvbik7CgogICAgICAgIHJldHVybiAkdGhpcy0+bm90aWZ5Q2FjaGVDb250cm9sbGVyKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBEb2VzIHRoaXMgY2VsbCBjb250YWluIGEgSHlwZXJsaW5rPwogICAgICoKICAgICAqICAgIEByZXR1cm4gYm9vbGVhbgogICAgICogICAgQHRocm93cyAgICBQSFBFeGNlbF9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGhhc0h5cGVybGluaygpCiAgICB7CiAgICAgICAgaWYgKCFpc3NldCgkdGhpcy0+cGFyZW50KSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfRXhjZXB0aW9uKCdDYW5ub3QgY2hlY2sgZm9yIGh5cGVybGluayB3aGVuIGNlbGwgaXMgbm90IGJvdW5kIHRvIGEgd29ya3NoZWV0Jyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJHRoaXMtPmdldFdvcmtzaGVldCgpLT5oeXBlcmxpbmtFeGlzdHMoJHRoaXMtPmdldENvb3JkaW5hdGUoKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBHZXQgSHlwZXJsaW5rCiAgICAgKgogICAgICogICAgQHJldHVybiAgICBQSFBFeGNlbF9DZWxsX0h5cGVybGluawogICAgICogICAgQHRocm93cyAgICBQSFBFeGNlbF9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldEh5cGVybGluaygpCiAgICB7CiAgICAgICAgaWYgKCFpc3NldCgkdGhpcy0+cGFyZW50KSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfRXhjZXB0aW9uKCdDYW5ub3QgZ2V0IGh5cGVybGluayBmb3IgY2VsbCB0aGF0IGlzIG5vdCBib3VuZCB0byBhIHdvcmtzaGVldCcpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICR0aGlzLT5nZXRXb3Jrc2hlZXQoKS0+Z2V0SHlwZXJsaW5rKCR0aGlzLT5nZXRDb29yZGluYXRlKCkpOwogICAgfQoKICAgIC8qKgogICAgICogICAgU2V0IEh5cGVybGluawogICAgICoKICAgICAqICAgIEBwYXJhbSAgICBQSFBFeGNlbF9DZWxsX0h5cGVybGluayAgICAkcEh5cGVybGluawogICAgICogICAgQHJldHVybiAgICBQSFBFeGNlbF9DZWxsCiAgICAgKiAgICBAdGhyb3dzICAgIFBIUEV4Y2VsX0V4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gc2V0SHlwZXJsaW5rKFBIUEV4Y2VsX0NlbGxfSHlwZXJsaW5rICRwSHlwZXJsaW5rID0gbnVsbCkKICAgIHsKICAgICAgICBpZiAoIWlzc2V0KCR0aGlzLT5wYXJlbnQpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBQSFBFeGNlbF9FeGNlcHRpb24oJ0Nhbm5vdCBzZXQgaHlwZXJsaW5rIGZvciBjZWxsIHRoYXQgaXMgbm90IGJvdW5kIHRvIGEgd29ya3NoZWV0Jyk7CiAgICAgICAgfQoKICAgICAgICAkdGhpcy0+Z2V0V29ya3NoZWV0KCktPnNldEh5cGVybGluaygkdGhpcy0+Z2V0Q29vcmRpbmF0ZSgpLCAkcEh5cGVybGluayk7CgogICAgICAgIHJldHVybiAkdGhpcy0+bm90aWZ5Q2FjaGVDb250cm9sbGVyKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBHZXQgcGFyZW50IHdvcmtzaGVldAogICAgICoKICAgICAqICAgIEByZXR1cm4gUEhQRXhjZWxfQ2FjaGVkT2JqZWN0U3RvcmFnZV9DYWNoZUJhc2UKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldFBhcmVudCgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5wYXJlbnQ7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBHZXQgcGFyZW50IHdvcmtzaGVldAogICAgICoKICAgICAqICAgIEByZXR1cm4gUEhQRXhjZWxfV29ya3NoZWV0CiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRXb3Jrc2hlZXQoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+cGFyZW50LT5nZXRQYXJlbnQoKTsKICAgIH0KCiAgICAvKioKICAgICAqICAgIElzIHRoaXMgY2VsbCBpbiBhIG1lcmdlIHJhbmdlCiAgICAgKgogICAgICogICAgQHJldHVybiBib29sZWFuCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBpc0luTWVyZ2VSYW5nZSgpCiAgICB7CiAgICAgICAgcmV0dXJuIChib29sZWFuKSAkdGhpcy0+Z2V0TWVyZ2VSYW5nZSgpOwogICAgfQoKICAgIC8qKgogICAgICogICAgSXMgdGhpcyBjZWxsIHRoZSBtYXN0ZXIgKHRvcCBsZWZ0IGNlbGwpIGluIGEgbWVyZ2UgcmFuZ2UgKHRoYXQgaG9sZHMgdGhlIGFjdHVhbCBkYXRhIHZhbHVlKQogICAgICoKICAgICAqICAgIEByZXR1cm4gYm9vbGVhbgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gaXNNZXJnZVJhbmdlVmFsdWVDZWxsKCkKICAgIHsKICAgICAgICBpZiAoJG1lcmdlUmFuZ2UgPSAkdGhpcy0+Z2V0TWVyZ2VSYW5nZSgpKSB7CiAgICAgICAgICAgICRtZXJnZVJhbmdlID0gUEhQRXhjZWxfQ2VsbDo6c3BsaXRSYW5nZSgkbWVyZ2VSYW5nZSk7CiAgICAgICAgICAgIGxpc3QoJHN0YXJ0Q2VsbCkgPSAkbWVyZ2VSYW5nZVswXTsKICAgICAgICAgICAgaWYgKCR0aGlzLT5nZXRDb29yZGluYXRlKCkgPT09ICRzdGFydENlbGwpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICAqICAgIElmIHRoaXMgY2VsbCBpcyBpbiBhIG1lcmdlIHJhbmdlLCB0aGVuIHJldHVybiB0aGUgcmFuZ2UKICAgICAqCiAgICAgKiAgICBAcmV0dXJuIHN0cmluZwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0TWVyZ2VSYW5nZSgpCiAgICB7CiAgICAgICAgZm9yZWFjaCAoJHRoaXMtPmdldFdvcmtzaGVldCgpLT5nZXRNZXJnZUNlbGxzKCkgYXMgJG1lcmdlUmFuZ2UpIHsKICAgICAgICAgICAgaWYgKCR0aGlzLT5pc0luUmFuZ2UoJG1lcmdlUmFuZ2UpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJG1lcmdlUmFuZ2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgICogICAgR2V0IGNlbGwgc3R5bGUKICAgICAqCiAgICAgKiAgICBAcmV0dXJuICAgIFBIUEV4Y2VsX1N0eWxlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRTdHlsZSgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5nZXRXb3Jrc2hlZXQoKS0+Z2V0U3R5bGUoJHRoaXMtPmdldENvb3JkaW5hdGUoKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBSZS1iaW5kIHBhcmVudAogICAgICoKICAgICAqICAgIEBwYXJhbSAgICBQSFBFeGNlbF9Xb3Jrc2hlZXQgJHBhcmVudAogICAgICogICAgQHJldHVybiAgICBQSFBFeGNlbF9DZWxsCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiByZWJpbmRQYXJlbnQoUEhQRXhjZWxfV29ya3NoZWV0ICRwYXJlbnQpCiAgICB7CiAgICAgICAgJHRoaXMtPnBhcmVudCA9ICRwYXJlbnQtPmdldENlbGxDYWNoZUNvbnRyb2xsZXIoKTsKCiAgICAgICAgcmV0dXJuICR0aGlzLT5ub3RpZnlDYWNoZUNvbnRyb2xsZXIoKTsKICAgIH0KCiAgICAvKioKICAgICAqICAgIElzIGNlbGwgaW4gYSBzcGVjaWZpYyByYW5nZT8KICAgICAqCiAgICAgKiAgICBAcGFyYW0gICAgc3RyaW5nICAgICRwUmFuZ2UgICAgICAgIENlbGwgcmFuZ2UgKGUuZy4gQTE6QTEpCiAgICAgKiAgICBAcmV0dXJuICAgIGJvb2xlYW4KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGlzSW5SYW5nZSgkcFJhbmdlID0gJ0ExOkExJykKICAgIHsKICAgICAgICBsaXN0KCRyYW5nZVN0YXJ0LCAkcmFuZ2VFbmQpID0gc2VsZjo6cmFuZ2VCb3VuZGFyaWVzKCRwUmFuZ2UpOwoKICAgICAgICAvLyBUcmFuc2xhdGUgcHJvcGVydGllcwogICAgICAgICRteUNvbHVtbiA9IHNlbGY6OmNvbHVtbkluZGV4RnJvbVN0cmluZygkdGhpcy0+Z2V0Q29sdW1uKCkpOwogICAgICAgICRteVJvdyAgICA9ICR0aGlzLT5nZXRSb3coKTsKCiAgICAgICAgLy8gVmVyaWZ5IGlmIGNlbGwgaXMgaW4gcmFuZ2UKICAgICAgICByZXR1cm4gKCgkcmFuZ2VTdGFydFswXSA8PSAkbXlDb2x1bW4pICYmICgkcmFuZ2VFbmRbMF0gPj0gJG15Q29sdW1uKSAmJgogICAgICAgICAgICAgICAgKCRyYW5nZVN0YXJ0WzFdIDw9ICRteVJvdykgJiYgKCRyYW5nZUVuZFsxXSA+PSAkbXlSb3cpCiAgICAgICAgICAgICAgICk7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBDb29yZGluYXRlIGZyb20gc3RyaW5nCiAgICAgKgogICAgICogICAgQHBhcmFtICAgIHN0cmluZyAgICAkcENvb3JkaW5hdGVTdHJpbmcKICAgICAqICAgIEByZXR1cm4gICAgYXJyYXkgICAgQXJyYXkgY29udGFpbmluZyBjb2x1bW4gYW5kIHJvdyAoaW5kZXhlcyAwIGFuZCAxKQogICAgICogICAgQHRocm93cyAgICBQSFBFeGNlbF9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBjb29yZGluYXRlRnJvbVN0cmluZygkcENvb3JkaW5hdGVTdHJpbmcgPSAnQTEnKQogICAgewogICAgICAgIGlmIChwcmVnX21hdGNoKCIvXihbJF0\/W0EtWl17MSwzfSkoWyRdP1xkezEsN30pJC8iLCAkcENvb3JkaW5hdGVTdHJpbmcsICRtYXRjaGVzKSkgewogICAgICAgICAgICByZXR1cm4gYXJyYXkoJG1hdGNoZXNbMV0sJG1hdGNoZXNbMl0pOwogICAgICAgIH0gZWxzZWlmICgoc3RycG9zKCRwQ29vcmRpbmF0ZVN0cmluZywgJzonKSAhPT0gZmFsc2UpIHx8IChzdHJwb3MoJHBDb29yZGluYXRlU3RyaW5nLCAnLCcpICE9PSBmYWxzZSkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX0V4Y2VwdGlvbignQ2VsbCBjb29yZGluYXRlIHN0cmluZyBjYW4gbm90IGJlIGEgcmFuZ2Ugb2YgY2VsbHMnKTsKICAgICAgICB9IGVsc2VpZiAoJHBDb29yZGluYXRlU3RyaW5nID09ICcnKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBQSFBFeGNlbF9FeGNlcHRpb24oJ0NlbGwgY29vcmRpbmF0ZSBjYW4gbm90IGJlIHplcm8tbGVuZ3RoIHN0cmluZycpOwogICAgICAgIH0KCiAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX0V4Y2VwdGlvbignSW52YWxpZCBjZWxsIGNvb3JkaW5hdGUgJy4kcENvb3JkaW5hdGVTdHJpbmcpOwogICAgfQoKICAgIC8qKgogICAgICogICAgTWFrZSBzdHJpbmcgcm93LCBjb2x1bW4gb3IgY2VsbCBjb29yZGluYXRlIGFic29sdXRlCiAgICAgKgogICAgICogICAgQHBhcmFtICAgIHN0cmluZyAgICAkcENvb3JkaW5hdGVTdHJpbmcgICAgICAgIGUuZy4gJ0EnIG9yICcxJyBvciAnQTEnCiAgICAgKiAgICAgICAgICAgICAgICAgICAgTm90ZSB0aGF0IHRoaXMgdmFsdWUgY2FuIGJlIGEgcm93IG9yIGNvbHVtbiByZWZlcmVuY2UgYXMgd2VsbCBhcyBhIGNlbGwgcmVmZXJlbmNlCiAgICAgKiAgICBAcmV0dXJuICAgIHN0cmluZyAgICBBYnNvbHV0ZSBjb29yZGluYXRlICAgICAgICBlLmcuICckQScgb3IgJyQxJyBvciAnJEEkMScKICAgICAqICAgIEB0aHJvd3MgICAgUEhQRXhjZWxfRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gYWJzb2x1dGVSZWZlcmVuY2UoJHBDb29yZGluYXRlU3RyaW5nID0gJ0ExJykKICAgIHsKICAgICAgICBpZiAoc3RycG9zKCRwQ29vcmRpbmF0ZVN0cmluZywgJzonKSA9PT0gZmFsc2UgJiYgc3RycG9zKCRwQ29vcmRpbmF0ZVN0cmluZywgJywnKSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgLy8gU3BsaXQgb3V0IGFueSB3b3Jrc2hlZXQgbmFtZSBmcm9tIHRoZSByZWZlcmVuY2UKICAgICAgICAgICAgJHdvcmtzaGVldCA9ICcnOwogICAgICAgICAgICAkY2VsbEFkZHJlc3MgPSBleHBsb2RlKCchJywgJHBDb29yZGluYXRlU3RyaW5nKTsKICAgICAgICAgICAgaWYgKGNvdW50KCRjZWxsQWRkcmVzcykgPiAxKSB7CiAgICAgICAgICAgICAgICBsaXN0KCR3b3Jrc2hlZXQsICRwQ29vcmRpbmF0ZVN0cmluZykgPSAkY2VsbEFkZHJlc3M7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCR3b3Jrc2hlZXQgPiAnJykgewogICAgICAgICAgICAgICAgJHdvcmtzaGVldCAuPSAnISc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIENyZWF0ZSBhYnNvbHV0ZSBjb29yZGluYXRlCiAgICAgICAgICAgIGlmIChjdHlwZV9kaWdpdCgkcENvb3JkaW5hdGVTdHJpbmcpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJHdvcmtzaGVldCAuICckJyAuICRwQ29vcmRpbmF0ZVN0cmluZzsKICAgICAgICAgICAgfSBlbHNlaWYgKGN0eXBlX2FscGhhKCRwQ29vcmRpbmF0ZVN0cmluZykpIHsKICAgICAgICAgICAgICAgIHJldHVybiAkd29ya3NoZWV0IC4gJyQnIC4gc3RydG91cHBlcigkcENvb3JkaW5hdGVTdHJpbmcpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAkd29ya3NoZWV0IC4gc2VsZjo6YWJzb2x1dGVDb29yZGluYXRlKCRwQ29vcmRpbmF0ZVN0cmluZyk7CiAgICAgICAgfQoKICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfRXhjZXB0aW9uKCdDZWxsIGNvb3JkaW5hdGUgc3RyaW5nIGNhbiBub3QgYmUgYSByYW5nZSBvZiBjZWxscycpOwogICAgfQoKICAgIC8qKgogICAgICogICAgTWFrZSBzdHJpbmcgY29vcmRpbmF0ZSBhYnNvbHV0ZQogICAgICoKICAgICAqICAgIEBwYXJhbSAgICBzdHJpbmcgICAgJHBDb29yZGluYXRlU3RyaW5nICAgICAgICBlLmcuICdBMScKICAgICAqICAgIEByZXR1cm4gICAgc3RyaW5nICAgIEFic29sdXRlIGNvb3JkaW5hdGUgICAgICAgIGUuZy4gJyRBJDEnCiAgICAgKiAgICBAdGhyb3dzICAgIFBIUEV4Y2VsX0V4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGFic29sdXRlQ29vcmRpbmF0ZSgkcENvb3JkaW5hdGVTdHJpbmcgPSAnQTEnKQogICAgewogICAgICAgIGlmIChzdHJwb3MoJHBDb29yZGluYXRlU3RyaW5nLCAnOicpID09PSBmYWxzZSAmJiBzdHJwb3MoJHBDb29yZGluYXRlU3RyaW5nLCAnLCcpID09PSBmYWxzZSkgewogICAgICAgICAgICAvLyBTcGxpdCBvdXQgYW55IHdvcmtzaGVldCBuYW1lIGZyb20gdGhlIGNvb3JkaW5hdGUKICAgICAgICAgICAgJHdvcmtzaGVldCA9ICcnOwogICAgICAgICAgICAkY2VsbEFkZHJlc3MgPSBleHBsb2RlKCchJywgJHBDb29yZGluYXRlU3RyaW5nKTsKICAgICAgICAgICAgaWYgKGNvdW50KCRjZWxsQWRkcmVzcykgPiAxKSB7CiAgICAgICAgICAgICAgICBsaXN0KCR3b3Jrc2hlZXQsICRwQ29vcmRpbmF0ZVN0cmluZykgPSAkY2VsbEFkZHJlc3M7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCR3b3Jrc2hlZXQgPiAnJykgewogICAgICAgICAgICAgICAgJHdvcmtzaGVldCAuPSAnISc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIENyZWF0ZSBhYnNvbHV0ZSBjb29yZGluYXRlCiAgICAgICAgICAgIGxpc3QoJGNvbHVtbiwgJHJvdykgPSBzZWxmOjpjb29yZGluYXRlRnJvbVN0cmluZygkcENvb3JkaW5hdGVTdHJpbmcpOwogICAgICAgICAgICAkY29sdW1uID0gbHRyaW0oJGNvbHVtbiwgJyQnKTsKICAgICAgICAgICAgJHJvdyA9IGx0cmltKCRyb3csICckJyk7CiAgICAgICAgICAgIHJldHVybiAkd29ya3NoZWV0IC4gJyQnIC4gJGNvbHVtbiAuICckJyAuICRyb3c7CiAgICAgICAgfQoKICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfRXhjZXB0aW9uKCdDZWxsIGNvb3JkaW5hdGUgc3RyaW5nIGNhbiBub3QgYmUgYSByYW5nZSBvZiBjZWxscycpOwogICAgfQoKICAgIC8qKgogICAgICogICAgU3BsaXQgcmFuZ2UgaW50byBjb29yZGluYXRlIHN0cmluZ3MKICAgICAqCiAgICAgKiAgICBAcGFyYW0gICAgc3RyaW5nICAgICRwUmFuZ2UgICAgICAgIGUuZy4gJ0I0OkQ5JyBvciAnQjQ6RDksSDI6TzExJyBvciAnQjQnCiAgICAgKiAgICBAcmV0dXJuICAgIGFycmF5ICAgIEFycmF5IGNvbnRhaW5nIG9uZSBvciBtb3JlIGFycmF5cyBjb250YWluaW5nIG9uZSBvciB0d28gY29vcmRpbmF0ZSBzdHJpbmdzCiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5nLiBhcnJheSgnQjQnLCdEOScpIG9yIGFycmF5KGFycmF5KCdCNCcsJ0Q5JyksYXJyYXkoJ0gyJywnTzExJykpCiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBhcnJheSgnQjQnKQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHNwbGl0UmFuZ2UoJHBSYW5nZSA9ICdBMTpBMScpCiAgICB7CiAgICAgICAgLy8gRW5zdXJlICRwUmFuZ2UgaXMgYSB2YWxpZCByYW5nZQogICAgICAgIGlmIChlbXB0eSgkcFJhbmdlKSkgewogICAgICAgICAgICAkcFJhbmdlID0gc2VsZjo6REVGQVVMVF9SQU5HRTsKICAgICAgICB9CgogICAgICAgICRleHBsb2RlZCA9IGV4cGxvZGUoJywnLCAkcFJhbmdlKTsKICAgICAgICAkY291bnRlciA9IGNvdW50KCRleHBsb2RlZCk7CiAgICAgICAgZm9yICgkaSA9IDA7ICRpIDwgJGNvdW50ZXI7ICsrJGkpIHsKICAgICAgICAgICAgJGV4cGxvZGVkWyRpXSA9IGV4cGxvZGUoJzonLCAkZXhwbG9kZWRbJGldKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICRleHBsb2RlZDsKICAgIH0KCiAgICAvKioKICAgICAqICAgIEJ1aWxkIHJhbmdlIGZyb20gY29vcmRpbmF0ZSBzdHJpbmdzCiAgICAgKgogICAgICogICAgQHBhcmFtICAgIGFycmF5ICAgICRwUmFuZ2UgICAgQXJyYXkgY29udGFpbmcgb25lIG9yIG1vcmUgYXJyYXlzIGNvbnRhaW5pbmcgb25lIG9yIHR3byBjb29yZGluYXRlIHN0cmluZ3MKICAgICAqICAgIEByZXR1cm4gICAgc3RyaW5nICAgIFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiAkcFJhbmdlCiAgICAgKiAgICBAdGhyb3dzICAgIFBIUEV4Y2VsX0V4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGJ1aWxkUmFuZ2UoJHBSYW5nZSkKICAgIHsKICAgICAgICAvLyBWZXJpZnkgcmFuZ2UKICAgICAgICBpZiAoIWlzX2FycmF5KCRwUmFuZ2UpIHx8IGVtcHR5KCRwUmFuZ2UpIHx8ICFpc19hcnJheSgkcFJhbmdlWzBdKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfRXhjZXB0aW9uKCdSYW5nZSBkb2VzIG5vdCBjb250YWluIGFueSBpbmZvcm1hdGlvbicpOwogICAgICAgIH0KCiAgICAgICAgLy8gQnVpbGQgcmFuZ2UKICAgICAgICAkaW1wbG9kZWQgPSBhcnJheSgpOwogICAgICAgICRjb3VudGVyID0gY291bnQoJHBSYW5nZSk7CiAgICAgICAgZm9yICgkaSA9IDA7ICRpIDwgJGNvdW50ZXI7ICsrJGkpIHsKICAgICAgICAgICAgJHBSYW5nZVskaV0gPSBpbXBsb2RlKCc6JywgJHBSYW5nZVskaV0pOwogICAgICAgIH0KICAgICAgICAkaW1wbG9kZWQgPSBpbXBsb2RlKCcsJywgJHBSYW5nZSk7CgogICAgICAgIHJldHVybiAkaW1wbG9kZWQ7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBDYWxjdWxhdGUgcmFuZ2UgYm91bmRhcmllcwogICAgICoKICAgICAqICAgIEBwYXJhbSAgICBzdHJpbmcgICAgJHBSYW5nZSAgICAgICAgQ2VsbCByYW5nZSAoZS5nLiBBMTpBMSkKICAgICAqICAgIEByZXR1cm4gICAgYXJyYXkgICAgUmFuZ2UgY29vcmRpbmF0ZXMgYXJyYXkoU3RhcnQgQ2VsbCwgRW5kIENlbGwpCiAgICAgKiAgICAgICAgICAgICAgICAgICAgd2hlcmUgU3RhcnQgQ2VsbCBhbmQgRW5kIENlbGwgYXJlIGFycmF5cyAoQ29sdW1uIE51bWJlciwgUm93IE51bWJlcikKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiByYW5nZUJvdW5kYXJpZXMoJHBSYW5nZSA9ICdBMTpBMScpCiAgICB7CiAgICAgICAgLy8gRW5zdXJlICRwUmFuZ2UgaXMgYSB2YWxpZCByYW5nZQogICAgICAgIGlmIChlbXB0eSgkcFJhbmdlKSkgewogICAgICAgICAgICAkcFJhbmdlID0gc2VsZjo6REVGQVVMVF9SQU5HRTsKICAgICAgICB9CgogICAgICAgIC8vIFVwcGVyY2FzZSBjb29yZGluYXRlCiAgICAgICAgJHBSYW5nZSA9IHN0cnRvdXBwZXIoJHBSYW5nZSk7CgogICAgICAgIC8vIEV4dHJhY3QgcmFuZ2UKICAgICAgICBpZiAoc3RycG9zKCRwUmFuZ2UsICc6JykgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICRyYW5nZUEgPSAkcmFuZ2VCID0gJHBSYW5nZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsaXN0KCRyYW5nZUEsICRyYW5nZUIpID0gZXhwbG9kZSgnOicsICRwUmFuZ2UpOwogICAgICAgIH0KCiAgICAgICAgLy8gQ2FsY3VsYXRlIHJhbmdlIG91dGVyIGJvcmRlcnMKICAgICAgICAkcmFuZ2VTdGFydCA9IHNlbGY6OmNvb3JkaW5hdGVGcm9tU3RyaW5nKCRyYW5nZUEpOwogICAgICAgICRyYW5nZUVuZCAgICA9IHNlbGY6OmNvb3JkaW5hdGVGcm9tU3RyaW5nKCRyYW5nZUIpOwoKICAgICAgICAvLyBUcmFuc2xhdGUgY29sdW1uIGludG8gaW5kZXgKICAgICAgICAkcmFuZ2VTdGFydFswXSAgICA9IHNlbGY6OmNvbHVtbkluZGV4RnJvbVN0cmluZygkcmFuZ2VTdGFydFswXSk7CiAgICAgICAgJHJhbmdlRW5kWzBdICAgID0gc2VsZjo6Y29sdW1uSW5kZXhGcm9tU3RyaW5nKCRyYW5nZUVuZFswXSk7CgogICAgICAgIHJldHVybiBhcnJheSgkcmFuZ2VTdGFydCwgJHJhbmdlRW5kKTsKICAgIH0KCiAgICAvKioKICAgICAqICAgIENhbGN1bGF0ZSByYW5nZSBkaW1lbnNpb24KICAgICAqCiAgICAgKiAgICBAcGFyYW0gICAgc3RyaW5nICAgICRwUmFuZ2UgICAgICAgIENlbGwgcmFuZ2UgKGUuZy4gQTE6QTEpCiAgICAgKiAgICBAcmV0dXJuICAgIGFycmF5ICAgIFJhbmdlIGRpbWVuc2lvbiAod2lkdGgsIGhlaWdodCkKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiByYW5nZURpbWVuc2lvbigkcFJhbmdlID0gJ0ExOkExJykKICAgIHsKICAgICAgICAvLyBDYWxjdWxhdGUgcmFuZ2Ugb3V0ZXIgYm9yZGVycwogICAgICAgIGxpc3QoJHJhbmdlU3RhcnQsICRyYW5nZUVuZCkgPSBzZWxmOjpyYW5nZUJvdW5kYXJpZXMoJHBSYW5nZSk7CgogICAgICAgIHJldHVybiBhcnJheSggKCRyYW5nZUVuZFswXSAtICRyYW5nZVN0YXJ0WzBdICsgMSksICgkcmFuZ2VFbmRbMV0gLSAkcmFuZ2VTdGFydFsxXSArIDEpICk7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBDYWxjdWxhdGUgcmFuZ2UgYm91bmRhcmllcwogICAgICoKICAgICAqICAgIEBwYXJhbSAgICBzdHJpbmcgICAgJHBSYW5nZSAgICAgICAgQ2VsbCByYW5nZSAoZS5nLiBBMTpBMSkKICAgICAqICAgIEByZXR1cm4gICAgYXJyYXkgICAgUmFuZ2UgY29vcmRpbmF0ZXMgYXJyYXkoU3RhcnQgQ2VsbCwgRW5kIENlbGwpCiAgICAgKiAgICAgICAgICAgICAgICAgICAgd2hlcmUgU3RhcnQgQ2VsbCBhbmQgRW5kIENlbGwgYXJlIGFycmF5cyAoQ29sdW1uIElELCBSb3cgTnVtYmVyKQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFJhbmdlQm91bmRhcmllcygkcFJhbmdlID0gJ0ExOkExJykKICAgIHsKICAgICAgICAvLyBFbnN1cmUgJHBSYW5nZSBpcyBhIHZhbGlkIHJhbmdlCiAgICAgICAgaWYgKGVtcHR5KCRwUmFuZ2UpKSB7CiAgICAgICAgICAgICRwUmFuZ2UgPSBzZWxmOjpERUZBVUxUX1JBTkdFOwogICAgICAgIH0KCiAgICAgICAgLy8gVXBwZXJjYXNlIGNvb3JkaW5hdGUKICAgICAgICAkcFJhbmdlID0gc3RydG91cHBlcigkcFJhbmdlKTsKCiAgICAgICAgLy8gRXh0cmFjdCByYW5nZQogICAgICAgIGlmIChzdHJwb3MoJHBSYW5nZSwgJzonKSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgJHJhbmdlQSA9ICRyYW5nZUIgPSAkcFJhbmdlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxpc3QoJHJhbmdlQSwgJHJhbmdlQikgPSBleHBsb2RlKCc6JywgJHBSYW5nZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYXJyYXkoIHNlbGY6OmNvb3JkaW5hdGVGcm9tU3RyaW5nKCRyYW5nZUEpLCBzZWxmOjpjb29yZGluYXRlRnJvbVN0cmluZygkcmFuZ2VCKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBDb2x1bW4gaW5kZXggZnJvbSBzdHJpbmcKICAgICAqCiAgICAgKiAgICBAcGFyYW0gICAgc3RyaW5nICRwU3RyaW5nCiAgICAgKiAgICBAcmV0dXJuICAgIGludCBDb2x1bW4gaW5kZXggKGJhc2UgMSAhISEpCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY29sdW1uSW5kZXhGcm9tU3RyaW5nKCRwU3RyaW5nID0gJ0EnKQogICAgewogICAgICAgIC8vICAgIFVzaW5nIGEgbG9va3VwIGNhY2hlIGFkZHMgYSBzbGlnaHQgbWVtb3J5IG92ZXJoZWFkLCBidXQgYm9vc3RzIHNwZWVkCiAgICAgICAgLy8gICAgY2FjaGluZyB1c2luZyBhIHN0YXRpYyB3aXRoaW4gdGhlIG1ldGhvZCBpcyBmYXN0ZXIgdGhhbiBhIGNsYXNzIHN0YXRpYywKICAgICAgICAvLyAgICAgICAgdGhvdWdoIGl0J3MgYWRkaXRpb25hbCBtZW1vcnkgb3ZlcmhlYWQKICAgICAgICBzdGF0aWMgJF9pbmRleENhY2hlID0gYXJyYXkoKTsKCiAgICAgICAgaWYgKGlzc2V0KCRfaW5kZXhDYWNoZVskcFN0cmluZ10pKSB7CiAgICAgICAgICAgIHJldHVybiAkX2luZGV4Q2FjaGVbJHBTdHJpbmddOwogICAgICAgIH0KICAgICAgICAvLyAgICBJdCdzIHN1cnByaXNpbmcgaG93IGNvc3RseSB0aGUgc3RydG91cHBlcigpIGFuZCBvcmQoKSBjYWxscyBhY3R1YWxseSBhcmUsIHNvIHdlIHVzZSBhIGxvb2t1cCBhcnJheSByYXRoZXIgdGhhbiB1c2Ugb3JkKCkKICAgICAgICAvLyAgICAgICAgYW5kIG1ha2UgaXQgY2FzZSBpbnNlbnNpdGl2ZSB0byBnZXQgcmlkIG9mIHRoZSBzdHJ0b3VwcGVyKCkgYXMgd2VsbC4gQmVjYXVzZSBpdCdzIGEgc3RhdGljLCB0aGVyZSdzIG5vIHNpZ25pZmljYW50CiAgICAgICAgLy8gICAgICAgIG1lbW9yeSBvdmVyaGVhZCBlaXRoZXIKICAgICAgICBzdGF0aWMgJF9jb2x1bW5Mb29rdXAgPSBhcnJheSgKICAgICAgICAgICAgJ0EnID0+IDEsICdCJyA9PiAyLCAnQycgPT4gMywgJ0QnID0+IDQsICdFJyA9PiA1LCAnRicgPT4gNiwgJ0cnID0+IDcsICdIJyA9PiA4LCAnSScgPT4gOSwgJ0onID0+IDEwLCAnSycgPT4gMTEsICdMJyA9PiAxMiwgJ00nID0+IDEzLAogICAgICAgICAgICAnTicgPT4gMTQsICdPJyA9PiAxNSwgJ1AnID0+IDE2LCAnUScgPT4gMTcsICdSJyA9PiAxOCwgJ1MnID0+IDE5LCAnVCcgPT4gMjAsICdVJyA9PiAyMSwgJ1YnID0+IDIyLCAnVycgPT4gMjMsICdYJyA9PiAyNCwgJ1knID0+IDI1LCAnWicgPT4gMjYsCiAgICAgICAgICAgICdhJyA9PiAxLCAnYicgPT4gMiwgJ2MnID0+IDMsICdkJyA9PiA0LCAnZScgPT4gNSwgJ2YnID0+IDYsICdnJyA9PiA3LCAnaCcgPT4gOCwgJ2knID0+IDksICdqJyA9PiAxMCwgJ2snID0+IDExLCAnbCcgPT4gMTIsICdtJyA9PiAxMywKICAgICAgICAgICAgJ24nID0+IDE0LCAnbycgPT4gMTUsICdwJyA9PiAxNiwgJ3EnID0+IDE3LCAncicgPT4gMTgsICdzJyA9PiAxOSwgJ3QnID0+IDIwLCAndScgPT4gMjEsICd2JyA9PiAyMiwgJ3cnID0+IDIzLCAneCcgPT4gMjQsICd5JyA9PiAyNSwgJ3onID0+IDI2CiAgICAgICAgKTsKCiAgICAgICAgLy8gICAgV2UgYWxzbyB1c2UgdGhlIGxhbmd1YWdlIGNvbnN0cnVjdCBpc3NldCgpIHJhdGhlciB0aGFuIHRoZSBtb3JlIGNvc3RseSBzdHJsZW4oKSBmdW5jdGlvbiB0byBtYXRjaCB0aGUgbGVuZ3RoIG9mICRwU3RyaW5nCiAgICAgICAgLy8gICAgICAgIGZvciBpbXByb3ZlZCBwZXJmb3JtYW5jZQogICAgICAgIGlmIChpc3NldCgkcFN0cmluZ3swfSkpIHsKICAgICAgICAgICAgaWYgKCFpc3NldCgkcFN0cmluZ3sxfSkpIHsKICAgICAgICAgICAgICAgICRfaW5kZXhDYWNoZVskcFN0cmluZ10gPSAkX2NvbHVtbkxvb2t1cFskcFN0cmluZ107CiAgICAgICAgICAgICAgICByZXR1cm4gJF9pbmRleENhY2hlWyRwU3RyaW5nXTsKICAgICAgICAgICAgfSBlbHNlaWYgKCFpc3NldCgkcFN0cmluZ3syfSkpIHsKICAgICAgICAgICAgICAgICRfaW5kZXhDYWNoZVskcFN0cmluZ10gPSAkX2NvbHVtbkxvb2t1cFskcFN0cmluZ3swfV0gKiAyNiArICRfY29sdW1uTG9va3VwWyRwU3RyaW5nezF9XTsKICAgICAgICAgICAgICAgIHJldHVybiAkX2luZGV4Q2FjaGVbJHBTdHJpbmddOwogICAgICAgICAgICB9IGVsc2VpZiAoIWlzc2V0KCRwU3RyaW5nezN9KSkgewogICAgICAgICAgICAgICAgJF9pbmRleENhY2hlWyRwU3RyaW5nXSA9ICRfY29sdW1uTG9va3VwWyRwU3RyaW5nezB9XSAqIDY3NiArICRfY29sdW1uTG9va3VwWyRwU3RyaW5nezF9XSAqIDI2ICsgJF9jb2x1bW5Mb29rdXBbJHBTdHJpbmd7Mn1dOwogICAgICAgICAgICAgICAgcmV0dXJuICRfaW5kZXhDYWNoZVskcFN0cmluZ107CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX0V4Y2VwdGlvbigiQ29sdW1uIHN0cmluZyBpbmRleCBjYW4gbm90IGJlICIgLiAoKGlzc2V0KCRwU3RyaW5nezB9KSkgPyAibG9uZ2VyIHRoYW4gMyBjaGFyYWN0ZXJzIiA6ICJlbXB0eSIpKTsKICAgIH0KCiAgICAvKioKICAgICAqICAgIFN0cmluZyBmcm9tIGNvbHVtbmluZGV4CiAgICAgKgogICAgICogICAgQHBhcmFtICAgIGludCAkcENvbHVtbkluZGV4IENvbHVtbiBpbmRleCAoYmFzZSAwICEhISkKICAgICAqICAgIEByZXR1cm4gICAgc3RyaW5nCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc3RyaW5nRnJvbUNvbHVtbkluZGV4KCRwQ29sdW1uSW5kZXggPSAwKQogICAgewogICAgICAgIC8vICAgIFVzaW5nIGEgbG9va3VwIGNhY2hlIGFkZHMgYSBzbGlnaHQgbWVtb3J5IG92ZXJoZWFkLCBidXQgYm9vc3RzIHNwZWVkCiAgICAgICAgLy8gICAgY2FjaGluZyB1c2luZyBhIHN0YXRpYyB3aXRoaW4gdGhlIG1ldGhvZCBpcyBmYXN0ZXIgdGhhbiBhIGNsYXNzIHN0YXRpYywKICAgICAgICAvLyAgICAgICAgdGhvdWdoIGl0J3MgYWRkaXRpb25hbCBtZW1vcnkgb3ZlcmhlYWQKICAgICAgICBzdGF0aWMgJF9pbmRleENhY2hlID0gYXJyYXkoKTsKCiAgICAgICAgaWYgKCFpc3NldCgkX2luZGV4Q2FjaGVbJHBDb2x1bW5JbmRleF0pKSB7CiAgICAgICAgICAgIC8vIERldGVybWluZSBjb2x1bW4gc3RyaW5nCiAgICAgICAgICAgIGlmICgkcENvbHVtbkluZGV4IDwgMjYpIHsKICAgICAgICAgICAgICAgICRfaW5kZXhDYWNoZVskcENvbHVtbkluZGV4XSA9IGNocig2NSArICRwQ29sdW1uSW5kZXgpOwogICAgICAgICAgICB9IGVsc2VpZiAoJHBDb2x1bW5JbmRleCA8IDcwMikgewogICAgICAgICAgICAgICAgJF9pbmRleENhY2hlWyRwQ29sdW1uSW5kZXhdID0gY2hyKDY0ICsgKCRwQ29sdW1uSW5kZXggLyAyNikpIC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNocig2NSArICRwQ29sdW1uSW5kZXggJSAyNik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkX2luZGV4Q2FjaGVbJHBDb2x1bW5JbmRleF0gPSBjaHIoNjQgKyAoKCRwQ29sdW1uSW5kZXggLSAyNikgLyA2NzYpKSAuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHIoNjUgKyAoKCgkcENvbHVtbkluZGV4IC0gMjYpICUgNjc2KSAvIDI2KSkgLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hyKDY1ICsgJHBDb2x1bW5JbmRleCAlIDI2KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gJF9pbmRleENhY2hlWyRwQ29sdW1uSW5kZXhdOwogICAgfQoKICAgIC8qKgogICAgICogICAgRXh0cmFjdCBhbGwgY2VsbCByZWZlcmVuY2VzIGluIHJhbmdlCiAgICAgKgogICAgICogICAgQHBhcmFtICAgIHN0cmluZyAgICAkcFJhbmdlICAgICAgICBSYW5nZSAoZS5nLiBBMSBvciBBMTpDMTAgb3IgQTE6RTEwIEEyMDpFMjUpCiAgICAgKiAgICBAcmV0dXJuICAgIGFycmF5ICAgIEFycmF5IGNvbnRhaW5pbmcgc2luZ2xlIGNlbGwgcmVmZXJlbmNlcwogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGV4dHJhY3RBbGxDZWxsUmVmZXJlbmNlc0luUmFuZ2UoJHBSYW5nZSA9ICdBMScpCiAgICB7CiAgICAgICAgLy8gUmV0dXJudmFsdWUKICAgICAgICAkcmV0dXJuVmFsdWUgPSBhcnJheSgpOwoKICAgICAgICAvLyBFeHBsb2RlIHNwYWNlcwogICAgICAgICRjZWxsQmxvY2tzID0gZXhwbG9kZSgnICcsIHN0cl9yZXBsYWNlKCckJywgJycsIHN0cnRvdXBwZXIoJHBSYW5nZSkpKTsKICAgICAgICBmb3JlYWNoICgkY2VsbEJsb2NrcyBhcyAkY2VsbEJsb2NrKSB7CiAgICAgICAgICAgIC8vIFNpbmdsZSBjZWxsPwogICAgICAgICAgICBpZiAoc3RycG9zKCRjZWxsQmxvY2ssICc6JykgPT09IGZhbHNlICYmIHN0cnBvcygkY2VsbEJsb2NrLCAnLCcpID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgJHJldHVyblZhbHVlW10gPSAkY2VsbEJsb2NrOwogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFJhbmdlLi4uCiAgICAgICAgICAgICRyYW5nZXMgPSBzZWxmOjpzcGxpdFJhbmdlKCRjZWxsQmxvY2spOwogICAgICAgICAgICBmb3JlYWNoICgkcmFuZ2VzIGFzICRyYW5nZSkgewogICAgICAgICAgICAgICAgLy8gU2luZ2xlIGNlbGw\/CiAgICAgICAgICAgICAgICBpZiAoIWlzc2V0KCRyYW5nZVsxXSkpIHsKICAgICAgICAgICAgICAgICAgICAkcmV0dXJuVmFsdWVbXSA9ICRyYW5nZVswXTsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBSYW5nZS4uLgogICAgICAgICAgICAgICAgbGlzdCgkcmFuZ2VTdGFydCwgJHJhbmdlRW5kKSAgICA9ICRyYW5nZTsKICAgICAgICAgICAgICAgIHNzY2FuZigkcmFuZ2VTdGFydCwgJyVbQS1aXSVkJywgJHN0YXJ0Q29sLCAkc3RhcnRSb3cpOwogICAgICAgICAgICAgICAgc3NjYW5mKCRyYW5nZUVuZCwgJyVbQS1aXSVkJywgJGVuZENvbCwgJGVuZFJvdyk7CiAgICAgICAgICAgICAgICArKyRlbmRDb2w7CgogICAgICAgICAgICAgICAgLy8gQ3VycmVudCBkYXRhCiAgICAgICAgICAgICAgICAkY3VycmVudENvbCA9ICRzdGFydENvbDsKICAgICAgICAgICAgICAgICRjdXJyZW50Um93ID0gJHN0YXJ0Um93OwoKICAgICAgICAgICAgICAgIC8vIExvb3AgY2VsbHMKICAgICAgICAgICAgICAgIHdoaWxlICgkY3VycmVudENvbCAhPSAkZW5kQ29sKSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCRjdXJyZW50Um93IDw9ICRlbmRSb3cpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHJldHVyblZhbHVlW10gPSAkY3VycmVudENvbC4kY3VycmVudFJvdzsKICAgICAgICAgICAgICAgICAgICAgICAgKyskY3VycmVudFJvdzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKyskY3VycmVudENvbDsKICAgICAgICAgICAgICAgICAgICAkY3VycmVudFJvdyA9ICRzdGFydFJvdzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gICAgU29ydCB0aGUgcmVzdWx0IGJ5IGNvbHVtbiBhbmQgcm93CiAgICAgICAgJHNvcnRLZXlzID0gYXJyYXkoKTsKICAgICAgICBmb3JlYWNoIChhcnJheV91bmlxdWUoJHJldHVyblZhbHVlKSBhcyAkY29vcmQpIHsKICAgICAgICAgICAgc3NjYW5mKCRjb29yZCwgJyVbQS1aXSVkJywgJGNvbHVtbiwgJHJvdyk7CiAgICAgICAgICAgICRzb3J0S2V5c1tzcHJpbnRmKCclM3MlMDlkJywgJGNvbHVtbiwgJHJvdyldID0gJGNvb3JkOwogICAgICAgIH0KICAgICAgICBrc29ydCgkc29ydEtleXMpOwoKICAgICAgICAvLyBSZXR1cm4gdmFsdWUKICAgICAgICByZXR1cm4gYXJyYXlfdmFsdWVzKCRzb3J0S2V5cyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb21wYXJlIDIgY2VsbHMKICAgICAqCiAgICAgKiBAcGFyYW0gICAgUEhQRXhjZWxfQ2VsbCAgICAkYSAgICBDZWxsIGEKICAgICAqIEBwYXJhbSAgICBQSFBFeGNlbF9DZWxsICAgICRiICAgIENlbGwgYgogICAgICogQHJldHVybiAgICBpbnQgICAgICAgIFJlc3VsdCBvZiBjb21wYXJpc29uIChhbHdheXMgLTEgb3IgMSwgbmV2ZXIgemVybyEpCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY29tcGFyZUNlbGxzKFBIUEV4Y2VsX0NlbGwgJGEsIFBIUEV4Y2VsX0NlbGwgJGIpCiAgICB7CiAgICAgICAgaWYgKCRhLT5nZXRSb3coKSA8ICRiLT5nZXRSb3coKSkgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfSBlbHNlaWYgKCRhLT5nZXRSb3coKSA+ICRiLT5nZXRSb3coKSkgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9IGVsc2VpZiAoc2VsZjo6Y29sdW1uSW5kZXhGcm9tU3RyaW5nKCRhLT5nZXRDb2x1bW4oKSkgPCBzZWxmOjpjb2x1bW5JbmRleEZyb21TdHJpbmcoJGItPmdldENvbHVtbigpKSkgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogR2V0IHZhbHVlIGJpbmRlciB0byB1c2UKICAgICAqCiAgICAgKiBAcmV0dXJuIFBIUEV4Y2VsX0NlbGxfSVZhbHVlQmluZGVyCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0VmFsdWVCaW5kZXIoKQogICAgewogICAgICAgIGlmIChzZWxmOjokdmFsdWVCaW5kZXIgPT09IG51bGwpIHsKICAgICAgICAgICAgc2VsZjo6JHZhbHVlQmluZGVyID0gbmV3IFBIUEV4Y2VsX0NlbGxfRGVmYXVsdFZhbHVlQmluZGVyKCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gc2VsZjo6JHZhbHVlQmluZGVyOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHZhbHVlIGJpbmRlciB0byB1c2UKICAgICAqCiAgICAgKiBAcGFyYW0gUEhQRXhjZWxfQ2VsbF9JVmFsdWVCaW5kZXIgJGJpbmRlcgogICAgICogQHRocm93cyBQSFBFeGNlbF9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzZXRWYWx1ZUJpbmRlcihQSFBFeGNlbF9DZWxsX0lWYWx1ZUJpbmRlciAkYmluZGVyID0gbnVsbCkKICAgIHsKICAgICAgICBpZiAoJGJpbmRlciA9PT0gbnVsbCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfRXhjZXB0aW9uKCJBIFBIUEV4Y2VsX0NlbGxfSVZhbHVlQmluZGVyIGlzIHJlcXVpcmVkIGZvciBQSFBFeGNlbCB0byBmdW5jdGlvbiBjb3JyZWN0bHkuIik7CiAgICAgICAgfQoKICAgICAgICBzZWxmOjokdmFsdWVCaW5kZXIgPSAkYmluZGVyOwogICAgfQoKICAgIC8qKgogICAgICogSW1wbGVtZW50IFBIUCBfX2Nsb25lIHRvIGNyZWF0ZSBhIGRlZXAgY2xvbmUsIG5vdCBqdXN0IGEgc2hhbGxvdyBjb3B5LgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jbG9uZSgpCiAgICB7CiAgICAgICAgJHZhcnMgPSBnZXRfb2JqZWN0X3ZhcnMoJHRoaXMpOwogICAgICAgIGZvcmVhY2ggKCR2YXJzIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAgIGlmICgoaXNfb2JqZWN0KCR2YWx1ZSkpICYmICgka2V5ICE9ICdwYXJlbnQnKSkgewogICAgICAgICAgICAgICAgJHRoaXMtPiRrZXkgPSBjbG9uZSAkdmFsdWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+JGtleSA9ICR2YWx1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEdldCBpbmRleCB0byBjZWxsWGYKICAgICAqCiAgICAgKiBAcmV0dXJuIGludAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0WGZJbmRleCgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT54ZkluZGV4OwogICAgfQoKICAgIC8qKgogICAgICogU2V0IGluZGV4IHRvIGNlbGxYZgogICAgICoKICAgICAqIEBwYXJhbSBpbnQgJHBWYWx1ZQogICAgICogQHJldHVybiBQSFBFeGNlbF9DZWxsCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBzZXRYZkluZGV4KCRwVmFsdWUgPSAwKQogICAgewogICAgICAgICR0aGlzLT54ZkluZGV4ID0gJHBWYWx1ZTsKCiAgICAgICAgcmV0dXJuICR0aGlzLT5ub3RpZnlDYWNoZUNvbnRyb2xsZXIoKTsKICAgIH0KCiAgICAvKioKICAgICAqICAgIEBkZXByZWNhdGVkICAgICAgICBTaW5jZSB2ZXJzaW9uIDEuNy44IGZvciBwbGFubmVkIGNoYW5nZXMgdG8gY2VsbCBmb3IgYXJyYXkgZm9ybXVsYSBoYW5kbGluZwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gc2V0Rm9ybXVsYUF0dHJpYnV0ZXMoJHBBdHRyaWJ1dGVzKQogICAgewogICAgICAgICR0aGlzLT5mb3JtdWxhQXR0cmlidXRlcyA9ICRwQXR0cmlidXRlczsKICAgICAgICByZXR1cm4gJHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBAZGVwcmVjYXRlZCAgICAgICAgU2luY2UgdmVyc2lvbiAxLjcuOCBmb3IgcGxhbm5lZCBjaGFuZ2VzIHRvIGNlbGwgZm9yIGFycmF5IGZvcm11bGEgaGFuZGxpbmcKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldEZvcm11bGFBdHRyaWJ1dGVzKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmZvcm11bGFBdHRyaWJ1dGVzOwogICAgfQoKICAgIC8qKgogICAgICogQ29udmVydCB0byBzdHJpbmcKICAgICAqCiAgICAgKiBAcmV0dXJuIHN0cmluZwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpCiAgICB7CiAgICAgICAgcmV0dXJuIChzdHJpbmcpICR0aGlzLT5nZXRWYWx1ZSgpOwogICAgfQp9Cg==",
    "size": "33604"
}