{
    "namaFile": "pages\/admin\/menu\/bs-iconpicker\/js\/bootstrap-iconpicker.js",
    "lastUpdate": "2018-03-22+14:11:25.97",
    "contentFile": "LyohPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAqIEJvb3RzdHJhcDogYm9vdHN0cmFwLWljb25waWNrZXIuanMgdjEuNy4wIGJ5IEByZWNrdG9uZXIKICogaHR0cHM6Ly92aWN0b3ItdmFsZW5jaWEuZ2l0aHViLmNvbS9ib290c3RyYXAtaWNvbnBpY2tlcgogKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICogQ29weXJpZ2h0IDIwMTMtMjAxNSBWaWN0b3IgVmFsZW5jaWEgUmljby4KICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCjsoZnVuY3Rpb24oJCl7ICJ1c2Ugc3RyaWN0IjsKCiAgICAvLyBJQ09OUElDS0VSIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIHZhciBJY29ucGlja2VyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHsKICAgICAgdGhpcy4kZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICAgIHRoaXMub3B0aW9ucyAgPSAkLmV4dGVuZCh7fSwgSWNvbnBpY2tlci5ERUZBVUxUUywgdGhpcy4kZWxlbWVudC5kYXRhKCkpOwogICAgICB0aGlzLm9wdGlvbnMgID0gJC5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7CiAgICB9OwogICAgCiAgICAvLyBJQ09OUElDS0VSIElDT05TRVRfRU1QVFkKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgSWNvbnBpY2tlci5JQ09OU0VUX0VNUFRZID0gewogICAgICAgIGljb25DbGFzczogJycsCiAgICAgICAgaWNvbkNsYXNzRml4OiAnJywKICAgICAgICBpY29uczogW10KICAgIH07CgogICAgLy8gSUNPTlBJQ0tFUiBJQ09OU0VUCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIEljb25waWNrZXIuSUNPTlNFVCA9IHsKICAgICAgICBfY3VzdG9tOiBudWxsLAogICAgICAgIGVsdXNpdmVpY29uOiAkLmljb25zZXRfZWx1c2l2ZWljb24gfHwgSWNvbnBpY2tlci5JQ09OU0VUX0VNUFRZLAogICAgICAgIGZvbnRhd2Vzb21lOiAkLmljb25zZXRfZm9udGF3ZXNvbWUgfHwgSWNvbnBpY2tlci5JQ09OU0VUX0VNUFRZLAogICAgICAgIGlvbmljb246ICQuaWNvbnNldF9pb25pY29uIHx8IEljb25waWNrZXIuSUNPTlNFVF9FTVBUWSwKICAgICAgICBnbHlwaGljb246ICQuaWNvbnNldF9nbHlwaGljb24gfHwgSWNvbnBpY2tlci5JQ09OU0VUX0VNUFRZLCAgICAgICAgCiAgICAgICAgbWFwaWNvbjogJC5pY29uc2V0X21hcGljb24gfHwgSWNvbnBpY2tlci5JQ09OU0VUX0VNUFRZLAogICAgICAgIG1hdGVyaWFsZGVzaWduOiAkLmljb25zZXRfbWF0ZXJpYWxkZXNpZ24gfHwgSWNvbnBpY2tlci5JQ09OU0VUX0VNUFRZLAogICAgICAgIG9jdGljb246ICQuaWNvbnNldF9vY3RpY29uIHx8IEljb25waWNrZXIuSUNPTlNFVF9FTVBUWSwKICAgICAgICB0eXBpY29uOiAkLmljb25zZXRfdHlwaWNvbiB8fCBJY29ucGlja2VyLklDT05TRVRfRU1QVFksCiAgICAgICAgd2VhdGhlcmljb246ICQuaWNvbnNldF93ZWF0aGVyaWNvbiB8fCBJY29ucGlja2VyLklDT05TRVRfRU1QVFkKICAgIH07CgogICAgLy8gSUNPTlBJQ0tFUiBERUZBVUxUUwogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICBJY29ucGlja2VyLkRFRkFVTFRTID0gewogICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICBhcnJvd0NsYXNzOiAnYnRuLXByaW1hcnknLAogICAgICAgIGFycm93TmV4dEljb25DbGFzczogJ2dseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctcmlnaHQnLAogICAgICAgIGFycm93UHJldkljb25DbGFzczogJ2dseXBoaWNvbiBnbHlwaGljb24tYXJyb3ctbGVmdCcsCiAgICAgICAgY29sczogNCwKICAgICAgICBpY29uOiAnJywKICAgICAgICBpY29uc2V0OiAnZ2x5cGhpY29uJywKICAgICAgICBoZWFkZXI6IHRydWUsICAgICAgICAKICAgICAgICBsYWJlbEhlYWRlcjogJ3swfSAvIHsxfScsCiAgICAgICAgZm9vdGVyOiB0cnVlLAogICAgICAgIGxhYmVsRm9vdGVyOiAnezB9IC0gezF9IG9mIHsyfScsCiAgICAgICAgcGxhY2VtZW50OiAnYm90dG9tJywKICAgICAgICByb3dzOiA0LAogICAgICAgIHNlYXJjaDogdHJ1ZSwKICAgICAgICBzZWFyY2hUZXh0OiAnU2VhcmNoIGljb24nLAogICAgICAgIHNlbGVjdGVkQ2xhc3M6ICdidG4td2FybmluZycsCiAgICAgICAgdW5zZWxlY3RlZENsYXNzOiAnYnRuLWRlZmF1bHQnCiAgICB9OwoKICAgIC8vIElDT05QSUNLRVIgUFJJVkFURSBNRVRIT0RTCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS5iaW5kRXZlbnRzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvcCA9IHRoaXMub3B0aW9uczsKICAgICAgICB2YXIgZWwgPSB0aGlzOwogICAgICAgIG9wLnRhYmxlLmZpbmQoJy5idG4tcHJldmlvdXMsIC5idG4tbmV4dCcpLm9mZignY2xpY2snKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgdmFyIGluYyA9IHBhcnNlSW50KCQodGhpcykudmFsKCksIDEwKTsKICAgICAgICAgICAgZWwuY2hhbmdlTGlzdChvcC5wYWdlICsgaW5jKTsKICAgICAgICB9KTsKICAgICAgICBvcC50YWJsZS5maW5kKCcuYnRuLWljb24nKS5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGVsLnNlbGVjdCgkKHRoaXMpLnZhbCgpKTsKICAgICAgICAgICAgaWYob3AuaW5saW5lID09PSBmYWxzZSl7CiAgICAgICAgICAgICAgICBlbC4kZWxlbWVudC5wb3BvdmVyKCdkZXN0cm95Jyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgIG9wLnRhYmxlLmZpbmQoJ2kuJyArICQodGhpcykudmFsKCkpLnBhcmVudCgpLmFkZENsYXNzKG9wLnNlbGVjdGVkQ2xhc3MpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgb3AudGFibGUuZmluZCgnLnNlYXJjaC1jb250cm9sJykub2ZmKCdrZXl1cCcpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBlbC5jaGFuZ2VMaXN0KDEpOwogICAgICAgIH0pOwogICAgfTsKICAgIAogICAgSWNvbnBpY2tlci5wcm90b3R5cGUuY2hhbmdlTGlzdCA9IGZ1bmN0aW9uIChwYWdlKSB7ICAgICAgICAKICAgICAgICB0aGlzLmZpbHRlckljb25zKCk7CiAgICAgICAgdGhpcy51cGRhdGVMYWJlbHMocGFnZSk7CiAgICAgICAgdGhpcy51cGRhdGVJY29ucyhwYWdlKTsKICAgICAgICB0aGlzLm9wdGlvbnMucGFnZSA9IHBhZ2U7CiAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7CiAgICB9OwogICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS5maWx0ZXJJY29ucyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb3AgPSB0aGlzLm9wdGlvbnM7CiAgICAgICAgdmFyIHNlYXJjaCA9IG9wLnRhYmxlLmZpbmQoJy5zZWFyY2gtY29udHJvbCcpLnZhbCgpOwogICAgICAgIGlmIChzZWFyY2ggPT09ICIiKSB7CiAgICAgICAgICAgIG9wLmljb25zID0gSWNvbnBpY2tlci5JQ09OU0VUW29wLmljb25zZXRdLmljb25zOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgICAgICAkLmVhY2goSWNvbnBpY2tlci5JQ09OU0VUW29wLmljb25zZXRdLmljb25zLCBmdW5jdGlvbihpLCB2KSB7CiAgICAgICAgICAgICAgIGlmICh2LmluZGV4T2Yoc2VhcmNoKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2KTsKICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgb3AuaWNvbnMgPSByZXN1bHQ7CiAgICAgICAgfQogICAgfTsKICAgIAogICAgSWNvbnBpY2tlci5wcm90b3R5cGUucmVtb3ZlQWRkQ2xhc3MgPSBmdW5jdGlvbiAodGFyZ2V0LCByZW1vdmUsIGFkZCkgewogICAgICAgIHRoaXMub3B0aW9ucy50YWJsZS5maW5kKHRhcmdldCkucmVtb3ZlQ2xhc3MocmVtb3ZlKS5hZGRDbGFzcyhhZGQpOwogICAgICAgIHJldHVybiBhZGQ7CiAgICB9OwogICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLnVwZGF0ZVBpY2tlcigpOyAgICAgICAgICAgICAgICAKICAgICAgICB0aGlzLmNoYW5nZUxpc3QoMSk7CiAgICB9OwogICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS5zZWxlY3QgPSBmdW5jdGlvbiAoaWNvbikgewogICAgICAgIHZhciBvcCA9IHRoaXMub3B0aW9uczsKICAgICAgICB2YXIgZWwgPSB0aGlzLiRlbGVtZW50OwogICAgICAgIG9wLnNlbGVjdGVkID0gJC5pbkFycmF5KGljb24ucmVwbGFjZShvcC5pY29uQ2xhc3NGaXgsICcnKSwgb3AuaWNvbnMpOwogICAgICAgIGlmIChvcC5zZWxlY3RlZCA9PT0gLTEpIHsKICAgICAgICAgICAgb3Auc2VsZWN0ZWQgPSAwOwogICAgICAgICAgICBpY29uID0gb3AuaWNvbkNsYXNzRml4ICsgb3AuaWNvbnNbb3Auc2VsZWN0ZWRdOwogICAgICAgIH0KICAgICAgICBpZiAoaWNvbiAhPT0gJycgJiYgb3Auc2VsZWN0ZWQgPj0gMCkgewogICAgICAgICAgICBvcC5pY29uID0gaWNvbjsKICAgICAgICAgICAgaWYob3AuaW5saW5lID09PSBmYWxzZSl7CiAgICAgICAgICAgICAgICBlbC5maW5kKCdpbnB1dCcpLnZhbChpY29uKTsKICAgICAgICAgICAgICAgIGVsLmZpbmQoJ2knKS5hdHRyKCdjbGFzcycsICcnKS5hZGRDbGFzcyhvcC5pY29uQ2xhc3MpLmFkZENsYXNzKGljb24pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGljb24gPT09IG9wLmljb25DbGFzc0ZpeCl7CiAgICAgICAgICAgICAgICBlbC50cmlnZ2VyKHsgdHlwZTogImNoYW5nZSIsIGljb246ICdlbXB0eScsIGljb25DbGFzczogJyd9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGVsLnRyaWdnZXIoeyB0eXBlOiAiY2hhbmdlIiwgaWNvbjogaWNvbiwgaWNvbkNsYXNzOiBvcC5pY29uQ2xhc3MgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb3AudGFibGUuZmluZCgnYnV0dG9uLicgKyBvcC5zZWxlY3RlZENsYXNzKS5yZW1vdmVDbGFzcyhvcC5zZWxlY3RlZENsYXNzKTsKICAgICAgICB9CiAgICB9OwoKICAgIEljb25waWNrZXIucHJvdG90eXBlLnN3aXRjaFBhZ2UgPSBmdW5jdGlvbiAoaWNvbikgewogICAgICAgIHZhciBvcCA9IHRoaXMub3B0aW9uczsKICAgICAgICBvcC5zZWxlY3RlZCA9ICQuaW5BcnJheShpY29uLnJlcGxhY2Uob3AuaWNvbkNsYXNzRml4LCAnJyksIG9wLmljb25zKTsKICAgICAgICAKICAgICAgICBpZihvcC5zZWxlY3RlZCA+PSAwKSB7CiAgICAgICAgICAgIHZhciBwYWdlID0gTWF0aC5jZWlsKChvcC5zZWxlY3RlZCArIDEpIC8gdGhpcy50b3RhbEljb25zUGVyUGFnZSgpKTsKICAgICAgICAgICAgdGhpcy5jaGFuZ2VMaXN0KHBhZ2UpOwogICAgICAgIH0gICAgICAgIAogICAgICAgIGlmKGljb24gPT09ICcnKXsKICAgICAgICAgICAgb3AudGFibGUuZmluZCgnaS4nICsgb3AuaWNvbkNsYXNzRml4KS5wYXJlbnQoKS5hZGRDbGFzcyhvcC5zZWxlY3RlZENsYXNzKTsKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICAgb3AudGFibGUuZmluZCgnaS4nICsgaWNvbikucGFyZW50KCkuYWRkQ2xhc3Mob3Auc2VsZWN0ZWRDbGFzcyk7CiAgICAgICAgfSAgICAgICAgCiAgICB9OwogICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS50b3RhbFBhZ2VzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy50b3RhbEljb25zKCkgLyB0aGlzLnRvdGFsSWNvbnNQZXJQYWdlKCkpOyAgICAgICAgCiAgICB9OwogICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS50b3RhbEljb25zID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaWNvbnMubGVuZ3RoOwogICAgfTsKICAgIAogICAgSWNvbnBpY2tlci5wcm90b3R5cGUudG90YWxJY29uc1BlclBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYodGhpcy5vcHRpb25zLnJvd3MgPT09IDApewogICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmljb25zLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jb2xzICogdGhpcy5vcHRpb25zLnJvd3M7CiAgICAgICAgfQogICAgfTsKICAgIAogICAgSWNvbnBpY2tlci5wcm90b3R5cGUudXBkYXRlQXJyb3dzID0gZnVuY3Rpb24gKHBhZ2UpIHsKICAgICAgICB2YXIgb3AgPSB0aGlzLm9wdGlvbnM7CiAgICAgICAgdmFyIHRvdGFsX3BhZ2VzID0gdGhpcy50b3RhbFBhZ2VzKCk7CiAgICAgICAgaWYgKHBhZ2UgPT09IDEpIHsgCiAgICAgICAgICAgIG9wLnRhYmxlLmZpbmQoJy5idG4tcHJldmlvdXMnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTsKICAgICAgICAgICAgb3AudGFibGUuZmluZCgnLmJ0bi1wcmV2aW91cycpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBvcC50YWJsZS5maW5kKCcuYnRuLXByZXZpb3VzJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7CiAgICAgICAgICAgIG9wLnRhYmxlLmZpbmQoJy5idG4tcHJldmlvdXMnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTsKICAgICAgICB9CiAgICAgICAgaWYgKHBhZ2UgPT09IHRvdGFsX3BhZ2VzIHx8IHRvdGFsX3BhZ2VzID09PSAwKSB7IAogICAgICAgICAgICBvcC50YWJsZS5maW5kKCcuYnRuLW5leHQnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTsKICAgICAgICAgICAgb3AudGFibGUuZmluZCgnLmJ0bi1uZXh0JykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIG9wLnRhYmxlLmZpbmQoJy5idG4tbmV4dCcpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOwogICAgICAgICAgICBvcC50YWJsZS5maW5kKCcuYnRuLW5leHQnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTsKICAgICAgICB9CiAgICB9OwogICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS51cGRhdGVJY29ucyA9IGZ1bmN0aW9uIChwYWdlKSB7CiAgICAgICAgdmFyIG9wID0gdGhpcy5vcHRpb25zOwogICAgICAgIHZhciB0Ym9keSA9IG9wLnRhYmxlLmZpbmQoJ3Rib2R5JykuZW1wdHkoKTsKICAgICAgICB2YXIgb2Zmc2V0ID0gKHBhZ2UgLSAxKSAqIHRoaXMudG90YWxJY29uc1BlclBhZ2UoKTsKICAgICAgICB2YXIgbGVuZ3RoID0gb3Aucm93czsKICAgICAgICBpZihvcC5yb3dzID09PSAwKXsKICAgICAgICAgICAgbGVuZ3RoID0gb3AuaWNvbnMubGVuZ3RoOwogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciB0ciA9ICQoJzx0cj48L3RyPicpOwogICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9wLmNvbHM7IGorKykgewogICAgICAgICAgICAgICAgdmFyIHBvcyA9IG9mZnNldCArIChpICogb3AuY29scykgKyBqOwogICAgICAgICAgICAgICAgdmFyIGJ0biA9ICQoJzxidXR0b24gY2xhc3M9ImJ0biAnICsgb3AudW5zZWxlY3RlZENsYXNzICsgJyBidG4taWNvbiI+PC9idXR0b24+JykuaGlkZSgpOwogICAgICAgICAgICAgICAgaWYgKHBvcyA8IG9wLmljb25zLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgIHZhciB2ID0gb3AuaWNvbkNsYXNzRml4ICsgb3AuaWNvbnNbcG9zXTsKICAgICAgICAgICAgICAgICAgICBidG4udmFsKHYpLmF0dHIoJ3RpdGxlJywgdikuYXBwZW5kKCc8aSBjbGFzcz0iJyArIG9wLmljb25DbGFzcyArICcgJyArIHYgKyAnIj48L2k+Jykuc2hvdygpOwogICAgICAgICAgICAgICAgICAgIGlmIChvcC5pY29uID09PSB2KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5hZGRDbGFzcyhvcC5zZWxlY3RlZENsYXNzKS5hZGRDbGFzcygnYnRuLWljb24tc2VsZWN0ZWQnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0ci5hcHBlbmQoJCgnPHRkPjwvdGQ+JykuYXBwZW5kKGJ0bikpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRib2R5LmFwcGVuZCh0cik7CiAgICAgICAgfQogICAgfTsKICAgIAogICAgSWNvbnBpY2tlci5wcm90b3R5cGUudXBkYXRlSWNvbnNDb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgb3AgPSB0aGlzLm9wdGlvbnM7CiAgICAgICAgaWYob3AuZm9vdGVyID09PSB0cnVlKXsKICAgICAgICAgICAgdmFyIGljb25zX2NvdW50ID0gWwogICAgICAgICAgICAgICAgJzx0cj4nLAogICAgICAgICAgICAgICAgJyAgIDx0ZCBjb2xzcGFuPSInICsgb3AuY29scyArICciIGNsYXNzPSJ0ZXh0LWNlbnRlciI+JywKICAgICAgICAgICAgICAgICcgICAgICAgPHNwYW4gY2xhc3M9Imljb25zLWNvdW50Ij48L3NwYW4+JywKICAgICAgICAgICAgICAgICcgICA8L3RkPicsCiAgICAgICAgICAgICAgICAnPC90cj4nCiAgICAgICAgICAgIF07CiAgICAgICAgICAgIG9wLnRhYmxlLmZpbmQoJ3Rmb290JykuZW1wdHkoKS5hcHBlbmQoaWNvbnNfY291bnQuam9pbignJykpOwogICAgICAgIH0KICAgIH07CiAgICAKICAgIEljb25waWNrZXIucHJvdG90eXBlLnVwZGF0ZUxhYmVscyA9IGZ1bmN0aW9uIChwYWdlKSB7CiAgICAgICAgdmFyIG9wID0gdGhpcy5vcHRpb25zOwogICAgICAgIHZhciB0b3RhbF9pY29ucyA9IHRoaXMudG90YWxJY29ucygpOwogICAgICAgIHZhciB0b3RhbF9wYWdlcyA9IHRoaXMudG90YWxQYWdlcygpOwogICAgICAgIG9wLnRhYmxlLmZpbmQoJy5wYWdlLWNvdW50JykuaHRtbChvcC5sYWJlbEhlYWRlci5yZXBsYWNlKCd7MH0nLCAodG90YWxfcGFnZXMgPT09IDAgKSA\/IDAgOiBwYWdlKS5yZXBsYWNlKCd7MX0nLCB0b3RhbF9wYWdlcykpOwogICAgICAgIHZhciBvZmZzZXQgPSAocGFnZSAtIDEpICogdGhpcy50b3RhbEljb25zUGVyUGFnZSgpOwogICAgICAgIHZhciB0b3RhbCA9IHBhZ2UgKiB0aGlzLnRvdGFsSWNvbnNQZXJQYWdlKCk7CiAgICAgICAgb3AudGFibGUuZmluZCgnLmljb25zLWNvdW50JykuaHRtbChvcC5sYWJlbEZvb3Rlci5yZXBsYWNlKCd7MH0nLCBvZmZzZXQgKyAxKS5yZXBsYWNlKCd7MX0nLCAodG90YWwgPCB0b3RhbF9pY29ucykgPyB0b3RhbDogdG90YWxfaWNvbnMpLnJlcGxhY2UoJ3syfScsIHRvdGFsX2ljb25zKSk7CiAgICAgICAgdGhpcy51cGRhdGVBcnJvd3MocGFnZSk7ICAgICAgICAKICAgIH07CiAgICAKICAgIEljb25waWNrZXIucHJvdG90eXBlLnVwZGF0ZVBhZ2VzQ291bnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9wID0gdGhpcy5vcHRpb25zOyAgICAgICAgCiAgICAgICAgaWYob3AuaGVhZGVyID09PSB0cnVlKXsKICAgICAgICAgICAgdmFyIHRyID0gJCgnPHRyPjwvdHI+Jyk7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3AuY29sczsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgdGQgPSAkKCc8dGQgY2xhc3M9InRleHQtY2VudGVyIj48L3RkPicpOwogICAgICAgICAgICAgICAgaWYgKGkgPT09IDAgfHwgaSA9PT0gb3AuY29scyAtIDEpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgYXJyb3cgPSBbCiAgICAgICAgICAgICAgICAgICAgICAgICc8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWFycm93ICcgKyAoKGkgPT09IDApID8gJ2J0bi1wcmV2aW91cycgOiAnYnRuLW5leHQnKSArICcgJyArIG9wLmFycm93Q2xhc3MgKyAnIiB2YWx1ZT0iJyArICgoaSA9PT0gMCkgPyAtMSA6IDEpICsgJyI+JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz0iJyArICgoaSA9PT0gMCkgPyBvcC5hcnJvd1ByZXZJY29uQ2xhc3MgOiBvcC5hcnJvd05leHRJY29uQ2xhc3MpICsgJyI+PC9zcGFuPicsCiAgICAgICAgICAgICAgICAgICAgICAgICc8L2J1dHRvbj4nCiAgICAgICAgICAgICAgICAgICAgXTsKICAgICAgICAgICAgICAgICAgICB0ZC5hcHBlbmQoYXJyb3cuam9pbignJykpOwogICAgICAgICAgICAgICAgICAgIHRyLmFwcGVuZCh0ZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmICh0ci5maW5kKCcucGFnZS1jb3VudCcpLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIHRkLmF0dHIoJ2NvbHNwYW4nLCBvcC5jb2xzIC0gMikuYXBwZW5kKCc8c3BhbiBjbGFzcz0icGFnZS1jb3VudCI+PC9zcGFuPicpOwogICAgICAgICAgICAgICAgICAgIHRyLmFwcGVuZCh0ZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gICAgICAgICAgICAKICAgICAgICAgICAgb3AudGFibGUuZmluZCgndGhlYWQnKS5lbXB0eSgpLmFwcGVuZCh0cik7CiAgICAgICAgfQogICAgfTsKICAgIAogICAgSWNvbnBpY2tlci5wcm90b3R5cGUudXBkYXRlUGlja2VyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvcCA9IHRoaXMub3B0aW9uczsKICAgICAgICBpZiAob3AuY29scyA8IDQpIHsKICAgICAgICAgICAgdGhyb3cgJ0ljb25waWNrZXIgPT4gVGhlIG51bWJlciBvZiBjb2x1bW5zIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDQuIFtvcHRpb24uY29scyA9ICcgKyBvcC5jb2xzICsgJ10nOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChvcC5yb3dzIDwgMCkgewogICAgICAgICAgICB0aHJvdyAnSWNvbnBpY2tlciA9PiBUaGUgbnVtYmVyIG9mIHJvd3MgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMC4gW29wdGlvbi5yb3dzID0gJyArIG9wLnJvd3MgKyAnXSc7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2VzQ291bnQoKTsKICAgICAgICAgICAgdGhpcy51cGRhdGVTZWFyY2goKTsKICAgICAgICAgICAgdGhpcy51cGRhdGVJY29uc0NvdW50KCk7CiAgICAgICAgfQogICAgfTsKICAgIAogICAgSWNvbnBpY2tlci5wcm90b3R5cGUudXBkYXRlU2VhcmNoID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvcCA9IHRoaXMub3B0aW9uczsKICAgICAgICB2YXIgc2VhcmNoID0gWwogICAgICAgICAgICAnPHRyPicsCiAgICAgICAgICAgICcgICA8dGQgY29sc3Bhbj0iJyArIG9wLmNvbHMgKyAnIj4nLAogICAgICAgICAgICAnICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHNlYXJjaC1jb250cm9sIiBzdHlsZT0id2lkdGg6ICcgKyBvcC5jb2xzICogMzkgKyAncHg7IiBwbGFjZWhvbGRlcj0iJyArIG9wLnNlYXJjaFRleHQgKyAnIj4nLAogICAgICAgICAgICAnICAgPC90ZD4nLAogICAgICAgICAgICAnPC90cj4nCiAgICAgICAgXTsKICAgICAgICBzZWFyY2ggPSAkKHNlYXJjaC5qb2luKCcnKSk7CiAgICAgICAgaWYgKG9wLnNlYXJjaCA9PT0gdHJ1ZSkgeyAKICAgICAgICAgICAgc2VhcmNoLnNob3coKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHNlYXJjaC5oaWRlKCk7CiAgICAgICAgfQogICAgICAgIG9wLnRhYmxlLmZpbmQoJ3RoZWFkJykuYXBwZW5kKHNlYXJjaCk7CiAgICB9OwogICAgCiAgICAvLyBJQ09OUElDS0VSIFBVQkxJQyBNRVRIT0RTCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIEljb25waWNrZXIucHJvdG90eXBlLnNldEFsaWduID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuYWxpZ24pLmFkZENsYXNzKHZhbHVlKTsKICAgICAgICB0aGlzLm9wdGlvbnMuYWxpZ24gPSB2YWx1ZTsKICAgIH07CiAgICAKICAgIEljb25waWNrZXIucHJvdG90eXBlLnNldEFycm93Q2xhc3MgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICB0aGlzLm9wdGlvbnMuYXJyb3dDbGFzcyA9IHRoaXMucmVtb3ZlQWRkQ2xhc3MoJy5idG4tYXJyb3cnLCB0aGlzLm9wdGlvbnMuYXJyb3dDbGFzcywgdmFsdWUpOwogICAgfTsKICAgIAogICAgSWNvbnBpY2tlci5wcm90b3R5cGUuc2V0QXJyb3dOZXh0SWNvbkNsYXNzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdGhpcy5vcHRpb25zLmFycm93TmV4dEljb25DbGFzcyA9IHRoaXMucmVtb3ZlQWRkQ2xhc3MoJy5idG4tbmV4dCA+IHNwYW4nLCB0aGlzLm9wdGlvbnMuYXJyb3dOZXh0SWNvbkNsYXNzLCB2YWx1ZSk7CiAgICB9OwogICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS5zZXRBcnJvd1ByZXZJY29uQ2xhc3MgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICB0aGlzLm9wdGlvbnMuYXJyb3dQcmV2SWNvbkNsYXNzID0gdGhpcy5yZW1vdmVBZGRDbGFzcygnLmJ0bi1wcmV2aW91cyA+IHNwYW4nLCB0aGlzLm9wdGlvbnMuYXJyb3dQcmV2SWNvbkNsYXNzLCB2YWx1ZSk7CiAgICB9OwogICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS5zZXRDb2xzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdGhpcy5vcHRpb25zLmNvbHMgPSB2YWx1ZTsKICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICB9OwogICAgICAgIAogICAgSWNvbnBpY2tlci5wcm90b3R5cGUuc2V0Rm9vdGVyID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdmFyIGZvb3RlciA9IHRoaXMub3B0aW9ucy50YWJsZS5maW5kKCd0Zm9vdCcpOwogICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkgeyAKICAgICAgICAgICAgZm9vdGVyLnNob3coKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGZvb3Rlci5oaWRlKCk7CiAgICAgICAgfQogICAgICAgIHRoaXMub3B0aW9ucy5mb290ZXIgPSB2YWx1ZTsKICAgIH07CiAgICAKICAgIEljb25waWNrZXIucHJvdG90eXBlLnNldEhlYWRlciA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHZhciBoZWFkZXIgPSB0aGlzLm9wdGlvbnMudGFibGUuZmluZCgndGhlYWQnKTsKICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpIHsgCiAgICAgICAgICAgIGhlYWRlci5zaG93KCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBoZWFkZXIuaGlkZSgpOwogICAgICAgIH0KICAgICAgICB0aGlzLm9wdGlvbnMuaGVhZGVyID0gdmFsdWU7CiAgICB9OwogICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS5zZXRJY29uID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdGhpcy5zZWxlY3QodmFsdWUpOwogICAgfTsKICAgIAogICAgSWNvbnBpY2tlci5wcm90b3R5cGUuc2V0SWNvbnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHZhciBvcCA9IHRoaXMub3B0aW9uczsgICAgICAgICAgICAgICAgCiAgICAgICAgaWYgKCQuaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHsgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICBJY29ucGlja2VyLklDT05TRVQuX2N1c3RvbSA9ICQuZXh0ZW5kKEljb25waWNrZXIuSUNPTlNFVF9FTVBUWSwgdmFsdWUpOwogICAgICAgICAgICBvcC5pY29uc2V0ID0gJ19jdXN0b20nOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmICghSWNvbnBpY2tlci5JQ09OU0VULmhhc093blByb3BlcnR5KHZhbHVlKSkgewogICAgICAgICAgICBvcC5pY29uc2V0ID0gSWNvbnBpY2tlci5ERUZBVUxUUy5pY29uc2V0OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgb3AuaWNvbnNldCA9IHZhbHVlOwogICAgICAgIH0KICAgICAgICBvcCA9ICQuZXh0ZW5kKG9wLCBJY29ucGlja2VyLklDT05TRVRbb3AuaWNvbnNldF0pOwogICAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgICB0aGlzLnNlbGVjdChvcC5pY29uKTsKICAgIH07CiAgICAKICAgIEljb25waWNrZXIucHJvdG90eXBlLnNldExhYmVsSGVhZGVyID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdGhpcy5vcHRpb25zLmxhYmVsSGVhZGVyID0gdmFsdWU7CiAgICAgICAgdGhpcy51cGRhdGVMYWJlbHModGhpcy5vcHRpb25zLnBhZ2UpOwogICAgfTsKICAgIAogICAgSWNvbnBpY2tlci5wcm90b3R5cGUuc2V0TGFiZWxGb290ZXIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICB0aGlzLm9wdGlvbnMubGFiZWxGb290ZXIgPSB2YWx1ZTsKICAgICAgICB0aGlzLnVwZGF0ZUxhYmVscyh0aGlzLm9wdGlvbnMucGFnZSk7CiAgICB9OwogICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS5zZXRQbGFjZW1lbnQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICB0aGlzLm9wdGlvbnMucGxhY2VtZW50ID0gdmFsdWU7CiAgICB9OwogICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS5zZXRSb3dzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdGhpcy5vcHRpb25zLnJvd3MgPSB2YWx1ZTsKICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICB9OwogICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS5zZXRTZWFyY2ggPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICB2YXIgc2VhcmNoID0gdGhpcy5vcHRpb25zLnRhYmxlLmZpbmQoJy5zZWFyY2gtY29udHJvbCcpOwogICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkgeyAKICAgICAgICAgICAgc2VhcmNoLnNob3coKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHNlYXJjaC5oaWRlKCk7CiAgICAgICAgfQogICAgICAgIHNlYXJjaC52YWwoJycpOwogICAgICAgIHRoaXMuY2hhbmdlTGlzdCgxKTsKICAgICAgICB0aGlzLm9wdGlvbnMuc2VhcmNoID0gdmFsdWU7CiAgICB9OwogICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS5zZXRTZWFyY2hUZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdGhpcy5vcHRpb25zLnRhYmxlLmZpbmQoJy5zZWFyY2gtY29udHJvbCcpLmF0dHIoJ3BsYWNlaG9sZGVyJywgdmFsdWUpOwogICAgICAgIHRoaXMub3B0aW9ucy5zZWFyY2hUZXh0ID0gdmFsdWU7CiAgICB9OwogICAgCiAgICBJY29ucGlja2VyLnByb3RvdHlwZS5zZXRTZWxlY3RlZENsYXNzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdGhpcy5vcHRpb25zLnNlbGVjdGVkQ2xhc3MgPSB0aGlzLnJlbW92ZUFkZENsYXNzKCcuYnRuLWljb24tc2VsZWN0ZWQnLCB0aGlzLm9wdGlvbnMuc2VsZWN0ZWRDbGFzcywgdmFsdWUpOwogICAgfTsKICAgIAogICAgSWNvbnBpY2tlci5wcm90b3R5cGUuc2V0VW5zZWxlY3RlZENsYXNzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgdGhpcy5vcHRpb25zLnVuc2VsZWN0ZWRDbGFzcyA9IHRoaXMucmVtb3ZlQWRkQ2xhc3MoJy5idG4taWNvbicsIHRoaXMub3B0aW9ucy51bnNlbGVjdGVkQ2xhc3MsIHZhbHVlKTsKICAgIH07CiAgICAKICAgIC8vIElDT05QSUNLRVIgUExVR0lOIERFRklOSVRJT04KICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PQogICAgdmFyIG9sZCA9ICQuZm4uaWNvbnBpY2tlcjsKICAgICQuZm4uaWNvbnBpY2tlciA9IGZ1bmN0aW9uIChvcHRpb24sIHBhcmFtcykgewogICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpOwogICAgICAgICAgICB2YXIgZGF0YSA9ICR0aGlzLmRhdGEoJ2JzLmljb25waWNrZXInKTsKICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09PSAnb2JqZWN0JyAmJiBvcHRpb247CiAgICAgICAgICAgIGlmICghZGF0YSkgewogICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnYnMuaWNvbnBpY2tlcicsIChkYXRhID0gbmV3IEljb25waWNrZXIodGhpcywgb3B0aW9ucykpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtvcHRpb25dID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICAgIHRocm93ICdJY29ucGlja2VyID0+IFRoZSAiJyArIG9wdGlvbiArICciIG1ldGhvZCBkb2VzIG5vdCBleGlzdHMuJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGRhdGFbb3B0aW9uXShwYXJhbXMpOwogICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgdmFyIG9wID0gZGF0YS5vcHRpb25zOyAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIG9wID0gJC5leHRlbmQob3AsIHsKICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHBhZ2U6IDEsCiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IC0xLAogICAgICAgICAgICAgICAgICAgIHRhYmxlOiAkKCc8dGFibGUgY2xhc3M9InRhYmxlLWljb25zIj48dGhlYWQ+PC90aGVhZD48dGJvZHk+PC90Ym9keT48dGZvb3Q+PC90Zm9vdD48L3RhYmxlPicpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZhciBuYW1lID0gKHR5cGVvZiAkdGhpcy5hdHRyKCduYW1lJykgIT09ICd1bmRlZmluZWQnKSA\/ICduYW1lPSInICsgJHRoaXMuYXR0cignbmFtZScpICsgJyInIDogJyc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmKCR0aGlzLnByb3AoJ3RhZ05hbWUnKSA9PT0gJ0JVVFRPTicpewogICAgICAgICAgICAgICAgICAgICR0aGlzLmVtcHR5KCkKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnPGk+PC9pPicpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJzxpbnB1dCB0eXBlPSJoaWRkZW4iICcgKyBuYW1lICsgJz48L2lucHV0PicpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJzxzcGFuIGNsYXNzPSJjYXJldCI+PC9zcGFuPicpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnaWNvbnBpY2tlcicpOyAKICAgICAgICAgICAgICAgICAgICBkYXRhLnNldEljb25zZXQob3AuaWNvbnNldCk7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLnBvcG92ZXIoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6ICdtYW51YWwnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG9wLnRhYmxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiAnYm9keScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IG9wLnBsYWNlbWVudAogICAgICAgICAgICAgICAgICAgICAgICB9KS5vbignc2hvd24uYnMucG9wb3ZlcicsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuc3dpdGNoUGFnZShvcC5pY29uKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuYmluZEV2ZW50cygpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicpLnRpcCgpLmFkZENsYXNzKCdpY29ucGlja2VyLXBvcG92ZXInKTsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMucG9wb3Zlcignc2hvdycpOwogICAgICAgICAgICAgICAgICAgIH0pOyAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgb3AuaW5saW5lID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBkYXRhLnNldEljb25zZXQob3AuaWNvbnNldCk7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMuZW1wdHkoKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCc8aW5wdXQgdHlwZT0iaGlkZGVuIiAnICsgbmFtZSArICc+PC9pbnB1dD4nKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKG9wLnRhYmxlKQogICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2ljb25waWNrZXInKQogICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3Mob3AuYWxpZ24pOyAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBkYXRhLnN3aXRjaFBhZ2Uob3AuaWNvbik7CiAgICAgICAgICAgICAgICAgICAgZGF0YS5iaW5kRXZlbnRzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH07CgogICAgJC5mbi5pY29ucGlja2VyLkNvbnN0cnVjdG9yID0gSWNvbnBpY2tlcjsKCiAgICAvLyBJQ09OUElDS0VSIE5PIENPTkZMSUNUCiAgICAvLyA9PT09PT09PT09PT09PT09PT0KICAgICQuZm4uaWNvbnBpY2tlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICQuZm4uaWNvbnBpY2tlciA9IG9sZDsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH07CgogICAgLy8gSUNPTlBJQ0tFUiBEQVRBLUFQSQogICAgLy8gPT09PT09PT09PT09PT09CiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnYm9keScsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgJCgnLmljb25waWNrZXInKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy90aGUgJ2lzJyBmb3IgYnV0dG9ucyB0aGF0IHRyaWdnZXIgcG9wdXBzCiAgICAgICAgICAgIC8vdGhlICdoYXMnIGZvciBpY29ucyB3aXRoaW4gYSBidXR0b24gdGhhdCB0cmlnZ2VycyBhIHBvcHVwCiAgICAgICAgICAgIGlmICghJCh0aGlzKS5pcyhlLnRhcmdldCkgJiYgJCh0aGlzKS5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCAmJiAkKCcucG9wb3ZlcicpLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAkKHRoaXMpLnBvcG92ZXIoJ2Rlc3Ryb3knKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSk7CgogICAgJCgnYnV0dG9uW3JvbGU9Imljb25waWNrZXIiXSxkaXZbcm9sZT0iaWNvbnBpY2tlciJdJykuaWNvbnBpY2tlcigpOwoKfSkoalF1ZXJ5KTsK",
    "size": "19611"
}