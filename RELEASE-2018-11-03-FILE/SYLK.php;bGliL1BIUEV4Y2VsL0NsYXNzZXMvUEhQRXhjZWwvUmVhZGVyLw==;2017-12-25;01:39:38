{
    "namaFile": "lib\/PHPExcel\/Classes\/PHPExcel\/Reader\/SYLK.php",
    "lastUpdate": "2017-12-25+01:39:38.00",
    "contentFile": "PD9waHAKCi8qKiBQSFBFeGNlbCByb290IGRpcmVjdG9yeSAqLwppZiAoIWRlZmluZWQoJ1BIUEVYQ0VMX1JPT1QnKSkgewogICAgLyoqCiAgICAgKiBAaWdub3JlCiAgICAgKi8KICAgIGRlZmluZSgnUEhQRVhDRUxfUk9PVCcsIGRpcm5hbWUoX19GSUxFX18pIC4gJy8uLi8uLi8nKTsKICAgIHJlcXVpcmUoUEhQRVhDRUxfUk9PVCAuICdQSFBFeGNlbC9BdXRvbG9hZGVyLnBocCcpOwp9CgovKioKICogUEhQRXhjZWxfUmVhZGVyX1NZTEsKICoKICogQ29weXJpZ2h0IChjKSAyMDA2IC0gMjAxNSBQSFBFeGNlbAogKgogKiBUaGlzIGxpYnJhcnkgaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yCiAqIG1vZGlmeSBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMKICogTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbjsgZWl0aGVyCiAqIHZlcnNpb24gMi4xIG9mIHRoZSBMaWNlbnNlLCBvciAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgogKgogKiBUaGlzIGxpYnJhcnkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZSBHTlUKICogTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KICoKICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYwogKiBMaWNlbnNlIGFsb25nIHdpdGggdGhpcyBsaWJyYXJ5OyBpZiBub3QsIHdyaXRlIHRvIHRoZSBGcmVlIFNvZnR3YXJlCiAqIEZvdW5kYXRpb24sIEluYy4sIDUxIEZyYW5rbGluIFN0cmVldCwgRmlmdGggRmxvb3IsIEJvc3RvbiwgTUEgIDAyMTEwLTEzMDEgIFVTQQogKgogKiBAY2F0ZWdvcnkgICBQSFBFeGNlbAogKiBAcGFja2FnZSAgICBQSFBFeGNlbF9SZWFkZXIKICogQGNvcHlyaWdodCAgQ29weXJpZ2h0IChjKSAyMDA2IC0gMjAxNSBQSFBFeGNlbCAoaHR0cDovL3d3dy5jb2RlcGxleC5jb20vUEhQRXhjZWwpCiAqIEBsaWNlbnNlICAgIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9vbGQtbGljZW5zZXMvbGdwbC0yLjEudHh0ICAgIExHUEwKICogQHZlcnNpb24gICAgIyNWRVJTSU9OIyMsICMjREFURSMjCiAqLwpjbGFzcyBQSFBFeGNlbF9SZWFkZXJfU1lMSyBleHRlbmRzIFBIUEV4Y2VsX1JlYWRlcl9BYnN0cmFjdCBpbXBsZW1lbnRzIFBIUEV4Y2VsX1JlYWRlcl9JUmVhZGVyCnsKICAgIC8qKgogICAgICogSW5wdXQgZW5jb2RpbmcKICAgICAqCiAgICAgKiBAdmFyIHN0cmluZwogICAgICovCiAgICBwcml2YXRlICRpbnB1dEVuY29kaW5nID0gJ0FOU0knOwoKICAgIC8qKgogICAgICogU2hlZXQgaW5kZXggdG8gcmVhZAogICAgICoKICAgICAqIEB2YXIgaW50CiAgICAgKi8KICAgIHByaXZhdGUgJHNoZWV0SW5kZXggPSAwOwoKICAgIC8qKgogICAgICogRm9ybWF0cwogICAgICoKICAgICAqIEB2YXIgYXJyYXkKICAgICAqLwogICAgcHJpdmF0ZSAkZm9ybWF0cyA9IGFycmF5KCk7CgogICAgLyoqCiAgICAgKiBGb3JtYXQgQ291bnQKICAgICAqCiAgICAgKiBAdmFyIGludAogICAgICovCiAgICBwcml2YXRlICRmb3JtYXQgPSAwOwoKICAgIC8qKgogICAgICogQ3JlYXRlIGEgbmV3IFBIUEV4Y2VsX1JlYWRlcl9TWUxLCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpCiAgICB7CiAgICAgICAgJHRoaXMtPnJlYWRGaWx0ZXIgPSBuZXcgUEhQRXhjZWxfUmVhZGVyX0RlZmF1bHRSZWFkRmlsdGVyKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBWYWxpZGF0ZSB0aGF0IHRoZSBjdXJyZW50IGZpbGUgaXMgYSBTWUxLIGZpbGUKICAgICAqCiAgICAgKiBAcmV0dXJuIGJvb2xlYW4KICAgICAqLwogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIGlzVmFsaWRGb3JtYXQoKQogICAgewogICAgICAgIC8vIFJlYWQgc2FtcGxlIGRhdGEgKGZpcnN0IDIgS0Igd2lsbCBkbykKICAgICAgICAkZGF0YSA9IGZyZWFkKCR0aGlzLT5maWxlSGFuZGxlLCAyMDQ4KTsKCiAgICAgICAgLy8gQ291bnQgZGVsaW1pdGVycyBpbiBmaWxlCiAgICAgICAgJGRlbGltaXRlckNvdW50ID0gc3Vic3RyX2NvdW50KCRkYXRhLCAnOycpOwogICAgICAgIGlmICgkZGVsaW1pdGVyQ291bnQgPCAxKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIC8vIEFuYWx5emUgZmlyc3QgbGluZSBsb29raW5nIGZvciBJRDsgc2lnbmF0dXJlCiAgICAgICAgJGxpbmVzID0gZXhwbG9kZSgiXG4iLCAkZGF0YSk7CiAgICAgICAgaWYgKHN1YnN0cigkbGluZXNbMF0sIDAsIDQpICE9ICdJRDtQJykgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBpbnB1dCBlbmNvZGluZwogICAgICoKICAgICAqIEBwYXJhbSBzdHJpbmcgJHBWYWx1ZSBJbnB1dCBlbmNvZGluZwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gc2V0SW5wdXRFbmNvZGluZygkcFZhbHVlID0gJ0FOU0knKQogICAgewogICAgICAgICR0aGlzLT5pbnB1dEVuY29kaW5nID0gJHBWYWx1ZTsKICAgICAgICByZXR1cm4gJHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgaW5wdXQgZW5jb2RpbmcKICAgICAqCiAgICAgKiBAcmV0dXJuIHN0cmluZwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0SW5wdXRFbmNvZGluZygpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5pbnB1dEVuY29kaW5nOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHdvcmtzaGVldCBpbmZvIChOYW1lLCBMYXN0IENvbHVtbiBMZXR0ZXIsIExhc3QgQ29sdW1uIEluZGV4LCBUb3RhbCBSb3dzLCBUb3RhbCBDb2x1bW5zKQogICAgICoKICAgICAqIEBwYXJhbSAgIHN0cmluZyAgICAgJHBGaWxlbmFtZQogICAgICogQHRocm93cyAgIFBIUEV4Y2VsX1JlYWRlcl9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGxpc3RXb3Jrc2hlZXRJbmZvKCRwRmlsZW5hbWUpCiAgICB7CiAgICAgICAgLy8gT3BlbiBmaWxlCiAgICAgICAgJHRoaXMtPm9wZW5GaWxlKCRwRmlsZW5hbWUpOwogICAgICAgIGlmICghJHRoaXMtPmlzVmFsaWRGb3JtYXQoKSkgewogICAgICAgICAgICBmY2xvc2UoJHRoaXMtPmZpbGVIYW5kbGUpOwogICAgICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfUmVhZGVyX0V4Y2VwdGlvbigkcEZpbGVuYW1lIC4gIiBpcyBhbiBJbnZhbGlkIFNwcmVhZHNoZWV0IGZpbGUuIik7CiAgICAgICAgfQogICAgICAgICRmaWxlSGFuZGxlID0gJHRoaXMtPmZpbGVIYW5kbGU7CiAgICAgICAgcmV3aW5kKCRmaWxlSGFuZGxlKTsKCiAgICAgICAgJHdvcmtzaGVldEluZm8gPSBhcnJheSgpOwogICAgICAgICR3b3Jrc2hlZXRJbmZvWzBdWyd3b3Jrc2hlZXROYW1lJ10gPSAnV29ya3NoZWV0JzsKICAgICAgICAkd29ya3NoZWV0SW5mb1swXVsnbGFzdENvbHVtbkxldHRlciddID0gJ0EnOwogICAgICAgICR3b3Jrc2hlZXRJbmZvWzBdWydsYXN0Q29sdW1uSW5kZXgnXSA9IDA7CiAgICAgICAgJHdvcmtzaGVldEluZm9bMF1bJ3RvdGFsUm93cyddID0gMDsKICAgICAgICAkd29ya3NoZWV0SW5mb1swXVsndG90YWxDb2x1bW5zJ10gPSAwOwoKICAgICAgICAvLyBMb29wIHRocm91Z2ggZmlsZQogICAgICAgICRyb3dEYXRhID0gYXJyYXkoKTsKCiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIG9uZSByb3cgKGxpbmUpIGF0IGEgdGltZSBpbiB0aGUgZmlsZQogICAgICAgICRyb3dJbmRleCA9IDA7CiAgICAgICAgd2hpbGUgKCgkcm93RGF0YSA9IGZnZXRzKCRmaWxlSGFuZGxlKSkgIT09IGZhbHNlKSB7CiAgICAgICAgICAgICRjb2x1bW5JbmRleCA9IDA7CgogICAgICAgICAgICAvLyBjb252ZXJ0IFNZTEsgZW5jb2RlZCAkcm93RGF0YSB0byBVVEYtOAogICAgICAgICAgICAkcm93RGF0YSA9IFBIUEV4Y2VsX1NoYXJlZF9TdHJpbmc6OlNZTEt0b1VURjgoJHJvd0RhdGEpOwoKICAgICAgICAgICAgLy8gZXhwbG9kZSBlYWNoIHJvdyBhdCBzZW1pY29sb25zIHdoaWxlIHRha2luZyBpbnRvIGFjY291bnQgdGhhdCBsaXRlcmFsIHNlbWljb2xvbiAoOykKICAgICAgICAgICAgLy8gaXMgZXNjYXBlZCBsaWtlIHRoaXMgKDs7KQogICAgICAgICAgICAkcm93RGF0YSA9IGV4cGxvZGUoIlx0Iiwgc3RyX3JlcGxhY2UoJ8KkJywgJzsnLCBzdHJfcmVwbGFjZSgnOycsICJcdCIsIHN0cl9yZXBsYWNlKCc7OycsICfCpCcsIHJ0cmltKCRyb3dEYXRhKSkpKSk7CgogICAgICAgICAgICAkZGF0YVR5cGUgPSBhcnJheV9zaGlmdCgkcm93RGF0YSk7CiAgICAgICAgICAgIGlmICgkZGF0YVR5cGUgPT0gJ0MnKSB7CiAgICAgICAgICAgICAgICAvLyAgUmVhZCBjZWxsIHZhbHVlIGRhdGEKICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRyb3dEYXRhIGFzICRyb3dEYXR1bSkgewogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoJHJvd0RhdHVtezB9KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0MnOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdYJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb2x1bW5JbmRleCA9IHN1YnN0cigkcm93RGF0dW0sIDEpIC0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdSJzoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnWSc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm93SW5kZXggPSBzdWJzdHIoJHJvd0RhdHVtLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgJHdvcmtzaGVldEluZm9bMF1bJ3RvdGFsUm93cyddID0gbWF4KCR3b3Jrc2hlZXRJbmZvWzBdWyd0b3RhbFJvd3MnXSwgJHJvd0luZGV4KTsKICAgICAgICAgICAgICAgICAgICAkd29ya3NoZWV0SW5mb1swXVsnbGFzdENvbHVtbkluZGV4J10gPSBtYXgoJHdvcmtzaGVldEluZm9bMF1bJ2xhc3RDb2x1bW5JbmRleCddLCAkY29sdW1uSW5kZXgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAkd29ya3NoZWV0SW5mb1swXVsnbGFzdENvbHVtbkxldHRlciddID0gUEhQRXhjZWxfQ2VsbDo6c3RyaW5nRnJvbUNvbHVtbkluZGV4KCR3b3Jrc2hlZXRJbmZvWzBdWydsYXN0Q29sdW1uSW5kZXgnXSk7CiAgICAgICAgJHdvcmtzaGVldEluZm9bMF1bJ3RvdGFsQ29sdW1ucyddID0gJHdvcmtzaGVldEluZm9bMF1bJ2xhc3RDb2x1bW5JbmRleCddICsgMTsKCiAgICAgICAgLy8gQ2xvc2UgZmlsZQogICAgICAgIGZjbG9zZSgkZmlsZUhhbmRsZSk7CgogICAgICAgIHJldHVybiAkd29ya3NoZWV0SW5mbzsKICAgIH0KCiAgICAvKioKICAgICAqIExvYWRzIFBIUEV4Y2VsIGZyb20gZmlsZQogICAgICoKICAgICAqIEBwYXJhbSAgICAgc3RyaW5nICAgICAgICAgJHBGaWxlbmFtZQogICAgICogQHJldHVybiAgICAgUEhQRXhjZWwKICAgICAqIEB0aHJvd3MgICAgIFBIUEV4Y2VsX1JlYWRlcl9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGxvYWQoJHBGaWxlbmFtZSkKICAgIHsKICAgICAgICAvLyBDcmVhdGUgbmV3IFBIUEV4Y2VsCiAgICAgICAgJG9ialBIUEV4Y2VsID0gbmV3IFBIUEV4Y2VsKCk7CgogICAgICAgIC8vIExvYWQgaW50byB0aGlzIGluc3RhbmNlCiAgICAgICAgcmV0dXJuICR0aGlzLT5sb2FkSW50b0V4aXN0aW5nKCRwRmlsZW5hbWUsICRvYmpQSFBFeGNlbCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBMb2FkcyBQSFBFeGNlbCBmcm9tIGZpbGUgaW50byBQSFBFeGNlbCBpbnN0YW5jZQogICAgICoKICAgICAqIEBwYXJhbSAgICAgc3RyaW5nICAgICAgICAgJHBGaWxlbmFtZQogICAgICogQHBhcmFtICAgIFBIUEV4Y2VsICAgICRvYmpQSFBFeGNlbAogICAgICogQHJldHVybiAgICAgUEhQRXhjZWwKICAgICAqIEB0aHJvd3MgICAgIFBIUEV4Y2VsX1JlYWRlcl9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGxvYWRJbnRvRXhpc3RpbmcoJHBGaWxlbmFtZSwgUEhQRXhjZWwgJG9ialBIUEV4Y2VsKQogICAgewogICAgICAgIC8vIE9wZW4gZmlsZQogICAgICAgICR0aGlzLT5vcGVuRmlsZSgkcEZpbGVuYW1lKTsKICAgICAgICBpZiAoISR0aGlzLT5pc1ZhbGlkRm9ybWF0KCkpIHsKICAgICAgICAgICAgZmNsb3NlKCR0aGlzLT5maWxlSGFuZGxlKTsKICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX1JlYWRlcl9FeGNlcHRpb24oJHBGaWxlbmFtZSAuICIgaXMgYW4gSW52YWxpZCBTcHJlYWRzaGVldCBmaWxlLiIpOwogICAgICAgIH0KICAgICAgICAkZmlsZUhhbmRsZSA9ICR0aGlzLT5maWxlSGFuZGxlOwogICAgICAgIHJld2luZCgkZmlsZUhhbmRsZSk7CgogICAgICAgIC8vIENyZWF0ZSBuZXcgUEhQRXhjZWwKICAgICAgICB3aGlsZSAoJG9ialBIUEV4Y2VsLT5nZXRTaGVldENvdW50KCkgPD0gJHRoaXMtPnNoZWV0SW5kZXgpIHsKICAgICAgICAgICAgJG9ialBIUEV4Y2VsLT5jcmVhdGVTaGVldCgpOwogICAgICAgIH0KICAgICAgICAkb2JqUEhQRXhjZWwtPnNldEFjdGl2ZVNoZWV0SW5kZXgoJHRoaXMtPnNoZWV0SW5kZXgpOwoKICAgICAgICAkZnJvbUZvcm1hdHMgICAgPSBhcnJheSgnXC0nLCAgICAnXCAnKTsKICAgICAgICAkdG9Gb3JtYXRzICAgICAgICA9IGFycmF5KCctJywgICAgJyAnKTsKCiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGZpbGUKICAgICAgICAkcm93RGF0YSA9IGFycmF5KCk7CiAgICAgICAgJGNvbHVtbiA9ICRyb3cgPSAnJzsKCiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIG9uZSByb3cgKGxpbmUpIGF0IGEgdGltZSBpbiB0aGUgZmlsZQogICAgICAgIHdoaWxlICgoJHJvd0RhdGEgPSBmZ2V0cygkZmlsZUhhbmRsZSkpICE9PSBmYWxzZSkgewogICAgICAgICAgICAvLyBjb252ZXJ0IFNZTEsgZW5jb2RlZCAkcm93RGF0YSB0byBVVEYtOAogICAgICAgICAgICAkcm93RGF0YSA9IFBIUEV4Y2VsX1NoYXJlZF9TdHJpbmc6OlNZTEt0b1VURjgoJHJvd0RhdGEpOwoKICAgICAgICAgICAgLy8gZXhwbG9kZSBlYWNoIHJvdyBhdCBzZW1pY29sb25zIHdoaWxlIHRha2luZyBpbnRvIGFjY291bnQgdGhhdCBsaXRlcmFsIHNlbWljb2xvbiAoOykKICAgICAgICAgICAgLy8gaXMgZXNjYXBlZCBsaWtlIHRoaXMgKDs7KQogICAgICAgICAgICAkcm93RGF0YSA9IGV4cGxvZGUoIlx0Iiwgc3RyX3JlcGxhY2UoJ8KkJywgJzsnLCBzdHJfcmVwbGFjZSgnOycsICJcdCIsIHN0cl9yZXBsYWNlKCc7OycsICfCpCcsIHJ0cmltKCRyb3dEYXRhKSkpKSk7CgogICAgICAgICAgICAkZGF0YVR5cGUgPSBhcnJheV9zaGlmdCgkcm93RGF0YSk7CiAgICAgICAgICAgIC8vICAgIFJlYWQgc2hhcmVkIHN0eWxlcwogICAgICAgICAgICBpZiAoJGRhdGFUeXBlID09ICdQJykgewogICAgICAgICAgICAgICAgJGZvcm1hdEFycmF5ID0gYXJyYXkoKTsKICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRyb3dEYXRhIGFzICRyb3dEYXR1bSkgewogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoJHJvd0RhdHVtezB9KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1AnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZvcm1hdEFycmF5WydudW1iZXJmb3JtYXQnXVsnY29kZSddID0gc3RyX3JlcGxhY2UoJGZyb21Gb3JtYXRzLCAkdG9Gb3JtYXRzLCBzdWJzdHIoJHJvd0RhdHVtLCAxKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnRSc6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0YnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZvcm1hdEFycmF5Wydmb250J11bJ25hbWUnXSA9IHN1YnN0cigkcm93RGF0dW0sIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0wnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZvcm1hdEFycmF5Wydmb250J11bJ3NpemUnXSA9IHN1YnN0cigkcm93RGF0dW0sIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1MnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0eWxlU2V0dGluZ3MgPSBzdWJzdHIoJHJvd0RhdHVtLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoJGk9MDsgJGk8c3RybGVuKCRzdHlsZVNldHRpbmdzKTsgKyskaSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoJHN0eWxlU2V0dGluZ3N7JGl9KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0knOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZvcm1hdEFycmF5Wydmb250J11bJ2l0YWxpYyddID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdEJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmb3JtYXRBcnJheVsnZm9udCddWydib2xkJ10gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1QnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZvcm1hdEFycmF5Wydib3JkZXJzJ11bJ3RvcCddWydzdHlsZSddID0gUEhQRXhjZWxfU3R5bGVfQm9yZGVyOjpCT1JERVJfVEhJTjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdCJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmb3JtYXRBcnJheVsnYm9yZGVycyddWydib3R0b20nXVsnc3R5bGUnXSA9IFBIUEV4Y2VsX1N0eWxlX0JvcmRlcjo6Qk9SREVSX1RISU47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnTCc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZm9ybWF0QXJyYXlbJ2JvcmRlcnMnXVsnbGVmdCddWydzdHlsZSddID0gUEhQRXhjZWxfU3R5bGVfQm9yZGVyOjpCT1JERVJfVEhJTjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdSJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmb3JtYXRBcnJheVsnYm9yZGVycyddWydyaWdodCddWydzdHlsZSddID0gUEhQRXhjZWxfU3R5bGVfQm9yZGVyOjpCT1JERVJfVEhJTjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICR0aGlzLT5mb3JtYXRzWydQJy4kdGhpcy0+Zm9ybWF0KytdID0gJGZvcm1hdEFycmF5OwogICAgICAgICAgICAvLyAgICBSZWFkIGNlbGwgdmFsdWUgZGF0YQogICAgICAgICAgICB9IGVsc2VpZiAoJGRhdGFUeXBlID09ICdDJykgewogICAgICAgICAgICAgICAgJGhhc0NhbGN1bGF0ZWRWYWx1ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgJGNlbGxEYXRhID0gJGNlbGxEYXRhRm9ybXVsYSA9ICcnOwogICAgICAgICAgICAgICAgZm9yZWFjaCAoJHJvd0RhdGEgYXMgJHJvd0RhdHVtKSB7CiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgkcm93RGF0dW17MH0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnQyc6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1gnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbHVtbiA9IHN1YnN0cigkcm93RGF0dW0sIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1InOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdZJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3cgPSBzdWJzdHIoJHJvd0RhdHVtLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdLJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjZWxsRGF0YSA9IHN1YnN0cigkcm93RGF0dW0sIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0UnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNlbGxEYXRhRm9ybXVsYSA9ICc9Jy5zdWJzdHIoJHJvd0RhdHVtLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIENvbnZlcnQgUjFDMSBzdHlsZSByZWZlcmVuY2VzIHRvIEExIHN0eWxlIHJlZmVyZW5jZXMgKGJ1dCBvbmx5IHdoZW4gbm90IHF1b3RlZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0ZW1wID0gZXhwbG9kZSgnIicsICRjZWxsRGF0YUZvcm11bGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGtleSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJHRlbXAgYXMgJiR2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIE9ubHkgY291bnQvcmVwbGFjZSBpbiBhbHRlcm5hdGUgYXJyYXkgZW50cmllcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgka2V5ID0gISRrZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZ19tYXRjaF9hbGwoJy8oUihcWz8tP1xkKlxdPykpKEMoXFs\/LT9cZCpcXT8pKS8nLCAkdmFsdWUsICRjZWxsUmVmZXJlbmNlcywgUFJFR19TRVRfT1JERVIrUFJFR19PRkZTRVRfQ0FQVFVSRSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIFJldmVyc2UgdGhlIG1hdGNoZXMgYXJyYXksIG90aGVyd2lzZSBhbGwgb3VyIG9mZnNldHMgd2lsbCBiZWNvbWUgaW5jb3JyZWN0IGlmIHdlIG1vZGlmeSBvdXIgd2F5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICB0aHJvdWdoIHRoZSBmb3JtdWxhIGZyb20gbGVmdCB0byByaWdodC4gUmV2ZXJzaW5nIG1lYW5zIHRoYXQgd2Ugd29yayByaWdodCB0byBsZWZ0LnRocm91Z2gKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIHRoZSBmb3JtdWxhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjZWxsUmVmZXJlbmNlcyA9IGFycmF5X3JldmVyc2UoJGNlbGxSZWZlcmVuY2VzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgTG9vcCB0aHJvdWdoIGVhY2ggUjFDMSBzdHlsZSByZWZlcmVuY2UgaW4gdHVybiwgY29udmVydGluZyBpdCB0byBpdHMgQTEgc3R5bGUgZXF1aXZhbGVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIHRoZW4gbW9kaWZ5IHRoZSBmb3JtdWxhIHRvIHVzZSB0aGF0IG5ldyByZWZlcmVuY2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJGNlbGxSZWZlcmVuY2VzIGFzICRjZWxsUmVmZXJlbmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm93UmVmZXJlbmNlID0gJGNlbGxSZWZlcmVuY2VbMl1bMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBFbXB0eSBSIHJlZmVyZW5jZSBpcyB0aGUgY3VycmVudCByb3cKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkcm93UmVmZXJlbmNlID09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvd1JlZmVyZW5jZSA9ICRyb3c7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBCcmFja2V0ZWQgUiByZWZlcmVuY2VzIGFyZSByZWxhdGl2ZSB0byB0aGUgY3VycmVudCByb3cKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkcm93UmVmZXJlbmNlezB9ID09ICdbJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3dSZWZlcmVuY2UgPSAkcm93ICsgdHJpbSgkcm93UmVmZXJlbmNlLCAnW10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb2x1bW5SZWZlcmVuY2UgPSAkY2VsbFJlZmVyZW5jZVs0XVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIEVtcHR5IEMgcmVmZXJlbmNlIGlzIHRoZSBjdXJyZW50IGNvbHVtbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRjb2x1bW5SZWZlcmVuY2UgPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29sdW1uUmVmZXJlbmNlID0gJGNvbHVtbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIEJyYWNrZXRlZCBDIHJlZmVyZW5jZXMgYXJlIHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IGNvbHVtbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRjb2x1bW5SZWZlcmVuY2V7MH0gPT0gJ1snKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbHVtblJlZmVyZW5jZSA9ICRjb2x1bW4gKyB0cmltKCRjb2x1bW5SZWZlcmVuY2UsICdbXScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEExQ2VsbFJlZmVyZW5jZSA9IFBIUEV4Y2VsX0NlbGw6OnN0cmluZ0Zyb21Db2x1bW5JbmRleCgkY29sdW1uUmVmZXJlbmNlLTEpLiRyb3dSZWZlcmVuY2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZhbHVlID0gc3Vic3RyX3JlcGxhY2UoJHZhbHVlLCAkQTFDZWxsUmVmZXJlbmNlLCAkY2VsbFJlZmVyZW5jZVswXVsxXSwgc3RybGVuKCRjZWxsUmVmZXJlbmNlWzBdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNldCgkdmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgVGhlbiByZWJ1aWxkIHRoZSBmb3JtdWxhIHN0cmluZwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNlbGxEYXRhRm9ybXVsYSA9IGltcGxvZGUoJyInLCAkdGVtcCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaGFzQ2FsY3VsYXRlZFZhbHVlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRjb2x1bW5MZXR0ZXIgPSBQSFBFeGNlbF9DZWxsOjpzdHJpbmdGcm9tQ29sdW1uSW5kZXgoJGNvbHVtbi0xKTsKICAgICAgICAgICAgICAgICRjZWxsRGF0YSA9IFBIUEV4Y2VsX0NhbGN1bGF0aW9uOjp1bndyYXBSZXN1bHQoJGNlbGxEYXRhKTsKCiAgICAgICAgICAgICAgICAvLyBTZXQgY2VsbCB2YWx1ZQogICAgICAgICAgICAgICAgJG9ialBIUEV4Y2VsLT5nZXRBY3RpdmVTaGVldCgpLT5nZXRDZWxsKCRjb2x1bW5MZXR0ZXIuJHJvdyktPnNldFZhbHVlKCgkaGFzQ2FsY3VsYXRlZFZhbHVlKSA\/ICRjZWxsRGF0YUZvcm11bGEgOiAkY2VsbERhdGEpOwogICAgICAgICAgICAgICAgaWYgKCRoYXNDYWxjdWxhdGVkVmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAkY2VsbERhdGEgPSBQSFBFeGNlbF9DYWxjdWxhdGlvbjo6dW53cmFwUmVzdWx0KCRjZWxsRGF0YSk7CiAgICAgICAgICAgICAgICAgICAgJG9ialBIUEV4Y2VsLT5nZXRBY3RpdmVTaGVldCgpLT5nZXRDZWxsKCRjb2x1bW5MZXR0ZXIuJHJvdyktPnNldENhbGN1bGF0ZWRWYWx1ZSgkY2VsbERhdGEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAvLyAgICBSZWFkIGNlbGwgZm9ybWF0dGluZwogICAgICAgICAgICB9IGVsc2VpZiAoJGRhdGFUeXBlID09ICdGJykgewogICAgICAgICAgICAgICAgJGZvcm1hdFN0eWxlID0gJGNvbHVtbldpZHRoID0gJHN0eWxlU2V0dGluZ3MgPSAnJzsKICAgICAgICAgICAgICAgICRzdHlsZURhdGEgPSBhcnJheSgpOwogICAgICAgICAgICAgICAgZm9yZWFjaCAoJHJvd0RhdGEgYXMgJHJvd0RhdHVtKSB7CiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgkcm93RGF0dW17MH0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnQyc6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1gnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbHVtbiA9IHN1YnN0cigkcm93RGF0dW0sIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1InOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdZJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3cgPSBzdWJzdHIoJHJvd0RhdHVtLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdQJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmb3JtYXRTdHlsZSA9ICRyb3dEYXR1bTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdXJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QoJHN0YXJ0Q29sLCAkZW5kQ29sLCAkY29sdW1uV2lkdGgpID0gZXhwbG9kZSgnICcsIHN1YnN0cigkcm93RGF0dW0sIDEpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdTJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdHlsZVNldHRpbmdzID0gc3Vic3RyKCRyb3dEYXR1bSwgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCRpPTA7ICRpPHN0cmxlbigkc3R5bGVTZXR0aW5ncyk7ICsrJGkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCRzdHlsZVNldHRpbmdzeyRpfSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdJJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdHlsZURhdGFbJ2ZvbnQnXVsnaXRhbGljJ10gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0QnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0eWxlRGF0YVsnZm9udCddWydib2xkJ10gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1QnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0eWxlRGF0YVsnYm9yZGVycyddWyd0b3AnXVsnc3R5bGUnXSA9IFBIUEV4Y2VsX1N0eWxlX0JvcmRlcjo6Qk9SREVSX1RISU47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnQic6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3R5bGVEYXRhWydib3JkZXJzJ11bJ2JvdHRvbSddWydzdHlsZSddID0gUEhQRXhjZWxfU3R5bGVfQm9yZGVyOjpCT1JERVJfVEhJTjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdMJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdHlsZURhdGFbJ2JvcmRlcnMnXVsnbGVmdCddWydzdHlsZSddID0gUEhQRXhjZWxfU3R5bGVfQm9yZGVyOjpCT1JERVJfVEhJTjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdSJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdHlsZURhdGFbJ2JvcmRlcnMnXVsncmlnaHQnXVsnc3R5bGUnXSA9IFBIUEV4Y2VsX1N0eWxlX0JvcmRlcjo6Qk9SREVSX1RISU47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoKCRmb3JtYXRTdHlsZSA+ICcnKSAmJiAoJGNvbHVtbiA+ICcnKSAmJiAoJHJvdyA+ICcnKSkgewogICAgICAgICAgICAgICAgICAgICRjb2x1bW5MZXR0ZXIgPSBQSFBFeGNlbF9DZWxsOjpzdHJpbmdGcm9tQ29sdW1uSW5kZXgoJGNvbHVtbi0xKTsKICAgICAgICAgICAgICAgICAgICBpZiAoaXNzZXQoJHRoaXMtPmZvcm1hdHNbJGZvcm1hdFN0eWxlXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJG9ialBIUEV4Y2VsLT5nZXRBY3RpdmVTaGVldCgpLT5nZXRTdHlsZSgkY29sdW1uTGV0dGVyLiRyb3cpLT5hcHBseUZyb21BcnJheSgkdGhpcy0+Zm9ybWF0c1skZm9ybWF0U3R5bGVdKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoKCFlbXB0eSgkc3R5bGVEYXRhKSkgJiYgKCRjb2x1bW4gPiAnJykgJiYgKCRyb3cgPiAnJykpIHsKICAgICAgICAgICAgICAgICAgICAkY29sdW1uTGV0dGVyID0gUEhQRXhjZWxfQ2VsbDo6c3RyaW5nRnJvbUNvbHVtbkluZGV4KCRjb2x1bW4tMSk7CiAgICAgICAgICAgICAgICAgICAgJG9ialBIUEV4Y2VsLT5nZXRBY3RpdmVTaGVldCgpLT5nZXRTdHlsZSgkY29sdW1uTGV0dGVyLiRyb3cpLT5hcHBseUZyb21BcnJheSgkc3R5bGVEYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkY29sdW1uV2lkdGggPiAnJykgewogICAgICAgICAgICAgICAgICAgIGlmICgkc3RhcnRDb2wgPT0gJGVuZENvbCkgewogICAgICAgICAgICAgICAgICAgICAgICAkc3RhcnRDb2wgPSBQSFBFeGNlbF9DZWxsOjpzdHJpbmdGcm9tQ29sdW1uSW5kZXgoJHN0YXJ0Q29sLTEpOwogICAgICAgICAgICAgICAgICAgICAgICAkb2JqUEhQRXhjZWwtPmdldEFjdGl2ZVNoZWV0KCktPmdldENvbHVtbkRpbWVuc2lvbigkc3RhcnRDb2wpLT5zZXRXaWR0aCgkY29sdW1uV2lkdGgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzdGFydENvbCA9IFBIUEV4Y2VsX0NlbGw6OnN0cmluZ0Zyb21Db2x1bW5JbmRleCgkc3RhcnRDb2wtMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICRlbmRDb2wgPSBQSFBFeGNlbF9DZWxsOjpzdHJpbmdGcm9tQ29sdW1uSW5kZXgoJGVuZENvbC0xKTsKICAgICAgICAgICAgICAgICAgICAgICAgJG9ialBIUEV4Y2VsLT5nZXRBY3RpdmVTaGVldCgpLT5nZXRDb2x1bW5EaW1lbnNpb24oJHN0YXJ0Q29sKS0+c2V0V2lkdGgoJGNvbHVtbldpZHRoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG8gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJG9ialBIUEV4Y2VsLT5nZXRBY3RpdmVTaGVldCgpLT5nZXRDb2x1bW5EaW1lbnNpb24oKyskc3RhcnRDb2wpLT5zZXRXaWR0aCgkY29sdW1uV2lkdGgpOwogICAgICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICgkc3RhcnRDb2wgIT0gJGVuZENvbCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZm9yZWFjaCAoJHJvd0RhdGEgYXMgJHJvd0RhdHVtKSB7CiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgkcm93RGF0dW17MH0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnQyc6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1gnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbHVtbiA9IHN1YnN0cigkcm93RGF0dW0sIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1InOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdZJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3cgPSBzdWJzdHIoJHJvd0RhdHVtLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gQ2xvc2UgZmlsZQogICAgICAgIGZjbG9zZSgkZmlsZUhhbmRsZSk7CgogICAgICAgIC8vIFJldHVybgogICAgICAgIHJldHVybiAkb2JqUEhQRXhjZWw7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgc2hlZXQgaW5kZXgKICAgICAqCiAgICAgKiBAcmV0dXJuIGludAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0U2hlZXRJbmRleCgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5zaGVldEluZGV4OwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHNoZWV0IGluZGV4CiAgICAgKgogICAgICogQHBhcmFtICAgIGludCAgICAgICAgJHBWYWx1ZSAgICAgICAgU2hlZXQgaW5kZXgKICAgICAqIEByZXR1cm4gUEhQRXhjZWxfUmVhZGVyX1NZTEsKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHNldFNoZWV0SW5kZXgoJHBWYWx1ZSA9IDApCiAgICB7CiAgICAgICAgJHRoaXMtPnNoZWV0SW5kZXggPSAkcFZhbHVlOwogICAgICAgIHJldHVybiAkdGhpczsKICAgIH0KfQo=",
    "size": "19628"
}