{
    "namaFile": "pages\/ref\/ref_images\/ref_images.php",
    "lastUpdate": "2017-10-25+17:10:52.37",
    "contentFile": "PD9waHANCg0KY2xhc3MgcmVmX2ltYWdlc09iaiAgZXh0ZW5kcyBEYWZ0YXJPYmoyeyANCiAgdmFyICRQcmVmaXggPSAncmVmX2ltYWdlcyc7DQogIHZhciAkZWxDdXJyUGFnZT0iSGFsRGVmYXVsdCI7DQogIHZhciAkU0hPV19DRUsgPSBUUlVFOw0KICB2YXIgJFRibE5hbWUgPSAnaW1hZ2VzJzsgLy9ib251cw0KICB2YXIgJFRibE5hbWVfSGFwdXMgPSAnaW1hZ2VzJzsNCiAgdmFyICRNYXhGbHVzaCA9IDEwOw0KICB2YXIgJFRibFN0eWxlID0gYXJyYXkoICdrb3B0YWJsZScsICdjZXRhaycsJ2NldGFrJyk7IC8vYmVyZGFzYXIgbW9kZQ0KICB2YXIgJENvbFN0eWxlID0gYXJyYXkoICdHYXJpc0RhZnRhcicsICdHYXJpc0NldGFrJywnR2FyaXNDZXRhaycpOw0KICB2YXIgJEtleUZpZWxkcyA9IGFycmF5KCdpZCcpOyAvL3ByaW1hcnkga2V5IGRhcmkgc2VidWFoIHRhYmxlDQogIHZhciAkRmllbGRTdW0gPSBhcnJheSgpOy8vYXJyYXkoJ2ptbF9oYXJnYScpOw0KICB2YXIgJFN1bVZhbHVlID0gYXJyYXkoKTsNCiAgdmFyICRGaWVsZFN1bV9DcDEgPSBhcnJheSggMTQsIDEzLCAxMyk7Ly9iZXJkYXNhciBtb2RlDQogIHZhciAkRmllbGRTdW1fQ3AyID0gYXJyYXkoIDEsIDEsIDEpOyAgDQogIHZhciAkY2hlY2tib3hfcm93c3BhbiA9IDI7DQogIHZhciAkUGFnZVRpdGxlID0gJ0lNQUdFUyBNQU5BR0VNRU5UJzsNCiAgdmFyICRQYWdlSWNvbiA9ICdpbWFnZXMvbWFzdGVyZGF0YV9pY28uZ2lmJzsNCiAgdmFyICRwYWdlUGVySGFsID0nJzsNCiAgLy92YXIgJGNldGFrX3hscz1UUlVFIDsNCiAgdmFyICRmaWxlTmFtZUV4Y2VsPSdyZWZfaW1hZ2VzLnhscyc7DQogIHZhciAkbmFtYU1vZHVsQ2V0YWs9J01BU1RFUiBEQVRBJzsNCiAgdmFyICRDZXRha19KdWR1bCA9ICdyZWZfaW1hZ2VzJzsgDQogIHZhciAkQ2V0YWtfTW9kZT0yOw0KICB2YXIgJENldGFrX1dJRFRIID0gJzMwY20nOw0KICB2YXIgJENldGFrX090aGVySFRNTEhlYWQ7DQogIHZhciAkRm9ybU5hbWUgPSAncmVmX2ltYWdlc0Zvcm0nOw0KICB2YXIgJG5vTW9kdWw9OTsgDQogIHZhciAkVGFtcGlsRmlsdGVyQ29sYXBzZSA9IDA7IC8vMA0KICB2YXIgJHVzZXJuYW1lID0gIiI7DQogIA0KICBmdW5jdGlvbiBzZXRUaXRsZSgpew0KICAgIHJldHVybiAnSU1BR0VTIE1BTkFHRU1FTlQnOw0KICB9DQogIGZ1bmN0aW9uIHNldFBhZ2VfSGVhZGVyT3RoZXIoKXsNCiAgIAkJDQoJCXJldHVybiANCgkJIjx0YWJsZSB3aWR0aD1cIjEwMCVcIiBjbGFzcz1cIm1lbnViYXJcIiBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIiBib3JkZXI9XCIwXCIgc3R5bGU9J21hcmdpbjowIDAgMCAwJz4NCgkJPHRyPg0KCQk8dGQgY2xhc3M9XCJtZW51ZG90dGVkbGluZVwiIHdpZHRoPVwiNDAlXCIgaGVpZ2h0PVwiMjBcIiBzdHlsZT0ndGV4dC1hbGlnbjpyaWdodCc+PEI+DQoJCTxBIGhyZWY9XCJwYWdlcy5waHA\/UGc9Z2VuZXJhbFNldHRpbmdcIiAgID4gU0VUVElORyA8L2E+IHwNCgkJPEEgaHJlZj1cInBhZ2VzLnBocD9QZz1vbmVwYWdlXCIgICA+IFNZU1RFTSA8L2E+IHwNCgkJPEEgaHJlZj1cInBhZ2VzLnBocD9QZz1tZW51QmFyXCIgICA+IE1FTlUgQkFSIDwvYT4gfA0KCQk8QSBocmVmPVwicGFnZXMucGhwP1BnPXNob3J0Y3V0XCIgICA+IFNIT1JUQ1VUIDwvYT4gfA0KCQkNCgkJPEEgaHJlZj1cInBhZ2VzLnBocD9QZz1mb290ZXJcIiAgID4gRk9PVEVSIDwvYT4gfA0KICAgIDxBIGhyZWY9XCJwYWdlcy5waHA\/UGc9cmVmX2ltYWdlc1wiIHN0eWxlPSdjb2xvciA6IGJsdWU7JyAgPiBJTUFHRVMgPC9hPiB8DQoJCSZuYnNwJm5ic3AmbmJzcAkNCgkJPC90ZD4NCgkJPC90cj4NCgkJPC90YWJsZT4iDQoJCTsNCgl9CQ0KICBmdW5jdGlvbiBzZXRNZW51RWRpdCgpew0KICAgICRnZXRVc2VySW5mbyA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIGFkbWluIHdoZXJlIHVpZCA9JyR0aGlzLT51c2VybmFtZSciKSk7DQogICAgZm9yZWFjaCAoJGdldFVzZXJJbmZvIGFzICRrZXkgPT4gJHZhbHVlKSB7IA0KICAgICAgICAkJGtleSA9ICR2YWx1ZTsgDQogICAgICB9IA0KICAgIA0KICAgICAgcmV0dXJuDQogICAgICAgICAgICAvKiAgICAgICI8dGQ+Ii5nZW5QYW5lbEljb24oImphdmFzY3JpcHQ6Ii4kdGhpcy0+UHJlZml4LiIuVXBsb2FkKCkiLCJ1cGxvYWQucG5nIiwiVXBsb2FkIiwgJ1VwbG9hZCcpLiI8L3RkPiIuKi8NCiAgICAgICAgIjx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5CYXJ1KCkiLCJzZWN0aW9ucy5wbmciLCJCYXJ1IiwgJ0JhcnUnKS4iPC90ZD4iLg0KDQogICAgICAgICI8dGQ+Ii5nZW5QYW5lbEljb24oImphdmFzY3JpcHQ6Ii4kdGhpcy0+UHJlZml4LiIuRWRpdCgpIiwiZWRpdF9mMi5wbmciLCJFZGl0IiwgJ0VkaXQnKS4iPC90ZD4iLg0KICAgICAgICAiPHRkPiIuZ2VuUGFuZWxJY29uKCJqYXZhc2NyaXB0OiIuJHRoaXMtPlByZWZpeC4iLkhhcHVzKCkiLCJkZWxldGVfZjIucG5nIiwiSGFwdXMiLCAnSGFwdXMnKS4iPC90ZD4iOyANCg0KICB9DQogIA0KICBmdW5jdGlvbiBzZXRNZW51Vmlldygpew0KICAgIHJldHVybiAiIjsNCiAgICAgIA0KICB9DQogIA0KICAgIA0KICANCiAgZnVuY3Rpb24gc2ltcGFuRWRpdCgpew0KICAgZ2xvYmFsICRIVFRQX0NPT0tJRV9WQVJTOw0KICAgZ2xvYmFsICRNYWluOw0KICAgJHVpZCA9ICRIVFRQX0NPT0tJRV9WQVJTWydjb0lEJ107DQogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOw0KICAgLy9nZXQgZGF0YSAtLS0tLS0tLS0tLS0tLS0tLQ0KICAgJGZtU1QgPSAkX1JFUVVFU1RbJHRoaXMtPlByZWZpeC4nX2ZtU1QnXTsNCiAgICRpZHBsaCA9ICRfUkVRVUVTVFskdGhpcy0+UHJlZml4LidfaWRwbGgnXTsNCiAgDQogICRkaz0gJF9SRVFVRVNUWydrJ107DQogICRkbD0gJF9SRVFVRVNUWydsJ107DQogICRkbT0gJF9SRVFVRVNUWydtJ107DQogICRkbj0gJF9SRVFVRVNUWyduJ107DQogICRkbz0gJF9SRVFVRVNUWydvJ107DQogICRuYW1hPSAkX1JFUVVFU1RbJ25tXyddOw0KICANCg0KICAvLyRrZSA9IHN1YnN0cigka2UsMSwxKTsNCiAgDQogICAgICAgICAgICAgICAgDQogIGlmKCRlcnI9PScnKXsgICAgICAgICAgIA0KICAgIA0KICAkYXFyeSA9ICJVUERBVEUgIHNldCBrPSckZGsnLGw9JyRkbCcsbT0nJGRtJyxuPSckZG4nLG89JyRkbycsbm1fPSckbmFtYScgd2hlcmUgY29uY2F0IChrLCcgJyxsLCcgJyxtLCcgJyxuLCcgJyxvKT0nIi4kaWRwbGguIiciOyRjZWsgLj0gJGFxcnk7DQogICAgICAgICAgICAkcXJ5ID0gbXlzcWxfcXVlcnkoJGFxcnkpOw0KICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOyAgDQogICAgfSANCiAgDQoNCiAgZnVuY3Rpb24gYmFzZVRvSW1hZ2UoJGJhc2U2NF9zdHJpbmcsICRvdXRwdXRfZmlsZSkgew0KDQoJICAgICRpZnAgPSBmb3BlbiggJG91dHB1dF9maWxlLCAnd2InICk7IA0KCSAgICAkZGF0YSA9IGV4cGxvZGUoICcsJywgJGJhc2U2NF9zdHJpbmcgKTsNCg0KCSAgICBmd3JpdGUoICRpZnAsIGJhc2U2NF9kZWNvZGUoICRkYXRhWyAxIF0gKSApOw0KDQoJICAgIGZjbG9zZSggJGlmcCApOyANCgkNCgkgICAgcmV0dXJuICRvdXRwdXRfZmlsZTsgDQoJfQ0KICBmdW5jdGlvbiBzaW1wYW4oKXsNCiAgIGdsb2JhbCAkSFRUUF9DT09LSUVfVkFSUzsNCiAgIGdsb2JhbCAkTWFpbjsNCiAgICR1aWQgPSAkSFRUUF9DT09LSUVfVkFSU1snY29JRCddOw0KICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgJGpzb249VFJVRTsNCiAgLy9nZXQgZGF0YSAtLS0tLS0tLS0tLS0tLS0tLQ0KICAgJGZtU1QgPSAkX1JFUVVFU1RbJHRoaXMtPlByZWZpeC4nX2ZtU1QnXTsNCiAgICRpZHBsaCA9ICRfUkVRVUVTVFskdGhpcy0+UHJlZml4LidfaWRwbGgnXTsNCiAgICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgeyANCiAgICAgICAgICAkJGtleSA9ICR2YWx1ZTsgDQogICAgICAgIH0NCiAgICBpZihlbXB0eSgkbmFtYSkpew0KCQkkZXJyID0gIklzaSBOYW1hIjsNCgl9ZWxzZWlmKGVtcHR5KCRjbWJLYXRlZ29yaSkpew0KCQkkZXJyID0gIlBpbGloIEthdGVnb3JpIjsNCgl9DQogICAgICBpZigkZm1TVCA9PSAwKXsNCgkgIAlpZihlbXB0eSgkbmFtZU9mRmlsZSkpJGVycj0iUGlsaWggRmlsZSI7DQogICAgICAgIGlmKCRlcnIgPT0gJycpew0KCQkJJGdldEthdGVnb3JpTmFtZSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIGltYWdlc19rYXRlZ29yaSB3aGVyZSBpZCA9JyRjbWJLYXRlZ29yaSciKSk7DQoJCQkkbmFtYUthdGVnb3JpID0gJGdldEthdGVnb3JpTmFtZVsnbmFtYSddOwkJCQ0KCQkJJGFycmF5RmlsZSA9IGV4cGxvZGUoJy4nLCRuYW1lT2ZGaWxlKTsNCgkJCSRwYW5qYW5nQXJyYXkgPSBzaXplb2YoJGFycmF5RmlsZSkgLSAxOw0KCQkJJGV4dGVuc2lGaWxlID0gICRhcnJheUZpbGVbJHBhbmphbmdBcnJheV07DQoJCQkkZmlsZU5hbWUgPSBtZDUoJG5hbWEpLiIuIi4kZXh0ZW5zaUZpbGU7DQoJCQkkaW1hZ2VMb2NhdGlvbiA9ICJNZWRpYS9pbWFnZXMvIi4kbmFtYUthdGVnb3JpLiIvIi5tZDUoJG5hbWEpLiIuIi4kZXh0ZW5zaUZpbGU7CQ0KCQkJJHRoaXMtPmJhc2VUb0ltYWdlKCRiYXNlT2ZGaWxlLCRpbWFnZUxvY2F0aW9uKTsNCgkJICANCiAgICAgICAgICAkZGF0YSA9IGFycmF5KA0KICAgICAgICAgICAgICAgICAgJ25hbWEnID0+ICRuYW1hLA0KICAgICAgICAgICAgICAgICAgJ2thdGVnb3JpJyA9PiAkY21iS2F0ZWdvcmksDQogICAgICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwNCgkJCQkgICdkaXJlY3RvcnknID0+ICRmaWxlTmFtZSwNCiAgICAgICAgICAgICAgICAgICd0YW5nZ2FsX3VwbG9hZCcgPT4gJHRhbmdnYWwsDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICBteXNxbF9xdWVyeShWdWxuV2Fsa2VySW5zZXJ0KCdpbWFnZXMnLCRkYXRhKSk7DQogICAgICAgICAgJGNlayA9IFZ1bG5XYWxrZXJJbnNlcnQoJ2ltYWdlcycsJGRhdGEpOw0KICAgICAgICB9DQogICAgICB9ZWxzZXsgICAgICAgICAgICANCiAgICAJCSAkdGFuZ2dhbF91cGRhdGUgPSBleHBsb2RlKCctJywkdGFuZ2dhbF91cGRhdGUpOw0KCQkJaWYoIWVtcHR5KCRuYW1lT2ZGaWxlKSl7DQoJCQkJJGdldERhdGFTZW11bGEgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSAkdGhpcy0+VGJsTmFtZSB3aGVyZSBpZD0nJGh1YmxhJyIpKTsNCgkJCQkkZ2V0TmFtYUthdGVnb3JpU2VtdWxhID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gaW1hZ2VzX2thdGVnb3JpIHdoZXJlIGlkID0nIi4kZ2V0RGF0YVNlbXVsYVsna2F0ZWdvcmknXS4iJyIpKTsJDQoJCQkJJG9sZEZpbGVOYW1lID0gIk1lZGlhL2ltYWdlcy8iLiRnZXROYW1hS2F0ZWdvcmlTZW11bGFbJ25hbWEnXS4iLyIuJGdldERhdGFTZW11bGFbJ2RpcmVjdG9yeSddOw0KCQkJCXVubGluaygkb2xkRmlsZU5hbWUpOw0KCQkJDQoJCQkJJGdldEthdGVnb3JpTmFtZSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIGltYWdlc19rYXRlZ29yaSB3aGVyZSBpZCA9JyRjbWJLYXRlZ29yaSciKSk7DQoJCQkJJG5hbWFLYXRlZ29yaSA9ICRnZXRLYXRlZ29yaU5hbWVbJ25hbWEnXTsJCQkNCgkJCQkkYXJyYXlGaWxlID0gZXhwbG9kZSgnLicsJG5hbWVPZkZpbGUpOw0KCQkJCSRwYW5qYW5nQXJyYXkgPSBzaXplb2YoJGFycmF5RmlsZSkgLSAxOw0KCQkJCSRleHRlbnNpRmlsZSA9ICAkYXJyYXlGaWxlWyRwYW5qYW5nQXJyYXldOw0KCQkJCSRmaWxlTmFtZSA9IG1kNSgkbmFtYSkuIi4iLiRleHRlbnNpRmlsZTsNCgkJCQkkaW1hZ2VMb2NhdGlvbiA9ICJNZWRpYS9pbWFnZXMvIi4kbmFtYUthdGVnb3JpLiIvIi5tZDUoJG5hbWEpLiIuIi4kZXh0ZW5zaUZpbGU7CQ0KCQkJCSR0aGlzLT5iYXNlVG9JbWFnZSgkYmFzZU9mRmlsZSwkaW1hZ2VMb2NhdGlvbik7DQoJCQl9CSAgDQoJCQkgIA0KICAgICAgICAgICAkZGF0YSA9IGFycmF5KA0KICAgICAgICAgICAgICAgICAgJ25hbWEnID0+ICRuYW1hLA0KICAgICAgICAgICAgICAgICAgJ2thdGVnb3JpJyA9PiAkY21iS2F0ZWdvcmksDQogICAgICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwNCiAgICAgICAgICAgICAgICAgICd0YW5nZ2FsX3VwbG9hZCcgPT4gJHRhbmdnYWwsDQoJCQkJICAnZGlyZWN0b3J5JyA9PiAkZmlsZU5hbWUsDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgbXlzcWxfcXVlcnkoVnVsbldhbGtlclVwZGF0ZSgnaW1hZ2VzJywkZGF0YSwiaWQ9JyRodWJsYSciKSk7DQogICAgICAgICRjZWsgPSBWdWxuV2Fsa2VyVXBkYXRlKCdpbWFnZXMnLCRkYXRhLCJpZD0nJGh1YmxhJyIpOw0KICAgICAgfSANCiAgICAgICAgICAkY2VrID0kbmFtYV9maWxlOw0KICAgICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50KTsgIA0KICAgIH0gDQogIA0KICBmdW5jdGlvbiBzZXRfc2VsZWN0b3Jfb3RoZXIyKCR0aXBlKXsNCiAgIGdsb2JhbCAkTWFpbjsNCiAgICRjZWsgPSAnJzsgJGVycj0nJzsgJGNvbnRlbnQ9Jyc7ICRqc29uPVRSVUU7DQogICAgDQogICByZXR1cm4gYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCwgJ2pzb24nPT4kanNvbik7DQogIH0NCiAgDQogIGZ1bmN0aW9uIHNldF9zZWxlY3Rvcl9vdGhlcigkdGlwZSl7DQogICBnbG9iYWwgJE1haW47DQogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOw0KICAgIA0KICAgIHN3aXRjaCgkdGlwZSl7DQoJDQoJCWNhc2UgJ3Nob3dJbWFnZSc6ewkJCQkNCgkJCSRmbSA9ICR0aGlzLT5zaG93SW1hZ2UoJF9SRVFVRVNUWydpZCddKTsJCQkJDQoJCQkkY2VrID0gJGZtWydjZWsnXTsNCgkJCSRlcnIgPSAkZm1bJ2VyciddOw0KCQkJJGNvbnRlbnQgPSAkZm1bJ2NvbnRlbnQnXTsJCQkJCQkJCQkJCQkNCgkJYnJlYWs7DQoJCX0NCiAgICBjYXNlICdnZXRkYXRhJzp7DQogICAgICAgICRJZCA9ICRfUkVRVUVTVFsnaWQnXTsNCiAgICAgICAgJGsgPSBzdWJzdHIoJElkLCAwLDEpOw0KICAgICAgICAkbCA9IHN1YnN0cigkSWQsIDIsMSk7DQogICAgICAgICRtID0gc3Vic3RyKCRJZCwgNCwxKTsNCiAgICAgICAgJG4gPSBzdWJzdHIoJElkLCA2LDIpOw0KICAgICAgICAkbyA9IHN1YnN0cigkSWQsIDksMik7DQogICAgICAgICRnZXQgPSBteXNxbF9mZXRjaF9hcnJheSggbXlzcWxfcXVlcnkoInNlbGVjdCAqLCBjb25jYXQoaywnLicsbCwnLicsbSwnLicsbiwnLicsbykgYXMga29kZSAgZnJvbSAgd2hlcmUgaz0nJGsnIEFORCBsPSckbCcgQU5EIG09JyRtJyBBTkQgbj0nJG4nIEFORCBvPSckbyciKSk7DQogICAgICANCiAgICAgICAgDQogICAgICAgICRjb250ZW50ID0gYXJyYXkoJ2tvZGVfJyA9PiAkZ2V0Wydrb2RlJ10sICdubV8nID0+ICRnZXRbJ25tXyddKTsNCiAgICAgICAgICANCiAgICAgICAgDQogICAgYnJlYWs7DQogICAgICB9DQogICAgDQogICAgY2FzZSAnbW9kdWwnOnsNCiAgICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7IA0KICAgICAgICAgICQka2V5ID0gJHZhbHVlOyANCiAgICAgICAgfQ0KICAgICAgICBteXNxbF9xdWVyeSgiZGVsZXRlIGZyb20gdGVtcF9yaW5jaWFuX2FwbGlrYXNpX3BlbWRhIHdoZXJlIHVzZXJuYW1lID0gJyR0aGlzLT51c2VybmFtZSciKTsgIA0KICAgICAgICAkaWRQZW5nZ3VuYUFwbGlrYXNpID0gJF9jYlswXTsNCiAgICAgICAgJGdldElkQXBsaWthc2kgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSAkdGhpcy0+VGJsTmFtZSB3aGVyZSBpZCA9ICckaWRQZW5nZ3VuYUFwbGlrYXNpJyIpKTsNCiAgICAgICAgJGlkQXBsaWthc2kgPSAkZ2V0SWRBcGxpa2FzaVsnaWRfYXBsaWthc2knXTsNCiAgICAgICAgJGdyYWJpbmdBbGxTdWJNb2R1bCA9IG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9hcGxpa2FzaSB3aGVyZSBrb2RlX2FwbGlrYXNpID0gJyRpZEFwbGlrYXNpJyBhbmQga29kZV9tb2R1bCAhPSAnMCcgYW5kIGtvZGVfc3ViX21vZHVsICE9JzAnIik7DQogICAgICAgIHdoaWxlKCRyb3dzID0gbXlzcWxfZmV0Y2hfYXJyYXkoJGdyYWJpbmdBbGxTdWJNb2R1bCkpew0KICAgICAgICAgICAgZm9yZWFjaCAoJHJvd3MgYXMgJGtleSA9PiAkdmFsdWUpIHsgDQogICAgICAgICAgICAkJGtleSA9ICR2YWx1ZTsgDQogICAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICAgIGlmKG15c3FsX251bV9yb3dzKG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJpbmNpYW5fYXBsaWthc2lfcGVtZGEgd2hlcmUgaWRfYXBsaWthc2lfcGVtZGE9ICckaWRQZW5nZ3VuYUFwbGlrYXNpJyBhbmQgaWRfcGVtZGEgPSAnIi4kZ2V0SWRBcGxpa2FzaVsnaWRfcGVtZGEnXS4iJyBhbmQgaWRfYXBsaWthc2kgPSAnJGtvZGVfYXBsaWthc2knIGFuZCBpZF9tb2R1bCA9ICcka29kZV9tb2R1bCcgYW5kIGlkX3N1Yl9tb2R1bCA9ICcka29kZV9zdWJfbW9kdWwnIikpICE9IDApew0KICAgICAgICAgICAgJHN0YXR1cyA9ICJjaGVja2VkIjsNCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICRzdGF0dXMgPSAiIjsNCiAgICAgICAgICB9DQogICAgICAgICAgICAkZGF0YSA9IGFycmF5KCAgDQogICAgICAgICAgICAgICAgICAnaWRfYXBsaWthc2lfcGVtZGEnID0+ICRpZFBlbmdndW5hQXBsaWthc2ksDQogICAgICAgICAgICAgICAgICAnaWRfcGVtZGEnID0+ICRnZXRJZEFwbGlrYXNpWydpZF9wZW1kYSddLA0KICAgICAgICAgICAgICAgICAgJ2lkX2FwbGlrYXNpJyA9PiAka29kZV9hcGxpa2FzaSwNCiAgICAgICAgICAgICAgICAgICdpZF9tb2R1bCcgPT4gJGtvZGVfbW9kdWwsDQogICAgICAgICAgICAgICAgICAnaWRfc3ViX21vZHVsJyA9PiAka29kZV9zdWJfbW9kdWwsDQogICAgICAgICAgICAgICAgICAnc3RhdHVzJyA9PiAkc3RhdHVzLA0KICAgICAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUsDQogICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgIG15c3FsX3F1ZXJ5KFZ1bG5XYWxrZXJJbnNlcnQoInRlbXBfcmluY2lhbl9hcGxpa2FzaV9wZW1kYSIsJGRhdGEpKTsNCiAgICAgICAgICAkY2VrID0ic2VsZWN0ICogZnJvbSByaW5jaWFuX2FwbGlrYXNpX3BlbWRhIHdoZXJlIGlkX2FwbGlrYXNpX3BlbWRhPSAnJGlkUGVuZ2d1bmFBcGxpa2FzaScgYW5kIGlkX3BlbWRhID0gJyIuJGdldElkQXBsaWthc2lbJ2lkX3BlbWRhJ10uIicgYW5kIGlkX2FwbGlrYXNpID0gJyRrb2RlX2FwbGlrYXNpJyBhbmQgaWRfbW9kdWwgPSAnJGtvZGVfbW9kdWwnIGFuZCBpZF9zdWJfbW9kdWwgPSAnJGtvZGVfc3ViX21vZHVsJyI7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgICRjb250ZW50ID0gYXJyYXkoJ2lkQXBsaWthc2knPT4kaWRBcGxpa2FzaSk7DQogICAgYnJlYWs7DQogICAgICB9DQoNCiAgICBjYXNlICdmb3JtQmFydVN1Yk1vZHVsJzp7ICAgICANCiAgICAgICAgJGlkX2thdGVnb3JpID0gJF9SRVFVRVNUWydpZF9rYXRlZ29yaSddOw0KICAgICAgICAkZm0gPSAkdGhpcy0+c2V0Rm9ybUJhcnVTdWJNb2R1bCgkaWRfa2F0ZWdvcmkpOyAgICAgICAgDQogICAgICAgICRjZWsgPSAkZm1bJ2NlayddOw0KICAgICAgICAkZXJyID0gJGZtWydlcnInXTsNCiAgICAgICAgJGNvbnRlbnQgPSAkZm1bJ2NvbnRlbnQnXTsgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgIGJyZWFrOw0KICAgIH0NCg0KICAgIGNhc2UgJ3NpbXBhblBlbWRhJzp7DQogICAgICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgeyANCiAgICAgICAgICAkJGtleSA9ICR2YWx1ZTsgDQogICAgICAgIH0NCiAgICAgICAgaWYobXlzcWxfbnVtX3Jvd3MobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3BlbWRhIHdoZXJlIG5hbWFfcGVtZGEgPSAnJG5hbWFQZW1kYSciKSkgPiAwKXsNCiAgICAgICAgICAkZXJyID0gIlBlbWRhIFN1ZGFoIEFkYSI7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICRkYXRhID0gYXJyYXkoJ25hbWFfcGVtZGEnID0+ICRuYW1hUGVtZGEpOw0KICAgICAgICAgIG15c3FsX3F1ZXJ5KFZ1bG5XYWxrZXJJbnNlcnQoJ3JlZl9wZW1kYScsJGRhdGEpKTsNCiAgICAgICAgICAkaWRueWEgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSByZWZfcGVtZGEgd2hlcmUgbmFtYV9wZW1kYSA9ICckbmFtYVBlbWRhJyIpKTsNCiAgICAgICAgICAkY29udGVudCA9IGFycmF5KCdyZXBsYWNlcicgPT4gY21iUXVlcnkoJ2NtYlBlbWRhJywkaWRueWFbJ2lkJ10sInNlbGVjdCBpZCxuYW1hX3BlbWRhIGZyb20gcmVmX3BlbWRhIiwnc3R5bGU9IndpZHRoOjUwMDsiJywnLS0gUGlsaWggUGVtZGEgLS0nKSApOw0KICAgICAgICB9DQogICAgYnJlYWs7DQogICAgfQ0KICAgIA0KICAgIGNhc2UgJ3NpbXBhbkFwbGlrYXNpJzp7DQogICAgICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgeyANCiAgICAgICAgICAkJGtleSA9ICR2YWx1ZTsgDQogICAgICAgIH0NCiAgICAgICAgaWYobXlzcWxfbnVtX3Jvd3MobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX2FwbGlrYXNpIHdoZXJlIG5hbWFfcGVtZGEgPSAnJG5hbWFBcGxpa2FzaSciKSkgPiAwKXsNCiAgICAgICAgICAkZXJyID0gIkFwbGlrYXNpIFN1ZGFoIEFkYSI7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICRkYXRhID0gYXJyYXkoJ25hbWFfYXBsaWthc2knID0+ICRuYW1hQXBsaWthc2kpOw0KICAgICAgICAgIG15c3FsX3F1ZXJ5KFZ1bG5XYWxrZXJJbnNlcnQoJ3JlZl9hcGxpa2FzaScsJGRhdGEpKTsNCiAgICAgICAgICAkaWRueWEgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSByZWZfYXBsaWthc2kgd2hlcmUgbmFtYV9hcGxpa2FzaSA9ICckbmFtYUFwbGlrYXNpJyIpKTsNCiAgICAgICAgICAkY29udGVudCA9IGFycmF5KCdyZXBsYWNlcicgPT4gY21iUXVlcnkoJ2NtYlBlbWRhJywkaWRueWFbJ2lkJ10sInNlbGVjdCBpZCxuYW1hX2FwbGlrYXNpIGZyb20gcmVmX2FwbGlrYXNpIiwnc3R5bGU9IndpZHRoOjUwMDsiJywnLS0gUGlsaWggQXBsaWthc2kgLS0nKSApOw0KICAgICAgICB9DQogICAgYnJlYWs7DQogICAgfQ0KICAgIA0KICAgIGNhc2UgJ2VkaXRQZW1kYSc6ew0KICAgICAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsgDQogICAgICAgICAgJCRrZXkgPSAkdmFsdWU7IA0KICAgICAgICB9DQogICAgICAgICRkYXRhID0gYXJyYXkoJ25hbWFfcGVtZGEnID0+ICRuYW1hUGVtZGEpOw0KICAgICAgICBteXNxbF9xdWVyeShWdWxuV2Fsa2VyVXBkYXRlKCJyZWZfcGVtZGEiLCRkYXRhLCJpZD0nJGlkJyIpKTsNCiAgICAgICAgJGlkbnlhID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3BlbWRhIHdoZXJlIG5hbWFfcGVtZGEgPSAnJG5hbWFQZW1kYSciKSk7DQogICAgICAgICRjb250ZW50ID0gYXJyYXkoJ3JlcGxhY2VyJyA9PiBjbWJRdWVyeSgnY21iUGVtZGEnLCRpZG55YVsnaWQnXSwic2VsZWN0IGlkLG5hbWFfcGVtZGEgZnJvbSByZWZfcGVtZGEiLCdzdHlsZT0id2lkdGg6NTAwOyInLCctLSBQaWxpaCBQZW1kYSAtLScpICk7DQogICAgYnJlYWs7DQogICAgfQ0KICAgIGNhc2UgJ2VkaXRBcGxpa2FzaSc6ew0KICAgICAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsgDQogICAgICAgICAgJCRrZXkgPSAkdmFsdWU7IA0KICAgICAgICB9DQogICAgICAgICRkYXRhID0gYXJyYXkoJ25hbWFfYXBsaWthc2knID0+ICRuYW1hQXBsaWthc2kpOw0KICAgICAgICBteXNxbF9xdWVyeShWdWxuV2Fsa2VyVXBkYXRlKCJyZWZfYXBsaWthc2kiLCRkYXRhLCJpZD0nJGlkJyIpKTsNCiAgICAgICAgJGlkbnlhID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX2FwbGlrYXNpIHdoZXJlIG5hbWFfYXBsaWthc2kgPSAnJG5hbWFBcGxpa2FzaSciKSk7DQogICAgICAgICRjb250ZW50ID0gYXJyYXkoJ3JlcGxhY2VyJyA9PiBjbWJRdWVyeSgnY21iQXBsaWthc2knLCRpZG55YVsnaWQnXSwic2VsZWN0IGlkLG5hbWFfYXBsaWthc2kgZnJvbSByZWZfYXBsaWthc2kiLCdzdHlsZT0id2lkdGg6NTAwOyInLCctLSBQaWxpaCBBcGxpa2FzaSAtLScpICk7DQogICAgYnJlYWs7DQogICAgfQ0KDQoNCiAgICAgIA0KDQogICAgY2FzZSAnZm9ybUJhcnUnOnsgICAgICAgDQogICAgICAkZm0gPSAkdGhpcy0+c2V0Rm9ybUJhcnUoKTsgICAgICAgDQogICAgICAkY2VrID0gJGZtWydjZWsnXTsNCiAgICAgICRlcnIgPSAkZm1bJ2VyciddOw0KICAgICAgJGNvbnRlbnQgPSAkZm1bJ2NvbnRlbnQnXTsgICAgICAgICAgICAgICAgICAgICAgICANCiAgICBicmVhazsNCiAgICB9DQogICAgDQoNCiAgICANCiAgICBjYXNlICdmb3JtQmFydVBlbWRhJzp7ICAgICAgDQogICAgICAgICRpZFBlbWRhID0gJF9SRVFVRVNUWydpZFBlbWRhJ107DQogICAgICAgICRmbSA9ICR0aGlzLT5zZXRGb3JtQmFydVBlbWRhKCRpZFBlbWRhKTsgICAgICAgIA0KICAgICAgICAkY2VrID0gJGZtWydjZWsnXTsNCiAgICAgICAgJGVyciA9ICRmbVsnZXJyJ107DQogICAgICAgICRjb250ZW50ID0gJGZtWydjb250ZW50J107ICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICBicmVhazsNCiAgICB9DQogICAgY2FzZSAnZm9ybUJhcnVBcGxpa2FzaSc6eyAgICAgDQogICAgICAgICRpZEFwbGlrYXNpID0gJF9SRVFVRVNUWydpZEFwbGlrYXNpJ107DQogICAgICAgICRmbSA9ICR0aGlzLT5zZXRGb3JtQmFydUFwbGlrYXNpKCRpZEFwbGlrYXNpKTsgICAgICAgIA0KICAgICAgICAkY2VrID0gJGZtWydjZWsnXTsNCiAgICAgICAgJGVyciA9ICRmbVsnZXJyJ107DQogICAgICAgICRjb250ZW50ID0gJGZtWydjb250ZW50J107ICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICBicmVhazsNCiAgICB9ICAgDQogICAgDQoNCiAgICBjYXNlICdmb3JtRWRpdCc6eyAgICAgICANCiAgICAgICRmbSA9ICR0aGlzLT5zZXRGb3JtRWRpdCgpOyAgICAgICANCiAgICAgICRjZWsgPSAkZm1bJ2NlayddOw0KICAgICAgJGVyciA9ICRmbVsnZXJyJ107DQogICAgICAkY29udGVudCA9ICRmbVsnY29udGVudCddOyAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgIGJyZWFrOw0KICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICBjYXNlICdmb3JtVXBsb2FkJzp7ICAgICAgICANCiAgICAgICRmbSA9ICR0aGlzLT5zZXRGb3JtVXBsb2FkKCk7ICAgICAgIA0KICAgICAgJGNlayA9ICRmbVsnY2VrJ107DQogICAgICAkZXJyID0gJGZtWydlcnInXTsNCiAgICAgICRjb250ZW50ID0gJGZtWydjb250ZW50J107ICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgYnJlYWs7DQogICAgfQ0KICAgIGNhc2UgJ25ld0thdGVnb3JpJzp7ICAgICAgIA0KICAgICAgJGZtID0gJHRoaXMtPnNldEZvcm1CYXJ1S2F0ZWdvcmkoKTsgICAgICAgDQogICAgICAkY2VrID0gJGZtWydjZWsnXTsNCiAgICAgICRlcnIgPSAkZm1bJ2VyciddOw0KICAgICAgJGNvbnRlbnQgPSAkZm1bJ2NvbnRlbnQnXTsgICAgICAgICAgICAgICAgICAgICAgICANCiAgICBicmVhazsNCiAgICB9DQogICAgY2FzZSAnc2ltcGFuJzp7DQogICAgICAkZ2V0PSAkdGhpcy0+c2ltcGFuKCk7DQogICAgICAkY2VrID0gJGdldFsnY2VrJ107DQogICAgICAkZXJyID0gJGdldFsnZXJyJ107DQogICAgICAkY29udGVudCA9ICRnZXRbJ2NvbnRlbnQnXTsNCiAgICBicmVhazsNCiAgICAgIH0NCg0KICAgY2FzZSAnc2F2ZUVkaXRLYXRlZ29yaSc6eyANCiAgICAgICAgaWYgKCRfUkVRVUVTVFsnbmFtYV9rYXRlZ29yaSddPT0iIikgew0KICAgICAgICAgICAkZXJyID0gJ0Vycm9yJzsNCiAgICAgICAgICAgIA0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAkaWRfa2F0ZWdvcmkgPSAkX1JFUVVFU1RbJ2NtYkthdGVnb3JpJ107IA0KICAgICAgICAgICRuYW1hX2thdGVnb3JpID0gJF9SRVFVRVNUWyduYW1hX2thdGVnb3JpJ107DQoJCSAgDQoJCSAgJGdldERpcmVjdG9yeUF3YWwgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSBpbWFnZXNfa2F0ZWdvcmkgd2hlcmUgaWQ9JyRpZF9rYXRlZ29yaSciKSk7DQoJCSAgJGNoZWNrRHVwbGljYXRlRGlyID0gbXlzcWxfbnVtX3Jvd3MobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gaW1hZ2VzX2thdGVnb3JpIHdoZXJlIG5hbWE9JyRuYW1hX2thdGVnb3JpJyBhbmQgaWQhPSckaWRfa2F0ZWdvcmknIikpOw0KCQkgIGlmKCRjaGVja0R1cGxpY2F0ZURpciAhPTApew0KCQkgIAkkZXJyID0gIkRpcmVjdG9yeSBzdWRhaCBhZGEiOw0KCQkgIH1lbHNlew0KCQkgIAkJJG9sZG5hbWUgPSAiTWVkaWEvaW1hZ2VzLyIuJGdldERpcmVjdG9yeUF3YWxbJ25hbWEnXTsNCgkJCSAgCSRuZXduYW1lID0gIk1lZGlhL2ltYWdlcy8iLiRuYW1hX2thdGVnb3JpOw0KCQkJICAJcmVuYW1lKCRvbGRuYW1lLCAkbmV3bmFtZSk7DQoJCSAgCQlteXNxbF9xdWVyeSgiVVBEQVRFIGltYWdlc19rYXRlZ29yaSBzZXQgbmFtYT0nJG5hbWFfa2F0ZWdvcmknIHdoZXJlIGlkPSckaWRfa2F0ZWdvcmknIik7DQoNCgkgICAgICAgICAgJGNlayA9ICJVUERBVEUga2F0ZWdvcmlfYXJzaXAgc2V0IG5hbWFfa2F0ZWdvcmk9JyRuYW1hX2thdGVnb3JpJyB3aGVyZSBpZD0nJGlkX2thdGVnb3JpJyI7DQoJICAgICAgICAgICRtYXggPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgiU0VMRUNUICAqIGZyb20ga2F0ZWdvcmlfYXJzaXAgd2hlcmUgaWQ9JyRpZF9rYXRlZ29yaSciKSk7DQoJICAgICAgICAgICRkYXRhX21heCA9ICRtYXhbJ2lkJ107DQoJICAgICAgICAgICRjbWJLYXRlZ29yaSA9IGNtYlF1ZXJ5KCdjbWJLYXRlZ29yaScsJGtvbWJvS2F0ZWdvcmksInNlbGVjdCBpZCxuYW1hIGZyb20gaW1hZ2VzX2thdGVnb3JpIiwnLS0gU2VsZWN0IE9wdGlvbiAtLScpOw0KCSAgICAgICAgICAkY29udGVudCA9IGFycmF5KCdjbWJLYXRlZ29yaScgPT4gJGNtYkthdGVnb3JpICk7ICAgICANCgkJICB9DQoNCiAgICAgICAgICANCiAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgIA0KICAgIGJyZWFrOw0KICAgIH0NCg0KICAgICBjYXNlICdTaW1wYW5LYXRlZ29yaSc6ew0KICAgICAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsgDQogICAgICAgICAgJCRrZXkgPSAkdmFsdWU7IA0KICAgICAgICB9DQogICAgICAgIGlmKCRpZF9rYXRlZ29yaSAhPSAiIikgew0KCQkgICRnZXREaXJlY3RvcnlBd2FsID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gaW1hZ2VzX2thdGVnb3JpIHdoZXJlIGlkPSckaWRfa2F0ZWdvcmknIikpOw0KCQkgICRjaGVja0R1cGxpY2F0ZURpciA9IG15c3FsX251bV9yb3dzKG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIGltYWdlc19rYXRlZ29yaSB3aGVyZSBuYW1hPSckbmFtYV9rYXRlZ29yaScgYW5kIGlkIT0nJGlkX2thdGVnb3JpJyIpKTsNCgkJICBpZigkY2hlY2tEdXBsaWNhdGVEaXIgIT0wKXsNCgkJICAJJGVyciA9ICJEaXJlY3Rvcnkgc3VkYWggYWRhIjsNCgkJICB9ZWxzZXsNCgkJICAJJG9sZG5hbWUgPSAiTWVkaWEvaW1hZ2VzLyIuJGdldERpcmVjdG9yeUF3YWxbJ25hbWEnXTsNCgkJICAJJG5ld25hbWUgPSAiTWVkaWEvaW1hZ2VzLyIuJG5hbWFfa2F0ZWdvcmk7DQoJCSAgCXJlbmFtZSgkb2xkbmFtZSwgJG5ld25hbWUpOw0KCQkgIAkkcXVlcnkgPSBteXNxbF9xdWVyeSgiVVBEQVRFIGltYWdlc19rYXRlZ29yaSBzZXQgbmFtYSA9ICckbmFtYV9rYXRlZ29yaScgd2hlcmUgaWQgPSAnJGlkX2thdGVnb3JpJyAiKTsNCgkgICAgICAgICRjbWJLYXRlZ29yaSA9IGNtYlF1ZXJ5KCdjbWJLYXRlZ29yaScsJGlkX2thdGVnb3JpLCJzZWxlY3QgaWQsIG5hbWEgZnJvbSBpbWFnZXNfa2F0ZWdvcmkgIiwnLS0gUGlsaWggS2F0ZWdvcmkgLS0nKTsNCgkgICAgICAgICRjb250ZW50ID0gYXJyYXkoJ3JlcGxhY2VyJz0+JGNtYkthdGVnb3JpKTsNCgkJICB9DQoNCiAgICAgICAgICANCiAgICAgICAgfWVsc2V7DQoJCSAgaWYgKCFmaWxlX2V4aXN0cygnTWVkaWEvaW1hZ2VzLycuJG5hbWFfa2F0ZWdvcmkpKSB7DQoJCQkgICAgbWtkaXIoJ01lZGlhL2ltYWdlcy8nLiRuYW1hX2thdGVnb3JpLCAwNzc3LCB0cnVlKTsNCgkJCQkgJHF1ZXJ5ID0gbXlzcWxfcXVlcnkoIklOU0VSVCBpbnRvIGltYWdlc19rYXRlZ29yaSB2YWx1ZXMgKCcnLCckbmFtYV9rYXRlZ29yaScpIik7DQoJCSAgICAgICAgICAkYW1iaWxfaWQgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgiU0VMRUNUIG1heChpZCkgZnJvbSBpbWFnZXNfa2F0ZWdvcmkiKSk7DQoJCSAgICAgICAgICAkaWRfaW1hZ2VzID0gJGFtYmlsX2lkWydtYXgoaWQpJ107DQoJCSAgICAgICAgICAkY21iS2F0ZWdvcmkgPSBjbWJRdWVyeSgnY21iS2F0ZWdvcmknLCRpZF9pbWFnZXMsInNlbGVjdCBpZCwgbmFtYSBmcm9tIGltYWdlc19rYXRlZ29yaSAiLCctLSBQaWxpaCBLYXRlZ29yaSAtLScpOw0KCQkgIH1lbHNlew0KCQkgIAkgCSRlcnIgPSAiS2F0ZWdvcmkgU3VkYWggYWRhIjsNCgkJICB9DQogICAgICAgICAgDQogICAgICAgICAgJGNvbnRlbnQgPSBhcnJheSgncmVwbGFjZXInPT4kY21iS2F0ZWdvcmkpOw0KICAgICAgICB9ICAgICAgICANCiAgICAgICAgDQogICAgYnJlYWs7DQogICAgfQ0KDQogICAgIGNhc2UgJ2VkaXRLYXRlZ29yaSc6eyAgICAgICANCiAgICAgICAgJGZtID0gJHRoaXMtPnNldEZvcm1lZGl0S2F0ZWdvcmkoJF9SRVFVRVNUWydjbWJLYXRlZ29yaSddKTsgICAgICAgDQogICAgICAgICRjZWsgPSAkZm1bJ2NlayddOw0KICAgICAgICAkZXJyID0gJGZtWydlcnInXTsNCiAgICAgICAgJGNvbnRlbnQgPSAkZm1bJ2NvbnRlbnQnXTsgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgIGJyZWFrOw0KICAgICAgfQ0KICAgIA0KDQogICAgICANCiAgICBjYXNlICdzaW1wYW5FZGl0Jzp7DQogICAgICAkZ2V0PSAkdGhpcy0+c2ltcGFuRWRpdCgpOw0KICAgICAgJGNlayA9ICRnZXRbJ2NlayddOw0KICAgICAgJGVyciA9ICRnZXRbJ2VyciddOw0KICAgICAgJGNvbnRlbnQgPSAkZ2V0Wydjb250ZW50J107DQogICAgYnJlYWs7DQogICAgIH0gIA0KICAgICAgICANCiAgDQogICAgIA0KICAgICBkZWZhdWx0OnsNCiAgICAgICAgJG90aGVyID0gJHRoaXMtPnNldF9zZWxlY3Rvcl9vdGhlcjIoJHRpcGUpOw0KICAgICAgICAkY2VrID0gJG90aGVyWydjZWsnXTsNCiAgICAgICAgJGVyciA9ICRvdGhlclsnZXJyJ107DQogICAgICAgICRjb250ZW50PSRvdGhlclsnY29udGVudCddOw0KICAgICAgICAkanNvbj0kb3RoZXJbJ2pzb24nXTsNCiAgICAgYnJlYWs7DQogICAgIH0NCiAgICAgDQogICB9Ly9lbmQgc3dpdGNoDQogICAgDQogICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50LCAnanNvbic9PiRqc29uKTsNCiAgIH0NCiAgIA0KDQoNCiAgDQogICBmdW5jdGlvbiBzZXRGb3JtQmFydVBlbWRhKCRpZFBlbWRhKXsNCiAgICANCiAgICAkdGhpcy0+Zm9ybV9mbVNUID0gMDsNCiAgICANCiAgICAkZm0gPSAkdGhpcy0+QmFydVBlbWRhKCRpZFBlbWRhKTsNCiAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGZtWydjZWsnXSwgJ2Vycic9PiRmbVsnZXJyJ10sICdjb250ZW50Jz0+JGZtWydjb250ZW50J10pOw0KICB9DQogIA0KICAgZnVuY3Rpb24gc2V0Rm9ybUJhcnVBcGxpa2FzaSgkaWRBcGxpa2FzaSl7DQogICAgDQogICAgJHRoaXMtPmZvcm1fZm1TVCA9IDA7DQogICAgDQogICAgJGZtID0gJHRoaXMtPkJhcnVBcGxpa2FzaSgkaWRBcGxpa2FzaSk7DQogICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRmbVsnY2VrJ10sICdlcnInPT4kZm1bJ2VyciddLCAnY29udGVudCc9PiRmbVsnY29udGVudCddKTsNCiAgfQ0KDQogICAgIGZ1bmN0aW9uIHNldEZvcm1CYXJ1S2F0ZWdvcmkoKXsNCiAgICANCiAgICAgICR0aGlzLT5mb3JtX2ZtU1QgPSAwOw0KICAgICAgDQogICAgICAkZm0gPSAkdGhpcy0+QmFydUthdGVnb3JpKCk7DQogICAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGZtWydjZWsnXSwgJ2Vycic9PiRmbVsnZXJyJ10sICdjb250ZW50Jz0+JGZtWydjb250ZW50J10pOw0KICAgIH0NCg0KICAgICAgIGZ1bmN0aW9uIHNldEZvcm1lZGl0S2F0ZWdvcmkoJGlkX2thdGVnb3JpKXsNCiAgICANCiAgICAgICR0aGlzLT5mb3JtX2ZtU1QgPSAwOw0KICAgICAgDQogICAgICAkZm0gPSAkdGhpcy0+ZWRpdEthdGVnb3JpKCRpZF9rYXRlZ29yaSk7DQogICAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGZtWydjZWsnXSwgJ2Vycic9PiRmbVsnZXJyJ10sICdjb250ZW50Jz0+JGZtWydjb250ZW50J10pOw0KICAgIH0NCiAgDQogIGZ1bmN0aW9uIHNob3dJbWFnZSgkaWQpewkNCgkgZ2xvYmFsICRTZW5zdXNUbXAgLCRNYWluOw0KCSBnbG9iYWwgJE1haW47DQoJIGdsb2JhbCAkSFRUUF9DT09LSUVfVkFSUzsNCgkgJHVpZCA9ICRIVFRQX0NPT0tJRV9WQVJTWydjb0lEJ107CQ0KCSAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyANCgkgJGpzb24gPSBUUlVFOwkvLyRFcnJNc2cgPSAndGVzJzsNCgkgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtJzsJCQkJDQoJICR0aGlzLT5mb3JtX3dpZHRoID0gMTUwOw0KCSAkdGhpcy0+Zm9ybV9oZWlnaHQgPSAxNTA7DQoJICANCgkJJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdHQU1CQVInOw0KCQkkZ2V0RGF0YSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tICR0aGlzLT5UYmxOYW1lIHdoZXJlIGlkID0nJGlkJyIpKTsNCgkJDQoJCQ0KDQoJCQkkaWRJbWFnZVBhc2lmID0gJGdldERhdGFbJ2lkJ107DQoJCQkkZ2V0SW1hZ2VQYXNpZiA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIGltYWdlcyB3aGVyZSBpZCA9JyRpZEltYWdlUGFzaWYnIikpOw0KCQkJJG5hbWFJbWFnZVBhc2lmID0gJGdldEltYWdlUGFzaWZbJ25hbWEnXTsNCgkJCSRnZXREaXJQYXNpZiA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIGltYWdlc19rYXRlZ29yaSB3aGVyZSBpZD0nIi4kZ2V0SW1hZ2VQYXNpZlsna2F0ZWdvcmknXS4iJyIpKTsNCgkJCSRpbWFnZVBhc2lmTG9jYXRpb24gPSAiTWVkaWEvaW1hZ2VzLyIuJGdldERpclBhc2lmWyduYW1hJ10uIi8iLiRnZXRJbWFnZVBhc2lmWydkaXJlY3RvcnknXTsNCgkJCSRpbWFnZVZpZXdQYXNpZiA9ICI8aW1nIHN0eWxlPSd3aWR0aDoxMjBweDtoZWlnaHQ6MTIwcHg7ICcgc3JjPSckaW1hZ2VQYXNpZkxvY2F0aW9uJy8+IjsNCgkNCgkgICANCgkNCiAgICAgICAvL2l0ZW1zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCgkJICAkdGhpcy0+Zm9ybV9maWVsZHMgPSBhcnJheSgNCgkJICANCg0KCQkJCQkJIA0KCQkJIA0KDQoJCQknYXNkJyA9PiBhcnJheSggDQoJCQkJCQknbGFiZWwnPT4nSU1BR0UnLA0KCQkJCQkJJ2xhYmVsV2lkdGgnPT4xMDAsIA0KCQkJCQkJJ3ZhbHVlJz0+IjxzcGFuIGlkPSdzcGFuSW1hZ2VQYXNpZic+JGltYWdlVmlld1Bhc2lmIDwvc3Bhbj4gIiwNCgkJCQkJCSd0eXBlJyA9PiAnbWVyZ2UnDQoJCQkJCQkgKSwJDQoJCQkNCgkJCSk7DQoJCS8vdG9tYm9sDQoJCSR0aGlzLT5mb3JtX21lbnViYXdhaCA9CQ0KCQkJDQoJCQkiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0Nsb3NlJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuQ2xvc2UoKScgPiI7DQoJCSRmb3JtID0gJHRoaXMtPmdlbkZvcm0oKTsJCQ0KCQkkY29udGVudCA9ICRmb3JtOy8vJGNvbnRlbnQgPSAnY29udGVudCc7DQoJCXJldHVybglhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50KTsNCgl9CSAgDQoJDQogIGZ1bmN0aW9uIEJhcnVTdWJNb2R1bCgkZHQpew0KICAgZ2xvYmFsICRTZW5zdXNUbXAsICRNYWluOw0KICAgDQogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAgICAgDQogICAkanNvbiA9IFRSVUU7ICAvLyRFcnJNc2cgPSAndGVzJzsgICAgDQogICAkZm9ybV9uYW1lID0gJHRoaXMtPlByZWZpeC4nX2Zvcm1LQic7ICAgICAgICANCiAgICR0aGlzLT5mb3JtX3dpZHRoID0gNTAwOw0KICAgJHRoaXMtPmZvcm1faGVpZ2h0ID0gODA7DQogICANCiAgIGlmKCFlbXB0eSgkZHQpKXsNCiAgICAkdGhpcy0+Zm9ybV9jYXB0aW9uID0gJ0VkaXQgS2F0ZWdvcmknOw0KICAgICRuYW1hU3ViTW9kdWwgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSBpbWFnZXNfa2F0ZWdvcmkgd2hlcmUgbmFtYSA9JyRkdCciKSk7DQogICAgJG5hbWFTdWJNb2R1bCA9ICRuYW1hU3ViTW9kdWxbJ25hbWEnXTsNCiAgIH1lbHNlew0KICAgIGlmICgkdGhpcy0+Zm9ybV9mbVNUPT0wKSB7DQogICAgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdLYXRlZ29yaSBCYXJ1JzsNCg0KDQogICAgJGtlbWFuYSA9ICdTaW1wYW5LYXRlZ29yaSgpJzsNCiAgICANCiAgICB9DQogICB9DQogICAgDQogICAgICAvL2FtYmlsIGRhdGEgdHJlZmRpdGVydXNrYW4NCiAgICAgICRxdWVyeSA9ICIiIDskY2VrIC49JHF1ZXJ5Ow0KICAgICAgJHJlcyA9IG15c3FsX3F1ZXJ5KCRxdWVyeSk7DQogICAgDQogICAgDQogICAvL2l0ZW1zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAkdGhpcy0+Zm9ybV9maWVsZHMgPSBhcnJheSgNCiAgICAgIA0KICAgICAgJ0tlbG9tcG9rJyA9PiBhcnJheSggDQogICAgICAgICAgICAnbGFiZWwnPT4nTmFtYSBLYXRlZ29yaScsDQogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjEwMCwgDQogICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPg0KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J25hbWFfa2F0ZWdvcmknIGlkPSduYW1hX2thdGVnb3JpJyB2YWx1ZT0nJG5hbWFTdWJNb2R1bCcgc3R5bGU9J3dpZHRoOjI1NXB4OycgPg0KDQogICAgICAgICAgICA8L2Rpdj4iLCANCiAgICAgICAgICAgICApLCANCiAgICAgICk7DQogICAgLy90b21ib2wNCiAgICAkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQ0KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdTaW1wYW4nIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5zaW1wYW5NZXJlaygkZHQpJyB0aXRsZT0nU2ltcGFuJyA+Ii4iJm5ic3AmbmJzcCIuDQogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0JhdGFsJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuQ2xvc2UyKCknID4iOw0KICAgICAgICAgICAgICANCiAgICAkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtS0IoKTsNCiAgICAkY29udGVudCA9ICRmb3JtOw0KICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCk7DQogIH0NCg0KICBmdW5jdGlvbiBzZXRGb3JtQmFydVN1Yk1vZHVsKCRpZF9rYXRlZ29yaSl7DQogICAgDQogICAgJHRoaXMtPmZvcm1fZm1TVCA9IDA7DQogICAgDQogICAgJGZtID0gJHRoaXMtPkJhcnVTdWJNb2R1bCgkaWRfa2F0ZWdvcmkpOw0KICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kZm1bJ2NlayddLCAnZXJyJz0+JGZtWydlcnInXSwgJ2NvbnRlbnQnPT4kZm1bJ2NvbnRlbnQnXSk7DQogIH0NCiAgDQogIGZ1bmN0aW9uIEJhcnVQZW1kYSgkZHQpeyAgDQogICBnbG9iYWwgJFNlbnN1c1RtcCwgJE1haW47DQogICANCiAgICRjZWsgPSAnJzsgJGVycj0nJzsgJGNvbnRlbnQ9Jyc7ICAgICANCiAgICRqc29uID0gVFJVRTsgIC8vJEVyck1zZyA9ICd0ZXMnOyAgICANCiAgICRmb3JtX25hbWUgPSAkdGhpcy0+UHJlZml4LidfZm9ybUtCJzsgICAgICAgIA0KICAgJHRoaXMtPmZvcm1fd2lkdGggPSA1MDA7DQogICAkdGhpcy0+Zm9ybV9oZWlnaHQgPSA4MDsNCiAgIA0KICAgaWYoIWVtcHR5KCRkdCkpew0KICAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnRWRpdCBQZW1kYSc7DQogICAgJGtlbWFuYSA9ICJFZGl0UGVtZGEoJGR0KSI7DQogICAgJG5hbWFQZW1kYSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9wZW1kYSB3aGVyZSBpZD0nJGR0JyIpKTsNCiAgICAkbmFtYVBlbWRhID0gJG5hbWFQZW1kYVsnbmFtYV9wZW1kYSddOw0KICAgfWVsc2V7DQogICAgaWYgKCR0aGlzLT5mb3JtX2ZtU1Q9PTApIHsNCiAgICAkdGhpcy0+Zm9ybV9jYXB0aW9uID0gJ0JhcnUgUGVtZGEnOw0KICAgICRuaXAgICA9ICcnOw0KICAgICRLQTEgPSAkX1JFUVVFU1QgWydmbUtBJ107DQogICAgICANCiAgICAka2VtYW5hID0gJ1NpbXBhblBlbWRhKCknOw0KICAgIA0KICAgIH0NCiAgIH0NCiAgICANCiAgICAgIC8vYW1iaWwgZGF0YSB0cmVmZGl0ZXJ1c2thbg0KICAgICAgJHF1ZXJ5ID0gIiIgOyRjZWsgLj0kcXVlcnk7DQogICAgICAkcmVzID0gbXlzcWxfcXVlcnkoJHF1ZXJ5KTsNCiAgICANCiAgICANCiAgIC8vaXRlbXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KA0KICAgICAgDQogICAgICAnS2Vsb21wb2snID0+IGFycmF5KCANCiAgICAgICAgICAgICdsYWJlbCc9PidOYW1hIFBlbWRhJywNCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTAwLCANCiAgICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nbmFtYVBlbWRhJyBpZD0nbmFtYVBlbWRhJyB2YWx1ZT0nJG5hbWFQZW1kYScgc3R5bGU9J3dpZHRoOjI1NXB4OycgPg0KDQogICAgICAgICAgICA8L2Rpdj4iLCANCiAgICAgICAgICAgICApLCANCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICANCiAgICAgICk7DQogICAgLy90b21ib2wNCiAgICAkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQ0KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdTaW1wYW4nIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi4ka2VtYW5hJyB0aXRsZT0nU2ltcGFuJyA+Ii4iJm5ic3AmbmJzcCIuDQogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0JhdGFsJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuQ2xvc2UyKCknID4iOw0KICAgICAgICAgICAgICANCiAgICAkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtS0IoKTsgICANCiAgICAkY29udGVudCA9ICRmb3JtOw0KICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCk7DQogIH0NCg0KICAgZnVuY3Rpb24gZWRpdEthdGVnb3JpKCRkdCl7ICANCiAgIGdsb2JhbCAkU2Vuc3VzVG1wLCAkTWFpbjsNCiAgIA0KICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgICAgIA0KICAgJGpzb24gPSBUUlVFOyAgLy8kRXJyTXNnID0gJ3Rlcyc7ICAgIA0KICAgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtS0InOyAgICAgICAgDQogICAkdGhpcy0+Zm9ybV93aWR0aCA9IDUwMDsNCiAgICR0aGlzLT5mb3JtX2hlaWdodCA9IDgwOw0KICAgDQogICBpZighZW1wdHkoJGR0KSl7DQogICAgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdFZGl0IEthdGVnb3JpJzsNCiAgICAka2VtYW5hID0gInNhdmVFZGl0S2F0ZWdvcmkoJGR0KSI7DQogICAgJG5hbWFfa2F0ZWdvcmkgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSBpbWFnZXNfa2F0ZWdvcmkgd2hlcmUgaWQ9JyRkdCciKSk7DQogICAgJG5hbWFfa2F0ZWdvcmkgPSAkbmFtYV9rYXRlZ29yaVsnbmFtYSddOw0KICAgfWVsc2V7DQogICAgaWYgKCR0aGlzLT5mb3JtX2ZtU1Q9PTApIHsNCiAgICAkdGhpcy0+Zm9ybV9jYXB0aW9uID0gJ0JhcnUgS2F0ZWdvcmknOw0KICAgICRuaXAgICA9ICcnOw0KICAgICRLQTEgPSAkX1JFUVVFU1QgWydmbUtBJ107DQogICAgICANCiAgICANCiAgICB9DQogICB9DQogICAgDQogICAgICAvL2FtYmlsIGRhdGEgdHJlZmRpdGVydXNrYW4NCiAgICAgICRxdWVyeSA9ICIiIDskY2VrIC49JHF1ZXJ5Ow0KICAgICAgJHJlcyA9IG15c3FsX3F1ZXJ5KCRxdWVyeSk7DQogICAgDQogICAgDQogICAvL2l0ZW1zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAkdGhpcy0+Zm9ybV9maWVsZHMgPSBhcnJheSgNCiAgICAgIA0KICAgICAgJ0tlbG9tcG9rJyA9PiBhcnJheSggDQogICAgICAgICAgICAnbGFiZWwnPT4nTmFtYSBLYXRlZ29yaScsDQogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjEwMCwgDQogICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPg0KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J25hbWFfa2F0ZWdvcmknIGlkPSduYW1hX2thdGVnb3JpJyB2YWx1ZT0nJG5hbWFfa2F0ZWdvcmknIHN0eWxlPSd3aWR0aDoyNTVweDsnID4NCg0KICAgICAgICAgICAgPC9kaXY+IiwgDQogICAgICAgICAgICAgKSwgDQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgDQogICAgICApOw0KICAgIC8vdG9tYm9sDQogICAgJHRoaXMtPmZvcm1fbWVudWJhd2FoID0NCiAgICAgICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nU2ltcGFuJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuJGtlbWFuYScgdGl0bGU9J1NpbXBhbicgPiIuIiZuYnNwJm5ic3AiLg0KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdCYXRhbCcgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLkNsb3NlMigpJyA+IjsNCiAgICAgICAgICAgICAgDQogICAgJGZvcm0gPSAkdGhpcy0+Z2VuRm9ybUtCKCk7ICAgDQogICAgJGNvbnRlbnQgPSAkZm9ybTsNCiAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOw0KICB9DQogIA0KICBmdW5jdGlvbiBCYXJ1S2F0ZWdvcmkoKXsgIA0KICAgZ2xvYmFsICRTZW5zdXNUbXAsICRNYWluOw0KICAgDQogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAgICAgDQogICAkanNvbiA9IFRSVUU7ICAvLyRFcnJNc2cgPSAndGVzJzsgICAgDQogICAkZm9ybV9uYW1lID0gJHRoaXMtPlByZWZpeC4nX2Zvcm1LQic7ICAgICAgICANCiAgICR0aGlzLT5mb3JtX3dpZHRoID0gNTAwOw0KICAgJHRoaXMtPmZvcm1faGVpZ2h0ID0gODA7DQogICANCiAgICBpZiAoJHRoaXMtPmZvcm1fZm1TVD09MCkgew0KICAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnQmFydSBLYXRlZ29yaSc7DQogICAgJG5pcCAgID0gJyc7DQogICAgJEtBMSA9ICRfUkVRVUVTVFsnZm1LQSddOw0KICAgIH0NCiAgICAgIC8vYW1iaWwgZGF0YSB0cmVmZGl0ZXJ1c2thbg0KICAgICAgJHF1ZXJ5ID0gIiIgOyRjZWsgLj0kcXVlcnk7DQogICAgICAkcmVzID0gbXlzcWxfcXVlcnkoJHF1ZXJ5KTsNCiAgICANCiAgIC8vaXRlbXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KA0KICAgICAgDQogICAgICAnS2Vsb21wb2snID0+IGFycmF5KCANCiAgICAgICAgICAgICdsYWJlbCc9PidOYW1hIEthdGVnb3JpJywNCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTAwLCANCiAgICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nbmFtYV9rYXRlZ29yaScgaWQ9J25hbWFfa2F0ZWdvcmknIHN0eWxlPSd3aWR0aDoyNTVweDsnID4NCg0KICAgICAgICAgICAgPC9kaXY+IiwgDQogICAgICAgICAgICAgKSwgDQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgDQogICAgICApOw0KICAgIC8vdG9tYm9sDQogICAgJHRoaXMtPmZvcm1fbWVudWJhd2FoID0NCiAgICAgICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nU2ltcGFuJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuU2ltcGFuS2F0ZWdvcmkoKScgdGl0bGU9J1NpbXBhbicgPiIuIiZuYnNwJm5ic3AiLg0KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdCYXRhbCcgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLkNsb3NlMigpJyA+IjsNCiAgICAgICAgICAgICAgDQogICAgJGZvcm0gPSAkdGhpcy0+Z2VuRm9ybUtCKCk7ICAgDQogICAgJGNvbnRlbnQgPSAkZm9ybTsNCiAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOw0KICB9DQoNCg0KICBmdW5jdGlvbiBCYXJ1QXBsaWthc2koJGR0KXsgDQogICBnbG9iYWwgJFNlbnN1c1RtcCwgJE1haW47DQogICANCiAgICRjZWsgPSAnJzsgJGVycj0nJzsgJGNvbnRlbnQ9Jyc7ICAgICANCiAgICRqc29uID0gVFJVRTsgIC8vJEVyck1zZyA9ICd0ZXMnOyAgICANCiAgICRmb3JtX25hbWUgPSAkdGhpcy0+UHJlZml4LidfZm9ybUtCJzsgICAgICAgIA0KICAgJHRoaXMtPmZvcm1fd2lkdGggPSA1MDA7DQogICAkdGhpcy0+Zm9ybV9oZWlnaHQgPSA4MDsNCiAgIA0KICAgaWYoIWVtcHR5KCRkdCkpew0KICAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnRWRpdCBBcGxpa2FzaSc7DQogICAgJGtlbWFuYSA9ICJFZGl0QXBsaWthc2koJGR0KSI7DQogICAgJG5hbWFBcGxpa2FzaSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9hcGxpa2FzaSB3aGVyZSBpZD0nJGR0JyIpKTsNCiAgICAkbmFtYUFwbGlrYXNpID0gJG5hbWFBcGxpa2FzaVsnbmFtYV9hcGxpa2FzaSddOw0KICAgfWVsc2V7DQogICAgaWYgKCR0aGlzLT5mb3JtX2ZtU1Q9PTApIHsNCiAgICAkdGhpcy0+Zm9ybV9jYXB0aW9uID0gJ0JhcnUgQXBsaWthc2knOw0KICAgICRuaXAgICA9ICcnOw0KDQogICAgICANCiAgICAka2VtYW5hID0gJ1NpbXBhbkFwbGlrYXNpKCknOw0KICAgIA0KICAgIH0NCiAgIH0NCiAgICANCiAgICAgIC8vYW1iaWwgZGF0YSB0cmVmZGl0ZXJ1c2thbg0KICAgICAgJHF1ZXJ5ID0gIiIgOyRjZWsgLj0kcXVlcnk7DQogICAgICAkcmVzID0gbXlzcWxfcXVlcnkoJHF1ZXJ5KTsNCiAgICANCiAgICANCiAgIC8vaXRlbXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KA0KICAgICAgDQogICAgICAnS2Vsb21wb2snID0+IGFycmF5KCANCiAgICAgICAgICAgICdsYWJlbCc9PidOYW1hIEFwbGlrYXNpJywNCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTAwLCANCiAgICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nbmFtYUFwbGlrYXNpJyBpZD0nbmFtYUFwbGlrYXNpJyB2YWx1ZT0nJG5hbWFBcGxpa2FzaScgc3R5bGU9J3dpZHRoOjI1NXB4OycgPg0KDQogICAgICAgICAgICA8L2Rpdj4iLCANCiAgICAgICAgICAgICApLCANCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICANCiAgICAgICk7DQogICAgLy90b21ib2wNCiAgICAkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQ0KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdTaW1wYW4nIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi4ka2VtYW5hJyB0aXRsZT0nU2ltcGFuJyA+Ii4iJm5ic3AmbmJzcCIuDQogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0JhdGFsJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuQ2xvc2UyKCknID4iOw0KICAgICAgICAgICAgICANCiAgICAkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtS0IoKTsgICANCiAgICAkY29udGVudCA9ICRmb3JtOw0KICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCk7DQogIH0NCiAgDQogIGZ1bmN0aW9uIGdlbkZvcm1LQigkd2l0aEZvcm09VFJVRSwgJHBhcmFtcz1OVUxMLCAkY2VudGVyPVRSVUUpeyANCiAgICAkZm9ybV9uYW1lID0gJHRoaXMtPlByZWZpeC4nX0tCZm9ybSc7IA0KICAgIA0KICAgIGlmKCR3aXRoRm9ybSl7DQogICAgICAkZm9ybT0gIjxmb3JtIG5hbWU9JyRmb3JtX25hbWUnIGlkPSckZm9ybV9uYW1lJyBtZXRob2Q9J3Bvc3QnIGFjdGlvbj0nJz4iLg0KICAgICAgICBjcmVhdGVEaWFsb2coDQogICAgICAgICAgJGZvcm1fbmFtZS4nX2RpdicsIA0KICAgICAgICAgICR0aGlzLT5zZXRGb3JtX2NvbnRlbnQoKSwNCiAgICAgICAgICAkdGhpcy0+Zm9ybV93aWR0aCwNCiAgICAgICAgICAkdGhpcy0+Zm9ybV9oZWlnaHQsDQogICAgICAgICAgJHRoaXMtPmZvcm1fY2FwdGlvbiwNCiAgICAgICAgICAnJywNCiAgICAgICAgICAkdGhpcy0+Zm9ybV9tZW51YmF3YWguDQogICAgICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSciLiR0aGlzLT5QcmVmaXguIl9pZHBsaCcgbmFtZT0nIi4kdGhpcy0+UHJlZml4LiJfaWRwbGgnIHZhbHVlPSckdGhpcy0+Zm9ybV9pZHBsaCcgPg0KICAgICAgICAgIDxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSciLiR0aGlzLT5QcmVmaXguIl9mbVNUJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9mbVNUJyB2YWx1ZT0nJHRoaXMtPmZvcm1fZm1TVCcgPiIsDQogICAgICAgICAgJHRoaXMtPmZvcm1fbWVudV9iYXdhaF9oZWlnaHQsJycsJHBhcmFtcykuDQogICAgICAgICI8L2Zvcm0+IjsNCiAgICAgICAgDQogICAgfWVsc2V7DQogICAgICAkZm9ybT0gDQogICAgICAgIGNyZWF0ZURpYWxvZygNCiAgICAgICAgICAkZm9ybV9uYW1lLidfZGl2JywgDQogICAgICAgICAgJHRoaXMtPnNldEZvcm1fY29udGVudCgpLA0KICAgICAgICAgICR0aGlzLT5mb3JtX3dpZHRoLA0KICAgICAgICAgICR0aGlzLT5mb3JtX2hlaWdodCwNCiAgICAgICAgICAkdGhpcy0+Zm9ybV9jYXB0aW9uLA0KICAgICAgICAgICcnLA0KICAgICAgICAgICR0aGlzLT5mb3JtX21lbnViYXdhaC4NCiAgICAgICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX2lkcGxoJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9pZHBsaCcgdmFsdWU9JyR0aGlzLT5mb3JtX2lkcGxoJyA+DQogICAgICAgICAgPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX2ZtU1QnIG5hbWU9JyIuJHRoaXMtPlByZWZpeC4iX2ZtU1QnIHZhbHVlPSckdGhpcy0+Zm9ybV9mbVNUJyA+IiwNCiAgICAgICAgICAkdGhpcy0+Zm9ybV9tZW51X2Jhd2FoX2hlaWdodCwnJywkcGFyYW1zDQogICAgICAgICk7DQogICAgfQ0KICAgIA0KICAgIGlmKCRjZW50ZXIpew0KICAgICAgJGZvcm0gPSBjZW50ZXJQYWdlKCAkZm9ybSApOyAgDQogICAgfQ0KICAgIHJldHVybiAkZm9ybTsNCiAgfQ0KDQoNCiAgDQogIA0KICBmdW5jdGlvbiBzZXRQYWdlX090aGVyU2NyaXB0KCl7DQogICAgJGdldFVzZXJJbmZvID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gYWRtaW4gd2hlcmUgdWlkID0nJHRoaXMtPnVzZXJuYW1lJyIpKTsNCiAgICBmb3JlYWNoICgkZ2V0VXNlckluZm8gYXMgJGtleSA9PiAkdmFsdWUpIHsgDQogICAgICAgICQka2V5ID0gJHZhbHVlOyANCiAgICAgIH0gDQogICAgaWYoJGxldmVsICE9ICcxJyl7DQogICAgDQogICAgICAkc2NyaXB0bG9hZCA9IA0KICAgICAgICAgICI8c2NyaXB0Pg0KICAgICAgICAgICAgYWxlcnQoJ0Frc2VzIERpdG9sYWsnKTsNCiAgICAgICAgICAgIGhpc3RvcnkuZ28oLTEpOw0KICAgICAgICAgIDwvc2NyaXB0PiI7DQogICAgICANCiAgICB9ZWxzZXsNCiAgICAgICRzY3JpcHRsb2FkID0gDQogICAgICAgICAgIjxzY3JpcHQ+DQogICAgICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpeyANCiAgICAgICAgICAgICAgIi4kdGhpcy0+UHJlZml4LiIubG9hZGluZygpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgPC9zY3JpcHQ+IjsNCiAgICB9DQogICAgcmV0dXJuIA0KICAgICAgICI8c2NyaXB0IHNyYz0nanMvc2twZC5qcycgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48L3NjcmlwdD4NCiAgICAgICA8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPSdqcy9yZWZfaW1hZ2VzL3JlZl9pbWFnZXMuanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0JyA+PC9zY3JpcHQ+DQogICAgICAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nanMvcmVmX2FwbGlrYXNpX3BlbWRhL3BvcHVwT3B0aW9uLmpzJyBsYW5ndWFnZT0nSmF2YVNjcmlwdCcgPjwvc2NyaXB0Pg0KICAgICAgIA0KICAgICAgICIuJzxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iZGF0ZXBpY2tlci9qcXVlcnktdWkuY3NzIj4NCiAgICAgICAgPHNjcmlwdCBzcmM9ImRhdGVwaWNrZXIvanF1ZXJ5LTEuMTIuNC5qcyI+PC9zY3JpcHQ+DQogICAgICAgIDxzY3JpcHQgc3JjPSJkYXRlcGlja2VyL2pxdWVyeS11aS5qcyI+PC9zY3JpcHQ+Jy4NCiAgICAgIA0KICAgICAgJHNjcmlwdGxvYWQ7DQogIH0NCiAgDQogIGZ1bmN0aW9uIHNldEZvcm1CYXJ1KCl7DQogICAgJGNlayA9JGNiaWRbMF07ICAgICAgIA0KICAgICR0aGlzLT5mb3JtX2lkcGxoID0gJGNiaWRbMF07DQogICAgJGtvZGUgPSBleHBsb2RlKCcgJywkdGhpcy0+Zm9ybV9pZHBsaCk7DQogICAgJHRoaXMtPmZvcm1fZm1TVCA9IDA7DQogICAgJGR0WydyZWFkb25seSddPScnOw0KICAgICRmbUJJREFORyA9ICRfUkVRVUVTVFsnZm1CSURBTkcnXTsNCiAgICAkZm1LRUxPTVBPSyA9ICRfUkVRVUVTVFsnZm1LRUxPTVBPSyddOw0KICAgICRmbVNVQktFTE9NUE9LID0gJF9SRVFVRVNUWydmbVNVQktFTE9NUE9LJ107DQogICAgJGZtU1VCU1VCS0VMT01QT0sgPSAkX1JFUVVFU1RbJ2ZtU1VCU1VCS0VMT01QT0snXTsNCiAgICBpZighZW1wdHkoJGZtQklEQU5HKSAmJiBlbXB0eSgkZm1LRUxPTVBPSykgJiYgZW1wdHkoJGZtU1VCS0VMT01QT0spICYmIGVtcHR5KCRmbVNVQlNVQktFTE9NUE9LKSkNCiAgICB7DQogICAgICAkZHRbJ2tvZGVfanVybmFsJ109JGZtQklEQU5HLicuJzsNCiAgICB9DQogICAgZWxzZWlmKCFlbXB0eSgkZm1CSURBTkcpICYmICFlbXB0eSgkZm1LRUxPTVBPSykgJiYgZW1wdHkoJGZtU1VCS0VMT01QT0spICYmIGVtcHR5KCRmbVNVQlNVQktFTE9NUE9LKSkNCiAgICB7DQogICAgICAkZHRbJ2tvZGVfanVybmFsJ109JGZtQklEQU5HLicuJy4kZm1LRUxPTVBPSy4nLic7DQogICAgfQ0KICAgIGVsc2VpZighZW1wdHkoJGZtQklEQU5HKSAmJiAhZW1wdHkoJGZtS0VMT01QT0spICYmICFlbXB0eSgkZm1TVUJLRUxPTVBPSykgJiYgZW1wdHkoJGZtU1VCU1VCS0VMT01QT0spKQ0KICAgIHsNCiAgICAgICRkdFsna29kZV9qdXJuYWwnXT0kZm1CSURBTkcuJy4nLiRmbUtFTE9NUE9LLicuJy4kZm1TVUJLRUxPTVBPSy4nLic7DQogICAgfQ0KICAgIGVsc2VpZighZW1wdHkoJGZtQklEQU5HKSAmJiAhZW1wdHkoJGZtS0VMT01QT0spICYmICFlbXB0eSgkZm1TVUJLRUxPTVBPSykgJiYgIWVtcHR5KCRmbVNVQlNVQktFTE9NUE9LKSkNCiAgICB7DQogICAgICAkZHRbJ2tvZGVfanVybmFsJ109JGZtQklEQU5HLicuJy4kZm1LRUxPTVBPSy4nLicuJGZtU1VCS0VMT01QT0suJy4nLiRmbVNVQlNVQktFTE9NUE9LLicuJzsNCiAgICB9DQogICAgJGZtID0gJHRoaXMtPnNldEZvcm0oJGR0KTsgICAgDQogICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRjZWsuJGZtWydjZWsnXSwgJ2Vycic9PiRmbVsnZXJyJ10sICdjb250ZW50Jz0+JGZtWydjb250ZW50J10pOw0KICB9IA0KICAgDQogICAgZnVuY3Rpb24gc2V0Rm9ybUVkaXQoKXsNCiAgICAkY2VrID0nJzsNCiAgICANCiAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsgDQogICAgICAgICQka2V5ID0gJHZhbHVlOyANCiAgICAgIH0NCiAgICAkdGhpcy0+Zm9ybV9mbVNUID0gMTsNCiAgICANCiAgICAkZm0gPSAkdGhpcy0+c2V0Rm9ybSgkcmVmX2ltYWdlc19jYlswXSk7DQogICAgDQogICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRjZWsuJGZtWydjZWsnXSwgJ2Vycic9PiRmbVsnZXJyJ10sICdjb250ZW50Jz0+JGZtWydjb250ZW50J10pOw0KICB9IA0KDQogICAgZnVuY3Rpb24gc2V0Rm9ybVVwbG9hZCgpew0KICAgICRjZWsgPScnOw0KICAgIA0KICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgeyANCiAgICAgICAgJCRrZXkgPSAkdmFsdWU7IA0KICAgICAgfQ0KICAgICR0aGlzLT5mb3JtX2ZtU1QgPSAxOw0KICAgIA0KICAgICRmbSA9ICR0aGlzLT5zZXRVcGxvYWQoJHJlZl9pbWFnZXNfY2JbMF0pOw0KICAgIA0KICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kY2VrLiRmbVsnY2VrJ10sICdlcnInPT4kZm1bJ2VyciddLCAnY29udGVudCc9PiRmbVsnY29udGVudCddKTsNCiAgfSANCiAgDQogIGZ1bmN0aW9uIHNldEZvcm1FZGl0ZGF0YSgkZHQpeyAgDQogICBnbG9iYWwgJFNlbnN1c1RtcCAsJE1haW47DQogICANCiAgICRjZWsgPSAnJzsgJGVycj0nJzsgJGNvbnRlbnQ9Jyc7IA0KICAgJGpzb24gPSBUUlVFOyAgLy8kRXJyTXNnID0gJ3Rlcyc7DQogICAkZm9ybV9uYW1lID0gJHRoaXMtPlByZWZpeC4nX2Zvcm0nOyAgICAgICAgDQogICAkdGhpcy0+Zm9ybV93aWR0aCA9IDQ5MDsNCiAgICR0aGlzLT5mb3JtX2hlaWdodCA9IDE1MDsNCiAgICBpZiAoJHRoaXMtPmZvcm1fZm1TVD09MSkgew0KICAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnRk9STSBFRElUIEtPREUgJzsNCiAgICB9DQogICANCiAgICAkY2JpZCA9ICRfUkVRVUVTVFskdGhpcy0+UHJlZml4LidfY2InXTsNCiAgICAkdGhpcy0+Zm9ybV9pZHBsaCA9ICRjYmlkWzBdOw0KICAgICRrb2RlID0gZXhwbG9kZSgnICcsJHRoaXMtPmZvcm1faWRwbGgpOw0KICAgICR0aGlzLT5mb3JtX2ZtU1QgPSAxOyANCiAgICAkaz0ka29kZVswXTsNCiAgICAkbD0ka29kZVsxXTsNCiAgICAkbT0ka29kZVsyXTsNCiAgICAkbj0ka29kZVszXTsNCiAgICAkbz0ka29kZVs0XTsNCiAgICANCiAgICANCiAgICANCiAgICAkcXVlcnlLQWVkaXQ9bXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoIlNFTEVDVCBrLCBubV8gRlJPTSAgV0hFUkUgaz0nJGsnIGFuZCBsID0gJzAnIGFuZCBtPScwJyBhbmQgbj0nMDAnIGFuZCBvPScwMCciKSkgOw0KICAgICRjZWsuPSRxdWVyeUtBZWRpdDsNCiAgICAkcXVlcnlLQmVkaXQ9bXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoIlNFTEVDVCBsLCBubV8gRlJPTSAgV0hFUkUgaz0nJGsnIGFuZCBsPSckbCcgYW5kIG09ICcwJyBhbmQgbj0nMDAnIGFuZCBvPScwMCciKSkgOw0KICAgICRxdWVyeUtDZWRpdD1teXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgiU0VMRUNUIG0sIG5tXyBGUk9NICBXSEVSRSBrPSckaycgYW5kIGw9JyRsJyBhbmQgbT0nJG0nIGFuZCBuPScwMCcgYW5kIG89JzAwJyIpKSA7DQogICAgJHF1ZXJ5S0RlZGl0PW15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJTRUxFQ1Qgbiwgbm1fIEZST00gIFdIRVJFIGs9JyRrJyBhbmQgbD0nJGwnIGFuZCBtPSckbScgYW5kIG49JyRuJyBhbmQgbz0nMDAnIikpIDsNCiAgICAkcXVlcnlLRWVkaXQ9bXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoIlNFTEVDVCBvLCBubV8gRlJPTSAgV0hFUkUgaz0nJGsnIGFuZCBsPSckbCcgYW5kIG09JyRtJyBhbmQgbj0nJG4nIGFuZCBvPSckbyciKSkgOw0KICAvLyAgJGNlay49IlNFTEVDVCBrZSwgbm1fYWNjb3VudCBGUk9NIHJlZl9qdXJuYWwgV0hFUkUga2E9JyRkYXRhX2thJyBhbmQga2I9JyRkYXRhX2tiJyBhbmQga2M9JyRkYXRhX2tjJyBhbmQga2Q9JyRkYXRhX2tkJyBhbmQga2U9JyRkYXRhX2tlJyBhbmQga2Y9JzAnIjsNCiAgICAgICAgICANCiAgDQogICAgJGRhdGthPSRxdWVyeUtBZWRpdFsnayddLiIuICAiLiRxdWVyeUtBZWRpdFsnbm1fJ107DQogICAgJGRhdGtiPSRxdWVyeUtCZWRpdFsnbCddLiIuICIuJHF1ZXJ5S0JlZGl0WydubV8nXTsNCiAgICAkZGF0a2M9JHF1ZXJ5S0NlZGl0WydtJ10uIiAuICAiLiRxdWVyeUtDZWRpdFsnbm1fJ107DQogICAgJGRhdGtkPSRxdWVyeUtEZWRpdFsnbiddLiIuICIuJHF1ZXJ5S0RlZGl0WydubV8nXTsNCiAgICAkZGF0a2U9JHF1ZXJ5S0VlZGl0WydvJ107DQogIC8vICAkZGF0a2U9c3ByaW50ZigiJTAycyIsJHF1ZXJ5S0VlZGl0WydrZSddKS4iIC4gICIuJHF1ZXJ5S0VlZGl0WydubV9hY2NvdW50J107DQogICAgDQogICAgICAgLy9pdGVtcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAkdGhpcy0+Zm9ybV9maWVsZHMgPSBhcnJheSgNCiAgICAgIA0KICAgICAgJ2tvZGVfQWt1bicgPT4gYXJyYXkoIA0KICAgICAgICAgICAgJ2xhYmVsJz0+J2tvZGUgJywNCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTIwLCANCiAgICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZWsnIGlkPSdlaycgdmFsdWU9JyIuJGRhdGthLiInIHN0eWxlPSd3aWR0aDoyNzBweDsnIHJlYWRvbmx5Pg0KICAgICAgICAgICAgPGlucHV0IHR5cGUgPSdoaWRkZW4nIG5hbWU9J2snIGlkPSdrJyB2YWx1ZT0nIi4kcXVlcnlLQWVkaXRbJ2snXS4iJz4NCiAgICAgICAgICAgIDwvZGl2PiIsIA0KICAgICAgICAgICAgICksDQogICAgICAna29kZV9rZWxvbXBvaycgPT4gYXJyYXkoIA0KICAgICAgICAgICAgJ2xhYmVsJz0+J0tvZGUgS2Vsb21wb2snLA0KICAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4xMDAsIA0KICAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdlbCcgaWQ9J2VsJyB2YWx1ZT0nIi4kZGF0a2IuIicgc3R5bGU9J3dpZHRoOjI3MHB4OycgcmVhZG9ubHk+DQogICAgICAgICAgICA8aW5wdXQgdHlwZSA9J2hpZGRlbicgbmFtZT0nbCcgaWQ9J2wnIHZhbHVlPSciLiRxdWVyeUtCZWRpdFsnbCddLiInPg0KICAgICAgICAgICAgPC9kaXY+IiwgDQogICAgICAgICAgICAgKSwNCiAgICAgICdrb2RlX0plbmlzJyA9PiBhcnJheSggDQogICAgICAgICAgICAnbGFiZWwnPT4na29kZSBKZW5pcycsDQogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjEwMCwgDQogICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPg0KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2VtJyBpZD0nZW0nIHZhbHVlPSciLiRkYXRrYy4iJyBzdHlsZT0nd2lkdGg6MjcwcHg7JyByZWFkb25seT4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlID0naGlkZGVuJyBuYW1lPSdtJyBpZD0nbScgdmFsdWU9JyIuJHF1ZXJ5S0NlZGl0WydtJ10uIic+DQogICAgICAgICAgICA8L2Rpdj4iLCANCiAgICAgICAgICAgICApLA0KICAgICAgJ2tvZGVfT2JqZWsnID0+IGFycmF5KCANCiAgICAgICAgICAgICdsYWJlbCc9Pidrb2RlIE9iamVrJywNCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTAwLCANCiAgICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZW4nIGlkPSdlbicgdmFsdWU9JyIuJGRhdGtkLiInIHN0eWxlPSd3aWR0aDoyNzBweDsnIHJlYWRvbmx5Pg0KICAgICAgICAgICAgPGlucHV0IHR5cGUgPSdoaWRkZW4nIG5hbWU9J24nIGlkPSduJyB2YWx1ZT0nIi4kcXVlcnlLRGVkaXRbJ24nXS4iJz4NCiAgICAgICAgICAgIDwvZGl2PiIsIA0KICAgICAgICAgICAgICksDQogICAgICAnS29kZV9SaW5jaWFuX09iamVrJyA9PiBhcnJheSggDQogICAgICAgICAgICAnbGFiZWwnPT4nS29kZSBSaW5jaWFuIE9iamVrJywNCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTAwLCANCiAgICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZW8nIGlkPSdlbycgdmFsdWU9JyIuJGRhdGtlLiInIHN0eWxlPSd3aWR0aDoyMHB4OycgcmVhZG9ubHk+DQogICAgICAgICAgICA8aW5wdXQgdHlwZSA9J2hpZGRlbicgbmFtZT0nbycgaWQ9J28nIHZhbHVlPSciLiRxdWVyeUtFZWRpdFsnbyddLiInPg0KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J25tXycgaWQ9J25tXycgdmFsdWU9JyIuJGR0WydubV8nXS4iJyBzaXplPSczNnB4Jz4NCiAgICAgICAgICAgIDwvZGl2PiIsIA0KICAgICAgICAgICAgICksICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgDQogICAgIA0KICAgICAgDQogICAgICAvKidOYW1hJyA9PiBhcnJheSggDQogICAgICAgICAgICAnbGFiZWwnPT4nTmFtYScsDQogICAgICAgICAgICAvLydpZCc9Pidjb250X29iamVjdCcsDQogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjEwMCwgDQogICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdubV9hY2NvdW50JyBpZD0nbm1fYWNjb3VudCcgdmFsdWU9JyIuJGR0WydubV9hY2NvdW50J10uIicgc2l6ZT0nNDBweCc+DQogICAgICAgICAgICA8L2Rpdj4iLCANCiAgICAgICAgICAgICApLCAgICovICAgICAgICAgDQogICAgICApOw0KICAgIC8vdG9tYm9sDQogICAgJHRoaXMtPmZvcm1fbWVudWJhd2FoID0gDQogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1NpbXBhbicgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLlNpbXBhbkVkaXQoKScgdGl0bGU9J1NpbXBhbicgPiIuIiZuYnNwJm5ic3AiLg0KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdCYXRhbCcgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLkNsb3NlKCknID4iOw0KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2thJyBpZD0na2EnIHZhbHVlPSciLiRkdFsna2EnXS4iJz4iLg0KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2tiJyBpZD0na2InIHZhbHVlPSciLiRkdFsna2InXS4iJz4iLg0KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2tjJyBpZD0na2MnIHZhbHVlPSciLiRkdFsna2MnXS4iJz4iLg0KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2tkJyBpZD0na2QnIHZhbHVlPSciLiRkdFsna2QnXS4iJz4iLg0KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2tlJyBpZD0na2UnIHZhbHVlPSciLiRkdFsna2UnXS4iJz4iLg0KICAgICAgICAgICAgICANCiAgICAkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtKCk7ICAgDQogICAgJGNvbnRlbnQgPSAkZm9ybTsvLyRjb250ZW50ID0gJ2NvbnRlbnQnOw0KICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCk7DQogIH0NCg0KICBmdW5jdGlvbiBzZXRVcGxvYWQoJGR0KXsgIA0KICAgZ2xvYmFsICRTZW5zdXNUbXAgLCRNYWluOw0KICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgICAgIA0KICAgJGpzb24gPSBUUlVFOyAgLy8kRXJyTXNnID0gJ3Rlcyc7ICAgIA0KICAgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtJzsNCiAgICAgICAgDQogICR0aGlzLT5mb3JtX3dpZHRoID0gNTAwOw0KICAgJHRoaXMtPmZvcm1faGVpZ2h0ID0gMjAwOw0KICAgIGlmICgkdGhpcy0+Zm9ybV9mbVNUPT0wKSB7DQogICAgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdCYXJ1JzsNCiAgICANCiAgLy8gICRuaXAgICA9ICcnOw0KICAgIH1lbHNlew0KICAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnRWRpdCc7ICAgICANCiAgICAkcmVhZG9ubHk9J3JlYWRvbmx5JzsNCiAgICAkZ2V0ID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gaW1hZ2VzIHdoZXJlIGlkID0nJGR0JyIpKTsNCiAgICBmb3JlYWNoICgkZ2V0IGFzICRrZXkgPT4gJHZhbHVlKSB7IA0KICAgICAgICAkJGtleSA9ICR2YWx1ZTsgDQogICAgICB9IA0KICAgICR0YW5nZ2FsX3VwZGF0ZSA9IGV4cGxvZGUoIi0iLCR0YW5nZ2FsX3VwZGF0ZSk7DQogICAgJHRhbmdnYWxfdXBkYXRlID0gJHRhbmdnYWxfdXBkYXRlWzJdLiItIi4kdGFuZ2dhbF91cGRhdGVbMV0uIi0iLiR0YW5nZ2FsX3VwZGF0ZVswXTsgICAgIA0KICAgIH0NCiAgIC8vaXRlbXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICRnZXRkYXRha2F0ZWdvcmkgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgiU0VMRUNUICogRlJPTSBpbWFnZXMgd2hlcmUgaWQ9JyRpZF9rYXRlZ29yaSciKSk7DQogICAgJHRoaXMtPmZvcm1fZmllbGRzID0gYXJyYXkoDQogICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAnVXBsb2FkJyA9PiBhcnJheSggDQogICAgICAgICAgICAgICAgJ2xhYmVsJz0+J1VwbG9hZCcsDQogICAgICAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4xMDAsIA0KICAgICAgICAgICAgICAgICd2YWx1ZSc9Pg0KICAgICAgICAgICAgICAgICI8Zm9ybT48L2Zvcm0+Ii4NCiAgICAgICAgICAgICAgICAiPGZvcm0gYWN0aW9uPSdwYWdlcy5waHA\/UGc9cHJvY2Vzc3VwbG9hZGZpbGVhcnNpcCcgbWV0aG9kPSdwb3N0JyBlbmN0eXBlPSdtdWx0aXBhcnQvZm9ybS1kYXRhJyBpZD0nVXBsb2FkRm9ybSc+Ii4NCiAgICAgICAgICAgICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9J2lkJyBuYW1lPSdpZCcgdmFsdWU9JyIuJGlkLiInID4iLg0KICAgICAgICAgICAgICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9J2ZvbGRlcicgbmFtZT0nZm9sZGVyJyB2YWx1ZT0nIi4kZ2V0ZGF0YWthdGVnb3JpWyduYW1hX2thdGVnb3JpJ10uIicgPiIuDQogICAgICAgICAgICAgICAgIjxpbnB1dCBpZD0nSW1hZ2VGaWxlJyBuYW1lPSdJbWFnZUZpbGUnIHR5cGU9J2ZpbGUnICBvbmNoYW5nZT1cIiIuJHRoaXMtPlByZWZpeC4iLmJ0ZmlsZV9vbmNoYW5nZSgpO1wiIC8+Ig0KICAgICAgICAgICAgICAgICAgICAgICAgICAuIjwvZm9ybT4iLCANCiAgICAgICAgICAgICAgICApLA0KICAgICAgKTsNCiAgICANCiAgICAgICAgICAgICAgDQogICAgJGZvcm0gPSAkdGhpcy0+Z2VuRm9ybSgpOyAgIA0KICAgICRjb250ZW50ID0gJGZvcm07Ly8kY29udGVudCA9ICdjb250ZW50JzsNCiAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOw0KICB9DQogICAgDQogIGZ1bmN0aW9uIHNldEZvcm0oJGR0KXsgIA0KICAgZ2xvYmFsICRTZW5zdXNUbXAgLCRNYWluOw0KICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgICAgIA0KICAgJGpzb24gPSBUUlVFOyAgLy8kRXJyTXNnID0gJ3Rlcyc7ICAgIA0KICAgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtJzsNCiAgICAgICAgDQogICR0aGlzLT5mb3JtX3dpZHRoID0gNTAwOw0KICAgJHRoaXMtPmZvcm1faGVpZ2h0ID0gMjAwOw0KICAgIGlmICgkdGhpcy0+Zm9ybV9mbVNUPT0wKSB7DQogICAgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdCYXJ1JzsNCiAgICAJJGthdGVnb3JpID0gJF9SRVFVRVNUWydmaWx0ZXJLYXRlZ29yaSddOw0KICAvLyAgJG5pcCAgID0gJyc7DQogICAgfWVsc2V7DQogICAgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdFZGl0JzsgICAgIA0KICAgICRyZWFkb25seT0ncmVhZG9ubHknOw0KICAgICRnZXQgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSAkdGhpcy0+VGJsTmFtZSB3aGVyZSBpZCA9JyRkdCciKSk7DQogICAgZm9yZWFjaCAoJGdldCBhcyAka2V5ID0+ICR2YWx1ZSkgeyANCiAgICAgICAgJCRrZXkgPSAkdmFsdWU7IA0KICAgICAgfSANCiAgICAkdGFuZ2dhbF91cGRhdGUgPSBleHBsb2RlKCItIiwkdGFuZ2dhbF91cGRhdGUpOw0KICAgICR0YW5nZ2FsX3VwZGF0ZSA9ICR0YW5nZ2FsX3VwZGF0ZVsyXS4iLSIuJHRhbmdnYWxfdXBkYXRlWzFdLiItIi4kdGFuZ2dhbF91cGRhdGVbMF07ICAgICANCiAgICB9DQogICAgDQogICAgICAgICAgICAgICAkY21iS2F0ZWdvcmkgPSBjbWJRdWVyeSgnY21iS2F0ZWdvcmknLCRrYXRlZ29yaSwiU0VMRUNUIGlkLG5hbWEgZnJvbSBpbWFnZXNfa2F0ZWdvcmkgIiwnLS0gU2VsZWN0IE9wdGlvbiAtLScpOw0KICAgLy9pdGVtcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgJHRoaXMtPmZvcm1fZmllbGRzID0gYXJyYXkoDQogICAgICANCiAgICAgICAgDQogICAgICAnbmFtYScgPT4gYXJyYXkoIA0KICAgICAgICAgICAgJ2xhYmVsJz0+J05BTUEnLA0KICAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4xMDAsIA0KICAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSduYW1hJyBpZD0nbmFtYScgdmFsdWU9JyIuJG5hbWEuIicgcGxhY2Vob2xkZXI9J05BTUEnIHN0eWxlPSd3aWR0aDoyNTBweDsnPg0KICAgICAgICAgICAgPC9kaXY+IiwgDQogICAgICAgICAgICAgKSwNCg0KICAgICAgJ2thdGVnb3JpJyA9PiBhcnJheSggDQogICAgICAgICAgJ2xhYmVsJz0+J0tBVEVHT1JJJywNCiAgICAgICAgICAnbGFiZWxXaWR0aCc9PjEwMCwgDQogICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4NCiAgICAgICAgICAgICRjbWJLYXRlZ29yaQ0KICAgICAgICAgIDxpbnB1dCB0eXBlPSdidXR0b24nIG5hbWU9J3dhcm5hQmFydScgaWQ9J3dhcm5hQmFydScgdmFsdWU9J0JhcnUnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5uZXdLYXRlZ29yaSgpJz4NCiAgICAgICAgICA8aW5wdXQgdHlwZT0nYnV0dG9uJyBuYW1lPSdlZGl0JyBpZD0nZWRpdCcgdmFsdWU9J0VkaXQnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5lZGl0S2F0ZWdvcmkoKSc+DQogICAgICAgICAgPC9kaXY+IiwgDQogICAgICAgICAgKSwNCg0KICAgICAgJ2ltYWdlJyA9PiBhcnJheSgNCiAgICAgICAgICAgICdsYWJlbCcgPT4gJ0lNQUdFJywNCiAgICAgICAgICAgICdsYWJlbFdpZHRoJyA9PiAxMDAsDQogICAgICAgICAgICAndmFsdWUnID0+ICINCiAgICAgICAgICAgICA8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSd0YW5nZ2FsJyBpZD0ndGFuZ2dhbCcgdmFsdWU9JyIuZGF0ZSgnWS1tLWQnKS4iJw0KICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0ndGFuZ2dhbCcgc3R5bGU9J3dpZHRoOjI1MHB4Oyc+DQoJCQkgIDxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J25hbWVPZkZpbGUnIGlkPSduYW1lT2ZGaWxlJyA+DQoJCQkgIDxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2Jhc2VPZkZpbGUnIGlkPSdiYXNlT2ZGaWxlJyA+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J2ZpbGUnIG5hbWU9J2ltYWdlRmlsZScgaWQ9J2ltYWdlRmlsZScgYWNjZXB0PSdpbWFnZS94LXBuZyxpbWFnZS9naWYsaW1hZ2UvanBlZycgb25jaGFuZ2U9JHRoaXMtPlByZWZpeC5maWxlQ2hvb3NlckNoYW5nZWQoKSBwbGFjZWhvbGRlcj0naW1hZ2UnPg0KICAgICAgICAgICAgIiwNCiAgICAgICAgICApLCAgICAgICAgICAgICAgICAgICAgIA0KDQogICAgICApOw0KICAgIC8vdG9tYm9sDQogICAgJHRoaXMtPmZvcm1fbWVudWJhd2FoID0NCiAgICAgIA0KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdTaW1wYW4nIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5TaW1wYW4oJGR0KScgdGl0bGU9J1NpbXBhbicgPiAmbmJzcCIuDQogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0JhdGFsJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuQ2xvc2UoKScgPiI7DQogICAgICAgICAgICAgIA0KICAgICRmb3JtID0gJHRoaXMtPmdlbkZvcm0oKTsgICANCiAgICAkY29udGVudCA9ICRmb3JtOy8vJGNvbnRlbnQgPSAnY29udGVudCc7DQogICAgcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50KTsNCiAgfQ0KICANCg0KICAgIA0KICAvL2RhZnRhciA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgZnVuY3Rpb24gc2V0S29sb21IZWFkZXIoJE1vZGU9MSwgJENoZWNrYm94PScnKXsNCiAgICAkTm9tb3JDb2xTcGFuID0gJE1vZGU9PTE\/IDI6IDE7DQogICAgJGhlYWRlclRhYmxlID0NCiAgICAgICI8dGhlYWQ+DQogICAgICAgIDx0cj4NCiAgICAgICAgDQogICAgICAgIDx0aCBjbGFzcz0ndGgwMScgd2lkdGg9JzQwJz5Oby48L3RoPg0KICAgICAgICAkQ2hlY2tib3ggIA0KCQkgPHRoIGNsYXNzPSd0aDAxJyB3aWR0aD0nNDAwJyA+S0FURUdPUkkgPC90aD4gDQogICAgICAgIDx0aCBjbGFzcz0ndGgwMScgd2lkdGg9JzUwMCcgPk5BTUEgPC90aD4NCiAgICAgICANCiAgICAgICAgPHRoIGNsYXNzPSd0aDAxJyB3aWR0aD0nNTAnID5VU0VSTkFNRSA8L3RoPg0KICAgICAgICA8dGggY2xhc3M9J3RoMDEnIHdpZHRoPScxNTAnID5UQU5HR0FMIFVQTE9BRCA8L3RoPg0KICAgICAgICA8dGggY2xhc3M9J3RoMDEnIHdpZHRoPSc1MCcgPklNQUdFIEZJTEUgPC90aD4NCiAgICAgICAgPC90cj4NCiAgICAgICAgDQogICAgICA8L3RoZWFkPiI7DQogICAgcmV0dXJuICRoZWFkZXJUYWJsZTsNCiAgfQ0KICANCiAgZnVuY3Rpb24gc2V0S29sb21EYXRhKCRubywgJGlzaSwgJE1vZGUsICRUYW1waWxDaGVja0JveCl7DQoJDQogICAgZ2xvYmFsICRSZWY7DQoJZm9yZWFjaCAoJGlzaSBhcyAka2V5ID0+ICR2YWx1ZSkgeyANCgkJCQkgICQka2V5ID0gJHZhbHVlOyANCgkJCQl9DQogICAgJEtvbG9tcyA9IGFycmF5KCk7DQogICAgJEtvbG9tc1tdID0gYXJyYXkoJ2FsaWduPXJpZ2h0JywgJG5vLicuJyApOw0KICAgIGlmICgkTW9kZSA9PSAxKSAkS29sb21zW10gPSBhcnJheSgiIGFsaWduPSdjZW50ZXInICAiLCAkVGFtcGlsQ2hlY2tCb3gpOw0KCSRnZXROYW1hS2F0ZWdvcmkgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgic2VsZWN0ICogZnJvbSBpbWFnZXNfa2F0ZWdvcmkgd2hlcmUgaWQgPScka2F0ZWdvcmknIikpOw0KCSRuYW1hS2F0ZWdvcmkgPSAkZ2V0TmFtYUthdGVnb3JpWyduYW1hJ107DQogICAgJEtvbG9tc1tdID0gYXJyYXkoJ2FsaWduID0ibGVmdCInLCAkbmFtYUthdGVnb3JpICk7DQogICAgJEtvbG9tc1tdID0gYXJyYXkoJ2FsaWduID0ibGVmdCInLCAkbmFtYSk7DQogICAgDQogICAgJEtvbG9tc1tdID0gYXJyYXkoJ2FsaWduID0ibGVmdCInLCAkaXNpWyd1c2VybmFtZSddKTsNCiAgICAkS29sb21zW10gPSBhcnJheSgnYWxpZ24gPSJjZW50ZXIiJywgJGlzaVsndGFuZ2dhbF91cGxvYWQnXSk7DQogICAgJEtvbG9tc1tdID0gYXJyYXkoJ2FsaWduID0iY2VudGVyIicsIjxzcGFuIHN0eWxlPSdjb2xvcjpyZWQ7Y3Vyc29yOnBvaW50ZXI7JyBvbmNsaWNrPSR0aGlzLT5QcmVmaXguc2hvd0ltYWdlKCRpZCk+U0hPVzwvc3Bhbj4iKTsgIA0KICAgIHJldHVybiAkS29sb21zOw0KICB9DQogIA0KIGZ1bmN0aW9uIGdlbkRhZnRhck9wc2koKXsNCgkgZ2xvYmFsICRSZWYsICRNYWluOw0KCSBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsgDQoJCQkJICAkJGtleSA9ICR2YWx1ZTsgDQoJCQkJfQ0KCSANCgkgIA0KCSAgJHF1ZXJ5Q21iS2F0ZWdvcmkgPSAic2VsZWN0IGlkLCBuYW1hIGZyb20gaW1hZ2VzX2thdGVnb3JpICI7DQoJICAkY29tYm9LYXRlZ29yaSA9IGNtYlF1ZXJ5KCdmaWx0ZXJLYXRlZ29yaScsJGZpbHRlckthdGVnb3JpLCRxdWVyeUNtYkthdGVnb3JpLCInIG9uY2hhbmdlID0kdGhpcy0+UHJlZml4LnJlZnJlc2hMaXN0KHRydWUpOyAiLCctLSBTZW11YSBLYXRlZ29yaSAtLScpOw0KDQoJIGlmKGVtcHR5KCRqdW1sYWhQZXJIYWwpKSRqdW1sYWhQZXJIYWwgPSAiMjUiOw0KCSRUYW1waWxPcHQgPSANCgkJCSI8ZGl2IGNsYXNzPSdGaWx0ZXJCYXInIHN0eWxlPSdtYXJnaW4tdG9wOjVweDsnPiIuDQoJCQkiPHRhYmxlIHN0eWxlPSd3aWR0aDoxMDAlJz4NCgkJCTx0cj4NCgkJCTx0ZD5LQVRFR09SSSA8L3RkPg0KCQkJPHRkPjogPC90ZD4NCgkJCTx0ZCBzdHlsZT0nd2lkdGg6OTAlOyc+JGNvbWJvS2F0ZWdvcmkgPC90ZD4NCgkJCTwvdHI+DQoJCQkNCgkJCTx0cj4NCgkJCTx0ZD5OQU1BIDwvdGQ+DQoJCQk8dGQ+OiA8L3RkPg0KCQkJPHRkIHN0eWxlPSd3aWR0aDo5MCU7Jz48aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZmlsdGVyTmFtYScgaWQ9J2ZpbHRlck5hbWEnIHZhbHVlPSckZmlsdGVyTmFtYSc+IDxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSd0YW1waWxrYW4nIG9uY2xpY2s9ICR0aGlzLT5QcmVmaXgucmVmcmVzaExpc3QodHJ1ZSk7PiA8L3RkPg0KCQkJPC90cj4NCgkJDQoNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQk8L3RhYmxlPiIuDQoJCQkiPC9kaXY+Ii4NCgkJCSI8ZGl2IGNsYXNzPSdGaWx0ZXJCYXInIHN0eWxlPSdtYXJnaW4tdG9wOjVweDsnPiIuDQoJCQkiPHRhYmxlIHN0eWxlPSd3aWR0aDoxMDAlJz4NCgkJCTx0ZD5KVU1MQUgvSEFMIDwvdGQ+DQoJCQk8dGQ+OiA8L3RkPg0KCQkJPHRkIHN0eWxlPSd3aWR0aDo5MCU7Jz48aW5wdXQgdHlwZT0gJ3RleHQnIGlkPSdqdW1sYWhQZXJIYWwnIG5hbWU9J2p1bWxhaFBlckhhbCcgdmFsdWU9JyRqdW1sYWhQZXJIYWwnIHN0eWxlPSd3aWR0aDo0MHB4Oyc+IDxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdUYW1waWxrYW4nIG9uY2xpY2s9JHRoaXMtPlByZWZpeC5yZWZyZXNoTGlzdCh0cnVlKSA8L3RkPg0KCQkJPC90cj4NCgkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KCQkJPC90YWJsZT4iLg0KCQkJIjwvZGl2PiINCgkJCQ0KCQkJOw0KCQlyZXR1cm4gYXJyYXkoJ1RhbXBpbE9wdCc9PiRUYW1waWxPcHQpOw0KCX0JCQkNCiAgDQogIGZ1bmN0aW9uIGdldERhZnRhck9wc2koJE1vZGU9MSl7DQoJCWdsb2JhbCAkTWFpbiwgJEhUVFBfQ09PS0lFX1ZBUlM7DQoJCSRVSUQgPSAkX0NPT0tJRVsnY29JRCddOyANCgkJIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgeyANCgkJCQkgICQka2V5ID0gJHZhbHVlOyANCgkJCQl9DQoJCSR0aGlzLT5wYWdlUGVySGFsID0gJGp1bWxhaFBlckhhbDsNCgkJJGFycktvbmRpc2kgPSBhcnJheSgpOwkJDQoJCWlmKCFlbXB0eSgkZmlsdGVyS2F0ZWdvcmkpKSRhcnJLb25kaXNpW109ImthdGVnb3JpID0nJGZpbHRlckthdGVnb3JpJyI7DQoJCWlmKCFlbXB0eSgkZmlsdGVyTmFtYSkpJGFycktvbmRpc2lbXT0ibmFtYSBsaWtlICclJGZpbHRlck5hbWElJyI7DQoNCgkJDQoJCQ0KDQoJCSRLb25kaXNpPSBqb2luKCcgYW5kICcsJGFycktvbmRpc2kpOwkJDQoJCSRLb25kaXNpID0gJEtvbmRpc2kgPT0nJyA\/ICcnOicgV2hlcmUgJy4kS29uZGlzaTsNCgkJDQoJCS8vT3JkZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCQkkZm1PUkRFUjEgPSBjZWtQT1NUKCdmbU9SREVSMScpOw0KCQkkZm1ERVNDMSA9IGNla1BPU1QoJ2ZtREVTQzEnKTsJCQkNCgkJJEFzYzEgPSAkZm1ERVNDMSA9PScnPyAnJzogJ2Rlc2MnOwkJDQoJCSRhcnJPcmRlcnMgPSBhcnJheSgpOw0KCQkvLyRhcnJPcmRlcnNbXSA9ICJjb25jYXQocmlnaHQoKDEwMCAraWRfc3lzdGVtKSwyKSwnLicscmlnaHQoKDEwMCAraWRfbW9kdWwpLDIpLCcuJyxyaWdodCgoMTAwMCAraWRfc3ViX21vZHVsKSwzKSkiOw0KCQkkT3JkZXI9IGpvaW4oJywnLCRhcnJPcmRlcnMpOwkNCgkJJE9yZGVyRGVmYXVsdCA9ICIgIjsvLyBPcmRlciBCeSBub190ZXJpbWEgZGVzYyAnOw0KCQkkT3JkZXIgPSAgJE9yZGVyID09Jyc\/ICRPcmRlckRlZmF1bHQgOiAnIE9yZGVyIEJ5ICcuJE9yZGVyOw0KCQkkcGFnZVBlckhhbCA9ICR0aGlzLT5wYWdlUGVySGFsID09JycgPyAkTWFpbi0+UGFnZVBlckhhbDogJHRoaXMtPnBhZ2VQZXJIYWw7IA0KCQkkSGFsRGVmYXVsdD1jZWtQT1NUKCR0aGlzLT5QcmVmaXguJ19oYWwnLDEpOwkJCQkJDQoJCSRMaW1pdCA9ICIgbGltaXQgIi4oKCRIYWxEZWZhdWx0CSoxKSAtIDEpICogJHBhZ2VQZXJIYWwuIiwiLiRwYWdlUGVySGFsOyAvLyRMaW1pdEhhbCA9ICcnOw0KCQkkTGltaXQgPSAkTW9kZSA9PSAzID8gJyc6ICRMaW1pdDsNCgkJJE5vQXdhbD0gJHBhZ2VQZXJIYWwgKiAoKCRIYWxEZWZhdWx0KjEpIC0gMSk7CQkJCQkJCQ0KCQkkTm9Bd2FsID0gJE1vZGUgPT0gMyA\/IDA6ICROb0F3YWw7CQ0KCQkNCgkJcmV0dXJuIGFycmF5KCdLb25kaXNpJz0+JEtvbmRpc2ksICdPcmRlcic9PiRPcmRlciAsJ0xpbWl0Jz0+JExpbWl0LCAnTm9Bd2FsJz0+JE5vQXdhbCk7DQoJCQ0KCX0NCn0NCiRyZWZfaW1hZ2VzID0gbmV3IHJlZl9pbWFnZXNPYmooKTsNCiRyZWZfaW1hZ2VzLT51c2VybmFtZSA9ICRfQ09PS0lFWydjb0lEJ107DQo\/Pg==",
    "size": "46675"
}