{
    "namaFile": "js\/ref_images\/ref_images.js",
    "lastUpdate": "2017-10-25+17:12:12.03",
    "contentFile": "DQoNCnZhciByZWZfaW1hZ2VzID0gbmV3IERhZnRhck9iajIoew0KICBwcmVmaXggOiAncmVmX2ltYWdlcycsDQogIHVybCA6ICdwYWdlcy5waHA\/UGc9cmVmX2ltYWdlcycsIA0KICAvL2Zvcm1OYW1lIDogJ3JlZl9pbWFnZXNfZm9ybScsDQogIGZvcm1OYW1lIDogJ3JlZl9pbWFnZXNGb3JtJywNCiAgLy9yZWZfaW1hZ2VzX2Zvcm0NCiAgbG9hZGluZzogZnVuY3Rpb24oKXsNCiAgICAvL2FsZXJ0KCdsb2FkaW5nJyk7DQogICAgdGhpcy50b3BCYXJSZW5kZXIoKTsNCiAgICB0aGlzLmZpbHRlclJlbmRlcigpOw0KICAgIHRoaXMuZGFmdGFyUmVuZGVyKCk7DQogICAgdGhpcy5zdW1IYWxSZW5kZXIoKTsNCiAgDQogIH0sDQogIA0KICBmaW5kOiBmdW5jdGlvbigpew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgbWUucmVmcmVzaExpc3QodHJ1ZSk7IA0KICB9LA0KICBkZXRhaWw6IGZ1bmN0aW9uKCl7DQogICAgLy9hbGVydCgnZGV0YWlsJyk7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICBlcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7DQogICAgaWYoZXJybXNnID09JycpeyANCiAgICAgIHZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsgICAgIA0KICAgICAgLy9Vc2VyQWt0aXZpdGFzRGV0LmdlbkRldGFpbCgpOyAgICAgDQogICAgICANCiAgICB9ZWxzZXsNCiAgICAgIGFsZXJ0KGVycm1zZyk7DQogICAgfQ0KICAgIA0KICB9LA0Kc2hvd0ltYWdlOmZ1bmN0aW9uKGlkKXsNCgkJDQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyJzsNCgkJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSsiJmlkPSIraWQsDQoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c2hvd0ltYWdlJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCQlpZiAocmVzcC5lcnIgPT0nJyl7CQkNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCgkJCQkJfQ0KCQkJICAJfQ0KCQkJfSk7CQkNCgl9LA0KICBCYXJ1OiBmdW5jdGlvbigpeyANCiAgICANCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIHZhciBlcnI9Jyc7DQogICAgDQogICAgaWYgKGVyciA9PScnICl7ICAgDQogICAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7DQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOyAgDQogICAgICAkLmFqYXgoew0KICAgICAgICB0eXBlOidQT1NUJywgDQogICAgICAgIGRhdGE6JCgnI3JlZl9pbWFnZXNfZm9ybScpLnNlcmlhbGl6ZSgpLA0KICAgICAgICAgIHVybDogdGhpcy51cmwrJyZ0aXBlPWZvcm1CYXJ1JywNCiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7ICAgDQogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOyAgICAgIA0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQogICAgICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna29kZTEnKS5mb2N1cygpOyAgICAgDQogICAgICAgICAgbWUuQWZ0ZXJGb3JtQmFydSgpOw0KICAgICAgICAgICQoJyN0YW5nZ2FsX3VwZGF0ZScpLmRhdGVwaWNrZXIoew0KICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQ6ICdkZC1tbS15eScsDQogICAgICAgICAgICAgIHNob3dBbmltOiAnc2xpZGVEb3duJywNCiAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsDQogICAgICAgICAgICAgIHNob3dPbjogImJ1dHRvbiIsDQogICAgICAgICAgICAgICAgYnV0dG9uSW1hZ2U6ICJpbWFnZXMvY2FsZW5kYXIuZ2lmIiwNCiAgICAgICAgICAgICAgICAgIGJ1dHRvbkltYWdlT25seTogdHJ1ZSwNCiAgICAgICAgICAgICAgY2hhbmdlTW9udGg6IHRydWUsDQogICAgICAgICAgICAgICAgICBjaGFuZ2VZZWFyOiB0cnVlLA0KICAgICAgICAgICAgICBidXR0b25UZXh0IDogJycsDQogICAgICAgICAgICAgIGRlZmF1bHREYXRlOiArMA0KICAgICAgICAgIH0pOyANCiAgICAgICAgICAkKCIjdGFuZ2dhbF91cGRhdGUiKS5kYXRlcGlja2VyKHsgZGF0ZUZvcm1hdDogImRkLW1tLXl5IiB9KTsNCiAgICAgICAgICB9DQogICAgICB9KTsNCiAgICANCiAgICB9ZWxzZXsNCiAgICAgIGFsZXJ0KGVycik7DQogICAgfQ0KICB9LA0KDQoNCg0KICBFZGl0OmZ1bmN0aW9uKCl7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICBlcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7DQogICAgaWYoZXJybXNnID09JycpeyANCiAgICAgIHZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsgICANCiAgICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyJzsNCiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsgIA0KICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCiAgICAgICQuYWpheCh7DQogICAgICAgIHR5cGU6J1BPU1QnLCANCiAgICAgICAgZGF0YTokKCcjcmVmX2ltYWdlc0Zvcm0nKS5zZXJpYWxpemUoKSwNCiAgICAgICAgdXJsOiB0aGlzLnVybCsnJnRpcGU9Zm9ybUVkaXQnLA0KICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsgICANCiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7ICANCiAgICAgICAgICBpZiAocmVzcC5lcnIgPT0nJyl7ICAgDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KICAgICAgICAgICAgbWUuQWZ0ZXJGb3JtRWRpdChyZXNwKTsNCiAgICAgICAgICAgICQoJyN0YW5nZ2FsX3VwZGF0ZScpLmRhdGVwaWNrZXIoew0KICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQ6ICdkZC1tbS15eScsDQogICAgICAgICAgICAgIHNob3dBbmltOiAnc2xpZGVEb3duJywNCiAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsDQogICAgICAgICAgICAgIHNob3dPbjogImJ1dHRvbiIsDQogICAgICAgICAgICAgICAgYnV0dG9uSW1hZ2U6ICJpbWFnZXMvY2FsZW5kYXIuZ2lmIiwNCiAgICAgICAgICAgICAgICAgIGJ1dHRvbkltYWdlT25seTogdHJ1ZSwNCiAgICAgICAgICAgICAgY2hhbmdlTW9udGg6IHRydWUsDQogICAgICAgICAgICAgICAgICBjaGFuZ2VZZWFyOiB0cnVlLA0KICAgICAgICAgICAgICBidXR0b25UZXh0IDogJycsDQogICAgICAgICAgICAgIGRlZmF1bHREYXRlOiArMA0KICAgICAgICAgIH0pOyANCiAgICAgICAgICAkKCIjdGFuZ2dhbF91cGRhdGUiKS5kYXRlcGlja2VyKHsgZGF0ZUZvcm1hdDogImRkLW1tLXl5IiB9KTsNCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgICAgIGRlbEVsZW0oY292ZXIpOw0KICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7DQogICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH1lbHNlew0KICAgICAgYWxlcnQoZXJybXNnKTsNCiAgICB9DQogICAgDQogIH0sDQoNCiAgVXBsb2FkOmZ1bmN0aW9uKCl7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICBlcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7DQogICAgaWYoZXJybXNnID09JycpeyANCiAgICAgIHZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsgICANCiAgICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyJzsNCiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsgIA0KICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCiAgICAgICQuYWpheCh7DQogICAgICAgIHR5cGU6J1BPU1QnLCANCiAgICAgICAgZGF0YTokKCcjcmVmX2ltYWdlc0Zvcm0nKS5zZXJpYWxpemUoKSwNCiAgICAgICAgdXJsOiB0aGlzLnVybCsnJnRpcGU9Zm9ybVVwbG9hZCcsDQogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgeyAgIA0KICAgICAgICAgIHZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsgIA0KICAgICAgICAgIGlmIChyZXNwLmVyciA9PScnKXsgICANCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQogICAgICAgICAgICBtZS5BZnRlckZvcm1FZGl0KHJlc3ApOw0KICAgICAgICAgICAgJCgnI3RhbmdnYWxfdXBkYXRlJykuZGF0ZXBpY2tlcih7DQogICAgICAgICAgICAgICAgZGF0ZUZvcm1hdDogJ2RkLW1tLXl5JywNCiAgICAgICAgICAgICAgc2hvd0FuaW06ICdzbGlkZURvd24nLA0KICAgICAgICAgICAgICAgIGlubGluZTogdHJ1ZSwNCiAgICAgICAgICAgICAgc2hvd09uOiAiYnV0dG9uIiwNCiAgICAgICAgICAgICAgICBidXR0b25JbWFnZTogImltYWdlcy9jYWxlbmRhci5naWYiLA0KICAgICAgICAgICAgICAgICAgYnV0dG9uSW1hZ2VPbmx5OiB0cnVlLA0KICAgICAgICAgICAgICBjaGFuZ2VNb250aDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgIGNoYW5nZVllYXI6IHRydWUsDQogICAgICAgICAgICAgIGJ1dHRvblRleHQgOiAnJywNCiAgICAgICAgICAgICAgZGVmYXVsdERhdGU6ICswDQogICAgICAgICAgfSk7IA0KICAgICAgICAgICQoIiN0YW5nZ2FsX3VwZGF0ZSIpLmRhdGVwaWNrZXIoeyBkYXRlRm9ybWF0OiAiZGQtbW0teXkiIH0pOw0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICAgICAgZGVsRWxlbShjb3Zlcik7DQogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCiAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfWVsc2V7DQogICAgICBhbGVydChlcnJtc2cpOw0KICAgIH0NCiAgICANCiAgfSwNCg0KICBlZGl0S2F0ZWdvcmk6IGZ1bmN0aW9uKGlkTWVyayl7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgZXJyPScnOw0KICAgIGlmIChlcnIgPT0nJyApeyAgIA0KICAgICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXJLQic7DQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KICAgICAgYWRkQ292ZXJQYWdlMihjb3Zlciw5LHRydWUsZmFsc2UpOyAgDQogICAgICAkLmFqYXgoew0KICAgICAgICB0eXBlOidQT1NUJywgDQogICAgICAgIGRhdGE6ew0KICAgICAgICAgICAgY21iS2F0ZWdvcmkgOiAkKCIjY21iS2F0ZWdvcmkiKS52YWwoKSwgICAgDQogICAgICAgICAgIH0sDQogICAgICAgICAgdXJsOiB0aGlzLnVybCsnJnRpcGU9ZWRpdEthdGVnb3JpJywNCiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7ICAgDQogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOyAgICAgIA0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7ICANCiAgICAgICAgICANCiAgICAgICAgICAvL21lLkFmdGVyRm9ybUJhcnUoKTsNCiAgICAgICAgICB9DQogICAgICB9KTsNCiAgICB9ZWxzZXsNCiAgICAgIGFsZXJ0KGVycik7DQogICAgfSANCiAgICANCiAgfSwNCg0KICBzYXZlRWRpdEthdGVnb3JpOiBmdW5jdGlvbihpZEthdGVnb3JpKXsNCiAgICB2YXIgbWU9IHRoaXM7DQogICAgdmFyIGVycj0nJzsNCiAgICANCiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlIA0KICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3Jtc2ltcGFuS0InOw0KICAgIGFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsgIA0KICAgIA0KICAgICQuYWpheCh7DQogICAgICB0eXBlOidQT1NUJywgDQogICAgICBkYXRhOnsNCg0KICAgICAgICAgIG5hbWFfa2F0ZWdvcmkgOiAkKCIjbmFtYV9rYXRlZ29yaSIpLnZhbCgpLA0KICAgICAgICAgIGNtYkthdGVnb3JpIDogJCgiI2NtYkthdGVnb3JpIikudmFsKCksDQoNCiAgICAgICAgICB9LA0KICAgICAgdXJsOiB0aGlzLnVybCsnJnRpcGU9c2F2ZUVkaXRLYXRlZ29yaScsDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsgICANCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOyAgDQogICAgICAgIGRlbEVsZW0oY292ZXIpOyAgIA0KICAgICAgICANCiAgICAgICAgaWYocmVzcC5lcnI9PScnKXsNCg0KICAgICAgICAgIC8vbWUucmVsb2FkVGFiZWwoKTsNCg0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NtYkthdGVnb3JpJykuaW5uZXJIVE1MPXJlc3AuY29udGVudC5jbWJLYXRlZ29yaTsNCiAgICAgICAgICBtZS5DbG9zZTIoKTsgICAgICAgIA0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIA0KICB9LA0KDQogIFNpbXBhbkthdGVnb3JpOiBmdW5jdGlvbihkdCl7DQogICAgdmFyIG1lPSB0aGlzOw0KICAgIHZhciBlcnI9Jyc7DQogICAgDQogICAgdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZSANCiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybXNpbXBhbktCJzsNCiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7DQogICAgDQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6J1BPU1QnLCANCiAgICAgIGRhdGE6JCgnIycrdGhpcy5wcmVmaXgrJ19LQmZvcm0nKS5zZXJpYWxpemUoKSwNCiAgICAgIHVybDogdGhpcy51cmwrJyZ0aXBlPVNpbXBhbkthdGVnb3JpJywNCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICB2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7ICANCiAgICAgICAgZGVsRWxlbShjb3Zlcik7ICAgDQogICAgICAgIGlmKHJlc3AuZXJyPT0nJyl7DQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NtYkthdGVnb3JpJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LnJlcGxhY2VyOw0KICAgICAgICAgIG1lLkNsb3NlMigpOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICBhbGVydChyZXNwLmVycik7DQogICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0pOyANCiAgfSwNCiAgDQogICAgbmV3S2F0ZWdvcmk6IGZ1bmN0aW9uKCl7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB2YXIgZXJyPScnOw0KICAgIGlmIChlcnIgPT0nJyApeyAgIA0KICAgICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXJLQic7DQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KICAgICAgYWRkQ292ZXJQYWdlMihjb3Zlciw5LHRydWUsZmFsc2UpOyAgDQogICAgICAkLmFqYXgoew0KICAgICAgICB0eXBlOidQT1NUJywgDQogICAgICAgIGRhdGE6ew0KICAgICAgICAgICAgY21iS2F0ZWdvcmkgOiAkKCIjY21iS2F0ZWdvcmkiKS52YWwoKSwgICAgDQogICAgICAgICAgIH0sDQogICAgICAgICAgdXJsOiB0aGlzLnVybCsnJnRpcGU9bmV3S2F0ZWdvcmknLA0KICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsgICANCiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7ICAgICAgDQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsgIA0KICAgICAgICAgIA0KICAgICAgICAgIC8vbWUuQWZ0ZXJGb3JtQmFydSgpOw0KICAgICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH1lbHNlew0KICAgICAgYWxlcnQoZXJyKTsNCiAgICB9IA0KICAgIA0KICB9LA0KICANCiAgTW9kdWw6ZnVuY3Rpb24oKXsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIGVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsNCiAgICBpZihlcnJtc2cgPT0nJyl7IA0KICAgICAgdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOyAgIA0KICAgICAgJC5hamF4KHsNCiAgICAgICAgdHlwZTonUE9TVCcsIA0KICAgICAgICBkYXRhOiQoJyNyZWZfaW1hZ2VzRm9ybScpLnNlcmlhbGl6ZSgpLA0KICAgICAgICB1cmw6IHRoaXMudXJsKycmdGlwZT1tb2R1bCcsDQogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgeyAgIA0KICAgICAgICAgIHZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsgIA0KDQogICAgICAgICAgcG9wdXBPcHRpb24ud2luZG93U2hvdyhyZXNwLmNvbnRlbnQuaWRBcGxpa2FzaSk7DQoNCiAgICAgICAgICB9DQogICAgICB9KTsNCiAgICB9ZWxzZXsNCiAgICAgIGFsZXJ0KGVycm1zZyk7DQogICAgfQ0KICAgIA0KICB9LA0KICANCiAgSGFwdXM6ZnVuY3Rpb24oKXsNCiAgICANCiAgICB2YXIgbWUgPXRoaXM7DQogICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19qbWxjZWsnKSl7DQogICAgICB2YXIgam1sY2VrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19qbWxjZWsnKS52YWx1ZSA7IA0KICAgIH1lbHNlew0KICAgICAgdmFyIGptbGNlayA9ICcnOw0KICAgIH0NCiAgICANCiAgICBpZihqbWxjZWsgPT0wKXsNCiAgICAgIGFsZXJ0KCdEYXRhIEJlbHVtIERpcGlsaWghJyk7DQogICAgfWVsc2V7DQogICAgICBpZihjb25maXJtKCdIYXB1cyAnK2ptbGNlaysnIERhdGEgPycpKXsNCiAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOyANCiAgICAgICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19oYXB1c2NvdmVyJzsNCiAgICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOw0KICAgICAgICAkLmFqYXgoew0KICAgICAgICAgIHR5cGU6J1BPU1QnLCANCiAgICAgICAgICBkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KICAgICAgICAgIHVybDogdGhpcy51cmwrJyZ0aXBlPWhhcHVzJywNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsgICANCiAgICAgICAgICAgIHZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsgICAgDQogICAgICAgICAgICBkZWxFbGVtKGNvdmVyKTsgICANCiAgICAgICAgICAgIGlmKHJlc3AuZXJyPT0nJyl7ICAgICAgICAgICAgIA0KICAgICAgICAgICAgICBtZS5DbG9zZSgpOw0KICAgICAgICAgICAgICBtZS5yZWZyZXNoTGlzdCh0cnVlKQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgICAgIH0gICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIA0KICAgICAgfSANCiAgICB9DQogIH0sDQogIA0KICANCiAgDQogIENsb3NlMjpmdW5jdGlvbigpey8vYWxlcnQodGhpcy5lbENvdmVyKTsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3ZlcktCJzsNCiAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikpIGRlbEVsZW0oY292ZXIpOyAgICAgIA0KICAgIGlmKHRpcGU9PW51bGwpew0KICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7ICAgICAgICAgICAgDQogICAgfQ0KICB9LA0KICANCiAgQ2xvc2UzOmZ1bmN0aW9uKCl7Ly9hbGVydCh0aGlzLmVsQ292ZXIpOw0KICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyS0MnOw0KICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKSkgZGVsRWxlbShjb3Zlcik7ICAgICAgDQogICAgaWYodGlwZT09bnVsbCl7DQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsgICAgICAgICAgICANCiAgICB9DQogIH0sDQogIA0KICBDbG9zZTQ6ZnVuY3Rpb24oKXsvL2FsZXJ0KHRoaXMuZWxDb3Zlcik7DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXJLRCc7DQogICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpKSBkZWxFbGVtKGNvdmVyKTsgICAgICANCiAgICBpZih0aXBlPT1udWxsKXsNCiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOyAgICAgICAgICAgIA0KICAgIH0NCiAgfSwNCiAgDQogIENsb3NlNTpmdW5jdGlvbigpey8vYWxlcnQodGhpcy5lbENvdmVyKTsNCiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3ZlcktFJzsNCiAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikpIGRlbEVsZW0oY292ZXIpOyAgICAgIA0KICAgIGlmKHRpcGU9PW51bGwpew0KICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7ICAgICAgICAgICAgDQogICAgfQ0KICB9LA0KICANCiAgc2ltcGFuTWVyZWs6IGZ1bmN0aW9uKGR0KXsNCiAgICB2YXIgbWU9IHRoaXM7DQogICAgdmFyIGVycj0nJzsNCiAgICANCiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlIA0KICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3Jtc2ltcGFuS0InOw0KICAgIGFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsNCiAgICANCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTonUE9TVCcsIA0KICAgICAgZGF0YTokKCcjJyt0aGlzLnByZWZpeCsnX0tCZm9ybScpLnNlcmlhbGl6ZSgpLA0KICAgICAgdXJsOiB0aGlzLnVybCsnJnRpcGU9U2ltcGFuS2F0ZWdvcmknLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIHZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsgIA0KICAgICAgICBkZWxFbGVtKGNvdmVyKTsgICANCiAgICAgICAgaWYocmVzcC5lcnI9PScnKXsNCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY21iS2F0ZWdvcmknKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQucmVwbGFjZXI7DQogICAgICAgICAgbWUuQ2xvc2UyKCk7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsNCiAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSk7IA0KICB9LA0KICANCiAgDQogIA0KICBTaW1wYW5FZGl0OiBmdW5jdGlvbigpew0KICAgIHZhciBtZT0gdGhpczsgDQogICAgdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZSANCiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybXNpbXBhbic7DQogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOyAgDQogICAgLyp0aGlzLnNlbmRSZXEoDQogICAgICB0aGlzLnVybCwNCiAgICAgIHsgaWRwcnM6IDAsIGRhZnRhclByb3NlczogbmV3IEFycmF5KCdzaW1wYW4nKX0sDQogICAgICB0aGlzLmZvcm1EaWFsb2cpOyovDQogICAgJC5hamF4KHsNCiAgICAgIHR5cGU6J1BPU1QnLCANCiAgICAgIGRhdGE6JCgnI3JlZl9pbWFnZXNfZm9ybScpLnNlcmlhbGl6ZSgpLA0KICAgICAgdXJsOiB0aGlzLnVybCsnJnRpcGU9c2ltcGFuRWRpdCcsDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsgICANCiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOyAgDQogICAgICAgIGRlbEVsZW0oY292ZXIpOyAgIA0KICAgICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQogICAgICAgIGlmKHJlc3AuZXJyPT0nJyl7DQogICAgICAgICAgYWxlcnQoJ0RhdGEgYmVyaGFzaWwgZGlzaW1wYW4nKTsNCiAgICAgICAgICBtZS5DbG9zZSgpOw0KICAgICAgICAgIG1lLnJlZnJlc2hMaXN0KHRydWUpOw0KICAgICAgICAgIG1lLkFmdGVyU2ltcGFuKCk7IA0KICAgICAgICB9DQogICAgICAgIGVsc2V7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCiAgfSwNCg0KICAgIGJ0ZmlsZV9vbmNoYW5nZTogZnVuY3Rpb24oKXsNCiAgICAkKCcjVXBsb2FkRm9ybScpLnN1Ym1pdCgpOyAgDQogIH0sDQoNCiAgU3ViTW9kdWxFZGl0OiBmdW5jdGlvbigpew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgdmFyIGVycj0nJzsNCiAgICBpZigkKCIjY21iU3ViTW9kdWwiKS52YWwoKSA9PSAnJyl7DQogICAgICBlcnIgPSAiUGlsaWggU3ViIE1vZHVsIjsNCiAgICB9DQogICAgaWYgKGVyciA9PScnICl7ICAgDQogICAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3ZlcktCJzsNCiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQogICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7ICANCiAgICAgICQuYWpheCh7DQogICAgICAgIHR5cGU6J1BPU1QnLCANCiAgICAgICAgZGF0YTp7aWRfa2F0ZWdvcmk6JCgnI2NtYkthdGVnb3JpJykudmFsKCl9LA0KICAgICAgICAgIHVybDogdGhpcy51cmwrJyZ0aXBlPWZvcm1CYXJ1U3ViTW9kdWwnLA0KICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsgICANCiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7ICAgICAgDQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsgICAgICANCiAgICAgICAgICAvL21lLkFmdGVyRm9ybUJhcnUoKTsNCiAgICAgICAgICB9DQogICAgICB9KTsNCiAgICB9ZWxzZXsNCiAgICAgIGFsZXJ0KGVycik7DQogICAgfSANCiAgICANCiAgfSwNCg0KICBidGZpbGVfb25jaGFuZ2U6IGZ1bmN0aW9uKCl7DQogICAgJCgnI1VwbG9hZEZvcm0nKS5zdWJtaXQoKTsgIA0KICB9LA0KICANCiAgU2ltcGFuOiBmdW5jdGlvbihpZCl7DQogICAgdmFyIG1lPSB0aGlzOyANCiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlIA0KICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3Jtc2ltcGFuJzsNCiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7ICANCiAgICAkLmFqYXgoew0KICAgICAgdHlwZTonUE9TVCcsIA0KICAgICAgZGF0YTokKCcjJyt0aGlzLnByZWZpeCsnX2Zvcm0nKS5zZXJpYWxpemUoKSsnJmh1YmxhPScraWQsDQogICAgICB1cmw6IHRoaXMudXJsKycmdGlwZT1zaW1wYW4nLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7ICAgDQogICAgICAgIHZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsgIA0KICAgICAgICBkZWxFbGVtKGNvdmVyKTsgICANCiAgICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KICAgICAgICBpZihyZXNwLmVycj09Jycpew0KICAgICAgICAgIG1lLkNsb3NlKCk7DQogICAgICAgICAgbWUuQWZ0ZXJTaW1wYW4oKTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOw0KICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgDQogIA0KICBmaWxlQ2hvb3NlckNoYW5nZWQ6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT0gdGhpczsJDQoJCXZhciBmaWxlc1NlbGVjdGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltYWdlRmlsZSIpLmZpbGVzOw0KCQlpZiAoZmlsZXNTZWxlY3RlZC5sZW5ndGggPiAwKQ0KCQl7DQoJCQl2YXIgZmlsZVRvTG9hZCA9IGZpbGVzU2VsZWN0ZWRbMF07DQoJDQoJCQl2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7DQoJDQoJCQlmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGZpbGVMb2FkZWRFdmVudCkgDQoJCQl7DQoJCQkJdmFyIHRleHRBcmVhRmlsZUNvbnRlbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQNCgkJCQkoDQoJCQkJCSJiYXNlT2ZGaWxlIg0KCQkJCSk7DQoJCQ0KCQkJCXRleHRBcmVhRmlsZUNvbnRlbnRzLnZhbHVlID0gZmlsZUxvYWRlZEV2ZW50LnRhcmdldC5yZXN1bHQ7DQoJCQkJJCgiI25hbWVPZkZpbGUiKS52YWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltYWdlRmlsZScpLnZhbHVlKTsNCgkJCX07DQoJDQoJCQlmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZVRvTG9hZCk7DQoJCX0NCgl9LA0KICANCiAgDQogICAgDQp9KTsNCg==",
    "size": "14443"
}