{
    "namaFile": "js\/pengadaanpenerimaan\/Persediaan\/pemasukan_baru.js",
    "lastUpdate": "2018-01-22+15:00:18.35",
    "contentFile": "dmFyIHBlbWFzdWthblNLUEQgPSBuZXcgU2twZENscyh7DQoJcHJlZml4IDogJ3BlbWFzdWthblNLUEQnLCBmb3JtTmFtZToncGVtYXN1a2FuRm9ybScsIGtvbG9tV2lkdGg6MTIwLA0KCQ0KCXBpbGloQmlkYW5nQWZ0ZXIgOiBmdW5jdGlvbigpe3BlbWFzdWthbi5yZWZyZXNoTGlzdCh0cnVlKTt9LA0KCXBpbGloVW5pdEFmdGVyIDogZnVuY3Rpb24oKXtwZW1hc3VrYW4ucmVmcmVzaExpc3QodHJ1ZSk7fSwNCglwaWxpaFN1YlVuaXRBZnRlciA6IGZ1bmN0aW9uKCl7cGVtYXN1a2FuLnJlZnJlc2hMaXN0KHRydWUpO30sDQoJcGlsaWhTZWtzaUFmdGVyIDogZnVuY3Rpb24oKXtwZW1hc3VrYW4ucmVmcmVzaExpc3QodHJ1ZSk7fQ0KfSk7DQoNCnZhciBwZW1hc3VrYW5TS1BEMiA9IG5ldyBTa3BkQ2xzKHsNCglwcmVmaXggOiAncGVtYXN1a2FuU0tQRDInLCANCglmb3JtTmFtZTogJ3BlbWFzdWthbkZvcm0nLA0KCQ0KCXBpbGloVXJ1c2FuZnRlciA6IGZ1bmN0aW9uKCl7cGVtYXN1a2FuLnJlZnJlc2hMaXN0KHRydWUpO30sDQoJcGlsaWhCaWRhbmdBZnRlciA6IGZ1bmN0aW9uKCl7cGVtYXN1a2FuLnJlZnJlc2hMaXN0KHRydWUpO30sDQoJcGlsaWhVbml0QWZ0ZXIgOiBmdW5jdGlvbigpe3BlbWFzdWthbi5yZWZyZXNoTGlzdCh0cnVlKTt9LA0KCXBpbGloU3ViVW5pdEFmdGVyIDogZnVuY3Rpb24oKXtwZW1hc3VrYW4ucmVmcmVzaExpc3QodHJ1ZSk7fSwNCglwaWxpaFNla3NpQWZ0ZXIgOiBmdW5jdGlvbigpe3BlbWFzdWthbi5yZWZyZXNoTGlzdCh0cnVlKTt9DQp9KTsNCg0KdmFyIHBlbWFzdWthbiA9IG5ldyBEYWZ0YXJPYmoyKHsNCglwcmVmaXggOiAncGVtYXN1a2FuJywNCgl1cmwgOiAncGFnZXMucGhwP1BnPXBlbWFzdWthbicsIA0KCWZvcm1OYW1lIDogJ3BlbWFzdWthbkZvcm0nLA0KCXNhdHVhbl9mb3JtIDogJzAnLC8vZGVmYXVsdCBqcyBzYXR1YW4NCglsb2FkaW5nOiBmdW5jdGlvbigpew0KCQkvL2FsZXJ0KCdsb2FkaW5nJyk7DQoJCXRoaXMudG9wQmFyUmVuZGVyKCk7DQoJCXRoaXMuZmlsdGVyUmVuZGVyKCk7DQoJCXRoaXMuZGFmdGFyUmVuZGVyKCk7DQoJCXRoaXMuc3VtSGFsUmVuZGVyKCk7DQoJDQoJfSwNCgkNCglmaWx0ZXJSZW5kZXJBZnRlciA6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCURhdGFQZW5nYXR1cmFuLm55YWxha2FuZGF0ZXBpY2tlcjIoKTsJCQ0KCX0sDQoJDQoJU2V0TmFtYTogZnVuY3Rpb24ocGlsaWhhbil7DQoJCQkNCgkJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5wcmVmaXgrJ19mb3JtX1RURCcpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPVNldE5hbWEmcGlsaWhhbj0nK3BpbGloYW4sDQoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOw0KCQkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25pcF8nK3BpbGloYW4pLnZhbHVlPXJlc3AuY29udGVudC5uaXA7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFuZ2thdF8nK3BpbGloYW4pLnZhbHVlPXJlc3AuY29udGVudC5wYW5na2F0Ow0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VzZWxvbl8nK3BpbGloYW4pLnZhbHVlPXJlc3AuY29udGVudC5lc2Vsb247DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnamFiYXRhbl8nK3BpbGloYW4pLnZhbHVlPXJlc3AuY29udGVudC5qYWJhdGFuOw0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJfQ0KCQkJICAJfQ0KCQkJfSk7CQ0KCX0sCQ0KCQ0KCWRldGFpbDogZnVuY3Rpb24oKXsNCgkJLy9hbGVydCgnZGV0YWlsJyk7DQoJCXZhciBtZSA9IHRoaXM7DQoJCWVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsNCgkJaWYoZXJybXNnID09JycpeyANCgkJCXZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsJCQkNCgkJCS8vVXNlckFrdGl2aXRhc0RldC5nZW5EZXRhaWwoKTsJCQkNCgkJCQ0KCQl9ZWxzZXsNCgkJDQoJCQlhbGVydChlcnJtc2cpOw0KCQl9DQoJCQ0KCX0sDQoJDQoJSW5wdXRCYXJ1OiBmdW5jdGlvbigpew0KCXZhciBtZSA9IHRoaXM7DQoJCS8vZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOw0KCQllcnJtc2cgPSAnJzsNCgkJc2twZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2ZXJfc2twZCcpLnZhbHVlIDsNCgkJLy9pZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVyX3NrcGQnKS52YWx1ZSA9PSAxKXsNCgkJCWMxbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5TS1BEMmZtVVJVU0FOJyk7DQoJCQljbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5TS1BEMmZtU0tQRCcpOw0KCQkJZG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVtYXN1a2FuU0tQRDJmbVVOSVQnKTsNCgkJCWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbWFzdWthblNLUEQyZm1TVUJVTklUJyk7DQoJCQllMW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVtYXN1a2FuU0tQRDJmbVNFS1NJJyk7DQoJCS8qfWVsc2V7DQoJCQljMW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVtYXN1a2FuU0tQRGZtVXJ1c2FuJyk7DQoJCQljbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5TS1BEZm1TS1BEJyk7DQoJCQlkbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5TS1BEZm1VTklUJyk7DQoJCQllbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5TS1BEZm1TVUJVTklUJyk7DQoJCQllMW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVtYXN1a2FuU0tQRGZtU0VLU0knKTsNCgkJfSovDQoJCQ0KCQlpZihjMW4gIT0gJycgJiYgc2twZCAhPSAxKXsNCgkJCWlmKGVycm1zZyA9PSAnJyAmJiBjMW4udmFsdWUgPT0gJzAnKWVycm1zZyA9ICJVUlVTQU4gQmVsdW0gZGkgUGlsaWggISAiOw0KCQl9DQoJCWlmKGVycm1zZyA9PSAnJyAmJiBjbi52YWx1ZSA9PSAnMDAnKWVycm1zZyA9ICJCSURBTkcgQmVsdW0gZGkgUGlsaWggISAiOw0KCQlpZihlcnJtc2cgPT0gJycgJiYgZG4udmFsdWUgPT0gJzAwJyllcnJtc2cgPSAiU0tQRCBCZWx1bSBkaSBQaWxpaCAhICI7DQoJCWlmKGVycm1zZyA9PSAnJyAmJiBlbi52YWx1ZSA9PSAnMDAnKWVycm1zZyA9ICJVTklUIEJlbHVtIGRpIFBpbGloICEgIjsNCgkJaWYoZXJybXNnID09ICcnICYmIGUxbi52YWx1ZSA9PSAnMDAwJyllcnJtc2cgPSAiU1VCIFVOSVQgQmVsdW0gZGkgUGlsaWggISAiOw0KCQkNCgkJaWYoZXJybXNnID09JycpeyANCgkJCS8vdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOw0KCQkJDQoJCQkvL2FsZXJ0KGJveC52YWx1ZSk7DQoJCQkJCQ0KCQkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7CQkNCgkJCWFGb3JtLmFjdGlvbj0gdGhpcy51cmwrJ19pbnMmWU49MSc7Ly8nP09wPScrb3ArJyZQZz0yJmlkcHJzPWNldGFrX2hhbCc7CQkNCgkJCWFGb3JtLnRhcmdldD0nX2JsYW5rJzsNCgkJCWFGb3JtLnN1Ym1pdCgpOwkNCgkJCWFGb3JtLnRhcmdldD0nJzsNCgkJfWVsc2V7DQoJCQkJYWxlcnQoZXJybXNnKTsNCgkJfQkNCgl9LA0KCQ0KCVR1dHVwRm9ybTpmdW5jdGlvbihjb3Zlcil7DQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKSkgZGVsRWxlbShjb3Zlcik7CQkJCQkNCgl9LA0KDQoNCglMYXBvcmFuOiBmdW5jdGlvbigpew0KCXZhciBtZSA9IHRoaXM7DQoJDQoJCXNrcGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVyX3NrcGQnKS52YWx1ZSA7DQoJCS8vZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOw0KCQllcnJtc2cgPSAnJzsNCgkJLy9pZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVyX3NrcGQnKS52YWx1ZSA9PSAxKXsNCgkJCWMxbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLm5tX3ByZWZpeCsnU0tQRDJmbVVSVVNBTicpOw0KCQkJY24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5ubV9wcmVmaXgrJ1NLUEQyZm1TS1BEJyk7DQoJCQlkbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLm5tX3ByZWZpeCsnU0tQRDJmbVVOSVQnKTsNCgkJCWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWUubm1fcHJlZml4KydTS1BEMmZtU1VCVU5JVCcpOw0KCQkJZTFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWUubm1fcHJlZml4KydTS1BEMmZtU0VLU0knKTsNCgkJLyp9ZWxzZXsNCgkJCWMxbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5fYmFydVNLUERmbVVydXNhbicpOw0KCQkJY24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVtYXN1a2FuX2JhcnVTS1BEZm1TS1BEJyk7DQoJCQlkbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5fYmFydVNLUERmbVVOSVQnKTsNCgkJCWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbWFzdWthbl9iYXJ1U0tQRGZtU1VCVU5JVCcpOw0KCQkJZTFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbWFzdWthbl9iYXJ1U0tQRGZtU0VLU0knKTsNCgkJfSovDQoJCQ0KCQ0KCQllcnJtc2cgPSAnJzsNCgkJaWYoZXJybXNnID09JycpeyANCgkJCS8vdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOw0KCQkJDQoJCQkvL2FsZXJ0KGJveC52YWx1ZSk7DQoJCQkJCQ0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsNCgkJCQ0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPUJ1YXRMYXBvcmFuJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJCWlmKHJlc3AuZXJyID09ICcnKXsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJICAgICAgICANCgkJCQkgICAgICAgICQuYWpheCh7DQoJCQkJCQl0eXBlOidQT1NUJywNCgkJCQkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1nZXRZZWFyUmFuZ2UnLA0KCQkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCgkJCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJCQkJCQkkKCAiI2RhcmkiICkuZGF0ZXBpY2tlcih7DQoJCQkJCQkJCQkJZGF0ZUZvcm1hdDogImRkLW1tLXl5IiwNCgkJCQkJCQkJCQlzaG93QW5pbTogInNsaWRlRG93biIsDQoJCQkJCQkJCQkJaW5saW5lOiB0cnVlLA0KCQkJCQkJCQkJCXNob3dPbjogImJ1dHRvbiIsDQoJCQkJCQkJCQkJYnV0dG9uSW1hZ2U6ICJkYXRlcGlja2VyL2NhbGVuZGVyMS5wbmciLA0KCQkJCQkJCQkJCWJ1dHRvbkltYWdlT25seTogdHJ1ZSwNCgkJCQkJCQkJCQljaGFuZ2VNb250aDogdHJ1ZSwNCgkJCQkJCQkJCQljaGFuZ2VZZWFyOiBmYWxzZSwNCgkJCQkJCQkJCQl5ZWFyUmFuZ2U6IHJlc3AuY29udGVudC55ZWFyUmFuZ2UsDQoJCQkJCQkJCQkJYnV0dG9uVGV4dCA6ICIiLA0KCQkJCQkJCQkJfSk7DQoJCQkJCQkJCQkkKCAiI3NhbXBhaSIgKS5kYXRlcGlja2VyKHsNCgkJCQkJCQkJCQlkYXRlRm9ybWF0OiAiZGQtbW0teXkiLA0KCQkJCQkJCQkJCXNob3dBbmltOiAic2xpZGVEb3duIiwNCgkJCQkJCQkJCQlpbmxpbmU6IHRydWUsDQoJCQkJCQkJCQkJc2hvd09uOiAiYnV0dG9uIiwNCgkJCQkJCQkJCQlidXR0b25JbWFnZTogImRhdGVwaWNrZXIvY2FsZW5kZXIxLnBuZyIsDQoJCQkJCQkJCQkJYnV0dG9uSW1hZ2VPbmx5OiB0cnVlLA0KCQkJCQkJCQkJCWNoYW5nZU1vbnRoOiB0cnVlLA0KCQkJCQkJCQkJCWNoYW5nZVllYXI6IGZhbHNlLA0KCQkJCQkJCQkJCXllYXJSYW5nZTogcmVzcC5jb250ZW50LnllYXJSYW5nZSwNCgkJCQkJCQkJCQlidXR0b25UZXh0IDogIiIsDQoJCQkJCQkJCQl9KTsNCg0KCQkJCQkJCQkJRGF0YVBlbmdhdHVyYW4ubnlhbGFrYW5kYXRlcGlja2VyKCk7DQoNCgkJCQkJCQl9DQoJCQkJCX0pOw0KDQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQkJbWUuQ2xvc2UoKTsNCgkJCQkJfQkJCQ0KCQkJCQkNCgkJCQkJLy9zZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb24oKSB7cGVtYXN1a2FuX2JhcnUuamFtKCl9LDEwMCk7CQ0KCQkJCQkvL21lLkFmdGVyRm9ybUJhcnUoKTsNCgkJCSAgCX0NCgkJCX0pOw0KDQoNCgkJCQ0KCQkJDQoJCQkNCgkJfWVsc2V7DQoJCQkJYWxlcnQoZXJybXNnKTsNCgkJfQkNCgl9LA0KDQoNCgkJVGFuZGFUYW5kYTpmdW5jdGlvbigpew0KCQkJCSQuYWpheCh7DQoJCQkJCXR5cGU6J1BPU1QnLCANCgkJCQkJZGF0YTp7CQ0KCQkJCQkJCWMxIDogJCgiI2MxIikudmFsKCksDQoJCQkJCQkJYyA6ICQoIiNjIikudmFsKCksDQoJCQkJCQkJZCA6ICQoIiNkIikudmFsKCksDQoJCQkJCQkJZSA6ICQoIiNlIikudmFsKCksDQoJCQkJCQkJZTEgOiAkKCIjZTEiKS52YWwoKSwNCgkJCQkJCQlpZF9wZW5lcmltYSA6ICQoIiNjbWJfcGVuZXJpbWEiKS52YWwoKSwNCgkJCQkJCQlpZF9tZW5nZXRhaHVpIDogJCgiI2NtYl9tZW5nZXRhaHVpIikudmFsKCkNCgkJCQkJCQkNCgkJCQkJfSwNCgkJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9VGFuZGFUYW5kYScsDQoJCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQkJCQ0KCQkJCQkJaWYocmVzcC5lcnI9PScnKXsJCQkJCQkJDQoJCQkJCQkJCQkJDQoJCQkJCQl9ZWxzZXsNCgkJCQkJCQkNCgkJCQkJCX0JCQkJCQkJDQoJCQkJCQkNCgkJCQkgIAl9DQoJCQkJfSk7DQoJfSwNCgkNCgkvLyBMYXBvcmFuOiBmdW5jdGlvbigpew0KCS8vIAl2YXIgbWU9dGhpczsNCgkJDQoJLy8gCXBlbWFzdWthbl9iYXJ1LmZvcm1OYW1lID0gbWUuZm9ybU5hbWU7DQoJLy8gCXBlbWFzdWthbl9iYXJ1Lm5tX3ByZWZpeCA9IG1lLnByZWZpeDsNCgkvLyAJcGVtYXN1a2FuX2JhcnUuTGFwb3JhbigpOw0KCS8vIH0sDQoJDQoJLypMYXBvcmFuOiBmdW5jdGlvbigpew0KCXZhciBtZSA9IHRoaXM7DQoJDQoJCXNrcGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVyX3NrcGQnKS52YWx1ZSA7DQoJCS8vZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOw0KCQllcnJtc2cgPSAnJzsNCgkJLy9pZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVyX3NrcGQnKS52YWx1ZSA9PSAxKXsNCgkJCWMxbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5TS1BEMmZtVVJVU0FOJyk7DQoJCQljbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5TS1BEMmZtU0tQRCcpOw0KCQkJZG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVtYXN1a2FuU0tQRDJmbVVOSVQnKTsNCgkJCWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbWFzdWthblNLUEQyZm1TVUJVTklUJyk7DQoJCQllMW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVtYXN1a2FuU0tQRDJmbVNFS1NJJyk7DQoJCS8qfWVsc2V7DQoJCQljMW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVtYXN1a2FuU0tQRGZtVXJ1c2FuJyk7DQoJCQljbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5TS1BEZm1TS1BEJyk7DQoJCQlkbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5TS1BEZm1VTklUJyk7DQoJCQllbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5TS1BEZm1TVUJVTklUJyk7DQoJCQllMW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVtYXN1a2FuU0tQRGZtU0VLU0knKTsNCgkJfSovDQoJLyoJDQoJCWlmKGMxbiAhPSAnJyAmJiBza3BkICE9IDEpew0KCQkJaWYoZXJybXNnID09ICcnICYmIGMxbi52YWx1ZSA9PSAnMCcpZXJybXNnID0gIlVSVVNBTiBCZWx1bSBkaSBQaWxpaCAhICI7DQoJCX0NCgkJaWYoZXJybXNnID09ICcnICYmIGNuLnZhbHVlID09ICcwMCcpZXJybXNnID0gIkJJREFORyBCZWx1bSBkaSBQaWxpaCAhICI7DQoJCWlmKGVycm1zZyA9PSAnJyAmJiBkbi52YWx1ZSA9PSAnMDAnKWVycm1zZyA9ICJTS1BEIEJlbHVtIGRpIFBpbGloICEgIjsNCgkJaWYoZXJybXNnID09ICcnICYmIGVuLnZhbHVlID09ICcwMCcpZXJybXNnID0gIlVOSVQgQmVsdW0gZGkgUGlsaWggISAiOw0KCQlpZihlcnJtc2cgPT0gJycgJiYgZTFuLnZhbHVlID09ICcwMDAnKWVycm1zZyA9ICJTVUIgVU5JVCBCZWx1bSBkaSBQaWxpaCAhICI7DQoJCQ0KCQllcnJtc2cgPSAnJzsNCgkJaWYoZXJybXNnID09JycpeyANCgkJCS8vdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOw0KCQkJDQoJCQkvL2FsZXJ0KGJveC52YWx1ZSk7DQoJCQkJCQ0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsNCgkJCQ0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPUJ1YXRMYXBvcmFuJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJCWlmKHJlc3AuZXJyID09ICcnKXsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCQlwZW1hc3VrYW5faW5zLm55YWxha2FuZGF0ZXBpY2tlcigpOw0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJCW1lLkNsb3NlKCk7DQoJCQkJCX0JCQkNCgkJCQkJDQoJCQkJCS8vc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge3BlbWFzdWthbi5qYW0oKX0sMTAwKTsJDQoJCQkJCS8vbWUuQWZ0ZXJGb3JtQmFydSgpOw0KCQkJICAJfQ0KCQkJfSk7DQoJCQkNCgkJCQ0KCQkJDQoJCX1lbHNlew0KCQkJCWFsZXJ0KGVycm1zZyk7DQoJCX0JDQoJfSwqLw0KCQ0KCUxhcG9yYW5UVEQ6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCQkJCQkNCgkJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyX1RURCc7DQoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJYWRkQ292ZXJQYWdlMihjb3ZlciwyLHRydWUsZmFsc2UpOw0KCQkJDQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMucHJlZml4KydfZm9ybScpLnNlcmlhbGl6ZSgpLA0KCQkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9TGFwb3JhblRURCcsDQoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOw0KCQkJCQlpZihyZXNwLmVyciA9PSAnJyl7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCQkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge3BlbWFzdWthbi5TZXROYW1hKCdwZW5lcmltYScpO30sMTAwKTsNCgkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHtwZW1hc3VrYW4uU2V0TmFtYSgnbWVuZ2V0YWh1aScpO30sMTAwKTsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQltZS5DbG9zZSgpOw0KCQkJCQl9CQkJDQoJCQkJCQ0KCQkJCQkvL3NldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvbigpIHtwZW1hc3VrYW4uamFtKCl9LDEwMCk7CQ0KCQkJCQkvL21lLkFmdGVyRm9ybUJhcnUoKTsNCgkJCSAgCX0NCgkJCX0pOw0KCQkJDQoJCQkNCgl9LA0KCQ0KCQ0KCQ0KCWRhZnRhclJlbmRlcjpmdW5jdGlvbigpew0KCQl2YXIgbWUgPXRoaXM7IC8vcmVuZGVyIGRhZnRhciANCgkJYWRkQ292ZXJQYWdlMigNCgkJCSdkYWZ0YXJfY292ZXInLAkxLCAJdHJ1ZSwgdHJ1ZSwJe3JlbmRlclRvOiB0aGlzLnByZWZpeCsnX2NvbnRfZGFmdGFyJywNCgkJCWltZ3NyYzogJ2ltYWdlcy93YWl0LmdpZicsDQoJCQlzdHlsZToge3Bvc2l0aW9uOidhYnNvbHV0ZScsIHRvcDonNScsIGxlZnQ6JzUnfQ0KCQkJfQ0KCQkpOw0KCQkkLmFqYXgoew0KCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1kYWZ0YXInLA0KCQkgCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksIA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWUucHJlZml4KydfY29udF9kYWZ0YXInKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJbWUuc3VtSGFsUmVuZGVyKCk7DQoJCSAgCX0NCgkJfSk7DQoJfSwNCglWYWxpZGFzaTpmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQllcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7DQoJCWlmKGVycm1zZyA9PScnKXsgDQoJCQl2YXIgYm94ID0gdGhpcy5HZXRDYnhDaGVja2VkKCk7DQoJCQkNCgkJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyJzsNCgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCQlpZihtZS5zYXR1YW5fZm9ybT09MCl7Ly9iYXJ1IGRhcmkgc2F0dWFuDQoJCQkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJCX1lbHNley8vYmFydSBkYXJpIGJhcmFuZw0KCQkJCWFkZENvdmVyUGFnZTIoY292ZXIsOTk5LHRydWUsZmFsc2UpOwkNCgkJCX0NCgkJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1WYWxpZGFzaScsDQoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOw0KCQkJCQlpZihyZXNwLmVyciA9PSAnJyl7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJCW1lLkNsb3NlKCk7DQoJCQkJCX0JCQkNCgkJCQkJDQoJCQkJCS8vc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge3BlbWFzdWthbi5qYW0oKX0sMTAwKTsJDQoJCQkJCS8vbWUuQWZ0ZXJGb3JtQmFydSgpOw0KCQkJICAJfQ0KCQkJfSk7DQoJCX1lbHNlew0KCQkJYWxlcnQoZXJybXNnKTsNCgkJfQ0KCQkNCgl9LA0KCQ0KCWphbTogZnVuY3Rpb24gKCkgew0KCSAgdmFyIGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGdsX3ZhbGlkYXNpJyksDQoJICBkID0gbmV3IERhdGUoKSwgaCwgbSwgczsNCgkgIGggPSBkLmdldEhvdXJzKCk7DQoJICBtID0gcGVtYXN1a2FuLnNldEphbShkLmdldE1pbnV0ZXMoKSk7DQoJICBzID0gcGVtYXN1a2FuLnNldEphbShkLmdldFNlY29uZHMoKSk7DQoJICANCgkgIA0KCSAgaGFyaSA9IGQuZ2V0RGF0ZSgpOw0KCSAgYnVsYW4gPSBkLmdldE1vbnRoKCk7DQoJICB5eSA9IGQuZ2V0WWVhcigpOw0KCSAgdmFyIFRhaHVuID0gKHl5IDwgMTAwMCkgPyB5eSArIDE5MDAgOiB5eTsNCgkgIGJ1bGFuID0gYnVsYW4gKyAxOw0KCSAgYmxuID0gYnVsYW4udG9TdHJpbmcoKQ0KCSAgaWYoYmxuLmxlbmd0aCA9PSAxKWJsbiA9ICIwIitibG47DQoJDQoJICBlLnZhbHVlID0gaGFyaSArICctJysgYmxuICsgJy0nKyBUYWh1biArIiAiKyBoICsnOicrIG0gKyc6JysgczsNCgkNCgkgIA0KCSAgc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uKCkge3BlbWFzdWthbi5qYW0oKX0sMTAwMCk7DQoJIH0sDQoJDQoJIHNldEphbTogZnVuY3Rpb24gKGUpIHsNCgkgIAllID0gZSA8IDEwID8gJzAnKyBlIDogZTsNCgkgIAlyZXR1cm4gZTsNCgkgfSwNCgkNCglFZGl0OmZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCWVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsNCgkJaWYoZXJybXNnID09JycpeyANCgkJCXZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsNCgkJCQ0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1QZW5nZWNla2FuVWJhaCZDZWtVYmFoPTEnLA0KCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCXZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBlbWFzdWthbi5mb3JtTmFtZSk7CQkNCgkJCQkJCWFGb3JtLmFjdGlvbj0gcGVtYXN1a2FuLnVybCsnX2lucyZZTj0yJzsvLyc\/T3A9JytvcCsnJlBnPTImaWRwcnM9Y2V0YWtfaGFsJzsJCQ0KCQkJCQkJYUZvcm0udGFyZ2V0PSdfYmxhbmsnOw0KCQkJCQkJYUZvcm0uc3VibWl0KCk7CQ0KCQkJCQkJYUZvcm0udGFyZ2V0PScnOw0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJfQ0KCQkJICAJfQ0KCQkJfSk7DQoJCQkNCgkJCQ0KCQl9ZWxzZXsNCgkJCWFsZXJ0KGVycm1zZyk7DQoJCX0NCgkJDQoJfSwNCgkJDQoJU2ltcGFuOiBmdW5jdGlvbigpew0KCQl2YXIgbWU9IHRoaXM7CQ0KCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCQ0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1zaW1wYW4nOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkvKnRoaXMuc2VuZFJlcSgNCgkJCXRoaXMudXJsLA0KCQkJeyBpZHByczogMCwgZGFmdGFyUHJvc2VzOiBuZXcgQXJyYXkoJ3NpbXBhbicpfSwNCgkJCXRoaXMuZm9ybURpYWxvZyk7Ki8NCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5wcmVmaXgrJ19mb3JtJykuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1zaW1wYW4nLA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCWRlbEVsZW0oY292ZXIpOwkJDQoJCQkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCWFsZXJ0KHJlc3AuY29udGVudC5hbGVydCk7DQoJCQkJCW1lLkNsb3NlKCk7DQoJCQkJCXBlbWFzdWthbi5yZWZyZXNoTGlzdCgpOw0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQ0KCQkgIAl9DQoJCX0pOw0KCX0sDQoJDQoJQ2V0YWtQZXJtb2hvbmFuOiBmdW5jdGlvbihpZG55YSwgRm9ybW55YT0ncGVtYXN1a2FuX2luc0Zvcm0nKXsNCgkNCgkJCQkNCgkJCXZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKEZvcm1ueWEpOwkJDQoJCQlhRm9ybS5hY3Rpb249IHRoaXMudXJsKycmdGlwZT1DZXRha1Blcm1vaG9uYW4maWRueWE9JytpZG55YTsvLyc\/T3A9JytvcCsnJlBnPTImaWRwcnM9Y2V0YWtfaGFsJzsJCQ0KCQkJYUZvcm0udGFyZ2V0PSdfYmxhbmsnOw0KCQkJYUZvcm0uc3VibWl0KCk7CQ0KCQkJYUZvcm0udGFyZ2V0PScnOw0KCX0sDQoJDQoJaGVhZGVyVGFiZWw6IGZ1bmN0aW9uKCl7DQoJCXZhciB0YXJnZXQgPSAkKCcjaGVhZGVyLWZpeCcpOw0KCQl2YXIgZGl2X3Bvc2l0aW9uID0gdGFyZ2V0Lm9mZnNldCgpLnRvcDsNCgkJDQoJCSQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7IA0KCQkgICAgdmFyIHlfcG9zaXRpb24gPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7DQoJCSAgICBpZih5X3Bvc2l0aW9uID4gZGl2X3Bvc2l0aW9uKSB7DQoJCSAgICAgICAgdGFyZ2V0LmFkZENsYXNzKCd0ZXRhcGRpYXRhcycpOw0KCQkgICAgfQ0KCQkgICAgZWxzZSB7DQoJCSAgICAgICAgdGFyZ2V0LnJlbW92ZUNsYXNzKCd0ZXRhcGRpYXRhcycpOw0KCQkgICAgfQ0KCQl9KTsNCgkJCQ0KCX0sDQoJDQoJRGlzdHJpYnVzaWthbjogZnVuY3Rpb24oSWRUZXJpbWEsIElkVGVyaW1hX2RldCl7DQoJCXZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5Gb3JtJyk7CQkNCgkJCWFGb3JtLmFjdGlvbj0gdGhpcy51cmwrJ19kaXN0cmlidXNpJmlkVGVyaW1hX255YT0nK0lkVGVyaW1hKycmaWRUZXJpbWFfZGV0X255YT0nK0lkVGVyaW1hX2RldDsNCgkJCWFGb3JtLnRhcmdldD0nX2JsYW5rJzsNCgkJCWFGb3JtLnN1Ym1pdCgpOwkNCgkJCWFGb3JtLnRhcmdldD0nJzsNCgl9LA0KCQ0KCUthcGl0YWxpc2FzaWthbjogZnVuY3Rpb24oSWRUZXJpbWEsIElkVGVyaW1hX2RldCl7DQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPVBlbmdlY2VrYW5LYXBpdGFsaXNhc2kmSWRUZXJpbWFueWE9JytJZFRlcmltYSwNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCQlwZW1hc3VrYW4uTXVsYWlLYXBpdGFsaXNhc2koSWRUZXJpbWEsIElkVGVyaW1hX2RldCk7CQkJCQkJDQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQl9DQoJCQkgIAl9DQoJCQl9KTsNCgkJCQ0KCX0sDQoJDQoJTXVsYWlLYXBpdGFsaXNhc2k6IGZ1bmN0aW9uKElkVGVyaW1hLCBJZFRlcmltYV9kZXQpew0KCQl2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVtYXN1a2FuRm9ybScpOwkJDQoJCWFGb3JtLmFjdGlvbj0gdGhpcy51cmwrJ19rYXBpdGFsaXNhc2kmaWRUZXJpbWFfbnlhPScrSWRUZXJpbWErJyZpZFRlcmltYV9kZXRfbnlhPScrSWRUZXJpbWFfZGV0Ow0KCQlhRm9ybS50YXJnZXQ9J19ibGFuayc7DQoJCWFGb3JtLnN1Ym1pdCgpOwkNCgkJYUZvcm0udGFyZ2V0PScnOw0KCX0sDQoJDQoJQXRyaWJ1c2lCYXJ1OiBmdW5jdGlvbigpew0KCXZhciBtZSA9IHRoaXM7DQoJCWVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsNCgkJaWYoZXJybXNnID09J0RhdGEgYmVsdW0gZGlwaWxpaCEnKXsgDQoJCQl2YXIgYm94ID0gdGhpcy5HZXRDYnhDaGVja2VkKCk7DQoJDQoJCQkvL2Vycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsNCgkJCVZlcnNpU0tQRCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2ZXJfc2twZCcpLnZhbHVlOw0KCQkJDQoJCQllcnJtc2cgPSAnJzsNCgkJCWlmKFZlcnNpU0tQRCA9PSAnMScpew0KCQkJCWNuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbWFzdWthblNLUEQyZm1TS1BEJyk7DQoJCQkJZG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVtYXN1a2FuU0tQRDJmbVVOSVQnKTsNCgkJCQllbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5TS1BEMmZtU1VCVU5JVCcpOw0KCQkJCWUxbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5TS1BEMmZtU0VLU0knKTsNCgkJCX1lbHNlew0KCQkJCWMxbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5TS1BEMmZtVVJVU0FOJyk7DQoJCQkJY24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVtYXN1a2FuU0tQRDJmbVNLUEQnKTsNCgkJCQlkbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW1hc3VrYW5TS1BEMmZtVU5JVCcpOw0KCQkJCWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbWFzdWthblNLUEQyZm1TVUJVTklUJyk7DQoJCQkJZTFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbWFzdWthblNLUEQyZm1TRUtTSScpOw0KCQkJCQ0KCQkJCWlmKGVycm1zZyA9PSAnJyAmJiBjMW4udmFsdWUgPT0gJzAnKWVycm1zZyA9ICJVUlVTQU4gQmVsdW0gZGkgUGlsaWggISAiOw0KCQkJfQ0KCQkJDQoJCQlpZihlcnJtc2cgPT0gJycgJiYgY24udmFsdWUgPT0gJzAwJyllcnJtc2cgPSAiQklEQU5HIEJlbHVtIGRpIFBpbGloICEgIjsNCgkJCWlmKGVycm1zZyA9PSAnJyAmJiBkbi52YWx1ZSA9PSAnMDAnKWVycm1zZyA9ICJTS1BEIEJlbHVtIGRpIFBpbGloICEgIjsNCgkJCWlmKGVycm1zZyA9PSAnJyAmJiBlbi52YWx1ZSA9PSAnMDAnKWVycm1zZyA9ICJVTklUIEJlbHVtIGRpIFBpbGloICEgIjsNCgkJCWlmKGVycm1zZyA9PSAnJyAmJiBlMW4udmFsdWUgPT0gJzAwMCcpZXJybXNnID0gIlNVQiBVTklUIEJlbHVtIGRpIFBpbGloICEgIjsNCgkJCQ0KCQkJaWYoZXJybXNnID09JycpeyANCgkJCQkvL3ZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsNCgkJCQkNCgkJCQkvL2FsZXJ0KGJveC52YWx1ZSk7DQoJCQkJCQkNCgkJCQl2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZvcm1OYW1lKTsJCQ0KCQkJCWFGb3JtLmFjdGlvbj0gdGhpcy51cmwrJ19hdHJpYnVzaSZZTj0xJzsvLyc\/T3A9JytvcCsnJlBnPTImaWRwcnM9Y2V0YWtfaGFsJzsJCQ0KCQkJCWFGb3JtLnRhcmdldD0nX2JsYW5rJzsNCgkJCQlhRm9ybS5zdWJtaXQoKTsJDQoJCQkJYUZvcm0udGFyZ2V0PScnOw0KCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KGVycm1zZyk7DQoJCQl9DQoJCX1lbHNlIGlmKGVycm1zZyA9PSAiUGlsaWggSGFueWEgU2F0dSBEYXRhISIpew0KCQkJYWxlcnQoZXJybXNnKTsNCgkJfWVsc2V7DQoJCQ0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1QZW5nZWNla2FuVWJhaCZhdHJpYj1ZJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCQl2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwZW1hc3VrYW4uZm9ybU5hbWUpOwkJDQoJCQkJCQlhRm9ybS5hY3Rpb249IHBlbWFzdWthbi51cmwrJ19hdHJpYnVzaSZZTj0yJzsvLyc\/T3A9JytvcCsnJlBnPTImaWRwcnM9Y2V0YWtfaGFsJzsJCQ0KCQkJCQkJYUZvcm0udGFyZ2V0PSdfYmxhbmsnOw0KCQkJCQkJYUZvcm0uc3VibWl0KCk7CQ0KCQkJCQkJYUZvcm0udGFyZ2V0PScnOw0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJfQ0KCQkJICAJfQ0KCQkJfSk7DQoJCQkNCgkJfQkNCgl9LA0KCQ0KCVBvc3Rpbmc6ZnVuY3Rpb24oKXsNCgkJdmFyIG1lID0gdGhpczsNCgkJZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOw0KCQlpZihlcnJtc2cgPT0nJyl7IA0KCQkJdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOw0KCQkJDQoJCQkvL3RoaXMuU2hvdyAoJ2Zvcm1lZGl0Jyx7aWRwbGg6Ym94LnZhbHVlfSwgZmFsc2UsIHRydWUpOwkJCQ0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPWZvcm1Qb3N0aW5nJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCQlpZiAocmVzcC5lcnIgPT0nJyl7CQkNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCQkNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCQl9DQoJCQkgIAl9DQoJCQl9KTsNCgkJfWVsc2V7DQoJCQlhbGVydChlcnJtc2cpOw0KCQl9DQoJCQ0KCX0sDQoJDQoJZnVuY3Rpb25fcGVyc2VuYW46IGZ1bmN0aW9uKHBlcnNlbil7DQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0dXN0eHQiKS5zdHlsZS53aWR0aCA9IHBlcnNlbisiJSI7IA0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RhdHVzdHh0IikuaW5uZXJIVE1MID0gcGVyc2VuKyIlIjsNCgl9LA0KCQ0KCVByb3Nlc1Bvc3RpbmdQZXJzZWRpYWFuX0FmdGVyOiBmdW5jdGlvbihrb250ZW4pew0KCQl2YXIgbWU9dGhpczsNCgkJbWUuZnVuY3Rpb25fcGVyc2VuYW4oa29udGVuLnBlcnNlbmFuKTsNCgkJaWYoa29udGVuLmxhbmp1dCA9PSAxKXsNCgkJCW1lLlByb3Nlc1Bvc3RpbmdQZXJzZWRpYWFuKGtvbnRlbi5tdWxhaSk7DQoJCX1lbHNlew0KCQkJbWUuUHJvc2VzUG9zdGluZ1BlcnNlZGlhYW5fU2VsZXNhaSgpOw0KCQl9DQoJfSwNCgkNCglQcm9zZXNQb3N0aW5nUGVyc2VkaWFhbl9TZWxlc2FpOiBmdW5jdGlvbigpew0KCQl2YXIgbWU9IHRoaXM7CQ0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1wc3RpbmcnOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7DQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMucHJlZml4KydfZm9ybScpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9UHJvc2VzUG9zdGluZ1BlcnNlZGlhYW5fU2VsZXNhaScsDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJZGVsRWxlbShjb3Zlcik7CQ0KCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOwkNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQlhbGVydCgiRGF0YSBCZXJoYXNpbCBEaSBQb3N0aW5nICEiKTsNCgkJCQkJbWUuQ2xvc2UoKTsNCgkJCQkJbWUucmVmcmVzaExpc3QodHJ1ZSk7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCSAgCX0NCgkJfSk7DQoJfSwNCgkNCglQcm9zZXNQb3N0aW5nUGVyc2VkaWFhbjogZnVuY3Rpb24obXVsYWkpew0KCQl2YXIgbWU9IHRoaXM7CQ0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1wc3RpbmcnOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7DQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMucHJlZml4KydfZm9ybScpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9UHJvc2VzUG9zdGluZ1BlcnNlZGlhYW4mbXVsYWk9JyttdWxhaSwNCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQlkZWxFbGVtKGNvdmVyKTsJCQ0KCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCW1lLlByb3Nlc1Bvc3RpbmdQZXJzZWRpYWFuX0FmdGVyKHJlc3AuY29udGVudCk7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCSAgCX0NCgkJfSk7DQoJfSwNCgkNCglIYXB1c1Bvc3RpbmdQZXJzZWRpYWFuX1NlbGVzYWk6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT0gdGhpczsJDQoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWRlbCc7DQoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5wcmVmaXgrJ19mb3JtJykuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1IYXB1c1Bvc3RpbmdQZXJzZWRpYWFuX1NlbGVzYWknLA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCWRlbEVsZW0oY292ZXIpOwkJDQoJCQkJZGVsRWxlbSgicGVtYXN1a2FuX2Zvcm1jb3Zlcl9sb2FkIik7CQkNCgkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQlhbGVydCgiQmVyaGFzaWwgTWVtYmF0YWxrYW4gUG9zdGluZyAhIik7DQoJCQkJCW1lLkNsb3NlKCk7DQoJCQkJCW1lLnJlZnJlc2hMaXN0KHRydWUpOw0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQ0KCQkgIAl9DQoJCX0pOwkNCgl9LA0KCQ0KCUhhcHVzUG9zdGluZ1BlcnNlZGlhYW5fQWZ0ZXI6IGZ1bmN0aW9uKGtvbnRlbil7DQoJCXZhciBtZT10aGlzOw0KCQltZS5mdW5jdGlvbl9wZXJzZW5hbihrb250ZW4ucGVyc2VuYW4pOw0KCQlpZihrb250ZW4ubGFuanV0ID09IDEpew0KCQkJbWUuSGFwdXNQb3N0aW5nUGVyc2VkaWFhbigxMDApOw0KCQl9ZWxzZXsNCgkJCW1lLkhhcHVzUG9zdGluZ1BlcnNlZGlhYW5fU2VsZXNhaSgpOw0KCQl9CQkNCgl9LA0KCQ0KCUhhcHVzUG9zdGluZ1BlcnNlZGlhYW46IGZ1bmN0aW9uKExpbWl0KXsNCgkJdmFyIG1lPSB0aGlzOwkNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtcG9zdGluZyc7DQoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5wcmVmaXgrJ19mb3JtJykuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1IYXB1c1Bvc3RpbmdQZXJzZWRpYWFuJkxpbWl0PScrTGltaXQsDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJZGVsRWxlbShjb3Zlcik7CQkNCgkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQltZS5IYXB1c1Bvc3RpbmdQZXJzZWRpYWFuX0FmdGVyKHJlc3AuY29udGVudCk7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCSAgCX0NCgkJfSk7CQ0KCX0sDQoJDQoJU2ltcGFuUG9zdGluZzogZnVuY3Rpb24oKXsNCgkJdmFyIG1lPSB0aGlzOwkNCgkJDQoJCXRvdF9qbWxiYXJhbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90X2ptbGJhcmFuZycpLnZhbHVlOw0KCQkJCQ0KCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMucHJlZml4KyJfZm9ybSIpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPVBlbmdlY2VrYW5Qb3N0aW5nJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCQlpZihyZXNwLmNvbnRlbnQua29uZmlybWFzaSl7DQoJCQkJCQkJaWYocmVzcC5jb250ZW50Lk5vUG9zdGluZyl7DQoJCQkJCQkJCWFsZXJ0KHJlc3AuY29udGVudC5rb25maXJtYXNpKTsNCgkJCQkJCQl9ZWxzZXsNCgkJCQkJCQkJa29uZiA9IGNvbmZpcm0ocmVzcC5jb250ZW50LmtvbmZpcm1hc2kpOw0KCQkJCQkJCQlpZihrb25mID09IHRydWUpew0KCQkJCQkJCQkJaWYoIXJlc3AuY29udGVudC5lcnIpew0KCQkJCQkJCQkJCXZhciBjb3ZlciA9ICdwZW1hc3VrYW5fZm9ybWNvdmVyX2xvYWQnOw0KCQkJCQkJCQkJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCQkJCQkJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCQkJCQkJCQlzd2l0Y2gocmVzcC5jb250ZW50Lmpuc190cmFucyl7DQoJCQkJCQkJCQkJCWNhc2UgIjEiOg0KCQkJCQkJCQkJCQkJaWYocmVzcC5jb250ZW50LmtvbmZpcm1hc2kgPT0gIkJhdGFsa2FuIFBvc3RpbmcgRGF0YSA\/Iil7DQoJCQkJCQkJCQkJCQkJbWUuSGFwdXNQb3N0aW5nKDEwMCk7DQoJCQkJCQkJCQkJCQl9ZWxzZXsNCgkJCQkJCQkJCQkJCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRiYXJhbmdueWFfMCcpKW1lLlByb3Nlc1Bvc3RpbmcoMCwgMCwgMCk7DQoJCQkJCQkJCQkJCQl9DQoJCQkJCQkJCQkJCWJyZWFrOw0KCQkJCQkJCQkJCQljYXNlICIyIjoNCgkJCQkJCQkJCQkJCWlmKHJlc3AuY29udGVudC5rb25maXJtYXNpID09ICJCYXRhbGthbiBQb3N0aW5nIERhdGEgPyIpew0KCQkJCQkJCQkJCQkJCW1lLkhhcHVzUG9zdGluZygxMDApOw0KCQkJCQkJCQkJCQkJfWVsc2V7DQoJCQkJCQkJCQkJCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkS1BUTFNfMCcpKW1lLlByb3Nlc1Bvc3RpbmdQZW1lbGloYXJhYW4oMCwgMCwgMCk7DQoJCQkJCQkJCQkJCQl9DQoJCQkJCQkJCQkJCWJyZWFrOw0KCQkJCQkJCQkJCQljYXNlICIzIjoNCgkJCQkJCQkJCQkJCWlmKHJlc3AuY29udGVudC5rb25maXJtYXNpID09ICJCYXRhbGthbiBQb3N0aW5nIERhdGEgPyIpew0KCQkJCQkJCQkJCQkJCW1lLkhhcHVzUG9zdGluZ1BlcnNlZGlhYW4oMTAwKTsNCgkJCQkJCQkJCQkJCX1lbHNlew0KCQkJCQkJCQkJCQkJCWRlbEVsZW0oY292ZXIpOw0KCQkJCQkJCQkJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCQkJCQkJCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZF9EZXRhaWxfMCcpKW1lLlByb3Nlc1Bvc3RpbmdQZXJzZWRpYWFuKDApOw0KCQkJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJCQlicmVhazsNCgkJCQkJCQkJCQl9DQoJCQkJCQkJCQl9ZWxzZXsNCgkJCQkJCQkJCQlhbGVydChyZXNwLmNvbnRlbnQuZXJyKTsNCgkJCQkJCQkJCX0NCgkJCQkJCQkJfQ0KCQkJCQkJCX0NCgkJCQkJCQkJDQoJCQkJCQl9DQoJCQkJCQkJCQ0KCQkJCQl9ZWxzZXsNCgkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJfQ0KCQkJICAJfQ0KCQkJfSk7CQkNCgkJDQoJCQ0KCX0sDQoJDQoJa2VtYWp1YW5wZXJzZW46IGZ1bmN0aW9uKHBlcnNlbmFuLG1heHBlcnNlbixwZXJzZW5TZWJlbHVtPTApIHsNCgkJIHZhciBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2dyZXNzYm94Iik7DQoJCSB2YXIgbWUgPSB0aGlzOw0KCQkgdmFyIHRvdF9qbWxiYXJhbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90X2ptbGJhcmFuZycpLnZhbHVlOw0KCQkgdG1iaG4gPSAxL3RvdF9qbWxiYXJhbmcgKiAxMDA7DQoJCSAJCSANCgkJIGlmKE1hdGgucm91bmQocGVyc2VuYW4rdG1iaG4pIDwgbWF4cGVyc2VuICYmIE1hdGgucm91bmQocGVyc2VuYW4pPD0xMDApew0KCQkJcGVyc2VuYW4gPSBNYXRoLnJvdW5kKHBlcnNlbmFuKTsNCgkJCQkJCQ0KCQkJaWYocGVyc2VuU2ViZWx1bSAhPSBwZXJzZW5hbil7DQoJCQkJLy9hbGVydChwZXJzZW5TZWJlbHVtKyIgPT0gIitwZXJzZW5hbisiID0gIittYXhwZXJzZW4pOw0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0dXN0eHQiKS5zdHlsZS53aWR0aCA9IHBlcnNlbmFuKyIlIjsgDQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0YXR1c3R4dCIpLmlubmVySFRNTCA9IHBlcnNlbmFuKyIlIjsNCgkJCQkNCgkJCQlwZXJzZW5TZWJlbHVtID0gcGVyc2VuYW47DQoJCQkJcGVyc2VuYW4gPSBwZXJzZW5hbiArIE1hdGgucm91bmQodG1iaG4pOw0KCQkJCQkJCQ0KCQkJCS8vYWxlcnQocGVyc2VuU2ViZWx1bSsiID0gIitwZXJzZW5hbik7CQ0KCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvblBlcnNlbigpIHttZS5rZW1hanVhbnBlcnNlbihwZXJzZW5hbixtYXhwZXJzZW4scGVyc2VuU2ViZWx1bSl9LDEpOw0KCQkJfQ0KCQkgfWVsc2V7DQoJCQlpZihtYXhwZXJzZW4gPj0gMTAwKXsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RhdHVzdHh0Iikuc3R5bGUud2lkdGggPSAxMDArIiUiOyANCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RhdHVzdHh0IikuaW5uZXJIVE1MID0gMTAwKyIlIjsNCgkJCX1lbHNlew0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0dXN0eHQiKS5zdHlsZS53aWR0aCA9IE1hdGgucm91bmQobWF4cGVyc2VuKSsiJSI7IA0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0dXN0eHQiKS5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKG1heHBlcnNlbikrIiUiOw0KCQkJfQkNCgkJIH0JDQoJCQ0KCX0sDQoJDQoJa2VtdW5kdXJhbnBlcnNlbjogZnVuY3Rpb24ocGVyc2VuYW4sbWF4cGVyc2VuLHBlcnNlblNlYmVsdW09MCkgew0KCQkgdmFyIGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZ3Jlc3Nib3giKTsNCgkJIHZhciBtZSA9IHRoaXM7DQoJCSB0b3Rfam1sYmFyYW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvdF9qbWxiYXJhbmcnKS52YWx1ZTsNCgkJIHRtYmhuID0gMS90b3Rfam1sYmFyYW5nICogMTAwOw0KCQkgCQkgDQoJCSBpZihNYXRoLnJvdW5kKHBlcnNlbmFuLXRtYmhuKSA8IG1heHBlcnNlbiAmJiBNYXRoLnJvdW5kKHBlcnNlbmFuKTw9MTAwKXsNCgkJCXBlcnNlbmFuID0gTWF0aC5yb3VuZChwZXJzZW5hbik7DQoJCQkJCQkNCgkJCWlmKHBlcnNlblNlYmVsdW0gIT0gcGVyc2VuYW4pew0KCQkJCS8vYWxlcnQocGVyc2VuU2ViZWx1bSsiID09ICIrcGVyc2VuYW4rIiA9ICIrbWF4cGVyc2VuKTsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RhdHVzdHh0Iikuc3R5bGUud2lkdGggPSBwZXJzZW5hbisiJSI7IA0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0dXN0eHQiKS5pbm5lckhUTUwgPSBwZXJzZW5hbisiJSI7DQoJCQkJDQoJCQkJcGVyc2VuU2ViZWx1bSA9IHBlcnNlbmFuOw0KCQkJCXBlcnNlbmFuID0gcGVyc2VuYW4gLSBNYXRoLnJvdW5kKHRtYmhuKTsNCgkJCQkJCQkNCgkJCQkvL2FsZXJ0KHBlcnNlblNlYmVsdW0rIiA9ICIrcGVyc2VuYW4pOwkNCgkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb25QZXJzZW4oKSB7bWUua2VtdW5kdXJhbnBlcnNlbihwZXJzZW5hbixtYXhwZXJzZW4scGVyc2VuU2ViZWx1bSl9LDEpOw0KCQkJfQ0KCQkgfWVsc2V7DQoJCQlpZihtYXhwZXJzZW4gPD0gMCl7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0YXR1c3R4dCIpLnN0eWxlLndpZHRoID0gMCsiJSI7IA0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0dXN0eHQiKS5pbm5lckhUTUwgPSAwKyIlIjsNCgkJCX1lbHNlew0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0dXN0eHQiKS5zdHlsZS53aWR0aCA9IE1hdGgucm91bmQobWF4cGVyc2VuKSsiJSI7IA0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0dXN0eHQiKS5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKG1heHBlcnNlbikrIiUiOw0KCQkJfQkNCgkJIH0JDQoJCQ0KCX0sDQoJDQoJSGFwdXNQb3N0aW5nOiBmdW5jdGlvbihwZXJzZW5hbil7DQoJCXRvdF9qbWxiYXJhbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90X2ptbGJhcmFuZycpLnZhbHVlOw0KCQkNCgkJCQ0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJyt0aGlzLnByZWZpeCsiX2Zvcm0iKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1IYXB1c1Bvc3RpbmcnLA0KCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOw0KCQkJCQl2YXIgbWUgPSBwZW1hc3VrYW47DQoJCQkJCXZhciBjb3ZlciA9ICdwZW1hc3VrYW5fZm9ybWNvdmVyX2xvYWQnOw0KCQkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCQlpZihyZXNwLmNvbnRlbnQuUHJvc2VzID09ICJORVhUIil7DQoJCQkJCQkJCUp1bWxhaEJhcmFuZyA9IHJlc3AuY29udGVudC5KdW1sYWhCYXJhbmc7DQoJCQkJCQkJCXRvdF9wZXJzZW4gPSBKdW1sYWhCYXJhbmcvdG90X2ptbGJhcmFuZyAqIDEwMDsNCgkJCQkJCQkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uUGVyc2VuKCkge21lLmtlbXVuZHVyYW5wZXJzZW4odG90X3BlcnNlbix0b3RfcGVyc2VuLHBlcnNlbmFuKX0sMTAwKTsNCgkJCQkJCQkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uUGVyc2VuKCkge21lLkhhcHVzUG9zdGluZyh0b3RfcGVyc2VuKTt9LDEwMSk7CQkNCgkJCQkJCQl9ZWxzZXsNCgkJCQkJCQkJDQoJCQkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvblBlcnNlbigpIHttZS5rZW11bmR1cmFucGVyc2VuKHBlcnNlbmFuLDAscGVyc2VuYW4pfSwxMDApOw0KCQkJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb25QZXJzZW4oKSB7YWxlcnQoIkJlcmhhc2lsIE1lbWJhdGFsa2FuIFBvc3RpbmcgISIpO30sMTIwKTsNCgkJCQkJCQkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uUGVyc2VuKCkge21lLkNsb3NlKCk7cGVtYXN1a2FuLnJlZnJlc2hMaXN0KCk7fSwxMjIpOw0KCQkJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb25QZXJzZW4oKSB7ZGVsRWxlbShjb3Zlcik7fSw1MDApOw0KCQkJCQkJCX0NCgkJCQkJCQkNCgkJCQkJCX1lbHNlew0KCQkJCQkJCWRlbEVsZW0oY292ZXIpOw0KCQkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJfSk7CQ0KCX0sDQoJDQoJDQoJUHJvc2VzUG9zdGluZzogZnVuY3Rpb24odXJ1dGFuLCBCUkdNVUxBSSwgQlJHU1VEQUhQUk9TRVMpew0KCQl2YXIgbWU9IHRoaXM7CQ0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7DQoJCQ0KCQkNCgkJdG90X2ptbGJhcmFuZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3Rfam1sYmFyYW5nJykudmFsdWU7DQoJCQ0KCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRiYXJhbmdueWFfJyt1cnV0YW4pKXsNCgkJCWlkYmFyYW5nbnlhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkYmFyYW5nbnlhXycrdXJ1dGFuKS52YWx1ZTsNCgkJCWptbGJhcmFuZ255YSA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqbWxiYXJhbmdueWFfJytpZGJhcmFuZ255YSkudmFsdWUpOw0KCQkJDQoJCQlpZihCUkdTVURBSFBST1NFUyA9PSAwKXsNCgkJCQlwZXJhd2FsPTE7DQoJCQl9ZWxzZXsNCgkJCQlwZXJhd2FsPUJSR1NVREFIUFJPU0VTOw0KCQkJfQ0KCQkJDQoJCQlwZXJzZW5hbiA9IHBlcmF3YWwvdG90X2ptbGJhcmFuZyAqIDEwMDsNCgkJCQ0KCQkJLy9hbGVydChCUkdTVURBSFBST1NFUysiID0gIit0b3Rfam1sYmFyYW5nKTsNCgkJCWlmKHBhcnNlSW50KEJSR1NVREFIUFJPU0VTKSA8IHBhcnNlSW50KHRvdF9qbWxiYXJhbmcpKXsNCgkJCQkNCgkJCQlpZihCUkdNVUxBSSA+PSBqbWxiYXJhbmdueWEpew0KCQkJCQl1cnV0YW4gPSB1cnV0YW4rMTsNCgkJCQkJQlJHU1VEQUhQUk9TRVMgPSBCUkdTVURBSFBST1NFUyArIGptbGJhcmFuZ255YTsNCgkJCQkJDQoJCQkJCW1heHBlcnNlbmFuID0oQlJHU1VEQUhQUk9TRVMpL3RvdF9qbWxiYXJhbmcgKiAxMDA7DQoJCQkJCQ0KCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb25QZXJzZW4oKSB7bWUua2VtYWp1YW5wZXJzZW4ocGVyc2VuYW4sbWF4cGVyc2VuYW4pfSwxMDApOw0KCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb25QZXJzZW4oKSB7bWUuUHJvc2VzUG9zdGluZyh1cnV0YW4sIDAsIEJSR1NVREFIUFJPU0VTKTt9LDEwMSk7CQkNCgkJCQkJDQoJCQkJfWVsc2V7DQoJCQkJCWlmKGptbGJhcmFuZ255YSA+IDEwMCl7DQoJCQkJCQlpZigoQlJHTVVMQUkgKyAxMDApID4gam1sYmFyYW5nbnlhKXsNCgkJCQkJCQlKTUxCQVJBTkdLSVJJTSA9IGptbGJhcmFuZ255YSAtIEJSR01VTEFJOw0KCQkJCQkJCUJSR1NVREFIUFJPU0VTID0gQlJHU1VEQUhQUk9TRVMgKyBKTUxCQVJBTkdLSVJJTTsNCgkJCQkJCQlCUkdNVUxBSSA9IDA7DQoJCQkJCQkJdXJ1dGFuID0gdXJ1dGFuKzE7CQ0KCQkJCQkJfWVsc2V7DQoJCQkJCQkJSk1MQkFSQU5HS0lSSU0gPSAxMDA7DQoJCQkJCQkJQlJHU1VEQUhQUk9TRVMgPSBCUkdTVURBSFBST1NFUyArIDEwMDsNCgkJCQkJCQlCUkdNVUxBSSA9IEJSR01VTEFJKzEwMDsNCgkJCQkJCQkNCgkJCQkJCQkJCQkJCQkJDQoJCQkJCQl9DQoJCQkJCQkNCgkJCQkJCW1heHBlcnNlbmFuID0oQlJHU1VEQUhQUk9TRVMrMTAwKS90b3Rfam1sYmFyYW5nICogMTAwOw0KCQkJCQkJDQoJCQkJCX1lbHNlew0KCQkJCQkJQlJHU1VEQUhQUk9TRVMgPSBCUkdTVURBSFBST1NFUyArIGptbGJhcmFuZ255YTsNCgkJCQkJCUJSR01VTEFJID0gMDsNCgkJCQkJCS8vdXJ1dGFuID0gdXJ1dGFuKzE7DQoJCQkJCQltYXhwZXJzZW5hbiA9KEJSR1NVREFIUFJPU0VTKS90b3Rfam1sYmFyYW5nICogMTAwOw0KCQkJCQkJSk1MQkFSQU5HS0lSSU0gPSBqbWxiYXJhbmdueWE7DQoJCQkJCX0NCgkJCQkJDQoJCQkJCS8vYWxlcnQoInVydXRhbiBLZS0yIit1cnV0YW4rIiBQZXJzZW4gS2UtIitwZXJzZW5hbisiIG1heHBlcnNlbmFuIittYXhwZXJzZW5hbik7DQoJCQkJCS8vYWxlcnQoQlJHTVVMQUkrIiBCUkcgIitCUkdTVURBSFBST1NFUyk7DQoJCQkJCQkJCQkJDQoJCQkJCSQuYWpheCh7DQoJCQkJCQl0eXBlOidQT1NUJywgDQoJCQkJCQlkYXRhOiQoJyMnK3RoaXMucHJlZml4KyJfZm9ybSIpLnNlcmlhbGl6ZSgpLA0KCQkJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9UHJvc2VzUG9zdGluZyZJZFBlbkRldD0nK2lkYmFyYW5nbnlhKycmSk1MQlJHTlk9JytKTUxCQVJBTkdLSVJJTSsnJkJSR01VTEFJPScrQlJHTVVMQUksDQoJCQkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsNCgkJCQkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkJCQlpZihCUkdNVUxBSSA+PWptbGJhcmFuZ255YSl7DQoJCQkJCQkJCQlCUkdNVUxBSSA9IDA7DQoJCQkJCQkJCQl1cnV0YW4gPSB1cnV0YW4gKyAxOw0KCQkJCQkJCQl9ZWxzZSBpZihyZXNwLmNvbnRlbnQuTGFuZ3N1bmcpew0KCQkJCQkJCQkJQlJHTVVMQUkgPSAwOw0KCQkJCQkJCQkJdXJ1dGFuID0gdXJ1dGFuICsgMTsNCgkJCQkJCQkJfWVsc2UgaWYoam1sYmFyYW5nbnlhIDwgMTAwKXsNCgkJCQkJCQkJCUJSR01VTEFJID0gMDsNCgkJCQkJCQkJCXVydXRhbiA9IHVydXRhbiArIDE7DQoJCQkJCQkJCX0NCgkJCQkJCQkJCQ0KCQkJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb25QZXJzZW4oKSB7bWUua2VtYWp1YW5wZXJzZW4ocGVyc2VuYW4sbWF4cGVyc2VuYW4pfSwxMDApOw0KCQkJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb25QZXJzZW4oKSB7bWUuUHJvc2VzUG9zdGluZyh1cnV0YW4sIEJSR01VTEFJLCByZXNwLmNvbnRlbnQuQmFyYW5nU3VkYWhQcm9zZXMpO30sMTAxKTsJCQ0KCQkJCQkJCX1lbHNlew0KCQkJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvblBlcnNlbigpIHtkZWxFbGVtKCdwZW1hc3VrYW5fZm9ybWNvdmVyX2xvYWQnKTt9LDUwMCk7DQoJCQkJCQkJfQ0KCQkJCQkgIAl9DQoJCQkJCX0pOwkNCgkJCQkJDQoJCQkJCQ0KCQkJCQkNCgkJCQl9DQoJCQkJDQoJCQl9ZWxzZXsNCgkJCQlwZXJzZW5hbiA9IChCUkdTVURBSFBST1NFUy90b3Rfam1sYmFyYW5nKSAqIDEwMDsNCgkJCQkvL2FsZXJ0KCJ1cnV0YW4gS2UtMiIrdXJ1dGFuKyIgUGVyc2VuIEtlLSIrcGVyc2VuYW4pOw0KCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvblBlcnNlbigpIHttZS5rZW1hanVhbnBlcnNlbihwZXJzZW5hbiwxMDApfSwxMDApOw0KCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvblBlcnNlbigpIHttZS5VcGRhdGVQb3N0aW5nQmVyaGFzaWwoKTt9LDExMCk7DQoJCQl9DQoJCQkJCQkNCgkJfWVsc2V7DQoJCQlwZXJzZW5hbiA9IChCUkdTVURBSFBST1NFUy90b3Rfam1sYmFyYW5nKSAqIDEwMDsNCgkJCS8vYWxlcnQoInVydXRhbiBLZS0yIit1cnV0YW4rIiBQZXJzZW4gS2UtIitwZXJzZW5hbik7DQoJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb25QZXJzZW4oKSB7bWUua2VtYWp1YW5wZXJzZW4ocGVyc2VuYW4sMTAwKX0sMTAwKTsNCgkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvblBlcnNlbigpIHttZS5VcGRhdGVQb3N0aW5nQmVyaGFzaWwoKTt9LDExMCk7DQoJCQkJCQ0KCQl9DQoJCQ0KCX0sDQoJDQoJVXBkYXRlUG9zdGluZ0Jlcmhhc2lsOiBmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLnByZWZpeCsiX2Zvcm0iKS5zZXJpYWxpemUoKSwNCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPUJlcmhhc2lsUG9zdGluZycsDQoJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJYWxlcnQoIkJlcmhhc2lsIE1lbXBvc3RpbmcgRGF0YSAhIik7DQoJCQkJCQ0KCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb25QZXJzZW4oKSB7bWUuQ2xvc2UoKTtwZW1hc3VrYW4ucmVmcmVzaExpc3QoKTt9LDExMSk7DQoJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvblBlcnNlbigpIHtkZWxFbGVtKCdwZW1hc3VrYW5fZm9ybWNvdmVyX2xvYWQnKTt9LDUwMCk7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCQl9DQoJCX0pOw0KCX0sDQoJCQ0KCVNpbXBhblRURDogZnVuY3Rpb24oKXsNCgkJdmFyIG1lPSB0aGlzOw0KCQkNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXJfVFREX2xvYWQnOw0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDIsdHJ1ZSxmYWxzZSk7CQ0KCQkNCgkJDQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMucHJlZml4KydfZm9ybV9UVEQnKS5zZXJpYWxpemUoKSwNCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPVNpbXBhblRURCcsDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJZGVsRWxlbShjb3Zlcik7CQkNCgkJCQkvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJYWxlcnQocmVzcC5jb250ZW50KTsNCgkJCQkJbWUuVHV0dXBGb3JtKCJwZW1hc3VrYW5fZm9ybWNvdmVyX1RURCIpOw0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQ0KCQkgIAl9DQoJCX0pOw0KCX0sDQoJDQoJUHJpbnRMYXBvcmFuOiBmdW5jdGlvbigpew0KCQl2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsoJ19mb3JtJykpOwkJDQoJCQlhRm9ybS5hY3Rpb249IHRoaXMudXJsKycmdGlwZT1QcmludExhcG9yYW4nOwkNCgkJCWFGb3JtLnRhcmdldD0nX2JsYW5rJzsNCgkJCWFGb3JtLnN1Ym1pdCgpOwkNCgkJCWFGb3JtLnRhcmdldD0nJzsNCgl9LA0KCQ0KCVByb3Nlc1Bvc3RpbmdQZW1lbGloYXJhYW46IGZ1bmN0aW9uKHVydXRhbiwgQlJHTVVMQUksIEJSR1NVREFIUFJPU0VTKXsNCgkJdmFyIG1lPSB0aGlzOwkNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkNCgkJDQoJCXRvdF9qbWxiYXJhbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90X2ptbGJhcmFuZycpLnZhbHVlOw0KCQkNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkS1BUTFNfJyt1cnV0YW4pKXsNCgkJCWlkS1BUTFMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRLUFRMU18nK3VydXRhbikudmFsdWU7DQoJCQkNCgkJCWlmKEJSR1NVREFIUFJPU0VTID09IDApew0KCQkJCXBlcmF3YWw9MTsNCgkJCX1lbHNlew0KCQkJCXBlcmF3YWw9QlJHU1VEQUhQUk9TRVM7DQoJCQl9DQoJCQkNCgkJCXBlcnNlbmFuID0gcGVyYXdhbC90b3Rfam1sYmFyYW5nICogMTAwOwkJCQkJCQkJDQoJCQkJJC5hamF4KHsNCgkJCQkJCXR5cGU6J1BPU1QnLCANCgkJCQkJCWRhdGE6JCgnIycrdGhpcy5wcmVmaXgrIl9mb3JtIikuc2VyaWFsaXplKCksDQoJCQkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1Qcm9zZXNQb3N0aW5nUGVtZWxpaGFyYWFuJklkRGlzdHJpYnVzaT0nK2lkS1BUTFMrJyZCUkdNVUxBST0nK0JSR01VTEFJLA0KCQkJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJCQkJDQoJCQkJCQkJCUJSR01VTEFJID0gQlJHTVVMQUkgKyAxOw0KCQkJCQkJCQl1cnV0YW4gPSB1cnV0YW4gKyAxOw0KCQkJCQkJCQkNCgkJCQkJCQkJbWF4cGVyc2VuYW4gPSByZXNwLmNvbnRlbnQuYnJnX2lucHV0L3RvdF9qbWxiYXJhbmcgKiAxMDAgOw0KCQkJCQkJCQkNCgkJCQkJCQkJaWYocmVzcC5jb250ZW50Lmxhbmp1dCA9PSAiTkVYVCIpew0KCQkJCQkJCQkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uUGVyc2VuKCkge21lLmtlbWFqdWFucGVyc2VuKHBlcnNlbmFuLG1heHBlcnNlbmFuKX0sMTAwKTsNCgkJCQkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gbXlGdW5jdGlvblBlcnNlbigpIHttZS5Qcm9zZXNQb3N0aW5nUGVtZWxpaGFyYWFuKHVydXRhbiwgQlJHTVVMQUksIHJlc3AuY29udGVudC5CYXJhbmdTdWRhaFByb3Nlcyk7fSwxMDEpOwkNCgkJCQkJCQkJfWVsc2V7DQoJCQkJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uIG15RnVuY3Rpb25QZXJzZW4oKSB7bWUua2VtYWp1YW5wZXJzZW4ocGVyc2VuYW4sbWF4cGVyc2VuYW4pfSwxMDApOw0KCQkJCQkJCQkJc2V0VGltZW91dChmdW5jdGlvbiBteUZ1bmN0aW9uUGVyc2VuKCkge21lLlVwZGF0ZVBvc3RpbmdCZXJoYXNpbCgpO30sMTEwKTsNCgkJCQkJCQkJCQ0KCQkJCQkJCQl9DQoJCQkJCQkJCQkJCQkJCQkJCQ0KCQkJCQkJCX1lbHNlew0KCQkJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQkJCWRlbEVsZW0oInBlbWFzdWthbl9mb3JtY292ZXJfbG9hZCIpOw0KCQkJCQkJCX0NCgkJCQkJICAJfQ0KCQkJCQl9KTsJDQoJCQkJCQ0KCQkJCQkNCgkJCQkJDQoJCX0NCgkJDQoJfSwNCgkNCglMaWhhdERhdGE6ZnVuY3Rpb24oSWRueWEpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQkJdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOw0KCQkJDQoJCQkvL3RoaXMuU2hvdyAoJ2Zvcm1lZGl0Jyx7aWRwbGg6Ym94LnZhbHVlfSwgZmFsc2UsIHRydWUpOwkJCQ0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCQkkLmFqYXgoew0KCQkJCXR5cGU6J1BPU1QnLCANCgkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPWZvcm1MaWhhdERhdGEmSWRueWE9JytJZG55YSwNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCQlpZiAocmVzcC5lcnIgPT0nJyl7CQkNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCQkNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCQl9DQoJCQkgIAl9DQoJCQl9KTsNCgkJDQoJfSwNCgkNCglTaW5na3JvbkF0cmlidXNpOiBmdW5jdGlvbigpew0KCQl2YXIgbWU9IHRoaXM7DQoJCXRoaXMuT25FcnJvckNsb3NlID0gZmFsc2UJDQoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7DQoJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybXNpbXBhbic7DQoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCQ0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPVNpbmdrcm9uQXRyaWJ1c2knLA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCWRlbEVsZW0oY292ZXIpOwkJDQoJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7DQoJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJYWxlcnQoIlNlbGVzYWkiKTsNCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCX0NCgkJICAJfQ0KCQl9KTsNCgkJCQ0KCQkNCgl9LA0KCQ0KCUZvcm1UZW1wbGF0ZTpmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQkJLy92YXIgYm94ID0gdGhpcy5HZXRDYnhDaGVja2VkKCk7DQoJCQkNCgkJCS8vdGhpcy5TaG93ICgnZm9ybWVkaXQnLHtpZHBsaDpib3gudmFsdWV9LCBmYWxzZSwgdHJ1ZSk7CQkJDQoJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7DQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9Rm9ybVRlbXBsYXRlJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCQlpZiAocmVzcC5lcnIgPT0nJyl7CQkNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCQkNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCQl9DQoJCQkgIAl9DQoJCQl9KTsNCgkJDQoJfSwNCgkNCglQaWxpaFRlbXBsYXRlOmZ1bmN0aW9uKCl7DQoJCXZhciBlcnJtc2cgPSAnJzsNCgkJdmFyIHBpbF90ZW1wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaWxfdGVtcGxhdGUnKS52YWx1ZTsNCgkJaWYocGlsX3RlbXBsYXRlID09ICcnKWVycm1zZyA9ICJUZW1wbGF0ZSBCZWx1bSBEaSBQaWxpaCAhIjsNCgkJDQoJCWlmKGVycm1zZyA9PScnKXsgDQoJCQl2YXIgdHVrVXJsID0gJ2NhcmlUZW1wbGF0ZSc7DQoJCQlpZihwaWxfdGVtcGxhdGUgPT0gJzEnKXR1a1VybD0ncmVmX3RlbXBsYXRlYmFyYW5nJzsNCgkJCQkJCQkJDQoJCQl2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsiX2Zvcm0iKTsJCQ0KCQkJYUZvcm0uYWN0aW9uPSAicGFnZXMucGhwP1BnPSIrdHVrVXJsOwkJDQoJCQlhRm9ybS50YXJnZXQ9J19ibGFuayc7DQoJCQlhRm9ybS5zdWJtaXQoKTsJDQoJCQlhRm9ybS50YXJnZXQ9Jyc7DQoJCX1lbHNlew0KCQkJCWFsZXJ0KGVycm1zZyk7DQoJCX0JDQoJfSwNCgkJCQ0KfSk7DQo=",
    "size": "36320"
}