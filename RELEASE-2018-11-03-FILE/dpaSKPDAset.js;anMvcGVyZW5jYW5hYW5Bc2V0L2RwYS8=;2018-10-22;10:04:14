{
    "namaFile": "js\/perencanaanAset\/dpa\/dpaSKPDAset.js",
    "lastUpdate": "2018-10-22+10:04:14.58",
    "contentFile": "dmFyIGRwYVNLUERBc2V0RmlsdGVyU0tQRCA9IG5ldyBTa3BkQ2xzKHsKICBwcmVmaXg6ICJkcGFTS1BEQXNldCIsCiAgZm9ybU5hbWU6ICJkcGFTS1BEQXNldEZvcm0iLAoKICBwaWxpaFVydXNhbmZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgLy8gZHBhU0tQREFzZXQucmVmcmVzaExpc3QodHJ1ZSk7CiAgICBkcGFTS1BEQXNldC5maWx0ZXJSZW5kZXIoKTsKICB9LAogIHBpbGloQmlkYW5nQWZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgLy8gZHBhU0tQREFzZXQucmVmcmVzaExpc3QodHJ1ZSk7CiAgICBkcGFTS1BEQXNldC5maWx0ZXJSZW5kZXIoKTsKICB9LAogIHBpbGloVW5pdEFmdGVyOiBmdW5jdGlvbigpIHsKICAgIC8vIGRwYVNLUERBc2V0LnJlZnJlc2hMaXN0KHRydWUpOwogICAgZHBhU0tQREFzZXQuZmlsdGVyUmVuZGVyKCk7CiAgfSwKICBwaWxpaFN1YlVuaXRBZnRlcjogZnVuY3Rpb24oKSB7CiAgICAvLyBkcGFTS1BEQXNldC5yZWZyZXNoTGlzdCh0cnVlKTsKICAgIGRwYVNLUERBc2V0LmZpbHRlclJlbmRlcigpOwogIH0sCiAgcGlsaWhTZWtzaUFmdGVyOiBmdW5jdGlvbigpIHsKICAgIC8vIGRwYVNLUERBc2V0LnJlZnJlc2hMaXN0KHRydWUpOwogICAgZHBhU0tQREFzZXQuZmlsdGVyUmVuZGVyKCk7CiAgfSwKICBwcm9ncmFtQ2hhbmdlZDogZnVuY3Rpb24oKSB7CiAgICAvLyBya2FTS1BEMjIxLnJlZnJlc2hMaXN0KHRydWUpOwogICAgZHBhU0tQREFzZXQuZmlsdGVyUmVuZGVyKCk7CiAgfQp9KTsKdmFyIGRwYVNLUERBc2V0ID0gbmV3IERhZnRhck9iajIoewogIHByZWZpeDogImRwYVNLUERBc2V0IiwKICB1cmw6ICJwYWdlcy5waHA\/UGc9ZHBhU0tQREFzZXQiLAogIGZvcm1OYW1lOiAiZHBhU0tQREFzZXRGb3JtIiwKICBkcGFTS1BEQXNldF9mb3JtOiAiMCIsIC8vZGVmYXVsdCBqcyBkcGFTS1BEQXNldAogIGxvYWRpbmc6IGZ1bmN0aW9uKCkgewogICAgLy9hbGVydCgnbG9hZGluZycpOwogICAgdGhpcy50b3BCYXJSZW5kZXIoKTsKICAgIHRoaXMuZmlsdGVyUmVuZGVyKCk7CiAgICB0aGlzLmRhZnRhclJlbmRlcigpOwogICAgdGhpcy5zdW1IYWxSZW5kZXIoKTsKICB9LAogIHRvcEJhclJlbmRlcjogZnVuY3Rpb24oKXsKICAgIHZhciBtZT10aGlzOwogICAgLy9yZW5kZXIgc3VidGl0bGUKICAgICQuYWpheCh7CiAgICAgIHVybDogdGhpcy51cmwrJyZ0aXBlPXN1YnRpdGxlJywKICAgICAgdHlwZTonUE9TVCcsCiAgICAgIGRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWUucHJlZml4KydfY29udF90aXRsZScpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKICAgICAgICBtZS50b3BCYXJSZW5kZXJBZnRlcigpCiAgICAgIH0KICAgIH0pOwogIH0sCiAgZmlsdGVyUmVuZGVyQWZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgaWYoJCgiI2ZpbHRlckJlbGFuamEiKS52YWwoKSAhPSAnJyl7CiAgICAgIHRoaXMuZmlsdGVyVG90YWxCZWxhbmphKCk7CiAgICB9ZWxzZXsKICAgICAgJCgiI3NwYW5Ub3RhbEJlbGFuamEiKS50ZXh0KCIiKTsKICAgIH0KICB9LAogIGZpbHRlclRvdGFsQmVsYW5qYTogZnVuY3Rpb24oKXsKICAgICQuYWpheCh7CiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZmlsdGVyVG90YWxCZWxhbmphIiwKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICQoIiNzcGFuVG90YWxCZWxhbmphIikudGV4dChyZXNwLmNvbnRlbnQudG90YWxCZWxhbmphKTsKICAgICAgfQogICAgfSk7CiAgfSwKICBkZXRhaWw6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIGVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsKICAgIGlmIChlcnJtc2cgPT0gIiIpIHsKICAgICAgdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoZXJybXNnKTsKICAgIH0KICB9LAogIGRhZnRhclJlbmRlcjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOyAvL3JlbmRlciBkYWZ0YXIKICAgIGFkZENvdmVyUGFnZTIoImRhZnRhcl9jb3ZlciIsIDEsIHRydWUsIHRydWUsIHsKICAgICAgcmVuZGVyVG86IHRoaXMucHJlZml4ICsgIl9jb250X2RhZnRhciIsCiAgICAgIGltZ3NyYzogImltYWdlcy93YWl0LmdpZiIsCiAgICAgIHN0eWxlOiB7IHBvc2l0aW9uOiAiYWJzb2x1dGUiLCB0b3A6ICI1IiwgbGVmdDogIjUiIH0KICAgIH0pOwogICAgJC5hamF4KHsKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1kYWZ0YXIiLAogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWUucHJlZml4ICsgIl9jb250X2RhZnRhciIpLmlubmVySFRNTCA9CiAgICAgICAgICByZXNwLmNvbnRlbnQ7CiAgICAgICAgbWUuc3VtSGFsUmVuZGVyKCk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgY2hlY2tQYWd1SW5kaWthdGlmOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgZXJyID0gIiI7CiAgICBpZigkKCIjZmlsdGVyVXJ1c2FuIikudmFsKCkgPT0gJzAwJyl7CiAgICAgIGVyciA9ICJQaWxpaCBVcnVzYW4iOwogICAgfWVsc2UgaWYoJCgiI2ZpbHRlckJpZGFuZyIpLnZhbCgpID09ICcwMCcpewogICAgICBlcnIgPSAiUGlsaWggQmlkYW5nIjsKICAgIH1lbHNlIGlmKCQoIiNmaWx0ZXJTS1BEIikudmFsKCkgPT0gJzAwJyl7CiAgICAgIGVyciA9ICJQaWxpaCBTS1BEIjsKICAgIH1lbHNlIGlmKCQoIiNmaWx0ZXJDb25jYXRQcm9ncmFtIikudmFsKCkgPT0gJycpewogICAgICBlcnIgPSAiUGlsaWggUHJvZ3JhbSI7CiAgICB9ZWxzZSBpZigkKCIjZmlsdGVyUSIpLnZhbCgpID09ICcnKXsKICAgICAgZXJyID0gIlBpbGloIEtlZ2lhdGFuIjsKICAgIH0KICAgIGlmKGVyciA9PSAiIil7CiAgICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXIiOwogICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OTksIHRydWUsIGZhbHNlKTsKICAgICAgJC5hamF4KHsKICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWNoZWNrUGFndUluZGlrYXRpZiIsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICAgJCgiI2ZpbHRlclBhZ3VJbmRpa2F0aWYiKS52YWwocmVzcC5jb250ZW50LmZpbHRlclBhZ3VJbmRpa2F0aWYpOwogICAgICAgICAgICAkKCIjZmlsdGVyU2lzYVBhZ3VJbmRpa2F0aWYiKS52YWwocmVzcC5jb250ZW50LmZpbHRlclNpc2FQYWd1SW5kaWthdGlmKTsKICAgICAgICAgICAgJCgiI2ZpbHRlclRvdGFsQmVsYW5qYSIpLnZhbChyZXNwLmNvbnRlbnQuZmlsdGVyVG90YWxCZWxhbmphKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfWVsc2V7CiAgICAgIGFsZXJ0KGVycik7CiAgICB9CiAgfSwKICBCYXJ1OiBmdW5jdGlvbigpewogICAgdmFyIG1lID0gdGhpczsKCiAgCQllcnJtc2cgPSAnJzsKCiAgCQlpZigkKCIjZmlsdGVyVXJ1c2FuIikudmFsKCkgPT0gJzAwJyl7CiAgCQkJZXJybXNnID0gIlBpbGloIFVydXNhbiI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyU0tQRCIpLnZhbCgpID09ICcwMCcpewogIAkJCWVycm1zZyA9ICJQaWxpaCBCaWRhbmciOwogIAkJfWVsc2UgaWYoJCgiI2ZpbHRlclNLUEQiKS52YWwoKSA9PSAnMDAnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggU0tQRCI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyQ29uY2F0UHJvZ3JhbSIpLnZhbCgpID09ICcnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggUHJvZ3JhbSI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyUSIpLnZhbCgpID09ICcnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggS2VnaWF0YW4iOwogIAkJfQogIAkJaWYoZXJybXNnID09JycpewogIAkJCXZhciBtZSA9IHRoaXM7CiAgCQkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7CiAgCQkJJC5hamF4KHsKICAJCQkgIHVybDogdGhpcy51cmwrJyZ0aXBlPUJhcnUnLAogIAkJCSAgdHlwZSA6ICdQT1NUJywKICAJCQkgIGRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgCQkJICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CiAgCQkJCQlpZihyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgICAgICQoIiNuZXdCbGFua1BhZ2UiKS52YWwoKTsKICAJCQkJCQlhRm9ybS5hY3Rpb249ICdwYWdlcy5waHA\/UGc9ZHBhU0tQREFzZXRJbnMnOwogIAkJCQkJCWFGb3JtLnRhcmdldD0nX2JsYW5rJzsKICAJCQkJCQlhRm9ybS5zdWJtaXQoKTsKICAJCQkJCQlhRm9ybS50YXJnZXQ9Jyc7CiAgCQkJCQl9ZWxzZXsKICAJCQkJCQlhbGVydChyZXNwLmVycik7CiAgCQkJCQl9CiAgCQkJICB9CiAgCQkJfSk7CiAgCQl9ZWxzZXsKICAJCQkJYWxlcnQoZXJybXNnKTsKICAJCX0KCX0sCiAgbmV3QmxhbmtQYWdlOiBmdW5jdGlvbigpewogICAgdmFyIG1lID0gdGhpczsKCiAgCQllcnJtc2cgPSAnJzsKCiAgCQlpZigkKCIjZmlsdGVyVXJ1c2FuIikudmFsKCkgPT0gJzAwJyl7CiAgCQkJZXJybXNnID0gIlBpbGloIFVydXNhbiI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyU0tQRCIpLnZhbCgpID09ICcwMCcpewogIAkJCWVycm1zZyA9ICJQaWxpaCBCaWRhbmciOwogIAkJfWVsc2UgaWYoJCgiI2ZpbHRlclNLUEQiKS52YWwoKSA9PSAnMDAnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggU0tQRCI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyQ29uY2F0UHJvZ3JhbSIpLnZhbCgpID09ICcnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggUHJvZ3JhbSI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyUSIpLnZhbCgpID09ICcnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggS2VnaWF0YW4iOwogIAkJfQogIAkJaWYoZXJybXNnID09JycpewogIAkJCXZhciBtZSA9IHRoaXM7CiAgCQkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7CiAgCQkJJC5hamF4KHsKICAJCQkgIHVybDogdGhpcy51cmwrJyZ0aXBlPW5ld0JsYW5rUGFnZScsCiAgCQkJICB0eXBlIDogJ1BPU1QnLAogIAkJCSAgZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAJCQkgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsKICAJCQkJCWlmKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgICAgJCgiI25ld0JsYW5rUGFnZSIpLnZhbCgnMScpOwogIAkJCQkJCWFGb3JtLmFjdGlvbj0gJ3BhZ2VzLnBocD9QZz1kcGFTS1BEQXNldElucyc7CiAgCQkJCQkJYUZvcm0udGFyZ2V0PSdfYmxhbmsnOwogIAkJCQkJCWFGb3JtLnN1Ym1pdCgpOwogIAkJCQkJCWFGb3JtLnRhcmdldD0nJzsKICAJCQkJCX1lbHNlewogIAkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsKICAJCQkJCX0KICAJCQkgIH0KICAJCQl9KTsKICAJCX1lbHNlewogIAkJCQlhbGVydChlcnJtc2cpOwogIAkJfQoJfSwKICBJbmZvOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyIjsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1JbmZvIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5OSwgdHJ1ZSwgZmFsc2UpOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKCiAgQ2FyaTogZnVuY3Rpb24oKSB7CiAgICBwb3B1cEJhcmFuZy5rb2RlQmFyYW5nID0gImtvZGVCYXJhbmciOwogICAgcG9wdXBCYXJhbmcubmFtYUJhcmFuZyA9ICJuYW1hQmFyYW5nIjsKICAgIHBvcHVwQmFyYW5nLnNhdHVhbkJhcmFuZyA9ICJzYXR1YW4iOwogICAgcG9wdXBCYXJhbmcud2luZG93U2hvdygpOwogIH0sCiAgRWRpdDogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOwogICAgaWYgKGVycm1zZyA9PSAiIikgewogICAgICB2YXIgYm94ID0gdGhpcy5HZXRDYnhDaGVja2VkKCk7CiAgICAgIHZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9ybU5hbWUpOwogICAgICAkLmFqYXgoewogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZWRpdFRhYiIsCiAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgIHZhciBJRHJlbmphID0gTnVtYmVyKHJlc3AuY29udGVudC5pZHJlbmphKTsKICAgICAgICAgICAgYUZvcm0uYWN0aW9uID0KICAgICAgICAgICAgICAicGFnZXMucGhwP1BnPXJrYm1kXyIgKwogICAgICAgICAgICAgIHJlc3AuY29udGVudC5rZW1hbmEgKwogICAgICAgICAgICAgICImWU49MSZpZD0iICsKICAgICAgICAgICAgICBJRHJlbmphOwogICAgICAgICAgICBhRm9ybS50YXJnZXQgPSAiX2JsYW5rIjsKICAgICAgICAgICAgYUZvcm0uc3VibWl0KCk7CiAgICAgICAgICAgIGFGb3JtLnRhcmdldCA9ICIiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnJtc2cpOwogICAgfQogIH0sCiAgcmVtb3ZlOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBlcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7CiAgICBpZiAoZXJybXNnID09ICIiKSB7CiAgICAgIHZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsKCiAgICAgICQuYWpheCh7CiAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1yZW1vdmUiLAogICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICAgIGRwYVNLUERBc2V0LnJlZnJlc2hMaXN0KHRydWUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnJtc2cpOwogICAgfQogIH0sCiAgVmFsaWRhc2k6IGZ1bmN0aW9uKGlkX2FuZ2dhcmFuKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlciI7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICBpZiAobWUuc2F0dWFuX2Zvcm0gPT0gMCkgewogICAgICAvL2JhcnUgZGFyaSBzYXR1YW4KICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMSwgdHJ1ZSwgZmFsc2UpOwogICAgfSBlbHNlIHsKICAgICAgLy9iYXJ1IGRhcmkgYmFyYW5nCiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5OSwgdHJ1ZSwgZmFsc2UpOwogICAgfQogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPVZhbGlkYXNpJmlkX2FuZ2dhcmFuPSIgKyBpZF9hbmdnYXJhbiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICJUYWhhcCBQZW55dXN1bmFuIFRlbGFoIEhhYmlzIikgewogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAoKICBuZXdOb21vclBlbmV0YXBhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlcktCIjsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1uZXdOb21vclBlbmV0YXBhbiIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA1LCB0cnVlLCBmYWxzZSk7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgICAgJCgiI25ld1RhbmdnYWxQZW5ldGFwYW4iKS5kYXRlcGlja2VyKHsKICAgICAgICAgICAgZGF0ZUZvcm1hdDogImRkLW1tLXl5IiwKICAgICAgICAgICAgc2hvd0FuaW06ICJzbGlkZURvd24iLAogICAgICAgICAgICBpbmxpbmU6IHRydWUsCiAgICAgICAgICAgIHNob3dPbjogImJ1dHRvbiIsCiAgICAgICAgICAgIGJ1dHRvbkltYWdlOiAiaW1hZ2VzL2NhbGVuZGFyLmdpZiIsCiAgICAgICAgICAgIGJ1dHRvbkltYWdlT25seTogdHJ1ZSwKICAgICAgICAgICAgY2hhbmdlTW9udGg6IHRydWUsCiAgICAgICAgICAgIGNoYW5nZVllYXI6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIENsb3NlMjogZnVuY3Rpb24oKSB7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyS0IiOwogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKSkgZGVsRWxlbShjb3Zlcik7CiAgICBpZiAodGlwZSA9PSBudWxsKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiYXV0byI7CiAgICB9CiAgfSwKCiAgc2F2ZVRldGFwa2FuUktCTUQ6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHRoaXMuT25FcnJvckNsb3NlID0gZmFsc2U7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybXNpbXBhbiI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAxLCB0cnVlLCBmYWxzZSk7CgogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVUZXRhcGthblJLQk1EIiwKICAgICAgZGF0YTogewogICAgICAgIG5vbW9yOiAkKCIjbm9tb3JQZW5ldGFwYW4iKS52YWwoKSwKICAgICAgICBjMTogJCgiI2MxIikudmFsKCksCiAgICAgICAgYzogJCgiI2MiKS52YWwoKSwKICAgICAgICBkOiAkKCIjZCIpLnZhbCgpLAogICAgICAgIG5vbW9yUGVuZXRhcGFuOiAkKCIjbm9tb3JQZW5ldGFwYW4iKS52YWwoKSwKICAgICAgICB0YW5nZ2FsUGVuZXRhcGFuOiAkKCIjdGFuZ2dhbFBlbmV0YXBhbiIpLnZhbCgpLAogICAgICAgIG5hbWFQZWphYmF0OiAkKCIjbmFtYVBlamFiYXQiKS52YWwoKSwKICAgICAgICBuaXA6ICQoIiNuaXAiKS52YWwoKSwKICAgICAgICBqYWJhdGFuOiAkKCIjamFiYXRhbiIpLnZhbCgpLAogICAgICAgIHN0YXR1c1BlbmdhZGFhbjogJCgiI2NoZWNrQm94UGVuZ2FkYWFuIikuaXMoIjpjaGVja2VkIiksCiAgICAgICAgc3RhdHVzUGVtZWxpaGFyYWFuOiAkKCIjY2hlY2tib3hQZW1lbGloYXJhYW4iKS5pcygiOmNoZWNrZWQiKSwKICAgICAgICBzdGF0dXNQZXJzZWRpYWFuOiAkKCIjY2hlY2tib3hQZXJzZWRpYWFuIikuaXMoIjpjaGVja2VkIikKICAgICAgfSwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICBpZiAocmVzcC5lcnIgIT0gIiIpIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoIlBlbmV0YXBhbiBCZXJoYXNpbCIpOwogICAgICAgICAgbWUuQ2xvc2UoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgc2F2ZU5vbW9yUGVuZXRhcGFuOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlcktCIjsKICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDEsIHRydWUsIGZhbHNlKTsKCiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2F2ZU5vbW9yUGVuZXRhcGFuIiwKICAgICAgZGF0YTogewogICAgICAgIG5vbW9yOiAkKCIjbmV3Tm9tb3JQZW5ldGFwYW4iKS52YWwoKSwKICAgICAgICB0YW5nZ2FsUGVuZXRhcGFuOiAkKCIjbmV3VGFuZ2dhbFBlbmV0YXBhbiIpLnZhbCgpLAogICAgICAgIG5hbWFQZWphYmF0OiAkKCIjbmV3TmFtYVBlamFiYXQiKS52YWwoKSwKICAgICAgICBuaXA6ICQoIiNuZXdOSVAiKS52YWwoKSwKICAgICAgICBqYWJhdGFuOiAkKCIjbmV3SmFiYXRhbiIpLnZhbCgpCiAgICAgIH0sCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgaWYgKHJlc3AuZXJyICE9ICIiKSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCJEYXRhIFRlcnNpbXBhbiIpOwogICAgICAgICAgJCgiI25vbW9yUGVuZXRhcGFuIikuaHRtbChyZXNwLmNvbnRlbnQuY29tYm9Ob21vclBlbmV0YXBhbik7CiAgICAgICAgICBtZS5DbG9zZTIoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCgogIGZvcm1hdEN1cnJlbmN5OiBmdW5jdGlvbihudW0pIHsKICAgIG51bSA9IG51bS50b1N0cmluZygpLnJlcGxhY2UoL1wkfFwsL2csICIiKTsKICAgIGlmIChpc05hTihudW0pKSBudW0gPSAiMCI7CiAgICBzaWduID0gbnVtID09IChudW0gPSBNYXRoLmFicyhudW0pKTsKICAgIG51bSA9IE1hdGguZmxvb3IobnVtICogMTAwICsgMC41MDAwMDAwMDAwMSk7CiAgICBjZW50cyA9IG51bSAlIDEwMDsKICAgIG51bSA9IE1hdGguZmxvb3IobnVtIC8gMTAwKS50b1N0cmluZygpOwogICAgaWYgKGNlbnRzIDwgMTApIGNlbnRzID0gIjAiICsgY2VudHM7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1hdGguZmxvb3IoKG51bS5sZW5ndGggLSAoMSArIGkpKSAvIDMpOyBpKyspCiAgICAgIG51bSA9CiAgICAgICAgbnVtLnN1YnN0cmluZygwLCBudW0ubGVuZ3RoIC0gKDQgKiBpICsgMykpICsKICAgICAgICAiLiIgKwogICAgICAgIG51bS5zdWJzdHJpbmcobnVtLmxlbmd0aCAtICg0ICogaSArIDMpKTsKICAgIHJldHVybiAoc2lnbiA\/ICIiIDogIi0iKSArICIiICsgbnVtOwogIH0sCiAgYmFudHU6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgaWRBbmdrYSA9IGlkLnJlcGxhY2UoIkoiLCAiaiIpOwogICAgdmFyIGFuZ2thID0gJCgiIyIgKyBpZEFuZ2thKS52YWwoKTsKICAgICQoIiNiYW50dSIgKyBpZCkudGV4dChkcGFTS1BEQXNldC5mb3JtYXRDdXJyZW5jeShhbmdrYSkpOwogIH0sCiAgTGFwb3JhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGVyciA9ICIiOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlciI7CiAgICBpZiAoZXJyID09ICIiKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMiwgdHJ1ZSwgZmFsc2UpOwogICAgICAkLmFqYXgoewogICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9TGFwb3JhbiIsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgICAgIG1lLkFmdGVyRm9ybUJhcnUocmVzcCk7CiAgICAgICAgICAgICQoIiN0YW5nZ2FsQ2V0YWsiKS5kYXRlcGlja2VyKHsKICAgICAgICAgICAgICBkYXRlRm9ybWF0OiAiZGQtbW0teXkiLAogICAgICAgICAgICAgIHNob3dBbmltOiAic2xpZGVEb3duIiwKICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsCiAgICAgICAgICAgICAgc2hvd09uOiAiYnV0dG9uIiwKICAgICAgICAgICAgICBidXR0b25JbWFnZTogImltYWdlcy9jYWxlbmRhci5naWYiLAogICAgICAgICAgICAgIGJ1dHRvbkltYWdlT25seTogdHJ1ZSwKICAgICAgICAgICAgICBjaGFuZ2VNb250aDogdHJ1ZSwKICAgICAgICAgICAgICBjaGFuZ2VZZWFyOiBmYWxzZSwKICAgICAgICAgICAgICB5ZWFyUmFuZ2U6IHJlc3AuY29udGVudC55ZWFyUmFuZ2UsCiAgICAgICAgICAgICAgYnV0dG9uVGV4dDogIiIsCiAgICAgICAgICAgICAgZGVmYXVsdERhdGU6ICswCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJhdXRvIjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoZXJyKTsKICAgIH0KICB9LAogIG5ld1RhbmRhVGFuZ2FuZ2FuOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgZXJyID0gIiI7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyVGFuZGFUYW5nYW4iOwoKICAgIGlmIChlcnIgPT0gIiIpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOwogICAgICAkLmFqYXgoewogICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICBkYXRhOiAkKCIjIiArIHRoaXMucHJlZml4ICsgIl9mb3JtIikuc2VyaWFsaXplKCksCiAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1uZXdUYW5kYVRhbmdhbmdhbiIsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgICAgIG1lLkFmdGVyRm9ybUJhcnUocmVzcCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnIpOwogICAgfQogIH0sCiAgY2xvc2VUYW5kYVRhbmdhbkZvcm06IGZ1bmN0aW9uKCkgewogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlclRhbmRhVGFuZ2FuIjsKICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikpIGRlbEVsZW0oY292ZXIpOwogICAgaWYgKHRpcGUgPT0gbnVsbCkgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwogICAgfQogIH0sCiAgcGlsaWhQYW5na2F0OiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICAkLmFqYXgoewogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXBpbGloUGFuZ2thdCIsCiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogewogICAgICAgIGMxOiAkKCIjZmlsdGVyVXJ1c2FuIikudmFsKCksCiAgICAgICAgYzogJCgiI2ZpbHRlckJpZGFuZyIpLnZhbCgpLAogICAgICAgIGQ6ICQoIiNmaWx0ZXJTS1BEIikudmFsKCksCiAgICAgICAgZTogJCgiI2ZpbHRlclVuaXQiKS52YWwoKSwKICAgICAgICBlMTogJCgiI2ZpbHRlclN1YlVuaXQiKS52YWwoKSwKICAgICAgICBkYzE6ICQoIiNkYzEiKS52YWwoKSwKICAgICAgICBkYzogJCgiI2RjIikudmFsKCksCiAgICAgICAgZGQ6ICQoIiNkZCIpLnZhbCgpLAogICAgICAgIGthdGVnb3JpOiAkKCIja2F0ZWdvcmkiKS52YWwoKSwKICAgICAgICBuYW1hcGVnYXdhaTogJCgiI25hbWFwZWdhd2FpIikudmFsKCksCiAgICAgICAgbmlwcGVnYXdhaTogJCgiI25pcHBlZ2F3YWkiKS52YWwoKSwKICAgICAgICBwYW5na2F0YWtoaXI6ICQoIiNwYW5na2F0YWtoaXIiKS52YWwoKSwKICAgICAgICBnb2xhbmdfYWtoaXI6ICQoIiNnb2xhbmdfYWtoaXIiKS52YWwoKSwKICAgICAgICBqYWJhdGFuOiAkKCIjamFiYXRhbiIpLnZhbCgpLAogICAgICAgIGVzZWxvbl9ha2hpcjogJCgiI2VzZWxvbl9ha2hpciIpLnZhbCgpCiAgICAgIH0sCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ29sYW5nX2FraGlyIikudmFsdWUgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgc2F2ZU5ld1RhbmRhVGFuZ2FuOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgdmFyIGNvdmVyID0gInJlbmphQXNldCIgKyAiX2Zvcm1zaW1wYW4iOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAga2F0ZWdvcmk6ICQoIiNrYXRlZ29yaSIpLnZhbCgpLAogICAgICAgIG5hbWFwZWdhd2FpOiAkKCIjbmFtYXBlZ2F3YWkiKS52YWwoKSwKICAgICAgICBuaXBwZWdhd2FpOiAkKCIjbmlwcGVnYXdhaSIpLnZhbCgpLAogICAgICAgIHBhbmdrYXRha2hpcjogJCgiI3BhbmdrYXRha2hpciIpLnZhbCgpLAogICAgICAgIGdvbGFuZ19ha2hpcjogJCgiI2dvbGFuZ19ha2hpciIpLnZhbCgpLAogICAgICAgIGphYmF0YW46ICQoIiNqYWJhdGFuIikudmFsKCksCiAgICAgICAgZXNlbG9uX2FraGlyOiAkKCIjZXNlbG9uX2FraGlyIikudmFsKCkKICAgICAgfSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlTmV3VGFuZGFUYW5nYW4iLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZFBlbmFuZGFUYW5nYW4iKS5pbm5lckhUTUwgPQogICAgICAgICAgICByZXNwLmNvbnRlbnQuY29tYm90dGQ7CiAgICAgICAgICBtZS5jbG9zZVRhbmRhVGFuZ2FuRm9ybSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIHZpZXdMYXBvcmFuOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBlcnJtc2cgPSAiIjsKICAgIGlmIChlcnJtc2cgPT0gIiIpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXggKyAiX2Zvcm0iKTsKICAgICAgYUZvcm0uYWN0aW9uID0gbWUudXJsICsgIiZ0aXBlPXZpZXdMYXBvcmFuIjsKICAgICAgYUZvcm0udGFyZ2V0ID0gIl9ibGFuayI7CiAgICAgIGFGb3JtLnN1Ym1pdCgpOwogICAgICBhRm9ybS50YXJnZXQgPSAiIjsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycm1zZyk7CiAgICB9CiAgfSwKICBub3RpY2VTeW5jOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgY292ZXJMb2FkaW5nID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlckxvYWRpbmciOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlckxvYWRpbmcsIDY5NiwgdHJ1ZSwgZmFsc2UpOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlciI7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9bm90aWNlU3luYyIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICBkZWxFbGVtKGNvdmVyTG9hZGluZyk7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTk5LCB0cnVlLCBmYWxzZSk7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIGNsb3NlTm90aWNlOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBtZS5TeW5jKCk7CiAgfSwKICBTeW5jOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyTG9hZGluZyI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OTk5LCB0cnVlLCBmYWxzZSk7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6IHsga29kZVNLUEQ6ICQoIiNrb2RlU0tQRCIpLnZhbCgpIH0sCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c3luYyIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBhbGVydCgic3luYyBzdWtzZXMiKTsKICAgICAgICAgIG1lLkNsb3NlKCk7CiAgICAgICAgICBtZS5yZWZyZXNoTGlzdCh0cnVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBlZGl0UmVrZW5pbmc6IGZ1bmN0aW9uKGlkUktBKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlckxvYWRpbmciOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgNSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAgaWRSS0E6IGlkUktBCiAgICAgIH0sCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZWRpdFJla2VuaW5nIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICQoIiNzcGFuRWRpdFJla2VuaW5nIiArIGlkUktBKS5odG1sKHJlc3AuY29udGVudC5pc2lTcGFuUmVrZW5pbmcpOwogICAgICAgICAgLy8gJCgiI2FjdGlvblNwYW5SZWtlbmluZyIgKyBpZFJLQSkuaHRtbChyZXNwLmNvbnRlbnQuaXNpQWN0aW9uU3Bhbik7CiAgICAgICAgICAkKCIjc3BhbkVkaXRSZWtlbmluZyIgKyBpZFJLQSkuYXR0cigib25jbGljayIsICIiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBmaW5kUmVrZW5pbmc6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGZpbHRlclJlayA9ICIiOwogICAgcG9wdXBSZWtlbmluZy5lbF9rb2RlX3Jla2VuaW5nID0gImhpZGRlblJla2VuaW5nIiArIGlkOwogICAgcG9wdXBSZWtlbmluZy5lbF9uYW1hX3Jla2VuaW5nID0gInRleHRSZWtlbmluZyIgKyBpZDsKICAgIHBvcHVwUmVrZW5pbmcud2luZG93U2F2ZUFmdGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIHBvcHVwUmVrZW5pbmcuZmlsdGVyQWt1biA9ICJSS0EgMi4yLjEiOwogICAgcG9wdXBSZWtlbmluZy53aW5kb3dTaG93KCk7CiAgfSwKICBzYXZlRWRpdFJla2VuaW5nOiBmdW5jdGlvbihpZCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJMb2FkaW5nIjsKICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDUsIHRydWUsIGZhbHNlKTsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YToKICAgICAgICAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpICsKICAgICAgICAiJmlkRWRpdFJrYT0iICsKICAgICAgICBpZCArCiAgICAgICAgIiZrb2RlUmVrZW5pbmdSS0E9IiArCiAgICAgICAgJCgiI2hpZGRlblJla2VuaW5nIiArIGlkKS52YWwoKSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlRWRpdFJla2VuaW5nIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIG1lLnJlZnJlc2hMaXN0KHRydWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIHNhdmVFZGl0UmluY2lhbkJlbGFuamE6IGZ1bmN0aW9uKGlkRWRpdFJrYSwgaWRSaW5jaWFuQmVsYW5qYSkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJMb2FkaW5nIjsKICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDUsIHRydWUsIGZhbHNlKTsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YToKICAgICAgICAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpICsKICAgICAgICAiJmlkUmluY2lhbkJlbGFuamE9IiArCiAgICAgICAgaWRSaW5jaWFuQmVsYW5qYSArCiAgICAgICAgIiZuYW1hUmluY2lhbkJlbGFuamE9IiArCiAgICAgICAgJCgiI3RleHRSaW5jaWFuQmVsYW5qYSIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVFZGl0UmluY2lhbkJlbGFuamEiLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgbWUucmVmcmVzaExpc3QodHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgZWRpdFJpbmNpYW5CZWxhbmphOiBmdW5jdGlvbihpZEVkaXRSa2EsIGlkUmluY2lhbkJlbGFuamEpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyTG9hZGluZyI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA1LCB0cnVlLCBmYWxzZSk7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBpZEVkaXRSa2E6IGlkRWRpdFJrYSwKICAgICAgICBpZFJpbmNpYW5CZWxhbmphOiBpZFJpbmNpYW5CZWxhbmphCiAgICAgIH0sCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZWRpdFJpbmNpYW5CZWxhbmphIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICQoIiNzcGFuRWRpdFJpbmNpYW5CZWxhbmphIiArIGlkRWRpdFJrYSkuaHRtbCgKICAgICAgICAgICAgcmVzcC5jb250ZW50LmlzaVNwYW5SaW5jaWFuQmVsYW5qYQogICAgICAgICAgKTsKICAgICAgICAgIC8vICQoIiNhY3Rpb25TcGFuUmluY2lhbkJlbGFuamEiICsgaWRFZGl0UmthKS5odG1sKAogICAgICAgICAgLy8gICByZXNwLmNvbnRlbnQuaXNpQWN0aW9uU3BhbgogICAgICAgICAgLy8gKTsKICAgICAgICAgICQoIiNzcGFuRWRpdFJpbmNpYW5CZWxhbmphIiArIGlkRWRpdFJrYSkuYXR0cigib25jbGljayIsICIiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBlZGl0U3ViUmluY2lhbjogZnVuY3Rpb24oaWRFZGl0UmthKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlckxvYWRpbmciOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgNSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAgaWRFZGl0UmthOiBpZEVkaXRSa2EKICAgICAgfSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1lZGl0U3ViUmluY2lhbiIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAkKCIjc3BhblZvbHVtZVJla2VuaW5nIiArIGlkRWRpdFJrYSkuaHRtbChyZXNwLmNvbnRlbnQuaXNpU3BhblZvbHVtZSk7CiAgICAgICAgICAkKCIjc3BhblNhdHVhbiIgKyBpZEVkaXRSa2EpLmh0bWwocmVzcC5jb250ZW50LmlzaVNwYW5TYXR1YW4pOwogICAgICAgICAgJCgiI3NwYW5IYXJnYVNhdHVhbiIgKyBpZEVkaXRSa2EpLmh0bWwoCiAgICAgICAgICAgIHJlc3AuY29udGVudC5pc2lTcGFuSGFyZ2FTYXR1YW4KICAgICAgICAgICk7CiAgICAgICAgICAkKCIjc3BhblRvdGFsSnVtbGFoIiArIGlkRWRpdFJrYSkuaHRtbCgKICAgICAgICAgICAgcmVzcC5jb250ZW50LmlzaVNwYW5Ub3RhbEp1bWxhaAogICAgICAgICAgKTsKICAgICAgICAgICQoIiNhY3Rpb25TcGFuIiArIGlkRWRpdFJrYSkuaHRtbChyZXNwLmNvbnRlbnQuaXNpQWN0aW9uU3Bhbik7CiAgICAgICAgICAvLyAkKCIjdGRWb2x1bWVSZWtlbmluZyIraWRFZGl0UmthKS5hdHRyKCJhbGlnbiIsImxlZnQiKTsKICAgICAgICAgICQoIiNoZWFkZXJVcmFpYW4iKS5hdHRyKCJ3aWR0aCIsICI2MDAiKTsKICAgICAgICAgICQoIiNoZWFkZXJWb2x1bWUiKS5hdHRyKCJ3aWR0aCIsICIxNTAiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBmb3JtUmluY2lhblZvbHVtZTogZnVuY3Rpb24oaWQpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyIjsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogewogICAgICAgIGlkOiBpZCwKICAgICAgICB2b2x1bWUxVGVtcDogJCgiI3ZvbHVtZTFUZW1wIiArIGlkKS52YWwoKSwKICAgICAgICB2b2x1bWUyVGVtcDogJCgiI3ZvbHVtZTJUZW1wIiArIGlkKS52YWwoKSwKICAgICAgICB2b2x1bWUzVGVtcDogJCgiI3ZvbHVtZTNUZW1wIiArIGlkKS52YWwoKSwKICAgICAgICBzYXR1YW4xVGVtcDogJCgiI3NhdHVhbjFUZW1wIiArIGlkKS52YWwoKSwKICAgICAgICBzYXR1YW4yVGVtcDogJCgiI3NhdHVhbjJUZW1wIiArIGlkKS52YWwoKSwKICAgICAgICBzYXR1YW4zVGVtcDogJCgiI3NhdHVhbjNUZW1wIiArIGlkKS52YWwoKSwKICAgICAgICB1cmFpYW5Wb2x1bWU6ICQoIiN1cmFpYW5Wb2x1bWUiICsgaWQpLnRleHQoKQogICAgICB9LAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWZvcm1SaW5jaWFuVm9sdW1lIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDIsIHRydWUsIGZhbHNlKTsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgc2V0VG90YWxSaW5jaWFuOiBmdW5jdGlvbigpIHsKICAgIHZhciBqdW1sYWgxID0gTnVtYmVyKCQoIiNqdW1sYWgxIikudmFsKCkpOwogICAgdmFyIGp1bWxhaDIgPSBOdW1iZXIoJCgiI2p1bWxhaDIiKS52YWwoKSk7CiAgICB2YXIganVtbGFoMyA9IE51bWJlcigkKCIjanVtbGFoMyIpLnZhbCgpKTsKICAgIGlmICgkKCIjanVtbGFoMiIpLnZhbCgpID09ICIiKSB7CiAgICAgIHZhciBqdW1sYWhUb3RhbCA9IE51bWJlcihqdW1sYWgxKTsKICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDMiKS52YWwoKSA9PSAiIikgewogICAgICB2YXIganVtbGFoVG90YWwgPSBOdW1iZXIoanVtbGFoMSAqIGp1bWxhaDIpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGp1bWxhaFRvdGFsID0gTnVtYmVyKGp1bWxhaDEgKiBqdW1sYWgyICoganVtbGFoMyk7CiAgICB9CiAgICAkKCIjanVtbGFoNCIpLnZhbChqdW1sYWhUb3RhbCk7CiAgfSwKICBTYXZlUmluY2lhblZvbHVtZTogZnVuY3Rpb24oaWQpIHsKICAgIHZhciBlcnIgPSAiIjsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1zaW1wYW4iOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMSwgdHJ1ZSwgZmFsc2UpOwogICAgZGVsRWxlbShjb3Zlcik7CiAgICBpZiAoJCgiI2p1bWxhaDEiKS52YWwoKSAhPSAiIiAmJiAkKCIjc2F0dWFuMSIpLnZhbCgpID09ICIiKSB7CiAgICAgIGVyciA9ICJJc2kgU2F0dWFuIEtlc2F0dSAhIjsKICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDIiKS52YWwoKSAhPSAiIiAmJiAkKCIjc2F0dWFuMiIpLnZhbCgpID09ICIiKSB7CiAgICAgIGVyciA9ICJJc2kgU2F0dWFuIEtlZHVhICEiOwogICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMyIpLnZhbCgpICE9ICIiICYmICQoIiNzYXR1YW4zIikudmFsKCkgPT0gIiIpIHsKICAgICAgZXJyID0gIklzaSBTYXR1YW4gS2VkdWEgISI7CiAgICB9IGVsc2UgaWYgKCQoIiNqdW1sYWgzIikudmFsKCkgIT0gIiIgJiYgJCgiI2p1bWxhaDIiKS52YWwoKSA9PSAiIikgewogICAgICBlcnIgPSAiSXNpIFZvbHVtZSBLZWR1YSAhIjsKICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDMiKS52YWwoKSAhPSAiIiAmJiAkKCIjanVtbGFoMSIpLnZhbCgpID09ICIiKSB7CiAgICAgIGVyciA9ICJJc2kgVm9sdW1lIEtlc2F0dSAhIjsKICAgIH0KICAgIGlmIChlcnIgPT0gIiIpIHsKICAgICAgJCgiI3ZvbHVtZTFUZW1wIiArIGlkKS52YWwoJCgiI2p1bWxhaDEiKS52YWwoKSk7CiAgICAgICQoIiN2b2x1bWUyVGVtcCIgKyBpZCkudmFsKCQoIiNqdW1sYWgyIikudmFsKCkpOwogICAgICAkKCIjdm9sdW1lM1RlbXAiICsgaWQpLnZhbCgkKCIjanVtbGFoMyIpLnZhbCgpKTsKICAgICAgJCgiI3NhdHVhbjFUZW1wIiArIGlkKS52YWwoJCgiI3NhdHVhbjEiKS52YWwoKSk7CiAgICAgICQoIiNzYXR1YW4yVGVtcCIgKyBpZCkudmFsKCQoIiNzYXR1YW4yIikudmFsKCkpOwogICAgICAkKCIjc2F0dWFuM1RlbXAiICsgaWQpLnZhbCgkKCIjc2F0dWFuMyIpLnZhbCgpKTsKICAgICAgJCgiI3ZvbHVtZVJlayIgKyBpZCkudmFsKCQoIiNqdW1sYWg0IikudmFsKCkpOwogICAgICAkKCIjdXJhaWFuVm9sdW1lIiArIGlkKS50ZXh0KCQoIiNyaW5jaWFuVm9sdW1lVGVtcCIpLnZhbCgpKTsKICAgICAgLy8kKCIjc2F0dWFuUmVrIitpZCkudmFsKCQoIiNyaW5jaWFuVm9sdW1lVGVtcCIpLnZhbCgpKTsKICAgICAgLy9tZS5iYW50dSgpOwogICAgICBkcGFTS1BEQXNldC5oaXR1bmdWb2x1bWUoaWQpOwogICAgICB2YXIgc2F0dWFuID0gIiI7CiAgICAgIGlmICgkKCIjanVtbGFoMyIpLnZhbCgpICE9ICIiKSB7CiAgICAgICAgc2F0dWFuID0KICAgICAgICAgICQoIiNzYXR1YW4xIikudmFsKCkgKwogICAgICAgICAgIiAvICIgKwogICAgICAgICAgJCgiI3NhdHVhbjIiKS52YWwoKSArCiAgICAgICAgICAiIC8gIiArCiAgICAgICAgICAkKCIjc2F0dWFuMyIpLnZhbCgpOwogICAgICAgICQoIiNzYXR1YW5SZWsiICsgaWQpLnZhbChzYXR1YW4pOwogICAgICB9IGVsc2UgaWYgKCQoIiNqdW1sYWgyIikudmFsKCkgIT0gIiIpIHsKICAgICAgICBzYXR1YW4gPSAkKCIjc2F0dWFuMSIpLnZhbCgpICsgIiAvICIgKyAkKCIjc2F0dWFuMiIpLnZhbCgpOwogICAgICAgICQoIiNzYXR1YW5SZWsiICsgaWQpLnZhbChzYXR1YW4pOwogICAgICB9IGVsc2UgewogICAgICAgIHNhdHVhbiA9ICQoIiNzYXR1YW4xIikudmFsKCk7CiAgICAgICAgJCgiI3NhdHVhblJlayIgKyBpZCkudmFsKHNhdHVhbik7CiAgICAgIH0KICAgICAgbWUuQ2xvc2UoKTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycik7CiAgICB9CiAgfSwKICBoaXR1bmdWb2x1bWU6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgaGFzaWxLYWxpID0gJCgiI3ZvbHVtZVJlayIgKyBpZCkudmFsKCkgKiAkKCIjaGFyZ2FTYXR1YW4iICsgaWQpLnZhbCgpOwogICAgJCgiI3NwYW5Ub3RhbEp1bWxhaCIgKyBpZCkudGV4dChkcGFTS1BEQXNldC5mb3JtYXRDdXJyZW5jeShoYXNpbEthbGkpKTsKICB9LAogIGZpbmRTU0g6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWdldERhdGFTU0giLAogICAgICBkYXRhOiB7CiAgICAgICAgaWQ6IGlkCiAgICAgIH0sCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBwb3B1cFNTSC5rb2RlUmVrZW5pbmcgPSByZXNwLmNvbnRlbnQua29kZVJla2VuaW5nOwogICAgICAgICAgcG9wdXBTU0gua29kZUJhcmFuZyA9IHJlc3AuY29udGVudC5rb2RlQmFyYW5nOwogICAgICAgICAgcG9wdXBTU0guZGFyaSA9IGlkOwogICAgICAgICAgcG9wdXBTU0gud2luZG93U2hvdygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIHNhdmVFZGl0U3ViUmluY2lhbjogZnVuY3Rpb24oaWRFZGl0UmthKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAgaWRFZGl0UmthOiBpZEVkaXRSa2EsCiAgICAgICAgaGFyZ2FTYXR1YW46ICQoIiNoYXJnYVNhdHVhbiIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHZvbHVtZTE6ICQoIiN2b2x1bWUxVGVtcCIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHZvbHVtZTI6ICQoIiN2b2x1bWUyVGVtcCIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHZvbHVtZTM6ICQoIiN2b2x1bWUzVGVtcCIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHZvbHVtZVJla2VuaW5nOiAkKCIjdm9sdW1lUmVrIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgICAgc2F0dWFuMTogJCgiI3NhdHVhbjFUZW1wIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgICAgc2F0dWFuMjogJCgiI3NhdHVhbjJUZW1wIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgICAgc2F0dWFuMzogJCgiI3NhdHVhbjNUZW1wIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgICAgc2F0dWFuUmVrZW5pbmc6ICQoIiNzYXR1YW5SZWsiICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgICB1cmFpYW5Wb2x1bWU6ICQoIiN1cmFpYW5Wb2x1bWUiICsgaWRFZGl0UmthKS50ZXh0KCkKICAgICAgfSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlRWRpdFN1YlJpbmNpYW4iLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgbWUucmVmcmVzaExpc3QodHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0KfSk7Cg==",
    "size": "27976"
}