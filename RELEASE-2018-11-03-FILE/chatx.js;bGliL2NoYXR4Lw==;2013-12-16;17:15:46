{
    "namaFile": "lib\/chatx\/chatx.js",
    "lastUpdate": "2013-12-16+17:15:46.00",
    "contentFile": "DQ1pZHBlc2FudGVya2lyaW09IG5ldyBBcnJheSgpOyAvL2lkIHBlc2FuIHlnIHN1a3NlcyB0ZXJraXJpbSB1c3IxDWlkcGVzYW5kaXRlcmltYT0gbmV3IEFycmF5KCk7IC8vaWQgcGVzYW4geWcgc3Vrc2VzIGRpdGVyaW1hIHVzcjENZGFmdGFydXNlcmFrdGlmID0gbmV3IEFycmF5KCk7DWRlbGF5X2Nla19ub3RpZnkJPSA1MDAwOw0vL2RlbGF5X2Nla19wZXNhbgkJPSAzMDAwOw1kZWxheV9jZWtfdXNlciAJCT0gMzAwMDsNDQ1BcnJheS5wcm90b3R5cGUuZmluZEluZGV4ID0gZnVuY3Rpb24odmFsdWUpew12YXIgY3RyID0gLTE7DWZvciAodmFyIGk9MDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsNLy8gdXNlID09PSB0byBjaGVjayBmb3IgTWF0Y2hlcy4gaWUuLCBpZGVudGljYWwgKD09PSksIDsNCWlmICh0aGlzW2ldID09IHZhbHVlKSB7DQkJcmV0dXJuIGk7DQl9DX0NcmV0dXJuIGN0cjsNfTsNDS8qIGphZGkgZXJyb3IgcmVjdXJzaW9uPz8\/DU9iamVjdC5wcm90b3R5cGUuY2xvbmUyID0gZnVuY3Rpb24oKSB7DSAgdmFyIG5ld09iaiA9ICh0aGlzIGluc3RhbmNlb2YgQXJyYXkpID8gW10gOiB7fTsNICBmb3IgKGkgaW4gdGhpcykgew0gICAgaWYgKGkgPT0gJ2Nsb25lMicpIGNvbnRpbnVlOw0gICAgaWYgKHRoaXNbaV0gJiYgdHlwZW9mIHRoaXNbaV0gPT0gIm9iamVjdCIpIHsNICAgICAgbmV3T2JqW2ldID0gdGhpc1tpXS5jbG9uZTIoKTsNICAgIH0gZWxzZSBuZXdPYmpbaV0gPSB0aGlzW2ldDSAgfSByZXR1cm4gbmV3T2JqOw19Ow0qLw1mdW5jdGlvbiBjbG9uZShvYmopew0gICAgaWYob2JqID09IG51bGwgfHwgdHlwZW9mKG9iaikgIT0gJ29iamVjdCcpDSAgICAgICAgcmV0dXJuIG9iajsNDSAgICB2YXIgdGVtcCA9IG5ldyBvYmouY29uc3RydWN0b3IoKTsgLy8gY2hhbmdlZCAodHdpY2UpDSAgICBmb3IodmFyIGtleSBpbiBvYmopDSAgICAgICAgdGVtcFtrZXldID0gY2xvbmUob2JqW2tleV0pOw0NICAgIHJldHVybiB0ZW1wOw19DQ0NDWZ1bmN0aW9uIGhhcHVzRWxlbWVudChpZCl7DQl2YXIgb2xkZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIDsNCXZhciBwYXJlbnQgPSBvbGRkaXYucGFyZW50Tm9kZTsNICAJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkRWxMaXN0KS5yZW1vdmVDaGlsZChvbGRkaXYpOw0JcGFyZW50LnJlbW92ZUNoaWxkKG9sZGRpdik7DQkJCQkNfQ0NY2VrX3VzZXJfb2JqID0gZnVuY3Rpb24oKXsNCXRoaXMudXJpID0gJyc7DQl0aGlzLmlkRWxMaXN0PSdsaXN0X3Vzcic7DQl0aGlzLmRhZnRhck9MID0gbmV3IEFycmF5KCk7DQl0aGlzLmRhZnRhck9mZiA9IG5ldyBBcnJheSgpOw0JdGhpcy50YW1iYWh1c2VyID0gZnVuY3Rpb24oaWQsbm0sb3BkKXsJLy90YW1iYWggdXNlciBkaSBsaXN0DQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZEVsTGlzdCkuaW5uZXJIVE1MKz0NCQkJJzxkaXYgaWQ9Imxpc3RfdXNyXycraWQrJyIgY2xhc3M9Iml0ZW1vbmxpbmVfc3R5bGUiPiAnKw0JCQkJJzx0YWJsZT48dHIgdmFsaWduPSJ0b3AiPicrDQkJCQknCTx0ZD4gPGltZyBzcmM9ImltYWdlcy9hZG1pbmlzdHJhdG9yL2ltYWdlcy9zbWlsZS5wbmciIC8+IDwvdGQ+JysNCQkJCScJPHRkID4nKwkJCQkJCSANCQkJCScJCTxhIGhyZWY9ImphdmFzY3JpcHQ6Y2hhdF9zZWxlY3RfdXNlcihcJycraWQrJ1wnKSIgJysNCQkJCQkJCScgc3R5bGU9ImZvbnQtc2l6ZToxMiI+PGI+JytpZCsnPC9iPjwvYT48YnI+JysJCQkJCQkJDQkJCQkJCQlubSsnPGJyPicrb3BkKw0JCQkJCSc8L3RkPjwvdHI+PC90YWJsZT48L2Rpdj4JJw0JCQkJCQk7DQkJCQkNCX0JCQ0JdGhpcy5zZXRpbmZvdXNlcm9mZiA9IGZ1bmN0aW9uKHVzZXJpZCxpbmZvKXsNCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF9saXN0cGVzYW4tJyt1c2VyaWQpKXsNCQkJdmFyIHRhYnNoZWV0PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF9saXN0cGVzYW4tJyt1c2VyaWQpOw0JCQl0YWJzaGVldC5pbm5lckhUTUwgKz0gJzxkaXYgaWQ9ImluZm8tJyt1c2VyaWQrJyIgc3R5bGU9ImNvbG9yOiNBQUFBQUE7cGFkZGluZzo0Ij4nK2luZm8rJzxkaXY+JzsNCQkJc2Nyb2xsZG93bignY2hhdF9saXN0cGVzYW4tJyt1c2VyaWQpOw0JCX0NCX0NCXRoaXMuaGFwdXN1c2VyID0gZnVuY3Rpb24oKXsvL2hhcHVzIHVzZXIgZGkgbGlzdA0JCWZvcihpPTA7aTx0aGlzLmRhZnRhck9mZi5sZW5ndGg7aSsrKXsNCQkJdmFyIGlkPSB0aGlzLmRhZnRhck9mZltpXTsNCQkJaWYgKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzdF91c3JfJytpZCkgIT0gbnVsbCApewkJCQkNCQkJCWhhcHVzRWxlbWVudCgnbGlzdF91c3JfJytpZCk7CQkJCQ0JCQkJLy8gIGppa2EgYWRhIHRhYnNoZWV0IC0+IHNldCBpbmZvIHRlbGFoIG9mZiANCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X2xpc3RwZXNhbi0nK2lkKSl7DQkJCQkJdGhpcy5zZXRpbmZvdXNlcm9mZihpZCwgaWQrJyBPZmZsaW5lJyk7DQkJCQl9DQkJCX0NCQl9DQkJDQl9DQkNCXRoaXMuT25TdWNjZXNzID0gZnVuY3Rpb24oKSB7IC8vZ2V0IHJlc3BvbnNlDQkJLy9hbGVydCgndGVzJyk7DQkJdmFyIHN0ciA9IHRyaW0odGhpcy5HZXRSZXNwb25zZVRleHQoKSk7Ly9hbGVydCgnLScrc3RyKyctJyk7DQkJaWYgKHN0ciAhPSAnJyl7DQkJCS8vc2V0IGluaXNpYWwgZGFmdGFyIG9mZiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQkJCS8vdGhpcy5kYWZ0YXJPZmYgPSB0aGlzLmRhZnRhck9MLmNsb25lMigpOyAvL2FsZXJ0KCdpbmkgT2ZmOiAnK3RoaXMuZGFmdGFyT2ZmKTsJCQkNCQkJdGhpcy5kYWZ0YXJPZmYgPSBjbG9uZSh0aGlzLmRhZnRhck9MKTsNCQkJdGhpcy5kYWZ0YXJPTCAgPSBuZXcgQXJyYXkoKTsNCQkJLy9wcm9zZXMgZGFmdGFyIGJhcnUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0JCQlhcnIgPSBzdHIuc3BsaXQoJzx8fD4nICk7Ly9hbGVydCAoYXJyLmxlbmd0aCk7DQkJCXZhciBpPTA7DQkJCXdoaWxlIChpPCBhcnIubGVuZ3RoKXsNCQkJCXZhciBpZCA9IGFycltpXTsvL2FsZXJ0KGlkKTsNCQkJCXZhciBubSA9IGFycltpKzFdOy8vYWxlcnQobm0pOw0JCQkJdmFyIG9wZD0gYXJyW2krMl07Ly9hbGVydChvcGQpOw0JCQkJdGhpcy5kYWZ0YXJPTC5wdXNoKGlkKTsJCQkJDQkJCQkvL2NhcmkgeWcgb2ZmDQkJCQl2YXIgaWR4ID0gdGhpcy5kYWZ0YXJPZmYuZmluZEluZGV4KGlkKTsvL2FsZXJ0KCdpZHg9JytpZHgpOw0JCQkJaWYoaWR4Pj0wKXsvL2FsZXJ0KCdoYXB1cyBpZHgnK2lkeCk7DQkJCQkJdGhpcy5kYWZ0YXJPZmYuc3BsaWNlKCBpZHgsIDEpOw0JCQkJfQkJCQkNCQkJCS8vdGFtYmhrYW4ga2UgbGlzdCBqaWthIGJlbHVtIGFkYQ0JCQkJaWYgKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzdF91c3JfJytpZCkgPT0gbnVsbCApey8vCWFsZXJ0KCd0YW1iYWhrYW4nKTsNCQkJCQl0aGlzLnRhbWJhaHVzZXIoaWQsbm0sb3BkKTsJCQkJCQkNCQkJCX0NCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5mby0nK2lkKSl7aGFwdXNFbGVtZW50KCdpbmZvLScraWQpO30NCQkJCWkrPTM7DQkJCX0NCQkJLy9hbGVydCgnT0w6ICcrdGhpcy5kYWZ0YXJPTCk7YWxlcnQoJ09GRjogJyt0aGlzLmRhZnRhck9mZik7DQkJCS8vaGFwdXMgdXNlciB5ZyBhZGEgZGkgZGFmdGFyIG9mZiAtLS0tLS0tLS0tLS0tLS0tLS0tDQkJCXRoaXMuaGFwdXN1c2VyKCk7DQkJfQkNCQljZWtfcGVzYW4oKTsNCX0NCXRoaXMuR2V0RGF0YSA9IGZ1bmN0aW9uKCkgey8vYWxlcnQodGhpcy51cmkpOw0JCXRoaXMuSW5pdGlhbGl6ZVJlcXVlc3QoJ0dFVCcsIHRoaXMudXJpKTsNICAgICAgICB0aGlzLkNvbW1pdChudWxsKTsNCX0NfQ1jZWtfdXNlcl9vYmoucHJvdG90eXBlID0gIG5ldyBhamF4KCk7DWNla3VzZXJvYmogPSBuZXcgY2VrX3VzZXJfb2JqKCk7DQ0Na2lyaW1fcGVzYW5fb2JqID0gZnVuY3Rpb24oKXsNCXRoaXMudXJpPScnOwkNCXRoaXMuT25TdWNjZXNzID0gZnVuY3Rpb24oKSB7DQkJLy9hbGVydCh0aGlzLkdldFJlc3BvbnNlVGV4dCgpKTsJCQ0JCXZhciBzdHIgPSB0cmltKHRoaXMuR2V0UmVzcG9uc2VUZXh0KCkpOw0JCWlmIChzdHIgPT0gJycpewkJLy9zdWtzZXMJDQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3Blc2FuJykudmFsdWU9Jyc7DQkJCS8vY2VrX3Blc2FuKCk7DQkJfWVsc2V7DQkJCS8vYWxlcnQoc3RyKTsNCQkJdmFyIHVzcjEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF91ZnInKS52YWx1ZTsNCQkJdmFyIGFyciA9IHN0ci5zcGxpdCgnPHx8PicgKTsJDQkJCS8vYWxlcnQoYXJyWzBdKycgJyt1c3IxKTsNCQkJaWYgKGFyclswXT09IHVzcjEgICl7DQkJCQl0YW1waWxfZXJyKCdBbmRhIFN1ZGFoIExvZ291dC4gU2lsYWhrYW4gTG9naW4gS2VtYmFsaSEhJyk7DQkJCQkvL2FsZXJ0KCdhbmRhIG9mZiAnICk7DQkJCQljZWt1c2Vyb2JqLnNldGluZm91c2Vyb2ZmKCBhcnJbMl0sICdBbmRhIE9mZmxpbmUnICk7DQkJCX1lbHNlew0JCQkJY2VrdXNlcm9iai5zZXRpbmZvdXNlcm9mZiggYXJyWzBdLCBhcnJbMF0rJyBPZmZsaW5lJyApOw0JCQkJLy9jZWtfcGVzYW4oKTsNCQkJfQ0JCX0JDQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfYnRzZW5kJykuZGlzYWJsZWQ9IGZhbHNlOw0JCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3Blc2FuJykuZGlzYWJsZWQ9ZmFsc2U7DQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfcGVzYW4nKS5mb2N1cygpOw0JCQ0JCXRoaXMudXNlck9uU3VjY2VzcygpOwkNCX0NCXRoaXMudXNlck9uU3VjY2VzcyA9IGZ1bmN0aW9uKCl7CQkNCX0NCXRoaXMuR2V0RGF0YSA9IGZ1bmN0aW9uKCkgew0JCS8vYWxlcnQoJ3VyaSAnK3RoaXMudXJpKTsNCQl0aGlzLkluaXRpYWxpemVSZXF1ZXN0KCdHRVQnLCB0aGlzLnVyaSk7DSAgICAgICAgdGhpcy5Db21taXQobnVsbCk7DQl9CQ19DWtpcmltX3Blc2FuX29iai5wcm90b3R5cGUgPSBuZXcgYWpheCgpOw1raXJpbXBlc2Fub2JqID0gbmV3IGtpcmltX3Blc2FuX29iaigpOw0NcGVzYW5fZGl0ZXJpbWFfb2JqID0gZnVuY3Rpb24oKXsNLyoNCXBlc2FuIGRhcmkgdXNyMiBzdWtzZXMgZGl0ZXJpbWEgLT4gaWR0DQlwZXNhbiBkYXJpIHVzcjEgc3Vrc2VzIHRlcmtpcmltIC0+IGlkaw0qLw0JdGhpcy51cmk9Jyc7CQ0JdGhpcy5PblN1Y2Nlc3MgPSBmdW5jdGlvbigpIHsNCQlpZiAodHJpbSh0aGlzLkdldFJlc3BvbnNlVGV4dCgpKSAhPScnICl7YWxlcnQoJ2VyciBkaXRlcmltYSAnK3RoaXMuR2V0UmVzcG9uc2VUZXh0KCkpfTsNCQlzZXRUaW1lb3V0KCAnY2VrX3VzZXJfb25saW5lKCknICwgZGVsYXlfY2VrX3VzZXIpOw0JCS8qZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfYnRzZW5kJykuZGlzYWJsZWQ9IGZhbHNlOw0JCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3Blc2FuJykuZGlzYWJsZWQ9ZmFsc2U7DQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfcGVzYW4nKS5mb2N1cygpOyovDQl9DQkNCXRoaXMuR2V0RGF0YSA9IGZ1bmN0aW9uKCkgew0JCS8vYWxlcnQoJ3VyaSAnK3RoaXMudXJpKTsNCQl0aGlzLkluaXRpYWxpemVSZXF1ZXN0KCdHRVQnLCB0aGlzLnVyaSk7DSAgICAgICAgdGhpcy5Db21taXQobnVsbCk7DQl9CQ19DXBlc2FuX2RpdGVyaW1hX29iai5wcm90b3R5cGUgPSBuZXcgYWpheCgpOw1wZXNhbmRpdGVyaW1hb2JqID0gbmV3IHBlc2FuX2RpdGVyaW1hX29iaigpOw0NLyoNcGVzYW5fdGVya2lyaW1fb2JqID0gZnVuY3Rpb24oKXsNLy9wZXNhbiBkYXJpIHVzcjEgc3Vrc2VzIGRpa2lyaW0NCXRoaXMudXJpPScnOwkNCXRoaXMuT25TdWNjZXNzID0gZnVuY3Rpb24oKSB7DQkJLy9hbGVydCgnc3Vrc2VzIHRlcmtpcmltICcrdGhpcy5HZXRSZXNwb25zZVRleHQoKSk7DQkJDQl9DQl0aGlzLkdldERhdGEgPSBmdW5jdGlvbigpIHsNCQkvL2FsZXJ0KCd1cmkgJyt0aGlzLnVyaSk7DQkJdGhpcy5Jbml0aWFsaXplUmVxdWVzdCgnR0VUJywgdGhpcy51cmkpOw0gICAgICAgIHRoaXMuQ29tbWl0KG51bGwpOw0JfQkNfQ1wZXNhbl90ZXJraXJpbV9vYmoucHJvdG90eXBlID0gbmV3IGFqYXgoKTsNcGVzYW50ZXJraXJpbW9iaiA9IG5ldyBwZXNhbl90ZXJraXJpbV9vYmooKTsNKi8NDWNla19wZXNhbl9vYmogPSBmdW5jdGlvbigpew0JdGhpcy51cmkgPSAnJzsNCXRoaXMudGFtcGlscGVzYW4gPSBmdW5jdGlvbih1dG8sdWZyLHRnbCxtc2csbXNnaWQsIHRhYmFrdGlmKXsNCQkNCQkNCQl2YXIgdXNyMT0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfdWZyJykudmFsdWU7DQkJaWYodWZyID09IHVzcjEpey8vamlrYSBkYXJpIHVzZXIxDQkJCXZhciB0YWJpZD11dG87IC8vdGFiaWQgYnkgbmFtZQ0JCQl2YXIgbm1pZD0gdWZyOw0JCX1lbHNlew0JCQl2YXIgdGFiaWQ9dWZyOw0JCQl2YXIgbm1pZD0gIjxzcGFuIHN0eWxlPSdjb2xvcjpibHVlJz4iK3VmcisiPC9zcGFuPiI7DQkJCW1zZyA9ICI8c3BhbiBzdHlsZT0nY29sb3I6Ymx1ZSc+Iittc2crIjwvc3Bhbj4iOw0JCX0NCQkNCQkvL2NlayBib3gvdGFiDQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0X2xpc3RwZXNhbi0iK3RhYmlkKT09bnVsbCl7DQkJCS8vamlrYSB0YWIrIGJveCBiZWx1bSBhZGENCQkJLy9hbGVydCgndGFtYmFoIHRhYiAnK3RhYmlkKTsNCQkJCWNoYXRfdGFidXNlcl9hZGQodGFiaWQpOwkNCQl9DQkJCQkNCQlpZiAodGFiaWQgPT10YWJha3RpZiAgKXsNCQkNCQkJLy90YW1iYWhrYW4gcGVzYW4ga2UgdGFic2hlZXQJCQ0JCQl2YXIgb2JqRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXRfbGlzdHBlc2FuLSIrdGFiaWQpOwkJCQkNCQkJb2JqRGl2LmlubmVySFRNTCs9ICI8ZGl2IGlkPSciK21zZ2lkKyInIHN0eWxlPSdwYWRkaW5nOjQnPiIrDQkJCQkiPHNwYW4gc3R5bGU9J2NvbG9yOiNBQUFBQUEnPiIrdGdsKyI8L3NwYW4+PGJyPiIrDQkJCQkiPGI+IitubWlkKyI6IDwvYj4mbmJzcDsiK21zZysiJm5ic3A7Jm5ic3A7PC9kaXY+IjsJCQkJDQkJDQkJCS8vc2Nyb2xsIHRvIGRvd24NCQkJc2Nyb2xsZG93bigiY2hhdF9saXN0cGVzYW4tIit0YWJpZCk7DQkJCQ0JCQkNCQkJDQkJCS8vbWFzdWthbiBrZSBkYWZ0YXIgcGVzYW4gdGVya2lyaW0NCQkJaWYodWZyID09IHVzcjEpey8vamlrYSBkYXJpIHVzZXIxDQkJCQlpZHBlc2FudGVya2lyaW0ucHVzaChtc2dpZCk7DQkJCX1lbHNlew0JCQkJaWRwZXNhbmRpdGVyaW1hLnB1c2gobXNnaWQpOw0JCQl9DQkJCQ0JCX1lbHNlew0JCQkvL2NoYXRfYWxlcnQodHJ1ZSk7DQkJCS8vdGFuZGFpIGFkYSBwZXNhbiBiYXJ1CQkJDQkJCXRhYmVmZWsodGFiaWQsIDMpOw0JCQkvL2FsZXJ0KHBhcmVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IpOw0JCX0NCQkvL2NoYXRfYWxlcnQodHJ1ZSk7DQkJDQl9DQl0aGlzLk9uU3VjY2VzcyA9IGZ1bmN0aW9uKCkgew0JCS8vYWxlcnQoJ3Blc2FuICcrdGhpcy5HZXRSZXNwb25zZVRleHQoKSk7DQkJdmFyIGVycm1zZyA9ICcnOy8vU3RyaW5nKCk7DQkJaWRwZXNhbmRpdGVyaW1hID0gbmV3IEFycmF5KCk7IA0JCWlkcGVzYW50ZXJraXJpbSA9IG5ldyBBcnJheSgpOwkNCQlpZiAodHJpbSh0aGlzLkdldFJlc3BvbnNlVGV4dCgpKSAhPSAnJyl7DQkJCS8qDQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF9sYXN0aWQnKSE9IG51bGwpew0JCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfbGFzdGlkJykuaWQ9ICcnOw0JCQl9Ki8JCQkNCQkJLy9zcGxpdAkJCQ0JCQl2YXIgc3RyID0gdHJpbSh0aGlzLkdldFJlc3BvbnNlVGV4dCgpKTsgLy9hbGVydCgnc3RyPScrc3RyKTsNCQkJdmFyIGFyciA9IHN0ci5zcGxpdCgnPHx8PicgKTsJDQkJCWlmKGFyci5sZW5ndGg+MCl7DQkJCQkNCQkJCWlmIChhcnJbMF0gIT0gJ2Vycicpew0JCQkJCQ0JCQkJCS8vZ2V0IHRhYiBha3RpZg0JCQkJCXZhciB0YWJha3RpZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3V0bycpLnZhbHVlOyAvL2FsZXJ0KCd0YWJha3RpZj0nK3RhYmFrdGlmKTsJCQ0JCQkJCS8vamlrYSB0aWRhayBhZGEgdGFiIHlnIGFrdGlmIHNldCB0YWJha3RpZg0JCQkJCWlmICh0YWJha3RpZj09Jycpey8vYWxlcnQoJ2Zyb20gJythcnJbMF0pOw0JCQkJCQljaGF0X3RhYnVzZXJfYWRkKGFyclswXSk7DQkJCQkJCXZhciB0YWJpZHggPSB0YWJ1c2VyX2ZpbmRieW5hbWUoJ3RhYmlkLScrYXJyWzBdKTsvL2FsZXJ0KCdha3RpZmthbiB0YWIgJyt0YWJpZHgpOw0JCQkJCQkvL2NoYXRfdGFidXNlcl9vcGVuKHRhYmlkeCwgYXJyWzBdKTsNCQkJCQkJY2hhdF90YWJ1c2VyX29wZW4oYXJyWzBdKTsNCQkJDQkJCQkJfQkJDQkJCQkJdGFiYWt0aWYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF91dG8nKS52YWx1ZTsgLy9hbGVydCgndGFiYWt0aWY9Jyt0YWJha3RpZik7DQkJCQ0JCQkJCXZhciBpPTA7DQkJCQkJd2hpbGUoaTxhcnIubGVuZ3RoKXsNCQkJCQkJdmFyIHVmcj1hcnJbaV07DQkJCQkJCXZhciB1dG89YXJyW2krMV07DQkJCQkJCXZhciB0Z2w9YXJyW2krMl07DQkJCQkJCXZhciBtc2c9YXJyW2krM107CQ0JCQkJCQl2YXIgbXNnaWQ9YXJyW2krNF07CQkJDQkJCQkJCXRoaXMudGFtcGlscGVzYW4odXRvLHVmcix0Z2wsbXNnLG1zZ2lkLCB0YWJha3RpZik7DQkJCQkJCWkrPTU7DQkJCQkJfQ0JCQkJDQkJCQl9ZWxzZXsNCQkJCQkvL3Blc2FuIGVycm9yDQkJCQkJLy9hbGVydCgnZXJyICcrYXJyWzFdKTsNCQkJCQllcnJtc2c9IGFyclsxXTsvL2FsZXJ0KCdlcnJtc2cgPSAnK2Vycm1zZyk7DQkJCQl9DQkJCX0NCQkJDQkJfWVsc2V7DQkJCWNoYXRfYWxlcnQoZmFsc2UpOw0JCX0NCQkNCQlpZiAoZXJybXNnID09Jycpew0JCQkNCQkNCQkJaWYgKGlkcGVzYW5kaXRlcmltYS5sZW5ndGggKyBpZHBlc2FudGVya2lyaW0ubGVuZ3RoID4wICApey8vYWxlcnQoJ3Blc2FuIHRlcmtpcmltJyk7DQkJCQkvL3NldFRpbWVvdXQoJ3N1a3Nlc19kaXRlcmltYSgpJywyMDAwKTsNCQkJCXN1a3Nlc19kaXRlcmltYSgpOw0JCQkNCQkJfWVsc2V7Ly9hbGVydCgnY2VrIHVzZXIgb25saW5lJyk7DQkJCQlzZXRUaW1lb3V0KCAnY2VrX3VzZXJfb25saW5lKCknICwgZGVsYXlfY2VrX3VzZXIpOw0JCQl9DQkJfWVsc2V7DQkJCS8vcHJvc2VzIGNlayB1c3IgJiBwZXNhbiBiZXJoZW50aSBnYW50aSBjZWsgdXNyMSBvbmxpbmUNCQkJY2VrX3VzZXIxX29ubGluZSgpOw0JCX0NCQkvL3RhbXBpbCBlcnINCQl0YW1waWxfZXJyKGVycm1zZyk7CQ0JCQkJDQkJdGhpcy51c2VyT25TdWNjZXNzKCk7DQl9DQl0aGlzLnVzZXJPblN1Y2Nlc3MgPSBmdW5jdGlvbigpewkJDQl9DQl0aGlzLkdldERhdGEgPSBmdW5jdGlvbigpIHsNCQkvL2FsZXJ0KCd1cmkgJyt0aGlzLnVyaSk7DQkJdGhpcy5Jbml0aWFsaXplUmVxdWVzdCgnR0VUJywgdGhpcy51cmkpOw0gICAgICAgIHRoaXMuQ29tbWl0KG51bGwpOw0JfQkNfQ1jZWtfcGVzYW5fb2JqLnByb3RvdHlwZSA9IG5ldyBhamF4KCk7DWNla3Blc2Fub2JqID0gbmV3IGNla19wZXNhbl9vYmooKTsNDWNla19hZGFfcGVzYW5fb2JqID0gZnVuY3Rpb24oKXsNCXRoaXMudXJpPScnOw0JdGhpcy5PblN1Y2Nlc3MgPSBmdW5jdGlvbigpew0JCXZhciBzdHIgPSB0cmltKHRoaXMuR2V0UmVzcG9uc2VUZXh0KCkpOwkvL2FsZXJ0KCdzdHI9LScrIHN0cisnLScpOw0JCQ0JCWNoYXRfYWxlcnQoIHN0ciE9JycgKTsNCQlzZXRUaW1lb3V0KCdjZWthZGFwZXNhbm9iai5HZXREYXRhKCknLCBkZWxheV9jZWtfbm90aWZ5KTsNCQkNCX0NCXRoaXMuR2V0RGF0YSA9IGZ1bmN0aW9uKCl7DQkJLy9hbGVydCgnZ2VkYXRhJyk7DQkJLy9pZighZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfYnRzZW5kJykpeyAvL2FsZXJ0KCdidWthbiBkaSBjaGF0IHBhZ2UnKTsNCQkJLy9hbGVydCh0aGlzLnVyaSk7DQkJCXRoaXMuSW5pdGlhbGl6ZVJlcXVlc3QoJ0dFVCcsIHRoaXMudXJpKTsNICAgICAgICAJdGhpcy5Db21taXQobnVsbCk7CQ0JCS8vfQ0JCQ0JfQkNfQ1jZWtfYWRhX3Blc2FuX29iai5wcm90b3R5cGUgPSBuZXcgYWpheCgpOw1jZWthZGFwZXNhbm9iaiA9IG5ldyBjZWtfYWRhX3Blc2FuX29iaigpOw0NY2VrX3VzcjFfb25saW5lX29iaiA9IGZ1bmN0aW9uKCl7DQl0aGlzLnVyaT0nJzsNCXRoaXMuT25TdWNjZXNzID0gZnVuY3Rpb24oKXsNCQl2YXIgc3RyID0gdHJpbSh0aGlzLkdldFJlc3BvbnNlVGV4dCgpKTsJDQkJaWYoc3RyICE9ICcnKXsvL29ubGluZQ0JCQkvL2FsZXJ0KCdyZXNkcCAnKyBzdHIpOw0JCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF9lcnJtc2cnKS5pbm5lckhUTUwgPScnOwkNCQkJc2V0VGltZW91dCgnY2VrX3VzZXJfb25saW5lKCknLCBkZWxheV9jZWtfdXNlcik7DQkJfWVsc2V7DQkJCXNldFRpbWVvdXQoJ2Nla191c2VyMV9vbmxpbmUoKScsIGRlbGF5X2Nla191c2VyKTsJDQkJfQkJDQkJDQl9DQl0aGlzLkdldERhdGEgPSBmdW5jdGlvbigpew0JCS8vYWxlcnQoJ2dlZGF0YSAnK3RoaXMudXJpKTsNCQkvL2lmKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF9idHNlbmQnKSl7IC8vYWxlcnQoJ2J1a2FuIGRpIGNoYXQgcGFnZScpOw0JCQkvL2FsZXJ0KHRoaXMudXJpKTsNCQkJdGhpcy5Jbml0aWFsaXplUmVxdWVzdCgnR0VUJywgdGhpcy51cmkpOw0gICAgICAgIAl0aGlzLkNvbW1pdChudWxsKTsJDQkJLy99DQkJDQl9CQ19DWNla191c3IxX29ubGluZV9vYmoucHJvdG90eXBlID0gbmV3IGFqYXgoKTsNY2VrdXNyMW9ubGluZW9iaiA9IG5ldyBjZWtfdXNyMV9vbmxpbmVfb2JqKCk7DQ0NZnVuY3Rpb24gc3Vrc2VzX2RpdGVyaW1hKCl7DQkvL3NldCBzdGF0dXMgdGVya2lyaW0gdXRrIGlkIGRpIGlkcGVzYW5kaXRlcmltYQ0JdmFyIGlkdCA9IGlkcGVzYW5kaXRlcmltYS50b1N0cmluZygpOy8vIGFsZXJ0KGlkcyk7DQl2YXIgaWRrID0gaWRwZXNhbnRlcmtpcmltLnRvU3RyaW5nKCk7Ly8gYWxlcnQoaWRzKTsNCXBlc2FuZGl0ZXJpbWFvYmoudXJpID0gJ2xpYi9jaGF0eC9wZXNhbl9kaXRlcmltYS5waHA\/aWR0PScraWR0KycmaWRrPScraWRrOw0JcGVzYW5kaXRlcmltYW9iai5HZXREYXRhKCk7DX0NDQ1mdW5jdGlvbiBraXJpbV9wZXNhbigpew0NCXV0bz0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfdXRvJykudmFsdWU7DQl1ZnI9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3VmcicpLnZhbHVlOw0JaWYgKHV0byAhPSAnJyl7DQkJDQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfYnRzZW5kJykuZGlzYWJsZWQ9IHRydWU7DQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfcGVzYW4nKS5kaXNhYmxlZD10cnVlOw0JCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfcGVzYW4nKS5mb2N1cygpOw0JCQ0JCW1zZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3Blc2FuJykudmFsdWU7IAkNCQlraXJpbXBlc2Fub2JqLnVyaSA9ICdsaWIvY2hhdHgva2lyaW0ucGhwP3V0bz0nK3V0bysnJnVmcj0nK3VmcisnJm1zZz0nK21zZzsvL2FsZXJ0KGRldGFpbC51cmkpOw0JCXNldFRpbWVvdXQoJ2tpcmltcGVzYW5vYmouR2V0RGF0YSgpJywxMDAwKTsNCX1lbHNlew0JCWFsZXJ0KCdQaWxpaCBkYWh1bHUgdXNlciB5YW5nIGFrYW4gZGlraXJpbSBwZXNhbiEnKTsNCX0NCS8vYWxlcnQoKTsNfQ0NZnVuY3Rpb24gY2VrX3VzZXJfb25saW5lKCl7DQkvL2dldCB1c2VyIGluaQ0JdWZyPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF91ZnInKS52YWx1ZTsNCS8vY2VrIHVzZXIgeWcgb25saW5lDQljZWt1c2Vyb2JqLnVyaT0nbGliL2NoYXR4L2Nla191c2VyX29sLnBocD91c3IxPScrdWZyOw0JDQljZWt1c2Vyb2JqLkdldERhdGEoKTsNCQ19DQ0vKg1mdW5jdGlvbiBjZWtfcGVzYW4oKXsNCS8vYWxlcnQoJ3RlcycpOw0JdXNyMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3VmcicpLnZhbHVlOw0JdXNyMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3V0bycpLnZhbHVlOw0JDQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfbGFzdGlkJykgIT0gbnVsbCl7DQkJbGFzdGlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfbGFzdGlkJykudmFsdWU7CQ0JfWVsc2V7DQkJbGFzdGlkPScnOw0JfQkNCS8vYWxlcnQodXNyMSsnICcrdXNyMisnICcrbGFzdGlkKTsNCWNla3Blc2Fub2JqLnVyaSA9ICdsaWIvY2hhdHgvY2VrX3Blc2FuLnBocD91c3IxPScrdXNyMSsnJnVzcjI9Jyt1c3IyKycmbGFzdGlkPScrbGFzdGlkOy8vYWxlcnQoZGV0YWlsLnVyaSk7DQljZWtwZXNhbm9iai5HZXREYXRhKCk7CQ19DSovDQ1mdW5jdGlvbiBjZWtfcGVzYW4oKXsNCS8vYWxlcnQoJ3RlcycpOw0JdXNyMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3VmcicpLnZhbHVlOw0JLy91c3IyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfdXRvJykudmFsdWU7DQkNCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF9sYXN0aWQnKSAhPSBudWxsKXsNCQlsYXN0aWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF9sYXN0aWQnKS52YWx1ZTsJDQl9ZWxzZXsNCQlsYXN0aWQ9Jyc7DQl9CQ0JLy9hbGVydCh1c3IxKycgJyt1c3IyKycgJytsYXN0aWQpOw0JY2VrcGVzYW5vYmoudXJpID0gJ2xpYi9jaGF0eC9jZWtfcGVzYW4ucGhwP3VzcjE9Jyt1c3IxKycmbGFzdGlkPScrbGFzdGlkOy8vYWxlcnQoZGV0YWlsLnVyaSk7DQljZWtwZXNhbm9iai5HZXREYXRhKCk7CQ19DQ1mdW5jdGlvbiBjaGF0X3RhYnVzZXJfYWRkKHVzZXJpZCl7DQlpZiggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmlkLScrdXNlcmlkKSA9PSBudWxsICl7Ly9hbGVydCgndGFiIGFkZCcpOw0JCS8vdGFtYmFoa2FuIGtlIHRhYiB1c2VyIGFrdGlmCQkNCQl2YXIgam1sRWwgPSBkYWZ0YXJ1c2VyYWt0aWYubGVuZ3RoOy8vcGFyc2VJbnQoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3RhYmxpc3RfY250JykudmFsdWUpKzE7DQkJdmFyIHRhYmlkID0gam1sRWw7DQkJdmFyIG9iakVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfdGFibGlzdF91c2Vyb3BlbicpOw0JCS8vb2JqRWwuaW5uZXJIVE1MKz0NCQkvLwkJJzxkaXYgY2xhc3M9InRhYl91bnNlbGVjdCIgc3R5bGU9IiIgICA+JysNCQkvLwkJJzxhIGNsYXNzPSJjaGF0X3RhYiIgaWQ9InRhYmlkLScrdXNlcmlkKyciIG5hbWU9InRhYmlkLScram1sRWwrJyIgJysNCQkvLwkJCScgaHJlZj0iamF2YXNjcmlwdDpjaGF0X3RhYnVzZXJfb3BlbignKyhqbWxFbCkrJyxcJycrdXNlcmlkKydcJykiIHN0eWxlPSIiPjxiPicrdXNlcmlkKyc8L2I+PC9hPjwvZGl2Pic7DQkJb2JqRWwuaW5uZXJIVE1MKz0NCQkJJzxkaXYgY2xhc3M9InRhYl91bnNlbGVjdCIgc3R5bGU9IiIgaWQ9InRhYmlkLScrdXNlcmlkKyciIG5hbWU9InRhYmlkLScram1sRWwrJyIgJysNCQkJJyAJID4nKw0JCQknPGEgY2xhc3M9ImNoYXRfdGFiIiAgJysNCQkJCScgaHJlZj0iamF2YXNjcmlwdDpjaGF0X3RhYnVzZXJfb3BlbihcJycrdXNlcmlkKydcJykiIHN0eWxlPSIiPjxiPicrdXNlcmlkKyc8L2I+PC9hPicrDQkJCSc8YSBjbGFzcz0iYnR0YWJjbG9zZSIgaHJlZj0iamF2YXNjcmlwdDpjaGF0X3RhYnVzZXJfY2xvc2UoXCcnK3VzZXJpZCsnXCcpIiA+PC9hPicrCQ0JCQknPC9kaXY+JzsNCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF90YWJsaXN0X2NudCcpLnZhbHVlID0gam1sRWw7DQkJdGFiZWZlayh1c2VyaWQsMik7DQkJDQkJLy9hbGVydCgnd2lkdGggJytkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFiaWQtJyt1c2VyaWQpLndpZHRoKTsNCQkvL2FsZXJ0KGptbEVsKTsNCQ0JCS8vdGFtYmFoa2FuIHRhYnNoZWV0DQkJYm94SUQgPSAnY2hhdF9saXN0cGVzYW4nKyctJyt1c2VyaWQ7CQ0JCWxhc3RJRCA9ICdjaGF0X2xhc3RJRE1zZy0nK3VzZXJpZDsNCQkvL2lmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChib3hJRCkgPT0gbnVsbCl7DQkJLy9hbGVydCgnYWRkIG9iamVrJyk7CQkNCQlvYmpEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF9ib3gnKTsNCQlvYmpEaXYuaW5uZXJIVE1MKz0gJzxkaXYgY2xhc3M9ImNoYXRfd2luZG93IiBpZD0nK2JveElEKycgPicrDQkJCQkJCQknPGlucHV0IHR5cGU9ImhpZGRlbiIgaWQ9JytsYXN0SUQrJyB2YWx1ZT0iIj4nKw0JCQkJCQknPC9kaXY+JzsNCQ0JCWRhZnRhcnVzZXJha3RpZi5wdXNoKCcnK3VzZXJpZCk7IC8vYWxlcnQoJ2RhZnRhciAnK2RhZnRhcnVzZXJha3RpZik7DQkvL30NCX0NCQ19DQ1mdW5jdGlvbiB0YWJlZmVrKHRhYmlkLCBlZmVrKXsJDQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmlkLScrdGFiaWQpKXsNCQkNCQ0JdmFyIHRhYnBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJpZC0nK3RhYmlkKTsvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJpZC0nK3RhYmlkKS5wYXJlbnROb2RlOw0Jc3dpdGNoKGVmZWspew0JCWNhc2UgMTogewkNCQkJCQl0YWJwYXJlbnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJ0YWJfc2VsZWN0Iik7IC8vYWt0aWYNCQkJCQkNCQkJCQl2YXIgb2xkdGFiaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF91dG8nKS52YWx1ZTsgDQkJCQkJaWYgKG9sZHRhYmlkICE9ICcnKXsNCQkJCQkJDQkJCQkJCS8vYWxlcnQoJ29sZCAnK29sZHRhYmlkKTsNCQkJCQkJdGFiZWZlayhvbGR0YWJpZCwyKTsJDQkJCQkJfQkJCQkJDQkJCQkJYnJlYWs7DQkJCQkJDQkJCQl9DQkJY2FzZSAyOiB7DQkJCQkJdGFicGFyZW50LnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAidGFiX3Vuc2VsZWN0Iik7CS8vbm9uIGFrdGlmDQkJCQkJYnJlYWs7DQkJCQl9DQkJY2FzZSAzOiB7DQkJCQkJdGFicGFyZW50LnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAidGFiX2FkYXBlc2FuIik7IC8vYWRhIHBlc2FuDQkJCQkJYnJlYWs7DQkJCQl9DQl9DQl9DX0NDS8vZnVuY3Rpb24gY2hhdF90YWJ1c2VyX2Nsb3NlKHRhYmlkLCB1c2VyaWQgKXsNZnVuY3Rpb24gY2hhdF90YWJ1c2VyX2Nsb3NlKCB1c2VyaWQgKXsNCS8vYWxlcnQodGFiaWQrJyAnK3VzZXJpZCkJOw0JLy9oYXB1cyBkYWZ0YXINCXZhciB0YWJpZD0gdGFiX2ZpbmRpZHgoJycrdXNlcmlkKTsvL2FsZXJ0KCdoYXB1cyBpZCcrdGFiaWQpOw0JZGFmdGFydXNlcmFrdGlmLnNwbGljZSggdGFiaWQsIDEpOy8vIGFsZXJ0KCdkYWZ0YXIgYmFydScrZGFmdGFydXNlcmFrdGlmKTsNCQ0JLy9oYXB1cyBlbGVtZW50DQl2YXIgdGFiYWt0aWYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF91dG8nKS52YWx1ZTsvLyBhbGVydCgndGFiYWt0aWYgPSAnK3RhYmFrdGlmKTsNCXZhciB0YWJjbnQ9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3RhYmxpc3RfY250JykudmFsdWU7CQ0JLy9hbGVydCgnaGFwdXMgJyt1c2VyaWQpOw0JaGFwdXNFbGVtZW50KCd0YWJpZC0nK3VzZXJpZCk7DQloYXB1c0VsZW1lbnQoJ2NoYXRfbGlzdHBlc2FuLScrdXNlcmlkKTsNCQ0JLy9ha3RpZmthbiB0YWIgYmFydSBqaWthIHBlcmx1CQ0JaWYgKHVzZXJpZD09dGFiYWt0aWYgKXsNCQkvL2FsZXJ0KCd0YWJpZCBoYXB1cyA9Jyt0YWJpZCk7DQkJLyppZiAodGFiaWQtMSA+IDApew0JCQluZXd0YWJha3RpZj0gdGFiaWQtMTsNCQkJDQkJfWVsc2V7DQkJCWlmICh0YWJpZCsxIDwgZGFmdGFydXNlcmFrdGlmLmxlbmd0aCl7DQkJCQluZXd0YWJha3RpZj0gdGFiaWQrMTsNCQkJfQ0JCX0qLw0JCXZhciBuZXd0YWJha3RpZiA9IC0xOw0JCWlmKHRhYmlkIDwgZGFmdGFydXNlcmFrdGlmLmxlbmd0aCl7DQkJCXZhciBuZXd0YWJha3RpZiA9IHRhYmlkOw0JCX1lbHNlew0JCQkNCQkJdmFyIG5ld3RhYmFrdGlmID0gdGFiaWQtMTsJDQkJfQ0JCQ0JCWlmKG5ld3RhYmFrdGlmID49IDApew0JCQkvL2FsZXJ0KCduZXcgdGFiYWt0aWYgPScrbmV3dGFiYWt0aWYpOw0JCQl2YXIgbmV3dXNlcj0gZGFmdGFydXNlcmFrdGlmW25ld3RhYmFrdGlmXTsgLy9hbGVydCgndGFtcGlsICcrbmV3dGFiYWt0aWYrJyAnK25ld3VzZXIpOw0JCQljaGF0X3RhYnVzZXJfb3BlbihuZXd1c2VyKTsJCQ0JCX1lbHNlew0JCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF91dG8nKS52YWx1ZT0nJzsNCQl9DQkJCQ0JCQkJDQkJDQl9DQkNCQ19DQ1mdW5jdGlvbiB0YWJfZmluZGlkeCh0YWJpZCl7DQl2YXIgaHNsPS0xOw0JZm9yKGk9MDtpPGRhZnRhcnVzZXJha3RpZi5sZW5ndGg7aSsrKXsNCQlpZihkYWZ0YXJ1c2VyYWt0aWZbaV0gPT0gdGFiaWQpew0JCQlyZXR1cm4gaTsJDQkJfQkJDQl9DQlyZXR1cm4gaHNsOw19DQ0vL2Z1bmN0aW9uIGNoYXRfdGFidXNlcl9vcGVuKHRhYmlkLCB1c2VyaWQgKXsNZnVuY3Rpb24gY2hhdF90YWJ1c2VyX29wZW4odXNlcmlkICl7DQkvL2FsZXJ0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3V0bycpLnZhbHVlKTsNCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF91dG8nKS52YWx1ZSAhPSB1c2VyaWQpew0JCQ0JDQkJdGFiZWZlayh1c2VyaWQsIDEpOw0JDQkJLy9zaG93IHRhYnNoZWV0DQkJdGFiaWR4PSB0YWJfZmluZGlkeCh1c2VyaWQpOw0JCWhlaWdodF89IDM1ODsJDQkJb2JqRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfYm94Jyk7DQkJb2JqRGl2LnNjcm9sbFRvcCA9ICh0YWJpZHgpICogaGVpZ2h0XzsNCQkvL2FsZXJ0KCdvcGVuICcrdXNlcmlkKTsNCQkvL3Njcm9sbCB0byBkb3duIA0JCW9iakRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0X2xpc3RwZXNhbi0iK3VzZXJpZCk7DQkJc2Nyb2xsSGVpZ2h0XyA9ICBvYmpEaXYuc2Nyb2xsSGVpZ2h0OyAvL2FsZXJ0KCcgZicrc2Nyb2xsSGVpZ2h0XyApOw0JCWlmICggb2JqRGl2LnNjcm9sbFRvcCAhPSBzY3JvbGxIZWlnaHRfICl7DQkJCQkJb2JqRGl2LnNjcm9sbFRvcCA9IG9iakRpdi5zY3JvbGxIZWlnaHQ7DQkJfQ0JDQkJLy9zZXQgYWt0aWYgdXNlcg0JCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3V0bycpLnZhbHVlID0gdXNlcmlkOwkNCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF9wZXNhbicpLmZvY3VzKCk7DQkJLy9jZWtfcGVzYW4oKTsNCQkvL3RpbWVyb2JqLnN0YXJ0KCk7DQl9DX0NDWZ1bmN0aW9uIHRhYnVzZXJfZmluZGJ5bmFtZSh0YWJuYW1lKXsNCS8vYWxlcnQoJ3RhYiBmaW5kICcrdGFibmFtZSk7DQlzdHIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWJuYW1lKS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsgLy9hbGVydCgnbmFtZSAnK3N0cik7DQlhcnIgPSBzdHIuc3BsaXQoJy0nKTsvL2FsZXJ0KGFyclsxXSk7DQlyZXR1cm4gYXJyWzFdOw19DQ0NZnVuY3Rpb24gY2hhdF9zZWxlY3RfdXNlcih1c2VyaWQpew0JLy9rbGlrIGRpIGxpc3QgdXNlciBvbmxpbmUNCS8vaWYoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJpZC0nK3VzZXJpZCkgPT0gbnVsbCApew0JY2hhdF90YWJ1c2VyX2FkZCh1c2VyaWQpOwkNLy8JfWVsc2V7DQkJLy90YWJpZCA9IHRhYnVzZXJfZmluZGJ5bmFtZSgndGFiaWQtJyt1c2VyaWQpOw0JCS8vY2hhdF90YWJ1c2VyX29wZW4odGFiaWQsdXNlcmlkKTsNLy8JfQ0JLy90YWJpZCA9IHRhYnVzZXJfZmluZGJ5bmFtZSgndGFiaWQtJyt1c2VyaWQpOw0JY2hhdF90YWJ1c2VyX29wZW4odXNlcmlkKTsNCQ0JDQkNCS8vY2hhdF93aXRoKCB1c2VyaWQpOw0JDQkNCQ19DQ1mdW5jdGlvbiBwZXNhbl9vbmVudGVyKGV2dCl7DQl2YXIgY2hhckNvZGUgPSAoZXZ0LndoaWNoKSA\/IGV2dC53aGljaCA6IGV2dC5rZXlDb2RlDQlpZiAoY2hhckNvZGUgPT0gMTMpew0JCWtpcmltX3Blc2FuKCk7DQl9DX0NDWZ1bmN0aW9uIHRhYl9zY3JvbGxfcmlnaHQoKXsNCXZhciBvYmpEaXY9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJfa29udGFpbmVyJyk7DQkNCXZhciBvbGRsZWZ0ID0gIG9iakRpdi5zY3JvbGxMZWZ0Ow0Jb2JqRGl2LnNjcm9sbExlZnQgKz0gMzA7IC8vYWxlcnQob2JqRGl2LnNjcm9sbExlZnQpOw0JaWYgKG9iakRpdi5zY3JvbGxMZWZ0ID09IG9sZGxlZnQgKXsvL2hhYmlzDQkJLy9hbGVydCgnaGFiaXMnKTsNCX0NfQ0NZnVuY3Rpb24gdGFiX3Njcm9sbF9sZWZ0KCl7DQl2YXIgb2JqRGl2PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFiX2tvbnRhaW5lcicpOw0JDQl2YXIgb2xkbGVmdCA9ICBvYmpEaXYuc2Nyb2xsTGVmdDsNCW9iakRpdi5zY3JvbGxMZWZ0IC09IDMwOy8vIGFsZXJ0KG9iakRpdi5zY3JvbGxMZWZ0KTsNCWlmIChvYmpEaXYuc2Nyb2xsTGVmdCA9PSBvbGRsZWZ0ICl7Ly9oYWJpcw0JCS8vYWxlcnQoJ2hhYmlzJyk7DQl9DX0NDVRpdGxlU2Nyb2xsT2JqID0gZnVuY3Rpb24oKXsNCXRoaXMucmVwZWF0PTEgOy8vZW50ZXIgMCB0byBub3QgcmVwZWF0IHNjcm9sbGluZyBhZnRlciAxIHJ1biwgb3RoZXJzaXNlLCBlbnRlciAxDQl0aGlzLnBsYXk9IHRydWU7DQl0aGlzLnRpdGxlPSBkb2N1bWVudC50aXRsZTsNCXRoaXMucGVzYW4gPSAnQWRhIHBlc2FuIGJhcnUuICc7DQl0aGlzLmxlbmc9dGhpcy5wZXNhbi5sZW5ndGg7DQl0aGlzLnN0YXJ0PTE7DQl0aGlzLmRlbGF5ID0gNTAwOw0JdGhpcy5tb3ZlID0gZnVuY3Rpb24oKSB7DQkJDQkJdmFyIHRpdGw9dGhpcy5wZXNhbi5zdWJzdHJpbmcodGhpcy5zdGFydCwgdGhpcy5sZW5nKSArIHRoaXMucGVzYW4uc3Vic3RyaW5nKDAsIHRoaXMuc3RhcnQpOw0JCS8vY29uc29sZS5pbmZvKHRpdGwrJyAnICt0aGlzLnN0YXJ0KTsNCQl0aGlzLnN0YXJ0Kys7DQkJaWYgKHRoaXMuc3RhcnQ+dGhpcy5sZW5nKzEpIHsNCQkJdGhpcy5zdGFydD0wOw0JCQlkb2N1bWVudC50aXRsZT10aGlzLnRpdGxlOy8vJzo6QVRJU0lTQkFEQSAoQXBsaWthc2kgVGVrbm9sb2dpIEluZm9ybWFzaSBTaWtsdXMgQmFyYW5nIERhZXJhaCknOw0JCQlpZiAodGhpcy5wbGF5KSBzZXRUaW1lb3V0KCJ0aXRsZVNjcm9sbC5tb3ZlKCkiLCB0aGlzLmRlbGF5KjUpOw0JCQkvL2lmICh0aGlzLnJlcGVhdD09MCkgICByZXR1cm47DQkJfWVsc2UgaWYgKHRoaXMuc3RhcnQ9PXRoaXMubGVuZysxKSB7DQkJCWlmICh0aGlzLnBsYXkpIHNldFRpbWVvdXQoInRpdGxlU2Nyb2xsLm1vdmUoKSIsIHRoaXMuZGVsYXkqMyk7CQkJDQkJfWVsc2V7DQkJCWRvY3VtZW50LnRpdGxlPXRpdGw7DQkJCWlmICh0aGlzLnBsYXkpIHNldFRpbWVvdXQoInRpdGxlU2Nyb2xsLm1vdmUoKSIsIHRoaXMuZGVsYXkpOw0JCX0NCQkNCX0NCXRoaXMuc3RvcCA9IGZ1bmN0aW9uKCl7DQkJZG9jdW1lbnQudGl0bGU9dGhpcy50aXRsZTsNCQl0aGlzLnBsYXkgPSBmYWxzZTsNCX0NCS8qdGhpcy5zdGFydCA9IGZ1bmN0aW9uKCl7DQkJLy9hbGVydCgnc3RhcnQnKTsNCQl0aGlzLnBsYXk9dHJ1ZTsNCQl0aGlzLm1vdmUoKTsNCX0qLw19DXRpdGxlU2Nyb2xsID0gbmV3IFRpdGxlU2Nyb2xsT2JqKCk7DQ1jaGF0X2FsZXJ0X3N0YXQ9MDsNLypjaGF0X3BhZ2VfZm9jdXMgPSAwOw0kKHdpbmRvdykuYmx1cihmdW5jdGlvbigpew0gIGNoYXRfcGFnZV9mb2N1cyA9IDA7DX0pOw0kKHdpbmRvdykuZm9jdXMoZnVuY3Rpb24oKXsNICBjaGF0X3BhZ2VfZm9jdXMgPSAxOw19KTsqLw1mdW5jdGlvbiBjaGF0X2FsZXJ0KGFsZXJ0b24pewkNCS8vYWxlcnQoJ2FsZXJ0PScrYWxlcnRvbik7DQkvL3ZhciB0aXRsZSA9ICc6OkFUSVNJU0JBREEgKEFwbGlrYXNpIFRla25vbG9naSBJbmZvcm1hc2kgU2lrbHVzIEJhcmFuZyBEYWVyYWgpJzsNCQ0JaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X2FsZXJ0JykpewkJDQkJaWYgKGFsZXJ0b24gKXsNCQkJaWYgKGNoYXRfYWxlcnRfc3RhdCA9PSAwKXsNCQkJCWNoYXRfYWxlcnRfc3RhdCA9IDE7DQkJCQl0aXRsZVNjcm9sbC5wbGF5PXRydWU7DQkJCQl0aXRsZVNjcm9sbC5tb3ZlKCk7DQkJCQkNCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X2FsZXJ0Jykuc3R5bGUuYmFja2dyb3VuZCA9IA0JCQkJCSd1cmwoImltYWdlcy9hZG1pbmlzdHJhdG9yL2ltYWdlcy9tZXNzYWdlXzI0LnBuZyIpIG5vLXJlcGVhdCBzY3JvbGwgMCAwIHRyYW5zcGFyZW50JzsJCQ0JCQkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF9hbGVydCcpLmlubmVySFRNTCA9IA0JCQkJLy8JIjxpbWcgc3JjPSdpbWFnZXMvYWRtaW5pc3RyYXRvci9pbWFnZXMvbWVzc2FnZV8yNF9hbmltLmdpZicgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyAvPiI7DQkJCX0NCQl9ZWxzZXsNCQkJY2hhdF9hbGVydF9zdGF0ID0gMDsNCQkJdGl0bGVTY3JvbGwuc3RvcCgpOw0JCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF9hbGVydCcpLmlubmVySFRNTCA9Jyc7DQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X2FsZXJ0Jykuc3R5bGUuYmFja2dyb3VuZCA9IA0JCQkndXJsKCJpbWFnZXMvYWRtaW5pc3RyYXRvci9pbWFnZXMvbWVzc2FnZV8yNF9vZmYucG5nIikgbm8tcmVwZWF0IHNjcm9sbCAwIDAgdHJhbnNwYXJlbnQnOwkNCQl9CQkNCX0JDX0NDQ1mdW5jdGlvbiBjZWtfbm90aWZ5KHVpZCl7Ly9hbGVydCgnY2VrIG5vdGlmeScrdWlkKTsNCS8vKg0JaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X2FsZXJ0Jykpew0JCWNla2FkYXBlc2Fub2JqLnVyaSA9ICdsaWIvY2hhdHgvY2hhdF9hbGVydC5waHA\/dWlkPScrdWlkIDsNCQlzZXRUaW1lb3V0KCdjZWthZGFwZXNhbm9iai5HZXREYXRhKCknLCBkZWxheV9jZWtfbm90aWZ5KTsvL2Nla2FkYXBlc2Fub2JqLkdldERhdGEoKTsNCX0vLyovDQkNfQ0NDWZ1bmN0aW9uIHRhbXBpbF9lcnIoZXJybXNnKXsvL2FsZXJ0KCd0YW1waWwgJytlcnJtc2cpDQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdF9lcnJtc2cnKSl7DQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfZXJybXNnJykuaW5uZXJIVE1MID0gDQkJCSc8YSBocmVmPSJpbmRleC5waHAiPicrZXJybXNnKyc8L2E+JzsJDQl9DX0NDWZ1bmN0aW9uIGNla191c2VyMV9vbmxpbmUoKXsNCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3VmcicpKXsNCQljZWt1c3Ixb25saW5lb2JqLnVyaT0nbGliL2NoYXR4L2Nla191c3IxX29ubGluZS5waHA\/dWlkPScrZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfdWZyJykudmFsdWU7DQkJY2VrdXNyMW9ubGluZW9iai5HZXREYXRhKCk7CQ0JfQ0JDX0NDWZ1bmN0aW9uIHNjcm9sbGRvd24oZWxJRCl7DQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxJRCkpew0JCQ0JDQkJdmFyIG9iakRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsSUQpOw0JCXNjcm9sbEhlaWdodF8gPSAgb2JqRGl2LnNjcm9sbEhlaWdodDsgLy9hbGVydCgnIGYnK3Njcm9sbEhlaWdodF8gKTsNCQlpZiAoIG9iakRpdi5zY3JvbGxUb3AgIT0gc2Nyb2xsSGVpZ2h0XyApe29iakRpdi5zY3JvbGxUb3AgPSBvYmpEaXYuc2Nyb2xsSGVpZ2h0O30NCX0NfQ==",
    "size": "21529"
}