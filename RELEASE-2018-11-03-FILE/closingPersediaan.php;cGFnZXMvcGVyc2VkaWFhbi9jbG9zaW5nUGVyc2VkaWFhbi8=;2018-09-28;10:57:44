{
    "namaFile": "pages\/persediaan\/closingPersediaan\/closingPersediaan.php",
    "lastUpdate": "2018-09-28+10:57:44.82",
    "contentFile": "PD9waHAKCmNsYXNzIGNsb3NpbmdQZXJzZWRpYWFuT2JqICBleHRlbmRzIGNvbmZpZ0NsYXNzewogIHZhciAkUHJlZml4ID0gJ2Nsb3NpbmdQZXJzZWRpYWFuJzsKICB2YXIgJGVsQ3VyclBhZ2U9IkhhbERlZmF1bHQiOwogIHZhciAkU0hPV19DRUsgPSBUUlVFOwogIHZhciAkVGJsTmFtZSA9ICdjbG9zaW5nX3BlcnNlZGlhYW4nOyAvL2JvbnVzCiAgdmFyICRUYmxOYW1lX0hhcHVzID0gJ2Nsb3NpbmdfcGVyc2VkaWFhbic7CiAgdmFyICRNYXhGbHVzaCA9IDEwOwogIHZhciAkVGJsU3R5bGUgPSBhcnJheSggJ2tvcHRhYmxlJywgJ2NldGFrJywnY2V0YWsnKTsgLy9iZXJkYXNhciBtb2RlCiAgdmFyICRDb2xTdHlsZSA9IGFycmF5KCAnR2FyaXNEYWZ0YXInLCAnR2FyaXNDZXRhaycsJ0dhcmlzQ2V0YWsnKTsKICB2YXIgJEtleUZpZWxkcyA9IGFycmF5KCdpZCcpOwogIHZhciAkRmllbGRTdW0gPSBhcnJheSgpOy8vYXJyYXkoJ2ptbF9oYXJnYScpOwogIHZhciAkU3VtVmFsdWUgPSBhcnJheSgpOwogIHZhciAkRmllbGRTdW1fQ3AxID0gYXJyYXkoIDE0LCAxMywgMTMpOy8vYmVyZGFzYXIgbW9kZQogIHZhciAkRmllbGRTdW1fQ3AyID0gYXJyYXkoIDEsIDEsIDEpOwogIHZhciAkY2hlY2tib3hfcm93c3BhbiA9IDI7CiAgdmFyICRQYWdlVGl0bGUgPSAnQ0xPU0lORyc7CiAgdmFyICRQYWdlSWNvbiA9ICdpbWFnZXMvbWFzdGVyRGF0YV8wMS5naWYnOwogIHZhciAkcGFnZVBlckhhbCA9Jyc7CiAgdmFyICRmaWxlTmFtZUV4Y2VsPSdjbG9zaW5nUGVyc2VkaWFhbi54bHMnOwogIHZhciAkbmFtYU1vZHVsQ2V0YWs9J0NMT1NJTkcnOwogIHZhciAkQ2V0YWtfSnVkdWwgPSAnQ0xPU0lORyc7CiAgdmFyICRDZXRha19Nb2RlPTI7CiAgdmFyICRDZXRha19XSURUSCA9ICczMGNtJzsKICB2YXIgJENldGFrX090aGVySFRNTEhlYWQ7CiAgdmFyICRGb3JtTmFtZSA9ICdjbG9zaW5nUGVyc2VkaWFhbkZvcm0nOwogIHZhciAkbW9kdWwgPSAiQ0xPU0lORyI7CiAgdmFyICRqZW5pc0Zvcm0gPSAiIjsKICB2YXIgJHRhaHVuID0gIiI7CiAgdmFyICRub21vclVydXQgPSAiIjsKICB2YXIgJGplbmlzQW5nZ2FyYW4gPSAiIjsKICB2YXIgJGlkVGFoYXAgPSAiIjsKICB2YXIgJGN1cnJlbnRUYWhhcCA9ICIiOwogIHZhciAkbmFtYVRhaGFwVGVyYWtoaXIgPSAiIjsKICB2YXIgJG1hc2FUZXJha2hpciA9ICIiOwogIHZhciAkdXJ1dFRlcmFraGlyID0gIiI7CiAgdmFyICR1cnV0U2ViZWx1bW55YSA9ICIiOwogIHZhciAkamVuaXNGb3JtVGVyYWtoaXIgPSAiIjsKICB2YXIgJHVzZXJuYW1lID0gIiI7CiAgdmFyICR3YWppYlZhbGlkYXNpID0gIiI7CiAgdmFyICRzcWxWYWxpZGFzaSA9ICIiOwogIHZhciAkVGFtcGlsRmlsdGVyQ29sYXBzZSA9IDA7IC8vMAogIHZhciAkcHJvdmluc2kgPSAiIjsKICB2YXIgJGtvdGEgPSAiIjsKICB2YXIgJHBlbmdlbG9sYUJhcmFuZyA9ICIiOwogIHZhciAkcGVqYWJhdFBlbmdlbG9sYUJhcmFuZyA9ICIiOwogIHZhciAkcGVuZ3VydXNQZW5nZWxvbGFCYXJhbmcgPSAiIjsKICB2YXIgJG5pcFBlbmdlbG9sYSA9ICIiOwogIHZhciAkbmlwUGVqYWJhdCA9ICIiOwogIHZhciAkbmlwUGVuZ3VydXMgPSIiOwogIHZhciAkcHVibGljVmFyID0gIiI7CiAgdmFyICRzdHJpbmdDb25jYXRTdWJVbml0ID0gImNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpIjsKICB2YXIgJHN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAiY29uY2F0KGYsJy4nLGcsJy4nLGgsJy4nLGksJy4nLGosJy4nLGoxKSI7CiAgdmFyICRhcnJFc2Vsb24gPSBhcnJheSgKICAgIGFycmF5KCcxJywnRVNFTE9OIEknKSwKICAgIGFycmF5KCcyJywnRVNFTE9OIElJJyksCiAgICBhcnJheSgnMycsJ0VTRUxPTiBJSUknKSwKICAgIGFycmF5KCc0JywnRVNFTE9OIElWJyksCiAgICBhcnJheSgnNScsJ0VTRUxPTiBWJykKICAgICk7CgogIGZ1bmN0aW9uIHNldEZvcm1CYXJ1VFREKCl7CiAgICBnbG9iYWwgJE1haW47CiAgICAkY2JpZCA9ICRfUkVRVUVTVFskdGhpcy0+UHJlZml4LidfY2InXTsKICAgICRjZWsgPSRjYmlkWzBdOwogICAgJHRoaXMtPmZvcm1faWRwbGggPSAkY2JpZFswXTsKICAgICRrb2RlID0gZXhwbG9kZSgnICcsJHRoaXMtPmZvcm1faWRwbGgpOwogICAgJHRoaXMtPmZvcm1fZm1TVCA9IDA7CgogICAgJGR0PWFycmF5KCk7CiAgICAvLyR0aGlzLT5mb3JtX2lkcGxoID0nJzsKICAgICR0aGlzLT5mb3JtX2ZtU1QgPSAwOwogIC8vICAkZGF0X3VydXNhbj0gJF9SRVFVRVNUWydkYXRfdXJ1c2FuJ107CiAgICAkdXJ1c2FuID0gJE1haW4tPlVSVVNBTjsKICAgIGlmICgkdXJ1c2FuPT0nMCcpewogICAgICAkZHRbJ2MxJ10gPSAkX1JFUVVFU1RbJHRoaXMtPlByZWZpeC4nZm1TS1BEVXJ1c2FuJ107CiAgICAgICRkdFsnYyddID0gJF9SRVFVRVNUWyR0aGlzLT5QcmVmaXguJ2ZtU0tQREJpZGFuZyddOwogICAgICAkZHRbJ2QnXSA9ICRfUkVRVUVTVFskdGhpcy0+UHJlZml4LidmbVNLUERza3BkJ107CiAgICAgICRmbSA9ICR0aGlzLT5zZXRGb3JtNCgkZHQpOwogICAgfWVsc2V7CiAgICAgICRkdFsnYzEnXSA9ICRfUkVRVUVTVFskdGhpcy0+UHJlZml4LidjbG9zaW5nUGVyc2VkaWFhblNLUEQyZm1VUlVTQU4nXTsKICAgICAgJGR0WydjJ10gPSAkX1JFUVVFU1RbJHRoaXMtPlByZWZpeC4nY2xvc2luZ1BlcnNlZGlhYW5TS1BEMmZtU0tQRCddOwogICAgICAkZHRbJ2QnXSA9ICRfUkVRVUVTVFskdGhpcy0+UHJlZml4LidjbG9zaW5nUGVyc2VkaWFhblNLUEQyZm1VTklUJ107CiAgICAgICRkdFsnZSddID0gJF9SRVFVRVNUWyR0aGlzLT5QcmVmaXguJ2Nsb3NpbmdQZXJzZWRpYWFuU0tQRDJmbVNVQlVOSVQnXTsKICAgICAgJGR0WydlMSddID0gJF9SRVFVRVNUWyR0aGlzLT5QcmVmaXguJ2Nsb3NpbmdQZXJzZWRpYWFuU0tQRDJmbVNFS1NJJ107CiAgICAgICRmbSA9ICR0aGlzLT5zZXRGb3JtVFREKCRkdCk7CiAgICB9CiAgICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kZm1bJ2NlayddLCAnZXJyJz0+JGZtWydlcnInXSwgJ2NvbnRlbnQnPT4kZm1bJ2NvbnRlbnQnXSk7CiAgfQoKZnVuY3Rpb24gc2V0Rm9ybVRURCgkZHQsJGMxLCRjLCRkLCRlLCRlMSl7CiAgIGdsb2JhbCAkU2Vuc3VzVG1wOwogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOwogICAkanNvbiA9IFRSVUU7ICAvLyRFcnJNc2cgPSAndGVzJzsKICAgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtJzsKICAgJHRoaXMtPmZvcm1fd2lkdGggPSA3MDA7CiAgICR0aGlzLT5mb3JtX2hlaWdodCA9IDI4MDsKICAgIGlmICgkdGhpcy0+Zm9ybV9mbVNUPT0wKSB7CiAgICAkdGhpcy0+Zm9ybV9jYXB0aW9uID0gJ0JBUlUgVEFOREEgVEFOR0FOJzsKICAgICRuaXAgICA9ICcnOwogICAgfWVsc2V7CiAgICAkdGhpcy0+Zm9ybV9jYXB0aW9uID0gJ0VESVQgVEFOREEgVEFOR0FOJzsKICAgICRyZWFkb25seT0ncmVhZG9ubHknOwoKICAgIH0KICAgICAkYXJyT3JkZXIgPSBhcnJheSgKICAgICAgICAgICAgICAgICBhcnJheSgnMScsJ0tlcGFsYSBEaW5hcycpLAogICAgICAgICAgICAgYXJyYXkoJzInLCdQZW5ndXJ1cyBCYXJhbmcnKSwKICAgICAgICAgICk7CiAgJGFyciA9IGFycmF5KAogICAgICAvL2FycmF5KCdzZWxlY3RBbGwnLCdTZW11YScpLAogICAgICBhcnJheSgnc2VsZWN0S2VwYWxhIERpbmFzJywnS2VwYWxhIERpbmFzJyksCiAgICAgIGFycmF5KCdzZWxlY3RQZW5ndXJ1cyBCYXJhbmcnLCdQZW5ndXJ1cyBCYXJhbmcnKSwKICAgICAgKTsKICAgICAgLy9hbWJpbCBkYXRhIHRyZWZkaXRlcnVza2FuCiAgICAkcXVlcnkgPSAiIiA7JGNlayAuPSRxdWVyeTsKICAgICRyZXMgPSBteXNxbF9xdWVyeSgkcXVlcnkpOwogICAgJGtvZGUxPWdlbk51bWJlcigkZHRbJ2MnXSwyKTsKICAgICRrb2RlMj1nZW5OdW1iZXIoJGR0WydkJ10sMik7CiAgICAka29kZTM9Z2VuTnVtYmVyKCRkdFsnZSddLDIpOwogICAgJGtvZGU0PWdlbk51bWJlcigkZHRbJ2UxJ10sMyk7CiAgICAkbmFtYT0kZHRbJ25hbWEnXTsKICAgICRuaXA9JGR0WyduaXAnXTsKICAgICRqYWJhdGFuPSRkdFsnamFiYXRhbiddOwoKICAgICRBcnJqYnQgPSBhcnJheSgKICAgICAgICBhcnJheSgnMS4nLCJLZXBhbGEgRGluYXMiKSwKICAgICAgICBhcnJheSgnMi4nLCdQZW5ndXJ1cyBCYXJhbmcnKSwKICAgICAgICApOwoKICAgICRjMSA9ICRfUkVRVUVTVFsndXJ1c2FuJ107CiAgICAkYyA9ICRfUkVRVUVTVFsnYmlkYW5nJ107CiAgICAkZCA9ICRfUkVRVUVTVFsnc2twZCddOwogICAgJGUgPSAkX1JFUVVFU1RbJ3VuaXQnXTsKICAgICRlMSA9ICRfUkVRVUVTVFsnc3VidW5pdCddOwogICAgJGtldCA9ICRkdFsna2F0ZWdvcmlfdGFuZGF0YW5nYW4nXTsKCiAgICAkcXJ5NCA9ICJTRUxFQ1QgKiBGUk9NIHJlZl9za3BkIFdIRVJFIGMxPSckYzEnIGFuZCBjPScwMCcgQU5EIGQ9JzAwJyBBTkQgZT0nMDAnIEFORCBlMT0nMDAwJyI7Ly8kY2VrLj0kcXJ5OwogICAgJGFxcnk0ID0gbXlzcWxfcXVlcnkoJHFyeTQpOwogICAgJHF1ZXJ5YzEgPSBteXNxbF9mZXRjaF9hcnJheSgkYXFyeTQpOwoKICAgICRxcnkgPSAiU0VMRUNUICogRlJPTSByZWZfc2twZCBXSEVSRSBjMT0nJGMxJyBhbmQgYz0nJGMnIEFORCBkPScwMCcgQU5EIGU9JzAwJyBBTkQgZTE9JzAwMCciOy8vJGNlay49JHFyeTsKICAgICRhcXJ5ID0gbXlzcWxfcXVlcnkoJHFyeSk7CiAgICAkcXVlcnljID0gbXlzcWxfZmV0Y2hfYXJyYXkoJGFxcnkpOwogIC8vICAkY2VrLj0kZGF0YTsKCiAgICAkcXJ5MSA9ICJTRUxFQ1QgKiBGUk9NIHJlZl9za3BkIFdIRVJFIGMxPSckYzEnIGFuZCBjPSckYycgQU5EIGQ9JyRkJyBBTkQgZT0nMDAnIEFORCBlMT0nMDAwJyI7Ly8kY2VrLj0kcXJ5MTsKICAgICRhcXJ5MSA9IG15c3FsX3F1ZXJ5KCRxcnkxKTsKICAgICRxdWVyeWQgPSBteXNxbF9mZXRjaF9hcnJheSgkYXFyeTEpOwoKICAgICRxcnkyID0gIlNFTEVDVCAqIEZST00gcmVmX3NrcGQgV0hFUkUgYzE9JyRjMScgYW5kIGM9JyRjJyBBTkQgZD0nJGQnIEFORCBlPSckZScgQU5EIGUxPScwMDAnIjsvLyRjZWsuPSRxcnkyOwogICAgJGFxcnkyID0gbXlzcWxfcXVlcnkoJHFyeTIpOwogICAgJHF1ZXJ5ZSA9IG15c3FsX2ZldGNoX2FycmF5KCRhcXJ5Mik7CgogICAgJHFyeTMgPSAiU0VMRUNUICogRlJPTSByZWZfc2twZCBXSEVSRSBjMT0nJGMxJyBhbmQgYz0nJGMnIEFORCBkPSckZCcgQU5EIGU9JyRlJyBBTkQgZTE9JyRlMSciOyRjZWsuPSRxcnkzOwogICAgJGFxcnkzID0gbXlzcWxfcXVlcnkoJHFyeTMpOwogICAgJHF1ZXJ5ZTEgPSBteXNxbF9mZXRjaF9hcnJheSgkYXFyeTMpOwoKCiAgICAkcXVlcnlLYXRlZ29yaSA9ICJTRUxFQ1QgaWQsa2F0ZWdvcmlfdGFuZGF0YW5nYW4gRlJPTSByZWZfa2F0ZWdvcmlfdGFuZGF0YW5nYW4gd2hlcmUgaWQgPSAyMyI7CgoKICAgICRxdWVyeVBhbmdrYXQ9InNlbGVjdCBuYW1hLGNvbmNhdChuYW1hLCcgKCcsZ29sLCcvJyxydWFuZywnKScpYXMgbmFtYSBmcm9tIHJlZl9wYW5na2F0IG9yZGVyIGJ5IGdvbCxydWFuZyI7CiAgICAkcXVlcnlQYW5na2F0Mj0ic2VsZWN0IHBhbmdrYXQsY29uY2F0KHBhbmdrYXQsJyAoJyxnb2wsJy8nLHJ1YW5nLCcpJylhcyBuYW1hIGZyb20gcmVmX3RhbmRhdGFuZ2FuIHdoZXJlIHBhbmdrYXQ9JyIuJF9SRVFVRVNUWydwYW5na2F0J10uIicgYW5kIGdvbD0nIi4kX1JFUVVFU1RbJ2dvbCddLiInIGFuZCBydWFuZz0nIi4kX1JFUVVFU1RbJ3J1YW5nJ10uIiciOwogICAgJHF1ZXJ5UGFuZ2thdDI9bXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCBnb2wscnVhbmcgZnJvbSByZWZfdGFuZGF0YW5nYW4gd2hlcmUgYzE9JyRjMScgYW5kIGM9JyRjJyBhbmQgZD0nJGQnIGFuZCBlPSckZScgYW5kIGUxPSckZTEnIGFuZCBJZD0nIi4kdGhpcy0+Zm9ybV9pZHBsaC4iJyIpKTsKICAgICRjZWsuPSJzZWxlY3QgZ29sLHJ1YW5nIGZyb20gcmVmX3RhbmRhdGFuZ2FuIHdoZXJlIGMxPSckYzEnIGFuZCBjPSckYycgYW5kIGQ9JyRkJyBhbmQgZT0nJGUnIGFuZCBlMT0nJGUxJyBhbmQgSWQ9JyIuJHRoaXMtPmZvcm1faWRwbGguIiciOwogICAgICAgLy9pdGVtcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAkZGF0a2V0ZWdvcmk9InNlbGVjdCBrYXRlZ29yaV90YW5kYXRhbmdhbiBmcm9tIHJlZl9rYXRlZ29yaV90YW5kYXRhbmdhbiB3aGVyZSBrYXRlZ29yaV90YW5kYXRhbmdhbj0nIi4kZHRbJ2thdGVnb3JpX3RhbmRhdGFuZ2FuJ10uIiciOwogICAgJGNlay49InNlbGVjdCBrYXRlZ29yaV90YW5kYXRhbmdhbiBmcm9tIHJlZl9rYXRlZ29yaV90YW5kYXRhbmdhbiB3aGVyZSBrYXRlZ29yaV90YW5kYXRhbmdhbj0nIi4kZHRbJ2thdGVnb3JpX3RhbmRhdGFuZ2FuJ10uIiciOwogICAgLy8kcXJ5X2phYmF0YW4gPSAiU0VMRUNUIElkLCBuYW1hIEZST00gcmVmX2phYmF0YW4gV0hFUkUgYzE9JyRjMScgQU5EIGM9JyRjJyBBTkQgZD0nJGQnICI7CiAgICAkcXVlcnlnZWR1bmc9IiI7CiAgICAkZGF0YXBhbmdrYXQ9JHF1ZXJ5UGFuZ2thdDJbJ2dvbCddLiIvIi4kcXVlcnlQYW5na2F0MlsncnVhbmcnXTsKICAgICRkYXRjMT0kcXVlcnljMVsnYzEnXS4iLiIuJHF1ZXJ5YzFbJ25tX3NrcGQnXTsKICAgICRkYXRjPSRxdWVyeWNbJ2MnXS4iLiIuJHF1ZXJ5Y1snbm1fc2twZCddOwogICAgJGRhdGQ9JHF1ZXJ5ZFsnZCddLiIuIi4kcXVlcnlkWydubV9za3BkJ107CiAgICAkZGF0ZT0kcXVlcnllWydlJ10uIi4iLiRxdWVyeWVbJ25tX3NrcGQnXTsKICAgICRkYXRlMT0kcXVlcnllMVsnZTEnXS4iLiIuJHF1ZXJ5ZTFbJ25tX3NrcGQnXTsKICAgICRxdWVyeUthdGVnb3JpMSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJTRUxFQ1QgKiBmcm9tIHJlZl9rYXRlZ29yaV90YW5kYXRhbmdhbiB3aGVyZSBpZCA9ICcyMycgIikpOwogICAgICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KAogICAgICAnVVJVU0FOJyA9PiBhcnJheSgKICAgICAgICAgICAgJ2xhYmVsJz0+J1VSVVNBTicsCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZGMxJyBpZD0nZGMxJyB2YWx1ZT0nIi4kZGF0YzEuIicgc3R5bGU9J3dpZHRoOjUwMHB4OycgcmVhZG9ubHk+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlID0naGlkZGVuJyBuYW1lPSdjMScgaWQ9J2MxJyB2YWx1ZT0nIi4kcXVlcnljMVsnYzEnXS4iJz4KICAgICAgICAgICAgPC9kaXY+IiwKICAgICAgICAgICAgICksCgogICAgICAnYmlkYW5nJyA9PiBhcnJheSgKICAgICAgICAgICAgJ2xhYmVsJz0+J0JJREFORycsCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZGMnIGlkPSdkYycgdmFsdWU9JyIuJGRhdGMuIicgc3R5bGU9J3dpZHRoOjUwMHB4OycgcmVhZG9ubHk+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlID0naGlkZGVuJyBuYW1lPSdjJyBpZD0nYycgdmFsdWU9JyIuJHF1ZXJ5Y1snYyddLiInPgogICAgICAgICAgICA8L2Rpdj4iLAogICAgICAgICAgICAgKSwKCiAgICAgICdza3BkJyA9PiBhcnJheSgKICAgICAgICAgICAgJ2xhYmVsJz0+J1NLUEQnLAogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2RkJyBpZD0nZGQnIHZhbHVlPSciLiRkYXRkLiInIHN0eWxlPSd3aWR0aDo1MDBweDsnIHJlYWRvbmx5PgogICAgICAgICAgICA8aW5wdXQgdHlwZSA9J2hpZGRlbicgbmFtZT0nZCcgaWQ9J2QnIHZhbHVlPSciLiRxdWVyeWRbJ2QnXS4iJz4KICAgICAgICAgICAgPC9kaXY+IiwKICAgICAgICAgICAgICksCiAgICAgICd1bml0JyA9PiBhcnJheSgKICAgICAgICAgICAgJ2xhYmVsJz0+J1VOSVQnLAogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2RlJyBpZD0nZGUnIHZhbHVlPSciLiRkYXRlLiInIHN0eWxlPSd3aWR0aDo1MDBweDsnIHJlYWRvbmx5PgogICAgICAgICAgICA8aW5wdXQgdHlwZSA9J2hpZGRlbicgbmFtZT0nZScgaWQ9J2UnIHZhbHVlPSciLiRxdWVyeWVbJ2UnXS4iJz4KICAgICAgICAgICAgPC9kaXY+IiwKICAgICAgICAgICAgICksCiAgICAgICdzdWJ1bml0JyA9PiBhcnJheSgKICAgICAgICAgICAgJ2xhYmVsJz0+J1NVQlVOSVQnLAogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2RlMScgaWQ9J2RlMScgdmFsdWU9JyIuJGRhdGUxLiInIHN0eWxlPSd3aWR0aDo1MDBweDsnIHJlYWRvbmx5PgogICAgICAgICAgICA8aW5wdXQgdHlwZSA9J2hpZGRlbicgbmFtZT0nZTEnIGlkPSdlMScgdmFsdWU9JyIuJHF1ZXJ5ZTFbJ2UxJ10uIic+CiAgICAgICAgICAgIDwvZGl2PiIsCiAgICAgICAgICAgICApLAogICAgICAna2F0ZWdvcmknID0+IGFycmF5KAogICAgICAgICAgICAnbGFiZWwnPT4nS0FURUdPUkknLAogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICAgICAgJ3ZhbHVlJz0+IjxpbnB1dCB0eXBlPSd0ZXh0JyBzdHlsZT0nd2lkdGg6IDI1MHB4OycgcmVhZG9ubHk9J3JlYWRvbmx5JyBpZD0na2F0ZWdvcmknIG5hbWU9J2thdGVnb3JpJyB2YWx1ZT0nIi4kcXVlcnlLYXRlZ29yaTFba2F0ZWdvcmlfdGFuZGF0YW5nYW5dLiInICA+IiwKCgogICAgICAgICAgICAgKSwKICAgIC8vICBjbWJRdWVyeSgnZm1KYWJhdGFuJywkZHRbJ2phYmF0YW4nXSwkcXVlcnlKYWJhdGFuLCcnLCctLS0tLS0tLSBQaWxpaCAtLS0tLS0tLScpCiAgICAgICduYW1hcGVnYXdhaScgPT4gYXJyYXkoCiAgICAgICAgICAgICdsYWJlbCc9PidOQU1BJywKICAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICAgICAgICd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSduYW1hcGVnYXdhaScgaWQ9J25hbWFwZWdhd2FpJyB2YWx1ZT0nIi4kZHRbJ25hbWEnXS4iJyBzdHlsZT0nd2lkdGg6NTAwcHg7Jz4KCiAgICAgICAgICAgIDwvZGl2PiIsCiAgICAgICAgICAgICApLAogICAgICAnbmlwcGVnYXdhaScgPT4gYXJyYXkoCiAgICAgICAgICAgICdsYWJlbCc9PidOSVAnLAogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjE3MCwKICAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4KICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J25pcHBlZ2F3YWknIGlkPSduaXBwZWdhd2FpJyB2YWx1ZT0nIi4kZHRbJ25pcCddLiInIHN0eWxlPSd3aWR0aDoyNTBweDsnPgoKICAgICAgICAgICAgPC9kaXY+IiwKICAgICAgICAgICAgICksCgoKCiAgICAgICdwYW5na2F0JyA9PiBhcnJheSgKICAgICAgICAgICAgJ2xhYmVsJz0+J1BBTkdLQVQvIEdPTC8gUlVBTkcuJywKICAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICAgICAgICd2YWx1ZSc9PgogICAgICAgICAgICAiPGRpdiBpZD0nY29udF9nZCc+Ii5jbWJRdWVyeSgncGFuZ2thdGFraGlyJywkX1JFUVVFU1RbJ3BhbmdrYXQnXSwkcXVlcnlQYW5na2F0LCdzdHlsZT0id2lkdGg6MjUwcHg7Im9uY2hhbmdlPSInLiR0aGlzLT5QcmVmaXguJy5waWxpaFBhbmdrYXQoKSInLCctLVBJTElILS0nKS4iJm5ic3AmbmJzcCIuIjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdnb2xhbmdfYWtoaXInIHN0eWxlPSd3aWR0aDo0MHB4OycgaWQ9J2dvbGFuZ19ha2hpcicgc2l6ZT0xIHZhbHVlPSciLiRkYXRhcGFuZ2thdC4iJyByZWFkb25seT4KCiAgICAgICAgICAgIDwvZGl2PiIsCiAgICAgICAgICAgICApLAoKICAgICAgJ2phYmF0YW4nID0+IGFycmF5KAogICAgICAgICAgICAnbGFiZWwnPT4nSkFCQVRBTicsCiAgICAgICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0namFiYXRhbicgaWQ9J2phYmF0YW4nIHZhbHVlPSciLiRkdFsnamFiYXRhbiddLiInIHN0eWxlPSd3aWR0aDozMDBweDsnPgoKICAgICAgICAgICAgPC9kaXY+IiwKICAgICAgICAgICAgICksCgoKICAgICAgJ2VzZWxvbicgPT4gYXJyYXkoCiAgICAgICAgICAgICdsYWJlbCc9PidFU0VMT04nLAogICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICAgICAgJ3ZhbHVlJz0+Y21iQXJyYXkoJ2VzZWxvbl9ha2hpcicsJF9SRVFVRVNUWydlc2Vsb24nXSwkdGhpcy0+YXJyRXNlbG9uLCctLVBJTElILS0nLCdzdHlsZT13aWR0aDoxMDBweDsnKSwKICAgICAgICAgIC8vICAndmFsdWUnPT5jbWJBcnJheSgnc3RhdHVzJywkZHRbJ3N0YXR1cyddLCR0aGlzLT5zdFN0YXR1cywnLS1QSUxJSCBTdGF0dXMtLScsJycpLAogICAgICAgICAgICApLAoKICAgICAgKTsKICAgIC8vdG9tYm9sCiAgICAkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nSWRfc2twZCcgaWQ9J0lkX3NrcGQnICB2YWx1ZT0nIi4kSWQuIic+Ii4KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdTaW1wYW4nIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5TaW1wYW5UVEQoKScgdGl0bGU9J1NpbXBhbicgPiIuCiAgICAgICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nQmF0YWwnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5DbG9zZSgpJyA+IjsKCiAgICAkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtKCk7CiAgICAkY29udGVudCA9ICRmb3JtOy8vJGNvbnRlbnQgPSAnY29udGVudCc7CiAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOwogIH0KCmZ1bmN0aW9uIHNpbXBhblRURCgpewogICBnbG9iYWwgJEhUVFBfQ09PS0lFX1ZBUlM7CiAgIGdsb2JhbCAkTWFpbjsKCiAgICR1aWQgPSAkSFRUUF9DT09LSUVfVkFSU1snY29JRCddOwogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOwogIC8vZ2V0IGRhdGEgLS0tLS0tLS0tLS0tLS0tLS0KICAgJGZtU1QgPSAkX1JFUVVFU1RbJHRoaXMtPlByZWZpeC4nX2ZtU1QnXTsKICAgJGlkcGxoID0gJF9SRVFVRVNUWyR0aGlzLT5QcmVmaXguJ19pZHBsaCddOwogICAka29kZTE9ICRfUkVRVUVTVFsnYzEnXTsKICAgJGtvZGUyPSAkX1JFUVVFU1RbJ2MnXTsKICAgJGtvZGUzPSAkX1JFUVVFU1RbJ2QnXTsKICAgJGtvZGU0PSAkX1JFUVVFU1RbJ2UnXTsKICAgJGtvZGU1PSAkX1JFUVVFU1RbJ2UxJ107CiAgICRuYW1hcGVnYXdhaT0gJF9SRVFVRVNUWyduYW1hcGVnYXdhaSddOwogICAkbmlwcGVnYXdhaT0gJF9SRVFVRVNUWyduaXBwZWdhd2FpJ107CgogICAkcDE9ICRfUkVRVUVTVFsncGFuZ2thdGFraGlyJ107CgogICAkZ29sYW5nX2FraGlyPSAkX1JFUVVFU1RbJ2dvbGFuZ19ha2hpciddOwogICAkZ29sb25nYW4gPSBleHBsb2RlKCIvIiwgJGdvbGFuZ19ha2hpcik7CiAgICRqYWJhdGFuPSAkX1JFUVVFU1RbJ2phYmF0YW4nXTsKICAgJGVzZWxvbj0gJF9SRVFVRVNUWydlc2Vsb25fYWtoaXInXTsKICAgJGthdGVnb3JpPSAkX1JFUVVFU1RbJ2thdGVnb3JpJ107CgoKICAkb2xkeT1teXNxbF9mZXRjaF9hcnJheSgKICAgIG15c3FsX3F1ZXJ5KAogICAgICAic2VsZWN0IGNvdW50KCopIGFzIGNudCBmcm9tIHJlZl90YW5kYXRhbmdhbiB3aGVyZSBuaXA9JyRuaXBwZWdhd2FpJyIKICAgICkpOwogICBpZiggJGVycj09JycgJiYgJG5hbWFwZWdhd2FpID09JycgKSAkZXJyPSAnTkFNQSBQRUdBV0FJIEJlbHVtIERpIElzaSAhISc7CiAgIGlmKCAkZXJyPT0nJyAmJiAkbmlwcGVnYXdhaSA9PScnICkgJGVycj0gJ05JUCBCZWx1bSBEaSBJc2kgISEnOwogICBpZiggJGVycj09JycgJiYgJHAxID09JycgKSAkZXJyPSAnUEFOR0tBVC8gR09MLyBSVUFORyBCZWx1bSBEaSBQaWxpaCAhISc7CiAgIGlmKCAkZXJyPT0nJyAmJiAkamFiYXRhbiA9PScnICkgJGVycj0gJ0pBQkFUQU4gQmVsdW0gRGkgSXNpICEhJzsKICAgaWYoICRlcnI9PScnICYmICRrYXRlZ29yaSA9PScnICkgJGVycj0gJ0thdGVnb3JpIEJlbHVtIERpIFBpbGloICEhJzsKCiAgICAgIGlmKCRmbVNUID09IDApewogICAgICBpZigkZXJyPT0nJyAmJiAkb2xkeVsnY250J10+MCkgJGVycj0iTklQICckbmlwcGVnYXdhaScgU3VkYWggQWRhIjsKICAgICAgICBpZigkZXJyPT0nJyl7CgogICAgICAgICAgJGFxcnkgPSAiSU5TRVJUIGludG8gcmVmX3RhbmRhdGFuZ2FuIChjMSxjLGQsZSxlMSxuYW1hLG5pcCxqYWJhdGFuLHBhbmdrYXQsZ29sLHJ1YW5nLGVzZWxvbixrYXRlZ29yaV90YW5kYXRhbmdhbikgdmFsdWVzKCcka29kZTEnLCcka29kZTInLCcka29kZTMnLCcka29kZTQnLCcka29kZTUnLCckbmFtYXBlZ2F3YWknLCckbmlwcGVnYXdhaScsJyRqYWJhdGFuJywnJHAxJywnJGdvbG9uZ2FuWzBdJywnJGdvbG9uZ2FuWzFdJywnJGVzZWxvbicsJzIzJykiOyAgJGNlayAuPSAkYXFyeTsKICAgICAgICAgICRxcnkgPSBteXNxbF9xdWVyeSgkYXFyeSk7CgogICAgICAgICAgJGNvbnRlbnQgPSBhcnJheSgnY29tYm90dGQnID0+IGNtYlF1ZXJ5KCd0dGQnLCRkLCJTRUxFQ1QgSWQsIG5hbWEgZnJvbSByZWZfdGFuZGF0YW5nYW4gd2hlcmUga2F0ZWdvcmlfdGFuZGF0YW5nYW4gPSAyMyBhbmQgYzEgPSAnIi4kX1JFUVVFU1RbYzFdLiInIGFuZCBjID0gJyIuJF9SRVFVRVNUW2NdLiInIGFuZCBkID0gJyIuJF9SRVFVRVNUW2RdLiInIGFuZCBlID0gJyIuJF9SRVFVRVNUW2VdLiInIGFuZCBlMSA9ICciLiRfUkVRVUVTVFtlMV0uIicgIiwnb25jaGFuZ2U9cmthLnJlZnJlc2hMaXN0KHRydWUpOycsJy0tIFRURCAtLScpKTsKICAgICAgICB9CiAgICAgIH1lbHNlewogICAgICAgIGlmKCRlcnI9PScnKXsKICAgICAgICAkYXFyeSA9ICJVUERBVEUgcmVmX3RhbmRhdGFuZ2FuIFNFVCBuYW1hPSckbmFtYXBlZ2F3YWknLCBuaXA9JyRuaXBwZWdhd2FpJywgamFiYXRhbj0nJGphYmF0YW4nICxwYW5na2F0PSckcDEnLCBnb2w9JyRnb2xvbmdhblswXScgLHJ1YW5nPSckZ29sb25nYW5bMV0nLGVzZWxvbj0nJGVzZWxvbicgLGthdGVnb3JpX3RhbmRhdGFuZ2FuPScka2F0ZWdvcmknIFdIRVJFIElkPSciLiRpZHBsaC4iJyI7ICAkY2VrIC49ICRhcXJ5OwogICAgICAgICAgICAkcXJ5ID0gbXlzcWxfcXVlcnkoJGFxcnkpIG9yIGRpZShteXNxbF9lcnJvcigpKTsKICAgICAgICAgIH0KICAgICAgfSAvL2VuZCBlbHNlCgogICAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOwogICAgfQoKICBmdW5jdGlvbiBzZXRUaXRsZSgpewogICAgcmV0dXJuICdDTE9TSU5HJzsKICB9CiAgZnVuY3Rpb24gc2V0TWVudVZpZXcoKXsKICAgIHJldHVybgogICAgICAvLyAiPHRkPiIuZ2VuUGFuZWxJY29uKCJqYXZhc2NyaXB0OiIuJHRoaXMtPlByZWZpeC4iLkxhcG9yYW4oKSIsInByaW50X2YyLnBuZyIsJ0xhcG9yYW4nLCJMYXBvcmFuIikuIjwvdGQ+IjsKICAgICAgIiI7CiAgfQogIGZ1bmN0aW9uIHNldE1lbnVFZGl0KCl7CgogICAgJGxpc3RNZW51ID0KCQkJCQkiPHRkPiIuZ2VuUGFuZWxJY29uKCJqYXZhc2NyaXB0OiIuJHRoaXMtPlByZWZpeC4iLkNsb3NpbmcoKSIsImludmFsaWQucG5nIiwiQ2xvc2luZyAiLCAnQ2xvc2luZyAnKS4iPC90ZD4iLgogICAgICAgICAgIjx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5IYXB1cygpIiwiZGVsZXRlX2YyLnBuZyIsIkJhdGFsIiwgJ0JhdGFsJykuIjwvdGQ+Ii4KICAgICAgICAgICI8dGQ+Ii5nZW5QYW5lbEljb24oImphdmFzY3JpcHQ6Ii4kdGhpcy0+UHJlZml4LiIuVHV0dXBCdWt1KCkiLCIuLi8uLi9wZXJlbmNhbmFhbl9pY28ucG5nIiwiVHV0dXAiLCAnVHV0dXAnKS4iPC90ZD4iCiAgICAgICAgICA7CiAgICByZXR1cm4gJGxpc3RNZW51IDsKICB9CgoKICBmdW5jdGlvbiBzZXRfc2VsZWN0b3Jfb3RoZXIyKCR0aXBlKXsKICAgZ2xvYmFsICRNYWluOwogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOwoKICAgcmV0dXJuIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQsICdqc29uJz0+JGpzb24pOwogIH0KCiAgZnVuY3Rpb24gc2V0X3NlbGVjdG9yX290aGVyKCR0aXBlKXsKICAgZ2xvYmFsICRNYWluOwogICAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOwoKICAgIHN3aXRjaCgkdGlwZSl7CiAgICAgIGNhc2UgJ3Byb3Nlc1JlQ291bnQnOnsKCQkJCWZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkJIAkgJCRrZXkgPSAkdmFsdWU7CgkJCQl9CgkJCQkkZ2V0RGF0YUthcnR1UGVyc2VkaWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGlkID0gJyRpZEthcnR1UGVyc2VkaWFhbiciKSk7CgkJCQkkY2VrID0ic2VsZWN0ICogZnJvbSBkZXRhaWxfcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlIGlkID0gJyIuJGdldERhdGFLYXJ0dVBlcnNlZGlhYW5bJ3JlZmlkJ10uIicgYW5kIGp1bWxhaCAhPScwJyAiOwoJCQkJJGdldERhdGFEZXRhaWxSaW5jaWFuRGlzdHJpYnVzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gZGV0YWlsX3JpbmNpYW5fZGlzdHJpYnVzaSB3aGVyZSBpZCA9ICciLiRnZXREYXRhS2FydHVQZXJzZWRpYWFuWydyZWZpZCddLiInIGFuZCBqdW1sYWggIT0nMCcgIikpOwoJCQkJJGtvZGVTS1BEPSAkZ2V0RGF0YURldGFpbFJpbmNpYW5EaXN0cmlidXNpWydjMSddLiIuIi4kZ2V0RGF0YURldGFpbFJpbmNpYW5EaXN0cmlidXNpWydjJ10uIi4iLiRnZXREYXRhRGV0YWlsUmluY2lhbkRpc3RyaWJ1c2lbJ2QnXS4iLiIuJGdldERhdGFEZXRhaWxSaW5jaWFuRGlzdHJpYnVzaVsnZSddLiIuIi4kZ2V0RGF0YURldGFpbFJpbmNpYW5EaXN0cmlidXNpWydlMSddOwoJCQkJaWYoJHRoaXMtPmdldFN0YXR1c0hpdHVuZygka29kZVNLUEQsJGZpbHRlclBlcmlvZGUpICE9IDApewoJCQkJCSR0aGlzLT50YW1iYWhIYXJnYURpc3RyaWJ1c2koJGtvZGVTS1BELCRmaWx0ZXJQZXJpb2RlKTsKCQkJCQkkY2VrIC49ICJpbiAzIjsKCQkJCX0KCgkJCWJyZWFrOwoJCQl9CiAgICAgIGNhc2UgJ2V4ZWN1dGVDbG9zaW5nJzp7CiAgICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgICAgICAgfQogICAgICAgICRleHBsb2RlS29kZVNLUEQgPSBleHBsb2RlKCIuIiwka29kZVNLUEQpOwogICAgICAgIGlmKHNpemVvZigkZXhwbG9kZUtvZGVTS1BEKSA9PSA1KXsKICAgICAgICAgICRrb2RlU0tQRCA9ICRjMS4iLiIuJGMuIi4iLiRkLiIuIi4kZS4iLiIuJGUxOwogICAgICAgICAgJGtvbmRpc2lTS1BEID0gIiBhbmQgYzEgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzBdLiInIGFuZCBjID0gJyIuJGV4cGxvZGVLb2RlU0tQRFsxXS4iJyBhbmQgZCA9ICciLiRleHBsb2RlS29kZVNLUERbMl0uIicgYW5kIGUgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzNdLiInIGFuZCBlMSA9ICciLiRleHBsb2RlS29kZVNLUERbNF0uIicgICI7CiAgICAgICAgfWVsc2VpZihzaXplb2YoJGV4cGxvZGVLb2RlU0tQRCkgPT0gNCl7CiAgICAgICAgICAka29kZVNLUEQgPSAkYzEuIi4iLiRjLiIuIi4kZC4iLiIuJGU7CiAgICAgICAgICAka29uZGlzaVNLUEQgPSAiIGFuZCBjMSA9ICciLiRleHBsb2RlS29kZVNLUERbMF0uIicgYW5kIGMgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzFdLiInIGFuZCBkID0gJyIuJGV4cGxvZGVLb2RlU0tQRFsyXS4iJyBhbmQgZSA9ICciLiRleHBsb2RlS29kZVNLUERbM10uIicgICI7CiAgICAgICAgfWVsc2VpZihzaXplb2YoJGV4cGxvZGVLb2RlU0tQRCkgPT0gMyl7CiAgICAgICAgICAka29kZVNLUEQgPSAkYzEuIi4iLiRjLiIuIi4kZDsKICAgICAgICAgICRrb25kaXNpU0tQRCA9ICIgYW5kIGMxID0gJyIuJGV4cGxvZGVLb2RlU0tQRFswXS4iJyBhbmQgYyA9ICciLiRleHBsb2RlS29kZVNLUERbMV0uIicgYW5kIGQgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzJdLiInICAiOwogICAgICAgIH1lbHNlaWYoc2l6ZW9mKCRleHBsb2RlS29kZVNLUEQpID09IDIpewogICAgICAgICAgJGtvZGVTS1BEID0gJGMxLiIuIi4kYzsKICAgICAgICAgICRrb25kaXNpU0tQRCA9ICIgYW5kIGMxID0gJyIuJGV4cGxvZGVLb2RlU0tQRFswXS4iJyBhbmQgYyA9ICciLiRleHBsb2RlS29kZVNLUERbMV0uIicgICI7CiAgICAgICAgfWVsc2VpZihzaXplb2YoJGV4cGxvZGVLb2RlU0tQRCkgPT0gMSl7CiAgICAgICAgICAka29kZVNLUEQgPSAkYzE7CiAgICAgICAgICAka29uZGlzaVNLUEQgPSAiIGFuZCBjMSA9ICciLiRleHBsb2RlS29kZVNLUERbMF0uIicgIjsKICAgICAgICB9CiAgICAgICAgaWYoZW1wdHkoJGZpbHRlclBlcmlvZGUpKSRlcnIgPSAiUGlsaWggc2VtZXN0ZXIiOwogICAgICAgIGlmKGVtcHR5KCRlcnIpKXsKICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdGVtcF9jaGVja19iYXJhbmdfa3VyYW5nIHdoZXJlIHVzZXJuYW1lPSckdGhpcy0+dXNlcm5hbWUnIik7CiAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRlbXBfY2hlY2tfYmFyYW5nX3RhbWJhaCB3aGVyZSB1c2VybmFtZT0nJHRoaXMtPnVzZXJuYW1lJyIpOwogICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBjaGVja19iYXJhbmdfcGVyc2VkaWFhbiB3aGVyZSB1c2VybmFtZT0nJHRoaXMtPnVzZXJuYW1lJyIpOwogICAgICAgICAgLy8gJGVyciA9ICR0aGlzLT5jaGVja0ZpZm8oJGtvbmRpc2lTS1BELCAkZmlsdGVyUGVyaW9kZSk7CiAgICAgICAgICBpZihlbXB0eSgkZXJyKSl7CiAgICAgICAgICAgIGlmKCRmaWx0ZXJQZXJpb2RlID09ICIxIil7CiAgICAgICAgICAgICAgaWYoJHRoaXMtPnNxbE51bVJvdygkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gY2xvc2luZ19wZXJzZWRpYWFuIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgYW5kIHRhaHVuX2FuZ2dhcmFuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPScxJyIpKSA9PSAwKXsKICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY2xvc2luZ19wZXJzZWRpYWFuIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgYW5kIHRhaHVuX2FuZ2dhcmFuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPScxJyAiKTsKICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY2xvc2luZ19wZXJzZWRpYWFuIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgYW5kIHRhaHVuX2FuZ2dhcmFuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPScyJyIpOwogICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBjbG9zaW5nX3BlcnNlZGlhYW4gd2hlcmUgMT0xICRrb25kaXNpU0tQRCBhbmQgdGFodW5fYW5nZ2FyYW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9JzMnIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09ICIyIil7CiAgICAgICAgICAgICAgaWYoJHRoaXMtPnNxbE51bVJvdygkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gY2xvc2luZ19wZXJzZWRpYWFuIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgYW5kIHRhaHVuX2FuZ2dhcmFuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPScyJyIpKSA9PSAwKXsKICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY2xvc2luZ19wZXJzZWRpYWFuIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgYW5kIHRhaHVuX2FuZ2dhcmFuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPScyJyIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAiMyIpewogICAgICAgICAgICAgIGlmKCR0aGlzLT5zcWxOdW1Sb3coJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEIGFuZCB0YWh1bl9hbmdnYXJhbiA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0nMyciKSkgPT0gMCl7CiAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEIGFuZCB0YWh1bl9hbmdnYXJhbiA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0nMyciKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICRjb250ZW50ID0gYXJyYXkoJ2p1bWxhaERhdGEnID0+ICRqdW1sYWhEYXRhLCAnZGF0YUhpdHVuZycgPT4ganNvbl9lbmNvZGUoJGFycmF5SURIaXR1bmcpICk7CgogICAgICBicmVhazsKICAgICAgfQogICAgICBjYXNlICdleGVjdXRlVHV0dXBCdWt1Jzp7CiAgICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgICAgICAgfQogICAgICAgICRleHBsb2RlS29kZVNLUEQgPSBleHBsb2RlKCIuIiwka29kZVNLUEQpOwogICAgICAgIGlmKHNpemVvZigkZXhwbG9kZUtvZGVTS1BEKSA9PSA1KXsKICAgICAgICAgICRrb2RlU0tQRCA9ICRjMS4iLiIuJGMuIi4iLiRkLiIuIi4kZS4iLiIuJGUxOwogICAgICAgICAgJGtvbmRpc2lTS1BEID0gIiBhbmQgYzEgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzBdLiInIGFuZCBjID0gJyIuJGV4cGxvZGVLb2RlU0tQRFsxXS4iJyBhbmQgZCA9ICciLiRleHBsb2RlS29kZVNLUERbMl0uIicgYW5kIGUgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzNdLiInIGFuZCBlMSA9ICciLiRleHBsb2RlS29kZVNLUERbNF0uIicgICI7CiAgICAgICAgfWVsc2VpZihzaXplb2YoJGV4cGxvZGVLb2RlU0tQRCkgPT0gNCl7CiAgICAgICAgICAka29kZVNLUEQgPSAkYzEuIi4iLiRjLiIuIi4kZC4iLiIuJGU7CiAgICAgICAgICAka29uZGlzaVNLUEQgPSAiIGFuZCBjMSA9ICciLiRleHBsb2RlS29kZVNLUERbMF0uIicgYW5kIGMgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzFdLiInIGFuZCBkID0gJyIuJGV4cGxvZGVLb2RlU0tQRFsyXS4iJyBhbmQgZSA9ICciLiRleHBsb2RlS29kZVNLUERbM10uIicgICI7CiAgICAgICAgfWVsc2VpZihzaXplb2YoJGV4cGxvZGVLb2RlU0tQRCkgPT0gMyl7CiAgICAgICAgICAka29kZVNLUEQgPSAkYzEuIi4iLiRjLiIuIi4kZDsKICAgICAgICAgICRrb25kaXNpU0tQRCA9ICIgYW5kIGMxID0gJyIuJGV4cGxvZGVLb2RlU0tQRFswXS4iJyBhbmQgYyA9ICciLiRleHBsb2RlS29kZVNLUERbMV0uIicgYW5kIGQgPSAnIi4kZXhwbG9kZUtvZGVTS1BEWzJdLiInICAiOwogICAgICAgIH1lbHNlaWYoc2l6ZW9mKCRleHBsb2RlS29kZVNLUEQpID09IDIpewogICAgICAgICAgJGtvZGVTS1BEID0gJGMxLiIuIi4kYzsKICAgICAgICAgICRrb25kaXNpU0tQRCA9ICIgYW5kIGMxID0gJyIuJGV4cGxvZGVLb2RlU0tQRFswXS4iJyBhbmQgYyA9ICciLiRleHBsb2RlS29kZVNLUERbMV0uIicgICI7CiAgICAgICAgfWVsc2VpZihzaXplb2YoJGV4cGxvZGVLb2RlU0tQRCkgPT0gMSl7CiAgICAgICAgICAka29kZVNLUEQgPSAkYzE7CiAgICAgICAgICAka29uZGlzaVNLUEQgPSAiIGFuZCBjMSA9ICciLiRleHBsb2RlS29kZVNLUERbMF0uIicgIjsKICAgICAgICB9CiAgICAgICAgaWYoZW1wdHkoJGVycikpewogICAgICAgICAgJGdldEtvbmRpc2lFeGNlcHQgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdHV0dXBfYnVrdV9wZXJzZWRpYWFuIHdoZXJlIHRhaHVuX2FuZ2dhcmFuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyAka29uZGlzaVNLUEQgIik7CiAgICAgICAgICB3aGlsZSAoJGRhdGFFeGNlcHQgPSAkdGhpcy0+c3FsQXJyYXkoJGdldEtvbmRpc2lFeGNlcHQpKSB7CiAgICAgICAgICAgICRhcnJheURhdGFFeGNlcHRbXT0gIiciLiRkYXRhRXhjZXB0WydjMSddLiIuIi4kZGF0YUV4Y2VwdFsnYyddLiIuIi4kZGF0YUV4Y2VwdFsnZCddLiIuIi4kZGF0YUV4Y2VwdFsnZSddLiIuIi4kZGF0YUV4Y2VwdFsnZTEnXS4iJyI7CiAgICAgICAgICB9CiAgICAgICAgICBpZihzaXplb2YoJGFycmF5RGF0YUV4Y2VwdCkgIT0gMCl7CiAgICAgICAgICAgICRrb25kaXNpRXhjZXB0VHV0dXBCdWt1ID0gIiBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgbm90IGluICgiLmltcGxvZGUoIiwiLCRhcnJheURhdGFFeGNlcHQpLiIpICI7CiAgICAgICAgICB9CiAgICAgICAgICBpZihlbXB0eSgkZXJyKSl7CiAgICAgICAgICAgICAgJGdldERhdGFTS1BEID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgYW5kIGUxICE9JzAwMCcgJGtvbmRpc2lFeGNlcHRUdXR1cEJ1a3UgIik7CiAgICAgICAgICAgICAgd2hpbGUgKCRkYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVNLUEQpKSB7CiAgICAgICAgICAgICAgICAgICRjb25jYXRTS1BEID0gJGRhdGFTS1BEWydjMSddLiIuIi4kZGF0YVNLUERbJ2MnXS4iLiIuJGRhdGFTS1BEWydkJ10uIi4iLiRkYXRhU0tQRFsnZSddLiIuIi4kZGF0YVNLUERbJ2UxJ107CiAgICAgICAgICAgICAgICAgIGlmKCR0aGlzLT5zcWxOdW1Sb3coJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICckY29uY2F0U0tQRCcgYW5kIHRhaHVuX2FuZ2dhcmFuID0nJHRoaXMtPnRhaHVuQW5nZ2FyYW4nICIpKSAhPSAyKXsKICAgICAgICAgICAgICAgICAgICAkYXJyYXlTS1BETm90Q2xvc2luZ1tdID0gIlNLUEQgIi4kY29uY2F0U0tQRCA7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYoc2l6ZW9mKCRhcnJheVNLUEROb3RDbG9zaW5nKSAhPSAwKXsKICAgICAgICAgICAgICAgIGZvciAoJGk9MDsgJGkgPCBzaXplb2YoJGFycmF5U0tQRE5vdENsb3NpbmcpIDsgJGkrKykgewogICAgICAgICAgICAgICAgICAkbG9nQ2xvc2luZyAuPSAkYXJyYXlTS1BETm90Q2xvc2luZ1skaV0uIiBCZWx1bSBkaSBjbG9zaW5nICEhISAgIFxuIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRlcnIgPSAiQWRhIGRhdGEgeWFuZyBiZWx1bSBkaSBjbG9zaW5nICEiOwogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgLy8gJGVyciA9ICJEYXRhIHN1ZGFoIGRpIHR1dHVwIGJ1a3UgISIuInNlbGVjdCAqIGZyb20gY2xvc2luZ19wZXJzZWRpYWFuIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRjb25jYXRTS1BEJyBhbmQgdGFodW5fYW5nZ2FyYW4gPSckdGhpcy0+dGFodW5BbmdnYXJhbicgIjsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAkY29udGVudCA9IGFycmF5KAogICAgICAgICAgJ2p1bWxhaERhdGEnID0+ICRqdW1sYWhEYXRhLAogICAgICAgICAgJ2RhdGFIaXR1bmcnID0+IGpzb25fZW5jb2RlKCRhcnJheUlESGl0dW5nKSAsCiAgICAgICAgICAnbG9nQ2xvc2luZycgPT4kbG9nQ2xvc2luZyAsCiAgICAgICAgKTsKCiAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGNhc2UgJ2V4ZWN1dGVDb3VudEFuZENsb3NlJzp7CiAgICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgICAgICAgfQogICAgICAgIGlmKGVtcHR5KCRmaWx0ZXJQZXJpb2RlKSkkZXJyID0gIlBpbGloIHNlbWVzdGVyIjsKICAgICAgICBpZihlbXB0eSgkZXJyKSl7CiAgICAgICAgICAkYXJyYXlEYXRhUG9zdCA9IGpzb25fZGVjb2RlKCRhcnJheUtvZGVTS1BEKTsKICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdGVtcF9jaGVja19iYXJhbmdfa3VyYW5nIHdoZXJlIHVzZXJuYW1lPSckdGhpcy0+dXNlcm5hbWUnIik7CiAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRlbXBfY2hlY2tfYmFyYW5nX3RhbWJhaCB3aGVyZSB1c2VybmFtZT0nJHRoaXMtPnVzZXJuYW1lJyIpOwogICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBjaGVja19iYXJhbmdfcGVyc2VkaWFhbiB3aGVyZSB1c2VybmFtZT0nJHRoaXMtPnVzZXJuYW1lJyIpOwogICAgICAgICAgJGVyciA9ICR0aGlzLT5jaGVja0ZpZm8oJGFycmF5RGF0YVBvc3RbJG5vbW9ySW5kZXggLSAxIF0sICRmaWx0ZXJQZXJpb2RlKTsKICAgICAgICB9CgogICAgICAgICRjb250ZW50ID0gYXJyYXkoCiAgICAgICAgICAnanVtbGFoRGF0YScgPT4gJGp1bWxhaERhdGEsCiAgICAgICAgICAnZGF0YUhpdHVuZycgPT4ganNvbl9lbmNvZGUoJGFycmF5SURIaXR1bmcpLAogICAgICAgICAgJ2xvZ0NoZWNrJyA9PiAgIkNoZWNrIGJhcmFuZyBkaSBza3BkICIuICRhcnJheURhdGFQb3N0WyRub21vckluZGV4IC0gMSBdLAogICAgICAgICApOwoKICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgY2FzZSAncHJvc2VzU2V0U2FsZG9Bd2FsJzp7CiAgICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgICAgICAgfQogICAgICAgICRsb2dDbG9zaW5nID0gICR0aGlzLT5jbG9zaW5nU2VtZXN0ZXIxKCRrb2RlU0tQRCwka29kZUJhcmFuZyk7CiAgICAgICAgJHN0YXR1c1NlbGVzYWkgPSAiQmVsb20iOwogICAgICAgIGlmKCRub21vckJhcmFuZyA9PSAkdG90YWxCYXJhbmcpewogICAgICAgICAgJHN0YXR1c1NlbGVzYWkgPSAic2VsZXNhaSI7CiAgICAgICAgfQogICAgICAgICRjb250ZW50ID0gYXJyYXkoCiAgICAgICAgICAibG9nQ2xvc2luZyIgPT4gJGxvZ0Nsb3NpbmcsCiAgICAgICAgICAic3RhdHVzU2VsZXNhaSIgPT4gJHN0YXR1c1NlbGVzYWksCiAgICAgICAgKTsKICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgY2FzZSAncHJvc2VzU2V0U2FsZG9Bd2FsVGFodW5EZXBhbic6ewogICAgICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewogICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgICAgIH0KICAgICAgICAkbG9nQ2xvc2luZyA9ICAkdGhpcy0+c2V0U2FsZG9Bd2FsVGFodW5hbigka29kZVNLUEQsJGtvZGVCYXJhbmcpOwogICAgICAgICRzdGF0dXNTZWxlc2FpID0gIkJlbG9tIjsKICAgICAgICBpZigkbm9tb3JCYXJhbmcgPT0gJHRvdGFsQmFyYW5nKXsKICAgICAgICAgICRzdGF0dXNTZWxlc2FpID0gInNlbGVzYWkiOwogICAgICAgIH0KICAgICAgICAkY29udGVudCA9IGFycmF5KAogICAgICAgICAgImxvZ0Nsb3NpbmciID0+ICRsb2dDbG9zaW5nLAogICAgICAgICAgInN0YXR1c1NlbGVzYWkiID0+ICRzdGF0dXNTZWxlc2FpLAogICAgICAgICk7CiAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGNhc2UgJ3Byb3Nlc1NldFNhbGRvQXdhbENvdW50Jzp7CiAgICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgICAgICAgfQogICAgICAgICRsb2dDbG9zaW5nID0gICR0aGlzLT5jbG9zaW5nU2VtZXN0ZXIxKCRrb2RlU0tQRCwka29kZUJhcmFuZyk7CiAgICAgICAgJHN0YXR1c1NlbGVzYWkgPSAiQmVsb20iOwogICAgICAgIGlmKCRub21vckJhcmFuZyA9PSAkdG90YWxCYXJhbmcpewogICAgICAgICAgJHN0YXR1c1NlbGVzYWkgPSAic2VsZXNhaSI7CiAgICAgICAgfQogICAgICAgICRjb250ZW50ID0gYXJyYXkoCiAgICAgICAgICAibG9nQ2xvc2luZyIgPT4gJGxvZ0Nsb3NpbmcsCiAgICAgICAgICAic3RhdHVzU2VsZXNhaSIgPT4gJHN0YXR1c1NlbGVzYWksCiAgICAgICAgKTsKICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgY2FzZSAncHJvc2VzQ2xvc2luZyc6ewoJCQkgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkgICAgICQka2V5ID0gJHZhbHVlOwoJCQkgIH0KCQkJCSRrb2RlU0tQRCA9ICRrb2RlQ2xvc2luZzsKICAgICAgICAkZXhwbG9kZUtvZGVTS1BEID0gZXhwbG9kZSgiLiIsJGtvZGVTS1BEKTsKCQkJICAkc3RhdHVzU2VsZXNhaSA9ICJiZWxvbSI7CiAgICAgICAgJHN0YXR1c0hpdHVuZyA9ICJTVURBSCI7CiAgICAgICAgJHN0YXR1c05leHQgPSAidHJ1ZSI7CiAgICAgICAgaWYoJHRoaXMtPmdldFN0YXR1c0hpdHVuZygka29kZVNLUEQsJGZpbHRlclBlcmlvZGUpICE9IDApewogICAgICAgICAgJHN0YXR1c0hpdHVuZyA9ICJTVURBSCI7CiAgICAgICAgICAka29kZVNLUERCZWx1bUNsb3NpbmcgPSAiIjsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICRzdGF0dXNIaXR1bmcgPSAiQkVMVU0iOwogICAgICAgICAgJGtvZGVTS1BEQmVsdW1DbG9zaW5nID0gJGtvZGVTS1BEOwogICAgICAgIH0KICAgICAgICAkbG9nQ2xvc2luZyA9ICIiLiR0aGlzLT5udW1iZXJGb3JtYXQoJG5vbW9yUG9zdCkuIiAvICIuJHRoaXMtPm51bWJlckZvcm1hdCgkanVtbGFoRGF0YSkuIiBDbG9zaW5nIEtPREUgU0tQRCA9ICRrb2RlU0tQRCAgU1RBVFVTIEhJVFVORyA9ICRzdGF0dXNIaXR1bmcgLi4uLi4uLi4gIjsKCQkJICBpZigkbm9tb3JQb3N0ID09ICRqdW1sYWhEYXRhKXsKCQkJICAgICAgJHN0YXR1c1NlbGVzYWkgPSAiT0siOwoJCQkgICAgICAkbG9nQ2xvc2luZyA9ICJDbG9zaW5nIGZpbmlzaGVkLiI7CgkJCQkJCWlmKCRzdGF0dXNIaXR1bmcgPT0gIlNVREFIIil7CiAgICAgICAgICAgICAgaWYoJGZpbHRlclBlcmlvZGUgPT0gMSl7CiAgCQkJCQkJCSRkYXRhU2VtZXN0ZXIxID0gYXJyYXkoCiAgCQkJCQkJCQknYzEnID0+ICRleHBsb2RlS29kZVNLUERbMF0sCiAgCQkJCQkJCQknYycgPT4gJGV4cGxvZGVLb2RlU0tQRFsxXSwKICAJCQkJCQkJCSdkJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzJdLAogIAkJCQkJCQkJJ2UnID0+ICRleHBsb2RlS29kZVNLUERbM10sCiAgCQkJCQkJCQknZTEnID0+ICRleHBsb2RlS29kZVNLUERbNF0sCiAgCQkJCQkJCQkndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogIAkJCQkJCQkJJ3NlbWVzdGVyJyA9PiAnMScsCiAgCQkJCQkJCQkna2V0ZXJhbmdhbicgPT4gJGtldGVyYW5nYW4sCiAgCQkJCQkJCQkndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCiAgCQkJCQkJCQkndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZQogIAkJCQkJCQkpOwogICAgICAgICAgICAgICAgaWYoJGV4cGxvZGVLb2RlU0tQRFswXSAhPSAnJyl7CiAgICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCJjbG9zaW5nX3BlcnNlZGlhYW4iLCRkYXRhU2VtZXN0ZXIxKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZigkc3RhdHVzSGl0dW5nID09ICJCRUxVTSIpewogICAgICAgICAgICAgICAgICAkc3RhdHVzTmV4dCA9ICJ0cnVlIjsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAkc3RhdHVzTmV4dCA9ICJmYWxzZSI7CiAgICAgICAgICAgICAgICB9CiAgICAJCQkJICAgIC8vICRsb2dDbG9zaW5nIC49ICR0aGlzLT5jbG9zaW5nU2VtZXN0ZXIxKCRrb2RlU0tQRCk7CgogIAkJCQkJCX1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gMil7CiAgCQkJCQkJCSR0YWh1bkRlcGFuID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4gKyAxOwogIAkgICAgICAgICAgICAvLyAkZGF0YVNlbWVzdGVyMSA9IGFycmF5KAogIAkJCQkJCQkvLyAJJ2MxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzBdLAogIAkJCQkJCQkvLyAJJ2MnID0+ICRleHBsb2RlS29kZVNLUERbMV0sCiAgCQkJCQkJCS8vIAknZCcgPT4gJGV4cGxvZGVLb2RlU0tQRFsyXSwKICAJCQkJCQkJLy8gCSdlJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzNdLAogIAkJCQkJCQkvLyAJJ2UxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzRdLAogIAkgICAgICAgICAgICAvLyAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgCSAgICAgICAgICAgIC8vICAgJ3NlbWVzdGVyJyA9PiAnMScsCiAgCSAgICAgICAgICAgIC8vICAgJ2tldGVyYW5nYW4nID0+ICRrZXRlcmFuZ2FuLAogIAkgICAgICAgICAgICAvLyAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lLAogIAkgICAgICAgICAgICAvLyAgICd0YW5nZ2FsX3VwZGF0ZScgPT4gZGF0ZSgiWS1tLWQiKSwKICAJICAgICAgICAgICAgLy8gKTsKICAgICAgICAgICAgICAgIC8vIGlmKCRleHBsb2RlS29kZVNLUERbMF0gIT0gJycpewogICAgICAgICAgICAgICAgLy8gICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgiY2xvc2luZ19wZXJzZWRpYWFuIiwkZGF0YVNlbWVzdGVyMSkpOwogICAgICAgICAgICAgICAgLy8gfQogIAkgICAgICAgICAgICAkZGF0YVNlbWVzdGVyMiA9IGFycmF5KAogIAkJCQkJCQkJJ2MxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzBdLAogIAkJCQkJCQkJJ2MnID0+ICRleHBsb2RlS29kZVNLUERbMV0sCiAgCQkJCQkJCQknZCcgPT4gJGV4cGxvZGVLb2RlU0tQRFsyXSwKICAJCQkJCQkJCSdlJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzNdLAogIAkJCQkJCQkJJ2UxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzRdLAogIAkgICAgICAgICAgICAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgCSAgICAgICAgICAgICAgJ3NlbWVzdGVyJyA9PiAnMicsCiAgCSAgICAgICAgICAgICAgJ2tldGVyYW5nYW4nID0+ICRrZXRlcmFuZ2FuLAogIAkgICAgICAgICAgICAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lLAogIAkgICAgICAgICAgICAgICd0YW5nZ2FsX3VwZGF0ZScgPT4gZGF0ZSgiWS1tLWQiKSwKICAJICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIGlmKCRleHBsb2RlS29kZVNLUERbMF0gIT0gJycpewogICAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgiY2xvc2luZ19wZXJzZWRpYWFuIiwkZGF0YVNlbWVzdGVyMikpOwogICAgICAgICAgICAgICAgfQogIAkJCQkJCX0KICAgICAgICAgICAgfQoJCQkgIH1lbHNlewogICAgICAgICAgICBpZigkc3RhdHVzSGl0dW5nID09ICJTVURBSCIpewogICAgICAgICAgICAgIGlmKCRmaWx0ZXJQZXJpb2RlID09IDEpewogICAgICAgICAgICAgICAgJGRhdGFTZW1lc3RlcjEgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgJ2MxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzBdLAogICAgICAgICAgICAgICAgICAnYycgPT4gJGV4cGxvZGVLb2RlU0tQRFsxXSwKICAgICAgICAgICAgICAgICAgJ2QnID0+ICRleHBsb2RlS29kZVNLUERbMl0sCiAgICAgICAgICAgICAgICAgICdlJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzNdLAogICAgICAgICAgICAgICAgICAnZTEnID0+ICRleHBsb2RlS29kZVNLUERbNF0sCiAgICAgICAgICAgICAgICAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgICAgICAgICAgICAgICAgICdzZW1lc3RlcicgPT4gJzEnLAogICAgICAgICAgICAgICAgICAna2V0ZXJhbmdhbicgPT4gJGtldGVyYW5nYW4sCiAgICAgICAgICAgICAgICAgICd0YW5nZ2FsX3VwZGF0ZScgPT4gZGF0ZSgiWS1tLWQiKSwKICAgICAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgiY2xvc2luZ19wZXJzZWRpYWFuIiwkZGF0YVNlbWVzdGVyMSkpOwogICAgICAgICAgICAgICAgLy8gJGxvZ0Nsb3NpbmcgLj0gJHRoaXMtPmNsb3NpbmdTZW1lc3RlcjEoJGtvZGVTS1BEKTsKICAgICAgICAgICAgICAgIGlmKCRzdGF0dXNIaXR1bmcgPT0gIkJFTFVNIil7CiAgICAgICAgICAgICAgICAgICRzdGF0dXNOZXh0ID0gInRydWUiOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICRzdGF0dXNOZXh0ID0gImZhbHNlIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09IDIpewogICAgICAgICAgICAgICAgJHRhaHVuRGVwYW4gPSAkdGhpcy0+dGFodW5BbmdnYXJhbiArIDE7CiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgLy8gJGRhdGFTZW1lc3RlcjEgPSBhcnJheSgKICAgICAgICAgICAgICAgIC8vICAgJ2MxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzBdLAogICAgICAgICAgICAgICAgLy8gICAnYycgPT4gJGV4cGxvZGVLb2RlU0tQRFsxXSwKICAgICAgICAgICAgICAgIC8vICAgJ2QnID0+ICRleHBsb2RlS29kZVNLUERbMl0sCiAgICAgICAgICAgICAgICAvLyAgICdlJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzNdLAogICAgICAgICAgICAgICAgLy8gICAnZTEnID0+ICRleHBsb2RlS29kZVNLUERbNF0sCiAgICAgICAgICAgICAgICAvLyAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgICAgICAgICAgICAgICAvLyAgICdzZW1lc3RlcicgPT4gJzEnLAogICAgICAgICAgICAgICAgLy8gICAna2V0ZXJhbmdhbicgPT4gJGtldGVyYW5nYW4sCiAgICAgICAgICAgICAgICAvLyAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lLAogICAgICAgICAgICAgICAgLy8gICAndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCiAgICAgICAgICAgICAgICAvLyApOwogICAgICAgICAgICAgICAgLy8gJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoImNsb3NpbmdfcGVyc2VkaWFhbiIsJGRhdGFTZW1lc3RlcjEpKTsKICAgICAgICAgICAgICAgICRkYXRhU2VtZXN0ZXIyID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICdjMScgPT4gJGV4cGxvZGVLb2RlU0tQRFswXSwKICAgICAgICAgICAgICAgICAgJ2MnID0+ICRleHBsb2RlS29kZVNLUERbMV0sCiAgICAgICAgICAgICAgICAgICdkJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzJdLAogICAgICAgICAgICAgICAgICAnZScgPT4gJGV4cGxvZGVLb2RlU0tQRFszXSwKICAgICAgICAgICAgICAgICAgJ2UxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzRdLAogICAgICAgICAgICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICAgICAnc2VtZXN0ZXInID0+ICcyJywKICAgICAgICAgICAgICAgICAgJ2tldGVyYW5nYW4nID0+ICRrZXRlcmFuZ2FuLAogICAgICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgJ3RhbmdnYWxfdXBkYXRlJyA9PiBkYXRlKCJZLW0tZCIpLAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCJjbG9zaW5nX3BlcnNlZGlhYW4iLCRkYXRhU2VtZXN0ZXIyKSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAvLyBpZigkZmlsdGVyUGVyaW9kZSA9PSAxKXsKICAgICAgICAgIC8vICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBzYWxkb19hd2FsIHdoZXJlIHRhbmdnYWwgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxJyBhbmQgam5zPScxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIik7CiAgICAgICAgICAvLyAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIHRhbmdnYWxfYnVrdSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZyciKTsKICAgICAgICAgIC8vICAgJHRoaXMtPmNsb3NpbmdTZW1lc3RlcjEoJGtvZGVTS1BELCRrb2RlQmFyYW5nKTsKICAgICAgICAgIC8vIH1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gMil7CiAgICAgICAgICAvLyAgIGlmKGVtcHR5KCRlcnIpKXsKICAgICAgICAgIC8vICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSB5ZWFyKHRhbmdnYWxfYnVrdSkgPSAnJHRhaHVuRGVwYW4nIGFuZCBqbnM9JzEnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZyciKTsKICAgICAgICAgIC8vICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHNhbGRvX2F3YWwgd2hlcmUgeWVhcih0YW5nZ2FsKSA9ICckdGFodW5EZXBhbicgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyIpOwogICAgICAgICAgLy8gICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gc2FsZG9fYXdhbCB3aGVyZSB0YW5nZ2FsID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMScgYW5kIGpucz0nMScgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyIpOwogICAgICAgICAgLy8gICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIHRhbmdnYWxfYnVrdSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZyciKTsKICAgICAgICAgIC8vICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZycgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnMSciKTsKICAgICAgICAgIC8vICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZycgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnMiciKTsKICAgICAgICAgIC8vICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZycgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnMyciKTsKICAgICAgICAgIC8vICAgICAkdGhpcy0+Y2xvc2luZ1NlbWVzdGVyMigka29kZVNLUEQsJGtvZGVCYXJhbmcpOwogICAgICAgICAgLy8gICB9CiAgICAgICAgICAvLyB9CiAgICAgICAgfQoKCgoJCQkgICRjb250ZW50ID0gYXJyYXkoCgkJCSAgICAnc3RhdHVzU2VsZXNhaScgPT4gJHN0YXR1c1NlbGVzYWksCgkJCSAgICAnbW9kdWx1cycgPT4gJG5vbW9yUG9zdCAlICR0b3RhbEJhcmFuZywKCQkJICAgICdwZXJzZW4nID0+ICgkbm9tb3JQb3N0IC8gJGp1bWxhaERhdGEgKSAqIDEwMCwKCQkJICAgICJsb2dDbG9zaW5nIiA9PiAkbG9nQ2xvc2luZywKICAgICAgICAgICJza3BkQmVsdW1DbG9zaW5nIiA9PiAka29kZVNLUERCZWx1bUNsb3NpbmcsCiAgICAgICAgICAic3RhdHVzTmV4dCIgPT4gJHN0YXR1c05leHQsCgkJCSAgICk7CgkJCWJyZWFrOwoJCQl9CiAgICAgIGNhc2UgJ3Byb3Nlc1R1dHVwQnVrdSc6ewogICAgICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewogICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgICAgIH0KICAgICAgICAka29kZVNLUEQgPSAka29kZUNsb3Npbmc7CiAgICAgICAgJGV4cGxvZGVLb2RlU0tQRCA9IGV4cGxvZGUoIi4iLCRrb2RlU0tQRCk7CiAgICAgICAgJHN0YXR1c1NlbGVzYWkgPSAiYmVsb20iOwogICAgICAgICRzdGF0dXNUdXR1cEJ1a3UgPSAiU1VEQUgiOwogICAgICAgICRzdGF0dXNOZXh0ID0gInRydWUiOwogICAgICAgICR0YWh1bkRlcGFuID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4gKyAxOwogICAgICAgIGlmKCR0aGlzLT5zcWxOdW1Sb3coJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHNhbGRvX2F3YWwgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgdGFodW5fYW5nZ2FyYW4gPSAnJHRhaHVuRGVwYW4nIGFuZCB0YW5nZ2FsID0gJyIuJHRhaHVuRGVwYW4uIi0kdGhpcy0+YnVsYW5UYW5nZ2FsU2FsZG9Bd2FsIi4iJyAiKSkhPSAwKXsKICAgICAgICAgICRzdGF0dXNUdXR1cEJ1a3UgPSAiU1VEQUgiOwogICAgICAgIH1lbHNlewogICAgICAgICAgJHN0YXR1c1R1dHVwQnVrdSA9ICJCRUxVTSI7CiAgICAgICAgfQogICAgICAgICRsb2dDbG9zaW5nID0gIiIuJHRoaXMtPm51bWJlckZvcm1hdCgkbm9tb3JQb3N0KS4iIC8gIi4kdGhpcy0+bnVtYmVyRm9ybWF0KCRqdW1sYWhEYXRhKS4iIENsb3NpbmcgS09ERSBTS1BEID0gJGtvZGVTS1BEICBTVEFUVVMgVFVUVVAgQlVLVSA9ICRzdGF0dXNUdXR1cEJ1a3UgLi4uLi4uLi4gIjsKICAgICAgICBpZigkbm9tb3JQb3N0ID09ICRqdW1sYWhEYXRhKXsKICAgICAgICAgICAgJHN0YXR1c1NlbGVzYWkgPSAiT0siOwogICAgICAgICAgICAkbG9nQ2xvc2luZyA9ICJUdXR1cCBidWt1IGZpbmlzaGVkLiI7CiAgICAgICAgICAgIC8vIGlmKCRzdGF0dXNUdXR1cEJ1a3UgPT0gIlNVREFIIil7CiAgICAgICAgICAgICAgICAkZGF0YVR1dHVwQnVrdSA9IGFycmF5KAogICAgICAgICAgICAgICAgICAnYzEnID0+ICRleHBsb2RlS29kZVNLUERbMF0sCiAgICAgICAgICAgICAgICAgICdjJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzFdLAogICAgICAgICAgICAgICAgICAnZCcgPT4gJGV4cGxvZGVLb2RlU0tQRFsyXSwKICAgICAgICAgICAgICAgICAgJ2UnID0+ICRleHBsb2RlS29kZVNLUERbM10sCiAgICAgICAgICAgICAgICAgICdlMScgPT4gJGV4cGxvZGVLb2RlU0tQRFs0XSwKICAgICAgICAgICAgICAgICAgJ3RhaHVuX2FuZ2dhcmFuJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbiwKICAgICAgICAgICAgICAgICAgJ2tldGVyYW5nYW4nID0+ICRrZXRlcmFuZ2FuLAogICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gZGF0ZSgiWS1tLWQiKSwKICAgICAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICBpZigkZXhwbG9kZUtvZGVTS1BEWzBdICE9ICcnKXsKICAgICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoInR1dHVwX2J1a3VfcGVyc2VkaWFhbiIsJGRhdGFUdXR1cEJ1a3UpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gfQogICAgICAgIH1lbHNlewogICAgICAgICAgICAvLyBpZigkc3RhdHVzVHV0dXBCdWt1ID09ICJTVURBSCIpewogICAgICAgICAgICAgICRkYXRhVHV0dXBCdWt1ID0gYXJyYXkoCiAgICAgICAgICAgICAgICAnYzEnID0+ICRleHBsb2RlS29kZVNLUERbMF0sCiAgICAgICAgICAgICAgICAnYycgPT4gJGV4cGxvZGVLb2RlU0tQRFsxXSwKICAgICAgICAgICAgICAgICdkJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzJdLAogICAgICAgICAgICAgICAgJ2UnID0+ICRleHBsb2RlS29kZVNLUERbM10sCiAgICAgICAgICAgICAgICAnZTEnID0+ICRleHBsb2RlS29kZVNLUERbNF0sCiAgICAgICAgICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICAgJ2tldGVyYW5nYW4nID0+ICRrZXRlcmFuZ2FuLAogICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+IGRhdGUoIlktbS1kIiksCiAgICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgaWYoJGV4cGxvZGVLb2RlU0tQRFswXSAhPSAnJyl7CiAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgidHV0dXBfYnVrdV9wZXJzZWRpYWFuIiwkZGF0YVR1dHVwQnVrdSkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gfQoKICAgICAgICB9CiAgICAgICAgaWYoJHN0YXR1c1R1dHVwQnVrdSA9PSAiU1VEQUgiKXsKICAgICAgICAgICRzdGF0dXNOZXh0ID0gInRydWUiOwogICAgICAgIH1lbHNlewogICAgICAgICAgJHN0YXR1c05leHQgPSAiZmFsc2UiOwogICAgICAgIH0KCiAgICAgICAgJGNvbnRlbnQgPSBhcnJheSgKICAgICAgICAgICdzdGF0dXNTZWxlc2FpJyA9PiAkc3RhdHVzU2VsZXNhaSwKICAgICAgICAgICdtb2R1bHVzJyA9PiAkbm9tb3JQb3N0ICUgJHRvdGFsQmFyYW5nLAogICAgICAgICAgJ3BlcnNlbicgPT4gKCRub21vclBvc3QgLyAkanVtbGFoRGF0YSApICogMTAwLAogICAgICAgICAgImxvZ0Nsb3NpbmciID0+ICRsb2dDbG9zaW5nLAogICAgICAgICAgInNrcGRCZWx1bUNsb3NpbmciID0+ICRrb2RlU0tQREJlbHVtQ2xvc2luZywKICAgICAgICAgICJzdGF0dXNOZXh0IiA9PiAkc3RhdHVzTmV4dCwKICAgICAgICAgKTsKICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgY2FzZSAncHJvc2VzQ291bnRBbmRDbG9zaW5nJzp7CgkJCSAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CgkJCSAgICAgJCRrZXkgPSAkdmFsdWU7CgkJCSAgfQoJCQkJJGV4cGxvZGVLb2RlQ2xvc2luZyA9IGV4cGxvZGUoIjsiLCRrb2RlQ2xvc2luZyk7CgkJCQkka29kZVNLUEQgPSAkZXhwbG9kZUtvZGVDbG9zaW5nWzBdOwoJCQkJJGtvZGVCYXJhbmcgPSAkZXhwbG9kZUtvZGVDbG9zaW5nWzFdOwogICAgICAgICRleHBsb2RlS29kZVNLUEQgPSBleHBsb2RlKCIuIiwka29kZVNLUEQpOwoJCQkgICRzdGF0dXNTZWxlc2FpID0gImJlbG9tIjsKCQkJICAkbG9nQ2xvc2luZyA9ICIiLiR0aGlzLT5udW1iZXJGb3JtYXQoJG5vbW9yUG9zdCkuIiAvICIuJHRoaXMtPm51bWJlckZvcm1hdCgkanVtbGFoRGF0YSkuIiBDbG9zaW5nIEtPREUgU0tQRCA9ICRrb2RlU0tQRCAgS09ERSBCQVJBTkcgPSAgJGtvZGVCYXJhbmcgLi4uLi4uLi4gIjsKCQkJICBpZigkbm9tb3JQb3N0ID09ICRqdW1sYWhEYXRhKXsKCQkJICAgICAgJHN0YXR1c1NlbGVzYWkgPSAiT0siOwoJCQkgICAgICAkbG9nQ2xvc2luZyA9ICJDbG9zaW5nIGZpbmlzaGVkLiI7CgkJCQkJCWlmKCRmaWx0ZXJQZXJpb2RlID09IDEpewoJCQkJCQkJJGRhdGFTZW1lc3RlcjEgPSBhcnJheSgKCQkJCQkJCQknYzEnID0+ICRleHBsb2RlS29kZVNLUERbMF0sCgkJCQkJCQkJJ2MnID0+ICRleHBsb2RlS29kZVNLUERbMV0sCgkJCQkJCQkJJ2QnID0+ICRleHBsb2RlS29kZVNLUERbMl0sCgkJCQkJCQkJJ2UnID0+ICRleHBsb2RlS29kZVNLUERbM10sCgkJCQkJCQkJJ2UxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzRdLAoJCQkJCQkJCSd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCgkJCQkJCQkJJ3NlbWVzdGVyJyA9PiAnMScsCgkJCQkJCQkJJ2tldGVyYW5nYW4nID0+ICRrZXRlcmFuZ2FuLAoJCQkJCQkJCSd0YW5nZ2FsX3VwZGF0ZScgPT4gZGF0ZSgiWS1tLWQiKSwKCQkJCQkJCQkndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZQoJCQkJCQkJKTsKICAgICAgICAgICAgICBpZigkZXhwbG9kZUtvZGVTS1BEWzBdICE9ICcnKXsKICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCJjbG9zaW5nX3BlcnNlZGlhYW4iLCRkYXRhU2VtZXN0ZXIxKSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICRzdGF0dXNTZXRTYWxkb0F3YWwgPSAidHJ1ZSI7CgkJCQkJCX1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gMil7CgkJCQkJCQkkdGFodW5EZXBhbiA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuICsgMTsKCgkgICAgICAgICAgICAvLyAkZGF0YVNlbWVzdGVyMSA9IGFycmF5KAoJCQkJCQkJLy8gCSdjMScgPT4gJGV4cGxvZGVLb2RlU0tQRFswXSwKCQkJCQkJCS8vIAknYycgPT4gJGV4cGxvZGVLb2RlU0tQRFsxXSwKCQkJCQkJCS8vIAknZCcgPT4gJGV4cGxvZGVLb2RlU0tQRFsyXSwKCQkJCQkJCS8vIAknZScgPT4gJGV4cGxvZGVLb2RlU0tQRFszXSwKCQkJCQkJCS8vIAknZTEnID0+ICRleHBsb2RlS29kZVNLUERbNF0sCgkgICAgICAgICAgICAvLyAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCgkgICAgICAgICAgICAvLyAgICdzZW1lc3RlcicgPT4gJzEnLAoJICAgICAgICAgICAgLy8gICAna2V0ZXJhbmdhbicgPT4gJGtldGVyYW5nYW4sCgkgICAgICAgICAgICAvLyAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lLAoJICAgICAgICAgICAgLy8gICAndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCgkgICAgICAgICAgICAvLyApOwoJICAgICAgICAgICAgLy8gJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoImNsb3NpbmdfcGVyc2VkaWFhbiIsJGRhdGFTZW1lc3RlcjEpKTsKCSAgICAgICAgICAgICRkYXRhU2VtZXN0ZXIyID0gYXJyYXkoCgkJCQkJCQkJJ2MxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzBdLAoJCQkJCQkJCSdjJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzFdLAoJCQkJCQkJCSdkJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzJdLAoJCQkJCQkJCSdlJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzNdLAoJCQkJCQkJCSdlMScgPT4gJGV4cGxvZGVLb2RlU0tQRFs0XSwKCSAgICAgICAgICAgICAgJ3RhaHVuX2FuZ2dhcmFuJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbiwKCSAgICAgICAgICAgICAgJ3NlbWVzdGVyJyA9PiAnMicsCgkgICAgICAgICAgICAgICdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKCSAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUsCgkgICAgICAgICAgICAgICd0YW5nZ2FsX3VwZGF0ZScgPT4gZGF0ZSgiWS1tLWQiKSwKCSAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgaWYoJGV4cGxvZGVLb2RlU0tQRFswXSAhPSAnJyl7CiAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgiY2xvc2luZ19wZXJzZWRpYWFuIiwkZGF0YVNlbWVzdGVyMikpOwogICAgICAgICAgICAgIH0KCQkJCQkJfQoJCQkgIH1lbHNlewogICAgICAgICAgaWYoJG5vbW9yUG9zdCAlICR0b3RhbEJhcmFuZyA9PSAwKXsKICAgICAgICAgICAgaWYoJGZpbHRlclBlcmlvZGUgPT0gMSl7CiAgICAgICAgICAgICAgJGRhdGFTZW1lc3RlcjEgPSBhcnJheSgKICAgICAgICAgICAgICAgICdjMScgPT4gJGV4cGxvZGVLb2RlU0tQRFswXSwKICAgICAgICAgICAgICAgICdjJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzFdLAogICAgICAgICAgICAgICAgJ2QnID0+ICRleHBsb2RlS29kZVNLUERbMl0sCiAgICAgICAgICAgICAgICAnZScgPT4gJGV4cGxvZGVLb2RlU0tQRFszXSwKICAgICAgICAgICAgICAgICdlMScgPT4gJGV4cGxvZGVLb2RlU0tQRFs0XSwKICAgICAgICAgICAgICAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgICAgICAgICAgICAgICAnc2VtZXN0ZXInID0+ICcxJywKICAgICAgICAgICAgICAgICdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKICAgICAgICAgICAgICAgICd0YW5nZ2FsX3VwZGF0ZScgPT4gZGF0ZSgiWS1tLWQiKSwKICAgICAgICAgICAgICAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgiY2xvc2luZ19wZXJzZWRpYWFuIiwkZGF0YVNlbWVzdGVyMSkpOwogICAgICAgICAgICAgIC8vICRzdGF0dXNTZXRTYWxkb0F3YWwgPSAidHJ1ZSI7CiAgICAgICAgICAgIH1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gMil7CiAgICAgICAgICAgICAgJHRhaHVuRGVwYW4gPSAkdGhpcy0+dGFodW5BbmdnYXJhbiArIDE7CiAgICAgICAgICAgICAgJGRhdGFTZW1lc3RlcjIgPSBhcnJheSgKICAgICAgICAgICAgICAgICdjMScgPT4gJGV4cGxvZGVLb2RlU0tQRFswXSwKICAgICAgICAgICAgICAgICdjJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzFdLAogICAgICAgICAgICAgICAgJ2QnID0+ICRleHBsb2RlS29kZVNLUERbMl0sCiAgICAgICAgICAgICAgICAnZScgPT4gJGV4cGxvZGVLb2RlU0tQRFszXSwKICAgICAgICAgICAgICAgICdlMScgPT4gJGV4cGxvZGVLb2RlU0tQRFs0XSwKICAgICAgICAgICAgICAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgICAgICAgICAgICAgICAnc2VtZXN0ZXInID0+ICcyJywKICAgICAgICAgICAgICAgICdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKICAgICAgICAgICAgICAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lLAogICAgICAgICAgICAgICAgJ3RhbmdnYWxfdXBkYXRlJyA9PiBkYXRlKCJZLW0tZCIpLAogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoImNsb3NpbmdfcGVyc2VkaWFhbiIsJGRhdGFTZW1lc3RlcjIpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmKCRmaWx0ZXJQZXJpb2RlID09IDEpewogICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHNhbGRvX2F3YWwgd2hlcmUgdGFuZ2dhbCA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEnIGFuZCBqbnM9JzEnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZyciKTsKICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgdGFuZ2dhbF9idWt1ID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMScgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyIpOwogICAgICAgICAgICAkYXJyYXlSZXN1bHQgPSAkdGhpcy0+Y291bnRBbmRDbG9zZVNlbWVzdGVyMSgka29kZVNLUEQsJGtvZGVCYXJhbmcpOwogICAgICAgICAgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAyKXsKICAgICAgICAgICAgaWYoZW1wdHkoJGVycikpewogICAgICAgICAgICAgIC8vICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIHllYXIodGFuZ2dhbF9idWt1KSA9ICckdGFodW5EZXBhbicgYW5kIGpucz0nMScgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyIpOwogICAgICAgICAgICAgIC8vICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gc2FsZG9fYXdhbCB3aGVyZSB5ZWFyKHRhbmdnYWwpID0gJyR0YWh1bkRlcGFuJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIik7CiAgICAgICAgICAgICAgLy8gJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBzYWxkb19hd2FsIHdoZXJlIHRhbmdnYWwgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxJyBhbmQgam5zPScxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIik7CiAgICAgICAgICAgICAgLy8gJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgdGFuZ2dhbF9idWt1ID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMScgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyIpOwogICAgICAgICAgICAgIC8vICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9ICcxJyIpOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9ICcyJyIpOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9ICczJyIpOwogICAgICAgICAgICAgICRhcnJheVJlc3VsdCA9ICAkdGhpcy0+Y291bnRBbmRDbG9zZVNlbWVzdGVyMigka29kZVNLUEQsJGtvZGVCYXJhbmcpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgoKICAgICAgICB9CgoKICAgICAgICAkc3RhdHVzU2V0U2FsZG9Bd2FsID0gImZhbHNlIjsKCgkJCSAgJGNvbnRlbnQgPSBhcnJheSgKCQkJICAgICdzdGF0dXNTZWxlc2FpJyA9PiAkc3RhdHVzU2VsZXNhaSwKCQkJICAgICdtb2R1bHVzJyA9PiAkbm9tb3JQb3N0ICUgJHRvdGFsQmFyYW5nLAoJCQkgICAgJ3BlcnNlbicgPT4gKCRub21vclBvc3QgLyAkanVtbGFoRGF0YSApICogMTAwLAoJCQkgICAgImxvZ0Nsb3NpbmciID0+ICRsb2dDbG9zaW5nLAoJCQkgICAgInN0YXR1c05leHQiID0+ICRzdGF0dXNOZXh0LAoJCQkgICAgInN0YXR1c1NldFNhbGRvQXdhbCIgPT4gJHN0YXR1c1NldFNhbGRvQXdhbCwKCQkJICAgICJrb2RlQmFyYW5nIiA9PiAka29kZUJhcmFuZywKICAgICAgICAgICJpZFBlbmdlbHVhcmFuRGlzdHJpYnVzaSIgPT4gaW1wbG9kZSgiOyIsJGFycmF5UmVzdWx0WydhcnJheUlkUGVuZ2VsdWFyYW5EaXN0cmlidXNpJ10pCgkJCSAgICk7CgkJCWJyZWFrOwoJCQl9CiAgICBjYXNlICdDbG9zaW5nJzp7CiAgICAgICRmbSA9ICR0aGlzLT5DbG9zaW5nKCk7CiAgICAgICRjZWsgPSAkZm1bJ2NlayddOwogICAgICAkZXJyID0gJGZtWydlcnInXTsKICAgICAgJGNvbnRlbnQgPSAkZm1bJ2NvbnRlbnQnXTsKICAgIGJyZWFrOwogICAgfQogICAgY2FzZSAnVHV0dXBCdWt1Jzp7CiAgICAgICRmbSA9ICR0aGlzLT5UdXR1cEJ1a3UoKTsKICAgICAgJGNlayA9ICRmbVsnY2VrJ107CiAgICAgICRlcnIgPSAkZm1bJ2VyciddOwogICAgICAkY29udGVudCA9ICRmbVsnY29udGVudCddOwogICAgYnJlYWs7CiAgICB9CiAgICBjYXNlICdDb3VudEFuZENsb3NlJzp7CiAgICAgICRmbSA9ICR0aGlzLT5Db3VudEFuZENsb3NlKCk7CiAgICAgICRjZWsgPSAkZm1bJ2NlayddOwogICAgICAkZXJyID0gJGZtWydlcnInXTsKICAgICAgJGNvbnRlbnQgPSAkZm1bJ2NvbnRlbnQnXTsKICAgIGJyZWFrOwogICAgfQogICAgY2FzZSAncGlsaWhQYW5na2F0Jzp7CiAgICAgIGdsb2JhbCAkTWFpbjsKICAgICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgJGpzb249VFJVRTsKCiAgICAgICRpZHBhbmdrYXQgPSAkX1JFUVVFU1RbJ3BhbmdrYXRha2hpciddOwoKICAgICAgJHF1ZXJ5ID0gInNlbGVjdCBjb25jYXQoZ29sLCcvJyxydWFuZylhcyBuYW1hIEZST00gcmVmX3BhbmdrYXQgV0hFUkUgbmFtYT0nJGlkcGFuZ2thdCciIDsKICAgICAgJGdldD1teXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgkcXVlcnkpKTskY2VrLj0kcXVlcnk7CiAgICAgICRjb250ZW50PSRnZXRbJ25hbWEnXTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSAnc2F2ZUNsb3NpbmcnOnsKICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAkJGtleSA9ICR2YWx1ZTsKICAgICAgfQogICAgICAkZXhwbG9kZUtvZGVTS1BEID0gZXhwbG9kZSgiLiIsJGtvZGVTS1BEKTsKICAgICAgJGMxID0gJGV4cGxvZGVLb2RlU0tQRFswXTsKICAgICAgJGMgPSAkZXhwbG9kZUtvZGVTS1BEWzFdOwogICAgICAkZCA9ICRleHBsb2RlS29kZVNLUERbMl07CiAgICAgICRlID0gJGV4cGxvZGVLb2RlU0tQRFszXTsKICAgICAgJGUxID0gJGV4cGxvZGVLb2RlU0tQRFs0XTsKICAgICAgaWYoc2l6ZW9mKCRleHBsb2RlS29kZVNLUEQpID09IDUpewogICAgICAgICRrb2RlU0tQRCA9ICRjMS4iLiIuJGMuIi4iLiRkLiIuIi4kZS4iLiIuJGUxOwogICAgICAgICRjb25jYXRTS1BEID0gImNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpICI7CiAgICAgIH1lbHNlaWYoc2l6ZW9mKCRleHBsb2RlS29kZVNLUEQpID09IDQpewogICAgICAgICRrb2RlU0tQRCA9ICRjMS4iLiIuJGMuIi4iLiRkLiIuIi4kZTsKICAgICAgICAkY29uY2F0U0tQRCA9ICJjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUpICI7CiAgICAgIH1lbHNlaWYoc2l6ZW9mKCRleHBsb2RlS29kZVNLUEQpID09IDMpewogICAgICAgICRrb2RlU0tQRCA9ICRjMS4iLiIuJGMuIi4iLiRkOwogICAgICAgICRjb25jYXRTS1BEID0gImNvbmNhdChjMSwnLicsYywnLicsZCkgIjsKICAgICAgfWVsc2VpZihzaXplb2YoJGV4cGxvZGVLb2RlU0tQRCkgPT0gMil7CiAgICAgICAgJGtvZGVTS1BEID0gJGMxLiIuIi4kYzsKICAgICAgICAkY29uY2F0U0tQRCA9ICJjb25jYXQoYzEsJy4nLGMpICI7CiAgICAgIH1lbHNlaWYoc2l6ZW9mKCRleHBsb2RlS29kZVNLUEQpID09IDEpewogICAgICAgICRrb2RlU0tQRCA9ICRjMTsKICAgICAgICAkY29uY2F0U0tQRCA9ICJjb25jYXQoYzEsJy4nLGMpICI7CiAgICAgIH1lbHNlaWYoc2l6ZW9mKCRleHBsb2RlS29kZVNLUEQpID09IDApewogICAgICAgICRrb2RlU0tQRCA9ICIxIjsKICAgICAgICAkY29uY2F0U0tQRCA9ICIxICI7CiAgICAgIH0KCiAgICAgIGlmKGVtcHR5KCRwZXJpb2RlU2VtZXN0ZXIpKXsKICAgICAgICAkZXJyID0gIlBpbGloIFNlbWVzdGVyIjsKICAgICAgfWVsc2V7CiAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0ZW1wX2NoZWNrX2JhcmFuZ19rdXJhbmcgd2hlcmUgdXNlcm5hbWU9JyR0aGlzLT51c2VybmFtZSciKTsKICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRlbXBfY2hlY2tfYmFyYW5nX3RhbWJhaCB3aGVyZSB1c2VybmFtZT0nJHRoaXMtPnVzZXJuYW1lJyIpOwogICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY2hlY2tfYmFyYW5nX3BlcnNlZGlhYW4gd2hlcmUgdXNlcm5hbWU9JyR0aGlzLT51c2VybmFtZSciKTsKICAgICAgICAkZXJyID0gJHRoaXMtPmNoZWNrRmlmbygiJGNvbmNhdFNLUEQgPSAnJGtvZGVTS1BEJyIsICRwZXJpb2RlU2VtZXN0ZXIpOwogICAgICB9CiAgICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSAkY29uY2F0U0tQRCA9ICcka29kZVNLUEQnIGFuZCBlMSE9JzAwMCciKTsKICAgICAgaWYoJGVyciA9PSAnJyl7CiAgICAgICAgaWYoJHBlcmlvZGVTZW1lc3RlciA9PSAnMicpewogICAgICAgICAgJHRhaHVuRGVwYW4gPSAkdGhpcy0+dGFodW5BbmdnYXJhbiArIDE7CiAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tICR0aGlzLT5UYmxOYW1lIHdoZXJlICRjb25jYXRTS1BEID0gJyRrb2RlU0tQRCcgYW5kIHRhaHVuX2FuZ2dhcmFuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyAiKTsKICAgICAgICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSAkY29uY2F0U0tQRCA9ICcka29kZVNLUEQnIGFuZCBlMSE9JzAwMCciKTsKICAgICAgICAgIHdoaWxlICgkZGF0YVNLUEQgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFTS1BEKSkgewogICAgICAgICAgICAka29kZVNLUEQgPSAkZGF0YVNLUERbJ2MxJ10uIi4iLiRkYXRhU0tQRFsnYyddLiIuIi4kZGF0YVNLUERbJ2QnXS4iLiIuJGRhdGFTS1BEWydlJ10uIi4iLiRkYXRhU0tQRFsnZTEnXTsKICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBzYWxkb19hd2FsIHdoZXJlIHllYXIodGFuZ2dhbCkgPSAnJHRhaHVuRGVwYW4nIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIik7CiAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIHllYXIodGFuZ2dhbF9idWt1KSA9ICckdGFodW5EZXBhbicgYW5kIGpucz0nMScgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCciKTsKICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9ICcyJyIpOwogICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCB0YWh1biA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0gJzMnIik7CiAgICAgICAgICAgICRkYXRhU2VtZXN0ZXIxID0gYXJyYXkoCiAgICAgICAgICAgICAgJ2MxJyA9PiAkZGF0YVNLUERbJ2MxJ10sCiAgICAgICAgICAgICAgJ2MnID0+ICRkYXRhU0tQRFsnYyddLAogICAgICAgICAgICAgICdkJyA9PiAkZGF0YVNLUERbJ2QnXSwKICAgICAgICAgICAgICAnZScgPT4gJGRhdGFTS1BEWydlJ10sCiAgICAgICAgICAgICAgJ2UxJyA9PiAkZGF0YVNLUERbJ2UxJ10sCiAgICAgICAgICAgICAgJ3RhaHVuX2FuZ2dhcmFuJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbiwKICAgICAgICAgICAgICAnc2VtZXN0ZXInID0+ICcxJywKICAgICAgICAgICAgICAna2V0ZXJhbmdhbicgPT4gJGtldGVyYW5nYW4sCiAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUsCiAgICAgICAgICAgICAgJ3RhbmdnYWxfdXBkYXRlJyA9PiBkYXRlKCJZLW0tZCIpLAogICAgICAgICAgICApOwogICAgICAgICAgICAkdGhpcy0+c2V0U2FsZG9Bd2FsKCRkYXRhU0tQRFsnYzEnXS4iLiIuJGRhdGFTS1BEWydjJ10uIi4iLiRkYXRhU0tQRFsnZCddLiIuIi4kZGF0YVNLUERbJ2UnXS4iLiIuJGRhdGFTS1BEWydlMSddKTsKICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJHRoaXMtPlRibE5hbWUsJGRhdGFTZW1lc3RlcjEpKTsKICAgICAgICAgICAgJGRhdGFTZW1lc3RlcjIgPSBhcnJheSgKICAgICAgICAgICAgICAnYzEnID0+ICRkYXRhU0tQRFsnYzEnXSwKICAgICAgICAgICAgICAnYycgPT4gJGRhdGFTS1BEWydjJ10sCiAgICAgICAgICAgICAgJ2QnID0+ICRkYXRhU0tQRFsnZCddLAogICAgICAgICAgICAgICdlJyA9PiAkZGF0YVNLUERbJ2UnXSwKICAgICAgICAgICAgICAnZTEnID0+ICRkYXRhU0tQRFsnZTEnXSwKICAgICAgICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICdzZW1lc3RlcicgPT4gJzInLAogICAgICAgICAgICAgICdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwKICAgICAgICAgICAgICAndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCiAgICAgICAgICAgICk7CiAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCR0aGlzLT5UYmxOYW1lLCRkYXRhU2VtZXN0ZXIyKSk7CiAgICAgICAgICAgICR0aGlzLT5zZXRTYWxkb0F3YWxUYWh1bmFuKCRkYXRhU0tQRFsnYzEnXS4iLiIuJGRhdGFTS1BEWydjJ10uIi4iLiRkYXRhU0tQRFsnZCddLiIuIi4kZGF0YVNLUERbJ2UnXS4iLiIuJGRhdGFTS1BEWydlMSddKTsKICAgICAgICAgIH0KICAgICAgICB9ZWxzZXsKICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tICR0aGlzLT5UYmxOYW1lIHdoZXJlICRjb25jYXRTS1BEID0gJyRrb2RlU0tQRCcgYW5kIHRhaHVuX2FuZ2dhcmFuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPScxJyAiKTsKICAgICAgICAgICAkZ2V0RGF0YVNLUEQgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgJGNvbmNhdFNLUEQgPSAnJGtvZGVTS1BEJyBhbmQgZTEhPScwMDAnIik7CiAgICAgICAgICAgd2hpbGUgKCRkYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVNLUEQpKSB7CiAgICAgICAgICAgICRkYXRhU2VtZXN0ZXIxID0gYXJyYXkoCiAgICAgICAgICAgICAgJ2MxJyA9PiAkZGF0YVNLUERbJ2MxJ10sCiAgICAgICAgICAgICAgJ2MnID0+ICRkYXRhU0tQRFsnYyddLAogICAgICAgICAgICAgICdkJyA9PiAkZGF0YVNLUERbJ2QnXSwKICAgICAgICAgICAgICAnZScgPT4gJGRhdGFTS1BEWydlJ10sCiAgICAgICAgICAgICAgJ2UxJyA9PiAkZGF0YVNLUERbJ2UxJ10sCiAgICAgICAgICAgICAgJ3RhaHVuX2FuZ2dhcmFuJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbiwKICAgICAgICAgICAgICAnc2VtZXN0ZXInID0+ICcxJywKICAgICAgICAgICAgICAna2V0ZXJhbmdhbicgPT4gJGtldGVyYW5nYW4sCiAgICAgICAgICAgICAgJ3RhbmdnYWxfdXBkYXRlJyA9PiBkYXRlKCJZLW0tZCIpLAogICAgICAgICAgICAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lCiAgICAgICAgICAgICk7CiAgICAgICAgICAgICR0aGlzLT5zZXRTYWxkb0F3YWwoJGRhdGFTS1BEWydjMSddLiIuIi4kZGF0YVNLUERbJ2MnXS4iLiIuJGRhdGFTS1BEWydkJ10uIi4iLiRkYXRhU0tQRFsnZSddLiIuIi4kZGF0YVNLUERbJ2UxJ10pOwogICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgkdGhpcy0+VGJsTmFtZSwkZGF0YVNlbWVzdGVyMSkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgIGJyZWFrOwogICAgfQogICAgY2FzZSAnc2F2ZUVkaXQnOnsKICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAkJGtleSA9ICR2YWx1ZTsKICAgICAgfQogICAgICAkZXhwbG9kZUtvZGVTS1BEID0gZXhwbG9kZSgiLiIsJGtvZGVTS1BEKTsKICAgICAgJGMxID0gJGV4cGxvZGVLb2RlU0tQRFswXTsKICAgICAgJGMgPSAkZXhwbG9kZUtvZGVTS1BEWzFdOwogICAgICAkZCA9ICRleHBsb2RlS29kZVNLUERbMl07CiAgICAgICRlID0gJGV4cGxvZGVLb2RlU0tQRFszXTsKICAgICAgJGUxID0gJGV4cGxvZGVLb2RlU0tQRFs0XTsKICAgICAgaWYoZW1wdHkoJHBlcmlvZGVTZW1lc3RlcikpewogICAgICAgICRlcnIgPSAiUGlsaWggU2VtZXN0ZXIiOwogICAgICB9CiAgICAgIGlmKCRlcnIgPT0gJycpewogICAgICAgIGlmKCRwZXJpb2RlU2VtZXN0ZXIgPT0gJzInKXsKICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gJHRoaXMtPlRibE5hbWUgd2hlcmUgYzE9JyRjMScgYW5kIGM9JyRjJyBhbmQgZD0nJGQnIGFuZCBlPSckZScgYW5kIGUxPSckZTEnIGFuZCB0YWh1bl9hbmdnYXJhbiA9ICckdGhpcy0+dGFodW5BbmdnYXJhbiciKTsKICAgICAgICAgICRkYXRhU2VtZXN0ZXIxID0gYXJyYXkoCiAgICAgICAgICAgICdjMScgPT4gJGMxLAogICAgICAgICAgICAnYycgPT4gJGMsCiAgICAgICAgICAgICdkJyA9PiAkZCwKICAgICAgICAgICAgJ2UnID0+ICRlLAogICAgICAgICAgICAnZTEnID0+ICRlMSwKICAgICAgICAgICAgJ3RhaHVuX2FuZ2dhcmFuJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbiwKICAgICAgICAgICAgJ3NlbWVzdGVyJyA9PiAnMScsCiAgICAgICAgICAgICdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUsCiAgICAgICAgICAgICd0YW5nZ2FsX3VwZGF0ZScgPT4gZGF0ZSgiWS1tLWQiKSwKICAgICAgICAgICk7CiAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgkdGhpcy0+VGJsTmFtZSwkZGF0YVNlbWVzdGVyMSkpOwogICAgICAgICAgJGRhdGFTZW1lc3RlcjIgPSBhcnJheSgKICAgICAgICAgICAgJ2MxJyA9PiAkYzEsCiAgICAgICAgICAgICdjJyA9PiAkYywKICAgICAgICAgICAgJ2QnID0+ICRkLAogICAgICAgICAgICAnZScgPT4gJGUsCiAgICAgICAgICAgICdlMScgPT4gJGUxLAogICAgICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAnc2VtZXN0ZXInID0+ICcyJywKICAgICAgICAgICAgJ2tldGVyYW5nYW4nID0+ICRrZXRlcmFuZ2FuLAogICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwKICAgICAgICAgICAgJ3RhbmdnYWxfdXBkYXRlJyA9PiBkYXRlKCJZLW0tZCIpLAogICAgICAgICAgKTsKICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCR0aGlzLT5UYmxOYW1lLCRkYXRhU2VtZXN0ZXIyKSk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICRkYXRhU2VtZXN0ZXIxID0gYXJyYXkoCiAgICAgICAgICAgICAgJ2MxJyA9PiAkYzEsCiAgICAgICAgICAgICAgJ2MnID0+ICRjLAogICAgICAgICAgICAgICdkJyA9PiAkZCwKICAgICAgICAgICAgICAnZScgPT4gJGUsCiAgICAgICAgICAgICAgJ2UxJyA9PiAkZTEsCiAgICAgICAgICAgICAgJ3RhaHVuX2FuZ2dhcmFuJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbiwKICAgICAgICAgICAgICAnc2VtZXN0ZXInID0+ICcxJywKICAgICAgICAgICAgICAna2V0ZXJhbmdhbicgPT4gJGtldGVyYW5nYW4sCiAgICAgICAgICAgICAgJ3RhbmdnYWxfdXBkYXRlJyA9PiBkYXRlKCJZLW0tZCIpLAogICAgICAgICAgICAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lCiAgICAgICAgICAgICk7CiAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsVXBkYXRlKCR0aGlzLT5UYmxOYW1lLCRkYXRhU2VtZXN0ZXIxLCJpZCA9ICckaWRFZGl0JyIpKTsKCiAgICAgICAgfQogICAgICB9CgogICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSAnTGFwb3Jhbic6ewogICAgICAkZm0gPSAgJHRoaXMtPkxhcG9yYW4oJF9SRVFVRVNUKTsKICAgICAgJGNlayA9ICRmbVsnY2VrJ107CiAgICAgICRlcnIgPSAkZm1bJ2VyciddOwogICAgICAkY29udGVudCA9ICRmbVsnY29udGVudCddOwogICAgYnJlYWs7CiAgICB9CiAgICBjYXNlICdzYXZlTmV3VGFuZGFUYW5nYW4nOnsKICAgICAgZ2xvYmFsICRNYWluOwogICAgICAka29kZTE9ICRfUkVRVUVTVFsnYzEnXTsKICAgICAgJGtvZGUyPSAkX1JFUVVFU1RbJ2MnXTsKICAgICAgJGtvZGUzPSAkX1JFUVVFU1RbJ2QnXTsKICAgICAgJGtvZGU0PSAkX1JFUVVFU1RbJ2UnXTsKICAgICAgJGtvZGU1PSAkX1JFUVVFU1RbJ2UxJ107CiAgICAgICRuYW1hcGVnYXdhaT0gJF9SRVFVRVNUWyduYW1hcGVnYXdhaSddOwogICAgICAkbmlwcGVnYXdhaT0gJF9SRVFVRVNUWyduaXBwZWdhd2FpJ107CgogICAgICAkcDE9ICRfUkVRVUVTVFsncGFuZ2thdGFraGlyJ107CgogICAgICAkZ29sYW5nX2FraGlyPSAkX1JFUVVFU1RbJ2dvbGFuZ19ha2hpciddOwogICAgICAkZ29sb25nYW4gPSBleHBsb2RlKCIvIiwgJGdvbGFuZ19ha2hpcik7CiAgICAgICRqYWJhdGFuPSAkX1JFUVVFU1RbJ2phYmF0YW4nXTsKICAgICAgJGVzZWxvbj0gJF9SRVFVRVNUWydlc2Vsb25fYWtoaXInXTsKICAgICAgJGthdGVnb3JpPSAkX1JFUVVFU1RbJ2thdGVnb3JpJ107CgoKICAgICAgJG9sZHk9bXlzcWxfZmV0Y2hfYXJyYXkoCiAgICAgICBteXNxbF9xdWVyeSgKICAgICAgICAgInNlbGVjdCBjb3VudCgqKSBhcyBjbnQgZnJvbSByZWZfdGFuZGF0YW5nYW4gd2hlcmUgbmlwPSckbmlwcGVnYXdhaSciCiAgICAgICApKTsKICAgICAgaWYoICRlcnI9PScnICYmICRuYW1hcGVnYXdhaSA9PScnICkgJGVycj0gJ05BTUEgUEVHQVdBSSBCZWx1bSBEaSBJc2kgISEnOwogICAgICBpZiggJGVycj09JycgJiYgJG5pcHBlZ2F3YWkgPT0nJyApICRlcnI9ICdOSVAgQmVsdW0gRGkgSXNpICEhJzsKICAgICAgaWYoICRlcnI9PScnICYmICRwMSA9PScnICkgJGVycj0gJ1BBTkdLQVQvIEdPTC8gUlVBTkcgQmVsdW0gRGkgUGlsaWggISEnOwogICAgICBpZiggJGVycj09JycgJiYgJGphYmF0YW4gPT0nJyApICRlcnI9ICdKQUJBVEFOIEJlbHVtIERpIElzaSAhISc7CiAgICAgIGlmKCAkZXJyPT0nJyAmJiAka2F0ZWdvcmkgPT0nJyApICRlcnI9ICdLYXRlZ29yaSBCZWx1bSBEaSBQaWxpaCAhISc7CgogICAgICAgICBpZigkZm1TVCA9PSAwKXsKICAgICAgICAgaWYoJGVycj09JycgJiYgJG9sZHlbJ2NudCddPjApICRlcnI9Ik5JUCAnJG5pcHBlZ2F3YWknIFN1ZGFoIEFkYSI7CiAgICAgICAgICAgaWYoJGVycj09JycpewoKICAgICAgICAgICAgICRhcXJ5ID0gIklOU0VSVCBpbnRvIHJlZl90YW5kYXRhbmdhbiAoYzEsYyxkLGUsZTEsbmFtYSxuaXAsamFiYXRhbixwYW5na2F0LGdvbCxydWFuZyxlc2Vsb24sa2F0ZWdvcmlfdGFuZGF0YW5nYW4pIHZhbHVlcygnJGtvZGUxJywnJGtvZGUyJywnJGtvZGUzJywnJGtvZGU0JywnJGtvZGU1JywnJG5hbWFwZWdhd2FpJywnJG5pcHBlZ2F3YWknLCckamFiYXRhbicsJyRwMScsJyRnb2xvbmdhblswXScsJyRnb2xvbmdhblsxXScsJyRlc2Vsb24nLDIzKSI7ICAkY2VrIC49ICRhcXJ5OwogICAgICAgICAgICAgJHFyeSA9IG15c3FsX3F1ZXJ5KCRhcXJ5KTsKICAgICAgICAgICAgICRjb250ZW50ID0gYXJyYXkoJ2NvbWJvdHRkJyA9PiBjbWJRdWVyeSgnaWRQZW5hbmRhVGFuZ2FuJywkZCwiU0VMRUNUIElkLCBuYW1hIGZyb20gcmVmX3RhbmRhdGFuZ2FuIHdoZXJlIGthdGVnb3JpX3RhbmRhdGFuZ2FuID0gJzIzJyBhbmQgYzEgPSAnIi4kX1JFUVVFU1RbYzFdLiInIGFuZCBjID0gJyIuJF9SRVFVRVNUW2NdLiInIGFuZCBkID0gJyIuJF9SRVFVRVNUW2RdLiInIGFuZCBlID0gJyIuJF9SRVFVRVNUW2VdLiInIGFuZCBlMSA9ICciLiRfUkVRVUVTVFtlMV0uIiciLCdvbmNoYW5nZT1ya2EucmVmcmVzaExpc3QodHJ1ZSk7JywnLS0gVFREIC0tJykpOwogICAgICAgICAgIH0KICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgaWYoJGVycj09JycpewogICAgICAgICAgICRhcXJ5ID0gIlVQREFURSByZWZfdGFuZGF0YW5nYW4gU0VUIG5hbWE9JyRuYW1hcGVnYXdhaScsIG5pcD0nJG5pcHBlZ2F3YWknLCBqYWJhdGFuPSckamFiYXRhbicgLHBhbmdrYXQ9JyRwMScsIGdvbD0nJGdvbG9uZ2FuWzBdJyAscnVhbmc9JyRnb2xvbmdhblsxXScsZXNlbG9uPSckZXNlbG9uJyAsa2F0ZWdvcmlfdGFuZGF0YW5nYW49JyRrYXRlZ29yaScgV0hFUkUgSWQ9JyIuJGlkcGxoLiInIjsgICRjZWsgLj0gJGFxcnk7CiAgICAgICAgICAgICAgICRxcnkgPSBteXNxbF9xdWVyeSgkYXFyeSkgb3IgZGllKG15c3FsX2Vycm9yKCkpOwogICAgICAgICAgICAgfQogICAgICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSAncGlsaWhQYW5na2F0Jzp7CiAgICAgIGdsb2JhbCAkTWFpbjsKICAgICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgJGpzb249VFJVRTsKCiAgICAgICRpZHBhbmdrYXQgPSAkX1JFUVVFU1RbJ3BhbmdrYXRha2hpciddOwoKICAgICAgJHF1ZXJ5ID0gInNlbGVjdCBjb25jYXQoZ29sLCcvJyxydWFuZylhcyBuYW1hIEZST00gcmVmX3BhbmdrYXQgV0hFUkUgbmFtYT0nJGlkcGFuZ2thdCciIDsKICAgICAgJGdldD1teXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgkcXVlcnkpKTskY2VrLj0kcXVlcnk7CiAgICAgICRjb250ZW50PSRnZXRbJ25hbWEnXTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlICd2aWV3TGFwb3Jhbic6ewogICAgICAkanNvbiA9IEZBTFNFOwogICAgICAkdGhpcy0+dmlld0xhcG9yYW4oKTsKICAgIGJyZWFrOwogICAgfQogICAgY2FzZSAnbmV3VGFuZGFUYW5nYW5nYW4nOnsKICAgICAgJGZtID0gJHRoaXMtPm5ld1RhbmRhVGFuZ2FuZ2FuKCk7CiAgICAgICRjZWsgLj0gJGZtWydjZWsnXTsKICAgICAgJGVyciA9ICRmbVsnZXJyJ107CiAgICAgICRjb250ZW50ID0gJGZtWydjb250ZW50J107CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSAnZm9ybUJhcnVUVEQnOnsKICAgICAgJGZtID0gJHRoaXMtPnNldEZvcm1CYXJ1VFREKCk7CiAgICAgICRjZWsgPSAkZm1bJ2NlayddOwogICAgICAkZXJyID0gJGZtWydlcnInXTsKICAgICAgJGNvbnRlbnQgPSAkZm1bJ2NvbnRlbnQnXTsKICAgIGJyZWFrOwogICAgfQogICAgY2FzZSAnc2ltcGFuVFREJzp7CiAgICAgICRnZXQ9ICR0aGlzLT5zaW1wYW5UVEQoKTsKICAgICAgJGNlayA9ICRnZXRbJ2NlayddOwogICAgICAkZXJyID0gJGdldFsnZXJyJ107CiAgICAgICRjb250ZW50ID0gJGdldFsnY29udGVudCddOwogICAgYnJlYWs7CiAgICAgfQoKCiAgICBjYXNlICdCYXJ1Jzp7CiAgICAgICAgJGZtID0gJHRoaXMtPkJhcnUoKTsKICAgICAgICAkY2VrIC49ICRmbVsnY2VrJ107CiAgICAgICAgJGVyciA9ICRmbVsnZXJyJ107CiAgICAgICAgJGNvbnRlbnQgPSAkZm1bJ2NvbnRlbnQnXTsKICAgIGJyZWFrOwogICAgfQogICAgY2FzZSAnRWRpdCc6ewogICAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgICB9CiAgICAgICRpZEVkaXQgPSAkY2xvc2luZ1BlcnNlZGlhYW5fY2JbMF07CiAgICAgICAgJGZtID0gJHRoaXMtPkVkaXQoJGlkRWRpdCk7CiAgICAgICAgJGNlayAuPSAkZm1bJ2NlayddOwogICAgICAgICRlcnIgPSAkZm1bJ2VyciddOwogICAgICAgICRjb250ZW50ID0gJGZtWydjb250ZW50J107CiAgICBicmVhazsKICAgIH0KICAgIGNhc2UgJ1JlbW92ZSc6ewogICAgICAkaWQgPSAkX1JFUVVFU1RbJ2Nsb3NpbmdQZXJzZWRpYWFuX2NiJ107CiAgICAgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewogICAgICAgICAgJCRrZXkgPSAkdmFsdWU7CiAgICAgIH0KCiAgICAgICR1c2VybmFtZSA9ICRfQ09PS0lFWydjb0lEJ107CgogICAgICAkZ2V0ID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gdGFiZWxfQ0xPU0lORyB3aGVyZSBpZCA9JyRpZFswXSciKSk7CiAgICAgICRrb2RlUmVrID0gJGdldFsnayddLiIuIi4kZ2V0WydsJ10uIi4iLiRnZXRbJ20nXS4iLiIuJGdldFsnbiddLiIuIi4kZ2V0WydvJ10gOwoKICAgICAgJGdldEFsbCA9IG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRhYmVsX0NMT1NJTkcgd2hlcmUgY29uY2F0KGssJy4nLGwsJy4nLG0sJy4nLG4sJy4nLG8pID0nJGtvZGVSZWsnIGFuZCBpZF90YWhhcD0nJHRoaXMtPmlkVGFoYXAnIGFuZCByaW5jaWFuX3BlcmhpdHVuZ2FuICE9JycgICBhbmQgYzE9JyRjbWJVcnVzYW4nIGFuZCBjPSckY21iQmlkYW5nJyBhbmQgZD0nJGNtYlNLUEQnICBhbmQgc3RhdHVzX3ZhbGlkYXNpICE9JzEnIG9yZGVyIGJ5IG8xLCByaW5jaWFuX3BlcmhpdHVuZ2FuIik7CiAgICAgIG15c3FsX3F1ZXJ5KCJkZWxldGUgZnJvbSB0ZW1wX3JrYV8yMSB3aGVyZSB1c2VyPSckdXNlcm5hbWUnIik7CiAgICAgIG15c3FsX3F1ZXJ5KCJkZWxldGUgZnJvbSB0ZW1wX3JpbmNpYW5fdm9sdW1lXzIxIHdoZXJlIHVzZXI9JyR1c2VybmFtZSciKTsKICAgICAgICBteXNxbF9xdWVyeSgiZGVsZXRlIGZyb20gdGVtcF9hbG9rYXNpX3JrYV8yMV92MiB3aGVyZSB1c2VyPSckdXNlcm5hbWUnIik7CiAgICAgIHdoaWxlKCRyb3dzID0gbXlzcWxfZmV0Y2hfYXJyYXkoJGdldEFsbCkpewogICAgICAgIGZvcmVhY2ggKCRyb3dzIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAkJGtleSA9ICR2YWx1ZTsKICAgICAgICB9CiAgICAgICAgbXlzcWxfcXVlcnkoImRlbGV0ZSBmcm9tIHRhYmVsX0NMT1NJTkcgd2hlcmUgaWQgPSAnJGlkJyIpOwogICAgICAgIC8vbXlzcWxfcXVlcnkoImRlbGV0ZSBmcm9tIHRhYmVsX0NMT1NJTkcgd2hlcmUgY29uY2F0KGssJy4nLGwsJy4nLG0sJy4nLG4sJy4nLG8pID0nJGtvZGVSZWsnIGFuZCBvMSA9JyRvMScgYW5kIGMxPSckY21iVXJ1c2FuJyBhbmQgYz0nJGNtYkJpZGFuZycgYW5kIGQ9JyRjbWJTS1BEJyBhbmQgZT0nJGNtYlVuaXQnIGFuZCBlMT0nJGNtYlN1YlVuaXQnIGFuZCBqZW5pc19ya2E9JzIuMScgYW5kIHRhaHVuID0nJHRoaXMtPnRhaHVuJyBhbmQgamVuaXNfYW5nZ2FyYW4gPSckdGhpcy0+amVuaXNBbmdnYXJhbiciKTsKCiAgICAgIH0KCiAgICAgIGJyZWFrOwogICAgfQoKICAgICBkZWZhdWx0OnsKICAgICAgICAkb3RoZXIgPSAkdGhpcy0+c2V0X3NlbGVjdG9yX290aGVyMigkdGlwZSk7CiAgICAgICAgJGNlayA9ICRvdGhlclsnY2VrJ107CiAgICAgICAgJGVyciA9ICRvdGhlclsnZXJyJ107CiAgICAgICAgJGNvbnRlbnQ9JG90aGVyWydjb250ZW50J107CiAgICAgICAgJGpzb249JG90aGVyWydqc29uJ107CiAgICAgYnJlYWs7CiAgICAgfQoKICAgfS8vZW5kIHN3aXRjaAoKICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCwgJ2pzb24nPT4kanNvbik7CiAgIH0KICAgZnVuY3Rpb24gc2V0UGFnZV9IZWFkZXJPdGhlcigpewoKCQkgLy8gcmV0dXJuCgkJIC8vICI8dGFibGUgd2lkdGg9XCIxMDAlXCIgY2xhc3M9XCJtZW51YmFyXCIgY2VsbHBhZGRpbmc9XCIwXCIgY2VsbHNwYWNpbmc9XCIwXCIgYm9yZGVyPVwiMFwiIHN0eWxlPSdtYXJnaW46MCAwIDAgMCc+CiAgICAgLy8KCQkgLy8gPHRyPjx0ZCBjbGFzcz1cIm1lbnVkb3R0ZWRsaW5lXCIgd2lkdGg9XCI0MCVcIiBoZWlnaHQ9XCIyMFwiIHN0eWxlPSd0ZXh0LWFsaWduOnJpZ2h0Jz48Qj4KCQkgLy8gPEEgaHJlZj1cInBnUGVyc2VkaWFhbi5waHA\/UGc9ZGFmdGFyUGVyc2VkaWFhbkJhcmFuZ1wiIHRpdGxlPSdEQUZUQVIgUEVSU0VESUFBTicgPiBEQUZUQVIgUEVSU0VESUFBTiA8L2E+IHwKCQkgLy8gPEEgaHJlZj1cInBnUGVyc2VkaWFhbi5waHA\/UGc9Y2xvc2luZ1BlcnNlZGlhYW5cIiB0aXRsZT0nQ0xPU0lORycgc3R5bGU9J2NvbG9yIDogYmx1ZTsnICA+IENMT1NJTkc8L2E+CiAgICAgLy8KCQkgLy8gJm5ic3AmbmJzcCZuYnNwCgkJIC8vIDwvdGQ+PC90cj4KCQkgLy8gPC90YWJsZT4iOwogICAgIHJldHVybiAiIjsKfQogICBmdW5jdGlvbiBzZXRQYWdlX090aGVyU2NyaXB0KCl7CiAgICAkc2NyaXB0bG9hZCA9CiAgICAgICAgICAiPHNjcmlwdD4KICAgICAgICAgICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAiLiR0aGlzLT5QcmVmaXguIi5sb2FkaW5nKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgPC9zY3JpcHQ+IjsKICAgIHJldHVybgogICAgICAiCiAgICAgIDxzY3JpcHQgc3JjPSdqcy9wZXJlbmNhbmFhbktldWFuZ2FuL2ZpbHRlclNLUEQuanMnIHR5cGU9J3RleHQvamF2YXNjcmlwdCc+PC9zY3JpcHQ+CiAgICAgIDxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9J2pzL3BlcnNlZGlhYW4vY2xvc2luZ1BlcnNlZGlhYW4vY2xvc2luZ1BlcnNlZGlhYW4uanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0JyA+PC9zY3JpcHQ+CiAgICAgICAgPGxpbmsgcmVsPSdzdHlsZXNoZWV0JyBocmVmPSdkYXRlcGlja2VyL2pxdWVyeS11aS5jc3MnPgogICAgICAgIDxzY3JpcHQgc3JjPSdkYXRlcGlja2VyL2pxdWVyeS0xLjEyLjQuanMnPjwvc2NyaXB0PgogICAgICAgIDxzY3JpcHQgc3JjPSdkYXRlcGlja2VyL2pxdWVyeS11aS5qcyc+PC9zY3JpcHQ+CgogICAgICAiLgogICAgICAkc2NyaXB0bG9hZDsKICB9CgogIGZ1bmN0aW9uIEJhcnUoKXsKICAgZ2xvYmFsICRTZW5zdXNUbXA7CiAgICRjZWsgPSAnJzsgJGVycj0nJzsgJGNvbnRlbnQ9Jyc7CiAgICRqc29uID0gVFJVRTsgIC8vJEVyck1zZyA9ICd0ZXMnOwogICAkZm9ybV9uYW1lID0gJHRoaXMtPlByZWZpeC4nX2Zvcm0nOwogICAkdGhpcy0+Zm9ybV93aWR0aCA9IDYwMDsKICAgJHRoaXMtPmZvcm1faGVpZ2h0ID0gMjAwOwogICAkdGhpcy0+Zm9ybV9jYXB0aW9uID0gJ0Nsb3NpbmcgQmFydSAnOwogICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAgICAkJGtleSA9ICR2YWx1ZTsKICAgIH0KICAgICRhcnJheVNlbWVzdGVyID0gYXJyYXkoCiAgICAgIGFycmF5KCcxJywnU0VNRVNURVIgMScpLAogICAgICBhcnJheSgnMicsJ1NFTUVTVEVSIDInKSwKICAgICk7CiAgICBpZigkZmlsdGVyU3ViVW5pdCAhPSAnMDAwJyl7CiAgICAgICRrb2RlU0tQRCA9ICRmaWx0ZXJVcnVzYW4uIi4iLiRmaWx0ZXJCaWRhbmcuIi4iLiRmaWx0ZXJTS1BELiIuIi4kZmlsdGVyVW5pdC4iLiIuJGZpbHRlclN1YlVuaXQ7CiAgICAgICRnZXREYXRhVXJ1c2FuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nMDAnIikpOwogICAgICAkZ2V0RGF0YUJpZGFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPScwMCciKSk7CiAgICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCciKSk7CiAgICAgICRnZXREYXRhVW5pdCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCcgYW5kIGU9JyRmaWx0ZXJVbml0JyBhbmQgZTE9JzAwMCciKSk7CiAgICAgICRnZXREYXRhU3ViVW5pdCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCcgYW5kIGU9JyRmaWx0ZXJVbml0JyBhbmQgZTE9JyRmaWx0ZXJTdWJVbml0JyIpKTsKICAgICAgJHVydXNhbiA9ICRnZXREYXRhVXJ1c2FuWydubV9za3BkJ107CiAgICAgICRiaWRhbmcgPSAkZ2V0RGF0YUJpZGFuZ1snbm1fc2twZCddOwogICAgICAkc2twZCA9ICRnZXREYXRhU0tQRFsnbm1fc2twZCddOwogICAgICAkdW5pdCA9ICRnZXREYXRhVW5pdFsnbm1fc2twZCddOwogICAgICAkc3ViVW5pdCA9ICRnZXREYXRhU3ViVW5pdFsnbm1fc2twZCddOwogICAgfWVsc2VpZigkZmlsdGVyVW5pdCAhPSAnMDAnKXsKICAgICAgJGtvZGVTS1BEID0gJGZpbHRlclVydXNhbi4iLiIuJGZpbHRlckJpZGFuZy4iLiIuJGZpbHRlclNLUEQuIi4iLiRmaWx0ZXJVbml0OwogICAgICAkZ2V0RGF0YVVydXNhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JzAwJyIpKTsKICAgICAgJGdldERhdGFCaWRhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nMDAnIikpOwogICAgICAkZ2V0RGF0YVNLUEQgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nJGZpbHRlclNLUEQnIikpOwogICAgICAkZ2V0RGF0YVVuaXQgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nJGZpbHRlclNLUEQnIGFuZCBlPSckZmlsdGVyVW5pdCcgYW5kIGUxPScwMDAnIikpOwogICAgICAkdXJ1c2FuID0gJGdldERhdGFVcnVzYW5bJ25tX3NrcGQnXTsKICAgICAgJGJpZGFuZyA9ICRnZXREYXRhQmlkYW5nWydubV9za3BkJ107CiAgICAgICRza3BkID0gJGdldERhdGFTS1BEWydubV9za3BkJ107CiAgICAgICR1bml0ID0gJGdldERhdGFVbml0WydubV9za3BkJ107CiAgICAgICRzdWJVbml0ID0gIlNFTVVBIFNVQiBVTklUIjsKICAgIH1lbHNlaWYoJGZpbHRlclNLUEQgIT0nMDAnKXsKICAgICAgJGtvZGVTS1BEID0gJGZpbHRlclVydXNhbi4iLiIuJGZpbHRlckJpZGFuZy4iLiIuJGZpbHRlclNLUEQ7CiAgICAgICRnZXREYXRhVXJ1c2FuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nMDAnIikpOwogICAgICAkZ2V0RGF0YUJpZGFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPScwMCciKSk7CiAgICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCciKSk7CiAgICAgICR1cnVzYW4gPSAkZ2V0RGF0YVVydXNhblsnbm1fc2twZCddOwogICAgICAkYmlkYW5nID0gJGdldERhdGFCaWRhbmdbJ25tX3NrcGQnXTsKICAgICAgJHNrcGQgPSAkZ2V0RGF0YVNLUERbJ25tX3NrcGQnXTsKICAgICAgJHVuaXQgPSAiU0VNVUEgVU5JVCI7CiAgICAgICRzdWJVbml0ID0gIlNFTVVBIFNVQiBVTklUIjsKICAgIH1lbHNlaWYoJGZpbHRlckJpZGFuZyAhPScwMCcpewogICAgICAka29kZVNLUEQgPSAkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nOwogICAgICAkZ2V0RGF0YVVydXNhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JzAwJyIpKTsKICAgICAgJGdldERhdGFCaWRhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nMDAnIikpOwogICAgICAkdXJ1c2FuID0gJGdldERhdGFVcnVzYW5bJ25tX3NrcGQnXTsKICAgICAgJGJpZGFuZyA9ICRnZXREYXRhQmlkYW5nWydubV9za3BkJ107CiAgICAgICRza3BkID0gIlNFTVVBIFNLUEQiOwogICAgICAkdW5pdCA9ICJTRU1VQSBVTklUIjsKICAgICAgJHN1YlVuaXQgPSAiU0VNVUEgU1VCIFVOSVQiOwogICAgfWVsc2VpZigkZmlsdGVyVXJ1c2FuICE9JzAwJyl7CiAgICAgICRrb2RlU0tQRCA9ICRmaWx0ZXJVcnVzYW47CiAgICAgICRnZXREYXRhVXJ1c2FuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nMDAnIikpOwogICAgICAkdXJ1c2FuID0gJGdldERhdGFVcnVzYW5bJ25tX3NrcGQnXTsKICAgICAgJGJpZGFuZyA9ICJTRU1VQSBCSURBTkciOwogICAgICAkc2twZCA9ICJTRU1VQSBTS1BEIjsKICAgICAgJHVuaXQgPSAiU0VNVUEgVU5JVCI7CiAgICAgICRzdWJVbml0ID0gIlNFTVVBIFNVQiBVTklUIjsKICAgIH1lbHNlewogICAgICAka29kZVNLUEQgPSAiIjsKICAgICAgJHVydXNhbiA9ICJTRU1VQSBVUlVTQU4iOwogICAgICAkYmlkYW5nID0gIlNFTVVBIEJJREFORyI7CiAgICAgICRza3BkID0gIlNFTVVBIFNLUEQiOwogICAgICAkdW5pdCA9ICJTRU1VQSBVTklUIjsKICAgICAgJHN1YlVuaXQgPSAiU0VNVUEgU1VCIFVOSVQiOwogICAgfQoKICAgICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KAogICAgICAna29kZTAnID0+IGFycmF5KAogICAgICAnbGFiZWwnPT4nVVJVU0FOJywKICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICd2YWx1ZSc9PiAkdXJ1c2FuCiAgICAgICksCiAgICAgICdrb2RlMScgPT4gYXJyYXkoCiAgICAgICdsYWJlbCc9PidCSURBTkcnLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+ICRiaWRhbmcKICAgICAgKSwKICAgICAgJ2tvZGUyJyA9PiBhcnJheSgKICAgICAgJ2xhYmVsJz0+J1NLUEQnLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+ICRza3BkCiAgICAgICksCiAgICAgICdrb2RlMycgPT4gYXJyYXkoCiAgICAgICdsYWJlbCc9PidVTklUJywKICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICd2YWx1ZSc9PiAkdW5pdAogICAgICApLAogICAgICAna29kZTQnID0+IGFycmF5KAogICAgICAnbGFiZWwnPT4nU1VCIFVOSVQnLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+ICRzdWJVbml0CiAgICAgICksCiAgICAgICd0YWh1bkFuZ2dhcmFuJyA9PiBhcnJheSgKICAgICAgJ2xhYmVsJz0+J1RBSFVOIEFOR0dBUkFOJywKICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICd2YWx1ZSc9PiAkdGhpcy0+dGFodW5BbmdnYXJhbgogICAgICApLAogICAgICAnc2VtZXN0ZXInID0+IGFycmF5KAogICAgICAnbGFiZWwnPT4nU0VNRVNURVInLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+IGNtYkFycmF5KCJwZXJpb2RlU2VtZXN0ZXIiLCRmaWx0ZXJTZW1lc3RlciwkYXJyYXlTZW1lc3RlciwgIi0tIFNFTUVTVEVSIC0tICIuIiIgKQogICAgICApLAogICAgICAna2V0ZXJhbmdhbicgPT4gYXJyYXkoCiAgICAgICdsYWJlbCc9PidLRVRFUkFOR0FOJywKICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICd2YWx1ZSc9PiAiPHRleHRhcmVhIGlkPSdrZXRlcmFuZ2FuJyBuYW1lPSdrZXRlcmFuZ2FuJyBzdHlsZT0nd2lkdGg6MzAwcHg7aGVpZ2h0OjUwcHg7Jz48L3RleHRhcmVhPiIKICAgICAgKSwKCiAgICApOwogICAgLy90b21ib2wKICAgICR0aGlzLT5mb3JtX21lbnViYXdhaCA9CiAgICAgICIKICAgICAgICA8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdrb2RlU0tQRCcgaWQ9J2tvZGVTS1BEJyB2YWx1ZT0nJGtvZGVTS1BEJyA+CiAgICAgIDxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdTaW1wYW4nIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5zYXZlQ2xvc2luZygkaWRQb3N0aW5nKScgdGl0bGU9J1NpbXBhbicgPiAgJm5ic3AgICIuCiAgICAgICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nQmF0YWwnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5DbG9zZSgpJyA+IjsKCiAgICAkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtKCk7CiAgICAkY29udGVudCA9ICRmb3JtOy8vJGNvbnRlbnQgPSAnY29udGVudCc7CiAgICByZXR1cm4gIGFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOwogIH0KICBmdW5jdGlvbiBFZGl0KCRpZEVkaXQpewogICBnbG9iYWwgJFNlbnN1c1RtcDsKICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsKICAgJGpzb24gPSBUUlVFOyAgLy8kRXJyTXNnID0gJ3Rlcyc7CiAgICRmb3JtX25hbWUgPSAkdGhpcy0+UHJlZml4LidfZm9ybSc7CiAgICR0aGlzLT5mb3JtX3dpZHRoID0gNjAwOwogICAkdGhpcy0+Zm9ybV9oZWlnaHQgPSAyMDA7CiAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnQ2xvc2luZyBFZGl0JzsKICAgJGdldERhdGFFZGl0ID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSAkdGhpcy0+VGJsTmFtZSB3aGVyZSBpZD0nJGlkRWRpdCciKSk7CiAgICBmb3JlYWNoICgkZ2V0RGF0YUVkaXQgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgfQogICAgJGFycmF5U2VtZXN0ZXIgPSBhcnJheSgKICAgICAgYXJyYXkoJzEnLCdTRU1FU1RFUiAxJyksCiAgICAgIGFycmF5KCcyJywnU0VNRVNURVIgMicpLAogICAgKTsKICAgICRrb2RlU0tQRCA9ICRjMS4iLiIuJGMuIi4iLiRkLiIuIi4kZS4iLiIuJGUxOwogICAgJGdldERhdGFVcnVzYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRjMScgYW5kIGM9JzAwJyIpKTsKICAgICRnZXREYXRhQmlkYW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckYzEnIGFuZCBjPSckYycgYW5kIGQ9JzAwJyIpKTsKICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGMxJyBhbmQgYz0nJGMnIGFuZCBkPSckZCciKSk7CiAgICAkZ2V0RGF0YVVuaXQgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRjMScgYW5kIGM9JyRjJyBhbmQgZD0nJGQnIGFuZCBlPSckZScgYW5kIGUxPScwMDAnIikpOwogICAgJGdldERhdGFTdWJVbml0ID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckYzEnIGFuZCBjPSckYycgYW5kIGQ9JyRkJyBhbmQgZT0nJGUnIGFuZCBlMT0nJGUxJyIpKTsKICAgICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KAogICAgICAna29kZTAnID0+IGFycmF5KAogICAgICAnbGFiZWwnPT4nVVJVU0FOJywKICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICd2YWx1ZSc9PiAkZ2V0RGF0YVVydXNhblsnbm1fc2twZCddCiAgICAgICksCiAgICAgICdrb2RlMScgPT4gYXJyYXkoCiAgICAgICdsYWJlbCc9PidCSURBTkcnLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+ICRnZXREYXRhQmlkYW5nWydubV9za3BkJ10KICAgICAgKSwKICAgICAgJ2tvZGUyJyA9PiBhcnJheSgKICAgICAgJ2xhYmVsJz0+J1NLUEQnLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+ICRnZXREYXRhU0tQRFsnbm1fc2twZCddCiAgICAgICksCiAgICAgICdrb2RlMycgPT4gYXJyYXkoCiAgICAgICdsYWJlbCc9PidVTklUJywKICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICd2YWx1ZSc9PiAkZ2V0RGF0YVVuaXRbJ25tX3NrcGQnXQogICAgICApLAogICAgICAna29kZTQnID0+IGFycmF5KAogICAgICAnbGFiZWwnPT4nU1VCIFVOSVQnLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+ICRnZXREYXRhU3ViVW5pdFsnbm1fc2twZCddCiAgICAgICksCiAgICAgICd0YWh1bkFuZ2dhcmFuJyA9PiBhcnJheSgKICAgICAgJ2xhYmVsJz0+J1RBSFVOIEFOR0dBUkFOJywKICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICd2YWx1ZSc9PiAkdGhpcy0+dGFodW5BbmdnYXJhbgogICAgICApLAogICAgICAnc2VtZXN0ZXInID0+IGFycmF5KAogICAgICAnbGFiZWwnPT4nU0VNRVNURVInLAogICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgJ3ZhbHVlJz0+IGNtYkFycmF5KCJwZXJpb2RlU2VtZXN0ZXIiLCRzZW1lc3RlciwkYXJyYXlTZW1lc3RlciwgIi0tIFNFTUVTVEVSIC0tICIuIiIgKQogICAgICApLAogICAgICAna2V0ZXJhbmdhbicgPT4gYXJyYXkoCiAgICAgICdsYWJlbCc9PidLRVRFUkFOR0FOJywKICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICd2YWx1ZSc9PiAiPHRleHRhcmVhIGlkPSdrZXRlcmFuZ2FuJyBuYW1lPSdrZXRlcmFuZ2FuJyBzdHlsZT0nd2lkdGg6MzAwcHg7aGVpZ2h0OjUwcHg7Jz4ka2V0ZXJhbmdhbjwvdGV4dGFyZWEKCiAgICAgICAgIgogICAgICApLAoKICAgICk7CiAgICAvL3RvbWJvbAogICAgJHRoaXMtPmZvcm1fbWVudWJhd2FoID0KICAgICAgIgogICAgICAgIDxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2tvZGVTS1BEJyBpZD0na29kZVNLUEQnIHZhbHVlPScka29kZVNLUEQnID4KICAgICAgPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1NpbXBhbicgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLnNhdmVFZGl0KCRpZEVkaXQpJyB0aXRsZT0nU2ltcGFuJyA+ICAmbmJzcCAgIi4KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdCYXRhbCcgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLkNsb3NlKCknID4iOwoKICAgICRmb3JtID0gJHRoaXMtPmdlbkZvcm0oKTsKICAgICRjb250ZW50ID0gJGZvcm07Ly8kY29udGVudCA9ICdjb250ZW50JzsKICAgIHJldHVybiAgYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCk7CiAgfQoKCgogIC8vZGFmdGFyID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogIGZ1bmN0aW9uIHNldEtvbG9tSGVhZGVyKCRNb2RlPTEsICRDaGVja2JveD0nJyl7CiAgICAkaGVhZGVyVGFibGUgPQogICAgICAiPHRoZWFkPgogICAgICAgPHRyPgogICAgICAgICA8dGggY2xhc3M9J3RoMDEnIHN0eWxlPSd3aWR0aDoxJTsnPk5PPC90aD4KICAgICAgICAgJENoZWNrYm94CiAgICAgICAgIDx0aCBjbGFzcz0ndGgwMScgc3R5bGU9J3dpZHRoOjElOyc+S09ERSBTS1BEPC90aD4KICAgICAgICAgPHRoIGNsYXNzPSd0aDAxJyBzdHlsZT0nd2lkdGg6NTAlOyc+TkFNQSBTS1BEPC90aD4KICAgICAgICAgPHRoIGNsYXNzPSd0aDAxJyBzdHlsZT0nd2lkdGg6MSU7Jz5TRU1FU1RFUjwvdGg+CiAgICAgICAgIDx0aCBjbGFzcz0ndGgwMScgc3R5bGU9J3dpZHRoOjEwJTsnPlRBTkdHQUwgVVBEQVRFPC90aD4KICAgICAgICAgPHRoIGNsYXNzPSd0aDAxJyBzdHlsZT0nd2lkdGg6NSU7Jz5VU0VSIElEPC90aD4KICAgICAgICAgPHRoIGNsYXNzPSd0aDAxJyBzdHlsZT0nd2lkdGg6MjAlOyc+S0VURVJBTkdBTjwvdGg+CiAgICAgICA8L3RyPgoKICAgICAgIDwvdGhlYWQ+IjsKICAgJE5vbW9yQ29sU3BhbiA9ICRNb2RlPT0xPyAyOiAxOwoKCiAgICByZXR1cm4gJGhlYWRlclRhYmxlOwogIH0KCiAgZnVuY3Rpb24gc2V0S29sb21EYXRhKCRubywgJGlzaSwgJE1vZGUsICRUYW1waWxDaGVja0JveCl7CiAgIGdsb2JhbCAkUmVmOwogICBmb3JlYWNoICgkaXNpIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICB9CiAgIGlmKCR0aGlzLT5ub21vcktvbG9tICUgMiA9PSAxKXsKICAgICAgJHJvd0NsYXNzID0gInJvdzAiOwogICAgfWVsc2V7CiAgICAgICRyb3dDbGFzcyA9ICJyb3cxIjsKICAgIH0KICAgICRrb2RlU0tQRCA9ICRjMS4iLiIuJGMuIi4iLiRkLiIuIi4kZS4iLiIuJGUxOwogICAgaWYoaW5fYXJyYXkoJGtvZGVTS1BELCR0aGlzLT5hcnJheVNLUEQpID09IGZhbHNlKXsKICAgICAgJHRoaXMtPmFycmF5U0tQRFtdID0gJGtvZGVTS1BEOwogICAgICAkZ2V0RGF0YVNLUEQgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgIikpOwogICAgICAka29sb21DbG9zaW5nID0gIgogICAgICAgIDx0ciBjbGFzcz0nJHJvd0NsYXNzJyB2YWxpZ249J3RvcCc+CiAgICAgICAgICA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JG5vPC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+JFRhbXBpbENoZWNrQm94PC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+JGtvZGVTS1BEPC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPiIuJGdldERhdGFTS1BEWydubV9za3BkJ10uIjwvdGQ+CiAgICAgICAgICA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPiRzZW1lc3RlcjwvdGQ+CiAgICAgICAgICA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPiIuJHRoaXMtPmdlbmVyYXRlRGF0ZSgkdGFuZ2dhbF91cGRhdGUpLiI8L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgID4iLiR1c2VybmFtZS4iPC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPiIuJGtldGVyYW5nYW4uIjwvdGQ+CiAgICAgICAgPC90cj4KICAgICAgIjsKICAgIH1lbHNlewogICAgICAka29sb21DbG9zaW5nID0gIgogICAgICAgIDx0ciBjbGFzcz0nJHJvd0NsYXNzJyB2YWxpZ249J3RvcCc+CiAgICAgICAgICA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JG5vPC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+JFRhbXBpbENoZWNrQm94PC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+PC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPjwvdGQ+CiAgICAgICAgICA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPiRzZW1lc3RlcjwvdGQ+CiAgICAgICAgICA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPiIuJHRoaXMtPmdlbmVyYXRlRGF0ZSgkdGFuZ2dhbF91cGRhdGUpLiI8L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdHYXJpc0RhZnRhcicgID4iLiR1c2VybmFtZS4iPC90ZD4KICAgICAgICAgIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPiIuJGtldGVyYW5nYW4uIjwvdGQ+CiAgICAgICAgPC90cj4KICAgICAgIjsKICAgIH0KCgogICAgJHRoaXMtPm5vbW9yS29sb20gKz0gMTsKICAgICRLb2xvbXMgPSBhcnJheSgKICAgICAgYXJyYXkoIlZ1bG5XYWxrZXIiLCAka29sb21DbG9zaW5nKQogICAgICk7CgogICByZXR1cm4gJEtvbG9tczsKICB9CgoKCgoKICBmdW5jdGlvbiBnZW5EYWZ0YXJPcHNpKCl7CiAgIGdsb2JhbCAkUmVmLCAkTWFpbjsKICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICB9CiAgICRqdW1sYWhEYXRhID0gJF9SRVFVRVNUWydqdW1sYWhEYXRhJ107CiAgIGlmKGVtcHR5KCRqdW1sYWhEYXRhKSkkanVtbGFoRGF0YSA9IDUwOwogICAkYXJyYXlTZW1lc3RlciA9IGFycmF5KAogICAgIGFycmF5KCcxJywiU0VNRVNURVIgMSIpLAogICAgIGFycmF5KCcyJywiU0VNRVNURVIgMiIpLAogICApOwogICAgICAkVGFtcGlsT3B0ID0KICAgICAgICAgICI8dHI+PHRkPiIuCiAgICAgICAgICBnZW5GaWx0ZXJCYXIoYXJyYXkoJHRoaXMtPmdlbkZpbHRlclN1YlVuaXQoJHRoaXMtPlByZWZpeCwkdGhpcy0+UHJlZml4LidGaWx0ZXJTS1BEJywnMTAwJScsJzE0NXB4JykpLCcnLCcnLCcnKS4KICAgICAgICAgIGdlbkZpbHRlckJhcigKICAgICAgICAgICAgYXJyYXkoCiAgICAgICAgICAgICAgIgogICAgICAgICAgICAgIFRBSFVOICZuYnNwICZuYnNwIDxpbnB1dCB0eXBlPSd0ZXh0JyB2YWx1ZT0nIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iJyBzdHlsZT0nd2lkdGg6NDBweDsnIHJlYWRvbmx5PiZuYnNwICZuYnNwICZuYnNwICZuYnNwIEpVTUxBSCBEQVRBICZuYnNwICZuYnNwIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lID0nanVtbGFoRGF0YScgaWQ9J2p1bWxhaERhdGEnIHZhbHVlID0nJGp1bWxhaERhdGEnIHN0eWxlPSd3aWR0aDo0MHB4Oyc+ICAmbmJzcCA8aW5wdXQgdHlwZT0nYnV0dG9uJyBvbmNsaWNrID0kdGhpcy0+UHJlZml4LnJlZnJlc2hMaXN0KHRydWUpOyB2YWx1ZT0nVGFtcGlsa2FuJz4gJm5ic3AgU0VNRVNURVIgOiAiLmNtYkFycmF5KCJmaWx0ZXJTZW1lc3RlciIsJGZpbHRlclNlbWVzdGVyLCRhcnJheVNlbWVzdGVyLCItLSBTRU1VQSBTRU1FU1RFUiAtLSIsIiBvbmNoYW5nZT0kdGhpcy0+UHJlZml4LmZpbHRlclJlbmRlcih0cnVlKSIpCiAgICAgICAgICApLCcnLCcnLCcnKTsKCiAgICByZXR1cm4gYXJyYXkoJ1RhbXBpbE9wdCc9PiRUYW1waWxPcHQpOwoKCiAgfQoKICBmdW5jdGlvbiBnZXREYWZ0YXJPcHNpKCRNb2RlPTEpewogICAgZ2xvYmFsICRNYWluLCAkSFRUUF9DT09LSUVfVkFSUzsKICAgICRVSUQgPSAkX0NPT0tJRVsnY29JRCddOwogICAgLy9rb25kaXNpIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAkYXJyS29uZGlzaSA9IGFycmF5KCk7CiAgICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgfQogICAgaWYoJGZpbHRlclVydXNhbiAhPScwMCcpewogICAgICAgICRhcnJLb25kaXNpW10gPSAiYzEgPSAnJGZpbHRlclVydXNhbiciOwogICAgfQogICAgaWYoJGZpbHRlckJpZGFuZyAhPScwMCcpewogICAgICAgICRhcnJLb25kaXNpW10gPSAiYyA9ICckZmlsdGVyQmlkYW5nJyI7CiAgICB9CiAgICBpZigkZmlsdGVyU0tQRCAhPScwMCcpewogICAgICAgICRhcnJLb25kaXNpW10gPSAiZCA9ICckZmlsdGVyU0tQRCciOwogICAgfQogICAgaWYoJGZpbHRlclVuaXQgIT0nMDAnKXsKICAgICAgICAkYXJyS29uZGlzaVtdID0gImUgPSAnJGZpbHRlclVuaXQnIjsKICAgIH0KICAgIGlmKCRmaWx0ZXJTdWJVbml0ICE9JzAwMCcpewogICAgICAgICRhcnJLb25kaXNpW10gPSAiZTEgPSAnJGZpbHRlclN1YlVuaXQnIjsKICAgIH0KICAgICRhcnJLb25kaXNpW10gPSAidGFodW5fYW5nZ2FyYW4gPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iJyI7CgogICAgaWYoIWVtcHR5KCRmaWx0ZXJTZW1lc3RlcikpewogICAgICAgICRhcnJLb25kaXNpW109ICJzZW1lc3RlciA9ICckZmlsdGVyU2VtZXN0ZXInIjsKICAgIH0KCiAgICAkS29uZGlzaT0gam9pbignIGFuZCAnLCRhcnJLb25kaXNpKTsKICAgICRLb25kaXNpID0gJEtvbmRpc2kgPT0nJyA\/ICcnOicgV2hlcmUgJy4kS29uZGlzaSA7CiAgICAvL09yZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICRmbU9SREVSMSA9IGNla1BPU1QoJ2ZtT1JERVIxJyk7CiAgICAkZm1ERVNDMSA9IGNla1BPU1QoJ2ZtREVTQzEnKTsKICAgICRBc2MxID0gJGZtREVTQzEgPT0nJz8gJyc6ICdkZXNjJzsKICAgICRhcnJPcmRlcnMgPSBhcnJheSgpOwogICAgJGFyck9yZGVyc1tdPSAiIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpLHNlbWVzdGVyIjsKICAgICRPcmRlcj0gam9pbignLCcsJGFyck9yZGVycyk7CiAgICAkT3JkZXJEZWZhdWx0ID0gJyc7CiAgICAkT3JkZXIgPSAgJE9yZGVyID09Jyc\/ICRPcmRlckRlZmF1bHQgOiAnIE9yZGVyIEJ5ICcuJE9yZGVyOwoKICAgIGlmKGVtcHR5KCRqdW1sYWhEYXRhKSkkanVtbGFoRGF0YSA9NTA7CiAgICAkdGhpcy0+cGFnZVBlckhhbCA9ICRqdW1sYWhEYXRhOwogICAgJE1haW4tPlBhZ2VQZXJIYWwgPSAkanVtbGFoRGF0YTsKICAgICRwYWdlUGVySGFsID0gJHRoaXMtPnBhZ2VQZXJIYWwgPT0nJyA\/ICRNYWluLT5QYWdlUGVySGFsOiAkdGhpcy0+cGFnZVBlckhhbDsKICAgICRIYWxEZWZhdWx0PWNla1BPU1QoJHRoaXMtPlByZWZpeC4nX2hhbCcsMSk7CiAgICAvLyRMaW1pdCA9ICIgbGltaXQgIi4oKCRIYWxEZWZhdWx0ICAqMSkgLSAxKSAqICRNYWluLT5QYWdlUGVySGFsLiIsIi4kTWFpbi0+UGFnZVBlckhhbDsgLy8kTGltaXRIYWwgPSAnJzsKICAgICRMaW1pdCA9ICIgbGltaXQgIi4oKCRIYWxEZWZhdWx0ICAqMSkgLSAxKSAqICRwYWdlUGVySGFsLiIsIi4kcGFnZVBlckhhbDsgLy8kTGltaXRIYWwgPSAnJzsKICAgICRMaW1pdCA9ICRNb2RlID09IDMgPyAnJzogJExpbWl0OwogICAgLy9ub2F3YWwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAkTm9Bd2FsPSAkcGFnZVBlckhhbCAqICgoJEhhbERlZmF1bHQqMSkgLSAxKTsKICAgICROb0F3YWwgPSAkTW9kZSA9PSAzID8gMDogJE5vQXdhbDsKCiAgICByZXR1cm4gYXJyYXkoJ0tvbmRpc2knPT4kS29uZGlzaSwgJ09yZGVyJz0+JE9yZGVyICwnTGltaXQnPT4kTGltaXQsICdOb0F3YWwnPT4kTm9Bd2FsICk7CgogIH0KCgogIGZ1bmN0aW9uIHBhZ2VTaG93KCl7CiAgICBnbG9iYWwgJGFwcCwgJE1haW47CgogICAgJG5hdmF0YXNfID0gJHRoaXMtPnNldE5hdkF0YXMoKTsKICAgICRuYXZhdGFzID0gJG5hdmF0YXNfPT0nJz8gLy8gJzAnOiAnMjAnOwogICAgICAnJzoKICAgICAgIjx0cj48dGQgaGVpZ2h0PScyMCc+Ii4KICAgICAgICAgICRuYXZhdGFzXy4KICAgICAgIjwvdGQ+PC90cj4iOwogICAgJGZvcm0xID0gJHRoaXMtPndpdGhmb3JtPyAiPGZvcm0gbmFtZT0nJHRoaXMtPkZvcm1OYW1lJyBpZD0nJHRoaXMtPkZvcm1OYW1lJyBtZXRob2Q9J3Bvc3QnIGFjdGlvbj0nJz4iIDogJyc7CiAgICAkZm9ybTIgPSAkdGhpcy0+d2l0aGZvcm0\/ICI8L2Zvcm0gPiI6ICcnOwoKICAgIGlmKCR0aGlzLT5qZW5pc0Zvcm0gPT0iUEVOWVVTVU5BTiIgfHwgJHRoaXMtPmplbmlzRm9ybSA9PSJWQUxJREFTSSIgfHwgJHRoaXMtPmplbmlzRm9ybVRlcmFraGlyID09ICJQRU5ZVVNVTkFOIiB8fCAkdGhpcy0+amVuaXNGb3JtVGVyYWtoaXIgPT0gIlZBTElEQVNJIiApewogICAgICAkdGVyZ2FudHVuZyA9ICIxMDAiOwogICAgfWVsc2V7CiAgICAgICR0ZXJnYW50dW5nID0gIjEwMCI7CiAgICB9CiAgICByZXR1cm4KCiAgICAiPGh0bWw+Ii4KICAgICAgJHRoaXMtPmdlbkhUTUxIZWFkKCkuCiAgICAgICI8Ym9keSA+Ii4KCiAgICAgICI8dGFibGUgaWQ9J0tlcmFuZ2thSGFsJyBjbGFzcz0nbWVudWJhcicgY2VsbHNwYWNpbmc9JzAnIGNlbGxwYWRkaW5nPScwJyBib3JkZXI9JzAnICBoZWlnaHQ9JzEwMCUnID4iLgogICAgICAgICI8dHIgaGVpZ2h0PSczNCc+PHRkPiIuCiAgICAgICAgICAkdGhpcy0+c2V0UGFnZV9IZWFkZXIoKS4KICAgICAgICAgICI8ZGl2IGlkPSdoZWFkZXInID48L2Rpdj4iLgogICAgICAgICI8L3RkPjwvdHI+Ii4KICAgICAgICAkbmF2YXRhcy4KICAgICAgICAiPHRyIGhlaWdodD0nKicgdmFsaWduPSd0b3AnPiA8dGQgPiIuCgogICAgICAgICAgJHRoaXMtPnNldFBhZ2VfSGVhZGVyT3RoZXIoKS4KICAgICAgICAgICI8ZGl2IGFsaWduPSdjZW50ZXInIGNsYXNzPSdjZW50ZXJtYWluJyA+Ii4KICAgICAgICAgICI8ZGl2IGNsYXNzPSdtYWluJyA+Ii4KICAgICAgICAgICRmb3JtMS4KICAgICAgICAgICAgJHRoaXMtPnNldFBhZ2VfQ29udGVudCgpLgoKICAgICAgICAgICRmb3JtMi4KICAgICAgICAgICI8L2Rpdj48L2Rpdj4iLgogICAgICAgICI8L3RkPjwvdHI+Ii4KICAgICAgICAiPHRyPjx0ZCBoZWlnaHQ9JzI5JyA+Ii4KICAgICAgICAgICRNYWluLT5Db3B5UmlnaHQuCiAgICAgICAgIjwvdGQ+PC90cj4iLgogICAgICAgICRPdGhlckZvb3RlclBhZ2UuCiAgICAgICI8L3RhYmxlPiIuCiAgICAgICI8L2JvZHk+CiAgICA8L2h0bWw+CiAgICA8c3R5bGU+CiAgICAgICNrZXJhbmdrYUhhbCB7CiAgICAgICAgICAgIHdpZHRoOiR0ZXJnYW50dW5nJTsKICAgICAgfQoKICAgIDwvc3R5bGU+CiAgICAiOwogIH0KCiAgZnVuY3Rpb24gY2hlY2tLb3NvbmcoJGp1bWxhaCl7CiAgICAgIGlmKCRqdW1sYWggPT0gMCB8fCAkanVtbGFoID09ICcnKXsKICAgICAgICAgICRqdW1sYWggPSAiIjsKICAgICAgfQogICAgICByZXR1cm4gJGp1bWxhaDsKICB9CiAgZnVuY3Rpb24gbnVsbENoZWNrZXIoJGFuZ2thKXsKICAgIGlmKGVtcHR5KCRhbmdrYSkpewogICAgICAgICRhbmdrYSA9ICIiOwogICAgfQogICAgcmV0dXJuICRhbmdrYTsKCiAgfQogIGZ1bmN0aW9uIHJlbW92ZUtvbWEoJGFuZ2thKXsKICAgICAgcmV0dXJuIHN0cl9yZXBsYWNlKCIuMDAiLCIiLCRhbmdrYSk7CiAgfQogIGZ1bmN0aW9uIGthc2loTm9sKCRhbmdrYSl7CiAgICAgIGlmKCRhbmdrYSA8IDEwKXsKICAgICAgICAgICRodWJsYSA9ICIwMDAiLiRhbmdrYTsKICAgICAgfWVsc2VpZigkYW5na2EgPCAxMDApewogICAgICAgICAgJGh1YmxhID0gIjAwIi4kYW5na2E7CiAgICAgIH1lbHNlaWYoJGFuZ2thIDwgMTAwMCl7CiAgICAgICAgICAkaHVibGEgPSAiMCIuJGFuZ2thOwogICAgICB9ZWxzZWlmKCRhbmdrYSA8IDEwMDAwKXsKICAgICAgICAgICRodWJsYSA9ICRhbmdrYTsKICAgICAgfQogICAgICByZXR1cm4gJGh1YmxhOwogIH0KICBmdW5jdGlvbiBIYXB1cygkaWRzKXsKICAgICAkZXJyPScnOyAkY2VrPScnOwogICAgICR0YWh1bkRlcGFuID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4gKyAxOwogICAgIGZvcigkaSA9IDA7ICRpPGNvdW50KCRpZHMpOyAkaSsrKSB7CiAgICAgICAgICAkZ2V0RGF0YUNsb3NpbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSBpZCA9ICciLiRpZHNbJGldLiInIikpOwogICAgICAgICAgJGtvZGVTS1BEID0gJGdldERhdGFDbG9zaW5nWydjMSddLiIuIi4kZ2V0RGF0YUNsb3NpbmdbJ2MnXS4iLiIuJGdldERhdGFDbG9zaW5nWydkJ10uIi4iLiRnZXREYXRhQ2xvc2luZ1snZSddLiIuIi4kZ2V0RGF0YUNsb3NpbmdbJ2UxJ107CiAgICAgICAgICBpZigkdGhpcy0+c3FsTnVtUm93KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0dXR1cF9idWt1X3BlcnNlZGlhYW4gd2hlcmUgdGFodW5fYW5nZ2FyYW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9JyRrb2RlU0tQRCciKSkgPT0gMCl7CiAgICAgICAgICAgIGlmKCRnZXREYXRhQ2xvc2luZ1snc2VtZXN0ZXInXSA9PSAnMScpewogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gc2FsZG9fYXdhbCB3aGVyZSB0YW5nZ2FsID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMScgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCciKTsKICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSB0YW5nZ2FsX2J1a3UgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxJyBhbmQgam5zPScxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyIpOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnMSciKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgLy8gJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBzYWxkb19hd2FsIHdoZXJlIHllYXIodGFuZ2dhbCkgPSAnJHRhaHVuRGVwYW4nIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIik7CiAgICAgICAgICAgICAgLy8gJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgeWVhcih0YW5nZ2FsX2J1a3UpID0gJyR0YWh1bkRlcGFuJyBhbmQgam5zPScxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyIpOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnMiciKTsKICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCB0YWh1biA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0gJzMnIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbXlzcWxfcXVlcnkoImRlbGV0ZSBmcm9tICR0aGlzLT5UYmxOYW1lIHdoZXJlIGlkID0gJyIuJGlkc1skaV0uIiciKTsKICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAkZXJyID0gIkRhdGEgc3VkYWggZGkgdHV0dXAgYnVrdSB0aWRhayBkYXBhdCBkaSBoYXB1cyAhIjsKICAgICAgICAgIH0KICAgIH0KICAgIHJldHVybiBhcnJheSgnZXJyJz0+JGVyciwnY2VrJz0+JGNlayk7CiAgfQoKICBmdW5jdGlvbiBMYXBvcmFuKCRkdCl7CiAgCSBnbG9iYWwgJFNlbnN1c1RtcDsKICAJICRjZWsgPSAnJzsgJGVycj0nJzsgJGNvbnRlbnQ9Jyc7CiAgCSAkanNvbiA9IFRSVUU7CS8vJEVyck1zZyA9ICd0ZXMnOwogIAkgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtJzsKICAJICR0aGlzLT5mb3JtX3dpZHRoID0gMzUwOwogIAkgJHRoaXMtPmZvcm1faGVpZ2h0ID0gMTAwOwogIAkgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdMQVBPUkFOIERBRlRBUiBQRVJTRURJQUFOJzsKCiAgCSAkYzEgPSAkZHRbJ2Nsb3NpbmdQZXJzZWRpYWFuU0tQRDJmbVVSVVNBTiddOwogIAkgJGMgPSAkZHRbJ2Nsb3NpbmdQZXJzZWRpYWFuU0tQRDJmbVNLUEQnXTsKICAJICRkID0gJGR0WydjbG9zaW5nUGVyc2VkaWFhblNLUEQyZm1VTklUJ107CiAgCSAkZSA9ICRkdFsnY2xvc2luZ1BlcnNlZGlhYW5TS1BEMmZtU1VCVU5JVCddOwogIAkgJGUxID0gJGR0WydjbG9zaW5nUGVyc2VkaWFhblNLUEQyZm1TRUtTSSddOwoKICAJICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KAogIAkJCSdDZXRha2phbmcnID0+IGFycmF5KAogIAkJCQkJCQkJCSdsYWJlbCc9PidUQU5HR0FMIENFVEFLJywKICAJCQkJCQkJCQknbGFiZWxXaWlkdGgnPT4xMDAsCiAgCQkJCQkJCQkJJ3ZhbHVlJz0+IjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSd0YW5nZ2FsQ2V0YWsnIGlkPSd0YW5nZ2FsQ2V0YWsnIHZhbHVlPSciLmRhdGUoJ2QtbS1ZJykuIic+CiAgCQkJCQkJCQkJIiwKICAJCQkJCQkJCSksCiAgCQkJJ3VzZXJuYW1lJyA9PiBhcnJheSgKICAJCQkJCQkJCQknbGFiZWwnPT4nVVNFUk5BTUUnLAogIAkJCQkJCQkJCSdsYWJlbFdpaWR0aCc9PjEwMCwKICAJCQkJCQkJCQkndmFsdWUnPT4iPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J3VzZXJuYW1lJyBpZD0ndXNlcm5hbWUnIHJlYWRvbmx5PSdyZWFkb25seScgdmFsdWU9JyIuJHRoaXMtPnVzZXJuYW1lLiInPgogIAkJCQkJCQkJCSIsCiAgCQkJCQkJCQkpLAogIAkJCSd0dGQnID0+IGFycmF5KAogIAkJCQkJCQkJCSdsYWJlbCc9PidUVEQnLAogIAkJCQkJCQkJCSdsYWJlbFdpaWR0aCc9PjEwMCwKICAJCQkJCQkJCQkndmFsdWUnPT5jbWJRdWVyeSgnaWRQZW5hbmRhVGFuZ2FuJywkaWRQZW5hbmRhVGFuZ2FuLCJTRUxFQ1QgSWQsIG5hbWEgZnJvbSByZWZfdGFuZGF0YW5nYW4gd2hlcmUga2F0ZWdvcmlfdGFuZGF0YW5nYW4gPSAnMjMnIGFuZCBjMSA9ICckYzEnIGFuZCBjID0gJyRjJyBhbmQgZCA9ICckZCciLCIiLCctLSBUVEQgLS0nKSwKCiAgCQkJCQkJCQkpLAogIAkJCSk7CiAgCQkkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQogIAkJCSIKICAJCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdjMScgaWQ9J2MxJyB2YWx1ZT0nJGMxJyA+CiAgCQkJPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nYycgaWQ9J2MnIHZhbHVlPSckYycgPgogIAkJCTxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2QnIGlkPSdkJyB2YWx1ZT0nJGQnID4KICAJCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdlJyBpZD0nZScgdmFsdWU9JyRlJyA+CiAgCQkJPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nZTEnIGlkPSdlMScgdmFsdWU9JyRlMScgPgogIAkJCTxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2ZpbHRlclBlcmlvZGUnIGlkPSdmaWx0ZXJQZXJpb2RlJyB2YWx1ZT0nJGZpbHRlclBlcmlvZGUnID4KICAJCQkiLgogIAkJCSIgPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1RURCcgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLm5ld1RhbmRhVGFuZ2FuZ2FuKCknIHRpdGxlPSdUVEQnID4KICAJCQkJPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1ZpZXcnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi52aWV3TGFwb3JhbigpJyB0aXRsZT0nVmlldycgPiAgICIuCiAgCQkJIiA8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nQmF0YWwnIG9uY2xpY2s9JyR0aGlzLT5QcmVmaXguQ2xvc2UoKScgPiI7CgogIAkgJGZvcm0gPSAkdGhpcy0+Z2VuRm9ybSgpOwogIAkgJGNvbnRlbnQgPSAkZm9ybTsvLyRjb250ZW50ID0gJ2NvbnRlbnQnOwogIAkgcmV0dXJuCWFycmF5ICgnY2VrJz0+JGNlaywgJ2Vycic9PiRlcnIsICdjb250ZW50Jz0+JGNvbnRlbnQpOwogIAl9CgogIAlmdW5jdGlvbiBuZXdUYW5kYVRhbmdhbmdhbigpewogIAkJIGdsb2JhbCAkU2Vuc3VzVG1wOwogIAkJICRjZWsgPSAnJzsgJGVycj0nJzsgJGNvbnRlbnQ9Jyc7CiAgCQkgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgCQkJCSQka2V5ID0gJHZhbHVlOwogIAkJIH0KICAJCSAkanNvbiA9IFRSVUU7ICAvLyRFcnJNc2cgPSAndGVzJzsKICAJCSAkZm9ybV9uYW1lID0gJHRoaXMtPlByZWZpeC4nX2Zvcm0nOwogIAkJICR0aGlzLT5mb3JtX3dpZHRoID0gNzAwOwogIAkJICR0aGlzLT5mb3JtX2hlaWdodCA9IDMwMDsKICAJCSAkdGhpcy0+Zm9ybV9jYXB0aW9uID0gJ0JBUlUgVEFOREEgVEFOR0FOJzsKICAJCQkgJGFyck9yZGVyID0gYXJyYXkoCiAgCQkJCQkJCQkJIGFycmF5KCcxJywnS2VwYWxhIERpbmFzJyksCiAgCQkJCQkJCQkJIGFycmF5KCcyJywnUGVuZ3VydXMgQmFyYW5nJyksCiAgCQkJCQkJKTsKICAJCSRhcnIgPSBhcnJheSgKCiAgCQkJCWFycmF5KCdzZWxlY3RLZXBhbGEgRGluYXMnLCdLZXBhbGEgRGluYXMnKSwKICAJCQkJYXJyYXkoJ3NlbGVjdFBlbmd1cnVzIEJhcmFuZycsJ1Blbmd1cnVzIEJhcmFuZycpLAogIAkJCQkpOwogIAkJCSRxdWVyeSA9ICIiIDskY2VrIC49JHF1ZXJ5OwogIAkJCSRyZXMgPSBteXNxbF9xdWVyeSgkcXVlcnkpOwogIAkJCSRrb2RlMT1nZW5OdW1iZXIoJGR0WydjJ10sMik7CiAgCQkJJGtvZGUyPWdlbk51bWJlcigkZHRbJ2QnXSwyKTsKICAJCQkka29kZTM9Z2VuTnVtYmVyKCRkdFsnZSddLDIpOwogIAkJCSRrb2RlND1nZW5OdW1iZXIoJGR0WydlMSddLDMpOwogIAkJCSRuYW1hPSRkdFsnbmFtYSddOwogIAkJCSRuaXA9JGR0WyduaXAnXTsKICAJCQkkamFiYXRhbj0kZHRbJ2phYmF0YW4nXTsKCiAgCQkJJEFycmpidCA9IGFycmF5KAogIAkJCQkJYXJyYXkoJzEuJywiS2VwYWxhIERpbmFzIiksCiAgCQkJCQlhcnJheSgnMi4nLCdQZW5ndXJ1cyBCYXJhbmcnKSwKICAJCQkJCSk7CgogIAkJCSRrZXQgPSAkZHRbJ2thdGVnb3JpX3RhbmRhdGFuZ2FuJ107CiAgCQkJJGFycmF5RXNlbG9uID0gYXJyYXkoCiAgCQkJCQlhcnJheSgnMScsJ0VTRUxPTiBJJyksCiAgCQkJCQlhcnJheSgnMicsJ0VTRUxPTiBJSScpLAogIAkJCQkJYXJyYXkoJzMnLCdFU0VMT04gSUlJJyksCiAgCQkJCQlhcnJheSgnNCcsJ0VTRUxPTiBJVicpLAogIAkJCQkJYXJyYXkoJzUnLCdFU0VMT04gVicpCiAgCQkJCQkpOwoKICAJCQkkcXJ5NCA9ICJTRUxFQ1QgKiBGUk9NIHJlZl9za3BkIFdIRVJFIGMxPSckYzEnIGFuZCBjPScwMCcgQU5EIGQ9JzAwJyBBTkQgZT0nMDAnIEFORCBlMT0nMDAwJyI7Ly8kY2VrLj0kcXJ5OwogIAkJCSRhcXJ5NCA9IG15c3FsX3F1ZXJ5KCRxcnk0KTsKICAJCQkkcXVlcnljMSA9IG15c3FsX2ZldGNoX2FycmF5KCRhcXJ5NCk7CiAgCQkJJHFyeSA9ICJTRUxFQ1QgKiBGUk9NIHJlZl9za3BkIFdIRVJFIGMxPSckYzEnIGFuZCBjPSckYycgQU5EIGQ9JzAwJyBBTkQgZT0nMDAnIEFORCBlMT0nMDAwJyI7Ly8kY2VrLj0kcXJ5OwogIAkJCSRhcXJ5ID0gbXlzcWxfcXVlcnkoJHFyeSk7CiAgCQkJJHF1ZXJ5YyA9IG15c3FsX2ZldGNoX2FycmF5KCRhcXJ5KTsKICAJCQkkcXJ5MSA9ICJTRUxFQ1QgKiBGUk9NIHJlZl9za3BkIFdIRVJFIGMxPSckYzEnIGFuZCBjPSckYycgQU5EIGQ9JyRkJyBBTkQgZT0nMDAnIEFORCBlMT0nMDAwJyI7Ly8kY2VrLj0kcXJ5MTsKICAJCQkkYXFyeTEgPSBteXNxbF9xdWVyeSgkcXJ5MSk7CiAgCQkJJHF1ZXJ5ZCA9IG15c3FsX2ZldGNoX2FycmF5KCRhcXJ5MSk7CiAgCQkJJHFyeTIgPSAiU0VMRUNUICogRlJPTSByZWZfc2twZCBXSEVSRSBjMT0nJGMxJyBhbmQgYz0nJGMnIEFORCBkPSckZCcgQU5EIGU9JyRlJyBBTkQgZTE9JzAwMCciOy8vJGNlay49JHFyeTI7CiAgCQkJJGFxcnkyID0gbXlzcWxfcXVlcnkoJHFyeTIpOwogIAkJCSRxdWVyeWUgPSBteXNxbF9mZXRjaF9hcnJheSgkYXFyeTIpOwogIAkJCSRxcnkzID0gIlNFTEVDVCAqIEZST00gcmVmX3NrcGQgV0hFUkUgYzE9JyRjMScgYW5kIGM9JyRjJyBBTkQgZD0nJGQnIEFORCBlPSckZScgQU5EIGUxPSckZTEnIjskY2VrLj0kcXJ5MzsKICAJCQkkYXFyeTMgPSBteXNxbF9xdWVyeSgkcXJ5Myk7CiAgCQkJJHF1ZXJ5ZTEgPSBteXNxbF9mZXRjaF9hcnJheSgkYXFyeTMpOwogIAkJCSRxdWVyeUthdGVnb3JpID0gIlNFTEVDVCBpZCxrYXRlZ29yaV90YW5kYXRhbmdhbiBGUk9NIHJlZl9rYXRlZ29yaV90YW5kYXRhbmdhbiI7CgoKICAJCQkkcXVlcnlQYW5na2F0PSJzZWxlY3QgbmFtYSxjb25jYXQobmFtYSwnICgnLGdvbCwnLycscnVhbmcsJyknKWFzIG5hbWEgZnJvbSByZWZfcGFuZ2thdCBvcmRlciBieSBnb2wscnVhbmciOwogIAkJCSRxdWVyeVBhbmdrYXQyPSJzZWxlY3QgcGFuZ2thdCxjb25jYXQocGFuZ2thdCwnICgnLGdvbCwnLycscnVhbmcsJyknKWFzIG5hbWEgZnJvbSByZWZfdGFuZGF0YW5nYW4gd2hlcmUgcGFuZ2thdD0nIi4kX1JFUVVFU1RbJ3BhbmdrYXQnXS4iJyBhbmQgZ29sPSciLiRfUkVRVUVTVFsnZ29sJ10uIicgYW5kIHJ1YW5nPSciLiRfUkVRVUVTVFsncnVhbmcnXS4iJyI7CiAgCQkJJHF1ZXJ5UGFuZ2thdDI9bXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoInNlbGVjdCBnb2wscnVhbmcgZnJvbSByZWZfdGFuZGF0YW5nYW4gd2hlcmUgYzE9JyRjMScgYW5kIGM9JyRjJyBhbmQgZD0nJGQnIGFuZCBlPSckZScgYW5kIGUxPSckZTEnIGFuZCBJZD0nIi4kdGhpcy0+Zm9ybV9pZHBsaC4iJyIpKTsKICAJCQkkY2VrLj0ic2VsZWN0IGdvbCxydWFuZyBmcm9tIHJlZl90YW5kYXRhbmdhbiB3aGVyZSBjMT0nJGMxJyBhbmQgYz0nJGMnIGFuZCBkPSckZCcgYW5kIGU9JyRlJyBhbmQgZTE9JyRlMScgYW5kIElkPSciLiR0aGlzLT5mb3JtX2lkcGxoLiInIjsKICAJCQkJIC8vaXRlbXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogIAkJCSRkYXRrZXRlZ29yaT0ic2VsZWN0IGthdGVnb3JpX3RhbmRhdGFuZ2FuIGZyb20gcmVmX2thdGVnb3JpX3RhbmRhdGFuZ2FuIHdoZXJlIGthdGVnb3JpX3RhbmRhdGFuZ2FuPSciLiRkdFsna2F0ZWdvcmlfdGFuZGF0YW5nYW4nXS4iJyI7CiAgCQkJJGNlay49InNlbGVjdCBrYXRlZ29yaV90YW5kYXRhbmdhbiBmcm9tIHJlZl9rYXRlZ29yaV90YW5kYXRhbmdhbiB3aGVyZSBrYXRlZ29yaV90YW5kYXRhbmdhbj0nIi4kZHRbJ2thdGVnb3JpX3RhbmRhdGFuZ2FuJ10uIiciOwogIAkJCS8vJHFyeV9qYWJhdGFuID0gIlNFTEVDVCBJZCwgbmFtYSBGUk9NIHJlZl9qYWJhdGFuIFdIRVJFIGMxPSckYzEnIEFORCBjPSckYycgQU5EIGQ9JyRkJyAiOwogIAkJCSRxdWVyeWdlZHVuZz0iIjsKICAJCQkkZGF0YXBhbmdrYXQ9JHF1ZXJ5UGFuZ2thdDJbJ2dvbCddLiIvIi4kcXVlcnlQYW5na2F0MlsncnVhbmcnXTsKICAJCQkkZGF0YzE9JHF1ZXJ5YzFbJ2MxJ10uIi4iLiRxdWVyeWMxWydubV9za3BkJ107CiAgCQkJJGRhdGM9JHF1ZXJ5Y1snYyddLiIuIi4kcXVlcnljWydubV9za3BkJ107CiAgCQkJJGRhdGQ9JHF1ZXJ5ZFsnZCddLiIuIi4kcXVlcnlkWydubV9za3BkJ107CiAgCQkJJGRhdGU9JHF1ZXJ5ZVsnZSddLiIuIi4kcXVlcnllWydubV9za3BkJ107CiAgCQkJJGRhdGUxPSRxdWVyeWUxWydlMSddLiIuIi4kcXVlcnllMVsnbm1fc2twZCddOwogIAkJCSRxdWVyeUthdGVnb3JpMSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJTRUxFQ1QgKiBmcm9tIHJlZl9rYXRlZ29yaV90YW5kYXRhbmdhbiB3aGVyZSBpZCA9ICcyMycgIikpOwogIAkJCSAkdGhpcy0+Zm9ybV9maWVsZHMgPSBhcnJheSgKICAJCQkJJ1VSVVNBTicgPT4gYXJyYXkoCiAgCQkJCQkJCSdsYWJlbCc9PidVUlVTQU4nLAogIAkJCQkJCQknbGFiZWxXaWR0aCc9PjE1MCwKICAJCQkJCQkJJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4KICAJCQkJCQkJPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2RjMScgaWQ9J2RjMScgdmFsdWU9JyIuJGRhdGMxLiInIHN0eWxlPSd3aWR0aDo1MDBweDsnIHJlYWRvbmx5PgogIAkJCQkJCQk8L2Rpdj4iLAogIAkJCQkJCQkgKSwKICAJCQkJJ2JpZGFuZycgPT4gYXJyYXkoCiAgCQkJCQkJCSdsYWJlbCc9PidCSURBTkcnLAogIAkJCQkJCQknbGFiZWxXaWR0aCc9PjE1MCwKICAJCQkJCQkJJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4KICAJCQkJCQkJPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2RjJyBpZD0nZGMnIHZhbHVlPSciLiRkYXRjLiInIHN0eWxlPSd3aWR0aDo1MDBweDsnIHJlYWRvbmx5PgogIAkJCQkJCQk8L2Rpdj4iLAogIAkJCQkJCQkgKSwKICAJCQkJJ3NrcGQnID0+IGFycmF5KAogIAkJCQkJCQknbGFiZWwnPT4nU0tQRCcsCiAgCQkJCQkJCSdsYWJlbFdpZHRoJz0+MTUwLAogIAkJCQkJCQkndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPgogIAkJCQkJCQk8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZGQnIGlkPSdkZCcgdmFsdWU9JyIuJGRhdGQuIicgc3R5bGU9J3dpZHRoOjUwMHB4OycgcmVhZG9ubHk+CiAgCQkJCQkJCTwvZGl2PiIsCiAgCQkJCQkJCSApLAogIAkJCQkndW5pdCcgPT4gYXJyYXkoCiAgCQkJCQkJCSdsYWJlbCc9PidVTklUJywKICAJCQkJCQkJJ2xhYmVsV2lkdGgnPT4xNTAsCiAgCQkJCQkJCSd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+CiAgCQkJCQkJCTxpbnB1dCB0eXBlPSd0ZXh0J3ZhbHVlPSciLiRkYXRlLiInIHN0eWxlPSd3aWR0aDo1MDBweDsnIHJlYWRvbmx5PgogIAkJCQkJCQk8L2Rpdj4iLAogIAkJCQkJCQkgKSwKICAJCQkJJ3N1YlVuaXQnID0+IGFycmF5KAogIAkJCQkJCQknbGFiZWwnPT4nU1VCIFVOSVQnLAogIAkJCQkJCQknbGFiZWxXaWR0aCc9PjE1MCwKICAJCQkJCQkJJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4KICAJCQkJCQkJPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2RkJyBpZD0nZGQnIHZhbHVlPSciLiRkYXRlMS4iJyBzdHlsZT0nd2lkdGg6NTAwcHg7JyByZWFkb25seT4KICAJCQkJCQkJPC9kaXY+IiwKICAJCQkJCQkJICksCiAgCQkJCSdrYXRlZ29yaScgPT4gYXJyYXkoCiAgCQkJCQkJCSdsYWJlbCc9PidLQVRFR09SSScsCiAgCQkJCQkJCSdsYWJlbFdpZHRoJz0+MTUwLAogIAkJCQkJCQkndmFsdWUnPT4iCiAgCQkJCQkJCQk8aW5wdXQgdHlwZT0ndGV4dCcgcmVhZG9ubHk9J3JlYWRvbmx5JyBzdHlsZT0nd2lkdGg6IDM1MHB4OycgbmFtZT0na2F0ZWdvcmknIGlkPSdrYXRlZ29yaScgdmFsdWU9JyIuJHF1ZXJ5S2F0ZWdvcmkxW2thdGVnb3JpX3RhbmRhdGFuZ2FuXS4iJz4KICAJCQkJCQkJIiwKICAJCQkJCQkJICksCiAgCQkJCSduYW1hcGVnYXdhaScgPT4gYXJyYXkoCiAgCQkJCQkJCSdsYWJlbCc9PidOQU1BJywKICAJCQkJCQkJJ2xhYmVsV2lkdGgnPT4xNTAsCiAgCQkJCQkJCSd2YWx1ZSc9PiI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Oyc+CiAgCQkJCQkJCTxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSduYW1hcGVnYXdhaScgaWQ9J25hbWFwZWdhd2FpJyB2YWx1ZT0nIi4kZHRbJ25hbWEnXS4iJyBzdHlsZT0nd2lkdGg6NTAwcHg7Jz4KCiAgCQkJCQkJCTwvZGl2PiIsCiAgCQkJCQkJCSApLAogIAkJCQknbmlwcGVnYXdhaScgPT4gYXJyYXkoCiAgCQkJCQkJCSdsYWJlbCc9PidOSVAnLAogIAkJCQkJCQknbGFiZWxXaWR0aCc9PjE3MCwKICAJCQkJCQkJJ3ZhbHVlJz0+IjxkaXYgc3R5bGU9J2Zsb2F0OmxlZnQ7Jz4KICAJCQkJCQkJPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J25pcHBlZ2F3YWknIGlkPSduaXBwZWdhd2FpJyB2YWx1ZT0nIi4kZHRbJ25pcCddLiInIHN0eWxlPSd3aWR0aDoyNTBweDsnPgoKICAJCQkJCQkJPC9kaXY+IiwKICAJCQkJCQkJICksCiAgCQkJCSdwYW5na2F0JyA9PiBhcnJheSgKICAJCQkJCQkJJ2xhYmVsJz0+J1BBTkdLQVQvIEdPTC8gUlVBTkcuJywKICAJCQkJCQkJJ2xhYmVsV2lkdGgnPT4xNTAsCiAgCQkJCQkJCSd2YWx1ZSc9PgogIAkJCQkJCQkiPGRpdiBpZD0nY29udF9nZCc+Ii5jbWJRdWVyeSgncGFuZ2thdGFraGlyJywkX1JFUVVFU1RbJ3BhbmdrYXQnXSwkcXVlcnlQYW5na2F0LCdzdHlsZT0id2lkdGg6MjUwcHg7Im9uY2hhbmdlPSInLiR0aGlzLT5QcmVmaXguJy5waWxpaFBhbmdrYXQoKSInLCctLVBJTElILS0nKS4iJm5ic3AmbmJzcCIuIjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdnb2xhbmdfYWtoaXInIHN0eWxlPSd3aWR0aDo0MHB4OycgaWQ9J2dvbGFuZ19ha2hpcicgc2l6ZT0xIHZhbHVlPSciLiRkYXRhcGFuZ2thdC4iJyByZWFkb25seT4KCiAgCQkJCQkJCTwvZGl2PiIsCiAgCQkJCQkJCSApLAoKICAJCQkJJ2phYmF0YW4nID0+IGFycmF5KAogIAkJCQkJCQknbGFiZWwnPT4nSkFCQVRBTicsCiAgCQkJCQkJCSdsYWJlbFdpZHRoJz0+MTUwLAogIAkJCQkJCQkndmFsdWUnPT4iPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDsnPgogIAkJCQkJCQk8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0namFiYXRhbicgaWQ9J2phYmF0YW4nIHZhbHVlPSciLiRkdFsnamFiYXRhbiddLiInIHN0eWxlPSd3aWR0aDozMDBweDsnPgoKICAJCQkJCQkJPC9kaXY+IiwKICAJCQkJCQkJICksCgogIAkJCQknZXNlbG9uJyA9PiBhcnJheSgKICAJCQkJCQkJJ2xhYmVsJz0+J0VTRUxPTicsCiAgCQkJCQkJCSdsYWJlbFdpZHRoJz0+MTUwLAogIAkJCQkJCQkndmFsdWUnPT5jbWJBcnJheSgnZXNlbG9uX2FraGlyJywkX1JFUVVFU1RbJ2VzZWxvbiddLCRhcnJheUVzZWxvbiwnLS1QSUxJSC0tJywnc3R5bGU9d2lkdGg6MTAwcHg7JyksCiAgCQkJCQkJCSksCiAgCQkJCSk7CiAgCQkJJHRoaXMtPmZvcm1fbWVudWJhd2FoID0KICAJCQkJIjxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J0lkX3NrcGQnIGlkPSdJZF9za3BkJyAgdmFsdWU9JyIuJElkLiInPiIuCiAgCQkJCSI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nU2ltcGFuJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuc2F2ZU5ld1RhbmRhVGFuZ2FuKCknIHRpdGxlPSdTaW1wYW4nID4gJm5ic3AiLgogIAkJCQkiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0JhdGFsJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuY2xvc2VUYW5kYVRhbmdhbkZvcm0oKScgPiI7CiAgCQkJJGZvcm0gPSAkdGhpcy0+Z2VuRm9ybSgpOwogIAkJCSRjb250ZW50ID0gJGZvcm07CiAgCQkJcmV0dXJuICBhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50KTsKICAJCX0KCiAgZnVuY3Rpb24gdmlld0xhcG9yYW4oJHhscyA9RkFMU0UpewogICAgZ2xvYmFsICRNYWluOwogICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICB9CiAgICAgICR0ckNoaWxkID0gIjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9J2pzL3BhZ2VOdW1iZXIuanMnPjwvc2NyaXB0PiI7CiAgICAgICR3aWR0aCA9ICIzM2NtIjsKICAgICAgJGhlaWdodCA9ICIyMS41Y20iOwoKICAgICRhbGlnbiA9ICJjZW50ZXIiOwogICAgJHhscyA9ICRfR0VUWyd4bHMnXTsKICAgICRwaXNhaCA9ICI8dGQgd2lkdGg9JzElJyB2YWxpZ249J3RvcCc+IDogPC90ZD4iOwogICAgaWYoJHhscyl7CiAgICAgIGhlYWRlcigiQ29udGVudC10eXBlOiBhcHBsaWNhdGlvbi9tc2V4Y2VsIik7CiAgICAgIGhlYWRlcigiQ29udGVudC1EaXNwb3NpdGlvbjogYXR0YWNobWVudDsgZmlsZW5hbWU9JHRoaXMtPmZpbGVOYW1lRXhjZWwueGxzIik7CiAgICAgIGhlYWRlcigiUHJhZ21hOiBuby1jYWNoZSIpOwogICAgICBoZWFkZXIoIkV4cGlyZXM6IDAiKTsKICAgICAgJGFsaWduID0gJ2NlbnRlcic7CiAgICAgICRwaXNhaCA9ICIiOwogICAgfQoKCgoKICAgIGlmKCFlbXB0eSgkYzEpICYmICRjMSE9IjAiICl7CiAgICAgICR0aGlzLT5rb25kaXNpU0tQRCA9ICIgYW5kIGMxPSckYzEnICI7CiAgICB9CiAgICBpZighZW1wdHkoJGMpICYmICRjIT0iMDAiKXsKICAgICAgJHRoaXMtPmtvbmRpc2lTS1BEID0gIiBhbmQgYzE9JyRjMScgYW5kIGM9JyRjJyAiOwogICAgfQogICAgaWYoIWVtcHR5KCRkKSAmJiAkZCE9IjAwIil7CiAgICAgICR0aGlzLT5rb25kaXNpU0tQRCA9ICIgYW5kIGMxPSckYzEnIGFuZCBjPSckYycgYW5kIGQ9JyRkJyAiOwogICAgfQoKICAgIC8vTVVMQUkgSGFsYW1hbiBMYXBvcmFuIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgJGNzcyA9ICR4bHMgPyAiPHN0eWxlPi5uZm10NSB7bXNvLW51bWJlci1mb3JtYXQ6J1xAJzt9PC9zdHlsZT4iOiI8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgaHJlZj1cImNzcy90ZW1wbGF0ZV9jc3MuY3NzXCIgdHlwZT1cInRleHQvY3NzXCIgLz4iOwogICAgZWNobwogICAgICAiPGh0bWw+CiAgICAgIDxsaW5rIHJlbD0nc3R5bGVzaGVldCcgdHlwZT0ndGV4dC9jc3MnIGhyZWY9J2Fzc2V0cy9jc3MvYm9vdHN0cmFwLm1pbi5jc3MnPgogICAgICA8bGluayByZWw9J3N0eWxlc2hlZXQnIGhyZWY9J2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT0kZm9udEZhbWlseVtvcHRpb25fdmFsdWVdJz4KICAgICAgPGxpbmsgcmVsPSdzdHlsZXNoZWV0JyBocmVmPSdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9JGZvbnRNZW51YmFyW29wdGlvbl92YWx1ZV0nPgogICAgICA8bGluayByZWw9J3N0eWxlc2hlZXQnIGhyZWY9J2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT0kQ29udGVudEZvbnRTdHlsZVtvcHRpb25fdmFsdWVdJz4KICAgICAgPGxpbmsgcmVsPSdzdHlsZXNoZWV0JyB0eXBlPSd0ZXh0L2NzcycgaHJlZj0nY3NzL3BhZ2VOdW1iZXIuY3NzJz4KICAgICAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nYXNzZXRzL2pzL2pxdWVyeS0zLjIuMS5taW4uanMnPjwvc2NyaXB0PgogICAgICA8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPSdqcy9wYWdlTnVtYmVyLmpzJz48L3NjcmlwdD4KICAgICAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnIHNyYz0nYXNzZXRzL2pzL2Jvb3RzdHJhcC5taW4uanMnPjwvc2NyaXB0PiIuCiAgICAgICAgIjxoZWFkPgogICAgICAgICAgPHRpdGxlPiRNYWluLT5KdWR1bDwvdGl0bGU+CiAgICAgICAgICAkY3NzCiAgICAgICAgICAkdGhpcy0+Q2V0YWtfT3RoZXJIVE1MSGVhZAogICAgICAgICAgPHN0eWxlPgogICAgICAgICAgICAudWt1cmFudHVsaXNhbnsKICAgICAgICAgICAgICBmb250LXNpemU6MTVweDsKICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzJTsKICAgICAgICAgICAgfQogICAgICAgICAgICAudWt1cmFudHVsaXNhbjF7CiAgICAgICAgICAgICAgZm9udC1zaXplOjIwcHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLnVrdXJhbnR1bGlzYW5JZFBlbmVyaW1hYW57CiAgICAgICAgICAgICAgZm9udC1zaXplOjE2cHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhlYWQgeyBkaXNwbGF5OiB0YWJsZS1oZWFkZXItZ3JvdXA7IH0KICAgICAgICAgIDwvc3R5bGU+CiAgICAgICAgPC9oZWFkPiIuCiAgICAgICI8Ym9keSA+CiAgICAgICAgPGRpdiBzdHlsZT0nd2lkdGg6JHRoaXMtPkNldGFrX1dJRFRIX0xhbmRzY2FwZTsnPgogICAgICAgICAgPHRhYmxlIGNsYXNzPVwicmFuZ2thY2V0YWtcIiBzdHlsZT0nd2lkdGg6IDMzY207IGhlaWdodDogMjEuNWNtOyBmb250LWZhbWlseTogc2Fucy1zZXJpZjsnPgogICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgPHRkIHZhbGlnbj1cInRvcFwiPiA8ZGl2IHN0eWxlPSd0ZXh0LWFsaWduOmNlbnRlcjsnPgogICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT0nd2lkdGg6IDEwMCU7IGJvcmRlcjogbm9uZTsnPgogICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkIHN0eWxlPSd3aWR0aDogMTAlOyB0ZXh0LWFsaWduOiBjZW50ZXI7Jz4KICAgICAgICAgICAgICAgICAgPGltZyBzcmM9JyIuJHRoaXMtPmdldEltYWdlUmVwb3J0KCkuIicgc3R5bGU9JwogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDIuMDhweDsKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDg0LjU5OwogICAgICAgICAgICAgICAgICAgIG1heC1oZWlnaHQ6IDg0LjU5OwogICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAyLjA4cHg7CiAgICAgICAgICAgICAgICAgICc+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjsnPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSdmb250LXNpemU6MThweDtmb250LXdlaWdodDpib2xkO3RleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7ICc+CiAgICAgICAgICAgICAgICAgICAgICBEQUZUQVIgQ0xPU0lORyBQRVJTRURJQUFOIEJBUkFORzxicj4KICAgICAgICAgICAgICAgICAgICAgIEtPVEEgIi4kdGhpcy0+Z2V0VmVyc2lOYW1lKCkuIjxicj4KICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSd1a3VyYW50dWxpc2FuSWRQZW5lcmltYWFuJyBzdHlsZT0nZm9udC13ZWlnaHQ6IGJvbGQ7Jz5UQUhVTiBBTkdHQVJBTiAiLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiIgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgPC90YWJsZT4iOwogICAgZWNobyAiCiAgICAgICAgICAgICAgICA8YnI+CiAgICAgICAgICAgICAgICA8dGFibGUgdGFibGUgd2lkdGg9JzEwMCUnIGNsYXNzPSdjZXRhaycgYm9yZGVyPScxJyBzdHlsZT0nd2lkdGg6MTAwJTsnPgogICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPSd0aDAxJyBzdHlsZT0nd2lkdGg6MjBweDsnID5OTzwvdGg+CiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPSd0aDAxJyBzdHlsZT0nd2lkdGg6IDYlOyc+VEdMPC90aD4KICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9J3RoMDEnPk5PTU9SPC90aD4KICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9J3RoMDEnIHN0eWxlPSd3aWR0aDogNSU7Jz5VTlRVSyBLRVBFUkxVQU48L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0ndGgwMSc+TkFNQSBCQVJBTkc8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0ndGgwMScgc3R5bGU9J3dpZHRoOiA4JTsnPk1FUksvVFlQRS9TUEVLPC90aD4KICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9J3RoMDEnIHN0eWxlPSd3aWR0aDogNyU7Jz5KVU1MQUg8L3RoPgogICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICI7CiAgICAkYXJyYXlQZW5nZ3VuYUJhcmFuZyA9IGFycmF5KCk7CiAgICAkYXJyYXlFeGNlcHQgPSBhcnJheSgpOwogICAgJG5vID0gMTsKCiAgICAkcXVlcnlQZW5nZWx1YXJhbiA9IG15c3FsX3F1ZXJ5KCJTRUxFQ1QgKiBmcm9tIHBlbmdlbHVhcmFuIHdoZXJlIGMxID0gJyRjMScgYW5kIGMgPSAnJGMnIGFuZCBkID0gJyRkJyBhbmQgZSA9ICckZScgYW5kIGUxID0gJyRlMScgYW5kIHN0YXR1c19wb3N0aW5nID0gMSAiKTsKCiAgICB3aGlsZSAoJGRhdGFQZW5nZWx1YXJhbiA9IG15c3FsX2ZldGNoX2FycmF5KCRxdWVyeVBlbmdlbHVhcmFuKSkgewoKICAgICAgJHF1ZXJ5RGV0YWlsUGVuZ2VsdWFyYW4gPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgiU0VMRUNUICogZnJvbSBkZXRhaWxfcGVuZ2VsdWFyYW4gd2hlcmUgaWRfcGVuZ2VsdWFyYW4gPSAiLiRkYXRhUGVuZ2VsdWFyYW5baWRdLiIgIikpOwoKICAgICAgJGZpcnN0SWQgPSAkcXVlcnlEZXRhaWxQZW5nZWx1YXJhbltpZF07CgogICAgICBpZiAoJHF1ZXJ5RGV0YWlsUGVuZ2VsdWFyYW5banVtbGFoXSA9PSAiIikgewogICAgICAgICRqdW1sYWggPSAnMCc7CiAgICAgIH1lbHNlewogICAgICAgICRqdW1sYWggPSAkcXVlcnlEZXRhaWxQZW5nZWx1YXJhbltqdW1sYWhdOwogICAgICB9CgogICAgICAkcXVlcnlSZWZCYXJhbmcgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgiU0VMRUNUICogZnJvbSByZWZfYmFyYW5nIHdoZXJlIGYgPSAiLiRxdWVyeURldGFpbFBlbmdlbHVhcmFuW2ZdLiIgYW5kIGcgPSAiLiRxdWVyeURldGFpbFBlbmdlbHVhcmFuW2ddLiIgYW5kIGggPSAiLiRxdWVyeURldGFpbFBlbmdlbHVhcmFuW2hdLiIgYW5kIGkgPSAiLiRxdWVyeURldGFpbFBlbmdlbHVhcmFuW2ldLiIgYW5kIGogPSAiLiRxdWVyeURldGFpbFBlbmdlbHVhcmFuW2pdLiIgYW5kIGoxID0gIi4kcXVlcnlEZXRhaWxQZW5nZWx1YXJhbltqMV0uIiAiKSk7CgogICAgICBlY2hvICIKICAgICAgICA8dHI+CiAgICAgICAgICA8dGQgYWxpZ249J2NlbnRlcicgY2xhc3M9J0dhcmlzQ2V0YWsnPiIuJG5vLiI8L3RkPgogICAgICAgICAgPHRkIGNsYXNzPSdHYXJpc0NldGFrJz4iLiRkYXRhUGVuZ2VsdWFyYW5bdGFuZ2dhbF0uIjwvdGQ+CiAgICAgICAgICA8dGQgY2xhc3M9J0dhcmlzQ2V0YWsnPiIuJGRhdGFQZW5nZWx1YXJhbltub21vcl0uIjwvdGQ+CiAgICAgICAgICA8dGQgY2xhc3M9J0dhcmlzQ2V0YWsnPiIuJGRhdGFQZW5nZWx1YXJhbltrZXBlcmx1YW5dLiI8L3RkPgogICAgICAgICAgPHRkIGNsYXNzPSdHYXJpc0NldGFrJz4iLiRxdWVyeVJlZkJhcmFuZ1tubV9iYXJhbmddLiI8L3RkPgogICAgICAgICAgPHRkIGNsYXNzPSdHYXJpc0NldGFrJz4iLiRxdWVyeURldGFpbFBlbmdlbHVhcmFuW21lcmtdLiI8L3RkPgogICAgICAgICAgPHRkIGFsaWduPSdyaWdodCcgY2xhc3M9J0dhcmlzQ2V0YWsnPiIubnVtYmVyX2Zvcm1hdCgkanVtbGFoLDIsJywnLCcuJykuIjwvdGQ+CiAgICAgICAgPC90cj4KICAgICAgIjsKCiAgICAgICRxdWVyeURldGFpbFBlbmdlbHVhcmFuMiA9IG15c3FsX3F1ZXJ5KCJTRUxFQ1QgKiBmcm9tIGRldGFpbF9wZW5nZWx1YXJhbiB3aGVyZSBpZF9wZW5nZWx1YXJhbiA9ICIuJGRhdGFQZW5nZWx1YXJhbltpZF0uIiBhbmQgaWQgIT0gIi4kZmlyc3RJZC4iICIpOwogICAgICB3aGlsZSAoJGRhdGFQZW5nZWx1YXJhbjIgPSBteXNxbF9mZXRjaF9hcnJheSgkcXVlcnlEZXRhaWxQZW5nZWx1YXJhbjIpKSB7CgogICAgICAgICRxdWVyeVJlZkJhcmFuZzIgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgiU0VMRUNUICogZnJvbSByZWZfYmFyYW5nIHdoZXJlIGYgPSAiLiRkYXRhUGVuZ2VsdWFyYW4yW2ZdLiIgYW5kIGcgPSAiLiRkYXRhUGVuZ2VsdWFyYW4yW2ddLiIgYW5kIGggPSAiLiRkYXRhUGVuZ2VsdWFyYW4yW2hdLiIgYW5kIGkgPSAiLiRkYXRhUGVuZ2VsdWFyYW4yW2ldLiIgYW5kIGogPSAiLiRkYXRhUGVuZ2VsdWFyYW4yW2pdLiIgYW5kIGoxID0gIi4kZGF0YVBlbmdlbHVhcmFuMltqMV0uIiAiKSk7CgogICAgICAgIGlmICgkZGF0YVBlbmdlbHVhcmFuMltqdW1sYWhdID09ICIiKSB7CiAgICAgICAgICAkanVtbGFoMiA9ICcwJzsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICRqdW1sYWgyID0gJGRhdGFQZW5nZWx1YXJhbjJbanVtbGFoXTsKICAgICAgICB9CgogICAgICAgIGVjaG8gIgogICAgICAgIDx0cj4KICAgICAgICAgIDx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0nR2FyaXNDZXRhaycgY29sc3Bhbj0nNCc+PC90ZD4KICAgICAgICAgIDx0ZCBjbGFzcz0nR2FyaXNDZXRhayc+Ii4kcXVlcnlSZWZCYXJhbmcyW25tX2JhcmFuZ10uIjwvdGQ+CiAgICAgICAgICA8dGQgY2xhc3M9J0dhcmlzQ2V0YWsnPiIuJGRhdGFQZW5nZWx1YXJhbjJbbWVya10uIjwvdGQ+CiAgICAgICAgICA8dGQgYWxpZ249J3JpZ2h0JyBjbGFzcz0nR2FyaXNDZXRhayc+Ii5udW1iZXJfZm9ybWF0KCRqdW1sYWgyLDIsJywnLCcuJykuIjwvdGQ+CiAgICAgICAgPC90cj4KICAgICAgIjsKICAgICAgfQogICAgICAkbm8rKzsKICAgIH0KCiAgICBlY2hvICAgICAgICAiPC90YWJsZT4iOwoKICAgIGlmKCR4bHMpewogICAgICBlY2hvCiAgICAgICAgICAgICI8YnI+PGRpdiBjbGFzcz0ndWt1cmFudHVsaXNhbicgYWxpZ249J3JpZ2h0Jz4KICAgICAgICAgICAgPHRhYmxlIGFsaWduPSdyaWdodCc+CiAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkIGNvbHNwYW49JzInPgogICAgICAgICAgICAkdGhpcy0+a290YSwgIi5WdWxuV2Fsa2VyVGl0aU1hbmdzYShkYXRlKCdZLW0tZCcpKS4iCiAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkIGNvbHNwYW49JzInPgogICAgICAgICAgICBQZW5nZWxvbGEgQmFyYW5nCiAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkIGNvbHNwYW49JzInPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8L3RyPjx0cj4KICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkIGNvbHNwYW49JzInPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8L3RyPjx0cj4KICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkIGNvbHNwYW49JzInPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8L3RyPgogICAgICAgICAgICA8dHI+CiAgICAgICAgICAgIDx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDx0ZCBjb2xzcGFuPScyJz4KICAgICAgICAgICAgPHU+JHRoaXMtPnBlbmdlbG9sYUJhcmFuZzwvdT4KICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPC90cj48dHI+CiAgICAgICAgICAgIDx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+PHRkID4KICAgICAgICAgICAgJm5ic3AKICAgICAgICAgICAgPC90ZD48dGQgPgogICAgICAgICAgICAmbmJzcAogICAgICAgICAgICA8L3RkPjx0ZCA+CiAgICAgICAgICAgICZuYnNwCiAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDx0ZCBjb2xzcGFuPScyJz4KICAgICAgICAgICAgTklQICR0aGlzLT5uaXBQZW5nZWxvbGEKICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPC90cj4KCgoKCgogICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2JvZHk+CiAgICAgIDwvaHRtbD4iOwogICAgfWVsc2V7CgoKICAgICAgICAgICAgICAgICAgJHF1ZXJ5TmFtYTEgPSBteXNxbF9mZXRjaF9hcnJheShteXNxbF9xdWVyeSgiU0VMRUNUICogZnJvbSByZWZfdGFuZGF0YW5nYW4gd2hlcmUga2F0ZWdvcmlfdGFuZGF0YW5nYW4gPSAnMycgYW5kIGMxID0gJyRjMScgYW5kIGMgPSAnJGMnIGFuZCBkID0gJyRkJyBhbmQgZSA9ICckZScgYW5kIGUxID0gJyRlMScgIikpOwogICAgICAgICAgICAgICAgICAkaG1tID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoIlNFTEVDVCAqIGZyb20gcmVmX3RhbmRhdGFuZ2FuIHdoZXJlIGthdGVnb3JpX3RhbmRhdGFuZ2FuID0gJzIzJyBhbmQgYzEgPSAnJGMxJyBhbmQgYyA9ICckYycgYW5kIGQgPSAnJGQnIGFuZCBJZCA9ICciLiRpZFBlbmFuZGFUYW5nYW4uIicgIikpOwoKICAgICAgICAgICAgICAgICAgJHF1ZXJ5S2F0ZWdvcmkxID0gbXlzcWxfZmV0Y2hfYXJyYXkobXlzcWxfcXVlcnkoIlNFTEVDVCAqIGZyb20gcmVmX2thdGVnb3JpX3RhbmRhdGFuZ2FuIHdoZXJlIGlkID0gJzMnICIpKTsKICAgICAgICAgICAgICAgICAgJG5hbWFQZW1kYSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJTRUxFQ1QgKiBmcm9tIGdlbmVyYWxfc2V0dGluZyB3aGVyZSBvcHRpb25fbmFtZSA9ICdhbGFtYXRfcGVtZGEnICIpKTsKCiAgICAgICAgICAgICAgICAgICR0YW5kYVRhbmdhbm5hIC49ICI8YnI+PGJyPjxicj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ndWt1cmFudHVsaXNhbicgc3R5bGUgPSdmbG9hdDpyaWdodDsgdGV4dC1hbGlnbjpjZW50ZXI7Jz4KICAgICAgICAgICAgICAgICAgIi4kdGhpcy0+Z2V0VmVyc2lOYW1lKCkuIiwgIi4kdGhpcy0+dGl0aU1hbmdzYSgkdGhpcy0+Z2VuZXJhdGVEYXRlKCR0YW5nZ2FsQ2V0YWspKS4iPGJyPgogICAgICAgICAgICAgICAgICAkaG1tW2phYmF0YW5dCiAgICAgICAgICAgICAgICAgIDxicj4KICAgICAgICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgICAgICA8YnI+CiAgICAgICAgICAgICAgICAgIDxicj4KICAgICAgICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgICAgICA8dT4iLiRobW1bJ25hbWEnXS4iPC91Pjxicj4KICAgICAgICAgICAgICAgICAgTklQICIuJGhtbVsnbmlwJ10uIgoKCiAgICAgICAgICAgICAgICAgIDwvZGl2PiI7CgoKICAgICAgZWNobwogICAgICAgICAgICAiCiAgICAgICAgICAgICIuJHRhbmRhVGFuZ2FubmEuIgogICAgICAgICAgICA8IS0tIDxoNSBjbGFzcz0ncGFnIHBhZzEnPgogICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSdib3R0b206IC0xMHB4OyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6MDsnPiIuZGF0ZSgnZC1tLVknKS4iIC8gIi5kYXRlKCdoOmknKS4iIC8gIi4kdGhpcy0+dXNlcm5hbWUuIjwvc3Bhbj4KICAgICAgICAgICAgPC9oNT4KICAgICAgICAgICAgPGRpdiBjbGFzcz0naW5zZXJ0Jz48L2Rpdj4gLS0+CiAgICAgICAgPC9ib2R5PgogICAgICA8L2h0bWw+IjsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGNoZWNrRmlmbygka29uZGlzaVNLUEQsICRzZW1lc3Rlcil7CiAgICAkYXJyYXlFcnJvciA9IGFycmF5KCk7CiAgICAkZ2V0RGF0YVNLUEQgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgMT0xICRrb25kaXNpU0tQRCBhbmQgZTEhPScwMDAnIik7CiAgICB3aGlsZSAoJGRhdGFTS1BEID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhU0tQRCkpIHsKICAgICAgJGtvZGVTS1BEID0gJGRhdGFTS1BEWydjMSddLiIuIi4kZGF0YVNLUERbJ2MnXS4iLiIuJGRhdGFTS1BEWydkJ10uIi4iLiRkYXRhU0tQRFsnZSddLiIuIi4kZGF0YVNLUERbJ2UxJ107CiAgICAgICRnZXREYXRhUGVyc2VkaWFhbiA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB2aWV3X2RhZnRhcl9wZXJzZWRpYWFuIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCciKTsKICAgICAgd2hpbGUgKCRkYXRhUGVyc2VkaWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVBlcnNlZGlhYW4pKSB7CiAgICAgICAgICAka29kZUJhcmFuZyA9ICRkYXRhUGVyc2VkaWFhblsnZiddLiIuIi4kZGF0YVBlcnNlZGlhYW5bJ2cnXS4iLiIuJGRhdGFQZXJzZWRpYWFuWydoJ10uIi4iLiRkYXRhUGVyc2VkaWFhblsnaSddLiIuIi4kZGF0YVBlcnNlZGlhYW5bJ2onXS4iLiIuJGRhdGFQZXJzZWRpYWFuWydqMSddOwogICAgICAgICAgJGhhc2lsQ2hlY2sgPSAgJHRoaXMtPmNoZWNrQmFyYW5nKCRrb2RlU0tQRCwka29kZUJhcmFuZywkc2VtZXN0ZXIpOwogICAgICAgICAgaWYoc2l6ZW9mKCRoYXNpbENoZWNrKSA+IDApewogICAgICAgICAgICAkYXJyYXlFcnJvcltdID0gYXJyYXkoJ2tvZGVCYXJhbmcnID0+ICRrb2RlQmFyYW5nLCAnaWRLYXJ0dVBlcnNlZGlhYW4nID0+ICRoYXNpbENoZWNrKTsKICAgICAgICAgIH0KICAgICAgfQogICAgfQogICAgaWYoc2l6ZW9mKCRhcnJheUVycm9yKSA+IDAgKXsKICAgICAgJGVycm9yTWVzc2FnZSA9ICJBZGEgZGF0YSB5YW5nIGVycm9yIHNpbGFoa2FuIGNlayBkaSBkYWZ0YXIgcGVyc2VkaWFhbiAhIjsKICAgIH1lbHNlewogICAgICAkZXJyb3JNZXNzYWdlID0gIiI7CiAgICB9CiAgICByZXR1cm4gJGVycm9yTWVzc2FnZTsKICB9CgogIGZ1bmN0aW9uIGNoZWNrQmFyYW5nKCRrb2RlU0tQRCwka29kZUJhcmFuZywkcGVyaW9kZSl7CiAgICAkZXJyID0gIiI7CiAgICAkY2VrID0gIiI7CiAgICAkY29udGVudCA9ICIiOwogICAgJGV4cGxvZGVLb2RlU0tQRCA9IGV4cGxvZGUoIi4iLCRrb2RlU0tQRCk7CiAgICAkZXhwbG9kZUtvZGVCYXJhbmcgPSBleHBsb2RlKCIuIiwka29kZUJhcmFuZyk7CiAgICAkYzEgPSAkZXhwbG9kZUtvZGVTS1BEWzBdOwogICAgJGMgPSAkZXhwbG9kZUtvZGVTS1BEWzFdOwogICAgJGQgPSAkZXhwbG9kZUtvZGVTS1BEWzJdOwogICAgJGUgPSAkZXhwbG9kZUtvZGVTS1BEWzNdOwogICAgJGUxID0gJGV4cGxvZGVLb2RlU0tQRFs0XTsKICAgICRmID0gJGV4cGxvZGVLb2RlQmFyYW5nWzBdOwogICAgJGcgPSAkZXhwbG9kZUtvZGVCYXJhbmdbMV07CiAgICAkaCA9ICRleHBsb2RlS29kZUJhcmFuZ1syXTsKICAgICRpID0gJGV4cGxvZGVLb2RlQmFyYW5nWzNdOwogICAgJGogPSAkZXhwbG9kZUtvZGVCYXJhbmdbNF07CiAgICAkajEgPSAkZXhwbG9kZUtvZGVCYXJhbmdbNV07CiAgICAkc2FsZG9CYXJhbmcgPSAwOwogICAgJGtvbmRpc2lUYWh1biA9ICIgYW5kIGxlZnQodGFuZ2dhbF9idWt1LDQpID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIicgIjsKICAgIGlmKCFlbXB0eSgkcGVyaW9kZSkpewogICAgICAgIGlmKCRwZXJpb2RlID09ICcxJyl7CiAgICAgICAgICAgICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMDYiOwogICAgICAgICAgICAka29uZGlzaVBlcmlvZGUgID0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyAiOwogICAgICAgIH1lbHNlaWYoJHBlcmlvZGUgPT0gJzInKXsKICAgICAgICAgICAgJG1pbkZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNyI7CiAgICAgICAgICAgICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMTIiOwogICAgICAgICAgICAka29uZGlzaVBlcmlvZGU9ICIgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA+PSAnJG1pbkZpbHRlcicgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlciciOwogICAgICAgIH1lbHNlaWYoJHBlcmlvZGUgPT0gJzMnKXsKICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CiAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZSA9ICIgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlciciOwogICAgICAgIH0KICAgIH0KCiAgICAkZ2V0RGF0YVRhbWJhaCA9IG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnICBhbmQgY29uY2F0KGYsJy4nLGcsJy4nLGgsJy4nLGksJy4nLGosJy4nLGoxKSA9JyRrb2RlQmFyYW5nJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSBvcmRlciBieSB0YW5nZ2FsX2J1a3UgYXNjIik7CiAgICB3aGlsZSAoJGRhdGFUYW1iYWggPSBteXNxbF9mZXRjaF9hcnJheSgkZ2V0RGF0YVRhbWJhaCkpIHsKICAgICAgICAkZGF0YUxvY2tUYW1iYWggPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFUYW1iYWhbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhVGFtYmFoWydpZCddLAogICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhVGFtYmFoWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRkYXRhVGFtYmFoWydoYXJnYV9zYXR1YW4nXSwKICAgICAgICAgICAgICAgICAgICAnc2lzYScgPT4gJGRhdGFUYW1iYWhbJ2p1bWxhaCddLAogICAgICAgICAgICAgICAgICAgICdjMScgPT4gJGMxLAogICAgICAgICAgICAgICAgICAgICdjJyA9PiAkYywKICAgICAgICAgICAgICAgICAgICAnZCcgPT4gJGQsCiAgICAgICAgICAgICAgICAgICAgJ2UnID0+ICRlLAogICAgICAgICAgICAgICAgICAgICdlMScgPT4gJGUxLAogICAgICAgICAgICAgICAgICAgICdmJyA9PiAkZiwKICAgICAgICAgICAgICAgICAgICAnZycgPT4gJGcsCiAgICAgICAgICAgICAgICAgICAgJ2gnID0+ICRoLAogICAgICAgICAgICAgICAgICAgICdpJyA9PiAkaSwKICAgICAgICAgICAgICAgICAgICAnaicgPT4gJGosCiAgICAgICAgICAgICAgICAgICAgJ2oxJyA9PiAkajEsCiAgICAgICAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUKICAgICAgICApOwogICAgICAgIG15c3FsX3F1ZXJ5KFZ1bG5XYWxrZXJJbnNlcnQoJ3RlbXBfY2hlY2tfYmFyYW5nX3RhbWJhaCcsJGRhdGFMb2NrVGFtYmFoKSk7CiAgICB9CiAgICAkZ2V0RGF0YUt1cmFuZyA9IG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnICBhbmQgY29uY2F0KGYsJy4nLGcsJy4nLGgsJy4nLGksJy4nLGosJy4nLGoxKSA9JyRrb2RlQmFyYW5nJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcyJyAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSBvcmRlciBieSB0YW5nZ2FsX2J1a3UgYXNjIik7CiAgICB3aGlsZSAoJGRhdGFLdXJhbmcgPSBteXNxbF9mZXRjaF9hcnJheSgkZ2V0RGF0YUt1cmFuZykpIHsKICAgICAgICAkYXJyYXlQZXJvbGVoYW4gPSBhcnJheSgpOwogICAgICAgICRqdW1sYWhCYXJhbmdLdXJhbmcgPSAkZGF0YUt1cmFuZ1snanVtbGFoJ107CiAgICAgICAgJGdldERhdGFQZW5lcmltYWFuID0gbXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gdGVtcF9jaGVja19iYXJhbmdfdGFtYmFoIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgIGFuZCBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0nJGtvZGVCYXJhbmcnIGFuZCBzaXNhICE9JzAnIik7CiAgICAgICAgd2hpbGUgKCRkYXRhUGVuZXJpbWFhbiA9IG15c3FsX2ZldGNoX2FycmF5KCRnZXREYXRhUGVuZXJpbWFhbikpIHsKICAgICAgICAgICAgaWYoJGp1bWxhaEJhcmFuZ0t1cmFuZyAhPSAwKXsKICAgICAgICAgICAgICBpZigkanVtbGFoQmFyYW5nS3VyYW5nID4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10gKXsKICAgICAgICAgICAgICAgICAgbXlzcWxfcXVlcnkoInVwZGF0ZSB0ZW1wX2NoZWNrX2JhcmFuZ190YW1iYWggc2V0IHNpc2EgPSBzaXNhIC0gIi4kZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXS4iIHdoZXJlIGlkID0gJyIuJGRhdGFQZW5lcmltYWFuWydpZCddLiInIik7CiAgICAgICAgICAgICAgICAgICRhcnJheVBlcm9sZWhhbltdID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkUGVuZXJpbWFhbicgPT4gJGRhdGFQZW5lcmltYWFuWydpZF90X2thcnR1X3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRkYXRhUGVuZXJpbWFhblsnaGFyZ2EnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG90YWwnID0+ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddICogJGRhdGFQZW5lcmltYWFuWydoYXJnYSddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nIC09ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddOwogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICBteXNxbF9xdWVyeSgidXBkYXRlIHRlbXBfY2hlY2tfYmFyYW5nX3RhbWJhaCBzZXQgc2lzYSA9IHNpc2EgLSAkanVtbGFoQmFyYW5nS3VyYW5nIHdoZXJlIGlkID0gJyIuJGRhdGFQZW5lcmltYWFuWydpZCddLiInIik7CiAgICAgICAgICAgICAgICAgICRhcnJheVBlcm9sZWhhbltdID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkUGVuZXJpbWFhbicgPT4gJGRhdGFQZW5lcmltYWFuWydpZF90X2thcnR1X3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkanVtbGFoQmFyYW5nS3VyYW5nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJGRhdGFQZW5lcmltYWFuWydoYXJnYSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJGp1bWxhaEJhcmFuZ0t1cmFuZyAqICRkYXRhUGVuZXJpbWFhblsnaGFyZ2EnXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgJGp1bWxhaEJhcmFuZ0t1cmFuZyA9IDA7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRlbmNvZGluZyA9IGpzb25fZW5jb2RlKCRhcnJheVBlcm9sZWhhbik7CiAgICAgICAgJGRlY29kaW5nID0ganNvbl9kZWNvZGUoJGVuY29kaW5nKTsKICAgICAgICAkaGFyZ2FQZXJvbGVoYW49ICIiOwogICAgICAgIGZvciAoJHBhbmphbmdGb3I9MDsgJHBhbmphbmdGb3IgPCBzaXplb2YoJGRlY29kaW5nKSA7ICRwYW5qYW5nRm9yKyspIHsKICAgICAgICAgICAgJGhhcmdhUGVyb2xlaGFuICs9ICRkZWNvZGluZ1skcGFuamFuZ0Zvcl0tPnRvdGFsOwogICAgICAgIH0KICAgICAgICAkZGF0YUxvY2tLdXJhbmcgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFLdXJhbmdbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhS3VyYW5nWydpZCddLAogICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhS3VyYW5nWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkaGFyZ2FQZXJvbGVoYW4sCiAgICAgICAgICAgICAgICAgICAgICdjMScgPT4gJGMxLAogICAgICAgICAgICAgICAgICAgICAnYycgPT4gJGMsCiAgICAgICAgICAgICAgICAgICAgICdkJyA9PiAkZCwKICAgICAgICAgICAgICAgICAgICAgJ2UnID0+ICRlLAogICAgICAgICAgICAgICAgICAgICAnZTEnID0+ICRlMSwKICAgICAgICAgICAgICAgICAgICAgJ2YnID0+ICRmLAogICAgICAgICAgICAgICAgICAgICAnZycgPT4gJGcsCiAgICAgICAgICAgICAgICAgICAgICdoJyA9PiAkaCwKICAgICAgICAgICAgICAgICAgICAgJ2knID0+ICRpLAogICAgICAgICAgICAgICAgICAgICAnaicgPT4gJGosCiAgICAgICAgICAgICAgICAgICAgICdqMScgPT4gJGoxLAogICAgICAgICAgICAgICAgICAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgICdwZXJvbGVoYW4nID0+IGpzb25fZW5jb2RlKCRhcnJheVBlcm9sZWhhbikKCiAgICAgICAgKTsKICAgICAgICBteXNxbF9xdWVyeShWdWxuV2Fsa2VySW5zZXJ0KCd0ZW1wX2NoZWNrX2JhcmFuZ19rdXJhbmcnLCRkYXRhTG9ja0t1cmFuZykpOwogICAgfQoKCgogICAgJGdldERhdGFIaXN0b3JpID0gbXlzcWxfcXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgIGFuZCBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0nJGtvZGVCYXJhbmcnICAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSBvcmRlciBieSB0YW5nZ2FsX2J1a3UsamVuaXNfcGVyc2VkaWFhbiBhc2MiKTsKICAgIHdoaWxlICgkZGF0YUhpc3RvcmkgPSBteXNxbF9mZXRjaF9hcnJheSgkZ2V0RGF0YUhpc3RvcmkpKSB7CiAgICAgICAgJHN0YXR1c0NoZWNrID0gMjsKICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2plbmlzX3BlcnNlZGlhYW4nXSA9PSAxKXsKICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzEnKXsKICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlNBTERPIEFXQUwiOwogICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICcyJyl7CiAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2NhcmFfcGVyb2xlaGFuJ10gPT0gJzInKXsKICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5FUklNQUFOIFBFTUJFTElBTiI7CiAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydjYXJhX3Blcm9sZWhhbiddID09ICczJyl7CiAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVORVJJTUFBTiBISUJBSCI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNCcpewogICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiQ0VLIEZJU0lLIFRBTUJBSCI7CiAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzMnKXsKICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gRElTVFJJQlVTSSI7CiAgICAgICAgICB9CiAgICAgICAgICAkaGFyZ2FTYXR1YW4gPSAkZGF0YUhpc3RvcmlbJ2hhcmdhX3NhdHVhbiddOwogICAgICAgICAgJHRvdGFsSGFyZ2EgPSAkaGFyZ2FTYXR1YW4gKiAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgJHNhbGRvQmFyYW5nICs9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAkdG90YWxTYWxkbyArPSAkdG90YWxIYXJnYTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNicpewogICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9IDA7CiAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVOR0VMVUFSQU4iOwogICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzUnKXsKICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAwOwogICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIkNFSyBGSVNJSyBLVVJBTkciOwogICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzcnKXsKICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAwOwogICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkdFTFVBUkFOIERJU1RSSUJVU0kiOwogICAgICAgICAgICB9CiAgICAgICAgICAgICRoYXJnYVNhdHVhbiA9ICIiOwogICAgICAgICAgJHNhbGRvQmFyYW5nIC09ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAkZ2V0VG90YWxIYXJnYSA9IG15c3FsX2ZldGNoX2FycmF5KG15c3FsX3F1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRlbXBfY2hlY2tfYmFyYW5nX2t1cmFuZyB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnICBhbmQgY29uY2F0KGYsJy4nLGcsJy4nLGgsJy4nLGksJy4nLGosJy4nLGoxKSA9JyRrb2RlQmFyYW5nJyBhbmQgdXNlcm5hbWUgPSckdGhpcy0+dXNlcm5hbWUnIGFuZCBpZF90X2thcnR1X3BlcnNlZGlhYW4gPSAnIi4kZGF0YUhpc3RvcmlbJ2lkJ10uIiciKSk7CiAgICAgICAgICAkdG90YWxIYXJnYSA9ICRnZXRUb3RhbEhhcmdhWydoYXJnYSddOwogICAgICAgICAgJHRvdGFsU2FsZG8gLT0gJHRvdGFsSGFyZ2E7CiAgICAgICAgfQoKICAgICAgICBpZigkc2FsZG9CYXJhbmcgPCAwKXsKICAgICAgICAgICAgJGlkS2FydHVQZXJzZWRpYWFuW10gPSAkZGF0YUhpc3RvcmlbJ2lkJ107CiAgICAgICAgICAgICRzdGF0dXNDaGVjayA9ICIxIjsKICAgICAgICB9CiAgICAgICAgJGRhdGFSaW5jaWFuTG9jayA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICdjMScgPT4gJGMxLAogICAgICAgICAgICAgICAgICAgICdjJyA9PiAkYywKICAgICAgICAgICAgICAgICAgICAnZCcgPT4gJGQsCiAgICAgICAgICAgICAgICAgICAgJ2UnID0+ICRlLAogICAgICAgICAgICAgICAgICAgICdlMScgPT4gJGUxLAogICAgICAgICAgICAgICAgICAgICdmJyA9PiAkZiwKICAgICAgICAgICAgICAgICAgICAnZycgPT4gJGcsCiAgICAgICAgICAgICAgICAgICAgJ2gnID0+ICRoLAogICAgICAgICAgICAgICAgICAgICdpJyA9PiAkaSwKICAgICAgICAgICAgICAgICAgICAnaicgPT4gJGosCiAgICAgICAgICAgICAgICAgICAgJ2oxJyA9PiAkajEsCiAgICAgICAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+ICRkYXRhSGlzdG9yaVsndGFuZ2dhbF9idWt1J10sCiAgICAgICAgICAgICAgICAgICAgJ3VyYWlhbicgPT4gJHVyYWlhblBlcnNlZGlhYW4sCiAgICAgICAgICAgICAgICAgICAgJ21hc3VrJyA9PiAkYmFyYW5nTWFzdWssCiAgICAgICAgICAgICAgICAgICAgJ2tlbHVhcicgPT4gJGJhcmFuZ0tlbHVhciwKICAgICAgICAgICAgICAgICAgICAnaGFyZ2Ffc2F0dWFuJyA9PiAkaGFyZ2FTYXR1YW4sCiAgICAgICAgICAgICAgICAgICAgJ3NhbGRvJyA9PiAkc2FsZG9CYXJhbmcsCiAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkdG90YWxIYXJnYSwKICAgICAgICAgICAgICAgICAgICAndG90YWxfaGFyZ2EnID0+ICR0b3RhbFNhbGRvLAogICAgICAgICAgICAgICAgICAgICd0eXBlJyA9PiAkZGF0YUhpc3RvcmlbJ2plbmlzX3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YUhpc3RvcmlbJ2lkJ10sCiAgICAgICAgICAgICAgICAgICAgJ3RhaHVuJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbiwKICAgICAgICAgICAgICAgICAgICAncGVyaW9kZScgPT4gJHBlcmlvZGUsCiAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cycgPT4gJHN0YXR1c0NoZWNrLAogICAgICAgICAgICAgICAgICAgICdpZF90cmFuc2Frc2knID0+ICRkYXRhSGlzdG9yaVsncmVmaWQnXQogICAgICAgICk7CiAgICAgICAgbXlzcWxfcXVlcnkoVnVsbldhbGtlckluc2VydCgnY2hlY2tfYmFyYW5nX3BlcnNlZGlhYW4nLCRkYXRhUmluY2lhbkxvY2spKTsKCiAgICB9CiAgICAgIHJldHVybiAkaWRLYXJ0dVBlcnNlZGlhYW4gOwogIH0KCgogIGZ1bmN0aW9uIHNldFNhbGRvQXdhbCgka29kZVNLUEQsJGtvZGVCYXJhbmcpewogICAgJGdldERhdGFCYXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9iYXJhbmcgd2hlcmUgY29uY2F0KGYsJy4nLGcsJy4nLGgsJy4nLGksJy4nLGosJy4nLGoxKSA9ICcka29kZUJhcmFuZyciKSk7CiAgICAkZ2V0RGF0YVBlcnNlZGlhYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHZpZXdfZGFmdGFyX3BlcnNlZGlhYW4gd2hlcmUgY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSkgPSAnJGtvZGVTS1BEJyBhbmQgY29uY2F0KGYsJy4nLGcsJy4nLGgsJy4nLGksJy4nLGosJy4nLGoxKSA9ICcka29kZUJhcmFuZycgYW5kIHllYXIodGFuZ2dhbF9idWt1KSA9ICckdGhpcy0+dGFodW5BbmdnYXJhbiciKSk7CiAgICAkZ2V0RGF0YUxvY2tCYXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnIGFuZCBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0gJyRrb2RlQmFyYW5nJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9ICcxJyIpKTsKICAgICRkYXRhU2FsZG9Bd2FsID0gYXJyYXkoCiAgICAgICdjMScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydjMSddLAogICAgICAnYycgPT4gJGdldERhdGFQZXJzZWRpYWFuWydjJ10sCiAgICAgICdkJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2QnXSwKICAgICAgJ2UnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnZSddLAogICAgICAnZTEnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnZTEnXSwKICAgICAgJ2YnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnZiddLAogICAgICAnZycgPT4gJGdldERhdGFQZXJzZWRpYWFuWydnJ10sCiAgICAgICdoJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2gnXSwKICAgICAgJ2knID0+ICRnZXREYXRhUGVyc2VkaWFhblsnaSddLAogICAgICAnaicgPT4gJGdldERhdGFQZXJzZWRpYWFuWydqJ10sCiAgICAgICdqMScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydqMSddLAogICAgICAnc2F0dWFuJyA9PiAkZ2V0RGF0YUJhcmFuZ1snc2F0dWFuJ10sCiAgICAgICd0YW5nZ2FsJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxIiwKICAgICAgJ2pucycgPT4gJzEnLAogICAgICAnamVuaXNfcGVyc2VkaWFhbicgPT4gJzEnLAogICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAnaGFyZ2Ffc2F0dWFuJyA9PiAkZ2V0RGF0YUxvY2tCYXJhbmdbJ2hhcmdhJ10gLyAkZ2V0RGF0YUxvY2tCYXJhbmdbJ3NhbGRvX2JhcmFuZyddICAsCiAgICAgICdqdW1sYWgnID0+ICRnZXREYXRhTG9ja0JhcmFuZ1snc2FsZG9fYmFyYW5nJ10gLAogICAgICAndG90YWwnID0+ICRnZXREYXRhTG9ja0JhcmFuZ1snaGFyZ2EnXSwKICAgICk7CiAgICAkcXVlcnlJbnNldFNhbGRvQXdhbCA9ICR0aGlzLT5zcWxJbnNlcnQoInNhbGRvX2F3YWwiLCRkYXRhU2FsZG9Bd2FsKTsKICAgICR0aGlzLT5zcWxRdWVyeSgkcXVlcnlJbnNldFNhbGRvQXdhbCk7CiAgICAkZ2V0SWRUcmFuc2Frc2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgbWF4KGlkKSBmcm9tIHNhbGRvX2F3YWwgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIGFuZCB0YW5nZ2FsPSciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEiLiInIikpOwogICAgJGRhdGFLYXJ0dVBlcnNlZGlhYW4gPSBhcnJheSgKICAgICAgJ2MxJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2MxJ10sCiAgICAgICdjJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2MnXSwKICAgICAgJ2QnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnZCddLAogICAgICAnZScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydlJ10sCiAgICAgICdlMScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydlMSddLAogICAgICAnZicgPT4gJGdldERhdGFQZXJzZWRpYWFuWydmJ10sCiAgICAgICdnJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2cnXSwKICAgICAgJ2gnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnaCddLAogICAgICAnaScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydpJ10sCiAgICAgICdqJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2onXSwKICAgICAgJ2oxJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2oxJ10sCiAgICAgICd0YW5nZ2FsX2J1a3UnID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEiLAogICAgICAnam5zJyA9PiAnMScsCiAgICAgICdqZW5pc19wZXJzZWRpYWFuJyA9PiAnMScsCiAgICAgICdjYXJhX3Blcm9sZWhhbicgPT4gJzEnLAogICAgICAnaGFyZ2Ffc2F0dWFuJyA9PiAkZ2V0RGF0YUxvY2tCYXJhbmdbJ2hhcmdhJ10gLyAkZ2V0RGF0YUxvY2tCYXJhbmdbJ3NhbGRvX2JhcmFuZyddLAogICAgICAnanVtbGFoJyA9PiAkZ2V0RGF0YUxvY2tCYXJhbmdbJ3NhbGRvX2JhcmFuZyddICwKICAgICAgJ3RvdGFsJyA9PiAkZ2V0RGF0YUxvY2tCYXJhbmdbJ2hhcmdhJ10sCiAgICAgICdzYXR1YW4nID0+ICRnZXREYXRhQmFyYW5nWydzYXR1YW4nXSwKICAgICAgJ3JlZmlkJyA9PiAkZ2V0SWRUcmFuc2Frc2lbJ21heChpZCknXQogICAgKTsKICAgICRxdWVyeUthcnR1UGVyc2VkaWFhbiA9ICR0aGlzLT5zcWxJbnNlcnQoInRfa2FydHVfcGVyc2VkaWFhbiIsJGRhdGFLYXJ0dVBlcnNlZGlhYW4pOwogICAgJHRoaXMtPnNxbFF1ZXJ5KCRxdWVyeUthcnR1UGVyc2VkaWFhbik7CiAgICByZXR1cm4gJHF1ZXJ5SW5zZXRTYWxkb0F3YWw7CiAgfQoJZnVuY3Rpb24gc2V0U2FsZG9Bd2FsVGFodW5hbigka29kZVNLUEQsJGtvZGVCYXJhbmcpewogICAgJHRhaHVuRGVwYW4gPSAkdGhpcy0+dGFodW5BbmdnYXJhbiAgKyAxOwogICAgJGdldERhdGFCYXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9iYXJhbmcgd2hlcmUgY29uY2F0KGYsJy4nLGcsJy4nLGgsJy4nLGksJy4nLGosJy4nLGoxKSA9ICcka29kZUJhcmFuZyciKSk7CiAgICAkZ2V0RGF0YVBlcnNlZGlhYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHZpZXdfZGFmdGFyX3BlcnNlZGlhYW4gd2hlcmUgY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSkgPSAnJGtvZGVTS1BEJyBhbmQgY29uY2F0KGYsJy4nLGcsJy4nLGgsJy4nLGksJy4nLGosJy4nLGoxKSA9ICcka29kZUJhcmFuZycgYW5kIHllYXIodGFuZ2dhbF9idWt1KSA9ICckdGhpcy0+dGFodW5BbmdnYXJhbiciKSk7CiAgICAkZ2V0RGF0YUxvY2tCYXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnIGFuZCBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0gJyRrb2RlQmFyYW5nJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9ICcyJyIpKTsKICAgICRkYXRhU2FsZG9Bd2FsID0gYXJyYXkoCiAgICAgICdjMScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydjMSddLAogICAgICAnYycgPT4gJGdldERhdGFQZXJzZWRpYWFuWydjJ10sCiAgICAgICdkJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2QnXSwKICAgICAgJ2UnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnZSddLAogICAgICAnZTEnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnZTEnXSwKICAgICAgJ2YnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnZiddLAogICAgICAnZycgPT4gJGdldERhdGFQZXJzZWRpYWFuWydnJ10sCiAgICAgICdoJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2gnXSwKICAgICAgJ2knID0+ICRnZXREYXRhUGVyc2VkaWFhblsnaSddLAogICAgICAnaicgPT4gJGdldERhdGFQZXJzZWRpYWFuWydqJ10sCiAgICAgICdqMScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydqMSddLAogICAgICAnc2F0dWFuJyA9PiAkZ2V0RGF0YUJhcmFuZ1snc2F0dWFuJ10sCiAgICAgICd0YW5nZ2FsJyA9PiAkdGFodW5EZXBhbi4iLSR0aGlzLT5idWxhblRhbmdnYWxTYWxkb0F3YWwiLAogICAgICAnam5zJyA9PiAnMScsCiAgICAgICdqZW5pc19wZXJzZWRpYWFuJyA9PiAnMScsCiAgICAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRhaHVuRGVwYW4sCiAgICAgICdoYXJnYV9zYXR1YW4nID0+ICRnZXREYXRhTG9ja0JhcmFuZ1snaGFyZ2EnXSAvICRnZXREYXRhTG9ja0JhcmFuZ1snc2FsZG9fYmFyYW5nJ10gICwKICAgICAgJ2p1bWxhaCcgPT4gJGdldERhdGFMb2NrQmFyYW5nWydzYWxkb19iYXJhbmcnXSAsCiAgICAgICd0b3RhbCcgPT4gJGdldERhdGFMb2NrQmFyYW5nWydoYXJnYSddLAogICAgKTsKICAgICRxdWVyeUluc2V0U2FsZG9Bd2FsID0gJHRoaXMtPnNxbEluc2VydCgic2FsZG9fYXdhbCIsJGRhdGFTYWxkb0F3YWwpOwogICAgJHRoaXMtPnNxbFF1ZXJ5KCRxdWVyeUluc2V0U2FsZG9Bd2FsKTsKICAgICRnZXRJZFRyYW5zYWtzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBtYXgoaWQpIGZyb20gc2FsZG9fYXdhbCB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZycgYW5kIHRhbmdnYWw9JyIuJHRhaHVuRGVwYW4uIi0kdGhpcy0+YnVsYW5UYW5nZ2FsU2FsZG9Bd2FsIi4iJyIpKTsKICAgICRkYXRhS2FydHVQZXJzZWRpYWFuID0gYXJyYXkoCiAgICAgICdjMScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydjMSddLAogICAgICAnYycgPT4gJGdldERhdGFQZXJzZWRpYWFuWydjJ10sCiAgICAgICdkJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2QnXSwKICAgICAgJ2UnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnZSddLAogICAgICAnZTEnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnZTEnXSwKICAgICAgJ2YnID0+ICRnZXREYXRhUGVyc2VkaWFhblsnZiddLAogICAgICAnZycgPT4gJGdldERhdGFQZXJzZWRpYWFuWydnJ10sCiAgICAgICdoJyA9PiAkZ2V0RGF0YVBlcnNlZGlhYW5bJ2gnXSwKICAgICAgJ2knID0+ICRnZXREYXRhUGVyc2VkaWFhblsnaSddLAogICAgICAnaicgPT4gJGdldERhdGFQZXJzZWRpYWFuWydqJ10sCiAgICAgICdqMScgPT4gJGdldERhdGFQZXJzZWRpYWFuWydqMSddLAogICAgICAndGFuZ2dhbF9idWt1JyA9PiAkdGFodW5EZXBhbi4iLSR0aGlzLT5idWxhblRhbmdnYWxTYWxkb0F3YWwiLAogICAgICAnam5zJyA9PiAnMScsCiAgICAgICdqZW5pc19wZXJzZWRpYWFuJyA9PiAnMScsCiAgICAgICdjYXJhX3Blcm9sZWhhbicgPT4gJzEnLAogICAgICAnaGFyZ2Ffc2F0dWFuJyA9PiAkZ2V0RGF0YUxvY2tCYXJhbmdbJ2hhcmdhJ10gLyAkZ2V0RGF0YUxvY2tCYXJhbmdbJ3NhbGRvX2JhcmFuZyddLAogICAgICAnanVtbGFoJyA9PiAkZ2V0RGF0YUxvY2tCYXJhbmdbJ3NhbGRvX2JhcmFuZyddICwKICAgICAgJ3RvdGFsJyA9PiAkZ2V0RGF0YUxvY2tCYXJhbmdbJ2hhcmdhJ10sCiAgICAgICdzYXR1YW4nID0+ICRnZXREYXRhQmFyYW5nWydzYXR1YW4nXSwKICAgICAgJ3JlZmlkJyA9PiAkZ2V0SWRUcmFuc2Frc2lbJ21heChpZCknXQogICAgKTsKICAgIGlmKCFlbXB0eSgkZ2V0RGF0YVBlcnNlZGlhYW5bJ2MxJ10pKXsKICAgICAgJHF1ZXJ5S2FydHVQZXJzZWRpYWFuID0gJHRoaXMtPnNxbEluc2VydCgidF9rYXJ0dV9wZXJzZWRpYWFuIiwkZGF0YUthcnR1UGVyc2VkaWFhbik7CiAgICB9CiAgICAkdGhpcy0+c3FsUXVlcnkoJHF1ZXJ5S2FydHVQZXJzZWRpYWFuKTsKCiAgICByZXR1cm4gJHF1ZXJ5SW5zZXRTYWxkb0F3YWw7CiAgfQogIGZ1bmN0aW9uIGdyYWJUcmFuc2Frc2lTZW1lc3RlcjEoJGtvZGVTS1BELCRrb2RlQmFyYW5nLCRmaWx0ZXJQZXJpb2RlKXsKCQkkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZz0nJGtvZGVCYXJhbmcnIGFuZCBzZW1lc3RlciA9ICckZmlsdGVyUGVyaW9kZSciKTsKICAgICRlcnIgPSAiIjsKICAgICRjZWsgPSAiIjsKICAgICRjb250ZW50ID0gIiI7CiAgICAka29uZGlzaVRhaHVuID0gIiBhbmQgbGVmdCh0YW5nZ2FsX2J1a3UsNCkgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iJyAiOwogICAgaWYoIWVtcHR5KCRmaWx0ZXJQZXJpb2RlKSl7CiAgICAgICAgaWYoJGZpbHRlclBlcmlvZGUgPT0gJzEnKXsKICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNiI7CiAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZSAgPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInICI7CiAgICAgICAgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAnMicpewogICAgICAgICAgICAkbWluRmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA3IjsKICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CiAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZT0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpID49ICckbWluRmlsdGVyJyBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CiAgICAgICAgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAnMycpewogICAgICAgICAgICAkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjEyIjsKICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlID0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CiAgICAgICAgfQogICAgfQoKICAgICAgJGdldERhdGEgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZz0nJGtvZGVCYXJhbmcnICIpKTsKICAgICAgJGRhdGFMb2NrQmFyYW5nID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAnYzEnID0+ICRnZXREYXRhWydjMSddLAogICAgICAgICAgICAgICAgICAgICAgJ2MnID0+ICRnZXREYXRhWydjJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZCcgPT4gJGdldERhdGFbJ2QnXSwKICAgICAgICAgICAgICAgICAgICAgICdlJyA9PiAkZ2V0RGF0YVsnZSddLAogICAgICAgICAgICAgICAgICAgICAgJ2UxJyA9PiAkZ2V0RGF0YVsnZTEnXSwKICAgICAgICAgICAgICAgICAgICAgICdmMScgPT4gJGdldERhdGFbJ2YxJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZjInID0+ICRnZXREYXRhWydmMiddLAogICAgICAgICAgICAgICAgICAgICAgJ2YnID0+ICRnZXREYXRhWydmJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZycgPT4gJGdldERhdGFbJ2cnXSwKICAgICAgICAgICAgICAgICAgICAgICdoJyA9PiAkZ2V0RGF0YVsnaCddLAogICAgICAgICAgICAgICAgICAgICAgJ2knID0+ICRnZXREYXRhWydpJ10sCiAgICAgICAgICAgICAgICAgICAgICAnaicgPT4gJGdldERhdGFbJ2onXSwKICAgICAgICAgICAgICAgICAgICAgICdqMScgPT4gJGdldERhdGFbJ2oxJ10sCiAgICAgICAgICAgICAgICAgICAgICAndGFodW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICAgICAgICAgJ3NlbWVzdGVyJyA9PiAxLAogICAgICAgICAgKTsKICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCJ0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmciLCRkYXRhTG9ja0JhcmFuZykpOwoKICAgICAgICAgICRpZExvY2sgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgbWF4KGlkKSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgYW5kIHRhaHVuID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIicgYW5kIHNlbWVzdGVyID0gJyIuJGZpbHRlclBlcmlvZGUuIicgIikpOwogICAgICAgICAgJGlkTG9jayA9ICRpZExvY2tbJ21heChpZCknXTsKCgogICAgICAgICAgJGdldERhdGFUYW1iYWggPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyBhbmQgZT0nIi4kZ2V0RGF0YVsnZSddLiInIGFuZCBlMT0nIi4kZ2V0RGF0YVsnZTEnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSBvcmRlciBieSB0YW5nZ2FsX2J1a3UgYXNjIik7CiAgICAgICAgICB3aGlsZSAoJGRhdGFUYW1iYWggPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFUYW1iYWgpKSB7CgkJCQkJCWlmKCRkYXRhVGFtYmFoWydqbnMnXSA9PSAnMycpewoJCQkJCQkJJGdldERhdGFEZXRhaWxEaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBkZXRhaWxfcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlICBpZCA9ICciLiRkYXRhVGFtYmFoWydyZWZpZCddLiInIikpOwoJCQkJCQkJJGdldERhdGFSaW5jaWFuRGlzdHJpYnVzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlICBpZCA9ICciLiRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaVsnaWRfcmluY2lhbl9kaXN0cmlidXNpJ10uIiciKSk7CgkJCQkJCQkkZGF0YUNvdW50RGlzdHJpYnVzaSA9IGFycmF5KAoJCQkJCQkJCQkJCQkJJ2lkX2xvY2tfYmFyYW5nJyA9PiAkaWRMb2NrLAoJCQkJCQkJCQkJCQkJJ2MxJyA9PiAkZ2V0RGF0YVsnYzEnXSwKCQkJCQkJCQkJCQkJCSdjJyA9PiAkZ2V0RGF0YVsnYyddLAoJCQkJCQkJCQkJCQkJJ2QnID0+ICRnZXREYXRhWydkJ10sCgkJCQkJCQkJCQkJCQknZScgPT4gJGdldERhdGFbJ2UnXSwKCQkJCQkJCQkJCQkJCSdlMScgPT4gJGdldERhdGFbJ2UxJ10sCgkJCQkJCQkJCQkJCQknZicgPT4gJGdldERhdGFbJ2YnXSwKCQkJCQkJCQkJCQkJCSdnJyA9PiAkZ2V0RGF0YVsnZyddLAoJCQkJCQkJCQkJCQkJJ2gnID0+ICRnZXREYXRhWydoJ10sCgkJCQkJCQkJCQkJCQknaScgPT4gJGdldERhdGFbJ2knXSwKCQkJCQkJCQkJCQkJCSdqJyA9PiAkZ2V0RGF0YVsnaiddLAoJCQkJCQkJCQkJCQkJJ2oxJyA9PiAkZ2V0RGF0YVsnajEnXSwKCQkJCQkJCQkJCQkJCSdpZF9kaXN0cmlidXNpJyA9PiAkZ2V0RGF0YVJpbmNpYW5EaXN0cmlidXNpWydpZF9kaXN0cmlidXNpJ10sCgkJCQkJCQkJCQkJCQknaWRfcmluY2lhbl9kaXN0cmlidXNpJyA9PiAkZ2V0RGF0YURldGFpbERpc3RyaWJ1c2lbJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaSddLAoJCQkJCQkJCQkJCQkJJ3NlbWVzdGVyJyA9PiAxLAoJCQkJCQkJCQkJCQkJJ25vbW9yJyA9PiAkZGF0YVRhbWJhaFsnbm9tb3InXSwKCQkJCQkJCQkJCQkJCSdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhVGFtYmFoWydpZCddCgoJCQkJCQkJKTsKCQkJCQkJCSR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4nLCRkYXRhQ291bnREaXN0cmlidXNpKSk7CgkJCQkJCSB9CiAgICAgICAgICAgICAgJGRhdGFMb2NrVGFtYmFoID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+ICRkYXRhVGFtYmFoWyd0YW5nZ2FsX2J1a3UnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YVRhbWJhaFsnaWQnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkZGF0YVRhbWJhaFsnanVtbGFoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkZGF0YVRhbWJhaFsnaGFyZ2Ffc2F0dWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Npc2EnID0+ICRkYXRhVGFtYmFoWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfbG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdsb2NrX2JhcmFuZ190YW1iYWgnLCRkYXRhTG9ja1RhbWJhaCkpOwogICAgICAgICAgfQogICAgICAgICAgJGFycmF5SWRQZW5nZWx1YXJhbkRpc3RyaWJ1c2kgPSBhcnJheSgpOwogICAgICAgICAgJGdldERhdGFLdXJhbmcgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcyJyAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSBvcmRlciBieSB0YW5nZ2FsX2J1a3UgYXNjIik7CiAgICAgICAgICB3aGlsZSAoJGRhdGFLdXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFLdXJhbmcpKSB7CiAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuID0gYXJyYXkoKTsKICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nID0gJGRhdGFLdXJhbmdbJ2p1bWxhaCddOwogICAgICAgICAgICAgICRnZXREYXRhUGVuZXJpbWFhbiA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBsb2NrX2JhcmFuZ190YW1iYWggd2hlcmUgaWRfbG9jayA9ICciLiRpZExvY2suIicgYW5kIHNpc2EgIT0nMCciKTsKICAgICAgICAgICAgICB3aGlsZSAoJGRhdGFQZW5lcmltYWFuID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhUGVuZXJpbWFhbikpIHsKICAgICAgICAgICAgICAgICAgaWYoJGp1bWxhaEJhcmFuZ0t1cmFuZyAhPSAwKXsKCQkJCQkJCQkJCSRnZXRLYXJ0dVBlcnNlZGlhYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10uIiciKSk7CgkJCQkJCQkJCQlpZigkZ2V0S2FydHVQZXJzZWRpYWFuWydqbnMnXSA9PSAnMycpewoJCQkJCQkJCQkJCQkvLyBpZihpbnR2YWwoJGdldEthcnR1UGVyc2VkaWFhblsnaGFyZ2Ffc2F0dWFuJ10pID09IDApewoJCQkJCQkJCQkJCQkJaWYoJHRoaXMtPnNxbE51bVJvdygkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlIG5vbW9yID0gJyIuJGdldEthcnR1UGVyc2VkaWFhblsnbm9tb3InXS4iJyBhbmQgc2VtZXN0ZXIgPSAnMScgYW5kIHRhbWJhaGFuX2hhcmdhICE9JyciKSkgIT0gMCl7CgkJCQkJCQkJCQkJCQkJJGdldERhdGFDb3VudERpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSBub21vciA9ICciLiRnZXRLYXJ0dVBlcnNlZGlhYW5bJ25vbW9yJ10uIicgYW5kIHNlbWVzdGVyID0gJzEnIGFuZCB0YW1iYWhhbl9oYXJnYSAhPScnIikpOwoJCQkJCQkJCQkJCQkJCSRoYXJnYVNhdHVhblBlbmVyaW1hYW4gPSAkZ2V0RGF0YUNvdW50RGlzdHJpYnVzaVsndGFtYmFoYW5faGFyZ2EnXSAvICRnZXRLYXJ0dVBlcnNlZGlhYW5bJ2p1bWxhaCddOwoJCQkJCQkJCQkJCQkJCSRkYXRhVXBkYXRlRGlzdHJpYnVzaUthcnR1ID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJCSdoYXJnYV9zYXR1YW4nID0+ICRoYXJnYVNhdHVhblBlbmVyaW1hYW4sCgkJCQkJCQkJCQkJCQkJCSd0b3RhbCcgPT4gJGdldERhdGFDb3VudERpc3RyaWJ1c2lbJ3RhbWJhaGFuX2hhcmdhJ10sCgkJCQkJCQkJCQkJCQkJKTsKCQkJCQkJCQkJCQkJCQkkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbFVwZGF0ZSgidF9rYXJ0dV9wZXJzZWRpYWFuIiwkZGF0YVVwZGF0ZURpc3RyaWJ1c2lLYXJ0dSwiaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddLiInIikpOwoJCQkJCQkJCQkJCQkJCSR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlIG5vbW9yPSciLiRnZXRLYXJ0dVBlcnNlZGlhYW5bJ25vbW9yJ10uIiciKTsKCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJLy8gfQoJCQkJCQkJCQkJfWVsc2V7CgkJCQkJCQkJCQkJJGhhcmdhU2F0dWFuUGVuZXJpbWFhbiA9ICRkYXRhUGVuZXJpbWFhblsnaGFyZ2EnXTsKCQkJCQkJCQkJCX0KICAgICAgICAgICAgICAgICAgICBpZigkanVtbGFoQmFyYW5nS3VyYW5nID4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10gKXsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgbG9ja19iYXJhbmdfdGFtYmFoIHNldCBzaXNhID0gc2lzYSAtICIuJGRhdGFQZW5lcmltYWFuWydzaXNhJ10uIiB3aGVyZSBpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWQnXS4iJyIpOwogICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXlQZXJvbGVoYW5bXSA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZFBlbmVyaW1hYW4nID0+ICRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10gKiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nIC09ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoInVwZGF0ZSBsb2NrX2JhcmFuZ190YW1iYWggc2V0IHNpc2EgPSBzaXNhIC0gJGp1bWxhaEJhcmFuZ0t1cmFuZyB3aGVyZSBpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWQnXS4iJyIpOwogICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXlQZXJvbGVoYW5bXSA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZFBlbmVyaW1hYW4nID0+ICRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGp1bWxhaEJhcmFuZ0t1cmFuZywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRoYXJnYVNhdHVhblBlbmVyaW1hYW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkanVtbGFoQmFyYW5nS3VyYW5nICogJGhhcmdhU2F0dWFuUGVuZXJpbWFhbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGp1bWxhaEJhcmFuZ0t1cmFuZyA9IDA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICRlbmNvZGluZyA9IGpzb25fZW5jb2RlKCRhcnJheVBlcm9sZWhhbik7CiAgICAgICAgICAgICAgJGRlY29kaW5nID0ganNvbl9kZWNvZGUoJGVuY29kaW5nKTsKICAgICAgICAgICAgICAkaGFyZ2FQZXJvbGVoYW49ICIiOwogICAgICAgICAgICAgIGZvciAoJGk9MDsgJGkgPCBzaXplb2YoJGRlY29kaW5nKSA7ICRpKyspIHsKICAgICAgICAgICAgICAgICAgJGhhcmdhUGVyb2xlaGFuICs9ICRkZWNvZGluZ1skaV0tPnRvdGFsOwogICAgICAgICAgICAgIH0KCQkJCQkJCWlmKCRkYXRhS3VyYW5nWydqbnMnXSA9PSAiNyIpewoJCQkJCQkJCS8vaHVibGEKICAgICAgICAgICAgICAgICRhcnJheUlkUGVuZ2VsdWFyYW5EaXN0cmlidXNpW10gPSAkZGF0YUt1cmFuZ1snaWQnXTsKCQkJCQkJCQkkZ2V0RGF0YURldGFpbERpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGRldGFpbF9yaW5jaWFuX2Rpc3RyaWJ1c2kgd2hlcmUgIGlkID0gJyIuJGRhdGFLdXJhbmdbJ3JlZmlkJ10uIiciKSk7CgkJCQkJCQkJJGdldERhdGFSaW5jaWFuRGlzdHJpYnVzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlICBpZCA9ICciLiRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaVsnaWRfcmluY2lhbl9kaXN0cmlidXNpJ10uIiciKSk7CgkJCQkJCQkJJGRhdGFDb3VudERpc3RyaWJ1c2kgPSBhcnJheSgKCQkJCQkJCQkJCQkJCQknaWRfbG9ja19iYXJhbmcnID0+ICRpZExvY2ssCgkJCQkJCQkJCQkJCQkJJ2MxJyA9PiAkZ2V0RGF0YVsnYzEnXSwKCQkJCQkJCQkJCQkJCQknYycgPT4gJGdldERhdGFbJ2MnXSwKCQkJCQkJCQkJCQkJCQknZCcgPT4gJGdldERhdGFbJ2QnXSwKCQkJCQkJCQkJCQkJCQknZScgPT4gJGdldERhdGFbJ2UnXSwKCQkJCQkJCQkJCQkJCQknZTEnID0+ICRnZXREYXRhWydlMSddLAoJCQkJCQkJCQkJCQkJCSdmJyA9PiAkZ2V0RGF0YVsnZiddLAoJCQkJCQkJCQkJCQkJCSdnJyA9PiAkZ2V0RGF0YVsnZyddLAoJCQkJCQkJCQkJCQkJCSdoJyA9PiAkZ2V0RGF0YVsnaCddLAoJCQkJCQkJCQkJCQkJCSdpJyA9PiAkZ2V0RGF0YVsnaSddLAoJCQkJCQkJCQkJCQkJCSdqJyA9PiAkZ2V0RGF0YVsnaiddLAoJCQkJCQkJCQkJCQkJCSdqMScgPT4gJGdldERhdGFbJ2oxJ10sCgkJCQkJCQkJCQkJCQkJJ2lkX2Rpc3RyaWJ1c2knID0+ICRnZXREYXRhUmluY2lhbkRpc3RyaWJ1c2lbJ2lkX2Rpc3RyaWJ1c2knXSwKCQkJCQkJCQkJCQkJCQknaWRfcmluY2lhbl9kaXN0cmlidXNpJyA9PiAkZ2V0RGF0YURldGFpbERpc3RyaWJ1c2lbJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaSddLAoJCQkJCQkJCQkJCQkJCSdzZW1lc3RlcicgPT4gMSwKCQkJCQkJCQkJCQkJCQknbm9tb3InID0+ICRkYXRhS3VyYW5nWydub21vciddLAoJCQkJCQkJCQkJCQkJCSd0YW1iYWhhbl9oYXJnYScgPT4gJGhhcmdhUGVyb2xlaGFuLAoJCQkJCQkJCQkJCQkJCSdqc29uX2FycmF5JyA9PiAkZW5jb2RpbmcKCQkJCQkJCQkpOwoJCQkJCQkJCSR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4nLCRkYXRhQ291bnREaXN0cmlidXNpKSk7CgkJCQkJCQl9CiAgICAgICAgICAgICAgJGRhdGFMb2NrS3VyYW5nID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+ICRkYXRhS3VyYW5nWyd0YW5nZ2FsX2J1a3UnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YUt1cmFuZ1snaWQnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkZGF0YUt1cmFuZ1snanVtbGFoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJGhhcmdhUGVyb2xlaGFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9sb2NrJyA9PiAkaWRMb2NrLAogICAgICAgICAgICAgICAgICAgICAgICAgICdwZXJvbGVoYW4nID0+IGpzb25fZW5jb2RlKCRhcnJheVBlcm9sZWhhbikKCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgnbG9ja19iYXJhbmdfa3VyYW5nJywkZGF0YUxvY2tLdXJhbmcpKTsKICAgICAgICAgIH0KCgogICAgICAgICAgJGdldERhdGFIaXN0b3JpID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgICRrb25kaXNpVGFodW4gJGtvbmRpc2lQZXJpb2RlIG9yZGVyIGJ5IHRhbmdnYWxfYnVrdSxqZW5pc19wZXJzZWRpYWFuIGFzYyIpOwogICAgICAgICAgd2hpbGUgKCRkYXRhSGlzdG9yaSA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YUhpc3RvcmkpKSB7CiAgICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydqZW5pc19wZXJzZWRpYWFuJ10gPT0gMSl7CiAgICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICcxJyl7CiAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJTQUxETyBBV0FMIjsKICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnMicpewogICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydjYXJhX3Blcm9sZWhhbiddID09ICcyJyl7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVORVJJTUFBTiBQRU1CRUxJQU4iOwogICAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnY2FyYV9wZXJvbGVoYW4nXSA9PSAnMycpewogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gSElCQUgiOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzQnKXsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIkNFSyBGSVNJSyBUQU1CQUgiOwogICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICczJyl7CiAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5FUklNQUFOIERJU1RSSUJVU0kiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGhhcmdhU2F0dWFuID0gJGRhdGFIaXN0b3JpWydoYXJnYV9zYXR1YW4nXTsKICAgICAgICAgICAgICAgICR0b3RhbEhhcmdhID0gJGhhcmdhU2F0dWFuICogJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICRzYWxkb0JhcmFuZyArPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgJHRvdGFsU2FsZG8gKz0gJHRvdGFsSGFyZ2E7CgogICAgICAgICAgICAgICAgJGdldElkRGV0YWlsID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBsb2NrX2JhcmFuZ190YW1iYWggd2hlcmUgaWRfbG9jayA9ICckaWRMb2NrJyBhbmQgaWRfdF9rYXJ0dV9wZXJzZWRpYWFuID0gJyIuJGRhdGFIaXN0b3JpWydpZCddLiInIikpOwogICAgICAgICAgICAgICAgJGlkRGV0YWlsID0gJGdldElkRGV0YWlsWydpZCddOwogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc2Jyl7CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5HRUxVQVJBTiI7CiAgICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNScpewogICAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9IDA7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiQ0VLIEZJU0lLIEtVUkFORyI7CiAgICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNycpewogICAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9IDA7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVOR0VMVUFSQU4gRElTVFJJQlVTSSI7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgJGhhcmdhU2F0dWFuID0gIiI7CiAgICAgICAgICAgICAgICAkc2FsZG9CYXJhbmcgLT0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICRnZXRUb3RhbEhhcmdhID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBsb2NrX2JhcmFuZ19rdXJhbmcgd2hlcmUgaWRfbG9jayA9ICckaWRMb2NrJyBhbmQgaWRfdF9rYXJ0dV9wZXJzZWRpYWFuID0gJyIuJGRhdGFIaXN0b3JpWydpZCddLiInIikpOwogICAgICAgICAgICAgICAgJHRvdGFsSGFyZ2EgPSAkZ2V0VG90YWxIYXJnYVsnaGFyZ2EnXTsKICAgICAgICAgICAgICAgICR0b3RhbFNhbGRvIC09ICR0b3RhbEhhcmdhOwogICAgICAgICAgICAgICAgJGlkRGV0YWlsID0gJGdldFRvdGFsSGFyZ2FbJ2lkJ107CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICRkYXRhUmluY2lhbkxvY2sgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfbG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFIaXN0b3JpWyd0YW5nZ2FsX2J1a3UnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAndXJhaWFuJyA9PiAkdXJhaWFuUGVyc2VkaWFhbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFzdWsnID0+ICRiYXJhbmdNYXN1aywKICAgICAgICAgICAgICAgICAgICAgICAgICAna2VsdWFyJyA9PiAkYmFyYW5nS2VsdWFyLAogICAgICAgICAgICAgICAgICAgICAgICAgICdzYWxkb19iYXJhbmcnID0+ICRzYWxkb0JhcmFuZywKICAgICAgICAgICAgICAgICAgICAgICAgICAndG90YWwnID0+ICR0b3RhbEhhcmdhLAogICAgICAgICAgICAgICAgICAgICAgICAgICdzYWxkbycgPT4gJHRvdGFsU2FsZG8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnID0+ICRkYXRhSGlzdG9yaVsnamVuaXNfcGVyc2VkaWFhbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhSGlzdG9yaVsnaWQnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfZGV0YWlsJyA9PiAkaWREZXRhaWwsCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgncmluY2lhbl9sb2NrX2JhcmFuZycsJGRhdGFSaW5jaWFuTG9jaykpOwogICAgICAgICAgfQogICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHNldCBoYXJnYSA9ICckdG90YWxTYWxkbycsIHNhbGRvX2JhcmFuZyA9ICckc2FsZG9CYXJhbmcnIHdoZXJlIGlkID0gJyRpZExvY2snIik7CiAgICAgICAgcmV0dXJuIGFycmF5KAogICAgICAgICAgJ2lkTG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICdqdW1sYWhIYXJnYScgPT4gJHRvdGFsU2FsZG8sCiAgICAgICAgICAnc2FsZG8nID0+ICRzYWxkb0JhcmFuZywKICAJCQkJJ2FycmF5SWRQZW5nZWx1YXJhbkRpc3RyaWJ1c2knID0+ICRhcnJheUlkUGVuZ2VsdWFyYW5EaXN0cmlidXNpCiAgICAgICAgKTsKICB9CiAgZnVuY3Rpb24gZ3JhYlRyYW5zYWtzaVNlbWVzdGVyMigka29kZVNLUEQsJGtvZGVCYXJhbmcpewoKICAgICRlcnIgPSAiIjsKICAgICRjZWsgPSAiIjsKICAgICRjb250ZW50ID0gIiI7CiAgICAkZmlsdGVyUGVyaW9kZSA9ICcyJzsKICAgICRrb25kaXNpVGFodW4gPSAiIGFuZCBsZWZ0KHRhbmdnYWxfYnVrdSw0KSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiInICI7CiAgICBpZighZW1wdHkoJGZpbHRlclBlcmlvZGUpKXsKICAgICAgICBpZigkZmlsdGVyUGVyaW9kZSA9PSAnMScpewogICAgICAgICAgICAkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA2IjsKICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlICA9ICIgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlcicgIjsKICAgICAgICB9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09ICcyJyl7CiAgICAgICAgICAgICRtaW5GaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMDciOwogICAgICAgICAgICAkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjEyIjsKICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPj0gJyRtaW5GaWx0ZXInIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKICAgICAgICAgICAgJGtvbmRpc2lTYWxkb0F3YWwgPSAiIGFuZCBpZCBub3QgaW4gKCBzZWxlY3QgaWQgZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgam5zID0gJzEnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnIGFuZCB0YW5nZ2FsX2J1a3UgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLSR0aGlzLT5idWxhblRhbmdnYWxTYWxkb0F3YWwnKSAiOwogICAgICAgIH1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gJzMnKXsKICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CiAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZSA9ICIgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlciciOwogICAgICAgICAgICAka29uZGlzaVNhbGRvQXdhbCA9ICIgYW5kIGlkIG5vdCBpbiAoIHNlbGVjdCBpZCBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBqbnMgPSAnMScgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgYW5kIHRhbmdnYWxfYnVrdSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEnKSAiOwogICAgICAgIH0KICAgIH0KCiAgICAgICRnZXREYXRhID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmc9JyRrb2RlQmFyYW5nJyAiKSk7CiAgICAgICRkYXRhTG9ja0JhcmFuZyA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgJ2MxJyA9PiAkZ2V0RGF0YVsnYzEnXSwKICAgICAgICAgICAgICAgICAgICAgICdjJyA9PiAkZ2V0RGF0YVsnYyddLAogICAgICAgICAgICAgICAgICAgICAgJ2QnID0+ICRnZXREYXRhWydkJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZScgPT4gJGdldERhdGFbJ2UnXSwKICAgICAgICAgICAgICAgICAgICAgICdlMScgPT4gJGdldERhdGFbJ2UxJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZjEnID0+ICRnZXREYXRhWydmMSddLAogICAgICAgICAgICAgICAgICAgICAgJ2YyJyA9PiAkZ2V0RGF0YVsnZjInXSwKICAgICAgICAgICAgICAgICAgICAgICdmJyA9PiAkZ2V0RGF0YVsnZiddLAogICAgICAgICAgICAgICAgICAgICAgJ2cnID0+ICRnZXREYXRhWydnJ10sCiAgICAgICAgICAgICAgICAgICAgICAnaCcgPT4gJGdldERhdGFbJ2gnXSwKICAgICAgICAgICAgICAgICAgICAgICdpJyA9PiAkZ2V0RGF0YVsnaSddLAogICAgICAgICAgICAgICAgICAgICAgJ2onID0+ICRnZXREYXRhWydqJ10sCiAgICAgICAgICAgICAgICAgICAgICAnajEnID0+ICRnZXREYXRhWydqMSddLAogICAgICAgICAgICAgICAgICAgICAgJ3RhaHVuJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbiwKICAgICAgICAgICAgICAgICAgICAgICdzZW1lc3RlcicgPT4gMiwKICAgICAgICAgICk7CgkJCQkJJGluc2VydExvY2tCYXJhbmcgPSAkdGhpcy0+c3FsSW5zZXJ0KCJ0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmciLCRkYXRhTG9ja0JhcmFuZyk7CiAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJGluc2VydExvY2tCYXJhbmcpOwoKICAgICAgICAgICRpZExvY2sgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgbWF4KGlkKSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgYW5kIHRhaHVuID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIicgYW5kIHNlbWVzdGVyID0gJyIuJGZpbHRlclBlcmlvZGUuIicgIikpOwogICAgICAgICAgJGlkTG9jayA9ICRpZExvY2tbJ21heChpZCknXTsKCgogICAgICAgICAgJGdldERhdGFUYW1iYWggPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyBhbmQgZT0nIi4kZ2V0RGF0YVsnZSddLiInIGFuZCBlMT0nIi4kZ2V0RGF0YVsnZTEnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSAka29uZGlzaVNhbGRvQXdhbCBvcmRlciBieSB0YW5nZ2FsX2J1a3UgYXNjIik7CiAgICAgICAgICB3aGlsZSAoJGRhdGFUYW1iYWggPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFUYW1iYWgpKSB7CiAgICAgICAgICAgICAgJGRhdGFMb2NrVGFtYmFoID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+ICRkYXRhVGFtYmFoWyd0YW5nZ2FsX2J1a3UnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YVRhbWJhaFsnaWQnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkZGF0YVRhbWJhaFsnanVtbGFoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkZGF0YVRhbWJhaFsnaGFyZ2Ffc2F0dWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Npc2EnID0+ICRkYXRhVGFtYmFoWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfbG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdsb2NrX2JhcmFuZ190YW1iYWgnLCRkYXRhTG9ja1RhbWJhaCkpOwogICAgICAgICAgfQoKICAgICAgICAgICRnZXREYXRhS3VyYW5nID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBlPSciLiRnZXREYXRhWydlJ10uIicgYW5kIGUxPSciLiRnZXREYXRhWydlMSddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMicgJGtvbmRpc2lUYWh1biAka29uZGlzaVBlcmlvZGUgJGtvbmRpc2lTYWxkb0F3YWwgb3JkZXIgYnkgdGFuZ2dhbF9idWt1IGFzYyIpOwogICAgICAgICAgd2hpbGUgKCRkYXRhS3VyYW5nID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhS3VyYW5nKSkgewogICAgICAgICAgICAgICRhcnJheVBlcm9sZWhhbiA9IGFycmF5KCk7CiAgICAgICAgICAgICAgJGp1bWxhaEJhcmFuZ0t1cmFuZyA9ICRkYXRhS3VyYW5nWydqdW1sYWgnXTsKICAgICAgICAgICAgICAkZ2V0RGF0YVBlbmVyaW1hYW4gPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gbG9ja19iYXJhbmdfdGFtYmFoIHdoZXJlIGlkX2xvY2sgPSAnIi4kaWRMb2NrLiInIGFuZCBzaXNhICE9JzAnIik7CiAgICAgICAgICAgICAgd2hpbGUgKCRkYXRhUGVuZXJpbWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVBlbmVyaW1hYW4pKSB7CiAgICAgICAgICAgICAgICAgIGlmKCRqdW1sYWhCYXJhbmdLdXJhbmcgIT0gMCl7CiAgICAgICAgICAgICAgICAgICAgaWYoJGp1bWxhaEJhcmFuZ0t1cmFuZyA+ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddICl7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgidXBkYXRlIGxvY2tfYmFyYW5nX3RhbWJhaCBzZXQgc2lzYSA9IHNpc2EgLSAiLiRkYXRhUGVuZXJpbWFhblsnc2lzYSddLiIgd2hlcmUgaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkJ10uIiciKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuW10gPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRQZW5lcmltYWFuJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJGRhdGFQZW5lcmltYWFuWydoYXJnYSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10gKiAkZGF0YVBlbmVyaW1hYW5bJ2hhcmdhJ10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgICRqdW1sYWhCYXJhbmdLdXJhbmcgLT0gJGRhdGFQZW5lcmltYWFuWydzaXNhJ107CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgidXBkYXRlIGxvY2tfYmFyYW5nX3RhbWJhaCBzZXQgc2lzYSA9IHNpc2EgLSAkanVtbGFoQmFyYW5nS3VyYW5nIHdoZXJlIGlkID0gJyIuJGRhdGFQZW5lcmltYWFuWydpZCddLiInIik7CiAgICAgICAgICAgICAgICAgICAgICAgICRhcnJheVBlcm9sZWhhbltdID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkUGVuZXJpbWFhbicgPT4gJGRhdGFQZW5lcmltYWFuWydpZF90X2thcnR1X3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkanVtbGFoQmFyYW5nS3VyYW5nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJGRhdGFQZW5lcmltYWFuWydoYXJnYSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJGp1bWxhaEJhcmFuZ0t1cmFuZyAqICRkYXRhUGVuZXJpbWFhblsnaGFyZ2EnXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGp1bWxhaEJhcmFuZ0t1cmFuZyA9IDA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICRlbmNvZGluZyA9IGpzb25fZW5jb2RlKCRhcnJheVBlcm9sZWhhbik7CiAgICAgICAgICAgICAgJGRlY29kaW5nID0ganNvbl9kZWNvZGUoJGVuY29kaW5nKTsKICAgICAgICAgICAgICAkaGFyZ2FQZXJvbGVoYW49ICIiOwogICAgICAgICAgICAgIGZvciAoJGk9MDsgJGkgPCBzaXplb2YoJGRlY29kaW5nKSA7ICRpKyspIHsKICAgICAgICAgICAgICAgICAgJGhhcmdhUGVyb2xlaGFuICs9ICRkZWNvZGluZ1skaV0tPnRvdGFsOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAkZGF0YUxvY2tLdXJhbmcgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFLdXJhbmdbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhS3VyYW5nWydpZCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhS3VyYW5nWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkaGFyZ2FQZXJvbGVoYW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX2xvY2snID0+ICRpZExvY2ssCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Blcm9sZWhhbicgPT4ganNvbl9lbmNvZGUoJGFycmF5UGVyb2xlaGFuKQoKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdsb2NrX2JhcmFuZ19rdXJhbmcnLCRkYXRhTG9ja0t1cmFuZykpOwogICAgICAgICAgfQoKCiAgICAgICAgICAkZ2V0RGF0YUhpc3RvcmkgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyBhbmQgZT0nIi4kZ2V0RGF0YVsnZSddLiInIGFuZCBlMT0nIi4kZ2V0RGF0YVsnZTEnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyAgJGtvbmRpc2lUYWh1biAka29uZGlzaVBlcmlvZGUgJGtvbmRpc2lTYWxkb0F3YWwgb3JkZXIgYnkgdGFuZ2dhbF9idWt1LGplbmlzX3BlcnNlZGlhYW4gYXNjIik7CiAgICAgICAgICB3aGlsZSAoJGRhdGFIaXN0b3JpID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhSGlzdG9yaSkpIHsKICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2plbmlzX3BlcnNlZGlhYW4nXSA9PSAxKXsKICAgICAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzEnKXsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlNBTERPIEFXQUwiOwogICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICcyJyl7CiAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2NhcmFfcGVyb2xlaGFuJ10gPT0gJzInKXsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5FUklNQUFOIFBFTUJFTElBTiI7CiAgICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydjYXJhX3Blcm9sZWhhbiddID09ICczJyl7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVORVJJTUFBTiBISUJBSCI7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNCcpewogICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiQ0VLIEZJU0lLIFRBTUJBSCI7CiAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzMnKXsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gRElTVFJJQlVTSSI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkaGFyZ2FTYXR1YW4gPSAkZGF0YUhpc3RvcmlbJ2hhcmdhX3NhdHVhbiddOwogICAgICAgICAgICAgICAgJHRvdGFsSGFyZ2EgPSAkaGFyZ2FTYXR1YW4gKiAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgJHNhbGRvQmFyYW5nICs9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAkdG90YWxTYWxkbyArPSAkdG90YWxIYXJnYTsKCiAgICAgICAgICAgICAgICAkZ2V0SWREZXRhaWwgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGxvY2tfYmFyYW5nX3RhbWJhaCB3aGVyZSBpZF9sb2NrID0gJyRpZExvY2snIGFuZCBpZF90X2thcnR1X3BlcnNlZGlhYW4gPSAnIi4kZGF0YUhpc3RvcmlbJ2lkJ10uIiciKSk7CiAgICAgICAgICAgICAgICAkaWREZXRhaWwgPSAkZ2V0SWREZXRhaWxbJ2lkJ107CiAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzYnKXsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAwOwogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkdFTFVBUkFOIjsKICAgICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc1Jyl7CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJDRUsgRklTSUsgS1VSQU5HIjsKICAgICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc3Jyl7CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5HRUxVQVJBTiBESVNUUklCVVNJIjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAkaGFyZ2FTYXR1YW4gPSAiIjsKICAgICAgICAgICAgICAgICRzYWxkb0JhcmFuZyAtPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgJGdldFRvdGFsSGFyZ2EgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGxvY2tfYmFyYW5nX2t1cmFuZyB3aGVyZSBpZF9sb2NrID0gJyRpZExvY2snIGFuZCBpZF90X2thcnR1X3BlcnNlZGlhYW4gPSAnIi4kZGF0YUhpc3RvcmlbJ2lkJ10uIiciKSk7CiAgICAgICAgICAgICAgICAkdG90YWxIYXJnYSA9ICRnZXRUb3RhbEhhcmdhWydoYXJnYSddOwogICAgICAgICAgICAgICAgJHRvdGFsU2FsZG8gLT0gJHRvdGFsSGFyZ2E7CiAgICAgICAgICAgICAgICAkaWREZXRhaWwgPSAkZ2V0VG90YWxIYXJnYVsnaWQnXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgJGRhdGFSaW5jaWFuTG9jayA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9sb2NrJyA9PiAkaWRMb2NrLAogICAgICAgICAgICAgICAgICAgICAgICAgICd0YW5nZ2FsJyA9PiAkZGF0YUhpc3RvcmlbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICd1cmFpYW4nID0+ICR1cmFpYW5QZXJzZWRpYWFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICdtYXN1aycgPT4gJGJhcmFuZ01hc3VrLAogICAgICAgICAgICAgICAgICAgICAgICAgICdrZWx1YXInID0+ICRiYXJhbmdLZWx1YXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NhbGRvX2JhcmFuZycgPT4gJHNhbGRvQmFyYW5nLAogICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJHRvdGFsSGFyZ2EsCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NhbGRvJyA9PiAkdG90YWxTYWxkbywKICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZScgPT4gJGRhdGFIaXN0b3JpWydqZW5pc19wZXJzZWRpYWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFIaXN0b3JpWydpZCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9kZXRhaWwnID0+ICRpZERldGFpbCwKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdyaW5jaWFuX2xvY2tfYmFyYW5nJywkZGF0YVJpbmNpYW5Mb2NrKSk7CiAgICAgICAgICB9CiAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoInVwZGF0ZSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgc2V0IGhhcmdhID0gJyR0b3RhbFNhbGRvJywgc2FsZG9fYmFyYW5nID0gJyRzYWxkb0JhcmFuZycgd2hlcmUgaWQgPSAnJGlkTG9jayciKTsKICAgICAgLy8gcmV0dXJuIGFycmF5KAogICAgICAvLyAgICdpZExvY2snID0+ICRpZExvY2ssCiAgICAgIC8vICAgJ2p1bWxhaEhhcmdhJyA9PiAkdG90YWxTYWxkbywKICAgICAgLy8gICAnc2FsZG8nID0+ICRzYWxkb0JhcmFuZywKICAgICAgLy8gKTsKCQkJcmV0dXJuICRpbnNlcnRMb2NrQmFyYW5nOwogIH0KCiAgZnVuY3Rpb24gZ3JhYlRyYW5zYWtzaVRhaHVuYW4oJGtvZGVTS1BELCRrb2RlQmFyYW5nKXsKCQkkZmlsdGVyUGVyaW9kZSA9IDM7CgkJJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4gd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmc9JyRrb2RlQmFyYW5nJyBhbmQgc2VtZXN0ZXIgPSAnJGZpbHRlclBlcmlvZGUnIik7CiAgICAkZXJyID0gIiI7CiAgICAkY2VrID0gIiI7CiAgICAkY29udGVudCA9ICIiOwogICAgJGtvbmRpc2lUYWh1biA9ICIgYW5kIGxlZnQodGFuZ2dhbF9idWt1LDQpID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIicgIjsKICAgIGlmKCFlbXB0eSgkZmlsdGVyUGVyaW9kZSkpewogICAgICAgIGlmKCRmaWx0ZXJQZXJpb2RlID09ICcxJyl7CiAgICAgICAgICAgICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMDYiOwogICAgICAgICAgICAka29uZGlzaVBlcmlvZGUgID0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyAiOwogICAgICAgIH1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gJzInKXsKICAgICAgICAgICAgJG1pbkZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNyI7CiAgICAgICAgICAgICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMTIiOwogICAgICAgICAgICAka29uZGlzaVBlcmlvZGU9ICIgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA+PSAnJG1pbkZpbHRlcicgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlciciOwogICAgICAgICAgICAka29uZGlzaVNhbGRvQXdhbCA9ICIgYW5kIGlkIG5vdCBpbiAoIHNlbGVjdCBpZCBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBqbnMgPSAnMScgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgYW5kIHRhbmdnYWxfYnVrdSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItJHRoaXMtPmJ1bGFuVGFuZ2dhbFNhbGRvQXdhbCcpICI7CiAgICAgICAgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAnMycpewogICAgICAgICAgICAkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjEyIjsKICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlID0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CiAgICAgICAgICAgICRrb25kaXNpU2FsZG9Bd2FsID0gIiBhbmQgaWQgbm90IGluICggc2VsZWN0IGlkIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGpucyA9ICcxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgdGFuZ2dhbF9idWt1ID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMScpICI7CiAgICAgICAgfQogICAgfQoKCgogICAgJGdldERhdGEgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZz0nJGtvZGVCYXJhbmcnICAiKSk7CiAgICAgICRkYXRhTG9ja0JhcmFuZyA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgJ2MxJyA9PiAkZ2V0RGF0YVsnYzEnXSwKICAgICAgICAgICAgICAgICAgICAgICdjJyA9PiAkZ2V0RGF0YVsnYyddLAogICAgICAgICAgICAgICAgICAgICAgJ2QnID0+ICRnZXREYXRhWydkJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZScgPT4gJGdldERhdGFbJ2UnXSwKICAgICAgICAgICAgICAgICAgICAgICdlMScgPT4gJGdldERhdGFbJ2UxJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZjEnID0+ICRnZXREYXRhWydmMSddLAogICAgICAgICAgICAgICAgICAgICAgJ2YyJyA9PiAkZ2V0RGF0YVsnZjInXSwKICAgICAgICAgICAgICAgICAgICAgICdmJyA9PiAkZ2V0RGF0YVsnZiddLAogICAgICAgICAgICAgICAgICAgICAgJ2cnID0+ICRnZXREYXRhWydnJ10sCiAgICAgICAgICAgICAgICAgICAgICAnaCcgPT4gJGdldERhdGFbJ2gnXSwKICAgICAgICAgICAgICAgICAgICAgICdpJyA9PiAkZ2V0RGF0YVsnaSddLAogICAgICAgICAgICAgICAgICAgICAgJ2onID0+ICRnZXREYXRhWydqJ10sCiAgICAgICAgICAgICAgICAgICAgICAnajEnID0+ICRnZXREYXRhWydqMSddLAogICAgICAgICAgICAgICAgICAgICAgJ3RhaHVuJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbiwKICAgICAgICAgICAgICAgICAgICAgICdzZW1lc3RlcicgPT4gMywKICAgICAgICAgICk7CiAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgidF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIiwkZGF0YUxvY2tCYXJhbmcpKTsKCiAgICAgICAgICAkaWRMb2NrID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IG1heChpZCkgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgYzE9JyIuJGdldERhdGFbJ2MxJ10uIicgYW5kIGM9JyIuJGdldERhdGFbJ2MnXS4iJyBhbmQgZD0nIi4kZ2V0RGF0YVsnZCddLiInIGFuZCBlPSciLiRnZXREYXRhWydlJ10uIicgYW5kIGUxPSciLiRnZXREYXRhWydlMSddLiInICBhbmQgZj0nIi4kZ2V0RGF0YVsnZiddLiInIGFuZCBnPSciLiRnZXREYXRhWydnJ10uIicgYW5kIGg9JyIuJGdldERhdGFbJ2gnXS4iJyBhbmQgaT0nIi4kZ2V0RGF0YVsnaSddLiInIGFuZCBqPSciLiRnZXREYXRhWydqJ10uIicgYW5kIGoxPSciLiRnZXREYXRhWydqMSddLiInIGFuZCB0YWh1biA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiInIGFuZCBzZW1lc3RlciA9ICciLiRmaWx0ZXJQZXJpb2RlLiInICIpKTsKICAgICAgICAgICRpZExvY2sgPSAkaWRMb2NrWydtYXgoaWQpJ107CgoKICAgICAgICAgICRnZXREYXRhVGFtYmFoID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgJGtvbmRpc2lUYWh1biAka29uZGlzaVBlcmlvZGUgJGtvbmRpc2lTYWxkb0F3YWwgb3JkZXIgYnkgdGFuZ2dhbF9idWt1IGFzYyIpOwogICAgICAgICAgd2hpbGUgKCRkYXRhVGFtYmFoID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhVGFtYmFoKSkgewoJCQkJCQkJaWYoJGRhdGFUYW1iYWhbJ2pucyddID09ICczJyl7CgkJCQkJCQkJJGdldERhdGFEZXRhaWxEaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBkZXRhaWxfcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlICBpZCA9ICciLiRkYXRhVGFtYmFoWydyZWZpZCddLiInIikpOwoJCQkJCQkJCSRnZXREYXRhUmluY2lhbkRpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJpbmNpYW5fZGlzdHJpYnVzaSB3aGVyZSAgaWQgPSAnIi4kZ2V0RGF0YURldGFpbERpc3RyaWJ1c2lbJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaSddLiInIikpOwoJCQkJCQkJCSRkYXRhQ291bnREaXN0cmlidXNpID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJJ2lkX2xvY2tfYmFyYW5nJyA9PiAkaWRMb2NrLAoJCQkJCQkJCQkJCQkJCSdjMScgPT4gJGdldERhdGFbJ2MxJ10sCgkJCQkJCQkJCQkJCQkJJ2MnID0+ICRnZXREYXRhWydjJ10sCgkJCQkJCQkJCQkJCQkJJ2QnID0+ICRnZXREYXRhWydkJ10sCgkJCQkJCQkJCQkJCQkJJ2UnID0+ICRnZXREYXRhWydlJ10sCgkJCQkJCQkJCQkJCQkJJ2UxJyA9PiAkZ2V0RGF0YVsnZTEnXSwKCQkJCQkJCQkJCQkJCQknZicgPT4gJGdldERhdGFbJ2YnXSwKCQkJCQkJCQkJCQkJCQknZycgPT4gJGdldERhdGFbJ2cnXSwKCQkJCQkJCQkJCQkJCQknaCcgPT4gJGdldERhdGFbJ2gnXSwKCQkJCQkJCQkJCQkJCQknaScgPT4gJGdldERhdGFbJ2knXSwKCQkJCQkJCQkJCQkJCQknaicgPT4gJGdldERhdGFbJ2onXSwKCQkJCQkJCQkJCQkJCQknajEnID0+ICRnZXREYXRhWydqMSddLAoJCQkJCQkJCQkJCQkJCSdpZF9kaXN0cmlidXNpJyA9PiAkZ2V0RGF0YVJpbmNpYW5EaXN0cmlidXNpWydpZF9kaXN0cmlidXNpJ10sCgkJCQkJCQkJCQkJCQkJJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaScgPT4gJGdldERhdGFEZXRhaWxEaXN0cmlidXNpWydpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knXSwKCQkJCQkJCQkJCQkJCQknc2VtZXN0ZXInID0+IDMsCgkJCQkJCQkJCQkJCQkJJ25vbW9yJyA9PiAkZGF0YVRhbWJhaFsnbm9tb3InXSwKCQkJCQkJCQkJCQkJCQknaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YVRhbWJhaFsnaWQnXQoKCQkJCQkJCQkpOwoJCQkJCQkJCSR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4nLCRkYXRhQ291bnREaXN0cmlidXNpKSk7CgkJCQkJCQkgfQogICAgICAgICAgICAgICRkYXRhTG9ja1RhbWJhaCA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICd0YW5nZ2FsJyA9PiAkZGF0YVRhbWJhaFsndGFuZ2dhbF9idWt1J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFUYW1iYWhbJ2lkJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGRhdGFUYW1iYWhbJ2p1bWxhaCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJGRhdGFUYW1iYWhbJ2hhcmdhX3NhdHVhbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdzaXNhJyA9PiAkZGF0YVRhbWJhaFsnanVtbGFoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX2xvY2snID0+ICRpZExvY2ssCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgnbG9ja19iYXJhbmdfdGFtYmFoJywkZGF0YUxvY2tUYW1iYWgpKTsKICAgICAgICAgIH0KCiAgICAgICAgICAkZ2V0RGF0YUt1cmFuZyA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgYzE9JyIuJGdldERhdGFbJ2MxJ10uIicgYW5kIGM9JyIuJGdldERhdGFbJ2MnXS4iJyBhbmQgZT0nIi4kZ2V0RGF0YVsnZSddLiInIGFuZCBlMT0nIi4kZ2V0RGF0YVsnZTEnXS4iJyBhbmQgZD0nIi4kZ2V0RGF0YVsnZCddLiInICBhbmQgZj0nIi4kZ2V0RGF0YVsnZiddLiInIGFuZCBnPSciLiRnZXREYXRhWydnJ10uIicgYW5kIGg9JyIuJGdldERhdGFbJ2gnXS4iJyBhbmQgaT0nIi4kZ2V0RGF0YVsnaSddLiInIGFuZCBqPSciLiRnZXREYXRhWydqJ10uIicgYW5kIGoxPSciLiRnZXREYXRhWydqMSddLiInIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzInICRrb25kaXNpVGFodW4gJGtvbmRpc2lQZXJpb2RlICRrb25kaXNpU2FsZG9Bd2FsIG9yZGVyIGJ5IHRhbmdnYWxfYnVrdSBhc2MiKTsKICAgICAgICAgIHdoaWxlICgkZGF0YUt1cmFuZyA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YUt1cmFuZykpIHsKICAgICAgICAgICAgICAkYXJyYXlQZXJvbGVoYW4gPSBhcnJheSgpOwogICAgICAgICAgICAgICRqdW1sYWhCYXJhbmdLdXJhbmcgPSAkZGF0YUt1cmFuZ1snanVtbGFoJ107CiAgICAgICAgICAgICAgJGdldERhdGFQZW5lcmltYWFuID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGxvY2tfYmFyYW5nX3RhbWJhaCB3aGVyZSBpZF9sb2NrID0gJyIuJGlkTG9jay4iJyBhbmQgc2lzYSAhPScwJyIpOwogICAgICAgICAgICAgIHdoaWxlICgkZGF0YVBlbmVyaW1hYW4gPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFQZW5lcmltYWFuKSkgewogICAgICAgICAgICAgICAgICBpZigkanVtbGFoQmFyYW5nS3VyYW5nICE9IDApewoJCQkJCQkJCQkJJGdldEthcnR1UGVyc2VkaWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGlkID0gJyIuJGRhdGFQZW5lcmltYWFuWydpZF90X2thcnR1X3BlcnNlZGlhYW4nXS4iJyIpKTsKCQkJCQkJCQkJCWlmKCRnZXRLYXJ0dVBlcnNlZGlhYW5bJ2pucyddID09ICczJyl7CgkJCQkJCQkJCQkJCS8vIGlmKGludHZhbCgkZ2V0S2FydHVQZXJzZWRpYWFuWydoYXJnYV9zYXR1YW4nXSkgPT0gMCl7CgkJCQkJCQkJCQkJCQlpZigkdGhpcy0+c3FsTnVtUm93KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4gd2hlcmUgbm9tb3IgPSAnIi4kZ2V0S2FydHVQZXJzZWRpYWFuWydub21vciddLiInIGFuZCBzZW1lc3RlciA9ICcxJyBhbmQgdGFtYmFoYW5faGFyZ2EgIT0nJyIpKSAhPSAwKXsKCQkJCQkJCQkJCQkJCQkkZ2V0RGF0YUNvdW50RGlzdHJpYnVzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlIG5vbW9yID0gJyIuJGdldEthcnR1UGVyc2VkaWFhblsnbm9tb3InXS4iJyBhbmQgc2VtZXN0ZXIgPSAnMScgYW5kIHRhbWJhaGFuX2hhcmdhICE9JyciKSk7CgkJCQkJCQkJCQkJCQkJJGhhcmdhU2F0dWFuUGVuZXJpbWFhbiA9ICRnZXREYXRhQ291bnREaXN0cmlidXNpWyd0YW1iYWhhbl9oYXJnYSddIC8gJGdldEthcnR1UGVyc2VkaWFhblsnanVtbGFoJ107CgkJCQkJCQkJCQkJCQkJJGRhdGFVcGRhdGVEaXN0cmlidXNpS2FydHUgPSBhcnJheSgKCQkJCQkJCQkJCQkJCQkJJ2hhcmdhX3NhdHVhbicgPT4gJGhhcmdhU2F0dWFuUGVuZXJpbWFhbiwKCQkJCQkJCQkJCQkJCQkJJ3RvdGFsJyA9PiAkZ2V0RGF0YUNvdW50RGlzdHJpYnVzaVsndGFtYmFoYW5faGFyZ2EnXSwKCQkJCQkJCQkJCQkJCQkpOwoJCQkJCQkJCQkJCQkJCSR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsVXBkYXRlKCJ0X2thcnR1X3BlcnNlZGlhYW4iLCRkYXRhVXBkYXRlRGlzdHJpYnVzaUthcnR1LCJpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10uIiciKSk7CgkJCQkJCQkJCQkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4gd2hlcmUgbm9tb3I9JyIuJGdldEthcnR1UGVyc2VkaWFhblsnbm9tb3InXS4iJyIpOwoJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQkvLyB9CgkJCQkJCQkJCQl9ZWxzZXsKCQkJCQkJCQkJCQkkaGFyZ2FTYXR1YW5QZW5lcmltYWFuID0gJGRhdGFQZW5lcmltYWFuWydoYXJnYSddOwoJCQkJCQkJCQkJfQogICAgICAgICAgICAgICAgICAgIGlmKCRqdW1sYWhCYXJhbmdLdXJhbmcgPiAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXSApewogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoInVwZGF0ZSBsb2NrX2JhcmFuZ190YW1iYWggc2V0IHNpc2EgPSBzaXNhIC0gIi4kZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXS4iIHdoZXJlIGlkID0gJyIuJGRhdGFQZW5lcmltYWFuWydpZCddLiInIik7CiAgICAgICAgICAgICAgICAgICAgICAgICRhcnJheVBlcm9sZWhhbltdID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkUGVuZXJpbWFhbicgPT4gJGRhdGFQZW5lcmltYWFuWydpZF90X2thcnR1X3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRoYXJnYVNhdHVhblBlbmVyaW1hYW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXSAqICRoYXJnYVNhdHVhblBlbmVyaW1hYW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgICRqdW1sYWhCYXJhbmdLdXJhbmcgLT0gJGRhdGFQZW5lcmltYWFuWydzaXNhJ107CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgidXBkYXRlIGxvY2tfYmFyYW5nX3RhbWJhaCBzZXQgc2lzYSA9IHNpc2EgLSAkanVtbGFoQmFyYW5nS3VyYW5nIHdoZXJlIGlkID0gJyIuJGRhdGFQZW5lcmltYWFuWydpZCddLiInIik7CiAgICAgICAgICAgICAgICAgICAgICAgICRhcnJheVBlcm9sZWhhbltdID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkUGVuZXJpbWFhbicgPT4gJGRhdGFQZW5lcmltYWFuWydpZF90X2thcnR1X3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkanVtbGFoQmFyYW5nS3VyYW5nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJGhhcmdhU2F0dWFuUGVuZXJpbWFhbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG90YWwnID0+ICRqdW1sYWhCYXJhbmdLdXJhbmcgKiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nID0gMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgJGVuY29kaW5nID0ganNvbl9lbmNvZGUoJGFycmF5UGVyb2xlaGFuKTsKICAgICAgICAgICAgICAkZGVjb2RpbmcgPSBqc29uX2RlY29kZSgkZW5jb2RpbmcpOwogICAgICAgICAgICAgICRoYXJnYVBlcm9sZWhhbj0gIiI7CiAgICAgICAgICAgICAgZm9yICgkaT0wOyAkaSA8IHNpemVvZigkZGVjb2RpbmcpIDsgJGkrKykgewogICAgICAgICAgICAgICAgICAkaGFyZ2FQZXJvbGVoYW4gKz0gJGRlY29kaW5nWyRpXS0+dG90YWw7CiAgICAgICAgICAgICAgfQoJCQkJCQkJaWYoJGRhdGFLdXJhbmdbJ2pucyddID09ICI3Iil7CgkJCQkJCQkJLy9odWJsYQoJCQkJCQkJCSRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gZGV0YWlsX3JpbmNpYW5fZGlzdHJpYnVzaSB3aGVyZSAgaWQgPSAnIi4kZGF0YUt1cmFuZ1sncmVmaWQnXS4iJyIpKTsKCQkJCQkJCQkkZ2V0RGF0YVJpbmNpYW5EaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByaW5jaWFuX2Rpc3RyaWJ1c2kgd2hlcmUgIGlkID0gJyIuJGdldERhdGFEZXRhaWxEaXN0cmlidXNpWydpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knXS4iJyIpKTsKCQkJCQkJCQkkZGF0YUNvdW50RGlzdHJpYnVzaSA9IGFycmF5KAoJCQkJCQkJCQkJCQkJCSdpZF9sb2NrX2JhcmFuZycgPT4gJGlkTG9jaywKCQkJCQkJCQkJCQkJCQknYzEnID0+ICRnZXREYXRhWydjMSddLAoJCQkJCQkJCQkJCQkJCSdjJyA9PiAkZ2V0RGF0YVsnYyddLAoJCQkJCQkJCQkJCQkJCSdkJyA9PiAkZ2V0RGF0YVsnZCddLAoJCQkJCQkJCQkJCQkJCSdlJyA9PiAkZ2V0RGF0YVsnZSddLAoJCQkJCQkJCQkJCQkJCSdlMScgPT4gJGdldERhdGFbJ2UxJ10sCgkJCQkJCQkJCQkJCQkJJ2YnID0+ICRnZXREYXRhWydmJ10sCgkJCQkJCQkJCQkJCQkJJ2cnID0+ICRnZXREYXRhWydnJ10sCgkJCQkJCQkJCQkJCQkJJ2gnID0+ICRnZXREYXRhWydoJ10sCgkJCQkJCQkJCQkJCQkJJ2knID0+ICRnZXREYXRhWydpJ10sCgkJCQkJCQkJCQkJCQkJJ2onID0+ICRnZXREYXRhWydqJ10sCgkJCQkJCQkJCQkJCQkJJ2oxJyA9PiAkZ2V0RGF0YVsnajEnXSwKCQkJCQkJCQkJCQkJCQknaWRfZGlzdHJpYnVzaScgPT4gJGdldERhdGFSaW5jaWFuRGlzdHJpYnVzaVsnaWRfZGlzdHJpYnVzaSddLAoJCQkJCQkJCQkJCQkJCSdpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knID0+ICRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaVsnaWRfcmluY2lhbl9kaXN0cmlidXNpJ10sCgkJCQkJCQkJCQkJCQkJJ3NlbWVzdGVyJyA9PiAzLAoJCQkJCQkJCQkJCQkJCSdub21vcicgPT4gJGRhdGFLdXJhbmdbJ25vbW9yJ10sCgkJCQkJCQkJCQkJCQkJJ3RhbWJhaGFuX2hhcmdhJyA9PiAkaGFyZ2FQZXJvbGVoYW4sCgkJCQkJCQkJCQkJCQkJJ2pzb25fYXJyYXknID0+ICRlbmNvZGluZwoJCQkJCQkJCSk7CgkJCQkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ2NvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbicsJGRhdGFDb3VudERpc3RyaWJ1c2kpKTsKCQkJCQkJCX0KICAgICAgICAgICAgICAkZGF0YUxvY2tLdXJhbmcgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFLdXJhbmdbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhS3VyYW5nWydpZCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhS3VyYW5nWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkaGFyZ2FQZXJvbGVoYW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX2xvY2snID0+ICRpZExvY2ssCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Blcm9sZWhhbicgPT4ganNvbl9lbmNvZGUoJGFycmF5UGVyb2xlaGFuKQoKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdsb2NrX2JhcmFuZ19rdXJhbmcnLCRkYXRhTG9ja0t1cmFuZykpOwogICAgICAgICAgfQoKCiAgICAgICAgICAkZ2V0RGF0YUhpc3RvcmkgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyBhbmQgZT0nIi4kZ2V0RGF0YVsnZSddLiInIGFuZCBlMT0nIi4kZ2V0RGF0YVsnZTEnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyAgJGtvbmRpc2lUYWh1biAka29uZGlzaVBlcmlvZGUgJGtvbmRpc2lTYWxkb0F3YWwgb3JkZXIgYnkgdGFuZ2dhbF9idWt1LGplbmlzX3BlcnNlZGlhYW4gYXNjIik7CiAgICAgICAgICB3aGlsZSAoJGRhdGFIaXN0b3JpID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhSGlzdG9yaSkpIHsKICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2plbmlzX3BlcnNlZGlhYW4nXSA9PSAxKXsKICAgICAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzEnKXsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlNBTERPIEFXQUwiOwogICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICcyJyl7CiAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2NhcmFfcGVyb2xlaGFuJ10gPT0gJzInKXsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5FUklNQUFOIFBFTUJFTElBTiI7CiAgICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydjYXJhX3Blcm9sZWhhbiddID09ICczJyl7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVORVJJTUFBTiBISUJBSCI7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNCcpewogICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiQ0VLIEZJU0lLIFRBTUJBSCI7CiAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzMnKXsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gRElTVFJJQlVTSSI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkaGFyZ2FTYXR1YW4gPSAkZGF0YUhpc3RvcmlbJ2hhcmdhX3NhdHVhbiddOwogICAgICAgICAgICAgICAgJHRvdGFsSGFyZ2EgPSAkaGFyZ2FTYXR1YW4gKiAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgJHNhbGRvQmFyYW5nICs9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAkdG90YWxTYWxkbyArPSAkdG90YWxIYXJnYTsKCiAgICAgICAgICAgICAgICAkZ2V0SWREZXRhaWwgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGxvY2tfYmFyYW5nX3RhbWJhaCB3aGVyZSBpZF9sb2NrID0gJyRpZExvY2snIGFuZCBpZF90X2thcnR1X3BlcnNlZGlhYW4gPSAnIi4kZGF0YUhpc3RvcmlbJ2lkJ10uIiciKSk7CiAgICAgICAgICAgICAgICAkaWREZXRhaWwgPSAkZ2V0SWREZXRhaWxbJ2lkJ107CiAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzYnKXsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAwOwogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkdFTFVBUkFOIjsKICAgICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc1Jyl7CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJDRUsgRklTSUsgS1VSQU5HIjsKICAgICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc3Jyl7CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5HRUxVQVJBTiBESVNUUklCVVNJIjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAkaGFyZ2FTYXR1YW4gPSAiIjsKICAgICAgICAgICAgICAgICRzYWxkb0JhcmFuZyAtPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgJGdldFRvdGFsSGFyZ2EgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGxvY2tfYmFyYW5nX2t1cmFuZyB3aGVyZSBpZF9sb2NrID0gJyRpZExvY2snIGFuZCBpZF90X2thcnR1X3BlcnNlZGlhYW4gPSAnIi4kZGF0YUhpc3RvcmlbJ2lkJ10uIiciKSk7CiAgICAgICAgICAgICAgICAkdG90YWxIYXJnYSA9ICRnZXRUb3RhbEhhcmdhWydoYXJnYSddOwogICAgICAgICAgICAgICAgJHRvdGFsU2FsZG8gLT0gJHRvdGFsSGFyZ2E7CiAgICAgICAgICAgICAgICAkaWREZXRhaWwgPSAkZ2V0VG90YWxIYXJnYVsnaWQnXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgJGRhdGFSaW5jaWFuTG9jayA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9sb2NrJyA9PiAkaWRMb2NrLAogICAgICAgICAgICAgICAgICAgICAgICAgICd0YW5nZ2FsJyA9PiAkZGF0YUhpc3RvcmlbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICd1cmFpYW4nID0+ICR1cmFpYW5QZXJzZWRpYWFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICdtYXN1aycgPT4gJGJhcmFuZ01hc3VrLAogICAgICAgICAgICAgICAgICAgICAgICAgICdrZWx1YXInID0+ICRiYXJhbmdLZWx1YXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NhbGRvX2JhcmFuZycgPT4gJHNhbGRvQmFyYW5nLAogICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJHRvdGFsSGFyZ2EsCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NhbGRvJyA9PiAkdG90YWxTYWxkbywKICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZScgPT4gJGRhdGFIaXN0b3JpWydqZW5pc19wZXJzZWRpYWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFIaXN0b3JpWydpZCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9kZXRhaWwnID0+ICRpZERldGFpbCwKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdyaW5jaWFuX2xvY2tfYmFyYW5nJywkZGF0YVJpbmNpYW5Mb2NrKSk7CiAgICAgICAgICB9CiAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoInVwZGF0ZSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgc2V0IGhhcmdhID0gJyR0b3RhbFNhbGRvJywgc2FsZG9fYmFyYW5nID0gJyRzYWxkb0JhcmFuZycgd2hlcmUgaWQgPSAnJGlkTG9jayciKTsKICAgICAgcmV0dXJuIGFycmF5KAogICAgICAgICdpZExvY2snID0+ICRpZExvY2ssCiAgICAgICAgJ2p1bWxhaEhhcmdhJyA9PiAkdG90YWxTYWxkbywKICAgICAgICAnc2FsZG8nID0+ICRzYWxkb0JhcmFuZywKICAgICAgKTsKICB9CiAgZnVuY3Rpb24gY2xvc2luZ1NlbWVzdGVyMSgka29kZVNLUEQsJGtvZGVCYXJhbmcpewoJCSBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKCQkJCSQka2V5ID0gJHZhbHVlOwoJCSB9CiAgICAgLy8gJGdldERhdGFCYXJhbmcgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX2JhcmFuZyB3aGVyZSBmPSAnMDgnIGFuZCBqMSAhPScwMDAwJyIpOwogICAgIC8vIHdoaWxlICgkZGF0YUJhcmFuZyA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YUJhcmFuZykpIHsKICAgICAvLyAgICRrb2RlQmFyYW5nID0gJGRhdGFCYXJhbmdbJ2YnXS4iLiIuJGRhdGFCYXJhbmdbJ2cnXS4iLiIuJGRhdGFCYXJhbmdbJ2gnXS4iLiIuJGRhdGFCYXJhbmdbJ2knXS4iLiIuJGRhdGFCYXJhbmdbJ2onXS4iLiIuJGRhdGFCYXJhbmdbJ2oxJ107CiAgICAgICAgJHRoaXMtPnNldFNhbGRvQXdhbCgka29kZVNLUEQsJGtvZGVCYXJhbmcpOwogICAgIC8vIH0KCiAgICAgcmV0dXJuICRsb2c7CgoJfQoJZnVuY3Rpb24gY2xvc2luZ1NlbWVzdGVyMigka29kZVNLUEQsJGtvZGVCYXJhbmcpewoJCWZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkgJCRrZXkgPSAkdmFsdWU7CgkJfQoJCSRleHBsb2RlS29kZVNLUEQgPSBleHBsb2RlKCIuIiwka29kZVNLUEQpOwoJICAkdGhpcy0+c2V0U2FsZG9Bd2FsKCRrb2RlU0tQRCwka29kZUJhcmFuZyk7CgkJJHRoaXMtPnNldFNhbGRvQXdhbFRhaHVuYW4oJGtvZGVTS1BELCRrb2RlQmFyYW5nKTsKCX0KCiAgZnVuY3Rpb24gQ2xvc2luZygkZHQpewogICBnbG9iYWwgJFNlbnN1c1RtcCwkTWFpbiwkSFRUUF9DT09LSUVfVkFSUzsKICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICQka2V5ID0gJHZhbHVlOwogICB9CiAgICRjZWsgPSAnJzsgJGVycj0nJzsgJGNvbnRlbnQ9Jyc7CiAgICRqc29uID0gVFJVRTsJLy8kRXJyTXNnID0gJ3Rlcyc7CiAgICRmb3JtX25hbWUgPSAkdGhpcy0+UHJlZml4LidfZm9ybSc7CiAgICR0aGlzLT5mb3JtX3dpZHRoID0gODIwOwogICAkdGhpcy0+Zm9ybV9oZWlnaHQgPSA1MDA7CiAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnQ2xvc2luZyc7CiAgIGlmKCRmaWx0ZXJTdWJVbml0ICE9ICcwMDAnKXsKICAgICAka29uZGlzaVNLUEQgPSAiIGFuZCBjMSA9ICciLiRmaWx0ZXJVcnVzYW4uIicgYW5kIGMgPSAnIi4kZmlsdGVyQmlkYW5nLiInIGFuZCBkID0gJyIuJGZpbHRlclNLUEQuIicgYW5kIGUgPSAnIi4kZmlsdGVyVW5pdC4iJyBhbmQgZTEgPSAnIi4kZmlsdGVyU3ViVW5pdC4iJyAgIjsKICAgICAka29kZVNLUEQgPSAkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nLiIuIi4kZmlsdGVyU0tQRC4iLiIuJGZpbHRlclVuaXQuIi4iLiRmaWx0ZXJTdWJVbml0OwogICAgICRnZXREYXRhVXJ1c2FuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nMDAnIikpOwogICAgICRnZXREYXRhQmlkYW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JzAwJyIpKTsKICAgICAkZ2V0RGF0YVNLUEQgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nJGZpbHRlclNLUEQnIikpOwogICAgICRnZXREYXRhVW5pdCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCcgYW5kIGU9JyRmaWx0ZXJVbml0JyBhbmQgZTE9JzAwMCciKSk7CiAgICAgJGdldERhdGFTdWJVbml0ID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JyRmaWx0ZXJTS1BEJyBhbmQgZT0nJGZpbHRlclVuaXQnIGFuZCBlMT0nJGZpbHRlclN1YlVuaXQnIikpOwogICAgICR1cnVzYW4gPSAkZ2V0RGF0YVVydXNhblsnbm1fc2twZCddOwogICAgICRiaWRhbmcgPSAkZ2V0RGF0YUJpZGFuZ1snbm1fc2twZCddOwogICAgICRza3BkID0gJGdldERhdGFTS1BEWydubV9za3BkJ107CiAgICAgJHVuaXQgPSAkZ2V0RGF0YVVuaXRbJ25tX3NrcGQnXTsKICAgICAkc3ViVW5pdCA9ICRnZXREYXRhU3ViVW5pdFsnbm1fc2twZCddOwogICB9ZWxzZWlmKCRmaWx0ZXJVbml0ICE9ICcwMCcpewogICAgICRrb25kaXNpU0tQRCA9ICIgYW5kIGMxID0gJyIuJGZpbHRlclVydXNhbi4iJyBhbmQgYyA9ICciLiRmaWx0ZXJCaWRhbmcuIicgYW5kIGQgPSAnIi4kZmlsdGVyU0tQRC4iJyBhbmQgZSA9ICciLiRmaWx0ZXJVbml0LiInICI7CiAgICAgJGtvZGVTS1BEID0gJGZpbHRlclVydXNhbi4iLiIuJGZpbHRlckJpZGFuZy4iLiIuJGZpbHRlclNLUEQuIi4iLiRmaWx0ZXJVbml0OwogICAgICRnZXREYXRhVXJ1c2FuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nMDAnIikpOwogICAgICRnZXREYXRhQmlkYW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JzAwJyIpKTsKICAgICAkZ2V0RGF0YVNLUEQgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nJGZpbHRlclNLUEQnIikpOwogICAgICRnZXREYXRhVW5pdCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCcgYW5kIGU9JyRmaWx0ZXJVbml0JyBhbmQgZTE9JzAwMCciKSk7CiAgICAgJHVydXNhbiA9ICRnZXREYXRhVXJ1c2FuWydubV9za3BkJ107CiAgICAgJGJpZGFuZyA9ICRnZXREYXRhQmlkYW5nWydubV9za3BkJ107CiAgICAgJHNrcGQgPSAkZ2V0RGF0YVNLUERbJ25tX3NrcGQnXTsKICAgICAkdW5pdCA9ICRnZXREYXRhVW5pdFsnbm1fc2twZCddOwogICAgICRzdWJVbml0ID0gIlNFTVVBIFNVQiBVTklUIjsKICAgfWVsc2VpZigkZmlsdGVyU0tQRCAhPScwMCcpewogICAgICRrb25kaXNpU0tQRCA9ICIgYW5kIGMxID0gJyIuJGZpbHRlclVydXNhbi4iJyBhbmQgYyA9ICciLiRmaWx0ZXJCaWRhbmcuIicgYW5kIGQgPSAnIi4kZmlsdGVyU0tQRC4iJyI7CiAgICAgJGtvZGVTS1BEID0gJGZpbHRlclVydXNhbi4iLiIuJGZpbHRlckJpZGFuZy4iLiIuJGZpbHRlclNLUEQ7CiAgICAgJGdldERhdGFVcnVzYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPScwMCciKSk7CiAgICAgJGdldERhdGFCaWRhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nMDAnIikpOwogICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCciKSk7CiAgICAgJHVydXNhbiA9ICRnZXREYXRhVXJ1c2FuWydubV9za3BkJ107CiAgICAgJGJpZGFuZyA9ICRnZXREYXRhQmlkYW5nWydubV9za3BkJ107CiAgICAgJHNrcGQgPSAkZ2V0RGF0YVNLUERbJ25tX3NrcGQnXTsKICAgICAkdW5pdCA9ICJTRU1VQSBVTklUIjsKICAgICAkc3ViVW5pdCA9ICJTRU1VQSBTVUIgVU5JVCI7CiAgIH1lbHNlaWYoJGZpbHRlckJpZGFuZyAhPScwMCcpewogICAgICRrb25kaXNpU0tQRCA9ICIgYW5kIGMxID0gJyIuJGZpbHRlclVydXNhbi4iJyBhbmQgYyA9ICciLiRmaWx0ZXJCaWRhbmcuIiciOwogICAgICRrb2RlU0tQRCA9ICRmaWx0ZXJVcnVzYW4uIi4iLiRmaWx0ZXJCaWRhbmc7CiAgICAgJGdldERhdGFVcnVzYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPScwMCciKSk7CiAgICAgJGdldERhdGFCaWRhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nMDAnIikpOwogICAgICR1cnVzYW4gPSAkZ2V0RGF0YVVydXNhblsnbm1fc2twZCddOwogICAgICRiaWRhbmcgPSAkZ2V0RGF0YUJpZGFuZ1snbm1fc2twZCddOwogICAgICRza3BkID0gIlNFTVVBIFNLUEQiOwogICAgICR1bml0ID0gIlNFTVVBIFVOSVQiOwogICAgICRzdWJVbml0ID0gIlNFTVVBIFNVQiBVTklUIjsKICAgfWVsc2VpZigkZmlsdGVyVXJ1c2FuICE9JzAwJyl7CiAgICAgJGtvbmRpc2lTS1BEID0gIiBhbmQgYzEgPSAnIi4kZmlsdGVyVXJ1c2FuLiInIjsKICAgICAka29kZVNLUEQgPSAkZmlsdGVyVXJ1c2FuOwogICAgICRnZXREYXRhVXJ1c2FuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nMDAnIikpOwogICAgICR1cnVzYW4gPSAkZ2V0RGF0YVVydXNhblsnbm1fc2twZCddOwogICAgICRiaWRhbmcgPSAiU0VNVUEgQklEQU5HIjsKICAgICAkc2twZCA9ICJTRU1VQSBTS1BEIjsKICAgICAkdW5pdCA9ICJTRU1VQSBVTklUIjsKICAgICAkc3ViVW5pdCA9ICJTRU1VQSBTVUIgVU5JVCI7CiAgIH1lbHNlewogICAgICRrb2RlU0tQRCA9ICIiOwogICAgICR1cnVzYW4gPSAiU0VNVUEgVVJVU0FOIjsKICAgICAkYmlkYW5nID0gIlNFTVVBIEJJREFORyI7CiAgICAgJHNrcGQgPSAiU0VNVUEgU0tQRCI7CiAgICAgJHVuaXQgPSAiU0VNVUEgVU5JVCI7CiAgICAgJHN1YlVuaXQgPSAiU0VNVUEgU1VCIFVOSVQiOwogICB9CiAkZmlsdGVyUGVyaW9kZT0gJGZpbHRlclNlbWVzdGVyOwogIGlmKGVtcHR5KCRmaWx0ZXJQZXJpb2RlKSkkZXJyID0gIlBpbGloIFBlcmlvZGUiOwogCWlmKCRmaWx0ZXJQZXJpb2RlID09IDEpewogCQkkdGFuZ2dhbCA9ICIzMS0wNi0iLiR0aGlzLT50YWh1bkFuZ2dhcmFuOwogCQkvLyAkc3RhdHVzQ2xvc2luZyA9ICR0aGlzLT5nZXRTdGF0dXNDbG9zaW5nKCRrb2RlU0tQRCwkdGhpcy0+Z2VuZXJhdGVEYXRlKCR0YW5nZ2FsKSk7CiAJCWlmKCRzdGF0dXNDbG9zaW5nICE9IDApewogCQkJJGVyciA9ICJEYXRhIHNlbWVzdGVyIHNhdHUgc3VkYWggZGkgY2xvc2luZywgYmF0YWxrYW4gY2xvc2luZyA\/IjsKIAkJfQogCQkkbmFtYVNlbWVzdGVyID0gIlNBVFUiOwogCX1lbHNlewogCQkkdGFuZ2dhbCA9ICIzMS0xMi0iLiR0aGlzLT50YWh1bkFuZ2dhcmFuOwogCQkvLyAkc3RhdHVzQ2xvc2luZyA9ICR0aGlzLT5nZXRTdGF0dXNDbG9zaW5nKCRrb2RlU0tQRCwkdGhpcy0+Z2VuZXJhdGVEYXRlKCR0YW5nZ2FsKSk7CiAJCWlmKCRzdGF0dXNDbG9zaW5nICE9IDApewogCQkJJGVyciA9ICJEYXRhIHNlbWVzdGVyIGR1YSBzdWRhaCBkaSBjbG9zaW5nLCBiYXRhbGthbiBjbG9zaW5nID8iOwogCQl9CiAJCSRuYW1hU2VtZXN0ZXIgPSAiRFVBIjsKIAl9CgogICAkZ2V0RGF0YUJhcmFuZyA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfYmFyYW5nIHdoZXJlIGY9JzA4JyBhbmQgajEhPScwMDAwJyAiKTsKICAgd2hpbGUgKCRkYXRhQmFyYW5nID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhQmFyYW5nKSkgewogICAgICRhcnJheUtvZGVCYXJhbmdbXSA9ICRkYXRhQmFyYW5nWydmJ10uIi4iLiRkYXRhQmFyYW5nWydnJ10uIi4iLiRkYXRhQmFyYW5nWydoJ10uIi4iLiRkYXRhQmFyYW5nWydpJ10uIi4iLiRkYXRhQmFyYW5nWydqJ10uIi4iLiRkYXRhQmFyYW5nWydqMSddOwogICB9CiAgICRnZXREYXRhQ2xvc2luZyA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjbG9zaW5nX3BlcnNlZGlhYW4gd2hlcmUgMT0xICRrb25kaXNpU0tQRCBhbmQgdGFodW5fYW5nZ2FyYW4gPSckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0gJyRmaWx0ZXJQZXJpb2RlJyIpOwogICB3aGlsZSAoJGRhdGFDbG9zaW5nID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhQ2xvc2luZykpIHsKICAgICAkYXJyYXlTS1BEQ29zaW5nW10gPSAiJyIuJGRhdGFDbG9zaW5nWydjMSddLiIuIi4kZGF0YUNsb3NpbmdbJ2MnXS4iLiIuJGRhdGFDbG9zaW5nWydkJ10uIi4iLiRkYXRhQ2xvc2luZ1snZSddLiIuIi4kZGF0YUNsb3NpbmdbJ2UxJ10uIiciIDsKICAgfQogICBpZihzaXplb2YoJGFycmF5U0tQRENvc2luZykgPiAwKXsKICAgICAka29uZGlzaUNMb3NpbmdTS1BEID0gIiBhbmQgY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSkgbm90IGluKCIuaW1wbG9kZSgiLCIsJGFycmF5U0tQRENvc2luZykuIikgIjsKICAgfQogICAkZ2V0RGF0YVNLUEQgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgMT0xICRrb25kaXNpU0tQRCBhbmQgZTEhPScwMDAnICRrb25kaXNpQ0xvc2luZ1NLUEQgIik7CiAgIHdoaWxlICgkZGF0YVNLUEQgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFTS1BEKSkgewogICAgICRjb25jYXRTS1BEQ0xvc2luZyA9ICRkYXRhU0tQRFsnYzEnXS4iLiIuJGRhdGFTS1BEWydjJ10uIi4iLiRkYXRhU0tQRFsnZCddLiIuIi4kZGF0YVNLUERbJ2UnXS4iLiIuJGRhdGFTS1BEWydlMSddOwogICAgIGlmKCR0aGlzLT5zcWxOdW1Sb3coJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHR1dHVwX2J1a3VfcGVyc2VkaWFhbiB3aGVyZSB0YWh1bl9hbmdnYXJhbiA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRjb25jYXRTS1BEQ0xvc2luZyciKSkgPT0wKXsKICAgICAgICRhcnJheVNLUERbXSA9ICRkYXRhU0tQRFsnYzEnXS4iLiIuJGRhdGFTS1BEWydjJ10uIi4iLiRkYXRhU0tQRFsnZCddLiIuIi4kZGF0YVNLUERbJ2UnXS4iLiIuJGRhdGFTS1BEWydlMSddIDsKICAgICB9CiAgICAgLy8gZm9yICgkaT0wOyAkaSA8IHNpemVvZigkYXJyYXlLb2RlQmFyYW5nKTsgJGkrKykgewogICAgIC8vICAgJGFycmF5RGF0YVBvc3RbXSA9ICRkYXRhU0tQRFsnYzEnXS4iLiIuJGRhdGFTS1BEWydjJ10uIi4iLiRkYXRhU0tQRFsnZCddLiIuIi4kZGF0YVNLUERbJ2UnXS4iLiIuJGRhdGFTS1BEWydlMSddLiI7Ii4kYXJyYXlLb2RlQmFyYW5nWyRpXTsKICAgICAvLyB9CiAgIH0KICAgJGFycmF5U2VtZXN0ZXIgPSBhcnJheSgKICAgIGFycmF5KCcxJywnU0VNRVNURVIgMScpLAogICAgYXJyYXkoJzInLCdTRU1FU1RFUiAyJyksCiAgKTsKICBpZihlbXB0eSgkZXJyKSl7CiAgICBpZihzaXplb2YoJGFycmF5U0tQRCkgPT0gMCl7CiAgICAgICRlcnIgPSAiRGF0YSBzdWRhaCBkaSBjbG9zaW5nICEiOwogICAgfQogIH0KCiAgICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KAogICAgICdrb2RlMCcgPT4gYXJyYXkoCiAgICAgICAnbGFiZWwnPT4nVVJVU0FOJywKICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgJ3ZhbHVlJz0+ICR1cnVzYW4KICAgICApLAogICAgICdrb2RlMScgPT4gYXJyYXkoCiAgICAgICAnbGFiZWwnPT4nQklEQU5HJywKICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgJ3ZhbHVlJz0+ICRiaWRhbmcKICAgICApLAogICAgICdrb2RlMicgPT4gYXJyYXkoCiAgICAgICAnbGFiZWwnPT4nU0tQRCcsCiAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICd2YWx1ZSc9PiAkc2twZAogICAgICksCiAgICAgJ2tvZGUzJyA9PiBhcnJheSgKICAgICAgICdsYWJlbCc9PidVTklUJywKICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgJ3ZhbHVlJz0+ICR1bml0CiAgICAgKSwKICAgICAna29kZTQnID0+IGFycmF5KAogICAgICAgJ2xhYmVsJz0+J1NVQiBVTklUJywKICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgJ3ZhbHVlJz0+ICRzdWJVbml0CiAgICAgKSwKICAgICAnc2VtZXN0ZXInID0+IGFycmF5KAogICAgICAgJ2xhYmVsJz0+J1NFTUVTVEVSJywKICAgICAgICdsYWJlbFdpZHRoJz0+MTUwLAogICAgICAgJ3ZhbHVlJz0+IGNtYkFycmF5KCJzZHMiLCRmaWx0ZXJTZW1lc3RlciwkYXJyYXlTZW1lc3RlciwgIi0tIFNFTUVTVEVSIC0tICIsIiBkaXNhYmxlZCIgKS4iPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyRmaWx0ZXJTZW1lc3RlcicgbmFtZT0nZmlsdGVyUGVyaW9kZScgaWQ9J2ZpbHRlclBlcmlvZGUnID4iCiAgICAgKSwKIAkJJ2tldGVyYW5nYW4nID0+IGFycmF5KAogCQkJJ2xhYmVsJz0+J0tFVEVSQU5HQU4nLAogCQkJJ2xhYmVsV2lkdGgnPT43MCwKIAkJCSd2YWx1ZSc9PiAiPHRleHRhcmVhIGlkPSdrZXRlcmFuZ2FuJyBuYW1lPSdrZXRlcmFuZ2FuJyBzdHlsZT0nd2lkdGg6MzAwcHg7aGVpZ2h0OjUwcHg7Jz48L3RleHRhcmVhPiIKIAkJKSwKCiAgICAgJ3Byb2dyZXNzJyA9PiBhcnJheSgKICAgICAgICdsYWJlbCc9PicnLAogICAgICAgJ2xhYmVsV2lkdGgnPT4xLAogICAgICAgJ3BlbWlzYWgnPT4nICcsCiAgICAgICAndHlwZSc9PidtZXJnZScsCiAgICAgICAndmFsdWUnPT4KICAgICAgICAgIjxkaXYgaWQ9J3Byb2dyZXNzYm94JyBzdHlsZT0nYmFja2dyb3VuZDojZmZmYmYwO2JvcmRlci1yYWRpdXM6NXB4O2JvcmRlcjoxcHggc29saWQ7aGVpZ2h0OjEwcHgnPgogICAgICAgICAgIDxkaXYgaWQ9J3Byb2dyZXNzYmFyJz48L2RpdiA+CiAgICAgICAgICAgPGRpdiBpZD0nc3RhdHVzdHh0JyBzdHlsZT0nd2lkdGg6MCU7YmFja2dyb3VuZDpncmVlbjtoZWlnaHQ6MTBweDt0ZXh0LWFsaWduOnJpZ2h0O2NvbG9yOndoaXRlO2ZvbnQtc2l6ZTo4cHg7Jz4wJTwvZGl2PgogICAgICAgICAgIDxkaXYgaWQ9J291dHB1dCc+PC9kaXY+CiAgICAgICAgIDwvZGl2PgkiCiAgICAgICApLAogICAgICdwZXJpbmdhdGFuJyA9PiBhcnJheSgKICAgICAgICAgICAnbGFiZWwnPT4nJywKIAkJCQkJJ3R5cGUnPT4nbWVyZ2UnLAogICAgICAgICAgICdsYWJlbFdpZHRoJz0+MSwKICAgICAgICAgICAncGVtaXNhaCc9PicgJywKICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBpZD0ncGVtaXNhaCcgc3R5bGU9J2NvbG9yOnJlZDtmb250LXNpemU6MTFweDsnPjwvZGl2PiIsCiAgICAgICApLAogICAgICdsb2cnID0+IGFycmF5KAogICAgICAgICAgICdsYWJlbCc9PicnLAogCQkJCQkndHlwZSc9PidtZXJnZScsCiAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4nMCcsCiAgICAgICAgICAgJ3BlbWlzYWgnPT4nICcsCiAgICAgICAgICAgJ3ZhbHVlJz0+IgoKICAgICAgICAgICA8dGV4dGFyZWEgaWQ9J2xvZ0Nsb3NpbmcnIG5hbWU9J2xvZ0Nsb3NpbmcnIHJlYWRvbmx5IHN0eWxlPSd3aWR0aDo3OTBweDtoZWlnaHQ6MjIwcHg7Jz5KdW1sYWggU0tQRCAgPSAiLnNpemVvZigkYXJyYXlTS1BEKS4iXG5KdW1sYWggS29kZSBCYXJhbmcgID0gIi5zaXplb2YoJGFycmF5S29kZUJhcmFuZykuIlxuPC90ZXh0YXJlYT4iLAogICAgICAgKSwKICAgICApOwogICAgLy90b21ib2wKCiAgICAvLyAkbGVuZ3RoUHJvY2Nlc3MgPSBzaXplb2YoJGFycmF5U0tQRCkgKiBzaXplb2YoJGFycmF5S29kZUJhcmFuZyk7CiAgICAkbGVuZ3RoUHJvY2Nlc3MgPSBzaXplb2YoJGFycmF5U0tQRCk7CiAgICAkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuanNvbl9lbmNvZGUoJGFycmF5S29kZUJhcmFuZykuIicgIGlkPSdhcnJheUtvZGVCYXJhbmcnIG5hbWU9J2FycmF5S29kZUJhcmFuZycgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuc2l6ZW9mKCRhcnJheUtvZGVCYXJhbmcpLiInICBpZD0ndG90YWxCYXJhbmcnIG5hbWU9J3RvdGFsQmFyYW5nJyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi5qc29uX2VuY29kZSgkYXJyYXlTS1BEKS4iJyAgaWQ9J2FycmF5S29kZVNLUEQnIG5hbWU9J2FycmF5S29kZVNLUEQnID4gIi4KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIHZhbHVlPSciLmpzb25fZW5jb2RlKCRhcnJheVNLUEQpLiInICBpZD0nYXJyYXlEYXRhUG9zdCcgbmFtZT0nYXJyYXlEYXRhUG9zdCcgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuJGxlbmd0aFByb2NjZXNzLiInICBpZD0nbGVuZ3RoUHJvY2Nlc3MnICBuYW1lPSdsZW5ndGhQcm9jY2VzcycgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuJGtvZGVTS1BELiInICBpZD0na29kZVNLUEQnIG5hbWU9J2tvZGVTS1BEJyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nJyAgaWQ9J3NrcGROb3RDTG9zaW5nJyBuYW1lPSdza3BkTm90Q0xvc2luZycgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0Nsb3NpbmcnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5leGVjdXRlQ2xvc2luZygpJyB0aXRsZT0nQ2xvc2luZycgPiAmbmJzcCIuCiAgICAgICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nVHV0dXAnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5DbG9zZSgpJyA+IjsKCiAgICAkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtKCk7CiAgICAkY29udGVudCA9ICRmb3JtOy8vJGNvbnRlbnQgPSAnY29udGVudCc7CiAgICByZXR1cm4JYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCk7CiAgfQogIGZ1bmN0aW9uIFR1dHVwQnVrdSgkZHQpewogICBnbG9iYWwgJFNlbnN1c1RtcCwkTWFpbiwkSFRUUF9DT09LSUVfVkFSUzsKICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICQka2V5ID0gJHZhbHVlOwogICB9CiAgICRjZWsgPSAnJzsgJGVycj0nJzsgJGNvbnRlbnQ9Jyc7CiAgICRqc29uID0gVFJVRTsJLy8kRXJyTXNnID0gJ3Rlcyc7CiAgICRmb3JtX25hbWUgPSAkdGhpcy0+UHJlZml4LidfZm9ybSc7CiAgICR0aGlzLT5mb3JtX3dpZHRoID0gODIwOwogICAkdGhpcy0+Zm9ybV9oZWlnaHQgPSA1MDA7CiAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnVHV0dXAgQnVrdSc7CiAgIGlmKCRmaWx0ZXJTdWJVbml0ICE9ICcwMDAnKXsKICAgICAka29uZGlzaVNLUEQgPSAiIGFuZCBjMSA9ICciLiRmaWx0ZXJVcnVzYW4uIicgYW5kIGMgPSAnIi4kZmlsdGVyQmlkYW5nLiInIGFuZCBkID0gJyIuJGZpbHRlclNLUEQuIicgYW5kIGUgPSAnIi4kZmlsdGVyVW5pdC4iJyBhbmQgZTEgPSAnIi4kZmlsdGVyU3ViVW5pdC4iJyAgIjsKICAgICAka29kZVNLUEQgPSAkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nLiIuIi4kZmlsdGVyU0tQRC4iLiIuJGZpbHRlclVuaXQuIi4iLiRmaWx0ZXJTdWJVbml0OwogICAgICRnZXREYXRhVXJ1c2FuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nMDAnIikpOwogICAgICRnZXREYXRhQmlkYW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JzAwJyIpKTsKICAgICAkZ2V0RGF0YVNLUEQgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nJGZpbHRlclNLUEQnIikpOwogICAgICRnZXREYXRhVW5pdCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCcgYW5kIGU9JyRmaWx0ZXJVbml0JyBhbmQgZTE9JzAwMCciKSk7CiAgICAgJGdldERhdGFTdWJVbml0ID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JyRmaWx0ZXJTS1BEJyBhbmQgZT0nJGZpbHRlclVuaXQnIGFuZCBlMT0nJGZpbHRlclN1YlVuaXQnIikpOwogICAgICR1cnVzYW4gPSAkZ2V0RGF0YVVydXNhblsnbm1fc2twZCddOwogICAgICRiaWRhbmcgPSAkZ2V0RGF0YUJpZGFuZ1snbm1fc2twZCddOwogICAgICRza3BkID0gJGdldERhdGFTS1BEWydubV9za3BkJ107CiAgICAgJHVuaXQgPSAkZ2V0RGF0YVVuaXRbJ25tX3NrcGQnXTsKICAgICAkc3ViVW5pdCA9ICRnZXREYXRhU3ViVW5pdFsnbm1fc2twZCddOwogICB9ZWxzZWlmKCRmaWx0ZXJVbml0ICE9ICcwMCcpewogICAgICRrb25kaXNpU0tQRCA9ICIgYW5kIGMxID0gJyIuJGZpbHRlclVydXNhbi4iJyBhbmQgYyA9ICciLiRmaWx0ZXJCaWRhbmcuIicgYW5kIGQgPSAnIi4kZmlsdGVyU0tQRC4iJyBhbmQgZSA9ICciLiRmaWx0ZXJVbml0LiInICI7CiAgICAgJGtvZGVTS1BEID0gJGZpbHRlclVydXNhbi4iLiIuJGZpbHRlckJpZGFuZy4iLiIuJGZpbHRlclNLUEQuIi4iLiRmaWx0ZXJVbml0OwogICAgICRnZXREYXRhVXJ1c2FuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nMDAnIikpOwogICAgICRnZXREYXRhQmlkYW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JzAwJyIpKTsKICAgICAkZ2V0RGF0YVNLUEQgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nJGZpbHRlclNLUEQnIikpOwogICAgICRnZXREYXRhVW5pdCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCcgYW5kIGU9JyRmaWx0ZXJVbml0JyBhbmQgZTE9JzAwMCciKSk7CiAgICAgJHVydXNhbiA9ICRnZXREYXRhVXJ1c2FuWydubV9za3BkJ107CiAgICAgJGJpZGFuZyA9ICRnZXREYXRhQmlkYW5nWydubV9za3BkJ107CiAgICAgJHNrcGQgPSAkZ2V0RGF0YVNLUERbJ25tX3NrcGQnXTsKICAgICAkdW5pdCA9ICRnZXREYXRhVW5pdFsnbm1fc2twZCddOwogICAgICRzdWJVbml0ID0gIlNFTVVBIFNVQiBVTklUIjsKICAgfWVsc2VpZigkZmlsdGVyU0tQRCAhPScwMCcpewogICAgICRrb25kaXNpU0tQRCA9ICIgYW5kIGMxID0gJyIuJGZpbHRlclVydXNhbi4iJyBhbmQgYyA9ICciLiRmaWx0ZXJCaWRhbmcuIicgYW5kIGQgPSAnIi4kZmlsdGVyU0tQRC4iJyI7CiAgICAgJGtvZGVTS1BEID0gJGZpbHRlclVydXNhbi4iLiIuJGZpbHRlckJpZGFuZy4iLiIuJGZpbHRlclNLUEQ7CiAgICAgJGdldERhdGFVcnVzYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPScwMCciKSk7CiAgICAgJGdldERhdGFCaWRhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nMDAnIikpOwogICAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSAnJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCciKSk7CiAgICAgJHVydXNhbiA9ICRnZXREYXRhVXJ1c2FuWydubV9za3BkJ107CiAgICAgJGJpZGFuZyA9ICRnZXREYXRhQmlkYW5nWydubV9za3BkJ107CiAgICAgJHNrcGQgPSAkZ2V0RGF0YVNLUERbJ25tX3NrcGQnXTsKICAgICAkdW5pdCA9ICJTRU1VQSBVTklUIjsKICAgICAkc3ViVW5pdCA9ICJTRU1VQSBTVUIgVU5JVCI7CiAgIH1lbHNlaWYoJGZpbHRlckJpZGFuZyAhPScwMCcpewogICAgICRrb25kaXNpU0tQRCA9ICIgYW5kIGMxID0gJyIuJGZpbHRlclVydXNhbi4iJyBhbmQgYyA9ICciLiRmaWx0ZXJCaWRhbmcuIiciOwogICAgICRrb2RlU0tQRCA9ICRmaWx0ZXJVcnVzYW4uIi4iLiRmaWx0ZXJCaWRhbmc7CiAgICAgJGdldERhdGFVcnVzYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPScwMCciKSk7CiAgICAgJGdldERhdGFCaWRhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nMDAnIikpOwogICAgICR1cnVzYW4gPSAkZ2V0RGF0YVVydXNhblsnbm1fc2twZCddOwogICAgICRiaWRhbmcgPSAkZ2V0RGF0YUJpZGFuZ1snbm1fc2twZCddOwogICAgICRza3BkID0gIlNFTVVBIFNLUEQiOwogICAgICR1bml0ID0gIlNFTVVBIFVOSVQiOwogICAgICRzdWJVbml0ID0gIlNFTVVBIFNVQiBVTklUIjsKICAgfWVsc2VpZigkZmlsdGVyVXJ1c2FuICE9JzAwJyl7CiAgICAgJGtvbmRpc2lTS1BEID0gIiBhbmQgYzEgPSAnIi4kZmlsdGVyVXJ1c2FuLiInIjsKICAgICAka29kZVNLUEQgPSAkZmlsdGVyVXJ1c2FuOwogICAgICRnZXREYXRhVXJ1c2FuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nMDAnIikpOwogICAgICR1cnVzYW4gPSAkZ2V0RGF0YVVydXNhblsnbm1fc2twZCddOwogICAgICRiaWRhbmcgPSAiU0VNVUEgQklEQU5HIjsKICAgICAkc2twZCA9ICJTRU1VQSBTS1BEIjsKICAgICAkdW5pdCA9ICJTRU1VQSBVTklUIjsKICAgICAkc3ViVW5pdCA9ICJTRU1VQSBTVUIgVU5JVCI7CiAgIH1lbHNlewogICAgICRrb2RlU0tQRCA9ICIiOwogICAgICR1cnVzYW4gPSAiU0VNVUEgVVJVU0FOIjsKICAgICAkYmlkYW5nID0gIlNFTVVBIEJJREFORyI7CiAgICAgJHNrcGQgPSAiU0VNVUEgU0tQRCI7CiAgICAgJHVuaXQgPSAiU0VNVUEgVU5JVCI7CiAgICAgJHN1YlVuaXQgPSAiU0VNVUEgU1VCIFVOSVQiOwogICB9CgogICAkZ2V0RGF0YUJhcmFuZyA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfYmFyYW5nIHdoZXJlIGY9JzA4JyBhbmQgajEhPScwMDAwJyAiKTsKICAgd2hpbGUgKCRkYXRhQmFyYW5nID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhQmFyYW5nKSkgewogICAgICRhcnJheUtvZGVCYXJhbmdbXSA9ICRkYXRhQmFyYW5nWydmJ10uIi4iLiRkYXRhQmFyYW5nWydnJ10uIi4iLiRkYXRhQmFyYW5nWydoJ10uIi4iLiRkYXRhQmFyYW5nWydpJ10uIi4iLiRkYXRhQmFyYW5nWydqJ10uIi4iLiRkYXRhQmFyYW5nWydqMSddOwogICB9CiAgIC8vICRnZXREYXRhQ2xvc2luZyA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjbG9zaW5nX3BlcnNlZGlhYW4gd2hlcmUgMT0xICRrb25kaXNpU0tQRCBhbmQgdGFodW5fYW5nZ2FyYW4gPSckdGhpcy0+dGFodW5BbmdnYXJhbicgIik7CiAgIC8vIHdoaWxlICgkZGF0YUNsb3NpbmcgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFDbG9zaW5nKSkgewogICAvLyAgICRjb25jYXRTS1BEID0gJGRhdGFDbG9zaW5nWydjMSddLiIuIi4kZGF0YUNsb3NpbmdbJ2MnXS4iLiIuJGRhdGFDbG9zaW5nWydkJ10uIi4iLiRkYXRhQ2xvc2luZ1snZSddLiIuIi4kZGF0YUNsb3NpbmdbJ2UxJ107CiAgIC8vICAgaWYoJHRoaXMtPnNxbE51bVJvdygkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gY2xvc2luZ19wZXJzZWRpYWFuIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRjb25jYXRTS1BEJyBhbmQgdGFodW5fYW5nZ2FyYW4gPSckdGhpcy0+dGFodW5BbmdnYXJhbicgIikpICE9IDIpewogICAvLyAgICAgJGFycmF5U0tQRENvc2luZ1tdID0gIiciLiRkYXRhQ2xvc2luZ1snYzEnXS4iLiIuJGRhdGFDbG9zaW5nWydjJ10uIi4iLiRkYXRhQ2xvc2luZ1snZCddLiIuIi4kZGF0YUNsb3NpbmdbJ2UnXS4iLiIuJGRhdGFDbG9zaW5nWydlMSddLiInIiA7CiAgIC8vICAgfQogICAvLyB9CiAgIC8vIGlmKHNpemVvZigkYXJyYXlTS1BEQ29zaW5nKSA+IDApewogICAvLyAgICRrb25kaXNpQ0xvc2luZ1NLUEQgPSAiIGFuZCBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSBub3QgaW4oIi5pbXBsb2RlKCIsIiwkYXJyYXlTS1BEQ29zaW5nKS4iKSAiOwogICAvLyB9CiAgICRnZXREYXRhU0tQRCA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEIGFuZCBlMSE9JzAwMCcgJGtvbmRpc2lDTG9zaW5nU0tQRCAiKTsKICAgd2hpbGUgKCRkYXRhU0tQRCA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVNLUEQpKSB7CiAgICAgJGFycmF5U0tQRFtdID0gJGRhdGFTS1BEWydjMSddLiIuIi4kZGF0YVNLUERbJ2MnXS4iLiIuJGRhdGFTS1BEWydkJ10uIi4iLiRkYXRhU0tQRFsnZSddLiIuIi4kZGF0YVNLUERbJ2UxJ10gOwogICB9CiAgICRhcnJheVNlbWVzdGVyID0gYXJyYXkoCiAgICBhcnJheSgnMScsJ1NFTUVTVEVSIDEnKSwKICAgIGFycmF5KCcyJywnU0VNRVNURVIgMicpLAogICk7CiAgaWYoZW1wdHkoJGVycikpewogICAgaWYoc2l6ZW9mKCRhcnJheVNLUEQpID09IDApewogICAgICAkZXJyID0gIkRhdGEgc3VkYWggZGkgY2xvc2luZyAhIjsKICAgIH0KICB9CgogICAkdGhpcy0+Zm9ybV9maWVsZHMgPSBhcnJheSgKICAgICAna29kZTAnID0+IGFycmF5KAogICAgICAgJ2xhYmVsJz0+J1VSVVNBTicsCiAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICd2YWx1ZSc9PiAkdXJ1c2FuCiAgICAgKSwKICAgICAna29kZTEnID0+IGFycmF5KAogICAgICAgJ2xhYmVsJz0+J0JJREFORycsCiAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICd2YWx1ZSc9PiAkYmlkYW5nCiAgICAgKSwKICAgICAna29kZTInID0+IGFycmF5KAogICAgICAgJ2xhYmVsJz0+J1NLUEQnLAogICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICAndmFsdWUnPT4gJHNrcGQKICAgICApLAogICAgICdrb2RlMycgPT4gYXJyYXkoCiAgICAgICAnbGFiZWwnPT4nVU5JVCcsCiAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICd2YWx1ZSc9PiAkdW5pdAogICAgICksCiAgICAgJ2tvZGU0JyA9PiBhcnJheSgKICAgICAgICdsYWJlbCc9PidTVUIgVU5JVCcsCiAgICAgICAnbGFiZWxXaWR0aCc9PjE1MCwKICAgICAgICd2YWx1ZSc9PiAkc3ViVW5pdAogICAgICksCiAJCSdrZXRlcmFuZ2FuJyA9PiBhcnJheSgKIAkJCSdsYWJlbCc9PidLRVRFUkFOR0FOJywKIAkJCSdsYWJlbFdpZHRoJz0+NzAsCiAJCQkndmFsdWUnPT4gIjx0ZXh0YXJlYSBpZD0na2V0ZXJhbmdhbicgbmFtZT0na2V0ZXJhbmdhbicgc3R5bGU9J3dpZHRoOjMwMHB4O2hlaWdodDo1MHB4Oyc+PC90ZXh0YXJlYT4iCiAJCSksCiAgICAgJ3Byb2dyZXNzJyA9PiBhcnJheSgKICAgICAgICdsYWJlbCc9PicnLAogICAgICAgJ2xhYmVsV2lkdGgnPT4xLAogICAgICAgJ3BlbWlzYWgnPT4nICcsCiAgICAgICAndHlwZSc9PidtZXJnZScsCiAgICAgICAndmFsdWUnPT4KICAgICAgICAgIjxkaXYgaWQ9J3Byb2dyZXNzYm94JyBzdHlsZT0nYmFja2dyb3VuZDojZmZmYmYwO2JvcmRlci1yYWRpdXM6NXB4O2JvcmRlcjoxcHggc29saWQ7aGVpZ2h0OjEwcHgnPgogICAgICAgICAgIDxkaXYgaWQ9J3Byb2dyZXNzYmFyJz48L2RpdiA+CiAgICAgICAgICAgPGRpdiBpZD0nc3RhdHVzdHh0JyBzdHlsZT0nd2lkdGg6MCU7YmFja2dyb3VuZDpncmVlbjtoZWlnaHQ6MTBweDt0ZXh0LWFsaWduOnJpZ2h0O2NvbG9yOndoaXRlO2ZvbnQtc2l6ZTo4cHg7Jz4wJTwvZGl2PgogICAgICAgICAgIDxkaXYgaWQ9J291dHB1dCc+PC9kaXY+CiAgICAgICAgIDwvZGl2PgkiCiAgICAgICApLAogICAgICdwZXJpbmdhdGFuJyA9PiBhcnJheSgKICAgICAgICAgICAnbGFiZWwnPT4nJywKIAkJCQkJJ3R5cGUnPT4nbWVyZ2UnLAogICAgICAgICAgICdsYWJlbFdpZHRoJz0+MSwKICAgICAgICAgICAncGVtaXNhaCc9PicgJywKICAgICAgICAgICAndmFsdWUnPT4iPGRpdiBpZD0ncGVtaXNhaCcgc3R5bGU9J2NvbG9yOnJlZDtmb250LXNpemU6MTFweDsnPjwvZGl2PiIsCiAgICAgICApLAogICAgICdsb2cnID0+IGFycmF5KAogICAgICAgICAgICdsYWJlbCc9PicnLAogCQkJCQkndHlwZSc9PidtZXJnZScsCiAgICAgICAgICAgJ2xhYmVsV2lkdGgnPT4nMCcsCiAgICAgICAgICAgJ3BlbWlzYWgnPT4nICcsCiAgICAgICAgICAgJ3ZhbHVlJz0+IgoKICAgICAgICAgICA8dGV4dGFyZWEgaWQ9J2xvZ0Nsb3NpbmcnIG5hbWU9J2xvZ0Nsb3NpbmcnIHJlYWRvbmx5IHN0eWxlPSd3aWR0aDo3OTBweDtoZWlnaHQ6MjIwcHg7Jz5KdW1sYWggU0tQRCAgPSAiLnNpemVvZigkYXJyYXlTS1BEKS4iXG5KdW1sYWggS29kZSBCYXJhbmcgID0gIi5zaXplb2YoJGFycmF5S29kZUJhcmFuZykuIlxuPC90ZXh0YXJlYT4iLAogICAgICAgKSwKICAgICApOwogICAgLy90b21ib2wKCiAgICAvLyAkbGVuZ3RoUHJvY2Nlc3MgPSBzaXplb2YoJGFycmF5U0tQRCkgKiBzaXplb2YoJGFycmF5S29kZUJhcmFuZyk7CiAgICAkbGVuZ3RoUHJvY2Nlc3MgPSBzaXplb2YoJGFycmF5U0tQRCk7CiAgICAkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuanNvbl9lbmNvZGUoJGFycmF5S29kZUJhcmFuZykuIicgIGlkPSdhcnJheUtvZGVCYXJhbmcnIG5hbWU9J2FycmF5S29kZUJhcmFuZycgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuc2l6ZW9mKCRhcnJheUtvZGVCYXJhbmcpLiInICBpZD0ndG90YWxCYXJhbmcnIG5hbWU9J3RvdGFsQmFyYW5nJyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi5qc29uX2VuY29kZSgkYXJyYXlTS1BEKS4iJyAgaWQ9J2FycmF5S29kZVNLUEQnIG5hbWU9J2FycmF5S29kZVNLUEQnID4gIi4KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIHZhbHVlPSciLmpzb25fZW5jb2RlKCRhcnJheVNLUEQpLiInICBpZD0nYXJyYXlEYXRhUG9zdCcgbmFtZT0nYXJyYXlEYXRhUG9zdCcgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuJGxlbmd0aFByb2NjZXNzLiInICBpZD0nbGVuZ3RoUHJvY2Nlc3MnICBuYW1lPSdsZW5ndGhQcm9jY2VzcycgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuJGtvZGVTS1BELiInICBpZD0na29kZVNLUEQnIG5hbWU9J2tvZGVTS1BEJyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nJyAgaWQ9J3NrcGROb3RDTG9zaW5nJyBuYW1lPSdza3BkTm90Q0xvc2luZycgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1R1dHVwIEJ1a3UnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5leGVjdXRlVHV0dXBCdWt1KCknIHRpdGxlPSdUdXR1cCBCdWt1JyA+ICZuYnNwIi4KICAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdCYXRhbCcgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLkNsb3NlKCknID4iOwoKICAgICRmb3JtID0gJHRoaXMtPmdlbkZvcm0oKTsKICAgICRjb250ZW50ID0gJGZvcm07Ly8kY29udGVudCA9ICdjb250ZW50JzsKICAgIHJldHVybglhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50KTsKICB9CiAgZnVuY3Rpb24gQ291bnRBbmRDbG9zZSgkZHQpewogICBnbG9iYWwgJFNlbnN1c1RtcCwkTWFpbiwkSFRUUF9DT09LSUVfVkFSUzsKICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICQka2V5ID0gJHZhbHVlOwogICB9CiAgICRjZWsgPSAnJzsgJGVycj0nJzsgJGNvbnRlbnQ9Jyc7CiAgICRqc29uID0gVFJVRTsJLy8kRXJyTXNnID0gJ3Rlcyc7CiAgICRmb3JtX25hbWUgPSAkdGhpcy0+UHJlZml4LidfZm9ybSc7CiAgICR0aGlzLT5mb3JtX3dpZHRoID0gODIwOwogICAkdGhpcy0+Zm9ybV9oZWlnaHQgPSA0MDA7CiAgICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnQ291bnQgQW5kIENsb3NpbmcnOwoKICAkZmlsdGVyUGVyaW9kZT0gJGZpbHRlclNlbWVzdGVyOwogIGlmKGVtcHR5KCRmaWx0ZXJQZXJpb2RlKSkkZXJyID0gIlBpbGloIFBlcmlvZGUiOwogCWlmKCRmaWx0ZXJQZXJpb2RlID09IDEpewogCQkkdGFuZ2dhbCA9ICIzMS0wNi0iLiR0aGlzLT50YWh1bkFuZ2dhcmFuOwogCQkvLyAkc3RhdHVzQ2xvc2luZyA9ICR0aGlzLT5nZXRTdGF0dXNDbG9zaW5nKCRrb2RlU0tQRCwkdGhpcy0+Z2VuZXJhdGVEYXRlKCR0YW5nZ2FsKSk7CiAJCWlmKCRzdGF0dXNDbG9zaW5nICE9IDApewogCQkJJGVyciA9ICJEYXRhIHNlbWVzdGVyIHNhdHUgc3VkYWggZGkgY2xvc2luZywgYmF0YWxrYW4gY2xvc2luZyA\/IjsKIAkJfQogCQkkbmFtYVNlbWVzdGVyID0gIlNBVFUiOwogCX1lbHNlewogCQkkdGFuZ2dhbCA9ICIzMS0xMi0iLiR0aGlzLT50YWh1bkFuZ2dhcmFuOwogCQkvLyAkc3RhdHVzQ2xvc2luZyA9ICR0aGlzLT5nZXRTdGF0dXNDbG9zaW5nKCRrb2RlU0tQRCwkdGhpcy0+Z2VuZXJhdGVEYXRlKCR0YW5nZ2FsKSk7CiAJCWlmKCRzdGF0dXNDbG9zaW5nICE9IDApewogCQkJJGVyciA9ICJEYXRhIHNlbWVzdGVyIGR1YSBzdWRhaCBkaSBjbG9zaW5nLCBiYXRhbGthbiBjbG9zaW5nID8iOwogCQl9CiAJCSRuYW1hU2VtZXN0ZXIgPSAiRFVBIjsKIAl9CgogICAkZ2V0RGF0YUJhcmFuZyA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfYmFyYW5nIHdoZXJlIGY9JzA4JyBhbmQgajEhPScwMDAwJyAiKTsKICAgd2hpbGUgKCRkYXRhQmFyYW5nID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhQmFyYW5nKSkgewogICAgICRhcnJheUtvZGVCYXJhbmdbXSA9ICRkYXRhQmFyYW5nWydmJ10uIi4iLiRkYXRhQmFyYW5nWydnJ10uIi4iLiRkYXRhQmFyYW5nWydoJ10uIi4iLiRkYXRhQmFyYW5nWydpJ10uIi4iLiRkYXRhQmFyYW5nWydqJ10uIi4iLiRkYXRhQmFyYW5nWydqMSddOwogICB9CiAgICRhcnJheVNLUERDb3NpbmcgPSBleHBsb2RlKCI7IiwkbGlzdEtvZGVTS1BEKTsKICAgZm9yICgkaT0wOyAkaSA8IHNpemVvZigkYXJyYXlTS1BEQ29zaW5nKSA7ICRpKyspIHsKICAgICAkYXJyYXlTS1BEQ0xPU0lOR1tdID0gIiciLiRhcnJheVNLUERDb3NpbmdbJGldLiInIjsKICAgfQogICAka29uZGlzaUNMb3NpbmdTS1BEID0gIiBhbmQgY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSkgaW4oIi5pbXBsb2RlKCIsIiwkYXJyYXlTS1BEQ0xPU0lORykuIikgIjsKICAgJGdldERhdGFTS1BEID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgYW5kIGUxIT0nMDAwJyAka29uZGlzaUNMb3NpbmdTS1BEICIpOwogICB3aGlsZSAoJGRhdGFTS1BEID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhU0tQRCkpIHsKICAgICAkYXJyYXlTS1BEW10gPSAkZGF0YVNLUERbJ2MxJ10uIi4iLiRkYXRhU0tQRFsnYyddLiIuIi4kZGF0YVNLUERbJ2QnXS4iLiIuJGRhdGFTS1BEWydlJ10uIi4iLiRkYXRhU0tQRFsnZTEnXSA7CiAgICAgZm9yICgkaT0wOyAkaSA8IHNpemVvZigkYXJyYXlLb2RlQmFyYW5nKTsgJGkrKykgewogICAgICAgJGFycmF5RGF0YVBvc3RbXSA9ICRkYXRhU0tQRFsnYzEnXS4iLiIuJGRhdGFTS1BEWydjJ10uIi4iLiRkYXRhU0tQRFsnZCddLiIuIi4kZGF0YVNLUERbJ2UnXS4iLiIuJGRhdGFTS1BEWydlMSddLiI7Ii4kYXJyYXlLb2RlQmFyYW5nWyRpXTsKICAgICB9CiAgIH0KICAgJGFycmF5U2VtZXN0ZXIgPSBhcnJheSgKICAgIGFycmF5KCcxJywnU0VNRVNURVIgMScpLAogICAgYXJyYXkoJzInLCdTRU1FU1RFUiAyJyksCiAgKTsKCiAgICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KAogICAgICdzZW1lc3RlcicgPT4gYXJyYXkoCiAgICAgICAnbGFiZWwnPT4nU0VNRVNURVInLAogICAgICAgJ2xhYmVsV2lkdGgnPT4xNTAsCiAgICAgICAndmFsdWUnPT4gY21iQXJyYXkoInNkcyIsJGZpbHRlclNlbWVzdGVyLCRhcnJheVNlbWVzdGVyLCAiLS0gU0VNRVNURVIgLS0gIiwiIGRpc2FibGVkIiApLiI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nJGZpbHRlclNlbWVzdGVyJyBuYW1lPSdmaWx0ZXJQZXJpb2RlJyBpZD0nZmlsdGVyUGVyaW9kZScgPiIKICAgICApLAogCQkna2V0ZXJhbmdhbicgPT4gYXJyYXkoCiAJCQknbGFiZWwnPT4nS0VURVJBTkdBTicsCiAJCQknbGFiZWxXaWR0aCc9PjcwLAogCQkJJ3ZhbHVlJz0+ICI8dGV4dGFyZWEgaWQ9J2tldGVyYW5nYW4nIG5hbWU9J2tldGVyYW5nYW4nIHN0eWxlPSd3aWR0aDozMDBweDtoZWlnaHQ6NTBweDsnPiRrZXRlcmFuZ2FuPC90ZXh0YXJlYT4iCiAJCSksCgogICAgICdwcm9ncmVzcycgPT4gYXJyYXkoCiAgICAgICAnbGFiZWwnPT4nJywKICAgICAgICdsYWJlbFdpZHRoJz0+MSwKICAgICAgICdwZW1pc2FoJz0+JyAnLAogICAgICAgJ3R5cGUnPT4nbWVyZ2UnLAogICAgICAgJ3ZhbHVlJz0+CiAgICAgICAgICI8ZGl2IGlkPSdwcm9ncmVzc2JveCcgc3R5bGU9J2JhY2tncm91bmQ6I2ZmZmJmMDtib3JkZXItcmFkaXVzOjVweDtib3JkZXI6MXB4IHNvbGlkO2hlaWdodDoxMHB4Jz4KICAgICAgICAgICA8ZGl2IGlkPSdwcm9ncmVzc2Jhcic+PC9kaXYgPgogICAgICAgICAgIDxkaXYgaWQ9J3N0YXR1c3R4dCcgc3R5bGU9J3dpZHRoOjAlO2JhY2tncm91bmQ6Z3JlZW47aGVpZ2h0OjEwcHg7dGV4dC1hbGlnbjpyaWdodDtjb2xvcjp3aGl0ZTtmb250LXNpemU6OHB4Oyc+MCU8L2Rpdj4KICAgICAgICAgICA8ZGl2IGlkPSdvdXRwdXQnPjwvZGl2PgogICAgICAgICA8L2Rpdj4JIgogICAgICAgKSwKICAgICAncGVyaW5nYXRhbicgPT4gYXJyYXkoCiAgICAgICAgICAgJ2xhYmVsJz0+JycsCiAJCQkJCSd0eXBlJz0+J21lcmdlJywKICAgICAgICAgICAnbGFiZWxXaWR0aCc9PjEsCiAgICAgICAgICAgJ3BlbWlzYWgnPT4nICcsCiAgICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgaWQ9J3BlbWlzYWgnIHN0eWxlPSdjb2xvcjpyZWQ7Zm9udC1zaXplOjExcHg7Jz48L2Rpdj4iLAogICAgICAgKSwKICAgICAnbG9nJyA9PiBhcnJheSgKICAgICAgICAgICAnbGFiZWwnPT4nJywKIAkJCQkJJ3R5cGUnPT4nbWVyZ2UnLAogICAgICAgICAgICdsYWJlbFdpZHRoJz0+JzAnLAogICAgICAgICAgICdwZW1pc2FoJz0+JyAnLAogICAgICAgICAgICd2YWx1ZSc9PiIKCiAgICAgICAgICAgPHRleHRhcmVhIGlkPSdsb2dDbG9zaW5nJyBuYW1lPSdsb2dDbG9zaW5nJyByZWFkb25seSBzdHlsZT0nd2lkdGg6NzkwcHg7aGVpZ2h0OjIyMHB4Oyc+SnVtbGFoIFNLUEQgID0gIi5zaXplb2YoJGFycmF5U0tQRCkuIlxuSnVtbGFoIEtvZGUgQmFyYW5nICA9ICIuc2l6ZW9mKCRhcnJheUtvZGVCYXJhbmcpLiJcbjwvdGV4dGFyZWE+IiwKICAgICAgICksCiAgICAgKTsKICAgIC8vdG9tYm9sCgogICAgLy8gJGxlbmd0aFByb2NjZXNzID0gc2l6ZW9mKCRhcnJheVNLUEQpICogc2l6ZW9mKCRhcnJheUtvZGVCYXJhbmcpOwogICAgJGxlbmd0aFByb2NjZXNzID0gc2l6ZW9mKCRhcnJheURhdGFQb3N0KTsKICAgICR0aGlzLT5mb3JtX21lbnViYXdhaCA9CiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi5qc29uX2VuY29kZSgkYXJyYXlLb2RlQmFyYW5nKS4iJyAgaWQ9J2FycmF5S29kZUJhcmFuZycgbmFtZT0nYXJyYXlLb2RlQmFyYW5nJyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi5zaXplb2YoJGFycmF5S29kZUJhcmFuZykuIicgIGlkPSd0b3RhbEJhcmFuZycgbmFtZT0ndG90YWxCYXJhbmcnID4gIi4KICAgICAgIjxpbnB1dCB0eXBlPSdoaWRkZW4nIHZhbHVlPSciLmpzb25fZW5jb2RlKCRhcnJheVNLUEQpLiInICBpZD0nYXJyYXlLb2RlU0tQRCcgbmFtZT0nYXJyYXlLb2RlU0tQRCcgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuanNvbl9lbmNvZGUoJGFycmF5RGF0YVBvc3QpLiInICBpZD0nYXJyYXlEYXRhUG9zdCcgbmFtZT0nYXJyYXlEYXRhUG9zdCcgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuJGxlbmd0aFByb2NjZXNzLiInICBpZD0nbGVuZ3RoUHJvY2Nlc3MnICBuYW1lPSdsZW5ndGhQcm9jY2VzcycgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuJGtvZGVTS1BELiInICBpZD0na29kZVNLUEQnIG5hbWU9J2tvZGVTS1BEJyA+ICIuCiAgICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nJyAgaWQ9J2lkUGVuZ2VsdWFyYW5EaXN0cmlidXNpJyBuYW1lPSdpZFBlbmdlbHVhcmFuRGlzdHJpYnVzaScgPiAiLgogICAgICAiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0Nsb3NpbmcnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5leGVjdXRlQ291bnRBbmRDbG9zZSgiLnNpemVvZigkYXJyYXlTS1BEKS4iLDEpJyB0aXRsZT0nQ2xvc2luZycgPiAmbmJzcCIuCiAgICAgICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nVHV0dXAnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5DbG9zZSgpJyA+IjsKCiAgICAkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtKCk7CiAgICAkY29udGVudCA9ICRmb3JtOy8vJGNvbnRlbnQgPSAnY29udGVudCc7CiAgICByZXR1cm4JYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCk7CiAgfQoKCiAgZnVuY3Rpb24gZ2V0U3RhdHVzSGl0dW5nKCRrb2RlU0tQRCwkc2VtZXN0ZXIpewoJCWlmKCFlbXB0eSgkc2VtZXN0ZXIpKXsKCQkJCWlmKCRzZW1lc3RlciA9PSAnMScpewoJCQkJCQkkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA2IjsKCQkJCQkJJGNvbmRpdGlvblBlcmlvZGUgPSAiYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlciciOwoJCQkJfWVsc2VpZigkc2VtZXN0ZXIgPT0gJzInKXsKCQkJCQkJJG1pbkZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNyI7CgkJCQkJCSRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMTIiOwoJCQkJCQkkY29uZGl0aW9uUGVyaW9kZSA9ICJhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpID49ICckbWluRmlsdGVyJyBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CgkJCQl9ZWxzZWlmKCRzZW1lc3RlciA9PSAnMycpewoJCQkJCQkkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjEyIjsKCQkJCX0KCQl9CgkJJHN0YXR1c0hpdHVuZyA9ICR0aGlzLT5zcWxOdW1Sb3coJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCB0YWh1biA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0gJyRzZW1lc3RlciciKSk7CgkJaWYoICRzdGF0dXNIaXR1bmcgICE9IDApewoJCQkkcmV0dXJuID0gMTsKCQl9ZWxzZXsKCQkJJHJldHVybiA9IDAgOwoJCX0KCQlyZXR1cm4gJHJldHVybjsKCX0KICBmdW5jdGlvbiBjb3VudEFuZENsb3NlU2VtZXN0ZXIxKCRrb2RlU0tQRCwka29kZUJhcmFuZyl7CiAgCQkgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgCQkJCSQka2V5ID0gJHZhbHVlOwogIAkJIH0KICAgICAgJGRhdGFQZXJzZWRpYWFuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB2aWV3X2RhZnRhcl9wZXJzZWRpYWFuIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgYW5kIGNvbmNhdChmLCcuJyxnLCcuJyxoLCcuJyxpLCcuJyxqLCcuJyxqMSkgPSAnJGtvZGVCYXJhbmcnIGFuZCB5ZWFyKHRhbmdnYWxfYnVrdSkgPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIikpOwogICAgICAka29kZUJhcmFuZyA9ICRkYXRhUGVyc2VkaWFhblsnZiddLiIuIi4kZGF0YVBlcnNlZGlhYW5bJ2cnXS4iLiIuJGRhdGFQZXJzZWRpYWFuWydoJ10uIi4iLiRkYXRhUGVyc2VkaWFhblsnaSddLiIuIi4kZGF0YVBlcnNlZGlhYW5bJ2onXS4iLiIuJGRhdGFQZXJzZWRpYWFuWydqMSddOwogICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZycgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyIpOwogICAgICAkYXJyYXlTYWxkb0F3YWwgPSAkdGhpcy0+Z3JhYlRyYW5zYWtzaVNlbWVzdGVyMSgka29kZVNLUEQsJGtvZGVCYXJhbmcsJzEnKTsKICAgICAgJGdldERhdGFCYXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9iYXJhbmcgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIikpOwogICAgICAkZGF0YVNhbGRvQXdhbCA9IGFycmF5KAogICAgICAgICdjMScgPT4gJGRhdGFQZXJzZWRpYWFuWydjMSddLAogICAgICAgICdjJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2MnXSwKICAgICAgICAnZCcgPT4gJGRhdGFQZXJzZWRpYWFuWydkJ10sCiAgICAgICAgJ2UnID0+ICRkYXRhUGVyc2VkaWFhblsnZSddLAogICAgICAgICdlMScgPT4gJGRhdGFQZXJzZWRpYWFuWydlMSddLAogICAgICAgICdmJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2YnXSwKICAgICAgICAnZycgPT4gJGRhdGFQZXJzZWRpYWFuWydnJ10sCiAgICAgICAgJ2gnID0+ICRkYXRhUGVyc2VkaWFhblsnaCddLAogICAgICAgICdpJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2knXSwKICAgICAgICAnaicgPT4gJGRhdGFQZXJzZWRpYWFuWydqJ10sCiAgICAgICAgJ2oxJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2oxJ10sCiAgICAgICAgJ3NhdHVhbicgPT4gJGdldERhdGFCYXJhbmdbJ3NhdHVhbiddLAogICAgICAgICd0YW5nZ2FsJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxIiwKICAgICAgICAnam5zJyA9PiAnMScsCiAgICAgICAgJ2plbmlzX3BlcnNlZGlhYW4nID0+ICcxJywKICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICdoYXJnYV9zYXR1YW4nID0+ICRhcnJheVNhbGRvQXdhbFsnanVtbGFoSGFyZ2EnXSAvICRhcnJheVNhbGRvQXdhbFsnc2FsZG8nXSAgLAogICAgICAgICdqdW1sYWgnID0+ICRhcnJheVNhbGRvQXdhbFsnc2FsZG8nXSAsCiAgICAgICAgJ3RvdGFsJyA9PiAkYXJyYXlTYWxkb0F3YWxbJ2p1bWxhaEhhcmdhJ10sCiAgICAgICk7CiAgICAgICRxdWVyeUluc2V0U2FsZG9Bd2FsID0gJHRoaXMtPnNxbEluc2VydCgic2FsZG9fYXdhbCIsJGRhdGFTYWxkb0F3YWwpOwogICAgICAkdGhpcy0+c3FsUXVlcnkoJHF1ZXJ5SW5zZXRTYWxkb0F3YWwpOwogICAgICAkZ2V0SWRUcmFuc2Frc2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgbWF4KGlkKSBmcm9tIHNhbGRvX2F3YWwgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIGFuZCB0YW5nZ2FsPSciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEiLiInIikpOwogICAgICAkZGF0YUthcnR1UGVyc2VkaWFhbiA9IGFycmF5KAogICAgICAgICdjMScgPT4gJGRhdGFQZXJzZWRpYWFuWydjMSddLAogICAgICAgICdjJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2MnXSwKICAgICAgICAnZCcgPT4gJGRhdGFQZXJzZWRpYWFuWydkJ10sCiAgICAgICAgJ2UnID0+ICRkYXRhUGVyc2VkaWFhblsnZSddLAogICAgICAgICdlMScgPT4gJGRhdGFQZXJzZWRpYWFuWydlMSddLAogICAgICAgICdmJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2YnXSwKICAgICAgICAnZycgPT4gJGRhdGFQZXJzZWRpYWFuWydnJ10sCiAgICAgICAgJ2gnID0+ICRkYXRhUGVyc2VkaWFhblsnaCddLAogICAgICAgICdpJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2knXSwKICAgICAgICAnaicgPT4gJGRhdGFQZXJzZWRpYWFuWydqJ10sCiAgICAgICAgJ2oxJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2oxJ10sCiAgICAgICAgJ3RhbmdnYWxfYnVrdScgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMSIsCiAgICAgICAgJ2pucycgPT4gJzEnLAogICAgICAgICdqZW5pc19wZXJzZWRpYWFuJyA9PiAnMScsCiAgICAgICAgJ2NhcmFfcGVyb2xlaGFuJyA9PiAnMScsCiAgICAgICAgJ2hhcmdhX3NhdHVhbicgPT4gJGFycmF5U2FsZG9Bd2FsWydqdW1sYWhIYXJnYSddIC8gJGFycmF5U2FsZG9Bd2FsWydzYWxkbyddLAogICAgICAgICdqdW1sYWgnID0+ICRhcnJheVNhbGRvQXdhbFsnc2FsZG8nXSAsCiAgICAgICAgJ3RvdGFsJyA9PiAkYXJyYXlTYWxkb0F3YWxbJ2p1bWxhaEhhcmdhJ10sCiAgICAgICAgJ3NhdHVhbicgPT4gJGdldERhdGFCYXJhbmdbJ3NhdHVhbiddLAogICAgICAgICdyZWZpZCcgPT4gJGdldElkVHJhbnNha3NpWydtYXgoaWQpJ10KICAgICAgKTsKICAgICAgJHF1ZXJ5S2FydHVQZXJzZWRpYWFuID0gJHRoaXMtPnNxbEluc2VydCgidF9rYXJ0dV9wZXJzZWRpYWFuIiwkZGF0YUthcnR1UGVyc2VkaWFhbik7CiAgICAgICR0aGlzLT5zcWxRdWVyeSgkcXVlcnlLYXJ0dVBlcnNlZGlhYW4pOwogICAgICByZXR1cm4gJGFycmF5U2FsZG9Bd2FsOwogIAl9CiAgICBmdW5jdGlvbiBjb3VudEFuZENsb3NlU2VtZXN0ZXIyKCRrb2RlU0tQRCwka29kZUJhcmFuZyl7CiAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nPScka29kZUJhcmFuZycgYW5kIHNlbWVzdGVyID0gJzInIik7CgogICAgICAkZXJyID0gIiI7CiAgICAgICRjZWsgPSAiIjsKICAgICAgJGNvbnRlbnQgPSAiIjsKICAgICAgJGZpbHRlclBlcmlvZGUgPSAnMic7CiAgICAgICRrb25kaXNpVGFodW4gPSAiIGFuZCBsZWZ0KHRhbmdnYWxfYnVrdSw0KSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiInICI7CiAgICAgIGlmKCFlbXB0eSgkZmlsdGVyUGVyaW9kZSkpewogICAgICAgICAgaWYoJGZpbHRlclBlcmlvZGUgPT0gJzEnKXsKICAgICAgICAgICAgICAkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA2IjsKICAgICAgICAgICAgICAka29uZGlzaVBlcmlvZGUgID0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyAiOwogICAgICAgICAgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAnMicpewogICAgICAgICAgICAgICRtaW5GaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMDciOwogICAgICAgICAgICAgICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMTIiOwogICAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZT0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpID49ICckbWluRmlsdGVyJyBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CiAgICAgICAgICAgICAgJGtvbmRpc2lTYWxkb0F3YWwgPSAiIGFuZCBpZCBub3QgaW4gKCBzZWxlY3QgaWQgZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgam5zID0gJzEnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnIGFuZCB0YW5nZ2FsX2J1a3UgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLSR0aGlzLT5idWxhblRhbmdnYWxTYWxkb0F3YWwnKSAiOwogICAgICAgICAgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAnMycpewogICAgICAgICAgICAgICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMTIiOwogICAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZSA9ICIgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlciciOwogICAgICAgICAgICAgICRrb25kaXNpU2FsZG9Bd2FsID0gIiBhbmQgaWQgbm90IGluICggc2VsZWN0IGlkIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGpucyA9ICcxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgdGFuZ2dhbF9idWt1ID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMScpICI7CiAgICAgICAgICB9CiAgICAgIH0KCiAgICAgICAgJGdldERhdGEgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZz0nJGtvZGVCYXJhbmcnICIpKTsKICAgICAgICAkZGF0YUxvY2tCYXJhbmcgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgJ2MxJyA9PiAkZ2V0RGF0YVsnYzEnXSwKICAgICAgICAgICAgICAgICAgICAgICAgJ2MnID0+ICRnZXREYXRhWydjJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICdkJyA9PiAkZ2V0RGF0YVsnZCddLAogICAgICAgICAgICAgICAgICAgICAgICAnZScgPT4gJGdldERhdGFbJ2UnXSwKICAgICAgICAgICAgICAgICAgICAgICAgJ2UxJyA9PiAkZ2V0RGF0YVsnZTEnXSwKICAgICAgICAgICAgICAgICAgICAgICAgJ2YxJyA9PiAkZ2V0RGF0YVsnZjEnXSwKICAgICAgICAgICAgICAgICAgICAgICAgJ2YyJyA9PiAkZ2V0RGF0YVsnZjInXSwKICAgICAgICAgICAgICAgICAgICAgICAgJ2YnID0+ICRnZXREYXRhWydmJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICdnJyA9PiAkZ2V0RGF0YVsnZyddLAogICAgICAgICAgICAgICAgICAgICAgICAnaCcgPT4gJGdldERhdGFbJ2gnXSwKICAgICAgICAgICAgICAgICAgICAgICAgJ2knID0+ICRnZXREYXRhWydpJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICdqJyA9PiAkZ2V0RGF0YVsnaiddLAogICAgICAgICAgICAgICAgICAgICAgICAnajEnID0+ICRnZXREYXRhWydqMSddLAogICAgICAgICAgICAgICAgICAgICAgICAndGFodW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICAgICAgICAgICAnc2VtZXN0ZXInID0+IDIsCiAgICAgICAgICAgICk7CiAgCQkJCQkkaW5zZXJ0TG9ja0JhcmFuZyA9ICR0aGlzLT5zcWxJbnNlcnQoInRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyIsJGRhdGFMb2NrQmFyYW5nKTsKICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCRpbnNlcnRMb2NrQmFyYW5nKTsKCiAgICAgICAgICAgICRpZExvY2sgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgbWF4KGlkKSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgYW5kIHRhaHVuID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIicgYW5kIHNlbWVzdGVyID0gJyIuJGZpbHRlclBlcmlvZGUuIicgIikpOwogICAgICAgICAgICAkaWRMb2NrID0gJGlkTG9ja1snbWF4KGlkKSddOwoKCiAgICAgICAgICAgICRnZXREYXRhVGFtYmFoID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgJGtvbmRpc2lUYWh1biAka29uZGlzaVBlcmlvZGUgJGtvbmRpc2lTYWxkb0F3YWwgb3JkZXIgYnkgdGFuZ2dhbF9idWt1IGFzYyIpOwogICAgICAgICAgICB3aGlsZSAoJGRhdGFUYW1iYWggPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFUYW1iYWgpKSB7CiAgCQkJCQkJaWYoJGRhdGFUYW1iYWhbJ2pucyddID09ICczJyl7CiAgCQkJCQkJJGdldERhdGFEZXRhaWxEaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBkZXRhaWxfcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlICBpZCA9ICciLiRkYXRhVGFtYmFoWydyZWZpZCddLiInIikpOwogIAkJCQkJCSRnZXREYXRhUmluY2lhbkRpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJpbmNpYW5fZGlzdHJpYnVzaSB3aGVyZSAgaWQgPSAnIi4kZ2V0RGF0YURldGFpbERpc3RyaWJ1c2lbJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaSddLiInIikpOwogIAkJCQkJCSRkYXRhQ291bnREaXN0cmlidXNpID0gYXJyYXkoCiAgCQkJCQkJCQkJCQkJJ2lkX2xvY2tfYmFyYW5nJyA9PiAkaWRMb2NrLAogIAkJCQkJCQkJCQkJCSdjMScgPT4gJGdldERhdGFbJ2MxJ10sCiAgCQkJCQkJCQkJCQkJJ2MnID0+ICRnZXREYXRhWydjJ10sCiAgCQkJCQkJCQkJCQkJJ2QnID0+ICRnZXREYXRhWydkJ10sCiAgCQkJCQkJCQkJCQkJJ2UnID0+ICRnZXREYXRhWydlJ10sCiAgCQkJCQkJCQkJCQkJJ2UxJyA9PiAkZ2V0RGF0YVsnZTEnXSwKICAJCQkJCQkJCQkJCQknZicgPT4gJGdldERhdGFbJ2YnXSwKICAJCQkJCQkJCQkJCQknZycgPT4gJGdldERhdGFbJ2cnXSwKICAJCQkJCQkJCQkJCQknaCcgPT4gJGdldERhdGFbJ2gnXSwKICAJCQkJCQkJCQkJCQknaScgPT4gJGdldERhdGFbJ2knXSwKICAJCQkJCQkJCQkJCQknaicgPT4gJGdldERhdGFbJ2onXSwKICAJCQkJCQkJCQkJCQknajEnID0+ICRnZXREYXRhWydqMSddLAogIAkJCQkJCQkJCQkJCSdpZF9kaXN0cmlidXNpJyA9PiAkZ2V0RGF0YVJpbmNpYW5EaXN0cmlidXNpWydpZF9kaXN0cmlidXNpJ10sCiAgCQkJCQkJCQkJCQkJJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaScgPT4gJGdldERhdGFEZXRhaWxEaXN0cmlidXNpWydpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knXSwKICAJCQkJCQkJCQkJCQknc2VtZXN0ZXInID0+IDIsCiAgCQkJCQkJCQkJCQkJJ25vbW9yJyA9PiAkZGF0YVRhbWJhaFsnbm9tb3InXSwKICAJCQkJCQkJCQkJCQknaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YVRhbWJhaFsnaWQnXQoKICAJCQkJCQkpOwogIAkJCQkJCSR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4nLCRkYXRhQ291bnREaXN0cmlidXNpKSk7CiAgCQkJCQkgfQogICAgICAgICAgICAgICAgJGRhdGFMb2NrVGFtYmFoID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFUYW1iYWhbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFUYW1iYWhbJ2lkJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkZGF0YVRhbWJhaFsnanVtbGFoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRkYXRhVGFtYmFoWydoYXJnYV9zYXR1YW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzaXNhJyA9PiAkZGF0YVRhbWJhaFsnanVtbGFoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfbG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgnbG9ja19iYXJhbmdfdGFtYmFoJywkZGF0YUxvY2tUYW1iYWgpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJGdldERhdGFLdXJhbmcgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcyJyAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSAka29uZGlzaVNhbGRvQXdhbCBvcmRlciBieSB0YW5nZ2FsX2J1a3UgYXNjIik7CiAgCQkJCQkkYXJyYXlQZXJvbGVoYW4gPSBhcnJheSgpOwogIAkJCQkJJGFycmF5SWRQZW5nZWx1YXJhbkRpc3RyaWJ1c2kgPSBhcnJheSgpOwogICAgICAgICAgICB3aGlsZSAoJGRhdGFLdXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFLdXJhbmcpKSB7CiAgICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nID0gJGRhdGFLdXJhbmdbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgJGdldERhdGFQZW5lcmltYWFuID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGxvY2tfYmFyYW5nX3RhbWJhaCB3aGVyZSBpZF9sb2NrID0gJyIuJGlkTG9jay4iJyBhbmQgc2lzYSAhPScwJyIpOwogICAgICAgICAgICAgICAgd2hpbGUgKCRkYXRhUGVuZXJpbWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVBlbmVyaW1hYW4pKSB7CiAgICAgICAgICAgICAgICAgICAgaWYoJGp1bWxhaEJhcmFuZ0t1cmFuZyAhPSAwKXsKICAJCQkJCQkJCQkJJGdldEthcnR1UGVyc2VkaWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGlkID0gJyIuJGRhdGFQZW5lcmltYWFuWydpZF90X2thcnR1X3BlcnNlZGlhYW4nXS4iJyIpKTsKICAJCQkJCQkJCQkJaWYoJGdldEthcnR1UGVyc2VkaWFhblsnam5zJ10gPT0gJzMnKXsKICAJCQkJCQkJCQkJCQlpZihpbnR2YWwoJGdldEthcnR1UGVyc2VkaWFhblsnaGFyZ2Ffc2F0dWFuJ10pID09IDApewogIAkJCQkJCQkJCQkJCQlpZigkdGhpcy0+c3FsTnVtUm93KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4gd2hlcmUgbm9tb3IgPSAnIi4kZ2V0S2FydHVQZXJzZWRpYWFuWydub21vciddLiInIGFuZCBzZW1lc3RlciA9ICcyJyBhbmQgdGFtYmFoYW5faGFyZ2EgIT0nJyIpKSAhPSAwKXsKICAJCQkJCQkJCQkJCQkJCSRnZXREYXRhQ291bnREaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4gd2hlcmUgbm9tb3IgPSAnIi4kZ2V0S2FydHVQZXJzZWRpYWFuWydub21vciddLiInIGFuZCBzZW1lc3RlciA9ICcyJyBhbmQgdGFtYmFoYW5faGFyZ2EgIT0nJyIpKTsKICAJCQkJCQkJCQkJCQkJCSRoYXJnYVNhdHVhblBlbmVyaW1hYW4gPSAkZ2V0RGF0YUNvdW50RGlzdHJpYnVzaVsndGFtYmFoYW5faGFyZ2EnXSAvICRnZXRLYXJ0dVBlcnNlZGlhYW5bJ2p1bWxhaCddOwogIAkJCQkJCQkJCQkJCQkJJGRhdGFVcGRhdGVEaXN0cmlidXNpS2FydHUgPSBhcnJheSgKICAJCQkJCQkJCQkJCQkJCQknaGFyZ2Ffc2F0dWFuJyA9PiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuLAogIAkJCQkJCQkJCQkJCQkJCSd0b3RhbCcgPT4gJGdldERhdGFDb3VudERpc3RyaWJ1c2lbJ3RhbWJhaGFuX2hhcmdhJ10sCiAgCQkJCQkJCQkJCQkJCQkpOwogIAkJCQkJCQkJCQkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxVcGRhdGUoInRfa2FydHVfcGVyc2VkaWFhbiIsJGRhdGFVcGRhdGVEaXN0cmlidXNpS2FydHUsImlkID0gJyIuJGRhdGFQZW5lcmltYWFuWydpZF90X2thcnR1X3BlcnNlZGlhYW4nXS4iJyIpKTsKICAJCQkJCQkJCQkJCQkJCSR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlIG5vbW9yPSciLiRnZXRLYXJ0dVBlcnNlZGlhYW5bJ25vbW9yJ10uIiciKTsKICAJCQkJCQkJCQkJCQkJfQogIAkJCQkJCQkJCQkJCX0KICAJCQkJCQkJCQkJfWVsc2V7CiAgCQkJCQkJCQkJCQkkaGFyZ2FTYXR1YW5QZW5lcmltYWFuID0gJGRhdGFQZW5lcmltYWFuWydoYXJnYSddOwogIAkJCQkJCQkJCQl9CiAgICAgICAgICAgICAgICAgICAgICBpZigkanVtbGFoQmFyYW5nS3VyYW5nID4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10gKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoInVwZGF0ZSBsb2NrX2JhcmFuZ190YW1iYWggc2V0IHNpc2EgPSBzaXNhIC0gIi4kZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXS4iIHdoZXJlIGlkID0gJyIuJGRhdGFQZW5lcmltYWFuWydpZCddLiInIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuW10gPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZFBlbmVyaW1hYW4nID0+ICRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJGhhcmdhU2F0dWFuUGVuZXJpbWFhbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10gKiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgJGp1bWxhaEJhcmFuZ0t1cmFuZyAtPSAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXTsKICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgidXBkYXRlIGxvY2tfYmFyYW5nX3RhbWJhaCBzZXQgc2lzYSA9IHNpc2EgLSAkanVtbGFoQmFyYW5nS3VyYW5nIHdoZXJlIGlkID0gJyIuJGRhdGFQZW5lcmltYWFuWydpZCddLiInIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuW10gPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZFBlbmVyaW1hYW4nID0+ICRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkanVtbGFoQmFyYW5nS3VyYW5nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkanVtbGFoQmFyYW5nS3VyYW5nICogJGhhcmdhU2F0dWFuUGVuZXJpbWFhbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgICRqdW1sYWhCYXJhbmdLdXJhbmcgPSAwOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRlbmNvZGluZyA9IGpzb25fZW5jb2RlKCRhcnJheVBlcm9sZWhhbik7CiAgICAgICAgICAgICAgICAkZGVjb2RpbmcgPSBqc29uX2RlY29kZSgkZW5jb2RpbmcpOwogICAgICAgICAgICAgICAgJGhhcmdhUGVyb2xlaGFuPSAwOwogICAgICAgICAgICAgICAgZm9yICgkaT0wOyAkaSA8IHNpemVvZigkZGVjb2RpbmcpIDsgJGkrKykgewogICAgICAgICAgICAgICAgICAgICRoYXJnYVBlcm9sZWhhbiArPSAkZGVjb2RpbmdbJGldLT50b3RhbDsKICAgICAgICAgICAgICAgIH0KICAJCQkJCQkJaWYoJGRhdGFLdXJhbmdbJ2pucyddID09ICI3Iil7CiAgCQkJCQkJCQkvL2h1YmxhCiAgCQkJCQkJCQkkYXJyYXlJZFBlbmdlbHVhcmFuRGlzdHJpYnVzaVtdID0gJGRhdGFLdXJhbmdbJ2lkJ107CiAgCQkJCQkJCQkkZ2V0RGF0YURldGFpbERpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGRldGFpbF9yaW5jaWFuX2Rpc3RyaWJ1c2kgd2hlcmUgIGlkID0gJyIuJGRhdGFLdXJhbmdbJ3JlZmlkJ10uIiciKSk7CiAgCQkJCQkJCQkkZ2V0RGF0YVJpbmNpYW5EaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByaW5jaWFuX2Rpc3RyaWJ1c2kgd2hlcmUgIGlkID0gJyIuJGdldERhdGFEZXRhaWxEaXN0cmlidXNpWydpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knXS4iJyIpKTsKICAJCQkJCQkJCSRkYXRhQ291bnREaXN0cmlidXNpID0gYXJyYXkoCiAgCQkJCQkJCQkJCQkJCQknaWRfbG9ja19iYXJhbmcnID0+ICRpZExvY2ssCiAgCQkJCQkJCQkJCQkJCQknYzEnID0+ICRnZXREYXRhWydjMSddLAogIAkJCQkJCQkJCQkJCQkJJ2MnID0+ICRnZXREYXRhWydjJ10sCiAgCQkJCQkJCQkJCQkJCQknZCcgPT4gJGdldERhdGFbJ2QnXSwKICAJCQkJCQkJCQkJCQkJCSdlJyA9PiAkZ2V0RGF0YVsnZSddLAogIAkJCQkJCQkJCQkJCQkJJ2UxJyA9PiAkZ2V0RGF0YVsnZTEnXSwKICAJCQkJCQkJCQkJCQkJCSdmJyA9PiAkZ2V0RGF0YVsnZiddLAogIAkJCQkJCQkJCQkJCQkJJ2cnID0+ICRnZXREYXRhWydnJ10sCiAgCQkJCQkJCQkJCQkJCQknaCcgPT4gJGdldERhdGFbJ2gnXSwKICAJCQkJCQkJCQkJCQkJCSdpJyA9PiAkZ2V0RGF0YVsnaSddLAogIAkJCQkJCQkJCQkJCQkJJ2onID0+ICRnZXREYXRhWydqJ10sCiAgCQkJCQkJCQkJCQkJCQknajEnID0+ICRnZXREYXRhWydqMSddLAogIAkJCQkJCQkJCQkJCQkJJ2lkX2Rpc3RyaWJ1c2knID0+ICRnZXREYXRhUmluY2lhbkRpc3RyaWJ1c2lbJ2lkX2Rpc3RyaWJ1c2knXSwKICAJCQkJCQkJCQkJCQkJCSdpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knID0+ICRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaVsnaWRfcmluY2lhbl9kaXN0cmlidXNpJ10sCiAgCQkJCQkJCQkJCQkJCQknc2VtZXN0ZXInID0+IDIsCiAgCQkJCQkJCQkJCQkJCQknbm9tb3InID0+ICRkYXRhS3VyYW5nWydub21vciddLAogIAkJCQkJCQkJCQkJCQkJJ3RhbWJhaGFuX2hhcmdhJyA9PiAkaGFyZ2FQZXJvbGVoYW4sCiAgCQkJCQkJCQkJCQkJCQknanNvbl9hcnJheScgPT4gJGVuY29kaW5nCiAgCQkJCQkJCQkpOwogIAkJCQkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ2NvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbicsJGRhdGFDb3VudERpc3RyaWJ1c2kpKTsKICAJCQkJCQkJfQogIAkJCQkJCQkkc2V0YW4gPSAwIDsKICAJCQkJCQkJJGxvZ1NldGFuID0iIiA7CiAgCQkJCQkJCWZvciAoJHp4Yz0wOyAkenhjIDwgc2l6ZW9mKCRhcnJheVBlcm9sZWhhbik7ICR6eGMrKykgewogIAkJCQkJCQkJJHNldGFuICs9ICRhcnJheVBlcm9sZWhhblskenhjXVsndG90YWwnXTsKICAJCQkJCQkJCSRsb2dTZXRhbiAuPSIgIi4kYXJyYXlQZXJvbGVoYW5bJHp4Y11bJ3RvdGFsJ10uIiAiOwogIAkJCQkJCQl9CiAgCQkJCQkJCSRkYXRhTG9ja0t1cmFuZyA9IGFycmF5KAogIAkJCQkJCQkJCQkJCQkndGFuZ2dhbCcgPT4gJGRhdGFLdXJhbmdbJ3RhbmdnYWxfYnVrdSddLAogIAkJCQkJCQkJCQkJCQknaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YUt1cmFuZ1snaWQnXSwKICAJCQkJCQkJCQkJCQkJJ2p1bWxhaCcgPT4gJGRhdGFLdXJhbmdbJ2p1bWxhaCddLAogIAkJCQkJCQkJCQkJCQknaGFyZ2EnID0+ICRzZXRhbiwKICAJCQkJCQkJCQkJCQkJJ2lkX2xvY2snID0+ICRpZExvY2ssCiAgCQkJCQkJCQkJCQkJCSdwZXJvbGVoYW4nID0+IGpzb25fZW5jb2RlKCRhcnJheVBlcm9sZWhhbiksCiAgCQkJCQkJCQkJCQkJCS8vICdsb2cnID0+ICRsb2dTZXRhbi4iIGVuY29kZSAiLmpzb25fZW5jb2RlKCRhcnJheVBlcm9sZWhhbiksCgogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdsb2NrX2JhcmFuZ19rdXJhbmcnLCRkYXRhTG9ja0t1cmFuZykpOwogIAkJCQkJCQkkYXJyYXlQZXJvbGVoYW4gPSBhcnJheSgpOwogICAgICAgICAgICB9CgoKICAgICAgICAgICAgJGdldERhdGFIaXN0b3JpID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgICRrb25kaXNpVGFodW4gJGtvbmRpc2lQZXJpb2RlICRrb25kaXNpU2FsZG9Bd2FsIG9yZGVyIGJ5IHRhbmdnYWxfYnVrdSxqZW5pc19wZXJzZWRpYWFuIGFzYyIpOwogICAgICAgICAgICB3aGlsZSAoJGRhdGFIaXN0b3JpID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhSGlzdG9yaSkpIHsKICAgICAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnamVuaXNfcGVyc2VkaWFhbiddID09IDEpewogICAgICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICcxJyl7CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJTQUxETyBBV0FMIjsKICAgICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICcyJyl7CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2NhcmFfcGVyb2xlaGFuJ10gPT0gJzInKXsKICAgICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gUEVNQkVMSUFOIjsKICAgICAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnY2FyYV9wZXJvbGVoYW4nXSA9PSAnMycpewogICAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVORVJJTUFBTiBISUJBSCI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzQnKXsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIkNFSyBGSVNJSyBUQU1CQUgiOwogICAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzMnKXsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gRElTVFJJQlVTSSI7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgJGhhcmdhU2F0dWFuID0gJGRhdGFIaXN0b3JpWydoYXJnYV9zYXR1YW4nXTsKICAgICAgICAgICAgICAgICAgJHRvdGFsSGFyZ2EgPSAkaGFyZ2FTYXR1YW4gKiAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAkc2FsZG9CYXJhbmcgKz0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJHRvdGFsU2FsZG8gKz0gJHRvdGFsSGFyZ2E7CgogICAgICAgICAgICAgICAgICAkZ2V0SWREZXRhaWwgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGxvY2tfYmFyYW5nX3RhbWJhaCB3aGVyZSBpZF9sb2NrID0gJyRpZExvY2snIGFuZCBpZF90X2thcnR1X3BlcnNlZGlhYW4gPSAnIi4kZGF0YUhpc3RvcmlbJ2lkJ10uIiciKSk7CiAgICAgICAgICAgICAgICAgICRpZERldGFpbCA9ICRnZXRJZERldGFpbFsnaWQnXTsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzYnKXsKICAgICAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkdFTFVBUkFOIjsKICAgICAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzUnKXsKICAgICAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIkNFSyBGSVNJSyBLVVJBTkciOwogICAgICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNycpewogICAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAwOwogICAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVOR0VMVUFSQU4gRElTVFJJQlVTSSI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRoYXJnYVNhdHVhbiA9ICIiOwogICAgICAgICAgICAgICAgICAkc2FsZG9CYXJhbmcgLT0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJGdldFRvdGFsSGFyZ2EgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGxvY2tfYmFyYW5nX2t1cmFuZyB3aGVyZSBpZF9sb2NrID0gJyRpZExvY2snIGFuZCBpZF90X2thcnR1X3BlcnNlZGlhYW4gPSAnIi4kZGF0YUhpc3RvcmlbJ2lkJ10uIiciKSk7CiAgICAgICAgICAgICAgICAgICR0b3RhbEhhcmdhID0gJGdldFRvdGFsSGFyZ2FbJ2hhcmdhJ107CiAgICAgICAgICAgICAgICAgICR0b3RhbFNhbGRvIC09ICR0b3RhbEhhcmdhOwogICAgICAgICAgICAgICAgICAkaWREZXRhaWwgPSAkZ2V0VG90YWxIYXJnYVsnaWQnXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRkYXRhUmluY2lhbkxvY2sgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9sb2NrJyA9PiAkaWRMb2NrLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+ICRkYXRhSGlzdG9yaVsndGFuZ2dhbF9idWt1J10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXJhaWFuJyA9PiAkdXJhaWFuUGVyc2VkaWFhbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXN1aycgPT4gJGJhcmFuZ01hc3VrLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2tlbHVhcicgPT4gJGJhcmFuZ0tlbHVhciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzYWxkb19iYXJhbmcnID0+ICRzYWxkb0JhcmFuZywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJHRvdGFsSGFyZ2EsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2FsZG8nID0+ICR0b3RhbFNhbGRvLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnID0+ICRkYXRhSGlzdG9yaVsnamVuaXNfcGVyc2VkaWFhbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFIaXN0b3JpWydpZCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX2RldGFpbCcgPT4gJGlkRGV0YWlsLAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdyaW5jaWFuX2xvY2tfYmFyYW5nJywkZGF0YVJpbmNpYW5Mb2NrKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHNldCBoYXJnYSA9ICckdG90YWxTYWxkbycsIHNhbGRvX2JhcmFuZyA9ICckc2FsZG9CYXJhbmcnIHdoZXJlIGlkID0gJyRpZExvY2snIik7CiAgICAgICAgcmV0dXJuIGFycmF5KAogICAgICAgICAgJ2lkTG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICdqdW1sYWhIYXJnYScgPT4gJHRvdGFsU2FsZG8sCiAgICAgICAgICAnc2FsZG8nID0+ICRzYWxkb0JhcmFuZywKICAJCQkJJ2FycmF5SWRQZW5nZWx1YXJhbkRpc3RyaWJ1c2knID0+ICRhcnJheUlkUGVuZ2VsdWFyYW5EaXN0cmlidXNpCiAgICAgICAgKTsKICAgIH0KICAgIGZ1bmN0aW9uIHRhbWJhaEhhcmdhRGlzdHJpYnVzaSgka29kZVNLUEQsJGZpbHRlclBlcmlvZGUpewogIAkJJGdldERhdGFDb3VudCA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4gd2hlcmUgY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSkgPSAnJGtvZGVTS1BEJyBhbmQgc2VtZXN0ZXIgPSAnJGZpbHRlclBlcmlvZGUnIGFuZCB0YW1iYWhhbl9oYXJnYT0nJyIpOwogIAkJd2hpbGUgKCRkYXRhQ291bnQgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFDb3VudCkpIHsKICAJCQkkaWRMb2NrQmFyYW5nID0gJGRhdGFDb3VudFsnaWRfbG9ja19iYXJhbmcnXTsKICAJCQkkaWRLYXJ0dVBlcnNlZGlhYW4gPSAkZGF0YUNvdW50WydpZF90X2thcnR1X3BlcnNlZGlhYW4nXTsKICAJCQlpZigkdGhpcy0+c3FsTnVtUm93KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4gd2hlcmUgbm9tb3IgPSAnIi4kZGF0YUNvdW50Wydub21vciddLiInIikpID09IDIpewogIAkJCQkkZ2V0RGF0YUhhcmdhID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4gd2hlcmUgbm9tb3IgPSAnIi4kZGF0YUNvdW50Wydub21vciddLiInIGFuZCB0YW1iYWhhbl9oYXJnYSAhPScnIikpOwogIAkJCQkkZ2V0RGF0YUthcnR1UGVyc2VkaWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGlkID0gJyIuJGlkS2FydHVQZXJzZWRpYWFuLiInIikpOwogIAkJCQkvLyBpZihpbnR2YWwoJGdldERhdGFLYXJ0dVBlcnNlZGlhYW5bJ2hhcmdhX3NhdHVhbiddKSA9PSAwKXsKICAJCQkJCSRoYXJnYVNhdHVhbiA9ICRnZXREYXRhSGFyZ2FbJ3RhbWJhaGFuX2hhcmdhJ10gLyAkZ2V0RGF0YUthcnR1UGVyc2VkaWFhblsnanVtbGFoJ10gOwogIAkJCQkJJGhhcmdhVGFtYmFoYW4gPSAgJGdldERhdGFIYXJnYVsndGFtYmFoYW5faGFyZ2EnXTsKICAJCQkJCSRkYXRhVXBkYXRlRGlzdHJpYnVzaUthcnR1ID0gYXJyYXkoCiAgCQkJCQkJJ2hhcmdhX3NhdHVhbicgPT4gJGhhcmdhU2F0dWFuLAogIAkJCQkJCSd0b3RhbCcgPT4gJGdldERhdGFIYXJnYVsndGFtYmFoYW5faGFyZ2EnXSwKICAJCQkJCSk7CiAgCQkJCQkkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbFVwZGF0ZSgidF9rYXJ0dV9wZXJzZWRpYWFuIiwkZGF0YVVwZGF0ZURpc3RyaWJ1c2lLYXJ0dSwiaWQgPSAnIi4kaWRLYXJ0dVBlcnNlZGlhYW4uIiciKSk7CiAgCQkJCQkkdGhpcy0+c3FsUXVlcnkoIlVQREFURSBsb2NrX2JhcmFuZ190YW1iYWggc2V0IGhhcmdhID0gICRoYXJnYVRhbWJhaGFuIHdoZXJlIGlkX2xvY2sgPSAnJGlkTG9ja0JhcmFuZycgYW5kIGlkX3Rfa2FydHVfcGVyc2VkaWFhbiA9ICckaWRLYXJ0dVBlcnNlZGlhYW4nIik7CiAgCQkJCQkkdGhpcy0+c3FsUXVlcnkoIlVQREFURSByaW5jaWFuX2xvY2tfYmFyYW5nIHNldCB0b3RhbCA9ICAkaGFyZ2FUYW1iYWhhbiB3aGVyZSBpZF9sb2NrID0gJyRpZExvY2tCYXJhbmcnIGFuZCBpZF90X2thcnR1X3BlcnNlZGlhYW4gPSAnJGlkS2FydHVQZXJzZWRpYWFuJyBhbmQgdHlwZSA9ICcxJyIpOwogIAkJCQkJJGdldERhdGFLdXJhbmcgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gbG9ja19iYXJhbmdfa3VyYW5nIHdoZXJlIGlkX2xvY2sgPSAnIi4kZGF0YUNvdW50WydpZF9sb2NrX2JhcmFuZyddLiInIik7CiAgCQkJCQl3aGlsZSAoJGRhdGFLdXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFLdXJhbmcpKSB7CiAgICAgICAgICAgIAkkYXJyYXlQZXJvbGVoYW4gPSBqc29uX2RlY29kZSgkZGF0YUt1cmFuZ1sncGVyb2xlaGFuJ10pOwogIAkJCQkJCSRhcnJheUZpeFBlcm9sZWhhbiA9IGFycmF5KCk7CiAgCQkJCQkJJGhhcmdhVXBkYXRlS3VyYW5nID0gMDsKICAJCQkJCQlmb3IgKCRpPTA7ICRpIDwgc2l6ZW9mKCRhcnJheVBlcm9sZWhhbikgOyAkaSsrKSB7CiAgCQkJCQkJCWlmKCRpZEthcnR1UGVyc2VkaWFhbiA9PSAkYXJyYXlQZXJvbGVoYW5bJGldLT5pZFBlbmVyaW1hYW4pewogIAkJCQkJCQkJLy8gJGNlayAuPSAkYXJyYXlQZXJvbGVoYW5bJGldLT5pZFBlbmVyaW1hYW4uICIgOiAiLiRpZEthcnR1UGVyc2VkaWFhbjsKICAJCQkJCQkJCSRoYXJnYVRhbWJhaGFuIC09ICRkYXRhS3VyYW5nWydqdW1sYWgnXSAqICRoYXJnYVNhdHVhbjsKICAJCQkJCQkJCSRoYXJnYUt1cmFuZyA9ICRkYXRhS3VyYW5nWydqdW1sYWgnXSAqICRoYXJnYVNhdHVhbjsKICAJCQkJCQkJCSRhcnJheUZpeFBlcm9sZWhhbltdID0gYXJyYXkoCiAgCQkJCQkJCQkJImlkUGVuZXJpbWFhbiIgPT4gJGFycmF5UGVyb2xlaGFuWyRpXS0+aWRQZW5lcmltYWFuLAogIAkJCQkJCQkJCSJqdW1sYWgiID0+ICRhcnJheVBlcm9sZWhhblskaV0tPmp1bWxhaCwKICAJCQkJCQkJCQkiaGFyZ2EiID0+ICRoYXJnYVNhdHVhbiwKICAJCQkJCQkJCQkidG90YWwiID0+ICRhcnJheVBlcm9sZWhhblskaV0tPmp1bWxhaCAqICRoYXJnYVNhdHVhbiAsCiAgCQkJCQkJCQkpOwogIAkJCQkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCJVUERBVEUgcmluY2lhbl9sb2NrX2JhcmFuZyBzZXQgdG90YWwgPSB0b3RhbCArICRoYXJnYUt1cmFuZywgc2FsZG8gPSBzYWxkbyAtICRoYXJnYUt1cmFuZyB3aGVyZSBpZF9kZXRhaWwgPSAnIi4kZGF0YUt1cmFuZ1snaWQnXS4iJyAiKTsKICAJCQkJCQkJCSRjZWsgLj0gIlVQREFURSByaW5jaWFuX2xvY2tfYmFyYW5nIHNldCB0b3RhbCA9IHRvdGFsICsgJGhhcmdhS3VyYW5nLCBzYWxkbyA9IHNhbGRvIC0gJGhhcmdhS3VyYW5nIHdoZXJlIGlkX2RldGFpbCA9ICciLiRkYXRhS3VyYW5nWydpZCddLiInICB8fCAiOwogIAkJCQkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCJVUERBVEUgbG9ja19iYXJhbmdfa3VyYW5nIFNFVCBoYXJnYSA9IGhhcmdhICsgJGhhcmdhS3VyYW5nICB3aGVyZSBpZCA9ICciLiRkYXRhS3VyYW5nWydpZCddLiInIik7CiAgCQkJCQkJCQkkaGFyZ2FVcGRhdGVLdXJhbmcgKz0gJGFycmF5UGVyb2xlaGFuWyRpXS0+anVtbGFoICogJGhhcmdhU2F0dWFuOwogIAkJCQkJCQl9ZWxzZXsKICAJCQkJCQkJCSRhcnJheUZpeFBlcm9sZWhhbltdID0gYXJyYXkoCiAgCQkJCQkJCQkJImlkUGVuZXJpbWFhbiIgPT4gJGFycmF5UGVyb2xlaGFuWyRpXS0+aWRQZW5lcmltYWFuLAogIAkJCQkJCQkJCSJqdW1sYWgiID0+ICRhcnJheVBlcm9sZWhhblskaV0tPmp1bWxhaCwKICAJCQkJCQkJCQkiaGFyZ2EiID0+ICRhcnJheVBlcm9sZWhhblskaV0tPmhhcmdhLAogIAkJCQkJCQkJCSJ0b3RhbCIgPT4gJGFycmF5UGVyb2xlaGFuWyRpXS0+dG90YWwsCiAgCQkJCQkJCQkpOwogIAkJCQkJCQkJJGhhcmdhVXBkYXRlS3VyYW5nICs9ICRhcnJheVBlcm9sZWhhblskaV0tPnRvdGFsOwogIAkJCQkJCQl9CiAgCQkJCQkJfQogIAkJCQkJCSR0aGlzLT5zcWxRdWVyeSgiVVBEQVRFIGxvY2tfYmFyYW5nX2t1cmFuZyBTRVQgcGVyb2xlaGFuID0gJyIuanNvbl9lbmNvZGUoJGFycmF5Rml4UGVyb2xlaGFuKS4iJywgaGFyZ2E9JyRoYXJnYVVwZGF0ZUt1cmFuZycgIHdoZXJlIGlkID0gJyIuJGRhdGFLdXJhbmdbJ2lkJ10uIiciKTsKICAJCQkJCQkkdGhpcy0+c3FsUXVlcnkoIlVQREFURSByaW5jaWFuX2xvY2tfYmFyYW5nIFNFVCB0b3RhbCA9ICciLiRoYXJnYVVwZGF0ZUt1cmFuZy4iJyAgd2hlcmUgaWRfZGV0YWlsID0gJyIuJGRhdGFLdXJhbmdbJ2lkJ10uIicgIik7CiAgCQkJCQl9CiAgCQkJCQkvLyAkdGhpcy0+c3FsUXVlcnkoIlVQREFURSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgU0VUIGhhcmdhID0gaGFyZ2EgKyAiLiRoYXJnYVRhbWJhaGFuLiIgd2hlcmUgaWQgPSAnIi4kZGF0YUNvdW50WydpZF9sb2NrX2JhcmFuZyddLiInIik7CiAgCQkJCQkkdGhpcy0+cmVDb3VudExvY2tCYXJhbmcoJGRhdGFDb3VudFsnaWRfbG9ja19iYXJhbmcnXSk7CiAgCQkJCQkkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSBub21vcj0nIi4kZGF0YUNvdW50Wydub21vciddLiInIik7CgogIAkJCQkvLyB9CiAgCQkJfQogIAkJfQogIAkJcmV0dXJuICRjZWs7CiAgCX0KICAJZnVuY3Rpb24gcmVDb3VudExvY2tCYXJhbmcoJGlkTG9ja0JhcmFuZyl7CiAgCQkkZ2V0RGF0YVJpbmNpYW5Mb2NrID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJpbmNpYW5fbG9ja19iYXJhbmcgd2hlcmUgaWRfbG9jayA9ICckaWRMb2NrQmFyYW5nJyBvcmRlciBieSBpZCIpOwogIAkJd2hpbGUgKCRkYXRhUmluY2lhbkxvY2sgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFSaW5jaWFuTG9jaykpIHsKICAJCQlmb3JlYWNoICgkZGF0YVJpbmNpYW5Mb2NrIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgCSAJCSAgJCRrZXkgPSAkdmFsdWU7CiAgCSAJICB9CiAgCQkJaWYoJHR5cGUgPT0gMSl7CiAgCQkJCSR0aGlzLT50b3RhbFNhbGRvQmFyYW5nICs9ICRtYXN1azsKICAJCQkJJHRoaXMtPnRvdGFsU2FsZG9IYXJnYUJhcmFuZyArPSAkdG90YWw7CiAgCQkJCSR0b3RhbEhhcmdhTWFzdWsgPSAkdG90YWw7CiAgCQkJfWVsc2V7CiAgCQkJCSR0aGlzLT50b3RhbFNhbGRvQmFyYW5nIC09ICRrZWx1YXI7CiAgCQkJCSR0aGlzLT50b3RhbFNhbGRvSGFyZ2FCYXJhbmcgLT0gJHRvdGFsOwogIAkJCQkkdG90YWxIYXJnYUtlbHVhciA9ICR0b3RhbDsKICAJCQl9CiAgCQkJJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgcmluY2lhbl9sb2NrX2JhcmFuZyBzZXQgc2FsZG8gPSAnJHRoaXMtPnRvdGFsU2FsZG9IYXJnYUJhcmFuZycgd2hlcmUgaWQgPSAnJGlkJyIpOwoKICAJCX0KICAJCSR0aGlzLT5zcWxRdWVyeSgidXBkYXRlIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyBzZXQgaGFyZ2EgPSckdGhpcy0+dG90YWxTYWxkb0hhcmdhQmFyYW5nJyB3aGVyZSBpZCA9ICckaWRMb2NrQmFyYW5nJyIpOwogIAl9Cgp9CgokY2xvc2luZ1BlcnNlZGlhYW4gPSBuZXcgY2xvc2luZ1BlcnNlZGlhYW5PYmooKTsKJGNsb3NpbmdQZXJzZWRpYWFuLT51c2VybmFtZSA9ICRfQ09PS0lFWydjb0lEJ107CiRkYXRhUGVuZ2F0dXJhbiA9ICRjbG9zaW5nUGVyc2VkaWFhbi0+Z2V0U2V0dGluZ1BlcnNlZGlhYW4oKTsKJGNsb3NpbmdQZXJzZWRpYWFuLT50YWh1bkFuZ2dhcmFuID0gJGRhdGFQZW5nYXR1cmFuWyd0YWh1biddOwoKCj8+Cg==",
    "size": "208192"
}