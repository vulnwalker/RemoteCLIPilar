{
    "namaFile": "js\/daftarobj.js_",
    "lastUpdate": "2017-08-31+18:20:39.62",
    "contentFile": "DQpmdW5jdGlvbiByZXBsYWNlQWxsKHN0ciwgZmluZCwgcmVwbGFjZSkgew0KCSAgcmV0dXJuIHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoZmluZCwgJ2cnKSwgcmVwbGFjZSk7DQp9DQoNCmZ1bmN0aW9uIGFqYXhFcnJvcihyZXF1ZXN0LCB0eXBlLCBlcnJvclRocm93bikNCnsNCgl2YXIgbWVzc2FnZSA9ICJQcm9zZXMgZ2FnYWwhIE1vaG9uIGRpdWxhbmcga2VtYmFsaS5cbiI7DQoJc3dpdGNoICh0eXBlKSB7DQoJCWNhc2UgJ3RpbWVvdXQnOg0KCQkJbWVzc2FnZSArPSAiVGhlIHJlcXVlc3QgdGltZWQgb3V0LiI7DQoJCQlicmVhazsNCgkJY2FzZSAnbm90bW9kaWZpZWQnOg0KCQkJbWVzc2FnZSArPSAiVGhlIHJlcXVlc3Qgd2FzIG5vdCBtb2RpZmllZCBidXQgd2FzIG5vdCByZXRyaWV2ZWQgZnJvbSB0aGUgY2FjaGUuIjsNCgkJCWJyZWFrOw0KCQljYXNlICdwYXJzZXJlcnJvcic6DQoJCQltZXNzYWdlICs9ICJYTUwvSnNvbiBmb3JtYXQgaXMgYmFkLiI7DQoJCQlicmVhazsNCgkJZGVmYXVsdDoNCgkJCW1lc3NhZ2UgKz0gIkhUVFAgRXJyb3IgKCIgKyByZXF1ZXN0LnN0YXR1cyArICIgIiArIHJlcXVlc3Quc3RhdHVzVGV4dCArICIpLiI7DQoJfQ0KCW1lc3NhZ2UgKz0gIlxuIjsNCglhbGVydChtZXNzYWdlKTsNCn0NCg0KZm9ybWF0UnVwaWFoPWZ1bmN0aW9uKG9iamVrLCBzZXBhcmF0b3IpIHsNCgkgIGEgPSBvYmplay52YWx1ZTsNCgkgIC8vYiA9IGEucmVwbGFjZSgvW15cZC8sXS9nLCIiKTsNCgkgIGIgPSBhLnJlcGxhY2UoL1teXGRdL2csIiIpOw0KCSAgYyA9ICIiOw0KCSAgcGFuamFuZyA9IGIubGVuZ3RoOw0KCSAgaiA9IDA7DQoJICBmb3IgKGkgPSBwYW5qYW5nOyBpID4gMDsgaS0tKSB7DQoJICAgIGogPSBqICsgMTsNCgkgICAgaWYgKCgoaiAlIDMpID09IDEpICYmIChqICE9IDEpKSB7DQoJICAgICAgYyA9IGIuc3Vic3RyKGktMSwxKSArIHNlcGFyYXRvciArIGM7DQoJICAgIH0gZWxzZSB7DQoJICAgICAgYyA9IGIuc3Vic3RyKGktMSwxKSArIGM7DQoJICAgIH0NCgkgIH0NCgkgIG9iamVrLnZhbHVlID0gYzsNCiAgIH0NCg0KZm9ybWF0TnVtYmVyID0gZnVuY3Rpb24obnVtLGMsIGQsIHQpew0KdmFyIG4gPSBudW0sIA0KICAgIGMgPSBpc05hTihjID0gTWF0aC5hYnMoYykpID8gMiA6IGMsIA0KICAgIGQgPSBkID09IHVuZGVmaW5lZCA\/ICIuIiA6IGQsIA0KICAgIHQgPSB0ID09IHVuZGVmaW5lZCA\/ICIsIiA6IHQsIA0KICAgIHMgPSBuIDwgMCA\/ICItIiA6ICIiLCANCiAgICBpID0gcGFyc2VJbnQobiA9IE1hdGguYWJzKCtuIHx8IDApLnRvRml4ZWQoYykpICsgIiIsIA0KICAgIGogPSAoaiA9IGkubGVuZ3RoKSA+IDMgPyBqICUgMyA6IDA7DQogICByZXR1cm4gcyArIChqID8gaS5zdWJzdHIoMCwgaikgKyB0IDogIiIpICsgaS5zdWJzdHIoaikucmVwbGFjZSgvKFxkezN9KSg\/PVxkKS9nLCAiJDEiICsgdCkgKyAoYyA\/IGQgKyBNYXRoLmFicyhuIC0gaSkudG9GaXhlZChjKS5zbGljZSgyKSA6ICIiKTsNCiB9Ow0KDQoNCnZhciBEYWZ0YXJPYmogPSBmdW5jdGlvbiggDQoJCXVybF8sIGZvcm1OYW1lXywgY250ZGFmdGFyXywgY250c3VtXywgY250aGFsXywgZWxDdXJyUGFnZV8sDQoJCUFmdGVySGFwdXNfLCBlbEptbENla18pDQp7DQoJdGhpcy5lbEN1cnJQYWdlID0gZWxDdXJyUGFnZV87Ly8nSGFsRGVmYXVsdCcNCgl0aGlzLmZvcm1OYW1lID0gZm9ybU5hbWVfOyAvLydhZG1pbkZvcm0nDQoJdGhpcy51cmwgPSB1cmxfOyAvLydpbmRleC5waHA\/T3A9JytLb2RlSSsnJlBnPTInLA0KCXRoaXMubG9hZF9xdWUgPSB7IGlkcHJzOiAwLCBkYWZ0YXJQcm9zZXM6IG5ldyBBcnJheSgnbGlzdCcsJ3N1bWhhbCcpfTsNCgl0aGlzLmNudGRhZnRhciA9IGNudGRhZnRhcl87IC8vJ2NudEhpdHVuZ0RhZnRhcicNCgl0aGlzLmNudHN1bSA9IGNudHN1bV87DQoJdGhpcy5jbnRoYWwgPSBjbnRoYWxfOw0KCXRoaXMuY292ZXIgPSB0aGlzLmZvcm1OYW1lKydfY292ZXInOw0KCXRoaXMuZWxKbWxDZWsgPSBlbEptbENla187DQoJdGhpcy5BZnRlckhhcHVzID0gCQkNCgkJImRlbEVsZW0oJyIrdGhpcy5jb3ZlcisiJyk7IisNCgkJImRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOyAiKw0KCQkiaWYocmVzcC5FcnJNc2c9PScnKXsiKw0KCQkJQWZ0ZXJIYXB1c18rDQoJCSJ9ZWxzZXsiKw0KCQkJImFsZXJ0KHJlc3AuRXJyTXNnKTsiKw0KCQkifSI7DQoJDQoJdGhpcy5HZXRDYnhDaGVja2VkPWZ1bmN0aW9uKCl7DQoJCXZhciBqbWxkYXRhPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggdGhpcy5lbEptbERhdGFUYW1waWwgKS52YWx1ZTsNCgkJZm9yKHZhciBpPTA7IGkgPCBqbWxkYXRhOyBpKyspew0KCQkJdmFyIGJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCB0aGlzLmVsQ2hlY2tCb3ggKyBpKTsNCgkJCWlmKCBib3guY2hlY2tlZCl7IA0KCQkJCWJyZWFrOw0KCQkJfQ0KCQl9DQoJCXJldHVybiBib3g7CQkJDQoJfQ0KCXRoaXMuT25TdWNjZXNzID0gZnVuY3Rpb24oKSB7DQoJCXZhciByZXNwID0gZXZhbCgnKCcgKyB0aGlzLkdldFJlc3BvbnNlVGV4dCgpICsgJyknKTsgDQoJCWlmIChyZXNwLkVyck1zZyA9PScnKXsNCgkJCXN3aXRjaCAocmVzcC5kYWZ0YXJQcm9zZXNbcmVzcC5pZHByc10pewkJCQkJCQkJCQ0KCQkJY2FzZSAnbGlzdCc6IA0KCQkJCWlmIChyZXNwLmNvbnRlbnQubGlzdCAhPSAnJyl7DQoJCQkJCS8vZGVsRWxlbSh0aGlzLmNvdmVyKTsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jbnRkYWZ0YXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5saXN0OyANCgkJCQl9CQkJCQkJDQoJCQlicmVhazsJCQkJDQoJCQljYXNlICdzdW1oYWwnOgkJCQ0KCQkJCWlmIChyZXNwLmNvbnRlbnQuc3VtICE9IG51bGwgJiYgdGhpcy5jbnRzdW0gIT0gJycpewkJDQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY250c3VtKS5pbm5lckhUTUw9IHJlc3AuY29udGVudC5zdW07DQoJCQkJfQ0KCQkJCWlmIChyZXNwLmNvbnRlbnQuaGFsICE9IG51bGwgJiYgdGhpcy5jbnRoYWwgIT0gJycpewkJDQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY250aGFsKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQuaGFsOw0KCQkJCX0JCQkJCQkNCgkJCWJyZWFrOwkJCQkJCQkJDQoJCQl9CQ0KCQkJaWYoIXJlc3Auc3RvcCkgeyAgcmVzcC5zdG9wID0gZmFsc2U7IH0NCgkJCWlmKCFyZXNwLm5leHQpIHsNCgkJCQlyZXNwLmlkcHJzKys7IC8vYXV0byBuZXh0IHByb3NlcyBqaWthIG5leHQga29zb25nDQoJCQl9ZWxzZXsNCgkJCQlyZXNwLmlkcHJzID0gcmVzcC5uZXh0IDsgLy9uZXh0IHByb3NlcyBkaXRlbnR1a2FuDQoJCQl9DQoJCQlpZiAocmVzcC5FcnJNc2cgPT0nJyAmJiAhcmVzcC5zdG9wKXsgLy9pZiBlcm9yIG5leHQgcHJvc2VzIGRpIGhlbnRpa2FuCQkJCQ0KCQkJCS8vbmV4dCAtLS0JDQoJCQkJLy9yZXNwLmlkcHJzKys7CQkJDQoJCQkJaWYgKHJlc3AuaWRwcnMgPCByZXNwLmRhZnRhclByb3Nlcy5sZW5ndGgpewkNCgkJCQkJdGhpcy5zZW5kUmVxKCB7CWlkcHJzOiByZXNwLmlkcHJzLAlkYWZ0YXJQcm9zZXM6IHJlc3AuZGFmdGFyUHJvc2VzIH0gKTsJDQoJCQkJfQ0KCQkJCQ0KCQkJfQkJCQkJCQ0KCQl9ZWxzZXsNCgkJCWFsZXJ0KHJlc3AuRXJyTXNnKTsNCgkJfQ0KCQkJDQoJfQ0KCS8vdGhpcy5zZW5kUmVxID0gZnVuY3Rpb24odXJsXyxqc29ub2JqLGZvcm0pew0KCXRoaXMuc2VuZFJlcSA9IGZ1bmN0aW9uKGpzb25vYmopew0KCQlpZiAoanNvbm9iai5kYWZ0YXJQcm9zZXNbanNvbm9iai5pZHByc109PSdsaXN0Jyl7DQoJCQl2YXIgcmVuZGVyVG8gPSB0aGlzLmNudGRhZnRhcjsNCgkJfWVsc2V7DQoJCQl2YXIgcmVuZGVyVG8gPSB0aGlzLmNudGhhbDsNCgkJfQ0KCQlpZiAocmVuZGVyVG8gIT0gbnVsbCkNCgkJCWFkZENvdmVyUGFnZTIoDQoJCQkJCXRoaXMuY292ZXIsDQoJCQkJCTEsIA0KCQkJCQl0cnVlLCANCgkJCQkJdHJ1ZSwNCgkJCQkJe3JlbmRlclRvOiByZW5kZXJUbywNCgkJCQkJaW1nc3JjOiAnaW1hZ2VzL3dhaXQuZ2lmJywNCgkJCQkJc3R5bGU6IHtwb3NpdGlvbjonYWJzb2x1dGUnLCB0b3A6JzUnLCBsZWZ0Oic1J30NCgkJCQkJfQ0KCQkJCSk7DQoJCQ0KCQl2YXIgb3B0c3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoIGpzb25vYmogKTsgDQoJCWlmICh0aGlzLnVybCA9PSAnJyl7DQoJCQl2YXIgdXJsID0gdGhpcy51cmwrJz9vcHQ9JytvcHRzdHJpbmcrJyZhang9MSc7IAkNCgkJfWVsc2V7DQoJCQl2YXIgdXJsID0gdGhpcy51cmwrJyZvcHQ9JytvcHRzdHJpbmcrJyZhang9MSc7IA0KCQl9CQkNCgkJdGhpcy5Jbml0aWFsaXplUmVxdWVzdCgnUE9TVCcsIHVybCk7IA0KCQl2YXIgUGFyYW1zID0gdGhpcy5mb3JtICE9ICcnID8gY3JlYXRlUGFyYW1CeUZvcm0odGhpcy5mb3JtTmFtZSkgOiAnbnVsbCc7Ly9hbGVydChQYXJhbXMpOw0KCQl0aGlzLkNvbW1pdChQYXJhbXMpOw0KCX0NCgl0aGlzLmxvYWRpbmc9ZnVuY3Rpb24oKXsNCgkJLy92YXIgS29kZUkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm1PcCcpLnZhbHVlOw0KCQl0aGlzLnNlbmRSZXEoDQoJCQkvL3RoaXMudXJsLCAvLydpbmRleC5waHA\/T3A9JytLb2RlSSsnJlBnPTInLA0KCQkgCXRoaXMubG9hZF9xdWUvL3sgaWRwcnM6IDAsIGRhZnRhclByb3NlczogbmV3IEFycmF5KCdsaXN0Jywnc3VtaGFsJyl9LA0KCQkJLy90aGlzLmZvcm1OYW1lDQoJCSk7DQoJfQkNCgl0aGlzLnJlZnJlc2hMaXN0ID0gZnVuY3Rpb24oIHJlc2V0UGFnZU5vKXsNCgkJaWYgKHJlc2V0UGFnZU5vKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVsQ3VyclBhZ2UpLnZhbHVlPTE7DQoJCXRoaXMubG9hZGluZygpOwkJDQoJfQkNCgl0aGlzLmdvdG9IYWxhbWFuPSBmdW5jdGlvbihub3RoaW5nLCBIYWwpew0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVsQ3VyclBhZ2UpLnZhbHVlID0gSGFsOw0KCQl0aGlzLmxvYWRpbmcoKTsNCgl9DQoJdGhpcy5oYXB1cz1mdW5jdGlvbigpew0KCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVsSm1sQ2VrKSl7DQoJCQl2YXIgam1sY2VrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbEptbENlaykudmFsdWUgOwkNCgkJfWVsc2V7DQoJCQl2YXIgam1sY2VrID0gJyc7DQoJCX0NCgkJDQoJCWlmKGptbGNlayA9PTApew0KCQkJYWxlcnQoJ0RhdGEgQmVsdW0gRGlwaWxpaCEnKTsNCgkJfWVsc2V7DQoJCQlpZihjb25maXJtKCdIYXB1cyAnK2ptbGNlaysnIERhdGEgPycpKXsNCgkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOyANCgkJCQlhZGRDb3ZlclBhZ2UyKHRoaXMuY292ZXIsMSx0cnVlLGZhbHNlKTsNCgkJCQlBanhQb3N0MigNCgkJCQkJdGhpcy51cmwrJyZhang9MSZpZHBycz1oYXB1cycsDQoJCQkJCXRoaXMuZm9ybU5hbWUsCQkJDQoJCQkJCXRoaXMuQWZ0ZXJIYXB1cywvLycnLA0KCQkJCQl0cnVlLA0KCQkJCQlmYWxzZSwNCgkJCQkJJ1BpbmRhaHRhbmdhbl9oYXB1cycJCQkJDQoJCQkJKTsNCgkJCX0JDQoJCX0NCgkJDQoJfQ0KCXRoaXMuY2V0YWtIYWw9IGZ1bmN0aW9uKCl7CQkNCgkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7CQkNCgkJYUZvcm0uYWN0aW9uPSB0aGlzLnVybCsnJmlkcHJzPWNldGFrX2hhbCc7Ly8nP09wPScrb3ArJyZQZz0yJmlkcHJzPWNldGFrX2hhbCc7CQkNCgkJYUZvcm0udGFyZ2V0PSdfYmxhbmsnOw0KCQlhRm9ybS5zdWJtaXQoKTsJDQoJCWFGb3JtLnRhcmdldD0nJzsNCgl9DQoJdGhpcy5jZXRha0FsbD0gZnVuY3Rpb24oKXsNCgkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7CQkNCgkJYUZvcm0uYWN0aW9uPXRoaXMudXJsKycmaWRwcnM9Y2V0YWtfYWxsJzsNCgkJYUZvcm0udGFyZ2V0PSdfYmxhbmsnOw0KCQlhRm9ybS5zdWJtaXQoKTsJDQoJCWFGb3JtLnRhcmdldD0nJzsNCgl9DQp9DQpEYWZ0YXJPYmoucHJvdG90eXBlID0gbmV3IGFqYXgoKTsNCg0KDQoNCg0KRGFmdGFyT2JqMiA9IGZ1bmN0aW9uKHBhcmFtc18pew0KCXRoaXMucGFyYW1zPXBhcmFtc187DQoJLypkYWZ0YXIgcGFyYW1zIGRlZmF1bHQgKi8NCgkvL3RoaXMuZWxDdXJyUGFnZSA9ICdIYWxEZWZhdWx0JzsNCgl0aGlzLnByZWZpeCA9ICdkYWZ0YXInOy8vICdwYmJfcGVuZXRhcGFuX2RhZnRhcic7DQoJdGhpcy51cmwgPSAnaW5kZXgucGhwP09wPTkmUGc9c3BwdCc7DQoJdGhpcy5mb3JtTmFtZSA9ICdhZG1pbkZvcm0nOw0KCXRoaXMuZmlsdGVyQ2J4Q2hlY2tlZCA9IGZhbHNlOw0KCXRoaXMuZGFmdGFyUGlsaWg9IG5ldyBBcnJheSgpOwkNCgl0aGlzLndpdGhQaWxpaCA9IGZhbHNlOw0KCXRoaXMuam1sUGVySGFsID0gMjU7DQoJdGhpcy5yb3dJRCA9IDA7DQoJdGhpcy50YW1waWxGaWx0ZXJDb2xhcHNlID0gMDsgDQoJdGhpcy50YW1waWxGaWx0ZXJDb2xhcHNlTWluID0gMzc7DQoJdGhpcy5yb3dIZWFkID0gMTsNCgkNCgkvL3JvdyBvbiBjbGljayAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJdGhpcy5yb3dPbkNsaWNrRWZlayA9IGZ1bmN0aW9uKHRoKXsNCgkJdmFyIHRhYmVsSUQgPSB0aGlzLnByZWZpeCsnX3RhYmxlJzsNCgkNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFiZWxJRCkucm93c1t0aGlzLnJvd0lEK3RoaXMucm93SGVhZC0xXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ICcnOw0KCQl0aGlzLnJvd0lEID0gdGguZ2V0QXR0cmlidXRlKCdpZCcpOw0KCQl0aGlzLnJvd0lEKys7DQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYmVsSUQpLnJvd3NbdGhpcy5yb3dJRCt0aGlzLnJvd0hlYWQtMV0uc3R5bGUuYmFja2dyb3VuZENvbG9yPSAnI0NDQ0NDQyc7Ly8ncmdiKDAsIDI1NSwgMzEpJzsNCgkJDQoJfQ0KCXRoaXMucm93T25DbGljayA9IGZ1bmN0aW9uKHRoKXsNCgkJLy9hbGVydCgndGVzcm93Y2xpY2snKTsNCgkJLy92YXIgdmFsID0gdGguZ2V0QXR0cmlidXRlKCd2YWx1ZScpOyBhbGVydCh2YWwpOw0KCX0JDQoJDQoJdGhpcy5yb3dPbkRibENsaWNrID0gZnVuY3Rpb24odGgpew0KCQkNCgl9DQoJLy9tdWx0aSBzZWxlY3QgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJdGhpcy5jYnhGaWx0ZXJLbGlrID0gZnVuY3Rpb24odGgpewkJDQoJCXRoaXMuZmlsdGVyQ2J4Q2hlY2tlZCA9IHRoLmNoZWNrZWQ7DQoJCXRoaXMucmVmcmVzaExpc3QodHJ1ZSk7DQoJfQ0KCXRoaXMuY2J4UGlsaWggPSBmdW5jdGlvbih0aCl7DQoJCWlmKHRoaXMud2l0aFBpbGloKXsNCgkJCWlmKHRoLmNoZWNrZWQpCXsJCQkJDQoJCQkJdGhpcy5kYWZ0YXJQaWxpaFt0aGlzLmRhZnRhclBpbGloLnB1c2goKV09dGgudmFsdWUJCQkJDQoJCQl9ZWxzZQl7DQoJCQkJdmFyIGlkeD10aGlzLmRhZnRhclBpbGloLmluZGV4T2YodGgudmFsdWUpCQkJCQ0KCQkJCXRoaXMuZGFmdGFyUGlsaWguc3BsaWNlKGlkeCwxKQ0KCQkJfQkJCQ0KCQkJdGhpcy5zZXRDb29raWUodGhpcy5wcmVmaXgrIl9EYWZ0YXJQaWxpaCIsdGhpcy5kYWZ0YXJQaWxpaC5qb2luKCkpIC8vc2V0Y29va2llDQoJCQkNCgkJIAl2YXIgam1scGlsaWggPSB0aGlzLmRhZnRhclBpbGloLmxlbmd0aDsJIC8vYWxlcnQoam1scGlsaWgpOw0KCQkgCWlmKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsnX3BpbGloYW5fbXNnJykgKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsnX3BpbGloYW5fbXNnJykuaW5uZXJIVE1MID0gdGhpcy50YW1waWxQaWxpaEZpbHRlcigpOw0KCQkgfQ0KCX0NCgl0aGlzLmNoZWNrQWxsID0gZnVuY3Rpb24oUGFnZVBlckhhbCxpZGNiLGlkdG9nZ2xlLGptbGNlaykgeyANCgkJaWYodGhpcy53aXRoUGlsaWgpew0KCQkJLy9hbGVydCgyKTsNCgkJCXZhciB0b2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZHRvZ2dsZSkNCgkJCWZvcih2YXIgaT0wO2k8UGFnZVBlckhhbDtpKyspew0KCQkJCXZhciBjYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkY2IraS50b1N0cmluZygpKTsNCgkJCQlpZihjYikgLy9qaWthIGNiIGFkYQ0KCQkJCXsNCgkJCQkJaWYodG9nZ2xlLmNoZWNrZWQpDQoJCQkJCXsNCgkJCQkJCWNvbnNvbGUubG9nKGkudG9TdHJpbmcoKSsgIiAiK2NiLnZhbHVlKQ0KCQkJCQkJCQkJCQkNCgkJCQkJCWlmKHRoaXMuZGFmdGFyUGlsaWguaW5kZXhPZihjYi52YWx1ZSk8MCkNCgkJCQkJCXsNCgkJCQkJCQl0aGlzLmRhZnRhclBpbGloW3RoaXMuZGFmdGFyUGlsaWgucHVzaCgpXT1jYi52YWx1ZQ0KCQkJCQkJfQ0KCQkJCQkJDQoJCQkJCX0NCgkJCQkJZWxzZQ0KCQkJCQl7DQoJCQkJCQl2YXIgaWR4PXRoaXMuZGFmdGFyUGlsaWguaW5kZXhPZihjYi52YWx1ZSkNCgkJCQkNCgkJCQkJCXRoaXMuZGFmdGFyUGlsaWguc3BsaWNlKGlkeCwxKQ0KCQkJCQl9DQoJCQkJCQ0KCQkJCX0NCgkJCQkNCgkJCX0NCgkJCQ0KCQkJLy9hbGVydCh0aGlzLmRhZnRhclBpbGloLmpvaW4oKSkNCgkJCXRoaXMuc2V0Q29va2llKHRoaXMucHJlZml4KyJfRGFmdGFyUGlsaWgiLHRoaXMuZGFmdGFyUGlsaWguam9pbigpKSAvL3NldGNvb2tpZQ0KCQkJdmFyIGptbHBpbGloID0gdGhpcy5kYWZ0YXJQaWxpaC5sZW5ndGg7CSAvL2FsZXJ0KGptbHBpbGloKTsNCgkJIAlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsnX3BpbGloYW5fbXNnJykuaW5uZXJIVE1MID0gdGhpcy50YW1waWxQaWxpaEZpbHRlcigpOw0KCQkJCS8vJ1RlcnBpbGloOiAnK2ptbHBpbGloLnRvU3RyaW5nKCk7CQ0KCQkNCgkJfQ0KCX0JIA0KCXRoaXMudGFtcGlsUGlsaWhGaWx0ZXIgPSBmdW5jdGlvbigpew0KCQl2YXIgam1scGlsaWggPSB0aGlzLmRhZnRhclBpbGloLmxlbmd0aDsJLy8gYWxlcnQoam1scGlsaWgpOw0KCQl2YXIgY2hlY2tlZCA9ICcnOw0KCQlpZiggdGhpcy5maWx0ZXJDYnhDaGVja2VkICkgY2hlY2tlZCA9ICJjaGVja2VkPSd0cnVlJyI7DQoJCQ0KCQl2YXIgc3RyPSANCgkJCSI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0O3BhZGRpbmc6Mic+VGVycGlsaWg6IDwvZGl2PjxkaXYgaWQ9JyIrdGhpcy5wcmVmaXgrIl9tc19qbWxwaWxpaCcgbmFtZT0nIit0aGlzLnByZWZpeCsiX21zX2ptbHBpbGloJyBzdHlsZT0nZmxvYXQ6bGVmdDtwYWRkaW5nOjInPiIram1scGlsaWgudG9TdHJpbmcoKSsiPC9kaXY+IisNCgkJCSI8ZGl2IHN0eWxlPSdmbG9hdDpsZWZ0Jz48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSciK3RoaXMucHJlZml4KyJfY2J4cGlsaWhmaWx0ZXInIG5hbWU9JyIrdGhpcy5wcmVmaXgrIl9jYnhwaWxpaGZpbHRlcicgdmFsdWU9JzEnICIrY2hlY2tlZCsiIG9uY2xpY2s9JyIrdGhpcy5wcmVmaXgrIi5jYnhGaWx0ZXJLbGlrKHRoaXMpJz48L2Rpdj4iOw0KCQlyZXR1cm4gc3RyOw0KCX0NCgl0aGlzLnJlc2V0UGlsaWggPSBmdW5jdGlvbigpew0KCQkJdGhpcy5kYWZ0YXJQaWxpaD1bXTsgLy9rb3NvbmdrYW4gQXJyYXkNCgkJCS8vZGVsZXRlIGNvb2tpZQ0KCQkJdGhpcy5zZXRDb29raWUodGhpcy5wcmVmaXgrJ19EYWZ0YXJQaWxpaCcsJycpIC8vYW1iaWwgY29va2llcwkNCgkJCXRoaXMuZmlsdGVyQ2J4Q2hlY2tlZD0gZmFsc2U7DQoJfQ0KCXRoaXMuY2JUYW1waWwgPSBmdW5jdGlvbigpeyAvL2Z1bmdzaSB1bnR1ayBkaXBhbmdnaWwgZGkgZGFmdGFyUmVuZGVyKCkgdW50dWsgQ29va2llDQoJCQ0KCQkvL2lmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtY2FyaWJpJykpew0KCQlpZih0aGlzLndpdGhQaWxpaCl7DQoJCQl2YXIgZ2V0Q29vayA9IHRoaXMuZ2V0Q29va2llKHRoaXMucHJlZml4KydfRGFmdGFyUGlsaWgnKSAvL2FtYmlsIGNvb2tpZXMNCgkJCQ0KCQkJaWYoZ2V0Q29vaykvL2ppa2EgYWRhIG5pbGFpDQoJCQl7CQ0KCQkJCXZhciBqbVBlckhhbCA9IHRoaXMuam1sUGVySGFsOy8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqbVBlckhhbCcpLnZhbHVlOw0KCQkJICAgIC8vbWVydWJhaCBzdHJpbmcga2UgYXJyYXkNCgkJCQl0aGlzLmRhZnRhclBpbGloPWdldENvb2suc3BsaXQoJywnKQ0KCQkJCQ0KCQkJCS8vcGVuZ2VjZWthbiBqdW1sYWggY2hlY2tib3gNCgkJCQkgZm9yKHZhciBpPTA7aTxqbVBlckhhbDtpKyspDQoJCQkJew0KCQkJCQkgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19jYicraS50b1N0cmluZygpKSkNCgkJCQkJIHsNCgkJCQkJCXZhciBjYnggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsnX2NiJytpLnRvU3RyaW5nKCkpOyAvL2FtYmlsIHZhbHVlIGNoZWNrYm94DQoJCQkJCQl2YXIgdmFsID0gY2J4LnZhbHVlOw0KCQkJCQkgICAJLy9qaWthIHZhbHVlIGFkYSBkaSBkYWZ0YXINCgkJCQkJCWlmKHRoaXMuZGFmdGFyUGlsaWguaW5kZXhPZih2YWwpPj0wKSAvL3BlbmdlY2VrYW4gY2hlY2tib3gNCgkJCQkJCXsNCgkJCQkJCQljYnguY2hlY2tlZD10cnVlOw0KCQkJCQkJfQ0KCQkJCQkgfQ0KCQkJCSB9DQoJCQkgfQkNCgkJIA0KCQkgDQoJCSAJIC8vYWxlcnQoam1scGlsaWgpOw0KCQkJLy8gdmFyIGptbHBpbGloID0gdGhpcy5kYWZ0YXJQaWxpaC5sZW5ndGg7DQoJCSAJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19waWxpaGFuX21zZycpLmlubmVySFRNTCA9IHRoaXMudGFtcGlsUGlsaWhGaWx0ZXIoKTsNCgkJCQ0KCQkJCS8vJ1RlcnBpbGloOiAnK2ptbHBpbGloLnRvU3RyaW5nKCk7CQ0KCQkgfQ0KCQkgDQoJfQ0KCQ0KCXRoaXMuZ2V0Q29va2llID0gZnVuY3Rpb24oY19uYW1lKXsNCgkJdmFyIGkseCx5LEFSUmNvb2tpZXM9ZG9jdW1lbnQuY29va2llLnNwbGl0KCI7Iik7DQoJCWZvciAoaT0wO2k8QVJSY29va2llcy5sZW5ndGg7aSsrKQ0KCQkgIHsNCgkJICB4PUFSUmNvb2tpZXNbaV0uc3Vic3RyKDAsQVJSY29va2llc1tpXS5pbmRleE9mKCI9IikpOw0KCQkgIHk9QVJSY29va2llc1tpXS5zdWJzdHIoQVJSY29va2llc1tpXS5pbmRleE9mKCI9IikrMSk7DQoJCSAgeD14LnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKTsNCgkJICBpZiAoeD09Y19uYW1lKQ0KCQkgICAgew0KCQkgICAgcmV0dXJuIHVuZXNjYXBlKHkpOw0KCQkgICAgfQ0KCQkgIH0NCgl9CQ0KCXRoaXMuc2V0Q29va2llID0gZnVuY3Rpb24oY19uYW1lLHZhbHVlKXsNCgkJLy92YXIgZXhkYXRlPW5ldyBEYXRlKCk7DQoJCS8vZXhkYXRlLnNldERhdGUoZXhkYXRlLmdldERhdGUoKSArIGV4ZGF5cyk7DQoJCS8vdmFyIGNfdmFsdWU9ZXNjYXBlKHZhbHVlKSArICgoZXhkYXlzPT1udWxsKSA\/ICIiIDogIjsgZXhwaXJlcz0iK2V4ZGF0ZS50b1VUQ1N0cmluZygpKTsNCgkJdmFyIGNfdmFsdWU9ZXNjYXBlKHZhbHVlKTsNCgkJZG9jdW1lbnQuY29va2llPWNfbmFtZSArICI9IiArIGNfdmFsdWU7DQoJfQkNCgkJDQoJLy90aGlzLmVsSm1sQ2VrID0gJ19qbWxjZWsnIDsNCgl0aGlzLmNldGFrSGFsPSBmdW5jdGlvbigpewkJDQoJCXZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9ybU5hbWUpOwkJDQoJCWFGb3JtLmFjdGlvbj0gdGhpcy51cmwrJyZ0aXBlPWNldGFrX2hhbCc7Ly8nP09wPScrb3ArJyZQZz0yJmlkcHJzPWNldGFrX2hhbCc7CQkNCgkJYUZvcm0udGFyZ2V0PSdfYmxhbmsnOw0KCQlhRm9ybS5zdWJtaXQoKTsJDQoJCWFGb3JtLnRhcmdldD0nJzsNCgl9DQoJdGhpcy5jZXRha0FsbD0gZnVuY3Rpb24oKXsNCgkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7CQkNCgkJYUZvcm0uYWN0aW9uPXRoaXMudXJsKycmdGlwZT1jZXRha19hbGwnOw0KCQlhRm9ybS50YXJnZXQ9J19ibGFuayc7DQoJCWFGb3JtLnN1Ym1pdCgpOwkNCgkJYUZvcm0udGFyZ2V0PScnOw0KCX0NCgkvKip0aGlzLmV4cG9ydFhscz0gZnVuY3Rpb24oKXsgDQoJCXZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9ybU5hbWUpOwkJDQoJCWFGb3JtLmFjdGlvbj10aGlzLnVybCsnJnRpcGU9ZXhwb3J0WGxzJzsNCgkJLy9hRm9ybS50YXJnZXQ9J19ibGFuayc7DQoJCWFGb3JtLnN1Ym1pdCgpOwkNCgkJYUZvcm0udGFyZ2V0PScnOw0KCX0NCgkqKi8NCgl0aGlzLmV4cG9ydFhscz0gZnVuY3Rpb24obW9kZSl7IC8vbW9kZSA9IDIgLS0+IGhhbCwgMz0gc2VtdWENCgkJaWYgKG1vZGUgPT0gbnVsbCkgbW9kZSA9IDM7DQoJCXZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9ybU5hbWUpOwkJDQoJCWFGb3JtLmFjdGlvbj10aGlzLnVybCsnJnRpcGU9ZXhwb3J0WGxzJm1vZGU9Jyttb2RlOw0KCQkvL2FGb3JtLnRhcmdldD0nX2JsYW5rJzsNCgkJYUZvcm0uc3VibWl0KCk7CQ0KCQlhRm9ybS50YXJnZXQ9Jyc7DQoJfQ0KCXRoaXMuZ290b0hhbGFtYW49IGZ1bmN0aW9uKG5vdGhpbmcsIEhhbCl7CQ0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsnX2hhbCcpLnZhbHVlID0gSGFsOw0KCQl0aGlzLmxvYWRpbmcoKTsNCgl9DQoJDQoJdGhpcy5kYWZ0YXJSZW5kZXJBZnRlciA9IGZ1bmN0aW9uKHJlc3Apew0KCQkNCgl9DQoJCQkNCgl0aGlzLmRhZnRhclJlbmRlciA9IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9dGhpczsgLy9yZW5kZXIgZGFmdGFyIA0KCQlhZGRDb3ZlclBhZ2UyKA0KCQkJJ2RhZnRhcl9jb3ZlcicsCTEsIAl0cnVlLCB0cnVlLAl7cmVuZGVyVG86IHRoaXMucHJlZml4KydfY29udF9kYWZ0YXInLA0KCQkJaW1nc3JjOiAnaW1hZ2VzL3dhaXQuZ2lmJywNCgkJCXN0eWxlOiB7cG9zaXRpb246J2Fic29sdXRlJywgdG9wOic1JywgbGVmdDonNSd9DQoJCQl9DQoJCSk7DQoJCSQuYWpheCh7DQoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPWRhZnRhcicsDQoJCSAJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwgDQoJCQkvL2NvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9SVNPLTg4NTktMSIsCQ0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl0cnl7DQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcrIGRhdGEgKyAnKScpOwkNCgkJCQl9DQoJCQkJY2F0Y2goZXJyKSB7DQoJCQkJCXZhciByZXNwID1kYXRhOy8vIEpTT04ucGFyc2UoZGF0YSk7DQoJCQkJfQ0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfZGFmdGFyJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCWlmKG1lLndpdGhQaWxpaCkgbWUuY2JUYW1waWwoKTsJDQoJCQkJbWUuZGFmdGFyUmVuZGVyQWZ0ZXIocmVzcCk7CQ0KCQkJCW1lLnN1bUhhbFJlbmRlcigpOw0KCQkJDQoJCSAgCX0sDQoJCQllcnJvcjogYWpheEVycm9yDQoJCX0pOw0KCX0NCgl0aGlzLmRhZnRhcktvc29uZ1JlbmRlciA9IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9dGhpczsgLy9yZW5kZXIgZGFmdGFyIA0KCQlhZGRDb3ZlclBhZ2UyKA0KCQkJJ2RhZnRhcl9jb3ZlcicsCTEsIAl0cnVlLCB0cnVlLAl7cmVuZGVyVG86IHRoaXMucHJlZml4KydfY29udF9kYWZ0YXInLA0KCQkJaW1nc3JjOiAnaW1hZ2VzL3dhaXQuZ2lmJywNCgkJCXN0eWxlOiB7cG9zaXRpb246J2Fic29sdXRlJywgdG9wOic1JywgbGVmdDonNSd9DQoJCQl9DQoJCSk7DQoJCSQuYWpheCh7DQoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPWRhZnRhcmtvc29uZycsDQoJCSAJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwgDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQkJCQkNCgkJCQl0cnl7DQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcrIGRhdGEgKyAnKScpOwkNCgkJCQl9DQoJCQkJY2F0Y2goZXJyKSB7DQoJCQkJCXZhciByZXNwID1kYXRhOy8vIEpTT04ucGFyc2UoZGF0YSk7DQoJCQkJfQ0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfZGFmdGFyJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCWlmKG1lLndpdGhQaWxpaCkgbWUuY2JUYW1waWwoKTsJCQkJDQoJCQkJbWUuc3VtSGFsUmVuZGVyS29zb25nKCk7DQoJCSAgCX0sDQoJCQllcnJvcjogYWpheEVycm9yDQoJCX0pOw0KCX0NCgl0aGlzLnN1bUhhbFJlbmRlcktvc29uZyA9IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9dGhpczsgLy9yZW5kZXIgc3VtaGFsDQoJCWFkZENvdmVyUGFnZTIoDQoJCQknZGFmdGFyX2NvdmVyJywJMSwgCXRydWUsIAl0cnVlLHtyZW5kZXJUbzogdGhpcy5wcmVmaXgrJ19jb250X2hhbCcsDQoJCQlpbWdzcmM6ICdpbWFnZXMvd2FpdC5naWYnLA0KCQkJc3R5bGU6IHtwb3NpdGlvbjonYWJzb2x1dGUnLCB0b3A6JzUnLCBsZWZ0Oic1J30NCgkJCX0NCgkJKTsNCgkJJC5hamF4KHsNCgkJICB1cmw6IHRoaXMudXJsKycmdGlwZT1zdW1oYWxrb3NvbmcnLA0KCQkgIHR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksIA0KCQkgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJdHJ5ew0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcrIGRhdGEgKyAnKScpOwkNCgkJCX0NCgkJCWNhdGNoKGVycikgew0KCQkJCXZhciByZXNwID1kYXRhOy8vIEpTT04ucGFyc2UoZGF0YSk7DQoJCQl9DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXgrJ19jb250X2hhbCcpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5oYWw7DQoJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWUucHJlZml4KydfY29udF9zdW0nKSl7DQoJCQkJaWYocmVzcC5jb250ZW50LnN1bXNbMF0pew0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXgrJ19jb250X3N1bScpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5zdW1zWzBdOwkJDQoJCQkJfWVsc2V7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfc3VtJykuaW5uZXJIVE1MID0gJyc7CQ0KCQkJCX0NCgkJCQkNCgkJCX0NCgkJCWZvciAodmFyIGk9MTsgaTxyZXNwLmNvbnRlbnQuc3Vtcy5sZW5ndGg7IGkrKyl7DQoJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfc3VtJytpKSkNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWUucHJlZml4KydfY29udF9zdW0nK2kpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5zdW1zW2ldOwkNCgkJCQ0KCQkJfQ0KCQkJDQoJCSAgfSwNCgkJICBlcnJvcjogYWpheEVycm9yDQoJCX0pOwkNCgl9DQoJDQoJdGhpcy5zdW1IYWxSZW5kZXJBZnRlcj1mdW5jdGlvbihyZXNwKXsNCgkJDQoJfQ0KCXRoaXMuc3VtSGFsUmVuZGVyID0gZnVuY3Rpb24oKXsNCgkJdmFyIG1lID10aGlzOyAvL3JlbmRlciBzdW1oYWwNCgkJYWRkQ292ZXJQYWdlMigNCgkJCSdkYWZ0YXJfY292ZXInLAkxLCAJdHJ1ZSwgCXRydWUse3JlbmRlclRvOiB0aGlzLnByZWZpeCsnX2NvbnRfaGFsJywNCgkJCWltZ3NyYzogJ2ltYWdlcy93YWl0LmdpZicsDQoJCQlzdHlsZToge3Bvc2l0aW9uOidhYnNvbHV0ZScsIHRvcDonNScsIGxlZnQ6JzUnfQ0KCQkJfQ0KCQkpOw0KCQkkLmFqYXgoew0KCQkgIHVybDogdGhpcy51cmwrJyZ0aXBlPXN1bWhhbCcsDQoJCSAgdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwgDQoJCSAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQl0cnl7DQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJysgZGF0YSArICcpJyk7CQ0KCQkJfQ0KCQkJY2F0Y2goZXJyKSB7DQoJCQkJdmFyIHJlc3AgPWRhdGE7Ly8gSlNPTi5wYXJzZShkYXRhKTsNCgkJCX0NCgkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfaGFsJykgKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXgrJ19jb250X2hhbCcpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5oYWw7DQoJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWUucHJlZml4KydfY29udF9zdW0nKSl7DQoJCQkJaWYocmVzcC5jb250ZW50LnN1bXNbMF0pew0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXgrJ19jb250X3N1bScpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5zdW1zWzBdOwkJDQoJCQkJfWVsc2V7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfc3VtJykuaW5uZXJIVE1MID0gJyc7CQ0KCQkJCX0NCgkJCQkNCgkJCX0NCgkJCWZvciAodmFyIGk9MTsgaTxyZXNwLmNvbnRlbnQuc3Vtcy5sZW5ndGg7IGkrKyl7DQoJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfc3VtJytpKSkNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWUucHJlZml4KydfY29udF9zdW0nK2kpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5zdW1zW2ldOwkNCgkJCQ0KCQkJfQ0KCQkJbWUuc3VtSGFsUmVuZGVyQWZ0ZXIocmVzcCk7DQoJCQkNCgkJICB9LA0KCQkgIGVycm9yOiBhamF4RXJyb3INCgkJfSk7CQ0KCX0NCgl0aGlzLmRhZnRhck9wc2lDb2xhcHNlPSBmdW5jdGlvbihoZWlnaHRtaW4pewkvL2FsZXJ0KCd0ZXNzJyk7DQoJCQ0KCQl2YXIgaWNvbl91cD0naW1hZ2VzL3R1bWJzL3VwXzIucG5nJzsNCgkJdmFyIGljb25fZG93biA9ICdpbWFnZXMvdHVtYnMvZG93bl8yLnBuZyc7DQoJCXZhciBkaXZfaWQgPSAgdGhpcy5wcmVmaXgrJ19jb250X29wc2knIDsvLydkYWZ0YXJvcHNpX2Rpdic7DQoJCXZhciBkaXZfc2xpZGUgPSAgdGhpcy5wcmVmaXgrJ19zbGlkZV9pbWcnOw0KCQkNCgkJdmFyIGRpdj0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2X2lkKTsNCgkJdmFyIGltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdl9zbGlkZSk7DQoJCXZhciBpbWdfc3JjPWltZy5nZXRBdHRyaWJ1dGUoJ3NyYycpOw0KCQkvL2lmKCBpbWdfc3JjID09J2ltYWdlcy90dW1icy9kb3duLnBuZycgKXsNCgkJaWYoIGltZ19zcmMgPT0gaWNvbl9kb3duICl7DQoJCQlpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBpY29uX3VwKTsNCgkJCWRpdi5zdHlsZS5oZWlnaHQ9Jyc7DQoJCQlkaXYuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7DQoJCX1lbHNlew0KCQkJaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgaWNvbl9kb3duKTsNCgkJCWRpdi5zdHlsZS5oZWlnaHQ9aGVpZ2h0bWluOw0KCQkJZGl2LnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nOw0KCQl9DQoJCQ0KCX0gDQoJdGhpcy50b3BCYXJSZW5kZXJBZnRlciA9IGZ1bmN0aW9uKCl7DQoJCWlmICggdGhpcy50YW1waWxGaWx0ZXJDb2xhcHNlPT0xKSB0aGlzLmRhZnRhck9wc2lDb2xhcHNlKHRoaXMudGFtcGlsRmlsdGVyQ29sYXBzZU1pbik7DQoJfQ0KCXRoaXMudG9wQmFyUmVuZGVyID0gZnVuY3Rpb24oKXsNCgkJdmFyIG1lPXRoaXM7DQoJCS8vcmVuZGVyIHN1YnRpdGxlDQoJCSQuYWpheCh7DQoJCSAgdXJsOiB0aGlzLnVybCsnJnRpcGU9c3VidGl0bGUnLA0KCQkgIHR5cGU6J1BPU1QnLCANCgkJICBkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJdHJ5ew0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcrIGRhdGEgKyAnKScpOwkNCgkJCX0NCgkJCWNhdGNoKGVycikgew0KCQkJCXZhciByZXNwID1kYXRhOy8vIEpTT04ucGFyc2UoZGF0YSk7DQoJCQl9DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXgrJ19jb250X3RpdGxlJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJbWUudG9wQmFyUmVuZGVyQWZ0ZXIoKQ0KCQkgIH0sDQoJCSAgZXJyb3I6IGFqYXhFcnJvcg0KCQl9KTsNCgl9DQoJdGhpcy5maWx0ZXJSZW5kZXJBZnRlciA9IGZ1bmN0aW9uKCl7DQoJCQ0KCX0NCgkNCgkNCgl0aGlzLmRhZnRhck9wc2lDb2xhcHNlPSBmdW5jdGlvbihoZWlnaHRtaW4pewkvL2FsZXJ0KCd0ZXNzJyk7DQoJCQ0KCQl2YXIgaWNvbl91cD0naW1hZ2VzL3R1bWJzL3VwXzIucG5nJzsNCgkJdmFyIGljb25fZG93biA9ICdpbWFnZXMvdHVtYnMvZG93bl8yLnBuZyc7DQoJCXZhciBkaXZfaWQgPSAgdGhpcy5wcmVmaXgrJ19jb250X29wc2knIDsvLydkYWZ0YXJvcHNpX2Rpdic7DQoJCXZhciBkaXZfc2xpZGUgPSAgdGhpcy5wcmVmaXgrJ19zbGlkZV9pbWcnOw0KCQkNCgkJdmFyIGRpdj0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2X2lkKTsNCgkJdmFyIGltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdl9zbGlkZSk7DQoJCXZhciBpbWdfc3JjPWltZy5nZXRBdHRyaWJ1dGUoJ3NyYycpOw0KCQkvL2lmKCBpbWdfc3JjID09J2ltYWdlcy90dW1icy9kb3duLnBuZycgKXsNCgkJaWYoIGltZ19zcmMgPT0gaWNvbl9kb3duICl7DQoJCQlpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBpY29uX3VwKTsNCgkJCWRpdi5zdHlsZS5oZWlnaHQ9Jyc7DQoJCQlkaXYuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7DQoJCX1lbHNlew0KCQkJaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgaWNvbl9kb3duKTsNCgkJCWRpdi5zdHlsZS5oZWlnaHQ9aGVpZ2h0bWluOw0KCQkJZGl2LnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nOw0KCQl9DQoJCQ0KCX0gDQoJDQoJdGhpcy5maWx0ZXJSZW5kZXIgPSBmdW5jdGlvbigpew0KCQl2YXIgbWU9dGhpczsNCgkJLy9yZW5kZXIgZmlsdGVyDQoJCSQuYWpheCh7DQoJCSAgdXJsOiB0aGlzLnVybCsnJnRpcGU9ZmlsdGVyJywNCgkJICB0eXBlOidQT1NUJywgDQoJCSAgZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCXRyeXsNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnKyBkYXRhICsgJyknKTsJDQoJCQl9DQoJCQljYXRjaChlcnIpIHsNCgkJCQl2YXIgcmVzcCA9ZGF0YTsvLyBKU09OLnBhcnNlKGRhdGEpOw0KCQkJfQ0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWUucHJlZml4KydfY29udF9vcHNpJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJbWUuZmlsdGVyUmVuZGVyQWZ0ZXIoKQ0KCQkgIH0sDQoJCSAgZXJyb3I6IGFqYXhFcnJvcg0KCQl9KTsNCgl9DQoJdGhpcy5sb2FkaW5nID0gZnVuY3Rpb24oKXsNCgkJLy9hbGVydCgnbG9hZGluZycpOw0KCQl0aGlzLnRvcEJhclJlbmRlcigpOw0KCQl0aGlzLmZpbHRlclJlbmRlcigpOw0KCQl0aGlzLmRhZnRhclJlbmRlcigpOw0KCQkvL3RoaXMuc3VtSGFsUmVuZGVyKCk7DQoJfQ0KCXRoaXMucmVmcmVzaExpc3QgPSBmdW5jdGlvbiggcmVzZXRQYWdlTm8pew0KCQlpZiAocmVzZXRQYWdlTm8gJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19oYWwnKSApIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4KydfaGFsJykudmFsdWU9MTsNCgkJdGhpcy5kYWZ0YXJSZW5kZXIoKTsNCgkJdGhpcy5maWx0ZXJSZW5kZXIoKTsNCgkJLy90aGlzLnJvd0lEPTA7DQoJCS8vdGhpcy5zdW1IYWxSZW5kZXIoKTsJCQkJCQkNCgl9DQoJdGhpcy5DbG9zZSA9IGZ1bmN0aW9uKHRpcGUpey8vYWxlcnQodGhpcy5lbENvdmVyKTsNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikpIGRlbEVsZW0oY292ZXIpOwkJCQ0KCQlpZih0aXBlPT1udWxsKXsNCgkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOwkJCQkJCQ0KCQl9DQoJCQ0KCX0NCgl0aGlzLkNla0NoZWNrYm94PWZ1bmN0aW9uKHByZWZpeCl7Ly9hbGVydCh0aGlzLmVsSm1sQ2VrKTsNCgkJdmFyIGVycm1zZyA9ICcnOwkJDQoJCS8vY29uc29sZS5sb2cocHJlZml4KTsNCgkJaWYgKHByZWZpeCA9PSBudWxsKSBwcmVmaXggPSB0aGlzLnByZWZpeDsNCgkJaWYoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCsnX2ptbGNlaycpKXsNCgkJCWlmKChlcnJtc2c9PScnKSAgJiYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCsnX2ptbGNlaycpLnZhbHVlID4xICkpewllcnJtc2c9ICdQaWxpaCBIYW55YSBTYXR1IERhdGEhJzsgfQ0KCQl9DQoJCWlmKChlcnJtc2c9PScnKSAmJiAoIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXgrJ19qbWxjZWsnKS52YWx1ZSA9PSAwKXx8KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCsnX2ptbGNlaycpLnZhbHVlID09ICcnKSAgKSl7DQoJCQllcnJtc2c9ICdEYXRhIGJlbHVtIGRpcGlsaWghJzsNCgkJfQ0KCQlyZXR1cm4gZXJybXNnOw0KCX0NCgl0aGlzLkdldENieENoZWNrZWQ9ZnVuY3Rpb24ocHJlZml4KXsNCgkJaWYgKHByZWZpeCA9PSBudWxsKSBwcmVmaXggPSB0aGlzLnByZWZpeDsNCgkJdmFyIGptbGRhdGE9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBwcmVmaXgrJ19qbWxkYXRhcGFnZScgKS52YWx1ZTsNCgkJZm9yKHZhciBpPTA7IGkgPCBqbWxkYXRhOyBpKyspew0KCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHByZWZpeCsnX2NiJyArIGkpKXsNCgkJCQl2YXIgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHByZWZpeCsnX2NiJyArIGkpOw0KCQkJCWlmKCBib3guY2hlY2tlZCl7IA0KCQkJCQlicmVhazsNCgkJCQl9CQ0KCQkJfQ0KCQl9DQoJCXJldHVybiBib3g7CQkJDQoJfQkNCgkNCgl0aGlzLkNla0NoZWNrYm94QmkgPSBmdW5jdGlvbihwcmVmaXgpey8vYWxlcnQodGhpcy5lbEptbENlayk7DQoJCXZhciBlcnJtc2cgPSAnJzsJCQ0KCQkvL2NvbnNvbGUubG9nKHByZWZpeCk7DQoJCWlmIChwcmVmaXggPT0gbnVsbCkgcHJlZml4ID0gdGhpcy5wcmVmaXg7DQoJCWlmKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94Y2hlY2tlZCcpKXsNCgkJCWlmKChlcnJtc2c9PScnKSAgJiYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3hjaGVja2VkJykudmFsdWUgPjEgKSl7CWVycm1zZz0gJ1BpbGloIEhhbnlhIFNhdHUgRGF0YSEnOyB9DQoJCX0NCgkJaWYoKGVycm1zZz09JycpICYmICggKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3hjaGVja2VkJykudmFsdWUgPT0gMCl8fChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94Y2hlY2tlZCcpLnZhbHVlID09ICcnKSAgKSl7DQoJCQllcnJtc2c9ICdEYXRhIGJlbHVtIGRpcGlsaWghJzsNCgkJfQ0KCQlyZXR1cm4gZXJybXNnOw0KCX0NCgl0aGlzLkdldENieENoZWNrZWRCaSA9IGZ1bmN0aW9uKHByZWZpeCl7DQoJCWlmIChwcmVmaXggPT0gbnVsbCkgcHJlZml4ID0gdGhpcy5wcmVmaXg7DQoJCXZhciBqbWxkYXRhPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ2ptUGVySGFsJyApLnZhbHVlOw0KCQlmb3IodmFyIGk9MDsgaSA8IGptbGRhdGE7IGkrKyl7DQoJCQl2YXIgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdjYicgKyBpKTsNCgkJCWlmKCBib3guY2hlY2tlZCl7IA0KCQkJCWJyZWFrOw0KCQkJfQ0KCQl9DQoJCXJldHVybiBib3g7CQkJDQoJfQ0KCQ0KCXRoaXMuQWZ0ZXJGb3JtQmFydSA9IGZ1bmN0aW9uKHJlc3Apew0KCQkvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub19zcHB0JykuZm9jdXMoKQkJDQoJfTsNCgl0aGlzLkFmdGVyRm9ybUVkaXQgPSBmdW5jdGlvbihyZXNwKXsNCgkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9fc3BwdCcpLmZvY3VzKCkJCQ0KCX07DQoJdGhpcy5CYXJ1ID0gZnVuY3Rpb24oKXsNCgkJdmFyIG1lID0gdGhpczsNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJICAJdXJsOiB0aGlzLnVybCsnJnRpcGU9Zm9ybUJhcnUnLA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl0cnl7DQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcrIGRhdGEgKyAnKScpOwkNCgkJCQl9DQoJCQkJY2F0Y2goZXJyKSB7DQoJCQkJCXZhciByZXNwID1kYXRhOy8vIEpTT04ucGFyc2UoZGF0YSk7DQoJCQkJfQ0KCQkJCWlmIChyZXNwLmVyciA9PScnKXsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsJCQkNCgkJCQkJbWUuQWZ0ZXJGb3JtQmFydShyZXNwKTsJDQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCX0JCQkNCgkJCQkNCgkJICAJfSwNCgkJCWVycm9yOiBhamF4RXJyb3INCgkJfSk7DQoJfQkNCgl0aGlzLkVkaXQgPSBmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQllcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7DQoJCWlmKGVycm1zZyA9PScnKXsgDQoJCQl2YXIgYm94ID0gdGhpcy5HZXRDYnhDaGVja2VkKCk7DQoJCQkNCgkJCS8vdGhpcy5TaG93ICgnZm9ybWVkaXQnLHtpZHBsaDpib3gudmFsdWV9LCBmYWxzZSwgdHJ1ZSk7CQkJDQoJCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7DQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9Zm9ybUVkaXQnLA0KCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJCXRyeXsNCgkJCQkJCXZhciByZXNwID0gZXZhbCgnKCcrIGRhdGEgKyAnKScpOwkNCgkJCQkJfQ0KCQkJCQljYXRjaChlcnIpIHsNCgkJCQkJCXZhciByZXNwID1kYXRhOy8vIEpTT04ucGFyc2UoZGF0YSk7DQoJCQkJCX0NCgkJCQkJaWYgKHJlc3AuZXJyID09JycpewkJDQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCQkJbWUuQWZ0ZXJGb3JtRWRpdChyZXNwKTsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCQl9DQoJCQkgIAl9LA0KCQkJCWVycm9yOiBhamF4RXJyb3INCgkJCX0pOw0KCQl9ZWxzZXsNCgkJCWFsZXJ0KGVycm1zZyk7DQoJCX0NCgkJDQoJfQ0KCXRoaXMuQWZ0ZXJTaW1wYW4gPSBmdW5jdGlvbigpew0KCQl0aGlzLnJlZnJlc2hMaXN0KGZhbHNlKTsNCgl9DQoJdGhpcy5TaW1wYW4gPSBmdW5jdGlvbigpew0KCQl2YXIgbWU9IHRoaXM7CQ0KCQl0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlCQ0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1zaW1wYW4nOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkvKnRoaXMuc2VuZFJlcSgNCgkJCXRoaXMudXJsLA0KCQkJeyBpZHByczogMCwgZGFmdGFyUHJvc2VzOiBuZXcgQXJyYXkoJ3NpbXBhbicpfSwNCgkJCXRoaXMuZm9ybURpYWxvZyk7Ki8NCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5wcmVmaXgrJ19mb3JtJykuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1zaW1wYW4nLA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQl0cnl7DQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcrIGRhdGEgKyAnKScpOwkNCgkJCQl9DQoJCQkJY2F0Y2goZXJyKSB7DQoJCQkJCXZhciByZXNwID1kYXRhOy8vIEpTT04ucGFyc2UoZGF0YSk7DQoJCQkJfQ0KCQkJCWRlbEVsZW0oY292ZXIpOwkJDQoJCQkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCW1lLkNsb3NlKCk7DQoJCQkJCW1lLkFmdGVyU2ltcGFuKCk7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQl9DQoJCSAgCX0sDQoJCQllcnJvcjogYWpheEVycm9yDQoJCX0pOw0KCX0JDQoJdGhpcy5BZnRlckhhcHVzID0gZnVuY3Rpb24oKXsNCgkJYWxlcnQoJ1N1a3NlcyBIYXB1cyBEYXRhJyk7DQoJCXRoaXMucmVmcmVzaExpc3QodHJ1ZSk7DQoJfQ0KCXRoaXMuSGFwdXMgPSBmdW5jdGlvbigpew0KCQl2YXIgbWUgPXRoaXM7DQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4Kydfam1sY2VrJykpew0KCQkJdmFyIGptbGNlayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4Kydfam1sY2VrJykudmFsdWUgOwkNCgkJfWVsc2V7DQoJCQl2YXIgam1sY2VrID0gJyc7DQoJCX0NCgkJDQoJCWlmKGptbGNlayA9PTApew0KCQkJYWxlcnQoJ0RhdGEgQmVsdW0gRGlwaWxpaCEnKTsNCgkJfWVsc2V7DQoJCQlpZihjb25maXJtKCdIYXB1cyAnK2ptbGNlaysnIERhdGEgPycpKXsNCgkJCQkvL2RvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2hpZGRlbic7IA0KCQkJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfaGFwdXNjb3Zlcic7DQoJCQkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOw0KCQkJCSQuYWpheCh7DQoJCQkJCXR5cGU6J1BPU1QnLCANCgkJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9aGFwdXMnLA0KCQkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQkJdHJ5ew0KCQkJCQkJCXZhciByZXNwID0gZXZhbCgnKCcrIGRhdGEgKyAnKScpOwkNCgkJCQkJCX0NCgkJCQkJCWNhdGNoKGVycikgew0KCQkJCQkJCXZhciByZXNwID1kYXRhOy8vIEpTT04ucGFyc2UoZGF0YSk7DQoJCQkJCQl9CQ0KCQkJCQkJZGVsRWxlbShjb3Zlcik7CQkNCgkJCQkJCWlmKHJlc3AuZXJyPT0nJyl7CQkJCQkJCQ0KCQkJCQkJCW1lLkFmdGVySGFwdXMoKTsJDQoJCQkJCQl9ZWxzZXsNCgkJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQl9CQkJCQkJCQ0KCQkJCQkJDQoJCQkJICAJfSwNCgkJCQkJZXJyb3I6IGFqYXhFcnJvcg0KCQkJCX0pOw0KCQkJCQ0KCQkJfQkNCgkJfQ0KCX0NCgl0aGlzLmluaXRpYWwgPSBmdW5jdGlvbigpewkNCgkJLy9jaGFuZ2UgcGFyYW0gZGVmYXVsdAkNCgkJZm9yICh2YXIgbmFtZSBpbiB0aGlzLnBhcmFtcykgew0KCQkJZXZhbCggJ2lmKHRoaXMucGFyYW1zLicrbmFtZSsnICE9IG51bGwpIHRoaXMuJytuYW1lKyc9IHRoaXMucGFyYW1zLicrbmFtZSsnOyAnKTsNCgkJfQ0KCX0NCgl0aGlzLmluaXRpYWwoKTsNCn0NCg0KDQpmdW5jdGlvbiBCYXJQYW5lbF9leHBhbmQoYmFyTmFtZSwgYmFySGVpZ2h0KXsNCgkvL3ZhciBiYXJIZWlnaHQ9MzE7DQoJdmFyIHRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJhck5hbWUpOw0KCXZhciB0YWJoZWFkPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYXJOYW1lKydfaGVhZCcpOw0KCXZhciBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYXJOYW1lKydfaWNvJyk7DQoJaWYgKHRhYi5zdHlsZS5oZWlnaHQgIT0gKGJhckhlaWdodCsxKSsncHgnKXsNCgkJdGFiLnN0eWxlLmhlaWdodCA9IChiYXJIZWlnaHQrMSkrJ3B4JzsNCgkJaW1nLnNyYyA9ICdpbWFnZXMvbWVudS9yaWdodC5wbmcnOw0KCX1lbHNlew0KCQl0YWIuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2hlaWdodCcpOw0KCQlpbWcuc3JjID0gJ2ltYWdlcy9tZW51L2Rvd24ucG5nJzsNCgl9DQp9DQoNCg==",
    "size": "25885"
}