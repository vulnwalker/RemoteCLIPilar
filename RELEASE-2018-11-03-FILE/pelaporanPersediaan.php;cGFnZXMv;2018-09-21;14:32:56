{
    "namaFile": "pages\/pelaporanPersediaan.php",
    "lastUpdate": "2018-09-21+14:32:56.42",
    "contentFile": "PD9waHAKCmNsYXNzIHBlbGFwb3JhblBlcnNlZGlhYW5PYmogIGV4dGVuZHMgY29uZmlnQ2xhc3N7Cgl2YXIgJFByZWZpeCA9ICdwZWxhcG9yYW5QZXJzZWRpYWFuJzsKCXZhciAkZWxDdXJyUGFnZT0iSGFsRGVmYXVsdCI7Cgl2YXIgJFNIT1dfQ0VLID0gVFJVRTsKCXZhciAkVGJsTmFtZSA9ICdyZWZfYmFyYW5nJzsgLy9ib251cwoJdmFyICRUYmxOYW1lX0hhcHVzID0gJ3Rfa2FydHVfcGVyc2VkaWFhbic7Cgl2YXIgJE1heEZsdXNoID0gMTA7Cgl2YXIgJFRibFN0eWxlID0gYXJyYXkoICdrb3B0YWJsZScsICdjZXRhaycsJ2NldGFrJyk7IC8vYmVyZGFzYXIgbW9kZQoJdmFyICRDb2xTdHlsZSA9IGFycmF5KCAnR2FyaXNEYWZ0YXInLCAnR2FyaXNDZXRhaycsJ0dhcmlzQ2V0YWsnKTsKCXZhciAkS2V5RmllbGRzID0gYXJyYXkoJ2YnLCdnJywnaCcsJ2knLCdqJywnajEnKTsKCXZhciAkRmllbGRTdW0gPSBhcnJheSgpOy8vYXJyYXkoJ2ptbF9oYXJnYScpOwoJdmFyICRTdW1WYWx1ZSA9IGFycmF5KCk7Cgl2YXIgJEZpZWxkU3VtX0NwMSA9IGFycmF5KCAxNCwgMTMsIDEzKTsvL2JlcmRhc2FyIG1vZGUKCXZhciAkRmllbGRTdW1fQ3AyID0gYXJyYXkoIDEsIDEsIDEpOwoJdmFyICRjaGVja2JveF9yb3dzcGFuID0gMjsKCXZhciAkUGFnZVRpdGxlID0gJ1BFTEFQT1JBTiBQRVJTRURJQUFOIEJBUkFORyc7Cgl2YXIgJFBhZ2VJY29uID0gJ2ltYWdlcy9tYXN0ZXJEYXRhXzAxLmdpZic7Cgl2YXIgJHBhZ2VQZXJIYWwgPScnOwoJLy92YXIgJGNldGFrX3hscz1UUlVFIDsKCXZhciAkZmlsZU5hbWVFeGNlbD0ncGVsYXBvcmFuUGVyc2VkaWFhbi54bHMnOwoJdmFyICRuYW1hTW9kdWxDZXRhaz0nUEVMQVBPUkFOIFBFUlNFRElBQU4gQkFSQU5HJzsKCXZhciAkQ2V0YWtfSnVkdWwgPSAnUEVMQVBPUkFOIFBFUlNFRElBQU4gQkFSQU5HJzsKCXZhciAkQ2V0YWtfTW9kZT0yOwoJdmFyICRDZXRha19XSURUSCA9ICczMGNtJzsKCXZhciAkQ2V0YWtfT3RoZXJIVE1MSGVhZDsKCXZhciAkRm9ybU5hbWUgPSAncGVsYXBvcmFuUGVyc2VkaWFhbkZvcm0nOwoJdmFyICRtb2R1bCA9ICJQRUxBUE9SQU4gUEVSU0VESUFBTiBCQVJBTkciOwoJdmFyICRqZW5pc0Zvcm0gPSAiIjsKCXZhciAkdGFodW4gPSAiIjsKCXZhciAkbm9tb3JVcnV0ID0gMTsKCXZhciAkamVuaXNBbmdnYXJhbiA9ICIiOwoJdmFyICRpZFRhaGFwID0gIiI7Cgl2YXIgJGN1cnJlbnRUYWhhcCA9ICIiOwoJdmFyICRuYW1hVGFoYXBUZXJha2hpciA9ICIiOwoJdmFyICRtYXNhVGVyYWtoaXIgPSAiIjsKCS8vYnVhdHZpZXcKCXZhciAkdXJ1dFRlcmFraGlyID0gIiI7Cgl2YXIgJHVydXRTZWJlbHVtbnlhID0gIiI7Cgl2YXIgJGplbmlzRm9ybVRlcmFraGlyID0gIiI7CgoJdmFyICR1c2VybmFtZSA9ICIiOwoJdmFyICR3YWppYlZhbGlkYXNpID0gIiI7CgoJdmFyICRzcWxWYWxpZGFzaSA9ICIiOwoJLy9idWF0dmlldwoJdmFyICRUYW1waWxGaWx0ZXJDb2xhcHNlID0gMDsgLy8wCgoJdmFyICRwcm92aW5zaSA9ICIiOwoJdmFyICRrb3RhID0gIiI7Cgl2YXIgJHBlbmdlbG9sYUJhcmFuZyA9ICIiOwoJdmFyICRwZWphYmF0UGVuZ2Vsb2xhQmFyYW5nID0gIiI7Cgl2YXIgJHBlbmd1cnVzUGVuZ2Vsb2xhQmFyYW5nID0gIiI7Cgl2YXIgJG5pcFBlbmdlbG9sYSA9ICIiOwoJdmFyICRuaXBQZWphYmF0ID0gIiI7Cgl2YXIgJG5pcFBlbmd1cnVzID0iIjsKCgl2YXIgJGFyckVzZWxvbiA9IGFycmF5KAogICAgYXJyYXkoJzEnLCdFU0VMT04gSScpLAogICAgYXJyYXkoJzInLCdFU0VMT04gSUknKSwKICAgIGFycmF5KCczJywnRVNFTE9OIElJSScpLAogICAgYXJyYXkoJzQnLCdFU0VMT04gSVYnKSwKICAgIGFycmF5KCc1JywnRVNFTE9OIFYnKQogICAgKTsKCgl2YXIgJHN0cmluZ0NvbmNhdFN1YlVuaXQgPSAiY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSkiOwoJdmFyICRzdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gImNvbmNhdChmLCcuJyxnLCcuJyxoLCcuJyxpLCcuJyxqLCcuJyxqMSkiOwoJZnVuY3Rpb24gc2V0Q2VrQm94MigkY2IsICRLZXlWYWx1ZVN0ciwgJGlzaSl7CiAJCSRoc2wgPSAnJzsKIAkJLyppZigkS2V5VmFsdWVTdHIhPScnKXsqLwogCQkJJGhzbCA9ICI8aW5wdXQgdHlwZT0nY2hlY2tib3gnICRpc2kgaWQ9JyIuJHRoaXMtPlByZWZpeC4iX2NiJGNiJyBuYW1lPSciLiR0aGlzLT5QcmVmaXguIl9jYltdJwogCQkJCQl2YWx1ZT0nIi4kS2V5VmFsdWVTdHIuIicgb25jbGljayA9IGlzQ2hlY2tlZDIodGhpcy5jaGVja2VkLCdwZWxhcG9yYW5QZXJzZWRpYWFuX2ptbGNlaycpO3BlbGFwb3JhblBlcnNlZGlhYW4uY2J4UGlsaWgodGhpcyk7ID4iOwogCQkvKn0qLwogCQlyZXR1cm4gJGhzbDsKIAl9CiBmdW5jdGlvbiBIaXR1bmcoJGR0KXsKCWdsb2JhbCAkU2Vuc3VzVG1wLCRNYWluLCRIVFRQX0NPT0tJRV9WQVJTOwoJZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CgkJICQka2V5ID0gJHZhbHVlOwoJfQoJJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsKCSRqc29uID0gVFJVRTsJLy8kRXJyTXNnID0gJ3Rlcyc7CgkkZm9ybV9uYW1lID0gJHRoaXMtPlByZWZpeC4nX2Zvcm0nOwoJJHRoaXMtPmZvcm1fd2lkdGggPSA4MDA7CgkkdGhpcy0+Zm9ybV9oZWlnaHQgPSAyODA7CgkkdGhpcy0+Zm9ybV9jYXB0aW9uID0gJ0hpdHVuZyBVbGFuZyc7Cgkka29kZVNLUEQgPSAkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nLiIuIi4kZmlsdGVyU0tQRC4iLiIuJGZpbHRlclVuaXQuIi4iLiRmaWx0ZXJTdWJVbml0OwoJJGdldERhdGFCYXJhbmcgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdmlld19kYWZ0YXJfcGVyc2VkaWFhbiB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnIGFuZCB5ZWFyKHRhbmdnYWxfYnVrdSkgPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIik7Cgl3aGlsZSAoJGRhdGFCYXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFCYXJhbmcpKSB7CgkJJGFycmF5S29kZUJhcmFuZ1tdID0gJGRhdGFCYXJhbmdbJ2YnXS4iLiIuJGRhdGFCYXJhbmdbJ2cnXS4iLiIuJGRhdGFCYXJhbmdbJ2gnXS4iLiIuJGRhdGFCYXJhbmdbJ2knXS4iLiIuJGRhdGFCYXJhbmdbJ2onXS4iLiIuJGRhdGFCYXJhbmdbJ2oxJ107Cgl9CgkvL2l0ZW1zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCSR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KAoJCSdwcm9ncmVzcycgPT4gYXJyYXkoCgkJCSdsYWJlbCc9PicnLAoJCQknbGFiZWxXaWR0aCc9PjEsCgkJCSdwZW1pc2FoJz0+JyAnLAoJCQkndmFsdWUnPT4KCQkJCSI8ZGl2IGlkPSdwcm9ncmVzc2JveCcgc3R5bGU9J2JhY2tncm91bmQ6I2ZmZmJmMDtib3JkZXItcmFkaXVzOjVweDtib3JkZXI6MXB4IHNvbGlkO2hlaWdodDoxMHB4O21hcmdpbi1sZWZ0Oi0yMHB4Oyc+CgkJCQkJPGRpdiBpZD0ncHJvZ3Jlc3NiYXInPjwvZGl2ID4KCQkJCQk8ZGl2IGlkPSdzdGF0dXN0eHQnIHN0eWxlPSd3aWR0aDowJTtiYWNrZ3JvdW5kOmdyZWVuO2hlaWdodDoxMHB4O3RleHQtYWxpZ246cmlnaHQ7Y29sb3I6d2hpdGU7Zm9udC1zaXplOjhweDsnPjAlPC9kaXY+CgkJCQkJPGRpdiBpZD0nb3V0cHV0Jz48L2Rpdj4KCQkJCTwvZGl2PgkiCgkJCSksCgkJJ3BlcmluZ2F0YW4nID0+IGFycmF5KAoJCQkJCSdsYWJlbCc9PicnLAoJCQkJCSdsYWJlbFdpZHRoJz0+MSwKCQkJCQkncGVtaXNhaCc9PicgJywKCQkJCQkndmFsdWUnPT4iPGRpdiBpZD0ncGVtaXNhaCcgc3R5bGU9J2NvbG9yOnJlZDtmb250LXNpemU6MTFweDsnPjwvZGl2PiIsCgkJCSksCgkJJ2xvZycgPT4gYXJyYXkoCgkJCQkJJ2xhYmVsJz0+JycsCgkJCQkJJ2xhYmVsV2lkdGgnPT4nMCcsCgkJCQkJJ3BlbWlzYWgnPT4nICcsCgkJCQkJJ3ZhbHVlJz0+IgoKCQkJCQk8dGV4dGFyZWEgaWQ9J2xvZ0hpdHVuZycgbmFtZT0nbG9nSGl0dW5nJyByZWFkb25seSBzdHlsZT0nd2lkdGg6NzkwcHg7aGVpZ2h0OjIyMHB4O21hcmdpbi1sZWZ0Oi0yMHB4Oyc+SnVtbGFoIEtvZGUgQmFyYW5nICA9ICIuc2l6ZW9mKCRhcnJheUtvZGVCYXJhbmcpLiJcbjwvdGV4dGFyZWE+IiwKCQkJKSwKCQkpOwoJIC8vdG9tYm9sCgkgJHRoaXMtPmZvcm1fbWVudWJhd2FoID0KCSAJICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi5qc29uX2VuY29kZSgkYXJyYXlLb2RlQmFyYW5nKS4iJyAgaWQ9J2FycmF5S29kZUJhcmFuZycgbmFtZT0nYXJyYXlLb2RlQmFyYW5nJyB2ID4gIi4KCSAJICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi5zaXplb2YoJGFycmF5S29kZUJhcmFuZykuIicgIGlkPSdsZW5ndGhQcm9jY2VzcycgIG5hbWU9J2xlbmd0aFByb2NjZXNzJyA+ICIuCgkgCSAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuJGtvZGVTS1BELiInICBpZD0na29kZVNLUEQnIG5hbWU9J2tvZGVTS1BEJyA+ICIuCgkgCSAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuJGZpbHRlclBlcmlvZGUuIicgIGlkPSdmaWx0ZXJQZXJpb2RlJyBuYW1lPSdmaWx0ZXJQZXJpb2RlJyA+ICIuCgkJICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nSGl0dW5nJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuZXhlY3V0ZUhpdHVuZygpJyB0aXRsZT0nSGl0dW5nJyA+ICZuYnNwIi4KCQkgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdUdXR1cCcgb25jbGljayA9JyIuJHRoaXMtPlByZWZpeC4iLkNsb3NlKCknID4iOwoKCSAkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtKCk7CgkgJGNvbnRlbnQgPSAkZm9ybTsvLyRjb250ZW50ID0gJ2NvbnRlbnQnOwoJIHJldHVybglhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50KTsKIH0KIGZ1bmN0aW9uIENsb3NpbmcoJGR0KXsKICBnbG9iYWwgJFNlbnN1c1RtcCwkTWFpbiwkSFRUUF9DT09LSUVfVkFSUzsKICBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKICAgICAkJGtleSA9ICR2YWx1ZTsKICB9CiAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsKICAkanNvbiA9IFRSVUU7CS8vJEVyck1zZyA9ICd0ZXMnOwogICRmb3JtX25hbWUgPSAkdGhpcy0+UHJlZml4LidfZm9ybSc7CiAgJHRoaXMtPmZvcm1fd2lkdGggPSA4MjA7CiAgJHRoaXMtPmZvcm1faGVpZ2h0ID0gNTAwOwogICR0aGlzLT5mb3JtX2NhcHRpb24gPSAnQ2xvc2luZyc7CiAgJGtvZGVTS1BEID0gJGZpbHRlclVydXNhbi4iLiIuJGZpbHRlckJpZGFuZy4iLiIuJGZpbHRlclNLUEQuIi4iLiRmaWx0ZXJVbml0LiIuIi4kZmlsdGVyU3ViVW5pdDsKCWlmKGVtcHR5KCRlcnIpKXsKCQlpZigkdGhpcy0+c3FsTnVtUm93KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0dXR1cF9idWt1X3BlcnNlZGlhYW4gd2hlcmUgdGFodW5fYW5nZ2FyYW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnICIpKSAhPTApewoJCQkkZXJyID0gIkRhdGEgc3VkYWggZGkgdHV0dXAgYnVrdSAhIjsKCQl9Cgl9CglpZihlbXB0eSgkZXJyKSl7CgkJaWYoJGZpbHRlclBlcmlvZGUgPT0gMSl7CgkJCSR0YW5nZ2FsID0gIjMxLTA2LSIuJHRoaXMtPnRhaHVuQW5nZ2FyYW47CgkJCSRzdGF0dXNDbG9zaW5nID0gJHRoaXMtPmdldFN0YXR1c0Nsb3NpbmcoJGtvZGVTS1BELCR0aGlzLT5nZW5lcmF0ZURhdGUoJHRhbmdnYWwpKTsKCQkJaWYoJHN0YXR1c0Nsb3NpbmcgIT0gMCl7CgkJCQkkZXJyID0gIkRhdGEgc2VtZXN0ZXIgc2F0dSBzdWRhaCBkaSBjbG9zaW5nLCBiYXRhbGthbiBjbG9zaW5nID8iOwoJCQl9CgkJCSRuYW1hU2VtZXN0ZXIgPSAiU0FUVSI7CgkJfWVsc2V7CgkJCSR0YW5nZ2FsID0gIjMxLTEyLSIuJHRoaXMtPnRhaHVuQW5nZ2FyYW47CgkJCSRzdGF0dXNDbG9zaW5nID0gJHRoaXMtPmdldFN0YXR1c0Nsb3NpbmcoJGtvZGVTS1BELCR0aGlzLT5nZW5lcmF0ZURhdGUoJHRhbmdnYWwpKTsKCQkJaWYoJHN0YXR1c0Nsb3NpbmcgIT0gMCl7CgkJCQkkZXJyID0gIkRhdGEgc2VtZXN0ZXIgZHVhIHN1ZGFoIGRpIGNsb3NpbmcsIGJhdGFsa2FuIGNsb3NpbmcgPyI7CgkJCX0KCQkJJG5hbWFTZW1lc3RlciA9ICJEVUEiOwoJCX0KCX0KCiAgJGdldERhdGFCYXJhbmcgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdmlld19kYWZ0YXJfcGVyc2VkaWFhbiB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnIGFuZCB5ZWFyKHRhbmdnYWxfYnVrdSkgPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIik7CiAgd2hpbGUgKCRkYXRhQmFyYW5nID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhQmFyYW5nKSkgewogICAgJGFycmF5S29kZUJhcmFuZ1tdID0gJGRhdGFCYXJhbmdbJ2YnXS4iLiIuJGRhdGFCYXJhbmdbJ2cnXS4iLiIuJGRhdGFCYXJhbmdbJ2gnXS4iLiIuJGRhdGFCYXJhbmdbJ2knXS4iLiIuJGRhdGFCYXJhbmdbJ2onXS4iLiIuJGRhdGFCYXJhbmdbJ2oxJ107CiAgfQoKCSRnZXROYW1hVXJ1c2FuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBvcmRlciBieSBjMSxjLGQsZSxlMSBsaW1pdCAxIikpOwoJJGdldE5hbWFCaWRhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjID0gJyRmaWx0ZXJCaWRhbmcnIG9yZGVyIGJ5IGMxLGMsZCxlLGUxIGxpbWl0IDEiKSk7CgkkZ2V0TmFtYVNLUEQgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjID0gJyRmaWx0ZXJCaWRhbmcnIGFuZCBkID0gJyRmaWx0ZXJTS1BEJyBvcmRlciBieSBjMSxjLGQsZSxlMSBsaW1pdCAxIikpOwoJJGdldERhdGFVbml0ID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfc2twZCB3aGVyZSBjMSA9ICckZmlsdGVyVXJ1c2FuJyBhbmQgYyA9ICckZmlsdGVyQmlkYW5nJyBhbmQgZCA9ICckZmlsdGVyU0tQRCcgYW5kIGUgPSAnJGZpbHRlclVuaXQnIG9yZGVyIGJ5IGMxLGMsZCxlLGUxIGxpbWl0IDEiKSk7CgkkZ2V0RGF0YVN1YlVuaXQgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0gJyRmaWx0ZXJVcnVzYW4nIGFuZCBjID0gJyRmaWx0ZXJCaWRhbmcnIGFuZCBkID0gJyRmaWx0ZXJTS1BEJyBhbmQgZSA9ICckZmlsdGVyVW5pdCcgYW5kIGUxPSckZmlsdGVyU3ViVW5pdCcgb3JkZXIgYnkgYzEsYyxkLGUsZTEgbGltaXQgMSIpKTsKICAvL2l0ZW1zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAkdGhpcy0+Zm9ybV9maWVsZHMgPSBhcnJheSgKCQkndXJ1c2FuJyA9PiBhcnJheSgKCQkJJ2xhYmVsJz0+J1VSVVNBTicsCgkJCSdsYWJlbFdpZHRoJz0+NzAsCgkJCSd2YWx1ZSc9PiAkZ2V0TmFtYVVydXNhblsnbm1fc2twZCddCgkJKSwKCQknYmlkYW5nJyA9PiBhcnJheSgKCQkJJ2xhYmVsJz0+J0JJREFORycsCgkJCSdsYWJlbFdpZHRoJz0+NzAsCgkJCSd2YWx1ZSc9PiAkZ2V0TmFtYUJpZGFuZ1snbm1fc2twZCddCgkJKSwKCQknYXNkJyA9PiBhcnJheSgKCQkJJ2xhYmVsJz0+J1NLUEQnLAoJCQknbGFiZWxXaWR0aCc9PjcwLAoJCQkndmFsdWUnPT4gJGdldE5hbWFTS1BEWydubV9za3BkJ10KCQkpLAoJCSdkc2RzZCcgPT4gYXJyYXkoCgkJCSdsYWJlbCc9PidVTklUJywKCQkJJ2xhYmVsV2lkdGgnPT43MCwKCQkJJ3ZhbHVlJz0+ICRnZXREYXRhVW5pdFsnbm1fc2twZCddCgkJKSwKCQknc2FkenhjeGFzZCcgPT4gYXJyYXkoCgkJCSdsYWJlbCc9PidTVUIgVU5JVCcsCgkJCSdsYWJlbFdpZHRoJz0+NzAsCgkJCSd2YWx1ZSc9PiAkZ2V0RGF0YVN1YlVuaXRbJ25tX3NrcGQnXQoJCSksCgkJJ3NlbWVzYWRzYScgPT4gYXJyYXkoCgkJCSdsYWJlbCc9PidTRU1FU1RFUicsCgkJCSdsYWJlbFdpZHRoJz0+NzAsCgkJCSd2YWx1ZSc9PiAkbmFtYVNlbWVzdGVyCgkJKSwKCQkna2V0ZXJhbmdhbicgPT4gYXJyYXkoCgkJCSdsYWJlbCc9PidLRVRFUkFOR0FOJywKCQkJJ2xhYmVsV2lkdGgnPT43MCwKCQkJJ3ZhbHVlJz0+ICI8dGV4dGFyZWEgaWQ9J2tldGVyYW5nYW4nIG5hbWU9J2tldGVyYW5nYW4nIHN0eWxlPSd3aWR0aDozMDBweDtoZWlnaHQ6NTBweDsnPjwvdGV4dGFyZWE+IgoJCSksCgogICAgJ3Byb2dyZXNzJyA9PiBhcnJheSgKICAgICAgJ2xhYmVsJz0+JycsCiAgICAgICdsYWJlbFdpZHRoJz0+MSwKICAgICAgJ3BlbWlzYWgnPT4nICcsCiAgICAgICd0eXBlJz0+J21lcmdlJywKICAgICAgJ3ZhbHVlJz0+CiAgICAgICAgIjxkaXYgaWQ9J3Byb2dyZXNzYm94JyBzdHlsZT0nYmFja2dyb3VuZDojZmZmYmYwO2JvcmRlci1yYWRpdXM6NXB4O2JvcmRlcjoxcHggc29saWQ7aGVpZ2h0OjEwcHgnPgogICAgICAgICAgPGRpdiBpZD0ncHJvZ3Jlc3NiYXInPjwvZGl2ID4KICAgICAgICAgIDxkaXYgaWQ9J3N0YXR1c3R4dCcgc3R5bGU9J3dpZHRoOjAlO2JhY2tncm91bmQ6Z3JlZW47aGVpZ2h0OjEwcHg7dGV4dC1hbGlnbjpyaWdodDtjb2xvcjp3aGl0ZTtmb250LXNpemU6OHB4Oyc+MCU8L2Rpdj4KICAgICAgICAgIDxkaXYgaWQ9J291dHB1dCc+PC9kaXY+CiAgICAgICAgPC9kaXY+CSIKICAgICAgKSwKICAgICdwZXJpbmdhdGFuJyA9PiBhcnJheSgKICAgICAgICAgICdsYWJlbCc9PicnLAoJCQkJCSd0eXBlJz0+J21lcmdlJywKICAgICAgICAgICdsYWJlbFdpZHRoJz0+MSwKICAgICAgICAgICdwZW1pc2FoJz0+JyAnLAogICAgICAgICAgJ3ZhbHVlJz0+IjxkaXYgaWQ9J3BlbWlzYWgnIHN0eWxlPSdjb2xvcjpyZWQ7Zm9udC1zaXplOjExcHg7Jz48L2Rpdj4iLAogICAgICApLAogICAgJ2xvZycgPT4gYXJyYXkoCiAgICAgICAgICAnbGFiZWwnPT4nJywKCQkJCQkndHlwZSc9PidtZXJnZScsCiAgICAgICAgICAnbGFiZWxXaWR0aCc9PicwJywKICAgICAgICAgICdwZW1pc2FoJz0+JyAnLAogICAgICAgICAgJ3ZhbHVlJz0+IgoKICAgICAgICAgIDx0ZXh0YXJlYSBpZD0nbG9nQ2xvc2luZycgbmFtZT0nbG9nQ2xvc2luZycgcmVhZG9ubHkgc3R5bGU9J3dpZHRoOjc5MHB4O2hlaWdodDoyMjBweDsnPkp1bWxhaCBLb2RlIEJhcmFuZyAgPSAiLnNpemVvZigkYXJyYXlLb2RlQmFyYW5nKS4iXG48L3RleHRhcmVhPiIsCiAgICAgICksCiAgICApOwogICAvL3RvbWJvbAogICAkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQogICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi5qc29uX2VuY29kZSgkYXJyYXlLb2RlQmFyYW5nKS4iJyAgaWQ9J2FycmF5S29kZUJhcmFuZycgbmFtZT0nYXJyYXlLb2RlQmFyYW5nJyB2ID4gIi4KICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuc2l6ZW9mKCRhcnJheUtvZGVCYXJhbmcpLiInICBpZD0nbGVuZ3RoUHJvY2Nlc3MnICBuYW1lPSdsZW5ndGhQcm9jY2VzcycgPiAiLgogICAgICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIi4ka29kZVNLUEQuIicgIGlkPSdrb2RlU0tQRCcgbmFtZT0na29kZVNLUEQnID4gIi4KICAgICAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIuJGZpbHRlclBlcmlvZGUuIicgIGlkPSdmaWx0ZXJQZXJpb2RlJyBuYW1lPSdmaWx0ZXJQZXJpb2RlJyA+ICIuCiAgICAgIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdDbG9zaW5nJyBvbmNsaWNrID0nIi4kdGhpcy0+UHJlZml4LiIuZXhlY3V0ZUNsb3NpbmcoKScgdGl0bGU9J0Nsb3NpbmcnID4gJm5ic3AiLgogICAgICI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nVHV0dXAnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5DbG9zZSgpJyA+IjsKCiAgICRmb3JtID0gJHRoaXMtPmdlbkZvcm0oKTsKICAgJGNvbnRlbnQgPSAkZm9ybTsvLyRjb250ZW50ID0gJ2NvbnRlbnQnOwogICByZXR1cm4JYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCk7CiB9CgogZnVuY3Rpb24gaXNpZm9ybSgkdmFsdWUsICRwYXJyYW09JycpewoJICRpc2lueWEgPSAnJzsKCSAkdGJsID0nPHRhYmxlIHdpZHRoPSIxMDAlIiAnLiRwYXJyYW0uJz4nOwoJIGZvcigkaT0wOyRpPGNvdW50KCR2YWx1ZSk7JGkrKyl7CgkJIGlmKCFpc3NldCgkdmFsdWVbJGldWyJrb3NvbmciXSkpewoJCQkgaWYoIWlzc2V0KCR2YWx1ZVskaV1bJ2FsaWduJ10pKSR2YWx1ZVskaV1bJ2FsaWduJ10gPSAibGVmdCI7CgkJCSBpZighaXNzZXQoJHZhbHVlWyRpXVsndmFsaWduJ10pKSR2YWx1ZVskaV1bJ3ZhbGlnbiddID0gInRvcCI7CgoJCQkgaWYoaXNzZXQoJHZhbHVlWyRpXVsndHlwZSddKSl7CgkJCQkgc3dpdGNoICgkdmFsdWVbJGldWyd0eXBlJ10pewoJCQkJCSBjYXNlICJ0ZXh0IiA6CgkJCQkJCSAkaXNpbnlhID0gIjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSciLiR2YWx1ZVskaV1bJ25hbWUnXS4iJyBpZD0nIi4kdmFsdWVbJGldWyduYW1lJ10uIicgIi4kdmFsdWVbJGldWydwYXJyYW1zJ10uIiB2YWx1ZT0nIi4kdmFsdWVbJGldWyd2YWx1ZSddLiInIC8+IjsKCQkJCQkgYnJlYWs7CgkJCQkJIGNhc2UgImhpZGRlbiIgOgoJCQkJCQkgJGlzaW55YSA9ICI8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSciLiR2YWx1ZVskaV1bJ25hbWUnXS4iJyBpZD0nIi4kdmFsdWVbJGldWyduYW1lJ10uIicgIi4kdmFsdWVbJGldWydwYXJyYW1zJ10uIiB2YWx1ZT0nIi4kdmFsdWVbJGldWyd2YWx1ZSddLiInIC8+IjsKCQkJCQkgYnJlYWs7CgkJCQkJIGNhc2UgInBhc3N3b3JkIiA6CgkJCQkJCSAkaXNpbnlhID0gIjxpbnB1dCB0eXBlPSdwYXNzd29yZCcgbmFtZT0nIi4kdmFsdWVbJGldWyduYW1lJ10uIicgaWQ9JyIuJHZhbHVlWyRpXVsnbmFtZSddLiInICIuJHZhbHVlWyRpXVsncGFycmFtcyddLiIgdmFsdWU9JyIuJHZhbHVlWyRpXVsndmFsdWUnXS4iJyAvPiI7CgkJCQkJIGJyZWFrOwoJCQkJCSBkZWZhdWx0OgoJCQkJCQkgJGlzaW55YSA9ICR2YWx1ZVskaV1bJ3ZhbHVlJ107CgkJCQkJIGJyZWFrOwoJCQkJIH0KCQkJIH1lbHNlewoJCQkJICRpc2lueWEgPSAkdmFsdWVbJGldWyd2YWx1ZSddOwoJCQkgfQoKCQkJICRwZW1pc2FoID0gJzonOwoJCQkgaWYoaXNzZXQoJHZhbHVlWyRpXVsncGVtaXNhaCddKSkkcGVtaXNhaCA9ICR2YWx1ZVskaV1bJ3BlbWlzYWgnXTsKCQkJICRsYWJlbHdpZHRoID0gaXNzZXQoJHZhbHVlWyRpXVsnbGFiZWwtd2lkdGgnXSk\/ICJ3aWR0aD0nIi4kdmFsdWVbJGldWydsYWJlbC13aWR0aCddLiInIjoiIjsKCgkJCSAkdGJsIC49ICIKCQkJCSA8dHI+CgkJCQkJIDx0ZCAkbGFiZWx3aWR0aCB2YWxpZ249J3RvcCc+Ii4kdmFsdWVbJGldWydsYWJlbCddLiI8L3RkPgoJCQkJCSA8dGQgd2lkdGg9JzEwcHgnIHZhbGlnbj0ndG9wJz4kcGVtaXNhaDxicj48L3RkPgoJCQkJCSA8dGQgYWxpZ249JyIuJHZhbHVlWyRpXVsnYWxpZ24nXS4iJyB2YWxpZ249JyIuJHZhbHVlWyRpXVsndmFsaWduJ10uIic+ICRpc2lueWE8L3RkPgoJCQkJIDwvdHI+CgkJCSAiOwoJCSB9CgoJIH0KCSAkdGJsIC49ICc8L3RhYmxlPic7CgoJIHJldHVybiAkdGJsOwogfQoKCWZ1bmN0aW9uIHNldFRpdGxlKCl7CgkJcmV0dXJuICdQRUxBUE9SQU4gUEVSU0VESUFBTiBCQVJBTkcnOwoJfQoJLy8gZnVuY3Rpb24gc2V0TWVudVZpZXcoKXsKCS8vIAlyZXR1cm4KCS8vIAkJLy8gIjx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5MYXBvcmFuKCkiLCJwcmludF9mMi5wbmciLCdMYXBvcmFuJywiTGFwb3JhbiIpLiI8L3RkPiI7CgkvLyAJCSIiOwoJLy8gfQoJZnVuY3Rpb24gc2V0TWVudUVkaXQoKXsKCgkgCSRsaXN0TWVudSA9CgkJCQkJIjx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5IaXR1bmcoKSIsInJlbG9hZF9mMi5wbmciLCJIaXR1bmcgIiwgJ0hpdHVuZyAnKS4iPC90ZD4iLgoJCQkJCSI8dGQ+Ii5nZW5QYW5lbEljb24oImphdmFzY3JpcHQ6Ii4kdGhpcy0+UHJlZml4LiIuQ2xvc2luZygpIiwiaW52YWxpZC5wbmciLCJDbG9zaW5nICIsICdDbG9zaW5nICcpLiI8L3RkPiIuCgkJCQkJIjx0ZD4iLmdlblBhbmVsSWNvbigiamF2YXNjcmlwdDoiLiR0aGlzLT5QcmVmaXguIi5MYXBvcmFuKCkiLCJwcmludF9mMi5wbmciLCJMYXBvcmFuICIsICdMYXBvcmFuICcpLiI8L3RkPiIKCQkJCQk7CgoKCQlyZXR1cm4gJGxpc3RNZW51IDsKCX0KCglmdW5jdGlvbiBzZXRNZW51VmlldygpewoJCXJldHVybiAiIjsKCgl9CgoKCWZ1bmN0aW9uIHNldF9zZWxlY3Rvcl9vdGhlcjIoJHRpcGUpewoJIGdsb2JhbCAkTWFpbjsKCSAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOyAkanNvbj1UUlVFOwoKCSByZXR1cm4JYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCwgJ2pzb24nPT4kanNvbik7Cgl9CgoJZnVuY3Rpb24gc2V0X3NlbGVjdG9yX290aGVyKCR0aXBlKXsKCSBnbG9iYWwgJE1haW47CgkgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgJGpzb249VFJVRTsKCgkgIHN3aXRjaCgkdGlwZSl7CgkJCWNhc2UgJ2hpdHVuZ1VsYW5nJzp7CgkJCQlmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKCQkJCSAJICQka2V5ID0gJHZhbHVlOwoJCQkJfQoJCQkJJGtvZGVTS1BEID0gJGZpbHRlclVydXNhbi4iLiIuJGZpbHRlckJpZGFuZy4iLiIuJGZpbHRlclNLUEQuIi4iLiRmaWx0ZXJVbml0LiIuIi4kZmlsdGVyU3ViVW5pdDsKCQkJCWlmKGVtcHR5KCRmaWx0ZXJQZXJpb2RlKSkkZXJyID0gIlBpbGloIHNlbWVzdGVyIjsKCQkJCWlmKGVtcHR5KCRlcnIpKXsKCQkJCQlpZigkZmlsdGVyUGVyaW9kZSA9PSAxKXsKCQkJCQkJJHRhbmdnYWwgPSAiMzEtMDYtIi4kdGhpcy0+dGFodW5BbmdnYXJhbjsKCQkJCQkJJHN0YXR1c0Nsb3NpbmcgPSAkdGhpcy0+Z2V0U3RhdHVzQ2xvc2luZygka29kZVNLUEQsJHRoaXMtPmdlbmVyYXRlRGF0ZSgkdGFuZ2dhbCkpOwoJCQkJCQlpZigkc3RhdHVzQ2xvc2luZyAhPSAwKXsKCQkJICAgICAgICAkZXJyID0gIkRhdGEgc3VkYWggZGkgY2xvc2luZyAhIjsKCQkJICAgICAgfQoJCQkJCX0KCgkJCQl9CgkJCQlpZihlbXB0eSgkZXJyKSl7CgkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0ZW1wX2NoZWNrX2JhcmFuZ19rdXJhbmcgd2hlcmUgdXNlcm5hbWU9JyR0aGlzLT51c2VybmFtZSciKTsKCQkJCQkkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRlbXBfY2hlY2tfYmFyYW5nX3RhbWJhaCB3aGVyZSB1c2VybmFtZT0nJHRoaXMtPnVzZXJuYW1lJyIpOwoJCQkJCSR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY2hlY2tfYmFyYW5nX3BlcnNlZGlhYW4gd2hlcmUgdXNlcm5hbWU9JyR0aGlzLT51c2VybmFtZSciKTsKCQkJCQkkZXJyID0gJHRoaXMtPmNoZWNrRmlmbygiJGNvbmNhdFNLUEQgPSAnJGtvZGVTS1BEJyIsICRmaWx0ZXJQZXJpb2RlKTsKCQkJCX0KCQkJCWlmKGVtcHR5KCRlcnIpKXsKCQkJCQlpZigkZmlsdGVyUGVyaW9kZSA9PSAxKXsKICAgICAgICAgICAgICR0aGlzLT5oaXR1bmdVbGFuZ1NlbWVzdGVyMSgka29kZVNLUEQpOwoJCQkJCX1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gMil7CgkJCQkJCSR0YW5nZ2FsID0gIjMxLTA2LSIuJHRoaXMtPnRhaHVuQW5nZ2FyYW47CgkJCQkJCSRzdGF0dXNDbG9zaW5nID0gJHRoaXMtPmdldFN0YXR1c0Nsb3NpbmcoJGtvZGVTS1BELCR0aGlzLT5nZW5lcmF0ZURhdGUoJHRhbmdnYWwpKTsKCQkJCQkJaWYoJHN0YXR1c0Nsb3NpbmcgPT0gMCl7CgkJCSAgICAgICAgJGVyciA9ICJEYXRhIHNlbWVzdGVyIDEgYmVsdW0gZGkgY2xvc2luZyAhIjsKCQkJICAgICAgfQoJCQkJCQlpZihlbXB0eSgkZXJyKSl7CgkJCQkJCQkkdGhpcy0+aGl0dW5nVWxhbmdTZW1lc3RlcjIoJGtvZGVTS1BEKTsKCQkJCQkJfQoJCQkJCX1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gMyl7CgkJCQkJCSR0YW5nZ2FsID0gIjMxLTEyLSIuJHRoaXMtPnRhaHVuQW5nZ2FyYW47CgkJCQkJCSRzdGF0dXNDbG9zaW5nID0gJHRoaXMtPmdldFN0YXR1c0Nsb3NpbmcoJGtvZGVTS1BELCR0aGlzLT5nZW5lcmF0ZURhdGUoJHRhbmdnYWwpKTsKCQkJCQkJaWYoJHN0YXR1c0Nsb3NpbmcgPT0gMCl7CgkJCSAgICAgICAgJGVyciA9ICJEYXRhIHNlbWVzdGVyIDIgYmVsdW0gZGkgY2xvc2luZyAhIjsKCQkJICAgICAgfQoJCQkJCQlpZihlbXB0eSgkZXJyKSl7CgkJCQkJCQkkdGhpcy0+aGl0dW5nVWxhbmdTZW1lc3RlcjMoJGtvZGVTS1BEKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCgkJCWJyZWFrOwoJCQl9CgkJCWNhc2UgJ0hpdHVuZyc6ewoJCQkJJGZtID0gJHRoaXMtPkhpdHVuZygpOwoJCQkJJGNlayA9ICRmbVsnY2VrJ107CgkJCQkkZXJyID0gJGZtWydlcnInXTsKCQkJCSRjb250ZW50ID0gJGZtWydjb250ZW50J107CgkJCWJyZWFrOwoJCQl9CgkJCWNhc2UgJ3VuQ2xvc2UnOnsKCQkJCWZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkJIAkgJCRrZXkgPSAkdmFsdWU7CgkJCQl9CgkJCQkka29kZVNLUEQgPSAkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nLiIuIi4kZmlsdGVyU0tQRC4iLiIuJGZpbHRlclVuaXQuIi4iLiRmaWx0ZXJTdWJVbml0OwoJCQkJaWYoJHRpcGVVbkNsb3NlID09ICIxIil7CgkJCQkJJGNlayA9ICR0aGlzLT51bkNsb3NlQWxsKCRrb2RlU0tQRCk7CgkJCQl9ZWxzZXsKCQkJCQkkdGhpcy0+dW5DbG9zZVNlbWVzdGVyMigka29kZVNLUEQpOwoJCQkJfQoJCQlicmVhazsKCQkJfQoJCQljYXNlICdDbG9zaW5nJzp7CgkJCQkkZm0gPSAkdGhpcy0+Q2xvc2luZygpOwoJCQkJJGNlayA9ICRmbVsnY2VrJ107CgkJCQkkZXJyID0gJGZtWydlcnInXTsKCQkJCSRjb250ZW50ID0gJGZtWydjb250ZW50J107CgkJCWJyZWFrOwoJCQl9CgkJCWNhc2UgJ2NvdW50VG90YWxIYXJnYSc6ewoJCQkJZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CgkJCQkgCSAkJGtleSA9ICR2YWx1ZTsKCQkJCX0KCQkJCWlmKCRmaWx0ZXJTdWJVbml0ICE9ICcwMDAnICl7CgkJCQkJJGtvZGVTS1BEID0gIiBhbmQgYzE9JyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nJGZpbHRlclNLUEQnIGFuZCBlPSckZmlsdGVyVW5pdCcgYW5kIGUxID0gJyRmaWx0ZXJTdWJVbml0JyAiOwoJCQkJfWVsc2VpZigkZmlsdGVyVW5pdCAhPSAnMDAnICl7CgkJCQkJJGtvZGVTS1BEID0gIiBhbmQgYzE9JyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nJGZpbHRlclNLUEQnIGFuZCBlPSckZmlsdGVyVW5pdCcgICI7CgkJCQl9ZWxzZWlmKCRmaWx0ZXJTS1BEICE9ICcwMCcgKXsKCQkJCQkka29kZVNLUEQgPSAiIGFuZCBjMT0nJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIGFuZCBkPSckZmlsdGVyU0tQRCcgICAiOwoJCQkJfWVsc2VpZigkZmlsdGVyQmlkYW5nICE9ICcwMCcgKXsKCQkJCQkka29kZVNLUEQgPSAiIGFuZCBjMT0nJGZpbHRlclVydXNhbicgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnICAgICI7CgkJCQl9ZWxzZWlmKCRmaWx0ZXJVcnVzYW4gIT0gJzAwJyApewoJCQkJCSRrb2RlU0tQRCA9ICIgYW5kIGMxPSckZmlsdGVyVXJ1c2FuJyAgICAiOwoJCQkJfQoJCQkJaWYoJGZpbHRlclN1YlVuaXQgIT0gJzAwMCcpewoJCQkJCSRrb2RlQmFyYW5nID0gJGZpbHRlclVydXNhbi4iLiIuJGZpbHRlckJpZGFuZy4iLiIuJGZpbHRlclNLUEQuIi4iLiRmaWx0ZXJVbml0LiIuIi4kZmlsdGVyU3ViVW5pdDsKCQkJCX1lbHNlaWYoJGZpbHRlclVuaXQgIT0gJzAwJyl7CgkJCQkJJGtvZGVCYXJhbmcgPSAkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nLiIuIi4kZmlsdGVyU0tQRC4iLiIuJGZpbHRlclVuaXQ7CgkJCQl9ZWxzZWlmKCRmaWx0ZXJTS1BEICE9ICcwMCcpewoJCQkJCSRrb2RlQmFyYW5nID0gJGZpbHRlclVydXNhbi4iLiIuJGZpbHRlckJpZGFuZy4iLiIuJGZpbHRlclNLUEQ7CgkJCQl9ZWxzZWlmKCRmaWx0ZXJCaWRhbmcgIT0gJzAwJyl7CgkJCQkJJGtvZGVCYXJhbmcgPSAkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nOwoJCQkJfWVsc2VpZigkZmlsdGVyVXJ1c2FuICE9ICcwMCcpewoJCQkJCSRrb2RlQmFyYW5nID0gJGZpbHRlclVydXNhbjsKCQkJCX0KCQkJCWlmKCFlbXB0eSgkZmlsdGVyUGVyaW9kZSkpewoJCSAJIAkJaWYoJGZpbHRlclBlcmlvZGUgPT0gJzEnKXsKCQkgCSAJCQkJJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNiI7CgkJIAkgCQkJCSRrb25kaXNpUGVyaW9kZSAgPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInICI7CgkJIAkJCQkJJHNlbWVzdGVyID0gIiBhbmQgc2VtZXN0ZXIgPSAnMScgIjsKCQkgCSAJCX1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gJzInKXsKCQkgCSAJCQkJJG1pbkZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNyI7CgkJIAkgCQkJCSRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMTIiOwoJCSAJCQkJCSRzZW1lc3RlciA9ICIgYW5kIHNlbWVzdGVyID0gJzInICI7CgkJIAkgCQkJCSRrb25kaXNpUGVyaW9kZT0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpID49ICckbWluRmlsdGVyJyBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CgkJIAkgCQkJCSRrb25kaXNpU2FsZG9Bd2FsID0gIiBhbmQgaWQgbm90IGluICggc2VsZWN0IGlkIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGpucyA9ICcxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgdGFuZ2dhbF9idWt1ID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0kdGhpcy0+YnVsYW5UYW5nZ2FsU2FsZG9Bd2FsJykgIjsKCQkgCSAJCX1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gJzMnKXsKCQkgCSAJCQkJJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CgkJIAkgCQkJCSRrb25kaXNpUGVyaW9kZSA9ICIgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlciciOwoJCSAJIAkJCQkka29uZGlzaVNhbGRvQXdhbCA9ICIgYW5kIGlkIG5vdCBpbiAoIHNlbGVjdCBpZCBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBqbnMgPSAnMScgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgYW5kIHRhbmdnYWxfYnVrdSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEnKSAiOwoJCSAJCQkJCSRzZW1lc3RlciA9ICIgYW5kIHNlbWVzdGVyID0gJzMnICI7CgkJIAkgCQl9CgkJIAkgfQoJCQkJJGNvbnRlbnQgPSBhcnJheSgKCQkJCQkndG90YWxIYXJnYScgPT4gbnVtYmVyX2Zvcm1hdCgkdGhpcy0+Z2V0SGFyZ2FUb3RhbCgka29kZVNLUEQsIiAgICIsJHNlbWVzdGVyKSwyLCAnLCcsICcuJykKCQkJCSk7CgkJCWJyZWFrOwoJCQl9CgkJCWNhc2UgJ3Byb3Nlc0hpdHVuZyc6ewoJCQkJZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CgkJCQkgCSAkJGtleSA9ICR2YWx1ZTsKCQkJCX0KCQkJCSRzdGF0dXNTZWxlc2FpID0gImJlbG9tIjsKCQkJCSRrb2RlQmFyYW5nID0gJGlkSGl0dW5nOwoJCQkJJGxvZ0hpdHVuZyA9ICIkbm9tb3JQb3N0LyRqdW1sYWhEYXRhIENvdW50aW5nICRrb2RlQmFyYW5nIC4uLi4gIjsKCQkJCWlmKCRub21vclBvc3QgPT0gJGp1bWxhaERhdGEpewoJCQkJCQkkc3RhdHVzU2VsZXNhaSA9ICJPSyI7CgkJCQkJCSRsb2dIaXR1bmcgPSAiQ291bnRpbmcgZmluaXNoZWQuIjsKCQkJCX1lbHNlewoJCQkJCWlmKCRmaWx0ZXJQZXJpb2RlID09IDEpewoJCQkJIAkJJHRoaXMtPmhpdHVuZ1VsYW5nU2VtZXN0ZXIxKCRrb2RlU0tQRCwka29kZUJhcmFuZyk7CgkJCQkJfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAyKXsKCQkJCQkJJHRhbmdnYWwgPSAiMzEtMDYtIi4kdGhpcy0+dGFodW5BbmdnYXJhbjsKCQkJCQkJJHN0YXR1c0Nsb3NpbmcgPSAkdGhpcy0+Z2V0U3RhdHVzQ2xvc2luZygka29kZVNLUEQsJHRoaXMtPmdlbmVyYXRlRGF0ZSgkdGFuZ2dhbCkpOwoJCQkJCQlpZigkc3RhdHVzQ2xvc2luZyA9PSAwKXsKCQkJCQkJCSRlcnIgPSAiRGF0YSBzZW1lc3RlciAxIGJlbHVtIGRpIGNsb3NpbmcgISI7CgkJCQkJCX0KCQkJCQkJaWYoZW1wdHkoJGVycikpewoJCQkJCQkJJHRoaXMtPmhpdHVuZ1VsYW5nU2VtZXN0ZXIyKCRrb2RlU0tQRCwka29kZUJhcmFuZyk7CgkJCQkJCX0KCQkJCQl9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09IDMpewoJCQkJCQkkdGFuZ2dhbCA9ICIzMS0xMi0iLiR0aGlzLT50YWh1bkFuZ2dhcmFuOwoJCQkJCQkkc3RhdHVzQ2xvc2luZyA9ICR0aGlzLT5nZXRTdGF0dXNDbG9zaW5nKCRrb2RlU0tQRCwkdGhpcy0+Z2VuZXJhdGVEYXRlKCR0YW5nZ2FsKSk7CgkJCQkJCWlmKCRzdGF0dXNDbG9zaW5nID09IDApewoJCQkJCQkJJGVyciA9ICJEYXRhIHNlbWVzdGVyIDIgYmVsdW0gZGkgY2xvc2luZyAhIjsKCQkJCQkJfQoJCQkJCQlpZihlbXB0eSgkZXJyKSl7CgkJCQkJCQkkdGhpcy0+aGl0dW5nVWxhbmdTZW1lc3RlcjMoJGtvZGVTS1BELCRrb2RlQmFyYW5nKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCgoKCQkJCSRjb250ZW50ID0gYXJyYXkoCgkJCQkJJ3N0YXR1c1NlbGVzYWknID0+ICRzdGF0dXNTZWxlc2FpLAoJCQkJCSdwZXJzZW4nID0+ICgkbm9tb3JQb3N0IC8gJGp1bWxhaERhdGEgKSAqIDEwMCwKCQkJCQkibG9nSGl0dW5nIiA9PiAkbG9nSGl0dW5nCgkJCQkgKTsKCQkJYnJlYWs7CgkJCX0KCQkJY2FzZSAncHJvc2VzQ2xvc2luZyc6ewoJCQkgIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkgICAgICQka2V5ID0gJHZhbHVlOwoJCQkgIH0KCQkJCSRleHBsb2RlS29kZVNLUEQgPSBleHBsb2RlKCIuIiwka29kZVNLUEQpOwoJCQkgICRzdGF0dXNTZWxlc2FpID0gImJlbG9tIjsKCQkJICAka29kZUJhcmFuZyA9ICRpZENsb3Npbmc7CgkJCSAgJGxvZ0Nsb3NpbmcgPSAiJG5vbW9yUG9zdC8kanVtbGFoRGF0YSBDb3VudGluZyAka29kZUJhcmFuZyAuLi4uICI7CgkJCQlpZigkZmlsdGVyUGVyaW9kZSAhPSAxKXsKCQkJCQkkbm9tb3JQb3N0ID0gJGp1bWxhaERhdGE7CgkJCQl9CgkJCSAgaWYoJG5vbW9yUG9zdCA9PSAkanVtbGFoRGF0YSl7CgkJCSAgICAgICRzdGF0dXNTZWxlc2FpID0gIk9LIjsKCQkJICAgICAgJGxvZ0Nsb3NpbmcgPSAiQ2xvc2luZyBmaW5pc2hlZC4iOwoJCQkJCQlpZigkZmlsdGVyUGVyaW9kZSA9PSAxKXsKCQkJCQkJCSRkYXRhU2VtZXN0ZXIxID0gYXJyYXkoCgkJCQkJCQkJJ2MxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzBdLAoJCQkJCQkJCSdjJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzFdLAoJCQkJCQkJCSdkJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzJdLAoJCQkJCQkJCSdlJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzNdLAoJCQkJCQkJCSdlMScgPT4gJGV4cGxvZGVLb2RlU0tQRFs0XSwKCQkJCQkJCQkndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAoJCQkJCQkJCSdzZW1lc3RlcicgPT4gJzEnLAoJCQkJCQkJCSdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKCQkJCQkJCQkndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCgkJCQkJCQkJJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUKCQkJCQkJCSk7CgkJCQkJCQkkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgiY2xvc2luZ19wZXJzZWRpYWFuIiwkZGF0YVNlbWVzdGVyMSkpOwoJCQkJCQl9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09IDIpewoJCQkJCQkJJHRhaHVuRGVwYW4gPSAkdGhpcy0+dGFodW5BbmdnYXJhbiArIDE7CgoJICAgICAgICAgICAgJGRhdGFTZW1lc3RlcjEgPSBhcnJheSgKCQkJCQkJCQknYzEnID0+ICRleHBsb2RlS29kZVNLUERbMF0sCgkJCQkJCQkJJ2MnID0+ICRleHBsb2RlS29kZVNLUERbMV0sCgkJCQkJCQkJJ2QnID0+ICRleHBsb2RlS29kZVNLUERbMl0sCgkJCQkJCQkJJ2UnID0+ICRleHBsb2RlS29kZVNLUERbM10sCgkJCQkJCQkJJ2UxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzRdLAoJICAgICAgICAgICAgICAndGFodW5fYW5nZ2FyYW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAoJICAgICAgICAgICAgICAnc2VtZXN0ZXInID0+ICcxJywKCSAgICAgICAgICAgICAgJ2tldGVyYW5nYW4nID0+ICRrZXRlcmFuZ2FuLAoJICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwKCSAgICAgICAgICAgICAgJ3RhbmdnYWxfdXBkYXRlJyA9PiBkYXRlKCJZLW0tZCIpLAoJICAgICAgICAgICAgKTsKCSAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCJjbG9zaW5nX3BlcnNlZGlhYW4iLCRkYXRhU2VtZXN0ZXIxKSk7CgkgICAgICAgICAgICAkZGF0YVNlbWVzdGVyMiA9IGFycmF5KAoJCQkJCQkJCSdjMScgPT4gJGV4cGxvZGVLb2RlU0tQRFswXSwKCQkJCQkJCQknYycgPT4gJGV4cGxvZGVLb2RlU0tQRFsxXSwKCQkJCQkJCQknZCcgPT4gJGV4cGxvZGVLb2RlU0tQRFsyXSwKCQkJCQkJCQknZScgPT4gJGV4cGxvZGVLb2RlU0tQRFszXSwKCQkJCQkJCQknZTEnID0+ICRleHBsb2RlS29kZVNLUERbNF0sCgkgICAgICAgICAgICAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCgkgICAgICAgICAgICAgICdzZW1lc3RlcicgPT4gJzInLAoJICAgICAgICAgICAgICAna2V0ZXJhbmdhbicgPT4gJGtldGVyYW5nYW4sCgkgICAgICAgICAgICAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lLAoJICAgICAgICAgICAgICAndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCgkgICAgICAgICAgICApOwoJICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoImNsb3NpbmdfcGVyc2VkaWFhbiIsJGRhdGFTZW1lc3RlcjIpKTsKCgkJCQkJCX1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gMyl7CgkJCQkJCQkkdGFodW5EZXBhbiA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuICsgMTsKCgkgICAgICAgICAgICAkZGF0YVNlbWVzdGVyMSA9IGFycmF5KAoJCQkJCQkJCSdjMScgPT4gJGV4cGxvZGVLb2RlU0tQRFswXSwKCQkJCQkJCQknYycgPT4gJGV4cGxvZGVLb2RlU0tQRFsxXSwKCQkJCQkJCQknZCcgPT4gJGV4cGxvZGVLb2RlU0tQRFsyXSwKCQkJCQkJCQknZScgPT4gJGV4cGxvZGVLb2RlU0tQRFszXSwKCQkJCQkJCQknZTEnID0+ICRleHBsb2RlS29kZVNLUERbNF0sCgkgICAgICAgICAgICAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCgkgICAgICAgICAgICAgICdzZW1lc3RlcicgPT4gJzEnLAoJICAgICAgICAgICAgICAna2V0ZXJhbmdhbicgPT4gJGtldGVyYW5nYW4sCgkgICAgICAgICAgICAgICd1c2VybmFtZScgPT4gJHRoaXMtPnVzZXJuYW1lLAoJICAgICAgICAgICAgICAndGFuZ2dhbF91cGRhdGUnID0+IGRhdGUoIlktbS1kIiksCgkgICAgICAgICAgICApOwoJICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoImNsb3NpbmdfcGVyc2VkaWFhbiIsJGRhdGFTZW1lc3RlcjEpKTsKCSAgICAgICAgICAgICRkYXRhU2VtZXN0ZXIyID0gYXJyYXkoCgkJCQkJCQkJJ2MxJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzBdLAoJCQkJCQkJCSdjJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzFdLAoJCQkJCQkJCSdkJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzJdLAoJCQkJCQkJCSdlJyA9PiAkZXhwbG9kZUtvZGVTS1BEWzNdLAoJCQkJCQkJCSdlMScgPT4gJGV4cGxvZGVLb2RlU0tQRFs0XSwKCSAgICAgICAgICAgICAgJ3RhaHVuX2FuZ2dhcmFuJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbiwKCSAgICAgICAgICAgICAgJ3NlbWVzdGVyJyA9PiAnMicsCgkgICAgICAgICAgICAgICdrZXRlcmFuZ2FuJyA9PiAka2V0ZXJhbmdhbiwKCSAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUsCgkgICAgICAgICAgICAgICd0YW5nZ2FsX3VwZGF0ZScgPT4gZGF0ZSgiWS1tLWQiKSwKCSAgICAgICAgICAgICk7CgkgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgiY2xvc2luZ19wZXJzZWRpYWFuIiwkZGF0YVNlbWVzdGVyMikpOwoJCQkJCQl9CgkJCSAgfWVsc2V7CgkJCQkJaWYoJGZpbHRlclBlcmlvZGUgPT0gMSl7CgkJCQkgICAgJHRoaXMtPmNsb3NpbmdTZW1lc3RlcjEoJGtvZGVTS1BELCRrb2RlQmFyYW5nKTsKCQkJCSAgfQoJCQkJfQoKCgoJCQkgICRjb250ZW50ID0gYXJyYXkoCgkJCSAgICAnc3RhdHVzU2VsZXNhaScgPT4gJHN0YXR1c1NlbGVzYWksCgkJCSAgICAncGVyc2VuJyA9PiAoJG5vbW9yUG9zdCAvICRqdW1sYWhEYXRhICkgKiAxMDAsCgkJCSAgICAibG9nQ2xvc2luZyIgPT4gJGxvZ0Nsb3NpbmcKCQkJICAgKTsKCQkJYnJlYWs7CgkJCX0KCQkJY2FzZSAnZXhlY3V0ZUhpdHVuZyc6ewoJCQkJZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CgkJCQkgCSAkJGtleSA9ICR2YWx1ZTsKCQkJCX0KCQkJCWlmKGVtcHR5KCRmaWx0ZXJQZXJpb2RlKSkkZXJyID0gIlBpbGloIHNlbWVzdGVyIjsKCQkJCWlmKGVtcHR5KCRlcnIpKXsKCQkJCQlpZigkZmlsdGVyUGVyaW9kZSA9PSAxKXsKCQkJCQkJJHRhbmdnYWwgPSAiMzEtMDYtIi4kdGhpcy0+dGFodW5BbmdnYXJhbjsKCQkJCQkJJHN0YXR1c0Nsb3NpbmcgPSAkdGhpcy0+Z2V0U3RhdHVzQ2xvc2luZygka29kZVNLUEQsJHRoaXMtPmdlbmVyYXRlRGF0ZSgkdGFuZ2dhbCkpOwoJCQkJCQlpZigkc3RhdHVzQ2xvc2luZyAhPSAwKXsKCQkJICAgICAgICAkZXJyID0gIkRhdGEgc3VkYWggZGkgY2xvc2luZyAhIjsKCQkJICAgICAgfQoJCQkJCX0KCgkJCQl9CgkJCQlpZihlbXB0eSgkZXJyKSl7CgkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0ZW1wX2NoZWNrX2JhcmFuZ19rdXJhbmcgd2hlcmUgdXNlcm5hbWU9JyR0aGlzLT51c2VybmFtZSciKTsKCQkJCQkkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRlbXBfY2hlY2tfYmFyYW5nX3RhbWJhaCB3aGVyZSB1c2VybmFtZT0nJHRoaXMtPnVzZXJuYW1lJyIpOwoJCQkJCSR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY2hlY2tfYmFyYW5nX3BlcnNlZGlhYW4gd2hlcmUgdXNlcm5hbWU9JyR0aGlzLT51c2VybmFtZSciKTsKCQkJCQlpZigkZmlsdGVyUGVyaW9kZSA9PSAnMScpewoJCQkJCQkJJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNiI7CgkJCQkJCQkkY29uZGl0aW9uUGVyaW9kZSA9ICJhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CgkJCQkJfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAnMicpewoJCQkJCQkJJG1pbkZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNyI7CgkJCQkJCQkkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjEyIjsKCQkJCQkJCSRjb25kaXRpb25QZXJpb2RlID0gImFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPj0gJyRtaW5GaWx0ZXInIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKCQkJCQl9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09ICczJyl7CgkJCQkJCQkkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjEyIjsKCQkJCQl9CgkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgdF9rYXJ0dV9wZXJzZWRpYWFuIHNldCBoYXJnYV9zYXR1YW4gPSAnMCcsIHRvdGFsID0gJzAnIHdoZXJlIGpucyA9ICczJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgeWVhcih0YW5nZ2FsX2J1a3UpID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyAkY29uZGl0aW9uUGVyaW9kZSAiKTsKCQkJCQkkZXJyID0gJHRoaXMtPmNoZWNrRmlmbygiJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyIsICRmaWx0ZXJQZXJpb2RlKTsKCQkJCX0KCgkJCQkkY29udGVudCA9IGFycmF5KCdqdW1sYWhEYXRhJyA9PiAkanVtbGFoRGF0YSwgJ2RhdGFIaXR1bmcnID0+IGpzb25fZW5jb2RlKCRhcnJheUlESGl0dW5nKSApOwoKCQkJYnJlYWs7CgkJCX0KCQkJY2FzZSAnZXhlY3V0ZUNsb3NpbmcnOnsKCQkJCWZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkJIAkgJCRrZXkgPSAkdmFsdWU7CgkJCQl9CgkJCQlpZihlbXB0eSgkZmlsdGVyUGVyaW9kZSkpJGVyciA9ICJQaWxpaCBzZW1lc3RlciI7CgkJCQlpZihlbXB0eSgkZXJyKSl7CgkJCQkJaWYoJHRoaXMtPmdldFN0YXR1c0hpdHVuZygka29kZVNLUEQsJGZpbHRlclBlcmlvZGUpICE9IDApewoJCQkJCX1lbHNlewoJCQkJCQkkZXJyID0gIkRhdGEgYmVsdW0gZGkgaGl0dW5nICEiOwoJCQkJCX0KCQkJCX0KCQkJCWlmKGVtcHR5KCRlcnIpKXsKCQkJCQkvLyAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRlbXBfY2hlY2tfYmFyYW5nX2t1cmFuZyB3aGVyZSB1c2VybmFtZT0nJHRoaXMtPnVzZXJuYW1lJyIpOwoJCQkJCS8vICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdGVtcF9jaGVja19iYXJhbmdfdGFtYmFoIHdoZXJlIHVzZXJuYW1lPSckdGhpcy0+dXNlcm5hbWUnIik7CgkJCQkJLy8gJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBjaGVja19iYXJhbmdfcGVyc2VkaWFhbiB3aGVyZSB1c2VybmFtZT0nJHRoaXMtPnVzZXJuYW1lJyIpOwoJCQkJCS8vIC8vICRlcnIgPSAkdGhpcy0+Y2hlY2tGaWZvKCIkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIiwgJGZpbHRlclBlcmlvZGUpOwoJCQkJCWlmKGVtcHR5KCRlcnIpKXsKCQkJCQkJaWYoJGZpbHRlclBlcmlvZGUgPT0gIjEiKXsKCQkJCQkJCSR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY2xvc2luZ19wZXJzZWRpYWFuIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgYW5kIHRhaHVuX2FuZ2dhcmFuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPScxJyAiKTsKCQkJCQkJfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAiMiIpewoJCSAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnIGFuZCB0YWh1bl9hbmdnYXJhbiA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgIik7CgkJCQkJCX1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gIjMiKXsKCQkgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBjbG9zaW5nX3BlcnNlZGlhYW4gd2hlcmUgY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSkgPSAnJGtvZGVTS1BEJyBhbmQgdGFodW5fYW5nZ2FyYW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nICIpOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoKCQkJCSRjb250ZW50ID0gYXJyYXkoJ2p1bWxhaERhdGEnID0+ICRqdW1sYWhEYXRhLCAnZGF0YUhpdHVuZycgPT4ganNvbl9lbmNvZGUoJGFycmF5SURIaXR1bmcpICk7CgoJCQlicmVhazsKCQkJfQoJCQljYXNlICd1cnVzYW5DaGFuZ2VkJzp7CgkJCQlmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKCQkJCSAJICQka2V5ID0gJHZhbHVlOwoJCQkJfQoJCQkJJGNvbnRlbnQgPSBhcnJheSgnY21iQmlkYW5nJyA9PiBjbWJRdWVyeSgnY21iQmlkYW5nJywkYywic2VsZWN0IGMsIGNvbmNhdChjLCAnLiAnLCBubV9za3BkKSBmcm9tIHJlZl9za3BkIHdoZXJlIGMxID0nJGZpbHRlclVydXNhbicgYW5kIGMhPScwMCcgYW5kIGQ9JzAwJyBhbmQgZT0nMDAnIGFuZCBlMT0nMDAwJyAiLCJvbkNoYW5nZT0kdGhpcy0+UHJlZml4LmJpZGFuZ0NoYW5nZWQoKTsiLCctLSBCSURBTkcgIC0tJyksCgkJCQknY21iU0tQRCcgPT4gY21iUXVlcnkoJ2NtYlNLUEQnLCRkLCJzZWxlY3QgZCwgY29uY2F0KGQsICcuICcsIG5tX3NrcGQpIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQhPScwMCcgYW5kIGU9JzAwJyBhbmQgZTE9JzAwMCcgIiwib25DaGFuZ2U9JHRoaXMtPlByZWZpeC5za3BkQ2hhbmdlZCgpOyIsJy0tIFNLUEQgLS0nKSk7CgkJCWJyZWFrOwoJCQl9CgkJCWNhc2UgJ2dDaGFuZ2VkJzp7CgkJCQlmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKCQkJCSAJICQka2V5ID0gJHZhbHVlOwoJCQkJfQoKCQkJCSRjb250ZW50ID0gYXJyYXkoCgkJCQknY21iSCcgPT5jbWJRdWVyeSgnY21iSCcsJGNtYkgsInNlbGVjdCBoLCBjb25jYXQoaCwgJy4gJywgbm1fYmFyYW5nKSBmcm9tIHJlZl9iYXJhbmcgd2hlcmUgZj0nMDgnIGFuZCBnPSckY21iRycgYW5kIGggIT0nMDAnIGFuZCBpPScwMCcgIiwib25DaGFuZ2U9JHRoaXMtPlByZWZpeC5oQ2hhbmdlZCgpOyIsJy0tIFJJTkNJQU4gT0JKRUsgLS0nKSwKCQkJCSdjbWJJJyA9PmNtYlF1ZXJ5KCdjbWJJJywkY21iRywic2VsZWN0IGksIGNvbmNhdChpLCAnLiAnLCBubV9iYXJhbmcpIGZyb20gcmVmX2JhcmFuZyB3aGVyZSBmPScwOCcgYW5kIGc9JyRjbWJHJyBhbmQgaCA9JyRjbWJIJyBhbmQgaSE9JzAwJyBhbmQgaj0nMDAwJyAiLCJvbkNoYW5nZT0kdGhpcy0+UHJlZml4LmlDaGFuZ2VkKCk7IiwnLS0gU1VCIFJJTkNJQU4gT0JKRUsgLS0nKSwKCQkJCSdjbWJKJyA9PmNtYlF1ZXJ5KCdjbWJKJywkY21iSiwic2VsZWN0IGosIGNvbmNhdChqLCAnLiAnLCBubV9iYXJhbmcpIGZyb20gcmVmX2JhcmFuZyB3aGVyZSBmPScwOCcgYW5kIGc9JyRjbWJHJyBhbmQgaCA9JyRjbWJIJyBhbmQgaT0nJGNtYkknIGFuZCBqIT0nMDAwJyBhbmQgajE9JzAwMDAnICIsIm9uQ2hhbmdlPSR0aGlzLT5QcmVmaXguakNoYW5nZWQoKTsiLCctLSBTVUIgU1VCIFJJTkNJQU4gT0JKRUsgLS0nKSwKCQkJCSdjbWJKMScgPT5jbWJRdWVyeSgnY21iSjEnLCRjbWJKMSwic2VsZWN0IGoxLCBjb25jYXQoajEsICcuICcsIG5tX2JhcmFuZykgZnJvbSByZWZfYmFyYW5nIHdoZXJlIGY9JzA4JyBhbmQgZz0nJGNtYkcnIGFuZCBoID0nJGNtYkgnIGFuZCBpPSckY21iSScgYW5kIGo9JyRjbWJKJyBhbmQgajEhPScwMDAwJyAiLCJvbkNoYW5nZT0kdGhpcy0+UHJlZml4LmoxQ2hhbmdlZCgpOyIsJy0tIFNVQiBTVUIgU1VCIFJJTkNJQU4gT0JKRUsgLS0nKSwKCQkJICkKCQkJCTsKCQkJYnJlYWs7CgkJCX0KCQkJY2FzZSAnaENoYW5nZWQnOnsKCQkJCWZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkJIAkgJCRrZXkgPSAkdmFsdWU7CgkJCQl9CgoJCQkJJGNvbnRlbnQgPSBhcnJheSgKCgkJCQkJJ2NtYkknID0+Y21iUXVlcnkoJ2NtYkknLCRjbWJJLCJzZWxlY3QgaSwgY29uY2F0KGksICcuICcsIG5tX2JhcmFuZykgZnJvbSByZWZfYmFyYW5nIHdoZXJlIGY9JzA4JyBhbmQgZz0nJGNtYkcnIGFuZCBoID0nJGNtYkgnIGFuZCBpIT0nMDAnIGFuZCBqPScwMDAnICIsIm9uQ2hhbmdlPSR0aGlzLT5QcmVmaXguaUNoYW5nZWQoKTsiLCctLSBTVUIgUklOQ0lBTiBPQkpFSyAtLScpLAoJCQkJCSdjbWJKJyA9PmNtYlF1ZXJ5KCdjbWJKJywkY21iSiwic2VsZWN0IGosIGNvbmNhdChqLCAnLiAnLCBubV9iYXJhbmcpIGZyb20gcmVmX2JhcmFuZyB3aGVyZSBmPScwOCcgYW5kIGc9JyRjbWJHJyBhbmQgaCA9JyRjbWJIJyBhbmQgaT0nJGNtYkknIGFuZCBqIT0nMDAwJyBhbmQgajE9JzAwMDAnICIsIm9uQ2hhbmdlPSR0aGlzLT5QcmVmaXguakNoYW5nZWQoKTsiLCctLSBTVUIgU1VCIFJJTkNJQU4gT0JKRUsgLS0nKSwKCQkJCQknY21iSjEnID0+Y21iUXVlcnkoJ2NtYkoxJywkY21iSjEsInNlbGVjdCBqMSwgY29uY2F0KGoxLCAnLiAnLCBubV9iYXJhbmcpIGZyb20gcmVmX2JhcmFuZyB3aGVyZSBmPScwOCcgYW5kIGc9JyRjbWJHJyBhbmQgaCA9JyRjbWJIJyBhbmQgaT0nJGNtYkknIGFuZCBqPSckY21iSicgYW5kIGoxIT0nMDAwMCcgIiwib25DaGFuZ2U9JHRoaXMtPlByZWZpeC5qMUNoYW5nZWQoKTsiLCctLSBTVUIgU1VCIFNVQiBSSU5DSUFOIE9CSkVLIC0tJyksCgkJCSApCgkJCQk7CgkJCWJyZWFrOwoJCQl9CgkJCWNhc2UgJ2lDaGFuZ2VkJzp7CgkJCQlmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKCQkJCSAJICQka2V5ID0gJHZhbHVlOwoJCQkJfQoKCQkJCSRjb250ZW50ID0gYXJyYXkoCgkJCQkJJ2NtYkonID0+Y21iUXVlcnkoJ2NtYkonLCRjbWJKLCJzZWxlY3QgaiwgY29uY2F0KGosICcuICcsIG5tX2JhcmFuZykgZnJvbSByZWZfYmFyYW5nIHdoZXJlIGY9JzA4JyBhbmQgZz0nJGNtYkcnIGFuZCBoID0nJGNtYkgnIGFuZCBpPSckY21iSScgYW5kIGohPScwMDAnIGFuZCBqMT0nMDAwMCcgIiwib25DaGFuZ2U9JHRoaXMtPlByZWZpeC5qQ2hhbmdlZCgpOyIsJy0tIFNVQiBTVUIgUklOQ0lBTiBPQkpFSyAtLScpLAoJCQkJCSdjbWJKMScgPT5jbWJRdWVyeSgnY21iSjEnLCRjbWJKMSwic2VsZWN0IGoxLCBjb25jYXQoajEsICcuICcsIG5tX2JhcmFuZykgZnJvbSByZWZfYmFyYW5nIHdoZXJlIGY9JzA4JyBhbmQgZz0nJGNtYkcnIGFuZCBoID0nJGNtYkgnIGFuZCBpPSckY21iSScgYW5kIGo9JyRjbWJKJyBhbmQgajEhPScwMDAwJyAiLCJvbkNoYW5nZT0kdGhpcy0+UHJlZml4LmoxQ2hhbmdlZCgpOyIsJy0tIFNVQiBTVUIgU1VCIFJJTkNJQU4gT0JKRUsgLS0nKSwKCQkJICkKCQkJCTsKCQkJYnJlYWs7CgkJCX0KCQkJY2FzZSAnakNoYW5nZWQnOnsKCQkJCWZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkJIAkgJCRrZXkgPSAkdmFsdWU7CgkJCQl9CgoJCQkJJGNvbnRlbnQgPSBhcnJheSgKCQkJCSdjbWJKMScgPT5jbWJRdWVyeSgnY21iSjEnLCRjbWJKMSwic2VsZWN0IGoxLCBjb25jYXQoajEsICcuICcsIG5tX2JhcmFuZykgZnJvbSByZWZfYmFyYW5nIHdoZXJlIGY9JzA4JyBhbmQgZz0nJGNtYkcnIGFuZCBoID0nJGNtYkgnIGFuZCBpPSckY21iSScgYW5kIGo9JyRjbWJKJyBhbmQgajEhPScwMDAwJyAiLCJvbkNoYW5nZT0kdGhpcy0+UHJlZml4LmoxQ2hhbmdlZCgpOyIsJy0tIFNVQiBTVUIgU1VCIFJJTkNJQU4gT0JKRUsgLS0nKSwKCQkJICkKCQkJCTsKCQkJYnJlYWs7CgkJCX0KCQkJY2FzZSAnYmlkYW5nQ2hhbmdlZCc6ewoJCQkJZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CgkJCQkgCSAkJGtleSA9ICR2YWx1ZTsKCQkJCX0KCQkJCSRjb250ZW50ID0gYXJyYXkoCgkJCQknY21iU0tQRCcgPT4gY21iUXVlcnkoJ2NtYlNLUEQnLCRkLCJzZWxlY3QgZCwgY29uY2F0KGQsICcuICcsIG5tX3NrcGQpIGZyb20gcmVmX3NrcGQgd2hlcmUgYzEgPSckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQhPScwMCcgYW5kIGU9JzAwJyBhbmQgZTE9JzAwMCcgIiwib25DaGFuZ2U9JHRoaXMtPlByZWZpeC5za3BkQ2hhbmdlZCgpOyIsJy0tIFNLUEQgLS0nKSk7CgkJCWJyZWFrOwoJCQl9CgoJCQljYXNlICdSZXBvcnQnOnsKICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CiAgICAgICAgICQka2V5ID0gJHZhbHVlOwogICAgICB9CiAgICAgIC8vIGlmKGVtcHR5KCRmaWx0ZXJVcnVzYW4pKXsKICAgICAgLy8gICRlcnIgPSAiUGlsaWggVXJ1c2FuIjsKICAgICAgLy8gfWVsc2VpZihlbXB0eSgkZmlsdGVyQmlkYW5nKSl7CiAgICAgIC8vICAkZXJyID0gIlBpbGloIEJpZGFuZyI7CiAgICAgIC8vIH1lbHNlaWYoZW1wdHkoJGZpbHRlclNLUEQpKXsKICAgICAgLy8gICRlcnIgPSAiUGlsaWggU0tQRCI7CiAgICAgIC8vIH1lbHNlewogICAgICAgIGlmKG15c3FsX251bV9yb3dzKCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBza3BkX3JlcG9ydF9ya2FfMjEgd2hlcmUgdXNlcm5hbWU9ICckdGhpcy0+dXNlcm5hbWUnIikpID09IDApewogICAgICAgICAgJGRhdGEgPSBhcnJheSgKICAgICAgICAgICAgICAnYzEnID0+ICRjMSwKICAgICAgICAgICAgICAnYycgPT4gJGMsCiAgICAgICAgICAgICAgJ2QnID0+ICRkLAogICAgICAgICAgICAgICdlJyA9PiAkZSwKICAgICAgICAgICAgICAnZTEnID0+ICRlMSwKICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZQogICAgICAgICAgICAgICk7CiAgICAgICAgICAkcXVlcnkgPSAkdGhpcy0+c3FsSW5zZXJ0KCdza3BkX3JlcG9ydF9ya2FfMjEnLCRkYXRhKTsKICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkcXVlcnkpOwogICAgICAgIH1lbHNlewogICAgICAgICAgJGRhdGEgPSBhcnJheSgKICAgICAgICAgICAgICAnYzEnID0+ICRjMSwKICAgICAgICAgICAgICAnYycgPT4gJGMsCiAgICAgICAgICAgICAgJ2QnID0+ICRkLAogICAgICAgICAgICAgICdlJyA9PiAkZSwKICAgICAgICAgICAgICAnZTEnID0+ICRlMSwKICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZQogICAgICAgICAgICAgICk7CiAgICAgICAgICAkcXVlcnkgPSBWdWxuV2Fsa2VyVXBkYXRlKCdza3BkX3JlcG9ydF9ya2FfMjEnLCRkYXRhLCJ1c2VybmFtZSA9ICckdGhpcy0+dXNlcm5hbWUnIik7CiAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHF1ZXJ5KTsKICAgICAgICB9CiAgICAgICAgJGNvbnRlbnQgPSBhcnJheSgndG8nID0+ICRqZW5pc0tlZ2lhdGFuLCAndHRkJyA9PiAkdHRkLCAnY2V0YWtqYW5nJyA9PiAkY2V0YWtqYW5nICk7CiAgICAgIC8vIH0KICAgIGJyZWFrOwogICAgfQoKCQljYXNlICdmb3JtQmFydSc6ewoJCQkkZm0gPSAkdGhpcy0+c2V0Rm9ybUJhcnUoKTsKCQkJJGNlayA9ICRmbVsnY2VrJ107CgkJCSRlcnIgPSAkZm1bJ2VyciddOwoJCQkkY29udGVudCA9ICRmbVsnY29udGVudCddOwoJCWJyZWFrOwoJCX0KCQljYXNlICdzaW1wYW4nOnsKCQkJJGdldD0gJHRoaXMtPnNpbXBhbigpOwoJCQkkY2VrID0gJGdldFsnY2VrJ107CgkJCSRlcnIgPSAkZ2V0WydlcnInXTsKCQkJJGNvbnRlbnQgPSAkZ2V0Wydjb250ZW50J107CgkJYnJlYWs7CgkgICB9CgkJY2FzZSAncGlsaWhQYW5na2F0Jzp7CiAgICAgIGdsb2JhbCAkTWFpbjsKICAgICAgJGNlayA9ICcnOyAkZXJyPScnOyAkY29udGVudD0nJzsgJGpzb249VFJVRTsKCiAgICAgICRpZHBhbmdrYXQgPSAkX1JFUVVFU1RbJ3BhbmdrYXRha2hpciddOwoKICAgICAgJHF1ZXJ5ID0gInNlbGVjdCBjb25jYXQoZ29sLCcvJyxydWFuZylhcyBuYW1hIEZST00gcmVmX3BhbmdrYXQgV0hFUkUgbmFtYT0nJGlkcGFuZ2thdCciIDsKICAgICAgJGdldD0kdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCRxdWVyeSkpOyRjZWsuPSRxdWVyeTsKICAgICAgJGNvbnRlbnQ9JGdldFsnbmFtYSddOwogICAgICBicmVhazsKICAgIH0KCQljYXNlICdMYXBvcmFuMic6ewoJCQkkanNvbiA9IEZBTFNFOwoJCQkkdGhpcy0+TGFwb3JhbjIoKTsKCQlicmVhazsKCQl9CgkJY2FzZSAnTGFwb3Jhbic6ewoJCQlmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKCQkJCSAgJCRrZXkgPSAkdmFsdWU7CgkJCSB9CgkJCSAJJGZtID0gJHRoaXMtPkxhcG9yYW4oJF9SRVFVRVNUKTsKCQkJCQkJJGNlayAuPSAkZm1bJ2NlayddOwoJCQkJCQkkZXJyID0gJGZtWydlcnInXTsKCQkJCQkJJGNvbnRlbnQgPSAkZm1bJ2NvbnRlbnQnXTsKCQkJYnJlYWs7CgkJfQoKCQkgZGVmYXVsdDp7CgkJCQkkb3RoZXIgPSAkdGhpcy0+c2V0X3NlbGVjdG9yX290aGVyMigkdGlwZSk7CgkJCQkkY2VrID0gJG90aGVyWydjZWsnXTsKCQkJCSRlcnIgPSAkb3RoZXJbJ2VyciddOwoJCQkJJGNvbnRlbnQ9JG90aGVyWydjb250ZW50J107CgkJCQkkanNvbj0kb3RoZXJbJ2pzb24nXTsKCQkgYnJlYWs7CgkJIH0KCgkgfS8vZW5kIHN3aXRjaAoKCQlyZXR1cm4JYXJyYXkgKCdjZWsnPT4kY2VrLCAnZXJyJz0+JGVyciwgJ2NvbnRlbnQnPT4kY29udGVudCwgJ2pzb24nPT4kanNvbik7CiAgIH0KCSBmdW5jdGlvbiBzZXRQYWdlX0hlYWRlck90aGVyKCl7CgpyZXR1cm4KIiI7Cn0KICAgZnVuY3Rpb24gc2V0UGFnZV9PdGhlclNjcmlwdCgpewoJCSRzY3JpcHRsb2FkID0KCQkJCQkiPHNjcmlwdD4KCQkJCQkJJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXsKCQkJCQkJCSIuJHRoaXMtPlByZWZpeC4iLmxvYWRpbmcoKTsKCQkJCQkJfSk7CgkJCQkJPC9zY3JpcHQ+IjsKCQlyZXR1cm4KCQkJIgoJCQk8c2NyaXB0IHNyYz0nanMvcGVyZW5jYW5hYW5LZXVhbmdhbi9maWx0ZXJTS1BELmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgoJCQk8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCcgc3JjPSdqcy9wZXJzZWRpYWFuL3BlbGFwb3JhblBlcnNlZGlhYW4uanMnIGxhbmd1YWdlPSdKYXZhU2NyaXB0JyA+PC9zY3JpcHQ+CgkJCSAgPGxpbmsgcmVsPSdzdHlsZXNoZWV0JyBocmVmPSdkYXRlcGlja2VyL2pxdWVyeS11aS5jc3MnPgoJCQkgIDxzY3JpcHQgc3JjPSdkYXRlcGlja2VyL2pxdWVyeS0xLjEyLjQuanMnPjwvc2NyaXB0PgoJCQkgIDxzY3JpcHQgc3JjPSdkYXRlcGlja2VyL2pxdWVyeS11aS5qcyc+PC9zY3JpcHQ+CgoJCQkiLgoJCQkkc2NyaXB0bG9hZDsKCX0KCgoKCgkvL2RhZnRhciA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCWZ1bmN0aW9uIHNldEtvbG9tSGVhZGVyKCRNb2RlPTEsICRDaGVja2JveD0nJyl7CgoJCWZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewogCQkgIAkJCSQka2V5ID0gJHZhbHVlOwogCSB9CgoJIC8vIDx0aCBjbGFzcz0ndGgwMScgd2lkdGg9JzIwJyByb3dzcGFuPScyJz5OTzwvdGg+CgkJJGhlYWRlclRhYmxlID0KCQkgICI8dGhlYWQ+CgkJICAgPHRyPgoKCQkgICA8dGggY2xhc3M9J3RoMDEnIHN0eWxlPSd3aWR0aDoxJTsnID5OTzwvdGg+CgoJCSAgIDx0aCBjbGFzcz0ndGgwMScgc3R5bGU9J3dpZHRoOjElOyc+S09ERSBCQVJBTkc8L3RoPgoJCSAgIDx0aCBjbGFzcz0ndGgwMScgc3R5bGU9J3dpZHRoOjYwJTsnPk5BTUEgQkFSQU5HPC90aD4KCQkgICA8dGggY2xhc3M9J3RoMDEnIHN0eWxlPSd3aWR0aDo1JTsnID5TQVRVQU48L3RoPgoJCSAgIDx0aCBjbGFzcz0ndGgwMScgc3R5bGU9J3dpZHRoOjIlOycgPkpVTUxBSDwvdGg+CgkJICAgPHRoIGNsYXNzPSd0aDAxJyBzdHlsZT0nd2lkdGg6OCU7JyA+SEFSR0E8L3RoPgoKCgkJICAgPC90aGVhZD4iOwoKCgkgJE5vbW9yQ29sU3BhbiA9ICRNb2RlPT0xPyAyOiAxOwoKCgkJcmV0dXJuICRoZWFkZXJUYWJsZTsKCX0KCglmdW5jdGlvbiBzZXRLb2xvbURhdGEoJG5vLCAkaXNpLCAkTW9kZSwgJFRhbXBpbENoZWNrQm94KXsKCSBnbG9iYWwgJFJlZjsKCSBmb3JlYWNoICgkaXNpIGFzICRrZXkgPT4gJHZhbHVlKSB7CgkJCQkJCSQka2V5ID0gJHZhbHVlOwoJIH0KCSBmb3JlYWNoICgkX1JFUVVFU1QgYXMgJGtleSA9PiAkdmFsdWUpIHsKCQkJCQkJJCRrZXkgPSAkdmFsdWU7CgkgfQoKCSAgJGMxID0gJGZpbHRlclVydXNhbjsKCSAgJGMgPSAkZmlsdGVyQmlkYW5nOwoJICAkZCA9ICRmaWx0ZXJTS1BEOwoJICAkZSA9ICRmaWx0ZXJVbml0OwoJICAkZTEgPSAkZmlsdGVyU3ViVW5pdDsKCQlpZigkZmlsdGVyU3ViVW5pdCAhPSAnMDAwJyl7CgkJCSRrb25kaXNpU0tQRCA9ICJhbmQgYzE9JyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nJGZpbHRlclNLUEQnIGFuZCBlPSckZmlsdGVyVW5pdCcgYW5kIGUxPSckZmlsdGVyU3ViVW5pdCciOwoJCX1lbHNlaWYoJGZpbHRlclVuaXQgIT0gJzAwJyl7CgkJCSRrb25kaXNpU0tQRCA9ICJhbmQgYzE9JyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyBhbmQgZD0nJGZpbHRlclNLUEQnIGFuZCBlPSckZmlsdGVyVW5pdCcgIjsKCQl9ZWxzZWlmKCRmaWx0ZXJTS1BEICE9ICcwMCcpewoJCQkka29uZGlzaVNLUEQgPSAiYW5kIGMxPSckZmlsdGVyVXJ1c2FuJyBhbmQgYz0nJGZpbHRlckJpZGFuZycgYW5kIGQ9JyRmaWx0ZXJTS1BEJyAgIjsKCQl9ZWxzZWlmKCRmaWx0ZXJCaWRhbmcgIT0gJzAwJyl7CgkJCSRrb25kaXNpU0tQRCA9ICJhbmQgYzE9JyRmaWx0ZXJVcnVzYW4nIGFuZCBjPSckZmlsdGVyQmlkYW5nJyAgIjsKCQl9ZWxzZWlmKCRmaWx0ZXJVcnVzYW4gIT0gJzAwJyl7CgkJCSRrb25kaXNpU0tQRCA9ICJhbmQgYzE9JyRmaWx0ZXJVcnVzYW4nIjsKCQl9CgoJICRrb25kaXNpVGFodW4gPSAiIGFuZCBsZWZ0KHRhbmdnYWxfYnVrdSw0KSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiInICI7CgkgaWYoIWVtcHR5KCRmaWx0ZXJQZXJpb2RlKSl7CgkgCQlpZigkZmlsdGVyUGVyaW9kZSA9PSAnMScpewoJIAkJCQkkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA2IjsKCSAJCQkJJGtvbmRpc2lQZXJpb2RlICA9ICIgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlcicgIjsKCQkJCQkkc2VtZXN0ZXIgPSAiIGFuZCBzZW1lc3RlciA9ICcxJyAiOwoJIAkJfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAnMicpewoJIAkJCQkkbWluRmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA3IjsKCSAJCQkJJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CgkJCQkJJHNlbWVzdGVyID0gIiBhbmQgc2VtZXN0ZXIgPSAnMicgIjsKCSAJCQkJJGtvbmRpc2lQZXJpb2RlPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPj0gJyRtaW5GaWx0ZXInIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKCSAJCQkJJGtvbmRpc2lTYWxkb0F3YWwgPSAiIGFuZCBpZCBub3QgaW4gKCBzZWxlY3QgaWQgZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgam5zID0gJzEnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnIGFuZCB0YW5nZ2FsX2J1a3UgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLSR0aGlzLT5idWxhblRhbmdnYWxTYWxkb0F3YWwnKSAiOwoJIAkJfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAnMycpewoJIAkJCQkkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjEyIjsKCSAJCQkJJGtvbmRpc2lQZXJpb2RlID0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CgkgCQkJCSRrb25kaXNpU2FsZG9Bd2FsID0gIiBhbmQgaWQgbm90IGluICggc2VsZWN0IGlkIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGpucyA9ICcxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgdGFuZ2dhbF9idWt1ID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMScpICI7CgkJCQkJJHNlbWVzdGVyID0gIiBhbmQgc2VtZXN0ZXIgPSAnMycgIjsKCSAJCX0KCSB9CgoJCQkJCSAkZ2V0TmFtYUJhcmFuZ0YgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9iYXJhbmcgd2hlcmUgZj0nJGYnIGFuZCBnPScwMCciKSk7CgkJCQkJICRnZXROYW1hQmFyYW5nRyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX2JhcmFuZyB3aGVyZSAgZj0nJGYnIGFuZCBnPSckZycgYW5kIGg9JzAwJyIpKTsKCQkJCQkgJGdldE5hbWFCYXJhbmdIID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfYmFyYW5nIHdoZXJlICBmPSckZicgYW5kIGc9JyRnJyBhbmQgaD0nJGgnIGFuZCBpPScwMCciKSk7CgkJCQkJICRnZXROYW1hQmFyYW5nSSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX2JhcmFuZyB3aGVyZSAgZj0nJGYnIGFuZCBnPSckZycgYW5kIGg9JyRoJyBhbmQgaT0nJGknIGFuZCBqPScwMDAnIikpOwoJCQkJCSAkZ2V0TmFtYUJhcmFuZ0ogPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9iYXJhbmcgd2hlcmUgIGY9JyRmJyBhbmQgZz0nJGcnIGFuZCBoPSckaCcgYW5kIGk9JyRpJyBhbmQgaj0nJGonIGFuZCBqMT0nMDAwMCciKSk7CgkJCQkJICRnZXROYW1hQmFyYW5nSjEgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9iYXJhbmcgd2hlcmUgIGY9JyRmJyBhbmQgZz0nJGcnIGFuZCBoPSckaCcgYW5kIGk9JyRpJyBhbmQgaj0nJGonIGFuZCBqMT0nJGoxJyIpKTsKCgkJCQkJICRqdW1sYWhCYXJhbmdGID0gJHRoaXMtPmdldEp1bWxhaEJhcmFuZygka29uZGlzaVNLUEQsIiBhbmQgZj0nJGYnICIsJGtvbmRpc2lQZXJpb2RlLiRrb25kaXNpU2FsZG9Bd2FsKTsKCQkJCQkgJGp1bWxhaEJhcmFuZ0cgPSAkdGhpcy0+Z2V0SnVtbGFoQmFyYW5nKCRrb25kaXNpU0tQRCwiIGFuZCBmPSckZicgYW5kIGc9JyRnJyAiLCRrb25kaXNpUGVyaW9kZS4ka29uZGlzaVNhbGRvQXdhbCk7CgkJCQkJICRqdW1sYWhCYXJhbmdIID0gJHRoaXMtPmdldEp1bWxhaEJhcmFuZygka29uZGlzaVNLUEQsIiBhbmQgZj0nJGYnIGFuZCBnPSckZycgYW5kIGg9JyRoJyAiLCRrb25kaXNpUGVyaW9kZS4ka29uZGlzaVNhbGRvQXdhbCk7CgkJCQkJICRqdW1sYWhCYXJhbmdJID0gJHRoaXMtPmdldEp1bWxhaEJhcmFuZygka29uZGlzaVNLUEQsIiBhbmQgZj0nJGYnIGFuZCBnPSckZycgYW5kIGg9JyRoJyBhbmQgaT0nJGknICIsJGtvbmRpc2lQZXJpb2RlLiRrb25kaXNpU2FsZG9Bd2FsKTsKCQkJCQkgJGp1bWxhaEJhcmFuZ0ogPSAkdGhpcy0+Z2V0SnVtbGFoQmFyYW5nKCRrb25kaXNpU0tQRCwiIGFuZCBmPSckZicgYW5kIGc9JyRnJyBhbmQgaD0nJGgnIGFuZCBpPSckaScgYW5kIGo9JyRqJyAiLCRrb25kaXNpUGVyaW9kZS4ka29uZGlzaVNhbGRvQXdhbCk7CgkJCQkJICRqdW1sYWhCYXJhbmdKMSA9ICR0aGlzLT5nZXRKdW1sYWhCYXJhbmcoJGtvbmRpc2lTS1BELCIgYW5kIGY9JyRmJyBhbmQgZz0nJGcnIGFuZCBoPSckaCcgYW5kIGk9JyRpJyBhbmQgaj0nJGonIGFuZCBqMT0nJGoxJyAiLCRrb25kaXNpUGVyaW9kZS4ka29uZGlzaVNhbGRvQXdhbCk7CgkJCQkJIGlmIChpbl9hcnJheSgkZiwgJHRoaXMtPmFycmF5QmFyYW5nRikpIHsKCQkJCQkJICRiYXJhbmdGID0gIiI7CgkJCQkJIH1lbHNlewoJCQkJCQkgCWlmKCRmaWx0ZXJMZXZlbCA+PSAxKXsKCQkJCQkJCQlpZigkdGhpcy0+bm9tb3JLb2xvbSAlIDIgPT0gMSl7CgkJCQkJCQkJCSRyb3dDbGFzcyA9ICJyb3cwIjsKCQkJCQkJCQl9ZWxzZXsKCQkJCQkJCQkJJHJvd0NsYXNzID0gInJvdzEiOwoJCQkJCQkJCX0KCQkJCQkJCQkkYmFyYW5nRiA9ICIKCQkJCQkJCQkJPHRyIGNsYXNzPSckcm93Q2xhc3MnIHZhbGlnbj0ndG9wJz4KCQkJCQkJCQkJCSA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgPiR0aGlzLT5ub21vclVydXQ8L3RkPgoJCQkJCQkJCQkJIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPjxiPiIuJGYuIjwvdGQ+CgkJCQkJCQkJCQkgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+PGI+Ii4kZ2V0TmFtYUJhcmFuZ0ZbJ25tX2JhcmFuZyddLiI8L3RkPgoJCQkJCQkJCQkJIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPjxiPiIuJGdldE5hbWFCYXJhbmdGWydzYXR1YW4nXS4iPC90ZD4KCQkJCQkJCQkJCSA8dGQgYWxpZ249J3JpZ2h0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+PGI+Ii5udW1iZXJfZm9ybWF0KCRqdW1sYWhCYXJhbmdGLDAsJywnLCcuJykuIjwvdGQ+CgkJCQkJCQkJCQkgPHRkIGFsaWduPSdyaWdodCcgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPjxiPiIubnVtYmVyX2Zvcm1hdCgkdGhpcy0+Z2V0SGFyZ2EoJGtvbmRpc2lTS1BELCIgYW5kICBmPSckZicgICIsJHNlbWVzdGVyKSwyLCcsJywnLicpLiIgPC90ZD4KCQkJCQkJCQkJPC90cj4KCQkJCQkJCQkJIjsKCQkJCQkJCQkJJHRoaXMtPm5vbW9yVXJ1dCArPTE7CgkJCQkJCQl9CgkJCQkJCQlpZigkZmlsdGVyTGV2ZWwgPT0gMSl7CgkJCQkJCQkJJHRoaXMtPnRvdGFsSGFyZ2FQZXJoYWxhbWFuICs9ICR0aGlzLT5nZXRIYXJnYSgka29uZGlzaVNLUEQsIiBhbmQgIGY9JyRmJyAgICIsJHNlbWVzdGVyKTsKCQkJCQkJCX0KCQkJCQkJIH0KCQkJCQkJICRjb25jYXRCYXJhbmdHID0gJGYuIi4iLiRnOwoJCQkJCQkgaWYgKGluX2FycmF5KCRjb25jYXRCYXJhbmdHLCAkdGhpcy0+YXJyYXlCYXJhbmdHKSkgewoJCQkJCQkJICRiYXJhbmdHID0gIiI7CgkJCQkJCSB9ZWxzZXsKCQkJCQkJCSBpZigkZmlsdGVyTGV2ZWwgPj0gMil7CgkJCQkJCQkJIGlmKCR0aGlzLT5ub21vcktvbG9tICUgMiA9PSAxKXsKCQkJCQkJCQkJICRyb3dDbGFzcyA9ICJyb3cwIjsKCQkJCQkJCQkgfWVsc2V7CgkJCQkJCQkJCSAkcm93Q2xhc3MgPSAicm93MSI7CgkJCQkJCQkJIH0KCQkJCQkJCQkgJGJhcmFuZ0cgPSAiCgkJCQkJCQkJCSA8dHIgY2xhc3M9JyRyb3dDbGFzcycgdmFsaWduPSd0b3AnPgoJCQkJCQkJCQkJIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JHRoaXMtPm5vbW9yVXJ1dDwvdGQ+CgkJCQkJCQkJCQkgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+PGI+Ii4kY29uY2F0QmFyYW5nRy4iPC90ZD4KCQkJCQkJCQkJCSA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgID48c3BhbiBzdHlsZT0nbWFyZ2luLWxlZnQ6MTBweDsnPjxiPiIuJGdldE5hbWFCYXJhbmdHWydubV9iYXJhbmcnXS4iPC9zcGFuPjwvdGQ+CgkJCQkJCQkJCQkgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+PGI+Ii4kZ2V0TmFtYUJhcmFuZ0dbJ3NhdHVhbiddLiI8L3RkPgoJCQkJCQkJCQkJIDx0ZCBhbGlnbj0ncmlnaHQnIGNsYXNzPSdHYXJpc0RhZnRhcicgID48Yj4iLm51bWJlcl9mb3JtYXQoJGp1bWxhaEJhcmFuZ0csMCwnLCcsJy4nKS4iPC90ZD4KCQkJCQkJCQkJCSA8dGQgYWxpZ249J3JpZ2h0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+PGI+Ii5udW1iZXJfZm9ybWF0KCR0aGlzLT5nZXRIYXJnYSgka29uZGlzaVNLUEQsIiBhbmQgIGY9JyRmJyBhbmQgZz0nJGcnICAiLCRzZW1lc3RlciksMiwnLCcsJy4nKS4iPC90ZD4KCQkJCQkJCQkJIDwvdHI+CgkJCQkJCQkJICI7CgkJCQkJCQkJICR0aGlzLT5ub21vclVydXQgKz0gMTsKCQkJCQkJIAl9CgkJCQkJCQlpZigkZmlsdGVyTGV2ZWwgPT0gMil7CgkJCQkJCQkJJHRoaXMtPnRvdGFsSGFyZ2FQZXJoYWxhbWFuICs9ICR0aGlzLT5nZXRIYXJnYSgka29uZGlzaVNLUEQsIiBhbmQgIGY9JyRmJyBhbmQgZz0nJGcnICAiLCRzZW1lc3Rlcik7CgkJCQkJCQl9CgkJCQkJCSB9CgkJCQkJCSAkY29uY2F0QmFyYW5nSCA9ICRmLiIuIi4kZy4iLiIuJGg7CgkJCQkJCSBpZiAoaW5fYXJyYXkoJGNvbmNhdEJhcmFuZ0gsICR0aGlzLT5hcnJheUJhcmFuZ0gpKSB7CgkJCQkJCQkgJGJhcmFuZ0ggPSAiIjsKCQkJCQkJIH1lbHNlewoJCQkJCQkJIGlmKCRmaWx0ZXJMZXZlbCA+PSAzKXsKCQkJCQkJCQkgaWYoJHRoaXMtPm5vbW9yS29sb20gJSAyID09IDEpewoJCQkJCQkJCQkgJHJvd0NsYXNzID0gInJvdzAiOwoJCQkJCQkJCSB9ZWxzZXsKCQkJCQkJCQkJICRyb3dDbGFzcyA9ICJyb3cxIjsKCQkJCQkJCQkgfQoJCQkJCQkJCSAkYmFyYW5nSCA9ICIKCQkJCQkJCQkJPHRyIGNsYXNzPSckcm93Q2xhc3MnIHZhbGlnbj0ndG9wJz4KCQkJCQkJCQkJCTx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JHRoaXMtPm5vbW9yVXJ1dDwvdGQ+CgkJCQkJCQkJCQk8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgID48Yj4iLiRjb25jYXRCYXJhbmdILiI8L3RkPgoJCQkJCQkJCQkJPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+PHNwYW4gc3R5bGU9J21hcmdpbi1sZWZ0OjIwcHg7Jz48Yj4iLiRnZXROYW1hQmFyYW5nSFsnbm1fYmFyYW5nJ10uIjwvc3Bhbj48L3RkPgoJCQkJCQkJCQkJPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+PGI+Ii4kZ2V0TmFtYUJhcmFuZ0hbJ3NhdHVhbiddLiI8L3RkPgoJCQkJCQkJCQkJPHRkIGFsaWduPSdyaWdodCcgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPjxiPiIubnVtYmVyX2Zvcm1hdCgkanVtbGFoQmFyYW5nSCwwLCcsJywnLicpLiI8L3RkPgoJCQkJCQkJCQkJPHRkIGFsaWduPSdyaWdodCcgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPjxiPiIubnVtYmVyX2Zvcm1hdCgkdGhpcy0+Z2V0SGFyZ2EoJGtvbmRpc2lTS1BELCIgYW5kICBmPSckZicgYW5kIGc9JyRnJyBhbmQgaD0nJGgnICIsJHNlbWVzdGVyKSwyLCcsJywnLicpLiI8L3RkPgoJCQkJCQkJCQk8L3RyPgoJCQkJCQkJCSI7CgkJCQkJCQkJJHRoaXMtPm5vbW9yVXJ1dCArPSAxOwoJCQkJCQkJfQoJCQkJCQkJaWYoJGZpbHRlckxldmVsID09IDMpewoJCQkJCQkJCSR0aGlzLT50b3RhbEhhcmdhUGVyaGFsYW1hbiArPSAkdGhpcy0+Z2V0SGFyZ2EoJGtvbmRpc2lTS1BELCIgYW5kICBmPSckZicgYW5kIGc9JyRnJyBhbmQgaD0nJGgnICIsJHNlbWVzdGVyKTsKCQkJCQkJCX0KCQkJCQkJIH0KCQkJCQkJICRjb25jYXRCYXJhbmdJID0gJGYuIi4iLiRnLiIuIi4kaC4iLiIuJGk7CgkJCQkJCSBpZiAoaW5fYXJyYXkoJGNvbmNhdEJhcmFuZ0ksICR0aGlzLT5hcnJheUJhcmFuZ0kpKSB7CgkJCQkJCQkgJGJhcmFuZ0kgPSAiIjsKCQkJCQkJIH1lbHNlewoJCQkJCQkJIGlmKCRmaWx0ZXJMZXZlbCA+PSA0KXsKCQkJCQkJCQkgaWYoJHRoaXMtPm5vbW9yS29sb20gJSAyID09IDEpewoJCQkJCQkJCQkgJHJvd0NsYXNzID0gInJvdzAiOwoJCQkJCQkJCSB9ZWxzZXsKCQkJCQkJCQkJICRyb3dDbGFzcyA9ICJyb3cxIjsKCQkJCQkJCQkgfQoJCQkJCQkJCQkgJGJhcmFuZ0kgPSAiCgkJCQkJCQkJCQk8dHIgY2xhc3M9JyRyb3dDbGFzcycgdmFsaWduPSd0b3AnPgoJCQkJCQkJCQkJCTx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JHRoaXMtPm5vbW9yVXJ1dDwvdGQ+CgkJCQkJCQkJCQkJPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+Ii4kY29uY2F0QmFyYW5nSS4iPC90ZD4KCQkJCQkJCQkJCQk8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgID48c3BhbiBzdHlsZT0nbWFyZ2luLWxlZnQ6MzBweDsnPiIuJGdldE5hbWFCYXJhbmdJWydubV9iYXJhbmcnXS4iPC9zcGFuPjwvdGQ+CgkJCQkJCQkJCQkJPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+Ii4kZ2V0TmFtYUJhcmFuZ0lbJ3NhdHVhbiddLiI8L3RkPgoJCQkJCQkJCQkJCTx0ZCBhbGlnbj0ncmlnaHQnIGNsYXNzPSdHYXJpc0RhZnRhcicgID4iLm51bWJlcl9mb3JtYXQoJGp1bWxhaEJhcmFuZ0ksMCwnLCcsJy4nKS4iPC90ZD4KCQkJCQkJCQkJCQk8dGQgYWxpZ249J3JpZ2h0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+Ii5udW1iZXJfZm9ybWF0KCR0aGlzLT5nZXRIYXJnYSgka29uZGlzaVNLUEQsIiBhbmQgIGY9JyRmJyBhbmQgZz0nJGcnIGFuZCBoPSckaCcgYW5kIGk9JyRpJyAiLCRzZW1lc3RlciksMiwnLCcsJy4nKS4iPC90ZD4KCQkJCQkJCQkJCTwvdHI+CgkJCQkJCQkJCSI7CgkJCQkJCQkJCSR0aGlzLT5ub21vclVydXQgKz0xOwoJCQkJCQkJfQoJCQkJCQkJaWYoJGZpbHRlckxldmVsID09IDQpewoJCQkJCQkJCSR0aGlzLT50b3RhbEhhcmdhUGVyaGFsYW1hbiArPSAkdGhpcy0+Z2V0SGFyZ2EoJGtvbmRpc2lTS1BELCIgYW5kICBmPSckZicgYW5kIGc9JyRnJyBhbmQgaD0nJGgnIGFuZCBpPSckaScgIiwkc2VtZXN0ZXIpOwoJCQkJCQkJfQoJCQkJCQkgfQoJCQkJCQkgJGNvbmNhdEJhcmFuZ0ogPSAkZi4iLiIuJGcuIi4iLiRoLiIuIi4kaS4iLiIuJGo7CgkJCQkJCSBpZiAoaW5fYXJyYXkoJGNvbmNhdEJhcmFuZ0osICR0aGlzLT5hcnJheUJhcmFuZ0opKSB7CgkJCQkJCQkgJGJhcmFuZ0ogPSAiIjsKCQkJCQkJIH1lbHNlewoJCQkJCQkJIGlmKCRmaWx0ZXJMZXZlbCA+PSA1KXsKCQkJCQkJCQkgaWYoJHRoaXMtPm5vbW9yS29sb20gJSAyID09IDEpewoJCQkJCQkJCQkgJHJvd0NsYXNzID0gInJvdzAiOwoJCQkJCQkJCSB9ZWxzZXsKCQkJCQkJCQkJICRyb3dDbGFzcyA9ICJyb3cxIjsKCQkJCQkJCQkgfQoJCQkJCQkJCSAkYmFyYW5nSiA9ICIKCQkJCQkJCQkgPHRyIGNsYXNzPSckcm93Q2xhc3MnIHZhbGlnbj0ndG9wJz4KCQkJCQkJCQkgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInID4kdGhpcy0+bm9tb3JVcnV0PC90ZD4KCQkJCQkJCQkgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+Ii4kY29uY2F0QmFyYW5nSi4iPC90ZD4KCQkJCQkJCQkgPHRkIGFsaWduPSdsZWZ0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+PHNwYW4gc3R5bGU9J21hcmdpbi1sZWZ0OjQwcHg7Jz4iLiRnZXROYW1hQmFyYW5nSlsnbm1fYmFyYW5nJ10uIjwvc3Bhbj48L3RkPgoJCQkJCQkJCSA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgID4iLiRnZXROYW1hQmFyYW5nSlsnc2F0dWFuJ10uIjwvdGQ+CgkJCQkJCQkJIDx0ZCBhbGlnbj0ncmlnaHQnIGNsYXNzPSdHYXJpc0RhZnRhcicgID4iLm51bWJlcl9mb3JtYXQoJGp1bWxhaEJhcmFuZ0osMCwnLCcsJy4nKS4iPC90ZD4KCQkJCQkJCQkgPHRkIGFsaWduPSdyaWdodCcgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPiIubnVtYmVyX2Zvcm1hdCgkdGhpcy0+Z2V0SGFyZ2EoJGtvbmRpc2lTS1BELCIgYW5kICBmPSckZicgYW5kIGc9JyRnJyBhbmQgaD0nJGgnIGFuZCBpPSckaScgYW5kIGo9JyRqJyAiLCRzZW1lc3RlciksMiwnLCcsJy4nKS4iPC90ZD4KCQkJCQkJCQkgPC90cj4KCQkJCQkJCQkgIjsKCQkJCQkJCQkgJHRoaXMtPm5vbW9yVXJ1dCArPSAxOwoJCQkJCQkJIH0KCQkJCQkJCSBpZigkZmlsdGVyTGV2ZWwgPT0gNSl7CgkJCQkJCQkJICR0aGlzLT50b3RhbEhhcmdhUGVyaGFsYW1hbiArPSAkdGhpcy0+Z2V0SGFyZ2EoJGtvbmRpc2lTS1BELCIgYW5kICBmPSckZicgYW5kIGc9JyRnJyBhbmQgaD0nJGgnIGFuZCBpPSckaScgYW5kIGo9JyRqJyAiLCRzZW1lc3Rlcik7CgkJCQkJCQkgfQoJCQkJCQkgfQoJCQkJCQkgJGNvbmNhdEJhcmFuZ0oxID0gJGYuIi4iLiRnLiIuIi4kaC4iLiIuJGkuIi4iLiRqLiIuIi4kajE7CgkJCQkJCSBpZiAoaW5fYXJyYXkoJGNvbmNhdEJhcmFuZ0oxLCAkdGhpcy0+YXJyYXlCYXJhbmdKMSkpIHsKCQkJCQkJCSAkYXJyYXlCYXJhbmdKMSA9ICIiOwoJCQkJCQkgfWVsc2V7CgkJCQkJCQkgaWYoJGZpbHRlckxldmVsID49IDYpewoJCQkJCQkJCSAkYmFyYW5nSjEgPSAiCgkJCQkJCQkJIDx0ciBjbGFzcz0nJHJvd0NsYXNzJyB2YWxpZ249J3RvcCc+CgkJCQkJCQkJIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyA+JHRoaXMtPm5vbW9yVXJ1dDwvdGQ+CgkJCQkJCQkJIDx0ZCBhbGlnbj0nbGVmdCcgY2xhc3M9J0dhcmlzRGFmdGFyJyAgPiIuJGNvbmNhdEJhcmFuZ0oxLiI8L3RkPgoJCQkJCQkJCSA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgID48c3BhbiBzdHlsZT0nbWFyZ2luLWxlZnQ6NTBweDsnPiIuJGdldE5hbWFCYXJhbmdKMVsnbm1fYmFyYW5nJ10uIjwvc3Bhbj48L3RkPgoJCQkJCQkJCSA8dGQgYWxpZ249J2xlZnQnIGNsYXNzPSdHYXJpc0RhZnRhcicgID4iLiRnZXROYW1hQmFyYW5nSjFbJ3NhdHVhbiddLiI8L3RkPgoJCQkJCQkJCSA8dGQgYWxpZ249J3JpZ2h0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+Ii5udW1iZXJfZm9ybWF0KCRqdW1sYWhCYXJhbmdKMSwwLCcsJywnLicpLiI8L3RkPgoJCQkJCQkJCSA8dGQgYWxpZ249J3JpZ2h0JyBjbGFzcz0nR2FyaXNEYWZ0YXInICA+Ii5udW1iZXJfZm9ybWF0KCR0aGlzLT5nZXRIYXJnYSgka29uZGlzaVNLUEQsIiBhbmQgIGY9JyRmJyBhbmQgZz0nJGcnIGFuZCBoPSckaCcgYW5kIGk9JyRpJyBhbmQgaj0nJGonIGFuZCBqMSA9ICckajEnICIsJHNlbWVzdGVyKSwyLCcsJywnLicpLiIgPC90ZD4KCQkJCQkJCQkgPC90cj4KCQkJCQkJCQkgIjsKCQkJCQkJCQkgJHRoaXMtPnRvdGFsSGFyZ2FQZXJoYWxhbWFuICs9ICR0aGlzLT5nZXRIYXJnYSgka29uZGlzaVNLUEQsIiBhbmQgIGY9JyRmJyBhbmQgZz0nJGcnIGFuZCBoPSckaCcgYW5kIGk9JyRpJyBhbmQgaj0nJGonIGFuZCBqMSA9ICckajEnICIsJHNlbWVzdGVyKTsKCQkJCQkJCQkgJHRoaXMtPm5vbW9yVXJ1dCArPTE7CgkJCQkJCQkgfQoJCQkJCQkgfQoKCgoKCSRLb2xvbXMgPSBhcnJheSgKCQlhcnJheSgiVnVsbldhbGtlciIsICRiYXJhbmdGLiRiYXJhbmdHLiRiYXJhbmdILiRiYXJhbmdJLiRiYXJhbmdKLiRiYXJhbmdKMSkKCSApOwoJICR0aGlzLT5hcnJheUJhcmFuZ0ZbXSA9ICRmOwoJICR0aGlzLT5hcnJheUJhcmFuZ0dbXSA9ICRmLiIuIi4kZzsKCSAkdGhpcy0+YXJyYXlCYXJhbmdIW10gPSAkZi4iLiIuJGcuIi4iLiRoOwoJICR0aGlzLT5hcnJheUJhcmFuZ0lbXSA9ICRmLiIuIi4kZy4iLiIuJGguIi4iLiRpOwoJICR0aGlzLT5hcnJheUJhcmFuZ0pbXSA9ICRmLiIuIi4kZy4iLiIuJGguIi4iLiRpLiIuIi4kajsKCSAkdGhpcy0+YXJyYXlCYXJhbmdKMVtdID0gJGYuIi4iLiRnLiIuIi4kaC4iLiIuJGkuIi4iLiRqLiIuIi4kajE7CgoJIHJldHVybiAkS29sb21zOwoJfQoJZnVuY3Rpb24gZ2V0SnVtbGFoQmFyYW5nKCRrb25kaXNpU0tQRCwka29kZUJhcmFuZywka29uZGlzaVBlcmlvZGUpewoKCQkkc2FsZG9Bd2FsID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IHN1bShqdW1sYWgpIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgJGtvZGVCYXJhbmcgYW5kIGpucyA9ICcxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyAka29uZGlzaVBlcmlvZGUgYW5kIHllYXIodGFuZ2dhbF9idWt1KSA9ICckdGhpcy0+dGFodW5BbmdnYXJhbiciKSk7CgkJJGJlbGkgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3Qgc3VtKGp1bWxhaCkgZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgMT0xICRrb25kaXNpU0tQRCAka29kZUJhcmFuZyBhbmQgam5zID0gJzInIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnIGFuZCBjYXJhX3Blcm9sZWhhbiA9ICcyJyAka29uZGlzaVBlcmlvZGUgYW5kIHllYXIodGFuZ2dhbF9idWt1KSA9ICckdGhpcy0+dGFodW5BbmdnYXJhbiciKSk7CgkJJGhpYmFoID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IHN1bShqdW1sYWgpIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgJGtvZGVCYXJhbmcgYW5kIGpucyA9ICcyJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgY2FyYV9wZXJvbGVoYW4gPSAnMycgJGtvbmRpc2lQZXJpb2RlIGFuZCB5ZWFyKHRhbmdnYWxfYnVrdSkgPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIikpOwoJCSRjZWtGaXNpa1RhbWJhaCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBzdW0oanVtbGFoKSBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEICRrb2RlQmFyYW5nIGFuZCBqbnMgPSAnNCcgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgJGtvbmRpc2lQZXJpb2RlIGFuZCB5ZWFyKHRhbmdnYWxfYnVrdSkgPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIikpOwoKCQkka2VsdWFyID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IHN1bShqdW1sYWgpIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgJGtvZGVCYXJhbmcgYW5kIGpucyA9ICc2JyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcyJyAka29uZGlzaVBlcmlvZGUgYW5kIHllYXIodGFuZ2dhbF9idWt1KSA9ICckdGhpcy0+dGFodW5BbmdnYXJhbiciKSk7CgkJJGNla2Zpc2lrS3VyYW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IHN1bShqdW1sYWgpIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgYW5kIGQ9JyRkJyAka29kZUJhcmFuZyBhbmQgam5zID0gJzUnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzInICRrb25kaXNpUGVyaW9kZSBhbmQgeWVhcih0YW5nZ2FsX2J1a3UpID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyIpKTsKCQkkZGlzdHJpYnVzaVRhbWJhaCA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBzdW0oanVtbGFoKSBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSAxPTEgJGtvbmRpc2lTS1BEICRrb2RlQmFyYW5nIGFuZCBqbnMgPSAnMycgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgJGtvbmRpc2lQZXJpb2RlIGFuZCB5ZWFyKHRhbmdnYWxfYnVrdSkgPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIikpOwoJCSRkaXN0cmlidXNpS3VyYW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IHN1bShqdW1sYWgpIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgJGtvZGVCYXJhbmcgYW5kIGpucyA9ICc3JyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcyJyAka29uZGlzaVBlcmlvZGUgYW5kIHllYXIodGFuZ2dhbF9idWt1KSA9ICckdGhpcy0+dGFodW5BbmdnYXJhbiciKSk7CgoJCSRqdW1sYWhCYXJhbmcgPSAoJHNhbGRvQXdhbFsnc3VtKGp1bWxhaCknXSArICRiZWxpWydzdW0oanVtbGFoKSddICsgJGhpYmFoWydzdW0oanVtbGFoKSddICsgJGNla0Zpc2lrVGFtYmFoWydzdW0oanVtbGFoKSddICsgJGRpc3RyaWJ1c2lUYW1iYWhbJ3N1bShqdW1sYWgpJ10pIC0gKCRrZWx1YXJbJ3N1bShqdW1sYWgpJ10gKyAkY2VrZmlzaWtLdXJhbmdbJ3N1bShqdW1sYWgpJ10gKyAkZGlzdHJpYnVzaUt1cmFuZ1snc3VtKGp1bWxhaCknXSk7CgoJCXJldHVybiAkanVtbGFoQmFyYW5nOwoKCX0KCWZ1bmN0aW9uIGdldEhhcmdhKCRrb25kaXNpU0tQRCwka29kZUJhcmFuZywkc2VtZXN0ZXIpewoJCSAgJHRoaXMtPnF1ZXJ5SGFyZ2EgPSAic2VsZWN0IHN1bShoYXJnYSkgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgMT0xICRrb25kaXNpU0tQRCAka29kZUJhcmFuZyBhbmQgdGFodW4gPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iJyAkc2VtZXN0ZXIiOwoJCQkkZ2V0RGF0YSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBzdW0oaGFyZ2EpIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlIDE9MSAka29uZGlzaVNLUEQgJGtvZGVCYXJhbmcgYW5kIHRhaHVuID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIicgJHNlbWVzdGVyIikpOwoJCQlyZXR1cm4gJGdldERhdGFbJ3N1bShoYXJnYSknXTsKCX0KCWZ1bmN0aW9uIGdldEhhcmdhVG90YWwoJGtvZGVTS1BELCRrb2RlQmFyYW5nLCRzZW1lc3Rlcil7CgkJJHRoaXMtPnF1ZXJ5SGFyZ2EgPSAic2VsZWN0IHN1bShoYXJnYSkgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgMT0xICRrb2RlU0tQRCAka29kZUJhcmFuZyBhbmQgdGFodW4gPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iJyAkc2VtZXN0ZXIiOwoJCQkkZ2V0RGF0YSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBzdW0oaGFyZ2EpIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlICAxPTEgJGtvZGVTS1BEICRrb2RlQmFyYW5nIGFuZCB0YWh1biA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiInICRzZW1lc3RlciIpKTsKCQkJcmV0dXJuICRnZXREYXRhWydzdW0oaGFyZ2EpJ107Cgl9CglmdW5jdGlvbiBnZW5EYWZ0YXJPcHNpKCl7CgkgZ2xvYmFsICRSZWYsICRNYWluOwoJIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkJICQka2V5ID0gJHZhbHVlOwoJIH0KCSAkYXJyYXlQZXJoaXR1bmdhbiA9IGFycmF5KAoJCSAJCQkJYXJyYXkoJ0ZJU0lLJywnRklTSUsnKSwKCQkgCQkJCWFycmF5KCdIQVJHQScsJ0hBUkdBJyksCgkgKTsKCSAkY29tYm9QZXJoaXR1bmdhbiA9IGNtYkFycmF5KCdmaWx0ZXJQZXJoaXR1bmdhbicsIkZJU0lLIiwkYXJyYXlQZXJoaXR1bmdhbiwnLS0gUEVSSElUVU5HQU4gLS0nLCJvbmNoYW5nZT0kdGhpcy0+UHJlZml4LmZpbHRlclJlbmRlcih0cnVlKTsgZGlzYWJsZWQiKTsKCSAkYXJyYXlQZXJpb2RlID0gYXJyYXkoCgkJIAkJCQlhcnJheSgnMScsJ1NFTUVTVEVSIDEnKSwKCQkgCQkJCWFycmF5KCcyJywnU0VNRVNURVIgMicpLAoJCSAJCQkJYXJyYXkoJzMnLCdUQUhVTkFOJyksCgkgKTsKaWYoZW1wdHkoJGZpbHRlclBlcmlvZGUpKSRmaWx0ZXJQZXJpb2RlID0nMSc7CmlmKGVtcHR5KCRmaWx0ZXJMZXZlbCkpJGZpbHRlckxldmVsPSI2IjsKJGNvbWJvUGVyaW9kZSA9IGNtYkFycmF5KCdmaWx0ZXJQZXJpb2RlJywkZmlsdGVyUGVyaW9kZSwkYXJyYXlQZXJpb2RlLCctLSBQRVJISVRVTkdBTiAtLScsIm9uY2hhbmdlPSR0aGlzLT5QcmVmaXguZmlsdGVyUmVuZGVyKHRydWUpOyIpOwokY21iQWt1biA9ICIwIjsKJGNtYktlbG9tcG9rID0gIjAiOwokY21iSmVuaXMgPSAiMDgiOwokanVtbGFoRGF0YSA9ICRfUkVRVUVTVFsnanVtbGFoRGF0YSddOwokYXJyYXlMZXZlbCA9IGFycmF5KAoJCQkJIGFycmF5KCcxJywnMScpLAoJCQkJIGFycmF5KCcyJywnMicpLAoJCQkJIGFycmF5KCczJywnMycpLAoJCQkJIGFycmF5KCc0JywnNCcpLAoJCQkJIGFycmF5KCc1JywnNScpLAoJCQkJIGFycmF5KCc2JywnNicpLAopOwokY29tYm9MZXZlbCA9IGNtYkFycmF5KCdmaWx0ZXJMZXZlbCcsJGZpbHRlckxldmVsLCRhcnJheUxldmVsLCctLSBMRVZFTCAtLScsIm9uY2hhbmdlPSR0aGlzLT5QcmVmaXguZmlsdGVyUmVuZGVyKHRydWUpOyIpOwppZihlbXB0eSgkanVtbGFoRGF0YSkpJGp1bWxhaERhdGEgPSA1MDsKaWYoJHRoaXMtPmdldFN0YXR1c0hpdHVuZygkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nLiIuIi4kZmlsdGVyU0tQRC4iLiIuJGZpbHRlclVuaXQuIi4iLiRmaWx0ZXJTdWJVbml0LCRmaWx0ZXJQZXJpb2RlKSAhPSAwKXsKCSRjaGVja2VkSGl0dW5nID0gIlNVREFIIjsKCSR0aGlzLT50YW1iYWhIYXJnYURpc3RyaWJ1c2koJGZpbHRlclVydXNhbi4iLiIuJGZpbHRlckJpZGFuZy4iLiIuJGZpbHRlclNLUEQuIi4iLiRmaWx0ZXJVbml0LiIuIi4kZmlsdGVyU3ViVW5pdCwkZmlsdGVyUGVyaW9kZSk7Cn1lbHNlewoJJGNoZWNrZWRIaXR1bmcgPSAiQkVMVU0iOwp9CgppZigkZmlsdGVyUGVyaW9kZSA9PSAxKXsKCSR0YW5nZ2FsVHJhbnNha3NpID0gIjMxLTA2LSIuJHRoaXMtPnRhaHVuQW5nZ2FyYW47Cn1lbHNlewoJJHRhbmdnYWxUcmFuc2Frc2kgPSAiMzEtMTItIi4kdGhpcy0+dGFodW5BbmdnYXJhbjsKfQppZigkdGhpcy0+Z2V0U3RhdHVzQ2xvc2luZygkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nLiIuIi4kZmlsdGVyU0tQRC4iLiIuJGZpbHRlclVuaXQuIi4iLiRmaWx0ZXJTdWJVbml0LCR0aGlzLT5nZW5lcmF0ZURhdGUoJHRhbmdnYWxUcmFuc2Frc2kpKSAhPSAwKXsKCSRjaGVja2VkQ2xvc2luZyA9ICJTVURBSCI7Cn1lbHNlewoJJGNoZWNrZWRDbG9zaW5nID0gIkJFTFVNIjsKfQoka29kZUZpbHRlclNLUEQgPSAkZmlsdGVyVXJ1c2FuLiIuIi4kZmlsdGVyQmlkYW5nLiIuIi4kZmlsdGVyU0tQRC4iLiIuJGZpbHRlclVuaXQuIi4iLiRmaWx0ZXJTdWJVbml0OwppZigkdGhpcy0+c3FsTnVtUm93KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0dXR1cF9idWt1X3BlcnNlZGlhYW4gd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVGaWx0ZXJTS1BEJyBhbmQgdGFodW5fYW5nZ2FyYW4gPSckdGhpcy0+dGFodW5BbmdnYXJhbicgIikpICE9IDApewoJJGNoZWNrZWRUdXR1cEJ1a3UgPSAiU1VEQUgiOwp9ZWxzZXsKCSRjaGVja2VkVHV0dXBCdWt1ID0gIkJFTFVNIjsKfQppZigkZmlsdGVyU2VtdWFCYXJhbmcgPT0gIlNIT1ciKSRjaGVja2VkU3RhdHVzPSAiY2hlY2tlZCI7CgokY29tYm9IaXR1bmcgPSAiJm5ic3AgPGlucHV0IHR5cGU9J3RleHQnIHJlYWRvbmx5IHZhbHVlPSckY2hlY2tlZEhpdHVuZycgc3R5bGU9J3dpZHRoOjUwcHg7JyA+IjsKJGNvbWJvQ2xvc2luZyA9ICImbmJzcCA8aW5wdXQgdHlwZT0ndGV4dCcgcmVhZG9ubHkgdmFsdWU9JyRjaGVja2VkQ2xvc2luZycgc3R5bGU9J3dpZHRoOjUwcHg7JyA+IjsKJGNvbWJvVHV0dXBCdWt1ID0gIiZuYnNwIDxpbnB1dCB0eXBlPSd0ZXh0JyByZWFkb25seSB2YWx1ZT0nJGNoZWNrZWRUdXR1cEJ1a3UnIHN0eWxlPSd3aWR0aDo1MHB4OycgPiI7CiRUYW1waWxPcHQgPQoJCSI8dGFibGUgd2lkdGg9XCIxMDAlXCIgY2xhc3M9XCJhZG1pbmZvcm1cIj4JPHRyPgoJCTx0ZCB3aWR0aD1cIjEwMCVcIiB2YWxpZ249XCJ0b3BcIj4KCQkJIiAuICR0aGlzLT5nZW5GaWx0ZXJTdWJVbml0KCR0aGlzLT5QcmVmaXgsJHRoaXMtPlByZWZpeC4nRmlsdGVyU0tQRCcsJzEwMCUnLCcxNDVweCcpIC4KCQkiPC90ZD4KCQk8L3RyPjwvdGFibGU+Ii4KCQkJCQlnZW5GaWx0ZXJCYXIoCgkJCQkJCWFycmF5KAoJCQkJCQkJIgoJCQkJCQkJS09ERSBCQVJBTkcgJm5ic3AgJm5ic3AgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2ZpbHRlcktvZGVCYXJhbmcnIGlkPSdmaWx0ZXJLb2RlQmFyYW5nJyB2YWx1ZT0nJGZpbHRlcktvZGVCYXJhbmcnID4gICZuYnNwICZuYnNwCgkJCQkJCQlOQU1BIEJBUkFORyAgJm5ic3AgJm5ic3AgPGlucHV0IHR5cGU9J3RleHQnIGlkPSdmaWx0ZXJOYW1hQmFyYW5nJyBuYW1lPSdmaWx0ZXJOYW1hQmFyYW5nJyB2YWx1ZT0nJGZpbHRlck5hbWFCYXJhbmcnID4gJm5ic3AgJm5ic3AKCQkJCQkJCTxpbnB1dCB0eXBlPSdjaGVja2JveCcgIG5hbWU9J2ZpbHRlclNlbXVhQmFyYW5nJyBpZD0nZmlsdGVyU2VtdWFCYXJhbmcnIHZhbHVlPSdTSE9XJyAkY2hlY2tlZFN0YXR1cz4gVEFNUElMS0FOIFNFTVVBIEJBUkFORyAmbmJzcAoJCQkJCQkJICIKCQkJCQkpLCcnLCcnLCcnKS4KCQkJCQlnZW5GaWx0ZXJCYXIoCgkJCQkJCWFycmF5KAoJCQkJCQkJIlRBSFVOICAmbmJzcCAmbmJzcCA8aW5wdXQgdHlwZT0ndGV4dCcgcmVhZG9ubHkgbmFtZT0nZmlsdGVyVGFodW4nIGlkPSdmaWx0ZXJUYWh1bicgdmFsdWU9JyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIicgc3R5bGU9J3dpZHRoOjQwcHg7Jz4gJm5ic3AgJm5ic3AgUEVSSU9ERSAmbmJzcCAmbmJzcCAkY29tYm9QZXJpb2RlICAmbmJzcCAmbmJzcCBMRVZFTCAmbmJzcCAmbmJzcCAkY29tYm9MZXZlbCAgIgoJCQkJCSksJycsJycsJycpLgoJCQkJCWdlbkZpbHRlckJhcigKCQkJCQkJYXJyYXkoCgkJCQkJCQkiSElUVU5HIDogJGNvbWJvSGl0dW5nICZuYnNwJm5ic3AmbmJzcCBDTE9TSU5HIDogJGNvbWJvQ2xvc2luZyAmbmJzcCZuYnNwJm5ic3AgVFVUVVAgQlVLVSA6ICRjb21ib1R1dHVwQnVrdSIKCQkJCQkpLCcnLCcnLCcnKS4KCQkJCQlnZW5GaWx0ZXJCYXIoCgkJCQkJCWFycmF5KAoJCQkJCQkJIkpVTUxBSCBEQVRBICZuYnNwICZuYnNwIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lID0nanVtbGFoRGF0YScgaWQ9J2p1bWxhaERhdGEnIHZhbHVlID0nJGp1bWxhaERhdGEnIHN0eWxlPSd3aWR0aDo0MHB4Oyc+ICAmbmJzcCA8aW5wdXQgdHlwZT0nYnV0dG9uJyBvbmNsaWNrID0kdGhpcy0+UHJlZml4LnJlZnJlc2hMaXN0KHRydWUpOyB2YWx1ZT0nVGFtcGlsa2FuJz4iCgkJCQkJKSwnJywnJywnJykKCQkJCQkJOwoKCQlyZXR1cm4gYXJyYXkoJ1RhbXBpbE9wdCc9PiRUYW1waWxPcHQpOwoKCgl9CgoKCWZ1bmN0aW9uIGdldERhZnRhck9wc2koJE1vZGU9MSl7CgkJZ2xvYmFsICRNYWluLCAkSFRUUF9DT09LSUVfVkFSUzsKCQkkVUlEID0gJF9DT09LSUVbJ2NvSUQnXTsKCQkvL2tvbmRpc2kgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkkYXJyS29uZGlzaSA9IGFycmF5KCk7CgkJZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7CgkJCQkgICQka2V5ID0gJHZhbHVlOwoJCX0KCQkkYXJyS29uZGlzaVtdID0gImYgPSAnMDgnIGFuZCBqMSE9JzAwMDAnIjsKCgkJaWYoJGZpbHRlclVydXNhbiAhPScwMCcpewoJCQkJLy8gJGFycktvbmRpc2lbXSA9ICJjMSA9ICckZmlsdGVyVXJ1c2FuJyI7CgkJCQkka29uZGlzaVNLUEQgPSAiIGFuZCBjMT0nJGZpbHRlclVydXNhbiciOwoJCX0KCQlpZigkZmlsdGVyQmlkYW5nICE9JzAwJyl7CgkJCQkvLyAkYXJyS29uZGlzaVtdID0gImMgPSAnJGZpbHRlckJpZGFuZyciOwoJCQkJJGtvbmRpc2lTS1BEIC49ICIgYW5kIGM9JyRmaWx0ZXJCaWRhbmcnIjsKCQl9CgkJaWYoJGZpbHRlclNLUEQgIT0nMDAnKXsKCQkJCS8vICRhcnJLb25kaXNpW10gPSAiZCA9ICckZmlsdGVyU0tQRCciOwoJCQkJJGtvbmRpc2lTS1BEIC49ICIgYW5kIGQ9JyRmaWx0ZXJTS1BEJyI7CgkJfQoJCWlmKCRmaWx0ZXJVbml0ICE9JzAwJyl7CgkJCQkvLyAkYXJyS29uZGlzaVtdID0gImUgPSAnJGZpbHRlclVuaXQnIjsKCQkJCSRrb25kaXNpU0tQRCAuPSAiIGFuZCBlPSckZmlsdGVyVW5pdCciOwoJCX0KCQlpZigkZmlsdGVyU3ViVW5pdCAhPScwMDAnKXsKCQkJCS8vICRhcnJLb25kaXNpW10gPSAiZTEgPSAnJGZpbHRlclN1YlVuaXQnIjsKCQkJCSRrb25kaXNpU0tQRCAuPSAiIGFuZCBlMT0nJGZpbHRlclN1YlVuaXQnIjsKCQl9CgkJaWYoIWVtcHR5KCRmaWx0ZXJLb2RlQmFyYW5nKSl7CgkJCSRhcnJLb25kaXNpW10gPSAiICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nIGxpa2UgJyUkZmlsdGVyS29kZUJhcmFuZyUnICI7CgkJfQoJCS8vICRhcnJLb25kaXNpW10gPSAibGVmdCh0YW5nZ2FsX2J1a3UsNCkgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iJyI7CgkJaWYoZW1wdHkoJGZpbHRlclBlcmlvZGUpKSRmaWx0ZXJQZXJpb2RlPScxJzsKCQlpZighZW1wdHkoJGZpbHRlck5hbWFCYXJhbmcpKXsKCQkJJGFycktvbmRpc2lbXSA9ICIgbm1fYmFyYW5nIGxpa2UgJyUkZmlsdGVyTmFtYUJhcmFuZyUnIjsKCQkgLy8gJGdldERhdGFCYXJhbmcgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyBhcyBjb25jYXRLb2RlQmFyYW5nIGZyb20gcmVmX2JhcmFuZyB3aGVyZSBubV9iYXJhbmcgbGlrZSAnJSRmaWx0ZXJOYW1hQmFyYW5nJScgYW5kIGoxICE9JycgYW5kIGoxIT0nMDAwMCcgYW5kIGYgPSAnMDgnIik7CgkJIC8vIHdoaWxlICgkZGF0YUJhcmFuZyA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YUJhcmFuZykpIHsKCQkJLy8gCSRhcnJheUNvbmNhdEtvZGVCYXJhbmdbXSA9ICInIi4kZGF0YUJhcmFuZ1snY29uY2F0S29kZUJhcmFuZyddLiInIjsKCQkgLy8gfQoJCQkvLyAkYXJyS29uZGlzaVtdID0gIiAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyBpbiAoIi5pbXBsb2RlKCIsIiwkYXJyYXlDb25jYXRLb2RlQmFyYW5nKS4iKSI7CgkgfQoKCQkgaWYoZW1wdHkoJGZpbHRlclBlcmlvZGUpKSRmaWx0ZXJQZXJpb2RlPScxJzsKCQkgaWYoIWVtcHR5KCRmaWx0ZXJQZXJpb2RlKSl7CgkJCQkgaWYoJGZpbHRlclBlcmlvZGUgPT0gJzEnKXsKCQkJCQkJICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMDYiOwoJCQkJCQkgLy8gJGFycktvbmRpc2lbXSA9ICJyZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKCQkJCQkJICRjb25kaXRpb25QZXJpb2RlID0gImFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKCQkJCSB9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09ICcyJyl7CgkJCQkJCSAkbWluRmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA3IjsKCQkJCQkJICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMTIiOwoJCQkJCQkgLy8gJGFycktvbmRpc2lbXSA9ICJyZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPj0gJyRtaW5GaWx0ZXInIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKCQkJCQkJICRjb25kaXRpb25QZXJpb2RlID0gImFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPj0gJyRtaW5GaWx0ZXInIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKCQkJCQkJIC8vIGlmKCRmaWx0ZXJTdWJVbml0ICE9ICcwMDAnICl7CgkJCQkJCQkvLyAgJHRoaXMtPlRibE5hbWUgPSAidmlld19kYWZ0YXJfcGVyc2VkaWFhbl9zZW1lc3Rlcl8yIjsKCQkJCQkJIC8vIH1lbHNlewoJCQkJCQkJLy8gICR0aGlzLT5UYmxOYW1lID0gInZpZXdfZGFmdGFyX3BlcnNlZGlhYW5fcmVrYXBfc2VtZXN0ZXJfMiI7CgkJCQkJCSAvLyB9CgkJCQkgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAnMycpewoJCQkJCQkgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CgkJCQkJCSAvLyAkYXJyS29uZGlzaVtdID0gInJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlciciOwoJCQkJIH0KCQkgfQoJCSBpZigkZmlsdGVyU2VtdWFCYXJhbmcgIT0gIlNIT1ciKXsKCQkJICRnZXREYXRhRXhjZXB0ID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBsZWZ0KHRhbmdnYWxfYnVrdSw0KSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiInIGFuZCBqdW1sYWggPSAnMCcgJGNvbmRpdGlvblBlcmlvZGUgJGtvbmRpc2lTS1BEICIpOwoJCQkgd2hpbGUgKCRkYXRhRXhjZXB0ID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhRXhjZXB0KSkgewoJCQkgICRrb2RlQmFyYW5nID0gJGRhdGFFeGNlcHRbJ2YnXS4iLiIuJGRhdGFFeGNlcHRbJ2cnXS4iLiIuJGRhdGFFeGNlcHRbJ2gnXS4iLiIuJGRhdGFFeGNlcHRbJ2knXS4iLiIuJGRhdGFFeGNlcHRbJ2onXS4iLiIuJGRhdGFFeGNlcHRbJ2oxJ107CgkJCSAJaWYoJHRoaXMtPnNxbE51bVJvdygkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGxlZnQodGFuZ2dhbF9idWt1LDQpID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIicgYW5kIGp1bWxhaCAhPSAnMCcgYW5kIGNvbmNhdChmLCcuJyxnLCcuJyxoLCcuJyxpLCcuJyxqLCcuJyxqMSkgPSAnJGtvZGVCYXJhbmcnICRjb25kaXRpb25QZXJpb2RlICRrb25kaXNpU0tQRCAiKSkgPT0gMCl7CiAJCQkJCSRhcnJheUV4Y2VwdFtdID0gIiciLiRkYXRhRXhjZXB0WydmJ10uIi4iLiRkYXRhRXhjZXB0WydnJ10uIi4iLiRkYXRhRXhjZXB0WydoJ10uIi4iLiRkYXRhRXhjZXB0WydpJ10uIi4iLiRkYXRhRXhjZXB0WydqJ10uIi4iLiRkYXRhRXhjZXB0WydqMSddLiInIjsKIAkJCQl9CgkJCSB9CgkJCSBpZihzaXplb2YoJGFycmF5RXhjZXB0KSAhPSAwKXsKIAkJCQkkYXJyS29uZGlzaVtdID0gIiBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpIG5vdCBpbiAoIi5pbXBsb2RlKCIsIiwkYXJyYXlFeGNlcHQpLiIpIjsKIAkJCSB9CgkJIH0KCQkkS29uZGlzaT0gam9pbignIGFuZCAnLCRhcnJLb25kaXNpKTsKCQkkS29uZGlzaSA9ICRLb25kaXNpID09JycgPyAnJzonIFdoZXJlICcuJEtvbmRpc2kgOwoJCS8vT3JkZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCSRmbU9SREVSMSA9IGNla1BPU1QoJ2ZtT1JERVIxJyk7CgkJJGZtREVTQzEgPSBjZWtQT1NUKCdmbURFU0MxJyk7CgkJJEFzYzEgPSAkZm1ERVNDMSA9PScnPyAnJzogJ2Rlc2MnOwoJCSRhcnJPcmRlcnMgPSBhcnJheSgpOwoJCSRPcmRlcj0gam9pbignLCcsJGFyck9yZGVycyk7CgkJJE9yZGVyRGVmYXVsdCA9ICcnOwoJCSRPcmRlciA9ICAkT3JkZXIgPT0nJz8gJE9yZGVyRGVmYXVsdCA6ICcgT3JkZXIgQnkgJy4kT3JkZXI7CgoJCWlmKGVtcHR5KCRqdW1sYWhEYXRhKSkkanVtbGFoRGF0YSA9NTA7CgkJJHRoaXMtPnBhZ2VQZXJIYWwgPSAkanVtbGFoRGF0YTsKCQkkcGFnZVBlckhhbCA9ICR0aGlzLT5wYWdlUGVySGFsID09JycgPyAkTWFpbi0+UGFnZVBlckhhbDogJHRoaXMtPnBhZ2VQZXJIYWw7CgkJJEhhbERlZmF1bHQ9Y2VrUE9TVCgkdGhpcy0+UHJlZml4LidfaGFsJywxKTsKCQkvLyRMaW1pdCA9ICIgbGltaXQgIi4oKCRIYWxEZWZhdWx0CSoxKSAtIDEpICogJE1haW4tPlBhZ2VQZXJIYWwuIiwiLiRNYWluLT5QYWdlUGVySGFsOyAvLyRMaW1pdEhhbCA9ICcnOwoJCSRMaW1pdCA9ICIgbGltaXQgIi4oKCRIYWxEZWZhdWx0CSoxKSAtIDEpICogJHBhZ2VQZXJIYWwuIiwiLiRwYWdlUGVySGFsOyAvLyRMaW1pdEhhbCA9ICcnOwoJCSRMaW1pdCA9ICRNb2RlID09IDMgPyAnJzogJExpbWl0OwoJCS8vbm9hd2FsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCSROb0F3YWw9ICRwYWdlUGVySGFsICogKCgkSGFsRGVmYXVsdCoxKSAtIDEpOwoJCSROb0F3YWwgPSAkTW9kZSA9PSAzID8gMDogJE5vQXdhbDsKCgkJcmV0dXJuIGFycmF5KCdLb25kaXNpJz0+JEtvbmRpc2ksICdPcmRlcic9PiRPcmRlciAsJ0xpbWl0Jz0+JExpbWl0LCAnTm9Bd2FsJz0+JE5vQXdhbCApOwoKCX0KCglmdW5jdGlvbiBIYXB1cygkaWRzKXsgLy92YWxpZGFzaSBoYXB1cyByZWZfa290YQoJCSAkZXJyPScnOyAkY2VrPScnOwoJCWZvcigkaSA9IDA7ICRpPGNvdW50KCRpZHMpOyAkaSsrKQl7CgoKCQkJJHF5ID0gIkRFTEVURSBGUk9NICR0aGlzLT5UYmxOYW1lX0hhcHVzIFdIRVJFIGlkPSciLiRpZHNbJGldLiInICI7JGNlay49JHF5OwoJCQkkcXJ5ID0gJHRoaXMtPnNxbFF1ZXJ5KCRxeSk7CgoJCX0KCQlyZXR1cm4gYXJyYXkoJ2Vycic9PiRlcnIsJ2Nlayc9PiRjZWspOwoJfQoKCWZ1bmN0aW9uIHBhZ2VTaG93KCl7CgkJZ2xvYmFsICRhcHAsICRNYWluOwoKCQkkbmF2YXRhc18gPSAkdGhpcy0+c2V0TmF2QXRhcygpOwoJCSRuYXZhdGFzID0gJG5hdmF0YXNfPT0nJz8gLy8gJzAnOiAnMjAnOwoJCQknJzoKCQkJIjx0cj48dGQgaGVpZ2h0PScyMCc+Ii4KCQkJCQkkbmF2YXRhc18uCgkJCSI8L3RkPjwvdHI+IjsKCQkkZm9ybTEgPSAkdGhpcy0+d2l0aGZvcm0\/ICI8Zm9ybSBuYW1lPSckdGhpcy0+Rm9ybU5hbWUnIGlkPSckdGhpcy0+Rm9ybU5hbWUnIG1ldGhvZD0ncG9zdCcgYWN0aW9uPScnPiIgOiAnJzsKCQkkZm9ybTIgPSAkdGhpcy0+d2l0aGZvcm0\/ICI8L2Zvcm0gPiI6ICcnOwoKCQlpZigkdGhpcy0+amVuaXNGb3JtID09IlBFTllVU1VOQU4iIHx8ICR0aGlzLT5qZW5pc0Zvcm0gPT0iVkFMSURBU0kiIHx8ICR0aGlzLT5qZW5pc0Zvcm1UZXJha2hpciA9PSAiUEVOWVVTVU5BTiIgfHwgJHRoaXMtPmplbmlzRm9ybVRlcmFraGlyID09ICJWQUxJREFTSSIgKXsKCQkJJHRlcmdhbnR1bmcgPSAiMTAwIjsKCQl9ZWxzZXsKCQkJJHRlcmdhbnR1bmcgPSAiMTAwIjsKCQl9CgkJcmV0dXJuCgoJCSI8aHRtbD4iLgoJCQkkdGhpcy0+Z2VuSFRNTEhlYWQoKS4KCQkJIjxib2R5ID4iLgoKCQkJIjx0YWJsZSBpZD0nS2VyYW5na2FIYWwnIGNsYXNzPSdtZW51YmFyJyBjZWxsc3BhY2luZz0nMCcgY2VsbHBhZGRpbmc9JzAnIGJvcmRlcj0nMCcgIGhlaWdodD0nMTAwJScgPiIuCgkJCQkiPHRyIGhlaWdodD0nMzQnPjx0ZD4iLgoJCQkJCSR0aGlzLT5zZXRQYWdlX0hlYWRlcigpLgoJCQkJCSI8ZGl2IGlkPSdoZWFkZXInID48L2Rpdj4iLgoJCQkJIjwvdGQ+PC90cj4iLgoJCQkJJG5hdmF0YXMuCgkJCQkiPHRyIGhlaWdodD0nKicgdmFsaWduPSd0b3AnPiA8dGQgPiIuCgoJCQkJCSR0aGlzLT5zZXRQYWdlX0hlYWRlck90aGVyKCkuCgkJCQkJIjxkaXYgYWxpZ249J2NlbnRlcicgY2xhc3M9J2NlbnRlcm1haW4nID4iLgoJCQkJCSI8ZGl2IGNsYXNzPSdtYWluJyA+Ii4KCQkJCQkkZm9ybTEuCgkJCQkJCSR0aGlzLT5zZXRQYWdlX0NvbnRlbnQoKS4KCgkJCQkJJGZvcm0yLgoJCQkJCSI8L2Rpdj48L2Rpdj4iLgoJCQkJIjwvdGQ+PC90cj4iLgoJCQkJIjx0cj48dGQgaGVpZ2h0PScyOScgPiIuCgkJCQkJJE1haW4tPkNvcHlSaWdodC4KCQkJCSI8L3RkPjwvdHI+Ii4KCQkJCSRPdGhlckZvb3RlclBhZ2UuCgkJCSI8L3RhYmxlPiIuCgkJCSI8L2JvZHk+CgkJPC9odG1sPgoJCTxzdHlsZT4KCQkJI2tlcmFuZ2thSGFsIHsKCQkJCQkJd2lkdGg6JHRlcmdhbnR1bmclOwoJCQl9CgoJCTwvc3R5bGU+CgkJIjsKCX0KCmZ1bmN0aW9uIExhcG9yYW4oJGR0KXsKCSBnbG9iYWwgJFNlbnN1c1RtcDsKCSAkY2VrID0gJyc7ICRlcnI9Jyc7ICRjb250ZW50PScnOwoJICRqc29uID0gVFJVRTsJLy8kRXJyTXNnID0gJ3Rlcyc7CgkgJGZvcm1fbmFtZSA9ICR0aGlzLT5QcmVmaXguJ19mb3JtJzsKCSAkdGhpcy0+Zm9ybV93aWR0aCA9IDQ1MDsKCSAkdGhpcy0+Zm9ybV9oZWlnaHQgPSAxMDA7CgkgJHRoaXMtPmZvcm1fY2FwdGlvbiA9ICdMQVBPUkFOIFJLQk1EIFBFTkdBREFBTic7CgoJICRjMSA9ICRkdFsnZmlsdGVyVXJ1c2FuJ107CgkgJGMgPSAkZHRbJ2ZpbHRlckJpZGFuZyddOwoJICRkID0gJGR0WydmaWx0ZXJTS1BEJ107CgkgJGUgPSAkZHRbJ2ZpbHRlclVuaXQnXTsKCSAkZTEgPSAkZHRbJ2ZpbHRlclN1YlVuaXQnXTsKCgkgCSRhcnJheUplbmlzTGFwb3JhbiA9IGFycmF5KAoJCQkJCQkJICAgYXJyYXkoJ0xhcG9yYW4yJywgJ0RBRlRBUiBQRUxBUE9SQU4gUEVSU0VESUFBTiBCQVJBTkcnKSwKCgkJCQkJCQkgICApOwoKCSAgJGNtYkplbmlzTGFwb3JhbiA9IGNtYkFycmF5KCdqZW5pc0tlZ2lhdGFuJywnJywkYXJyYXlKZW5pc0xhcG9yYW4sJy0tIEpFTklTIExBUE9SQU4gLS0nLCJvbmNoYW5nZSA9ICR0aGlzLT5QcmVmaXguamVuaXNDaGFuZ2VkKCk7Iik7CgkgICR0aGlzLT5mb3JtX2ZpZWxkcyA9IGFycmF5KAoJCQknamVuaXNMYXBvcmFuJyA9PiBhcnJheSgKCQkJCQkJJ2xhYmVsJz0+J0pFTklTIExBUE9SQU4nLAoJCQkJCQknbGFiZWxXaWR0aCc9PjEwMCwKCQkJCQkJJ3ZhbHVlJz0+ICRjbWJKZW5pc0xhcG9yYW4KCQkJCQkJICksCgkJCSdDZXRha2phbmcnID0+IGFycmF5KAoJCQkJCQkJCQknbGFiZWwnPT4nVEFOR0dBTCBDRVRBSycsCgkJCQkJCQkJCSdsYWJlbFdpaWR0aCc9PjEwMCwKCQkJCQkJCQkJJ3ZhbHVlJz0+IjxpbnB1dCB0eXBlPSdkYXRlJyBuYW1lPSdjZXRha2phbmcnIGlkPSdjZXRha2phbmcnIHZhbHVlPSciLmRhdGUoJ1ktbS1kJykuIic+CgkJCQkJCQkJCSIsCgkJCQkJCQkJKSwKCQkJJ3R0ZCcgPT4gYXJyYXkoCiAgICAgICAgICAgICAgICAgICdsYWJlbCc9PidUVEQnLAogICAgICAgICAgICAgICAgICAnbGFiZWxXaWlkdGgnPT4xMDAsCiAgICAgICAgICAgICAgICAgICd2YWx1ZSc9PmNtYlF1ZXJ5KCd0dGQnLCRkLCJTRUxFQ1QgSWQsIG5hbWEgZnJvbSByZWZfdGFuZGF0YW5nYW4gd2hlcmUga2F0ZWdvcmlfdGFuZGF0YW5nYW4gPSAyMyBhbmQgYzEgPSAnJGMxJyBhbmQgYyA9ICckYycgYW5kIGQgPSAnJGQnIGFuZCBlID0gJyRlJyBhbmQgZTEgPSAnJGUxJyAiLCdvbmNoYW5nZT1ya2EucmVmcmVzaExpc3QodHJ1ZSk7JywnLS0gVFREIC0tJyksCgogICAgICAgICAgICAgICAgKSwKCgkJCSk7CgkJLy90b21ib2wKCQkkdGhpcy0+Zm9ybV9tZW51YmF3YWggPQoJCQkiCiAgICAgIDxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdUVEQnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5CYXJ1KCknIHRpdGxlPSdUVEQnID4KCQkJPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J1ZpZXcnIG9uY2xpY2sgPSciLiR0aGlzLT5QcmVmaXguIi5SZXBvcnQoKScgdGl0bGU9J1NpbXBhbicgPiAgICIuCgkJCSI8aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nQmF0YWwnIG9uY2xpY2sgPSdwZWxhcG9yYW5QZXJzZWRpYWFuLkNsb3NlKCknID4iOwoKCQkkZm9ybSA9ICR0aGlzLT5nZW5Gb3JtKCk7CgkJJGNvbnRlbnQgPSAkZm9ybTsvLyRjb250ZW50ID0gJ2NvbnRlbnQnOwoJCXJldHVybglhcnJheSAoJ2Nlayc9PiRjZWssICdlcnInPT4kZXJyLCAnY29udGVudCc9PiRjb250ZW50KTsKCX0KCgoKCgoKCgoKCgoJZnVuY3Rpb24gY2hlY2tLb3NvbmcoJGp1bWxhaCl7CgkJCWlmKCRqdW1sYWggPT0gMCB8fCAkanVtbGFoID09ICcnKXsKCQkJCQkkanVtbGFoID0gIiI7CgkJCX0KCQkJcmV0dXJuICRqdW1sYWg7Cgl9CgoJZnVuY3Rpb24gbnVsbENoZWNrZXIoJGFuZ2thKXsKCQlpZihlbXB0eSgkYW5na2EpKXsKCQkJCSRhbmdrYSA9ICIiOwoJCX0KCQlyZXR1cm4gJGFuZ2thOwoKCX0KCglmdW5jdGlvbiByZW1vdmVLb21hKCRhbmdrYSl7CgkJCXJldHVybiBzdHJfcmVwbGFjZSgiLjAwIiwiIiwkYW5na2EpOwoJfQoKCglmdW5jdGlvbiBrYXNpaE5vbCgkYW5na2EpewoJCQlpZigkYW5na2EgPCAxMCl7CgkJCQkJJGh1YmxhID0gIjAwMCIuJGFuZ2thOwoJCQl9ZWxzZWlmKCRhbmdrYSA8IDEwMCl7CgkJCQkJJGh1YmxhID0gIjAwIi4kYW5na2E7CgkJCX1lbHNlaWYoJGFuZ2thIDwgMTAwMCl7CgkJCQkJJGh1YmxhID0gIjAiLiRhbmdrYTsKCQkJfWVsc2VpZigkYW5na2EgPCAxMDAwMCl7CgkJCQkJJGh1YmxhID0gJGFuZ2thOwoJCQl9CgkJCXJldHVybiAkaHVibGE7Cgl9CglmdW5jdGlvbiBjaGVja0ZpZm8oJGtvbmRpc2lTS1BELCAkc2VtZXN0ZXIpewogICAgJGFycmF5RXJyb3IgPSBhcnJheSgpOwogICAgJGdldERhdGFTS1BEID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlICRrb25kaXNpU0tQRCBhbmQgZTEhPScwMDAnIik7CiAgICB3aGlsZSAoJGRhdGFTS1BEID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhU0tQRCkpIHsKICAgICAgJGtvZGVTS1BEID0gJGRhdGFTS1BEWydjMSddLiIuIi4kZGF0YVNLUERbJ2MnXS4iLiIuJGRhdGFTS1BEWydkJ10uIi4iLiRkYXRhU0tQRFsnZSddLiIuIi4kZGF0YVNLUERbJ2UxJ107CiAgICAgICRnZXREYXRhUGVyc2VkaWFhbiA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB2aWV3X2RhZnRhcl9wZXJzZWRpYWFuIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCciKTsKICAgICAgd2hpbGUgKCRkYXRhUGVyc2VkaWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVBlcnNlZGlhYW4pKSB7CiAgICAgICAgICAka29kZUJhcmFuZyA9ICRkYXRhUGVyc2VkaWFhblsnZiddLiIuIi4kZGF0YVBlcnNlZGlhYW5bJ2cnXS4iLiIuJGRhdGFQZXJzZWRpYWFuWydoJ10uIi4iLiRkYXRhUGVyc2VkaWFhblsnaSddLiIuIi4kZGF0YVBlcnNlZGlhYW5bJ2onXS4iLiIuJGRhdGFQZXJzZWRpYWFuWydqMSddOwogICAgICAgICAgJGhhc2lsQ2hlY2sgPSAgJHRoaXMtPmNoZWNrQmFyYW5nKCRrb2RlU0tQRCwka29kZUJhcmFuZywkc2VtZXN0ZXIpOwogICAgICAgICAgaWYoc2l6ZW9mKCRoYXNpbENoZWNrKSA+IDApewogICAgICAgICAgICAkYXJyYXlFcnJvcltdID0gYXJyYXkoJ2tvZGVCYXJhbmcnID0+ICRrb2RlQmFyYW5nLCAnaWRLYXJ0dVBlcnNlZGlhYW4nID0+ICRoYXNpbENoZWNrKTsKICAgICAgICAgIH0KICAgICAgfQogICAgfQogICAgaWYoc2l6ZW9mKCRhcnJheUVycm9yKSA+IDAgKXsKICAgICAgJGVycm9yTWVzc2FnZSA9ICJBZGEgZGF0YSB5YW5nIGVycm9yIHNpbGFoa2FuIGNlayBkaSBkYWZ0YXIgcGVyc2VkaWFhbiAhIjsKICAgIH1lbHNlewogICAgICAkZXJyb3JNZXNzYWdlID0gIiI7CiAgICB9CiAgICByZXR1cm4gJGVycm9yTWVzc2FnZTsKICB9CglmdW5jdGlvbiBjaGVja0JhcmFuZygka29kZVNLUEQsJGtvZGVCYXJhbmcsJHBlcmlvZGUpewogICAgJGVyciA9ICIiOwogICAgJGNlayA9ICIiOwogICAgJGNvbnRlbnQgPSAiIjsKICAgICRleHBsb2RlS29kZVNLUEQgPSBleHBsb2RlKCIuIiwka29kZVNLUEQpOwogICAgJGV4cGxvZGVLb2RlQmFyYW5nID0gZXhwbG9kZSgiLiIsJGtvZGVCYXJhbmcpOwogICAgJGMxID0gJGV4cGxvZGVLb2RlU0tQRFswXTsKICAgICRjID0gJGV4cGxvZGVLb2RlU0tQRFsxXTsKICAgICRkID0gJGV4cGxvZGVLb2RlU0tQRFsyXTsKICAgICRlID0gJGV4cGxvZGVLb2RlU0tQRFszXTsKICAgICRlMSA9ICRleHBsb2RlS29kZVNLUERbNF07CiAgICAkZiA9ICRleHBsb2RlS29kZUJhcmFuZ1swXTsKICAgICRnID0gJGV4cGxvZGVLb2RlQmFyYW5nWzFdOwogICAgJGggPSAkZXhwbG9kZUtvZGVCYXJhbmdbMl07CiAgICAkaSA9ICRleHBsb2RlS29kZUJhcmFuZ1szXTsKICAgICRqID0gJGV4cGxvZGVLb2RlQmFyYW5nWzRdOwogICAgJGoxID0gJGV4cGxvZGVLb2RlQmFyYW5nWzVdOwogICAgJHNhbGRvQmFyYW5nID0gMDsKICAgICRrb25kaXNpVGFodW4gPSAiIGFuZCBsZWZ0KHRhbmdnYWxfYnVrdSw0KSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiInICI7CiAgICBpZighZW1wdHkoJHBlcmlvZGUpKXsKICAgICAgICBpZigkcGVyaW9kZSA9PSAnMScpewogICAgICAgICAgICAkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA2IjsKICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlICA9ICIgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlcicgIjsKICAgICAgICB9ZWxzZWlmKCRwZXJpb2RlID09ICcyJyl7CiAgICAgICAgICAgICRtaW5GaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMDciOwogICAgICAgICAgICAkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjEyIjsKICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPj0gJyRtaW5GaWx0ZXInIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKICAgICAgICB9ZWxzZWlmKCRwZXJpb2RlID09ICczJyl7CiAgICAgICAgICAgICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMTIiOwogICAgICAgICAgICAka29uZGlzaVBlcmlvZGUgPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKICAgICAgICB9CiAgICB9CgogICAgJGdldERhdGFUYW1iYWggPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgIGFuZCBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0nJGtvZGVCYXJhbmcnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnICRrb25kaXNpVGFodW4gJGtvbmRpc2lQZXJpb2RlIG9yZGVyIGJ5IHRhbmdnYWxfYnVrdSBhc2MiKTsKICAgIHdoaWxlICgkZGF0YVRhbWJhaCA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVRhbWJhaCkpIHsKICAgICAgICAkZGF0YUxvY2tUYW1iYWggPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFUYW1iYWhbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhVGFtYmFoWydpZCddLAogICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhVGFtYmFoWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRkYXRhVGFtYmFoWydoYXJnYV9zYXR1YW4nXSwKICAgICAgICAgICAgICAgICAgICAnc2lzYScgPT4gJGRhdGFUYW1iYWhbJ2p1bWxhaCddLAogICAgICAgICAgICAgICAgICAgICdjMScgPT4gJGMxLAogICAgICAgICAgICAgICAgICAgICdjJyA9PiAkYywKICAgICAgICAgICAgICAgICAgICAnZCcgPT4gJGQsCiAgICAgICAgICAgICAgICAgICAgJ2UnID0+ICRlLAogICAgICAgICAgICAgICAgICAgICdlMScgPT4gJGUxLAogICAgICAgICAgICAgICAgICAgICdmJyA9PiAkZiwKICAgICAgICAgICAgICAgICAgICAnZycgPT4gJGcsCiAgICAgICAgICAgICAgICAgICAgJ2gnID0+ICRoLAogICAgICAgICAgICAgICAgICAgICdpJyA9PiAkaSwKICAgICAgICAgICAgICAgICAgICAnaicgPT4gJGosCiAgICAgICAgICAgICAgICAgICAgJ2oxJyA9PiAkajEsCiAgICAgICAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUKICAgICAgICApOwogICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCd0ZW1wX2NoZWNrX2JhcmFuZ190YW1iYWgnLCRkYXRhTG9ja1RhbWJhaCkpOwogICAgfQogICAgJGdldERhdGFLdXJhbmcgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgIGFuZCBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0nJGtvZGVCYXJhbmcnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzInICRrb25kaXNpVGFodW4gJGtvbmRpc2lQZXJpb2RlIG9yZGVyIGJ5IHRhbmdnYWxfYnVrdSBhc2MiKTsKICAgIHdoaWxlICgkZGF0YUt1cmFuZyA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YUt1cmFuZykpIHsKICAgICAgICAkYXJyYXlQZXJvbGVoYW4gPSBhcnJheSgpOwogICAgICAgICRqdW1sYWhCYXJhbmdLdXJhbmcgPSAkZGF0YUt1cmFuZ1snanVtbGFoJ107CiAgICAgICAgJGdldERhdGFQZW5lcmltYWFuID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRlbXBfY2hlY2tfYmFyYW5nX3RhbWJhaCB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnICBhbmQgY29uY2F0KGYsJy4nLGcsJy4nLGgsJy4nLGksJy4nLGosJy4nLGoxKSA9JyRrb2RlQmFyYW5nJyBhbmQgc2lzYSAhPScwJyIpOwogICAgICAgIHdoaWxlICgkZGF0YVBlbmVyaW1hYW4gPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFQZW5lcmltYWFuKSkgewogICAgICAgICAgICBpZigkanVtbGFoQmFyYW5nS3VyYW5nICE9IDApewogICAgICAgICAgICAgIGlmKCRqdW1sYWhCYXJhbmdLdXJhbmcgPiAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXSApewogICAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoInVwZGF0ZSB0ZW1wX2NoZWNrX2JhcmFuZ190YW1iYWggc2V0IHNpc2EgPSBzaXNhIC0gIi4kZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXS4iIHdoZXJlIGlkID0gJyIuJGRhdGFQZW5lcmltYWFuWydpZCddLiInIik7CiAgICAgICAgICAgICAgICAgICRhcnJheVBlcm9sZWhhbltdID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkUGVuZXJpbWFhbicgPT4gJGRhdGFQZW5lcmltYWFuWydpZF90X2thcnR1X3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRkYXRhUGVuZXJpbWFhblsnaGFyZ2EnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG90YWwnID0+ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddICogJGRhdGFQZW5lcmltYWFuWydoYXJnYSddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nIC09ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddOwogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoInVwZGF0ZSB0ZW1wX2NoZWNrX2JhcmFuZ190YW1iYWggc2V0IHNpc2EgPSBzaXNhIC0gJGp1bWxhaEJhcmFuZ0t1cmFuZyB3aGVyZSBpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWQnXS4iJyIpOwogICAgICAgICAgICAgICAgICAkYXJyYXlQZXJvbGVoYW5bXSA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZFBlbmVyaW1hYW4nID0+ICRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGp1bWxhaEJhcmFuZ0t1cmFuZywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRkYXRhUGVuZXJpbWFhblsnaGFyZ2EnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG90YWwnID0+ICRqdW1sYWhCYXJhbmdLdXJhbmcgKiAkZGF0YVBlbmVyaW1hYW5bJ2hhcmdhJ10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICRqdW1sYWhCYXJhbmdLdXJhbmcgPSAwOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkZW5jb2RpbmcgPSBqc29uX2VuY29kZSgkYXJyYXlQZXJvbGVoYW4pOwogICAgICAgICRkZWNvZGluZyA9IGpzb25fZGVjb2RlKCRlbmNvZGluZyk7CiAgICAgICAgJGhhcmdhUGVyb2xlaGFuPSAiIjsKICAgICAgICBmb3IgKCRwYW5qYW5nRm9yPTA7ICRwYW5qYW5nRm9yIDwgc2l6ZW9mKCRkZWNvZGluZykgOyAkcGFuamFuZ0ZvcisrKSB7CiAgICAgICAgICAgICRoYXJnYVBlcm9sZWhhbiArPSAkZGVjb2RpbmdbJHBhbmphbmdGb3JdLT50b3RhbDsKICAgICAgICB9CiAgICAgICAgJGRhdGFMb2NrS3VyYW5nID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+ICRkYXRhS3VyYW5nWyd0YW5nZ2FsX2J1a3UnXSwKICAgICAgICAgICAgICAgICAgICAnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YUt1cmFuZ1snaWQnXSwKICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkZGF0YUt1cmFuZ1snanVtbGFoJ10sCiAgICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJGhhcmdhUGVyb2xlaGFuLAogICAgICAgICAgICAgICAgICAgICAnYzEnID0+ICRjMSwKICAgICAgICAgICAgICAgICAgICAgJ2MnID0+ICRjLAogICAgICAgICAgICAgICAgICAgICAnZCcgPT4gJGQsCiAgICAgICAgICAgICAgICAgICAgICdlJyA9PiAkZSwKICAgICAgICAgICAgICAgICAgICAgJ2UxJyA9PiAkZTEsCiAgICAgICAgICAgICAgICAgICAgICdmJyA9PiAkZiwKICAgICAgICAgICAgICAgICAgICAgJ2cnID0+ICRnLAogICAgICAgICAgICAgICAgICAgICAnaCcgPT4gJGgsCiAgICAgICAgICAgICAgICAgICAgICdpJyA9PiAkaSwKICAgICAgICAgICAgICAgICAgICAgJ2onID0+ICRqLAogICAgICAgICAgICAgICAgICAgICAnajEnID0+ICRqMSwKICAgICAgICAgICAgICAgICAgICAndXNlcm5hbWUnID0+ICR0aGlzLT51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICAncGVyb2xlaGFuJyA9PiBqc29uX2VuY29kZSgkYXJyYXlQZXJvbGVoYW4pCgogICAgICAgICk7CiAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ3RlbXBfY2hlY2tfYmFyYW5nX2t1cmFuZycsJGRhdGFMb2NrS3VyYW5nKSk7CiAgICB9CgoKCiAgICAkZ2V0RGF0YUhpc3RvcmkgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgIGFuZCBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0nJGtvZGVCYXJhbmcnICAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSBvcmRlciBieSB0YW5nZ2FsX2J1a3UsamVuaXNfcGVyc2VkaWFhbiBhc2MiKTsKICAgIHdoaWxlICgkZGF0YUhpc3RvcmkgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFIaXN0b3JpKSkgewogICAgICAgICRzdGF0dXNDaGVjayA9IDI7CiAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydqZW5pc19wZXJzZWRpYWFuJ10gPT0gMSl7CiAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICcxJyl7CiAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJTQUxETyBBV0FMIjsKICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnMicpewogICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydjYXJhX3Blcm9sZWhhbiddID09ICcyJyl7CiAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVORVJJTUFBTiBQRU1CRUxJQU4iOwogICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnY2FyYV9wZXJvbGVoYW4nXSA9PSAnMycpewogICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gSElCQUgiOwogICAgICAgICAgICB9CiAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzQnKXsKICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIkNFSyBGSVNJSyBUQU1CQUgiOwogICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICczJyl7CiAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5FUklNQUFOIERJU1RSSUJVU0kiOwogICAgICAgICAgfQogICAgICAgICAgJGhhcmdhU2F0dWFuID0gJGRhdGFIaXN0b3JpWydoYXJnYV9zYXR1YW4nXTsKICAgICAgICAgICR0b3RhbEhhcmdhID0gJGhhcmdhU2F0dWFuICogJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICRzYWxkb0JhcmFuZyArPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgJHRvdGFsU2FsZG8gKz0gJHRvdGFsSGFyZ2E7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzYnKXsKICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAwOwogICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkdFTFVBUkFOIjsKICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc1Jyl7CiAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJDRUsgRklTSUsgS1VSQU5HIjsKICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc3Jyl7CiAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5HRUxVQVJBTiBESVNUUklCVVNJIjsKICAgICAgICAgICAgfQogICAgICAgICAgICAkaGFyZ2FTYXR1YW4gPSAiIjsKICAgICAgICAgICRzYWxkb0JhcmFuZyAtPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgJGdldFRvdGFsSGFyZ2EgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRlbXBfY2hlY2tfYmFyYW5nX2t1cmFuZyB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnICBhbmQgY29uY2F0KGYsJy4nLGcsJy4nLGgsJy4nLGksJy4nLGosJy4nLGoxKSA9JyRrb2RlQmFyYW5nJyBhbmQgdXNlcm5hbWUgPSckdGhpcy0+dXNlcm5hbWUnIGFuZCBpZF90X2thcnR1X3BlcnNlZGlhYW4gPSAnIi4kZGF0YUhpc3RvcmlbJ2lkJ10uIiciKSk7CiAgICAgICAgICAkdG90YWxIYXJnYSA9ICRnZXRUb3RhbEhhcmdhWydoYXJnYSddOwogICAgICAgICAgJHRvdGFsU2FsZG8gLT0gJHRvdGFsSGFyZ2E7CiAgICAgICAgfQoKICAgICAgICBpZigkc2FsZG9CYXJhbmcgPCAwKXsKICAgICAgICAgICAgJGlkS2FydHVQZXJzZWRpYWFuW10gPSAkZGF0YUhpc3RvcmlbJ2lkJ107CiAgICAgICAgICAgICRzdGF0dXNDaGVjayA9ICIxIjsKICAgICAgICB9CiAgICAgICAgJGRhdGFSaW5jaWFuTG9jayA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICdjMScgPT4gJGMxLAogICAgICAgICAgICAgICAgICAgICdjJyA9PiAkYywKICAgICAgICAgICAgICAgICAgICAnZCcgPT4gJGQsCiAgICAgICAgICAgICAgICAgICAgJ2UnID0+ICRlLAogICAgICAgICAgICAgICAgICAgICdlMScgPT4gJGUxLAogICAgICAgICAgICAgICAgICAgICdmJyA9PiAkZiwKICAgICAgICAgICAgICAgICAgICAnZycgPT4gJGcsCiAgICAgICAgICAgICAgICAgICAgJ2gnID0+ICRoLAogICAgICAgICAgICAgICAgICAgICdpJyA9PiAkaSwKICAgICAgICAgICAgICAgICAgICAnaicgPT4gJGosCiAgICAgICAgICAgICAgICAgICAgJ2oxJyA9PiAkajEsCiAgICAgICAgICAgICAgICAgICAgJ3VzZXJuYW1lJyA9PiAkdGhpcy0+dXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+ICRkYXRhSGlzdG9yaVsndGFuZ2dhbF9idWt1J10sCiAgICAgICAgICAgICAgICAgICAgJ3VyYWlhbicgPT4gJHVyYWlhblBlcnNlZGlhYW4sCiAgICAgICAgICAgICAgICAgICAgJ21hc3VrJyA9PiAkYmFyYW5nTWFzdWssCiAgICAgICAgICAgICAgICAgICAgJ2tlbHVhcicgPT4gJGJhcmFuZ0tlbHVhciwKICAgICAgICAgICAgICAgICAgICAnaGFyZ2Ffc2F0dWFuJyA9PiAkaGFyZ2FTYXR1YW4sCiAgICAgICAgICAgICAgICAgICAgJ3NhbGRvJyA9PiAkc2FsZG9CYXJhbmcsCiAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkdG90YWxIYXJnYSwKICAgICAgICAgICAgICAgICAgICAndG90YWxfaGFyZ2EnID0+ICR0b3RhbFNhbGRvLAogICAgICAgICAgICAgICAgICAgICd0eXBlJyA9PiAkZGF0YUhpc3RvcmlbJ2plbmlzX3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YUhpc3RvcmlbJ2lkJ10sCiAgICAgICAgICAgICAgICAgICAgJ3RhaHVuJyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbiwKICAgICAgICAgICAgICAgICAgICAncGVyaW9kZScgPT4gJHBlcmlvZGUsCiAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cycgPT4gJHN0YXR1c0NoZWNrLAogICAgICAgICAgICAgICAgICAgICdpZF90cmFuc2Frc2knID0+ICRkYXRhSGlzdG9yaVsncmVmaWQnXQogICAgICAgICk7CiAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ2NoZWNrX2JhcmFuZ19wZXJzZWRpYWFuJywkZGF0YVJpbmNpYW5Mb2NrKSk7CgogICAgfQogICAgICByZXR1cm4gJGlkS2FydHVQZXJzZWRpYWFuIDsKICB9CglmdW5jdGlvbiBJbnB1dFR5cGVIaWRkZW4oJG5hbWUsJHZhbHVlKXsKCQlyZXR1cm4gJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IicuJG5hbWUuJyIgdmFsdWU9IicuJHZhbHVlLiciIGlkPSInLiRuYW1lLiciLz4nOwoJfQoJZnVuY3Rpb24gZ2VuUm93U3VtKCRDb2xTdHlsZSwgJE1vZGUsICRUb3RhbCl7CgkJLy9oYWwKCQkkQ29udGVudFRvdGFsSGFsPScnOyAkQ29udGVudFRvdGFsPScnOwoKCgkJCSRDb250ZW50VG90YWxIYWwgPQoJCQkJIjx0cj4KCQkJCQk8dGQgY2xhc3M9JyRDb2xTdHlsZScgY29sc3Bhbj0nNScgYWxpZ249J2NlbnRlcic+PGI+VG90YWwgcGVyIEhhbGFtYW48L3RkPgoJCQkJCTx0ZCBjbGFzcz0nJENvbFN0eWxlJyBhbGlnbj0ncmlnaHQnPjxiPiIubnVtYmVyX2Zvcm1hdCgkdGhpcy0+dG90YWxIYXJnYVBlcmhhbGFtYW4sMiwgJywnLCAnLicpLiI8L3RkPgoJCQkJPC90cj4iIDsKCQkJJENvbnRlbnRUb3RhbCA9CgkJCQkiPHRyPgoJCQkJCTx0ZCBjbGFzcz0nJENvbFN0eWxlJyBjb2xzcGFuPSc0JyBhbGlnbj0nY2VudGVyJz48Yj5Ub3RhbDwvdGQ+CgkJCQkJPHRkIGNsYXNzPSckQ29sU3R5bGUnICBhbGlnbj0nY2VudGVyJz48aW5wdXQgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nSGl0dW5nJyBvbkNsaWNrPSR0aGlzLT5QcmVmaXguY291bnRUb3RhbEhhcmdhKCkgPjwvdGQ+CgoJCQkJCTx0ZCBjbGFzcz0nJENvbFN0eWxlJyBhbGlnbj0ncmlnaHQnPjxiIGlkPSd0b3RhbEhhcmdhJz4iLm51bWJlcl9mb3JtYXQoJHRoaXMtPnRvdGFsSGFyZ2EsMiwgJywnLCAnLicpLiI8L3RkPgoJCQkJPC90cj4iIDsKCgoKCQlyZXR1cm4gJENvbnRlbnRUb3RhbEhhbC4kQ29udGVudFRvdGFsOwoJfQoJZnVuY3Rpb24gaGl0dW5nVWxhbmdTZW1lc3RlcjEoJGtvZGVTS1BELCRrb2RlQmFyYW5nKXsKICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIik7CiAgICAkYXJyYXlTYWxkb0F3YWwgPSAkdGhpcy0+Z3JhYlRyYW5zYWtzaVNlbWVzdGVyMSgka29kZVNLUEQsJGtvZGVCYXJhbmcsJzEnKTsKICAgICRnZXREYXRhQmFyYW5nID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByZWZfYmFyYW5nIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyIpKTsKICAgIHJldHVybiAkY2VrOwogIH0KCWZ1bmN0aW9uIGhpdHVuZ1VsYW5nU2VtZXN0ZXIyKCRrb2RlU0tQRCwka29kZUJhcmFuZyl7CgkJJHRhaHVuRGVwYW4gPSAkdGhpcy0+dGFodW5BbmdnYXJhbiArIDE7CgkJJGdldERhdGFTS1BEID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHJlZl9za3BkIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgYW5kIGUxIT0nMDAwJyIpOwoJCSR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZycgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnMiciKTsKCQkkdGFodW5EZXBhbiA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuICsgMTsKCQkvLyAkdGhpcy0+Z3JhYlRyYW5zYWtzaVNlbWVzdGVyMigka29kZVNLUEQsJGtvZGVCYXJhbmcpOwoJCSAkY2VrPSAkdGhpcy0+Z3JhYlRyYW5zYWtzaVNlbWVzdGVyMigka29kZVNLUEQsJGtvZGVCYXJhbmcpOwogICAgcmV0dXJuICRjZWs7CiAgfQoJZnVuY3Rpb24gaGl0dW5nVWxhbmdTZW1lc3RlcjMoJGtvZGVTS1BELCRrb2RlQmFyYW5nKXsKCQkkdGFodW5EZXBhbiA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuICsgMTsKCQkkZ2V0RGF0YVNLUEQgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX3NrcGQgd2hlcmUgY29uY2F0KGMxLCcuJyxjLCcuJyxkLCcuJyxlLCcuJyxlMSkgPSAnJGtvZGVTS1BEJyAgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyBhbmQgZTEhPScwMDAnIik7CgkJJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmcgPSAnJGtvZGVCYXJhbmcnIGFuZCB0YWh1biA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0gJzMnIik7CgkJJHRhaHVuRGVwYW4gPSAkdGhpcy0+dGFodW5BbmdnYXJhbiArIDE7CgkJJHRoaXMtPmdyYWJUcmFuc2Frc2lUYWh1bmFuKCRrb2RlU0tQRCwka29kZUJhcmFuZyk7CiAgICByZXR1cm4gJGNlazsKICB9CglmdW5jdGlvbiBncmFiVHJhbnNha3NpU2VtZXN0ZXIyKCRrb2RlU0tQRCwka29kZUJhcmFuZyl7CgkJJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4gd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmc9JyRrb2RlQmFyYW5nJyBhbmQgc2VtZXN0ZXIgPSAnMiciKTsKCiAgICAkZXJyID0gIiI7CiAgICAkY2VrID0gIiI7CiAgICAkY29udGVudCA9ICIiOwogICAgJGZpbHRlclBlcmlvZGUgPSAnMic7CiAgICAka29uZGlzaVRhaHVuID0gIiBhbmQgbGVmdCh0YW5nZ2FsX2J1a3UsNCkgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iJyAiOwogICAgaWYoIWVtcHR5KCRmaWx0ZXJQZXJpb2RlKSl7CiAgICAgICAgaWYoJGZpbHRlclBlcmlvZGUgPT0gJzEnKXsKICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNiI7CiAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZSAgPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInICI7CiAgICAgICAgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAnMicpewogICAgICAgICAgICAkbWluRmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA3IjsKICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CiAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZT0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpID49ICckbWluRmlsdGVyJyBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CiAgICAgICAgICAgICRrb25kaXNpU2FsZG9Bd2FsID0gIiBhbmQgaWQgbm90IGluICggc2VsZWN0IGlkIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGpucyA9ICcxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgdGFuZ2dhbF9idWt1ID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0kdGhpcy0+YnVsYW5UYW5nZ2FsU2FsZG9Bd2FsJykgIjsKICAgICAgICB9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09ICczJyl7CiAgICAgICAgICAgICRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMTIiOwogICAgICAgICAgICAka29uZGlzaVBlcmlvZGUgPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKICAgICAgICAgICAgJGtvbmRpc2lTYWxkb0F3YWwgPSAiIGFuZCBpZCBub3QgaW4gKCBzZWxlY3QgaWQgZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgam5zID0gJzEnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnIGFuZCB0YW5nZ2FsX2J1a3UgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxJykgIjsKICAgICAgICB9CiAgICB9CgogICAgICAkZ2V0RGF0YSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nPScka29kZUJhcmFuZycgIikpOwogICAgICAkZGF0YUxvY2tCYXJhbmcgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICdjMScgPT4gJGdldERhdGFbJ2MxJ10sCiAgICAgICAgICAgICAgICAgICAgICAnYycgPT4gJGdldERhdGFbJ2MnXSwKICAgICAgICAgICAgICAgICAgICAgICdkJyA9PiAkZ2V0RGF0YVsnZCddLAogICAgICAgICAgICAgICAgICAgICAgJ2UnID0+ICRnZXREYXRhWydlJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZTEnID0+ICRnZXREYXRhWydlMSddLAogICAgICAgICAgICAgICAgICAgICAgJ2YxJyA9PiAkZ2V0RGF0YVsnZjEnXSwKICAgICAgICAgICAgICAgICAgICAgICdmMicgPT4gJGdldERhdGFbJ2YyJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZicgPT4gJGdldERhdGFbJ2YnXSwKICAgICAgICAgICAgICAgICAgICAgICdnJyA9PiAkZ2V0RGF0YVsnZyddLAogICAgICAgICAgICAgICAgICAgICAgJ2gnID0+ICRnZXREYXRhWydoJ10sCiAgICAgICAgICAgICAgICAgICAgICAnaScgPT4gJGdldERhdGFbJ2knXSwKICAgICAgICAgICAgICAgICAgICAgICdqJyA9PiAkZ2V0RGF0YVsnaiddLAogICAgICAgICAgICAgICAgICAgICAgJ2oxJyA9PiAkZ2V0RGF0YVsnajEnXSwKICAgICAgICAgICAgICAgICAgICAgICd0YWh1bicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgICAgICAgICAgICAgICAgICAgICAnc2VtZXN0ZXInID0+IDIsCiAgICAgICAgICApOwoJCQkJCSRpbnNlcnRMb2NrQmFyYW5nID0gJHRoaXMtPnNxbEluc2VydCgidF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIiwkZGF0YUxvY2tCYXJhbmcpOwogICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCRpbnNlcnRMb2NrQmFyYW5nKTsKCiAgICAgICAgICAkaWRMb2NrID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IG1heChpZCkgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgYzE9JyIuJGdldERhdGFbJ2MxJ10uIicgYW5kIGM9JyIuJGdldERhdGFbJ2MnXS4iJyBhbmQgZD0nIi4kZ2V0RGF0YVsnZCddLiInIGFuZCBlPSciLiRnZXREYXRhWydlJ10uIicgYW5kIGUxPSciLiRnZXREYXRhWydlMSddLiInICBhbmQgZj0nIi4kZ2V0RGF0YVsnZiddLiInIGFuZCBnPSciLiRnZXREYXRhWydnJ10uIicgYW5kIGg9JyIuJGdldERhdGFbJ2gnXS4iJyBhbmQgaT0nIi4kZ2V0RGF0YVsnaSddLiInIGFuZCBqPSciLiRnZXREYXRhWydqJ10uIicgYW5kIGoxPSciLiRnZXREYXRhWydqMSddLiInIGFuZCB0YWh1biA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiInIGFuZCBzZW1lc3RlciA9ICciLiRmaWx0ZXJQZXJpb2RlLiInICIpKTsKICAgICAgICAgICRpZExvY2sgPSAkaWRMb2NrWydtYXgoaWQpJ107CgoKICAgICAgICAgICRnZXREYXRhVGFtYmFoID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgJGtvbmRpc2lUYWh1biAka29uZGlzaVBlcmlvZGUgJGtvbmRpc2lTYWxkb0F3YWwgb3JkZXIgYnkgdGFuZ2dhbF9idWt1IGFzYyIpOwogICAgICAgICAgd2hpbGUgKCRkYXRhVGFtYmFoID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhVGFtYmFoKSkgewoJCQkJCQlpZigkZGF0YVRhbWJhaFsnam5zJ10gPT0gJzMnKXsKCQkJCQkJJGdldERhdGFEZXRhaWxEaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBkZXRhaWxfcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlICBpZCA9ICciLiRkYXRhVGFtYmFoWydyZWZpZCddLiInIikpOwoJCQkJCQkkZ2V0RGF0YVJpbmNpYW5EaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByaW5jaWFuX2Rpc3RyaWJ1c2kgd2hlcmUgIGlkID0gJyIuJGdldERhdGFEZXRhaWxEaXN0cmlidXNpWydpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knXS4iJyIpKTsKCQkJCQkJJGRhdGFDb3VudERpc3RyaWJ1c2kgPSBhcnJheSgKCQkJCQkJCQkJCQkJJ2lkX2xvY2tfYmFyYW5nJyA9PiAkaWRMb2NrLAoJCQkJCQkJCQkJCQknYzEnID0+ICRnZXREYXRhWydjMSddLAoJCQkJCQkJCQkJCQknYycgPT4gJGdldERhdGFbJ2MnXSwKCQkJCQkJCQkJCQkJJ2QnID0+ICRnZXREYXRhWydkJ10sCgkJCQkJCQkJCQkJCSdlJyA9PiAkZ2V0RGF0YVsnZSddLAoJCQkJCQkJCQkJCQknZTEnID0+ICRnZXREYXRhWydlMSddLAoJCQkJCQkJCQkJCQknZicgPT4gJGdldERhdGFbJ2YnXSwKCQkJCQkJCQkJCQkJJ2cnID0+ICRnZXREYXRhWydnJ10sCgkJCQkJCQkJCQkJCSdoJyA9PiAkZ2V0RGF0YVsnaCddLAoJCQkJCQkJCQkJCQknaScgPT4gJGdldERhdGFbJ2knXSwKCQkJCQkJCQkJCQkJJ2onID0+ICRnZXREYXRhWydqJ10sCgkJCQkJCQkJCQkJCSdqMScgPT4gJGdldERhdGFbJ2oxJ10sCgkJCQkJCQkJCQkJCSdpZF9kaXN0cmlidXNpJyA9PiAkZ2V0RGF0YVJpbmNpYW5EaXN0cmlidXNpWydpZF9kaXN0cmlidXNpJ10sCgkJCQkJCQkJCQkJCSdpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knID0+ICRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaVsnaWRfcmluY2lhbl9kaXN0cmlidXNpJ10sCgkJCQkJCQkJCQkJCSdzZW1lc3RlcicgPT4gMiwKCQkJCQkJCQkJCQkJJ25vbW9yJyA9PiAkZGF0YVRhbWJhaFsnbm9tb3InXSwKCQkJCQkJCQkJCQkJJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFUYW1iYWhbJ2lkJ10KCgkJCQkJCSk7CgkJCQkJCSR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4nLCRkYXRhQ291bnREaXN0cmlidXNpKSk7CgkJCQkJIH0KICAgICAgICAgICAgICAkZGF0YUxvY2tUYW1iYWggPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFUYW1iYWhbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhVGFtYmFoWydpZCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhVGFtYmFoWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRkYXRhVGFtYmFoWydoYXJnYV9zYXR1YW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnc2lzYScgPT4gJGRhdGFUYW1iYWhbJ2p1bWxhaCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9sb2NrJyA9PiAkaWRMb2NrLAogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ2xvY2tfYmFyYW5nX3RhbWJhaCcsJGRhdGFMb2NrVGFtYmFoKSk7CiAgICAgICAgICB9CgogICAgICAgICAgJGdldERhdGFLdXJhbmcgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcyJyAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSAka29uZGlzaVNhbGRvQXdhbCBvcmRlciBieSB0YW5nZ2FsX2J1a3UgYXNjIik7CiAgICAgICAgICB3aGlsZSAoJGRhdGFLdXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFLdXJhbmcpKSB7CiAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuID0gYXJyYXkoKTsKICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nID0gJGRhdGFLdXJhbmdbJ2p1bWxhaCddOwogICAgICAgICAgICAgICRnZXREYXRhUGVuZXJpbWFhbiA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBsb2NrX2JhcmFuZ190YW1iYWggd2hlcmUgaWRfbG9jayA9ICciLiRpZExvY2suIicgYW5kIHNpc2EgIT0nMCciKTsKICAgICAgICAgICAgICB3aGlsZSAoJGRhdGFQZW5lcmltYWFuID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhUGVuZXJpbWFhbikpIHsKICAgICAgICAgICAgICAgICAgaWYoJGp1bWxhaEJhcmFuZ0t1cmFuZyAhPSAwKXsKCQkJCQkJCQkJCSRnZXRLYXJ0dVBlcnNlZGlhYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10uIiciKSk7CgkJCQkJCQkJCQlpZigkZ2V0S2FydHVQZXJzZWRpYWFuWydqbnMnXSA9PSAnMycpewoJCQkJCQkJCQkJCQkvLyBpZihpbnR2YWwoJGdldEthcnR1UGVyc2VkaWFhblsnaGFyZ2Ffc2F0dWFuJ10pID09IDApewoJCQkJCQkJCQkJCQkJaWYoJHRoaXMtPnNxbE51bVJvdygkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlIG5vbW9yID0gJyIuJGdldEthcnR1UGVyc2VkaWFhblsnbm9tb3InXS4iJyBhbmQgc2VtZXN0ZXIgPSAnMicgYW5kIHRhbWJhaGFuX2hhcmdhICE9JyciKSkgIT0gMCl7CgkJCQkJCQkJCQkJCQkJJGdldERhdGFDb3VudERpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSBub21vciA9ICciLiRnZXRLYXJ0dVBlcnNlZGlhYW5bJ25vbW9yJ10uIicgYW5kIHNlbWVzdGVyID0gJzInIGFuZCB0YW1iYWhhbl9oYXJnYSAhPScnIikpOwoJCQkJCQkJCQkJCQkJCSRoYXJnYVNhdHVhblBlbmVyaW1hYW4gPSAkZ2V0RGF0YUNvdW50RGlzdHJpYnVzaVsndGFtYmFoYW5faGFyZ2EnXSAvICRnZXRLYXJ0dVBlcnNlZGlhYW5bJ2p1bWxhaCddOwoJCQkJCQkJCQkJCQkJCSRkYXRhVXBkYXRlRGlzdHJpYnVzaUthcnR1ID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJCSdoYXJnYV9zYXR1YW4nID0+ICRoYXJnYVNhdHVhblBlbmVyaW1hYW4sCgkJCQkJCQkJCQkJCQkJCSd0b3RhbCcgPT4gJGdldERhdGFDb3VudERpc3RyaWJ1c2lbJ3RhbWJhaGFuX2hhcmdhJ10sCgkJCQkJCQkJCQkJCQkJKTsKCQkJCQkJCQkJCQkJCQkkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbFVwZGF0ZSgidF9rYXJ0dV9wZXJzZWRpYWFuIiwkZGF0YVVwZGF0ZURpc3RyaWJ1c2lLYXJ0dSwiaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddLiInIikpOwoJCQkJCQkJCQkJCQkJCSR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlIG5vbW9yPSciLiRnZXRLYXJ0dVBlcnNlZGlhYW5bJ25vbW9yJ10uIiciKTsKCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJLy8gfQoJCQkJCQkJCQkJfWVsc2V7CgkJCQkJCQkJCQkJJGhhcmdhU2F0dWFuUGVuZXJpbWFhbiA9ICRkYXRhUGVuZXJpbWFhblsnaGFyZ2EnXTsKCQkJCQkJCQkJCX0KICAgICAgICAgICAgICAgICAgICBpZigkanVtbGFoQmFyYW5nS3VyYW5nID4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10gKXsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgbG9ja19iYXJhbmdfdGFtYmFoIHNldCBzaXNhID0gc2lzYSAtICIuJGRhdGFQZW5lcmltYWFuWydzaXNhJ10uIiB3aGVyZSBpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWQnXS4iJyIpOwogICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXlQZXJvbGVoYW5bXSA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZFBlbmVyaW1hYW4nID0+ICRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10gKiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nIC09ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoInVwZGF0ZSBsb2NrX2JhcmFuZ190YW1iYWggc2V0IHNpc2EgPSBzaXNhIC0gJGp1bWxhaEJhcmFuZ0t1cmFuZyB3aGVyZSBpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWQnXS4iJyIpOwogICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXlQZXJvbGVoYW5bXSA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZFBlbmVyaW1hYW4nID0+ICRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGp1bWxhaEJhcmFuZ0t1cmFuZywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRoYXJnYVNhdHVhblBlbmVyaW1hYW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkanVtbGFoQmFyYW5nS3VyYW5nICogJGhhcmdhU2F0dWFuUGVuZXJpbWFhbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGp1bWxhaEJhcmFuZ0t1cmFuZyA9IDA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICRlbmNvZGluZyA9IGpzb25fZW5jb2RlKCRhcnJheVBlcm9sZWhhbik7CiAgICAgICAgICAgICAgJGRlY29kaW5nID0ganNvbl9kZWNvZGUoJGVuY29kaW5nKTsKICAgICAgICAgICAgICAkaGFyZ2FQZXJvbGVoYW49ICIiOwogICAgICAgICAgICAgIGZvciAoJGk9MDsgJGkgPCBzaXplb2YoJGRlY29kaW5nKSA7ICRpKyspIHsKICAgICAgICAgICAgICAgICAgJGhhcmdhUGVyb2xlaGFuICs9ICRkZWNvZGluZ1skaV0tPnRvdGFsOwogICAgICAgICAgICAgIH0KCQkJCQkJCWlmKCRkYXRhS3VyYW5nWydqbnMnXSA9PSAiNyIpewoJCQkJCQkJCS8vaHVibGEKCQkJCQkJCQkkZ2V0RGF0YURldGFpbERpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGRldGFpbF9yaW5jaWFuX2Rpc3RyaWJ1c2kgd2hlcmUgIGlkID0gJyIuJGRhdGFLdXJhbmdbJ3JlZmlkJ10uIiciKSk7CgkJCQkJCQkJJGdldERhdGFSaW5jaWFuRGlzdHJpYnVzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlICBpZCA9ICciLiRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaVsnaWRfcmluY2lhbl9kaXN0cmlidXNpJ10uIiciKSk7CgkJCQkJCQkJJGRhdGFDb3VudERpc3RyaWJ1c2kgPSBhcnJheSgKCQkJCQkJCQkJCQkJCQknaWRfbG9ja19iYXJhbmcnID0+ICRpZExvY2ssCgkJCQkJCQkJCQkJCQkJJ2MxJyA9PiAkZ2V0RGF0YVsnYzEnXSwKCQkJCQkJCQkJCQkJCQknYycgPT4gJGdldERhdGFbJ2MnXSwKCQkJCQkJCQkJCQkJCQknZCcgPT4gJGdldERhdGFbJ2QnXSwKCQkJCQkJCQkJCQkJCQknZScgPT4gJGdldERhdGFbJ2UnXSwKCQkJCQkJCQkJCQkJCQknZTEnID0+ICRnZXREYXRhWydlMSddLAoJCQkJCQkJCQkJCQkJCSdmJyA9PiAkZ2V0RGF0YVsnZiddLAoJCQkJCQkJCQkJCQkJCSdnJyA9PiAkZ2V0RGF0YVsnZyddLAoJCQkJCQkJCQkJCQkJCSdoJyA9PiAkZ2V0RGF0YVsnaCddLAoJCQkJCQkJCQkJCQkJCSdpJyA9PiAkZ2V0RGF0YVsnaSddLAoJCQkJCQkJCQkJCQkJCSdqJyA9PiAkZ2V0RGF0YVsnaiddLAoJCQkJCQkJCQkJCQkJCSdqMScgPT4gJGdldERhdGFbJ2oxJ10sCgkJCQkJCQkJCQkJCQkJJ2lkX2Rpc3RyaWJ1c2knID0+ICRnZXREYXRhUmluY2lhbkRpc3RyaWJ1c2lbJ2lkX2Rpc3RyaWJ1c2knXSwKCQkJCQkJCQkJCQkJCQknaWRfcmluY2lhbl9kaXN0cmlidXNpJyA9PiAkZ2V0RGF0YURldGFpbERpc3RyaWJ1c2lbJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaSddLAoJCQkJCQkJCQkJCQkJCSdzZW1lc3RlcicgPT4gMiwKCQkJCQkJCQkJCQkJCQknbm9tb3InID0+ICRkYXRhS3VyYW5nWydub21vciddLAoJCQkJCQkJCQkJCQkJCSd0YW1iYWhhbl9oYXJnYScgPT4gJGhhcmdhUGVyb2xlaGFuLAoJCQkJCQkJCQkJCQkJCSdqc29uX2FycmF5JyA9PiAkZW5jb2RpbmcKCQkJCQkJCQkpOwoJCQkJCQkJCSR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4nLCRkYXRhQ291bnREaXN0cmlidXNpKSk7CgkJCQkJCQl9CiAgICAgICAgICAgICAgJGRhdGFMb2NrS3VyYW5nID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+ICRkYXRhS3VyYW5nWyd0YW5nZ2FsX2J1a3UnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YUt1cmFuZ1snaWQnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkZGF0YUt1cmFuZ1snanVtbGFoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJGhhcmdhUGVyb2xlaGFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9sb2NrJyA9PiAkaWRMb2NrLAogICAgICAgICAgICAgICAgICAgICAgICAgICdwZXJvbGVoYW4nID0+IGpzb25fZW5jb2RlKCRhcnJheVBlcm9sZWhhbikKCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgnbG9ja19iYXJhbmdfa3VyYW5nJywkZGF0YUxvY2tLdXJhbmcpKTsKICAgICAgICAgIH0KCgogICAgICAgICAgJGdldERhdGFIaXN0b3JpID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgICRrb25kaXNpVGFodW4gJGtvbmRpc2lQZXJpb2RlICRrb25kaXNpU2FsZG9Bd2FsIG9yZGVyIGJ5IHRhbmdnYWxfYnVrdSxqZW5pc19wZXJzZWRpYWFuIGFzYyIpOwogICAgICAgICAgd2hpbGUgKCRkYXRhSGlzdG9yaSA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YUhpc3RvcmkpKSB7CiAgICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydqZW5pc19wZXJzZWRpYWFuJ10gPT0gMSl7CiAgICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICcxJyl7CiAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJTQUxETyBBV0FMIjsKICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnMicpewogICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydjYXJhX3Blcm9sZWhhbiddID09ICcyJyl7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVORVJJTUFBTiBQRU1CRUxJQU4iOwogICAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnY2FyYV9wZXJvbGVoYW4nXSA9PSAnMycpewogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gSElCQUgiOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzQnKXsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIkNFSyBGSVNJSyBUQU1CQUgiOwogICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICczJyl7CiAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5FUklNQUFOIERJU1RSSUJVU0kiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGhhcmdhU2F0dWFuID0gJGRhdGFIaXN0b3JpWydoYXJnYV9zYXR1YW4nXTsKICAgICAgICAgICAgICAgICR0b3RhbEhhcmdhID0gJGhhcmdhU2F0dWFuICogJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICRzYWxkb0JhcmFuZyArPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgJHRvdGFsU2FsZG8gKz0gJHRvdGFsSGFyZ2E7CgogICAgICAgICAgICAgICAgJGdldElkRGV0YWlsID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBsb2NrX2JhcmFuZ190YW1iYWggd2hlcmUgaWRfbG9jayA9ICckaWRMb2NrJyBhbmQgaWRfdF9rYXJ0dV9wZXJzZWRpYWFuID0gJyIuJGRhdGFIaXN0b3JpWydpZCddLiInIikpOwogICAgICAgICAgICAgICAgJGlkRGV0YWlsID0gJGdldElkRGV0YWlsWydpZCddOwogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc2Jyl7CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5HRUxVQVJBTiI7CiAgICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNScpewogICAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9IDA7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiQ0VLIEZJU0lLIEtVUkFORyI7CiAgICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNycpewogICAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9IDA7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVOR0VMVUFSQU4gRElTVFJJQlVTSSI7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgJGhhcmdhU2F0dWFuID0gIiI7CiAgICAgICAgICAgICAgICAkc2FsZG9CYXJhbmcgLT0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICRnZXRUb3RhbEhhcmdhID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBsb2NrX2JhcmFuZ19rdXJhbmcgd2hlcmUgaWRfbG9jayA9ICckaWRMb2NrJyBhbmQgaWRfdF9rYXJ0dV9wZXJzZWRpYWFuID0gJyIuJGRhdGFIaXN0b3JpWydpZCddLiInIikpOwogICAgICAgICAgICAgICAgJHRvdGFsSGFyZ2EgPSAkZ2V0VG90YWxIYXJnYVsnaGFyZ2EnXTsKICAgICAgICAgICAgICAgICR0b3RhbFNhbGRvIC09ICR0b3RhbEhhcmdhOwogICAgICAgICAgICAgICAgJGlkRGV0YWlsID0gJGdldFRvdGFsSGFyZ2FbJ2lkJ107CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICRkYXRhUmluY2lhbkxvY2sgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfbG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFIaXN0b3JpWyd0YW5nZ2FsX2J1a3UnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAndXJhaWFuJyA9PiAkdXJhaWFuUGVyc2VkaWFhbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFzdWsnID0+ICRiYXJhbmdNYXN1aywKICAgICAgICAgICAgICAgICAgICAgICAgICAna2VsdWFyJyA9PiAkYmFyYW5nS2VsdWFyLAogICAgICAgICAgICAgICAgICAgICAgICAgICdzYWxkb19iYXJhbmcnID0+ICRzYWxkb0JhcmFuZywKICAgICAgICAgICAgICAgICAgICAgICAgICAndG90YWwnID0+ICR0b3RhbEhhcmdhLAogICAgICAgICAgICAgICAgICAgICAgICAgICdzYWxkbycgPT4gJHRvdGFsU2FsZG8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnID0+ICRkYXRhSGlzdG9yaVsnamVuaXNfcGVyc2VkaWFhbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhSGlzdG9yaVsnaWQnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfZGV0YWlsJyA9PiAkaWREZXRhaWwsCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgncmluY2lhbl9sb2NrX2JhcmFuZycsJGRhdGFSaW5jaWFuTG9jaykpOwogICAgICAgICAgfQogICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHNldCBoYXJnYSA9ICckdG90YWxTYWxkbycsIHNhbGRvX2JhcmFuZyA9ICckc2FsZG9CYXJhbmcnIHdoZXJlIGlkID0gJyRpZExvY2snIik7CiAgICAgIC8vIHJldHVybiBhcnJheSgKICAgICAgLy8gICAnaWRMb2NrJyA9PiAkaWRMb2NrLAogICAgICAvLyAgICdqdW1sYWhIYXJnYScgPT4gJHRvdGFsU2FsZG8sCiAgICAgIC8vICAgJ3NhbGRvJyA9PiAkc2FsZG9CYXJhbmcsCiAgICAgIC8vICk7CgkJCXJldHVybiAkaW5zZXJ0TG9ja0JhcmFuZzsKICB9CgoKCWZ1bmN0aW9uIGdyYWJUcmFuc2Frc2lTZW1lc3RlcjEoJGtvZGVTS1BELCRrb2RlQmFyYW5nLCRmaWx0ZXJQZXJpb2RlKXsKCQkkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZz0nJGtvZGVCYXJhbmcnIGFuZCBzZW1lc3RlciA9ICckZmlsdGVyUGVyaW9kZSciKTsKICAgICRlcnIgPSAiIjsKICAgICRjZWsgPSAiIjsKICAgICRjb250ZW50ID0gIiI7CiAgICAka29uZGlzaVRhaHVuID0gIiBhbmQgbGVmdCh0YW5nZ2FsX2J1a3UsNCkgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iJyAiOwogICAgaWYoIWVtcHR5KCRmaWx0ZXJQZXJpb2RlKSl7CiAgICAgICAgaWYoJGZpbHRlclBlcmlvZGUgPT0gJzEnKXsKICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIwNiI7CiAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZSAgPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInICI7CiAgICAgICAgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAnMicpewogICAgICAgICAgICAkbWluRmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA3IjsKICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CiAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZT0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpID49ICckbWluRmlsdGVyJyBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CiAgICAgICAgfWVsc2VpZigkZmlsdGVyUGVyaW9kZSA9PSAnMycpewogICAgICAgICAgICAkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjEyIjsKICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlID0gIiBhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CiAgICAgICAgfQogICAgfQoKICAgICAgJGdldERhdGEgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZz0nJGtvZGVCYXJhbmcnICIpKTsKICAgICAgJGRhdGFMb2NrQmFyYW5nID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAnYzEnID0+ICRnZXREYXRhWydjMSddLAogICAgICAgICAgICAgICAgICAgICAgJ2MnID0+ICRnZXREYXRhWydjJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZCcgPT4gJGdldERhdGFbJ2QnXSwKICAgICAgICAgICAgICAgICAgICAgICdlJyA9PiAkZ2V0RGF0YVsnZSddLAogICAgICAgICAgICAgICAgICAgICAgJ2UxJyA9PiAkZ2V0RGF0YVsnZTEnXSwKICAgICAgICAgICAgICAgICAgICAgICdmMScgPT4gJGdldERhdGFbJ2YxJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZjInID0+ICRnZXREYXRhWydmMiddLAogICAgICAgICAgICAgICAgICAgICAgJ2YnID0+ICRnZXREYXRhWydmJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZycgPT4gJGdldERhdGFbJ2cnXSwKICAgICAgICAgICAgICAgICAgICAgICdoJyA9PiAkZ2V0RGF0YVsnaCddLAogICAgICAgICAgICAgICAgICAgICAgJ2knID0+ICRnZXREYXRhWydpJ10sCiAgICAgICAgICAgICAgICAgICAgICAnaicgPT4gJGdldERhdGFbJ2onXSwKICAgICAgICAgICAgICAgICAgICAgICdqMScgPT4gJGdldERhdGFbJ2oxJ10sCiAgICAgICAgICAgICAgICAgICAgICAndGFodW4nID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLAogICAgICAgICAgICAgICAgICAgICAgJ3NlbWVzdGVyJyA9PiAxLAogICAgICAgICAgKTsKICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCJ0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmciLCRkYXRhTG9ja0JhcmFuZykpOwoKICAgICAgICAgICRpZExvY2sgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgbWF4KGlkKSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgYW5kIHRhaHVuID0gJyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIicgYW5kIHNlbWVzdGVyID0gJyIuJGZpbHRlclBlcmlvZGUuIicgIikpOwogICAgICAgICAgJGlkTG9jayA9ICRpZExvY2tbJ21heChpZCknXTsKCgogICAgICAgICAgJGdldERhdGFUYW1iYWggPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyBhbmQgZT0nIi4kZ2V0RGF0YVsnZSddLiInIGFuZCBlMT0nIi4kZ2V0RGF0YVsnZTEnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSBvcmRlciBieSB0YW5nZ2FsX2J1a3UgYXNjIik7CiAgICAgICAgICB3aGlsZSAoJGRhdGFUYW1iYWggPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFUYW1iYWgpKSB7CgkJCQkJCWlmKCRkYXRhVGFtYmFoWydqbnMnXSA9PSAnMycpewoJCQkJCQkJJGdldERhdGFEZXRhaWxEaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBkZXRhaWxfcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlICBpZCA9ICciLiRkYXRhVGFtYmFoWydyZWZpZCddLiInIikpOwoJCQkJCQkJJGdldERhdGFSaW5jaWFuRGlzdHJpYnVzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlICBpZCA9ICciLiRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaVsnaWRfcmluY2lhbl9kaXN0cmlidXNpJ10uIiciKSk7CgkJCQkJCQkkZGF0YUNvdW50RGlzdHJpYnVzaSA9IGFycmF5KAoJCQkJCQkJCQkJCQkJJ2lkX2xvY2tfYmFyYW5nJyA9PiAkaWRMb2NrLAoJCQkJCQkJCQkJCQkJJ2MxJyA9PiAkZ2V0RGF0YVsnYzEnXSwKCQkJCQkJCQkJCQkJCSdjJyA9PiAkZ2V0RGF0YVsnYyddLAoJCQkJCQkJCQkJCQkJJ2QnID0+ICRnZXREYXRhWydkJ10sCgkJCQkJCQkJCQkJCQknZScgPT4gJGdldERhdGFbJ2UnXSwKCQkJCQkJCQkJCQkJCSdlMScgPT4gJGdldERhdGFbJ2UxJ10sCgkJCQkJCQkJCQkJCQknZicgPT4gJGdldERhdGFbJ2YnXSwKCQkJCQkJCQkJCQkJCSdnJyA9PiAkZ2V0RGF0YVsnZyddLAoJCQkJCQkJCQkJCQkJJ2gnID0+ICRnZXREYXRhWydoJ10sCgkJCQkJCQkJCQkJCQknaScgPT4gJGdldERhdGFbJ2knXSwKCQkJCQkJCQkJCQkJCSdqJyA9PiAkZ2V0RGF0YVsnaiddLAoJCQkJCQkJCQkJCQkJJ2oxJyA9PiAkZ2V0RGF0YVsnajEnXSwKCQkJCQkJCQkJCQkJCSdpZF9kaXN0cmlidXNpJyA9PiAkZ2V0RGF0YVJpbmNpYW5EaXN0cmlidXNpWydpZF9kaXN0cmlidXNpJ10sCgkJCQkJCQkJCQkJCQknaWRfcmluY2lhbl9kaXN0cmlidXNpJyA9PiAkZ2V0RGF0YURldGFpbERpc3RyaWJ1c2lbJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaSddLAoJCQkJCQkJCQkJCQkJJ3NlbWVzdGVyJyA9PiAxLAoJCQkJCQkJCQkJCQkJJ25vbW9yJyA9PiAkZGF0YVRhbWJhaFsnbm9tb3InXSwKCQkJCQkJCQkJCQkJCSdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhVGFtYmFoWydpZCddCgoJCQkJCQkJKTsKCQkJCQkJCSR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4nLCRkYXRhQ291bnREaXN0cmlidXNpKSk7CgkJCQkJCSB9CiAgICAgICAgICAgICAgJGRhdGFMb2NrVGFtYmFoID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+ICRkYXRhVGFtYmFoWyd0YW5nZ2FsX2J1a3UnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YVRhbWJhaFsnaWQnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkZGF0YVRhbWJhaFsnanVtbGFoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkZGF0YVRhbWJhaFsnaGFyZ2Ffc2F0dWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Npc2EnID0+ICRkYXRhVGFtYmFoWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfbG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdsb2NrX2JhcmFuZ190YW1iYWgnLCRkYXRhTG9ja1RhbWJhaCkpOwogICAgICAgICAgfQoKICAgICAgICAgICRnZXREYXRhS3VyYW5nID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBlPSciLiRnZXREYXRhWydlJ10uIicgYW5kIGUxPSciLiRnZXREYXRhWydlMSddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMicgJGtvbmRpc2lUYWh1biAka29uZGlzaVBlcmlvZGUgb3JkZXIgYnkgdGFuZ2dhbF9idWt1IGFzYyIpOwogICAgICAgICAgd2hpbGUgKCRkYXRhS3VyYW5nID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhS3VyYW5nKSkgewogICAgICAgICAgICAgICRhcnJheVBlcm9sZWhhbiA9IGFycmF5KCk7CiAgICAgICAgICAgICAgJGp1bWxhaEJhcmFuZ0t1cmFuZyA9ICRkYXRhS3VyYW5nWydqdW1sYWgnXTsKICAgICAgICAgICAgICAkZ2V0RGF0YVBlbmVyaW1hYW4gPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gbG9ja19iYXJhbmdfdGFtYmFoIHdoZXJlIGlkX2xvY2sgPSAnIi4kaWRMb2NrLiInIGFuZCBzaXNhICE9JzAnIik7CiAgICAgICAgICAgICAgd2hpbGUgKCRkYXRhUGVuZXJpbWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVBlbmVyaW1hYW4pKSB7CiAgICAgICAgICAgICAgICAgIGlmKCRqdW1sYWhCYXJhbmdLdXJhbmcgIT0gMCl7CgkJCQkJCQkJCQkkZ2V0S2FydHVQZXJzZWRpYWFuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddLiInIikpOwoJCQkJCQkJCQkJaWYoJGdldEthcnR1UGVyc2VkaWFhblsnam5zJ10gPT0gJzMnKXsKCQkJCQkJCQkJCQkJLy8gaWYoaW50dmFsKCRnZXRLYXJ0dVBlcnNlZGlhYW5bJ2hhcmdhX3NhdHVhbiddKSA9PSAwKXsKCQkJCQkJCQkJCQkJCWlmKCR0aGlzLT5zcWxOdW1Sb3coJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSBub21vciA9ICciLiRnZXRLYXJ0dVBlcnNlZGlhYW5bJ25vbW9yJ10uIicgYW5kIHNlbWVzdGVyID0gJzEnIGFuZCB0YW1iYWhhbl9oYXJnYSAhPScnIikpICE9IDApewoJCQkJCQkJCQkJCQkJCSRnZXREYXRhQ291bnREaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4gd2hlcmUgbm9tb3IgPSAnIi4kZ2V0S2FydHVQZXJzZWRpYWFuWydub21vciddLiInIGFuZCBzZW1lc3RlciA9ICcxJyBhbmQgdGFtYmFoYW5faGFyZ2EgIT0nJyIpKTsKCQkJCQkJCQkJCQkJCQkkaGFyZ2FTYXR1YW5QZW5lcmltYWFuID0gJGdldERhdGFDb3VudERpc3RyaWJ1c2lbJ3RhbWJhaGFuX2hhcmdhJ10gLyAkZ2V0S2FydHVQZXJzZWRpYWFuWydqdW1sYWgnXTsKCQkJCQkJCQkJCQkJCQkkZGF0YVVwZGF0ZURpc3RyaWJ1c2lLYXJ0dSA9IGFycmF5KAoJCQkJCQkJCQkJCQkJCQknaGFyZ2Ffc2F0dWFuJyA9PiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuLAoJCQkJCQkJCQkJCQkJCQkndG90YWwnID0+ICRnZXREYXRhQ291bnREaXN0cmlidXNpWyd0YW1iYWhhbl9oYXJnYSddLAoJCQkJCQkJCQkJCQkJCSk7CgkJCQkJCQkJCQkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxVcGRhdGUoInRfa2FydHVfcGVyc2VkaWFhbiIsJGRhdGFVcGRhdGVEaXN0cmlidXNpS2FydHUsImlkID0gJyIuJGRhdGFQZW5lcmltYWFuWydpZF90X2thcnR1X3BlcnNlZGlhYW4nXS4iJyIpKTsKCQkJCQkJCQkJCQkJCQkkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSBub21vcj0nIi4kZ2V0S2FydHVQZXJzZWRpYWFuWydub21vciddLiInIik7CgkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCS8vIH0KCQkJCQkJCQkJCX1lbHNlewoJCQkJCQkJCQkJCSRoYXJnYVNhdHVhblBlbmVyaW1hYW4gPSAkZGF0YVBlbmVyaW1hYW5bJ2hhcmdhJ107CgkJCQkJCQkJCQl9CiAgICAgICAgICAgICAgICAgICAgaWYoJGp1bWxhaEJhcmFuZ0t1cmFuZyA+ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddICl7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgidXBkYXRlIGxvY2tfYmFyYW5nX3RhbWJhaCBzZXQgc2lzYSA9IHNpc2EgLSAiLiRkYXRhUGVuZXJpbWFhblsnc2lzYSddLiIgd2hlcmUgaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkJ10uIiciKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuW10gPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRQZW5lcmltYWFuJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJCRoYXJnYVNhdHVhblBlbmVyaW1hYW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkZGF0YVBlbmVyaW1hYW5bJ3Npc2EnXSAqICRoYXJnYVNhdHVhblBlbmVyaW1hYW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgICRqdW1sYWhCYXJhbmdLdXJhbmcgLT0gJGRhdGFQZW5lcmltYWFuWydzaXNhJ107CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgidXBkYXRlIGxvY2tfYmFyYW5nX3RhbWJhaCBzZXQgc2lzYSA9IHNpc2EgLSAkanVtbGFoQmFyYW5nS3VyYW5nIHdoZXJlIGlkID0gJyIuJGRhdGFQZW5lcmltYWFuWydpZCddLiInIik7CiAgICAgICAgICAgICAgICAgICAgICAgICRhcnJheVBlcm9sZWhhbltdID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkUGVuZXJpbWFhbicgPT4gJGRhdGFQZW5lcmltYWFuWydpZF90X2thcnR1X3BlcnNlZGlhYW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkanVtbGFoQmFyYW5nS3VyYW5nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJGhhcmdhU2F0dWFuUGVuZXJpbWFhbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG90YWwnID0+ICRqdW1sYWhCYXJhbmdLdXJhbmcgKiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nID0gMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgJGVuY29kaW5nID0ganNvbl9lbmNvZGUoJGFycmF5UGVyb2xlaGFuKTsKICAgICAgICAgICAgICAkZGVjb2RpbmcgPSBqc29uX2RlY29kZSgkZW5jb2RpbmcpOwogICAgICAgICAgICAgICRoYXJnYVBlcm9sZWhhbj0gIiI7CiAgICAgICAgICAgICAgZm9yICgkaT0wOyAkaSA8IHNpemVvZigkZGVjb2RpbmcpIDsgJGkrKykgewogICAgICAgICAgICAgICAgICAkaGFyZ2FQZXJvbGVoYW4gKz0gJGRlY29kaW5nWyRpXS0+dG90YWw7CiAgICAgICAgICAgICAgfQoJCQkJCQkJaWYoJGRhdGFLdXJhbmdbJ2pucyddID09ICI3Iil7CgkJCQkJCQkJLy9odWJsYQoJCQkJCQkJCSRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gZGV0YWlsX3JpbmNpYW5fZGlzdHJpYnVzaSB3aGVyZSAgaWQgPSAnIi4kZGF0YUt1cmFuZ1sncmVmaWQnXS4iJyIpKTsKCQkJCQkJCQkkZ2V0RGF0YVJpbmNpYW5EaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByaW5jaWFuX2Rpc3RyaWJ1c2kgd2hlcmUgIGlkID0gJyIuJGdldERhdGFEZXRhaWxEaXN0cmlidXNpWydpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knXS4iJyIpKTsKCQkJCQkJCQkkZGF0YUNvdW50RGlzdHJpYnVzaSA9IGFycmF5KAoJCQkJCQkJCQkJCQkJCSdpZF9sb2NrX2JhcmFuZycgPT4gJGlkTG9jaywKCQkJCQkJCQkJCQkJCQknYzEnID0+ICRnZXREYXRhWydjMSddLAoJCQkJCQkJCQkJCQkJCSdjJyA9PiAkZ2V0RGF0YVsnYyddLAoJCQkJCQkJCQkJCQkJCSdkJyA9PiAkZ2V0RGF0YVsnZCddLAoJCQkJCQkJCQkJCQkJCSdlJyA9PiAkZ2V0RGF0YVsnZSddLAoJCQkJCQkJCQkJCQkJCSdlMScgPT4gJGdldERhdGFbJ2UxJ10sCgkJCQkJCQkJCQkJCQkJJ2YnID0+ICRnZXREYXRhWydmJ10sCgkJCQkJCQkJCQkJCQkJJ2cnID0+ICRnZXREYXRhWydnJ10sCgkJCQkJCQkJCQkJCQkJJ2gnID0+ICRnZXREYXRhWydoJ10sCgkJCQkJCQkJCQkJCQkJJ2knID0+ICRnZXREYXRhWydpJ10sCgkJCQkJCQkJCQkJCQkJJ2onID0+ICRnZXREYXRhWydqJ10sCgkJCQkJCQkJCQkJCQkJJ2oxJyA9PiAkZ2V0RGF0YVsnajEnXSwKCQkJCQkJCQkJCQkJCQknaWRfZGlzdHJpYnVzaScgPT4gJGdldERhdGFSaW5jaWFuRGlzdHJpYnVzaVsnaWRfZGlzdHJpYnVzaSddLAoJCQkJCQkJCQkJCQkJCSdpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knID0+ICRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaVsnaWRfcmluY2lhbl9kaXN0cmlidXNpJ10sCgkJCQkJCQkJCQkJCQkJJ3NlbWVzdGVyJyA9PiAxLAoJCQkJCQkJCQkJCQkJCSdub21vcicgPT4gJGRhdGFLdXJhbmdbJ25vbW9yJ10sCgkJCQkJCQkJCQkJCQkJJ3RhbWJhaGFuX2hhcmdhJyA9PiAkaGFyZ2FQZXJvbGVoYW4sCgkJCQkJCQkJCQkJCQkJJ2pzb25fYXJyYXknID0+ICRlbmNvZGluZwoJCQkJCQkJCSk7CgkJCQkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ2NvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbicsJGRhdGFDb3VudERpc3RyaWJ1c2kpKTsKCQkJCQkJCX0KICAgICAgICAgICAgICAkZGF0YUxvY2tLdXJhbmcgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFLdXJhbmdbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhS3VyYW5nWydpZCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhS3VyYW5nWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkaGFyZ2FQZXJvbGVoYW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX2xvY2snID0+ICRpZExvY2ssCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Blcm9sZWhhbicgPT4ganNvbl9lbmNvZGUoJGFycmF5UGVyb2xlaGFuKQoKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdsb2NrX2JhcmFuZ19rdXJhbmcnLCRkYXRhTG9ja0t1cmFuZykpOwogICAgICAgICAgfQoKCiAgICAgICAgICAkZ2V0RGF0YUhpc3RvcmkgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyBhbmQgZT0nIi4kZ2V0RGF0YVsnZSddLiInIGFuZCBlMT0nIi4kZ2V0RGF0YVsnZTEnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyAgJGtvbmRpc2lUYWh1biAka29uZGlzaVBlcmlvZGUgb3JkZXIgYnkgdGFuZ2dhbF9idWt1LGplbmlzX3BlcnNlZGlhYW4gYXNjIik7CiAgICAgICAgICB3aGlsZSAoJGRhdGFIaXN0b3JpID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhSGlzdG9yaSkpIHsKICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2plbmlzX3BlcnNlZGlhYW4nXSA9PSAxKXsKICAgICAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzEnKXsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlNBTERPIEFXQUwiOwogICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICcyJyl7CiAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2NhcmFfcGVyb2xlaGFuJ10gPT0gJzInKXsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5FUklNQUFOIFBFTUJFTElBTiI7CiAgICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydjYXJhX3Blcm9sZWhhbiddID09ICczJyl7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVORVJJTUFBTiBISUJBSCI7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNCcpewogICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiQ0VLIEZJU0lLIFRBTUJBSCI7CiAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzMnKXsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gRElTVFJJQlVTSSI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkaGFyZ2FTYXR1YW4gPSAkZGF0YUhpc3RvcmlbJ2hhcmdhX3NhdHVhbiddOwogICAgICAgICAgICAgICAgJHRvdGFsSGFyZ2EgPSAkaGFyZ2FTYXR1YW4gKiAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgJHNhbGRvQmFyYW5nICs9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAkdG90YWxTYWxkbyArPSAkdG90YWxIYXJnYTsKCiAgICAgICAgICAgICAgICAkZ2V0SWREZXRhaWwgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGxvY2tfYmFyYW5nX3RhbWJhaCB3aGVyZSBpZF9sb2NrID0gJyRpZExvY2snIGFuZCBpZF90X2thcnR1X3BlcnNlZGlhYW4gPSAnIi4kZGF0YUhpc3RvcmlbJ2lkJ10uIiciKSk7CiAgICAgICAgICAgICAgICAkaWREZXRhaWwgPSAkZ2V0SWREZXRhaWxbJ2lkJ107CiAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgIGlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzYnKXsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAwOwogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkdFTFVBUkFOIjsKICAgICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc1Jyl7CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJDRUsgRklTSUsgS1VSQU5HIjsKICAgICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc3Jyl7CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5HRUxVQVJBTiBESVNUUklCVVNJIjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAkaGFyZ2FTYXR1YW4gPSAiIjsKICAgICAgICAgICAgICAgICRzYWxkb0JhcmFuZyAtPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgJGdldFRvdGFsSGFyZ2EgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGxvY2tfYmFyYW5nX2t1cmFuZyB3aGVyZSBpZF9sb2NrID0gJyRpZExvY2snIGFuZCBpZF90X2thcnR1X3BlcnNlZGlhYW4gPSAnIi4kZGF0YUhpc3RvcmlbJ2lkJ10uIiciKSk7CiAgICAgICAgICAgICAgICAkdG90YWxIYXJnYSA9ICRnZXRUb3RhbEhhcmdhWydoYXJnYSddOwogICAgICAgICAgICAgICAgJHRvdGFsU2FsZG8gLT0gJHRvdGFsSGFyZ2E7CiAgICAgICAgICAgICAgICAkaWREZXRhaWwgPSAkZ2V0VG90YWxIYXJnYVsnaWQnXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgJGRhdGFSaW5jaWFuTG9jayA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9sb2NrJyA9PiAkaWRMb2NrLAogICAgICAgICAgICAgICAgICAgICAgICAgICd0YW5nZ2FsJyA9PiAkZGF0YUhpc3RvcmlbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICd1cmFpYW4nID0+ICR1cmFpYW5QZXJzZWRpYWFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICdtYXN1aycgPT4gJGJhcmFuZ01hc3VrLAogICAgICAgICAgICAgICAgICAgICAgICAgICdrZWx1YXInID0+ICRiYXJhbmdLZWx1YXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NhbGRvX2JhcmFuZycgPT4gJHNhbGRvQmFyYW5nLAogICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJHRvdGFsSGFyZ2EsCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NhbGRvJyA9PiAkdG90YWxTYWxkbywKICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZScgPT4gJGRhdGFIaXN0b3JpWydqZW5pc19wZXJzZWRpYWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFIaXN0b3JpWydpZCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9kZXRhaWwnID0+ICRpZERldGFpbCwKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdyaW5jaWFuX2xvY2tfYmFyYW5nJywkZGF0YVJpbmNpYW5Mb2NrKSk7CiAgICAgICAgICB9CiAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoInVwZGF0ZSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgc2V0IGhhcmdhID0gJyR0b3RhbFNhbGRvJywgc2FsZG9fYmFyYW5nID0gJyRzYWxkb0JhcmFuZycgd2hlcmUgaWQgPSAnJGlkTG9jayciKTsKICAgICAgcmV0dXJuIGFycmF5KAogICAgICAgICdpZExvY2snID0+ICRpZExvY2ssCiAgICAgICAgJ2p1bWxhaEhhcmdhJyA9PiAkdG90YWxTYWxkbywKICAgICAgICAnc2FsZG8nID0+ICRzYWxkb0JhcmFuZywKICAgICAgKTsKICB9CgoKCWZ1bmN0aW9uIGdyYWJUcmFuc2Frc2lUYWh1bmFuKCRrb2RlU0tQRCwka29kZUJhcmFuZyl7CgkJJGZpbHRlclBlcmlvZGUgPSAzOwoJCSR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nPScka29kZUJhcmFuZycgYW5kIHNlbWVzdGVyID0gJyRmaWx0ZXJQZXJpb2RlJyIpOwogICAgJGVyciA9ICIiOwogICAgJGNlayA9ICIiOwogICAgJGNvbnRlbnQgPSAiIjsKICAgICRrb25kaXNpVGFodW4gPSAiIGFuZCBsZWZ0KHRhbmdnYWxfYnVrdSw0KSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiInICI7CiAgICBpZighZW1wdHkoJGZpbHRlclBlcmlvZGUpKXsKICAgICAgICBpZigkZmlsdGVyUGVyaW9kZSA9PSAnMScpewogICAgICAgICAgICAkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA2IjsKICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlICA9ICIgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlcicgIjsKICAgICAgICB9ZWxzZWlmKCRmaWx0ZXJQZXJpb2RlID09ICcyJyl7CiAgICAgICAgICAgICRtaW5GaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMDciOwogICAgICAgICAgICAkbWF4RmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjEyIjsKICAgICAgICAgICAgJGtvbmRpc2lQZXJpb2RlPSAiIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPj0gJyRtaW5GaWx0ZXInIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKICAgICAgICAgICAgJGtvbmRpc2lTYWxkb0F3YWwgPSAiIGFuZCBpZCBub3QgaW4gKCBzZWxlY3QgaWQgZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgam5zID0gJzEnIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnIGFuZCB0YW5nZ2FsX2J1a3UgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLSR0aGlzLT5idWxhblRhbmdnYWxTYWxkb0F3YWwnKSAiOwogICAgICAgIH1lbHNlaWYoJGZpbHRlclBlcmlvZGUgPT0gJzMnKXsKICAgICAgICAgICAgJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CiAgICAgICAgICAgICRrb25kaXNpUGVyaW9kZSA9ICIgYW5kIHJlcGxhY2UobGVmdCh0YW5nZ2FsX2J1a3UsNyksJy0nLCcnKSA8PSAnJG1heEZpbHRlciciOwogICAgICAgICAgICAka29uZGlzaVNhbGRvQXdhbCA9ICIgYW5kIGlkIG5vdCBpbiAoIHNlbGVjdCBpZCBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBqbnMgPSAnMScgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgYW5kIHRhbmdnYWxfYnVrdSA9ICciLiR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEnKSAiOwogICAgICAgIH0KICAgIH0KCgoKICAgICRnZXREYXRhID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdEtvZGVCYXJhbmc9JyRrb2RlQmFyYW5nJyAgIikpOwogICAgICAkZGF0YUxvY2tCYXJhbmcgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICdjMScgPT4gJGdldERhdGFbJ2MxJ10sCiAgICAgICAgICAgICAgICAgICAgICAnYycgPT4gJGdldERhdGFbJ2MnXSwKICAgICAgICAgICAgICAgICAgICAgICdkJyA9PiAkZ2V0RGF0YVsnZCddLAogICAgICAgICAgICAgICAgICAgICAgJ2UnID0+ICRnZXREYXRhWydlJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZTEnID0+ICRnZXREYXRhWydlMSddLAogICAgICAgICAgICAgICAgICAgICAgJ2YxJyA9PiAkZ2V0RGF0YVsnZjEnXSwKICAgICAgICAgICAgICAgICAgICAgICdmMicgPT4gJGdldERhdGFbJ2YyJ10sCiAgICAgICAgICAgICAgICAgICAgICAnZicgPT4gJGdldERhdGFbJ2YnXSwKICAgICAgICAgICAgICAgICAgICAgICdnJyA9PiAkZ2V0RGF0YVsnZyddLAogICAgICAgICAgICAgICAgICAgICAgJ2gnID0+ICRnZXREYXRhWydoJ10sCiAgICAgICAgICAgICAgICAgICAgICAnaScgPT4gJGdldERhdGFbJ2knXSwKICAgICAgICAgICAgICAgICAgICAgICdqJyA9PiAkZ2V0RGF0YVsnaiddLAogICAgICAgICAgICAgICAgICAgICAgJ2oxJyA9PiAkZ2V0RGF0YVsnajEnXSwKICAgICAgICAgICAgICAgICAgICAgICd0YWh1bicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgICAgICAgICAgICAgICAgICAgICAnc2VtZXN0ZXInID0+IDMsCiAgICAgICAgICApOwogICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoInRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyIsJGRhdGFMb2NrQmFyYW5nKSk7CgogICAgICAgICAgJGlkTG9jayA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBtYXgoaWQpIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyBhbmQgZT0nIi4kZ2V0RGF0YVsnZSddLiInIGFuZCBlMT0nIi4kZ2V0RGF0YVsnZTEnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyBhbmQgdGFodW4gPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iJyBhbmQgc2VtZXN0ZXIgPSAnIi4kZmlsdGVyUGVyaW9kZS4iJyAiKSk7CiAgICAgICAgICAkaWRMb2NrID0gJGlkTG9ja1snbWF4KGlkKSddOwoKCiAgICAgICAgICAkZ2V0RGF0YVRhbWJhaCA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgYzE9JyIuJGdldERhdGFbJ2MxJ10uIicgYW5kIGM9JyIuJGdldERhdGFbJ2MnXS4iJyBhbmQgZD0nIi4kZ2V0RGF0YVsnZCddLiInIGFuZCBlPSciLiRnZXREYXRhWydlJ10uIicgYW5kIGUxPSciLiRnZXREYXRhWydlMSddLiInICBhbmQgZj0nIi4kZ2V0RGF0YVsnZiddLiInIGFuZCBnPSciLiRnZXREYXRhWydnJ10uIicgYW5kIGg9JyIuJGdldERhdGFbJ2gnXS4iJyBhbmQgaT0nIi4kZ2V0RGF0YVsnaSddLiInIGFuZCBqPSciLiRnZXREYXRhWydqJ10uIicgYW5kIGoxPSciLiRnZXREYXRhWydqMSddLiInIGFuZCBqZW5pc19wZXJzZWRpYWFuID0gJzEnICRrb25kaXNpVGFodW4gJGtvbmRpc2lQZXJpb2RlICRrb25kaXNpU2FsZG9Bd2FsIG9yZGVyIGJ5IHRhbmdnYWxfYnVrdSBhc2MiKTsKICAgICAgICAgIHdoaWxlICgkZGF0YVRhbWJhaCA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVRhbWJhaCkpIHsKCQkJCQkJCWlmKCRkYXRhVGFtYmFoWydqbnMnXSA9PSAnMycpewoJCQkJCQkJCSRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gZGV0YWlsX3JpbmNpYW5fZGlzdHJpYnVzaSB3aGVyZSAgaWQgPSAnIi4kZGF0YVRhbWJhaFsncmVmaWQnXS4iJyIpKTsKCQkJCQkJCQkkZ2V0RGF0YVJpbmNpYW5EaXN0cmlidXNpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSByaW5jaWFuX2Rpc3RyaWJ1c2kgd2hlcmUgIGlkID0gJyIuJGdldERhdGFEZXRhaWxEaXN0cmlidXNpWydpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knXS4iJyIpKTsKCQkJCQkJCQkkZGF0YUNvdW50RGlzdHJpYnVzaSA9IGFycmF5KAoJCQkJCQkJCQkJCQkJCSdpZF9sb2NrX2JhcmFuZycgPT4gJGlkTG9jaywKCQkJCQkJCQkJCQkJCQknYzEnID0+ICRnZXREYXRhWydjMSddLAoJCQkJCQkJCQkJCQkJCSdjJyA9PiAkZ2V0RGF0YVsnYyddLAoJCQkJCQkJCQkJCQkJCSdkJyA9PiAkZ2V0RGF0YVsnZCddLAoJCQkJCQkJCQkJCQkJCSdlJyA9PiAkZ2V0RGF0YVsnZSddLAoJCQkJCQkJCQkJCQkJCSdlMScgPT4gJGdldERhdGFbJ2UxJ10sCgkJCQkJCQkJCQkJCQkJJ2YnID0+ICRnZXREYXRhWydmJ10sCgkJCQkJCQkJCQkJCQkJJ2cnID0+ICRnZXREYXRhWydnJ10sCgkJCQkJCQkJCQkJCQkJJ2gnID0+ICRnZXREYXRhWydoJ10sCgkJCQkJCQkJCQkJCQkJJ2knID0+ICRnZXREYXRhWydpJ10sCgkJCQkJCQkJCQkJCQkJJ2onID0+ICRnZXREYXRhWydqJ10sCgkJCQkJCQkJCQkJCQkJJ2oxJyA9PiAkZ2V0RGF0YVsnajEnXSwKCQkJCQkJCQkJCQkJCQknaWRfZGlzdHJpYnVzaScgPT4gJGdldERhdGFSaW5jaWFuRGlzdHJpYnVzaVsnaWRfZGlzdHJpYnVzaSddLAoJCQkJCQkJCQkJCQkJCSdpZF9yaW5jaWFuX2Rpc3RyaWJ1c2knID0+ICRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaVsnaWRfcmluY2lhbl9kaXN0cmlidXNpJ10sCgkJCQkJCQkJCQkJCQkJJ3NlbWVzdGVyJyA9PiAzLAoJCQkJCQkJCQkJCQkJCSdub21vcicgPT4gJGRhdGFUYW1iYWhbJ25vbW9yJ10sCgkJCQkJCQkJCQkJCQkJJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbicgPT4gJGRhdGFUYW1iYWhbJ2lkJ10KCgkJCQkJCQkJKTsKCQkJCQkJCQkkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgnY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuJywkZGF0YUNvdW50RGlzdHJpYnVzaSkpOwoJCQkJCQkJIH0KICAgICAgICAgICAgICAkZGF0YUxvY2tUYW1iYWggPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFUYW1iYWhbJ3RhbmdnYWxfYnVrdSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhVGFtYmFoWydpZCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdqdW1sYWgnID0+ICRkYXRhVGFtYmFoWydqdW1sYWgnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRkYXRhVGFtYmFoWydoYXJnYV9zYXR1YW4nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnc2lzYScgPT4gJGRhdGFUYW1iYWhbJ2p1bWxhaCddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9sb2NrJyA9PiAkaWRMb2NrLAogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxJbnNlcnQoJ2xvY2tfYmFyYW5nX3RhbWJhaCcsJGRhdGFMb2NrVGFtYmFoKSk7CiAgICAgICAgICB9CgogICAgICAgICAgJGdldERhdGFLdXJhbmcgPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIGMxPSciLiRnZXREYXRhWydjMSddLiInIGFuZCBjPSciLiRnZXREYXRhWydjJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgYW5kIGQ9JyIuJGdldERhdGFbJ2QnXS4iJyAgYW5kIGY9JyIuJGdldERhdGFbJ2YnXS4iJyBhbmQgZz0nIi4kZ2V0RGF0YVsnZyddLiInIGFuZCBoPSciLiRnZXREYXRhWydoJ10uIicgYW5kIGk9JyIuJGdldERhdGFbJ2knXS4iJyBhbmQgaj0nIi4kZ2V0RGF0YVsnaiddLiInIGFuZCBqMT0nIi4kZ2V0RGF0YVsnajEnXS4iJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcyJyAka29uZGlzaVRhaHVuICRrb25kaXNpUGVyaW9kZSAka29uZGlzaVNhbGRvQXdhbCBvcmRlciBieSB0YW5nZ2FsX2J1a3UgYXNjIik7CiAgICAgICAgICB3aGlsZSAoJGRhdGFLdXJhbmcgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFLdXJhbmcpKSB7CiAgICAgICAgICAgICAgJGFycmF5UGVyb2xlaGFuID0gYXJyYXkoKTsKICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nID0gJGRhdGFLdXJhbmdbJ2p1bWxhaCddOwogICAgICAgICAgICAgICRnZXREYXRhUGVuZXJpbWFhbiA9ICR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBsb2NrX2JhcmFuZ190YW1iYWggd2hlcmUgaWRfbG9jayA9ICciLiRpZExvY2suIicgYW5kIHNpc2EgIT0nMCciKTsKICAgICAgICAgICAgICB3aGlsZSAoJGRhdGFQZW5lcmltYWFuID0gJHRoaXMtPnNxbEFycmF5KCRnZXREYXRhUGVuZXJpbWFhbikpIHsKICAgICAgICAgICAgICAgICAgaWYoJGp1bWxhaEJhcmFuZ0t1cmFuZyAhPSAwKXsKCQkJCQkJCQkJCSRnZXRLYXJ0dVBlcnNlZGlhYW4gPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10uIiciKSk7CgkJCQkJCQkJCQlpZigkZ2V0S2FydHVQZXJzZWRpYWFuWydqbnMnXSA9PSAnMycpewoJCQkJCQkJCQkJCQkvLyBpZihpbnR2YWwoJGdldEthcnR1UGVyc2VkaWFhblsnaGFyZ2Ffc2F0dWFuJ10pID09IDApewoJCQkJCQkJCQkJCQkJaWYoJHRoaXMtPnNxbE51bVJvdygkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlIG5vbW9yID0gJyIuJGdldEthcnR1UGVyc2VkaWFhblsnbm9tb3InXS4iJyBhbmQgc2VtZXN0ZXIgPSAnMScgYW5kIHRhbWJhaGFuX2hhcmdhICE9JyciKSkgIT0gMCl7CgkJCQkJCQkJCQkJCQkJJGdldERhdGFDb3VudERpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSBub21vciA9ICciLiRnZXRLYXJ0dVBlcnNlZGlhYW5bJ25vbW9yJ10uIicgYW5kIHNlbWVzdGVyID0gJzEnIGFuZCB0YW1iYWhhbl9oYXJnYSAhPScnIikpOwoJCQkJCQkJCQkJCQkJCSRoYXJnYVNhdHVhblBlbmVyaW1hYW4gPSAkZ2V0RGF0YUNvdW50RGlzdHJpYnVzaVsndGFtYmFoYW5faGFyZ2EnXSAvICRnZXRLYXJ0dVBlcnNlZGlhYW5bJ2p1bWxhaCddOwoJCQkJCQkJCQkJCQkJCSRkYXRhVXBkYXRlRGlzdHJpYnVzaUthcnR1ID0gYXJyYXkoCgkJCQkJCQkJCQkJCQkJCSdoYXJnYV9zYXR1YW4nID0+ICRoYXJnYVNhdHVhblBlbmVyaW1hYW4sCgkJCQkJCQkJCQkJCQkJCSd0b3RhbCcgPT4gJGdldERhdGFDb3VudERpc3RyaWJ1c2lbJ3RhbWJhaGFuX2hhcmdhJ10sCgkJCQkJCQkJCQkJCQkJKTsKCQkJCQkJCQkJCQkJCQkkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbFVwZGF0ZSgidF9rYXJ0dV9wZXJzZWRpYWFuIiwkZGF0YVVwZGF0ZURpc3RyaWJ1c2lLYXJ0dSwiaWQgPSAnIi4kZGF0YVBlbmVyaW1hYW5bJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddLiInIikpOwoJCQkJCQkJCQkJCQkJCSR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlIG5vbW9yPSciLiRnZXRLYXJ0dVBlcnNlZGlhYW5bJ25vbW9yJ10uIiciKTsKCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJLy8gfQoJCQkJCQkJCQkJfWVsc2V7CgkJCQkJCQkJCQkJJGhhcmdhU2F0dWFuUGVuZXJpbWFhbiA9ICRkYXRhUGVuZXJpbWFhblsnaGFyZ2EnXTsKCQkJCQkJCQkJCX0KICAgICAgICAgICAgICAgICAgICBpZigkanVtbGFoQmFyYW5nS3VyYW5nID4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10gKXsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgbG9ja19iYXJhbmdfdGFtYmFoIHNldCBzaXNhID0gc2lzYSAtICIuJGRhdGFQZW5lcmltYWFuWydzaXNhJ10uIiB3aGVyZSBpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWQnXS4iJyIpOwogICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXlQZXJvbGVoYW5bXSA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZFBlbmVyaW1hYW4nID0+ICRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmdhJyA9PiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbCcgPT4gJGRhdGFQZW5lcmltYWFuWydzaXNhJ10gKiAkaGFyZ2FTYXR1YW5QZW5lcmltYWFuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAkanVtbGFoQmFyYW5nS3VyYW5nIC09ICRkYXRhUGVuZXJpbWFhblsnc2lzYSddOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoInVwZGF0ZSBsb2NrX2JhcmFuZ190YW1iYWggc2V0IHNpc2EgPSBzaXNhIC0gJGp1bWxhaEJhcmFuZ0t1cmFuZyB3aGVyZSBpZCA9ICciLiRkYXRhUGVuZXJpbWFhblsnaWQnXS4iJyIpOwogICAgICAgICAgICAgICAgICAgICAgICAkYXJyYXlQZXJvbGVoYW5bXSA9IGFycmF5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZFBlbmVyaW1hYW4nID0+ICRkYXRhUGVuZXJpbWFhblsnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2p1bWxhaCcgPT4gJGp1bWxhaEJhcmFuZ0t1cmFuZywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGFyZ2EnID0+ICRoYXJnYVNhdHVhblBlbmVyaW1hYW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJyA9PiAkanVtbGFoQmFyYW5nS3VyYW5nICogJGhhcmdhU2F0dWFuUGVuZXJpbWFhbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGp1bWxhaEJhcmFuZ0t1cmFuZyA9IDA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICRlbmNvZGluZyA9IGpzb25fZW5jb2RlKCRhcnJheVBlcm9sZWhhbik7CiAgICAgICAgICAgICAgJGRlY29kaW5nID0ganNvbl9kZWNvZGUoJGVuY29kaW5nKTsKICAgICAgICAgICAgICAkaGFyZ2FQZXJvbGVoYW49ICIiOwogICAgICAgICAgICAgIGZvciAoJGk9MDsgJGkgPCBzaXplb2YoJGRlY29kaW5nKSA7ICRpKyspIHsKICAgICAgICAgICAgICAgICAgJGhhcmdhUGVyb2xlaGFuICs9ICRkZWNvZGluZ1skaV0tPnRvdGFsOwogICAgICAgICAgICAgIH0KCQkJCQkJCWlmKCRkYXRhS3VyYW5nWydqbnMnXSA9PSAiNyIpewoJCQkJCQkJCS8vaHVibGEKCQkJCQkJCQkkZ2V0RGF0YURldGFpbERpc3RyaWJ1c2kgPSAkdGhpcy0+c3FsQXJyYXkoJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGRldGFpbF9yaW5jaWFuX2Rpc3RyaWJ1c2kgd2hlcmUgIGlkID0gJyIuJGRhdGFLdXJhbmdbJ3JlZmlkJ10uIiciKSk7CgkJCQkJCQkJJGdldERhdGFSaW5jaWFuRGlzdHJpYnVzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmluY2lhbl9kaXN0cmlidXNpIHdoZXJlICBpZCA9ICciLiRnZXREYXRhRGV0YWlsRGlzdHJpYnVzaVsnaWRfcmluY2lhbl9kaXN0cmlidXNpJ10uIiciKSk7CgkJCQkJCQkJJGRhdGFDb3VudERpc3RyaWJ1c2kgPSBhcnJheSgKCQkJCQkJCQkJCQkJCQknaWRfbG9ja19iYXJhbmcnID0+ICRpZExvY2ssCgkJCQkJCQkJCQkJCQkJJ2MxJyA9PiAkZ2V0RGF0YVsnYzEnXSwKCQkJCQkJCQkJCQkJCQknYycgPT4gJGdldERhdGFbJ2MnXSwKCQkJCQkJCQkJCQkJCQknZCcgPT4gJGdldERhdGFbJ2QnXSwKCQkJCQkJCQkJCQkJCQknZScgPT4gJGdldERhdGFbJ2UnXSwKCQkJCQkJCQkJCQkJCQknZTEnID0+ICRnZXREYXRhWydlMSddLAoJCQkJCQkJCQkJCQkJCSdmJyA9PiAkZ2V0RGF0YVsnZiddLAoJCQkJCQkJCQkJCQkJCSdnJyA9PiAkZ2V0RGF0YVsnZyddLAoJCQkJCQkJCQkJCQkJCSdoJyA9PiAkZ2V0RGF0YVsnaCddLAoJCQkJCQkJCQkJCQkJCSdpJyA9PiAkZ2V0RGF0YVsnaSddLAoJCQkJCQkJCQkJCQkJCSdqJyA9PiAkZ2V0RGF0YVsnaiddLAoJCQkJCQkJCQkJCQkJCSdqMScgPT4gJGdldERhdGFbJ2oxJ10sCgkJCQkJCQkJCQkJCQkJJ2lkX2Rpc3RyaWJ1c2knID0+ICRnZXREYXRhUmluY2lhbkRpc3RyaWJ1c2lbJ2lkX2Rpc3RyaWJ1c2knXSwKCQkJCQkJCQkJCQkJCQknaWRfcmluY2lhbl9kaXN0cmlidXNpJyA9PiAkZ2V0RGF0YURldGFpbERpc3RyaWJ1c2lbJ2lkX3JpbmNpYW5fZGlzdHJpYnVzaSddLAoJCQkJCQkJCQkJCQkJCSdzZW1lc3RlcicgPT4gMywKCQkJCQkJCQkJCQkJCQknbm9tb3InID0+ICRkYXRhS3VyYW5nWydub21vciddLAoJCQkJCQkJCQkJCQkJCSd0YW1iYWhhbl9oYXJnYScgPT4gJGhhcmdhUGVyb2xlaGFuLAoJCQkJCQkJCQkJCQkJCSdqc29uX2FycmF5JyA9PiAkZW5jb2RpbmcKCQkJCQkJCQkpOwoJCQkJCQkJCSR0aGlzLT5zcWxRdWVyeSgkdGhpcy0+c3FsSW5zZXJ0KCdjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4nLCRkYXRhQ291bnREaXN0cmlidXNpKSk7CgkJCQkJCQl9CiAgICAgICAgICAgICAgJGRhdGFMb2NrS3VyYW5nID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhbmdnYWwnID0+ICRkYXRhS3VyYW5nWyd0YW5nZ2FsX2J1a3UnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfdF9rYXJ0dV9wZXJzZWRpYWFuJyA9PiAkZGF0YUt1cmFuZ1snaWQnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnanVtbGFoJyA9PiAkZGF0YUt1cmFuZ1snanVtbGFoJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICdoYXJnYScgPT4gJGhhcmdhUGVyb2xlaGFuLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF9sb2NrJyA9PiAkaWRMb2NrLAogICAgICAgICAgICAgICAgICAgICAgICAgICdwZXJvbGVoYW4nID0+IGpzb25fZW5jb2RlKCRhcnJheVBlcm9sZWhhbikKCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgnbG9ja19iYXJhbmdfa3VyYW5nJywkZGF0YUxvY2tLdXJhbmcpKTsKICAgICAgICAgIH0KCgogICAgICAgICAgJGdldERhdGFIaXN0b3JpID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSBjMT0nIi4kZ2V0RGF0YVsnYzEnXS4iJyBhbmQgYz0nIi4kZ2V0RGF0YVsnYyddLiInIGFuZCBkPSciLiRnZXREYXRhWydkJ10uIicgYW5kIGU9JyIuJGdldERhdGFbJ2UnXS4iJyBhbmQgZTE9JyIuJGdldERhdGFbJ2UxJ10uIicgIGFuZCBmPSciLiRnZXREYXRhWydmJ10uIicgYW5kIGc9JyIuJGdldERhdGFbJ2cnXS4iJyBhbmQgaD0nIi4kZ2V0RGF0YVsnaCddLiInIGFuZCBpPSciLiRnZXREYXRhWydpJ10uIicgYW5kIGo9JyIuJGdldERhdGFbJ2onXS4iJyBhbmQgajE9JyIuJGdldERhdGFbJ2oxJ10uIicgICRrb25kaXNpVGFodW4gJGtvbmRpc2lQZXJpb2RlICRrb25kaXNpU2FsZG9Bd2FsIG9yZGVyIGJ5IHRhbmdnYWxfYnVrdSxqZW5pc19wZXJzZWRpYWFuIGFzYyIpOwogICAgICAgICAgd2hpbGUgKCRkYXRhSGlzdG9yaSA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YUhpc3RvcmkpKSB7CiAgICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydqZW5pc19wZXJzZWRpYWFuJ10gPT0gMSl7CiAgICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICcxJyl7CiAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJTQUxETyBBV0FMIjsKICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnMicpewogICAgICAgICAgICAgICAgICAkYmFyYW5nTWFzdWsgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAkYmFyYW5nS2VsdWFyID0gMDsKICAgICAgICAgICAgICAgICAgaWYoJGRhdGFIaXN0b3JpWydjYXJhX3Blcm9sZWhhbiddID09ICcyJyl7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVORVJJTUFBTiBQRU1CRUxJQU4iOwogICAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnY2FyYV9wZXJvbGVoYW4nXSA9PSAnMycpewogICAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIlBFTkVSSU1BQU4gSElCQUgiOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9ZWxzZWlmKCRkYXRhSGlzdG9yaVsnam5zJ10gPT0gJzQnKXsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9IDA7CiAgICAgICAgICAgICAgICAgICR1cmFpYW5QZXJzZWRpYWFuID0gIkNFSyBGSVNJSyBUQU1CQUgiOwogICAgICAgICAgICAgICAgfWVsc2VpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICczJyl7CiAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAwOwogICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5FUklNQUFOIERJU1RSSUJVU0kiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGhhcmdhU2F0dWFuID0gJGRhdGFIaXN0b3JpWydoYXJnYV9zYXR1YW4nXTsKICAgICAgICAgICAgICAgICR0b3RhbEhhcmdhID0gJGhhcmdhU2F0dWFuICogJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICRzYWxkb0JhcmFuZyArPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgJHRvdGFsU2FsZG8gKz0gJHRvdGFsSGFyZ2E7CgogICAgICAgICAgICAgICAgJGdldElkRGV0YWlsID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBsb2NrX2JhcmFuZ190YW1iYWggd2hlcmUgaWRfbG9jayA9ICckaWRMb2NrJyBhbmQgaWRfdF9rYXJ0dV9wZXJzZWRpYWFuID0gJyIuJGRhdGFIaXN0b3JpWydpZCddLiInIikpOwogICAgICAgICAgICAgICAgJGlkRGV0YWlsID0gJGdldElkRGV0YWlsWydpZCddOwogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICBpZigkZGF0YUhpc3RvcmlbJ2pucyddID09ICc2Jyl7CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ0tlbHVhciA9ICRkYXRhSGlzdG9yaVsnanVtbGFoJ107CiAgICAgICAgICAgICAgICAgICAgJGJhcmFuZ01hc3VrID0gMDsKICAgICAgICAgICAgICAgICAgICAkdXJhaWFuUGVyc2VkaWFhbiA9ICJQRU5HRUxVQVJBTiI7CiAgICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNScpewogICAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9IDA7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiQ0VLIEZJU0lLIEtVUkFORyI7CiAgICAgICAgICAgICAgICAgIH1lbHNlaWYoJGRhdGFIaXN0b3JpWydqbnMnXSA9PSAnNycpewogICAgICAgICAgICAgICAgICAgICRiYXJhbmdLZWx1YXIgPSAkZGF0YUhpc3RvcmlbJ2p1bWxhaCddOwogICAgICAgICAgICAgICAgICAgICRiYXJhbmdNYXN1ayA9IDA7CiAgICAgICAgICAgICAgICAgICAgJHVyYWlhblBlcnNlZGlhYW4gPSAiUEVOR0VMVUFSQU4gRElTVFJJQlVTSSI7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgJGhhcmdhU2F0dWFuID0gIiI7CiAgICAgICAgICAgICAgICAkc2FsZG9CYXJhbmcgLT0gJGRhdGFIaXN0b3JpWydqdW1sYWgnXTsKICAgICAgICAgICAgICAgICRnZXRUb3RhbEhhcmdhID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBsb2NrX2JhcmFuZ19rdXJhbmcgd2hlcmUgaWRfbG9jayA9ICckaWRMb2NrJyBhbmQgaWRfdF9rYXJ0dV9wZXJzZWRpYWFuID0gJyIuJGRhdGFIaXN0b3JpWydpZCddLiInIikpOwogICAgICAgICAgICAgICAgJHRvdGFsSGFyZ2EgPSAkZ2V0VG90YWxIYXJnYVsnaGFyZ2EnXTsKICAgICAgICAgICAgICAgICR0b3RhbFNhbGRvIC09ICR0b3RhbEhhcmdhOwogICAgICAgICAgICAgICAgJGlkRGV0YWlsID0gJGdldFRvdGFsSGFyZ2FbJ2lkJ107CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICRkYXRhUmluY2lhbkxvY2sgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfbG9jaycgPT4gJGlkTG9jaywKICAgICAgICAgICAgICAgICAgICAgICAgICAndGFuZ2dhbCcgPT4gJGRhdGFIaXN0b3JpWyd0YW5nZ2FsX2J1a3UnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAndXJhaWFuJyA9PiAkdXJhaWFuUGVyc2VkaWFhbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFzdWsnID0+ICRiYXJhbmdNYXN1aywKICAgICAgICAgICAgICAgICAgICAgICAgICAna2VsdWFyJyA9PiAkYmFyYW5nS2VsdWFyLAogICAgICAgICAgICAgICAgICAgICAgICAgICdzYWxkb19iYXJhbmcnID0+ICRzYWxkb0JhcmFuZywKICAgICAgICAgICAgICAgICAgICAgICAgICAndG90YWwnID0+ICR0b3RhbEhhcmdhLAogICAgICAgICAgICAgICAgICAgICAgICAgICdzYWxkbycgPT4gJHRvdGFsU2FsZG8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnID0+ICRkYXRhSGlzdG9yaVsnamVuaXNfcGVyc2VkaWFhbiddLAogICAgICAgICAgICAgICAgICAgICAgICAgICdpZF90X2thcnR1X3BlcnNlZGlhYW4nID0+ICRkYXRhSGlzdG9yaVsnaWQnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnaWRfZGV0YWlsJyA9PiAkaWREZXRhaWwsCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAkdGhpcy0+c3FsUXVlcnkoJHRoaXMtPnNxbEluc2VydCgncmluY2lhbl9sb2NrX2JhcmFuZycsJGRhdGFSaW5jaWFuTG9jaykpOwogICAgICAgICAgfQogICAgICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCJ1cGRhdGUgdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHNldCBoYXJnYSA9ICckdG90YWxTYWxkbycsIHNhbGRvX2JhcmFuZyA9ICckc2FsZG9CYXJhbmcnIHdoZXJlIGlkID0gJyRpZExvY2snIik7CiAgICAgIHJldHVybiBhcnJheSgKICAgICAgICAnaWRMb2NrJyA9PiAkaWRMb2NrLAogICAgICAgICdqdW1sYWhIYXJnYScgPT4gJHRvdGFsU2FsZG8sCiAgICAgICAgJ3NhbGRvJyA9PiAkc2FsZG9CYXJhbmcsCiAgICAgICk7CiAgfQoKCglmdW5jdGlvbiBjbG9zaW5nU2VtZXN0ZXIxKCRrb2RlU0tQRCwka29kZUJhcmFuZyl7CgkJIGZvcmVhY2ggKCRfUkVRVUVTVCBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkJJCRrZXkgPSAkdmFsdWU7CgkJIH0KCQkgJGV4cGxvZGVLb2RlU0tQRCA9IGV4cGxvZGUoIi4iLCRrb2RlU0tQRCk7CgkJICR0aGlzLT5zZXRTYWxkb0F3YWwoJGtvZGVTS1BELCRrb2RlQmFyYW5nKTsKCX0KCgoJZnVuY3Rpb24gc2V0U2FsZG9Bd2FsKCRrb2RlU0tQRCwka29kZUJhcmFuZyl7CiAgICAkZ2V0RGF0YVBlcnNlZGlhYW4gPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdmlld19kYWZ0YXJfcGVyc2VkaWFhbiB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnIGFuZCBjb25jYXQoZiwnLicsZywnLicsaCwnLicsaSwnLicsaiwnLicsajEpID0gJyRrb2RlQmFyYW5nJyBhbmQgeWVhcih0YW5nZ2FsX2J1a3UpID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyIpOwogICAgd2hpbGUgKCRkYXRhUGVyc2VkaWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVBlcnNlZGlhYW4pKSB7CiAgICAgICRrb2RlQmFyYW5nID0gJGRhdGFQZXJzZWRpYWFuWydmJ10uIi4iLiRkYXRhUGVyc2VkaWFhblsnZyddLiIuIi4kZGF0YVBlcnNlZGlhYW5bJ2gnXS4iLiIuJGRhdGFQZXJzZWRpYWFuWydpJ10uIi4iLiRkYXRhUGVyc2VkaWFhblsnaiddLiIuIi4kZGF0YVBlcnNlZGlhYW5bJ2oxJ107CiAgICAgICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIik7CiAgICAgICRhcnJheVNhbGRvQXdhbCA9ICR0aGlzLT5ncmFiVHJhbnNha3NpU2VtZXN0ZXIxKCRrb2RlU0tQRCwka29kZUJhcmFuZywnMScpOwogICAgICAkZ2V0RGF0YUJhcmFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZyciKSk7CiAgICAgICRkYXRhU2FsZG9Bd2FsID0gYXJyYXkoCiAgICAgICAgJ2MxJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2MxJ10sCiAgICAgICAgJ2MnID0+ICRkYXRhUGVyc2VkaWFhblsnYyddLAogICAgICAgICdkJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2QnXSwKICAgICAgICAnZScgPT4gJGRhdGFQZXJzZWRpYWFuWydlJ10sCiAgICAgICAgJ2UxJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2UxJ10sCiAgICAgICAgJ2YnID0+ICRkYXRhUGVyc2VkaWFhblsnZiddLAogICAgICAgICdnJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2cnXSwKICAgICAgICAnaCcgPT4gJGRhdGFQZXJzZWRpYWFuWydoJ10sCiAgICAgICAgJ2knID0+ICRkYXRhUGVyc2VkaWFhblsnaSddLAogICAgICAgICdqJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2onXSwKICAgICAgICAnajEnID0+ICRkYXRhUGVyc2VkaWFhblsnajEnXSwKICAgICAgICAnc2F0dWFuJyA9PiAkZ2V0RGF0YUJhcmFuZ1snc2F0dWFuJ10sCiAgICAgICAgJ3RhbmdnYWwnID0+ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiItMDctMDEiLAogICAgICAgICdqbnMnID0+ICcxJywKICAgICAgICAnamVuaXNfcGVyc2VkaWFhbicgPT4gJzEnLAogICAgICAgICd0YWh1bl9hbmdnYXJhbicgPT4gJHRoaXMtPnRhaHVuQW5nZ2FyYW4sCiAgICAgICAgJ2hhcmdhX3NhdHVhbicgPT4gJGFycmF5U2FsZG9Bd2FsWydqdW1sYWhIYXJnYSddIC8gJGFycmF5U2FsZG9Bd2FsWydzYWxkbyddICAsCiAgICAgICAgJ2p1bWxhaCcgPT4gJGFycmF5U2FsZG9Bd2FsWydzYWxkbyddICwKICAgICAgICAndG90YWwnID0+ICRhcnJheVNhbGRvQXdhbFsnanVtbGFoSGFyZ2EnXSwKICAgICAgKTsKICAgICAgJHF1ZXJ5SW5zZXRTYWxkb0F3YWwgPSAkdGhpcy0+c3FsSW5zZXJ0KCJzYWxkb19hd2FsIiwkZGF0YVNhbGRvQXdhbCk7CiAgICAgICR0aGlzLT5zcWxRdWVyeSgkcXVlcnlJbnNldFNhbGRvQXdhbCk7CiAgICAgICRnZXRJZFRyYW5zYWtzaSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCBtYXgoaWQpIGZyb20gc2FsZG9fYXdhbCB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZycgYW5kIHRhbmdnYWw9JyIuJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIi0wNy0wMSIuIiciKSk7CiAgICAgICRkYXRhS2FydHVQZXJzZWRpYWFuID0gYXJyYXkoCiAgICAgICAgJ2MxJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2MxJ10sCiAgICAgICAgJ2MnID0+ICRkYXRhUGVyc2VkaWFhblsnYyddLAogICAgICAgICdkJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2QnXSwKICAgICAgICAnZScgPT4gJGRhdGFQZXJzZWRpYWFuWydlJ10sCiAgICAgICAgJ2UxJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2UxJ10sCiAgICAgICAgJ2YnID0+ICRkYXRhUGVyc2VkaWFhblsnZiddLAogICAgICAgICdnJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2cnXSwKICAgICAgICAnaCcgPT4gJGRhdGFQZXJzZWRpYWFuWydoJ10sCiAgICAgICAgJ2knID0+ICRkYXRhUGVyc2VkaWFhblsnaSddLAogICAgICAgICdqJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2onXSwKICAgICAgICAnajEnID0+ICRkYXRhUGVyc2VkaWFhblsnajEnXSwKICAgICAgICAndGFuZ2dhbF9idWt1JyA9PiAkdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxIiwKICAgICAgICAnam5zJyA9PiAnMScsCiAgICAgICAgJ2plbmlzX3BlcnNlZGlhYW4nID0+ICcxJywKICAgICAgICAnY2FyYV9wZXJvbGVoYW4nID0+ICcxJywKICAgICAgICAnaGFyZ2Ffc2F0dWFuJyA9PiAkYXJyYXlTYWxkb0F3YWxbJ2p1bWxhaEhhcmdhJ10gLyAkYXJyYXlTYWxkb0F3YWxbJ3NhbGRvJ10sCiAgICAgICAgJ2p1bWxhaCcgPT4gJGFycmF5U2FsZG9Bd2FsWydzYWxkbyddICwKICAgICAgICAndG90YWwnID0+ICRhcnJheVNhbGRvQXdhbFsnanVtbGFoSGFyZ2EnXSwKICAgICAgICAnc2F0dWFuJyA9PiAkZ2V0RGF0YUJhcmFuZ1snc2F0dWFuJ10sCiAgICAgICAgJ3JlZmlkJyA9PiAkZ2V0SWRUcmFuc2Frc2lbJ21heChpZCknXQogICAgICApOwogICAgICAkcXVlcnlLYXJ0dVBlcnNlZGlhYW4gPSAkdGhpcy0+c3FsSW5zZXJ0KCJ0X2thcnR1X3BlcnNlZGlhYW4iLCRkYXRhS2FydHVQZXJzZWRpYWFuKTsKICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCRxdWVyeUthcnR1UGVyc2VkaWFhbik7CiAgICB9CiAgICByZXR1cm4gJGNlazsKICB9CglmdW5jdGlvbiBzZXRTYWxkb0F3YWxUYWh1bmFuKCRrb2RlU0tQRCwka29kZUJhcmFuZyl7CiAgICAkZ2V0RGF0YVBlcnNlZGlhYW4gPSAkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdmlld19kYWZ0YXJfcGVyc2VkaWFhbl9zZW1lc3Rlcl8yIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgYW5kIGNvbmNhdChmLCcuJyxnLCcuJyxoLCcuJyxpLCcuJyxqLCcuJyxqMSkgPSAnJGtvZGVCYXJhbmcnIGFuZCB5ZWFyKHRhbmdnYWxfYnVrdSkgPSckdGhpcy0+dGFodW5BbmdnYXJhbiciKTsKICAgICR0YWh1bkRlcGFuID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4gKyAxOwogICAgd2hpbGUgKCRkYXRhUGVyc2VkaWFhbiA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YVBlcnNlZGlhYW4pKSB7CiAgICAgICRrb2RlQmFyYW5nID0gJGRhdGFQZXJzZWRpYWFuWydmJ10uIi4iLiRkYXRhUGVyc2VkaWFhblsnZyddLiIuIi4kZGF0YVBlcnNlZGlhYW5bJ2gnXS4iLiIuJGRhdGFQZXJzZWRpYWFuWydpJ10uIi4iLiRkYXRhUGVyc2VkaWFhblsnaiddLiIuIi4kZGF0YVBlcnNlZGlhYW5bJ2oxJ107CiAgICAgIC8vICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlIGNvbmNhdChjMSwnLicsYywnLicsZCwnLicsZSwnLicsZTEpID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIik7CiAgICAgICR0aGlzLT5ncmFiVHJhbnNha3NpU2VtZXN0ZXIyKCRrb2RlU0tQRCwka29kZUJhcmFuZyk7CiAgICAgICRhcnJheVNhbGRvQXdhbCA9ICR0aGlzLT5ncmFiVHJhbnNha3NpVGFodW5hbigka29kZVNLUEQsJGtvZGVCYXJhbmcpOwogICAgICAkZ2V0RGF0YUJhcmFuZyA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gcmVmX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0S29kZUJhcmFuZyA9ICcka29kZUJhcmFuZyciKSk7CiAgICAgICRkYXRhU2FsZG9Bd2FsID0gYXJyYXkoCiAgICAgICAgJ2MxJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2MxJ10sCiAgICAgICAgJ2MnID0+ICRkYXRhUGVyc2VkaWFhblsnYyddLAogICAgICAgICdkJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2QnXSwKICAgICAgICAnZScgPT4gJGRhdGFQZXJzZWRpYWFuWydlJ10sCiAgICAgICAgJ2UxJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2UxJ10sCiAgICAgICAgJ2YnID0+ICRkYXRhUGVyc2VkaWFhblsnZiddLAogICAgICAgICdnJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2cnXSwKICAgICAgICAnaCcgPT4gJGRhdGFQZXJzZWRpYWFuWydoJ10sCiAgICAgICAgJ2knID0+ICRkYXRhUGVyc2VkaWFhblsnaSddLAogICAgICAgICdqJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2onXSwKICAgICAgICAnajEnID0+ICRkYXRhUGVyc2VkaWFhblsnajEnXSwKICAgICAgICAnc2F0dWFuJyA9PiAkZ2V0RGF0YUJhcmFuZ1snc2F0dWFuJ10sCiAgICAgICAgJ3RhbmdnYWwnID0+ICR0YWh1bkRlcGFuLiItJHRoaXMtPmJ1bGFuVGFuZ2dhbFNhbGRvQXdhbCIsCiAgICAgICAgJ2pucycgPT4gJzEnLAogICAgICAgICdqZW5pc19wZXJzZWRpYWFuJyA9PiAnMScsCiAgICAgICAgJ3RhaHVuX2FuZ2dhcmFuJyA9PiAkdGFodW5EZXBhbiwKICAgICAgICAnaGFyZ2Ffc2F0dWFuJyA9PiAkYXJyYXlTYWxkb0F3YWxbJ2p1bWxhaEhhcmdhJ10gLyAkYXJyYXlTYWxkb0F3YWxbJ3NhbGRvJ10gICwKICAgICAgICAnanVtbGFoJyA9PiAkYXJyYXlTYWxkb0F3YWxbJ3NhbGRvJ10gLAogICAgICAgICd0b3RhbCcgPT4gJGFycmF5U2FsZG9Bd2FsWydqdW1sYWhIYXJnYSddLAogICAgICApOwogICAgICAkcXVlcnlJbnNldFNhbGRvQXdhbCA9ICR0aGlzLT5zcWxJbnNlcnQoInNhbGRvX2F3YWwiLCRkYXRhU2FsZG9Bd2FsKTsKICAgICAgJHRoaXMtPnNxbFF1ZXJ5KCRxdWVyeUluc2V0U2FsZG9Bd2FsKTsKICAgICAgJGdldElkVHJhbnNha3NpID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0IG1heChpZCkgZnJvbSBzYWxkb19hd2FsIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRLb2RlQmFyYW5nID0gJyRrb2RlQmFyYW5nJyBhbmQgdGFuZ2dhbD0nIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxIi4iJyIpKTsKICAgICAgJGRhdGFLYXJ0dVBlcnNlZGlhYW4gPSBhcnJheSgKICAgICAgICAnYzEnID0+ICRkYXRhUGVyc2VkaWFhblsnYzEnXSwKICAgICAgICAnYycgPT4gJGRhdGFQZXJzZWRpYWFuWydjJ10sCiAgICAgICAgJ2QnID0+ICRkYXRhUGVyc2VkaWFhblsnZCddLAogICAgICAgICdlJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2UnXSwKICAgICAgICAnZTEnID0+ICRkYXRhUGVyc2VkaWFhblsnZTEnXSwKICAgICAgICAnZicgPT4gJGRhdGFQZXJzZWRpYWFuWydmJ10sCiAgICAgICAgJ2cnID0+ICRkYXRhUGVyc2VkaWFhblsnZyddLAogICAgICAgICdoJyA9PiAkZGF0YVBlcnNlZGlhYW5bJ2gnXSwKICAgICAgICAnaScgPT4gJGRhdGFQZXJzZWRpYWFuWydpJ10sCiAgICAgICAgJ2onID0+ICRkYXRhUGVyc2VkaWFhblsnaiddLAogICAgICAgICdqMScgPT4gJGRhdGFQZXJzZWRpYWFuWydqMSddLAogICAgICAgICd0YW5nZ2FsX2J1a3UnID0+ICR0YWh1bkRlcGFuLiItJHRoaXMtPmJ1bGFuVGFuZ2dhbFNhbGRvQXdhbCIsCiAgICAgICAgJ2pucycgPT4gJzEnLAogICAgICAgICdqZW5pc19wZXJzZWRpYWFuJyA9PiAnMScsCiAgICAgICAgJ2NhcmFfcGVyb2xlaGFuJyA9PiAnMScsCiAgICAgICAgJ2hhcmdhX3NhdHVhbicgPT4gJGFycmF5U2FsZG9Bd2FsWydqdW1sYWhIYXJnYSddIC8gJGFycmF5U2FsZG9Bd2FsWydzYWxkbyddLAogICAgICAgICdqdW1sYWgnID0+ICRhcnJheVNhbGRvQXdhbFsnc2FsZG8nXSAsCiAgICAgICAgJ3RvdGFsJyA9PiAkYXJyYXlTYWxkb0F3YWxbJ2p1bWxhaEhhcmdhJ10sCiAgICAgICAgJ3NhdHVhbicgPT4gJGdldERhdGFCYXJhbmdbJ3NhdHVhbiddLAogICAgICAgICdyZWZpZCcgPT4gJGdldElkVHJhbnNha3NpWydtYXgoaWQpJ10KICAgICAgKTsKICAgICAgJHF1ZXJ5S2FydHVQZXJzZWRpYWFuID0gJHRoaXMtPnNxbEluc2VydCgidF9rYXJ0dV9wZXJzZWRpYWFuIiwkZGF0YUthcnR1UGVyc2VkaWFhbik7CiAgICAgICR0aGlzLT5zcWxRdWVyeSgkcXVlcnlLYXJ0dVBlcnNlZGlhYW4pOwogICAgfQogICAgcmV0dXJuICRjZWs7CiAgfQoJZnVuY3Rpb24gdW5DbG9zZUFsbCgka29kZVNLUEQpewoJCSAkdGFodW5EZXBhbiA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuICsgMTsKCQkgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBzYWxkb19hd2FsIHdoZXJlIHRhbmdnYWwgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyIpOwoJCSAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfa2FydHVfcGVyc2VkaWFhbiB3aGVyZSB0YW5nZ2FsX2J1a3UgPSAnIi4kdGhpcy0+dGFodW5BbmdnYXJhbi4iLTA3LTAxJyBhbmQgam5zPScxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyIpOwoJCSAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHNhbGRvX2F3YWwgd2hlcmUgeWVhcih0YW5nZ2FsKSA9ICckdGFodW5EZXBhbicgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCciKTsKCQkgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgeWVhcih0YW5nZ2FsX2J1a3UpID0gJyR0YWh1bkRlcGFuJyBhbmQgam5zPScxJyBhbmQgamVuaXNfcGVyc2VkaWFhbiA9ICcxJyBhbmQgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyIpOwoJCSAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCB0YWh1biA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0gJzEnIik7CgkJICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnMiciKTsKCQkgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9ICczJyIpOwoJICAgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBjbG9zaW5nX3BlcnNlZGlhYW4gd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgdGFodW5fYW5nZ2FyYW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIik7CgkJIHJldHVybiAiZGVsZXRlIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnMSciOwoJfQoJZnVuY3Rpb24gdW5DbG9zZVNlbWVzdGVyMigka29kZVNLUEQpewoJCSAkdGFodW5EZXBhbiA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuICsgMTsKCQkgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSBzYWxkb19hd2FsIHdoZXJlIHllYXIodGFuZ2dhbCkgPSAnJHRhaHVuRGVwYW4nIGFuZCAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIik7CgkJICR0aGlzLT5zcWxRdWVyeSgiZGVsZXRlIGZyb20gdF9rYXJ0dV9wZXJzZWRpYWFuIHdoZXJlIHllYXIodGFuZ2dhbF9idWt1KSA9ICckdGFodW5EZXBhbicgYW5kIGpucz0nMScgYW5kIGplbmlzX3BlcnNlZGlhYW4gPSAnMScgYW5kICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCciKTsKCQkgJHRoaXMtPnNxbFF1ZXJ5KCJkZWxldGUgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9ICcyJyIpOwoJCSAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCB0YWh1biA9ICckdGhpcy0+dGFodW5BbmdnYXJhbicgYW5kIHNlbWVzdGVyID0gJzMnIik7CgkgICAkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIGNsb3NpbmdfcGVyc2VkaWFhbiB3aGVyZSAkdGhpcy0+c3RyaW5nQ29uY2F0U3ViVW5pdCA9ICcka29kZVNLUEQnIGFuZCB0YWh1bl9hbmdnYXJhbiA9ICckdGhpcy0+dGFodW5BbmdnYXJhbiciKTsKCQkgcmV0dXJuICJkZWxldGUgZnJvbSB0X3BlcnNlZGlhYW5fbG9ja19iYXJhbmcgd2hlcmUgJHRoaXMtPnN0cmluZ0NvbmNhdFN1YlVuaXQgPSAnJGtvZGVTS1BEJyBhbmQgdGFodW4gPSAnJHRoaXMtPnRhaHVuQW5nZ2FyYW4nIGFuZCBzZW1lc3RlciA9ICczJyI7Cgl9CglmdW5jdGlvbiBnZXRTdGF0dXNIaXR1bmcoJGtvZGVTS1BELCRzZW1lc3Rlcil7CgkJaWYoIWVtcHR5KCRzZW1lc3RlcikpewoJCQkJaWYoJHNlbWVzdGVyID09ICcxJyl7CgkJCQkJCSRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMDYiOwoJCQkJCQkkY29uZGl0aW9uUGVyaW9kZSA9ICJhbmQgcmVwbGFjZShsZWZ0KHRhbmdnYWxfYnVrdSw3KSwnLScsJycpIDw9ICckbWF4RmlsdGVyJyI7CgkJCQl9ZWxzZWlmKCRzZW1lc3RlciA9PSAnMicpewoJCQkJCQkkbWluRmlsdGVyID0gJHRoaXMtPnRhaHVuQW5nZ2FyYW4uIjA3IjsKCQkJCQkJJG1heEZpbHRlciA9ICR0aGlzLT50YWh1bkFuZ2dhcmFuLiIxMiI7CgkJCQkJCSRjb25kaXRpb25QZXJpb2RlID0gImFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPj0gJyRtaW5GaWx0ZXInIGFuZCByZXBsYWNlKGxlZnQodGFuZ2dhbF9idWt1LDcpLCctJywnJykgPD0gJyRtYXhGaWx0ZXInIjsKCQkJCX1lbHNlaWYoJHNlbWVzdGVyID09ICczJyl7CgkJCQkJCSRtYXhGaWx0ZXIgPSAkdGhpcy0+dGFodW5BbmdnYXJhbi4iMTIiOwoJCQkJfQoJCX0KCQkkc3RhdHVzSGl0dW5nID0gJHRoaXMtPnNxbE51bVJvdygkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gdF9wZXJzZWRpYWFuX2xvY2tfYmFyYW5nIHdoZXJlICR0aGlzLT5zdHJpbmdDb25jYXRTdWJVbml0ID0gJyRrb2RlU0tQRCcgYW5kIHRhaHVuID0gJyR0aGlzLT50YWh1bkFuZ2dhcmFuJyBhbmQgc2VtZXN0ZXIgPSAnJHNlbWVzdGVyJyIpKTsKCQlpZiggJHN0YXR1c0hpdHVuZyAgIT0gMCl7CgkJCSRyZXR1cm4gPSAxOwoJCX1lbHNlewoJCQkkcmV0dXJuID0gMCA7CgkJfQoJCXJldHVybiAkcmV0dXJuOwoJfQoKCglmdW5jdGlvbiB0YW1iYWhIYXJnYURpc3RyaWJ1c2koJGtvZGVTS1BELCRmaWx0ZXJQZXJpb2RlKXsKCQkkZ2V0RGF0YUNvdW50ID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSBjb25jYXQoYzEsJy4nLGMsJy4nLGQsJy4nLGUsJy4nLGUxKSA9ICcka29kZVNLUEQnIGFuZCBzZW1lc3RlciA9ICckZmlsdGVyUGVyaW9kZScgYW5kIHRhbWJhaGFuX2hhcmdhPScnIik7CgkJd2hpbGUgKCRkYXRhQ291bnQgPSAkdGhpcy0+c3FsQXJyYXkoJGdldERhdGFDb3VudCkpIHsKCQkJJGlkTG9ja0JhcmFuZyA9ICRkYXRhQ291bnRbJ2lkX2xvY2tfYmFyYW5nJ107CgkJCSRpZEthcnR1UGVyc2VkaWFhbiA9ICRkYXRhQ291bnRbJ2lkX3Rfa2FydHVfcGVyc2VkaWFhbiddOwoJCQlpZigkdGhpcy0+c3FsTnVtUm93KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSBjb3VudF9kaXN0cmlidXNpX3BlcnNlZGlhYW4gd2hlcmUgbm9tb3IgPSAnIi4kZGF0YUNvdW50Wydub21vciddLiInIikpID09IDIpewoJCQkJJGdldERhdGFIYXJnYSA9ICR0aGlzLT5zcWxBcnJheSgkdGhpcy0+c3FsUXVlcnkoInNlbGVjdCAqIGZyb20gY291bnRfZGlzdHJpYnVzaV9wZXJzZWRpYWFuIHdoZXJlIG5vbW9yID0gJyIuJGRhdGFDb3VudFsnbm9tb3InXS4iJyBhbmQgdGFtYmFoYW5faGFyZ2EgIT0nJyIpKTsKCQkJCSRnZXREYXRhS2FydHVQZXJzZWRpYWFuID0gJHRoaXMtPnNxbEFycmF5KCR0aGlzLT5zcWxRdWVyeSgic2VsZWN0ICogZnJvbSB0X2thcnR1X3BlcnNlZGlhYW4gd2hlcmUgaWQgPSAnIi4kaWRLYXJ0dVBlcnNlZGlhYW4uIiciKSk7CgkJCQkvLyBpZihpbnR2YWwoJGdldERhdGFLYXJ0dVBlcnNlZGlhYW5bJ2hhcmdhX3NhdHVhbiddKSA9PSAwKXsKCQkJCQkkaGFyZ2FTYXR1YW4gPSAkZ2V0RGF0YUhhcmdhWyd0YW1iYWhhbl9oYXJnYSddIC8gJGdldERhdGFLYXJ0dVBlcnNlZGlhYW5bJ2p1bWxhaCddIDsKCQkJCQkkaGFyZ2FUYW1iYWhhbiA9ICAkZ2V0RGF0YUhhcmdhWyd0YW1iYWhhbl9oYXJnYSddOwoJCQkJCSRkYXRhVXBkYXRlRGlzdHJpYnVzaUthcnR1ID0gYXJyYXkoCgkJCQkJCSdoYXJnYV9zYXR1YW4nID0+ICRoYXJnYVNhdHVhbiwKCQkJCQkJJ3RvdGFsJyA9PiAkZ2V0RGF0YUhhcmdhWyd0YW1iYWhhbl9oYXJnYSddLAoJCQkJCSk7CgkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCR0aGlzLT5zcWxVcGRhdGUoInRfa2FydHVfcGVyc2VkaWFhbiIsJGRhdGFVcGRhdGVEaXN0cmlidXNpS2FydHUsImlkID0gJyIuJGlkS2FydHVQZXJzZWRpYWFuLiInIikpOwoJCQkJCSR0aGlzLT5zcWxRdWVyeSgiVVBEQVRFIGxvY2tfYmFyYW5nX3RhbWJhaCBzZXQgaGFyZ2EgPSAgJGhhcmdhVGFtYmFoYW4gd2hlcmUgaWRfbG9jayA9ICckaWRMb2NrQmFyYW5nJyBhbmQgaWRfdF9rYXJ0dV9wZXJzZWRpYWFuID0gJyRpZEthcnR1UGVyc2VkaWFhbiciKTsKCQkJCQkkdGhpcy0+c3FsUXVlcnkoIlVQREFURSByaW5jaWFuX2xvY2tfYmFyYW5nIHNldCB0b3RhbCA9ICAkaGFyZ2FUYW1iYWhhbiB3aGVyZSBpZF9sb2NrID0gJyRpZExvY2tCYXJhbmcnIGFuZCBpZF90X2thcnR1X3BlcnNlZGlhYW4gPSAnJGlkS2FydHVQZXJzZWRpYWFuJyBhbmQgdHlwZSA9ICcxJyIpOwoJCQkJCSRnZXREYXRhS3VyYW5nID0gJHRoaXMtPnNxbFF1ZXJ5KCJzZWxlY3QgKiBmcm9tIGxvY2tfYmFyYW5nX2t1cmFuZyB3aGVyZSBpZF9sb2NrID0gJyIuJGRhdGFDb3VudFsnaWRfbG9ja19iYXJhbmcnXS4iJyIpOwoJCQkJCXdoaWxlICgkZGF0YUt1cmFuZyA9ICR0aGlzLT5zcWxBcnJheSgkZ2V0RGF0YUt1cmFuZykpIHsKICAgICAgICAgIAkkYXJyYXlQZXJvbGVoYW4gPSBqc29uX2RlY29kZSgkZGF0YUt1cmFuZ1sncGVyb2xlaGFuJ10pOwoJCQkJCQkkYXJyYXlGaXhQZXJvbGVoYW4gPSBhcnJheSgpOwoJCQkJCQlmb3IgKCRpPTA7ICRpIDwgc2l6ZW9mKCRhcnJheVBlcm9sZWhhbikgOyAkaSsrKSB7CgkJCQkJCQlpZigkaWRLYXJ0dVBlcnNlZGlhYW4gPT0gJGFycmF5UGVyb2xlaGFuWyRpXS0+aWRQZW5lcmltYWFuKXsKCQkJCQkJCQkvLyAkY2VrIC49ICRhcnJheVBlcm9sZWhhblskaV0tPmlkUGVuZXJpbWFhbi4gIiA6ICIuJGlkS2FydHVQZXJzZWRpYWFuOwoKCQkJCQkJCQkkaGFyZ2FUYW1iYWhhbiAtPSAkZGF0YUt1cmFuZ1snanVtbGFoJ10gKiAkaGFyZ2FTYXR1YW47CgkJCQkJCQkJJGhhcmdhS3VyYW5nID0gJGRhdGFLdXJhbmdbJ2p1bWxhaCddICogJGhhcmdhU2F0dWFuOwoJCQkJCQkJCSRhcnJheUZpeFBlcm9sZWhhbltdID0gYXJyYXkoCgkJCQkJCQkJCSJpZFBlbmVyaW1hYW4iID0+ICRhcnJheVBlcm9sZWhhblskaV0tPmlkUGVuZXJpbWFhbiwKCQkJCQkJCQkJImp1bWxhaCIgPT4gJGFycmF5UGVyb2xlaGFuWyRpXS0+anVtbGFoLAoJCQkJCQkJCQkiaGFyZ2EiID0+ICRoYXJnYVNhdHVhbiwKCQkJCQkJCQkJInRvdGFsIiA9PiAkYXJyYXlQZXJvbGVoYW5bJGldLT5qdW1sYWggKiAkaGFyZ2FTYXR1YW4gLAoJCQkJCQkJCSk7CgkJCQkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCJVUERBVEUgcmluY2lhbl9sb2NrX2JhcmFuZyBzZXQgdG90YWwgPSB0b3RhbCArICRoYXJnYUt1cmFuZywgc2FsZG8gPSBzYWxkbyAtICRoYXJnYUt1cmFuZyB3aGVyZSBpZF9kZXRhaWwgPSAnIi4kZGF0YUt1cmFuZ1snaWQnXS4iJyAiKTsKCQkJCQkJCQkkY2VrIC49ICJVUERBVEUgcmluY2lhbl9sb2NrX2JhcmFuZyBzZXQgdG90YWwgPSB0b3RhbCArICRoYXJnYUt1cmFuZywgc2FsZG8gPSBzYWxkbyAtICRoYXJnYUt1cmFuZyB3aGVyZSBpZF9kZXRhaWwgPSAnIi4kZGF0YUt1cmFuZ1snaWQnXS4iJyAgfHwgIjsKCQkJCQkJCQkkdGhpcy0+c3FsUXVlcnkoIlVQREFURSBsb2NrX2JhcmFuZ19rdXJhbmcgU0VUIGhhcmdhID0gaGFyZ2EgKyAkaGFyZ2FLdXJhbmcgIHdoZXJlIGlkID0gJyIuJGRhdGFLdXJhbmdbJ2lkJ10uIiciKTsKCQkJCQkJCX1lbHNlewoJCQkJCQkJCSRhcnJheUZpeFBlcm9sZWhhbltdID0gYXJyYXkoCgkJCQkJCQkJCSJpZFBlbmVyaW1hYW4iID0+ICRhcnJheVBlcm9sZWhhblskaV0tPmlkUGVuZXJpbWFhbiwKCQkJCQkJCQkJImp1bWxhaCIgPT4gJGFycmF5UGVyb2xlaGFuWyRpXS0+anVtbGFoLAoJCQkJCQkJCQkiaGFyZ2EiID0+ICRhcnJheVBlcm9sZWhhblskaV0tPmhhcmdhLAoJCQkJCQkJCQkidG90YWwiID0+ICRhcnJheVBlcm9sZWhhblskaV0tPnRvdGFsLAoJCQkJCQkJCSk7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJJHRoaXMtPnNxbFF1ZXJ5KCJVUERBVEUgbG9ja19iYXJhbmdfa3VyYW5nIFNFVCBwZXJvbGVoYW4gPSAnIi5qc29uX2VuY29kZSgkYXJyYXlGaXhQZXJvbGVoYW4pLiInICB3aGVyZSBpZCA9ICciLiRkYXRhS3VyYW5nWydpZCddLiInIik7CgkJCQkJfQoJCQkJCSR0aGlzLT5zcWxRdWVyeSgiVVBEQVRFIHRfcGVyc2VkaWFhbl9sb2NrX2JhcmFuZyBTRVQgaGFyZ2EgPSBoYXJnYSArICIuJGhhcmdhVGFtYmFoYW4uIiB3aGVyZSBpZCA9ICciLiRkYXRhQ291bnRbJ2lkX2xvY2tfYmFyYW5nJ10uIiciKTsKCQkJCQkkdGhpcy0+c3FsUXVlcnkoImRlbGV0ZSBmcm9tIGNvdW50X2Rpc3RyaWJ1c2lfcGVyc2VkaWFhbiB3aGVyZSBub21vcj0nIi4kZGF0YUNvdW50Wydub21vciddLiInIik7CgoJCQkJLy8gfQoJCQl9CgkJfQoJCXJldHVybiAkY2VrOwoJfQoKfQokcGVsYXBvcmFuUGVyc2VkaWFhbiA9IG5ldyBwZWxhcG9yYW5QZXJzZWRpYWFuT2JqKCk7CiRwZWxhcG9yYW5QZXJzZWRpYWFuLT51c2VybmFtZSA9ICRfQ09PS0lFWydjb0lEJ107CiRkYXRhUGVuZ2F0dXJhbiA9ICRwZWxhcG9yYW5QZXJzZWRpYWFuLT5nZXRTZXR0aW5nUGVyc2VkaWFhbigpOwokcGVsYXBvcmFuUGVyc2VkaWFhbi0+dGFodW5BbmdnYXJhbiA9ICRkYXRhUGVuZ2F0dXJhblsndGFodW4nXTsKCgo\/Pgo=",
    "size": "134879"
}