{
    "namaFile": "js\/daftarobj.js",
    "lastUpdate": "2018-06-29+09:30:07.05",
    "contentFile": "DQpmdW5jdGlvbiBnZW5SYW5kb21IZXhhNCgpIHsNCgkvL2dlbmVyYXRlIHJhbmRvbSBoZXhhIDQgZGlnaXQNCiAgCXJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKQ0KICAgIAkudG9TdHJpbmcoMTYpDQogICAgCS5zdWJzdHJpbmcoMSk7DQp9DQoNCmZ1bmN0aW9uIGdlblNlc3Npb25JRCgpew0KCS8vZ2VuIHJhbmRvbSB1bmlrIGlkIDogY3VycmVudGRhdGUgXyBoZXhhIDEyIGRpZ2l0DQoJdmFyIGN1cnJlbnRkYXRlID0gbmV3IERhdGUoKTsNCgl2YXIgZGF0ZXRpbWUgPSAoJzAnK2N1cnJlbnRkYXRlLmdldERhdGUoKS50b1N0cmluZygpKS5zbGljZSgtMikNCiAgICAgICAgICAgICAgICArKCcwJysgKGN1cnJlbnRkYXRlLmdldE1vbnRoKCkrMSkudG9TdHJpbmcoKSkuc2xpY2UoLTIpDQogICAgICAgICAgICAgICAgKyBjdXJyZW50ZGF0ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkNCiAgICAgICAgICAgICAgICArKCcwJysgY3VycmVudGRhdGUuZ2V0SG91cnMoKS50b1N0cmluZygpKS5zbGljZSgtMikNCiAgICAgICAgICAgICAgICArKCcwJysgY3VycmVudGRhdGUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkpLnNsaWNlKC0yKQ0KICAgICAgICAgICAgICAgICsoJzAnKyBjdXJyZW50ZGF0ZS5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKSkuc2xpY2UoLTIpOw0KDQoJcmV0dXJuIGRhdGV0aW1lKydfJysgZ2VuUmFuZG9tSGV4YTQoKSsgZ2VuUmFuZG9tSGV4YTQoKSsgZ2VuUmFuZG9tSGV4YTQoKTsNCn0NCg0KZnVuY3Rpb24gZG93bmxvYWRGaWxlKGRhdGEsIGZpbGVOYW1lKSB7DQogICAgICAgIHZhciBjc3ZEYXRhID0gZGF0YTsNCiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbIGNzdkRhdGEgXSwgew0KICAgICAgICAgICAgdHlwZSA6ICJhcHBsaWNhdGlvbi9jc3Y7Y2hhcnNldD11dGYtODsiDQogICAgICAgIH0pOw0KDQogICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZUJsb2IpIHsNCiAgICAgICAgICAgIC8vIEZPUiBJRSBCUk9XU0VSDQogICAgICAgICAgICBuYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBmaWxlTmFtZSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBGT1IgT1RIRVIgQlJPV1NFUlMNCiAgICAgICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOw0KICAgICAgICAgICAgdmFyIGNzdlVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7DQogICAgICAgICAgICBsaW5rLmhyZWYgPSBjc3ZVcmw7DQogICAgICAgICAgICBsaW5rLnN0eWxlID0gInZpc2liaWxpdHk6aGlkZGVuIjsNCiAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZTsNCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7DQogICAgICAgICAgICBsaW5rLmNsaWNrKCk7DQogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspOw0KICAgICAgICB9DQp9DQoNCnZhciB0YWJsZVRvRXhjZWwgPSAoDQpmdW5jdGlvbigpIHsNCiAgLy9wYXJhbWV0ZXIgZGl2L3RhYmxlIElEICwgd29ya3NoZWV0IG5hbWUNCiAgdmFyIHVyaSA9ICdkYXRhOmFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbDtiYXNlNjQsJywNCg0KCXRlbXBsYXRlID0gJzxodG1sIHhtbG5zOm89InVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZSIgeG1sbnM6eD0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6ZXhjZWwiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMtaHRtbDQwIj48aGVhZD48IS0tW2lmIGd0ZSBtc28gOV0+PHhtbD48eDpFeGNlbFdvcmtib29rPjx4OkV4Y2VsV29ya3NoZWV0cz48eDpFeGNlbFdvcmtzaGVldD48eDpOYW1lPnt3b3Jrc2hlZXR9PC94Ok5hbWU+PHg6V29ya3NoZWV0T3B0aW9ucz48eDpEaXNwbGF5R3JpZGxpbmVzLz48L3g6V29ya3NoZWV0T3B0aW9ucz48L3g6RXhjZWxXb3Jrc2hlZXQ+PC94OkV4Y2VsV29ya3NoZWV0cz48L3g6RXhjZWxXb3JrYm9vaz48L3htbD48IVtlbmRpZl0tLT48L2hlYWQ+PGJvZHk+PHRhYmxlPnt0YWJsZX08L3RhYmxlPjwvYm9keT48L2h0bWw+JywNCg0KCWJhc2U2NCA9IGZ1bmN0aW9uKHMpIHsNCgkJcmV0dXJuIHdpbmRvdy5idG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzKSkpDQoJfSwNCg0KCWZvcm1hdCA9IGZ1bmN0aW9uKHMsIGMpIHsNCgkJcmV0dXJuIHMucmVwbGFjZSgveyhcdyspfS9nLCBmdW5jdGlvbihtLCBwKSB7IHJldHVybiBjW3BdOyB9KQ0KCX0NCg0KCXJldHVybiBmdW5jdGlvbih0YWJsZSwgbmFtZSkgew0KCSAgICBpZiAoIXRhYmxlLm5vZGVUeXBlKSB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYmxlKQ0KDQoNCg0KDQoJICAgIHZhciBjdHggPSB7d29ya3NoZWV0OiBuYW1lIHx8ICdXb3Jrc2hlZXQnLCB0YWJsZTogdGFibGUuaW5uZXJIVE1MfQ0KDQoJCS8vcmV0dXJuIHVyaSArIGJhc2U2NChmb3JtYXQodGVtcGxhdGUsIGN0eCkpDQoNCgkJdmFyIGJsb2IgPSBuZXcgQmxvYihbIGZvcm1hdCh0ZW1wbGF0ZSwgY3R4KSBdLCB7DQogICAgICAgICAgIC8vIHR5cGUgOiAiZGF0YTphcHBsaWNhdGlvbi92bmQubXMtZXhjZWw7YmFzZTY0OyINCiAgICAgICAJCXR5cGUgOiAiZGF0YTphcHBsaWNhdGlvbi92bmQubXMtZXhjZWw7Ig0KICAgICAgICB9KTsNCgkJcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7DQogIAl9DQp9DQopKCkNCg0KdmFyIHRhYmxlVG9FeGNlbF8gPSAoDQpmdW5jdGlvbigpIHsNCiAgLy9wYXJhbWV0ZXIgZGl2L3RhYmxlIElEICwgd29ya3NoZWV0IG5hbWUNCiAgdmFyIHVyaSA9ICdkYXRhOmFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbDtiYXNlNjQsJywNCg0KCXRlbXBsYXRlID0gJzxodG1sIHhtbG5zOm89InVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZSIgeG1sbnM6eD0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6ZXhjZWwiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMtaHRtbDQwIj48aGVhZD48IS0tW2lmIGd0ZSBtc28gOV0+PHhtbD48eDpFeGNlbFdvcmtib29rPjx4OkV4Y2VsV29ya3NoZWV0cz48eDpFeGNlbFdvcmtzaGVldD48eDpOYW1lPnt3b3Jrc2hlZXR9PC94Ok5hbWU+PHg6V29ya3NoZWV0T3B0aW9ucz48eDpEaXNwbGF5R3JpZGxpbmVzLz48L3g6V29ya3NoZWV0T3B0aW9ucz48L3g6RXhjZWxXb3Jrc2hlZXQ+PC94OkV4Y2VsV29ya3NoZWV0cz48L3g6RXhjZWxXb3JrYm9vaz48L3htbD48IVtlbmRpZl0tLT48L2hlYWQ+PGJvZHk+PHRhYmxlPnt0YWJsZX08L3RhYmxlPjwvYm9keT48L2h0bWw+JywNCg0KCWJhc2U2NCA9IGZ1bmN0aW9uKHMpIHsNCgkJcmV0dXJuIHdpbmRvdy5idG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzKSkpDQoJfSwNCg0KCWZvcm1hdCA9IGZ1bmN0aW9uKHMsIGMpIHsNCgkJcmV0dXJuIHMucmVwbGFjZSgveyhcdyspfS9nLCBmdW5jdGlvbihtLCBwKSB7IHJldHVybiBjW3BdOyB9KQ0KCX0NCg0KCXJldHVybiBmdW5jdGlvbih0YWJsZSwgbmFtZSkgew0KCSAgICBpZiAoIXRhYmxlLm5vZGVUeXBlKSB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYmxlKQ0KDQoNCg0KDQoJICAgIHZhciBjdHggPSB7d29ya3NoZWV0OiBuYW1lIHx8ICdXb3Jrc2hlZXQnLCB0YWJsZTogdGFibGUuaW5uZXJIVE1MfQ0KICAgIAkvL3dpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJpICsgYmFzZTY0KGZvcm1hdCh0ZW1wbGF0ZSwgY3R4KSkNCgkJcmV0dXJuIHVyaSArIGJhc2U2NChmb3JtYXQodGVtcGxhdGUsIGN0eCkpDQogIAl9DQp9DQopKCkNCg0KZnVuY3Rpb24gcmVwbGFjZUFsbChzdHIsIGZpbmQsIHJlcGxhY2UpIHsNCgkgIHJldHVybiBzdHIucmVwbGFjZShuZXcgUmVnRXhwKGZpbmQsICdnJyksIHJlcGxhY2UpOw0KfQ0KDQpmdW5jdGlvbiBhamF4RXJyb3IocmVxdWVzdCwgdHlwZSwgZXJyb3JUaHJvd24pDQp7DQoJdmFyIG1lc3NhZ2UgPSAiUHJvc2VzIGdhZ2FsISBNb2hvbiBkaXVsYW5nIGtlbWJhbGkuXG4iOw0KCXN3aXRjaCAodHlwZSkgew0KCQljYXNlICd0aW1lb3V0JzoNCgkJCW1lc3NhZ2UgKz0gIlRoZSByZXF1ZXN0IHRpbWVkIG91dC4iOw0KCQkJYnJlYWs7DQoJCWNhc2UgJ25vdG1vZGlmaWVkJzoNCgkJCW1lc3NhZ2UgKz0gIlRoZSByZXF1ZXN0IHdhcyBub3QgbW9kaWZpZWQgYnV0IHdhcyBub3QgcmV0cmlldmVkIGZyb20gdGhlIGNhY2hlLiI7DQoJCQlicmVhazsNCgkJY2FzZSAncGFyc2VyZXJyb3InOg0KCQkJbWVzc2FnZSArPSAiWE1ML0pzb24gZm9ybWF0IGlzIGJhZC4iOw0KCQkJYnJlYWs7DQoJCWRlZmF1bHQ6DQoJCQltZXNzYWdlICs9ICJIVFRQIEVycm9yICgiICsgcmVxdWVzdC5zdGF0dXMgKyAiICIgKyByZXF1ZXN0LnN0YXR1c1RleHQgKyAiKS4iOw0KCX0NCgltZXNzYWdlICs9ICJcbiI7DQpjb25zb2xlLmxvZyhtZXNzYWdlKTsNCgkvL2FsZXJ0KG1lc3NhZ2UpOw0KfQ0KDQpmb3JtYXRSdXBpYWg9ZnVuY3Rpb24ob2JqZWssIHNlcGFyYXRvcikgew0KCSAgYSA9IG9iamVrLnZhbHVlOw0KCSAgLy9iID0gYS5yZXBsYWNlKC9bXlxkLyxdL2csIiIpOw0KCSAgYiA9IGEucmVwbGFjZSgvW15cZF0vZywiIik7DQoJICBjID0gIiI7DQoJICBwYW5qYW5nID0gYi5sZW5ndGg7DQoJICBqID0gMDsNCgkgIGZvciAoaSA9IHBhbmphbmc7IGkgPiAwOyBpLS0pIHsNCgkgICAgaiA9IGogKyAxOw0KCSAgICBpZiAoKChqICUgMykgPT0gMSkgJiYgKGogIT0gMSkpIHsNCgkgICAgICBjID0gYi5zdWJzdHIoaS0xLDEpICsgc2VwYXJhdG9yICsgYzsNCgkgICAgfSBlbHNlIHsNCgkgICAgICBjID0gYi5zdWJzdHIoaS0xLDEpICsgYzsNCgkgICAgfQ0KCSAgfQ0KCSAgb2JqZWsudmFsdWUgPSBjOw0KICAgfQ0KDQpmb3JtYXROdW1iZXIgPSBmdW5jdGlvbihudW0sYywgZCwgdCl7DQp2YXIgbiA9IG51bSwNCiAgICBjID0gaXNOYU4oYyA9IE1hdGguYWJzKGMpKSA\/IDIgOiBjLA0KICAgIGQgPSBkID09IHVuZGVmaW5lZCA\/ICIuIiA6IGQsDQogICAgdCA9IHQgPT0gdW5kZWZpbmVkID8gIiwiIDogdCwNCiAgICBzID0gbiA8IDAgPyAiLSIgOiAiIiwNCiAgICBpID0gcGFyc2VJbnQobiA9IE1hdGguYWJzKCtuIHx8IDApLnRvRml4ZWQoYykpICsgIiIsDQogICAgaiA9IChqID0gaS5sZW5ndGgpID4gMyA\/IGogJSAzIDogMDsNCiAgIHJldHVybiBzICsgKGogPyBpLnN1YnN0cigwLCBqKSArIHQgOiAiIikgKyBpLnN1YnN0cihqKS5yZXBsYWNlKC8oXGR7M30pKD89XGQpL2csICIkMSIgKyB0KSArIChjID8gZCArIE1hdGguYWJzKG4gLSBpKS50b0ZpeGVkKGMpLnNsaWNlKDIpIDogIiIpOw0KIH07DQoNCg0KdmFyIERhZnRhck9iaiA9IGZ1bmN0aW9uKA0KCQl1cmxfLCBmb3JtTmFtZV8sIGNudGRhZnRhcl8sIGNudHN1bV8sIGNudGhhbF8sIGVsQ3VyclBhZ2VfLA0KCQlBZnRlckhhcHVzXywgZWxKbWxDZWtfKQ0Kew0KCXRoaXMuZWxDdXJyUGFnZSA9IGVsQ3VyclBhZ2VfOy8vJ0hhbERlZmF1bHQnDQoJdGhpcy5mb3JtTmFtZSA9IGZvcm1OYW1lXzsgLy8nYWRtaW5Gb3JtJw0KCXRoaXMudXJsID0gdXJsXzsgLy8naW5kZXgucGhwP09wPScrS29kZUkrJyZQZz0yJywNCgl0aGlzLmxvYWRfcXVlID0geyBpZHByczogMCwgZGFmdGFyUHJvc2VzOiBuZXcgQXJyYXkoJ2xpc3QnLCdzdW1oYWwnKX07DQoJdGhpcy5jbnRkYWZ0YXIgPSBjbnRkYWZ0YXJfOyAvLydjbnRIaXR1bmdEYWZ0YXInDQoJdGhpcy5jbnRzdW0gPSBjbnRzdW1fOw0KCXRoaXMuY250aGFsID0gY250aGFsXzsNCgl0aGlzLmNvdmVyID0gdGhpcy5mb3JtTmFtZSsnX2NvdmVyJzsNCgl0aGlzLmVsSm1sQ2VrID0gZWxKbWxDZWtfOw0KCXRoaXMuQWZ0ZXJIYXB1cyA9DQoJCSJkZWxFbGVtKCciK3RoaXMuY292ZXIrIicpOyIrDQoJCSJkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsgIisNCgkJImlmKHJlc3AuRXJyTXNnPT0nJyl7IisNCgkJCUFmdGVySGFwdXNfKw0KCQkifWVsc2V7IisNCgkJCSJhbGVydChyZXNwLkVyck1zZyk7IisNCgkJIn0iOw0KDQoJdGhpcy5HZXRDYnhDaGVja2VkPWZ1bmN0aW9uKCl7DQoJCXZhciBqbWxkYXRhPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggdGhpcy5lbEptbERhdGFUYW1waWwgKS52YWx1ZTsNCgkJZm9yKHZhciBpPTA7IGkgPCBqbWxkYXRhOyBpKyspew0KCQkJdmFyIGJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCB0aGlzLmVsQ2hlY2tCb3ggKyBpKTsNCgkJCWlmKCBib3guY2hlY2tlZCl7DQoJCQkJYnJlYWs7DQoJCQl9DQoJCX0NCgkJcmV0dXJuIGJveDsNCgl9DQoJdGhpcy5PblN1Y2Nlc3MgPSBmdW5jdGlvbigpIHsNCgkJdmFyIHJlc3AgPSBldmFsKCcoJyArIHRoaXMuR2V0UmVzcG9uc2VUZXh0KCkgKyAnKScpOw0KCQlpZiAocmVzcC5FcnJNc2cgPT0nJyl7DQoJCQlzd2l0Y2ggKHJlc3AuZGFmdGFyUHJvc2VzW3Jlc3AuaWRwcnNdKXsNCgkJCWNhc2UgJ2xpc3QnOg0KCQkJCWlmIChyZXNwLmNvbnRlbnQubGlzdCAhPSAnJyl7DQoJCQkJCS8vZGVsRWxlbSh0aGlzLmNvdmVyKTsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jbnRkYWZ0YXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudC5saXN0Ow0KCQkJCX0NCgkJCWJyZWFrOw0KCQkJY2FzZSAnc3VtaGFsJzoNCgkJCQlpZiAocmVzcC5jb250ZW50LnN1bSAhPSBudWxsICYmIHRoaXMuY250c3VtICE9ICcnKXsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jbnRzdW0pLmlubmVySFRNTD0gcmVzcC5jb250ZW50LnN1bTsNCgkJCQl9DQoJCQkJaWYgKHJlc3AuY29udGVudC5oYWwgIT0gbnVsbCAmJiB0aGlzLmNudGhhbCAhPSAnJyl7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY250aGFsKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQuaGFsOw0KCQkJCX0NCgkJCWJyZWFrOw0KCQkJfQ0KCQkJaWYoIXJlc3Auc3RvcCkgeyAgcmVzcC5zdG9wID0gZmFsc2U7IH0NCgkJCWlmKCFyZXNwLm5leHQpIHsNCgkJCQlyZXNwLmlkcHJzKys7IC8vYXV0byBuZXh0IHByb3NlcyBqaWthIG5leHQga29zb25nDQoJCQl9ZWxzZXsNCgkJCQlyZXNwLmlkcHJzID0gcmVzcC5uZXh0IDsgLy9uZXh0IHByb3NlcyBkaXRlbnR1a2FuDQoJCQl9DQoJCQlpZiAocmVzcC5FcnJNc2cgPT0nJyAmJiAhcmVzcC5zdG9wKXsgLy9pZiBlcm9yIG5leHQgcHJvc2VzIGRpIGhlbnRpa2FuDQoJCQkJLy9uZXh0IC0tLQ0KCQkJCS8vcmVzcC5pZHBycysrOw0KCQkJCWlmIChyZXNwLmlkcHJzIDwgcmVzcC5kYWZ0YXJQcm9zZXMubGVuZ3RoKXsNCgkJCQkJdGhpcy5zZW5kUmVxKCB7CWlkcHJzOiByZXNwLmlkcHJzLAlkYWZ0YXJQcm9zZXM6IHJlc3AuZGFmdGFyUHJvc2VzIH0gKTsNCgkJCQl9DQoNCgkJCX0NCgkJfWVsc2V7DQoJCQlhbGVydChyZXNwLkVyck1zZyk7DQoJCX0NCg0KCX0NCgkvL3RoaXMuc2VuZFJlcSA9IGZ1bmN0aW9uKHVybF8sanNvbm9iaixmb3JtKXsNCgl0aGlzLnNlbmRSZXEgPSBmdW5jdGlvbihqc29ub2JqKXsNCgkJaWYgKGpzb25vYmouZGFmdGFyUHJvc2VzW2pzb25vYmouaWRwcnNdPT0nbGlzdCcpew0KCQkJdmFyIHJlbmRlclRvID0gdGhpcy5jbnRkYWZ0YXI7DQoJCX1lbHNlew0KCQkJdmFyIHJlbmRlclRvID0gdGhpcy5jbnRoYWw7DQoJCX0NCgkJaWYgKHJlbmRlclRvICE9IG51bGwpDQoJCQlhZGRDb3ZlclBhZ2UyKA0KCQkJCQl0aGlzLmNvdmVyLA0KCQkJCQkxLA0KCQkJCQl0cnVlLA0KCQkJCQl0cnVlLA0KCQkJCQl7cmVuZGVyVG86IHJlbmRlclRvLA0KCQkJCQlpbWdzcmM6ICdpbWFnZXMvd2FpdC5naWYnLA0KCQkJCQlzdHlsZToge3Bvc2l0aW9uOidhYnNvbHV0ZScsIHRvcDonNScsIGxlZnQ6JzUnfQ0KCQkJCQl9DQoJCQkJKTsNCg0KCQl2YXIgb3B0c3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoIGpzb25vYmogKTsNCgkJaWYgKHRoaXMudXJsID09ICcnKXsNCgkJCXZhciB1cmwgPSB0aGlzLnVybCsnP29wdD0nK29wdHN0cmluZysnJmFqeD0xJzsNCgkJfWVsc2V7DQoJCQl2YXIgdXJsID0gdGhpcy51cmwrJyZvcHQ9JytvcHRzdHJpbmcrJyZhang9MSc7DQoJCX0NCgkJdGhpcy5Jbml0aWFsaXplUmVxdWVzdCgnUE9TVCcsIHVybCk7DQoJCXZhciBQYXJhbXMgPSB0aGlzLmZvcm0gIT0gJycgPyBjcmVhdGVQYXJhbUJ5Rm9ybSh0aGlzLmZvcm1OYW1lKSA6ICdudWxsJzsvL2FsZXJ0KFBhcmFtcyk7DQoJCXRoaXMuQ29tbWl0KFBhcmFtcyk7DQoJfQ0KCXRoaXMubG9hZGluZz1mdW5jdGlvbigpew0KCQkvL3ZhciBLb2RlSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbU9wJykudmFsdWU7DQoJCXRoaXMuc2VuZFJlcSgNCgkJCS8vdGhpcy51cmwsIC8vJ2luZGV4LnBocD9PcD0nK0tvZGVJKycmUGc9MicsDQoJCSAJdGhpcy5sb2FkX3F1ZS8veyBpZHByczogMCwgZGFmdGFyUHJvc2VzOiBuZXcgQXJyYXkoJ2xpc3QnLCdzdW1oYWwnKX0sDQoJCQkvL3RoaXMuZm9ybU5hbWUNCgkJKTsNCgl9DQoJdGhpcy5yZWZyZXNoTGlzdCA9IGZ1bmN0aW9uKCByZXNldFBhZ2VObyl7DQoJCWlmIChyZXNldFBhZ2VObykgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbEN1cnJQYWdlKS52YWx1ZT0xOw0KCQl0aGlzLmxvYWRpbmcoKTsNCgl9DQoJdGhpcy5nb3RvSGFsYW1hbj0gZnVuY3Rpb24obm90aGluZywgSGFsKXsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbEN1cnJQYWdlKS52YWx1ZSA9IEhhbDsNCgkJdGhpcy5sb2FkaW5nKCk7DQoJfQ0KCXRoaXMuaGFwdXM9ZnVuY3Rpb24oKXsNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbEptbENlaykpew0KCQkJdmFyIGptbGNlayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxKbWxDZWspLnZhbHVlIDsNCgkJfWVsc2V7DQoJCQl2YXIgam1sY2VrID0gJyc7DQoJCX0NCg0KCQlpZihqbWxjZWsgPT0wKXsNCgkJCWFsZXJ0KCdEYXRhIEJlbHVtIERpcGlsaWghJyk7DQoJCX1lbHNlew0KCQkJaWYoY29uZmlybSgnSGFwdXMgJytqbWxjZWsrJyBEYXRhID8nKSl7DQoJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCQlhZGRDb3ZlclBhZ2UyKHRoaXMuY292ZXIsMSx0cnVlLGZhbHNlKTsNCgkJCQlBanhQb3N0MigNCgkJCQkJdGhpcy51cmwrJyZhang9MSZpZHBycz1oYXB1cycsDQoJCQkJCXRoaXMuZm9ybU5hbWUsDQoJCQkJCXRoaXMuQWZ0ZXJIYXB1cywvLycnLA0KCQkJCQl0cnVlLA0KCQkJCQlmYWxzZSwNCgkJCQkJJ1BpbmRhaHRhbmdhbl9oYXB1cycNCgkJCQkpOw0KCQkJfQ0KCQl9DQoNCgl9DQoJdGhpcy5jZXRha0hhbD0gZnVuY3Rpb24oKXsNCgkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7DQoJCWFGb3JtLmFjdGlvbj0gdGhpcy51cmwrJyZpZHBycz1jZXRha19oYWwnOy8vJz9PcD0nK29wKycmUGc9MiZpZHBycz1jZXRha19oYWwnOw0KCQlhRm9ybS50YXJnZXQ9J19ibGFuayc7DQoJCWFGb3JtLnN1Ym1pdCgpOw0KCQlhRm9ybS50YXJnZXQ9Jyc7DQoJfQ0KCXRoaXMuY2V0YWtBbGw9IGZ1bmN0aW9uKCl7DQoJCXZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9ybU5hbWUpOw0KCQlhRm9ybS5hY3Rpb249dGhpcy51cmwrJyZpZHBycz1jZXRha19hbGwnOw0KCQlhRm9ybS50YXJnZXQ9J19ibGFuayc7DQoJCWFGb3JtLnN1Ym1pdCgpOw0KCQlhRm9ybS50YXJnZXQ9Jyc7DQoJfQ0KfQ0KRGFmdGFyT2JqLnByb3RvdHlwZSA9IG5ldyBhamF4KCk7DQoNCg0KDQoNCkRhZnRhck9iajIgPSBmdW5jdGlvbihwYXJhbXNfKXsNCgl0aGlzLnBhcmFtcz1wYXJhbXNfOw0KCS8qZGFmdGFyIHBhcmFtcyBkZWZhdWx0ICovDQoJLy90aGlzLmVsQ3VyclBhZ2UgPSAnSGFsRGVmYXVsdCc7DQoJdGhpcy5wcmVmaXggPSAnZGFmdGFyJzsvLyAncGJiX3BlbmV0YXBhbl9kYWZ0YXInOw0KCXRoaXMudXJsID0gJ2luZGV4LnBocD9PcD05JlBnPXNwcHQnOw0KCXRoaXMuZm9ybU5hbWUgPSAnYWRtaW5Gb3JtJzsNCgl0aGlzLmZpbHRlckNieENoZWNrZWQgPSBmYWxzZTsNCgl0aGlzLmRhZnRhclBpbGloPSBuZXcgQXJyYXkoKTsNCgl0aGlzLndpdGhQaWxpaCA9IGZhbHNlOw0KCXRoaXMuam1sUGVySGFsID0gMjU7DQoJdGhpcy5yb3dJRCA9IDA7DQoJdGhpcy50YW1waWxGaWx0ZXJDb2xhcHNlID0gMDsNCgl0aGlzLnRhbXBpbEZpbHRlckNvbGFwc2VNaW4gPSAzNzsNCgl0aGlzLnJvd0hlYWQgPSAxOw0KCXRoaXMucmVmcmVzaE1vZGUgPSAwOw0KDQoJLy9yb3cgb24gY2xpY2sgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCXRoaXMucm93T25DbGlja0VmZWsgPSBmdW5jdGlvbih0aCl7DQoJCXZhciB0YWJlbElEID0gdGhpcy5wcmVmaXgrJ190YWJsZSc7DQoNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFiZWxJRCkucm93c1t0aGlzLnJvd0lEK3RoaXMucm93SGVhZC0xXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ICcnOw0KCQl0aGlzLnJvd0lEID0gdGguZ2V0QXR0cmlidXRlKCdpZCcpOw0KCQl0aGlzLnJvd0lEKys7DQoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYmVsSUQpLnJvd3NbdGhpcy5yb3dJRCt0aGlzLnJvd0hlYWQtMV0uc3R5bGUuYmFja2dyb3VuZENvbG9yPSAnI0NDQ0NDQyc7Ly8ncmdiKDAsIDI1NSwgMzEpJzsNCg0KCX0NCgl0aGlzLnJvd09uQ2xpY2sgPSBmdW5jdGlvbih0aCl7DQoJCS8vYWxlcnQoJ3Rlc3Jvd2NsaWNrJyk7DQoJCS8vdmFyIHZhbCA9IHRoLmdldEF0dHJpYnV0ZSgndmFsdWUnKTsgYWxlcnQodmFsKTsNCgl9DQoNCgl0aGlzLnJvd09uRGJsQ2xpY2sgPSBmdW5jdGlvbih0aCl7DQoNCgl9DQoJLy9tdWx0aSBzZWxlY3QgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJdGhpcy5jYnhGaWx0ZXJLbGlrID0gZnVuY3Rpb24odGgpew0KCQl0aGlzLmZpbHRlckNieENoZWNrZWQgPSB0aC5jaGVja2VkOw0KCQl0aGlzLnJlZnJlc2hMaXN0KHRydWUpOw0KCX0NCgl0aGlzLmNieFBpbGloID0gZnVuY3Rpb24odGgpew0KCQlpZih0aGlzLndpdGhQaWxpaCl7DQoJCQlpZih0aC5jaGVja2VkKQl7DQoJCQkJdGhpcy5kYWZ0YXJQaWxpaFt0aGlzLmRhZnRhclBpbGloLnB1c2goKV09dGgudmFsdWUNCgkJCX1lbHNlCXsNCgkJCQl2YXIgaWR4PXRoaXMuZGFmdGFyUGlsaWguaW5kZXhPZih0aC52YWx1ZSkNCgkJCQl0aGlzLmRhZnRhclBpbGloLnNwbGljZShpZHgsMSkNCgkJCX0NCgkJCXRoaXMuc2V0Q29va2llKHRoaXMucHJlZml4KyJfRGFmdGFyUGlsaWgiLHRoaXMuZGFmdGFyUGlsaWguam9pbigpKSAvL3NldGNvb2tpZQ0KDQoJCSAJdmFyIGptbHBpbGloID0gdGhpcy5kYWZ0YXJQaWxpaC5sZW5ndGg7CSAvL2FsZXJ0KGptbHBpbGloKTsNCgkJIAlpZiggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19waWxpaGFuX21zZycpICkgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19waWxpaGFuX21zZycpLmlubmVySFRNTCA9IHRoaXMudGFtcGlsUGlsaWhGaWx0ZXIoKTsNCgkJIH0NCgl9DQoJdGhpcy5jaGVja0FsbCA9IGZ1bmN0aW9uKFBhZ2VQZXJIYWwsaWRjYixpZHRvZ2dsZSxqbWxjZWspIHsNCgkJaWYodGhpcy53aXRoUGlsaWgpew0KCQkJLy9hbGVydCgyKTsNCgkJCXZhciB0b2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZHRvZ2dsZSkNCgkJCWZvcih2YXIgaT0wO2k8UGFnZVBlckhhbDtpKyspew0KCQkJCXZhciBjYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkY2IraS50b1N0cmluZygpKTsNCgkJCQlpZihjYikgLy9qaWthIGNiIGFkYQ0KCQkJCXsNCgkJCQkJaWYodG9nZ2xlLmNoZWNrZWQpDQoJCQkJCXsNCgkJCQkJCWNvbnNvbGUubG9nKGkudG9TdHJpbmcoKSsgIiAiK2NiLnZhbHVlKQ0KDQoJCQkJCQlpZih0aGlzLmRhZnRhclBpbGloLmluZGV4T2YoY2IudmFsdWUpPDApDQoJCQkJCQl7DQoJCQkJCQkJdGhpcy5kYWZ0YXJQaWxpaFt0aGlzLmRhZnRhclBpbGloLnB1c2goKV09Y2IudmFsdWUNCgkJCQkJCX0NCg0KCQkJCQl9DQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJCQkJdmFyIGlkeD10aGlzLmRhZnRhclBpbGloLmluZGV4T2YoY2IudmFsdWUpDQoNCgkJCQkJCXRoaXMuZGFmdGFyUGlsaWguc3BsaWNlKGlkeCwxKQ0KCQkJCQl9DQoNCgkJCQl9DQoNCgkJCX0NCg0KCQkJLy9hbGVydCh0aGlzLmRhZnRhclBpbGloLmpvaW4oKSkNCgkJCXRoaXMuc2V0Q29va2llKHRoaXMucHJlZml4KyJfRGFmdGFyUGlsaWgiLHRoaXMuZGFmdGFyUGlsaWguam9pbigpKSAvL3NldGNvb2tpZQ0KCQkJdmFyIGptbHBpbGloID0gdGhpcy5kYWZ0YXJQaWxpaC5sZW5ndGg7CSAvL2FsZXJ0KGptbHBpbGloKTsNCgkJIAlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsnX3BpbGloYW5fbXNnJykuaW5uZXJIVE1MID0gdGhpcy50YW1waWxQaWxpaEZpbHRlcigpOw0KCQkJCS8vJ1RlcnBpbGloOiAnK2ptbHBpbGloLnRvU3RyaW5nKCk7DQoNCgkJfQ0KCX0NCgl0aGlzLnRhbXBpbFBpbGloRmlsdGVyID0gZnVuY3Rpb24oKXsNCgkJdmFyIGptbHBpbGloID0gdGhpcy5kYWZ0YXJQaWxpaC5sZW5ndGg7CS8vIGFsZXJ0KGptbHBpbGloKTsNCgkJdmFyIGNoZWNrZWQgPSAnJzsNCgkJaWYoIHRoaXMuZmlsdGVyQ2J4Q2hlY2tlZCApIGNoZWNrZWQgPSAiY2hlY2tlZD0ndHJ1ZSciOw0KDQoJCXZhciBzdHI9DQoJCQkiPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdDtwYWRkaW5nOjInPlRlcnBpbGloOiA8L2Rpdj48ZGl2IGlkPSciK3RoaXMucHJlZml4KyJfbXNfam1scGlsaWgnIG5hbWU9JyIrdGhpcy5wcmVmaXgrIl9tc19qbWxwaWxpaCcgc3R5bGU9J2Zsb2F0OmxlZnQ7cGFkZGluZzoyJz4iK2ptbHBpbGloLnRvU3RyaW5nKCkrIjwvZGl2PiIrDQoJCQkiPGRpdiBzdHlsZT0nZmxvYXQ6bGVmdCc+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nIit0aGlzLnByZWZpeCsiX2NieHBpbGloZmlsdGVyJyBuYW1lPSciK3RoaXMucHJlZml4KyJfY2J4cGlsaWhmaWx0ZXInIHZhbHVlPScxJyAiK2NoZWNrZWQrIiBvbmNsaWNrPSciK3RoaXMucHJlZml4KyIuY2J4RmlsdGVyS2xpayh0aGlzKSc+PC9kaXY+IjsNCgkJcmV0dXJuIHN0cjsNCgl9DQoJdGhpcy5yZXNldFBpbGloID0gZnVuY3Rpb24oKXsNCgkJCXRoaXMuZGFmdGFyUGlsaWg9W107IC8va29zb25na2FuIEFycmF5DQoJCQkvL2RlbGV0ZSBjb29raWUNCgkJCXRoaXMuc2V0Q29va2llKHRoaXMucHJlZml4KydfRGFmdGFyUGlsaWgnLCcnKSAvL2FtYmlsIGNvb2tpZXMNCgkJCXRoaXMuZmlsdGVyQ2J4Q2hlY2tlZD0gZmFsc2U7DQoJfQ0KCXRoaXMuY2JUYW1waWwgPSBmdW5jdGlvbigpeyAvL2Z1bmdzaSB1bnR1ayBkaXBhbmdnaWwgZGkgZGFmdGFyUmVuZGVyKCkgdW50dWsgQ29va2llDQoNCgkJLy9pZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybWNhcmliaScpKXsNCgkJaWYodGhpcy53aXRoUGlsaWgpew0KCQkJdmFyIGdldENvb2sgPSB0aGlzLmdldENvb2tpZSh0aGlzLnByZWZpeCsnX0RhZnRhclBpbGloJykgLy9hbWJpbCBjb29raWVzDQoNCgkJCWlmKGdldENvb2spLy9qaWthIGFkYSBuaWxhaQ0KCQkJew0KCQkJCXZhciBqbVBlckhhbCA9IHRoaXMuam1sUGVySGFsOy8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqbVBlckhhbCcpLnZhbHVlOw0KCQkJICAgIC8vbWVydWJhaCBzdHJpbmcga2UgYXJyYXkNCgkJCQl0aGlzLmRhZnRhclBpbGloPWdldENvb2suc3BsaXQoJywnKQ0KDQoJCQkJLy9wZW5nZWNla2FuIGp1bWxhaCBjaGVja2JveA0KCQkJCSBmb3IodmFyIGk9MDtpPGptUGVySGFsO2krKykNCgkJCQl7DQoJCQkJCSBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsnX2NiJytpLnRvU3RyaW5nKCkpKQ0KCQkJCQkgew0KCQkJCQkJdmFyIGNieCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4KydfY2InK2kudG9TdHJpbmcoKSk7IC8vYW1iaWwgdmFsdWUgY2hlY2tib3gNCgkJCQkJCXZhciB2YWwgPSBjYngudmFsdWU7DQoJCQkJCSAgIAkvL2ppa2EgdmFsdWUgYWRhIGRpIGRhZnRhcg0KCQkJCQkJaWYodGhpcy5kYWZ0YXJQaWxpaC5pbmRleE9mKHZhbCk+PTApIC8vcGVuZ2VjZWthbiBjaGVja2JveA0KCQkJCQkJew0KCQkJCQkJCWNieC5jaGVja2VkPXRydWU7DQoJCQkJCQl9DQoJCQkJCSB9DQoJCQkJIH0NCgkJCSB9DQoNCg0KCQkgCSAvL2FsZXJ0KGptbHBpbGloKTsNCgkJCS8vIHZhciBqbWxwaWxpaCA9IHRoaXMuZGFmdGFyUGlsaWgubGVuZ3RoOw0KCQkgCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4KydfcGlsaWhhbl9tc2cnKS5pbm5lckhUTUwgPSB0aGlzLnRhbXBpbFBpbGloRmlsdGVyKCk7DQoNCgkJCQkvLydUZXJwaWxpaDogJytqbWxwaWxpaC50b1N0cmluZygpOw0KCQkgfQ0KDQoJfQ0KDQoJdGhpcy5nZXRDb29raWUgPSBmdW5jdGlvbihjX25hbWUpew0KCQl2YXIgaSx4LHksQVJSY29va2llcz1kb2N1bWVudC5jb29raWUuc3BsaXQoIjsiKTsNCgkJZm9yIChpPTA7aTxBUlJjb29raWVzLmxlbmd0aDtpKyspDQoJCSAgew0KCQkgIHg9QVJSY29va2llc1tpXS5zdWJzdHIoMCxBUlJjb29raWVzW2ldLmluZGV4T2YoIj0iKSk7DQoJCSAgeT1BUlJjb29raWVzW2ldLnN1YnN0cihBUlJjb29raWVzW2ldLmluZGV4T2YoIj0iKSsxKTsNCgkJICB4PXgucmVwbGFjZSgvXlxzK3xccyskL2csIiIpOw0KCQkgIGlmICh4PT1jX25hbWUpDQoJCSAgICB7DQoJCSAgICByZXR1cm4gdW5lc2NhcGUoeSk7DQoJCSAgICB9DQoJCSAgfQ0KCX0NCgl0aGlzLnNldENvb2tpZSA9IGZ1bmN0aW9uKGNfbmFtZSx2YWx1ZSl7DQoJCS8vdmFyIGV4ZGF0ZT1uZXcgRGF0ZSgpOw0KCQkvL2V4ZGF0ZS5zZXREYXRlKGV4ZGF0ZS5nZXREYXRlKCkgKyBleGRheXMpOw0KCQkvL3ZhciBjX3ZhbHVlPWVzY2FwZSh2YWx1ZSkgKyAoKGV4ZGF5cz09bnVsbCkgPyAiIiA6ICI7IGV4cGlyZXM9IitleGRhdGUudG9VVENTdHJpbmcoKSk7DQoJCXZhciBjX3ZhbHVlPWVzY2FwZSh2YWx1ZSk7DQoJCWRvY3VtZW50LmNvb2tpZT1jX25hbWUgKyAiPSIgKyBjX3ZhbHVlOw0KCX0NCg0KCS8vdGhpcy5lbEptbENlayA9ICdfam1sY2VrJyA7DQoJdGhpcy5jZXRha0hhbD0gZnVuY3Rpb24oKXsNCgkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7DQoJCWFGb3JtLmFjdGlvbj0gdGhpcy51cmwrJyZ0aXBlPWNldGFrX2hhbCc7Ly8nP09wPScrb3ArJyZQZz0yJmlkcHJzPWNldGFrX2hhbCc7DQoJCWFGb3JtLnRhcmdldD0nX2JsYW5rJzsNCgkJYUZvcm0uc3VibWl0KCk7DQoJCWFGb3JtLnRhcmdldD0nJzsNCgl9DQoJdGhpcy5jZXRha0FsbD0gZnVuY3Rpb24oKXsNCgkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7DQoJCWFGb3JtLmFjdGlvbj10aGlzLnVybCsnJnRpcGU9Y2V0YWtfYWxsJzsNCgkJYUZvcm0udGFyZ2V0PSdfYmxhbmsnOw0KCQlhRm9ybS5zdWJtaXQoKTsNCgkJYUZvcm0udGFyZ2V0PScnOw0KCX0NCgkvKip0aGlzLmV4cG9ydFhscz0gZnVuY3Rpb24oKXsNCgkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7DQoJCWFGb3JtLmFjdGlvbj10aGlzLnVybCsnJnRpcGU9ZXhwb3J0WGxzJzsNCgkJLy9hRm9ybS50YXJnZXQ9J19ibGFuayc7DQoJCWFGb3JtLnN1Ym1pdCgpOw0KCQlhRm9ybS50YXJnZXQ9Jyc7DQoJfQ0KCSoqLw0KCXRoaXMuZXhwb3J0WGxzPSBmdW5jdGlvbihtb2RlKXsgLy9tb2RlID0gMiAtLT4gaGFsLCAzPSBzZW11YQ0KCQlpZiAobW9kZSA9PSBudWxsKSBtb2RlID0gMzsNCgkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7DQoJCWFGb3JtLmFjdGlvbj10aGlzLnVybCsnJnRpcGU9ZXhwb3J0WGxzJm1vZGU9Jyttb2RlOw0KCQkvL2FGb3JtLnRhcmdldD0nX2JsYW5rJzsNCgkJYUZvcm0uc3VibWl0KCk7DQoJCWFGb3JtLnRhcmdldD0nJzsNCgl9DQoJdGhpcy5nb3RvSGFsYW1hbj0gZnVuY3Rpb24obm90aGluZywgSGFsKXsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19oYWwnKS52YWx1ZSA9IEhhbDsNCgkJdGhpcy5sb2FkaW5nKCk7DQoJfQ0KDQoJdGhpcy5sb2FkaW5nID0gZnVuY3Rpb24oKXsNCgkJLy9hbGVydCgnbG9hZGluZycpOw0KCQl0aGlzLnRvcEJhclJlbmRlcigpOw0KCQl0aGlzLmZpbHRlclJlbmRlcigpOw0KCQl0aGlzLmRhZnRhclJlbmRlcigpOw0KCQkvL3RoaXMuc3VtSGFsUmVuZGVyKCk7DQoJfQ0KCXRoaXMucmVmcmVzaExpc3QgPSBmdW5jdGlvbiggcmVzZXRQYWdlTm8pew0KCQlzd2l0Y2godGhpcy5yZWZyZXNoTW9kZSl7DQoJCQljYXNlIDE6IHsNCgkJCQlpZiAocmVzZXRQYWdlTm8gJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19oYWwnKSApIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4KydfaGFsJykudmFsdWU9MTsNCgkJCQl0aGlzLmZpbHRlclJlbmRlcigpOw0KCQkJCWJyZWFrOw0KCQkJfQ0KCQkJZGVmYXVsdDoNCgkJCQlpZiAocmVzZXRQYWdlTm8gJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19oYWwnKSApIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4KydfaGFsJykudmFsdWU9MTsNCgkJCQl0aGlzLmRhZnRhclJlbmRlcigpOw0KCQkJCXRoaXMuZmlsdGVyUmVuZGVyKCk7DQoJCQkJLy90aGlzLnJvd0lEPTA7DQoJCQkJLy90aGlzLnN1bUhhbFJlbmRlcigpOw0KCQl9DQoNCg0KDQoJfQ0KCXRoaXMuZmlsdGVyUmVuZGVyID0gZnVuY3Rpb24oKXsNCgkJdmFyIG1lPXRoaXM7DQoJCS8vcmVuZGVyIGZpbHRlcg0KCQkkLmFqYXgoew0KCQkgIHVybDogdGhpcy51cmwrJyZ0aXBlPWZpbHRlcicsDQoJCSAgdHlwZTonUE9TVCcsDQoJCSAgZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQoJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXgrJ19jb250X29wc2knKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQlzd2l0Y2gobWUucmVmcmVzaE1vZGUpew0KCQkJCWNhc2UgMTogew0KCQkJCQltZS5maWx0ZXJSZW5kZXJBZnRlcigpOw0KCQkJCX0NCgkJCQlkZWZhdWx0Og0KCQkJCQltZS5maWx0ZXJSZW5kZXJBZnRlcigpOw0KCQkJfQ0KCQkgIH0sDQoJCSAgZXJyb3I6IGFqYXhFcnJvcg0KCQl9KTsNCgl9DQoJdGhpcy5maWx0ZXJSZW5kZXJBZnRlciA9IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT0gdGhpczsNCgkJc3dpdGNoKG1lLnJlZnJlc2hNb2RlKXsNCgkJCWNhc2UgMTogew0KCQkJCW1lLmRhZnRhclJlbmRlcigpOw0KCQkJfQ0KCQl9DQoJfQ0KDQoJdGhpcy5kYWZ0YXJSZW5kZXJBZnRlciA9IGZ1bmN0aW9uKHJlc3Apew0KDQoJfQ0KDQoJdGhpcy5kYWZ0YXJSZW5kZXIgPSBmdW5jdGlvbigpew0KCQl2YXIgbWUgPXRoaXM7IC8vcmVuZGVyIGRhZnRhcg0KCQlhZGRDb3ZlclBhZ2UyKA0KCQkJJ2RhZnRhcl9jb3ZlcicsCTEsIAl0cnVlLCB0cnVlLAl7cmVuZGVyVG86IHRoaXMucHJlZml4KydfY29udF9kYWZ0YXInLA0KCQkJaW1nc3JjOiAnaW1hZ2VzL3dhaXQuZ2lmJywNCgkJCXN0eWxlOiB7cG9zaXRpb246J2Fic29sdXRlJywgdG9wOic1JywgbGVmdDonNSd9DQoJCQl9DQoJCSk7DQoJCSQuYWpheCh7DQoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPWRhZnRhcicsDQoJCSAJdHlwZTonUE9TVCcsDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJLy9jb250ZW50VHlwZTogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PUlTTy04ODU5LTEiLA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOw0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfZGFmdGFyJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCWlmKG1lLndpdGhQaWxpaCkgbWUuY2JUYW1waWwoKTsNCgkJCQltZS5kYWZ0YXJSZW5kZXJBZnRlcihyZXNwKTsNCgkJCQltZS5zdW1IYWxSZW5kZXIoKTsNCg0KCQkgIAl9LA0KCQkJZXJyb3I6IGFqYXhFcnJvcg0KCQl9KTsNCgl9DQoJdGhpcy5kYWZ0YXJLb3NvbmdSZW5kZXIgPSBmdW5jdGlvbigpew0KCQl2YXIgbWUgPXRoaXM7IC8vcmVuZGVyIGRhZnRhcg0KCQlhZGRDb3ZlclBhZ2UyKA0KCQkJJ2RhZnRhcl9jb3ZlcicsCTEsIAl0cnVlLCB0cnVlLAl7cmVuZGVyVG86IHRoaXMucHJlZml4KydfY29udF9kYWZ0YXInLA0KCQkJaW1nc3JjOiAnaW1hZ2VzL3dhaXQuZ2lmJywNCgkJCXN0eWxlOiB7cG9zaXRpb246J2Fic29sdXRlJywgdG9wOic1JywgbGVmdDonNSd9DQoJCQl9DQoJCSk7DQoJCSQuYWpheCh7DQoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPWRhZnRhcmtvc29uZycsDQoJCSAJdHlwZTonUE9TVCcsDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOw0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfZGFmdGFyJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCWlmKG1lLndpdGhQaWxpaCkgbWUuY2JUYW1waWwoKTsNCgkJCQltZS5zdW1IYWxSZW5kZXJLb3NvbmcoKTsNCgkJICAJfSwNCgkJCWVycm9yOiBhamF4RXJyb3INCgkJfSk7DQoJfQ0KCXRoaXMuc3VtSGFsUmVuZGVyS29zb25nID0gZnVuY3Rpb24oKXsNCgkJdmFyIG1lID10aGlzOyAvL3JlbmRlciBzdW1oYWwNCgkJYWRkQ292ZXJQYWdlMigNCgkJCSdkYWZ0YXJfY292ZXInLAkxLCAJdHJ1ZSwgCXRydWUse3JlbmRlclRvOiB0aGlzLnByZWZpeCsnX2NvbnRfaGFsJywNCgkJCWltZ3NyYzogJ2ltYWdlcy93YWl0LmdpZicsDQoJCQlzdHlsZToge3Bvc2l0aW9uOidhYnNvbHV0ZScsIHRvcDonNScsIGxlZnQ6JzUnfQ0KCQkJfQ0KCQkpOw0KCQkkLmFqYXgoew0KCQkgIHVybDogdGhpcy51cmwrJyZ0aXBlPXN1bWhhbGtvc29uZycsDQoJCSAgdHlwZTonUE9TVCcsDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCgkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfaGFsJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LmhhbDsNCgkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXgrJ19jb250X3N1bScpKXsNCgkJCQlpZihyZXNwLmNvbnRlbnQuc3Vtc1swXSl7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfc3VtJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LnN1bXNbMF07DQoJCQkJfWVsc2V7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfc3VtJykuaW5uZXJIVE1MID0gJyc7DQoJCQkJfQ0KDQoJCQl9DQoJCQlmb3IgKHZhciBpPTE7IGk8cmVzcC5jb250ZW50LnN1bXMubGVuZ3RoOyBpKyspew0KCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXgrJ19jb250X3N1bScraSkpDQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfc3VtJytpKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQuc3Vtc1tpXTsNCg0KCQkJfQ0KDQoJCSAgfSwNCgkJICBlcnJvcjogYWpheEVycm9yDQoJCX0pOw0KCX0NCg0KCXRoaXMuc3VtSGFsUmVuZGVyQWZ0ZXI9ZnVuY3Rpb24ocmVzcCl7DQoNCgl9DQoJdGhpcy5zdW1IYWxSZW5kZXIgPSBmdW5jdGlvbigpew0KCQl2YXIgbWUgPXRoaXM7IC8vcmVuZGVyIHN1bWhhbA0KCQlhZGRDb3ZlclBhZ2UyKA0KCQkJJ2RhZnRhcl9jb3ZlcicsCTEsIAl0cnVlLCAJdHJ1ZSx7cmVuZGVyVG86IHRoaXMucHJlZml4KydfY29udF9oYWwnLA0KCQkJaW1nc3JjOiAnaW1hZ2VzL3dhaXQuZ2lmJywNCgkJCXN0eWxlOiB7cG9zaXRpb246J2Fic29sdXRlJywgdG9wOic1JywgbGVmdDonNSd9DQoJCQl9DQoJCSk7DQoJCSQuYWpheCh7DQoJCSAgdXJsOiB0aGlzLnVybCsnJnRpcGU9c3VtaGFsJywNCgkJICB0eXBlOidQT1NUJywNCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCSAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOw0KCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWUucHJlZml4KydfY29udF9oYWwnKSApIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfaGFsJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LmhhbDsNCgkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXgrJ19jb250X3N1bScpKXsNCgkJCQlpZihyZXNwLmNvbnRlbnQuc3Vtc1swXSl7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfc3VtJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50LnN1bXNbMF07DQoJCQkJfWVsc2V7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfc3VtJykuaW5uZXJIVE1MID0gJyc7DQoJCQkJfQ0KDQoJCQl9DQoJCQlmb3IgKHZhciBpPTE7IGk8cmVzcC5jb250ZW50LnN1bXMubGVuZ3RoOyBpKyspew0KCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXgrJ19jb250X3N1bScraSkpDQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfc3VtJytpKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQuc3Vtc1tpXTsNCg0KCQkJfQ0KCQkJbWUuc3VtSGFsUmVuZGVyQWZ0ZXIocmVzcCk7DQoNCgkJICB9LA0KCQkgIGVycm9yOiBhamF4RXJyb3INCgkJfSk7DQoJfQ0KCXRoaXMuZGFmdGFyT3BzaUNvbGFwc2U9IGZ1bmN0aW9uKGhlaWdodG1pbil7CS8vYWxlcnQoJ3Rlc3MnKTsNCg0KCQl2YXIgaWNvbl91cD0naW1hZ2VzL3R1bWJzL3VwXzIucG5nJzsNCgkJdmFyIGljb25fZG93biA9ICdpbWFnZXMvdHVtYnMvZG93bl8yLnBuZyc7DQoJCXZhciBkaXZfaWQgPSAgdGhpcy5wcmVmaXgrJ19jb250X29wc2knIDsvLydkYWZ0YXJvcHNpX2Rpdic7DQoJCXZhciBkaXZfc2xpZGUgPSAgdGhpcy5wcmVmaXgrJ19zbGlkZV9pbWcnOw0KDQoJCXZhciBkaXY9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdl9pZCk7DQoJCXZhciBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZfc2xpZGUpOw0KCQl2YXIgaW1nX3NyYz1pbWcuZ2V0QXR0cmlidXRlKCdzcmMnKTsNCgkJLy9pZiggaW1nX3NyYyA9PSdpbWFnZXMvdHVtYnMvZG93bi5wbmcnICl7DQoJCWlmKCBpbWdfc3JjID09IGljb25fZG93biApew0KCQkJaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgaWNvbl91cCk7DQoJCQlkaXYuc3R5bGUuaGVpZ2h0PScnOw0KCQkJZGl2LnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nOw0KCQl9ZWxzZXsNCgkJCWltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGljb25fZG93bik7DQoJCQlkaXYuc3R5bGUuaGVpZ2h0PWhlaWdodG1pbjsNCgkJCWRpdi5zdHlsZS5vdmVyZmxvd1kgPSAnaGlkZGVuJzsNCgkJfQ0KDQoJfQ0KCXRoaXMudG9wQmFyUmVuZGVyQWZ0ZXIgPSBmdW5jdGlvbigpew0KCQlpZiAoIHRoaXMudGFtcGlsRmlsdGVyQ29sYXBzZT09MSkgdGhpcy5kYWZ0YXJPcHNpQ29sYXBzZSh0aGlzLnRhbXBpbEZpbHRlckNvbGFwc2VNaW4pOw0KCX0NCgl0aGlzLnRvcEJhclJlbmRlciA9IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT10aGlzOw0KCQkvL3JlbmRlciBzdWJ0aXRsZQ0KCQkkLmFqYXgoew0KCQkgIHVybDogdGhpcy51cmwrJyZ0aXBlPXN1YnRpdGxlJywNCgkJICB0eXBlOidQT1NUJywNCgkJICBkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCgkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lLnByZWZpeCsnX2NvbnRfdGl0bGUnKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQltZS50b3BCYXJSZW5kZXJBZnRlcigpDQoJCSAgfSwNCgkJICBlcnJvcjogYWpheEVycm9yDQoJCX0pOw0KCX0NCg0KDQoNCgl0aGlzLmRhZnRhck9wc2lDb2xhcHNlPSBmdW5jdGlvbihoZWlnaHRtaW4pewkvL2FsZXJ0KCd0ZXNzJyk7DQoNCgkJdmFyIGljb25fdXA9J2ltYWdlcy90dW1icy91cF8yLnBuZyc7DQoJCXZhciBpY29uX2Rvd24gPSAnaW1hZ2VzL3R1bWJzL2Rvd25fMi5wbmcnOw0KCQl2YXIgZGl2X2lkID0gIHRoaXMucHJlZml4KydfY29udF9vcHNpJyA7Ly8nZGFmdGFyb3BzaV9kaXYnOw0KCQl2YXIgZGl2X3NsaWRlID0gIHRoaXMucHJlZml4Kydfc2xpZGVfaW1nJzsNCg0KCQl2YXIgZGl2PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZfaWQpOw0KCQl2YXIgaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2X3NsaWRlKTsNCgkJdmFyIGltZ19zcmM9aW1nLmdldEF0dHJpYnV0ZSgnc3JjJyk7DQoJCS8vaWYoIGltZ19zcmMgPT0naW1hZ2VzL3R1bWJzL2Rvd24ucG5nJyApew0KCQlpZiggaW1nX3NyYyA9PSBpY29uX2Rvd24gKXsNCgkJCWltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGljb25fdXApOw0KCQkJZGl2LnN0eWxlLmhlaWdodD0nJzsNCgkJCWRpdi5zdHlsZS5vdmVyZmxvd1kgPSAnaGlkZGVuJzsNCgkJfWVsc2V7DQoJCQlpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBpY29uX2Rvd24pOw0KCQkJZGl2LnN0eWxlLmhlaWdodD1oZWlnaHRtaW47DQoJCQlkaXYuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7DQoJCX0NCg0KCX0NCg0KDQoNCgl0aGlzLkNsb3NlID0gZnVuY3Rpb24odGlwZSl7Ly9hbGVydCh0aGlzLmVsQ292ZXIpOw0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3Zlcic7DQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKSkgZGVsRWxlbShjb3Zlcik7DQoJCWlmKHRpcGU9PW51bGwpew0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7DQoJCX0NCg0KCX0NCgl0aGlzLkNla0NoZWNrYm94PWZ1bmN0aW9uKHByZWZpeCl7Ly9hbGVydCh0aGlzLmVsSm1sQ2VrKTsNCgkJdmFyIGVycm1zZyA9ICcnOw0KCQkvL2NvbnNvbGUubG9nKHByZWZpeCk7DQoJCWlmIChwcmVmaXggPT0gbnVsbCkgcHJlZml4ID0gdGhpcy5wcmVmaXg7DQoJCWlmKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXgrJ19qbWxjZWsnKSl7DQoJCQlpZigoZXJybXNnPT0nJykgICYmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXgrJ19qbWxjZWsnKS52YWx1ZSA+MSApKXsJZXJybXNnPSAnUGlsaWggSGFueWEgU2F0dSBEYXRhISc7IH0NCgkJfQ0KCQlpZigoZXJybXNnPT0nJykgJiYgKCAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4Kydfam1sY2VrJykudmFsdWUgPT0gMCl8fChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXgrJ19qbWxjZWsnKS52YWx1ZSA9PSAnJykgICkpew0KCQkJZXJybXNnPSAnRGF0YSBiZWx1bSBkaXBpbGloISc7DQoJCX0NCgkJcmV0dXJuIGVycm1zZzsNCgl9DQoJdGhpcy5HZXRDYnhDaGVja2VkPWZ1bmN0aW9uKHByZWZpeCl7DQoJCWlmIChwcmVmaXggPT0gbnVsbCkgcHJlZml4ID0gdGhpcy5wcmVmaXg7DQoJCXZhciBqbWxkYXRhPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggcHJlZml4Kydfam1sZGF0YXBhZ2UnICkudmFsdWU7DQoJCWZvcih2YXIgaT0wOyBpIDwgam1sZGF0YTsgaSsrKXsNCgkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBwcmVmaXgrJ19jYicgKyBpKSl7DQoJCQkJdmFyIGJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBwcmVmaXgrJ19jYicgKyBpKTsNCgkJCQlpZiggYm94LmNoZWNrZWQpew0KCQkJCQlicmVhazsNCgkJCQl9DQoJCQl9DQoJCX0NCgkJcmV0dXJuIGJveDsNCgl9DQoNCgl0aGlzLkNla0NoZWNrYm94QmkgPSBmdW5jdGlvbihwcmVmaXgpey8vYWxlcnQodGhpcy5lbEptbENlayk7DQoJCXZhciBlcnJtc2cgPSAnJzsNCgkJLy9jb25zb2xlLmxvZyhwcmVmaXgpOw0KCQlpZiAocHJlZml4ID09IG51bGwpIHByZWZpeCA9IHRoaXMucHJlZml4Ow0KCQlpZiggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveGNoZWNrZWQnKSl7DQoJCQlpZigoZXJybXNnPT0nJykgICYmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94Y2hlY2tlZCcpLnZhbHVlID4xICkpewllcnJtc2c9ICdQaWxpaCBIYW55YSBTYXR1IERhdGEhJzsgfQ0KCQl9DQoJCWlmKChlcnJtc2c9PScnKSAmJiAoIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94Y2hlY2tlZCcpLnZhbHVlID09IDApfHwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveGNoZWNrZWQnKS52YWx1ZSA9PSAnJykgICkpew0KCQkJZXJybXNnPSAnRGF0YSBiZWx1bSBkaXBpbGloISc7DQoJCX0NCgkJcmV0dXJuIGVycm1zZzsNCgl9DQoJdGhpcy5HZXRDYnhDaGVja2VkQmkgPSBmdW5jdGlvbihwcmVmaXgpew0KCQlpZiAocHJlZml4ID09IG51bGwpIHByZWZpeCA9IHRoaXMucHJlZml4Ow0KCQl2YXIgam1sZGF0YT0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdqbVBlckhhbCcgKS52YWx1ZTsNCgkJZm9yKHZhciBpPTA7IGkgPCBqbWxkYXRhOyBpKyspew0KCQkJdmFyIGJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnY2InICsgaSk7DQoJCQlpZiggYm94LmNoZWNrZWQpew0KCQkJCWJyZWFrOw0KCQkJfQ0KCQl9DQoJCXJldHVybiBib3g7DQoJfQ0KDQoJdGhpcy5BZnRlckZvcm1CYXJ1ID0gZnVuY3Rpb24ocmVzcCl7DQoJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vX3NwcHQnKS5mb2N1cygpDQoJfTsNCgl0aGlzLkFmdGVyRm9ybUVkaXQgPSBmdW5jdGlvbihyZXNwKXsNCgkJLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9fc3BwdCcpLmZvY3VzKCkNCgl9Ow0KCXRoaXMuQmFydSA9IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyJzsNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOw0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1mb3JtQmFydScsDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQkJaWYgKHJlc3AuZXJyID09Jycpew0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkJCQltZS5BZnRlckZvcm1CYXJ1KHJlc3ApOw0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCWRlbEVsZW0oY292ZXIpOw0KCQkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCgkJCQl9DQoNCgkJICAJfSwNCgkJCWVycm9yOiBhamF4RXJyb3INCgkJfSk7DQoJfQ0KCXRoaXMuRWRpdCA9IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCWVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsNCgkJaWYoZXJybXNnID09Jycpew0KCQkJdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOw0KDQoJCQkvL3RoaXMuU2hvdyAoJ2Zvcm1lZGl0Jyx7aWRwbGg6Ym94LnZhbHVlfSwgZmFsc2UsIHRydWUpOw0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOw0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsDQoJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1mb3JtRWRpdCcsDQoJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQoJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsNCgkJCQkJaWYgKHJlc3AuZXJyID09Jycpew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsNCgkJCQkJCW1lLkFmdGVyRm9ybUVkaXQocmVzcCk7DQoJCQkJCX1lbHNlew0KCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCgkJCQkJfQ0KCQkJICAJfSwNCgkJCQllcnJvcjogYWpheEVycm9yDQoJCQl9KTsNCgkJfWVsc2V7DQoJCQlhbGVydChlcnJtc2cpOw0KCQl9DQoNCgl9DQoJdGhpcy5BZnRlclNpbXBhbiA9IGZ1bmN0aW9uKCl7DQoJCXRoaXMucmVmcmVzaExpc3QoZmFsc2UpOw0KCX0NCgl0aGlzLlNpbXBhbiA9IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT0gdGhpczsNCgkJdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZQ0KCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1zaW1wYW4nOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7DQoJCS8qdGhpcy5zZW5kUmVxKA0KCQkJdGhpcy51cmwsDQoJCQl7IGlkcHJzOiAwLCBkYWZ0YXJQcm9zZXM6IG5ldyBBcnJheSgnc2ltcGFuJyl9LA0KCQkJdGhpcy5mb3JtRGlhbG9nKTsqLw0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsDQoJCQlkYXRhOiQoJyMnK3RoaXMucHJlZml4KydfZm9ybScpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c2ltcGFuJywNCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsNCgkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJaWYocmVzcC5lcnI9PScnKXsNCgkJCQkJbWUuQ2xvc2UoKTsNCgkJCQkJbWUuQWZ0ZXJTaW1wYW4oKTsNCgkJCQl9ZWxzZXsNCgkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCX0NCgkJICAJfSwNCgkJCWVycm9yOiBhamF4RXJyb3INCgkJfSk7DQoJfQ0KCXRoaXMuQWZ0ZXJIYXB1cyA9IGZ1bmN0aW9uKCl7DQoJCWFsZXJ0KCdTdWtzZXMgSGFwdXMgRGF0YScpOw0KCQl0aGlzLnJlZnJlc2hMaXN0KHRydWUpOw0KCX0NCgl0aGlzLkhhcHVzID0gZnVuY3Rpb24oKXsNCgkJdmFyIG1lID10aGlzOw0KCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsnX2ptbGNlaycpKXsNCgkJCXZhciBqbWxjZWsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsnX2ptbGNlaycpLnZhbHVlIDsNCgkJfWVsc2V7DQoJCQl2YXIgam1sY2VrID0gJyc7DQoJCX0NCg0KCQlpZihqbWxjZWsgPT0wKXsNCgkJCWFsZXJ0KCdEYXRhIEJlbHVtIERpcGlsaWghJyk7DQoJCX1lbHNlew0KCQkJaWYoY29uZmlybSgnSGFwdXMgJytqbWxjZWsrJyBEYXRhID8nKSl7DQoJCQkJLy9kb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfaGFwdXNjb3Zlcic7DQoJCQkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOw0KCQkJCSQuYWpheCh7DQoJCQkJCXR5cGU6J1BPU1QnLA0KCQkJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1oYXB1cycsDQoJCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KCQkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOw0KCQkJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJCQlpZihyZXNwLmVycj09Jycpew0KCQkJCQkJCW1lLkFmdGVySGFwdXMoKTsNCgkJCQkJCX1lbHNlew0KCQkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJCX0NCg0KCQkJCSAgCX0sDQoJCQkJCWVycm9yOiBhamF4RXJyb3INCgkJCQl9KTsNCg0KCQkJfQ0KCQl9DQoJfQ0KCXRoaXMuaW5pdGlhbCA9IGZ1bmN0aW9uKCl7DQoJCS8vY2hhbmdlIHBhcmFtIGRlZmF1bHQNCgkJZm9yICh2YXIgbmFtZSBpbiB0aGlzLnBhcmFtcykgew0KCQkJZXZhbCggJ2lmKHRoaXMucGFyYW1zLicrbmFtZSsnICE9IG51bGwpIHRoaXMuJytuYW1lKyc9IHRoaXMucGFyYW1zLicrbmFtZSsnOyAnKTsNCgkJfQ0KCX0NCgl0aGlzLmluaXRpYWwoKTsNCn0NCg0KDQpmdW5jdGlvbiBCYXJQYW5lbF9leHBhbmQoYmFyTmFtZSwgYmFySGVpZ2h0KXsNCgkvL3ZhciBiYXJIZWlnaHQ9MzE7DQoJdmFyIHRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJhck5hbWUpOw0KCXZhciB0YWJoZWFkPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYXJOYW1lKydfaGVhZCcpOw0KCXZhciBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYXJOYW1lKydfaWNvJyk7DQoJaWYgKHRhYi5zdHlsZS5oZWlnaHQgIT0gKGJhckhlaWdodCsxKSsncHgnKXsNCgkJdGFiLnN0eWxlLmhlaWdodCA9IChiYXJIZWlnaHQrMSkrJ3B4JzsNCgkJaW1nLnNyYyA9ICdpbWFnZXMvbWVudS9yaWdodC5wbmcnOw0KCX1lbHNlew0KCQl0YWIuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2hlaWdodCcpOw0KCQlpbWcuc3JjID0gJ2ltYWdlcy9tZW51L2Rvd24ucG5nJzsNCgl9DQp9DQo=",
    "size": "28907"
}