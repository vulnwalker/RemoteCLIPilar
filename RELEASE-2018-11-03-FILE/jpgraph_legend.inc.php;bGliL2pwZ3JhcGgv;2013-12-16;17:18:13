{
    "namaFile": "lib\/jpgraph\/jpgraph_legend.inc.php",
    "lastUpdate": "2013-12-16+17:18:13.00",
    "contentFile": "PD9waHAKLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBGaWxlOiAgICAgICAgSlBHUkFQSF9MRUdFTkQuSU5DLlBIUAovLyBEZXNjcmlwdGlvbjogQ2xhc3MgdG8gaGFuZGxlIHRoZSBsZWdlbmQgYm94IGluIHRoZSBncmFwaCB0aGF0IGdpdmVzCi8vICAgICAgICAgICAgICBuYW1lcyBvbiB0aGUgZGF0YSBzZXJpZXMuIFRoZSBudW1iZXIgb2Ygcm93cyBhbmQgY29sdW1ucwovLyAgICAgICAgICAgICAgaW4gdGhlIGxlZ2VuZCBhcmUgdXNlciBzcGVjaWZ5YWJsZS4KLy8gQ3JlYXRlZDogICAgIDIwMDEtMDEtMDggKFJlZmFjdG9yZWQgdG8gc2VwYXJhdGUgZmlsZSAyMDA4LTA4LTAxKQovLyBWZXI6ICAgICAgICAgJElkOiBqcGdyYXBoX2xlZ2VuZC5pbmMucGhwIDE5MjYgMjAxMC0wMS0xMSAxNjozMzowN1ogbGpwICQKLy8KLy8gQ29weXJpZ2h0IChjKSBBc2lhbCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCkRFRklORSgnX0RFRkFVTFRfTFBNX1NJWkUnLDgpOyAvLyBEZWZhdWx0IExlZ2VuZCBQbG90IE1hcmsgc2l6ZQoKCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIENMQVNTIExlZ2VuZAovLyBEZXNjcmlwdGlvbjogUmVzcG9uc2libGUgZm9yIGRyYXdpbmcgdGhlIGJveCBjb250YWluaW5nCi8vIGFsbCB0aGUgbGVnZW5kIHRleHQgZm9yIHRoZSBncmFwaAovLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgTGVnZW5kIHsKICAgIHB1YmxpYyAkdHh0Y29sPWFycmF5KCk7CiAgICBwdWJsaWMgJGZvbnRfZmFtaWx5PUZGX0RFRkFVTFQsJGZvbnRfc3R5bGU9RlNfTk9STUFMLCRmb250X3NpemU9ODsgLy8gb2xkLiAxMgogICAgcHJpdmF0ZSAkY29sb3I9YXJyYXkoMTIwLDEyMCwxMjApOyAvLyBEZWZhdWx0IGZyYW1lIGNvbG9yCiAgICBwcml2YXRlICRmaWxsX2NvbG9yPWFycmF5KDI0NSwyNDUsMjQ1KTsgLy8gRGVmYXVsdCBmaWxsIGNvbG9yCiAgICBwcml2YXRlICRzaGFkb3c9ZmFsc2U7IC8vIFNoYWRvdyBhcm91bmQgbGVnZW5kICJib3giCiAgICBwcml2YXRlICRzaGFkb3dfY29sb3I9J2RhcmtncmF5JzsKICAgIHByaXZhdGUgJG1hcmtfYWJzX2hzaXplPV9ERUZBVUxUX0xQTV9TSVpFLCRtYXJrX2Fic192c2l6ZT1fREVGQVVMVF9MUE1fU0laRTsKICAgIHByaXZhdGUgJHhtYXJnaW49MTAsJHltYXJnaW49MCwkc2hhZG93X3dpZHRoPTI7CiAgICBwcml2YXRlICR4bG1hcmdpbj00OwogICAgcHJpdmF0ZSAkeWxpbmVzcGFjaW5nPTU7CiAgICAKICAgICAvLyBXZSBuZWVkIGEgc2VwYXJhdGUgbWFyZ2luIHNpbmNlIHRoZSBiYXNlbGluZSBvZiB0aGUgbGFzdCB0ZXh0IHdvdWxkIGNvaW5jaWRlIHdpdGggdGhlIGJvdHRvbSBvdGhlcndpc2UKICAgIHByaXZhdGUgJHlib3R0b21fbWFyZ2luID0gODsKICAgIAogICAgcHJpdmF0ZSAkeHBvcz0wLjA1LCAkeXBvcz0wLjE1LCAkeGFic3Bvcz0tMSwgJHlhYnNwb3M9LTE7CiAgICBwcml2YXRlICRoYWxpZ249InJpZ2h0IiwgJHZhbGlnbj0idG9wIjsKICAgIHByaXZhdGUgJGZvbnRfY29sb3I9J2JsYWNrJzsKICAgIHByaXZhdGUgJGhpZGU9ZmFsc2UsJGxheW91dF9uPTE7CiAgICBwcml2YXRlICR3ZWlnaHQ9MSwkZnJhbWV3ZWlnaHQ9MTsKICAgIHByaXZhdGUgJGNzaW1hcmVhcz0nJzsKICAgIHByaXZhdGUgJHJldmVyc2UgPSBmYWxzZSA7CiAgICBwcml2YXRlICRia2dfZ3JhZHR5cGU9LTEsICRia2dfZ3JhZGZyb209J2xpZ2h0Z3JheScsICRia2dfZ3JhZHRvPSdncmF5JzsKCiAgICAvLy0tLS0tLS0tLS0tLS0tLQogICAgLy8gQ09OU1RSVUNUT1IKICAgIGZ1bmN0aW9uIF9fY29uc3RydWN0KCkgewogICAgICAgIC8vIEVtcHR5CiAgICB9CiAgICAvLy0tLS0tLS0tLS0tLS0tLQogICAgLy8gUFVCTElDIE1FVEhPRFMKICAgIGZ1bmN0aW9uIEhpZGUoJGFIaWRlPXRydWUpIHsKICAgICAgICAkdGhpcy0+aGlkZT0kYUhpZGU7CiAgICB9CgogICAgZnVuY3Rpb24gU2V0SENvbE1hcmdpbigkYVhNYXJnKSB7CiAgICAgICAgJHRoaXMtPnhtYXJnaW4gPSAkYVhNYXJnOwogICAgfQoKICAgIGZ1bmN0aW9uIFNldFZDb2xNYXJnaW4oJGFTcGFjaW5nKSB7CiAgICAgICAgJHRoaXMtPnlsaW5lc3BhY2luZyA9ICRhU3BhY2luZyA7CiAgICB9CgogICAgZnVuY3Rpb24gU2V0TGVmdE1hcmdpbigkYVhNYXJnKSB7CiAgICAgICAgJHRoaXMtPnhsbWFyZ2luID0gJGFYTWFyZzsKICAgIH0KCiAgICAvLyBTeW5vbnltCiAgICBmdW5jdGlvbiBTZXRMaW5lU3BhY2luZygkYVNwYWNpbmcpIHsKICAgICAgICAkdGhpcy0+eWxpbmVzcGFjaW5nID0gJGFTcGFjaW5nIDsKICAgIH0KCiAgICBmdW5jdGlvbiBTZXRTaGFkb3coJGFTaG93PSdncmF5JywkYVdpZHRoPTQpIHsKICAgICAgICBpZiggaXNfc3RyaW5nKCRhU2hvdykgKSB7CiAgICAgICAgICAgICR0aGlzLT5zaGFkb3dfY29sb3IgPSAkYVNob3c7CiAgICAgICAgICAgICR0aGlzLT5zaGFkb3c9dHJ1ZTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICR0aGlzLT5zaGFkb3cgPSAkYVNob3c7CiAgICAgICAgfQogICAgICAgICR0aGlzLT5zaGFkb3dfd2lkdGggPSAkYVdpZHRoOwogICAgfQoKICAgIGZ1bmN0aW9uIFNldE1hcmtBYnNTaXplKCRhU2l6ZSkgewogICAgICAgICR0aGlzLT5tYXJrX2Fic192c2l6ZSA9ICRhU2l6ZSA7CiAgICAgICAgJHRoaXMtPm1hcmtfYWJzX2hzaXplID0gJGFTaXplIDsKICAgIH0KCiAgICBmdW5jdGlvbiBTZXRNYXJrQWJzVlNpemUoJGFTaXplKSB7CiAgICAgICAgJHRoaXMtPm1hcmtfYWJzX3ZzaXplID0gJGFTaXplIDsKICAgIH0KCiAgICBmdW5jdGlvbiBTZXRNYXJrQWJzSFNpemUoJGFTaXplKSB7CiAgICAgICAgJHRoaXMtPm1hcmtfYWJzX2hzaXplID0gJGFTaXplIDsKICAgIH0KCiAgICBmdW5jdGlvbiBTZXRMaW5lV2VpZ2h0KCRhV2VpZ2h0KSB7CiAgICAgICAgJHRoaXMtPndlaWdodCA9ICRhV2VpZ2h0OwogICAgfQoKICAgIGZ1bmN0aW9uIFNldEZyYW1lV2VpZ2h0KCRhV2VpZ2h0KSB7CiAgICAgICAgJHRoaXMtPmZyYW1ld2VpZ2h0ID0gJGFXZWlnaHQ7CiAgICB9CgogICAgZnVuY3Rpb24gU2V0TGF5b3V0KCRhRGlyZWN0aW9uPUxFR0VORF9WRVJUKSB7CiAgICAgICAgJHRoaXMtPmxheW91dF9uID0gJGFEaXJlY3Rpb249PUxFR0VORF9WRVJUID8gMSA6IDk5IDsKICAgIH0KCiAgICBmdW5jdGlvbiBTZXRDb2x1bW5zKCRhQ29scykgewogICAgICAgICR0aGlzLT5sYXlvdXRfbiA9ICRhQ29scyA7CiAgICB9CgogICAgZnVuY3Rpb24gU2V0UmV2ZXJzZSgkZj10cnVlKSB7CiAgICAgICAgJHRoaXMtPnJldmVyc2UgPSAkZiA7CiAgICB9CgogICAgLy8gU2V0IGNvbG9yIG9uIGZyYW1lIGFyb3VuZCBib3gKICAgIGZ1bmN0aW9uIFNldENvbG9yKCRhRm9udENvbG9yLCRhQ29sb3I9J2JsYWNrJykgewogICAgICAgICR0aGlzLT5mb250X2NvbG9yPSRhRm9udENvbG9yOwogICAgICAgICR0aGlzLT5jb2xvcj0kYUNvbG9yOwogICAgfQoKICAgIGZ1bmN0aW9uIFNldEZvbnQoJGFGYW1pbHksJGFTdHlsZT1GU19OT1JNQUwsJGFTaXplPTEwKSB7CiAgICAgICAgJHRoaXMtPmZvbnRfZmFtaWx5ID0gJGFGYW1pbHk7CiAgICAgICAgJHRoaXMtPmZvbnRfc3R5bGUgPSAkYVN0eWxlOwogICAgICAgICR0aGlzLT5mb250X3NpemUgPSAkYVNpemU7CiAgICB9CgogICAgZnVuY3Rpb24gU2V0UG9zKCRhWCwkYVksJGFIQWxpZ249J3JpZ2h0JywkYVZBbGlnbj0ndG9wJykgewogICAgICAgICR0aGlzLT5Qb3MoJGFYLCRhWSwkYUhBbGlnbiwkYVZBbGlnbik7CiAgICB9CgogICAgZnVuY3Rpb24gU2V0QWJzUG9zKCRhWCwkYVksJGFIQWxpZ249J3JpZ2h0JywkYVZBbGlnbj0ndG9wJykgewogICAgICAgICR0aGlzLT54YWJzcG9zPSRhWDsKICAgICAgICAkdGhpcy0+eWFic3Bvcz0kYVk7CiAgICAgICAgJHRoaXMtPmhhbGlnbj0kYUhBbGlnbjsKICAgICAgICAkdGhpcy0+dmFsaWduPSRhVkFsaWduOwogICAgfQoKICAgIGZ1bmN0aW9uIFBvcygkYVgsJGFZLCRhSEFsaWduPSdyaWdodCcsJGFWQWxpZ249J3RvcCcpIHsKICAgICAgICBpZiggISgkYVg8MSAmJiAkYVk8MSkgKSB7CiAgICAgICAgICAgIEpwR3JhcGhFcnJvcjo6UmFpc2VMKDI1MTIwKTsvLygiIFBvc2l0aW9uIGZvciBsZWdlbmQgbXVzdCBiZSBnaXZlbiBhcyBwZXJjZW50YWdlIGluIHJhbmdlIDAtMSIpOwogICAgICAgIH0KICAgICAgICAkdGhpcy0+eHBvcz0kYVg7CiAgICAgICAgJHRoaXMtPnlwb3M9JGFZOwogICAgICAgICR0aGlzLT5oYWxpZ249JGFIQWxpZ247CiAgICAgICAgJHRoaXMtPnZhbGlnbj0kYVZBbGlnbjsKICAgIH0KCiAgICBmdW5jdGlvbiBTZXRGaWxsQ29sb3IoJGFDb2xvcikgewogICAgICAgICR0aGlzLT5maWxsX2NvbG9yPSRhQ29sb3I7CiAgICB9CgogICAgZnVuY3Rpb24gQ2xlYXIoKSB7CiAgICAgICAgJHRoaXMtPnR4dGNvbCA9IGFycmF5KCk7CiAgICB9CgogICAgZnVuY3Rpb24gQWRkKCRhVHh0LCRhQ29sb3IsJGFQbG90bWFyaz0nJywkYUxpbmVzdHlsZT0wLCRjc2ltdGFyZ2V0PScnLCRjc2ltYWx0PScnLCRjc2ltd2ludGFyZ2V0PScnKSB7CiAgICAgICAgJHRoaXMtPnR4dGNvbFtdPWFycmF5KCRhVHh0LCRhQ29sb3IsJGFQbG90bWFyaywkYUxpbmVzdHlsZSwkY3NpbXRhcmdldCwkY3NpbWFsdCwkY3NpbXdpbnRhcmdldCk7CiAgICB9CgogICAgZnVuY3Rpb24gR2V0Q1NJTUFyZWFzKCkgewogICAgICAgIHJldHVybiAkdGhpcy0+Y3NpbWFyZWFzOwogICAgfQoKICAgIGZ1bmN0aW9uIFNldEJhY2tncm91bmRHcmFkaWVudCgkYUZyb209J25hdnknLCRhVG89J3NpbHZlcicsJGFHcmFkVHlwZT0yKSB7CiAgICAgICAgJHRoaXMtPmJrZ19ncmFkdHlwZT0kYUdyYWRUeXBlOwogICAgICAgICR0aGlzLT5ia2dfZ3JhZGZyb20gPSAkYUZyb207CiAgICAgICAgJHRoaXMtPmJrZ19ncmFkdG8gPSAkYVRvOwogICAgfQoKICAgIGZ1bmN0aW9uIEhhc0l0ZW1zKCkgewogICAgICAgIHJldHVybiAoYm9vbGVhbikoY291bnQoJHRoaXMtPnR4dGNvbCkpOwogICAgfQoKICAgIGZ1bmN0aW9uIFN0cm9rZSgkYUltZykgewogICAgICAgIC8vIENvbnN0YW50CiAgICAgICAgJGZpbGxCb3hGcmFtZVdlaWdodD0xOwoKICAgICAgICBpZiggJHRoaXMtPmhpZGUgKSByZXR1cm47CgogICAgICAgICRhSW1nLT5TZXRGb250KCR0aGlzLT5mb250X2ZhbWlseSwkdGhpcy0+Zm9udF9zdHlsZSwkdGhpcy0+Zm9udF9zaXplKTsKCiAgICAgICAgaWYoICR0aGlzLT5yZXZlcnNlICkgewogICAgICAgICAgICAkdGhpcy0+dHh0Y29sID0gYXJyYXlfcmV2ZXJzZSgkdGhpcy0+dHh0Y29sKTsKICAgICAgICB9CgogICAgICAgICRuPWNvdW50KCR0aGlzLT50eHRjb2wpOwogICAgICAgIGlmKCAkbiA9PSAwICkgcmV0dXJuOwoKICAgICAgICAvLyBGaW5kIG91dCB0aGUgbWF4IHdpZHRoIGFuZCBoZWlnaHQgb2YgZWFjaCBjb2x1bW4gdG8gYmUgYWJsZQogICAgICAgIC8vIHRvIHNpemUgdGhlIGxlZ2VuZCBib3guCiAgICAgICAgJG51bWNvbHVtbnMgPSAoJG4gPiAkdGhpcy0+bGF5b3V0X24gPyAkdGhpcy0+bGF5b3V0X24gOiAkbik7CiAgICAgICAgZm9yKCAkaT0wOyAkaSA8ICRudW1jb2x1bW5zOyArKyRpICkgewogICAgICAgICAgICAkY29sd2lkdGhbJGldID0gJGFJbWctPkdldFRleHRXaWR0aCgkdGhpcy0+dHh0Y29sWyRpXVswXSkgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgMiokdGhpcy0+eG1hcmdpbiArIDIqJHRoaXMtPm1hcmtfYWJzX2hzaXplOwogICAgICAgICAgICAkY29saGVpZ2h0WyRpXSA9IDA7CgogICAgICAgIH0KCiAgICAgICAgLy8gRmluZCBvdXIgbWF4aW11bSBoZWlnaHQgaW4gZWFjaCByb3cKICAgICAgICAkcm93cyA9IDAgOyAkcm93aGVpZ2h0WzBdID0gMDsKICAgICAgICBmb3IoICRpPTA7ICRpIDwgJG47ICsrJGkgKSB7CiAgICAgICAgICAgICRoID0gbWF4KCR0aGlzLT5tYXJrX2Fic192c2l6ZSwkYUltZy0+R2V0VGV4dEhlaWdodCgkdGhpcy0+dHh0Y29sWyRpXVswXSkpKyR0aGlzLT55bGluZXNwYWNpbmc7CgogICAgICAgICAgICAvLyBNYWtlcyBzdXJlIHdlIGFsd2F5cyBoYXZlIGEgbWluaW11bSBvZiAxLzQgKDEvMiBvbiBlYWNoIHNpZGUpIG9mIHRoZSBtYXJrIGFzIHNwYWNlCiAgICAgICAgICAgIC8vIGJldHdlZW4gdHdvIHZlcnRpY2FsIGxlZ2VuZCBlbnRyaWVzCiAgICAgICAgICAgIC8vJGggPSByb3VuZChtYXgoJGgsJHRoaXMtPm1hcmtfYWJzX3ZzaXplKyR0aGlzLT55bWFyZ2luKSk7CiAgICAgICAgICAgIC8vZWNobyAiVGV4dGhlaWdodCAjJGk6IHRldHhoZWlnaHQ9Ii4kYUltZy0+R2V0VGV4dEhlaWdodCgkdGhpcy0+dHh0Y29sWyRpXVswXSkuJywgJzsKICAgICAgICAgICAgLy9lY2hvICJoPSRoICh7JHRoaXMtPm1hcmtfYWJzX3ZzaXplfSx7JHRoaXMtPnltYXJnaW59KTxicj4iOwogICAgICAgICAgICBpZiggJGkgJSAkbnVtY29sdW1ucyA9PSAwICkgewogICAgICAgICAgICAgICAgJHJvd3MrKzsKICAgICAgICAgICAgICAgICRyb3doZWlnaHRbJHJvd3MtMV0gPSAwOwogICAgICAgICAgICB9CiAgICAgICAgICAgICRyb3doZWlnaHRbJHJvd3MtMV0gPSBtYXgoJHJvd2hlaWdodFskcm93cy0xXSwkaCkrMTsKICAgICAgICB9CgogICAgICAgICRhYnNfaGVpZ2h0ID0gMDsKICAgICAgICBmb3IoICRpPTA7ICRpIDwgJHJvd3M7ICsrJGkgKSB7CiAgICAgICAgICAgICRhYnNfaGVpZ2h0ICs9ICRyb3doZWlnaHRbJGldIDsKICAgICAgICB9CgogICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBoZWlnaHQgaXMgYXQgbGVhc3QgYXMgaGlnaCBhcyBtYXJrIHNpemUgKyB5bWFyZ2luCiAgICAgICAgJGFic19oZWlnaHQgPSBtYXgoJGFic19oZWlnaHQsJHRoaXMtPm1hcmtfYWJzX3ZzaXplKTsKICAgICAgICAkYWJzX2hlaWdodCArPSAkdGhpcy0+eWJvdHRvbV9tYXJnaW47IAoKICAgICAgICAvLyBGaW5kIG91dCB0aGUgbWF4aW11bSB3aWR0aCBpbiBlYWNoIGNvbHVtbgogICAgICAgIGZvciggJGk9JG51bWNvbHVtbnM7ICRpIDwgJG47ICsrJGkgKSB7CiAgICAgICAgICAgICRjb2x3aWR0aFskaSAlICRudW1jb2x1bW5zXSA9IG1heCgKICAgICAgICAgICAgICAgICRhSW1nLT5HZXRUZXh0V2lkdGgoJHRoaXMtPnR4dGNvbFskaV1bMF0pKzIqJHRoaXMtPnhtYXJnaW4rMiokdGhpcy0+bWFya19hYnNfaHNpemUsCiAgICAgICAgICAgICAgICAkY29sd2lkdGhbJGkgJSAkbnVtY29sdW1uc10pOwogICAgICAgIH0KCiAgICAgICAgLy8gR2V0IHRoZSB0b3RhbCB3aWR0aAogICAgICAgICRtdHcgPSAwOwogICAgICAgIGZvciggJGk9MDsgJGkgPCAkbnVtY29sdW1uczsgKyskaSApIHsKICAgICAgICAgICAgJG10dyArPSAkY29sd2lkdGhbJGldIDsKICAgICAgICB9CgogICAgICAgIC8vIHJlbW92ZSB0aGUgbGFzdCByb3dzIGludGVycGFjZSBtYXJnaW4gKHNpbmNlIHRoZXJlIGlzIG5vIG5leHQgcm93KQogICAgICAgICRhYnNfaGVpZ2h0IC09ICR0aGlzLT55bGluZXNwYWNpbmc7CgoKICAgICAgICAvLyBGaW5kIG91dCBtYXhpbXVtIHdpZHRoIHdlIG5lZWQgZm9yIGxlZ2VuZCBib3gKICAgICAgICAkYWJzX3dpZHRoID0gJG10dyskdGhpcy0+eGxtYXJnaW4rKCRudW1jb2x1bW5zLTEpKiR0aGlzLT5tYXJrX2Fic19oc2l6ZTsKCiAgICAgICAgaWYoICR0aGlzLT54YWJzcG9zID09PSAtMSAgJiYgJHRoaXMtPnlhYnNwb3MgPT09IC0xICkgewogICAgICAgICAgICAkdGhpcy0+eGFic3BvcyA9ICR0aGlzLT54cG9zKiRhSW1nLT53aWR0aCA7CiAgICAgICAgICAgICR0aGlzLT55YWJzcG9zID0gJHRoaXMtPnlwb3MqJGFJbWctPmhlaWdodCA7CiAgICAgICAgfQoKICAgICAgICAvLyBQb3NpdGlvbmluZyBvZiB0aGUgbGVnZW5kIGJveAogICAgICAgIGlmKCAkdGhpcy0+aGFsaWduID09ICdsZWZ0JyApIHsKICAgICAgICAJJHhwID0gJHRoaXMtPnhhYnNwb3M7CiAgICAgICAgfQogICAgICAgIGVsc2VpZiggJHRoaXMtPmhhbGlnbiA9PSAnY2VudGVyJyApIHsKICAgICAgICAJJHhwID0gJHRoaXMtPnhhYnNwb3MgLSAkYWJzX3dpZHRoLzI7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgIAkkeHAgPSAkYUltZy0+d2lkdGggLSAkdGhpcy0+eGFic3BvcyAtICRhYnNfd2lkdGg7CiAgICAgICAgfQoKICAgICAgICAkeXA9JHRoaXMtPnlhYnNwb3M7CiAgICAgICAgaWYoICR0aGlzLT52YWxpZ24gPT0gJ2NlbnRlcicgKSB7CiAgICAgICAgCSR5cC09JGFic19oZWlnaHQvMjsKICAgICAgICB9CiAgICAgICAgZWxzZWlmKCAkdGhpcy0+dmFsaWduID09ICdib3R0b20nICkgewogICAgICAgIAkkeXAtPSRhYnNfaGVpZ2h0OwogICAgICAgIH0KCiAgICAgICAgLy8gU3Ryb2tlIGxlZ2VuZCBib3gKICAgICAgICAkYUltZy0+U2V0Q29sb3IoJHRoaXMtPmNvbG9yKTsKICAgICAgICAkYUltZy0+U2V0TGluZVdlaWdodCgkdGhpcy0+ZnJhbWV3ZWlnaHQpOwogICAgICAgICRhSW1nLT5TZXRMaW5lU3R5bGUoJ3NvbGlkJyk7CgogICAgICAgIGlmKCAkdGhpcy0+c2hhZG93ICkgewogICAgICAgIAkkYUltZy0+U2hhZG93UmVjdGFuZ2xlKCR4cCwkeXAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHhwKyRhYnNfd2lkdGgrJHRoaXMtPnNoYWRvd193aWR0aCsyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR5cCskYWJzX2hlaWdodCskdGhpcy0+c2hhZG93X3dpZHRoKzIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmZpbGxfY29sb3IsJHRoaXMtPnNoYWRvd193aWR0aCsyLCR0aGlzLT5zaGFkb3dfY29sb3IpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJGFJbWctPlNldENvbG9yKCR0aGlzLT5maWxsX2NvbG9yKTsKICAgICAgICAgICAgJGFJbWctPkZpbGxlZFJlY3RhbmdsZSgkeHAsJHlwLCR4cCskYWJzX3dpZHRoLCR5cCskYWJzX2hlaWdodCk7CiAgICAgICAgICAgICRhSW1nLT5TZXRDb2xvcigkdGhpcy0+Y29sb3IpOwogICAgICAgICAgICAkYUltZy0+UmVjdGFuZ2xlKCR4cCwkeXAsJHhwKyRhYnNfd2lkdGgsJHlwKyRhYnNfaGVpZ2h0KTsKICAgICAgICB9CgogICAgICAgIGlmKCAkdGhpcy0+YmtnX2dyYWR0eXBlID49IDAgKSB7CiAgICAgICAgICAgICRncmFkID0gbmV3IEdyYWRpZW50KCRhSW1nKTsKICAgICAgICAgICAgJGdyYWQtPkZpbGxlZFJlY3RhbmdsZSgkeHArMSwgJHlwKzEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHhwKyRhYnNfd2lkdGgtMywgJHlwKyRhYnNfaGVpZ2h0LTMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmJrZ19ncmFkZnJvbSwgJHRoaXMtPmJrZ19ncmFkdG8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmJrZ19ncmFkdHlwZSk7CiAgICAgICAgfQoKICAgICAgICAvLyB4MSx5MSBpcyB0aGUgcG9zaXRpb24gZm9yIHRoZSBsZWdlbmQgbWFya2VyICsgdGV4dAogICAgICAgIC8vIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiBpcyB0aGUgYmFzZWxpbmUgcG9zaXRpb24gZm9yIHRoZSB0ZXh0CiAgICAgICAgLy8gYW5kIGV2ZXJ5IG1hcmtlciBpcyBhZGp1c3RlZCBhY29yZGluZyB0byB0aGF0LgoKICAgICAgICAvLyBGb3IgbXVsdGlsaW5lIHRleHRzIHRoaXMgZ2V0IG1vcmUgY29tcGxpY2F0ZWQuCgogICAgICAgICR4MSA9ICR4cCArICR0aGlzLT54bG1hcmdpbjsKICAgICAgICAkeTEgPSAkeXAgKyAkcm93aGVpZ2h0WzBdIC0gJHRoaXMtPnlsaW5lc3BhY2luZyArIDIgOyAvLyBUaGUgeW1hcmdpbiBpcyBpbmNsdWRlZCBpbiByb3doZWlnaHQKCiAgICAgICAgLy8gTm93LCB5MSBpcyB0aGUgYm90dG9tIHZlcnRpY2FsIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBsZWdlbmQsIGkuZSBpZgogICAgICAgIC8vIHRoZSBsZWdlbmQgaGFzIG11bHRpcGxlIGxpbmVzIGl0IGlzIHRoZSBib3R0b20gbGluZS4KCiAgICAgICAgJGdyYWQgPSBuZXcgR3JhZGllbnQoJGFJbWcpOwogICAgICAgICRwYXR0ZXJuRmFjdG9yeSA9IG51bGw7CgogICAgICAgIC8vIE5vdyBzdHJva2UgZWFjaCBsZWdlbmQgaW4gdHVybgogICAgICAgIC8vIEVhY2ggcGxvdCBoYXMgYWRkZWQgdGhlIGZvbGxvd2luZyBpbmZvcm1hdGlvbiB0byAgdGhlIGxlZ2VuZAogICAgICAgIC8vIHBbMF0gPSBMZWdlbmQgdGV4dAogICAgICAgIC8vIHBbMV0gPSBDb2xvciwKICAgICAgICAvLyBwWzJdID0gRm9yIG1hcmtlcnMgYSByZWZlcmVuY2UgdG8gdGhlIFBsb3RNYXJrIG9iamVjdAogICAgICAgIC8vIHBbM10gPSBGb3IgbGluZXMgdGhlIGxpbmUgc3R5bGUsIGZvciBncmFkaWVudCB0aGUgbmVnYXRpdmUgZ3JhZGllbnQgc3R5bGUKICAgICAgICAvLyBwWzRdID0gQ1NJTSB0YXJnZXQKICAgICAgICAvLyBwWzVdID0gQ1NJTSBBbHQgdGV4dAogICAgICAgICRpID0gMSA7ICRyb3cgPSAwOwogICAgICAgIGZvcmVhY2goJHRoaXMtPnR4dGNvbCBhcyAkcCkgewoKICAgICAgICAgICAgLy8gU1RST0tFIERFQlVHIEJPWAogICAgICAgICAgICBpZiggX0pQR19ERUJVRyApIHsKICAgICAgICAgICAgICAgICRhSW1nLT5TZXRMaW5lV2VpZ2h0KDEpOwogICAgICAgICAgICAgICAgJGFJbWctPlNldENvbG9yKCdyZWQnKTsKICAgICAgICAgICAgICAgICRhSW1nLT5TZXRMaW5lU3R5bGUoJ3NvbGlkJyk7CiAgICAgICAgICAgICAgICAkYUltZy0+UmVjdGFuZ2xlKCR4MSwkeTEsJHhwKyRhYnNfd2lkdGgtMSwkeTEtJHJvd2hlaWdodFskcm93XSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRhSW1nLT5TZXRMaW5lV2VpZ2h0KCR0aGlzLT53ZWlnaHQpOwogICAgICAgICAgICAkeDEgPSByb3VuZCgkeDEpKzE7IC8vIFdlIGFkZCBvbmUgdG8gbm90IGNvbGxpZGUgd2l0aCB0aGUgYm9yZGVyCiAgICAgICAgICAgICR5MT1yb3VuZCgkeTEpOwoKICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgY2VudGVyIG9mZnNldCB1cCBmcm9tIHRoZSBiYXNlbGluZSB3aGljaCBpcwogICAgICAgICAgICAvLyBjb25zaWRlcmVkIHRoZSAiY2VudGVyIiBvZiB0aGUgbWFya3MuIFRoaXMgZ2V0cyBzbGlnaHRseSBjb21wbGljYXRlZCBzaW5jZQogICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGNvbnNpZGVyIGlmIHRoZSB0ZXh0IGlzIGEgbXVsdGlsaW5lIHBhcmFncmFwaCBvciBpZiBpdCBpcyBvbmx5CiAgICAgICAgICAgIC8vIGEgc2luZ2xlIGxpbmUuIFRoZSByZWFzb24gaXMgdGhhdCBmb3Igc2luZ2xlIGxpbmUgdGhlIHkxIGNvcnJlc3BvbmRzIHRvIHRoZSBiYXNlbGluZQogICAgICAgICAgICAvLyBhbmQgdGhhdCBpcyBmaW5lLiBIb3dldmVyIGZvciBhIG11bHRpbGluZSBwYXJhZ3JhcGggdGhlcmUgaXMgbm8gc2luZ2xlIGJhc2VsaW5lCiAgICAgICAgICAgIC8vIGFuZCBpbiB0aGF0IGNhc2UgdGhlIHkxIGNvcnJlc3BvbmRzIHRvIHRoZSBsb3dlc3QgeSBmb3IgdGhlIGJvdW5kaW5nIGJveC4gSW4gdGhhdAogICAgICAgICAgICAvLyBjYXNlIHdlIGNlbnRlciB0aGUgbWFyayBpbiB0aGUgbWlkZGxlIG9mIHRoZSBwYXJhZ3JhcGgKICAgICAgICAgICAgaWYoICFwcmVnX21hdGNoKCcvXG4vJywkcFswXSkgKSB7CiAgICAgICAgICAgICAgICAvLyBTaW5nbGUgbGluZQogICAgICAgICAgICAgICAgJG1hcmt5ID0gY2VpbCgkeTEtJHRoaXMtPm1hcmtfYWJzX3ZzaXplLzIpLTE7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBQYXJhZ3JhcGgKICAgICAgICAgICAgICAgICRtYXJreSA9ICR5MSAtICRhSW1nLT5HZXRUZXh0SGVpZ2h0KCRwWzBdKS8yOwoKICAgICAgICAgICAgICAvLyAgZWNobyAieTE9JHkxLCBwW29dPXskcFswXX0sIG1hcmt5PSRtYXJreTxicj4iOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvL2VjaG8gIjxicj5NYXJrICMkaTogbWFya3k9JG1hcmt5PGJyPiI7CgogICAgICAgICAgICAkeDEgKz0gJHRoaXMtPm1hcmtfYWJzX2hzaXplOwogICAgCiAgICAgICAgICAgIGlmICggIWVtcHR5KCRwWzJdKSAmJiAkcFsyXS0+R2V0VHlwZSgpID4gLTEgKSB7CgoKICAgICAgICAgICAgICAgIC8vIE1ha2UgYSBwbG90IG1hcmsgbGVnZW5kLiBUaGlzIGlzIGNvbnN0cnVjdGVkIHdpdGggYSBtYXJrIHdoaWNoCiAgICAgICAgICAgICAgICAvLyBpcyBydW4gdGhyb3VnaCB3aXRoIGEgbGluZQoKICAgICAgICAgICAgICAgIC8vIEZpcnN0IGNvbnN0cnVjdCBhIGJpdCBvZiB0aGUgbGluZSB0aGF0IGxvb2tzIGV4YWN0bHkgbGlrZSB0aGUKICAgICAgICAgICAgICAgIC8vIGxpbmUgaW4gdGhlIHBsb3QKICAgICAgICAgICAgICAgICRhSW1nLT5TZXRDb2xvcigkcFsxXSk7CiAgICAgICAgICAgICAgICBpZiggaXNfc3RyaW5nKCRwWzNdKSB8fCAkcFszXT4wICkgewogICAgICAgICAgICAgICAgICAgICRhSW1nLT5TZXRMaW5lU3R5bGUoJHBbM10pOwogICAgICAgICAgICAgICAgICAgICRhSW1nLT5TdHlsZUxpbmUoJHgxLSR0aGlzLT5tYXJrX2Fic19oc2l6ZSwkbWFya3ksJHgxKyR0aGlzLT5tYXJrX2Fic19oc2l6ZSwkbWFya3kpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIFN0cm9rZSBhIG1hcmsgdXNpbmcgaW1hZ2UKICAgICAgICAgICAgICAgIGlmKCAkcFsyXS0+R2V0VHlwZSgpID09IE1BUktfSU1HICkgewogICAgICAgICAgICAgICAgICAgICRwWzJdLT5TdHJva2UoJGFJbWcsJHgxLCRtYXJreSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gU3Ryb2tlIGEgbWFyayB3aXRoIHRoZSBzdGFuZGFyZCBzaXplCiAgICAgICAgICAgICAgICAvLyAoQXMgbG9uZyBhcyBpdCBpcyBub3QgYW4gaW1hZ2UgbWFyayApCiAgICAgICAgICAgICAgICBpZiggJHBbMl0tPkdldFR5cGUoKSAhPSBNQVJLX0lNRyApIHsKCiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgYW55IHVzZXIgY2FsbGJhY2tzIHNpbmNlIHdlIG9udCB3YW50IHRoZW0gY2FsbGVkIGZvcgogICAgICAgICAgICAgICAgICAgIC8vIHRoZSBsZWdlbmQgbWFya3MKICAgICAgICAgICAgICAgICAgICAkcFsyXS0+aUZvcm1hdENhbGxiYWNrID0gJyc7CiAgICAgICAgICAgICAgICAgICAgJHBbMl0tPmlGb3JtYXRDYWxsYmFjazIgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgLy8gU2luY2Ugc2l6ZSBmb3IgY2lyY2xlcyBpcyBzcGVjaWZpZWQgYXMgdGhlIHJhZGl1cwogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCB3ZSBtdXN0IGhhbGYgdGhlIHNpemUgdG8gbWFrZSB0aGUgdG90YWwKICAgICAgICAgICAgICAgICAgICAvLyB3aWR0aCBiZWhhdmUgYXMgdGhlIG90aGVyIG1hcmtzCiAgICAgICAgICAgICAgICAgICAgaWYoICRwWzJdLT5HZXRUeXBlKCkgPT0gTUFSS19GSUxMRURDSVJDTEUgfHwgJHBbMl0tPkdldFR5cGUoKSA9PSBNQVJLX0NJUkNMRSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHBbMl0tPlNldFNpemUobWluKCR0aGlzLT5tYXJrX2Fic192c2l6ZSwkdGhpcy0+bWFya19hYnNfaHNpemUpLzIpOwogICAgICAgICAgICAgICAgICAgICAgICAkcFsyXS0+U3Ryb2tlKCRhSW1nLCR4MSwkbWFya3kpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHBbMl0tPlNldFNpemUobWluKCR0aGlzLT5tYXJrX2Fic192c2l6ZSwkdGhpcy0+bWFya19hYnNfaHNpemUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgJHBbMl0tPlN0cm9rZSgkYUltZywkeDEsJG1hcmt5KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmICggIWVtcHR5KCRwWzJdKSAmJiAoaXNfc3RyaW5nKCRwWzNdKSB8fCAkcFszXT4wICkgKSB7CiAgICAgICAgICAgICAgICAvLyBEcmF3IGEgc3R5bGVkIGxpbmUKICAgICAgICAgICAgICAgICRhSW1nLT5TZXRDb2xvcigkcFsxXSk7CiAgICAgICAgICAgICAgICAkYUltZy0+U2V0TGluZVN0eWxlKCRwWzNdKTsKICAgICAgICAgICAgICAgICRhSW1nLT5TdHlsZUxpbmUoJHgxLSR0aGlzLT5tYXJrX2Fic19oc2l6ZSwkbWFya3ksJHgxKyR0aGlzLT5tYXJrX2Fic19oc2l6ZSwkbWFya3kpOwogICAgICAgICAgICAgICAgJGFJbWctPlN0eWxlTGluZSgkeDEtJHRoaXMtPm1hcmtfYWJzX2hzaXplLCRtYXJreSsxLCR4MSskdGhpcy0+bWFya19hYnNfaHNpemUsJG1hcmt5KzEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgLy8gRHJhdyBhIGNvbG9yZWQgYm94CiAgICAgICAgICAgICAgICAkY29sb3IgPSAkcFsxXSA7CgogICAgICAgICAgICAgICAgLy8gV2UgbWFrZSBib3hlcyBzbGlnaHRseSBsYXJnZXIgdG8gYmV0dGVyIHNob3cKICAgICAgICAgICAgICAgICRib3hzaXplID0gbWF4KCR0aGlzLT5tYXJrX2Fic192c2l6ZSwkdGhpcy0+bWFya19hYnNfaHNpemUpICsgMiA7CgogICAgICAgICAgICAgICAgJHltID0gJG1hcmt5LWNlaWwoJGJveHNpemUvMikgOyAvLyBNYXJrZXIgeS1jb29yZGluYXRlCgogICAgICAgICAgICAgICAgLy8gV2UgZWl0aGVyIG5lZWQgdG8gcGxvdCBhIGdyYWRpZW50IG9yIGEKICAgICAgICAgICAgICAgIC8vIHBhdHRlcm4uIFRvIGRpZmZlcmVudGlhdGUgd2UgdXNlIGEga2x1ZGdlLgogICAgICAgICAgICAgICAgLy8gUGF0dGVybnMgaGF2ZSBhIHBbM10gdmFsdWUgb2YgPCAtMTAwCiAgICAgICAgICAgICAgICBpZiggJHBbM10gPCAtMTAwICkgewogICAgICAgICAgICAgICAgICAgIC8vIHBbMV1bMF0gPT0gaVBhdHRlcm4sIHBbMV1bMV0gPT0gaVBhdHRlcm5Db2xvciwgcFsxXVsyXSA9PSBpUGF0dGVybkRlbnNpdHkKICAgICAgICAgICAgICAgICAgICBpZiggJHBhdHRlcm5GYWN0b3J5ID09IG51bGwgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRwYXR0ZXJuRmFjdG9yeSA9IG5ldyBSZWN0UGF0dGVybkZhY3RvcnkoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJHByZWN0ID0gJHBhdHRlcm5GYWN0b3J5LT5DcmVhdGUoJHBbMV1bMF0sJHBbMV1bMV0sMSk7CiAgICAgICAgICAgICAgICAgICAgJHByZWN0LT5TZXRCYWNrZ3JvdW5kKCRwWzFdWzNdKTsKICAgICAgICAgICAgICAgICAgICAkcHJlY3QtPlNldERlbnNpdHkoJHBbMV1bMl0rMSk7CiAgICAgICAgICAgICAgICAgICAgJHByZWN0LT5TZXRQb3MobmV3IFJlY3RhbmdsZSgkeDEsJHltLCRib3hzaXplLCRib3hzaXplKSk7CiAgICAgICAgICAgICAgICAgICAgJHByZWN0LT5TdHJva2UoJGFJbWcpOwogICAgICAgICAgICAgICAgICAgICRwcmVjdD1udWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYoIGlzX2FycmF5KCRjb2xvcikgJiYgY291bnQoJGNvbG9yKT09MiApIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGNsaWVudCB3YW50IGEgZ3JhZGllbnQgY29sb3IKICAgICAgICAgICAgICAgICAgICAgICAgJGdyYWQtPkZpbGxlZFJlY3RhbmdsZSgkeDEtJGJveHNpemUvMiwkeW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHgxKyRib3hzaXplLzIsJHltKyRib3hzaXplLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb2xvclswXSwkY29sb3JbMV0sLSRwWzNdKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRhSW1nLT5TZXRDb2xvcigkcFsxXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICRhSW1nLT5GaWxsZWRSZWN0YW5nbGUoJHgxLSRib3hzaXplLzIsJHltLCAkeDErJGJveHNpemUvMiwkeW0rJGJveHNpemUpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8gRHJhdyBhIHBsb3QgZnJhbWUgbGluZQogICAgICAgICAgICAgICAgICAgICRhSW1nLT5TZXRDb2xvcigkdGhpcy0+Y29sb3IpOwogICAgICAgICAgICAgICAgICAgICRhSW1nLT5TZXRMaW5lV2VpZ2h0KCRmaWxsQm94RnJhbWVXZWlnaHQpOwogICAgICAgICAgICAgICAgICAgICRhSW1nLT5SZWN0YW5nbGUoJHgxLSRib3hzaXplLzIsJHltLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHgxKyRib3hzaXplLzIsJHltKyRib3hzaXplKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkYUltZy0+U2V0Q29sb3IoJHRoaXMtPmZvbnRfY29sb3IpOwogICAgICAgICAgICAkYUltZy0+U2V0Rm9udCgkdGhpcy0+Zm9udF9mYW1pbHksJHRoaXMtPmZvbnRfc3R5bGUsJHRoaXMtPmZvbnRfc2l6ZSk7CiAgICAgICAgICAgICRhSW1nLT5TZXRUZXh0QWxpZ24oJ2xlZnQnLCdiYXNlbGluZScpOwoKICAgICAgICAgICAgJGRlYnVnPWZhbHNlOwogICAgICAgICAgICAkYUltZy0+U3Ryb2tlVGV4dCgkeDErJHRoaXMtPm1hcmtfYWJzX2hzaXplKyR0aGlzLT54bWFyZ2luLCR5MSwkcFswXSwKICAgICAgICAgICAgICAgIDAsJ2xlZnQnLCRkZWJ1Zyk7CgogICAgICAgICAgICAvLyBBZGQgQ1NJTSBmb3IgTGVnZW5kIGlmIGRlZmluZWQKICAgICAgICAgICAgaWYoICFlbXB0eSgkcFs0XSkgKSB7CgogICAgICAgICAgICAgICAgJHhzID0gJHgxIC0gJHRoaXMtPm1hcmtfYWJzX2hzaXplIDsKICAgICAgICAgICAgICAgICR5cyA9ICR5MSArIDEgOwogICAgICAgICAgICAgICAgJHhlID0gJHgxICsgJGFJbWctPkdldFRleHRXaWR0aCgkcFswXSkgKyAkdGhpcy0+bWFya19hYnNfaHNpemUgKyAkdGhpcy0+eG1hcmdpbiA7CiAgICAgICAgICAgICAgICAkeWUgPSAkeTEtJHJvd2hlaWdodFskcm93XSsxOwogICAgICAgICAgICAgICAgJGNvb3JkcyA9ICIkeHMsJHlzLCR4ZSwkeTEsJHhlLCR5ZSwkeHMsJHllIjsKICAgICAgICAgICAgICAgIGlmKCAhIGVtcHR5KCRwWzRdKSApIHsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+Y3NpbWFyZWFzIC49ICI8YXJlYSBzaGFwZT1cInBvbHlcIiBjb29yZHM9XCIkY29vcmRzXCIgaHJlZj1cIiIuaHRtbGVudGl0aWVzKCRwWzRdKS4iXCIiOwoKICAgICAgICAgICAgICAgICAgICBpZiggIWVtcHR5KCRwWzZdKSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmNzaW1hcmVhcyAuPSAiIHRhcmdldD1cIiIuJHBbNl0uIlwiIjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmKCAhZW1wdHkoJHBbNV0pICkgewogICAgICAgICAgICAgICAgICAgICAgICAkdG1wPXNwcmludGYoJHBbNV0sJHBbMF0pOwogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+Y3NpbWFyZWFzIC49ICIgdGl0bGU9XCIkdG1wXCIgYWx0PVwiJHRtcFwiICI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICR0aGlzLT5jc2ltYXJlYXMgLj0gIiAvPlxuIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYoICRpID49ICR0aGlzLT5sYXlvdXRfbiApIHsKICAgICAgICAgICAgICAgICR4MSA9ICR4cCskdGhpcy0+eGxtYXJnaW47CiAgICAgICAgICAgICAgICAkcm93Kys7CiAgICAgICAgICAgICAgICBpZiggIWVtcHR5KCRyb3doZWlnaHRbJHJvd10pICkKICAgICAgICAgICAgICAgICAgICAkeTEgKz0gJHJvd2hlaWdodFskcm93XTsKICAgICAgICAgICAgICAgICRpID0gMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICR4MSArPSAkY29sd2lkdGhbKCRpLTEpICUgJG51bWNvbHVtbnNdIDsKICAgICAgICAgICAgICAgICsrJGk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0gLy8gQ2xhc3MKCj8+Cg==",
    "size": "18028"
}