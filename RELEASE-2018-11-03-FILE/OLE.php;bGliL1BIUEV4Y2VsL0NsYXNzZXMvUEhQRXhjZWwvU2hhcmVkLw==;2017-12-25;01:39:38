{
    "namaFile": "lib\/PHPExcel\/Classes\/PHPExcel\/Shared\/OLE.php",
    "lastUpdate": "2017-12-25+01:39:38.00",
    "contentFile": "PD9waHAKLyogdmltOiBzZXQgZXhwYW5kdGFiIHRhYnN0b3A9NCBzaGlmdHdpZHRoPTQ6ICovCi8vICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwovLyB8IFBIUCBWZXJzaW9uIDQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKLy8gKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCi8vIHwgQ29weXJpZ2h0IChjKSAxOTk3LTIwMDIgVGhlIFBIUCBHcm91cCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAovLyArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKLy8gfCBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdmVyc2lvbiAyLjAyIG9mIHRoZSBQSFAgbGljZW5zZSwgICAgICB8Ci8vIHwgdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UsIGFuZCBpcyAgICAgICAgfAovLyB8IGF2YWlsYWJsZSBhdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKLy8gfCBodHRwOi8vd3d3LnBocC5uZXQvbGljZW5zZS8yXzAyLnR4dC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8Ci8vIHwgSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIFBIUCBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvICAgfAovLyB8IG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYSBub3RlIHRvICAgICAgICAgIHwKLy8gfCBsaWNlbnNlQHBocC5uZXQgc28gd2UgY2FuIG1haWwgeW91IGEgY29weSBpbW1lZGlhdGVseS4gICAgICAgICAgICAgICB8Ci8vICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwovLyB8IEF1dGhvcjogWGF2aWVyIE5vZ3VlciA8eG5vZ3VlckBwaHAubmV0PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKLy8gfCBCYXNlZCBvbiBPTEU6OlN0b3JhZ2VfTGl0ZSBieSBLYXdhaSwgVGFrYW5vcmkgICAgICAgICAgICAgICAgICAgICAgICB8Ci8vICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwovLwovLyAkSWQ6IE9MRS5waHAsdiAxLjEzIDIwMDcvMDMvMDcgMTQ6Mzg6MjUgc2NobWlkdCBFeHAgJAoKCi8qKgoqIEFycmF5IGZvciBzdG9yaW5nIE9MRSBpbnN0YW5jZXMgdGhhdCBhcmUgYWNjZXNzZWQgZnJvbQoqIE9MRV9DaGFpbmVkQmxvY2tTdHJlYW06OnN0cmVhbV9vcGVuKCkuCiogQHZhciAgYXJyYXkKKi8KJEdMT0JBTFNbJ19PTEVfSU5TVEFOQ0VTJ10gPSBhcnJheSgpOwoKLyoqCiogT0xFIHBhY2thZ2UgYmFzZSBjbGFzcy4KKgoqIEBhdXRob3IgICBYYXZpZXIgTm9ndWVyIDx4bm9ndWVyQHBocC5uZXQ+CiogQGF1dGhvciAgIENocmlzdGlhbiBTY2htaWR0IDxzY2htaWR0QHBocC5uZXQ+CiogQGNhdGVnb3J5ICAgUEhQRXhjZWwKKiBAcGFja2FnZSAgICBQSFBFeGNlbF9TaGFyZWRfT0xFCiovCmNsYXNzIFBIUEV4Y2VsX1NoYXJlZF9PTEUKewogICAgY29uc3QgT0xFX1BQU19UWVBFX1JPT1QgICA9ICAgICAgNTsKICAgIGNvbnN0IE9MRV9QUFNfVFlQRV9ESVIgICAgPSAgICAgIDE7CiAgICBjb25zdCBPTEVfUFBTX1RZUEVfRklMRSAgID0gICAgICAyOwogICAgY29uc3QgT0xFX0RBVEFfU0laRV9TTUFMTCA9IDB4MTAwMDsKICAgIGNvbnN0IE9MRV9MT05HX0lOVF9TSVpFICAgPSAgICAgIDQ7CiAgICBjb25zdCBPTEVfUFBTX1NJWkUgICAgICAgID0gICAweDgwOwoKICAgIC8qKgogICAgICogVGhlIGZpbGUgaGFuZGxlIGZvciByZWFkaW5nIGFuIE9MRSBjb250YWluZXIKICAgICAqIEB2YXIgcmVzb3VyY2UKICAgICovCiAgICBwdWJsaWMgJF9maWxlX2hhbmRsZTsKCiAgICAvKioKICAgICogQXJyYXkgb2YgUFBTJ3MgZm91bmQgb24gdGhlIE9MRSBjb250YWluZXIKICAgICogQHZhciBhcnJheQogICAgKi8KICAgIHB1YmxpYyAkX2xpc3QgPSBhcnJheSgpOwoKICAgIC8qKgogICAgICogUm9vdCBkaXJlY3Rvcnkgb2YgT0xFIGNvbnRhaW5lcgogICAgICogQHZhciBPTEVfUFBTX1Jvb3QKICAgICovCiAgICBwdWJsaWMgJHJvb3Q7CgogICAgLyoqCiAgICAgKiBCaWcgQmxvY2sgQWxsb2NhdGlvbiBUYWJsZQogICAgICogQHZhciBhcnJheSAgKGJsb2NrSWQgPT4gbmV4dEJsb2NrSWQpCiAgICAqLwogICAgcHVibGljICRiYmF0OwoKICAgIC8qKgogICAgICogU2hvcnQgQmxvY2sgQWxsb2NhdGlvbiBUYWJsZQogICAgICogQHZhciBhcnJheSAgKGJsb2NrSWQgPT4gbmV4dEJsb2NrSWQpCiAgICAqLwogICAgcHVibGljICRzYmF0OwoKICAgIC8qKgogICAgICogU2l6ZSBvZiBiaWcgYmxvY2tzLiBUaGlzIGlzIHVzdWFsbHkgNTEyLgogICAgICogQHZhciAgaW50ICBudW1iZXIgb2Ygb2N0ZXRzIHBlciBibG9jay4KICAgICovCiAgICBwdWJsaWMgJGJpZ0Jsb2NrU2l6ZTsKCiAgICAvKioKICAgICAqIFNpemUgb2Ygc21hbGwgYmxvY2tzLiBUaGlzIGlzIHVzdWFsbHkgNjQuCiAgICAgKiBAdmFyICBpbnQgIG51bWJlciBvZiBvY3RldHMgcGVyIGJsb2NrCiAgICAqLwogICAgcHVibGljICRzbWFsbEJsb2NrU2l6ZTsKCiAgICAvKioKICAgICAqIFJlYWRzIGFuIE9MRSBjb250YWluZXIgZnJvbSB0aGUgY29udGVudHMgb2YgdGhlIGZpbGUgZ2l2ZW4uCiAgICAgKgogICAgICogQGFjY2VzIHB1YmxpYwogICAgICogQHBhcmFtIHN0cmluZyAkZmlsZQogICAgICogQHJldHVybiBtaXhlZCB0cnVlIG9uIHN1Y2Nlc3MsIFBFQVJfRXJyb3Igb24gZmFpbHVyZQogICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiByZWFkKCRmaWxlKQogICAgewogICAgICAgICRmaCA9IGZvcGVuKCRmaWxlLCAiciIpOwogICAgICAgIGlmICghJGZoKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBQSFBFeGNlbF9SZWFkZXJfRXhjZXB0aW9uKCJDYW4ndCBvcGVuIGZpbGUgJGZpbGUiKTsKICAgICAgICB9CiAgICAgICAgJHRoaXMtPl9maWxlX2hhbmRsZSA9ICRmaDsKCiAgICAgICAgJHNpZ25hdHVyZSA9IGZyZWFkKCRmaCwgOCk7CiAgICAgICAgaWYgKCJceEQwXHhDRlx4MTFceEUwXHhBMVx4QjFceDFBXHhFMSIgIT0gJHNpZ25hdHVyZSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfUmVhZGVyX0V4Y2VwdGlvbigiRmlsZSBkb2Vzbid0IHNlZW0gdG8gYmUgYW4gT0xFIGNvbnRhaW5lci4iKTsKICAgICAgICB9CiAgICAgICAgZnNlZWsoJGZoLCAyOCk7CiAgICAgICAgaWYgKGZyZWFkKCRmaCwgMikgIT0gIlx4RkVceEZGIikgewogICAgICAgICAgICAvLyBUaGlzIHNob3VsZG4ndCBiZSBhIHByb2JsZW0gaW4gcHJhY3RpY2UKICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX1JlYWRlcl9FeGNlcHRpb24oIk9ubHkgTGl0dGxlLUVuZGlhbiBlbmNvZGluZyBpcyBzdXBwb3J0ZWQuIik7CiAgICAgICAgfQogICAgICAgIC8vIFNpemUgb2YgYmxvY2tzIGFuZCBzaG9ydCBibG9ja3MgaW4gYnl0ZXMKICAgICAgICAkdGhpcy0+YmlnQmxvY2tTaXplID0gcG93KDIsIHNlbGY6Ol9yZWFkSW50MigkZmgpKTsKICAgICAgICAkdGhpcy0+c21hbGxCbG9ja1NpemUgID0gcG93KDIsIHNlbGY6Ol9yZWFkSW50MigkZmgpKTsKCiAgICAgICAgLy8gU2tpcCBVSUQsIHJldmlzaW9uIG51bWJlciBhbmQgdmVyc2lvbiBudW1iZXIKICAgICAgICBmc2VlaygkZmgsIDQ0KTsKICAgICAgICAvLyBOdW1iZXIgb2YgYmxvY2tzIGluIEJpZyBCbG9jayBBbGxvY2F0aW9uIFRhYmxlCiAgICAgICAgJGJiYXRCbG9ja0NvdW50ID0gc2VsZjo6X3JlYWRJbnQ0KCRmaCk7CgogICAgICAgIC8vIFJvb3QgY2hhaW4gMXN0IGJsb2NrCiAgICAgICAgJGRpcmVjdG9yeUZpcnN0QmxvY2tJZCA9IHNlbGY6Ol9yZWFkSW50NCgkZmgpOwoKICAgICAgICAvLyBTa2lwIHVudXNlZCBieXRlcwogICAgICAgIGZzZWVrKCRmaCwgNTYpOwogICAgICAgIC8vIFN0cmVhbXMgc2hvcnRlciB0aGFuIHRoaXMgYXJlIHN0b3JlZCB1c2luZyBzbWFsbCBibG9ja3MKICAgICAgICAkdGhpcy0+YmlnQmxvY2tUaHJlc2hvbGQgPSBzZWxmOjpfcmVhZEludDQoJGZoKTsKICAgICAgICAvLyBCbG9jayBpZCBvZiBmaXJzdCBzZWN0b3IgaW4gU2hvcnQgQmxvY2sgQWxsb2NhdGlvbiBUYWJsZQogICAgICAgICRzYmF0Rmlyc3RCbG9ja0lkID0gc2VsZjo6X3JlYWRJbnQ0KCRmaCk7CiAgICAgICAgLy8gTnVtYmVyIG9mIGJsb2NrcyBpbiBTaG9ydCBCbG9jayBBbGxvY2F0aW9uIFRhYmxlCiAgICAgICAgJHNiYmF0QmxvY2tDb3VudCA9IHNlbGY6Ol9yZWFkSW50NCgkZmgpOwogICAgICAgIC8vIEJsb2NrIGlkIG9mIGZpcnN0IHNlY3RvciBpbiBNYXN0ZXIgQmxvY2sgQWxsb2NhdGlvbiBUYWJsZQogICAgICAgICRtYmF0Rmlyc3RCbG9ja0lkID0gc2VsZjo6X3JlYWRJbnQ0KCRmaCk7CiAgICAgICAgLy8gTnVtYmVyIG9mIGJsb2NrcyBpbiBNYXN0ZXIgQmxvY2sgQWxsb2NhdGlvbiBUYWJsZQogICAgICAgICRtYmJhdEJsb2NrQ291bnQgPSBzZWxmOjpfcmVhZEludDQoJGZoKTsKICAgICAgICAkdGhpcy0+YmJhdCA9IGFycmF5KCk7CgogICAgICAgIC8vIFJlbWFpbmluZyA0ICogMTA5IGJ5dGVzIG9mIGN1cnJlbnQgYmxvY2sgaXMgYmVnaW5uaW5nIG9mIE1hc3RlcgogICAgICAgIC8vIEJsb2NrIEFsbG9jYXRpb24gVGFibGUKICAgICAgICAkbWJhdEJsb2NrcyA9IGFycmF5KCk7CiAgICAgICAgZm9yICgkaSA9IDA7ICRpIDwgMTA5OyArKyRpKSB7CiAgICAgICAgICAgICRtYmF0QmxvY2tzW10gPSBzZWxmOjpfcmVhZEludDQoJGZoKTsKICAgICAgICB9CgogICAgICAgIC8vIFJlYWQgcmVzdCBvZiBNYXN0ZXIgQmxvY2sgQWxsb2NhdGlvbiBUYWJsZSAoaWYgYW55IGlzIGxlZnQpCiAgICAgICAgJHBvcyA9ICR0aGlzLT5fZ2V0QmxvY2tPZmZzZXQoJG1iYXRGaXJzdEJsb2NrSWQpOwogICAgICAgIGZvciAoJGkgPSAwOyAkaSA8ICRtYmJhdEJsb2NrQ291bnQ7ICsrJGkpIHsKICAgICAgICAgICAgZnNlZWsoJGZoLCAkcG9zKTsKICAgICAgICAgICAgZm9yICgkaiA9IDA7ICRqIDwgJHRoaXMtPmJpZ0Jsb2NrU2l6ZSAvIDQgLSAxOyArKyRqKSB7CiAgICAgICAgICAgICAgICAkbWJhdEJsb2Nrc1tdID0gc2VsZjo6X3JlYWRJbnQ0KCRmaCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gTGFzdCBibG9jayBpZCBpbiBlYWNoIGJsb2NrIHBvaW50cyB0byBuZXh0IGJsb2NrCiAgICAgICAgICAgICRwb3MgPSAkdGhpcy0+X2dldEJsb2NrT2Zmc2V0KHNlbGY6Ol9yZWFkSW50NCgkZmgpKTsKICAgICAgICB9CgogICAgICAgIC8vIFJlYWQgQmlnIEJsb2NrIEFsbG9jYXRpb24gVGFibGUgYWNjb3JkaW5nIHRvIGNoYWluIHNwZWNpZmllZCBieQogICAgICAgIC8vICRtYmF0QmxvY2tzCiAgICAgICAgZm9yICgkaSA9IDA7ICRpIDwgJGJiYXRCbG9ja0NvdW50OyArKyRpKSB7CiAgICAgICAgICAgICRwb3MgPSAkdGhpcy0+X2dldEJsb2NrT2Zmc2V0KCRtYmF0QmxvY2tzWyRpXSk7CiAgICAgICAgICAgIGZzZWVrKCRmaCwgJHBvcyk7CiAgICAgICAgICAgIGZvciAoJGogPSAwOyAkaiA8ICR0aGlzLT5iaWdCbG9ja1NpemUgLyA0OyArKyRqKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+YmJhdFtdID0gc2VsZjo6X3JlYWRJbnQ0KCRmaCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIFJlYWQgc2hvcnQgYmxvY2sgYWxsb2NhdGlvbiB0YWJsZSAoU0JBVCkKICAgICAgICAkdGhpcy0+c2JhdCA9IGFycmF5KCk7CiAgICAgICAgJHNob3J0QmxvY2tDb3VudCA9ICRzYmJhdEJsb2NrQ291bnQgKiAkdGhpcy0+YmlnQmxvY2tTaXplIC8gNDsKICAgICAgICAkc2JhdEZoID0gJHRoaXMtPmdldFN0cmVhbSgkc2JhdEZpcnN0QmxvY2tJZCk7CiAgICAgICAgZm9yICgkYmxvY2tJZCA9IDA7ICRibG9ja0lkIDwgJHNob3J0QmxvY2tDb3VudDsgKyskYmxvY2tJZCkgewogICAgICAgICAgICAkdGhpcy0+c2JhdFskYmxvY2tJZF0gPSBzZWxmOjpfcmVhZEludDQoJHNiYXRGaCk7CiAgICAgICAgfQogICAgICAgIGZjbG9zZSgkc2JhdEZoKTsKCiAgICAgICAgJHRoaXMtPl9yZWFkUHBzV2tzKCRkaXJlY3RvcnlGaXJzdEJsb2NrSWQpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBwYXJhbSAgaW50ICBibG9jayBpZAogICAgICogQHBhcmFtICBpbnQgIGJ5dGUgb2Zmc2V0IGZyb20gYmVnaW5uaW5nIG9mIGZpbGUKICAgICAqIEBhY2Nlc3MgcHVibGljCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBfZ2V0QmxvY2tPZmZzZXQoJGJsb2NrSWQpCiAgICB7CiAgICAgICAgcmV0dXJuIDUxMiArICRibG9ja0lkICogJHRoaXMtPmJpZ0Jsb2NrU2l6ZTsKICAgIH0KCiAgICAvKioKICAgICogUmV0dXJucyBhIHN0cmVhbSBmb3IgdXNlIHdpdGggZnJlYWQoKSBldGMuIEV4dGVybmFsIGNhbGxlcnMgc2hvdWxkCiAgICAqIHVzZSBQSFBFeGNlbF9TaGFyZWRfT0xFX1BQU19GaWxlOjpnZXRTdHJlYW0oKS4KICAgICogQHBhcmFtICAgaW50fFBQUyAgIGJsb2NrIGlkIG9yIFBQUwogICAgKiBAcmV0dXJuICByZXNvdXJjZSAgcmVhZC1vbmx5IHN0cmVhbQogICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRTdHJlYW0oJGJsb2NrSWRPclBwcykKICAgIHsKICAgICAgICBzdGF0aWMgJGlzUmVnaXN0ZXJlZCA9IGZhbHNlOwogICAgICAgIGlmICghJGlzUmVnaXN0ZXJlZCkgewogICAgICAgICAgICBzdHJlYW1fd3JhcHBlcl9yZWdpc3Rlcignb2xlLWNoYWluZWRibG9ja3N0cmVhbScsICdQSFBFeGNlbF9TaGFyZWRfT0xFX0NoYWluZWRCbG9ja1N0cmVhbScpOwogICAgICAgICAgICAkaXNSZWdpc3RlcmVkID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIC8vIFN0b3JlIGN1cnJlbnQgaW5zdGFuY2UgaW4gZ2xvYmFsIGFycmF5LCBzbyB0aGF0IGl0IGNhbiBiZSBhY2Nlc3NlZAogICAgICAgIC8vIGluIE9MRV9DaGFpbmVkQmxvY2tTdHJlYW06OnN0cmVhbV9vcGVuKCkuCiAgICAgICAgLy8gT2JqZWN0IGlzIHJlbW92ZWQgZnJvbSBzZWxmOjokaW5zdGFuY2VzIGluIE9MRV9TdHJlYW06OmNsb3NlKCkuCiAgICAgICAgJEdMT0JBTFNbJ19PTEVfSU5TVEFOQ0VTJ11bXSA9ICR0aGlzOwogICAgICAgICRpbnN0YW5jZUlkID0gZW5kKGFycmF5X2tleXMoJEdMT0JBTFNbJ19PTEVfSU5TVEFOQ0VTJ10pKTsKCiAgICAgICAgJHBhdGggPSAnb2xlLWNoYWluZWRibG9ja3N0cmVhbTovL29sZUluc3RhbmNlSWQ9JyAuICRpbnN0YW5jZUlkOwogICAgICAgIGlmICgkYmxvY2tJZE9yUHBzIGluc3RhbmNlb2YgUEhQRXhjZWxfU2hhcmVkX09MRV9QUFMpIHsKICAgICAgICAgICAgJHBhdGggLj0gJyZibG9ja0lkPScgLiAkYmxvY2tJZE9yUHBzLT5fU3RhcnRCbG9jazsKICAgICAgICAgICAgJHBhdGggLj0gJyZzaXplPScgLiAkYmxvY2tJZE9yUHBzLT5TaXplOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRwYXRoIC49ICcmYmxvY2tJZD0nIC4gJGJsb2NrSWRPclBwczsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZvcGVuKCRwYXRoLCAncicpOwogICAgfQoKICAgIC8qKgogICAgICogUmVhZHMgYSBzaWduZWQgY2hhci4KICAgICAqIEBwYXJhbSAgIHJlc291cmNlICBmaWxlIGhhbmRsZQogICAgICogQHJldHVybiAgaW50CiAgICAgKiBAYWNjZXNzIHB1YmxpYwogICAgICovCiAgICBwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBfcmVhZEludDEoJGZoKQogICAgewogICAgICAgIGxpc3QoLCAkdG1wKSA9IHVucGFjaygiYyIsIGZyZWFkKCRmaCwgMSkpOwogICAgICAgIHJldHVybiAkdG1wOwogICAgfQoKICAgIC8qKgogICAgICogUmVhZHMgYW4gdW5zaWduZWQgc2hvcnQgKDIgb2N0ZXRzKS4KICAgICAqIEBwYXJhbSAgIHJlc291cmNlICBmaWxlIGhhbmRsZQogICAgICogQHJldHVybiAgaW50CiAgICAgKiBAYWNjZXNzIHB1YmxpYwogICAgICovCiAgICBwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBfcmVhZEludDIoJGZoKQogICAgewogICAgICAgIGxpc3QoLCAkdG1wKSA9IHVucGFjaygidiIsIGZyZWFkKCRmaCwgMikpOwogICAgICAgIHJldHVybiAkdG1wOwogICAgfQoKICAgIC8qKgogICAgICogUmVhZHMgYW4gdW5zaWduZWQgbG9uZyAoNCBvY3RldHMpLgogICAgICogQHBhcmFtICAgcmVzb3VyY2UgIGZpbGUgaGFuZGxlCiAgICAgKiBAcmV0dXJuICBpbnQKICAgICAqIEBhY2Nlc3MgcHVibGljCiAgICAgKi8KICAgIHByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIF9yZWFkSW50NCgkZmgpCiAgICB7CiAgICAgICAgbGlzdCgsICR0bXApID0gdW5wYWNrKCJWIiwgZnJlYWQoJGZoLCA0KSk7CiAgICAgICAgcmV0dXJuICR0bXA7CiAgICB9CgogICAgLyoqCiAgICAqIEdldHMgaW5mb3JtYXRpb24gYWJvdXQgYWxsIFBQUydzIG9uIHRoZSBPTEUgY29udGFpbmVyIGZyb20gdGhlIFBQUyBXSydzCiAgICAqIGNyZWF0ZXMgYW4gT0xFX1BQUyBvYmplY3QgZm9yIGVhY2ggb25lLgogICAgKgogICAgKiBAYWNjZXNzIHB1YmxpYwogICAgKiBAcGFyYW0gIGludGVnZXIgIHRoZSBibG9jayBpZCBvZiB0aGUgZmlyc3QgYmxvY2sKICAgICogQHJldHVybiBtaXhlZCB0cnVlIG9uIHN1Y2Nlc3MsIFBFQVJfRXJyb3Igb24gZmFpbHVyZQogICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBfcmVhZFBwc1drcygkYmxvY2tJZCkKICAgIHsKICAgICAgICAkZmggPSAkdGhpcy0+Z2V0U3RyZWFtKCRibG9ja0lkKTsKICAgICAgICBmb3IgKCRwb3MgPSAwOzsgJHBvcyArPSAxMjgpIHsKICAgICAgICAgICAgZnNlZWsoJGZoLCAkcG9zLCBTRUVLX1NFVCk7CiAgICAgICAgICAgICRuYW1lVXRmMTYgPSBmcmVhZCgkZmgsIDY0KTsKICAgICAgICAgICAgJG5hbWVMZW5ndGggPSBzZWxmOjpfcmVhZEludDIoJGZoKTsKICAgICAgICAgICAgJG5hbWVVdGYxNiA9IHN1YnN0cigkbmFtZVV0ZjE2LCAwLCAkbmFtZUxlbmd0aCAtIDIpOwogICAgICAgICAgICAvLyBTaW1wbGUgY29udmVyc2lvbiBmcm9tIFVURi0xNkxFIHRvIElTTy04ODU5LTEKICAgICAgICAgICAgJG5hbWUgPSBzdHJfcmVwbGFjZSgiXHgwMCIsICIiLCAkbmFtZVV0ZjE2KTsKICAgICAgICAgICAgJHR5cGUgPSBzZWxmOjpfcmVhZEludDEoJGZoKTsKICAgICAgICAgICAgc3dpdGNoICgkdHlwZSkgewogICAgICAgICAgICAgICAgY2FzZSBzZWxmOjpPTEVfUFBTX1RZUEVfUk9PVDoKICAgICAgICAgICAgICAgICAgICAkcHBzID0gbmV3IFBIUEV4Y2VsX1NoYXJlZF9PTEVfUFBTX1Jvb3QobnVsbCwgbnVsbCwgYXJyYXkoKSk7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnJvb3QgPSAkcHBzOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBzZWxmOjpPTEVfUFBTX1RZUEVfRElSOgogICAgICAgICAgICAgICAgICAgICRwcHMgPSBuZXcgUEhQRXhjZWxfU2hhcmVkX09MRV9QUFMobnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgYXJyYXkoKSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIHNlbGY6Ok9MRV9QUFNfVFlQRV9GSUxFOgogICAgICAgICAgICAgICAgICAgICRwcHMgPSBuZXcgUEhQRXhjZWxfU2hhcmVkX09MRV9QUFNfRmlsZSgkbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZzZWVrKCRmaCwgMSwgU0VFS19DVVIpOwogICAgICAgICAgICAkcHBzLT5UeXBlICAgID0gJHR5cGU7CiAgICAgICAgICAgICRwcHMtPk5hbWUgICAgPSAkbmFtZTsKICAgICAgICAgICAgJHBwcy0+UHJldlBwcyA9IHNlbGY6Ol9yZWFkSW50NCgkZmgpOwogICAgICAgICAgICAkcHBzLT5OZXh0UHBzID0gc2VsZjo6X3JlYWRJbnQ0KCRmaCk7CiAgICAgICAgICAgICRwcHMtPkRpclBwcyAgPSBzZWxmOjpfcmVhZEludDQoJGZoKTsKICAgICAgICAgICAgZnNlZWsoJGZoLCAyMCwgU0VFS19DVVIpOwogICAgICAgICAgICAkcHBzLT5UaW1lMXN0ID0gc2VsZjo6T0xFMkxvY2FsRGF0ZShmcmVhZCgkZmgsIDgpKTsKICAgICAgICAgICAgJHBwcy0+VGltZTJuZCA9IHNlbGY6Ok9MRTJMb2NhbERhdGUoZnJlYWQoJGZoLCA4KSk7CiAgICAgICAgICAgICRwcHMtPl9TdGFydEJsb2NrID0gc2VsZjo6X3JlYWRJbnQ0KCRmaCk7CiAgICAgICAgICAgICRwcHMtPlNpemUgPSBzZWxmOjpfcmVhZEludDQoJGZoKTsKICAgICAgICAgICAgJHBwcy0+Tm8gPSBjb3VudCgkdGhpcy0+X2xpc3QpOwogICAgICAgICAgICAkdGhpcy0+X2xpc3RbXSA9ICRwcHM7CgogICAgICAgICAgICAvLyBjaGVjayBpZiB0aGUgUFBTIHRyZWUgKHN0YXJ0aW5nIGZyb20gcm9vdCkgaXMgY29tcGxldGUKICAgICAgICAgICAgaWYgKGlzc2V0KCR0aGlzLT5yb290KSAmJiAkdGhpcy0+X3Bwc1RyZWVDb21wbGV0ZSgkdGhpcy0+cm9vdC0+Tm8pKSB7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmY2xvc2UoJGZoKTsKCiAgICAgICAgLy8gSW5pdGlhbGl6ZSAkcHBzLT5jaGlsZHJlbiBvbiBkaXJlY3RvcmllcwogICAgICAgIGZvcmVhY2ggKCR0aGlzLT5fbGlzdCBhcyAkcHBzKSB7CiAgICAgICAgICAgIGlmICgkcHBzLT5UeXBlID09IHNlbGY6Ok9MRV9QUFNfVFlQRV9ESVIgfHwgJHBwcy0+VHlwZSA9PSBzZWxmOjpPTEVfUFBTX1RZUEVfUk9PVCkgewogICAgICAgICAgICAgICAgJG5vcyA9IGFycmF5KCRwcHMtPkRpclBwcyk7CiAgICAgICAgICAgICAgICAkcHBzLT5jaGlsZHJlbiA9IGFycmF5KCk7CiAgICAgICAgICAgICAgICB3aGlsZSAoJG5vcykgewogICAgICAgICAgICAgICAgICAgICRubyA9IGFycmF5X3BvcCgkbm9zKTsKICAgICAgICAgICAgICAgICAgICBpZiAoJG5vICE9IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRjaGlsZFBwcyA9ICR0aGlzLT5fbGlzdFskbm9dOwogICAgICAgICAgICAgICAgICAgICAgICAkbm9zW10gPSAkY2hpbGRQcHMtPlByZXZQcHM7CiAgICAgICAgICAgICAgICAgICAgICAgICRub3NbXSA9ICRjaGlsZFBwcy0+TmV4dFBwczsKICAgICAgICAgICAgICAgICAgICAgICAgJHBwcy0+Y2hpbGRyZW5bXSA9ICRjaGlsZFBwczsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgKiBJdCBjaGVja3Mgd2hldGhlciB0aGUgUFBTIHRyZWUgaXMgY29tcGxldGUgKGFsbCBQUFMncyByZWFkKQogICAgKiBzdGFydGluZyB3aXRoIHRoZSBnaXZlbiBQUFMgKG5vdCBuZWNlc3NhcmlseSByb290KQogICAgKgogICAgKiBAYWNjZXNzIHB1YmxpYwogICAgKiBAcGFyYW0gaW50ZWdlciAkaW5kZXggVGhlIGluZGV4IG9mIHRoZSBQUFMgZnJvbSB3aGljaCB3ZSBhcmUgY2hlY2tpbmcKICAgICogQHJldHVybiBib29sZWFuIFdoZXRoZXIgdGhlIFBQUyB0cmVlIGZvciB0aGUgZ2l2ZW4gUFBTIGlzIGNvbXBsZXRlCiAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIF9wcHNUcmVlQ29tcGxldGUoJGluZGV4KQogICAgewogICAgICAgIHJldHVybiBpc3NldCgkdGhpcy0+X2xpc3RbJGluZGV4XSkgJiYKICAgICAgICAgICAgICAgKCRwcHMgPSAkdGhpcy0+X2xpc3RbJGluZGV4XSkgJiYKICAgICAgICAgICAgICAgKCRwcHMtPlByZXZQcHMgPT0gLTEgfHwKICAgICAgICAgICAgICAgICR0aGlzLT5fcHBzVHJlZUNvbXBsZXRlKCRwcHMtPlByZXZQcHMpKSAmJgogICAgICAgICAgICAgICAoJHBwcy0+TmV4dFBwcyA9PSAtMSB8fAogICAgICAgICAgICAgICAgJHRoaXMtPl9wcHNUcmVlQ29tcGxldGUoJHBwcy0+TmV4dFBwcykpICYmCiAgICAgICAgICAgICAgICgkcHBzLT5EaXJQcHMgPT0gLTEgfHwKICAgICAgICAgICAgICAgICR0aGlzLT5fcHBzVHJlZUNvbXBsZXRlKCRwcHMtPkRpclBwcykpOwogICAgfQoKICAgIC8qKgogICAgKiBDaGVja3Mgd2hldGhlciBhIFBQUyBpcyBhIEZpbGUgUFBTIG9yIG5vdC4KICAgICogSWYgdGhlcmUgaXMgbm8gUFBTIGZvciB0aGUgaW5kZXggZ2l2ZW4sIGl0IHdpbGwgcmV0dXJuIGZhbHNlLgogICAgKgogICAgKiBAYWNjZXNzIHB1YmxpYwogICAgKiBAcGFyYW0gaW50ZWdlciAkaW5kZXggVGhlIGluZGV4IGZvciB0aGUgUFBTCiAgICAqIEByZXR1cm4gYm9vbCB0cnVlIGlmIGl0J3MgYSBGaWxlIFBQUywgZmFsc2Ugb3RoZXJ3aXNlCiAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGlzRmlsZSgkaW5kZXgpCiAgICB7CiAgICAgICAgaWYgKGlzc2V0KCR0aGlzLT5fbGlzdFskaW5kZXhdKSkgewogICAgICAgICAgICByZXR1cm4gKCR0aGlzLT5fbGlzdFskaW5kZXhdLT5UeXBlID09IHNlbGY6Ok9MRV9QUFNfVFlQRV9GSUxFKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgKiBDaGVja3Mgd2hldGhlciBhIFBQUyBpcyBhIFJvb3QgUFBTIG9yIG5vdC4KICAgICogSWYgdGhlcmUgaXMgbm8gUFBTIGZvciB0aGUgaW5kZXggZ2l2ZW4sIGl0IHdpbGwgcmV0dXJuIGZhbHNlLgogICAgKgogICAgKiBAYWNjZXNzIHB1YmxpYwogICAgKiBAcGFyYW0gaW50ZWdlciAkaW5kZXggVGhlIGluZGV4IGZvciB0aGUgUFBTLgogICAgKiBAcmV0dXJuIGJvb2wgdHJ1ZSBpZiBpdCdzIGEgUm9vdCBQUFMsIGZhbHNlIG90aGVyd2lzZQogICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBpc1Jvb3QoJGluZGV4KQogICAgewogICAgICAgIGlmIChpc3NldCgkdGhpcy0+X2xpc3RbJGluZGV4XSkpIHsKICAgICAgICAgICAgcmV0dXJuICgkdGhpcy0+X2xpc3RbJGluZGV4XS0+VHlwZSA9PSBzZWxmOjpPTEVfUFBTX1RZUEVfUk9PVCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICogR2l2ZXMgdGhlIHRvdGFsIG51bWJlciBvZiBQUFMncyBmb3VuZCBpbiB0aGUgT0xFIGNvbnRhaW5lci4KICAgICoKICAgICogQGFjY2VzcyBwdWJsaWMKICAgICogQHJldHVybiBpbnRlZ2VyIFRoZSB0b3RhbCBudW1iZXIgb2YgUFBTJ3MgZm91bmQgaW4gdGhlIE9MRSBjb250YWluZXIKICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gcHBzVG90YWwoKQogICAgewogICAgICAgIHJldHVybiBjb3VudCgkdGhpcy0+X2xpc3QpOwogICAgfQoKICAgIC8qKgogICAgKiBHZXRzIGRhdGEgZnJvbSBhIFBQUwogICAgKiBJZiB0aGVyZSBpcyBubyBQUFMgZm9yIHRoZSBpbmRleCBnaXZlbiwgaXQgd2lsbCByZXR1cm4gYW4gZW1wdHkgc3RyaW5nLgogICAgKgogICAgKiBAYWNjZXNzIHB1YmxpYwogICAgKiBAcGFyYW0gaW50ZWdlciAkaW5kZXggICAgVGhlIGluZGV4IGZvciB0aGUgUFBTCiAgICAqIEBwYXJhbSBpbnRlZ2VyICRwb3NpdGlvbiBUaGUgcG9zaXRpb24gZnJvbSB3aGljaCB0byBzdGFydCByZWFkaW5nCiAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAocmVsYXRpdmUgdG8gdGhlIFBQUykKICAgICogQHBhcmFtIGludGVnZXIgJGxlbmd0aCAgIFRoZSBhbW91bnQgb2YgYnl0ZXMgdG8gcmVhZCAoYXQgbW9zdCkKICAgICogQHJldHVybiBzdHJpbmcgVGhlIGJpbmFyeSBzdHJpbmcgY29udGFpbmluZyB0aGUgZGF0YSByZXF1ZXN0ZWQKICAgICogQHNlZSBPTEVfUFBTX0ZpbGU6OmdldFN0cmVhbSgpCiAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldERhdGEoJGluZGV4LCAkcG9zaXRpb24sICRsZW5ndGgpCiAgICB7CiAgICAgICAgLy8gaWYgcG9zaXRpb24gaXMgbm90IHZhbGlkIHJldHVybiBlbXB0eSBzdHJpbmcKICAgICAgICBpZiAoIWlzc2V0KCR0aGlzLT5fbGlzdFskaW5kZXhdKSB8fCAoJHBvc2l0aW9uID49ICR0aGlzLT5fbGlzdFskaW5kZXhdLT5TaXplKSB8fCAoJHBvc2l0aW9uIDwgMCkpIHsKICAgICAgICAgICAgcmV0dXJuICcnOwogICAgICAgIH0KICAgICAgICAkZmggPSAkdGhpcy0+Z2V0U3RyZWFtKCR0aGlzLT5fbGlzdFskaW5kZXhdKTsKICAgICAgICAkZGF0YSA9IHN0cmVhbV9nZXRfY29udGVudHMoJGZoLCAkbGVuZ3RoLCAkcG9zaXRpb24pOwogICAgICAgIGZjbG9zZSgkZmgpOwogICAgICAgIHJldHVybiAkZGF0YTsKICAgIH0KCiAgICAvKioKICAgICogR2V0cyB0aGUgZGF0YSBsZW5ndGggZnJvbSBhIFBQUwogICAgKiBJZiB0aGVyZSBpcyBubyBQUFMgZm9yIHRoZSBpbmRleCBnaXZlbiwgaXQgd2lsbCByZXR1cm4gMC4KICAgICoKICAgICogQGFjY2VzcyBwdWJsaWMKICAgICogQHBhcmFtIGludGVnZXIgJGluZGV4ICAgIFRoZSBpbmRleCBmb3IgdGhlIFBQUwogICAgKiBAcmV0dXJuIGludGVnZXIgVGhlIGFtb3VudCBvZiBieXRlcyBpbiBkYXRhIHRoZSBQUFMgaGFzCiAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldERhdGFMZW5ndGgoJGluZGV4KQogICAgewogICAgICAgIGlmIChpc3NldCgkdGhpcy0+X2xpc3RbJGluZGV4XSkpIHsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5fbGlzdFskaW5kZXhdLT5TaXplOwogICAgICAgIH0KICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvKioKICAgICogVXRpbGl0eSBmdW5jdGlvbiB0byB0cmFuc2Zvcm0gQVNDSUkgdGV4dCB0byBVbmljb2RlCiAgICAqCiAgICAqIEBhY2Nlc3MgcHVibGljCiAgICAqIEBzdGF0aWMKICAgICogQHBhcmFtIHN0cmluZyAkYXNjaWkgVGhlIEFTQ0lJIHN0cmluZyB0byB0cmFuc2Zvcm0KICAgICogQHJldHVybiBzdHJpbmcgVGhlIHN0cmluZyBpbiBVbmljb2RlCiAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBBc2MyVWNzKCRhc2NpaSkKICAgIHsKICAgICAgICAkcmF3bmFtZSA9ICcnOwogICAgICAgIGZvciAoJGkgPSAwOyAkaSA8IHN0cmxlbigkYXNjaWkpOyArKyRpKSB7CiAgICAgICAgICAgICRyYXduYW1lIC49ICRhc2NpaXskaX0gLiAiXHgwMCI7CiAgICAgICAgfQogICAgICAgIHJldHVybiAkcmF3bmFtZTsKICAgIH0KCiAgICAvKioKICAgICogVXRpbGl0eSBmdW5jdGlvbgogICAgKiBSZXR1cm5zIGEgc3RyaW5nIGZvciB0aGUgT0xFIGNvbnRhaW5lciB3aXRoIHRoZSBkYXRlIGdpdmVuCiAgICAqCiAgICAqIEBhY2Nlc3MgcHVibGljCiAgICAqIEBzdGF0aWMKICAgICogQHBhcmFtIGludGVnZXIgJGRhdGUgQSB0aW1lc3RhbXAKICAgICogQHJldHVybiBzdHJpbmcgVGhlIHN0cmluZyBmb3IgdGhlIE9MRSBjb250YWluZXIKICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIExvY2FsRGF0ZTJPTEUoJGRhdGUgPSBudWxsKQogICAgewogICAgICAgIGlmICghaXNzZXQoJGRhdGUpKSB7CiAgICAgICAgICAgIHJldHVybiAiXHgwMFx4MDBceDAwXHgwMFx4MDBceDAwXHgwMFx4MDAiOwogICAgICAgIH0KCiAgICAgICAgLy8gZmFjdG9yIHVzZWQgZm9yIHNlcGFyYXRpbmcgbnVtYmVycyBpbnRvIDQgYnl0ZXMgcGFydHMKICAgICAgICAkZmFjdG9yID0gcG93KDIsIDMyKTsKCiAgICAgICAgLy8gZGF5cyBmcm9tIDEtMS0xNjAxIHVudGlsIHRoZSBiZWdnaW5pbmcgb2YgVU5JWCBlcmEKICAgICAgICAkZGF5cyA9IDEzNDc3NDsKICAgICAgICAvLyBjYWxjdWxhdGUgc2Vjb25kcwogICAgICAgICRiaWdfZGF0ZSA9ICRkYXlzKjI0KjM2MDAgKyBnbW1rdGltZShkYXRlKCJIIiwgJGRhdGUpLCBkYXRlKCJpIiwgJGRhdGUpLCBkYXRlKCJzIiwgJGRhdGUpLCBkYXRlKCJtIiwgJGRhdGUpLCBkYXRlKCJkIiwgJGRhdGUpLCBkYXRlKCJZIiwgJGRhdGUpKTsKICAgICAgICAvLyBtdWx0aXBseSBqdXN0IHRvIG1ha2UgTVMgaGFwcHkKICAgICAgICAkYmlnX2RhdGUgKj0gMTAwMDAwMDA7CgogICAgICAgICRoaWdoX3BhcnQgPSBmbG9vcigkYmlnX2RhdGUgLyAkZmFjdG9yKTsKICAgICAgICAvLyBsb3dlciA0IGJ5dGVzCiAgICAgICAgJGxvd19wYXJ0ID0gZmxvb3IoKCgkYmlnX2RhdGUgLyAkZmFjdG9yKSAtICRoaWdoX3BhcnQpICogJGZhY3Rvcik7CgogICAgICAgIC8vIE1ha2UgSEVYIHN0cmluZwogICAgICAgICRyZXMgPSAnJzsKCiAgICAgICAgZm9yICgkaSA9IDA7ICRpIDwgNDsgKyskaSkgewogICAgICAgICAgICAkaGV4ID0gJGxvd19wYXJ0ICUgMHgxMDA7CiAgICAgICAgICAgICRyZXMgLj0gcGFjaygnYycsICRoZXgpOwogICAgICAgICAgICAkbG93X3BhcnQgLz0gMHgxMDA7CiAgICAgICAgfQogICAgICAgIGZvciAoJGkgPSAwOyAkaSA8IDQ7ICsrJGkpIHsKICAgICAgICAgICAgJGhleCA9ICRoaWdoX3BhcnQgJSAweDEwMDsKICAgICAgICAgICAgJHJlcyAuPSBwYWNrKCdjJywgJGhleCk7CiAgICAgICAgICAgICRoaWdoX3BhcnQgLz0gMHgxMDA7CiAgICAgICAgfQogICAgICAgIHJldHVybiAkcmVzOwogICAgfQoKICAgIC8qKgogICAgKiBSZXR1cm5zIGEgdGltZXN0YW1wIGZyb20gYW4gT0xFIGNvbnRhaW5lcidzIGRhdGUKICAgICoKICAgICogQGFjY2VzcyBwdWJsaWMKICAgICogQHN0YXRpYwogICAgKiBAcGFyYW0gaW50ZWdlciAkc3RyaW5nIEEgYmluYXJ5IHN0cmluZyB3aXRoIHRoZSBlbmNvZGVkIGRhdGUKICAgICogQHJldHVybiBzdHJpbmcgVGhlIHRpbWVzdGFtcCBjb3JyZXNwb25kaW5nIHRvIHRoZSBzdHJpbmcKICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIE9MRTJMb2NhbERhdGUoJHN0cmluZykKICAgIHsKICAgICAgICBpZiAoc3RybGVuKCRzdHJpbmcpICE9IDgpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBQRUFSX0Vycm9yKCJFeHBlY3RpbmcgOCBieXRlIHN0cmluZyIpOwogICAgICAgIH0KCiAgICAgICAgLy8gZmFjdG9yIHVzZWQgZm9yIHNlcGFyYXRpbmcgbnVtYmVycyBpbnRvIDQgYnl0ZXMgcGFydHMKICAgICAgICAkZmFjdG9yID0gcG93KDIsIDMyKTsKICAgICAgICBsaXN0KCwgJGhpZ2hfcGFydCkgPSB1bnBhY2soJ1YnLCBzdWJzdHIoJHN0cmluZywgNCwgNCkpOwogICAgICAgIGxpc3QoLCAkbG93X3BhcnQpID0gdW5wYWNrKCdWJywgc3Vic3RyKCRzdHJpbmcsIDAsIDQpKTsKCiAgICAgICAgJGJpZ19kYXRlID0gKCRoaWdoX3BhcnQgKiAkZmFjdG9yKSArICRsb3dfcGFydDsKICAgICAgICAvLyB0cmFuc2xhdGUgdG8gc2Vjb25kcwogICAgICAgICRiaWdfZGF0ZSAvPSAxMDAwMDAwMDsKCiAgICAgICAgLy8gZGF5cyBmcm9tIDEtMS0xNjAxIHVudGlsIHRoZSBiZWdnaW5pbmcgb2YgVU5JWCBlcmEKICAgICAgICAkZGF5cyA9IDEzNDc3NDsKCiAgICAgICAgLy8gdHJhbnNsYXRlIHRvIHNlY29uZHMgZnJvbSBiZWdnaW5pbmcgb2YgVU5JWCBlcmEKICAgICAgICAkYmlnX2RhdGUgLT0gJGRheXMgKiAyNCAqIDM2MDA7CiAgICAgICAgcmV0dXJuIGZsb29yKCRiaWdfZGF0ZSk7CiAgICB9Cn0K",
    "size": "17478"
}