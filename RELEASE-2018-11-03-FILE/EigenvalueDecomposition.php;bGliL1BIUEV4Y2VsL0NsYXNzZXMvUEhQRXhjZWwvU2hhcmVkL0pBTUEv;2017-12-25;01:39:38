{
    "namaFile": "lib\/PHPExcel\/Classes\/PHPExcel\/Shared\/JAMA\/EigenvalueDecomposition.php",
    "lastUpdate": "2017-12-25+01:39:38.00",
    "contentFile": "PD9waHAKLyoqCiAqICAgIEBwYWNrYWdlIEpBTUEKICoKICogICAgQ2xhc3MgdG8gb2J0YWluIGVpZ2VudmFsdWVzIGFuZCBlaWdlbnZlY3RvcnMgb2YgYSByZWFsIG1hdHJpeC4KICoKICogICAgSWYgQSBpcyBzeW1tZXRyaWMsIHRoZW4gQSA9IFYqRCpWJyB3aGVyZSB0aGUgZWlnZW52YWx1ZSBtYXRyaXggRAogKiAgICBpcyBkaWFnb25hbCBhbmQgdGhlIGVpZ2VudmVjdG9yIG1hdHJpeCBWIGlzIG9ydGhvZ29uYWwgKGkuZS4KICogICAgQSA9IFYudGltZXMoRC50aW1lcyhWLnRyYW5zcG9zZSgpKSkgYW5kIFYudGltZXMoVi50cmFuc3Bvc2UoKSkKICogICAgZXF1YWxzIHRoZSBpZGVudGl0eSBtYXRyaXgpLgogKgogKiAgICBJZiBBIGlzIG5vdCBzeW1tZXRyaWMsIHRoZW4gdGhlIGVpZ2VudmFsdWUgbWF0cml4IEQgaXMgYmxvY2sgZGlhZ29uYWwKICogICAgd2l0aCB0aGUgcmVhbCBlaWdlbnZhbHVlcyBpbiAxLWJ5LTEgYmxvY2tzIGFuZCBhbnkgY29tcGxleCBlaWdlbnZhbHVlcywKICogICAgbGFtYmRhICsgaSptdSwgaW4gMi1ieS0yIGJsb2NrcywgW2xhbWJkYSwgbXU7IC1tdSwgbGFtYmRhXS4gIFRoZQogKiAgICBjb2x1bW5zIG9mIFYgcmVwcmVzZW50IHRoZSBlaWdlbnZlY3RvcnMgaW4gdGhlIHNlbnNlIHRoYXQgQSpWID0gVipELAogKiAgICBpLmUuIEEudGltZXMoVikgZXF1YWxzIFYudGltZXMoRCkuICBUaGUgbWF0cml4IFYgbWF5IGJlIGJhZGx5CiAqICAgIGNvbmRpdGlvbmVkLCBvciBldmVuIHNpbmd1bGFyLCBzbyB0aGUgdmFsaWRpdHkgb2YgdGhlIGVxdWF0aW9uCiAqICAgIEEgPSBWKkQqaW52ZXJzZShWKSBkZXBlbmRzIHVwb24gVi5jb25kKCkuCiAqCiAqICAgIEBhdXRob3IgIFBhdWwgTWVhZ2hlcgogKiAgICBAbGljZW5zZSBQSFAgdjMuMAogKiAgICBAdmVyc2lvbiAxLjEKICovCmNsYXNzIEVpZ2VudmFsdWVEZWNvbXBvc2l0aW9uCnsKICAgIC8qKgogICAgICogICAgUm93IGFuZCBjb2x1bW4gZGltZW5zaW9uIChzcXVhcmUgbWF0cml4KS4KICAgICAqICAgIEB2YXIgaW50CiAgICAgKi8KICAgIHByaXZhdGUgJG47CgogICAgLyoqCiAgICAgKiAgICBJbnRlcm5hbCBzeW1tZXRyeSBmbGFnLgogICAgICogICAgQHZhciBpbnQKICAgICAqLwogICAgcHJpdmF0ZSAkaXNzeW1tZXRyaWM7CgogICAgLyoqCiAgICAgKiAgICBBcnJheXMgZm9yIGludGVybmFsIHN0b3JhZ2Ugb2YgZWlnZW52YWx1ZXMuCiAgICAgKiAgICBAdmFyIGFycmF5CiAgICAgKi8KICAgIHByaXZhdGUgJGQgPSBhcnJheSgpOwogICAgcHJpdmF0ZSAkZSA9IGFycmF5KCk7CgogICAgLyoqCiAgICAgKiAgICBBcnJheSBmb3IgaW50ZXJuYWwgc3RvcmFnZSBvZiBlaWdlbnZlY3RvcnMuCiAgICAgKiAgICBAdmFyIGFycmF5CiAgICAgKi8KICAgIHByaXZhdGUgJFYgPSBhcnJheSgpOwoKICAgIC8qKgogICAgKiAgICBBcnJheSBmb3IgaW50ZXJuYWwgc3RvcmFnZSBvZiBub25zeW1tZXRyaWMgSGVzc2VuYmVyZyBmb3JtLgogICAgKiAgICBAdmFyIGFycmF5CiAgICAqLwogICAgcHJpdmF0ZSAkSCA9IGFycmF5KCk7CgogICAgLyoqCiAgICAqICAgIFdvcmtpbmcgc3RvcmFnZSBmb3Igbm9uc3ltbWV0cmljIGFsZ29yaXRobS4KICAgICogICAgQHZhciBhcnJheQogICAgKi8KICAgIHByaXZhdGUgJG9ydDsKCiAgICAvKioKICAgICogICAgVXNlZCBmb3IgY29tcGxleCBzY2FsYXIgZGl2aXNpb24uCiAgICAqICAgIEB2YXIgZmxvYXQKICAgICovCiAgICBwcml2YXRlICRjZGl2cjsKICAgIHByaXZhdGUgJGNkaXZpOwoKICAgIC8qKgogICAgICogICAgU3ltbWV0cmljIEhvdXNlaG9sZGVyIHJlZHVjdGlvbiB0byB0cmlkaWFnb25hbCBmb3JtLgogICAgICoKICAgICAqICAgIEBhY2Nlc3MgcHJpdmF0ZQogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIHRyZWQyKCkKICAgIHsKICAgICAgICAvLyAgVGhpcyBpcyBkZXJpdmVkIGZyb20gdGhlIEFsZ29sIHByb2NlZHVyZXMgdHJlZDIgYnkKICAgICAgICAvLyAgQm93ZGxlciwgTWFydGluLCBSZWluc2NoLCBhbmQgV2lsa2luc29uLCBIYW5kYm9vayBmb3IKICAgICAgICAvLyAgQXV0by4gQ29tcC4sIFZvbC5paS1MaW5lYXIgQWxnZWJyYSwgYW5kIHRoZSBjb3JyZXNwb25kaW5nCiAgICAgICAgLy8gIEZvcnRyYW4gc3Vicm91dGluZSBpbiBFSVNQQUNLLgogICAgICAgICR0aGlzLT5kID0gJHRoaXMtPlZbJHRoaXMtPm4tMV07CiAgICAgICAgLy8gSG91c2Vob2xkZXIgcmVkdWN0aW9uIHRvIHRyaWRpYWdvbmFsIGZvcm0uCiAgICAgICAgZm9yICgkaSA9ICR0aGlzLT5uLTE7ICRpID4gMDsgLS0kaSkgewogICAgICAgICAgICAkaV8gPSAkaSAtMTsKICAgICAgICAgICAgLy8gU2NhbGUgdG8gYXZvaWQgdW5kZXIvb3ZlcmZsb3cuCiAgICAgICAgICAgICRoID0gJHNjYWxlID0gMC4wOwogICAgICAgICAgICAkc2NhbGUgKz0gYXJyYXlfc3VtKGFycmF5X21hcChhYnMsICR0aGlzLT5kKSk7CiAgICAgICAgICAgIGlmICgkc2NhbGUgPT0gMC4wKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+ZVskaV0gPSAkdGhpcy0+ZFskaV9dOwogICAgICAgICAgICAgICAgJHRoaXMtPmQgPSBhcnJheV9zbGljZSgkdGhpcy0+VlskaV9dLCAwLCAkaV8pOwogICAgICAgICAgICAgICAgZm9yICgkaiA9IDA7ICRqIDwgJGk7ICsrJGopIHsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+Vlskal1bJGldID0gJHRoaXMtPlZbJGldWyRqXSA9IDAuMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIEhvdXNlaG9sZGVyIHZlY3Rvci4KICAgICAgICAgICAgICAgIGZvciAoJGsgPSAwOyAkayA8ICRpOyArKyRrKSB7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmRbJGtdIC89ICRzY2FsZTsKICAgICAgICAgICAgICAgICAgICAkaCArPSBwb3coJHRoaXMtPmRbJGtdLCAyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRmID0gJHRoaXMtPmRbJGlfXTsKICAgICAgICAgICAgICAgICRnID0gc3FydCgkaCk7CiAgICAgICAgICAgICAgICBpZiAoJGYgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgJGcgPSAtJGc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkdGhpcy0+ZVskaV0gPSAkc2NhbGUgKiAkZzsKICAgICAgICAgICAgICAgICRoID0gJGggLSAkZiAqICRnOwogICAgICAgICAgICAgICAgJHRoaXMtPmRbJGlfXSA9ICRmIC0gJGc7CiAgICAgICAgICAgICAgICBmb3IgKCRqID0gMDsgJGogPCAkaTsgKyskaikgewogICAgICAgICAgICAgICAgICAgICR0aGlzLT5lWyRqXSA9IDAuMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIEFwcGx5IHNpbWlsYXJpdHkgdHJhbnNmb3JtYXRpb24gdG8gcmVtYWluaW5nIGNvbHVtbnMuCiAgICAgICAgICAgICAgICBmb3IgKCRqID0gMDsgJGogPCAkaTsgKyskaikgewogICAgICAgICAgICAgICAgICAgICRmID0gJHRoaXMtPmRbJGpdOwogICAgICAgICAgICAgICAgICAgICR0aGlzLT5WWyRqXVskaV0gPSAkZjsKICAgICAgICAgICAgICAgICAgICAkZyA9ICR0aGlzLT5lWyRqXSArICR0aGlzLT5WWyRqXVskal0gKiAkZjsKICAgICAgICAgICAgICAgICAgICBmb3IgKCRrID0gJGorMTsgJGsgPD0gJGlfOyArKyRrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRnICs9ICR0aGlzLT5WWyRrXVskal0gKiAkdGhpcy0+ZFska107CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5lWyRrXSArPSAkdGhpcy0+Vlska11bJGpdICogJGY7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICR0aGlzLT5lWyRqXSA9ICRnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGYgPSAwLjA7CiAgICAgICAgICAgICAgICBmb3IgKCRqID0gMDsgJGogPCAkaTsgKyskaikgewogICAgICAgICAgICAgICAgICAgICR0aGlzLT5lWyRqXSAvPSAkaDsKICAgICAgICAgICAgICAgICAgICAkZiArPSAkdGhpcy0+ZVskal0gKiAkdGhpcy0+ZFskal07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkaGggPSAkZiAvICgyICogJGgpOwogICAgICAgICAgICAgICAgZm9yICgkaj0wOyAkaiA8ICRpOyArKyRqKSB7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmVbJGpdIC09ICRoaCAqICR0aGlzLT5kWyRqXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAoJGogPSAwOyAkaiA8ICRpOyArKyRqKSB7CiAgICAgICAgICAgICAgICAgICAgJGYgPSAkdGhpcy0+ZFskal07CiAgICAgICAgICAgICAgICAgICAgJGcgPSAkdGhpcy0+ZVskal07CiAgICAgICAgICAgICAgICAgICAgZm9yICgkayA9ICRqOyAkayA8PSAkaV87ICsrJGspIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPlZbJGtdWyRqXSAtPSAoJGYgKiAkdGhpcy0+ZVska10gKyAkZyAqICR0aGlzLT5kWyRrXSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICR0aGlzLT5kWyRqXSA9ICR0aGlzLT5WWyRpLTFdWyRqXTsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+VlskaV1bJGpdID0gMC4wOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICR0aGlzLT5kWyRpXSA9ICRoOwogICAgICAgIH0KCiAgICAgICAgLy8gQWNjdW11bGF0ZSB0cmFuc2Zvcm1hdGlvbnMuCiAgICAgICAgZm9yICgkaSA9IDA7ICRpIDwgJHRoaXMtPm4tMTsgKyskaSkgewogICAgICAgICAgICAkdGhpcy0+VlskdGhpcy0+bi0xXVskaV0gPSAkdGhpcy0+VlskaV1bJGldOwogICAgICAgICAgICAkdGhpcy0+VlskaV1bJGldID0gMS4wOwogICAgICAgICAgICAkaCA9ICR0aGlzLT5kWyRpKzFdOwogICAgICAgICAgICBpZiAoJGggIT0gMC4wKSB7CiAgICAgICAgICAgICAgICBmb3IgKCRrID0gMDsgJGsgPD0gJGk7ICsrJGspIHsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+ZFska10gPSAkdGhpcy0+Vlska11bJGkrMV0gLyAkaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAoJGogPSAwOyAkaiA8PSAkaTsgKyskaikgewogICAgICAgICAgICAgICAgICAgICRnID0gMC4wOwogICAgICAgICAgICAgICAgICAgIGZvciAoJGsgPSAwOyAkayA8PSAkaTsgKyskaykgewogICAgICAgICAgICAgICAgICAgICAgICAkZyArPSAkdGhpcy0+Vlska11bJGkrMV0gKiAkdGhpcy0+Vlska11bJGpdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmb3IgKCRrID0gMDsgJGsgPD0gJGk7ICsrJGspIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPlZbJGtdWyRqXSAtPSAkZyAqICR0aGlzLT5kWyRrXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yICgkayA9IDA7ICRrIDw9ICRpOyArKyRrKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+Vlska11bJGkrMV0gPSAwLjA7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICR0aGlzLT5kID0gJHRoaXMtPlZbJHRoaXMtPm4tMV07CiAgICAgICAgJHRoaXMtPlZbJHRoaXMtPm4tMV0gPSBhcnJheV9maWxsKDAsICRqLCAwLjApOwogICAgICAgICR0aGlzLT5WWyR0aGlzLT5uLTFdWyR0aGlzLT5uLTFdID0gMS4wOwogICAgICAgICR0aGlzLT5lWzBdID0gMC4wOwogICAgfQoKICAgIC8qKgogICAgICogICAgU3ltbWV0cmljIHRyaWRpYWdvbmFsIFFMIGFsZ29yaXRobS4KICAgICAqCiAgICAgKiAgICBUaGlzIGlzIGRlcml2ZWQgZnJvbSB0aGUgQWxnb2wgcHJvY2VkdXJlcyB0cWwyLCBieQogICAgICogICAgQm93ZGxlciwgTWFydGluLCBSZWluc2NoLCBhbmQgV2lsa2luc29uLCBIYW5kYm9vayBmb3IKICAgICAqICAgIEF1dG8uIENvbXAuLCBWb2wuaWktTGluZWFyIEFsZ2VicmEsIGFuZCB0aGUgY29ycmVzcG9uZGluZwogICAgICogICAgRm9ydHJhbiBzdWJyb3V0aW5lIGluIEVJU1BBQ0suCiAgICAgKgogICAgICogICAgQGFjY2VzcyBwcml2YXRlCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gdHFsMigpCiAgICB7CiAgICAgICAgZm9yICgkaSA9IDE7ICRpIDwgJHRoaXMtPm47ICsrJGkpIHsKICAgICAgICAgICAgJHRoaXMtPmVbJGktMV0gPSAkdGhpcy0+ZVskaV07CiAgICAgICAgfQogICAgICAgICR0aGlzLT5lWyR0aGlzLT5uLTFdID0gMC4wOwogICAgICAgICRmID0gMC4wOwogICAgICAgICR0c3QxID0gMC4wOwogICAgICAgICRlcHMgID0gcG93KDIuMCwgLTUyLjApOwoKICAgICAgICBmb3IgKCRsID0gMDsgJGwgPCAkdGhpcy0+bjsgKyskbCkgewogICAgICAgICAgICAvLyBGaW5kIHNtYWxsIHN1YmRpYWdvbmFsIGVsZW1lbnQKICAgICAgICAgICAgJHRzdDEgPSBtYXgoJHRzdDEsIGFicygkdGhpcy0+ZFskbF0pICsgYWJzKCR0aGlzLT5lWyRsXSkpOwogICAgICAgICAgICAkbSA9ICRsOwogICAgICAgICAgICB3aGlsZSAoJG0gPCAkdGhpcy0+bikgewogICAgICAgICAgICAgICAgaWYgKGFicygkdGhpcy0+ZVskbV0pIDw9ICRlcHMgKiAkdHN0MSkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKyskbTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBJZiBtID09IGwsICR0aGlzLT5kW2xdIGlzIGFuIGVpZ2VudmFsdWUsCiAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgaXRlcmF0ZS4KICAgICAgICAgICAgaWYgKCRtID4gJGwpIHsKICAgICAgICAgICAgICAgICRpdGVyID0gMDsKICAgICAgICAgICAgICAgIGRvIHsKICAgICAgICAgICAgICAgICAgICAvLyBDb3VsZCBjaGVjayBpdGVyYXRpb24gY291bnQgaGVyZS4KICAgICAgICAgICAgICAgICAgICAkaXRlciArPSAxOwogICAgICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgaW1wbGljaXQgc2hpZnQKICAgICAgICAgICAgICAgICAgICAkZyA9ICR0aGlzLT5kWyRsXTsKICAgICAgICAgICAgICAgICAgICAkcCA9ICgkdGhpcy0+ZFskbCsxXSAtICRnKSAvICgyLjAgKiAkdGhpcy0+ZVskbF0pOwogICAgICAgICAgICAgICAgICAgICRyID0gaHlwbygkcCwgMS4wKTsKICAgICAgICAgICAgICAgICAgICBpZiAoJHAgPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRyICo9IC0xOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkdGhpcy0+ZFskbF0gPSAkdGhpcy0+ZVskbF0gLyAoJHAgKyAkcik7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmRbJGwrMV0gPSAkdGhpcy0+ZVskbF0gKiAoJHAgKyAkcik7CiAgICAgICAgICAgICAgICAgICAgJGRsMSA9ICR0aGlzLT5kWyRsKzFdOwogICAgICAgICAgICAgICAgICAgICRoID0gJGcgLSAkdGhpcy0+ZFskbF07CiAgICAgICAgICAgICAgICAgICAgZm9yICgkaSA9ICRsICsgMjsgJGkgPCAkdGhpcy0+bjsgKyskaSkgewogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+ZFskaV0gLT0gJGg7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRmICs9ICRoOwogICAgICAgICAgICAgICAgICAgIC8vIEltcGxpY2l0IFFMIHRyYW5zZm9ybWF0aW9uLgogICAgICAgICAgICAgICAgICAgICRwID0gJHRoaXMtPmRbJG1dOwogICAgICAgICAgICAgICAgICAgICRjID0gMS4wOwogICAgICAgICAgICAgICAgICAgICRjMiA9ICRjMyA9ICRjOwogICAgICAgICAgICAgICAgICAgICRlbDEgPSAkdGhpcy0+ZVskbCArIDFdOwogICAgICAgICAgICAgICAgICAgICRzID0gJHMyID0gMC4wOwogICAgICAgICAgICAgICAgICAgIGZvciAoJGkgPSAkbS0xOyAkaSA+PSAkbDsgLS0kaSkgewogICAgICAgICAgICAgICAgICAgICAgICAkYzMgPSAkYzI7CiAgICAgICAgICAgICAgICAgICAgICAgICRjMiA9ICRjOwogICAgICAgICAgICAgICAgICAgICAgICAkczIgPSAkczsKICAgICAgICAgICAgICAgICAgICAgICAgJGcgID0gJGMgKiAkdGhpcy0+ZVskaV07CiAgICAgICAgICAgICAgICAgICAgICAgICRoICA9ICRjICogJHA7CiAgICAgICAgICAgICAgICAgICAgICAgICRyICA9IGh5cG8oJHAsICR0aGlzLT5lWyRpXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5lWyRpKzFdID0gJHMgKiAkcjsKICAgICAgICAgICAgICAgICAgICAgICAgJHMgPSAkdGhpcy0+ZVskaV0gLyAkcjsKICAgICAgICAgICAgICAgICAgICAgICAgJGMgPSAkcCAvICRyOwogICAgICAgICAgICAgICAgICAgICAgICAkcCA9ICRjICogJHRoaXMtPmRbJGldIC0gJHMgKiAkZzsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmRbJGkrMV0gPSAkaCArICRzICogKCRjICogJGcgKyAkcyAqICR0aGlzLT5kWyRpXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFjY3VtdWxhdGUgdHJhbnNmb3JtYXRpb24uCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoJGsgPSAwOyAkayA8ICR0aGlzLT5uOyArKyRrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaCA9ICR0aGlzLT5WWyRrXVskaSsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5WWyRrXVskaSsxXSA9ICRzICogJHRoaXMtPlZbJGtdWyRpXSArICRjICogJGg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+Vlska11bJGldID0gJGMgKiAkdGhpcy0+Vlska11bJGldIC0gJHMgKiAkaDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkcCA9IC0kcyAqICRzMiAqICRjMyAqICRlbDEgKiAkdGhpcy0+ZVskbF0gLyAkZGwxOwogICAgICAgICAgICAgICAgICAgICR0aGlzLT5lWyRsXSA9ICRzICogJHA7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmRbJGxdID0gJGMgKiAkcDsKICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb252ZXJnZW5jZS4KICAgICAgICAgICAgICAgIH0gd2hpbGUgKGFicygkdGhpcy0+ZVskbF0pID4gJGVwcyAqICR0c3QxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkdGhpcy0+ZFskbF0gPSAkdGhpcy0+ZFskbF0gKyAkZjsKICAgICAgICAgICAgJHRoaXMtPmVbJGxdID0gMC4wOwogICAgICAgIH0KCiAgICAgICAgLy8gU29ydCBlaWdlbnZhbHVlcyBhbmQgY29ycmVzcG9uZGluZyB2ZWN0b3JzLgogICAgICAgIGZvciAoJGkgPSAwOyAkaSA8ICR0aGlzLT5uIC0gMTsgKyskaSkgewogICAgICAgICAgICAkayA9ICRpOwogICAgICAgICAgICAkcCA9ICR0aGlzLT5kWyRpXTsKICAgICAgICAgICAgZm9yICgkaiA9ICRpKzE7ICRqIDwgJHRoaXMtPm47ICsrJGopIHsKICAgICAgICAgICAgICAgIGlmICgkdGhpcy0+ZFskal0gPCAkcCkgewogICAgICAgICAgICAgICAgICAgICRrID0gJGo7CiAgICAgICAgICAgICAgICAgICAgJHAgPSAkdGhpcy0+ZFskal07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRrICE9ICRpKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+ZFska10gPSAkdGhpcy0+ZFskaV07CiAgICAgICAgICAgICAgICAkdGhpcy0+ZFskaV0gPSAkcDsKICAgICAgICAgICAgICAgIGZvciAoJGogPSAwOyAkaiA8ICR0aGlzLT5uOyArKyRqKSB7CiAgICAgICAgICAgICAgICAgICAgJHAgPSAkdGhpcy0+Vlskal1bJGldOwogICAgICAgICAgICAgICAgICAgICR0aGlzLT5WWyRqXVskaV0gPSAkdGhpcy0+Vlskal1bJGtdOwogICAgICAgICAgICAgICAgICAgICR0aGlzLT5WWyRqXVska10gPSAkcDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqICAgIE5vbnN5bW1ldHJpYyByZWR1Y3Rpb24gdG8gSGVzc2VuYmVyZyBmb3JtLgogICAgICoKICAgICAqICAgIFRoaXMgaXMgZGVyaXZlZCBmcm9tIHRoZSBBbGdvbCBwcm9jZWR1cmVzIG9ydGhlcyBhbmQgb3J0cmFuLAogICAgICogICAgYnkgTWFydGluIGFuZCBXaWxraW5zb24sIEhhbmRib29rIGZvciBBdXRvLiBDb21wLiwKICAgICAqICAgIFZvbC5paS1MaW5lYXIgQWxnZWJyYSwgYW5kIHRoZSBjb3JyZXNwb25kaW5nCiAgICAgKiAgICBGb3J0cmFuIHN1YnJvdXRpbmVzIGluIEVJU1BBQ0suCiAgICAgKgogICAgICogICAgQGFjY2VzcyBwcml2YXRlCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gb3J0aGVzKCkKICAgIHsKICAgICAgICAkbG93ICA9IDA7CiAgICAgICAgJGhpZ2ggPSAkdGhpcy0+bi0xOwoKICAgICAgICBmb3IgKCRtID0gJGxvdysxOyAkbSA8PSAkaGlnaC0xOyArKyRtKSB7CiAgICAgICAgICAgIC8vIFNjYWxlIGNvbHVtbi4KICAgICAgICAgICAgJHNjYWxlID0gMC4wOwogICAgICAgICAgICBmb3IgKCRpID0gJG07ICRpIDw9ICRoaWdoOyArKyRpKSB7CiAgICAgICAgICAgICAgICAkc2NhbGUgPSAkc2NhbGUgKyBhYnMoJHRoaXMtPkhbJGldWyRtLTFdKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJHNjYWxlICE9IDAuMCkgewogICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSBIb3VzZWhvbGRlciB0cmFuc2Zvcm1hdGlvbi4KICAgICAgICAgICAgICAgICRoID0gMC4wOwogICAgICAgICAgICAgICAgZm9yICgkaSA9ICRoaWdoOyAkaSA+PSAkbTsgLS0kaSkgewogICAgICAgICAgICAgICAgICAgICR0aGlzLT5vcnRbJGldID0gJHRoaXMtPkhbJGldWyRtLTFdIC8gJHNjYWxlOwogICAgICAgICAgICAgICAgICAgICRoICs9ICR0aGlzLT5vcnRbJGldICogJHRoaXMtPm9ydFskaV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkZyA9IHNxcnQoJGgpOwogICAgICAgICAgICAgICAgaWYgKCR0aGlzLT5vcnRbJG1dID4gMCkgewogICAgICAgICAgICAgICAgICAgICRnICo9IC0xOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGggLT0gJHRoaXMtPm9ydFskbV0gKiAkZzsKICAgICAgICAgICAgICAgICR0aGlzLT5vcnRbJG1dIC09ICRnOwogICAgICAgICAgICAgICAgLy8gQXBwbHkgSG91c2Vob2xkZXIgc2ltaWxhcml0eSB0cmFuc2Zvcm1hdGlvbgogICAgICAgICAgICAgICAgLy8gSCA9IChJIC11ICogdScgLyBoKSAqIEggKiAoSSAtdSAqIHUnKSAvIGgpCiAgICAgICAgICAgICAgICBmb3IgKCRqID0gJG07ICRqIDwgJHRoaXMtPm47ICsrJGopIHsKICAgICAgICAgICAgICAgICAgICAkZiA9IDAuMDsKICAgICAgICAgICAgICAgICAgICBmb3IgKCRpID0gJGhpZ2g7ICRpID49ICRtOyAtLSRpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRmICs9ICR0aGlzLT5vcnRbJGldICogJHRoaXMtPkhbJGldWyRqXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJGYgLz0gJGg7CiAgICAgICAgICAgICAgICAgICAgZm9yICgkaSA9ICRtOyAkaSA8PSAkaGlnaDsgKyskaSkgewogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+SFskaV1bJGpdIC09ICRmICogJHRoaXMtPm9ydFskaV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZm9yICgkaSA9IDA7ICRpIDw9ICRoaWdoOyArKyRpKSB7CiAgICAgICAgICAgICAgICAgICAgJGYgPSAwLjA7CiAgICAgICAgICAgICAgICAgICAgZm9yICgkaiA9ICRoaWdoOyAkaiA+PSAkbTsgLS0kaikgewogICAgICAgICAgICAgICAgICAgICAgICAkZiArPSAkdGhpcy0+b3J0WyRqXSAqICR0aGlzLT5IWyRpXVskal07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRmID0gJGYgLyAkaDsKICAgICAgICAgICAgICAgICAgICBmb3IgKCRqID0gJG07ICRqIDw9ICRoaWdoOyArKyRqKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5IWyRpXVskal0gLT0gJGYgKiAkdGhpcy0+b3J0WyRqXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkdGhpcy0+b3J0WyRtXSA9ICRzY2FsZSAqICR0aGlzLT5vcnRbJG1dOwogICAgICAgICAgICAgICAgJHRoaXMtPkhbJG1dWyRtLTFdID0gJHNjYWxlICogJGc7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIEFjY3VtdWxhdGUgdHJhbnNmb3JtYXRpb25zIChBbGdvbCdzIG9ydHJhbikuCiAgICAgICAgZm9yICgkaSA9IDA7ICRpIDwgJHRoaXMtPm47ICsrJGkpIHsKICAgICAgICAgICAgZm9yICgkaiA9IDA7ICRqIDwgJHRoaXMtPm47ICsrJGopIHsKICAgICAgICAgICAgICAgICR0aGlzLT5WWyRpXVskal0gPSAoJGkgPT0gJGogPyAxLjAgOiAwLjApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZvciAoJG0gPSAkaGlnaC0xOyAkbSA+PSAkbG93KzE7IC0tJG0pIHsKICAgICAgICAgICAgaWYgKCR0aGlzLT5IWyRtXVskbS0xXSAhPSAwLjApIHsKICAgICAgICAgICAgICAgIGZvciAoJGkgPSAkbSsxOyAkaSA8PSAkaGlnaDsgKyskaSkgewogICAgICAgICAgICAgICAgICAgICR0aGlzLT5vcnRbJGldID0gJHRoaXMtPkhbJGldWyRtLTFdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZm9yICgkaiA9ICRtOyAkaiA8PSAkaGlnaDsgKyskaikgewogICAgICAgICAgICAgICAgICAgICRnID0gMC4wOwogICAgICAgICAgICAgICAgICAgIGZvciAoJGkgPSAkbTsgJGkgPD0gJGhpZ2g7ICsrJGkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGcgKz0gJHRoaXMtPm9ydFskaV0gKiAkdGhpcy0+VlskaV1bJGpdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyBEb3VibGUgZGl2aXNpb24gYXZvaWRzIHBvc3NpYmxlIHVuZGVyZmxvdwogICAgICAgICAgICAgICAgICAgICRnID0gKCRnIC8gJHRoaXMtPm9ydFskbV0pIC8gJHRoaXMtPkhbJG1dWyRtLTFdOwogICAgICAgICAgICAgICAgICAgIGZvciAoJGkgPSAkbTsgJGkgPD0gJGhpZ2g7ICsrJGkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPlZbJGldWyRqXSArPSAkZyAqICR0aGlzLT5vcnRbJGldOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqICAgIFBlcmZvcm1zIGNvbXBsZXggZGl2aXNpb24uCiAgICAgKgogICAgICogICAgQGFjY2VzcyBwcml2YXRlCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gY2RpdigkeHIsICR4aSwgJHlyLCAkeWkpCiAgICB7CiAgICAgICAgaWYgKGFicygkeXIpID4gYWJzKCR5aSkpIHsKICAgICAgICAgICAgJHIgPSAkeWkgLyAkeXI7CiAgICAgICAgICAgICRkID0gJHlyICsgJHIgKiAkeWk7CiAgICAgICAgICAgICR0aGlzLT5jZGl2ciA9ICgkeHIgKyAkciAqICR4aSkgLyAkZDsKICAgICAgICAgICAgJHRoaXMtPmNkaXZpID0gKCR4aSAtICRyICogJHhyKSAvICRkOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRyID0gJHlyIC8gJHlpOwogICAgICAgICAgICAkZCA9ICR5aSArICRyICogJHlyOwogICAgICAgICAgICAkdGhpcy0+Y2RpdnIgPSAoJHIgKiAkeHIgKyAkeGkpIC8gJGQ7CiAgICAgICAgICAgICR0aGlzLT5jZGl2aSA9ICgkciAqICR4aSAtICR4cikgLyAkZDsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBOb25zeW1tZXRyaWMgcmVkdWN0aW9uIGZyb20gSGVzc2VuYmVyZyB0byByZWFsIFNjaHVyIGZvcm0uCiAgICAgKgogICAgICogICAgQ29kZSBpcyBkZXJpdmVkIGZyb20gdGhlIEFsZ29sIHByb2NlZHVyZSBocXIyLAogICAgICogICAgYnkgTWFydGluIGFuZCBXaWxraW5zb24sIEhhbmRib29rIGZvciBBdXRvLiBDb21wLiwKICAgICAqICAgIFZvbC5paS1MaW5lYXIgQWxnZWJyYSwgYW5kIHRoZSBjb3JyZXNwb25kaW5nCiAgICAgKiAgICBGb3J0cmFuIHN1YnJvdXRpbmUgaW4gRUlTUEFDSy4KICAgICAqCiAgICAgKiAgICBAYWNjZXNzIHByaXZhdGUKICAgICAqLwogICAgcHJpdmF0ZSBmdW5jdGlvbiBocXIyKCkKICAgIHsKICAgICAgICAvLyAgSW5pdGlhbGl6ZQogICAgICAgICRubiA9ICR0aGlzLT5uOwogICAgICAgICRuICA9ICRubiAtIDE7CiAgICAgICAgJGxvdyA9IDA7CiAgICAgICAgJGhpZ2ggPSAkbm4gLSAxOwogICAgICAgICRlcHMgPSBwb3coMi4wLCAtNTIuMCk7CiAgICAgICAgJGV4c2hpZnQgPSAwLjA7CiAgICAgICAgJHAgPSAkcSA9ICRyID0gJHMgPSAkeiA9IDA7CiAgICAgICAgLy8gU3RvcmUgcm9vdHMgaXNvbGF0ZWQgYnkgYmFsYW5jIGFuZCBjb21wdXRlIG1hdHJpeCBub3JtCiAgICAgICAgJG5vcm0gPSAwLjA7CgogICAgICAgIGZvciAoJGkgPSAwOyAkaSA8ICRubjsgKyskaSkgewogICAgICAgICAgICBpZiAoKCRpIDwgJGxvdykgb3IgKCRpID4gJGhpZ2gpKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+ZFskaV0gPSAkdGhpcy0+SFskaV1bJGldOwogICAgICAgICAgICAgICAgJHRoaXMtPmVbJGldID0gMC4wOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAoJGogPSBtYXgoJGktMSwgMCk7ICRqIDwgJG5uOyArKyRqKSB7CiAgICAgICAgICAgICAgICAkbm9ybSA9ICRub3JtICsgYWJzKCR0aGlzLT5IWyRpXVskal0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBPdXRlciBsb29wIG92ZXIgZWlnZW52YWx1ZSBpbmRleAogICAgICAgICRpdGVyID0gMDsKICAgICAgICB3aGlsZSAoJG4gPj0gJGxvdykgewogICAgICAgICAgICAvLyBMb29rIGZvciBzaW5nbGUgc21hbGwgc3ViLWRpYWdvbmFsIGVsZW1lbnQKICAgICAgICAgICAgJGwgPSAkbjsKICAgICAgICAgICAgd2hpbGUgKCRsID4gJGxvdykgewogICAgICAgICAgICAgICAgJHMgPSBhYnMoJHRoaXMtPkhbJGwtMV1bJGwtMV0pICsgYWJzKCR0aGlzLT5IWyRsXVskbF0pOwogICAgICAgICAgICAgICAgaWYgKCRzID09IDAuMCkgewogICAgICAgICAgICAgICAgICAgICRzID0gJG5vcm07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoYWJzKCR0aGlzLT5IWyRsXVskbC0xXSkgPCAkZXBzICogJHMpIHsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC0tJGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbnZlcmdlbmNlCiAgICAgICAgICAgIC8vIE9uZSByb290IGZvdW5kCiAgICAgICAgICAgIGlmICgkbCA9PSAkbikgewogICAgICAgICAgICAgICAgJHRoaXMtPkhbJG5dWyRuXSA9ICR0aGlzLT5IWyRuXVskbl0gKyAkZXhzaGlmdDsKICAgICAgICAgICAgICAgICR0aGlzLT5kWyRuXSA9ICR0aGlzLT5IWyRuXVskbl07CiAgICAgICAgICAgICAgICAkdGhpcy0+ZVskbl0gPSAwLjA7CiAgICAgICAgICAgICAgICAtLSRuOwogICAgICAgICAgICAgICAgJGl0ZXIgPSAwOwogICAgICAgICAgICAvLyBUd28gcm9vdHMgZm91bmQKICAgICAgICAgICAgfSBlbHNlaWYgKCRsID09ICRuLTEpIHsKICAgICAgICAgICAgICAgICR3ID0gJHRoaXMtPkhbJG5dWyRuLTFdICogJHRoaXMtPkhbJG4tMV1bJG5dOwogICAgICAgICAgICAgICAgJHAgPSAoJHRoaXMtPkhbJG4tMV1bJG4tMV0gLSAkdGhpcy0+SFskbl1bJG5dKSAvIDIuMDsKICAgICAgICAgICAgICAgICRxID0gJHAgKiAkcCArICR3OwogICAgICAgICAgICAgICAgJHogPSBzcXJ0KGFicygkcSkpOwogICAgICAgICAgICAgICAgJHRoaXMtPkhbJG5dWyRuXSA9ICR0aGlzLT5IWyRuXVskbl0gKyAkZXhzaGlmdDsKICAgICAgICAgICAgICAgICR0aGlzLT5IWyRuLTFdWyRuLTFdID0gJHRoaXMtPkhbJG4tMV1bJG4tMV0gKyAkZXhzaGlmdDsKICAgICAgICAgICAgICAgICR4ID0gJHRoaXMtPkhbJG5dWyRuXTsKICAgICAgICAgICAgICAgIC8vIFJlYWwgcGFpcgogICAgICAgICAgICAgICAgaWYgKCRxID49IDApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJHAgPj0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAkeiA9ICRwICsgJHo7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHogPSAkcCAtICR6OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkdGhpcy0+ZFskbi0xXSA9ICR4ICsgJHo7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmRbJG5dID0gJHRoaXMtPmRbJG4tMV07CiAgICAgICAgICAgICAgICAgICAgaWYgKCR6ICE9IDAuMCkgewogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+ZFskbl0gPSAkeCAtICR3IC8gJHo7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICR0aGlzLT5lWyRuLTFdID0gMC4wOwogICAgICAgICAgICAgICAgICAgICR0aGlzLT5lWyRuXSA9IDAuMDsKICAgICAgICAgICAgICAgICAgICAkeCA9ICR0aGlzLT5IWyRuXVskbi0xXTsKICAgICAgICAgICAgICAgICAgICAkcyA9IGFicygkeCkgKyBhYnMoJHopOwogICAgICAgICAgICAgICAgICAgICRwID0gJHggLyAkczsKICAgICAgICAgICAgICAgICAgICAkcSA9ICR6IC8gJHM7CiAgICAgICAgICAgICAgICAgICAgJHIgPSBzcXJ0KCRwICogJHAgKyAkcSAqICRxKTsKICAgICAgICAgICAgICAgICAgICAkcCA9ICRwIC8gJHI7CiAgICAgICAgICAgICAgICAgICAgJHEgPSAkcSAvICRyOwogICAgICAgICAgICAgICAgICAgIC8vIFJvdyBtb2RpZmljYXRpb24KICAgICAgICAgICAgICAgICAgICBmb3IgKCRqID0gJG4tMTsgJGogPCAkbm47ICsrJGopIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHogPSAkdGhpcy0+SFskbi0xXVskal07CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5IWyRuLTFdWyRqXSA9ICRxICogJHogKyAkcCAqICR0aGlzLT5IWyRuXVskal07CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5IWyRuXVskal0gPSAkcSAqICR0aGlzLT5IWyRuXVskal0gLSAkcCAqICR6OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyBDb2x1bW4gbW9kaWZpY2F0aW9uCiAgICAgICAgICAgICAgICAgICAgZm9yICgkaSA9IDA7ICRpIDw9ICRuOyArKyRpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICR6ID0gJHRoaXMtPkhbJGldWyRuLTFdOwogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+SFskaV1bJG4tMV0gPSAkcSAqICR6ICsgJHAgKiAkdGhpcy0+SFskaV1bJG5dOwogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+SFskaV1bJG5dID0gJHEgKiAkdGhpcy0+SFskaV1bJG5dIC0gJHAgKiAkejsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8gQWNjdW11bGF0ZSB0cmFuc2Zvcm1hdGlvbnMKICAgICAgICAgICAgICAgICAgICBmb3IgKCRpID0gJGxvdzsgJGkgPD0gJGhpZ2g7ICsrJGkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHogPSAkdGhpcy0+VlskaV1bJG4tMV07CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5WWyRpXVskbi0xXSA9ICRxICogJHogKyAkcCAqICR0aGlzLT5WWyRpXVskbl07CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5WWyRpXVskbl0gPSAkcSAqICR0aGlzLT5WWyRpXVskbl0gLSAkcCAqICR6OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIENvbXBsZXggcGFpcgogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+ZFskbi0xXSA9ICR4ICsgJHA7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmRbJG5dID0gJHggKyAkcDsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+ZVskbi0xXSA9ICR6OwogICAgICAgICAgICAgICAgICAgICR0aGlzLT5lWyRuXSA9IC0kejsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRuID0gJG4gLSAyOwogICAgICAgICAgICAgICAgJGl0ZXIgPSAwOwogICAgICAgICAgICAvLyBObyBjb252ZXJnZW5jZSB5ZXQKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIEZvcm0gc2hpZnQKICAgICAgICAgICAgICAgICR4ID0gJHRoaXMtPkhbJG5dWyRuXTsKICAgICAgICAgICAgICAgICR5ID0gMC4wOwogICAgICAgICAgICAgICAgJHcgPSAwLjA7CiAgICAgICAgICAgICAgICBpZiAoJGwgPCAkbikgewogICAgICAgICAgICAgICAgICAgICR5ID0gJHRoaXMtPkhbJG4tMV1bJG4tMV07CiAgICAgICAgICAgICAgICAgICAgJHcgPSAkdGhpcy0+SFskbl1bJG4tMV0gKiAkdGhpcy0+SFskbi0xXVskbl07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBXaWxraW5zb24ncyBvcmlnaW5hbCBhZCBob2Mgc2hpZnQKICAgICAgICAgICAgICAgIGlmICgkaXRlciA9PSAxMCkgewogICAgICAgICAgICAgICAgICAgICRleHNoaWZ0ICs9ICR4OwogICAgICAgICAgICAgICAgICAgIGZvciAoJGkgPSAkbG93OyAkaSA8PSAkbjsgKyskaSkgewogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+SFskaV1bJGldIC09ICR4OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkcyA9IGFicygkdGhpcy0+SFskbl1bJG4tMV0pICsgYWJzKCR0aGlzLT5IWyRuLTFdWyRuLTJdKTsKICAgICAgICAgICAgICAgICAgICAkeCA9ICR5ID0gMC43NSAqICRzOwogICAgICAgICAgICAgICAgICAgICR3ID0gLTAuNDM3NSAqICRzICogJHM7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBNQVRMQUIncyBuZXcgYWQgaG9jIHNoaWZ0CiAgICAgICAgICAgICAgICBpZiAoJGl0ZXIgPT0gMzApIHsKICAgICAgICAgICAgICAgICAgICAkcyA9ICgkeSAtICR4KSAvIDIuMDsKICAgICAgICAgICAgICAgICAgICAkcyA9ICRzICogJHMgKyAkdzsKICAgICAgICAgICAgICAgICAgICBpZiAoJHMgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzID0gc3FydCgkcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkeSA8ICR4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcyA9IC0kczsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkcyA9ICR4IC0gJHcgLyAoKCR5IC0gJHgpIC8gMi4wICsgJHMpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCRpID0gJGxvdzsgJGkgPD0gJG47ICsrJGkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5IWyRpXVskaV0gLT0gJHM7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJGV4c2hpZnQgKz0gJHM7CiAgICAgICAgICAgICAgICAgICAgICAgICR4ID0gJHkgPSAkdyA9IDAuOTY0OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIENvdWxkIGNoZWNrIGl0ZXJhdGlvbiBjb3VudCBoZXJlLgogICAgICAgICAgICAgICAgJGl0ZXIgPSAkaXRlciArIDE7CiAgICAgICAgICAgICAgICAvLyBMb29rIGZvciB0d28gY29uc2VjdXRpdmUgc21hbGwgc3ViLWRpYWdvbmFsIGVsZW1lbnRzCiAgICAgICAgICAgICAgICAkbSA9ICRuIC0gMjsKICAgICAgICAgICAgICAgIHdoaWxlICgkbSA+PSAkbCkgewogICAgICAgICAgICAgICAgICAgICR6ID0gJHRoaXMtPkhbJG1dWyRtXTsKICAgICAgICAgICAgICAgICAgICAkciA9ICR4IC0gJHo7CiAgICAgICAgICAgICAgICAgICAgJHMgPSAkeSAtICR6OwogICAgICAgICAgICAgICAgICAgICRwID0gKCRyICogJHMgLSAkdykgLyAkdGhpcy0+SFskbSsxXVskbV0gKyAkdGhpcy0+SFskbV1bJG0rMV07CiAgICAgICAgICAgICAgICAgICAgJHEgPSAkdGhpcy0+SFskbSsxXVskbSsxXSAtICR6IC0gJHIgLSAkczsKICAgICAgICAgICAgICAgICAgICAkciA9ICR0aGlzLT5IWyRtKzJdWyRtKzFdOwogICAgICAgICAgICAgICAgICAgICRzID0gYWJzKCRwKSArIGFicygkcSkgKyBhYnMoJHIpOwogICAgICAgICAgICAgICAgICAgICRwID0gJHAgLyAkczsKICAgICAgICAgICAgICAgICAgICAkcSA9ICRxIC8gJHM7CiAgICAgICAgICAgICAgICAgICAgJHIgPSAkciAvICRzOwogICAgICAgICAgICAgICAgICAgIGlmICgkbSA9PSAkbCkgewogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGFicygkdGhpcy0+SFskbV1bJG0tMV0pICogKGFicygkcSkgKyBhYnMoJHIpKSA8CiAgICAgICAgICAgICAgICAgICAgICAgICRlcHMgKiAoYWJzKCRwKSAqIChhYnMoJHRoaXMtPkhbJG0tMV1bJG0tMV0pICsgYWJzKCR6KSArIGFicygkdGhpcy0+SFskbSsxXVskbSsxXSkpKSkgewogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLS0kbTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAoJGkgPSAkbSArIDI7ICRpIDw9ICRuOyArKyRpKSB7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPkhbJGldWyRpLTJdID0gMC4wOwogICAgICAgICAgICAgICAgICAgIGlmICgkaSA+ICRtKzIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPkhbJGldWyRpLTNdID0gMC4wOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIERvdWJsZSBRUiBzdGVwIGludm9sdmluZyByb3dzIGw6biBhbmQgY29sdW1ucyBtOm4KICAgICAgICAgICAgICAgIGZvciAoJGsgPSAkbTsgJGsgPD0gJG4tMTsgKyskaykgewogICAgICAgICAgICAgICAgICAgICRub3RsYXN0ID0gKCRrICE9ICRuLTEpOwogICAgICAgICAgICAgICAgICAgIGlmICgkayAhPSAkbSkgewogICAgICAgICAgICAgICAgICAgICAgICAkcCA9ICR0aGlzLT5IWyRrXVskay0xXTsKICAgICAgICAgICAgICAgICAgICAgICAgJHEgPSAkdGhpcy0+SFskaysxXVskay0xXTsKICAgICAgICAgICAgICAgICAgICAgICAgJHIgPSAoJG5vdGxhc3QgPyAkdGhpcy0+SFskaysyXVskay0xXSA6IDAuMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICR4ID0gYWJzKCRwKSArIGFicygkcSkgKyBhYnMoJHIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHggIT0gMC4wKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcCA9ICRwIC8gJHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcSA9ICRxIC8gJHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkciA9ICRyIC8gJHg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCR4ID09IDAuMCkgewogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJHMgPSBzcXJ0KCRwICogJHAgKyAkcSAqICRxICsgJHIgKiAkcik7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRwIDwgMCkgewogICAgICAgICAgICAgICAgICAgICAgICAkcyA9IC0kczsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRzICE9IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRrICE9ICRtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+SFska11bJGstMV0gPSAtJHMgKiAkeDsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlaWYgKCRsICE9ICRtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+SFska11bJGstMV0gPSAtJHRoaXMtPkhbJGtdWyRrLTFdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICRwID0gJHAgKyAkczsKICAgICAgICAgICAgICAgICAgICAgICAgJHggPSAkcCAvICRzOwogICAgICAgICAgICAgICAgICAgICAgICAkeSA9ICRxIC8gJHM7CiAgICAgICAgICAgICAgICAgICAgICAgICR6ID0gJHIgLyAkczsKICAgICAgICAgICAgICAgICAgICAgICAgJHEgPSAkcSAvICRwOwogICAgICAgICAgICAgICAgICAgICAgICAkciA9ICRyIC8gJHA7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJvdyBtb2RpZmljYXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICgkaiA9ICRrOyAkaiA8ICRubjsgKyskaikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHAgPSAkdGhpcy0+SFska11bJGpdICsgJHEgKiAkdGhpcy0+SFskaysxXVskal07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJG5vdGxhc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcCA9ICRwICsgJHIgKiAkdGhpcy0+SFskaysyXVskal07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPkhbJGsrMl1bJGpdID0gJHRoaXMtPkhbJGsrMl1bJGpdIC0gJHAgKiAkejsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5IWyRrXVskal0gPSAkdGhpcy0+SFska11bJGpdIC0gJHAgKiAkeDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5IWyRrKzFdWyRqXSA9ICR0aGlzLT5IWyRrKzFdWyRqXSAtICRwICogJHk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29sdW1uIG1vZGlmaWNhdGlvbgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCRpID0gMDsgJGkgPD0gbWluKCRuLCAkayszKTsgKyskaSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHAgPSAkeCAqICR0aGlzLT5IWyRpXVska10gKyAkeSAqICR0aGlzLT5IWyRpXVskaysxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkbm90bGFzdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwID0gJHAgKyAkeiAqICR0aGlzLT5IWyRpXVskaysyXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+SFskaV1bJGsrMl0gPSAkdGhpcy0+SFskaV1bJGsrMl0gLSAkcCAqICRyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPkhbJGldWyRrXSA9ICR0aGlzLT5IWyRpXVska10gLSAkcDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5IWyRpXVskaysxXSA9ICR0aGlzLT5IWyRpXVskaysxXSAtICRwICogJHE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWNjdW11bGF0ZSB0cmFuc2Zvcm1hdGlvbnMKICAgICAgICAgICAgICAgICAgICAgICAgZm9yICgkaSA9ICRsb3c7ICRpIDw9ICRoaWdoOyArKyRpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcCA9ICR4ICogJHRoaXMtPlZbJGldWyRrXSArICR5ICogJHRoaXMtPlZbJGldWyRrKzFdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRub3RsYXN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHAgPSAkcCArICR6ICogJHRoaXMtPlZbJGldWyRrKzJdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5WWyRpXVskaysyXSA9ICR0aGlzLT5WWyRpXVskaysyXSAtICRwICogJHI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+VlskaV1bJGtdID0gJHRoaXMtPlZbJGldWyRrXSAtICRwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPlZbJGldWyRrKzFdID0gJHRoaXMtPlZbJGldWyRrKzFdIC0gJHAgKiAkcTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gIC8vICgkcyAhPSAwKQogICAgICAgICAgICAgICAgfSAgLy8gayBsb29wCiAgICAgICAgICAgIH0gIC8vIGNoZWNrIGNvbnZlcmdlbmNlCiAgICAgICAgfSAgLy8gd2hpbGUgKCRuID49ICRsb3cpCgogICAgICAgIC8vIEJhY2tzdWJzdGl0dXRlIHRvIGZpbmQgdmVjdG9ycyBvZiB1cHBlciB0cmlhbmd1bGFyIGZvcm0KICAgICAgICBpZiAoJG5vcm0gPT0gMC4wKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGZvciAoJG4gPSAkbm4tMTsgJG4gPj0gMDsgLS0kbikgewogICAgICAgICAgICAkcCA9ICR0aGlzLT5kWyRuXTsKICAgICAgICAgICAgJHEgPSAkdGhpcy0+ZVskbl07CiAgICAgICAgICAgIC8vIFJlYWwgdmVjdG9yCiAgICAgICAgICAgIGlmICgkcSA9PSAwKSB7CiAgICAgICAgICAgICAgICAkbCA9ICRuOwogICAgICAgICAgICAgICAgJHRoaXMtPkhbJG5dWyRuXSA9IDEuMDsKICAgICAgICAgICAgICAgIGZvciAoJGkgPSAkbi0xOyAkaSA+PSAwOyAtLSRpKSB7CiAgICAgICAgICAgICAgICAgICAgJHcgPSAkdGhpcy0+SFskaV1bJGldIC0gJHA7CiAgICAgICAgICAgICAgICAgICAgJHIgPSAwLjA7CiAgICAgICAgICAgICAgICAgICAgZm9yICgkaiA9ICRsOyAkaiA8PSAkbjsgKyskaikgewogICAgICAgICAgICAgICAgICAgICAgICAkciA9ICRyICsgJHRoaXMtPkhbJGldWyRqXSAqICR0aGlzLT5IWyRqXVskbl07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkdGhpcy0+ZVskaV0gPCAwLjApIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHogPSAkdzsKICAgICAgICAgICAgICAgICAgICAgICAgJHMgPSAkcjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkbCA9ICRpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHRoaXMtPmVbJGldID09IDAuMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR3ICE9IDAuMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5IWyRpXVskbl0gPSAtJHIgLyAkdzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPkhbJGldWyRuXSA9IC0kciAvICgkZXBzICogJG5vcm0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvLyBTb2x2ZSByZWFsIGVxdWF0aW9ucwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHggPSAkdGhpcy0+SFskaV1bJGkrMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkeSA9ICR0aGlzLT5IWyRpKzFdWyRpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRxID0gKCR0aGlzLT5kWyRpXSAtICRwKSAqICgkdGhpcy0+ZFskaV0gLSAkcCkgKyAkdGhpcy0+ZVskaV0gKiAkdGhpcy0+ZVskaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdCA9ICgkeCAqICRzIC0gJHogKiAkcikgLyAkcTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5IWyRpXVskbl0gPSAkdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhYnMoJHgpID4gYWJzKCR6KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5IWyRpKzFdWyRuXSA9ICgtJHIgLSAkdyAqICR0KSAvICR4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+SFskaSsxXVskbl0gPSAoLSRzIC0gJHkgKiAkdCkgLyAkejsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvLyBPdmVyZmxvdyBjb250cm9sCiAgICAgICAgICAgICAgICAgICAgICAgICR0ID0gYWJzKCR0aGlzLT5IWyRpXVskbl0pOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRlcHMgKiAkdCkgKiAkdCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoJGogPSAkaTsgJGogPD0gJG47ICsrJGopIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+SFskal1bJG5dID0gJHRoaXMtPkhbJGpdWyRuXSAvICR0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBDb21wbGV4IHZlY3RvcgogICAgICAgICAgICB9IGVsc2VpZiAoJHEgPCAwKSB7CiAgICAgICAgICAgICAgICAkbCA9ICRuLTE7CiAgICAgICAgICAgICAgICAvLyBMYXN0IHZlY3RvciBjb21wb25lbnQgaW1hZ2luYXJ5IHNvIG1hdHJpeCBpcyB0cmlhbmd1bGFyCiAgICAgICAgICAgICAgICBpZiAoYWJzKCR0aGlzLT5IWyRuXVskbi0xXSkgPiBhYnMoJHRoaXMtPkhbJG4tMV1bJG5dKSkgewogICAgICAgICAgICAgICAgICAgICR0aGlzLT5IWyRuLTFdWyRuLTFdID0gJHEgLyAkdGhpcy0+SFskbl1bJG4tMV07CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPkhbJG4tMV1bJG5dID0gLSgkdGhpcy0+SFskbl1bJG5dIC0gJHApIC8gJHRoaXMtPkhbJG5dWyRuLTFdOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+Y2RpdigwLjAsIC0kdGhpcy0+SFskbi0xXVskbl0sICR0aGlzLT5IWyRuLTFdWyRuLTFdIC0gJHAsICRxKTsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+SFskbi0xXVskbi0xXSA9ICR0aGlzLT5jZGl2cjsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+SFskbi0xXVskbl0gICA9ICR0aGlzLT5jZGl2aTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICR0aGlzLT5IWyRuXVskbi0xXSA9IDAuMDsKICAgICAgICAgICAgICAgICR0aGlzLT5IWyRuXVskbl0gPSAxLjA7CiAgICAgICAgICAgICAgICBmb3IgKCRpID0gJG4tMjsgJGkgPj0gMDsgLS0kaSkgewogICAgICAgICAgICAgICAgICAgIC8vIGRvdWJsZSByYSxzYSx2cix2aTsKICAgICAgICAgICAgICAgICAgICAkcmEgPSAwLjA7CiAgICAgICAgICAgICAgICAgICAgJHNhID0gMC4wOwogICAgICAgICAgICAgICAgICAgIGZvciAoJGogPSAkbDsgJGogPD0gJG47ICsrJGopIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHJhID0gJHJhICsgJHRoaXMtPkhbJGldWyRqXSAqICR0aGlzLT5IWyRqXVskbi0xXTsKICAgICAgICAgICAgICAgICAgICAgICAgJHNhID0gJHNhICsgJHRoaXMtPkhbJGldWyRqXSAqICR0aGlzLT5IWyRqXVskbl07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICR3ID0gJHRoaXMtPkhbJGldWyRpXSAtICRwOwogICAgICAgICAgICAgICAgICAgIGlmICgkdGhpcy0+ZVskaV0gPCAwLjApIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHogPSAkdzsKICAgICAgICAgICAgICAgICAgICAgICAgJHIgPSAkcmE7CiAgICAgICAgICAgICAgICAgICAgICAgICRzID0gJHNhOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRsID0gJGk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdGhpcy0+ZVskaV0gPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmNkaXYoLSRyYSwgLSRzYSwgJHcsICRxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5IWyRpXVskbi0xXSA9ICR0aGlzLT5jZGl2cjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5IWyRpXVskbl0gICA9ICR0aGlzLT5jZGl2aTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNvbHZlIGNvbXBsZXggZXF1YXRpb25zCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkeCA9ICR0aGlzLT5IWyRpXVskaSsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR5ID0gJHRoaXMtPkhbJGkrMV1bJGldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZyID0gKCR0aGlzLT5kWyRpXSAtICRwKSAqICgkdGhpcy0+ZFskaV0gLSAkcCkgKyAkdGhpcy0+ZVskaV0gKiAkdGhpcy0+ZVskaV0gLSAkcSAqICRxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZpID0gKCR0aGlzLT5kWyRpXSAtICRwKSAqIDIuMCAqICRxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR2ciA9PSAwLjAgJiAkdmkgPT0gMC4wKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZyID0gJGVwcyAqICRub3JtICogKGFicygkdykgKyBhYnMoJHEpICsgYWJzKCR4KSArIGFicygkeSkgKyBhYnMoJHopKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5jZGl2KCR4ICogJHIgLSAkeiAqICRyYSArICRxICogJHNhLCAkeCAqICRzIC0gJHogKiAkc2EgLSAkcSAqICRyYSwgJHZyLCAkdmkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPkhbJGldWyRuLTFdID0gJHRoaXMtPmNkaXZyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPkhbJGldWyRuXSAgID0gJHRoaXMtPmNkaXZpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFicygkeCkgPiAoYWJzKCR6KSArIGFicygkcSkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPkhbJGkrMV1bJG4tMV0gPSAoLSRyYSAtICR3ICogJHRoaXMtPkhbJGldWyRuLTFdICsgJHEgKiAkdGhpcy0+SFskaV1bJG5dKSAvICR4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5IWyRpKzFdWyRuXSA9ICgtJHNhIC0gJHcgKiAkdGhpcy0+SFskaV1bJG5dIC0gJHEgKiAkdGhpcy0+SFskaV1bJG4tMV0pIC8gJHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5jZGl2KC0kciAtICR5ICogJHRoaXMtPkhbJGldWyRuLTFdLCAtJHMgLSAkeSAqICR0aGlzLT5IWyRpXVskbl0sICR6LCAkcSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPkhbJGkrMV1bJG4tMV0gPSAkdGhpcy0+Y2RpdnI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPkhbJGkrMV1bJG5dICAgPSAkdGhpcy0+Y2Rpdmk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3ZlcmZsb3cgY29udHJvbAogICAgICAgICAgICAgICAgICAgICAgICAkdCA9IG1heChhYnMoJHRoaXMtPkhbJGldWyRuLTFdKSwgYWJzKCR0aGlzLT5IWyRpXVskbl0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgkZXBzICogJHQpICogJHQgPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCRqID0gJGk7ICRqIDw9ICRuOyArKyRqKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPkhbJGpdWyRuLTFdID0gJHRoaXMtPkhbJGpdWyRuLTFdIC8gJHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPkhbJGpdWyRuXSAgID0gJHRoaXMtPkhbJGpdWyRuXSAvICR0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSAvLyBlbmQgZWxzZQogICAgICAgICAgICAgICAgfSAvLyBlbmQgZm9yCiAgICAgICAgICAgIH0gLy8gZW5kIGVsc2UgZm9yIGNvbXBsZXggY2FzZQogICAgICAgIH0gLy8gZW5kIGZvcgoKICAgICAgICAvLyBWZWN0b3JzIG9mIGlzb2xhdGVkIHJvb3RzCiAgICAgICAgZm9yICgkaSA9IDA7ICRpIDwgJG5uOyArKyRpKSB7CiAgICAgICAgICAgIGlmICgkaSA8ICRsb3cgfCAkaSA+ICRoaWdoKSB7CiAgICAgICAgICAgICAgICBmb3IgKCRqID0gJGk7ICRqIDwgJG5uOyArKyRqKSB7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPlZbJGldWyRqXSA9ICR0aGlzLT5IWyRpXVskal07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIEJhY2sgdHJhbnNmb3JtYXRpb24gdG8gZ2V0IGVpZ2VudmVjdG9ycyBvZiBvcmlnaW5hbCBtYXRyaXgKICAgICAgICBmb3IgKCRqID0gJG5uLTE7ICRqID49ICRsb3c7IC0tJGopIHsKICAgICAgICAgICAgZm9yICgkaSA9ICRsb3c7ICRpIDw9ICRoaWdoOyArKyRpKSB7CiAgICAgICAgICAgICAgICAkeiA9IDAuMDsKICAgICAgICAgICAgICAgIGZvciAoJGsgPSAkbG93OyAkayA8PSBtaW4oJGosICRoaWdoKTsgKyskaykgewogICAgICAgICAgICAgICAgICAgICR6ID0gJHogKyAkdGhpcy0+VlskaV1bJGtdICogJHRoaXMtPkhbJGtdWyRqXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICR0aGlzLT5WWyRpXVskal0gPSAkejsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0gLy8gZW5kIGhxcjIKCiAgICAvKioKICAgICAqICAgIENvbnN0cnVjdG9yOiBDaGVjayBmb3Igc3ltbWV0cnksIHRoZW4gY29uc3RydWN0IHRoZSBlaWdlbnZhbHVlIGRlY29tcG9zaXRpb24KICAgICAqCiAgICAgKiAgICBAYWNjZXNzIHB1YmxpYwogICAgICogICAgQHBhcmFtIEEgIFNxdWFyZSBtYXRyaXgKICAgICAqICAgIEByZXR1cm4gU3RydWN0dXJlIHRvIGFjY2VzcyBEIGFuZCBWLgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJEFyZykKICAgIHsKICAgICAgICAkdGhpcy0+QSA9ICRBcmctPmdldEFycmF5KCk7CiAgICAgICAgJHRoaXMtPm4gPSAkQXJnLT5nZXRDb2x1bW5EaW1lbnNpb24oKTsKCiAgICAgICAgJGlzc3ltbWV0cmljID0gdHJ1ZTsKICAgICAgICBmb3IgKCRqID0gMDsgKCRqIDwgJHRoaXMtPm4pICYgJGlzc3ltbWV0cmljOyArKyRqKSB7CiAgICAgICAgICAgIGZvciAoJGkgPSAwOyAoJGkgPCAkdGhpcy0+bikgJiAkaXNzeW1tZXRyaWM7ICsrJGkpIHsKICAgICAgICAgICAgICAgICRpc3N5bW1ldHJpYyA9ICgkdGhpcy0+QVskaV1bJGpdID09ICR0aGlzLT5BWyRqXVskaV0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoJGlzc3ltbWV0cmljKSB7CiAgICAgICAgICAgICR0aGlzLT5WID0gJHRoaXMtPkE7CiAgICAgICAgICAgIC8vIFRyaWRpYWdvbmFsaXplLgogICAgICAgICAgICAkdGhpcy0+dHJlZDIoKTsKICAgICAgICAgICAgLy8gRGlhZ29uYWxpemUuCiAgICAgICAgICAgICR0aGlzLT50cWwyKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJHRoaXMtPkggPSAkdGhpcy0+QTsKICAgICAgICAgICAgJHRoaXMtPm9ydCA9IGFycmF5KCk7CiAgICAgICAgICAgIC8vIFJlZHVjZSB0byBIZXNzZW5iZXJnIGZvcm0uCiAgICAgICAgICAgICR0aGlzLT5vcnRoZXMoKTsKICAgICAgICAgICAgLy8gUmVkdWNlIEhlc3NlbmJlcmcgdG8gcmVhbCBTY2h1ciBmb3JtLgogICAgICAgICAgICAkdGhpcy0+aHFyMigpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqICAgIFJldHVybiB0aGUgZWlnZW52ZWN0b3IgbWF0cml4CiAgICAgKgogICAgICogICAgQGFjY2VzcyBwdWJsaWMKICAgICAqICAgIEByZXR1cm4gVgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0VigpCiAgICB7CiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoJHRoaXMtPlYsICR0aGlzLT5uLCAkdGhpcy0+bik7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBSZXR1cm4gdGhlIHJlYWwgcGFydHMgb2YgdGhlIGVpZ2VudmFsdWVzCiAgICAgKgogICAgICogICAgQGFjY2VzcyBwdWJsaWMKICAgICAqICAgIEByZXR1cm4gcmVhbChkaWFnKEQpKQogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0UmVhbEVpZ2VudmFsdWVzKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmQ7CiAgICB9CgogICAgLyoqCiAgICAgKiAgICBSZXR1cm4gdGhlIGltYWdpbmFyeSBwYXJ0cyBvZiB0aGUgZWlnZW52YWx1ZXMKICAgICAqCiAgICAgKiAgICBAYWNjZXNzIHB1YmxpYwogICAgICogICAgQHJldHVybiBpbWFnKGRpYWcoRCkpCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRJbWFnRWlnZW52YWx1ZXMoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+ZTsKICAgIH0KCiAgICAvKioKICAgICAqICAgIFJldHVybiB0aGUgYmxvY2sgZGlhZ29uYWwgZWlnZW52YWx1ZSBtYXRyaXgKICAgICAqCiAgICAgKiAgICBAYWNjZXNzIHB1YmxpYwogICAgICogICAgQHJldHVybiBECiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXREKCkKICAgIHsKICAgICAgICBmb3IgKCRpID0gMDsgJGkgPCAkdGhpcy0+bjsgKyskaSkgewogICAgICAgICAgICAkRFskaV0gPSBhcnJheV9maWxsKDAsICR0aGlzLT5uLCAwLjApOwogICAgICAgICAgICAkRFskaV1bJGldID0gJHRoaXMtPmRbJGldOwogICAgICAgICAgICBpZiAoJHRoaXMtPmVbJGldID09IDApIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgICRvID0gKCR0aGlzLT5lWyRpXSA+IDApID8gJGkgKyAxIDogJGkgLSAxOwogICAgICAgICAgICAkRFskaV1bJG9dID0gJHRoaXMtPmVbJGldOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgkRCk7CiAgICB9Cn0K",
    "size": "32463"
}