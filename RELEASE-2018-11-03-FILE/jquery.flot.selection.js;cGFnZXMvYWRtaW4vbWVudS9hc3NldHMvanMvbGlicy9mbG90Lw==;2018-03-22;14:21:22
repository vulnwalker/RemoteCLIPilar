{
    "namaFile": "pages\/admin\/menu\/assets\/js\/libs\/flot\/jquery.flot.selection.js",
    "lastUpdate": "2018-03-22+14:21:22.23",
    "contentFile": "LyogRmxvdCBwbHVnaW4gZm9yIHNlbGVjdGluZyByZWdpb25zIG9mIGEgcGxvdC4KCkNvcHlyaWdodCAoYykgMjAwNy0yMDE0IElPTEEgYW5kIE9sZSBMYXVyc2VuLgpMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCgpUaGUgcGx1Z2luIHN1cHBvcnRzIHRoZXNlIG9wdGlvbnM6CgpzZWxlY3Rpb246IHsKCW1vZGU6IG51bGwgb3IgIngiIG9yICJ5IiBvciAieHkiLAoJY29sb3I6IGNvbG9yLAoJc2hhcGU6ICJyb3VuZCIgb3IgIm1pdGVyIiBvciAiYmV2ZWwiLAoJbWluU2l6ZTogbnVtYmVyIG9mIHBpeGVscwp9CgpTZWxlY3Rpb24gc3VwcG9ydCBpcyBlbmFibGVkIGJ5IHNldHRpbmcgdGhlIG1vZGUgdG8gb25lIG9mICJ4IiwgInkiIG9yICJ4eSIuCkluICJ4IiBtb2RlLCB0aGUgdXNlciB3aWxsIG9ubHkgYmUgYWJsZSB0byBzcGVjaWZ5IHRoZSB4IHJhbmdlLCBzaW1pbGFybHkgZm9yCiJ5IiBtb2RlLiBGb3IgInh5IiwgdGhlIHNlbGVjdGlvbiBiZWNvbWVzIGEgcmVjdGFuZ2xlIHdoZXJlIGJvdGggcmFuZ2VzIGNhbiBiZQpzcGVjaWZpZWQuICJjb2xvciIgaXMgY29sb3Igb2YgdGhlIHNlbGVjdGlvbiAoaWYgeW91IG5lZWQgdG8gY2hhbmdlIHRoZSBjb2xvcgpsYXRlciBvbiwgeW91IGNhbiBnZXQgdG8gaXQgd2l0aCBwbG90LmdldE9wdGlvbnMoKS5zZWxlY3Rpb24uY29sb3IpLiAic2hhcGUiCmlzIHRoZSBzaGFwZSBvZiB0aGUgY29ybmVycyBvZiB0aGUgc2VsZWN0aW9uLgoKIm1pblNpemUiIGlzIHRoZSBtaW5pbXVtIHNpemUgYSBzZWxlY3Rpb24gY2FuIGJlIGluIHBpeGVscy4gVGhpcyB2YWx1ZSBjYW4KYmUgY3VzdG9taXplZCB0byBkZXRlcm1pbmUgdGhlIHNtYWxsZXN0IHNpemUgYSBzZWxlY3Rpb24gY2FuIGJlIGFuZCBzdGlsbApoYXZlIHRoZSBzZWxlY3Rpb24gcmVjdGFuZ2xlIGJlIGRpc3BsYXllZC4gV2hlbiBjdXN0b21pemluZyB0aGlzIHZhbHVlLCB0aGUKZmFjdCB0aGF0IGl0IHJlZmVycyB0byBwaXhlbHMsIG5vdCBheGlzIHVuaXRzIG11c3QgYmUgdGFrZW4gaW50byBhY2NvdW50LgpUaHVzLCBmb3IgZXhhbXBsZSwgaWYgdGhlcmUgaXMgYSBiYXIgZ3JhcGggaW4gdGltZSBtb2RlIHdpdGggQmFyV2lkdGggc2V0IHRvIDEKbWludXRlLCBzZXR0aW5nICJtaW5TaXplIiB0byAxIHdpbGwgbm90IG1ha2UgdGhlIG1pbmltdW0gc2VsZWN0aW9uIHNpemUgMQptaW51dGUsIGJ1dCByYXRoZXIgMSBwaXhlbC4gTm90ZSBhbHNvIHRoYXQgc2V0dGluZyAibWluU2l6ZSIgdG8gMCB3aWxsIHByZXZlbnQKInBsb3R1bnNlbGVjdGVkIiBldmVudHMgZnJvbSBiZWluZyBmaXJlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyB0aGUgbW91c2Ugd2l0aG91dApkcmFnZ2luZy4KCldoZW4gc2VsZWN0aW9uIHN1cHBvcnQgaXMgZW5hYmxlZCwgYSAicGxvdHNlbGVjdGVkIiBldmVudCB3aWxsIGJlIGVtaXR0ZWQgb24KdGhlIERPTSBlbGVtZW50IHlvdSBwYXNzZWQgaW50byB0aGUgcGxvdCBmdW5jdGlvbi4gVGhlIGV2ZW50IGhhbmRsZXIgZ2V0cyBhCnBhcmFtZXRlciB3aXRoIHRoZSByYW5nZXMgc2VsZWN0ZWQgb24gdGhlIGF4ZXMsIGxpa2UgdGhpczoKCglwbGFjZWhvbGRlci5iaW5kKCAicGxvdHNlbGVjdGVkIiwgZnVuY3Rpb24oIGV2ZW50LCByYW5nZXMgKSB7CgkJYWxlcnQoIllvdSBzZWxlY3RlZCAiICsgcmFuZ2VzLnhheGlzLmZyb20gKyAiIHRvICIgKyByYW5nZXMueGF4aXMudG8pCgkJLy8gc2ltaWxhciBmb3IgeWF4aXMgLSB3aXRoIG11bHRpcGxlIGF4ZXMsIHRoZSBleHRyYSBvbmVzIGFyZSBpbgoJCS8vIHgyYXhpcywgeDNheGlzLCAuLi4KCX0pOwoKVGhlICJwbG90c2VsZWN0ZWQiIGV2ZW50IGlzIG9ubHkgZmlyZWQgd2hlbiB0aGUgdXNlciBoYXMgZmluaXNoZWQgbWFraW5nIHRoZQpzZWxlY3Rpb24uIEEgInBsb3RzZWxlY3RpbmciIGV2ZW50IGlzIGZpcmVkIGR1cmluZyB0aGUgcHJvY2VzcyB3aXRoIHRoZSBzYW1lCnBhcmFtZXRlcnMgYXMgdGhlICJwbG90c2VsZWN0ZWQiIGV2ZW50LCBpbiBjYXNlIHlvdSB3YW50IHRvIGtub3cgd2hhdCdzCmhhcHBlbmluZyB3aGlsZSBpdCdzIGhhcHBlbmluZywKCkEgInBsb3R1bnNlbGVjdGVkIiBldmVudCB3aXRoIG5vIGFyZ3VtZW50cyBpcyBlbWl0dGVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZQptb3VzZSB0byByZW1vdmUgdGhlIHNlbGVjdGlvbi4gQXMgc3RhdGVkIGFib3ZlLCBzZXR0aW5nICJtaW5TaXplIiB0byAwIHdpbGwKZGVzdHJveSB0aGlzIGJlaGF2aW9yLgoKVGhlIHBsdWdpbiBhbGxzbyBhZGRzIHRoZSBmb2xsb3dpbmcgbWV0aG9kcyB0byB0aGUgcGxvdCBvYmplY3Q6CgotIHNldFNlbGVjdGlvbiggcmFuZ2VzLCBwcmV2ZW50RXZlbnQgKQoKICBTZXQgdGhlIHNlbGVjdGlvbiByZWN0YW5nbGUuIFRoZSBwYXNzZWQgaW4gcmFuZ2VzIGlzIG9uIHRoZSBzYW1lIGZvcm0gYXMKICByZXR1cm5lZCBpbiB0aGUgInBsb3RzZWxlY3RlZCIgZXZlbnQuIElmIHRoZSBzZWxlY3Rpb24gbW9kZSBpcyAieCIsIHlvdQogIHNob3VsZCBwdXQgaW4gZWl0aGVyIGFuIHhheGlzIHJhbmdlLCBpZiB0aGUgbW9kZSBpcyAieSIgeW91IG5lZWQgdG8gcHV0IGluCiAgYW4geWF4aXMgcmFuZ2UgYW5kIGJvdGggeGF4aXMgYW5kIHlheGlzIGlmIHRoZSBzZWxlY3Rpb24gbW9kZSBpcyAieHkiLCBsaWtlCiAgdGhpczoKCglzZXRTZWxlY3Rpb24oeyB4YXhpczogeyBmcm9tOiAwLCB0bzogMTAgfSwgeWF4aXM6IHsgZnJvbTogNDAsIHRvOiA2MCB9IH0pOwoKICBzZXRTZWxlY3Rpb24gd2lsbCB0cmlnZ2VyIHRoZSAicGxvdHNlbGVjdGVkIiBldmVudCB3aGVuIGNhbGxlZC4gSWYgeW91IGRvbid0CiAgd2FudCB0aGF0IHRvIGhhcHBlbiwgZS5nLiBpZiB5b3UncmUgaW5zaWRlIGEgInBsb3RzZWxlY3RlZCIgaGFuZGxlciwgcGFzcwogIHRydWUgYXMgdGhlIHNlY29uZCBwYXJhbWV0ZXIuIElmIHlvdSBhcmUgdXNpbmcgbXVsdGlwbGUgYXhlcywgeW91IGNhbgogIHNwZWNpZnkgdGhlIHJhbmdlcyBvbiBhbnkgb2YgdGhvc2UsIGUuZy4gYXMgeDJheGlzL3gzYXhpcy8uLi4gaW5zdGVhZCBvZgogIHhheGlzLCB0aGUgcGx1Z2luIHBpY2tzIHRoZSBmaXJzdCBvbmUgaXQgc2Vlcy4KCi0gY2xlYXJTZWxlY3Rpb24oIHByZXZlbnRFdmVudCApCgogIENsZWFyIHRoZSBzZWxlY3Rpb24gcmVjdGFuZ2xlLiBQYXNzIGluIHRydWUgdG8gYXZvaWQgZ2V0dGluZyBhCiAgInBsb3R1bnNlbGVjdGVkIiBldmVudC4KCi0gZ2V0U2VsZWN0aW9uKCkKCiAgUmV0dXJucyB0aGUgY3VycmVudCBzZWxlY3Rpb24gaW4gdGhlIHNhbWUgZm9ybWF0IGFzIHRoZSAicGxvdHNlbGVjdGVkIgogIGV2ZW50LiBJZiB0aGVyZSdzIGN1cnJlbnRseSBubyBzZWxlY3Rpb24sIHRoZSBmdW5jdGlvbiByZXR1cm5zIG51bGwuCgoqLwoKKGZ1bmN0aW9uICgkKSB7CiAgICBmdW5jdGlvbiBpbml0KHBsb3QpIHsKICAgICAgICB2YXIgc2VsZWN0aW9uID0gewogICAgICAgICAgICAgICAgZmlyc3Q6IHsgeDogLTEsIHk6IC0xfSwgc2Vjb25kOiB7IHg6IC0xLCB5OiAtMX0sCiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZSwKICAgICAgICAgICAgICAgIGFjdGl2ZTogZmFsc2UKICAgICAgICAgICAgfTsKCiAgICAgICAgLy8gRklYTUU6IFRoZSBkcmFnIGhhbmRsaW5nIGltcGxlbWVudGVkIGhlcmUgc2hvdWxkIGJlCiAgICAgICAgLy8gYWJzdHJhY3RlZCBvdXQsIHRoZXJlJ3Mgc29tZSBzaW1pbGFyIGNvZGUgZnJvbSBhIGxpYnJhcnkgaW4KICAgICAgICAvLyB0aGUgbmF2aWdhdGlvbiBwbHVnaW4sIHRoaXMgc2hvdWxkIGJlIG1hc3NhZ2VkIGEgYml0IHRvIGZpdAogICAgICAgIC8vIHRoZSBGbG90IGNhc2VzIGhlcmUgYmV0dGVyIGFuZCByZXVzZWQuIERvaW5nIHRoaXMgd291bGQKICAgICAgICAvLyBtYWtlIHRoaXMgcGx1Z2luIG11Y2ggc2xpbW1lci4KICAgICAgICB2YXIgc2F2ZWRoYW5kbGVycyA9IHt9OwoKICAgICAgICB2YXIgbW91c2VVcEhhbmRsZXIgPSBudWxsOwogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHsKICAgICAgICAgICAgaWYgKHNlbGVjdGlvbi5hY3RpdmUpIHsKICAgICAgICAgICAgICAgIHVwZGF0ZVNlbGVjdGlvbihlKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcGxvdC5nZXRQbGFjZWhvbGRlcigpLnRyaWdnZXIoInBsb3RzZWxlY3RpbmciLCBbIGdldFNlbGVjdGlvbigpIF0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7CiAgICAgICAgICAgIGlmIChlLndoaWNoICE9IDEpICAvLyBvbmx5IGFjY2VwdCBsZWZ0LWNsaWNrCiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBjYW5jZWwgb3V0IGFueSB0ZXh0IHNlbGVjdGlvbnMKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5mb2N1cygpOwoKICAgICAgICAgICAgLy8gcHJldmVudCB0ZXh0IHNlbGVjdGlvbiBhbmQgZHJhZyBpbiBvbGQtc2Nob29sIGJyb3dzZXJzCiAgICAgICAgICAgIGlmIChkb2N1bWVudC5vbnNlbGVjdHN0YXJ0ICE9PSB1bmRlZmluZWQgJiYgc2F2ZWRoYW5kbGVycy5vbnNlbGVjdHN0YXJ0ID09IG51bGwpIHsKICAgICAgICAgICAgICAgIHNhdmVkaGFuZGxlcnMub25zZWxlY3RzdGFydCA9IGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5vbnNlbGVjdHN0YXJ0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGRvY3VtZW50Lm9uZHJhZyAhPT0gdW5kZWZpbmVkICYmIHNhdmVkaGFuZGxlcnMub25kcmFnID09IG51bGwpIHsKICAgICAgICAgICAgICAgIHNhdmVkaGFuZGxlcnMub25kcmFnID0gZG9jdW1lbnQub25kcmFnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQub25kcmFnID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNldFNlbGVjdGlvblBvcyhzZWxlY3Rpb24uZmlyc3QsIGUpOwoKICAgICAgICAgICAgc2VsZWN0aW9uLmFjdGl2ZSA9IHRydWU7CgogICAgICAgICAgICAvLyB0aGlzIGlzIGEgYml0IHNpbGx5LCBidXQgd2UgaGF2ZSB0byB1c2UgYSBjbG9zdXJlIHRvIGJlCiAgICAgICAgICAgIC8vIGFibGUgdG8gd2hhY2sgdGhlIHNhbWUgaGFuZGxlciBhZ2FpbgogICAgICAgICAgICBtb3VzZVVwSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7IG9uTW91c2VVcChlKTsgfTsKICAgICAgICAgICAgCiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uZSgibW91c2V1cCIsIG1vdXNlVXBIYW5kbGVyKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIG9uTW91c2VVcChlKSB7CiAgICAgICAgICAgIG1vdXNlVXBIYW5kbGVyID0gbnVsbDsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIHJldmVydCBkcmFnIHN0dWZmIGZvciBvbGQtc2Nob29sIGJyb3dzZXJzCiAgICAgICAgICAgIGlmIChkb2N1bWVudC5vbnNlbGVjdHN0YXJ0ICE9PSB1bmRlZmluZWQpCiAgICAgICAgICAgICAgICBkb2N1bWVudC5vbnNlbGVjdHN0YXJ0ID0gc2F2ZWRoYW5kbGVycy5vbnNlbGVjdHN0YXJ0OwogICAgICAgICAgICBpZiAoZG9jdW1lbnQub25kcmFnICE9PSB1bmRlZmluZWQpCiAgICAgICAgICAgICAgICBkb2N1bWVudC5vbmRyYWcgPSBzYXZlZGhhbmRsZXJzLm9uZHJhZzsKCiAgICAgICAgICAgIC8vIG5vIG1vcmUgZHJhZ2dpbmcKICAgICAgICAgICAgc2VsZWN0aW9uLmFjdGl2ZSA9IGZhbHNlOwogICAgICAgICAgICB1cGRhdGVTZWxlY3Rpb24oZSk7CgogICAgICAgICAgICBpZiAoc2VsZWN0aW9uSXNTYW5lKCkpCiAgICAgICAgICAgICAgICB0cmlnZ2VyU2VsZWN0ZWRFdmVudCgpOwogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIHRoaXMgY291bnRzIGFzIGEgY2xlYXIKICAgICAgICAgICAgICAgIHBsb3QuZ2V0UGxhY2Vob2xkZXIoKS50cmlnZ2VyKCJwbG90dW5zZWxlY3RlZCIsIFsgXSk7CiAgICAgICAgICAgICAgICBwbG90LmdldFBsYWNlaG9sZGVyKCkudHJpZ2dlcigicGxvdHNlbGVjdGluZyIsIFsgbnVsbCBdKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKCkgewogICAgICAgICAgICBpZiAoIXNlbGVjdGlvbklzU2FuZSgpKQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoIXNlbGVjdGlvbi5zaG93KSByZXR1cm4gbnVsbDsKCiAgICAgICAgICAgIHZhciByID0ge30sIGMxID0gc2VsZWN0aW9uLmZpcnN0LCBjMiA9IHNlbGVjdGlvbi5zZWNvbmQ7CiAgICAgICAgICAgICQuZWFjaChwbG90LmdldEF4ZXMoKSwgZnVuY3Rpb24gKG5hbWUsIGF4aXMpIHsKICAgICAgICAgICAgICAgIGlmIChheGlzLnVzZWQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcDEgPSBheGlzLmMycChjMVtheGlzLmRpcmVjdGlvbl0pLCBwMiA9IGF4aXMuYzJwKGMyW2F4aXMuZGlyZWN0aW9uXSk7IAogICAgICAgICAgICAgICAgICAgIHJbbmFtZV0gPSB7IGZyb206IE1hdGgubWluKHAxLCBwMiksIHRvOiBNYXRoLm1heChwMSwgcDIpIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gcjsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHRyaWdnZXJTZWxlY3RlZEV2ZW50KCkgewogICAgICAgICAgICB2YXIgciA9IGdldFNlbGVjdGlvbigpOwoKICAgICAgICAgICAgcGxvdC5nZXRQbGFjZWhvbGRlcigpLnRyaWdnZXIoInBsb3RzZWxlY3RlZCIsIFsgciBdKTsKCiAgICAgICAgICAgIC8vIGJhY2t3YXJkcy1jb21wYXQgc3R1ZmYsIHRvIGJlIHJlbW92ZWQgaW4gZnV0dXJlCiAgICAgICAgICAgIGlmIChyLnhheGlzICYmIHIueWF4aXMpCiAgICAgICAgICAgICAgICBwbG90LmdldFBsYWNlaG9sZGVyKCkudHJpZ2dlcigic2VsZWN0ZWQiLCBbIHsgeDE6IHIueGF4aXMuZnJvbSwgeTE6IHIueWF4aXMuZnJvbSwgeDI6IHIueGF4aXMudG8sIHkyOiByLnlheGlzLnRvIH0gXSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjbGFtcChtaW4sIHZhbHVlLCBtYXgpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlIDwgbWluID8gbWluOiAodmFsdWUgPiBtYXggPyBtYXg6IHZhbHVlKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHNldFNlbGVjdGlvblBvcyhwb3MsIGUpIHsKICAgICAgICAgICAgdmFyIG8gPSBwbG90LmdldE9wdGlvbnMoKTsKICAgICAgICAgICAgdmFyIG9mZnNldCA9IHBsb3QuZ2V0UGxhY2Vob2xkZXIoKS5vZmZzZXQoKTsKICAgICAgICAgICAgdmFyIHBsb3RPZmZzZXQgPSBwbG90LmdldFBsb3RPZmZzZXQoKTsKICAgICAgICAgICAgcG9zLnggPSBjbGFtcCgwLCBlLnBhZ2VYIC0gb2Zmc2V0LmxlZnQgLSBwbG90T2Zmc2V0LmxlZnQsIHBsb3Qud2lkdGgoKSk7CiAgICAgICAgICAgIHBvcy55ID0gY2xhbXAoMCwgZS5wYWdlWSAtIG9mZnNldC50b3AgLSBwbG90T2Zmc2V0LnRvcCwgcGxvdC5oZWlnaHQoKSk7CgogICAgICAgICAgICBpZiAoby5zZWxlY3Rpb24ubW9kZSA9PSAieSIpCiAgICAgICAgICAgICAgICBwb3MueCA9IHBvcyA9PSBzZWxlY3Rpb24uZmlyc3QgPyAwIDogcGxvdC53aWR0aCgpOwoKICAgICAgICAgICAgaWYgKG8uc2VsZWN0aW9uLm1vZGUgPT0gIngiKQogICAgICAgICAgICAgICAgcG9zLnkgPSBwb3MgPT0gc2VsZWN0aW9uLmZpcnN0ID8gMCA6IHBsb3QuaGVpZ2h0KCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB1cGRhdGVTZWxlY3Rpb24ocG9zKSB7CiAgICAgICAgICAgIGlmIChwb3MucGFnZVggPT0gbnVsbCkKICAgICAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgICAgIHNldFNlbGVjdGlvblBvcyhzZWxlY3Rpb24uc2Vjb25kLCBwb3MpOwogICAgICAgICAgICBpZiAoc2VsZWN0aW9uSXNTYW5lKCkpIHsKICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5zaG93ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHBsb3QudHJpZ2dlclJlZHJhd092ZXJsYXkoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBjbGVhclNlbGVjdGlvbih0cnVlKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNsZWFyU2VsZWN0aW9uKHByZXZlbnRFdmVudCkgewogICAgICAgICAgICBpZiAoc2VsZWN0aW9uLnNob3cpIHsKICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5zaG93ID0gZmFsc2U7CiAgICAgICAgICAgICAgICBwbG90LnRyaWdnZXJSZWRyYXdPdmVybGF5KCk7CiAgICAgICAgICAgICAgICBpZiAoIXByZXZlbnRFdmVudCkKICAgICAgICAgICAgICAgICAgICBwbG90LmdldFBsYWNlaG9sZGVyKCkudHJpZ2dlcigicGxvdHVuc2VsZWN0ZWQiLCBbIF0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBmdW5jdGlvbiB0YWtlbiBmcm9tIG1hcmtpbmdzIHN1cHBvcnQgaW4gRmxvdAogICAgICAgIGZ1bmN0aW9uIGV4dHJhY3RSYW5nZShyYW5nZXMsIGNvb3JkKSB7CiAgICAgICAgICAgIHZhciBheGlzLCBmcm9tLCB0bywga2V5LCBheGVzID0gcGxvdC5nZXRBeGVzKCk7CgogICAgICAgICAgICBmb3IgKHZhciBrIGluIGF4ZXMpIHsKICAgICAgICAgICAgICAgIGF4aXMgPSBheGVzW2tdOwogICAgICAgICAgICAgICAgaWYgKGF4aXMuZGlyZWN0aW9uID09IGNvb3JkKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gY29vcmQgKyBheGlzLm4gKyAiYXhpcyI7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFyYW5nZXNba2V5XSAmJiBheGlzLm4gPT0gMSkKICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gY29vcmQgKyAiYXhpcyI7IC8vIHN1cHBvcnQgeDFheGlzIGFzIHhheGlzCiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlc1trZXldKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gPSByYW5nZXNba2V5XS5mcm9tOwogICAgICAgICAgICAgICAgICAgICAgICB0byA9IHJhbmdlc1trZXldLnRvOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGJhY2t3YXJkcy1jb21wYXQgc3R1ZmYgLSB0byBiZSByZW1vdmVkIGluIGZ1dHVyZQogICAgICAgICAgICBpZiAoIXJhbmdlc1trZXldKSB7CiAgICAgICAgICAgICAgICBheGlzID0gY29vcmQgPT0gIngiID8gcGxvdC5nZXRYQXhlcygpWzBdIDogcGxvdC5nZXRZQXhlcygpWzBdOwogICAgICAgICAgICAgICAgZnJvbSA9IHJhbmdlc1tjb29yZCArICIxIl07CiAgICAgICAgICAgICAgICB0byA9IHJhbmdlc1tjb29yZCArICIyIl07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGF1dG8tcmV2ZXJzZSBhcyBhbiBhZGRlZCBib251cwogICAgICAgICAgICBpZiAoZnJvbSAhPSBudWxsICYmIHRvICE9IG51bGwgJiYgZnJvbSA+IHRvKSB7CiAgICAgICAgICAgICAgICB2YXIgdG1wID0gZnJvbTsKICAgICAgICAgICAgICAgIGZyb20gPSB0bzsKICAgICAgICAgICAgICAgIHRvID0gdG1wOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4geyBmcm9tOiBmcm9tLCB0bzogdG8sIGF4aXM6IGF4aXMgfTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc2V0U2VsZWN0aW9uKHJhbmdlcywgcHJldmVudEV2ZW50KSB7CiAgICAgICAgICAgIHZhciBheGlzLCByYW5nZSwgbyA9IHBsb3QuZ2V0T3B0aW9ucygpOwoKICAgICAgICAgICAgaWYgKG8uc2VsZWN0aW9uLm1vZGUgPT0gInkiKSB7CiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uZmlyc3QueCA9IDA7CiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uc2Vjb25kLnggPSBwbG90LndpZHRoKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByYW5nZSA9IGV4dHJhY3RSYW5nZShyYW5nZXMsICJ4Iik7CgogICAgICAgICAgICAgICAgc2VsZWN0aW9uLmZpcnN0LnggPSByYW5nZS5heGlzLnAyYyhyYW5nZS5mcm9tKTsKICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5zZWNvbmQueCA9IHJhbmdlLmF4aXMucDJjKHJhbmdlLnRvKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKG8uc2VsZWN0aW9uLm1vZGUgPT0gIngiKSB7CiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uZmlyc3QueSA9IDA7CiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uc2Vjb25kLnkgPSBwbG90LmhlaWdodCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmFuZ2UgPSBleHRyYWN0UmFuZ2UocmFuZ2VzLCAieSIpOwoKICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5maXJzdC55ID0gcmFuZ2UuYXhpcy5wMmMocmFuZ2UuZnJvbSk7CiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uc2Vjb25kLnkgPSByYW5nZS5heGlzLnAyYyhyYW5nZS50byk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNlbGVjdGlvbi5zaG93ID0gdHJ1ZTsKICAgICAgICAgICAgcGxvdC50cmlnZ2VyUmVkcmF3T3ZlcmxheSgpOwogICAgICAgICAgICBpZiAoIXByZXZlbnRFdmVudCAmJiBzZWxlY3Rpb25Jc1NhbmUoKSkKICAgICAgICAgICAgICAgIHRyaWdnZXJTZWxlY3RlZEV2ZW50KCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzZWxlY3Rpb25Jc1NhbmUoKSB7CiAgICAgICAgICAgIHZhciBtaW5TaXplID0gcGxvdC5nZXRPcHRpb25zKCkuc2VsZWN0aW9uLm1pblNpemU7CiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyhzZWxlY3Rpb24uc2Vjb25kLnggLSBzZWxlY3Rpb24uZmlyc3QueCkgPj0gbWluU2l6ZSAmJgogICAgICAgICAgICAgICAgTWF0aC5hYnMoc2VsZWN0aW9uLnNlY29uZC55IC0gc2VsZWN0aW9uLmZpcnN0LnkpID49IG1pblNpemU7CiAgICAgICAgfQoKICAgICAgICBwbG90LmNsZWFyU2VsZWN0aW9uID0gY2xlYXJTZWxlY3Rpb247CiAgICAgICAgcGxvdC5zZXRTZWxlY3Rpb24gPSBzZXRTZWxlY3Rpb247CiAgICAgICAgcGxvdC5nZXRTZWxlY3Rpb24gPSBnZXRTZWxlY3Rpb247CgogICAgICAgIHBsb3QuaG9va3MuYmluZEV2ZW50cy5wdXNoKGZ1bmN0aW9uKHBsb3QsIGV2ZW50SG9sZGVyKSB7CiAgICAgICAgICAgIHZhciBvID0gcGxvdC5nZXRPcHRpb25zKCk7CiAgICAgICAgICAgIGlmIChvLnNlbGVjdGlvbi5tb2RlICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGV2ZW50SG9sZGVyLm1vdXNlbW92ZShvbk1vdXNlTW92ZSk7CiAgICAgICAgICAgICAgICBldmVudEhvbGRlci5tb3VzZWRvd24ob25Nb3VzZURvd24pOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CgoKICAgICAgICBwbG90Lmhvb2tzLmRyYXdPdmVybGF5LnB1c2goZnVuY3Rpb24gKHBsb3QsIGN0eCkgewogICAgICAgICAgICAvLyBkcmF3IHNlbGVjdGlvbgogICAgICAgICAgICBpZiAoc2VsZWN0aW9uLnNob3cgJiYgc2VsZWN0aW9uSXNTYW5lKCkpIHsKICAgICAgICAgICAgICAgIHZhciBwbG90T2Zmc2V0ID0gcGxvdC5nZXRQbG90T2Zmc2V0KCk7CiAgICAgICAgICAgICAgICB2YXIgbyA9IHBsb3QuZ2V0T3B0aW9ucygpOwoKICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7CiAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKHBsb3RPZmZzZXQubGVmdCwgcGxvdE9mZnNldC50b3ApOwoKICAgICAgICAgICAgICAgIHZhciBjID0gJC5jb2xvci5wYXJzZShvLnNlbGVjdGlvbi5jb2xvcik7CgogICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYy5zY2FsZSgnYScsIDAuOCkudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgICAgICAgICAgICAgY3R4LmxpbmVKb2luID0gby5zZWxlY3Rpb24uc2hhcGU7CiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYy5zY2FsZSgnYScsIDAuNCkudG9TdHJpbmcoKTsKCiAgICAgICAgICAgICAgICB2YXIgeCA9IE1hdGgubWluKHNlbGVjdGlvbi5maXJzdC54LCBzZWxlY3Rpb24uc2Vjb25kLngpICsgMC41LAogICAgICAgICAgICAgICAgICAgIHkgPSBNYXRoLm1pbihzZWxlY3Rpb24uZmlyc3QueSwgc2VsZWN0aW9uLnNlY29uZC55KSArIDAuNSwKICAgICAgICAgICAgICAgICAgICB3ID0gTWF0aC5hYnMoc2VsZWN0aW9uLnNlY29uZC54IC0gc2VsZWN0aW9uLmZpcnN0LngpIC0gMSwKICAgICAgICAgICAgICAgICAgICBoID0gTWF0aC5hYnMoc2VsZWN0aW9uLnNlY29uZC55IC0gc2VsZWN0aW9uLmZpcnN0LnkpIC0gMTsKCiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoeCwgeSwgdywgaCk7CiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlUmVjdCh4LCB5LCB3LCBoKTsKCiAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgcGxvdC5ob29rcy5zaHV0ZG93bi5wdXNoKGZ1bmN0aW9uIChwbG90LCBldmVudEhvbGRlcikgewogICAgICAgICAgICBldmVudEhvbGRlci51bmJpbmQoIm1vdXNlbW92ZSIsIG9uTW91c2VNb3ZlKTsKICAgICAgICAgICAgZXZlbnRIb2xkZXIudW5iaW5kKCJtb3VzZWRvd24iLCBvbk1vdXNlRG93bik7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAobW91c2VVcEhhbmRsZXIpCiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS51bmJpbmQoIm1vdXNldXAiLCBtb3VzZVVwSGFuZGxlcik7CiAgICAgICAgfSk7CgogICAgfQoKICAgICQucGxvdC5wbHVnaW5zLnB1c2goewogICAgICAgIGluaXQ6IGluaXQsCiAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICBzZWxlY3Rpb246IHsKICAgICAgICAgICAgICAgIG1vZGU6IG51bGwsIC8vIG9uZSBvZiBudWxsLCAieCIsICJ5IiBvciAieHkiCiAgICAgICAgICAgICAgICBjb2xvcjogIiNlOGNmYWMiLAogICAgICAgICAgICAgICAgc2hhcGU6ICJyb3VuZCIsIC8vIG9uZSBvZiAicm91bmQiLCAibWl0ZXIiLCBvciAiYmV2ZWwiCiAgICAgICAgICAgICAgICBtaW5TaXplOiA1IC8vIG1pbmltdW0gbnVtYmVyIG9mIHBpeGVscwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBuYW1lOiAnc2VsZWN0aW9uJywKICAgICAgICB2ZXJzaW9uOiAnMS4xJwogICAgfSk7Cn0pKGpRdWVyeSk7Cg==",
    "size": "13141"
}