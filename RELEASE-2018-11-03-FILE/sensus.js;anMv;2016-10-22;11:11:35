{
    "namaFile": "js\/sensus.js",
    "lastUpdate": "2016-10-22+11:11:35.31",
    "contentFile": "DQp2YXIgU2Vuc3VzID0gbmV3IERhZnRhck9iajIoew0KCXByZWZpeCA6ICdTZW5zdXMnLA0KCS8vZWxDdXJyUGFnZSA6ICdwYmJwZW5ldGFwYW5IYWxEZWZhdWx0JywJDQoJdXJsIDogJ3BhZ2VzLnBocD9QZz1zZW5zdXMmYWp4PTEnLA0KCWZvcm1OYW1lIDogJ1NlbnN1c1BhZ2VGb3JtJywNCgkNCgkNCglkYWZ0YXJSZW5kZXJBZnRlciA6IGZ1bmN0aW9uKHJlc3Apew0KCQkkKCcudG9nZ2xlcicpLmNsaWNrKGZ1bmN0aW9uKGUpew0KCQkJCQkJICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQoJCQkJCQkgICAgICAgIC8vJCgiI2RldF8iKyQodGhpcykuYXR0cigiZGF0YS1wcm9kLWNhdCIpKS50b2dnbGUoKTsNCgkJCQkJCQkJJCgidHJbaWQ9ZGV0XyIrJCh0aGlzKS5hdHRyKCJkYXRhLXByb2QtY2F0IikrIl0iKS50b2dnbGUoKTsNCgkJCQkJCQkJLy9hbGVydCgkKHRoaXMpLmF0dHIoJ3N0YXRlJykpOw0KCQkJCQkJCQlpZiggJCh0aGlzKS5hdHRyKCdzdGF0ZScpID09ICdjb2xhcHNlJyApew0KCQkJCQkJCQkJJCh0aGlzKS5hdHRyKCdzdGF0ZScsICdleHBhbmQnKTsNCgkJCQkJCQkJCSQodGhpcykuaHRtbCAoICI8aW1nIGlkPSd0b2dnbGVyX2ltZycgc3JjPSdpbWFnZXMvdHVtYnMvdXBfMi5wbmcnICBzdHlsZT0nY3Vyc29yOnBvaW50ZXI7d2lkdGg6MTBweCc+IiApOwkNCgkJCQkJCQkJfWVsc2V7DQoJCQkJCQkJCQkkKHRoaXMpLmF0dHIoJ3N0YXRlJywgJ2NvbGFwc2UnKTsNCgkJCQkJCQkJCSQodGhpcykuaHRtbCggIjxpbWcgaWQ9J3RvZ2dsZXJfaW1nJyBzcmM9J2ltYWdlcy90dW1icy9kb3duXzIucG5nJyAgc3R5bGU9J2N1cnNvcjpwb2ludGVyO3dpZHRoOjEwcHgnPiIpOwkJCQkJCQkJCQkNCgkJCQkJCQkJfQkJCQkJDQoJCQkJCQkJCQ0KCQkJCQkJCQkvL2FsZXJ0KCd0ZXMnKTsNCgkJCQkJCSAgICB9KTsJDQoJfSwNCgkNCgllbnRyeUFkYU9uY2hhbmdlIDpmdW5jdGlvbih0aCl7DQoJCS8vYWxlcnQodGgudmFsdWUpOw0KCQlpZih0aC52YWx1ZT09ICcxJyl7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRyZXNldDEnKS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRyZXNldDInKS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRyZXNldDMnKS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRyZXNldDQnKS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7CQkJDQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRSdWFuZycpLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidFBlbWVnYW5nMicpLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidFBlbWVnYW5nJykucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0UGVuYW5nZ3VuZycpLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRhdGFuJykucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2tvbmRpc2knKS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7CQkJDQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGV0dWdhcycpLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXNfcGVuZ3Vhc2FhbicpLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTsJCQkNCgkJfWVsc2V7CQkJDQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRyZXNldDEnKS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJzEnKTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidHJlc2V0MicpLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnMScpOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0cmVzZXQzJykuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcxJyk7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRyZXNldDQnKS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJzEnKTsNCgkJCQ0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2tvbmRpc2knKS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJzEnKTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidFJ1YW5nJykuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcxJyk7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRQZW1lZ2FuZzInKS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJzEnKTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidFBlbWVnYW5nJykuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcxJyk7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRQZW5hbmdndW5nJykuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcxJyk7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0YXRhbicpLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnMScpOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BldHVnYXMnKS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJzEnKTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXNfcGVuZ3Vhc2FhbicpLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnMScpOw0KCQkJDQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna29uZGlzaScpLnZhbHVlPSAnJzsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRhdGFuJykudmFsdWU9ICcnOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BldHVnYXMnKS52YWx1ZT0gJyc7DQoJCQkNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdubV9nZWR1bmcnKS52YWx1ZT0gJyc7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm1fcnVhbmcnKS52YWx1ZT0gJyc7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVmX2lkcnVhbmcnKS52YWx1ZT0gJyc7DQoJCQkNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWZfaWRwZW1lZ2FuZzInKS52YWx1ZT0gJyc7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtYTMnKS52YWx1ZT0gJyc7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmlwMycpLnZhbHVlPSAnJzsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqYnQzJykudmFsdWU9ICcnOw0KCQkJDQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVmX2lkcGVtZWdhbmcnKS52YWx1ZT0gJyc7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtYTEnKS52YWx1ZT0gJyc7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmlwMScpLnZhbHVlPSAnJzsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqYnQxJykudmFsdWU9ICcnOw0KCQkJDQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVmX2lkcGVuYW5nZ3VuZycpLnZhbHVlPSAnJzsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1hMicpLnZhbHVlPSAnJzsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduaXAyJykudmFsdWU9ICcnOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pidDInKS52YWx1ZT0gJyc7DQoJCQkNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXNfcGVuZ3Vhc2FhbicpLnZhbHVlPScnOw0KCQkJDQoJCX0JDQoJfSwNCgl1c3VsSGFwdXM6IGZ1bmN0aW9uKCl7DQoJCS8vYWxlcnQoJ3RlcycpOwkNCgkJdmFyIG1lID10aGlzOw0KCQl2YXIgZXJyPScnOw0KCQl2YXIgc2twZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4KydTa3BkZm1TS1BEJykudmFsdWU7IA0KCQl2YXIgdW5pdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4KydTa3BkZm1VTklUJykudmFsdWU7DQoJCXZhciBzdWJ1bml0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ1NrcGRmbVNVQlVOSVQnKS52YWx1ZTsNCgkJdmFyIHNla3NpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ1NrcGRmbVNFS1NJJykudmFsdWU7DQoJCQ0KCQlpZihlcnI9PScnICYmIChza3BkPT0nJyB8fCBza3BkPT0nMDAnKSApIGVycj0nQklEQU5HIGJlbHVtIGRpcGlsaWghJzsNCgkJaWYoZXJyPT0nJyAmJiAodW5pdD09JycgfHwgdW5pdD09JzAwJykgKSBlcnI9J1NLUEQgYmVsdW0gZGlwaWxpaCEnOw0KCQlpZihlcnI9PScnICYmIChzdWJ1bml0PT0nJyB8fCBzdWJ1bml0PT0nMDAnKSApIGVycj0nVU5JVCBiZWx1bSBkaXBpbGloISc7DQoJCWlmKGVycj09JycgJiYgKHNla3NpPT0nJyB8fCBzZWtzaT09JzAwJyB8fCBzZWtzaT09JzAwMCcpICkgZXJyPSdTVUIgVU5JVCBiZWx1bSBkaXBpbGloISc7DQoJCQ0KCQlpZihlcnI9PScnKXsNCgkJCQ0KCQkNCgkJDQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4Kydfam1sY2VrJykpew0KCQkJdmFyIGptbGNlayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4Kydfam1sY2VrJykudmFsdWUgOwkNCgkJfWVsc2V7DQoJCQl2YXIgam1sY2VrID0gJyc7DQoJCX0NCgkJDQoJCWlmKGptbGNlayA9PTApew0KCQkJYWxlcnQoJ0RhdGEgQmVsdW0gRGlwaWxpaCEnKTsNCgkJfWVsc2V7DQoJCQkNCgkJCWlmKGNvbmZpcm0oJ1VzdWxrYW4gUGVuZ2hhcHVzYW4gJytqbWxjZWsrJyBEYXRhID8nKSl7DQoJCQkJLy9hbGVydCgnZm9ybSB1c3VsYW4gaGFwdXMnKTsNCgkJCQl2YXIgY292ZXIgPSAnVXN1bGFuSGFwdXNfZm9ybWNvdmVyJzsvL3RoaXMucHJlZml4KydfZm9ybVVzdWxDb3Zlcic7DQoJCQkJLy9kb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJCS8vYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7DQoJCQkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOw0KCQkJCSQuYWpheCh7DQoJCQkJCXR5cGU6J1BPU1QnLCANCgkJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQkJdXJsOiAncGFnZXMucGhwP1BnPXVzdWxhbmhhcHVzJmFqeD0xJnRpcGU9aW5zZXJ0VXN1bGFuJywNCgkJCQkgIAlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQ0KCQkJCQkJDQoJCQkJCQlpZihyZXNwLmVycj09JycpewkJCQkJCQkNCgkJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Oy8vOwkNCgkJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2X2RldGFpbCcpLmlubmVySFRNTCA9IA0KCQkJCQkJCSI8ZGl2IGlkPSdkaXZfZGV0YWlsJyBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmUnPiIrDQoJCQkJCQkJCSI8ZGl2IGlkPSdVc3VsYW5IYXB1c2RldGFpbF9jb250X3RpdGxlJyBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmUnPjwvZGl2PiIrDQoJCQkJCQkJCSI8ZGl2IGlkPSdVc3VsYW5IYXB1c2RldGFpbF9jb250X29wc2knIHN0eWxlPSdwb3NpdGlvbjpyZWxhdGl2ZSc+PC9kaXY+IisNCgkJCQkJCQkJIjxkaXYgaWQ9J1VzdWxhbkhhcHVzZGV0YWlsX2NvbnRfZGFmdGFyJyBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmUnPjwvZGl2PiIrDQoJCQkJCQkJCSI8ZGl2IGlkPSdVc3VsYW5IYXB1c2RldGFpbF9jb250X2hhbCcgc3R5bGU9J3Bvc2l0aW9uOnJlbGF0aXZlJz48L2Rpdj4iKw0KCQkJCQkJCSI8L2Rpdj4iOw0KCQkJCQkJCS8vZ2VuZXJhdGUgZGF0YQ0KCQkJCQkJCVVzdWxhbkhhcHVzZGV0YWlsLmxvYWRpbmcoKTsJDQoJCQkJCQl9ZWxzZXsNCgkJCQkJCQlkZWxFbGVtKGNvdmVyKTsJCQkNCgkJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQl9CQkJCQkJCQ0KCQkJCQkJDQoJCQkJICAJfQ0KCQkJCX0pOw0KCQkJCS8vKi8NCgkJCX0JDQoJCX0NCgkJDQoJCX1lbHNlew0KCQkJYWxlcnQoZXJyKTsNCgkJfQ0KCX0sDQoJDQoJdG9wQmFyUmVuZGVyIDogZnVuY3Rpb24oKXsNCgkJdmFyIG1lPXRoaXM7DQoJCS8vcmVuZGVyIHN1YnRpdGxlDQoJCSQuYWpheCh7DQoJCSAgdXJsOiB0aGlzLnVybCsnJnRpcGU9c3VidGl0bGUnLA0KCQkgdHlwZTonUE9TVCcsIA0KCQkgIGRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCSAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXgrJ19jb250X3RpdGxlJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50Ow0KCQkgIH0NCgkJfSk7DQoJfSwNCgkNCglBZnRlckZvcm1CYXJ1IDogZnVuY3Rpb24oKXsNCgkJLy9pZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzX2NvbnRfZGFmdGFyJykpIA0KCQlTZW5zdXNUbXAubG9hZGluZygpOw0KCQkNCgkJLy9pZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVuYXRhdXNhaGFfY29udF9saXN0JykpIFBlbmF0YXVzYWhhLnJlZnJlc2hMaXN0KHRydWUpOw0KCX0sDQoJZmlsdGVyUmVuZGVyQWZ0ZXIgOiBmdW5jdGlvbigpew0KCQliYXJjb2RlU2Vuc3VzLmxvYWRpbmcoKTsNCgl9LA0KCUJhdGFsOiBmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQkNCgkJLy92YXIgdGVydXMgPSB0cnVlOw0KCQl2YXIgaWRwbGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzX2lkcGxoJykudmFsdWU7DQoJCXZhciB0ZXJ1cyA9IGlkcGxoIT0nJz8gdHJ1ZSA6IGNvbmZpcm0oJ0JhdGFsa2FuPycpOw0KCQkNCgkJaWYgKHRlcnVzKXsJCQkJDQoJCQkkLmFqYXgoew0KCQkJCXVybDogJ3BhZ2VzLnBocD9QZz1zZW5zdXMmdGlwZT1iYXRhbCcsDQoJCQkgIAl0eXBlIDogJ1BPU1QnLA0KCQkJICAJZGF0YTokKCcjJyt0aGlzLnByZWZpeCsnX2Zvcm0nKS5zZXJpYWxpemUoKSwgLy9kYXRhOiQoJyNhZG1pbkZvcm0nKS5zZXJpYWxpemUoKSwNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQkJDQoJCQkJCS8vZGVsRWxlbShjb3Zlcik7DQoJCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCQltZS5DbG9zZSgpOwkNCgkJCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNfY29udF9kYWZ0YXInKSkgbWUucmVmcmVzaExpc3QodHJ1ZSk7CQkJCQ0KCQkJCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbmF0YXVzYWhhX2NvbnRfbGlzdCcpKSBQZW5hdGF1c2FoYS5yZWZyZXNoTGlzdCh0cnVlKTsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycikJDQoJCQkJCX0NCgkJCSAgCX0NCgkJCX0pOw0KCQl9DQoJfSwNCglzaW1wYW5CYXJ1OiBmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQl2YXIgY292ZXIgPSB0aGlzLm5hbWUrJ19jb3Zlcl9zaW1wYW5CYXJ1JzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJJC5hamF4KHsNCgkJCXVybDogJ3BhZ2VzLnBocD9QZz1zZW5zdXMmdGlwZT1zaW1wYW5CYXJ1JywNCgkJICAJdHlwZSA6ICdQT1NUJywNCgkJICAJZGF0YTokKCcjJyt0aGlzLnByZWZpeCsnX2Zvcm0nKS5zZXJpYWxpemUoKSwgLy9kYXRhOiQoJyNhZG1pbkZvcm0nKS5zZXJpYWxpemUoKSwNCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCWRlbEVsZW0oY292ZXIpOw0KCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCW1lLkNsb3NlKCk7CQ0KCQkJCQkvL21lLnJlZnJlc2hMaXN0KHRydWUpOwkJDQoJCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNfY29udF9kYWZ0YXInKSkgbWUucmVmcmVzaExpc3QodHJ1ZSk7CQkJCQ0KCQkJCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVuYXRhdXNhaGFfY29udF9saXN0JykpIFBlbmF0YXVzYWhhLnJlZnJlc2hMaXN0KHRydWUpOwkJDQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKQkNCgkJCQl9DQoJCSAgCX0NCgkJfSk7DQoJfSwNCglzaW1wYW5FZGl0OiBmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQl2YXIgY292ZXIgPSB0aGlzLm5hbWUrJ19jb3Zlcl9zaW1wYW5FZGl0JzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJJC5hamF4KHsNCgkJCXVybDogJ3BhZ2VzLnBocD9QZz1zZW5zdXMmdGlwZT1zaW1wYW5FZGl0JywNCgkJICAJdHlwZSA6ICdQT1NUJywNCgkJICAJZGF0YTokKCcjJyt0aGlzLnByZWZpeCsnX2Zvcm0nKS5zZXJpYWxpemUoKSwgLy9kYXRhOiQoJyNhZG1pbkZvcm0nKS5zZXJpYWxpemUoKSwNCgkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCWRlbEVsZW0oY292ZXIpOw0KCQkJCWlmKHJlc3AuZXJyPT0nJyl7DQoJCQkJCW1lLkNsb3NlKCk7CQ0KCQkJCQkvL21lLnJlZnJlc2hMaXN0KHRydWUpOwkJCQkNCgkJCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c19jb250X2RhZnRhcicpKSBtZS5yZWZyZXNoTGlzdCh0cnVlKTsJCQkJDQoJCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW5hdGF1c2FoYV9jb250X2xpc3QnKSkgUGVuYXRhdXNhaGEucmVmcmVzaExpc3QodHJ1ZSk7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKQkNCgkJCQl9DQoJCSAgCX0NCgkJfSk7DQoJfSwNCglzdW1IYWxSZW5kZXJBZnRlcjpmdW5jdGlvbihyZXNwKXsNCgkJaWYocmVzcC5lcnIgPT0nJyl7DQoJCQlpZihyZXNwLmNvbnRlbnQuam1sZGF0YSA9PSAwKSBhbGVydCgnQmFyYW5nIFRpZGFrIEFkYSEnKTsNCgkJCWJhcmNvZGVTZW5zdXMucmVzZXQoKTsNCgkJfQ0KCX0sDQoJcGlsaWhSdWFuZyA6IGZ1bmN0aW9uKCl7CQkNCgkJdmFyIG1lID0gdGhpczsJCQ0KCQkNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c0VkaXRTa3BkZm1TS1BEJykpIHsNCgkJCVJ1YW5nUGlsaWguZm1TS1BEID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c0VkaXRTa3BkZm1TS1BEJykudmFsdWU7DQoJCQlSdWFuZ1BpbGloLmZtVU5JVCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNFZGl0U2twZGZtVU5JVCcpLnZhbHVlOw0KCQkJUnVhbmdQaWxpaC5mbVNVQlVOSVQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzRWRpdFNrcGRmbVNVQlVOSVQnKS52YWx1ZTsNCgkJCVJ1YW5nUGlsaWguZm1TRUtTSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNFZGl0U2twZGZtU0VLU0knKS52YWx1ZTsNCgkJfWVsc2UgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVNLUEQnKSkgew0KCQkJUnVhbmdQaWxpaC5mbVNLUEQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtU0tQRCcpLnZhbHVlOw0KCQkJUnVhbmdQaWxpaC5mbVVOSVQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtVU5JVCcpLnZhbHVlOw0KCQkJUnVhbmdQaWxpaC5mbVNVQlVOSVQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtU1VCVU5JVCcpLnZhbHVlOw0KCQkJUnVhbmdQaWxpaC5mbVNFS1NJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVNFS1NJJykudmFsdWU7DQoJCX0NCgkJDQoJCVJ1YW5nUGlsaWguZWxfaWRydWFuZz0gJ3JlZl9pZHJ1YW5nJzsNCgkJUnVhbmdQaWxpaC5lbF9ubWdlZHVuZz0gJ25tX2dlZHVuZyc7DQoJCVJ1YW5nUGlsaWguZWxfbm1ydWFuZz0gJ25tX3J1YW5nJzsNCgkJUnVhbmdQaWxpaC53aW5kb3dTYXZlQWZ0ZXI9IGZ1bmN0aW9uKCl7fTsJCQkNCgkJDQoJCVJ1YW5nUGlsaWgud2luZG93U2hvdygpOw0KCX0sCQ0KCXBpbGloUGVtZWdhbmcgOiBmdW5jdGlvbigpewkJDQoJCXZhciBtZSA9IHRoaXM7CQ0KCQkNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c0VkaXRTa3BkZm1TS1BEJykpIHsNCgkJCVBlZ2F3YWlQaWxpaC5mbVNLUEQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzRWRpdFNrcGRmbVNLUEQnKS52YWx1ZTsNCgkJCVBlZ2F3YWlQaWxpaC5mbVVOSVQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzRWRpdFNrcGRmbVVOSVQnKS52YWx1ZTsNCgkJCVBlZ2F3YWlQaWxpaC5mbVNVQlVOSVQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzRWRpdFNrcGRmbVNVQlVOSVQnKS52YWx1ZTsNCgkJCVBlZ2F3YWlQaWxpaC5mbVNFS1NJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c0VkaXRTa3BkZm1TRUtTSScpLnZhbHVlOw0KCQl9ZWxzZSBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtU0tQRCcpKSB7DQoJCQlQZWdhd2FpUGlsaWguZm1TS1BEID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVNLUEQnKS52YWx1ZTsNCgkJCVBlZ2F3YWlQaWxpaC5mbVVOSVQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtVU5JVCcpLnZhbHVlOw0KCQkJUGVnYXdhaVBpbGloLmZtU1VCVU5JVCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNUbXBTa3BkZm1TVUJVTklUJykudmFsdWU7DQoJCQlQZWdhd2FpUGlsaWguZm1TRUtTSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNUbXBTa3BkZm1TRUtTSScpLnZhbHVlOw0KCQl9ZWxzZSBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm1TS1BEJykpIHsgLy9LSVANCgkJCVBlZ2F3YWlQaWxpaC5mbVNLUEQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm1TS1BEJykudmFsdWU7DQoJCQlQZWdhd2FpUGlsaWguZm1VTklUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZtVU5JVCcpLnZhbHVlOw0KCQkJUGVnYXdhaVBpbGloLmZtU1VCVU5JVCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbVNVQlVOSVQnKS52YWx1ZTsNCgkJCVBlZ2F3YWlQaWxpaC5mbVNFS1NJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZtU0VLU0knKS52YWx1ZTsNCgkJfQ0KCQlQZWdhd2FpUGlsaWguZWxfaWRwZWdhd2FpID0gJ3JlZl9pZHBlbWVnYW5nJzsNCgkJUGVnYXdhaVBpbGloLmVsX25pcD0gJ25pcDEnOw0KCQlQZWdhd2FpUGlsaWguZWxfbmFtYT0gJ25hbWExJzsNCgkJUGVnYXdhaVBpbGloLmVsX2phYmF0PSAnamJ0MSc7DQoJCQkJCQ0KCQkNCgkJUGVnYXdhaVBpbGloLndpbmRvd1NhdmVBZnRlcj0gZnVuY3Rpb24oKXt9Ow0KCQlQZWdhd2FpUGlsaWgud2luZG93U2hvdygpOw0KCX0sCQ0KCXBpbGloUGVtZWdhbmcyIDogZnVuY3Rpb24oKXsJCQ0KCQl2YXIgbWUgPSB0aGlzOwkNCgkJDQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNFZGl0U2twZGZtU0tQRCcpKSB7DQoJCQlQZWdhd2FpUGlsaWguZm1TS1BEID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c0VkaXRTa3BkZm1TS1BEJykudmFsdWU7DQoJCQlQZWdhd2FpUGlsaWguZm1VTklUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c0VkaXRTa3BkZm1VTklUJykudmFsdWU7DQoJCQlQZWdhd2FpUGlsaWguZm1TVUJVTklUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c0VkaXRTa3BkZm1TVUJVTklUJykudmFsdWU7DQoJCQlQZWdhd2FpUGlsaWguZm1TRUtTSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNFZGl0U2twZGZtU0VLU0knKS52YWx1ZTsNCgkJfWVsc2UgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVNLUEQnKSkgew0KCQkJUGVnYXdhaVBpbGloLmZtU0tQRCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNUbXBTa3BkZm1TS1BEJykudmFsdWU7DQoJCQlQZWdhd2FpUGlsaWguZm1VTklUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVVOSVQnKS52YWx1ZTsNCgkJCVBlZ2F3YWlQaWxpaC5mbVNVQlVOSVQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtU1VCVU5JVCcpLnZhbHVlOwkJCQ0KCQkJUGVnYXdhaVBpbGloLmZtU0VLU0kgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtU0VLU0knKS52YWx1ZTsJCQkNCgkJfQ0KCQlQZWdhd2FpUGlsaWguZWxfaWRwZWdhd2FpID0gJ3JlZl9pZHBlbWVnYW5nMic7DQoJCVBlZ2F3YWlQaWxpaC5lbF9uaXA9ICduaXAzJzsNCgkJUGVnYXdhaVBpbGloLmVsX25hbWE9ICduYW1hMyc7DQoJCVBlZ2F3YWlQaWxpaC5lbF9qYWJhdD0gJ2pidDMnOw0KCQkJCQkNCgkJDQoJCVBlZ2F3YWlQaWxpaC53aW5kb3dTYXZlQWZ0ZXI9IGZ1bmN0aW9uKCl7fTsNCgkJUGVnYXdhaVBpbGloLndpbmRvd1Nob3coKTsNCgl9LAkNCglwaWxpaFBlbmFuZ2d1bmcgOiBmdW5jdGlvbigpewkJDQoJCXZhciBtZSA9IHRoaXM7CQkNCgkJDQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNFZGl0U2twZGZtU0tQRCcpKSB7DQoJCQlQZWdhd2FpUGlsaWguZm1TS1BEID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c0VkaXRTa3BkZm1TS1BEJykudmFsdWU7DQoJCQlQZWdhd2FpUGlsaWguZm1VTklUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c0VkaXRTa3BkZm1VTklUJykudmFsdWU7DQoJCQlQZWdhd2FpUGlsaWguZm1TVUJVTklUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c0VkaXRTa3BkZm1TVUJVTklUJykudmFsdWU7DQoJCQlQZWdhd2FpUGlsaWguZm1TRUtTSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNFZGl0U2twZGZtU0VLU0knKS52YWx1ZTsNCgkJfWVsc2UgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVNLUEQnKSkgew0KCQkJUGVnYXdhaVBpbGloLmZtU0tQRCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNUbXBTa3BkZm1TS1BEJykudmFsdWU7DQoJCQlQZWdhd2FpUGlsaWguZm1VTklUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVVOSVQnKS52YWx1ZTsNCgkJCVBlZ2F3YWlQaWxpaC5mbVNVQlVOSVQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtU1VCVU5JVCcpLnZhbHVlOwkJCQ0KCQkJUGVnYXdhaVBpbGloLmZtU0VLU0kgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtU0VLU0knKS52YWx1ZTsJCQkNCgkJfQkNCgkJUGVnYXdhaVBpbGloLmVsX2lkcGVnYXdhaSA9ICdyZWZfaWRwZW5hbmdndW5nJzsNCgkJUGVnYXdhaVBpbGloLmVsX25pcD0gJ25pcDInOw0KCQlQZWdhd2FpUGlsaWguZWxfbmFtYT0gJ25hbWEyJzsNCgkJUGVnYXdhaVBpbGloLmVsX2phYmF0PSAnamJ0Mic7DQoJCQkJDQoJCVBlZ2F3YWlQaWxpaC53aW5kb3dTYXZlQWZ0ZXI9IGZ1bmN0aW9uKCl7fTsNCgkJUGVnYXdhaVBpbGloLndpbmRvd1Nob3coKTsNCgl9LAkNCgkNCgljZXRha0tlcnRhc0tlcmphOiBmdW5jdGlvbih0aXBlKXsNCgkJaWYodGlwZT09MCl7DQoJCQlhZG1pbkZvcm0uYWN0aW9uPSdpbmRleC5waHA\/UGc9UFImU1BnPWJlbHVtc2Vuc3VzJnRpcGU9a2VydGFza2VyamEnOw0KCQl9ZWxzZXsNCgkJCWFkbWluRm9ybS5hY3Rpb249J2luZGV4LnBocD9QZz1QUiZTUGc9YmVsdW1zZW5zdXMmdGlwZT1rZXJ0YXNrZXJqYSZjdGs9MSc7DQoJCQkNCgkJfQ0KCQlhZG1pbkZvcm0udGFyZ2V0PSdfYmxhbmsnOw0KCQlhZG1pbkZvcm0uc3VibWl0KCk7DQoJCWFkbWluRm9ybS50YXJnZXQ9Jyc7CQ0KCQkNCgl9LA0KCWNldGFrS2VydGFzS2VyamFLaWI6IGZ1bmN0aW9uKHRpcGUseGxzKXsNCgkJLy90aGlzLnNldEZvcm1DZXRha0tLKCk7DQoJCS8vaWYodGlwZT09MCl7DQoJCS8vdmFyIHN0YXJ0ID0gZG9jdW1lbnQNCgkJaWYgKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGltaXRkYXRhJykuY2hlY2tlZCkgew0KCQkJdmFyIGxpbWl0ZGF0YSA9IDA7DQoJCX1lbHNlew0KCQkJdmFyIGxpbWl0ZGF0YSA9IDE7DQoJCX07DQoJCXZhciBsaW1pdHN0YXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWl0c3RhcnQnKS52YWx1ZTsNCgkJdmFyIGxpbWl0ZW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWl0ZW5kJykudmFsdWU7DQoJCXZhciBsaW1pdCA9ICcmbGltaXRkYXRhPScrbGltaXRkYXRhKycmbGltaXRzdGFydD0nK2xpbWl0c3RhcnQrJyZsaW1pdGVuZD0nK2xpbWl0ZW5kOw0KCQlpZiAoIXhscykgeGxzPTA7DQoJCQ0KCQlpZih4bHM9PTEpIHsNCgkJCXZhciB2eGxzID0gJyZ4bHM9MSc7DQoJCX1lbHNlew0KCQkJdmFyIHZ4bHMgPSAnJzsNCgkJfQ0KCQkNCgkJc3dpdGNoICh0aXBlKXsNCgkJCWNhc2UgMSA6IGFkbWluRm9ybS5hY3Rpb249J2luZGV4LnBocD9QZz1QUiZTUGc9a2liX2FfY2V0YWsmdGlwZT1rZXJ0YXNrZXJqYSZjdGs9MScrbGltaXQrdnhsczsgYnJlYWs7DQoJCQljYXNlIDIgOiBhZG1pbkZvcm0uYWN0aW9uPSdpbmRleC5waHA\/UGc9UFImU1BnPWtpYl9iX2NldGFrJnRpcGU9a2VydGFza2VyamEmY3RrPTEnK2xpbWl0K3Z4bHM7IGJyZWFrOw0KCQkJY2FzZSAzIDogYWRtaW5Gb3JtLmFjdGlvbj0naW5kZXgucGhwP1BnPVBSJlNQZz1raWJfY19jZXRhayZ0aXBlPWtlcnRhc2tlcmphJmN0az0xJytsaW1pdCt2eGxzOyBicmVhazsNCgkJCWNhc2UgNCA6IGFkbWluRm9ybS5hY3Rpb249J2luZGV4LnBocD9QZz1QUiZTUGc9a2liX2RfY2V0YWsmdGlwZT1rZXJ0YXNrZXJqYSZjdGs9MScrbGltaXQrdnhsczsgYnJlYWs7DQoJCQljYXNlIDUgOiBhZG1pbkZvcm0uYWN0aW9uPSdpbmRleC5waHA\/UGc9UFImU1BnPWtpYl9lX2NldGFrJnRpcGU9a2VydGFza2VyamEmY3RrPTEnK2xpbWl0K3Z4bHM7IGJyZWFrOw0KCQl9DQoJCQkNCgkJLy99ZWxzZXsNCgkJLy8JYWRtaW5Gb3JtLmFjdGlvbj0naW5kZXgucGhwP1BnPVBSJlNQZz1iZWx1bXNlbnN1cyZ0aXBlPWtlcnRhc2tlcmphJmN0az0xJzsJCQkNCgkJLy99DQoJCWFkbWluRm9ybS50YXJnZXQ9J19ibGFuayc7DQoJCWFkbWluRm9ybS5zdWJtaXQoKTsNCgkJYWRtaW5Gb3JtLnRhcmdldD0nJzsJDQoJCQ0KCX0sDQoJDQoJQmFydSA6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7DQoJCXZhciBjb3ZlciA9IHRoaXMucHJlZml4KydfZm9ybWNvdmVyJzsNCgkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJLy9hZGRDb3ZlclBhZ2UyKGNvdmVyLDk5OSx0cnVlLGZhbHNlKTsJDQoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSkpIGZvcm1OYW1lID0gdGhpcy5mb3JtTmFtZTsNCgkJLy9pZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRtaW5Gb3JtU2Vuc3VzU2NhbicpKSBmb3JtTmFtZSA9ICdhZG1pbkZvcm1TZW5zdXNTY2FuJzsNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkbWluRm9ybScpKSBmb3JtTmFtZSA9ICdhZG1pbkZvcm0nOw0KCQkNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1mb3JtQmFydScsDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsNCgkJCQlpZiAocmVzcC5lcnIgPT0nJyl7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CQkJDQoJCQkJCW1lLkFmdGVyRm9ybUJhcnUocmVzcCk7CQ0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCWRlbEVsZW0oY292ZXIpOw0KCQkJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdhdXRvJzsNCgkJCQl9CQkJDQoJCQkJDQoJCSAgCX0NCgkJfSk7DQoJfSwJDQoJDQoJQWZ0ZXJGb3JtRWRpdDIgOiBmdW5jdGlvbigpew0KCQlTZW5zdXNUbXAubG9hZGluZygpOw0KCX0sDQoJDQoJLy8qDQoJRWRpdDIgOiBmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOw0KCQllcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCdTZW5zdXNTY2FuJyk7DQoJCWlmKGVycm1zZyA9PScnKXsgDQoJCQl2YXIgYm94ID0gdGhpcy5HZXRDYnhDaGVja2VkKCdTZW5zdXNTY2FuJyk7DQoJCQkJCQ0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkJLy9hZGRDb3ZlclBhZ2UyKGNvdmVyLDk5OSx0cnVlLGZhbHNlKTsJDQoJCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7DQoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSkpIGZvcm1OYW1lID0gdGhpcy5mb3JtTmFtZTsNCgkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZG1pbkZvcm1TZW5zdXNTY2FuJykpIGZvcm1OYW1lID0gJ2FkbWluRm9ybVNlbnN1c1NjYW4nOw0KCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkbWluRm9ybScpKSBmb3JtTmFtZSA9ICdhZG1pbkZvcm0nOw0KCQkJJC5hamF4KHsNCgkJCQl0eXBlOidQT1NUJywgDQoJCQkJZGF0YTokKCcjJytmb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9Zm9ybUVkaXQyJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQ0KCQkJCQlpZiAocmVzcC5lcnIgPT0nJyl7CQkNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCQltZS5BZnRlckZvcm1FZGl0MihyZXNwKTsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQkJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOw0KCQkJCQl9DQoJCQkgIAl9DQoJCQl9KTsJCQkNCgkJfWVsc2V7DQoJCQlhbGVydChlcnJtc2cpOw0KCQl9DQoJCQ0KCX0sDQoJLy8qLw0KCQ0KCWZvcm1DZXRha0tLQ2VrOiBmdW5jdGlvbigpew0KCQlpZiAoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW1pdGRhdGEnKS5jaGVja2VkKSB7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGltaXRzdGFydCcpLmRpc2FibGVkICAgPSB0cnVlOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWl0ZW5kJykuZGlzYWJsZWQgID0gdHJ1ZTsNCgkJfWVsc2V7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGltaXRzdGFydCcpLmRpc2FibGVkICA9IGZhbHNlOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWl0ZW5kJykuZGlzYWJsZWQgID0gZmFsc2U7DQoJCX0NCgl9LA0KCWZvcm1DZXRha0tLQ2xvc2UgOiBmdW5jdGlvbigpew0KCQlkZWxFbGVtKCdzZW5zdXNfZm9ybUNldGFrQ292ZXInKTsJDQoJfSwNCglzZXRGb3JtQ2V0YWtLSzogZnVuY3Rpb24odGlwZSwgam1sZGF0YSwgdmptbGRhdGEpew0KCQlzd2l0Y2godGlwZSl7DQoJCQljYXNlICcxJzoga2liPSdBJzsgYnJlYWs7DQoJCQljYXNlICcyJzoga2liPSdCJzsgYnJlYWs7DQoJCQljYXNlICczJzoga2liPSdDJzsgYnJlYWs7DQoJCQljYXNlICc0Jzoga2liPSdEJzsgYnJlYWs7DQoJCQljYXNlICc1Jzoga2liPSdFJzsgYnJlYWs7DQoJCQljYXNlICc2Jzoga2liPSdGJzsgYnJlYWs7DQoJCX0NCgkJdmFyIGZvcm1fanVkdWwgPSAnQ2V0YWsgS2VydGFzIEtlcmphIEtJQiAnK2tpYjsNCgkJdmFyIGZvcm1fd2lkdGggPSAnNTAwJzsNCgkJdmFyIGZvcm1faGVpZ2h0ID0gJzIwMCc7DQoJCXZhciBjb3ZlciA9J3NlbnN1c19mb3JtQ2V0YWtDb3Zlcic7DQoJCS8vdmFyIGptbGRhdGEgPSAxMDsNCgkJLy9kb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nOw0KCQkvL2FkZENvdmVyUGFnZTIoY292ZXIsOTk5LHRydWUsZmFsc2UpOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7DQoJCQ0KCQl2YXIgZm9ybV9tZW51ID0NCgkJCSI8ZGl2IHN0eWxlPSdwYWRkaW5nOiAwIDggOSA4O2hlaWdodDoyMjsgJz4iKw0KCQkJIjxkaXYgc3R5bGU9J2Zsb2F0OnJpZ2h0Oyc+IisNCgkJCQkiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0V4Y2VsJyBvbmNsaWNrPSdTZW5zdXMuY2V0YWtLZXJ0YXNLZXJqYUtpYigiK3RpcGUrIiwxKSc+IisNCgkJCQkiPGlucHV0IHR5cGU9J2J1dHRvbicgdmFsdWU9J0NldGFrJyBvbmNsaWNrPSdTZW5zdXMuY2V0YWtLZXJ0YXNLZXJqYUtpYigiK3RpcGUrIiknPiIrDQoJCQkJIjxpbnB1dCB0eXBlPSdidXR0b24nIHZhbHVlPSdCYXRhbCcgb25jbGljaz0nU2Vuc3VzLmZvcm1DZXRha0tLQ2xvc2UoKSc+IisNCgkJCQkiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9J1NlbnN1c19pZHBsaCcgbmFtZT0nU2Vuc3VzX2lkcGxoJyB2YWx1ZT0nMTA5Jz48aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nU2Vuc3VzX2ZtU1QnIG5hbWU9J1NlbnN1c19mbVNUJyB2YWx1ZT0nMSc+IisNCgkJCQkiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9J3Nlc2knIG5hbWU9J3Nlc2knIHZhbHVlPScnPiIrDQoJCQkiPC9kaXY+IisNCgkJCSI8L2Rpdj4iOw0KCQkNCgkJdmFyIGNvbnRlbnQgPSANCgkJCSI8ZGl2IGlkPSdTZW5zdXNfZm9ybV9kaXYnIHN0eWxlPSdtYXJnaW46OSA4IDggODsgb3ZlcmZsb3c6YXV0bzsgYm9yZGVyOjFweCBzb2xpZCAjRTVFNUU1O3dpZHRoOiIrKGZvcm1fd2lkdGgtMjApKyI7aGVpZ2h0OiIrKGZvcm1faGVpZ2h0LTgwKSsiOyc+IisNCgkJCQkiPHRhYmxlIHN0eWxlPSd3aWR0aDoxMDAlJyBjbGFzcz0ndGJsZm9ybSc+PHRyPjx0ZCBzdHlsZT0ncGFkZGluZzo0Jz4iKw0KCQkJCQkiPHRhYmxlIHN0eWxlPSd3aWR0aDoxMDAlOmhlaWdodDoxMDAlJz4iKw0KCQkJCQkJIjx0cj4iKw0KCQkJCQkJCSI8dGQgc3R5bGU9JycgPiIrDQoJCQkJCQkJIkFkYSAiK3ZqbWxkYXRhKyIgZGF0YSAiKw0KCQkJCQkJCSI8L3RkPiIrDQoJCQkJCQkJIjx0ZCBzdHlsZT0nJyBjb2xzcGFuPScyJz4iKw0KCQkJCQkJCSI8L3RkPiIrCQkJCQkJCQkJCQkJCQkNCgkJCQkJCSI8L3RyPiIrDQoJCQkJCQkiPHRyPiIrDQoJCQkJCQkJIjx0ZCBzdHlsZT0nJyBjb2xzcGFuPSczJyA+IisNCgkJCQkJCQkiPGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nbGltaXRkYXRhJyBuYW1lPSdsaW1pdGRhdGEnIHN0eWxlPSdtYXJnaW4tbGVmdDowOycgb25jaGFuZ2U9J1NlbnN1cy5mb3JtQ2V0YWtLS0NlaygpJz4gQ2V0YWsgU2VtdWEgPC90ZD4iKwkJCQkJCQkJCQkJCQkJDQoJCQkJCQkiPC90cj4iKw0KCQkJCQkJIjx0cj4iKw0KCQkJCQkJCSI8dGQgc3R5bGU9J3dpZHRoOjgwJz5DZXRhayBkYXRhIGtlPC90ZD4iKw0KCQkJCQkJCSI8dGQgc3R5bGU9J3dpZHRoOjEwJz46PC90ZD4iKw0KCQkJCQkJCSI8dGQ+IisNCgkJCQkJCQkJIjxpbnB1dCB0eXBlPSd0ZXh0JyBpZD0nbGltaXRzdGFydCcgbmFtZT0nbGltaXRzdGFydCcgdmFsdWU9JzEnIHN0eWxlPSd3aWR0aDoxMDA7Jz4iKw0KCQkJCQkJCQkiJm5ic3A7Jm5ic3A7IHMvZCBkYXRhIGtlICZuYnNwOyZuYnNwOyIrDQoJCQkJCQkJCSI8aW5wdXQgdHlwZT0ndGV4dCcgaWQ9J2xpbWl0ZW5kJyBuYW1lPSdsaW1pdGVuZCcgc3R5bGU9J3dpZHRoOjEwMDsnIHZhbHVlPScxJz4iKw0KCQkJCQkJCSI8L3RkPiIrDQoJCQkJCQkiPC90cj4iKwkJCQkJCQ0KCQkJCQkiPC90YWJsZT4iKw0KCQkJCSI8L3RkPjwvdHI+PC90YWJsZT4iKw0KCQkJIjwvZGl2PiI7DQoJCQ0KCQkNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTD0gDQoJCQkiPHRhYmxlIHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnPjx0Ym9keT48dHI+PHRkIGFsaWduPSdjZW50ZXInPiIrDQoJCQkvLyJydGVyYSIrDQoJCQkiPGRpdiBpZD0nZGl2X2JvcmRlcicgc3R5bGU9J3dpZHRoOiIrZm9ybV93aWR0aCsiO2hlaWdodDoiK2Zvcm1faGVpZ2h0KyI7IGJhY2tncm91bmQtY29sb3I6d2hpdGU7IGJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjMpOyAgIGJvcmRlci1zdHlsZTogc29saWQ7ICBib3JkZXItd2lkdGg6MTsgYm94LXNoYWRvdzogNnB4IDZweCA1cHggcmdiYSgwLCAwLCAwLCAwLjMpOyc+IisNCgkJCSI8dGFibGUgY2xhc3M9Jycgd2lkdGg9JzEwMCUnIGNlbGxzcGFjaW5nPScwJyBjZWxscGFkZGluZz0nMCcgYm9yZGVyPScwJz48dGJvZHk+PHRyPjx0ZCBzdHlsZT0ncGFkZGluZzowJz4iKw0KCQkJCSI8ZGl2IGNsYXNzPSdtZW51QmFyMicgc3R5bGU9J2hlaWdodDoyMCc+IisJCQkNCgkJCQkiPHNwYW4gc3R5bGU9J2N1cnNvcjpkZWZhdWx0O3Bvc2l0aW9uOnJlbGF0aXZlO2xlZnQ6Njt0b3A6Mjtjb2xvcjpXaGl0ZTtmb250LXNpemU6MTI7Zm9udC13ZWlnaHQ6Ym9sZCc+Iitmb3JtX2p1ZHVsKyI8L3NwYW4+IisNCgkJCQkiPC9kaXY+IisNCgkJCSI8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPiIrCQkJDQoJCQljb250ZW50Kw0KCQkJZm9ybV9tZW51KwkJDQoJCQkiPC9kaXY+IisNCgkJCQkNCgkJCSI8L3RkPjwvdHI+IisNCgkJCSI8L3RhYmxlPiI7DQoJCQ0KCQkJDQoJfSwNCglmb3JtQ2V0YWtLS1Nob3cgOiBmdW5jdGlvbih0aXBlKXsNCgkJdmFyIG1lID0gdGhpczsNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSkpIGZvcm1OYW1lID0gdGhpcy5mb3JtTmFtZTsNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkbWluRm9ybScpKSBmb3JtTmFtZSA9ICdhZG1pbkZvcm0nOw0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJytmb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCSAgCXVybDogdGhpcy51cmwrJyZ0aXBlPWdldGptbGNldGFra2tlcmphJmtpYj0nK3RpcGUsDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsNCgkJCQlpZiAocmVzcC5lcnIgPT0nJyl7DQoJCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsJCQkNCgkJCQkJLy9tZS5BZnRlckZvcm1CYXJ1KHJlc3ApOwkNCgkJCQkJLy9hbGVydChyZXNwLmNvbnRlbnQuam1sZGF0YSk7DQoJCQkJCW1lLnNldEZvcm1DZXRha0tLKHRpcGUsIHJlc3AuY29udGVudC5qbWxkYXRhLCByZXNwLmNvbnRlbnQudmptbGRhdGEpOw0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCS8vZGVsRWxlbShjb3Zlcik7DQoJCQkJCS8vZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7DQoJCQkJfQkJCQ0KCQkJCQ0KCQkgIAl9DQoJCX0pOw0KCQkNCgl9LA0KCUNla0JhcmFuZyA6IGZ1bmN0aW9uICgpew0KCWptbGRhdGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94Y2hlY2tlZCcpLnZhbHVlIDsNCgljPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbVNLUEQnKS52YWx1ZTsNCglkPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbVVOSVQnKS52YWx1ZTsNCgllPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbVNVQlVOSVQnKS52YWx1ZTsNCgllMT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm1TRUtTSScpLnZhbHVlOw0KCWVycm1zZz0nJzsNCglpZiAoYz09JzAwJyB8fCBkPT0nMDAnIHx8IGU9PScwMCcgfHwgZTE9PScwMCcgfHwgZTE9PScwMDAnICl7DQoJCWVycm1zZz0nMSc7DQoJCWFsZXJ0KCdTS1BEIEJlbHVtIERpcGlsaWghJyk7CQ0KCQkNCgl9DQoJaWYgKGVycm1zZz09JycpDQoJew0KCQkNCgkNCglpZiAoam1sZGF0YT4wICkgew0KCWxhbmp1dD0gIGNvbmZpcm0oJ0FwYWthaCAnK2ptbGRhdGErJyBiYXJhbmcgaW5pIGFrYW4gZGkgc2Vuc3VzPycpIDsNCglpZiAobGFuanV0KXsNCgkJdmFyIGNvdmVyID0gJ2NvdmVyaW5zZXJ0YmFyY29kZSc7CQ0KCQlhZGRDb3ZlclBhZ2UoY292ZXIsMTAwKTsNCgkJCQkJDQoJCSQuYWpheCh7CQkNCgkJCXR5cGU6J1BPU1QnLCAJCQ0KCQkJdXJsOiAncGFnZXMucGhwP1BnPXNlbnN1c3RtcCZ0aXBlPWluc2VydHNlbnN1c21hbnVhbCcsIA0KCQkJZGF0YTokKCcjYWRtaW5Gb3JtJykuc2VyaWFsaXplKCksIA0KCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCgkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgcmVzcG9uc2UgKyAnKScpOw0KCQkJCWRlbEVsZW0oJ2NvdmVyaW5zZXJ0YmFyY29kZScpOw0KCQkJCWlmKHJlc3AuZXJyICE9ICcnKXsNCgkJCQl9ZWxzZXsNCgkJCQl9DQoJCQkJLy8gbWUucmVzZXQoKTsNCgkJCQlQZW5hdGF1c2FoYS5yZWZyZXNoTGlzdCh0cnVlKTsNCgkJCX0NCgkJfSk7DQoNCg0KCX0JDQoJfSBlbHNlIHsNCgkJYWxlcnQoJ0RhdGEgQmVsdW0gRGlwaWxpaCEnKTsJDQoJCWVycm1zZz0nMSc7DQoNCgl9DQoJfQ0KCQkNCgl9LAkNCgkNCglGb3JtQ2V0YWtTaG93IDogZnVuY3Rpb24oam5zZm9ybSl7CQ0KCQkNCgkJdmFyIG1lID0gdGhpczsNCgkJdmFyIGVycj0nJzsJCQ0KCQlpZiAoZXJyID09JycgKXsJCQ0KCQkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXInOw0KCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCWFkZENvdmVyUGFnZTIoY292ZXIsOTk5LHRydWUsZmFsc2UpOwkNCgkJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkgIAl1cmw6IHRoaXMudXJsKycmdGlwZT1Gb3JtQ2V0YWtTaG93Jmpuc2Zvcm09JytqbnNmb3JtLA0KCQkJICAJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwkNCgkJCSAgCX0NCgkJCX0pOw0KCQkNCgkJfWVsc2V7DQoJCSAJYWxlcnQoZXJyKTsNCgkJfQ0KCX0sCQkNCgkNCglmb3JtQ2V0YWtDZWs6IGZ1bmN0aW9uKCl7DQoJCWlmICggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWl0ZGF0YScpLmNoZWNrZWQpIHsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW1pdHN0YXJ0JykuZGlzYWJsZWQgICA9IHRydWU7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGltaXRlbmQnKS5kaXNhYmxlZCAgPSB0cnVlOw0KCQl9ZWxzZXsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW1pdHN0YXJ0JykuZGlzYWJsZWQgID0gZmFsc2U7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGltaXRlbmQnKS5kaXNhYmxlZCAgPSBmYWxzZTsNCgkJfQ0KCX0sDQoJDQoJY2V0YWtIYWwgOiBmdW5jdGlvbigpew0KCQl2YXIgaGFsZGVmYXVsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoYWxkZWZhdWx0JykudmFsdWU7DQoJCXZhciB0aXBlX2NldGFrID0gJ2NldGFrX2hhbCZoYWxkZWZhdWx0PScraGFsZGVmYXVsdDsNCgkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7CQkNCgkJYUZvcm0uYWN0aW9uPXRoaXMudXJsKycmdGlwZT0nK3RpcGVfY2V0YWs7DQoJCWFGb3JtLnRhcmdldD0nX2JsYW5rJzsNCgkJYUZvcm0uc3VibWl0KCk7CQ0KCQlhRm9ybS50YXJnZXQ9Jyc7DQoJfSwNCgljZXRha0FsbCA6IGZ1bmN0aW9uKCl7DQoJCXZhciBsaW1pdHN0YXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWl0c3RhcnQnKS52YWx1ZTsNCgkJdmFyIGxpbWl0ZW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWl0ZW5kJykudmFsdWU7DQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW1pdGRhdGEnKS5jaGVja2VkPT10cnVlKXsvL2NldGFrIHNlbXVhDQoJCQl2YXIgdGlwZV9jZXRhayA9ICdjZXRha19hbGwmY2hlY2tlZD0xJzsNCgkJfWVsc2V7Ly9jZXRhayBsaW1pdA0KCQkJdmFyIHRpcGVfY2V0YWsgPSAnY2V0YWtfaGFsJmxpbWl0c3RhcnQ9JytsaW1pdHN0YXJ0KycmbGltaXRlbmQ9JytsaW1pdGVuZCsnJmNoZWNrZWQ9MCc7DQoJCX0NCgkJLy92YXIgbGltaXQgPSAnJmxpbWl0c3RhcnQ9JytsaW1pdHN0YXJ0KycmbGltaXRlbmQ9JytsaW1pdGVuZCsnJmNoZWNrZWQ9JytjaGVja2VkOw0KCQl2YXIgYUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZvcm1OYW1lKTsJCQ0KCQlhRm9ybS5hY3Rpb249dGhpcy51cmwrJyZ0aXBlPScrdGlwZV9jZXRhazsNCgkJYUZvcm0udGFyZ2V0PSdfYmxhbmsnOw0KCQlhRm9ybS5zdWJtaXQoKTsJDQoJCWFGb3JtLnRhcmdldD0nJzsNCgl9LA0KCWV4cG9ydFhsc0hhbCA6IGZ1bmN0aW9uKCl7CQkNCgkJdmFyIGhhbGRlZmF1bHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGFsZGVmYXVsdCcpLnZhbHVlOw0KCQl2YXIgdGlwZV9jZXRhayA9ICdleHBvcnRYbHNIYWwmaGFsZGVmYXVsdD0nK2hhbGRlZmF1bHQ7CQkNCgkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7CQkNCgkJYUZvcm0uYWN0aW9uPXRoaXMudXJsKycmdGlwZT0nK3RpcGVfY2V0YWs7DQoJCS8vYUZvcm0udGFyZ2V0PSdfYmxhbmsnOw0KCQlhRm9ybS5zdWJtaXQoKTsJDQoJCWFGb3JtLnRhcmdldD0nJzsNCgl9LA0KCWV4cG9ydFhsc0FsbCA6IGZ1bmN0aW9uKCl7CQkNCgkJdmFyIGxpbWl0c3RhcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGltaXRzdGFydCcpLnZhbHVlOw0KCQl2YXIgbGltaXRlbmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGltaXRlbmQnKS52YWx1ZTsNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbWl0ZGF0YScpLmNoZWNrZWQ9PXRydWUpey8vY2V0YWsgc2VtdWENCgkJCXZhciB0aXBlX2NldGFrID0gJ2V4cG9ydFhsc0FsbCZjaGVja2VkPTEnOw0KCQl9ZWxzZXsvL2NldGFrIGxpbWl0DQoJCQl2YXIgdGlwZV9jZXRhayA9ICdleHBvcnRYbHNIYWwmbGltaXRzdGFydD0nK2xpbWl0c3RhcnQrJyZsaW1pdGVuZD0nK2xpbWl0ZW5kKycmY2hlY2tlZD0wJzsNCgkJfXZhciBhRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZm9ybU5hbWUpOwkJDQoJCWFGb3JtLmFjdGlvbj10aGlzLnVybCsnJnRpcGU9Jyt0aXBlX2NldGFrOw0KCQkvL2FGb3JtLnRhcmdldD0nX2JsYW5rJzsNCgkJYUZvcm0uc3VibWl0KCk7CQ0KCQlhRm9ybS50YXJnZXQ9Jyc7DQoJfQ0KfSk7DQoNCnZhciBTZW5zdXNUbXAgPSBuZXcgRGFmdGFyT2JqMih7DQoJcHJlZml4IDogJ1NlbnN1c1RtcCcsDQoJdXJsIDogJ3BhZ2VzLnBocD9QZz1zZW5zdXN0bXAnLCANCglmb3JtTmFtZSA6ICdTZW5zdXNfZm9ybScsDQoJZmlsdGVyUmVuZGVyQWZ0ZXIgOiBmdW5jdGlvbigpewkJDQoJCWJhcmNvZGVTZW5zdXNCYXJ1LmxvYWRpbmcoKTsNCgl9LAkNCgllbnRyeUNhdGF0YW4gOiBmdW5jdGlvbigpewkJDQoJCXZhciBtZSA9IHRoaXM7CQkNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19qbWxjZWsnKSl7DQoJCQl2YXIgam1sY2VrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19qbWxjZWsnKS52YWx1ZSA7CQ0KCQl9ZWxzZXsNCgkJCXZhciBqbWxjZWsgPSAnJzsNCgkJfQkJDQoJCXZhciBwaWxpaHNlbXVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieHNlbXVhJykuY2hlY2tlZDsNCgkJaWYoam1sY2VrID09MCAmJiBwaWxpaHNlbXVhPT1mYWxzZSl7DQoJCQlhbGVydCgnRGF0YSBCZWx1bSBEaXBpbGloIScpOw0KCQl9ZWxzZXsNCgkJCXZhciBsYW5qdXQ9IHRydWU7DQoJCQlpZihwaWxpaHNlbXVhKXsNCgkJCQlsYW5qdXQ9ICBjb25maXJtKCdFbnRyeSBDYXRhdGFuIHVudHVrIHNlbXVhIGRhdGEgPycpIDsNCgkJCX1lbHNlIGlmIChqbWxjZWs+MSApew0KCQkJCWxhbmp1dD0gIGNvbmZpcm0oJ0VudHJ5IENhdGF0YW4gdW50dWsgJytqbWxjZWsrJyBkYXRhID8nKSA7DQoJCQl9DQoJCQlpZihsYW5qdXQpewkJCQ0KCQkJCXZhciBjb3ZlciA9ICdjb3ZlckVudHJ5Q2F0YXRhbic7DQoJCQkJLy9hZGRDb3ZlclBhZ2UyKGNvdmVyLDk5OSx0cnVlLGZhbHNlKTsJDQoJCQkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOw0KCQkJCSQuYWpheCh7DQoJCQkJCXR5cGU6J1BPU1QnLCANCgkJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9ZW50cnlDYXRhdGFuJywNCgkJCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CQkJCQkNCgkJCQkJCWlmKHJlc3AuZXJyID09ICcnKXsNCgkJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MPXJlc3AuY29udGVudCA7DQoJCQkJCQl9ZWxzZXsNCgkJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9KTsNCgkJCX0NCgkJfQ0KCX0sDQoJZW50cnlDYXRhdGFuQ2xvc2U6IGZ1bmN0aW9uKCl7DQoJCWRlbEVsZW0oJ2NvdmVyRW50cnlDYXRhdGFuJyk7DQoJfSwNCgkNCgllbnRyeUNhdGF0YW5TaW1wYW46IGZ1bmN0aW9uKCl7DQoJCXZhciBtZT0gdGhpczsJCQ0KCQl2YXIgY2F0YXRhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRhdGFuJykudmFsdWU7DQoJCS8vdGhpcy5waWxpaEtvbmRpc2lDbG9zZSgpOw0KCQkvL3NhdmUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJCXZhciBjb3ZlciA9ICdjb3ZlckVudHJ5Q2F0YXRhblNpbXBhbic7DQoJCS8vYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7CQ0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7DQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c2ltcGFuRW50cnlDYXRhdGFuJmNhdGF0YW49JytjYXRhdGFuLA0KCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQkJCQkNCgkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQltZS5lbnRyeUNhdGF0YW5DbG9zZSgpOw0KCQkJCW1lLnJlZnJlc2hMaXN0KGZhbHNlKTsNCgkJCX0NCgkJfSk7DQoJfSwNCgllbnRyeUFkYTogZnVuY3Rpb24oKXsNCgkJdmFyIG1lID0gdGhpczsJCQ0KCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsnX2ptbGNlaycpKXsNCgkJCXZhciBqbWxjZWsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsnX2ptbGNlaycpLnZhbHVlIDsJDQoJCX1lbHNlew0KCQkJdmFyIGptbGNlayA9ICcnOw0KCQl9DQoJCXZhciBwaWxpaHNlbXVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieHNlbXVhJykuY2hlY2tlZDsJCQkJDQoJCWlmKGptbGNlayA9PTAgJiYgcGlsaWhzZW11YT09ZmFsc2Upew0KCQkJYWxlcnQoJ0RhdGEgQmVsdW0gRGlwaWxpaCEnKTsNCgkJfWVsc2V7DQoJCQl2YXIgbGFuanV0PSB0cnVlOw0KCQkJaWYocGlsaWhzZW11YSl7DQoJCQkJbGFuanV0PSAgY29uZmlybSgnRW50cnkgdW50dWsgc2VtdWEgZGF0YSA\/JykgOw0KCQkJfWVsc2UgaWYgKGptbGNlaz4xICl7DQoJCQkJbGFuanV0PSAgY29uZmlybSgnRW50cnkgdW50dWsgJytqbWxjZWsrJyBkYXRhID8nKSA7DQoJCQl9DQoJCQlpZihsYW5qdXQpewkNCgkJCQl2YXIgY292ZXIgPSAnY292ZXJFbnRyeUFkYSc7DQoJCQkJLy9hZGRDb3ZlclBhZ2UyKGNvdmVyLDk5OSx0cnVlLGZhbHNlKTsJDQoJCQkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOw0KCQkJCSQuYWpheCh7DQoJCQkJCXR5cGU6J1BPU1QnLCANCgkJCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9ZW50cnlBZGEnLA0KCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CQkNCgkJCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkJCQ0KCQkJCQkJaWYocmVzcC5lcnIgPT0gJycpew0KCQkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUw9cmVzcC5jb250ZW50IDsNCgkJCQkJCX1lbHNlew0KCQkJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0pOw0KCQkJDQoJCQl9DQoJCX0NCgl9LAkNCgllbnRyeUFkYVNpbXBhbjogZnVuY3Rpb24oKXsNCgkJdmFyIG1lPSB0aGlzOwkJDQoJCXZhciBjYXRhdGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdGF0YW4nKS52YWx1ZTsNCgkJLy90aGlzLnBpbGloS29uZGlzaUNsb3NlKCk7DQoJCS8vc2F2ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0NCgkJLy9hbGVydCgkKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSArJyYnKyAkKCcjU2Vuc3VzVG1wX2Zvcm0nKS5zZXJpYWxpemUoKSk7DQoJCXZhciBjb3ZlciA9ICdjb3ZlckVudHJ5Q2F0YXRhblNpbXBhbic7DQoJCS8vYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7CQ0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7DQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpICsnJicrICQoJyNTZW5zdXNUbXBfZm9ybScpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c2ltcGFuRW50cnlBZGEnLA0KCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCWRlbEVsZW0oY292ZXIpOw0KCQkJCWlmKHJlc3AuZXJyPT0nJyl7CQkJCQkNCgkJCQkJbWUuZW50cnlBZGFDbG9zZSgpOw0KCQkJCQltZS5yZWZyZXNoTGlzdChmYWxzZSk7CQ0KCQkJCX1lbHNlew0KCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJfQkNCgkJCQkNCgkJCX0NCgkJfSk7DQoJfSwJDQoJZW50cnlBZGFDbG9zZTogZnVuY3Rpb24oKXsNCgkJZGVsRWxlbSgnY292ZXJFbnRyeUFkYScpOw0KCX0sDQoJcGlsaWhLb25kaXNpIDogZnVuY3Rpb24oKXsJCQ0KCQl2YXIgbWUgPSB0aGlzOwkJDQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4Kydfam1sY2VrJykpew0KCQkJdmFyIGptbGNlayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4Kydfam1sY2VrJykudmFsdWUgOwkNCgkJfWVsc2V7DQoJCQl2YXIgam1sY2VrID0gJyc7DQoJCX0JCQ0KCQl2YXIgcGlsaWhzZW11YSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYnhzZW11YScpLmNoZWNrZWQ7DQoJCWlmKGptbGNlayA9PTAgJiYgcGlsaWhzZW11YT09ZmFsc2Upew0KCQkJYWxlcnQoJ0RhdGEgQmVsdW0gRGlwaWxpaCEnKTsNCgkJfWVsc2V7DQoJCQl2YXIgbGFuanV0PSB0cnVlOw0KCQkJaWYocGlsaWhzZW11YSl7DQoJCQkJbGFuanV0PSAgY29uZmlybSgnUGlsaWggS29uZGlzaSB1bnR1ayBzZW11YSBkYXRhID8nKSA7DQoJCQl9ZWxzZSBpZiAoam1sY2VrPjEgKXsNCgkJCQlsYW5qdXQ9ICBjb25maXJtKCdQaWxpaCBLb25kaXNpIHVudHVrICcram1sY2VrKycgZGF0YSA\/JykgOw0KCQkJfQ0KCQkJaWYobGFuanV0KXsJCQkNCgkJCQl2YXIgY292ZXIgPSAnY292ZXJQaWxpaEtvbmRpc2knOw0KCQkJCS8vYWRkQ292ZXJQYWdlMihjb3Zlciw5OTksdHJ1ZSxmYWxzZSk7CQ0KCQkJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsNCgkJCQkkLmFqYXgoew0KCQkJCQl0eXBlOidQT1NUJywgDQoJCQkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQkJCXVybDogdGhpcy51cmwrJyZ0aXBlPXBpbGloa29uZGlzaScsDQoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQkJDQoJCQkJCQlpZihyZXNwLmVyciA9PSAnJyl7DQoJCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTD1yZXNwLmNvbnRlbnQgOw0KCQkJCQkJfWVsc2V7DQoJCQkJCQkJYWxlcnQocmVzcC5lcnIpOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfSk7DQoJCQl9DQoJCX0NCgl9LA0KCXBpbGloS29uZGlzaUNsb3NlOiBmdW5jdGlvbigpew0KCQlkZWxFbGVtKCdjb3ZlclBpbGloS29uZGlzaScpOw0KCX0sDQoJcGlsaWhLb25kaXNpU2ltcGFuOiBmdW5jdGlvbigpew0KCQl2YXIgbWU9IHRoaXM7CQkNCgkJdmFyIGtvbmRpc2kgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna29uZGlzaScpLnZhbHVlOw0KCQl0aGlzLnBpbGloS29uZGlzaUNsb3NlKCk7DQoJCS8vc2F2ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0NCgkJdmFyIGNvdmVyID0gJ2NvdmVycGlsaWhLb25kaXNpU2ltcGFuJzsNCgkJLy9hZGRDb3ZlclBhZ2UyKGNvdmVyLDk5OSx0cnVlLGZhbHNlKTsJDQoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1zaW1wYW5rb25kaXNpJmtvbmRpc2k9Jytrb25kaXNpLA0KCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewkJDQoJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkJCQ0KCQkJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsJCQkJCQ0KCQkJCQ0KCQkJCWRlbEVsZW0oY292ZXIpOw0KCQkJCW1lLnJlZnJlc2hMaXN0KGZhbHNlKTsNCgkJCX0NCgkJfSk7DQoJfSwNCglwaWxpaFBlbmFuZ2d1bmc6IGZ1bmN0aW9uKCl7DQoJCXZhciBtZSA9IHRoaXM7CQkNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19qbWxjZWsnKSl7DQoJCQl2YXIgam1sY2VrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19qbWxjZWsnKS52YWx1ZSA7CQ0KCQl9ZWxzZXsNCgkJCXZhciBqbWxjZWsgPSAnJzsNCgkJfQkNCgkJdmFyIHBpbGloc2VtdWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4c2VtdWEnKS5jaGVja2VkOwkJCQ0KCQlpZihqbWxjZWsgPT0wICYmIHBpbGloc2VtdWE9PWZhbHNlKXsNCgkJCWFsZXJ0KCdEYXRhIEJlbHVtIERpcGlsaWghJyk7DQoJCX1lbHNlew0KCQkJdmFyIGxhbmp1dD0gdHJ1ZTsNCgkJCWlmKHBpbGloc2VtdWEpew0KCQkJCWxhbmp1dD0gIGNvbmZpcm0oJ1BpbGloIEt1YXNhIFBlbmFuZ2d1bmcgQmFyYW5nIHVudHVrIHNlbXVhIGRhdGEgPycpIDsNCgkJCX1lbHNlIGlmIChqbWxjZWs+MSApew0KCQkJCWxhbmp1dD0gIGNvbmZpcm0oJ1BpbGloIEt1YXNhIFBlbmFuZ2d1bmcgQmFyYW5nIHVudHVrICcram1sY2VrKycgZGF0YSA\/JykgOw0KCQkJfQ0KCQkJaWYobGFuanV0KXsJDQoJCQkJUGVnYXdhaVBpbGloLmZtU0tQRCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNUbXBTa3BkZm1TS1BEJykudmFsdWU7DQoJCQkJUGVnYXdhaVBpbGloLmZtVU5JVCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNUbXBTa3BkZm1VTklUJykudmFsdWU7DQoJCQkJUGVnYXdhaVBpbGloLmZtU1VCVU5JVCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNUbXBTa3BkZm1TVUJVTklUJykudmFsdWU7DQoJCQkJUGVnYXdhaVBpbGloLmZtU0VLU0kgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtU0VLU0knKS52YWx1ZTsNCgkJCQkJCQ0KCQkJCVBlZ2F3YWlQaWxpaC53aW5kb3dTYXZlQWZ0ZXI9IGZ1bmN0aW9uKCl7DQoJCQkJCW1lLnNpbXBhblBlbmFuZ2d1bmcodGhpcy5pZHBpbGloKTsNCgkJCQl9DQoJCQkJUGVnYXdhaVBpbGloLndpbmRvd1Nob3coKTsNCgkJCX0NCgkJfQ0KCX0sDQoJc2ltcGFuUGVuYW5nZ3VuZzogZnVuY3Rpb24oaWRwaWxpaCl7CQkNCgkJdmFyIG1lPSB0aGlzOw0KCQkvL3NhdmUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJCXZhciBjb3ZlciA9ICdjb3ZlclNpbXBhblBlbmFuZ2d1bmcnOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7CQ0KCQkkLmFqYXgoew0KCQkJdHlwZTonUE9TVCcsIA0KCQkJZGF0YTokKCcjJyt0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwNCgkJCXVybDogdGhpcy51cmwrJyZ0aXBlPXNpbXBhbnBlbmFuZ2d1bmcmaWRwZWdhd2FpPScraWRwaWxpaCwNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkJCQkJDQoJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJbWUucmVmcmVzaExpc3QoZmFsc2UpOw0KCQkJfQ0KCQl9KTsNCgl9LA0KCQ0KCXBpbGloUGVnYW5nMjogZnVuY3Rpb24oKXsNCgkJdmFyIG1lID0gdGhpczsJCQ0KCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsnX2ptbGNlaycpKXsNCgkJCXZhciBqbWxjZWsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnByZWZpeCsnX2ptbGNlaycpLnZhbHVlIDsJDQoJCX1lbHNlew0KCQkJdmFyIGptbGNlayA9ICcnOw0KCQl9DQoJCXZhciBwaWxpaHNlbXVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieHNlbXVhJykuY2hlY2tlZDsJCQkJDQoJCWlmKGptbGNlayA9PTAgJiYgcGlsaWhzZW11YT09ZmFsc2Upew0KCQkJYWxlcnQoJ0RhdGEgQmVsdW0gRGlwaWxpaCEnKTsNCgkJfWVsc2V7DQoJCQl2YXIgbGFuanV0PSB0cnVlOw0KCQkJaWYocGlsaWhzZW11YSl7DQoJCQkJbGFuanV0PSAgY29uZmlybSgnUGlsaWggUGVuYW5nZ3VuZyBKYXdhYiBCYXJhbmcgdW50dWsgc2VtdWEgZGF0YSA\/JykgOw0KCQkJfWVsc2UgaWYgKGptbGNlaz4xICl7DQoJCQkJbGFuanV0PSAgY29uZmlybSgnUGlsaWggUGVuYW5nZ3VuZyBKYXdhYiBCYXJhbmcgdW50dWsgJytqbWxjZWsrJyBkYXRhID8nKSA7DQoJCQl9DQoJCQlpZihsYW5qdXQpewkJCQ0KCQkJCVBlZ2F3YWlQaWxpaC5mbVNLUEQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtU0tQRCcpLnZhbHVlOw0KCQkJCVBlZ2F3YWlQaWxpaC5mbVVOSVQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtVU5JVCcpLnZhbHVlOw0KCQkJCVBlZ2F3YWlQaWxpaC5mbVNVQlVOSVQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtU1VCVU5JVCcpLnZhbHVlOw0KCQkJCVBlZ2F3YWlQaWxpaC5mbVNFS1NJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVNFS1NJJykudmFsdWU7DQoJCQkJLy9hbGVydChQZWdhd2EpDQoJCQkJUGVnYXdhaVBpbGloLndpbmRvd1NhdmVBZnRlcj0gZnVuY3Rpb24oKXsJCQkJCQ0KCQkJCQltZS5zaW1wYW5QZW1lZ2FuZzIodGhpcy5pZHBpbGloKTsNCgkJCQl9DQoJCQkJUGVnYXdhaVBpbGloLndpbmRvd1Nob3coKTsNCgkJCX0NCgkJfQ0KCX0sDQoJc2ltcGFuUGVtZWdhbmcyOiBmdW5jdGlvbihpZHBpbGloKXsJCQ0KCQl2YXIgbWU9IHRoaXM7DQoJCS8vc2F2ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0NCgkJdmFyIGNvdmVyID0gJ2NvdmVyU2ltcGFuUGVtZWdhbmcyJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1zaW1wYW5wZW1lZ2FuZzImaWRwZWdhd2FpPScraWRwaWxpaCwNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkJCQkJDQoJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJbWUucmVmcmVzaExpc3QoZmFsc2UpOw0KCQkJfQ0KCQl9KTsNCgl9LA0KCQ0KCXBpbGloUGVnYW5nOiBmdW5jdGlvbigpew0KCQl2YXIgbWUgPSB0aGlzOwkJDQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4Kydfam1sY2VrJykpew0KCQkJdmFyIGptbGNlayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucHJlZml4Kydfam1sY2VrJykudmFsdWUgOwkNCgkJfWVsc2V7DQoJCQl2YXIgam1sY2VrID0gJyc7DQoJCX0NCgkJdmFyIHBpbGloc2VtdWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4c2VtdWEnKS5jaGVja2VkOwkJCQkNCgkJaWYoam1sY2VrID09MCAmJiBwaWxpaHNlbXVhPT1mYWxzZSl7DQoJCQlhbGVydCgnRGF0YSBCZWx1bSBEaXBpbGloIScpOw0KCQl9ZWxzZXsNCgkJCXZhciBsYW5qdXQ9IHRydWU7DQoJCQlpZihwaWxpaHNlbXVhKXsNCgkJCQlsYW5qdXQ9ICBjb25maXJtKCdQaWxpaCBQZW5ndXJ1cyBCYXJhbmcvUGVtYmFudHUgdW50dWsgc2VtdWEgZGF0YSA\/JykgOw0KCQkJfWVsc2UgaWYgKGptbGNlaz4xICl7DQoJCQkJbGFuanV0PSAgY29uZmlybSgnUGlsaWggUGVuZ3VydXMgQmFyYW5nL1BlbWJhbnR1IHVudHVrICcram1sY2VrKycgZGF0YSA\/JykgOw0KCQkJfQ0KCQkJaWYobGFuanV0KXsJCQkNCgkJCQlQZWdhd2FpUGlsaWguZm1TS1BEID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVNLUEQnKS52YWx1ZTsNCgkJCQlQZWdhd2FpUGlsaWguZm1VTklUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVVOSVQnKS52YWx1ZTsNCgkJCQlQZWdhd2FpUGlsaWguZm1TVUJVTklUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVNVQlVOSVQnKS52YWx1ZTsNCgkJCQlQZWdhd2FpUGlsaWguZm1TRUtTSSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNUbXBTa3BkZm1TRUtTSScpLnZhbHVlOw0KCQkJCS8vYWxlcnQoUGVnYXdhKQ0KCQkJCVBlZ2F3YWlQaWxpaC53aW5kb3dTYXZlQWZ0ZXI9IGZ1bmN0aW9uKCl7CQkJCQkNCgkJCQkJbWUuc2ltcGFuUGVtZWdhbmcodGhpcy5pZHBpbGloKTsNCgkJCQl9DQoJCQkJUGVnYXdhaVBpbGloLndpbmRvd1Nob3coKTsNCgkJCX0NCgkJfQ0KCX0sDQoJc2ltcGFuUGVtZWdhbmc6IGZ1bmN0aW9uKGlkcGlsaWgpewkJDQoJCXZhciBtZT0gdGhpczsNCgkJLy9zYXZlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCQl2YXIgY292ZXIgPSAnY292ZXJTaW1wYW5QZW1lZ2FuZyc7DQoJCWFkZENvdmVyUGFnZTIoY292ZXIsMSx0cnVlLGZhbHNlKTsJDQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9c2ltcGFucGVtZWdhbmcmaWRwZWdhd2FpPScraWRwaWxpaCwNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkJCQkJDQoJCQkJZGVsRWxlbShjb3Zlcik7DQoJCQkJbWUucmVmcmVzaExpc3QoZmFsc2UpOw0KCQkJfQ0KCQl9KTsNCgl9LA0KCXBpbGloUnVhbmcgOiBmdW5jdGlvbigpewkJDQoJCXZhciBtZSA9IHRoaXM7CQkNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19qbWxjZWsnKSl7DQoJCQl2YXIgam1sY2VrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXgrJ19qbWxjZWsnKS52YWx1ZSA7CQ0KCQl9ZWxzZXsNCgkJCXZhciBqbWxjZWsgPSAnJzsNCgkJfQ0KCQl2YXIgcGlsaWhzZW11YSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYnhzZW11YScpLmNoZWNrZWQ7CQ0KCQlpZihqbWxjZWsgPT0wICYmIHBpbGloc2VtdWE9PWZhbHNlKXsNCgkJCWFsZXJ0KCdEYXRhIEJlbHVtIERpcGlsaWghJyk7DQoJCX1lbHNlew0KCQkJdmFyIGxhbmp1dD0gdHJ1ZTsNCgkJCWlmKHBpbGloc2VtdWEpew0KCQkJCWxhbmp1dD0gIGNvbmZpcm0oJ1BpbGloIFJ1YW5nIHVudHVrIHNlbXVhIGRhdGEgPycpIDsNCgkJCX1lbHNlIGlmIChqbWxjZWs+MSApew0KCQkJCWxhbmp1dD0gIGNvbmZpcm0oJ1BpbGloIFJ1YW5nIHVudHVrICcram1sY2VrKycgZGF0YSA\/JykgOw0KCQkJfQ0KCQkJaWYobGFuanV0KXsJDQoJCQkJUnVhbmdQaWxpaC5mbVNLUEQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtU0tQRCcpLnZhbHVlOw0KCQkJCVJ1YW5nUGlsaWguZm1VTklUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVVOSVQnKS52YWx1ZTsNCgkJCQlSdWFuZ1BpbGloLmZtU1VCVU5JVCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNUbXBTa3BkZm1TVUJVTklUJykudmFsdWU7DQoJCQkJUnVhbmdQaWxpaC5mbVNFS1NJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVNFS1NJJykudmFsdWU7DQoJCQkJDQoJCQkJUnVhbmdQaWxpaC53aW5kb3dTYXZlQWZ0ZXI9IGZ1bmN0aW9uKCl7DQoJCQkJCW1lLnNpbXBhblJ1YW5nKHRoaXMuaWRwaWxpaCk7DQoJCQkJfQ0KCQkJCVJ1YW5nUGlsaWgud2luZG93U2hvdygpOw0KCQkJfQ0KCQl9DQoJfSwJDQoJc2ltcGFuUnVhbmc6IGZ1bmN0aW9uKGlkcnVhbmcpew0KCQkvL2FsZXJ0KCdwaWxpaCAnK2lkcGlsaWgpOw0KCQl2YXIgbWU9IHRoaXM7DQoJCQ0KCQkvL3NhdmUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJCXZhciBjb3ZlciA9ICdjb3ZlclNpbXBhblJ1YW5nJzsNCgkJYWRkQ292ZXJQYWdlMihjb3ZlciwxLHRydWUsZmFsc2UpOwkNCgkJJC5hamF4KHsNCgkJCXR5cGU6J1BPU1QnLCANCgkJCWRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksDQoJCQl1cmw6IHRoaXMudXJsKycmdGlwZT1zaW1wYW5ydWFuZyZpZHJ1YW5nPScraWRydWFuZywNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJCQkNCgkJCQkvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CQkJCQkNCgkJCQkNCgkJCQlkZWxFbGVtKGNvdmVyKTsNCgkJCQltZS5yZWZyZXNoTGlzdChmYWxzZSk7DQoJCQl9DQoJCX0pOw0KCQkNCgkJDQoJfSwNCmVudHJ5QmFyYW5nOmZ1bmN0aW9uKCkNCgl7DQoJCS8vYWxlcnQoInRlcyIpOw0KCQl2YXIgc3cgPSBnZXRCcm93c2VyV2lkdGgoKTsNCgkJdmFyIHNoID0gZ2V0QnJvd3NlckhlaWdodCgpOw0KCQkNCgkJdmFyIGlkdXN1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNfaWRwbGgnKS52YWx1ZTsNCgkJdmFyIHNlc2lDYXJpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nlc2knKS52YWx1ZTsNCgkJdmFyIGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2Vuc3VzVG1wU2twZGZtU0tQRCcpLnZhbHVlOw0KCQl2YXIgZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTZW5zdXNUbXBTa3BkZm1VTklUJykudmFsdWU7DQoJCXZhciBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVNVQlVOSVQnKS52YWx1ZTsNCgkJdmFyIGUxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1NlbnN1c1RtcFNrcGRmbVNFS1NJJykudmFsdWU7DQoJCQ0KCQl2YXIgY292ZXIgPSB0aGlzLnByZWZpeCsnX2Zvcm1jb3ZlcmNhcmknOw0KCQkvL2FkZENvdmVyUGFnZTIoY292ZXIsOTk5LHRydWUsZmFsc2UpOw0KCQlhZGRDb3ZlclBhZ2UyKGNvdmVyLDEsdHJ1ZSxmYWxzZSk7DQoJCSQuYWpheCh7DQoJCQl0eXBlOidQT1NUJywgDQoJCQlkYXRhOiQoJyMnK3RoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLA0KCQkJdXJsOiB0aGlzLnVybCsnJnRpcGU9ZW50cnlCYXJhbmcmc3c9JytzdysnJnNoPScrc2gsDQoJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsJCQ0KCQkJCXZhciByZXNwID0gZXZhbCgnKCcgKyBkYXRhICsgJyknKTsJDQoJCQkJaWYgKHJlc3AuZXJyID09JycpewkJDQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7DQoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXZfZGV0YWlsY2FyaScpLmlubmVySFRNTCA9IA0KCQkJCQkiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9J2Zvcm1jYXJpYmknIG5hbWU9J2Zvcm1jYXJpYmknIHZhbHVlPScwJz4iKw0KCQkJCQkiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9J2ZtVGhuU2Vuc3VzJyBuYW1lPSdmbVRoblNlbnN1cycgdmFsdWU9JzEnPiIrDQoJCQkJCSI8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nZm1TS1BEJyBuYW1lPSdmbVNLUEQnIHZhbHVlPSciK2MrIic+IisNCgkJCQkJIjxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSdmbVVOSVQnIG5hbWU9J2ZtVU5JVCcgdmFsdWU9JyIrZCsiJz4iKw0KCQkJCQkiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9J2ZtU1VCVU5JVCcgbmFtZT0nZm1TVUJVTklUJyB2YWx1ZT0nIitlKyInPiIrDQoJCQkJCSI8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nZm1TRUtTSScgbmFtZT0nZm1TRUtTSScgdmFsdWU9JyIrZTErIic+IisNCgkJCQkJIA0KCQkJCQkiPGlucHV0IHR5cGU9J2hpZGRlbicgaWQ9J2lkdXN1bCcgbmFtZT0naWR1c3VsJyB2YWx1ZT0nIitpZHVzdWwrIic+IisNCgkJCQkJIjxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSdzZXNpY2FyaScgbmFtZT0nc2VzaWNhcmknIHZhbHVlPSciK3Nlc2lDYXJpKyInPiIrCQkJCQkgDQoJCQkJCSI8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nYm94Y2hlY2tlZCcgbmFtZT0nYm94Y2hlY2tlZCcgdmFsdWU9JzInPiIrDQoJCQkJCSI8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nR2V0U1BnJyBuYW1lPSdHZXRTUGcnIHZhbHVlPScwMyc+IisNCgkJCQkJIjxkaXYgaWQ9J3BlbmF0YXVzYWhhX2NvbnRfb3B0Jz48L2Rpdj4iKw0KCQkJCQkiPGRpdiBpZD0ncGVuYXRhdXNhaGFfY29udF9saXN0Jz48L2Rpdj4iKw0KCQkJCQkiPGRpdiBpZD0ncGVuYXRhdXNhaGFfY29udF9oYWwnPjxpbnB1dCB0eXBlPSdoaWRkZW4nIHZhbHVlPScxJyBpZD1IYWxEZWZhdWx0PjwvZGl2PiIrDQoJCQkJCSIiOw0KCQkJCQkvL2dlbmVyYXRlIGRhdGENCgkJCQkJUGVuYXRhdXNhaGEuZ2V0RGFmdGFyT3BzaSgpOw0KCQkJCQlQZW5hdGF1c2FoYS5yZWZyZXNoTGlzdCh0cnVlKTsNCgkJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCQkJLy9iYXJjb2RlQ2FyaUJhcmFuZy5sb2FkaW5nKCk7DQoJCQkJfWVsc2V7DQoJCQkJCWFsZXJ0KHJlc3AuZXJyKTsNCgkJCQkJLy9kZWxFbGVtKGNvdmVyKTsNCgkJCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0nYXV0byc7DQoJCQkJfQ0KCQkgIAl9DQoJCX0pOw0KCQlhbGVydCgpOw0KCQkNCgl9LA0KCQ0KCUNsb3NlY2FyaTpmdW5jdGlvbigpey8vYWxlcnQodGhpcy5lbENvdmVyKTsNCgkJdmFyIGNvdmVyID0gdGhpcy5wcmVmaXgrJ19mb3JtY292ZXJjYXJpJzsNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpKSBkZWxFbGVtKGNvdmVyKTsJDQoJCVBlbmF0YXVzYWhhLnJlc2V0UGlsaWgoKTsJCQ0KCQkvL2RvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9J2F1dG8nOwkJCQkJDQoJfSwNCgkNCglQaWxpaDpmdW5jdGlvbigpeyAvLzAzIEFwcmlsDQoJCXZhciBtZSA9IHRoaXM7DQoJCS8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5QcmVmaXgrJ19pZGMnKS52YWx1ZT1hDQoJCQ0KCQllcnJtc2cgPSAnJzsJCQkNCgkJDQoJCS8vaWYoKGVycm1zZz09JycpICYmIChhZG1pbkZvcm0uYm94Y2hlY2tlZC52YWx1ZSA9PSAwICkpew0KCQlpZigoZXJybXNnPT0nJykgJiYgKFBlbmF0YXVzYWhhLmRhZnRhclBpbGloLmxlbmd0aCA9PSAwICkpew0KCQkJZXJybXNnPSAnRGF0YSBiZWx1bSBkaXBpbGloISc7DQoJCX0NCgkJDQoJCWlmKGVycm1zZyA9PScnKXsJDQoJCQkvL2FsZXJ0KCdzaW1wYW4nKTsNCgkJCSQuYWpheCh7DQoJCQkJdHlwZTonUE9TVCcsIA0KCQkJCWRhdGE6JCgnI2FkbWluRm9ybScpLnNlcmlhbGl6ZSgpLA0KCQkJCXVybDogJ3BhZ2VzLnBocD9QZz11c3VsYW5oYXB1c2RldGFpbCcrJyZ0aXBlPXNpbXBhblBpbGloJywNCgkJCSAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCgkJCQkJdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwkNCgkJCQkJaWYgKHJlc3AuZXJyID09Jycpew0KCQkJCQkJbWUuQ2xvc2VjYXJpKCk7DQoJCQkJCQlVc3VsYW5IYXB1c2RldGFpbC5yZWZyZXNoTGlzdCh0cnVlKTsNCgkJCQkJCS8vZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0naGlkZGVuJzsNCgkJCQkJCVBlbmF0YXVzYWhhLnJlc2V0UGlsaWgoKTsNCgkJCQkJfWVsc2V7DQoJCQkJCQlhbGVydChyZXNwLmVycik7DQoJCQkJCX0NCgkJCQl9DQoJCQl9KTsNCgkJCQ0KCQl9ZWxzZXsNCgkJCWFsZXJ0KGVycm1zZyk7DQoJCX0NCgkJDQoJCQ0KCX0sCQkNCn0pOw0K",
    "size": "40680"
}