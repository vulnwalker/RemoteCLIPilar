{
    "namaFile": "lib\/phpqrcode\/qrinput.php",
    "lastUpdate": "2017-04-26+08:28:02.39",
    "contentFile": "PD9waHANCi8qDQogKiBQSFAgUVIgQ29kZSBlbmNvZGVyDQogKg0KICogSW5wdXQgZW5jb2RpbmcgY2xhc3MNCiAqDQogKiBCYXNlZCBvbiBsaWJxcmVuY29kZSBDIGxpYnJhcnkgZGlzdHJpYnV0ZWQgdW5kZXIgTEdQTCAyLjENCiAqIENvcHlyaWdodCAoQykgMjAwNiwgMjAwNywgMjAwOCwgMjAwOSBLZW50YXJvIEZ1a3VjaGkgPGZ1a3VjaGlAbWVnYXVpLm5ldD4NCiAqDQogKiBQSFAgUVIgQ29kZSBpcyBkaXN0cmlidXRlZCB1bmRlciBMR1BMIDMNCiAqIENvcHlyaWdodCAoQykgMjAxMCBEb21pbmlrIER6aWVuaWEgPGRlbHRhbGFiIGF0IHBvY3p0YSBkb3QgZm0+DQogKg0KICogVGhpcyBsaWJyYXJ5IGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vcg0KICogbW9kaWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYw0KICogTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbjsgZWl0aGVyDQogKiB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yIGFueSBsYXRlciB2ZXJzaW9uLg0KICoNCiAqIFRoaXMgbGlicmFyeSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLA0KICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YNCiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gU2VlIHRoZSBHTlUNCiAqIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuDQogKg0KICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYw0KICogTGljZW5zZSBhbG9uZyB3aXRoIHRoaXMgbGlicmFyeTsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZQ0KICogRm91bmRhdGlvbiwgSW5jLiwgNTEgRnJhbmtsaW4gU3QsIEZpZnRoIEZsb29yLCBCb3N0b24sIE1BIDAyMTEwLTEzMDEgVVNBDQogKi8NCiANCiAgICBkZWZpbmUoJ1NUUlVDVFVSRV9IRUFERVJfQklUUycsICAyMCk7DQogICAgZGVmaW5lKCdNQVhfU1RSVUNUVVJFRF9TWU1CT0xTJywgMTYpOw0KDQogICAgY2xhc3MgUVJpbnB1dEl0ZW0gew0KICAgIA0KICAgICAgICBwdWJsaWMgJG1vZGU7DQogICAgICAgIHB1YmxpYyAkc2l6ZTsNCiAgICAgICAgcHVibGljICRkYXRhOw0KICAgICAgICBwdWJsaWMgJGJzdHJlYW07DQoNCiAgICAgICAgcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRtb2RlLCAkc2l6ZSwgJGRhdGEsICRic3RyZWFtID0gbnVsbCkgDQogICAgICAgIHsNCiAgICAgICAgICAgICRzZXREYXRhID0gYXJyYXlfc2xpY2UoJGRhdGEsIDAsICRzaXplKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKGNvdW50KCRzZXREYXRhKSA8ICRzaXplKSB7DQogICAgICAgICAgICAgICAgJHNldERhdGEgPSBhcnJheV9tZXJnZSgkc2V0RGF0YSwgYXJyYXlfZmlsbCgwLCRzaXplLWNvdW50KCRzZXREYXRhKSwwKSk7DQogICAgICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAgICAgaWYoIVFSaW5wdXQ6OmNoZWNrKCRtb2RlLCAkc2l6ZSwgJHNldERhdGEpKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignRXJyb3IgbTonLiRtb2RlLicsczonLiRzaXplLicsZDonLmpvaW4oJywnLCRzZXREYXRhKSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgICR0aGlzLT5tb2RlID0gJG1vZGU7DQogICAgICAgICAgICAkdGhpcy0+c2l6ZSA9ICRzaXplOw0KICAgICAgICAgICAgJHRoaXMtPmRhdGEgPSAkc2V0RGF0YTsNCiAgICAgICAgICAgICR0aGlzLT5ic3RyZWFtID0gJGJzdHJlYW07DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICBwdWJsaWMgZnVuY3Rpb24gZW5jb2RlTW9kZU51bSgkdmVyc2lvbikNCiAgICAgICAgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICR3b3JkcyA9IChpbnQpKCR0aGlzLT5zaXplIC8gMyk7DQogICAgICAgICAgICAgICAgJGJzID0gbmV3IFFSYml0c3RyZWFtKCk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgJHZhbCA9IDB4MTsNCiAgICAgICAgICAgICAgICAkYnMtPmFwcGVuZE51bSg0LCAkdmFsKTsNCiAgICAgICAgICAgICAgICAkYnMtPmFwcGVuZE51bShRUnNwZWM6Omxlbmd0aEluZGljYXRvcihRUl9NT0RFX05VTSwgJHZlcnNpb24pLCAkdGhpcy0+c2l6ZSk7DQoNCiAgICAgICAgICAgICAgICBmb3IoJGk9MDsgJGk8JHdvcmRzOyAkaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICR2YWwgID0gKG9yZCgkdGhpcy0+ZGF0YVskaSozICBdKSAtIG9yZCgnMCcpKSAqIDEwMDsNCiAgICAgICAgICAgICAgICAgICAgJHZhbCArPSAob3JkKCR0aGlzLT5kYXRhWyRpKjMrMV0pIC0gb3JkKCcwJykpICogMTA7DQogICAgICAgICAgICAgICAgICAgICR2YWwgKz0gKG9yZCgkdGhpcy0+ZGF0YVskaSozKzJdKSAtIG9yZCgnMCcpKTsNCiAgICAgICAgICAgICAgICAgICAgJGJzLT5hcHBlbmROdW0oMTAsICR2YWwpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmKCR0aGlzLT5zaXplIC0gJHdvcmRzICogMyA9PSAxKSB7DQogICAgICAgICAgICAgICAgICAgICR2YWwgPSBvcmQoJHRoaXMtPmRhdGFbJHdvcmRzKjNdKSAtIG9yZCgnMCcpOw0KICAgICAgICAgICAgICAgICAgICAkYnMtPmFwcGVuZE51bSg0LCAkdmFsKTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoJHRoaXMtPnNpemUgLSAkd29yZHMgKiAzID09IDIpIHsNCiAgICAgICAgICAgICAgICAgICAgJHZhbCAgPSAob3JkKCR0aGlzLT5kYXRhWyR3b3JkcyozICBdKSAtIG9yZCgnMCcpKSAqIDEwOw0KICAgICAgICAgICAgICAgICAgICAkdmFsICs9IChvcmQoJHRoaXMtPmRhdGFbJHdvcmRzKjMrMV0pIC0gb3JkKCcwJykpOw0KICAgICAgICAgICAgICAgICAgICAkYnMtPmFwcGVuZE51bSg3LCAkdmFsKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAkdGhpcy0+YnN0cmVhbSA9ICRiczsNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiAtMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBlbmNvZGVNb2RlQW4oJHZlcnNpb24pDQogICAgICAgIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgJHdvcmRzID0gKGludCkoJHRoaXMtPnNpemUgLyAyKTsNCiAgICAgICAgICAgICAgICAkYnMgPSBuZXcgUVJiaXRzdHJlYW0oKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAkYnMtPmFwcGVuZE51bSg0LCAweDAyKTsNCiAgICAgICAgICAgICAgICAkYnMtPmFwcGVuZE51bShRUnNwZWM6Omxlbmd0aEluZGljYXRvcihRUl9NT0RFX0FOLCAkdmVyc2lvbiksICR0aGlzLT5zaXplKTsNCg0KICAgICAgICAgICAgICAgIGZvcigkaT0wOyAkaTwkd29yZHM7ICRpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgJHZhbCAgPSAoaW50KVFSaW5wdXQ6Omxvb2tBblRhYmxlKG9yZCgkdGhpcy0+ZGF0YVskaSoyICBdKSkgKiA0NTsNCiAgICAgICAgICAgICAgICAgICAgJHZhbCArPSAoaW50KVFSaW5wdXQ6Omxvb2tBblRhYmxlKG9yZCgkdGhpcy0+ZGF0YVskaSoyKzFdKSk7DQoNCiAgICAgICAgICAgICAgICAgICAgJGJzLT5hcHBlbmROdW0oMTEsICR2YWwpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmKCR0aGlzLT5zaXplICYgMSkgew0KICAgICAgICAgICAgICAgICAgICAkdmFsID0gUVJpbnB1dDo6bG9va0FuVGFibGUob3JkKCR0aGlzLT5kYXRhWyR3b3JkcyAqIDJdKSk7DQogICAgICAgICAgICAgICAgICAgICRicy0+YXBwZW5kTnVtKDYsICR2YWwpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgDQogICAgICAgICAgICAgICAgJHRoaXMtPmJzdHJlYW0gPSAkYnM7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICANCiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiAtMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBlbmNvZGVNb2RlOCgkdmVyc2lvbikNCiAgICAgICAgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAkYnMgPSBuZXcgUVJiaXRzdHJlYW0oKTsNCg0KICAgICAgICAgICAgICAgICRicy0+YXBwZW5kTnVtKDQsIDB4NCk7DQogICAgICAgICAgICAgICAgJGJzLT5hcHBlbmROdW0oUVJzcGVjOjpsZW5ndGhJbmRpY2F0b3IoUVJfTU9ERV84LCAkdmVyc2lvbiksICR0aGlzLT5zaXplKTsNCg0KICAgICAgICAgICAgICAgIGZvcigkaT0wOyAkaTwkdGhpcy0+c2l6ZTsgJGkrKykgew0KICAgICAgICAgICAgICAgICAgICAkYnMtPmFwcGVuZE51bSg4LCBvcmQoJHRoaXMtPmRhdGFbJGldKSk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgJHRoaXMtPmJzdHJlYW0gPSAkYnM7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICANCiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiAtMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBlbmNvZGVNb2RlS2FuamkoJHZlcnNpb24pDQogICAgICAgIHsNCiAgICAgICAgICAgIHRyeSB7DQoNCiAgICAgICAgICAgICAgICAkYnMgPSBuZXcgUVJiaXRydHJlYW0oKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAkYnMtPmFwcGVuZE51bSg0LCAweDgpOw0KICAgICAgICAgICAgICAgICRicy0+YXBwZW5kTnVtKFFSc3BlYzo6bGVuZ3RoSW5kaWNhdG9yKFFSX01PREVfS0FOSkksICR2ZXJzaW9uKSwgKGludCkoJHRoaXMtPnNpemUgLyAyKSk7DQoNCiAgICAgICAgICAgICAgICBmb3IoJGk9MDsgJGk8JHRoaXMtPnNpemU7ICRpKz0yKSB7DQogICAgICAgICAgICAgICAgICAgICR2YWwgPSAob3JkKCR0aGlzLT5kYXRhWyRpXSkgPDwgOCkgfCBvcmQoJHRoaXMtPmRhdGFbJGkrMV0pOw0KICAgICAgICAgICAgICAgICAgICBpZigkdmFsIDw9IDB4OWZmYykgew0KICAgICAgICAgICAgICAgICAgICAgICAgJHZhbCAtPSAweDgxNDA7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkdmFsIC09IDB4YzE0MDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgJGggPSAoJHZhbCA+PiA4KSAqIDB4YzA7DQogICAgICAgICAgICAgICAgICAgICR2YWwgPSAoJHZhbCAmIDB4ZmYpICsgJGg7DQoNCiAgICAgICAgICAgICAgICAgICAgJGJzLT5hcHBlbmROdW0oMTMsICR2YWwpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICR0aGlzLT5ic3RyZWFtID0gJGJzOw0KICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgDQogICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gLTE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgcHVibGljIGZ1bmN0aW9uIGVuY29kZU1vZGVTdHJ1Y3R1cmUoKQ0KICAgICAgICB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICRicyA9ICBuZXcgUVJiaXRzdHJlYW0oKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAkYnMtPmFwcGVuZE51bSg0LCAweDAzKTsNCiAgICAgICAgICAgICAgICAkYnMtPmFwcGVuZE51bSg0LCBvcmQoJHRoaXMtPmRhdGFbMV0pIC0gMSk7DQogICAgICAgICAgICAgICAgJGJzLT5hcHBlbmROdW0oNCwgb3JkKCR0aGlzLT5kYXRhWzBdKSAtIDEpOw0KICAgICAgICAgICAgICAgICRicy0+YXBwZW5kTnVtKDgsIG9yZCgkdGhpcy0+ZGF0YVsyXSkpOw0KDQogICAgICAgICAgICAgICAgJHRoaXMtPmJzdHJlYW0gPSAkYnM7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICANCiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiAtMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBlc3RpbWF0ZUJpdFN0cmVhbVNpemVPZkVudHJ5KCR2ZXJzaW9uKQ0KICAgICAgICB7DQogICAgICAgICAgICAkYml0cyA9IDA7DQoNCiAgICAgICAgICAgIGlmKCR2ZXJzaW9uID09IDApIA0KICAgICAgICAgICAgICAgICR2ZXJzaW9uID0gMTsNCg0KICAgICAgICAgICAgc3dpdGNoKCR0aGlzLT5tb2RlKSB7DQogICAgICAgICAgICAgICAgY2FzZSBRUl9NT0RFX05VTTogICAgICAgICRiaXRzID0gUVJpbnB1dDo6ZXN0aW1hdGVCaXRzTW9kZU51bSgkdGhpcy0+c2l6ZSk7ICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGNhc2UgUVJfTU9ERV9BTjogICAgICAgICRiaXRzID0gUVJpbnB1dDo6ZXN0aW1hdGVCaXRzTW9kZUFuKCR0aGlzLT5zaXplKTsgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgY2FzZSBRUl9NT0RFXzg6ICAgICAgICAgICAgJGJpdHMgPSBRUmlucHV0Ojplc3RpbWF0ZUJpdHNNb2RlOCgkdGhpcy0+c2l6ZSk7ICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGNhc2UgUVJfTU9ERV9LQU5KSTogICAgICAgICRiaXRzID0gUVJpbnB1dDo6ZXN0aW1hdGVCaXRzTW9kZUthbmppKCR0aGlzLT5zaXplKTticmVhazsNCiAgICAgICAgICAgICAgICBjYXNlIFFSX01PREVfU1RSVUNUVVJFOiAgICByZXR1cm4gU1RSVUNUVVJFX0hFQURFUl9CSVRTOyAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAkbCA9IFFSc3BlYzo6bGVuZ3RoSW5kaWNhdG9yKCR0aGlzLT5tb2RlLCAkdmVyc2lvbik7DQogICAgICAgICAgICAkbSA9IDEgPDwgJGw7DQogICAgICAgICAgICAkbnVtID0gKGludCkoKCR0aGlzLT5zaXplICsgJG0gLSAxKSAvICRtKTsNCg0KICAgICAgICAgICAgJGJpdHMgKz0gJG51bSAqICg0ICsgJGwpOw0KDQogICAgICAgICAgICByZXR1cm4gJGJpdHM7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICBwdWJsaWMgZnVuY3Rpb24gZW5jb2RlQml0U3RyZWFtKCR2ZXJzaW9uKQ0KICAgICAgICB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgdW5zZXQoJHRoaXMtPmJzdHJlYW0pOw0KICAgICAgICAgICAgICAgICR3b3JkcyA9IFFSc3BlYzo6bWF4aW11bVdvcmRzKCR0aGlzLT5tb2RlLCAkdmVyc2lvbik7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYoJHRoaXMtPnNpemUgPiAkd29yZHMpIHsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgJHN0MSA9IG5ldyBRUmlucHV0SXRlbSgkdGhpcy0+bW9kZSwgJHdvcmRzLCAkdGhpcy0+ZGF0YSk7DQogICAgICAgICAgICAgICAgICAgICRzdDIgPSBuZXcgUVJpbnB1dEl0ZW0oJHRoaXMtPm1vZGUsICR0aGlzLT5zaXplIC0gJHdvcmRzLCBhcnJheV9zbGljZSgkdGhpcy0+ZGF0YSwgJHdvcmRzKSk7DQoNCiAgICAgICAgICAgICAgICAgICAgJHN0MS0+ZW5jb2RlQml0U3RyZWFtKCR2ZXJzaW9uKTsNCiAgICAgICAgICAgICAgICAgICAgJHN0Mi0+ZW5jb2RlQml0U3RyZWFtKCR2ZXJzaW9uKTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICR0aGlzLT5ic3RyZWFtID0gbmV3IFFSYml0c3RyZWFtKCk7DQogICAgICAgICAgICAgICAgICAgICR0aGlzLT5ic3RyZWFtLT5hcHBlbmQoJHN0MS0+YnN0cmVhbSk7DQogICAgICAgICAgICAgICAgICAgICR0aGlzLT5ic3RyZWFtLT5hcHBlbmQoJHN0Mi0+YnN0cmVhbSk7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICB1bnNldCgkc3QxKTsNCiAgICAgICAgICAgICAgICAgICAgdW5zZXQoJHN0Mik7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAkcmV0ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIHN3aXRjaCgkdGhpcy0+bW9kZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBRUl9NT0RFX05VTTogICAgICAgICRyZXQgPSAkdGhpcy0+ZW5jb2RlTW9kZU51bSgkdmVyc2lvbik7ICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBRUl9NT0RFX0FOOiAgICAgICAgJHJldCA9ICR0aGlzLT5lbmNvZGVNb2RlQW4oJHZlcnNpb24pOyAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUVJfTU9ERV84OiAgICAgICAgICAgICRyZXQgPSAkdGhpcy0+ZW5jb2RlTW9kZTgoJHZlcnNpb24pOyAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUVJfTU9ERV9LQU5KSTogICAgICAgICRyZXQgPSAkdGhpcy0+ZW5jb2RlTW9kZUthbmppKCR2ZXJzaW9uKTticmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgUVJfTU9ERV9TVFJVQ1RVUkU6ICAgICRyZXQgPSAkdGhpcy0+ZW5jb2RlTW9kZVN0cnVjdHVyZSgpOyAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgaWYoJHJldCA8IDApDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5ic3RyZWFtLT5zaXplKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiAtMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH07DQogICAgDQogICAgLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KDQogICAgY2xhc3MgUVJpbnB1dCB7DQoNCiAgICAgICAgcHVibGljICRpdGVtczsNCiAgICAgICAgDQogICAgICAgIHByaXZhdGUgJHZlcnNpb247DQogICAgICAgIHByaXZhdGUgJGxldmVsOw0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkdmVyc2lvbiA9IDAsICRsZXZlbCA9IFFSX0VDTEVWRUxfTCkNCiAgICAgICAgew0KICAgICAgICAgICAgaWYgKCR2ZXJzaW9uIDwgMCB8fCAkdmVyc2lvbiA+IFFSU1BFQ19WRVJTSU9OX01BWCB8fCAkbGV2ZWwgPiBRUl9FQ0xFVkVMX0gpIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdJbnZhbGlkIHZlcnNpb24gbm8nKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gTlVMTDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgJHRoaXMtPnZlcnNpb24gPSAkdmVyc2lvbjsNCiAgICAgICAgICAgICR0aGlzLT5sZXZlbCA9ICRsZXZlbDsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRWZXJzaW9uKCkNCiAgICAgICAgew0KICAgICAgICAgICAgcmV0dXJuICR0aGlzLT52ZXJzaW9uOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgcHVibGljIGZ1bmN0aW9uIHNldFZlcnNpb24oJHZlcnNpb24pDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmKCR2ZXJzaW9uIDwgMCB8fCAkdmVyc2lvbiA+IFFSU1BFQ19WRVJTSU9OX01BWCkgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ0ludmFsaWQgdmVyc2lvbiBubycpOw0KICAgICAgICAgICAgICAgIHJldHVybiAtMTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgJHRoaXMtPnZlcnNpb24gPSAkdmVyc2lvbjsNCg0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0RXJyb3JDb3JyZWN0aW9uTGV2ZWwoKQ0KICAgICAgICB7DQogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmxldmVsOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBzZXRFcnJvckNvcnJlY3Rpb25MZXZlbCgkbGV2ZWwpDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmKCRsZXZlbCA+IFFSX0VDTEVWRUxfSCkgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ0ludmFsaWQgRUNMRVZFTCcpOw0KICAgICAgICAgICAgICAgIHJldHVybiAtMTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgJHRoaXMtPmxldmVsID0gJGxldmVsOw0KDQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBhcHBlbmRFbnRyeShRUmlucHV0SXRlbSAkZW50cnkpDQogICAgICAgIHsNCiAgICAgICAgICAgICR0aGlzLT5pdGVtc1tdID0gJGVudHJ5Ow0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgcHVibGljIGZ1bmN0aW9uIGFwcGVuZCgkbW9kZSwgJHNpemUsICRkYXRhKQ0KICAgICAgICB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICRlbnRyeSA9IG5ldyBRUmlucHV0SXRlbSgkbW9kZSwgJHNpemUsICRkYXRhKTsNCiAgICAgICAgICAgICAgICAkdGhpcy0+aXRlbXNbXSA9ICRlbnRyeTsNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiAtMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIA0KICAgICAgICBwdWJsaWMgZnVuY3Rpb24gaW5zZXJ0U3RydWN0dXJlZEFwcGVuZEhlYWRlcigkc2l6ZSwgJGluZGV4LCAkcGFyaXR5KQ0KICAgICAgICB7DQogICAgICAgICAgICBpZiggJHNpemUgPiBNQVhfU1RSVUNUVVJFRF9TWU1CT0xTICkgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ2luc2VydFN0cnVjdHVyZWRBcHBlbmRIZWFkZXIgd3Jvbmcgc2l6ZScpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiggJGluZGV4IDw9IDAgfHwgJGluZGV4ID4gTUFYX1NUUlVDVFVSRURfU1lNQk9MUyApIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdpbnNlcnRTdHJ1Y3R1cmVkQXBwZW5kSGVhZGVyIHdyb25nIGluZGV4Jyk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICRidWYgPSBhcnJheSgkc2l6ZSwgJGluZGV4LCAkcGFyaXR5KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAkZW50cnkgPSBuZXcgUVJpbnB1dEl0ZW0oUVJfTU9ERV9TVFJVQ1RVUkUsIDMsIGJ1Zik7DQogICAgICAgICAgICAgICAgYXJyYXlfdW5zaGlmdCgkdGhpcy0+aXRlbXMsICRlbnRyeSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gLTE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgcHVibGljIGZ1bmN0aW9uIGNhbGNQYXJpdHkoKQ0KICAgICAgICB7DQogICAgICAgICAgICAkcGFyaXR5ID0gMDsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZm9yZWFjaCgkdGhpcy0+aXRlbXMgYXMgJGl0ZW0pIHsNCiAgICAgICAgICAgICAgICBpZigkaXRlbS0+bW9kZSAhPSBRUl9NT0RFX1NUUlVDVFVSRSkgew0KICAgICAgICAgICAgICAgICAgICBmb3IoJGk9JGl0ZW0tPnNpemUtMTsgJGk+PTA7ICRpLS0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRwYXJpdHkgXj0gJGl0ZW0tPmRhdGFbJGldOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByZXR1cm4gJHBhcml0eTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY2hlY2tNb2RlTnVtKCRzaXplLCAkZGF0YSkNCiAgICAgICAgew0KICAgICAgICAgICAgZm9yKCRpPTA7ICRpPCRzaXplOyAkaSsrKSB7DQogICAgICAgICAgICAgICAgaWYoKG9yZCgkZGF0YVskaV0pIDwgb3JkKCcwJykpIHx8IChvcmQoJGRhdGFbJGldKSA+IG9yZCgnOScpKSl7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZXN0aW1hdGVCaXRzTW9kZU51bSgkc2l6ZSkNCiAgICAgICAgew0KICAgICAgICAgICAgJHcgPSAoaW50KSRzaXplIC8gMzsNCiAgICAgICAgICAgICRiaXRzID0gJHcgKiAxMDsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgc3dpdGNoKCRzaXplIC0gJHcgKiAzKSB7DQogICAgICAgICAgICAgICAgY2FzZSAxOg0KICAgICAgICAgICAgICAgICAgICAkYml0cyArPSA0Ow0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlIDI6DQogICAgICAgICAgICAgICAgICAgICRiaXRzICs9IDc7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByZXR1cm4gJGJpdHM7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICBwdWJsaWMgc3RhdGljICRhblRhYmxlID0gYXJyYXkoDQogICAgICAgICAgICAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwNCiAgICAgICAgICAgIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLA0KICAgICAgICAgICAgMzYsIC0xLCAtMSwgLTEsIDM3LCAzOCwgLTEsIC0xLCAtMSwgLTEsIDM5LCA0MCwgLTEsIDQxLCA0MiwgNDMsDQogICAgICAgICAgICAgMCwgIDEsICAyLCAgMywgIDQsICA1LCAgNiwgIDcsICA4LCAgOSwgNDQsIC0xLCAtMSwgLTEsIC0xLCAtMSwNCiAgICAgICAgICAgIC0xLCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LCAxNiwgMTcsIDE4LCAxOSwgMjAsIDIxLCAyMiwgMjMsIDI0LA0KICAgICAgICAgICAgMjUsIDI2LCAyNywgMjgsIDI5LCAzMCwgMzEsIDMyLCAzMywgMzQsIDM1LCAtMSwgLTEsIC0xLCAtMSwgLTEsDQogICAgICAgICAgICAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwNCiAgICAgICAgICAgIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xDQogICAgICAgICk7DQogICAgICAgIA0KICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBsb29rQW5UYWJsZSgkYykNCiAgICAgICAgew0KICAgICAgICAgICAgcmV0dXJuICgoJGMgPiAxMjcpPy0xOnNlbGY6OiRhblRhYmxlWyRjXSk7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGNoZWNrTW9kZUFuKCRzaXplLCAkZGF0YSkNCiAgICAgICAgew0KICAgICAgICAgICAgZm9yKCRpPTA7ICRpPCRzaXplOyAkaSsrKSB7DQogICAgICAgICAgICAgICAgaWYgKHNlbGY6Omxvb2tBblRhYmxlKG9yZCgkZGF0YVskaV0pKSA9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZXN0aW1hdGVCaXRzTW9kZUFuKCRzaXplKQ0KICAgICAgICB7DQogICAgICAgICAgICAkdyA9IChpbnQpKCRzaXplIC8gMik7DQogICAgICAgICAgICAkYml0cyA9ICR3ICogMTE7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmKCRzaXplICYgMSkgew0KICAgICAgICAgICAgICAgICRiaXRzICs9IDY7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiAkYml0czsNCiAgICAgICAgfQ0KICAgIA0KICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBlc3RpbWF0ZUJpdHNNb2RlOCgkc2l6ZSkNCiAgICAgICAgew0KICAgICAgICAgICAgcmV0dXJuICRzaXplICogODsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBlc3RpbWF0ZUJpdHNNb2RlS2FuamkoJHNpemUpDQogICAgICAgIHsNCiAgICAgICAgICAgIHJldHVybiAoaW50KSgoJHNpemUgLyAyKSAqIDEzKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY2hlY2tNb2RlS2FuamkoJHNpemUsICRkYXRhKQ0KICAgICAgICB7DQogICAgICAgICAgICBpZigkc2l6ZSAmIDEpDQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KDQogICAgICAgICAgICBmb3IoJGk9MDsgJGk8JHNpemU7ICRpKz0yKSB7DQogICAgICAgICAgICAgICAgJHZhbCA9IChvcmQoJGRhdGFbJGldKSA8PCA4KSB8IG9yZCgkZGF0YVskaSsxXSk7DQogICAgICAgICAgICAgICAgaWYoICR2YWwgPCAweDgxNDAgDQogICAgICAgICAgICAgICAgfHwgKCR2YWwgPiAweDlmZmMgJiYgJHZhbCA8IDB4ZTA0MCkgDQogICAgICAgICAgICAgICAgfHwgJHZhbCA+IDB4ZWJiZikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KICAgICAgICAgKiBWYWxpZGF0aW9uDQogICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KDQogICAgICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY2hlY2soJG1vZGUsICRzaXplLCAkZGF0YSkNCiAgICAgICAgew0KICAgICAgICAgICAgaWYoJHNpemUgPD0gMCkgDQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KDQogICAgICAgICAgICBzd2l0Y2goJG1vZGUpIHsNCiAgICAgICAgICAgICAgICBjYXNlIFFSX01PREVfTlVNOiAgICAgICByZXR1cm4gc2VsZjo6Y2hlY2tNb2RlTnVtKCRzaXplLCAkZGF0YSk7ICAgYnJlYWs7DQogICAgICAgICAgICAgICAgY2FzZSBRUl9NT0RFX0FOOiAgICAgICAgcmV0dXJuIHNlbGY6OmNoZWNrTW9kZUFuKCRzaXplLCAkZGF0YSk7ICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGNhc2UgUVJfTU9ERV9LQU5KSTogICAgIHJldHVybiBzZWxmOjpjaGVja01vZGVLYW5qaSgkc2l6ZSwgJGRhdGEpOyBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlIFFSX01PREVfODogICAgICAgICByZXR1cm4gdHJ1ZTsgYnJlYWs7DQogICAgICAgICAgICAgICAgY2FzZSBRUl9NT0RFX1NUUlVDVFVSRTogcmV0dXJuIHRydWU7IGJyZWFrOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIA0KICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgcHVibGljIGZ1bmN0aW9uIGVzdGltYXRlQml0U3RyZWFtU2l6ZSgkdmVyc2lvbikNCiAgICAgICAgew0KICAgICAgICAgICAgJGJpdHMgPSAwOw0KDQogICAgICAgICAgICBmb3JlYWNoKCR0aGlzLT5pdGVtcyBhcyAkaXRlbSkgew0KICAgICAgICAgICAgICAgICRiaXRzICs9ICRpdGVtLT5lc3RpbWF0ZUJpdFN0cmVhbVNpemVPZkVudHJ5KCR2ZXJzaW9uKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcmV0dXJuICRiaXRzOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgcHVibGljIGZ1bmN0aW9uIGVzdGltYXRlVmVyc2lvbigpDQogICAgICAgIHsNCiAgICAgICAgICAgICR2ZXJzaW9uID0gMDsNCiAgICAgICAgICAgICRwcmV2ID0gMDsNCiAgICAgICAgICAgIGRvIHsNCiAgICAgICAgICAgICAgICAkcHJldiA9ICR2ZXJzaW9uOw0KICAgICAgICAgICAgICAgICRiaXRzID0gJHRoaXMtPmVzdGltYXRlQml0U3RyZWFtU2l6ZSgkcHJldik7DQogICAgICAgICAgICAgICAgJHZlcnNpb24gPSBRUnNwZWM6OmdldE1pbmltdW1WZXJzaW9uKChpbnQpKCgkYml0cyArIDcpIC8gOCksICR0aGlzLT5sZXZlbCk7DQogICAgICAgICAgICAgICAgaWYgKCR2ZXJzaW9uIDwgMCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSB3aGlsZSAoJHZlcnNpb24gPiAkcHJldik7DQoNCiAgICAgICAgICAgIHJldHVybiAkdmVyc2lvbjsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbGVuZ3RoT2ZDb2RlKCRtb2RlLCAkdmVyc2lvbiwgJGJpdHMpDQogICAgICAgIHsNCiAgICAgICAgICAgICRwYXlsb2FkID0gJGJpdHMgLSA0IC0gUVJzcGVjOjpsZW5ndGhJbmRpY2F0b3IoJG1vZGUsICR2ZXJzaW9uKTsNCiAgICAgICAgICAgIHN3aXRjaCgkbW9kZSkgew0KICAgICAgICAgICAgICAgIGNhc2UgUVJfTU9ERV9OVU06DQogICAgICAgICAgICAgICAgICAgICRjaHVua3MgPSAoaW50KSgkcGF5bG9hZCAvIDEwKTsNCiAgICAgICAgICAgICAgICAgICAgJHJlbWFpbiA9ICRwYXlsb2FkIC0gJGNodW5rcyAqIDEwOw0KICAgICAgICAgICAgICAgICAgICAkc2l6ZSA9ICRjaHVua3MgKiAzOw0KICAgICAgICAgICAgICAgICAgICBpZigkcmVtYWluID49IDcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRzaXplICs9IDI7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZigkcmVtYWluID49IDQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRzaXplICs9IDE7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgY2FzZSBRUl9NT0RFX0FOOg0KICAgICAgICAgICAgICAgICAgICAkY2h1bmtzID0gKGludCkoJHBheWxvYWQgLyAxMSk7DQogICAgICAgICAgICAgICAgICAgICRyZW1haW4gPSAkcGF5bG9hZCAtICRjaHVua3MgKiAxMTsNCiAgICAgICAgICAgICAgICAgICAgJHNpemUgPSAkY2h1bmtzICogMjsNCiAgICAgICAgICAgICAgICAgICAgaWYoJHJlbWFpbiA+PSA2KSANCiAgICAgICAgICAgICAgICAgICAgICAgICRzaXplKys7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGNhc2UgUVJfTU9ERV84Og0KICAgICAgICAgICAgICAgICAgICAkc2l6ZSA9IChpbnQpKCRwYXlsb2FkIC8gOCk7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGNhc2UgUVJfTU9ERV9LQU5KSToNCiAgICAgICAgICAgICAgICAgICAgJHNpemUgPSAoaW50KSgoJHBheWxvYWQgLyAxMykgKiAyKTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgY2FzZSBRUl9NT0RFX1NUUlVDVFVSRToNCiAgICAgICAgICAgICAgICAgICAgJHNpemUgPSAoaW50KSgkcGF5bG9hZCAvIDgpOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgICAgICAgICAkc2l6ZSA9IDA7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAkbWF4c2l6ZSA9IFFSc3BlYzo6bWF4aW11bVdvcmRzKCRtb2RlLCAkdmVyc2lvbik7DQogICAgICAgICAgICBpZigkc2l6ZSA8IDApICRzaXplID0gMDsNCiAgICAgICAgICAgIGlmKCRzaXplID4gJG1heHNpemUpICRzaXplID0gJG1heHNpemU7DQoNCiAgICAgICAgICAgIHJldHVybiAkc2l6ZTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBjcmVhdGVCaXRTdHJlYW0oKQ0KICAgICAgICB7DQogICAgICAgICAgICAkdG90YWwgPSAwOw0KDQogICAgICAgICAgICBmb3JlYWNoKCR0aGlzLT5pdGVtcyBhcyAkaXRlbSkgew0KICAgICAgICAgICAgICAgICRiaXRzID0gJGl0ZW0tPmVuY29kZUJpdFN0cmVhbSgkdGhpcy0+dmVyc2lvbik7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYoJGJpdHMgPCAwKSANCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAkdG90YWwgKz0gJGJpdHM7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiAkdG90YWw7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICBwdWJsaWMgZnVuY3Rpb24gY29udmVydERhdGEoKQ0KICAgICAgICB7DQogICAgICAgICAgICAkdmVyID0gJHRoaXMtPmVzdGltYXRlVmVyc2lvbigpOw0KICAgICAgICAgICAgaWYoJHZlciA+ICR0aGlzLT5nZXRWZXJzaW9uKCkpIHsNCiAgICAgICAgICAgICAgICAkdGhpcy0+c2V0VmVyc2lvbigkdmVyKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgZm9yKDs7KSB7DQogICAgICAgICAgICAgICAgJGJpdHMgPSAkdGhpcy0+Y3JlYXRlQml0U3RyZWFtKCk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYoJGJpdHMgPCAwKSANCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAkdmVyID0gUVJzcGVjOjpnZXRNaW5pbXVtVmVyc2lvbigoaW50KSgoJGJpdHMgKyA3KSAvIDgpLCAkdGhpcy0+bGV2ZWwpOw0KICAgICAgICAgICAgICAgIGlmKCR2ZXIgPCAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1dST05HIFZFUlNJT04nKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZigkdmVyID4gJHRoaXMtPmdldFZlcnNpb24oKSkgew0KICAgICAgICAgICAgICAgICAgICAkdGhpcy0+c2V0VmVyc2lvbigkdmVyKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgcHVibGljIGZ1bmN0aW9uIGFwcGVuZFBhZGRpbmdCaXQoJiRic3RyZWFtKQ0KICAgICAgICB7DQogICAgICAgICAgICAkYml0cyA9ICRic3RyZWFtLT5zaXplKCk7DQogICAgICAgICAgICAkbWF4d29yZHMgPSBRUnNwZWM6OmdldERhdGFMZW5ndGgoJHRoaXMtPnZlcnNpb24sICR0aGlzLT5sZXZlbCk7DQogICAgICAgICAgICAkbWF4Yml0cyA9ICRtYXh3b3JkcyAqIDg7DQoNCiAgICAgICAgICAgIGlmICgkbWF4Yml0cyA9PSAkYml0cykgew0KICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoJG1heGJpdHMgLSAkYml0cyA8IDUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gJGJzdHJlYW0tPmFwcGVuZE51bSgkbWF4Yml0cyAtICRiaXRzLCAwKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgJGJpdHMgKz0gNDsNCiAgICAgICAgICAgICR3b3JkcyA9IChpbnQpKCgkYml0cyArIDcpIC8gOCk7DQoNCiAgICAgICAgICAgICRwYWRkaW5nID0gbmV3IFFSYml0c3RyZWFtKCk7DQogICAgICAgICAgICAkcmV0ID0gJHBhZGRpbmctPmFwcGVuZE51bSgkd29yZHMgKiA4IC0gJGJpdHMgKyA0LCAwKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYoJHJldCA8IDApIA0KICAgICAgICAgICAgICAgIHJldHVybiAkcmV0Ow0KDQogICAgICAgICAgICAkcGFkbGVuID0gJG1heHdvcmRzIC0gJHdvcmRzOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZigkcGFkbGVuID4gMCkgew0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICRwYWRidWYgPSBhcnJheSgpOw0KICAgICAgICAgICAgICAgIGZvcigkaT0wOyAkaTwkcGFkbGVuOyAkaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICRwYWRidWZbJGldID0gKCRpJjEpPzB4MTE6MHhlYzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgJHJldCA9ICRwYWRkaW5nLT5hcHBlbmRCeXRlcygkcGFkbGVuLCAkcGFkYnVmKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZigkcmV0IDwgMCkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRyZXQ7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICRyZXQgPSAkYnN0cmVhbS0+YXBwZW5kKCRwYWRkaW5nKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcmV0dXJuICRyZXQ7DQogICAgICAgIH0NCg0KICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgcHVibGljIGZ1bmN0aW9uIG1lcmdlQml0U3RyZWFtKCkNCiAgICAgICAgew0KICAgICAgICAgICAgaWYoJHRoaXMtPmNvbnZlcnREYXRhKCkgPCAwKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICRic3RyZWFtID0gbmV3IFFSYml0c3RyZWFtKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGZvcmVhY2goJHRoaXMtPml0ZW1zIGFzICRpdGVtKSB7DQogICAgICAgICAgICAgICAgJHJldCA9ICRic3RyZWFtLT5hcHBlbmQoJGl0ZW0tPmJzdHJlYW0pOw0KICAgICAgICAgICAgICAgIGlmKCRyZXQgPCAwKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcmV0dXJuICRic3RyZWFtOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRCaXRTdHJlYW0oKQ0KICAgICAgICB7DQoNCiAgICAgICAgICAgICRic3RyZWFtID0gJHRoaXMtPm1lcmdlQml0U3RyZWFtKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmKCRic3RyZWFtID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgJHJldCA9ICR0aGlzLT5hcHBlbmRQYWRkaW5nQml0KCRic3RyZWFtKTsNCiAgICAgICAgICAgIGlmKCRyZXQgPCAwKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiAkYnN0cmVhbTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRCeXRlU3RyZWFtKCkNCiAgICAgICAgew0KICAgICAgICAgICAgJGJzdHJlYW0gPSAkdGhpcy0+Z2V0Qml0U3RyZWFtKCk7DQogICAgICAgICAgICBpZigkYnN0cmVhbSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJldHVybiAkYnN0cmVhbS0+dG9CeXRlKCk7DQogICAgICAgIH0NCiAgICB9DQogICAgICAgIA0KICAgICAgICANCiAgICA=",
    "size": "24803"
}