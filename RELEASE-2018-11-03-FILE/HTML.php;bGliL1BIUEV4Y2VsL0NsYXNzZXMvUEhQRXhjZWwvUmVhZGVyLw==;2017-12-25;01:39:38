{
    "namaFile": "lib\/PHPExcel\/Classes\/PHPExcel\/Reader\/HTML.php",
    "lastUpdate": "2017-12-25+01:39:38.00",
    "contentFile": "PD9waHAKCmlmICghZGVmaW5lZCgnUEhQRVhDRUxfUk9PVCcpKSB7CiAgICAvKioKICAgICAqIEBpZ25vcmUKICAgICAqLwogICAgZGVmaW5lKCdQSFBFWENFTF9ST09UJywgZGlybmFtZShfX0ZJTEVfXykgLiAnLy4uLy4uLycpOwogICAgcmVxdWlyZShQSFBFWENFTF9ST09UIC4gJ1BIUEV4Y2VsL0F1dG9sb2FkZXIucGhwJyk7Cn0KCi8qKgogKiBQSFBFeGNlbF9SZWFkZXJfSFRNTAogKgogKiBDb3B5cmlnaHQgKGMpIDIwMDYgLSAyMDE1IFBIUEV4Y2VsCiAqCiAqIFRoaXMgbGlicmFyeSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IKICogbW9kaWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYwogKiBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uOyBlaXRoZXIKICogdmVyc2lvbiAyLjEgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCiAqCiAqIFRoaXMgbGlicmFyeSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAogKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVQogKiBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgogKgogKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljCiAqIExpY2Vuc2UgYWxvbmcgd2l0aCB0aGlzIGxpYnJhcnk7IGlmIG5vdCwgd3JpdGUgdG8gdGhlIEZyZWUgU29mdHdhcmUKICogRm91bmRhdGlvbiwgSW5jLiwgNTEgRnJhbmtsaW4gU3RyZWV0LCBGaWZ0aCBGbG9vciwgQm9zdG9uLCBNQSAgMDIxMTAtMTMwMSAgVVNBCiAqCiAqIEBjYXRlZ29yeSAgIFBIUEV4Y2VsCiAqIEBwYWNrYWdlICAgIFBIUEV4Y2VsX1JlYWRlcgogKiBAY29weXJpZ2h0ICBDb3B5cmlnaHQgKGMpIDIwMDYgLSAyMDE1IFBIUEV4Y2VsIChodHRwOi8vd3d3LmNvZGVwbGV4LmNvbS9QSFBFeGNlbCkKICogQGxpY2Vuc2UgICAgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL29sZC1saWNlbnNlcy9sZ3BsLTIuMS50eHQgICAgTEdQTAogKiBAdmVyc2lvbiAgICAjI1ZFUlNJT04jIywgIyNEQVRFIyMKICovCi8qKiBQSFBFeGNlbCByb290IGRpcmVjdG9yeSAqLwpjbGFzcyBQSFBFeGNlbF9SZWFkZXJfSFRNTCBleHRlbmRzIFBIUEV4Y2VsX1JlYWRlcl9BYnN0cmFjdCBpbXBsZW1lbnRzIFBIUEV4Y2VsX1JlYWRlcl9JUmVhZGVyCnsKCiAgICAvKioKICAgICAqIElucHV0IGVuY29kaW5nCiAgICAgKgogICAgICogQHZhciBzdHJpbmcKICAgICAqLwogICAgcHJvdGVjdGVkICRpbnB1dEVuY29kaW5nID0gJ0FOU0knOwoKICAgIC8qKgogICAgICogU2hlZXQgaW5kZXggdG8gcmVhZAogICAgICoKICAgICAqIEB2YXIgaW50CiAgICAgKi8KICAgIHByb3RlY3RlZCAkc2hlZXRJbmRleCA9IDA7CgogICAgLyoqCiAgICAgKiBGb3JtYXRzCiAgICAgKgogICAgICogQHZhciBhcnJheQogICAgICovCiAgICBwcm90ZWN0ZWQgJGZvcm1hdHMgPSBhcnJheSgKICAgICAgICAnaDEnID0+IGFycmF5KAogICAgICAgICAgICAnZm9udCcgPT4gYXJyYXkoCiAgICAgICAgICAgICAgICAnYm9sZCcgPT4gdHJ1ZSwKICAgICAgICAgICAgICAgICdzaXplJyA9PiAyNCwKICAgICAgICAgICAgKSwKICAgICAgICApLCAvLyAgICBCb2xkLCAyNHB0CiAgICAgICAgJ2gyJyA9PiBhcnJheSgKICAgICAgICAgICAgJ2ZvbnQnID0+IGFycmF5KAogICAgICAgICAgICAgICAgJ2JvbGQnID0+IHRydWUsCiAgICAgICAgICAgICAgICAnc2l6ZScgPT4gMTgsCiAgICAgICAgICAgICksCiAgICAgICAgKSwgLy8gICAgQm9sZCwgMThwdAogICAgICAgICdoMycgPT4gYXJyYXkoCiAgICAgICAgICAgICdmb250JyA9PiBhcnJheSgKICAgICAgICAgICAgICAgICdib2xkJyA9PiB0cnVlLAogICAgICAgICAgICAgICAgJ3NpemUnID0+IDEzLjUsCiAgICAgICAgICAgICksCiAgICAgICAgKSwgLy8gICAgQm9sZCwgMTMuNXB0CiAgICAgICAgJ2g0JyA9PiBhcnJheSgKICAgICAgICAgICAgJ2ZvbnQnID0+IGFycmF5KAogICAgICAgICAgICAgICAgJ2JvbGQnID0+IHRydWUsCiAgICAgICAgICAgICAgICAnc2l6ZScgPT4gMTIsCiAgICAgICAgICAgICksCiAgICAgICAgKSwgLy8gICAgQm9sZCwgMTJwdAogICAgICAgICdoNScgPT4gYXJyYXkoCiAgICAgICAgICAgICdmb250JyA9PiBhcnJheSgKICAgICAgICAgICAgICAgICdib2xkJyA9PiB0cnVlLAogICAgICAgICAgICAgICAgJ3NpemUnID0+IDEwLAogICAgICAgICAgICApLAogICAgICAgICksIC8vICAgIEJvbGQsIDEwcHQKICAgICAgICAnaDYnID0+IGFycmF5KAogICAgICAgICAgICAnZm9udCcgPT4gYXJyYXkoCiAgICAgICAgICAgICAgICAnYm9sZCcgPT4gdHJ1ZSwKICAgICAgICAgICAgICAgICdzaXplJyA9PiA3LjUsCiAgICAgICAgICAgICksCiAgICAgICAgKSwgLy8gICAgQm9sZCwgNy41cHQKICAgICAgICAnYScgPT4gYXJyYXkoCiAgICAgICAgICAgICdmb250JyA9PiBhcnJheSgKICAgICAgICAgICAgICAgICd1bmRlcmxpbmUnID0+IHRydWUsCiAgICAgICAgICAgICAgICAnY29sb3InID0+IGFycmF5KAogICAgICAgICAgICAgICAgICAgICdhcmdiJyA9PiBQSFBFeGNlbF9TdHlsZV9Db2xvcjo6Q09MT1JfQkxVRSwKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICksCiAgICAgICAgKSwgLy8gICAgQmx1ZSB1bmRlcmxpbmVkCiAgICAgICAgJ2hyJyA9PiBhcnJheSgKICAgICAgICAgICAgJ2JvcmRlcnMnID0+IGFycmF5KAogICAgICAgICAgICAgICAgJ2JvdHRvbScgPT4gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgJ3N0eWxlJyA9PiBQSFBFeGNlbF9TdHlsZV9Cb3JkZXI6OkJPUkRFUl9USElOLAogICAgICAgICAgICAgICAgICAgICdjb2xvcicgPT4gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgICAgIFBIUEV4Y2VsX1N0eWxlX0NvbG9yOjpDT0xPUl9CTEFDSywKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgKSwKICAgICAgICApLCAvLyAgICBCb3R0b20gYm9yZGVyCiAgICApOwoKICAgIHByb3RlY3RlZCAkcm93c3BhbiA9IGFycmF5KCk7CgogICAgLyoqCiAgICAgKiBDcmVhdGUgYSBuZXcgUEhQRXhjZWxfUmVhZGVyX0hUTUwKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCkKICAgIHsKICAgICAgICAkdGhpcy0+cmVhZEZpbHRlciA9IG5ldyBQSFBFeGNlbF9SZWFkZXJfRGVmYXVsdFJlYWRGaWx0ZXIoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFZhbGlkYXRlIHRoYXQgdGhlIGN1cnJlbnQgZmlsZSBpcyBhbiBIVE1MIGZpbGUKICAgICAqCiAgICAgKiBAcmV0dXJuIGJvb2xlYW4KICAgICAqLwogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIGlzVmFsaWRGb3JtYXQoKQogICAgewogICAgICAgIC8vICAgIFJlYWRpbmcgMjA0OCBieXRlcyBzaG91bGQgYmUgZW5vdWdoIHRvIHZhbGlkYXRlIHRoYXQgdGhlIGZvcm1hdCBpcyBIVE1MCiAgICAgICAgJGRhdGEgPSBmcmVhZCgkdGhpcy0+ZmlsZUhhbmRsZSwgMjA0OCk7CiAgICAgICAgaWYgKChzdHJwb3MoJGRhdGEsICc8JykgIT09IGZhbHNlKSAmJgogICAgICAgICAgICAgICAgKHN0cmxlbigkZGF0YSkgIT09IHN0cmxlbihzdHJpcF90YWdzKCRkYXRhKSkpKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgICogTG9hZHMgUEhQRXhjZWwgZnJvbSBmaWxlCiAgICAgKgogICAgICogQHBhcmFtICBzdHJpbmcgICAgICAgICAgICAgICAgICAgICRwRmlsZW5hbWUKICAgICAqIEByZXR1cm4gUEhQRXhjZWwKICAgICAqIEB0aHJvd3MgUEhQRXhjZWxfUmVhZGVyX0V4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gbG9hZCgkcEZpbGVuYW1lKQogICAgewogICAgICAgIC8vIENyZWF0ZSBuZXcgUEhQRXhjZWwKICAgICAgICAkb2JqUEhQRXhjZWwgPSBuZXcgUEhQRXhjZWwoKTsKCiAgICAgICAgLy8gTG9hZCBpbnRvIHRoaXMgaW5zdGFuY2UKICAgICAgICByZXR1cm4gJHRoaXMtPmxvYWRJbnRvRXhpc3RpbmcoJHBGaWxlbmFtZSwgJG9ialBIUEV4Y2VsKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBpbnB1dCBlbmNvZGluZwogICAgICoKICAgICAqIEBwYXJhbSBzdHJpbmcgJHBWYWx1ZSBJbnB1dCBlbmNvZGluZwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gc2V0SW5wdXRFbmNvZGluZygkcFZhbHVlID0gJ0FOU0knKQogICAgewogICAgICAgICR0aGlzLT5pbnB1dEVuY29kaW5nID0gJHBWYWx1ZTsKCiAgICAgICAgcmV0dXJuICR0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IGlucHV0IGVuY29kaW5nCiAgICAgKgogICAgICogQHJldHVybiBzdHJpbmcKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldElucHV0RW5jb2RpbmcoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+aW5wdXRFbmNvZGluZzsKICAgIH0KCiAgICAvLyAgICBEYXRhIEFycmF5IHVzZWQgZm9yIHRlc3Rpbmcgb25seSwgc2hvdWxkIHdyaXRlIHRvIFBIUEV4Y2VsIG9iamVjdCBvbiBjb21wbGV0aW9uIG9mIHRlc3RzCiAgICBwcm90ZWN0ZWQgJGRhdGFBcnJheSA9IGFycmF5KCk7CiAgICBwcm90ZWN0ZWQgJHRhYmxlTGV2ZWwgPSAwOwogICAgcHJvdGVjdGVkICRuZXN0ZWRDb2x1bW4gPSBhcnJheSgnQScpOwoKICAgIHByb3RlY3RlZCBmdW5jdGlvbiBzZXRUYWJsZVN0YXJ0Q29sdW1uKCRjb2x1bW4pCiAgICB7CiAgICAgICAgaWYgKCR0aGlzLT50YWJsZUxldmVsID09IDApIHsKICAgICAgICAgICAgJGNvbHVtbiA9ICdBJzsKICAgICAgICB9CiAgICAgICAgKyskdGhpcy0+dGFibGVMZXZlbDsKICAgICAgICAkdGhpcy0+bmVzdGVkQ29sdW1uWyR0aGlzLT50YWJsZUxldmVsXSA9ICRjb2x1bW47CgogICAgICAgIHJldHVybiAkdGhpcy0+bmVzdGVkQ29sdW1uWyR0aGlzLT50YWJsZUxldmVsXTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0VGFibGVTdGFydENvbHVtbigpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5uZXN0ZWRDb2x1bW5bJHRoaXMtPnRhYmxlTGV2ZWxdOwogICAgfQoKICAgIHByb3RlY3RlZCBmdW5jdGlvbiByZWxlYXNlVGFibGVTdGFydENvbHVtbigpCiAgICB7CiAgICAgICAgLS0kdGhpcy0+dGFibGVMZXZlbDsKCiAgICAgICAgcmV0dXJuIGFycmF5X3BvcCgkdGhpcy0+bmVzdGVkQ29sdW1uKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gZmx1c2hDZWxsKCRzaGVldCwgJGNvbHVtbiwgJHJvdywgJiRjZWxsQ29udGVudCkKICAgIHsKICAgICAgICBpZiAoaXNfc3RyaW5nKCRjZWxsQ29udGVudCkpIHsKICAgICAgICAgICAgLy8gICAgU2ltcGxlIFN0cmluZyBjb250ZW50CiAgICAgICAgICAgIGlmICh0cmltKCRjZWxsQ29udGVudCkgPiAnJykgewogICAgICAgICAgICAgICAgLy8gICAgT25seSBhY3R1YWxseSB3cml0ZSBpdCBpZiB0aGVyZSdzIGNvbnRlbnQgaW4gdGhlIHN0cmluZwovLyAgICAgICAgICAgICAgICBlY2hvICdGTFVTSCBDRUxMOiAnICwgJGNvbHVtbiAsICRyb3cgLCAnID0+ICcgLCAkY2VsbENvbnRlbnQgLCAnPGJyIC8+JzsKICAgICAgICAgICAgICAgIC8vICAgIFdyaXRlIHRvIHdvcmtzaGVldCB0byBiZSBkb25lIGhlcmUuLi4KICAgICAgICAgICAgICAgIC8vICAgIC4uLiB3ZSByZXR1cm4gdGhlIGNlbGwgc28gd2UgY2FuIG1lc3MgYWJvdXQgd2l0aCBzdHlsZXMgbW9yZSBlYXNpbHkKICAgICAgICAgICAgICAgICRzaGVldC0+c2V0Q2VsbFZhbHVlKCRjb2x1bW4gLiAkcm93LCAkY2VsbENvbnRlbnQsIHRydWUpOwogICAgICAgICAgICAgICAgJHRoaXMtPmRhdGFBcnJheVskcm93XVskY29sdW1uXSA9ICRjZWxsQ29udGVudDsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vICAgIFdlIGhhdmUgYSBSaWNoIFRleHQgcnVuCiAgICAgICAgICAgIC8vICAgIFRPRE8KICAgICAgICAgICAgJHRoaXMtPmRhdGFBcnJheVskcm93XVskY29sdW1uXSA9ICdSSUNIIFRFWFQ6ICcgLiAkY2VsbENvbnRlbnQ7CiAgICAgICAgfQogICAgICAgICRjZWxsQ29udGVudCA9IChzdHJpbmcpICcnOwogICAgfQoKICAgIHByb3RlY3RlZCBmdW5jdGlvbiBwcm9jZXNzRG9tRWxlbWVudChET01Ob2RlICRlbGVtZW50LCAkc2hlZXQsICYkcm93LCAmJGNvbHVtbiwgJiRjZWxsQ29udGVudCwgJGZvcm1hdCA9IG51bGwpCiAgICB7CiAgICAgICAgZm9yZWFjaCAoJGVsZW1lbnQtPmNoaWxkTm9kZXMgYXMgJGNoaWxkKSB7CiAgICAgICAgICAgIGlmICgkY2hpbGQgaW5zdGFuY2VvZiBET01UZXh0KSB7CiAgICAgICAgICAgICAgICAkZG9tVGV4dCA9IHByZWdfcmVwbGFjZSgnL1xzKy91JywgJyAnLCB0cmltKCRjaGlsZC0+bm9kZVZhbHVlKSk7CiAgICAgICAgICAgICAgICBpZiAoaXNfc3RyaW5nKCRjZWxsQ29udGVudCkpIHsKICAgICAgICAgICAgICAgICAgICAvLyAgICBzaW1wbHkgYXBwZW5kIHRoZSB0ZXh0IGlmIHRoZSBjZWxsIGNvbnRlbnQgaXMgYSBwbGFpbiB0ZXh0IHN0cmluZwogICAgICAgICAgICAgICAgICAgICRjZWxsQ29udGVudCAuPSAkZG9tVGV4dDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgYnV0IGlmIHdlIGhhdmUgYSByaWNoIHRleHQgcnVuIGluc3RlYWQsIHdlIG5lZWQgdG8gYXBwZW5kIGl0IGNvcnJlY3RseQogICAgICAgICAgICAgICAgICAgIC8vICAgIFRPRE8KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlaWYgKCRjaGlsZCBpbnN0YW5jZW9mIERPTUVsZW1lbnQpIHsKLy8gICAgICAgICAgICAgICAgZWNobyAnPGI+RE9NIEVMRU1FTlQ6IDwvYj4nICwgc3RydG91cHBlcigkY2hpbGQtPm5vZGVOYW1lKSAsICc8YnIgLz4nOwoKICAgICAgICAgICAgICAgICRhdHRyaWJ1dGVBcnJheSA9IGFycmF5KCk7CiAgICAgICAgICAgICAgICBmb3JlYWNoICgkY2hpbGQtPmF0dHJpYnV0ZXMgYXMgJGF0dHJpYnV0ZSkgewovLyAgICAgICAgICAgICAgICAgICAgZWNobyAnPGI+QVRUUklCVVRFOiA8L2I+JyAsICRhdHRyaWJ1dGUtPm5hbWUgLCAnID0+ICcgLCAkYXR0cmlidXRlLT52YWx1ZSAsICc8YnIgLz4nOwogICAgICAgICAgICAgICAgICAgICRhdHRyaWJ1dGVBcnJheVskYXR0cmlidXRlLT5uYW1lXSA9ICRhdHRyaWJ1dGUtPnZhbHVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHN3aXRjaCAoJGNoaWxkLT5ub2RlTmFtZSkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgJ21ldGEnOgogICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICgkYXR0cmlidXRlQXJyYXkgYXMgJGF0dHJpYnV0ZU5hbWUgPT4gJGF0dHJpYnV0ZVZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCRhdHRyaWJ1dGVOYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY29udGVudCc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIFRPRE8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgRXh0cmFjdCBjaGFyYWN0ZXIgc2V0LCBzbyB3ZSBjYW4gY29udmVydCB0byBVVEYtOCBpZiByZXF1aXJlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJvY2Vzc0RvbUVsZW1lbnQoJGNoaWxkLCAkc2hlZXQsICRyb3csICRjb2x1bW4sICRjZWxsQ29udGVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RpdGxlJzoKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByb2Nlc3NEb21FbGVtZW50KCRjaGlsZCwgJHNoZWV0LCAkcm93LCAkY29sdW1uLCAkY2VsbENvbnRlbnQpOwogICAgICAgICAgICAgICAgICAgICAgICAkc2hlZXQtPnNldFRpdGxlKCRjZWxsQ29udGVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRjZWxsQ29udGVudCA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdzcGFuJzoKICAgICAgICAgICAgICAgICAgICBjYXNlICdkaXYnOgogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ZvbnQnOgogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2knOgogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VtJzoKICAgICAgICAgICAgICAgICAgICBjYXNlICdzdHJvbmcnOgogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2InOgovLyAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJ1NUWUxJTkcsIFNQQU4gT1IgRElWPGJyIC8+JzsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRjZWxsQ29udGVudCA+ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY2VsbENvbnRlbnQgLj0gJyAnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcm9jZXNzRG9tRWxlbWVudCgkY2hpbGQsICRzaGVldCwgJHJvdywgJGNvbHVtbiwgJGNlbGxDb250ZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRjZWxsQ29udGVudCA+ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY2VsbENvbnRlbnQgLj0gJyAnOwogICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAnRU5EIE9GIFNUWUxJTkcsIFNQQU4gT1IgRElWPGJyIC8+JzsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaHInOgogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+Zmx1c2hDZWxsKCRzaGVldCwgJGNvbHVtbiwgJHJvdywgJGNlbGxDb250ZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgKyskcm93OwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzZXQoJHRoaXMtPmZvcm1hdHNbJGNoaWxkLT5ub2RlTmFtZV0pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2hlZXQtPmdldFN0eWxlKCRjb2x1bW4gLiAkcm93KS0+YXBwbHlGcm9tQXJyYXkoJHRoaXMtPmZvcm1hdHNbJGNoaWxkLT5ub2RlTmFtZV0pOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNlbGxDb250ZW50ID0gJy0tLS0tLS0tLS0nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmZsdXNoQ2VsbCgkc2hlZXQsICRjb2x1bW4sICRyb3csICRjZWxsQ29udGVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgKyskcm93OwogICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgYSBicmVhayBhZnRlciBhIGhvcml6b250YWwgcnVsZSwgc2ltcGx5IGJ5IGFsbG93aW5nIHRoZSBjb2RlIHRvIGRyb3B0aHJ1CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYnInOgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHRoaXMtPnRhYmxlTGV2ZWwgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBJZiB3ZSdyZSBpbnNpZGUgYSB0YWJsZSwgcmVwbGFjZSB3aXRoIGEgXG4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjZWxsQ29udGVudCAuPSAiXG4iOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgT3RoZXJ3aXNlIGZsdXNoIG91ciBleGlzdGluZyBjb250ZW50IGFuZCBtb3ZlIHRoZSByb3cgY3Vyc29yIG9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+Zmx1c2hDZWxsKCRzaGVldCwgJGNvbHVtbiwgJHJvdywgJGNlbGxDb250ZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICsrJHJvdzsKICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJ0hBUkQgTElORSBCUkVBSzogJyAsICc8YnIgLz4nOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdhJzoKLy8gICAgICAgICAgICAgICAgICAgICAgICBlY2hvICdTVEFSVCBPRiBIWVBFUkxJTks6ICcgLCAnPGJyIC8+JzsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJGF0dHJpYnV0ZUFycmF5IGFzICRhdHRyaWJ1dGVOYW1lID0+ICRhdHRyaWJ1dGVWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgkYXR0cmlidXRlTmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2hyZWYnOgovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJ0xpbmsgdG8gJyAsICRhdHRyaWJ1dGVWYWx1ZSAsICc8YnIgLz4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2hlZXQtPmdldENlbGwoJGNvbHVtbiAuICRyb3cpLT5nZXRIeXBlcmxpbmsoKS0+c2V0VXJsKCRhdHRyaWJ1dGVWYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc3NldCgkdGhpcy0+Zm9ybWF0c1skY2hpbGQtPm5vZGVOYW1lXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzaGVldC0+Z2V0U3R5bGUoJGNvbHVtbiAuICRyb3cpLT5hcHBseUZyb21BcnJheSgkdGhpcy0+Zm9ybWF0c1skY2hpbGQtPm5vZGVOYW1lXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJGNlbGxDb250ZW50IC49ICcgJzsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnByb2Nlc3NEb21FbGVtZW50KCRjaGlsZCwgJHNoZWV0LCAkcm93LCAkY29sdW1uLCAkY2VsbENvbnRlbnQpOwovLyAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJ0VORCBPRiBIWVBFUkxJTks6JyAsICc8YnIgLz4nOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdoMSc6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaDInOgogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2gzJzoKICAgICAgICAgICAgICAgICAgICBjYXNlICdoNCc6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaDUnOgogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2g2JzoKICAgICAgICAgICAgICAgICAgICBjYXNlICdvbCc6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAndWwnOgogICAgICAgICAgICAgICAgICAgIGNhc2UgJ3AnOgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHRoaXMtPnRhYmxlTGV2ZWwgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBJZiB3ZSdyZSBpbnNpZGUgYSB0YWJsZSwgcmVwbGFjZSB3aXRoIGEgXG4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjZWxsQ29udGVudCAuPSAiXG4iOwovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBlY2hvICdMSVNUIEVOVFJZOiAnICwgJzxiciAvPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJvY2Vzc0RvbUVsZW1lbnQoJGNoaWxkLCAkc2hlZXQsICRyb3csICRjb2x1bW4sICRjZWxsQ29udGVudCk7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJ0VORCBPRiBMSVNUIEVOVFJZOicgLCAnPGJyIC8+JzsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkY2VsbENvbnRlbnQgPiAnJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5mbHVzaENlbGwoJHNoZWV0LCAkY29sdW1uLCAkcm93LCAkY2VsbENvbnRlbnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3crKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAnU1RBUlQgT0YgUEFSQUdSQVBIOiAnICwgJzxiciAvPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJvY2Vzc0RvbUVsZW1lbnQoJGNoaWxkLCAkc2hlZXQsICRyb3csICRjb2x1bW4sICRjZWxsQ29udGVudCk7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJ0VORCBPRiBQQVJBR1JBUEg6JyAsICc8YnIgLz4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmZsdXNoQ2VsbCgkc2hlZXQsICRjb2x1bW4sICRyb3csICRjZWxsQ29udGVudCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzc2V0KCR0aGlzLT5mb3JtYXRzWyRjaGlsZC0+bm9kZU5hbWVdKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzaGVldC0+Z2V0U3R5bGUoJGNvbHVtbiAuICRyb3cpLT5hcHBseUZyb21BcnJheSgkdGhpcy0+Zm9ybWF0c1skY2hpbGQtPm5vZGVOYW1lXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdysrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbHVtbiA9ICdBJzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdsaSc6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdGhpcy0+dGFibGVMZXZlbCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIElmIHdlJ3JlIGluc2lkZSBhIHRhYmxlLCByZXBsYWNlIHdpdGggYSBcbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNlbGxDb250ZW50IC49ICJcbiI7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJ0xJU1QgRU5UUlk6ICcgLCAnPGJyIC8+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcm9jZXNzRG9tRWxlbWVudCgkY2hpbGQsICRzaGVldCwgJHJvdywgJGNvbHVtbiwgJGNlbGxDb250ZW50KTsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAnRU5EIE9GIExJU1QgRU5UUlk6JyAsICc8YnIgLz4nOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRjZWxsQ29udGVudCA+ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmZsdXNoQ2VsbCgkc2hlZXQsICRjb2x1bW4sICRyb3csICRjZWxsQ29udGVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICArKyRyb3c7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJ0xJU1QgRU5UUlk6ICcgLCAnPGJyIC8+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcm9jZXNzRG9tRWxlbWVudCgkY2hpbGQsICRzaGVldCwgJHJvdywgJGNvbHVtbiwgJGNlbGxDb250ZW50KTsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAnRU5EIE9GIExJU1QgRU5UUlk6JyAsICc8YnIgLz4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmZsdXNoQ2VsbCgkc2hlZXQsICRjb2x1bW4sICRyb3csICRjZWxsQ29udGVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29sdW1uID0gJ0EnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RhYmxlJzoKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmZsdXNoQ2VsbCgkc2hlZXQsICRjb2x1bW4sICRyb3csICRjZWxsQ29udGVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRjb2x1bW4gPSAkdGhpcy0+c2V0VGFibGVTdGFydENvbHVtbigkY29sdW1uKTsKLy8gICAgICAgICAgICAgICAgICAgICAgICBlY2hvICdTVEFSVCBPRiBUQUJMRSBMRVZFTCAnICwgJHRoaXMtPnRhYmxlTGV2ZWwgLCAnPGJyIC8+JzsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR0aGlzLT50YWJsZUxldmVsID4gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0kcm93OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcm9jZXNzRG9tRWxlbWVudCgkY2hpbGQsICRzaGVldCwgJHJvdywgJGNvbHVtbiwgJGNlbGxDb250ZW50KTsKLy8gICAgICAgICAgICAgICAgICAgICAgICBlY2hvICdFTkQgT0YgVEFCTEUgTEVWRUwgJyAsICR0aGlzLT50YWJsZUxldmVsICwgJzxiciAvPic7CiAgICAgICAgICAgICAgICAgICAgICAgICRjb2x1bW4gPSAkdGhpcy0+cmVsZWFzZVRhYmxlU3RhcnRDb2x1bW4oKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR0aGlzLT50YWJsZUxldmVsID4gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgKyskY29sdW1uOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgKyskcm93OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RoZWFkJzoKICAgICAgICAgICAgICAgICAgICBjYXNlICd0Ym9keSc6CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcm9jZXNzRG9tRWxlbWVudCgkY2hpbGQsICRzaGVldCwgJHJvdywgJGNvbHVtbiwgJGNlbGxDb250ZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAndHInOgogICAgICAgICAgICAgICAgICAgICAgICAkY29sdW1uID0gJHRoaXMtPmdldFRhYmxlU3RhcnRDb2x1bW4oKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGNlbGxDb250ZW50ID0gJyc7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAnU1RBUlQgT0YgVEFCTEUgJyAsICR0aGlzLT50YWJsZUxldmVsICwgJyBST1c8YnIgLz4nOwogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJvY2Vzc0RvbUVsZW1lbnQoJGNoaWxkLCAkc2hlZXQsICRyb3csICRjb2x1bW4sICRjZWxsQ29udGVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICsrJHJvdzsKLy8gICAgICAgICAgICAgICAgICAgICAgICBlY2hvICdFTkQgT0YgVEFCTEUgJyAsICR0aGlzLT50YWJsZUxldmVsICwgJyBST1c8YnIgLz4nOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICd0aCc6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGQnOgovLyAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJ1NUQVJUIE9GIFRBQkxFICcgLCAkdGhpcy0+dGFibGVMZXZlbCAsICcgQ0VMTDxiciAvPic7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcm9jZXNzRG9tRWxlbWVudCgkY2hpbGQsICRzaGVldCwgJHJvdywgJGNvbHVtbiwgJGNlbGxDb250ZW50KTsKLy8gICAgICAgICAgICAgICAgICAgICAgICBlY2hvICdFTkQgT0YgVEFCTEUgJyAsICR0aGlzLT50YWJsZUxldmVsICwgJyBDRUxMPGJyIC8+JzsKCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpc3NldCgkdGhpcy0+cm93c3BhblskY29sdW1uIC4gJHJvd10pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICArKyRjb2x1bW47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5mbHVzaENlbGwoJHNoZWV0LCAkY29sdW1uLCAkcm93LCAkY2VsbENvbnRlbnQpOwoKLy8gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzZXQoJGF0dHJpYnV0ZUFycmF5WydzdHlsZSddKSAmJiAhZW1wdHkoJGF0dHJpYnV0ZUFycmF5WydzdHlsZSddKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3R5bGVBcnkgPSAkdGhpcy0+Z2V0UGhwRXhjZWxTdHlsZUFycmF5KCRhdHRyaWJ1dGVBcnJheVsnc3R5bGUnXSk7Ci8vCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZW1wdHkoJHN0eWxlQXJ5KSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNoZWV0LT5nZXRTdHlsZSgkY29sdW1uIC4gJHJvdyktPmFwcGx5RnJvbUFycmF5KCRzdHlsZUFyeSk7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzZXQoJGF0dHJpYnV0ZUFycmF5Wydyb3dzcGFuJ10pICYmIGlzc2V0KCRhdHRyaWJ1dGVBcnJheVsnY29sc3BhbiddKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jcmVhdGUgbWVyZ2luZyByb3dzcGFuIGFuZCBjb2xzcGFuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29sdW1uVG8gPSAkY29sdW1uOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICgkaSA9IDA7ICRpIDwgJGF0dHJpYnV0ZUFycmF5Wydjb2xzcGFuJ10gLSAxOyAkaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyskY29sdW1uVG87CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcmFuZ2UgPSAkY29sdW1uIC4gJHJvdyAuICc6JyAuICRjb2x1bW5UbyAuICgkcm93ICsgJGF0dHJpYnV0ZUFycmF5Wydyb3dzcGFuJ10gLSAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKFxQSFBFeGNlbF9DZWxsOjpleHRyYWN0QWxsQ2VsbFJlZmVyZW5jZXNJblJhbmdlKCRyYW5nZSkgYXMgJHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnJvd3NwYW5bJHZhbHVlXSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2hlZXQtPm1lcmdlQ2VsbHMoJHJhbmdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb2x1bW4gPSAkY29sdW1uVG87CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZWlmIChpc3NldCgkYXR0cmlidXRlQXJyYXlbJ3Jvd3NwYW4nXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY3JlYXRlIG1lcmdpbmcgcm93c3BhbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJhbmdlID0gJGNvbHVtbiAuICRyb3cgLiAnOicgLiAkY29sdW1uIC4gKCRyb3cgKyAkYXR0cmlidXRlQXJyYXlbJ3Jvd3NwYW4nXSAtIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoXFBIUEV4Y2VsX0NlbGw6OmV4dHJhY3RBbGxDZWxsUmVmZXJlbmNlc0luUmFuZ2UoJHJhbmdlKSBhcyAkdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cm93c3BhblskdmFsdWVdID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzaGVldC0+bWVyZ2VDZWxscygkcmFuZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2VpZiAoaXNzZXQoJGF0dHJpYnV0ZUFycmF5Wydjb2xzcGFuJ10pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NyZWF0ZSBtZXJnaW5nIGNvbHNwYW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb2x1bW5UbyA9ICRjb2x1bW47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCRpID0gMDsgJGkgPCAkYXR0cmlidXRlQXJyYXlbJ2NvbHNwYW4nXSAtIDE7ICRpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArKyRjb2x1bW5UbzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzaGVldC0+bWVyZ2VDZWxscygkY29sdW1uIC4gJHJvdyAuICc6JyAuICRjb2x1bW5UbyAuICRyb3cpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbHVtbiA9ICRjb2x1bW5UbzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICArKyRjb2x1bW47CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JvZHknOgogICAgICAgICAgICAgICAgICAgICAgICAkcm93ID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgJGNvbHVtbiA9ICdBJzsKICAgICAgICAgICAgICAgICAgICAgICAgJGNvbnRlbnQgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnRhYmxlTGV2ZWwgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cHJvY2Vzc0RvbUVsZW1lbnQoJGNoaWxkLCAkc2hlZXQsICRyb3csICRjb2x1bW4sICRjZWxsQ29udGVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLT5wcm9jZXNzRG9tRWxlbWVudCgkY2hpbGQsICRzaGVldCwgJHJvdywgJGNvbHVtbiwgJGNlbGxDb250ZW50KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIExvYWRzIFBIUEV4Y2VsIGZyb20gZmlsZSBpbnRvIFBIUEV4Y2VsIGluc3RhbmNlCiAgICAgKgogICAgICogQHBhcmFtICBzdHJpbmcgICAgICAgICAgICAgICAgICAgICRwRmlsZW5hbWUKICAgICAqIEBwYXJhbSAgUEhQRXhjZWwgICAgICAgICAgICAgICAgICAkb2JqUEhQRXhjZWwKICAgICAqIEByZXR1cm4gUEhQRXhjZWwKICAgICAqIEB0aHJvd3MgUEhQRXhjZWxfUmVhZGVyX0V4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gbG9hZEludG9FeGlzdGluZygkcEZpbGVuYW1lLCBQSFBFeGNlbCAkb2JqUEhQRXhjZWwpCiAgICB7CiAgICAgICAgLy8gT3BlbiBmaWxlIHRvIHZhbGlkYXRlCiAgICAgICAgJHRoaXMtPm9wZW5GaWxlKCRwRmlsZW5hbWUpOwogICAgICAgIGlmICghJHRoaXMtPmlzVmFsaWRGb3JtYXQoKSkgewogICAgICAgICAgICBmY2xvc2UoJHRoaXMtPmZpbGVIYW5kbGUpOwogICAgICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfUmVhZGVyX0V4Y2VwdGlvbigkcEZpbGVuYW1lIC4gIiBpcyBhbiBJbnZhbGlkIEhUTUwgZmlsZS4iKTsKICAgICAgICB9CiAgICAgICAgLy8gICAgQ2xvc2UgYWZ0ZXIgdmFsaWRhdGluZwogICAgICAgIGZjbG9zZSgkdGhpcy0+ZmlsZUhhbmRsZSk7CgogICAgICAgIC8vIENyZWF0ZSBuZXcgUEhQRXhjZWwKICAgICAgICB3aGlsZSAoJG9ialBIUEV4Y2VsLT5nZXRTaGVldENvdW50KCkgPD0gJHRoaXMtPnNoZWV0SW5kZXgpIHsKICAgICAgICAgICAgJG9ialBIUEV4Y2VsLT5jcmVhdGVTaGVldCgpOwogICAgICAgIH0KICAgICAgICAkb2JqUEhQRXhjZWwtPnNldEFjdGl2ZVNoZWV0SW5kZXgoJHRoaXMtPnNoZWV0SW5kZXgpOwoKICAgICAgICAvLyAgICBDcmVhdGUgYSBuZXcgRE9NIG9iamVjdAogICAgICAgICRkb20gPSBuZXcgZG9tRG9jdW1lbnQ7CiAgICAgICAgLy8gICAgUmVsb2FkIHRoZSBIVE1MIGZpbGUgaW50byB0aGUgRE9NIG9iamVjdAogICAgICAgICRsb2FkZWQgPSAkZG9tLT5sb2FkSFRNTChtYl9jb252ZXJ0X2VuY29kaW5nKCR0aGlzLT5zZWN1cml0eVNjYW5GaWxlKCRwRmlsZW5hbWUpLCAnSFRNTC1FTlRJVElFUycsICdVVEYtOCcpKTsKICAgICAgICBpZiAoJGxvYWRlZCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX1JlYWRlcl9FeGNlcHRpb24oJ0ZhaWxlZCB0byBsb2FkICcgLiAkcEZpbGVuYW1lIC4gJyBhcyBhIERPTSBEb2N1bWVudCcpOwogICAgICAgIH0KCiAgICAgICAgLy8gICAgRGlzY2FyZCB3aGl0ZSBzcGFjZQogICAgICAgICRkb20tPnByZXNlcnZlV2hpdGVTcGFjZSA9IGZhbHNlOwoKICAgICAgICAkcm93ID0gMDsKICAgICAgICAkY29sdW1uID0gJ0EnOwogICAgICAgICRjb250ZW50ID0gJyc7CiAgICAgICAgJHRoaXMtPnByb2Nlc3NEb21FbGVtZW50KCRkb20sICRvYmpQSFBFeGNlbC0+Z2V0QWN0aXZlU2hlZXQoKSwgJHJvdywgJGNvbHVtbiwgJGNvbnRlbnQpOwoKICAgICAgICAvLyBSZXR1cm4KICAgICAgICByZXR1cm4gJG9ialBIUEV4Y2VsOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IHNoZWV0IGluZGV4CiAgICAgKgogICAgICogQHJldHVybiBpbnQKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldFNoZWV0SW5kZXgoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+c2hlZXRJbmRleDsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBzaGVldCBpbmRleAogICAgICoKICAgICAqIEBwYXJhbSAgaW50ICAgICAgICAgICAgICAgICAgJHBWYWx1ZSBTaGVldCBpbmRleAogICAgICogQHJldHVybiBQSFBFeGNlbF9SZWFkZXJfSFRNTAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gc2V0U2hlZXRJbmRleCgkcFZhbHVlID0gMCkKICAgIHsKICAgICAgICAkdGhpcy0+c2hlZXRJbmRleCA9ICRwVmFsdWU7CgogICAgICAgIHJldHVybiAkdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIFNjYW4gdGhlWE1MIGZvciB1c2Ugb2YgPCFFTlRJVFkgdG8gcHJldmVudCBYWEUvWEVFIGF0dGFja3MKICAgICAqCiAgICAgKiBAcGFyYW0gICAgIHN0cmluZyAgICAgICAgICR4bWwKICAgICAqIEB0aHJvd3MgUEhQRXhjZWxfUmVhZGVyX0V4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gc2VjdXJpdHlTY2FuKCR4bWwpCiAgICB7CiAgICAgICAgJHBhdHRlcm4gPSAnL1xcMD8nIC4gaW1wbG9kZSgnXFwwPycsIHN0cl9zcGxpdCgnPCFFTlRJVFknKSkgLiAnXFwwPy8nOwogICAgICAgIGlmIChwcmVnX21hdGNoKCRwYXR0ZXJuLCAkeG1sKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUEhQRXhjZWxfUmVhZGVyX0V4Y2VwdGlvbignRGV0ZWN0ZWQgdXNlIG9mIEVOVElUWSBpbiBYTUwsIHNwcmVhZHNoZWV0IGZpbGUgbG9hZCgpIGFib3J0ZWQgdG8gcHJldmVudCBYWEUvWEVFIGF0dGFja3MnKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICR4bWw7CiAgICB9Cn0K",
    "size": "21306"
}