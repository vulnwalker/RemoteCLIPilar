{
    "namaFile": "pages\/admin\/menu\/assets\/js\/libs\/ckeditor\/ckeditor.js",
    "lastUpdate": "2018-03-22+14:19:46.42",
    "contentFile": "77u\/LyoKQ29weXJpZ2h0IChjKSAyMDAzLTIwMTMsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkZvciBsaWNlbnNpbmcsIHNlZSBMSUNFTlNFLmh0bWwgb3IgaHR0cDovL2NrZWRpdG9yLmNvbS9saWNlbnNlCiovCihmdW5jdGlvbigpe2lmKHdpbmRvdy5DS0VESVRPUiYmd2luZG93LkNLRURJVE9SLmRvbSlyZXR1cm47d2luZG93LkNLRURJVE9SfHwod2luZG93LkNLRURJVE9SPWZ1bmN0aW9uKCl7dmFyIGE9e3RpbWVzdGFtcDoiREJBQSIsdmVyc2lvbjoiNC4zLjEiLHJldmlzaW9uOiIzZWNkMGI4IixybmQ6TWF0aC5mbG9vcig5MDAqTWF0aC5yYW5kb20oKSkrMTAwLF86e3BlbmRpbmc6W119LHN0YXR1czoidW5sb2FkZWQiLGJhc2VQYXRoOmZ1bmN0aW9uKCl7dmFyIGI9d2luZG93LkNLRURJVE9SX0JBU0VQQVRIfHwiIjtpZighYilmb3IodmFyIGQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGE9MDthPGQubGVuZ3RoO2ErKyl7dmFyIGU9ZFthXS5zcmMubWF0Y2goLyhefC4qW1xcXC9dKWNrZWRpdG9yKD86X2Jhc2ljKT8oPzpfc291cmNlKT8uanMoPzpcPy4qKT8kL2kpO2lmKGUpe2I9ZVsxXTticmVha319LTE9PWIuaW5kZXhPZigiOi8iKSYmKGI9MD09PWIuaW5kZXhPZigiLyIpP2xvY2F0aW9uLmhyZWYubWF0Y2goL14uKj86XC9cL1teXC9dKi8pWzBdK2I6bG9jYXRpb24uaHJlZi5tYXRjaCgvXlteXD9dKlwvKD86KS8pWzBdKwpiKTtpZighYil0aHJvdydUaGUgQ0tFZGl0b3IgaW5zdGFsbGF0aW9uIHBhdGggY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgZGV0ZWN0ZWQuIFBsZWFzZSBzZXQgdGhlIGdsb2JhbCB2YXJpYWJsZSAiQ0tFRElUT1JfQkFTRVBBVEgiIGJlZm9yZSBjcmVhdGluZyBlZGl0b3IgaW5zdGFuY2VzLic7cmV0dXJuIGJ9KCksZ2V0VXJsOmZ1bmN0aW9uKGIpey0xPT1iLmluZGV4T2YoIjovIikmJjAhPT1iLmluZGV4T2YoIi8iKSYmKGI9dGhpcy5iYXNlUGF0aCtiKTt0aGlzLnRpbWVzdGFtcCYmKCIvIiE9Yi5jaGFyQXQoYi5sZW5ndGgtMSkmJiEvWyY\/XXQ9Ly50ZXN0KGIpKSYmKGIrPSgwPD1iLmluZGV4T2YoIj8iKT8iJiI6Ij8iKSsidD0iK3RoaXMudGltZXN0YW1wKTtyZXR1cm4gYn0sZG9tUmVhZHk6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKCl7dHJ5e2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXI\/KGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGIsCiExKSxkKCkpOmRvY3VtZW50LmF0dGFjaEV2ZW50JiYiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmKGRvY3VtZW50LmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLGIpLGQoKSl9Y2F0Y2goYSl7fX1mdW5jdGlvbiBkKCl7Zm9yKHZhciBkO2Q9YS5zaGlmdCgpOylkKCl9dmFyIGE9W107cmV0dXJuIGZ1bmN0aW9uKGQpe2EucHVzaChkKTsiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmc2V0VGltZW91dChiLDEpO2lmKDE9PWEubGVuZ3RoKWlmKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsYiwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGIsITEpO2Vsc2UgaWYoZG9jdW1lbnQuYXR0YWNoRXZlbnQpe2RvY3VtZW50LmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLGIpO3dpbmRvdy5hdHRhY2hFdmVudCgib25sb2FkIixiKTtkPSExO3RyeXtkPQohd2luZG93LmZyYW1lRWxlbWVudH1jYXRjaChlKXt9aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsJiZkKXt2YXIgaT1mdW5jdGlvbigpe3RyeXtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChkKXtzZXRUaW1lb3V0KGksMSk7cmV0dXJufWIoKX07aSgpfX19fSgpfSxlPXdpbmRvdy5DS0VESVRPUl9HRVRVUkw7aWYoZSl7dmFyIGI9YS5nZXRVcmw7YS5nZXRVcmw9ZnVuY3Rpb24oYyl7cmV0dXJuIGUuY2FsbChhLGMpfHxiLmNhbGwoYSxjKX19cmV0dXJuIGF9KCkpOwpDS0VESVRPUi5ldmVudHx8KENLRURJVE9SLmV2ZW50PWZ1bmN0aW9uKCl7fSxDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbj1mdW5jdGlvbihhKXt2YXIgZT1DS0VESVRPUi5ldmVudC5wcm90b3R5cGUsYjtmb3IoYiBpbiBlKWFbYl09PXZvaWQgMCYmKGFbYl09ZVtiXSl9LENLRURJVE9SLmV2ZW50LnByb3RvdHlwZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGQ9ZSh0aGlzKTtyZXR1cm4gZFthXXx8KGRbYV09bmV3IGIoYSkpfXZhciBlPWZ1bmN0aW9uKGIpe2I9Yi5nZXRQcml2YXRlJiZiLmdldFByaXZhdGUoKXx8Yi5ffHwoYi5fPXt9KTtyZXR1cm4gYi5ldmVudHN8fChiLmV2ZW50cz17fSl9LGI9ZnVuY3Rpb24oYil7dGhpcy5uYW1lPWI7dGhpcy5saXN0ZW5lcnM9W119O2IucHJvdG90eXBlPXtnZXRMaXN0ZW5lckluZGV4OmZ1bmN0aW9uKGIpe2Zvcih2YXIgZD0wLGE9dGhpcy5saXN0ZW5lcnM7ZDxhLmxlbmd0aDtkKyspaWYoYVtkXS5mbj09YilyZXR1cm4gZDtyZXR1cm4tMX19OwpyZXR1cm57ZGVmaW5lOmZ1bmN0aW9uKGIsZCl7dmFyIGg9YS5jYWxsKHRoaXMsYik7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGgsZCx0cnVlKX0sb246ZnVuY3Rpb24oYixkLGgsZSxuKXtmdW5jdGlvbiBpKGEsZixvLHEpe2E9e25hbWU6YixzZW5kZXI6dGhpcyxlZGl0b3I6YSxkYXRhOmYsbGlzdGVuZXJEYXRhOmUsc3RvcDpvLGNhbmNlbDpxLHJlbW92ZUxpc3RlbmVyOmp9O3JldHVybiBkLmNhbGwoaCxhKT09PWZhbHNlP2ZhbHNlOmEuZGF0YX1mdW5jdGlvbiBqKCl7cS5yZW1vdmVMaXN0ZW5lcihiLGQpfXZhciBvPWEuY2FsbCh0aGlzLGIpO2lmKG8uZ2V0TGlzdGVuZXJJbmRleChkKTwwKXtvPW8ubGlzdGVuZXJzO2h8fChoPXRoaXMpO2lzTmFOKG4pJiYobj0xMCk7dmFyIHE9dGhpcztpLmZuPWQ7aS5wcmlvcml0eT1uO2Zvcih2YXIgcz1vLmxlbmd0aC0xO3M+PTA7cy0tKWlmKG9bc10ucHJpb3JpdHk8PW4pe28uc3BsaWNlKHMrMSwwLGkpO3JldHVybntyZW1vdmVMaXN0ZW5lcjpqfX1vLnVuc2hpZnQoaSl9cmV0dXJue3JlbW92ZUxpc3RlbmVyOmp9fSwKb25jZTpmdW5jdGlvbigpe3ZhciBiPWFyZ3VtZW50c1sxXTthcmd1bWVudHNbMV09ZnVuY3Rpb24oZCl7ZC5yZW1vdmVMaXN0ZW5lcigpO3JldHVybiBiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHRoaXMub24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjYXB0dXJlOmZ1bmN0aW9uKCl7Q0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0xO3ZhciBiPXRoaXMub24uYXBwbHkodGhpcyxhcmd1bWVudHMpO0NLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MDtyZXR1cm4gYn0sZmlyZTpmdW5jdGlvbigpe3ZhciBiPTAsZD1mdW5jdGlvbigpe2I9MX0sYT0wLGc9ZnVuY3Rpb24oKXthPTF9O3JldHVybiBmdW5jdGlvbihuLGksail7dmFyIG89ZSh0aGlzKVtuXSxuPWIscT1hO2I9YT0wO2lmKG8pe3ZhciBzPW8ubGlzdGVuZXJzO2lmKHMubGVuZ3RoKWZvcih2YXIgcz1zLnNsaWNlKDApLHUsZj0wO2Y8cy5sZW5ndGg7ZisrKXtpZihvLmVycm9yUHJvb2YpdHJ5e3U9c1tmXS5jYWxsKHRoaXMsCmosaSxkLGcpfWNhdGNoKHApe31lbHNlIHU9c1tmXS5jYWxsKHRoaXMsaixpLGQsZyk7dT09PWZhbHNlP2E9MTp0eXBlb2YgdSE9InVuZGVmaW5lZCImJihpPXUpO2lmKGJ8fGEpYnJlYWt9fWk9YT9mYWxzZTp0eXBlb2YgaT09InVuZGVmaW5lZCI\/dHJ1ZTppO2I9bjthPXE7cmV0dXJuIGl9fSgpLGZpcmVPbmNlOmZ1bmN0aW9uKGIsZCxhKXtkPXRoaXMuZmlyZShiLGQsYSk7ZGVsZXRlIGUodGhpcylbYl07cmV0dXJuIGR9LHJlbW92ZUxpc3RlbmVyOmZ1bmN0aW9uKGIsZCl7dmFyIGE9ZSh0aGlzKVtiXTtpZihhKXt2YXIgZz1hLmdldExpc3RlbmVySW5kZXgoZCk7Zz49MCYmYS5saXN0ZW5lcnMuc3BsaWNlKGcsMSl9fSxyZW1vdmVBbGxMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYj1lKHRoaXMpLGQ7Zm9yKGQgaW4gYilkZWxldGUgYltkXX0saGFzTGlzdGVuZXJzOmZ1bmN0aW9uKGIpe3JldHVybihiPWUodGhpcylbYl0pJiZiLmxpc3RlbmVycy5sZW5ndGg+MH19fSgpKTsKQ0tFRElUT1IuZWRpdG9yfHwoQ0tFRElUT1IuZWRpdG9yPWZ1bmN0aW9uKCl7Q0tFRElUT1IuXy5wZW5kaW5nLnB1c2goW3RoaXMsYXJndW1lbnRzXSk7Q0tFRElUT1IuZXZlbnQuY2FsbCh0aGlzKX0sQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5maXJlPWZ1bmN0aW9uKGEsZSl7YSBpbntpbnN0YW5jZVJlYWR5OjEsbG9hZGVkOjF9JiYodGhpc1thXT10cnVlKTtyZXR1cm4gQ0tFRElUT1IuZXZlbnQucHJvdG90eXBlLmZpcmUuY2FsbCh0aGlzLGEsZSx0aGlzKX0sQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5maXJlT25jZT1mdW5jdGlvbihhLGUpe2EgaW57aW5zdGFuY2VSZWFkeToxLGxvYWRlZDoxfSYmKHRoaXNbYV09dHJ1ZSk7cmV0dXJuIENLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5maXJlT25jZS5jYWxsKHRoaXMsYSxlLHRoaXMpfSxDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlKSk7CkNLRURJVE9SLmVudnx8KENLRURJVE9SLmVudj1mdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSxlPXdpbmRvdy5vcGVyYSxiPXtpZTphLmluZGV4T2YoInRyaWRlbnQvIik+LTEsb3BlcmE6ISFlJiZlLnZlcnNpb24sd2Via2l0OmEuaW5kZXhPZigiIGFwcGxld2Via2l0LyIpPi0xLGFpcjphLmluZGV4T2YoIiBhZG9iZWFpci8iKT4tMSxtYWM6YS5pbmRleE9mKCJtYWNpbnRvc2giKT4tMSxxdWlya3M6ZG9jdW1lbnQuY29tcGF0TW9kZT09IkJhY2tDb21wYXQiJiYoIWRvY3VtZW50LmRvY3VtZW50TW9kZXx8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPDEwKSxtb2JpbGU6YS5pbmRleE9mKCJtb2JpbGUiKT4tMSxpT1M6LyhpcGFkfGlwaG9uZXxpcG9kKS8udGVzdChhKSxpc0N1c3RvbURvbWFpbjpmdW5jdGlvbigpe2lmKCF0aGlzLmllKXJldHVybiBmYWxzZTt2YXIgZD1kb2N1bWVudC5kb21haW4sYj13aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7cmV0dXJuIGQhPQpiJiZkIT0iWyIrYisiXSJ9LHNlY3VyZTpsb2NhdGlvbi5wcm90b2NvbD09Imh0dHBzOiJ9O2IuZ2Vja289bmF2aWdhdG9yLnByb2R1Y3Q9PSJHZWNrbyImJiFiLndlYmtpdCYmIWIub3BlcmEmJiFiLmllO2lmKGIud2Via2l0KWEuaW5kZXhPZigiY2hyb21lIik+LTE\/Yi5jaHJvbWU9dHJ1ZTpiLnNhZmFyaT10cnVlO3ZhciBjPTA7aWYoYi5pZSl7Yz1iLnF1aXJrc3x8IWRvY3VtZW50LmRvY3VtZW50TW9kZT9wYXJzZUZsb2F0KGEubWF0Y2goL21zaWUgKFxkKykvKVsxXSk6ZG9jdW1lbnQuZG9jdW1lbnRNb2RlO2IuaWU5Q29tcGF0PWM9PTk7Yi5pZThDb21wYXQ9Yz09ODtiLmllN0NvbXBhdD1jPT03O2IuaWU2Q29tcGF0PWM8N3x8Yi5xdWlya3N9aWYoYi5nZWNrbyl7dmFyIGQ9YS5tYXRjaCgvcnY6KFtcZFwuXSspLyk7aWYoZCl7ZD1kWzFdLnNwbGl0KCIuIik7Yz1kWzBdKjFFNCsoZFsxXXx8MCkqMTAwKyhkWzJdfHwwKSoxfX1iLm9wZXJhJiYoYz1wYXJzZUZsb2F0KGUudmVyc2lvbigpKSk7CmIuYWlyJiYoYz1wYXJzZUZsb2F0KGEubWF0Y2goLyBhZG9iZWFpclwvKFxkKykvKVsxXSkpO2Iud2Via2l0JiYoYz1wYXJzZUZsb2F0KGEubWF0Y2goLyBhcHBsZXdlYmtpdFwvKFxkKykvKVsxXSkpO2IudmVyc2lvbj1jO2IuaXNDb21wYXRpYmxlPWIuaU9TJiZjPj01MzR8fCFiLm1vYmlsZSYmKGIuaWUmJmM+Nnx8Yi5nZWNrbyYmYz49MTA4MDF8fGIub3BlcmEmJmM+PTkuNXx8Yi5haXImJmM+PTF8fGIud2Via2l0JiZjPj01MjJ8fGZhbHNlKTtiLmhpZHBpPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvPj0yO2IubmVlZHNCckZpbGxlcj1iLmdlY2tvfHxiLndlYmtpdHx8Yi5pZSYmYz4xMDtiLm5lZWRzTmJzcEZpbGxlcj1iLmllJiZjPDExO2IuY3NzQ2xhc3M9ImNrZV9icm93c2VyXyIrKGIuaWU\/ImllIjpiLmdlY2tvPyJnZWNrbyI6Yi5vcGVyYT8ib3BlcmEiOmIud2Via2l0PyJ3ZWJraXQiOiJ1bmtub3duIik7aWYoYi5xdWlya3MpYi5jc3NDbGFzcz1iLmNzc0NsYXNzKyIgY2tlX2Jyb3dzZXJfcXVpcmtzIjsKaWYoYi5pZSl7Yi5jc3NDbGFzcz1iLmNzc0NsYXNzKygiIGNrZV9icm93c2VyX2llIisoYi5xdWlya3N8fGIudmVyc2lvbjw3PyI2IjpiLnZlcnNpb24pKTtpZihiLnF1aXJrcyliLmNzc0NsYXNzPWIuY3NzQ2xhc3MrIiBja2VfYnJvd3Nlcl9pZXF1aXJrcyJ9aWYoYi5nZWNrbylpZihjPDEwOTAwKWIuY3NzQ2xhc3M9Yi5jc3NDbGFzcysiIGNrZV9icm93c2VyX2dlY2tvMTgiO2Vsc2UgaWYoYzw9MTFFMyliLmNzc0NsYXNzPWIuY3NzQ2xhc3MrIiBja2VfYnJvd3Nlcl9nZWNrbzE5IjtpZihiLmFpciliLmNzc0NsYXNzPWIuY3NzQ2xhc3MrIiBja2VfYnJvd3Nlcl9haXIiO2lmKGIuaU9TKWIuY3NzQ2xhc3M9Yi5jc3NDbGFzcysiIGNrZV9icm93c2VyX2lvcyI7aWYoYi5oaWRwaSliLmNzc0NsYXNzPWIuY3NzQ2xhc3MrIiBja2VfaGlkcGkiO3JldHVybiBifSgpKTsKInVubG9hZGVkIj09Q0tFRElUT1Iuc3RhdHVzJiZmdW5jdGlvbigpe0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SKTtDS0VESVRPUi5sb2FkRnVsbENvcmU9ZnVuY3Rpb24oKXtpZihDS0VESVRPUi5zdGF0dXMhPSJiYXNpY19yZWFkeSIpQ0tFRElUT1IubG9hZEZ1bGxDb3JlLl9sb2FkPTE7ZWxzZXtkZWxldGUgQ0tFRElUT1IubG9hZEZ1bGxDb3JlO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2EudHlwZT0idGV4dC9qYXZhc2NyaXB0IjthLnNyYz1DS0VESVRPUi5iYXNlUGF0aCsiY2tlZGl0b3IuanMiO2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQoYSl9fTtDS0VESVRPUi5sb2FkRnVsbENvcmVUaW1lb3V0PTA7Q0tFRElUT1IuYWRkPWZ1bmN0aW9uKGEpeyh0aGlzLl8ucGVuZGluZ3x8KHRoaXMuXy5wZW5kaW5nPVtdKSkucHVzaChhKX07KGZ1bmN0aW9uKCl7Q0tFRElUT1IuZG9tUmVhZHkoZnVuY3Rpb24oKXt2YXIgYT0KQ0tFRElUT1IubG9hZEZ1bGxDb3JlLGU9Q0tFRElUT1IubG9hZEZ1bGxDb3JlVGltZW91dDtpZihhKXtDS0VESVRPUi5zdGF0dXM9ImJhc2ljX3JlYWR5IjthJiZhLl9sb2FkP2EoKTplJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Q0tFRElUT1IubG9hZEZ1bGxDb3JlJiZDS0VESVRPUi5sb2FkRnVsbENvcmUoKX0sZSoxRTMpfX0pfSkoKTtDS0VESVRPUi5zdGF0dXM9ImJhc2ljX2xvYWRlZCJ9KCk7Q0tFRElUT1IuZG9tPXt9OwooZnVuY3Rpb24oKXt2YXIgYT1bXSxlPUNLRURJVE9SLmVudi5nZWNrbz8iLW1vei0iOkNLRURJVE9SLmVudi53ZWJraXQ\/Ii13ZWJraXQtIjpDS0VESVRPUi5lbnYub3BlcmE\/Ii1vLSI6Q0tFRElUT1IuZW52LmllPyItbXMtIjoiIjtDS0VESVRPUi5vbigicmVzZXQiLGZ1bmN0aW9uKCl7YT1bXX0pO0NLRURJVE9SLnRvb2xzPXthcnJheUNvbXBhcmU6ZnVuY3Rpb24oYixhKXtpZighYiYmIWEpcmV0dXJuIHRydWU7aWYoIWJ8fCFhfHxiLmxlbmd0aCE9YS5sZW5ndGgpcmV0dXJuIGZhbHNlO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKWlmKGJbZF0hPWFbZF0pcmV0dXJuIGZhbHNlO3JldHVybiB0cnVlfSxjbG9uZTpmdW5jdGlvbihiKXt2YXIgYTtpZihiJiZiIGluc3RhbmNlb2YgQXJyYXkpe2E9W107Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspYVtkXT1DS0VESVRPUi50b29scy5jbG9uZShiW2RdKTtyZXR1cm4gYX1pZihiPT09bnVsbHx8dHlwZW9mIGIhPSJvYmplY3QifHwKYiBpbnN0YW5jZW9mIFN0cmluZ3x8YiBpbnN0YW5jZW9mIE51bWJlcnx8YiBpbnN0YW5jZW9mIEJvb2xlYW58fGIgaW5zdGFuY2VvZiBEYXRlfHxiIGluc3RhbmNlb2YgUmVnRXhwKXJldHVybiBiO2E9bmV3IGIuY29uc3RydWN0b3I7Zm9yKGQgaW4gYilhW2RdPUNLRURJVE9SLnRvb2xzLmNsb25lKGJbZF0pO3JldHVybiBhfSxjYXBpdGFsaXplOmZ1bmN0aW9uKGIsYSl7cmV0dXJuIGIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrKGE\/Yi5zbGljZSgxKTpiLnNsaWNlKDEpLnRvTG93ZXJDYXNlKCkpfSxleHRlbmQ6ZnVuY3Rpb24oYil7dmFyIGE9YXJndW1lbnRzLmxlbmd0aCxkLGg7aWYodHlwZW9mKGQ9YXJndW1lbnRzW2EtMV0pPT0iYm9vbGVhbiIpYS0tO2Vsc2UgaWYodHlwZW9mKGQ9YXJndW1lbnRzW2EtMl0pPT0iYm9vbGVhbiIpe2g9YXJndW1lbnRzW2EtMV07YT1hLTJ9Zm9yKHZhciBlPTE7ZTxhO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdLGk7Zm9yKGkgaW4gbilpZihkPT09CnRydWV8fGJbaV09PXZvaWQgMClpZighaHx8aSBpbiBoKWJbaV09bltpXX1yZXR1cm4gYn0scHJvdG90eXBlZENvcHk6ZnVuY3Rpb24oYil7dmFyIGE9ZnVuY3Rpb24oKXt9O2EucHJvdG90eXBlPWI7cmV0dXJuIG5ldyBhfSxjb3B5OmZ1bmN0aW9uKGIpe3ZhciBhPXt9LGQ7Zm9yKGQgaW4gYilhW2RdPWJbZF07cmV0dXJuIGF9LGlzQXJyYXk6ZnVuY3Rpb24oYil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChiKT09IltvYmplY3QgQXJyYXldIn0saXNFbXB0eTpmdW5jdGlvbihiKXtmb3IodmFyIGEgaW4gYilpZihiLmhhc093blByb3BlcnR5KGEpKXJldHVybiBmYWxzZTtyZXR1cm4gdHJ1ZX0sY3NzVmVuZG9yUHJlZml4OmZ1bmN0aW9uKGIsYSxkKXtpZihkKXJldHVybiBlK2IrIjoiK2ErIjsiK2IrIjoiK2E7ZD17fTtkW2JdPWE7ZFtlK2JdPWE7cmV0dXJuIGR9LGNzc1N0eWxlVG9Eb21TdHlsZTpmdW5jdGlvbigpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLAphPXR5cGVvZiBiLmNzc0Zsb2F0IT0idW5kZWZpbmVkIj8iY3NzRmxvYXQiOnR5cGVvZiBiLnN0eWxlRmxvYXQhPSJ1bmRlZmluZWQiPyJzdHlsZUZsb2F0IjoiZmxvYXQiO3JldHVybiBmdW5jdGlvbihkKXtyZXR1cm4gZD09ImZsb2F0Ij9hOmQucmVwbGFjZSgvLS4vZyxmdW5jdGlvbihkKXtyZXR1cm4gZC5zdWJzdHIoMSkudG9VcHBlckNhc2UoKX0pfX0oKSxidWlsZFN0eWxlSHRtbDpmdW5jdGlvbihiKXtmb3IodmFyIGI9W10uY29uY2F0KGIpLGEsZD1bXSxoPTA7aDxiLmxlbmd0aDtoKyspaWYoYT1iW2hdKS9AaW1wb3J0fFt7fV0vLnRlc3QoYSk\/ZC5wdXNoKCI8c3R5bGU+IithKyI8L3N0eWxlPiIpOmQucHVzaCgnPGxpbmsgdHlwZT0idGV4dC9jc3MiIHJlbD1zdHlsZXNoZWV0IGhyZWY9IicrYSsnIj4nKTtyZXR1cm4gZC5qb2luKCIiKX0saHRtbEVuY29kZTpmdW5jdGlvbihiKXtyZXR1cm4oIiIrYikucmVwbGFjZSgvJi9nLCImYW1wOyIpLnJlcGxhY2UoLz4vZywiJmd0OyIpLnJlcGxhY2UoLzwvZywKIiZsdDsiKX0saHRtbEVuY29kZUF0dHI6ZnVuY3Rpb24oYil7cmV0dXJuIGIucmVwbGFjZSgvIi9nLCImcXVvdDsiKS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC8+L2csIiZndDsiKX0saHRtbERlY29kZUF0dHI6ZnVuY3Rpb24oYil7cmV0dXJuIGIucmVwbGFjZSgvJnF1b3Q7L2csJyInKS5yZXBsYWNlKC8mbHQ7L2csIjwiKS5yZXBsYWNlKC8mZ3Q7L2csIj4iKX0sZ2V0TmV4dE51bWJlcjpmdW5jdGlvbigpe3ZhciBiPTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuKytifX0oKSxnZXROZXh0SWQ6ZnVuY3Rpb24oKXtyZXR1cm4iY2tlXyIrdGhpcy5nZXROZXh0TnVtYmVyKCl9LG92ZXJyaWRlOmZ1bmN0aW9uKGIsYSl7dmFyIGQ9YShiKTtkLnByb3RvdHlwZT1iLnByb3RvdHlwZTtyZXR1cm4gZH0sc2V0VGltZW91dDpmdW5jdGlvbihiLGEsZCxoLGUpe2V8fChlPXdpbmRvdyk7ZHx8KGQ9ZSk7cmV0dXJuIGUuc2V0VGltZW91dChmdW5jdGlvbigpe2g\/Yi5hcHBseShkLFtdLmNvbmNhdChoKSk6CmIuYXBwbHkoZCl9LGF8fDApfSx0cmltOmZ1bmN0aW9uKCl7dmFyIGI9Lyg\/Ol5bIFx0XG5ccl0rKXwoPzpbIFx0XG5ccl0rJCkvZztyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShiLCIiKX19KCksbHRyaW06ZnVuY3Rpb24oKXt2YXIgYj0vXlsgXHRcblxyXSsvZztyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShiLCIiKX19KCkscnRyaW06ZnVuY3Rpb24oKXt2YXIgYj0vWyBcdFxuXHJdKyQvZztyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShiLCIiKX19KCksaW5kZXhPZjpmdW5jdGlvbihiLGEpe2lmKHR5cGVvZiBhPT0iZnVuY3Rpb24iKWZvcih2YXIgZD0wLGg9Yi5sZW5ndGg7ZDxoO2QrKyl7aWYoYShiW2RdKSlyZXR1cm4gZH1lbHNle2lmKGIuaW5kZXhPZilyZXR1cm4gYi5pbmRleE9mKGEpO2Q9MDtmb3IoaD1iLmxlbmd0aDtkPGg7ZCsrKWlmKGJbZF09PT1hKXJldHVybiBkfXJldHVybi0xfSxzZWFyY2g6ZnVuY3Rpb24oYiwKYSl7dmFyIGQ9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihiLGEpO3JldHVybiBkPj0wP2JbZF06bnVsbH0sYmluZDpmdW5jdGlvbihiLGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiLmFwcGx5KGEsYXJndW1lbnRzKX19LGNyZWF0ZUNsYXNzOmZ1bmN0aW9uKGIpe3ZhciBhPWIuJCxkPWIuYmFzZSxoPWIucHJpdmF0ZXN8fGIuXyxlPWIucHJvdG8sYj1iLnN0YXRpY3M7IWEmJihhPWZ1bmN0aW9uKCl7ZCYmdGhpcy5iYXNlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO2lmKGgpdmFyIG49YSxhPWZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5ffHwodGhpcy5fPXt9KSxhO2ZvcihhIGluIGgpe3ZhciBiPWhbYV07ZFthXT10eXBlb2YgYj09ImZ1bmN0aW9uIj9DS0VESVRPUi50b29scy5iaW5kKGIsdGhpcyk6Yn1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07aWYoZCl7YS5wcm90b3R5cGU9dGhpcy5wcm90b3R5cGVkQ29weShkLnByb3RvdHlwZSk7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLmJhc2U9CmQ7YS5iYXNlUHJvdG89ZC5wcm90b3R5cGU7YS5wcm90b3R5cGUuYmFzZT1mdW5jdGlvbigpe3RoaXMuYmFzZT1kLnByb3RvdHlwZS5iYXNlO2QuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuYmFzZT1hcmd1bWVudHMuY2FsbGVlfX1lJiZ0aGlzLmV4dGVuZChhLnByb3RvdHlwZSxlLHRydWUpO2ImJnRoaXMuZXh0ZW5kKGEsYix0cnVlKTtyZXR1cm4gYX0sYWRkRnVuY3Rpb246ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5wdXNoKGZ1bmN0aW9uKCl7cmV0dXJuIGIuYXBwbHkoY3x8dGhpcyxhcmd1bWVudHMpfSktMX0scmVtb3ZlRnVuY3Rpb246ZnVuY3Rpb24oYil7YVtiXT1udWxsfSxjYWxsRnVuY3Rpb246ZnVuY3Rpb24oYil7dmFyIGM9YVtiXTtyZXR1cm4gYyYmYy5hcHBseSh3aW5kb3csQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKX0sY3NzTGVuZ3RoOmZ1bmN0aW9uKCl7dmFyIGE9L14tP1xkK1wuP1xkKnB4JC8sYztyZXR1cm4gZnVuY3Rpb24oZCl7Yz0KQ0tFRElUT1IudG9vbHMudHJpbShkKyIiKSsicHgiO3JldHVybiBhLnRlc3QoYyk\/YzpkfHwiIn19KCksY29udmVydFRvUHg6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gZnVuY3Rpb24oYyl7aWYoIWEpe2E9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJzxkaXYgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTlweDt0b3A6LTk5OTlweDttYXJnaW46MHB4O3BhZGRpbmc6MHB4O2JvcmRlcjowcHg7Ij48L2Rpdj4nLENLRURJVE9SLmRvY3VtZW50KTtDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYXBwZW5kKGEpfWlmKCEvJSQvLnRlc3QoYykpe2Euc2V0U3R5bGUoIndpZHRoIixjKTtyZXR1cm4gYS4kLmNsaWVudFdpZHRofXJldHVybiBjfX0oKSxyZXBlYXQ6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gQXJyYXkoYysxKS5qb2luKGEpfSx0cnlUaGVzZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxjPTAsZD1hcmd1bWVudHMubGVuZ3RoO2M8ZDtjKyspe3ZhciBoPQphcmd1bWVudHNbY107dHJ5e2E9aCgpO2JyZWFrfWNhdGNoKGUpe319cmV0dXJuIGF9LGdlbktleTpmdW5jdGlvbigpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oIi0iKX0sZGVmZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9YXJndW1lbnRzLGQ9dGhpczt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EuYXBwbHkoZCxjKX0sMCl9fSxub3JtYWxpemVDc3NUZXh0OmZ1bmN0aW9uKGEsYyl7dmFyIGQ9W10saCxlPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChhLHRydWUsYyk7Zm9yKGggaW4gZSlkLnB1c2goaCsiOiIrZVtoXSk7ZC5zb3J0KCk7cmV0dXJuIGQubGVuZ3RoP2Quam9pbigiOyIpKyI7IjoiIn0sY29udmVydFJnYlRvSGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyg\/OnJnYlwoXHMqKFxkKylccyosXHMqKFxkKylccyosXHMqKFxkKylccypcKSkvZ2ksZnVuY3Rpb24oYSxkLGIsZSl7YT0KW2QsYixlXTtmb3IoZD0wO2Q8MztkKyspYVtkXT0oIjAiK3BhcnNlSW50KGFbZF0sMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO3JldHVybiIjIithLmpvaW4oIiIpfSl9LHBhcnNlQ3NzVGV4dDpmdW5jdGlvbihhLGMsZCl7dmFyIGg9e307aWYoZCl7ZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoInNwYW4iKTtkLnNldEF0dHJpYnV0ZSgic3R5bGUiLGEpO2E9Q0tFRElUT1IudG9vbHMuY29udmVydFJnYlRvSGV4KGQuZ2V0QXR0cmlidXRlKCJzdHlsZSIpfHwiIil9aWYoIWF8fGE9PSI7IilyZXR1cm4gaDthLnJlcGxhY2UoLyZxdW90Oy9nLCciJykucmVwbGFjZSgvXHMqKFteOjtcc10rKVxzKjpccyooW147XSspXHMqKD89O3wkKS9nLGZ1bmN0aW9uKGEsZCxiKXtpZihjKXtkPWQudG9Mb3dlckNhc2UoKTtkPT0iZm9udC1mYW1pbHkiJiYoYj1iLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWyInXS9nLCIiKS5yZXBsYWNlKC9ccyosXHMqL2csIiwiKSk7Yj1DS0VESVRPUi50b29scy50cmltKGIpfWhbZF09CmJ9KTtyZXR1cm4gaH0sd3JpdGVDc3NUZXh0OmZ1bmN0aW9uKGEsYyl7dmFyIGQsaD1bXTtmb3IoZCBpbiBhKWgucHVzaChkKyI6IithW2RdKTtjJiZoLnNvcnQoKTtyZXR1cm4gaC5qb2luKCI7ICIpfSxvYmplY3RDb21wYXJlOmZ1bmN0aW9uKGEsYyxkKXt2YXIgaDtpZighYSYmIWMpcmV0dXJuIHRydWU7aWYoIWF8fCFjKXJldHVybiBmYWxzZTtmb3IoaCBpbiBhKWlmKGFbaF0hPWNbaF0pcmV0dXJuIGZhbHNlO2lmKCFkKWZvcihoIGluIGMpaWYoYVtoXSE9Y1toXSlyZXR1cm4gZmFsc2U7cmV0dXJuIHRydWV9LG9iamVjdEtleXM6ZnVuY3Rpb24oYSl7dmFyIGM9W10sZDtmb3IoZCBpbiBhKWMucHVzaChkKTtyZXR1cm4gY30sY29udmVydEFycmF5VG9PYmplY3Q6ZnVuY3Rpb24oYSxjKXt2YXIgZD17fTthcmd1bWVudHMubGVuZ3RoPT0xJiYoYz10cnVlKTtmb3IodmFyIGg9MCxlPWEubGVuZ3RoO2g8ZTsrK2gpZFthW2hdXT1jO3JldHVybiBkfSxmaXhEb21haW46ZnVuY3Rpb24oKXtmb3IodmFyIGE7Oyl0cnl7YT0Kd2luZG93LnBhcmVudC5kb2N1bWVudC5kb21haW47YnJlYWt9Y2F0Y2goYyl7YT1hP2EucmVwbGFjZSgvLis\/KD86XC58JCkvLCIiKTpkb2N1bWVudC5kb21haW47aWYoIWEpYnJlYWs7ZG9jdW1lbnQuZG9tYWluPWF9cmV0dXJuISFhfSxldmVudHNCdWZmZXI6ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKCl7ZT0obmV3IERhdGUpLmdldFRpbWUoKTtoPWZhbHNlO2MoKX12YXIgaCxlPTA7cmV0dXJue2lucHV0OmZ1bmN0aW9uKCl7aWYoIWgpe3ZhciBjPShuZXcgRGF0ZSkuZ2V0VGltZSgpLWU7YzxhP2g9c2V0VGltZW91dChkLGEtYyk6ZCgpfX0scmVzZXQ6ZnVuY3Rpb24oKXtoJiZjbGVhclRpbWVvdXQoaCk7aD1lPTB9fX0sZW5hYmxlSHRtbDVFbGVtZW50czpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZD1bImFiYnIiLCJhcnRpY2xlIiwiYXNpZGUiLCJhdWRpbyIsImJkaSIsImNhbnZhcyIsImRhdGEiLCJkYXRhbGlzdCIsImRldGFpbHMiLCJmaWdjYXB0aW9uIiwiZmlndXJlIiwiZm9vdGVyIiwKImhlYWRlciIsImhncm91cCIsIm1hcmsiLCJtZXRlciIsIm5hdiIsIm91dHB1dCIsInByb2dyZXNzIiwic2VjdGlvbiIsInN1bW1hcnkiLCJ0aW1lIiwidmlkZW8iXSxoPWQubGVuZ3RoLGU7aC0tOyl7ZT1hLmNyZWF0ZUVsZW1lbnQoZFtoXSk7YyYmYS5hcHBlbmRDaGlsZChlKX19fX0pKCk7CkNLRURJVE9SLmR0ZD1mdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmV4dGVuZCxlPWZ1bmN0aW9uKGEsZCl7Zm9yKHZhciBiPUNLRURJVE9SLnRvb2xzLmNsb25lKGEpLGg9MTtoPGFyZ3VtZW50cy5sZW5ndGg7aCsrKXt2YXIgZD1hcmd1bWVudHNbaF0sYztmb3IoYyBpbiBkKWRlbGV0ZSBiW2NdfXJldHVybiBifSxiPXt9LGM9e30sZD17YWRkcmVzczoxLGFydGljbGU6MSxhc2lkZToxLGJsb2NrcXVvdGU6MSxkZXRhaWxzOjEsZGl2OjEsZGw6MSxmaWVsZHNldDoxLGZpZ3VyZToxLGZvb3RlcjoxLGZvcm06MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MSxoZWFkZXI6MSxoZ3JvdXA6MSxocjoxLG1lbnU6MSxuYXY6MSxvbDoxLHA6MSxwcmU6MSxzZWN0aW9uOjEsdGFibGU6MSx1bDoxfSxoPXtjb21tYW5kOjEsbGluazoxLG1ldGE6MSxub3NjcmlwdDoxLHNjcmlwdDoxLHN0eWxlOjF9LGc9e30sbj17IiMiOjF9LGk9e2NlbnRlcjoxLGRpcjoxLG5vZnJhbWVzOjF9OwphKGIse2E6MSxhYmJyOjEsYXJlYToxLGF1ZGlvOjEsYjoxLGJkaToxLGJkbzoxLGJyOjEsYnV0dG9uOjEsY2FudmFzOjEsY2l0ZToxLGNvZGU6MSxjb21tYW5kOjEsZGF0YWxpc3Q6MSxkZWw6MSxkZm46MSxlbToxLGVtYmVkOjEsaToxLGlmcmFtZToxLGltZzoxLGlucHV0OjEsaW5zOjEsa2JkOjEsa2V5Z2VuOjEsbGFiZWw6MSxtYXA6MSxtYXJrOjEsbWV0ZXI6MSxub3NjcmlwdDoxLG9iamVjdDoxLG91dHB1dDoxLHByb2dyZXNzOjEscToxLHJ1Ynk6MSxzOjEsc2FtcDoxLHNjcmlwdDoxLHNlbGVjdDoxLHNtYWxsOjEsc3BhbjoxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHRleHRhcmVhOjEsdGltZToxLHU6MSwidmFyIjoxLHZpZGVvOjEsd2JyOjF9LG4se2Fjcm9ueW06MSxhcHBsZXQ6MSxiYXNlZm9udDoxLGJpZzoxLGZvbnQ6MSxpc2luZGV4OjEsc3RyaWtlOjEsc3R5bGU6MSx0dDoxfSk7YShjLGQsYixpKTtlPXthOmUoYix7YToxLGJ1dHRvbjoxfSksYWJicjpiLGFkZHJlc3M6YywKYXJlYTpnLGFydGljbGU6YSh7c3R5bGU6MX0sYyksYXNpZGU6YSh7c3R5bGU6MX0sYyksYXVkaW86YSh7c291cmNlOjEsdHJhY2s6MX0sYyksYjpiLGJhc2U6ZyxiZGk6YixiZG86YixibG9ja3F1b3RlOmMsYm9keTpjLGJyOmcsYnV0dG9uOmUoYix7YToxLGJ1dHRvbjoxfSksY2FudmFzOmIsY2FwdGlvbjpjLGNpdGU6Yixjb2RlOmIsY29sOmcsY29sZ3JvdXA6e2NvbDoxfSxjb21tYW5kOmcsZGF0YWxpc3Q6YSh7b3B0aW9uOjF9LGIpLGRkOmMsZGVsOmIsZGV0YWlsczphKHtzdW1tYXJ5OjF9LGMpLGRmbjpiLGRpdjphKHtzdHlsZToxfSxjKSxkbDp7ZHQ6MSxkZDoxfSxkdDpjLGVtOmIsZW1iZWQ6ZyxmaWVsZHNldDphKHtsZWdlbmQ6MX0sYyksZmlnY2FwdGlvbjpjLGZpZ3VyZTphKHtmaWdjYXB0aW9uOjF9LGMpLGZvb3RlcjpjLGZvcm06YyxoMTpiLGgyOmIsaDM6YixoNDpiLGg1OmIsaDY6YixoZWFkOmEoe3RpdGxlOjEsYmFzZToxfSxoKSxoZWFkZXI6YyxoZ3JvdXA6e2gxOjEsCmgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MX0saHI6ZyxodG1sOmEoe2hlYWQ6MSxib2R5OjF9LGMsaCksaTpiLGlmcmFtZTpuLGltZzpnLGlucHV0OmcsaW5zOmIsa2JkOmIsa2V5Z2VuOmcsbGFiZWw6YixsZWdlbmQ6YixsaTpjLGxpbms6ZyxtYXA6YyxtYXJrOmIsbWVudTphKHtsaToxfSxjKSxtZXRhOmcsbWV0ZXI6ZShiLHttZXRlcjoxfSksbmF2OmMsbm9zY3JpcHQ6YSh7bGluazoxLG1ldGE6MSxzdHlsZToxfSxiKSxvYmplY3Q6YSh7cGFyYW06MX0sYiksb2w6e2xpOjF9LG9wdGdyb3VwOntvcHRpb246MX0sb3B0aW9uOm4sb3V0cHV0OmIscDpiLHBhcmFtOmcscHJlOmIscHJvZ3Jlc3M6ZShiLHtwcm9ncmVzczoxfSkscTpiLHJwOmIscnQ6YixydWJ5OmEoe3JwOjEscnQ6MX0sYiksczpiLHNhbXA6YixzY3JpcHQ6bixzZWN0aW9uOmEoe3N0eWxlOjF9LGMpLHNlbGVjdDp7b3B0Z3JvdXA6MSxvcHRpb246MX0sc21hbGw6Yixzb3VyY2U6ZyxzcGFuOmIsc3Ryb25nOmIsc3R5bGU6biwKc3ViOmIsc3VtbWFyeTpiLHN1cDpiLHRhYmxlOntjYXB0aW9uOjEsY29sZ3JvdXA6MSx0aGVhZDoxLHRmb290OjEsdGJvZHk6MSx0cjoxfSx0Ym9keTp7dHI6MX0sdGQ6Yyx0ZXh0YXJlYTpuLHRmb290Ont0cjoxfSx0aDpjLHRoZWFkOnt0cjoxfSx0aW1lOmUoYix7dGltZToxfSksdGl0bGU6bix0cjp7dGg6MSx0ZDoxfSx0cmFjazpnLHU6Yix1bDp7bGk6MX0sInZhciI6Yix2aWRlbzphKHtzb3VyY2U6MSx0cmFjazoxfSxjKSx3YnI6ZyxhY3JvbnltOmIsYXBwbGV0OmEoe3BhcmFtOjF9LGMpLGJhc2Vmb250OmcsYmlnOmIsY2VudGVyOmMsZGlhbG9nOmcsZGlyOntsaToxfSxmb250OmIsaXNpbmRleDpnLG5vZnJhbWVzOmMsc3RyaWtlOmIsdHQ6Yn07YShlLHskYmxvY2s6YSh7YXVkaW86MSxkZDoxLGR0OjEsZmlnY2FwdGlvbjoxLGxpOjEsdmlkZW86MX0sZCxpKSwkYmxvY2tMaW1pdDp7YXJ0aWNsZToxLGFzaWRlOjEsYXVkaW86MSxib2R5OjEsY2FwdGlvbjoxLGRldGFpbHM6MSxkaXI6MSwKZGl2OjEsZGw6MSxmaWVsZHNldDoxLGZpZ2NhcHRpb246MSxmaWd1cmU6MSxmb290ZXI6MSxmb3JtOjEsaGVhZGVyOjEsaGdyb3VwOjEsbWVudToxLG5hdjoxLG9sOjEsc2VjdGlvbjoxLHRhYmxlOjEsdGQ6MSx0aDoxLHRyOjEsdWw6MSx2aWRlbzoxfSwkY2RhdGE6e3NjcmlwdDoxLHN0eWxlOjF9LCRlZGl0YWJsZTp7YWRkcmVzczoxLGFydGljbGU6MSxhc2lkZToxLGJsb2NrcXVvdGU6MSxib2R5OjEsZGV0YWlsczoxLGRpdjoxLGZpZWxkc2V0OjEsZmlnY2FwdGlvbjoxLGZvb3RlcjoxLGZvcm06MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MSxoZWFkZXI6MSxoZ3JvdXA6MSxuYXY6MSxwOjEscHJlOjEsc2VjdGlvbjoxfSwkZW1wdHk6e2FyZWE6MSxiYXNlOjEsYmFzZWZvbnQ6MSxicjoxLGNvbDoxLGNvbW1hbmQ6MSxkaWFsb2c6MSxlbWJlZDoxLGhyOjEsaW1nOjEsaW5wdXQ6MSxpc2luZGV4OjEsa2V5Z2VuOjEsbGluazoxLG1ldGE6MSxwYXJhbToxLHNvdXJjZToxLHRyYWNrOjEsCndicjoxfSwkaW5saW5lOmIsJGxpc3Q6e2RsOjEsb2w6MSx1bDoxfSwkbGlzdEl0ZW06e2RkOjEsZHQ6MSxsaToxfSwkbm9uQm9keUNvbnRlbnQ6YSh7Ym9keToxLGhlYWQ6MSxodG1sOjF9LGUuaGVhZCksJG5vbkVkaXRhYmxlOnthcHBsZXQ6MSxhdWRpbzoxLGJ1dHRvbjoxLGVtYmVkOjEsaWZyYW1lOjEsbWFwOjEsb2JqZWN0OjEsb3B0aW9uOjEscGFyYW06MSxzY3JpcHQ6MSx0ZXh0YXJlYToxLHZpZGVvOjF9LCRvYmplY3Q6e2FwcGxldDoxLGF1ZGlvOjEsYnV0dG9uOjEsaHI6MSxpZnJhbWU6MSxpbWc6MSxpbnB1dDoxLG9iamVjdDoxLHNlbGVjdDoxLHRhYmxlOjEsdGV4dGFyZWE6MSx2aWRlbzoxfSwkcmVtb3ZlRW1wdHk6e2FiYnI6MSxhY3JvbnltOjEsYjoxLGJkaToxLGJkbzoxLGJpZzoxLGNpdGU6MSxjb2RlOjEsZGVsOjEsZGZuOjEsZW06MSxmb250OjEsaToxLGluczoxLGxhYmVsOjEsa2JkOjEsbWFyazoxLG1ldGVyOjEsb3V0cHV0OjEscToxLHJ1Ynk6MSxzOjEsc2FtcDoxLApzbWFsbDoxLHNwYW46MSxzdHJpa2U6MSxzdHJvbmc6MSxzdWI6MSxzdXA6MSx0aW1lOjEsdHQ6MSx1OjEsInZhciI6MX0sJHRhYkluZGV4OnthOjEsYXJlYToxLGJ1dHRvbjoxLGlucHV0OjEsb2JqZWN0OjEsc2VsZWN0OjEsdGV4dGFyZWE6MX0sJHRhYmxlQ29udGVudDp7Y2FwdGlvbjoxLGNvbDoxLGNvbGdyb3VwOjEsdGJvZHk6MSx0ZDoxLHRmb290OjEsdGg6MSx0aGVhZDoxLHRyOjF9LCR0cmFuc3BhcmVudDp7YToxLGF1ZGlvOjEsY2FudmFzOjEsZGVsOjEsaW5zOjEsbWFwOjEsbm9zY3JpcHQ6MSxvYmplY3Q6MSx2aWRlbzoxfSwkaW50ZXJtZWRpYXRlOntjYXB0aW9uOjEsY29sZ3JvdXA6MSxkZDoxLGR0OjEsZmlnY2FwdGlvbjoxLGxlZ2VuZDoxLGxpOjEsb3B0Z3JvdXA6MSxvcHRpb246MSxycDoxLHJ0OjEsc3VtbWFyeToxLHRib2R5OjEsdGQ6MSx0Zm9vdDoxLHRoOjEsdGhlYWQ6MSx0cjoxfX0pO3JldHVybiBlfSgpOwpDS0VESVRPUi5kb20uZXZlbnQ9ZnVuY3Rpb24oYSl7dGhpcy4kPWF9OwpDS0VESVRPUi5kb20uZXZlbnQucHJvdG90eXBlPXtnZXRLZXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmtleUNvZGV8fHRoaXMuJC53aGljaH0sZ2V0S2V5c3Ryb2tlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRLZXkoKTtpZih0aGlzLiQuY3RybEtleXx8dGhpcy4kLm1ldGFLZXkpYT1hK0NLRURJVE9SLkNUUkw7dGhpcy4kLnNoaWZ0S2V5JiYoYT1hK0NLRURJVE9SLlNISUZUKTt0aGlzLiQuYWx0S2V5JiYoYT1hK0NLRURJVE9SLkFMVCk7cmV0dXJuIGF9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuJDtlLnByZXZlbnREZWZhdWx0P2UucHJldmVudERlZmF1bHQoKTplLnJldHVyblZhbHVlPWZhbHNlO2EmJnRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDthLnN0b3BQcm9wYWdhdGlvbj9hLnN0b3BQcm9wYWdhdGlvbigpOmEuY2FuY2VsQnViYmxlPXRydWV9LGdldFRhcmdldDpmdW5jdGlvbigpe3ZhciBhPQp0aGlzLiQudGFyZ2V0fHx0aGlzLiQuc3JjRWxlbWVudDtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYSk6bnVsbH0sZ2V0UGhhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmV2ZW50UGhhc2V8fDJ9LGdldFBhZ2VPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFRhcmdldCgpLmdldERvY3VtZW50KCkuJDtyZXR1cm57eDp0aGlzLiQucGFnZVh8fHRoaXMuJC5jbGllbnRYKyhhLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxhLmJvZHkuc2Nyb2xsTGVmdCkseTp0aGlzLiQucGFnZVl8fHRoaXMuJC5jbGllbnRZKyhhLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGEuYm9keS5zY3JvbGxUb3ApfX19O0NLRURJVE9SLkNUUkw9MTExNDExMjtDS0VESVRPUi5TSElGVD0yMjI4MjI0O0NLRURJVE9SLkFMVD00NDU2NDQ4O0NLRURJVE9SLkVWRU5UX1BIQVNFX0NBUFRVUklORz0xO0NLRURJVE9SLkVWRU5UX1BIQVNFX0FUX1RBUkdFVD0yOwpDS0VESVRPUi5FVkVOVF9QSEFTRV9CVUJCTElORz0zO0NLRURJVE9SLmRvbS5kb21PYmplY3Q9ZnVuY3Rpb24oYSl7aWYoYSl0aGlzLiQ9YX07CkNLRURJVE9SLmRvbS5kb21PYmplY3QucHJvdG90eXBlPWZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7dHlwZW9mIENLRURJVE9SIT0idW5kZWZpbmVkIiYmYS5maXJlKGIsbmV3IENLRURJVE9SLmRvbS5ldmVudChjKSl9fTtyZXR1cm57Z2V0UHJpdmF0ZTpmdW5jdGlvbigpe3ZhciBhO2lmKCEoYT10aGlzLmdldEN1c3RvbURhdGEoIl8iKSkpdGhpcy5zZXRDdXN0b21EYXRhKCJfIixhPXt9KTtyZXR1cm4gYX0sb246ZnVuY3Rpb24oZSl7dmFyIGI9dGhpcy5nZXRDdXN0b21EYXRhKCJfY2tlX25hdGl2ZUxpc3RlbmVycyIpO2lmKCFiKXtiPXt9O3RoaXMuc2V0Q3VzdG9tRGF0YSgiX2NrZV9uYXRpdmVMaXN0ZW5lcnMiLGIpfWlmKCFiW2VdKXtiPWJbZV09YSh0aGlzLGUpO3RoaXMuJC5hZGRFdmVudExpc3RlbmVyP3RoaXMuJC5hZGRFdmVudExpc3RlbmVyKGUsYiwhIUNLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmUpOnRoaXMuJC5hdHRhY2hFdmVudCYmCnRoaXMuJC5hdHRhY2hFdmVudCgib24iK2UsYil9cmV0dXJuIENLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5vbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHJlbW92ZUxpc3RlbmVyOmZ1bmN0aW9uKGEpe0NLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIXRoaXMuaGFzTGlzdGVuZXJzKGEpKXt2YXIgYj10aGlzLmdldEN1c3RvbURhdGEoIl9ja2VfbmF0aXZlTGlzdGVuZXJzIiksYz1iJiZiW2FdO2lmKGMpe3RoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyP3RoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYyxmYWxzZSk6dGhpcy4kLmRldGFjaEV2ZW50JiZ0aGlzLiQuZGV0YWNoRXZlbnQoIm9uIithLGMpO2RlbGV0ZSBiW2FdfX19LHJlbW92ZUFsbExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VzdG9tRGF0YSgiX2NrZV9uYXRpdmVMaXN0ZW5lcnMiKSxiO2ZvcihiIGluIGEpe3ZhciBjPWFbYl07dGhpcy4kLmRldGFjaEV2ZW50Pwp0aGlzLiQuZGV0YWNoRXZlbnQoIm9uIitiLGMpOnRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyJiZ0aGlzLiQucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMsZmFsc2UpO2RlbGV0ZSBhW2JdfX19fSgpOwooZnVuY3Rpb24oYSl7dmFyIGU9e307Q0tFRElUT1Iub24oInJlc2V0IixmdW5jdGlvbigpe2U9e319KTthLmVxdWFscz1mdW5jdGlvbihhKXt0cnl7cmV0dXJuIGEmJmEuJD09PXRoaXMuJH1jYXRjaChjKXtyZXR1cm4gZmFsc2V9fTthLnNldEN1c3RvbURhdGE9ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLmdldFVuaXF1ZUlkKCk7KGVbZF18fChlW2RdPXt9KSlbYV09YztyZXR1cm4gdGhpc307YS5nZXRDdXN0b21EYXRhPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuJFsiZGF0YS1ja2UtZXhwYW5kbyJdO3JldHVybihjPWMmJmVbY10pJiZhIGluIGM\/Y1thXTpudWxsfTthLnJlbW92ZUN1c3RvbURhdGE9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy4kWyJkYXRhLWNrZS1leHBhbmRvIl0sYz1jJiZlW2NdLGQsaDtpZihjKXtkPWNbYV07aD1hIGluIGM7ZGVsZXRlIGNbYV19cmV0dXJuIGg\/ZDpudWxsfTthLmNsZWFyQ3VzdG9tRGF0YT1mdW5jdGlvbigpe3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7CnZhciBhPXRoaXMuJFsiZGF0YS1ja2UtZXhwYW5kbyJdO2EmJmRlbGV0ZSBlW2FdfTthLmdldFVuaXF1ZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJFsiZGF0YS1ja2UtZXhwYW5kbyJdfHwodGhpcy4kWyJkYXRhLWNrZS1leHBhbmRvIl09Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpKX07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oYSl9KShDS0VESVRPUi5kb20uZG9tT2JqZWN0LnByb3RvdHlwZSk7CkNLRURJVE9SLmRvbS5ub2RlPWZ1bmN0aW9uKGEpe3JldHVybiBhP25ldyBDS0VESVRPUi5kb21bYS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVD8iZG9jdW1lbnQiOmEubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD8iZWxlbWVudCI6YS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUPyJ0ZXh0IjphLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQ\/ImNvbW1lbnQiOmEubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQ\/ImRvY3VtZW50RnJhZ21lbnQiOiJkb21PYmplY3QiXShhKTp0aGlzfTtDS0VESVRPUi5kb20ubm9kZS5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5kb21PYmplY3Q7Q0tFRElUT1IuTk9ERV9FTEVNRU5UPTE7Q0tFRElUT1IuTk9ERV9ET0NVTUVOVD05O0NLRURJVE9SLk5PREVfVEVYVD0zO0NLRURJVE9SLk5PREVfQ09NTUVOVD04O0NLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQ9MTE7CkNLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTD0wO0NLRURJVE9SLlBPU0lUSU9OX0RJU0NPTk5FQ1RFRD0xO0NLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORz0yO0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORz00O0NLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRD04O0NLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TPTE2OwpDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLm5vZGUucHJvdG90eXBlLHthcHBlbmRUbzpmdW5jdGlvbihhLGUpe2EuYXBwZW5kKHRoaXMsZSk7cmV0dXJuIGF9LGNsb25lOmZ1bmN0aW9uKGEsZSl7dmFyIGI9dGhpcy4kLmNsb25lTm9kZShhKSxjPWZ1bmN0aW9uKGQpe2RbImRhdGEtY2tlLWV4cGFuZG8iXSYmKGRbImRhdGEtY2tlLWV4cGFuZG8iXT1mYWxzZSk7aWYoZC5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtlfHxkLnJlbW92ZUF0dHJpYnV0ZSgiaWQiLGZhbHNlKTtpZihhKWZvcih2YXIgZD1kLmNoaWxkTm9kZXMsYj0wO2I8ZC5sZW5ndGg7YisrKWMoZFtiXSl9fTtjKGIpO3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYil9LGhhc1ByZXZpb3VzOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLiQucHJldmlvdXNTaWJsaW5nfSxoYXNOZXh0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLiQubmV4dFNpYmxpbmd9LGluc2VydEFmdGVyOmZ1bmN0aW9uKGEpe2EuJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLiQsCmEuJC5uZXh0U2libGluZyk7cmV0dXJuIGF9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhKXthLiQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy4kLGEuJCk7cmV0dXJuIGF9LGluc2VydEJlZm9yZU1lOmZ1bmN0aW9uKGEpe3RoaXMuJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLiQsdGhpcy4kKTtyZXR1cm4gYX0sZ2V0QWRkcmVzczpmdW5jdGlvbihhKXtmb3IodmFyIGU9W10sYj10aGlzLmdldERvY3VtZW50KCkuJC5kb2N1bWVudEVsZW1lbnQsYz10aGlzLiQ7YyYmYyE9Yjspe3ZhciBkPWMucGFyZW50Tm9kZTtkJiZlLnVuc2hpZnQodGhpcy5nZXRJbmRleC5jYWxsKHskOmN9LGEpKTtjPWR9cmV0dXJuIGV9LGdldERvY3VtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQodGhpcy4kLm93bmVyRG9jdW1lbnR8fHRoaXMuJC5wYXJlbnROb2RlLm93bmVyRG9jdW1lbnQpfSxnZXRJbmRleDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLiQsYj0tMSwKYztpZighdGhpcy4kLnBhcmVudE5vZGUpcmV0dXJuIGI7ZG8gaWYoIWF8fCEoZSE9dGhpcy4kJiZlLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjfHwhZS5ub2RlVmFsdWUpKSl7YisrO2M9ZS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfXdoaWxlKGU9ZS5wcmV2aW91c1NpYmxpbmcpO3JldHVybiBifSxnZXROZXh0U291cmNlTm9kZTpmdW5jdGlvbihhLGUsYil7aWYoYiYmIWIuY2FsbCl2YXIgYz1iLGI9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuZXF1YWxzKGMpfTt2YXIgYT0hYSYmdGhpcy5nZXRGaXJzdCYmdGhpcy5nZXRGaXJzdCgpLGQ7aWYoIWEpe2lmKHRoaXMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiJiZiKHRoaXMsdHJ1ZSk9PT1mYWxzZSlyZXR1cm4gbnVsbDthPXRoaXMuZ2V0TmV4dCgpfWZvcig7IWEmJihkPShkfHx0aGlzKS5nZXRQYXJlbnQoKSk7KXtpZihiJiZiKGQsdHJ1ZSk9PT1mYWxzZSlyZXR1cm4gbnVsbDthPWQuZ2V0TmV4dCgpfXJldHVybiFhfHwKYiYmYihhKT09PWZhbHNlP251bGw6ZSYmZSE9YS50eXBlP2EuZ2V0TmV4dFNvdXJjZU5vZGUoZmFsc2UsZSxiKTphfSxnZXRQcmV2aW91c1NvdXJjZU5vZGU6ZnVuY3Rpb24oYSxlLGIpe2lmKGImJiFiLmNhbGwpdmFyIGM9YixiPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhjKX07dmFyIGE9IWEmJnRoaXMuZ2V0TGFzdCYmdGhpcy5nZXRMYXN0KCksZDtpZighYSl7aWYodGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmImJmIodGhpcyx0cnVlKT09PWZhbHNlKXJldHVybiBudWxsO2E9dGhpcy5nZXRQcmV2aW91cygpfWZvcig7IWEmJihkPShkfHx0aGlzKS5nZXRQYXJlbnQoKSk7KXtpZihiJiZiKGQsdHJ1ZSk9PT1mYWxzZSlyZXR1cm4gbnVsbDthPWQuZ2V0UHJldmlvdXMoKX1yZXR1cm4hYXx8YiYmYihhKT09PWZhbHNlP251bGw6ZSYmYS50eXBlIT1lP2EuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKGZhbHNlLGUsYik6YX0sZ2V0UHJldmlvdXM6ZnVuY3Rpb24oYSl7dmFyIGU9CnRoaXMuJCxiO2RvIGI9KGU9ZS5wcmV2aW91c1NpYmxpbmcpJiZlLm5vZGVUeXBlIT0xMCYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGUpO3doaWxlKGImJmEmJiFhKGIpKTtyZXR1cm4gYn0sZ2V0TmV4dDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLiQsYjtkbyBiPShlPWUubmV4dFNpYmxpbmcpJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZSk7d2hpbGUoYiYmYSYmIWEoYikpO3JldHVybiBifSxnZXRQYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy4kLnBhcmVudE5vZGU7cmV0dXJuIGUmJihlLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGEmJmUubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpP25ldyBDS0VESVRPUi5kb20ubm9kZShlKTpudWxsfSxnZXRQYXJlbnRzOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMsYj1bXTtkbyBiW2E\/InB1c2giOiJ1bnNoaWZ0Il0oZSk7d2hpbGUoZT1lLmdldFBhcmVudCgpKTtyZXR1cm4gYn0sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oYSl7aWYoYS5lcXVhbHModGhpcykpcmV0dXJuIHRoaXM7CmlmKGEuY29udGFpbnMmJmEuY29udGFpbnModGhpcykpcmV0dXJuIGE7dmFyIGU9dGhpcy5jb250YWlucz90aGlzOnRoaXMuZ2V0UGFyZW50KCk7ZG8gaWYoZS5jb250YWlucyhhKSlyZXR1cm4gZTt3aGlsZShlPWUuZ2V0UGFyZW50KCkpO3JldHVybiBudWxsfSxnZXRQb3NpdGlvbjpmdW5jdGlvbihhKXt2YXIgZT10aGlzLiQsYj1hLiQ7aWYoZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbilyZXR1cm4gZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKTtpZihlPT1iKXJldHVybiBDS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUw7aWYodGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtpZihlLmNvbnRhaW5zKXtpZihlLmNvbnRhaW5zKGIpKXJldHVybiBDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc7aWYoYi5jb250YWlucyhlKSlyZXR1cm4gQ0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEKwpDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd9aWYoInNvdXJjZUluZGV4ImluIGUpcmV0dXJuIGUuc291cmNlSW5kZXg8MHx8Yi5zb3VyY2VJbmRleDwwP0NLRURJVE9SLlBPU0lUSU9OX0RJU0NPTk5FQ1RFRDplLnNvdXJjZUluZGV4PGIuc291cmNlSW5kZXg\/Q0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HOkNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lOR31mb3IodmFyIGU9dGhpcy5nZXRBZGRyZXNzKCksYT1hLmdldEFkZHJlc3MoKSxiPU1hdGgubWluKGUubGVuZ3RoLGEubGVuZ3RoKSxjPTA7Yzw9Yi0xO2MrKylpZihlW2NdIT1hW2NdKXtpZihjPGIpcmV0dXJuIGVbY108YVtjXT9DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HO2JyZWFrfXJldHVybiBlLmxlbmd0aDxhLmxlbmd0aD9DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEKwpDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd9LGdldEFzY2VuZGFudDpmdW5jdGlvbihhLGUpe3ZhciBiPXRoaXMuJCxjO2lmKCFlKWI9Yi5wYXJlbnROb2RlO2Zvcig7Yjspe2lmKGIubm9kZU5hbWUmJihjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx0eXBlb2YgYT09InN0cmluZyI\/Yz09YTpjIGluIGEpKXJldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYik7dHJ5e2I9Yi5wYXJlbnROb2RlfWNhdGNoKGQpe2I9bnVsbH19cmV0dXJuIG51bGx9LGhhc0FzY2VuZGFudDpmdW5jdGlvbihhLGUpe3ZhciBiPXRoaXMuJDtpZighZSliPWIucGFyZW50Tm9kZTtmb3IoO2I7KXtpZihiLm5vZGVOYW1lJiZiLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PWEpcmV0dXJuIHRydWU7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGZhbHNlfSxtb3ZlOmZ1bmN0aW9uKGEsZSl7YS5hcHBlbmQodGhpcy5yZW1vdmUoKSxlKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuJCxiPWUucGFyZW50Tm9kZTsKaWYoYil7aWYoYSlmb3IoO2E9ZS5maXJzdENoaWxkOyliLmluc2VydEJlZm9yZShlLnJlbW92ZUNoaWxkKGEpLGUpO2IucmVtb3ZlQ2hpbGQoZSl9cmV0dXJuIHRoaXN9LHJlcGxhY2U6ZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRCZWZvcmUoYSk7YS5yZW1vdmUoKX0sdHJpbTpmdW5jdGlvbigpe3RoaXMubHRyaW0oKTt0aGlzLnJ0cmltKCl9LGx0cmltOmZ1bmN0aW9uKCl7Zm9yKHZhciBhO3RoaXMuZ2V0Rmlyc3QmJihhPXRoaXMuZ2V0Rmlyc3QoKSk7KXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7dmFyIGU9Q0tFRElUT1IudG9vbHMubHRyaW0oYS5nZXRUZXh0KCkpLGI9YS5nZXRMZW5ndGgoKTtpZihlKXtpZihlLmxlbmd0aDxiKXthLnNwbGl0KGItZS5sZW5ndGgpO3RoaXMuJC5yZW1vdmVDaGlsZCh0aGlzLiQuZmlyc3RDaGlsZCl9fWVsc2V7YS5yZW1vdmUoKTtjb250aW51ZX19YnJlYWt9fSxydHJpbTpmdW5jdGlvbigpe2Zvcih2YXIgYTt0aGlzLmdldExhc3QmJihhPQp0aGlzLmdldExhc3QoKSk7KXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7dmFyIGU9Q0tFRElUT1IudG9vbHMucnRyaW0oYS5nZXRUZXh0KCkpLGI9YS5nZXRMZW5ndGgoKTtpZihlKXtpZihlLmxlbmd0aDxiKXthLnNwbGl0KGUubGVuZ3RoKTt0aGlzLiQubGFzdENoaWxkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy4kLmxhc3RDaGlsZCl9fWVsc2V7YS5yZW1vdmUoKTtjb250aW51ZX19YnJlYWt9aWYoQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXIpKGE9dGhpcy4kLmxhc3RDaGlsZCkmJihhLnR5cGU9PTEmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09ImJyIikmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0saXNSZWFkT25seTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihhPXRoaXMuZ2V0UGFyZW50KCkpO2lmKGEmJnR5cGVvZiBhLiQuaXNDb250ZW50RWRpdGFibGUhPSJ1bmRlZmluZWQiKXJldHVybiEoYS4kLmlzQ29udGVudEVkaXRhYmxlfHwKYS5kYXRhKCJja2UtZWRpdGFibGUiKSk7Zm9yKDthOyl7aWYoYS5kYXRhKCJja2UtZWRpdGFibGUiKSlicmVhaztpZihhLmdldEF0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIik9PSJmYWxzZSIpcmV0dXJuIHRydWU7aWYoYS5nZXRBdHRyaWJ1dGUoImNvbnRlbnRFZGl0YWJsZSIpPT0idHJ1ZSIpYnJlYWs7YT1hLmdldFBhcmVudCgpfXJldHVybiFhfX0pO0NLRURJVE9SLmRvbS53aW5kb3c9ZnVuY3Rpb24oYSl7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9O0NLRURJVE9SLmRvbS53aW5kb3cucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0OwpDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLndpbmRvdy5wcm90b3R5cGUse2ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy4kLmZvY3VzKCl9LGdldFZpZXdQYW5lU2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5kb2N1bWVudCxlPWEuY29tcGF0TW9kZT09IkNTUzFDb21wYXQiO3JldHVybnt3aWR0aDooZT9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDphLmJvZHkuY2xpZW50V2lkdGgpfHwwLGhlaWdodDooZT9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6YS5ib2R5LmNsaWVudEhlaWdodCl8fDB9fSxnZXRTY3JvbGxQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDtpZigicGFnZVhPZmZzZXQiaW4gYSlyZXR1cm57eDphLnBhZ2VYT2Zmc2V0fHwwLHk6YS5wYWdlWU9mZnNldHx8MH07YT1hLmRvY3VtZW50O3JldHVybnt4OmEuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnR8fGEuYm9keS5zY3JvbGxMZWZ0fHwwLHk6YS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHwKYS5ib2R5LnNjcm9sbFRvcHx8MH19LGdldEZyYW1lOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmZyYW1lRWxlbWVudDtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGEpOm51bGx9fSk7Q0tFRElUT1IuZG9tLmRvY3VtZW50PWZ1bmN0aW9uKGEpe0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGEpfTtDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0OwpDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLmRvY3VtZW50LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX0RPQ1VNRU5ULGFwcGVuZFN0eWxlU2hlZXQ6ZnVuY3Rpb24oYSl7aWYodGhpcy4kLmNyZWF0ZVN0eWxlU2hlZXQpdGhpcy4kLmNyZWF0ZVN0eWxlU2hlZXQoYSk7ZWxzZXt2YXIgZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoImxpbmsiKTtlLnNldEF0dHJpYnV0ZXMoe3JlbDoic3R5bGVzaGVldCIsdHlwZToidGV4dC9jc3MiLGhyZWY6YX0pO3RoaXMuZ2V0SGVhZCgpLmFwcGVuZChlKX19LGFwcGVuZFN0eWxlVGV4dDpmdW5jdGlvbihhKXtpZih0aGlzLiQuY3JlYXRlU3R5bGVTaGVldCl7dmFyIGU9dGhpcy4kLmNyZWF0ZVN0eWxlU2hlZXQoIiIpO2UuY3NzVGV4dD1hfWVsc2V7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCJzdHlsZSIsdGhpcyk7Yi5hcHBlbmQobmV3IENLRURJVE9SLmRvbS50ZXh0KGEsdGhpcykpO3RoaXMuZ2V0SGVhZCgpLmFwcGVuZChiKX1yZXR1cm4gZXx8CmIuJC5zaGVldH0sY3JlYXRlRWxlbWVudDpmdW5jdGlvbihhLGUpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhLHRoaXMpO2lmKGUpe2UuYXR0cmlidXRlcyYmYi5zZXRBdHRyaWJ1dGVzKGUuYXR0cmlidXRlcyk7ZS5zdHlsZXMmJmIuc2V0U3R5bGVzKGUuc3R5bGVzKX1yZXR1cm4gYn0sY3JlYXRlVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS50ZXh0KGEsdGhpcyl9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5nZXRXaW5kb3coKS5mb2N1cygpfSxnZXRBY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRoaXMuJC5hY3RpdmVFbGVtZW50KX0sZ2V0QnlJZDpmdW5jdGlvbihhKXtyZXR1cm4oYT10aGlzLiQuZ2V0RWxlbWVudEJ5SWQoYSkpP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKTpudWxsfSxnZXRCeUFkZHJlc3M6ZnVuY3Rpb24oYSxlKXtmb3IodmFyIGI9dGhpcy4kLmRvY3VtZW50RWxlbWVudCxjPQowO2ImJmM8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdO2lmKGUpZm9yKHZhciBoPS0xLGc9MDtnPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZysrKXt2YXIgbj1iLmNoaWxkTm9kZXNbZ107aWYoIShlPT09dHJ1ZSYmbi5ub2RlVHlwZT09MyYmbi5wcmV2aW91c1NpYmxpbmcmJm4ucHJldmlvdXNTaWJsaW5nLm5vZGVUeXBlPT0zKSl7aCsrO2lmKGg9PWQpe2I9bjticmVha319fWVsc2UgYj1iLmNoaWxkTm9kZXNbZF19cmV0dXJuIGI\/bmV3IENLRURJVE9SLmRvbS5ub2RlKGIpOm51bGx9LGdldEVsZW1lbnRzQnlUYWc6ZnVuY3Rpb24oYSxlKXtpZigoIUNLRURJVE9SLmVudi5pZXx8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPjgpJiZlKWE9ZSsiOiIrYTtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpfSxnZXRIZWFkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF07cmV0dXJuIGE9CmE\/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpOnRoaXMuZ2V0RG9jdW1lbnRFbGVtZW50KCkuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCgiaGVhZCIpLHRydWUpfSxnZXRCb2R5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh0aGlzLiQuYm9keSl9LGdldERvY3VtZW50RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGhpcy4kLmRvY3VtZW50RWxlbWVudCl9LGdldFdpbmRvdzpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyh0aGlzLiQucGFyZW50V2luZG93fHx0aGlzLiQuZGVmYXVsdFZpZXcpfSx3cml0ZTpmdW5jdGlvbihhKXt0aGlzLiQub3BlbigidGV4dC9odG1sIiwicmVwbGFjZSIpO0NLRURJVE9SLmVudi5pZSYmKGE9YS5yZXBsYWNlKC8oPzpeXHMqPCFET0NUWVBFW14+XSo\/Pil8Xi9pLCckJlxuPHNjcmlwdCBkYXRhLWNrZS10ZW1wPSIxIj4oJytDS0VESVRPUi50b29scy5maXhEb21haW4rCiIpKCk7PFwvc2NyaXB0PiIpKTt0aGlzLiQud3JpdGUoYSk7dGhpcy4kLmNsb3NlKCl9LGZpbmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20ubm9kZUxpc3QodGhpcy4kLnF1ZXJ5U2VsZWN0b3JBbGwoYSkpfSxmaW5kT25lOmZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuJC5xdWVyeVNlbGVjdG9yKGEpKT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6bnVsbH0sX2dldEh0bWw1U2hpdkZyYWc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1c3RvbURhdGEoImh0bWw1U2hpdkZyYWciKTtpZighYSl7YT10aGlzLiQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO0NLRURJVE9SLnRvb2xzLmVuYWJsZUh0bWw1RWxlbWVudHMoYSx0cnVlKTt0aGlzLnNldEN1c3RvbURhdGEoImh0bWw1U2hpdkZyYWciLGEpfXJldHVybiBhfX0pO0NLRURJVE9SLmRvbS5ub2RlTGlzdD1mdW5jdGlvbihhKXt0aGlzLiQ9YX07CkNLRURJVE9SLmRvbS5ub2RlTGlzdC5wcm90b3R5cGU9e2NvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5sZW5ndGh9LGdldEl0ZW06ZnVuY3Rpb24oYSl7aWYoYTwwfHxhPj10aGlzLiQubGVuZ3RoKXJldHVybiBudWxsO3JldHVybihhPXRoaXMuJFthXSk\/bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpOm51bGx9fTtDS0VESVRPUi5kb20uZWxlbWVudD1mdW5jdGlvbihhLGUpe3R5cGVvZiBhPT0ic3RyaW5nIiYmKGE9KGU\/ZS4kOmRvY3VtZW50KS5jcmVhdGVFbGVtZW50KGEpKTtDS0VESVRPUi5kb20uZG9tT2JqZWN0LmNhbGwodGhpcyxhKX07Q0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXR5cGVvZiBhPT0ic3RyaW5nIj9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKXx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoYSlbMF06YSkmJihhLiQ\/YTpuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSkpfTsKQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20ubm9kZTtDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbD1mdW5jdGlvbihhLGUpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudCgiZGl2IixlKTtiLnNldEh0bWwoYSk7cmV0dXJuIGIuZ2V0Rmlyc3QoKS5yZW1vdmUoKX07CkNLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcj1mdW5jdGlvbihhLGUsYixjKXt2YXIgZD1lLmdldEN1c3RvbURhdGEoImxpc3RfbWFya2VyX2lkIil8fGUuc2V0Q3VzdG9tRGF0YSgibGlzdF9tYXJrZXJfaWQiLENLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSkuZ2V0Q3VzdG9tRGF0YSgibGlzdF9tYXJrZXJfaWQiKSxoPWUuZ2V0Q3VzdG9tRGF0YSgibGlzdF9tYXJrZXJfbmFtZXMiKXx8ZS5zZXRDdXN0b21EYXRhKCJsaXN0X21hcmtlcl9uYW1lcyIse30pLmdldEN1c3RvbURhdGEoImxpc3RfbWFya2VyX25hbWVzIik7YVtkXT1lO2hbYl09MTtyZXR1cm4gZS5zZXRDdXN0b21EYXRhKGIsYyl9O0NLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2Vycz1mdW5jdGlvbihhKXtmb3IodmFyIGUgaW4gYSlDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhck1hcmtlcnMoYSxhW2VdLDEpfTsKQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJNYXJrZXJzPWZ1bmN0aW9uKGEsZSxiKXt2YXIgYz1lLmdldEN1c3RvbURhdGEoImxpc3RfbWFya2VyX25hbWVzIiksZD1lLmdldEN1c3RvbURhdGEoImxpc3RfbWFya2VyX2lkIiksaDtmb3IoaCBpbiBjKWUucmVtb3ZlQ3VzdG9tRGF0YShoKTtlLnJlbW92ZUN1c3RvbURhdGEoImxpc3RfbWFya2VyX25hbWVzIik7aWYoYil7ZS5yZW1vdmVDdXN0b21EYXRhKCJsaXN0X21hcmtlcl9pZCIpO2RlbGV0ZSBhW2RdfX07CihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGI9dHJ1ZTtpZighYS4kLmlkKXthLiQuaWQ9ImNrZV90bXBfIitDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCk7Yj1mYWxzZX1yZXR1cm4gZnVuY3Rpb24oKXtifHxhLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19ZnVuY3Rpb24gZShhLGIpe3JldHVybiIjIithLiQuaWQrIiAiK2Iuc3BsaXQoLyxccyovKS5qb2luKCIsICMiK2EuJC5pZCsiICIpfWZ1bmN0aW9uIGIoYSl7Zm9yKHZhciBiPTAsZT0wLG49Y1thXS5sZW5ndGg7ZTxuO2UrKyliPWIrKHBhcnNlSW50KHRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShjW2FdW2VdKXx8MCwxMCl8fDApO3JldHVybiBifUNLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUse3R5cGU6Q0tFRElUT1IuTk9ERV9FTEVNRU5ULGFkZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJC5jbGFzc05hbWU7YiYmKFJlZ0V4cCgiKD86XnxcXHMpIithKyIoPzpcXHN8JCkiLAoiIikudGVzdChiKXx8KGI9YisoIiAiK2EpKSk7dGhpcy4kLmNsYXNzTmFtZT1ifHxhfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEF0dHJpYnV0ZSgiY2xhc3MiKTtpZihiKXthPVJlZ0V4cCgiKD86XnxcXHMrKSIrYSsiKD89XFxzfCQpIiwiaSIpO2lmKGEudGVzdChiKSkoYj1iLnJlcGxhY2UoYSwiIikucmVwbGFjZSgvXlxzKy8sIiIpKT90aGlzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGIpOnRoaXMucmVtb3ZlQXR0cmlidXRlKCJjbGFzcyIpfXJldHVybiB0aGlzfSxoYXNDbGFzczpmdW5jdGlvbihhKXtyZXR1cm4gUmVnRXhwKCIoPzpefFxccyspIithKyIoPz1cXHN8JCkiLCIiKS50ZXN0KHRoaXMuZ2V0QXR0cmlidXRlKCJjbGFzcyIpKX0sYXBwZW5kOmZ1bmN0aW9uKGEsYil7dHlwZW9mIGE9PSJzdHJpbmciJiYoYT10aGlzLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChhKSk7Yj90aGlzLiQuaW5zZXJ0QmVmb3JlKGEuJCx0aGlzLiQuZmlyc3RDaGlsZCk6CnRoaXMuJC5hcHBlbmRDaGlsZChhLiQpO3JldHVybiBhfSxhcHBlbmRIdG1sOmZ1bmN0aW9uKGEpe2lmKHRoaXMuJC5jaGlsZE5vZGVzLmxlbmd0aCl7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCJkaXYiLHRoaXMuZ2V0RG9jdW1lbnQoKSk7Yi5zZXRIdG1sKGEpO2IubW92ZUNoaWxkcmVuKHRoaXMpfWVsc2UgdGhpcy5zZXRIdG1sKGEpfSxhcHBlbmRUZXh0OmZ1bmN0aW9uKGEpe3RoaXMuJC50ZXh0IT12b2lkIDA\/dGhpcy4kLnRleHQ9dGhpcy4kLnRleHQrYTp0aGlzLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSkpfSxhcHBlbmRCb2d1czpmdW5jdGlvbihhKXtpZihhfHxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8Q0tFRElUT1IuZW52Lm9wZXJhKXtmb3IoYT10aGlzLmdldExhc3QoKTthJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmIUNLRURJVE9SLnRvb2xzLnJ0cmltKGEuZ2V0VGV4dCgpKTspYT1hLmdldFByZXZpb3VzKCk7aWYoIWF8fCFhLmlzfHwKIWEuaXMoImJyIikpe2E9Q0tFRElUT1IuZW52Lm9wZXJhP3RoaXMuZ2V0RG9jdW1lbnQoKS5jcmVhdGVUZXh0KCIiKTp0aGlzLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudCgiYnIiKTtDS0VESVRPUi5lbnYuZ2Vja28mJmEuc2V0QXR0cmlidXRlKCJ0eXBlIiwiX21veiIpO3RoaXMuYXBwZW5kKGEpfX19LGJyZWFrUGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5nZXREb2N1bWVudCgpKTtiLnNldFN0YXJ0QWZ0ZXIodGhpcyk7Yi5zZXRFbmRBZnRlcihhKTthPWIuZXh0cmFjdENvbnRlbnRzKCk7Yi5pbnNlcnROb2RlKHRoaXMucmVtb3ZlKCkpO2EuaW5zZXJ0QWZ0ZXJOb2RlKHRoaXMpfSxjb250YWluczpDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi53ZWJraXQ\/ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kO3JldHVybiBhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVD9iLmNvbnRhaW5zKGEuZ2V0UGFyZW50KCkuJCk6YiE9CmEuJCYmYi5jb250YWlucyhhLiQpfTpmdW5jdGlvbihhKXtyZXR1cm4hISh0aGlzLiQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYS4kKSYxNil9LGZvY3VzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RyeXt0aGlzLiQuZm9jdXMoKX1jYXRjaChiKXt9fXJldHVybiBmdW5jdGlvbihiKXtiP0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYSwxMDAsdGhpcyk6YS5jYWxsKHRoaXMpfX0oKSxnZXRIdG1sOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmlubmVySFRNTDtyZXR1cm4gQ0tFRElUT1IuZW52LmllP2EucmVwbGFjZSgvPFw\/W14+XSo+L2csIiIpOmF9LGdldE91dGVySHRtbDpmdW5jdGlvbigpe2lmKHRoaXMuJC5vdXRlckhUTUwpcmV0dXJuIHRoaXMuJC5vdXRlckhUTUwucmVwbGFjZSgvPFw\/W14+XSo+LywiIik7dmFyIGE9dGhpcy4kLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5hcHBlbmRDaGlsZCh0aGlzLiQuY2xvbmVOb2RlKHRydWUpKTtyZXR1cm4gYS5pbm5lckhUTUx9LApnZXRDbGllbnRSZWN0OmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHRoaXMuJC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7IWEud2lkdGgmJihhLndpZHRoPWEucmlnaHQtYS5sZWZ0KTshYS5oZWlnaHQmJihhLmhlaWdodD1hLmJvdHRvbS1hLnRvcCk7cmV0dXJuIGF9LHNldEh0bWw6Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYudmVyc2lvbjw5P2Z1bmN0aW9uKGEpe3RyeXt2YXIgYj10aGlzLiQ7aWYodGhpcy5nZXRQYXJlbnQoKSlyZXR1cm4gYi5pbm5lckhUTUw9YTt2YXIgYz10aGlzLmdldERvY3VtZW50KCkuX2dldEh0bWw1U2hpdkZyYWcoKTtjLmFwcGVuZENoaWxkKGIpO2IuaW5uZXJIVE1MPWE7Yy5yZW1vdmVDaGlsZChiKTtyZXR1cm4gYX1jYXRjaChlKXt0aGlzLiQuaW5uZXJIVE1MPSIiO2I9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCJib2R5Iix0aGlzLmdldERvY3VtZW50KCkpO2IuJC5pbm5lckhUTUw9YTtmb3IoYj1iLmdldENoaWxkcmVuKCk7Yi5jb3VudCgpOyl0aGlzLmFwcGVuZChiLmdldEl0ZW0oMCkpOwpyZXR1cm4gYX19OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuaW5uZXJIVE1MPWF9LHNldFRleHQ6ZnVuY3Rpb24oYSl7Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLnNldFRleHQ9dGhpcy4kLmlubmVyVGV4dCE9dm9pZCAwP2Z1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuaW5uZXJUZXh0PWF9OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQudGV4dENvbnRlbnQ9YX07cmV0dXJuIHRoaXMuc2V0VGV4dChhKX0sZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC5nZXRBdHRyaWJ1dGUoYSwyKX07cmV0dXJuIENLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5pZTZDb21wYXQpP2Z1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlICJjbGFzcyI6YT0iY2xhc3NOYW1lIjticmVhaztjYXNlICJodHRwLWVxdWl2IjphPSJodHRwRXF1aXYiO2JyZWFrO2Nhc2UgIm5hbWUiOnJldHVybiB0aGlzLiQubmFtZTsKY2FzZSAidGFiaW5kZXgiOmE9dGhpcy4kLmdldEF0dHJpYnV0ZShhLDIpO2EhPT0wJiZ0aGlzLiQudGFiSW5kZXg9PT0wJiYoYT1udWxsKTtyZXR1cm4gYTtjYXNlICJjaGVja2VkIjphPXRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShhKTtyZXR1cm4oYS5zcGVjaWZpZWQ\/YS5ub2RlVmFsdWU6dGhpcy4kLmNoZWNrZWQpPyJjaGVja2VkIjpudWxsO2Nhc2UgImhzcGFjZSI6Y2FzZSAidmFsdWUiOnJldHVybiB0aGlzLiRbYV07Y2FzZSAic3R5bGUiOnJldHVybiB0aGlzLiQuc3R5bGUuY3NzVGV4dDtjYXNlICJjb250ZW50ZWRpdGFibGUiOmNhc2UgImNvbnRlbnRFZGl0YWJsZSI6cmV0dXJuIHRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbSgiY29udGVudEVkaXRhYmxlIikuc3BlY2lmaWVkP3RoaXMuJC5nZXRBdHRyaWJ1dGUoImNvbnRlbnRFZGl0YWJsZSIpOm51bGx9cmV0dXJuIHRoaXMuJC5nZXRBdHRyaWJ1dGUoYSwyKX06YX0oKSxnZXRDaGlsZHJlbjpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5jaGlsZE5vZGVzKX0sCmdldENvbXB1dGVkU3R5bGU6Q0tFRElUT1IuZW52LmllP2Z1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuY3VycmVudFN0eWxlW0NLRURJVE9SLnRvb2xzLmNzc1N0eWxlVG9Eb21TdHlsZShhKV19OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0V2luZG93KCkuJC5nZXRDb21wdXRlZFN0eWxlKHRoaXMuJCxudWxsKTtyZXR1cm4gYj9iLmdldFByb3BlcnR5VmFsdWUoYSk6IiJ9LGdldER0ZDpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmR0ZFt0aGlzLmdldE5hbWUoKV07dGhpcy5nZXREdGQ9ZnVuY3Rpb24oKXtyZXR1cm4gYX07cmV0dXJuIGF9LGdldEVsZW1lbnRzQnlUYWc6Q0tFRElUT1IuZG9tLmRvY3VtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnLGdldFRhYkluZGV4OkNLRURJVE9SLmVudi5pZT9mdW5jdGlvbigpe3ZhciBhPXRoaXMuJC50YWJJbmRleDthPT09MCYmKCFDS0VESVRPUi5kdGQuJHRhYkluZGV4W3RoaXMuZ2V0TmFtZSgpXSYmcGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoInRhYmluZGV4IiksCjEwKSE9PTApJiYoYT0tMSk7cmV0dXJuIGF9OkNLRURJVE9SLmVudi53ZWJraXQ\/ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQudGFiSW5kZXg7aWYoYT09dm9pZCAwKXthPXBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCJ0YWJpbmRleCIpLDEwKTtpc05hTihhKSYmKGE9LTEpfXJldHVybiBhfTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQudGFiSW5kZXh9LGdldFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLnRleHRDb250ZW50fHx0aGlzLiQuaW5uZXJUZXh0fHwiIn0sZ2V0V2luZG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRXaW5kb3coKX0sZ2V0SWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmlkfHxudWxsfSxnZXROYW1lQXR0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5uYW1lfHxudWxsfSxnZXROYW1lOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoQ0tFRElUT1IuZW52LmllJiYhKGRvY3VtZW50LmRvY3VtZW50TW9kZT4KOCkpe3ZhciBiPXRoaXMuJC5zY29wZU5hbWU7YiE9IkhUTUwiJiYoYT1iLnRvTG93ZXJDYXNlKCkrIjoiK2EpfXJldHVybih0aGlzLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gYX0pKCl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC52YWx1ZX0sZ2V0Rmlyc3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kLmZpcnN0Q2hpbGQ7KGI9YiYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGIpKSYmKGEmJiFhKGIpKSYmKGI9Yi5nZXROZXh0KGEpKTtyZXR1cm4gYn0sZ2V0TGFzdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQubGFzdENoaWxkOyhiPWImJm5ldyBDS0VESVRPUi5kb20ubm9kZShiKSkmJihhJiYhYShiKSkmJihiPWIuZ2V0UHJldmlvdXMoYSkpO3JldHVybiBifSxnZXRTdHlsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kLnN0eWxlW0NLRURJVE9SLnRvb2xzLmNzc1N0eWxlVG9Eb21TdHlsZShhKV19LGlzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXROYW1lKCk7CmlmKHR5cGVvZiBhcmd1bWVudHNbMF09PSJvYmplY3QiKXJldHVybiEhYXJndW1lbnRzWzBdW2FdO2Zvcih2YXIgYj0wO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspaWYoYXJndW1lbnRzW2JdPT1hKXJldHVybiB0cnVlO3JldHVybiBmYWxzZX0saXNFZGl0YWJsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE5hbWUoKTtpZih0aGlzLmlzUmVhZE9ubHkoKXx8dGhpcy5nZXRDb21wdXRlZFN0eWxlKCJkaXNwbGF5Iik9PSJub25lInx8dGhpcy5nZXRDb21wdXRlZFN0eWxlKCJ2aXNpYmlsaXR5Iik9PSJoaWRkZW4ifHxDS0VESVRPUi5kdGQuJG5vbkVkaXRhYmxlW2JdfHxDS0VESVRPUi5kdGQuJGVtcHR5W2JdfHx0aGlzLmlzKCJhIikmJih0aGlzLmRhdGEoImNrZS1zYXZlZC1uYW1lIil8fHRoaXMuaGFzQXR0cmlidXRlKCJuYW1lIikpJiYhdGhpcy5nZXRDaGlsZENvdW50KCkpcmV0dXJuIGZhbHNlO2lmKGEhPT1mYWxzZSl7YT1DS0VESVRPUi5kdGRbYl18fENLRURJVE9SLmR0ZC5zcGFuOwpyZXR1cm4hKCFhfHwhYVsiIyJdKX1yZXR1cm4gdHJ1ZX0saXNJZGVudGljYWw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jbG9uZSgwLDEpLGE9YS5jbG9uZSgwLDEpO2IucmVtb3ZlQXR0cmlidXRlcyhbIl9tb3pfZGlydHkiLCJkYXRhLWNrZS1leHBhbmRvIiwiZGF0YS1ja2Utc2F2ZWQtaHJlZiIsImRhdGEtY2tlLXNhdmVkLW5hbWUiXSk7YS5yZW1vdmVBdHRyaWJ1dGVzKFsiX21vel9kaXJ0eSIsImRhdGEtY2tlLWV4cGFuZG8iLCJkYXRhLWNrZS1zYXZlZC1ocmVmIiwiZGF0YS1ja2Utc2F2ZWQtbmFtZSJdKTtpZihiLiQuaXNFcXVhbE5vZGUpe2IuJC5zdHlsZS5jc3NUZXh0PUNLRURJVE9SLnRvb2xzLm5vcm1hbGl6ZUNzc1RleHQoYi4kLnN0eWxlLmNzc1RleHQpO2EuJC5zdHlsZS5jc3NUZXh0PUNLRURJVE9SLnRvb2xzLm5vcm1hbGl6ZUNzc1RleHQoYS4kLnN0eWxlLmNzc1RleHQpO3JldHVybiBiLiQuaXNFcXVhbE5vZGUoYS4kKX1iPWIuZ2V0T3V0ZXJIdG1sKCk7YT1hLmdldE91dGVySHRtbCgpOwppZihDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi52ZXJzaW9uPDkmJnRoaXMuaXMoImEiKSl7dmFyIGM9dGhpcy5nZXRQYXJlbnQoKTtpZihjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7Yz1jLmNsb25lKCk7Yy5zZXRIdG1sKGIpO2I9Yy5nZXRIdG1sKCk7Yy5zZXRIdG1sKGEpO2E9Yy5nZXRIdG1sKCl9fXJldHVybiBiPT1hfSxpc1Zpc2libGU6ZnVuY3Rpb24oKXt2YXIgYT0odGhpcy4kLm9mZnNldEhlaWdodHx8dGhpcy4kLm9mZnNldFdpZHRoKSYmdGhpcy5nZXRDb21wdXRlZFN0eWxlKCJ2aXNpYmlsaXR5IikhPSJoaWRkZW4iLGIsYztpZihhJiYoQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52Lm9wZXJhKSl7Yj10aGlzLmdldFdpbmRvdygpO2lmKCFiLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSkmJihjPWIuJC5mcmFtZUVsZW1lbnQpKWE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjKSkuaXNWaXNpYmxlKCl9cmV0dXJuISFhfSwKaXNFbXB0eUlubGluZVJlbW92ZWFibGU6ZnVuY3Rpb24oKXtpZighQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt0aGlzLmdldE5hbWUoKV0pcmV0dXJuIGZhbHNlO2Zvcih2YXIgYT10aGlzLmdldENoaWxkcmVuKCksYj0wLGM9YS5jb3VudCgpO2I8YztiKyspe3ZhciBlPWEuZ2V0SXRlbShiKTtpZighKGUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLmRhdGEoImNrZS1ib29rbWFyayIpKSYmKGUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhZS5pc0VtcHR5SW5saW5lUmVtb3ZlYWJsZSgpfHxlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmQ0tFRElUT1IudG9vbHMudHJpbShlLmdldFRleHQoKSkpKXJldHVybiBmYWxzZX1yZXR1cm4gdHJ1ZX0saGFzQXR0cmlidXRlczpDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KT9mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLiQuYXR0cmlidXRlcyxiPTA7YjwKYS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO3N3aXRjaChjLm5vZGVOYW1lKXtjYXNlICJjbGFzcyI6aWYodGhpcy5nZXRBdHRyaWJ1dGUoImNsYXNzIikpcmV0dXJuIHRydWU7Y2FzZSAiZGF0YS1ja2UtZXhwYW5kbyI6Y29udGludWU7ZGVmYXVsdDppZihjLnNwZWNpZmllZClyZXR1cm4gdHJ1ZX19cmV0dXJuIGZhbHNlfTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5hdHRyaWJ1dGVzLGI9YS5sZW5ndGgsYz17ImRhdGEtY2tlLWV4cGFuZG8iOjEsX21vel9kaXJ0eToxfTtyZXR1cm4gYj4wJiYoYj4yfHwhY1thWzBdLm5vZGVOYW1lXXx8Yj09MiYmIWNbYVsxXS5ub2RlTmFtZV0pfSxoYXNBdHRyaWJ1dGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe2I9dGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGIpO3JldHVybiEoIWJ8fCFiLnNwZWNpZmllZCl9cmV0dXJuIENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnZlcnNpb248OD9mdW5jdGlvbihiKXtyZXR1cm4gYj09Im5hbWUiPwohIXRoaXMuJC5uYW1lOmEuY2FsbCh0aGlzLGIpfTphfSgpLGhpZGU6ZnVuY3Rpb24oKXt0aGlzLnNldFN0eWxlKCJkaXNwbGF5Iiwibm9uZSIpfSxtb3ZlQ2hpbGRyZW46ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLiQsYT1hLiQ7aWYoYyE9YSl7dmFyIGU7aWYoYilmb3IoO2U9Yy5sYXN0Q2hpbGQ7KWEuaW5zZXJ0QmVmb3JlKGMucmVtb3ZlQ2hpbGQoZSksYS5maXJzdENoaWxkKTtlbHNlIGZvcig7ZT1jLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQoYy5yZW1vdmVDaGlsZChlKSl9fSxtZXJnZVNpYmxpbmdzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGQsYyl7aWYoZCYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2Zvcih2YXIgZT1bXTtkLmRhdGEoImNrZS1ib29rbWFyayIpfHxkLmlzRW1wdHlJbmxpbmVSZW1vdmVhYmxlKCk7KXtlLnB1c2goZCk7ZD1jP2QuZ2V0TmV4dCgpOmQuZ2V0UHJldmlvdXMoKTtpZighZHx8ZC50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJufWlmKGIuaXNJZGVudGljYWwoZCkpe2Zvcih2YXIgaj0KYz9iLmdldExhc3QoKTpiLmdldEZpcnN0KCk7ZS5sZW5ndGg7KWUuc2hpZnQoKS5tb3ZlKGIsIWMpO2QubW92ZUNoaWxkcmVuKGIsIWMpO2QucmVtb3ZlKCk7aiYmai50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmoubWVyZ2VTaWJsaW5ncygpfX19cmV0dXJuIGZ1bmN0aW9uKGIpe2lmKGI9PT1mYWxzZXx8Q0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt0aGlzLmdldE5hbWUoKV18fHRoaXMuaXMoImEiKSl7YSh0aGlzLHRoaXMuZ2V0TmV4dCgpLHRydWUpO2EodGhpcyx0aGlzLmdldFByZXZpb3VzKCkpfX19KCksc2hvdzpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGVzKHtkaXNwbGF5OiIiLHZpc2liaWxpdHk6IiJ9KX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXt0aGlzLiQuc2V0QXR0cmlidXRlKGEsYik7cmV0dXJuIHRoaXN9O3JldHVybiBDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KT8KZnVuY3Rpb24oYixjKXtiPT0iY2xhc3MiP3RoaXMuJC5jbGFzc05hbWU9YzpiPT0ic3R5bGUiP3RoaXMuJC5zdHlsZS5jc3NUZXh0PWM6Yj09InRhYmluZGV4Ij90aGlzLiQudGFiSW5kZXg9YzpiPT0iY2hlY2tlZCI\/dGhpcy4kLmNoZWNrZWQ9YzpiPT0iY29udGVudGVkaXRhYmxlIj9hLmNhbGwodGhpcywiY29udGVudEVkaXRhYmxlIixjKTphLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpc306Q0tFRElUT1IuZW52LmllOENvbXBhdCYmQ0tFRElUT1IuZW52LnNlY3VyZT9mdW5jdGlvbihiLGMpe2lmKGI9PSJzcmMiJiZjLm1hdGNoKC9eaHR0cDpcL1wvLykpdHJ5e2EuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGUpe31lbHNlIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzfTphfSgpLHNldEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpdGhpcy5zZXRBdHRyaWJ1dGUoYixhW2JdKTtyZXR1cm4gdGhpc30sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy4kLnZhbHVlPQphO3JldHVybiB0aGlzfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXt0aGlzLiQucmVtb3ZlQXR0cmlidXRlKGEpfTtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LmllNkNvbXBhdCk\/ZnVuY3Rpb24oYSl7YT09ImNsYXNzIj9hPSJjbGFzc05hbWUiOmE9PSJ0YWJpbmRleCI\/YT0idGFiSW5kZXgiOmE9PSJjb250ZW50ZWRpdGFibGUiJiYoYT0iY29udGVudEVkaXRhYmxlIik7dGhpcy4kLnJlbW92ZUF0dHJpYnV0ZShhKX06YX0oKSxyZW1vdmVBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2lmKENLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSkpZm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYVtiXSk7ZWxzZSBmb3IoYiBpbiBhKWEuaGFzT3duUHJvcGVydHkoYikmJnRoaXMucmVtb3ZlQXR0cmlidXRlKGIpfSxyZW1vdmVTdHlsZTpmdW5jdGlvbihhKXt2YXIgYj0KdGhpcy4kLnN0eWxlO2lmKCFiLnJlbW92ZVByb3BlcnR5JiYoYT09ImJvcmRlciJ8fGE9PSJtYXJnaW4ifHxhPT0icGFkZGluZyIpKXt2YXIgYz1bInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSJdLGU7YT09ImJvcmRlciImJihlPVsiY29sb3IiLCJzdHlsZSIsIndpZHRoIl0pO2Zvcih2YXIgYj1bXSxpPTA7aTxjLmxlbmd0aDtpKyspaWYoZSlmb3IodmFyIGo9MDtqPGUubGVuZ3RoO2orKyliLnB1c2goW2EsY1tpXSxlW2pdXS5qb2luKCItIikpO2Vsc2UgYi5wdXNoKFthLGNbaV1dLmpvaW4oIi0iKSk7Zm9yKGE9MDthPGIubGVuZ3RoO2ErKyl0aGlzLnJlbW92ZVN0eWxlKGJbYV0pfWVsc2V7Yi5yZW1vdmVQcm9wZXJ0eT9iLnJlbW92ZVByb3BlcnR5KGEpOmIucmVtb3ZlQXR0cmlidXRlKENLRURJVE9SLnRvb2xzLmNzc1N0eWxlVG9Eb21TdHlsZShhKSk7dGhpcy4kLnN0eWxlLmNzc1RleHR8fHRoaXMucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpfX0sc2V0U3R5bGU6ZnVuY3Rpb24oYSwKYil7dGhpcy4kLnN0eWxlW0NLRURJVE9SLnRvb2xzLmNzc1N0eWxlVG9Eb21TdHlsZShhKV09YjtyZXR1cm4gdGhpc30sc2V0U3R5bGVzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKXRoaXMuc2V0U3R5bGUoYixhW2JdKTtyZXR1cm4gdGhpc30sc2V0T3BhY2l0eTpmdW5jdGlvbihhKXtpZihDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi52ZXJzaW9uPDkpe2E9TWF0aC5yb3VuZChhKjEwMCk7dGhpcy5zZXRTdHlsZSgiZmlsdGVyIixhPj0xMDA\/IiI6InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5PSIrYSsiKSIpfWVsc2UgdGhpcy5zZXRTdHlsZSgib3BhY2l0eSIsYSl9LHVuc2VsZWN0YWJsZTpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGVzKENLRURJVE9SLnRvb2xzLmNzc1ZlbmRvclByZWZpeCgidXNlci1zZWxlY3QiLCJub25lIikpO2lmKENLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52Lm9wZXJhKXt0aGlzLnNldEF0dHJpYnV0ZSgidW5zZWxlY3RhYmxlIiwKIm9uIik7Zm9yKHZhciBhLGI9dGhpcy5nZXRFbGVtZW50c0J5VGFnKCIqIiksYz0wLGU9Yi5jb3VudCgpO2M8ZTtjKyspe2E9Yi5nZXRJdGVtKGMpO2Euc2V0QXR0cmlidXRlKCJ1bnNlbGVjdGFibGUiLCJvbiIpfX19LGdldFBvc2l0aW9uZWRBbmNlc3RvcjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzO2EuZ2V0TmFtZSgpIT0iaHRtbCI7KXtpZihhLmdldENvbXB1dGVkU3R5bGUoInBvc2l0aW9uIikhPSJzdGF0aWMiKXJldHVybiBhO2E9YS5nZXRQYXJlbnQoKX1yZXR1cm4gbnVsbH0sZ2V0RG9jdW1lbnRQb3NpdGlvbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9MCxlPXRoaXMuZ2V0RG9jdW1lbnQoKSxpPWUuZ2V0Qm9keSgpLGo9ZS4kLmNvbXBhdE1vZGU9PSJCYWNrQ29tcGF0IjtpZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KXt2YXIgbz10aGlzLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscT1lLiQuZG9jdW1lbnRFbGVtZW50LHM9cS5jbGllbnRUb3B8fAppLiQuY2xpZW50VG9wfHwwLHU9cS5jbGllbnRMZWZ0fHxpLiQuY2xpZW50TGVmdHx8MCxmPXRydWU7aWYoQ0tFRElUT1IuZW52LmllKXtmPWUuZ2V0RG9jdW1lbnRFbGVtZW50KCkuY29udGFpbnModGhpcyk7ZT1lLmdldEJvZHkoKS5jb250YWlucyh0aGlzKTtmPWomJmV8fCFqJiZmfWlmKGYpe2I9by5sZWZ0KyghaiYmcS5zY3JvbGxMZWZ0fHxpLiQuc2Nyb2xsTGVmdCk7Yj1iLXU7Yz1vLnRvcCsoIWomJnEuc2Nyb2xsVG9wfHxpLiQuc2Nyb2xsVG9wKTtjPWMtc319ZWxzZXtpPXRoaXM7Zm9yKGU9bnVsbDtpJiYhKGkuZ2V0TmFtZSgpPT0iYm9keSJ8fGkuZ2V0TmFtZSgpPT0iaHRtbCIpOyl7Yj1iKyhpLiQub2Zmc2V0TGVmdC1pLiQuc2Nyb2xsTGVmdCk7Yz1jKyhpLiQub2Zmc2V0VG9wLWkuJC5zY3JvbGxUb3ApO2lmKCFpLmVxdWFscyh0aGlzKSl7Yj1iKyhpLiQuY2xpZW50TGVmdHx8MCk7Yz1jKyhpLiQuY2xpZW50VG9wfHwwKX1mb3IoO2UmJiFlLmVxdWFscyhpKTspe2I9Yi0KZS4kLnNjcm9sbExlZnQ7Yz1jLWUuJC5zY3JvbGxUb3A7ZT1lLmdldFBhcmVudCgpfWU9aTtpPShvPWkuJC5vZmZzZXRQYXJlbnQpP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChvKTpudWxsfX1pZihhKXtpPXRoaXMuZ2V0V2luZG93KCk7ZT1hLmdldFdpbmRvdygpO2lmKCFpLmVxdWFscyhlKSYmaS4kLmZyYW1lRWxlbWVudCl7YT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGkuJC5mcmFtZUVsZW1lbnQpKS5nZXREb2N1bWVudFBvc2l0aW9uKGEpO2I9YithLng7Yz1jK2EueX19aWYoIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJkNLRURJVE9SLmVudi5nZWNrbyYmIWope2I9YisodGhpcy4kLmNsaWVudExlZnQ\/MTowKTtjPWMrKHRoaXMuJC5jbGllbnRUb3A\/MTowKX1yZXR1cm57eDpiLHk6Y319LHNjcm9sbEludG9WaWV3OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0UGFyZW50KCk7aWYoYil7ZG97KGIuJC5jbGllbnRXaWR0aCYmYi4kLmNsaWVudFdpZHRoPApiLiQuc2Nyb2xsV2lkdGh8fGIuJC5jbGllbnRIZWlnaHQmJmIuJC5jbGllbnRIZWlnaHQ8Yi4kLnNjcm9sbEhlaWdodCkmJiFiLmlzKCJib2R5IikmJnRoaXMuc2Nyb2xsSW50b1BhcmVudChiLGEsMSk7aWYoYi5pcygiaHRtbCIpKXt2YXIgYz1iLmdldFdpbmRvdygpO3RyeXt2YXIgZT1jLiQuZnJhbWVFbGVtZW50O2UmJihiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChlKSl9Y2F0Y2goaSl7fX19d2hpbGUoYj1iLmdldFBhcmVudCgpKX19LHNjcm9sbEludG9QYXJlbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGksaixvO2Z1bmN0aW9uIHEoYixmKXtpZigvYm9keXxodG1sLy50ZXN0KGEuZ2V0TmFtZSgpKSlhLmdldFdpbmRvdygpLiQuc2Nyb2xsQnkoYixmKTtlbHNle2EuJC5zY3JvbGxMZWZ0PWEuJC5zY3JvbGxMZWZ0K2I7YS4kLnNjcm9sbFRvcD1hLiQuc2Nyb2xsVG9wK2Z9fWZ1bmN0aW9uIHMoYSxiKXt2YXIgZD17eDowLHk6MH07aWYoIWEuaXMoZj8iYm9keSI6Imh0bWwiKSl7dmFyIGM9CmEuJC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtkLng9Yy5sZWZ0O2QueT1jLnRvcH1jPWEuZ2V0V2luZG93KCk7aWYoIWMuZXF1YWxzKGIpKXtjPXMoQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGMuJC5mcmFtZUVsZW1lbnQpLGIpO2QueD1kLngrYy54O2QueT1kLnkrYy55fXJldHVybiBkfWZ1bmN0aW9uIHUoYSxiKXtyZXR1cm4gcGFyc2VJbnQoYS5nZXRDb21wdXRlZFN0eWxlKCJtYXJnaW4tIitiKXx8MCwxMCl8fDB9IWEmJihhPXRoaXMuZ2V0V2luZG93KCkpO2o9YS5nZXREb2N1bWVudCgpO3ZhciBmPWouJC5jb21wYXRNb2RlPT0iQmFja0NvbXBhdCI7YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS53aW5kb3cmJihhPWY\/ai5nZXRCb2R5KCk6ai5nZXREb2N1bWVudEVsZW1lbnQoKSk7aj1hLmdldFdpbmRvdygpO2k9cyh0aGlzLGopO3ZhciBwPXMoYSxqKSx5PXRoaXMuJC5vZmZzZXRIZWlnaHQ7ZT10aGlzLiQub2Zmc2V0V2lkdGg7dmFyIG09YS4kLmNsaWVudEhlaWdodCxrPQphLiQuY2xpZW50V2lkdGg7aj1pLngtdSh0aGlzLCJsZWZ0IiktcC54fHwwO289aS55LXUodGhpcywidG9wIiktcC55fHwwO2U9aS54K2UrdSh0aGlzLCJyaWdodCIpLShwLngrayl8fDA7aT1pLnkreSt1KHRoaXMsImJvdHRvbSIpLShwLnkrbSl8fDA7aWYobzwwfHxpPjApcSgwLGI9PT10cnVlP286Yj09PWZhbHNlP2k6bzwwP286aSk7aWYoYyYmKGo8MHx8ZT4wKSlxKGo8MD9qOmUsMCl9LHNldFN0YXRlOmZ1bmN0aW9uKGEsYixjKXtiPWJ8fCJja2UiO3N3aXRjaChhKXtjYXNlIENLRURJVE9SLlRSSVNUQVRFX09OOnRoaXMuYWRkQ2xhc3MoYisiX29uIik7dGhpcy5yZW1vdmVDbGFzcyhiKyJfb2ZmIik7dGhpcy5yZW1vdmVDbGFzcyhiKyJfZGlzYWJsZWQiKTtjJiZ0aGlzLnNldEF0dHJpYnV0ZSgiYXJpYS1wcmVzc2VkIix0cnVlKTtjJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ6dGhpcy5hZGRDbGFzcyhiKwoiX2Rpc2FibGVkIik7dGhpcy5yZW1vdmVDbGFzcyhiKyJfb2ZmIik7dGhpcy5yZW1vdmVDbGFzcyhiKyJfb24iKTtjJiZ0aGlzLnNldEF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIsdHJ1ZSk7YyYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoImFyaWEtcHJlc3NlZCIpO2JyZWFrO2RlZmF1bHQ6dGhpcy5hZGRDbGFzcyhiKyJfb2ZmIik7dGhpcy5yZW1vdmVDbGFzcyhiKyJfb24iKTt0aGlzLnJlbW92ZUNsYXNzKGIrIl9kaXNhYmxlZCIpO2MmJnRoaXMucmVtb3ZlQXR0cmlidXRlKCJhcmlhLXByZXNzZWQiKTtjJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIpfX0sZ2V0RnJhbWVEb2N1bWVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDt0cnl7YS5jb250ZW50V2luZG93LmRvY3VtZW50fWNhdGNoKGIpe2Euc3JjPWEuc3JjfXJldHVybiBhJiZuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGEuY29udGVudFdpbmRvdy5kb2N1bWVudCl9LGNvcHlBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsCmIpe2Zvcih2YXIgYz10aGlzLiQuYXR0cmlidXRlcyxiPWJ8fHt9LGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGk9Y1tlXSxqPWkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxvO2lmKCEoaiBpbiBiKSlpZihqPT0iY2hlY2tlZCImJihvPXRoaXMuZ2V0QXR0cmlidXRlKGopKSlhLnNldEF0dHJpYnV0ZShqLG8pO2Vsc2UgaWYoaS5zcGVjaWZpZWR8fENLRURJVE9SLmVudi5pZSYmaS5ub2RlVmFsdWUmJmo9PSJ2YWx1ZSIpe289dGhpcy5nZXRBdHRyaWJ1dGUoaik7aWYobz09PW51bGwpbz1pLm5vZGVWYWx1ZTthLnNldEF0dHJpYnV0ZShqLG8pfX1pZih0aGlzLiQuc3R5bGUuY3NzVGV4dCE9PSIiKWEuJC5zdHlsZS5jc3NUZXh0PXRoaXMuJC5zdHlsZS5jc3NUZXh0fSxyZW5hbWVOb2RlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZ2V0TmFtZSgpIT1hKXt2YXIgYj10aGlzLmdldERvY3VtZW50KCksYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSxiKTt0aGlzLmNvcHlBdHRyaWJ1dGVzKGEpOwp0aGlzLm1vdmVDaGlsZHJlbihhKTt0aGlzLmdldFBhcmVudCgpJiZ0aGlzLiQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoYS4kLHRoaXMuJCk7YS4kWyJkYXRhLWNrZS1leHBhbmRvIl09dGhpcy4kWyJkYXRhLWNrZS1leHBhbmRvIl07dGhpcy4kPWEuJH19LGdldENoaWxkOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe3ZhciBkPWIuY2hpbGROb2RlcztpZihjPj0wJiZjPGQubGVuZ3RoKXJldHVybiBkW2NdfXJldHVybiBmdW5jdGlvbihiKXt2YXIgYz10aGlzLiQ7aWYoYi5zbGljZSlmb3IoO2IubGVuZ3RoPjAmJmM7KWM9YShjLGIuc2hpZnQoKSk7ZWxzZSBjPWEoYyxiKTtyZXR1cm4gYz9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYyk6bnVsbH19KCksZ2V0Q2hpbGRDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQuY2hpbGROb2Rlcy5sZW5ndGh9LGRpc2FibGVDb250ZXh0TWVudTpmdW5jdGlvbigpe3RoaXMub24oImNvbnRleHRtZW51IixmdW5jdGlvbihhKXthLmRhdGEuZ2V0VGFyZ2V0KCkuaGFzQ2xhc3MoImNrZV9lbmFibGVfY29udGV4dF9tZW51Iil8fAphLmRhdGEucHJldmVudERlZmF1bHQoKX0pfSxnZXREaXJlY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGE\/dGhpcy5nZXRDb21wdXRlZFN0eWxlKCJkaXJlY3Rpb24iKXx8dGhpcy5nZXREaXJlY3Rpb24oKXx8dGhpcy5nZXRQYXJlbnQoKSYmdGhpcy5nZXRQYXJlbnQoKS5nZXREaXJlY3Rpb24oMSl8fHRoaXMuZ2V0RG9jdW1lbnQoKS4kLmRpcnx8Imx0ciI6dGhpcy5nZXRTdHlsZSgiZGlyZWN0aW9uIil8fHRoaXMuZ2V0QXR0cmlidXRlKCJkaXIiKX0sZGF0YTpmdW5jdGlvbihhLGIpe2E9ImRhdGEtIithO2lmKGI9PT12b2lkIDApcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKGEpO2I9PT1mYWxzZT90aGlzLnJlbW92ZUF0dHJpYnV0ZShhKTp0aGlzLnNldEF0dHJpYnV0ZShhLGIpO3JldHVybiBudWxsfSxnZXRFZGl0b3I6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5pbnN0YW5jZXMsYixjO2ZvcihiIGluIGEpe2M9YVtiXTtpZihjLmVsZW1lbnQuZXF1YWxzKHRoaXMpJiZjLmVsZW1lbnRNb2RlIT0KQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPKXJldHVybiBjfXJldHVybiBudWxsfSxmaW5kOmZ1bmN0aW9uKGIpe3ZhciBjPWEodGhpcyksYj1uZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5xdWVyeVNlbGVjdG9yQWxsKGUodGhpcyxiKSkpO2MoKTtyZXR1cm4gYn0sZmluZE9uZTpmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMpLGI9dGhpcy4kLnF1ZXJ5U2VsZWN0b3IoZSh0aGlzLGIpKTtjKCk7cmV0dXJuIGI\/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGIpOm51bGx9LGZvckVhY2g6ZnVuY3Rpb24oYSxiLGMpe2lmKCFjJiYoIWJ8fHRoaXMudHlwZT09YikpdmFyIGU9YSh0aGlzKTtpZihlIT09ZmFsc2UpZm9yKHZhciBjPXRoaXMuZ2V0Q2hpbGRyZW4oKSxpPTA7aTxjLmNvdW50KCk7aSsrKXtlPWMuZ2V0SXRlbShpKTtlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9lLmZvckVhY2goYSxiKTooIWJ8fGUudHlwZT09YikmJmEoZSl9fX0pO3ZhciBjPXt3aWR0aDpbImJvcmRlci1sZWZ0LXdpZHRoIiwKImJvcmRlci1yaWdodC13aWR0aCIsInBhZGRpbmctbGVmdCIsInBhZGRpbmctcmlnaHQiXSxoZWlnaHQ6WyJib3JkZXItdG9wLXdpZHRoIiwiYm9yZGVyLWJvdHRvbS13aWR0aCIsInBhZGRpbmctdG9wIiwicGFkZGluZy1ib3R0b20iXX07Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24oYSxjLGUpe2lmKHR5cGVvZiBjPT0ibnVtYmVyIil7aWYoZSYmKCFDS0VESVRPUi5lbnYuaWV8fCFDS0VESVRPUi5lbnYucXVpcmtzKSljPWMtYi5jYWxsKHRoaXMsYSk7dGhpcy5zZXRTdHlsZShhLGMrInB4Iil9fTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbihhLGMpe3ZhciBlPU1hdGgubWF4KHRoaXMuJFsib2Zmc2V0IitDS0VESVRPUi50b29scy5jYXBpdGFsaXplKGEpXSx0aGlzLiRbImNsaWVudCIrQ0tFRElUT1IudG9vbHMuY2FwaXRhbGl6ZShhKV0pfHwwO2MmJihlPWUtYi5jYWxsKHRoaXMsYSkpO3JldHVybiBlfX0pKCk7CkNLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50PWZ1bmN0aW9uKGEpe2E9YXx8Q0tFRElUT1IuZG9jdW1lbnQ7dGhpcy4kPWEudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVD9hLiQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOmF9OwpDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5ULGluc2VydEFmdGVyTm9kZTpmdW5jdGlvbihhKXthPWEuJDthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuJCxhLm5leHRTaWJsaW5nKX19LCEwLHthcHBlbmQ6MSxhcHBlbmRCb2d1czoxLGdldEZpcnN0OjEsZ2V0TGFzdDoxLGdldFBhcmVudDoxLGdldE5leHQ6MSxnZXRQcmV2aW91czoxLGFwcGVuZFRvOjEsbW92ZUNoaWxkcmVuOjEsaW5zZXJ0QmVmb3JlOjEsaW5zZXJ0QWZ0ZXJOb2RlOjEscmVwbGFjZToxLHRyaW06MSx0eXBlOjEsbHRyaW06MSxydHJpbToxLGdldERvY3VtZW50OjEsZ2V0Q2hpbGRDb3VudDoxLGdldENoaWxkOjEsZ2V0Q2hpbGRyZW46MX0pOwooZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGM9dGhpcy5yYW5nZTtpZih0aGlzLl8uZW5kKXJldHVybiBudWxsO2lmKCF0aGlzLl8uc3RhcnQpe3RoaXMuXy5zdGFydD0xO2lmKGMuY29sbGFwc2VkKXt0aGlzLmVuZCgpO3JldHVybiBudWxsfWMub3B0aW1pemUoKX12YXIgZixkPWMuc3RhcnRDb250YWluZXI7Zj1jLmVuZENvbnRhaW5lcjt2YXIgbz1jLnN0YXJ0T2Zmc2V0LGU9Yy5lbmRPZmZzZXQsayxsPXRoaXMuZ3VhcmQsdD10aGlzLnR5cGUsaD1hPyJnZXRQcmV2aW91c1NvdXJjZU5vZGUiOiJnZXROZXh0U291cmNlTm9kZSI7aWYoIWEmJiF0aGlzLl8uZ3VhcmRMVFIpe3ZhciByPWYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2Y6Zi5nZXRQYXJlbnQoKSxpPWYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2YuZ2V0Q2hpbGQoZSk6Zi5nZXROZXh0KCk7dGhpcy5fLmd1YXJkTFRSPWZ1bmN0aW9uKGEsYil7cmV0dXJuKCFifHwhci5lcXVhbHMoYSkpJiYoIWl8fAohYS5lcXVhbHMoaSkpJiYoYS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFifHwhYS5lcXVhbHMoYy5yb290KSl9fWlmKGEmJiF0aGlzLl8uZ3VhcmRSVEwpe3ZhciBnPWQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2Q6ZC5nZXRQYXJlbnQoKSxqPWQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP28\/ZC5nZXRDaGlsZChvLTEpOm51bGw6ZC5nZXRQcmV2aW91cygpO3RoaXMuXy5ndWFyZFJUTD1mdW5jdGlvbihhLGIpe3JldHVybighYnx8IWcuZXF1YWxzKGEpKSYmKCFqfHwhYS5lcXVhbHMoaikpJiYoYS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFifHwhYS5lcXVhbHMoYy5yb290KSl9fXZhciBuPWE\/dGhpcy5fLmd1YXJkUlRMOnRoaXMuXy5ndWFyZExUUjtrPWw\/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbihhLGIpPT09ZmFsc2U\/ZmFsc2U6bChhLGIpfTpuO2lmKHRoaXMuY3VycmVudClmPXRoaXMuY3VycmVudFtoXShmYWxzZSx0LGspO2Vsc2V7aWYoYSlmLnR5cGU9PQpDS0VESVRPUi5OT0RFX0VMRU1FTlQmJihmPWU+MD9mLmdldENoaWxkKGUtMSk6ayhmLHRydWUpPT09ZmFsc2U\/bnVsbDpmLmdldFByZXZpb3VzU291cmNlTm9kZSh0cnVlLHQsaykpO2Vsc2V7Zj1kO2lmKGYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhKGY9Zi5nZXRDaGlsZChvKSkpZj1rKGQsdHJ1ZSk9PT1mYWxzZT9udWxsOmQuZ2V0TmV4dFNvdXJjZU5vZGUodHJ1ZSx0LGspfWYmJmsoZik9PT1mYWxzZSYmKGY9bnVsbCl9Zm9yKDtmJiYhdGhpcy5fLmVuZDspe3RoaXMuY3VycmVudD1mO2lmKCF0aGlzLmV2YWx1YXRvcnx8dGhpcy5ldmFsdWF0b3IoZikhPT1mYWxzZSl7aWYoIWIpcmV0dXJuIGZ9ZWxzZSBpZihiJiZ0aGlzLmV2YWx1YXRvcilyZXR1cm4gZmFsc2U7Zj1mW2hdKGZhbHNlLHQsayl9dGhpcy5lbmQoKTtyZXR1cm4gdGhpcy5jdXJyZW50PW51bGx9ZnVuY3Rpb24gZShiKXtmb3IodmFyIGMsZD1udWxsO2M9YS5jYWxsKHRoaXMsYik7KWQ9YztyZXR1cm4gZH0KZnVuY3Rpb24gYihhKXtpZihqKGEpKXJldHVybiBmYWxzZTtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVClyZXR1cm4gdHJ1ZTtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7aWYoYS5pcyhDS0VESVRPUi5kdGQuJGlubGluZSl8fGEuZ2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKT09ImZhbHNlIilyZXR1cm4gdHJ1ZTt2YXIgYjtpZihiPSFDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcilpZihiPWEuaXMobykpYTp7Yj0wO2Zvcih2YXIgYz1hLmdldENoaWxkQ291bnQoKTtiPGM7KytiKWlmKCFqKGEuZ2V0Q2hpbGQoYikpKXtiPWZhbHNlO2JyZWFrIGF9Yj10cnVlfWlmKGIpcmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfUNLRURJVE9SLmRvbS53YWxrZXI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSl7dGhpcy5yYW5nZT1hO3RoaXMuXz17fX0scHJvdG86e2VuZDpmdW5jdGlvbigpe3RoaXMuXy5lbmQ9MX0sbmV4dDpmdW5jdGlvbigpe3JldHVybiBhLmNhbGwodGhpcyl9LApwcmV2aW91czpmdW5jdGlvbigpe3JldHVybiBhLmNhbGwodGhpcywxKX0sY2hlY2tGb3J3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIGEuY2FsbCh0aGlzLDAsMSkhPT1mYWxzZX0sY2hlY2tCYWNrd2FyZDpmdW5jdGlvbigpe3JldHVybiBhLmNhbGwodGhpcywxLDEpIT09ZmFsc2V9LGxhc3RGb3J3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIGUuY2FsbCh0aGlzKX0sbGFzdEJhY2t3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIGUuY2FsbCh0aGlzLDEpfSxyZXNldDpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmN1cnJlbnQ7dGhpcy5fPXt9fX19KTt2YXIgYz17YmxvY2s6MSwibGlzdC1pdGVtIjoxLHRhYmxlOjEsInRhYmxlLXJvdy1ncm91cCI6MSwidGFibGUtaGVhZGVyLWdyb3VwIjoxLCJ0YWJsZS1mb290ZXItZ3JvdXAiOjEsInRhYmxlLXJvdyI6MSwidGFibGUtY29sdW1uLWdyb3VwIjoxLCJ0YWJsZS1jb2x1bW4iOjEsInRhYmxlLWNlbGwiOjEsInRhYmxlLWNhcHRpb24iOjF9LGQ9e2Fic29sdXRlOjEsCmZpeGVkOjF9O0NLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5pc0Jsb2NrQm91bmRhcnk9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0Q29tcHV0ZWRTdHlsZSgiZmxvYXQiKT09Im5vbmUiJiYhKHRoaXMuZ2V0Q29tcHV0ZWRTdHlsZSgicG9zaXRpb24iKWluIGQpJiZjW3RoaXMuZ2V0Q29tcHV0ZWRTdHlsZSgiZGlzcGxheSIpXT90cnVlOiEhKHRoaXMuaXMoQ0tFRElUT1IuZHRkLiRibG9jayl8fGEmJnRoaXMuaXMoYSkpfTtDS0VESVRPUi5kb20ud2Fsa2VyLmJsb2NrQm91bmRhcnk9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiEoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaXNCbG9ja0JvdW5kYXJ5KGEpKX19O0NLRURJVE9SLmRvbS53YWxrZXIubGlzdEl0ZW1Cb3VuZGFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2NrQm91bmRhcnkoe2JyOjF9KX07Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7cmV0dXJuIGEmJgphLmdldE5hbWUmJmEuZ2V0TmFtZSgpPT0ic3BhbiImJmEuZGF0YSgiY2tlLWJvb2ttYXJrIil9cmV0dXJuIGZ1bmN0aW9uKGYpe3ZhciBkLG87ZD1mJiZmLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKG89Zi5nZXRQYXJlbnQoKSkmJmMobyk7ZD1hP2Q6ZHx8YyhmKTtyZXR1cm4hIShiXmQpfX07Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM7YiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjPSFDS0VESVRPUi50b29scy50cmltKGIuZ2V0VGV4dCgpKXx8Q0tFRElUT1IuZW52LndlYmtpdCYmYi5nZXRUZXh0KCk9PSLigIsiKTtyZXR1cm4hIShhXmMpfX07Q0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGU9ZnVuY3Rpb24oYSl7dmFyIGI9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpO3JldHVybiBmdW5jdGlvbihjKXtpZihiKGMpKWM9MTtlbHNle2MudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYKKGM9Yy5nZXRQYXJlbnQoKSk7Yz0hYy4kLm9mZnNldEhlaWdodH1yZXR1cm4hIShhXmMpfX07Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4hIShiXmMudHlwZT09YSl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIWcoYSkmJiFuKGEpfXJldHVybiBmdW5jdGlvbihjKXt2YXIgZj1DS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9jLmlzJiZjLmlzKCJiciIpOmMuZ2V0VGV4dCYmaC50ZXN0KGMuZ2V0VGV4dCgpKTtpZihmKXtmPWMuZ2V0UGFyZW50KCk7Yz1jLmdldE5leHQoYik7Zj1mLmlzQmxvY2tCb3VuZGFyeSgpJiYoIWN8fGMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZjLmlzQmxvY2tCb3VuZGFyeSgpKX1yZXR1cm4hIShhXmYpfX07Q0tFRElUT1IuZG9tLndhbGtlci50ZW1wPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiLnR5cGUhPQpDS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiPWIuZ2V0UGFyZW50KCkpO2I9YiYmYi5oYXNBdHRyaWJ1dGUoImRhdGEtY2tlLXRlbXAiKTtyZXR1cm4hIShhXmIpfX07dmFyIGg9L15bXHRcclxuIF0qKD86Jm5ic3A7fFx4YTApJC8sZz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksbj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksaT1DS0VESVRPUi5kb20ud2Fsa2VyLnRlbXAoKTtDS0VESVRPUi5kb20ud2Fsa2VyLmlnbm9yZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2I9ZyhiKXx8bihiKXx8aShiKTtyZXR1cm4hIShhXmIpfX07dmFyIGo9Q0tFRElUT1IuZG9tLndhbGtlci5pZ25vcmVkKCksbz1mdW5jdGlvbihhKXt2YXIgYj17fSxjO2ZvcihjIGluIGEpQ0tFRElUT1IuZHRkW2NdWyIjIl0mJihiW2NdPTEpO3JldHVybiBifShDS0VESVRPUi5kdGQuJGJsb2NrKTtDS0VESVRPUi5kb20ud2Fsa2VyLmVkaXRhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4hIShhXgpiKGMpKX19O0NLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5nZXRCb2d1cz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ZG8gYT1hLmdldFByZXZpb3VzU291cmNlTm9kZSgpO3doaWxlKG4oYSl8fGcoYSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKSYmIWEuaXMoQ0tFRElUT1IuZHRkLiRlbXB0eSkpO3JldHVybiBhJiYoQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI\/YS5pcyYmYS5pcygiYnIiKTphLmdldFRleHQmJmgudGVzdChhLmdldFRleHQoKSkpP2E6ZmFsc2V9fSkoKTsKQ0tFRElUT1IuZG9tLnJhbmdlPWZ1bmN0aW9uKGEpe3RoaXMuZW5kT2Zmc2V0PXRoaXMuZW5kQ29udGFpbmVyPXRoaXMuc3RhcnRPZmZzZXQ9dGhpcy5zdGFydENvbnRhaW5lcj1udWxsO3RoaXMuY29sbGFwc2VkPXRydWU7dmFyIGU9YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5kb2N1bWVudDt0aGlzLmRvY3VtZW50PWU\/YTphLmdldERvY3VtZW50KCk7dGhpcy5yb290PWU\/YS5nZXRCb2R5KCk6YX07CihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt2YXIgYT1mYWxzZSxiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxjPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsodHJ1ZSksZD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzKCk7cmV0dXJuIGZ1bmN0aW9uKGYpe2lmKGMoZil8fGIoZikpcmV0dXJuIHRydWU7aWYoZChmKSYmIWEpcmV0dXJuIGE9dHJ1ZTtyZXR1cm4gZi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihmLmhhc0FzY2VuZGFudCgicHJlIil8fENLRURJVE9SLnRvb2xzLnRyaW0oZi5nZXRUZXh0KCkpLmxlbmd0aCl8fGYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhZi5pcyhoKT9mYWxzZTp0cnVlfX1mdW5jdGlvbiBlKGEpe3ZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxjPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoMSk7cmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiBjKGQpfHxiKGQpP3RydWU6IWEmJmcoZCl8fApkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pcyhDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5KX19ZnVuY3Rpb24gYihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gdGhpc1thPyJnZXRQcmV2aW91c05vZGUiOiJnZXROZXh0Tm9kZSJdKGZ1bmN0aW9uKGEpeyFiJiZqKGEpJiYoYj1hKTtyZXR1cm4gaShhKSYmIShnKGEpJiZhLmVxdWFscyhiKSl9KX19dmFyIGM9ZnVuY3Rpb24oYSl7YS5jb2xsYXBzZWQ9YS5zdGFydENvbnRhaW5lciYmYS5lbmRDb250YWluZXImJmEuc3RhcnRDb250YWluZXIuZXF1YWxzKGEuZW5kQ29udGFpbmVyKSYmYS5zdGFydE9mZnNldD09YS5lbmRPZmZzZXR9LGQ9ZnVuY3Rpb24oYSxiLGMsZCl7YS5vcHRpbWl6ZUJvb2ttYXJrKCk7dmFyIGY9YS5zdGFydENvbnRhaW5lcixlPWEuZW5kQ29udGFpbmVyLGg9YS5zdGFydE9mZnNldCxtPWEuZW5kT2Zmc2V0LGssbDtpZihlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCllPWUuc3BsaXQobSk7CmVsc2UgaWYoZS5nZXRDaGlsZENvdW50KCk+MClpZihtPj1lLmdldENoaWxkQ291bnQoKSl7ZT1lLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZVRleHQoIiIpKTtsPXRydWV9ZWxzZSBlPWUuZ2V0Q2hpbGQobSk7aWYoZi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2Yuc3BsaXQoaCk7Zi5lcXVhbHMoZSkmJihlPWYuZ2V0TmV4dCgpKX1lbHNlIGlmKGgpaWYoaD49Zi5nZXRDaGlsZENvdW50KCkpe2Y9Zi5hcHBlbmQoYS5kb2N1bWVudC5jcmVhdGVUZXh0KCIiKSk7az10cnVlfWVsc2UgZj1mLmdldENoaWxkKGgpLmdldFByZXZpb3VzKCk7ZWxzZXtmPWYuYXBwZW5kKGEuZG9jdW1lbnQuY3JlYXRlVGV4dCgiIiksMSk7az10cnVlfXZhciBoPWYuZ2V0UGFyZW50cygpLG09ZS5nZXRQYXJlbnRzKCksdCxpLHI7Zm9yKHQ9MDt0PGgubGVuZ3RoO3QrKyl7aT1oW3RdO3I9bVt0XTtpZighaS5lcXVhbHMocikpYnJlYWt9Zm9yKHZhciBnPWMsaixuLEUsej10O3o8aC5sZW5ndGg7eisrKXtqPQpoW3pdO2cmJiFqLmVxdWFscyhmKSYmKG49Zy5hcHBlbmQoai5jbG9uZSgpKSk7Zm9yKGo9ai5nZXROZXh0KCk7ajspe2lmKGouZXF1YWxzKG1bel0pfHxqLmVxdWFscyhlKSlicmVhaztFPWouZ2V0TmV4dCgpO2lmKGI9PTIpZy5hcHBlbmQoai5jbG9uZSh0cnVlKSk7ZWxzZXtqLnJlbW92ZSgpO2I9PTEmJmcuYXBwZW5kKGopfWo9RX1nJiYoZz1uKX1nPWM7Zm9yKGM9dDtjPG0ubGVuZ3RoO2MrKyl7aj1tW2NdO2I+MCYmIWouZXF1YWxzKGUpJiYobj1nLmFwcGVuZChqLmNsb25lKCkpKTtpZighaFtjXXx8ai4kLnBhcmVudE5vZGUhPWhbY10uJC5wYXJlbnROb2RlKWZvcihqPWouZ2V0UHJldmlvdXMoKTtqOyl7aWYoai5lcXVhbHMoaFtjXSl8fGouZXF1YWxzKGYpKWJyZWFrO0U9ai5nZXRQcmV2aW91cygpO2lmKGI9PTIpZy4kLmluc2VydEJlZm9yZShqLiQuY2xvbmVOb2RlKHRydWUpLGcuJC5maXJzdENoaWxkKTtlbHNle2oucmVtb3ZlKCk7Yj09MSYmZy4kLmluc2VydEJlZm9yZShqLiQsCmcuJC5maXJzdENoaWxkKX1qPUV9ZyYmKGc9bil9aWYoYj09Mil7aT1hLnN0YXJ0Q29udGFpbmVyO2lmKGkudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtpLiQuZGF0YT1pLiQuZGF0YStpLiQubmV4dFNpYmxpbmcuZGF0YTtpLiQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpLiQubmV4dFNpYmxpbmcpfWE9YS5lbmRDb250YWluZXI7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJmEuJC5uZXh0U2libGluZyl7YS4kLmRhdGE9YS4kLmRhdGErYS4kLm5leHRTaWJsaW5nLmRhdGE7YS4kLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYS4kLm5leHRTaWJsaW5nKX19ZWxzZXtpZihpJiZyJiYoZi4kLnBhcmVudE5vZGUhPWkuJC5wYXJlbnROb2RlfHxlLiQucGFyZW50Tm9kZSE9ci4kLnBhcmVudE5vZGUpKXtiPXIuZ2V0SW5kZXgoKTtrJiZyLiQucGFyZW50Tm9kZT09Zi4kLnBhcmVudE5vZGUmJmItLTtpZihkJiZpLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7ZD1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnPHNwYW4gZGF0YS1ja2UtYm9va21hcms9IjEiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPiZuYnNwOzwvc3Bhbj4nLAphLmRvY3VtZW50KTtkLmluc2VydEFmdGVyKGkpO2kubWVyZ2VTaWJsaW5ncyhmYWxzZSk7YS5tb3ZlVG9Cb29rbWFyayh7c3RhcnROb2RlOmR9KX1lbHNlIGEuc2V0U3RhcnQoci5nZXRQYXJlbnQoKSxiKX1hLmNvbGxhcHNlKHRydWUpfWsmJmYucmVtb3ZlKCk7bCYmZS4kLnBhcmVudE5vZGUmJmUucmVtb3ZlKCl9LGg9e2FiYnI6MSxhY3JvbnltOjEsYjoxLGJkbzoxLGJpZzoxLGNpdGU6MSxjb2RlOjEsZGVsOjEsZGZuOjEsZW06MSxmb250OjEsaToxLGluczoxLGxhYmVsOjEsa2JkOjEscToxLHNhbXA6MSxzbWFsbDoxLHNwYW46MSxzdHJpa2U6MSxzdHJvbmc6MSxzdWI6MSxzdXA6MSx0dDoxLHU6MSwidmFyIjoxfSxnPUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKSxuPS9eW1x0XHJcbiBdKig\/OiZuYnNwO3xceGEwKSQvLGk9Q0tFRElUT1IuZG9tLndhbGtlci5lZGl0YWJsZSgpLGo9Q0tFRElUT1IuZG9tLndhbGtlci5pZ25vcmVkKHRydWUpO0NLRURJVE9SLmRvbS5yYW5nZS5wcm90b3R5cGU9CntjbG9uZTpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTthLnN0YXJ0Q29udGFpbmVyPXRoaXMuc3RhcnRDb250YWluZXI7YS5zdGFydE9mZnNldD10aGlzLnN0YXJ0T2Zmc2V0O2EuZW5kQ29udGFpbmVyPXRoaXMuZW5kQ29udGFpbmVyO2EuZW5kT2Zmc2V0PXRoaXMuZW5kT2Zmc2V0O2EuY29sbGFwc2VkPXRoaXMuY29sbGFwc2VkO3JldHVybiBhfSxjb2xsYXBzZTpmdW5jdGlvbihhKXtpZihhKXt0aGlzLmVuZENvbnRhaW5lcj10aGlzLnN0YXJ0Q29udGFpbmVyO3RoaXMuZW5kT2Zmc2V0PXRoaXMuc3RhcnRPZmZzZXR9ZWxzZXt0aGlzLnN0YXJ0Q29udGFpbmVyPXRoaXMuZW5kQ29udGFpbmVyO3RoaXMuc3RhcnRPZmZzZXQ9dGhpcy5lbmRPZmZzZXR9dGhpcy5jb2xsYXBzZWQ9dHJ1ZX0sY2xvbmVDb250ZW50czpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCh0aGlzLmRvY3VtZW50KTt0aGlzLmNvbGxhcHNlZHx8CmQodGhpcywyLGEpO3JldHVybiBhfSxkZWxldGVDb250ZW50czpmdW5jdGlvbihhKXt0aGlzLmNvbGxhcHNlZHx8ZCh0aGlzLDAsbnVsbCxhKX0sZXh0cmFjdENvbnRlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCh0aGlzLmRvY3VtZW50KTt0aGlzLmNvbGxhcHNlZHx8ZCh0aGlzLDEsYixhKTtyZXR1cm4gYn0sY3JlYXRlQm9va21hcms6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGYsZT10aGlzLmNvbGxhcHNlZDtiPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2IuZGF0YSgiY2tlLWJvb2ttYXJrIiwxKTtiLnNldFN0eWxlKCJkaXNwbGF5Iiwibm9uZSIpO2Iuc2V0SHRtbCgiJm5ic3A7Iik7aWYoYSl7ZD0iY2tlX2JtXyIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO2Iuc2V0QXR0cmlidXRlKCJpZCIsZCsoZT8iQyI6IlMiKSl9aWYoIWUpe2M9Yi5jbG9uZSgpO2Muc2V0SHRtbCgiJm5ic3A7Iik7YSYmYy5zZXRBdHRyaWJ1dGUoImlkIiwKZCsiRSIpO2Y9dGhpcy5jbG9uZSgpO2YuY29sbGFwc2UoKTtmLmluc2VydE5vZGUoYyl9Zj10aGlzLmNsb25lKCk7Zi5jb2xsYXBzZSh0cnVlKTtmLmluc2VydE5vZGUoYik7aWYoYyl7dGhpcy5zZXRTdGFydEFmdGVyKGIpO3RoaXMuc2V0RW5kQmVmb3JlKGMpfWVsc2UgdGhpcy5tb3ZlVG9Qb3NpdGlvbihiLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7cmV0dXJue3N0YXJ0Tm9kZTphP2QrKGU\/IkMiOiJTIik6YixlbmROb2RlOmE\/ZCsiRSI6YyxzZXJpYWxpemFibGU6YSxjb2xsYXBzZWQ6ZX19LGNyZWF0ZUJvb2ttYXJrMjpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7dmFyIGM9Yi5jb250YWluZXIsZD1iLm9mZnNldCxmO2Y9Yzt2YXIgZT1kO2Y9Zi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGU9PT0wfHxlPT1mLmdldENoaWxkQ291bnQoKT8wOmYuZ2V0Q2hpbGQoZS0xKS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJmYuZ2V0Q2hpbGQoZSkudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUOwppZihmKXtjPWMuZ2V0Q2hpbGQoZC0xKTtkPWMuZ2V0TGVuZ3RoKCl9Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQ+MSYmKGQ9Yy5nZXRDaGlsZChkLTEpLmdldEluZGV4KHRydWUpKzEpO2lmKGMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtmPWM7Zm9yKGU9MDsoZj1mLmdldFByZXZpb3VzKCkpJiZmLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVDspZT1lK2YuZ2V0TGVuZ3RoKCk7ZD1kK2V9Yi5jb250YWluZXI9YztiLm9mZnNldD1kfXJldHVybiBmdW5jdGlvbihiKXt2YXIgYz10aGlzLmNvbGxhcHNlZCxkPXtjb250YWluZXI6dGhpcy5zdGFydENvbnRhaW5lcixvZmZzZXQ6dGhpcy5zdGFydE9mZnNldH0sZj17Y29udGFpbmVyOnRoaXMuZW5kQ29udGFpbmVyLG9mZnNldDp0aGlzLmVuZE9mZnNldH07aWYoYil7YShkKTtjfHxhKGYpfXJldHVybntzdGFydDpkLmNvbnRhaW5lci5nZXRBZGRyZXNzKGIpLGVuZDpjP251bGw6Zi5jb250YWluZXIuZ2V0QWRkcmVzcyhiKSwKc3RhcnRPZmZzZXQ6ZC5vZmZzZXQsZW5kT2Zmc2V0OmYub2Zmc2V0LG5vcm1hbGl6ZWQ6Yixjb2xsYXBzZWQ6YyxpczI6dHJ1ZX19fSgpLG1vdmVUb0Jvb2ttYXJrOmZ1bmN0aW9uKGEpe2lmKGEuaXMyKXt2YXIgYj10aGlzLmRvY3VtZW50LmdldEJ5QWRkcmVzcyhhLnN0YXJ0LGEubm9ybWFsaXplZCksYz1hLnN0YXJ0T2Zmc2V0LGQ9YS5lbmQmJnRoaXMuZG9jdW1lbnQuZ2V0QnlBZGRyZXNzKGEuZW5kLGEubm9ybWFsaXplZCksYT1hLmVuZE9mZnNldDt0aGlzLnNldFN0YXJ0KGIsYyk7ZD90aGlzLnNldEVuZChkLGEpOnRoaXMuY29sbGFwc2UodHJ1ZSl9ZWxzZXtiPShjPWEuc2VyaWFsaXphYmxlKT90aGlzLmRvY3VtZW50LmdldEJ5SWQoYS5zdGFydE5vZGUpOmEuc3RhcnROb2RlO2E9Yz90aGlzLmRvY3VtZW50LmdldEJ5SWQoYS5lbmROb2RlKTphLmVuZE5vZGU7dGhpcy5zZXRTdGFydEJlZm9yZShiKTtiLnJlbW92ZSgpO2lmKGEpe3RoaXMuc2V0RW5kQmVmb3JlKGEpO2EucmVtb3ZlKCl9ZWxzZSB0aGlzLmNvbGxhcHNlKHRydWUpfX0sCmdldEJvdW5kYXJ5Tm9kZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyLGI9dGhpcy5lbmRDb250YWluZXIsYz10aGlzLnN0YXJ0T2Zmc2V0LGQ9dGhpcy5lbmRPZmZzZXQsZjtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7Zj1hLmdldENoaWxkQ291bnQoKTtpZihmPmMpYT1hLmdldENoaWxkKGMpO2Vsc2UgaWYoZjwxKWE9YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoKTtlbHNle2ZvcihhPWEuJDthLmxhc3RDaGlsZDspYT1hLmxhc3RDaGlsZDthPW5ldyBDS0VESVRPUi5kb20ubm9kZShhKTthPWEuZ2V0TmV4dFNvdXJjZU5vZGUoKXx8YX19aWYoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2Y9Yi5nZXRDaGlsZENvdW50KCk7aWYoZj5kKWI9Yi5nZXRDaGlsZChkKS5nZXRQcmV2aW91c1NvdXJjZU5vZGUodHJ1ZSk7ZWxzZSBpZihmPDEpYj1iLmdldFByZXZpb3VzU291cmNlTm9kZSgpO2Vsc2V7Zm9yKGI9Yi4kO2IubGFzdENoaWxkOyliPQpiLmxhc3RDaGlsZDtiPW5ldyBDS0VESVRPUi5kb20ubm9kZShiKX19YS5nZXRQb3NpdGlvbihiKSZDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkcmJihhPWIpO3JldHVybntzdGFydE5vZGU6YSxlbmROb2RlOmJ9fSxnZXRDb21tb25BbmNlc3RvcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc3RhcnRDb250YWluZXIsZD10aGlzLmVuZENvbnRhaW5lcixjPWMuZXF1YWxzKGQpP2EmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ0aGlzLnN0YXJ0T2Zmc2V0PT10aGlzLmVuZE9mZnNldC0xP2MuZ2V0Q2hpbGQodGhpcy5zdGFydE9mZnNldCk6YzpjLmdldENvbW1vbkFuY2VzdG9yKGQpO3JldHVybiBiJiYhYy5pcz9jLmdldFBhcmVudCgpOmN9LG9wdGltaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixiPXRoaXMuc3RhcnRPZmZzZXQ7YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiP2I+PWEuZ2V0TGVuZ3RoKCkmJnRoaXMuc2V0U3RhcnRBZnRlcihhKToKdGhpcy5zZXRTdGFydEJlZm9yZShhKSk7YT10aGlzLmVuZENvbnRhaW5lcjtiPXRoaXMuZW5kT2Zmc2V0O2EudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYj9iPj1hLmdldExlbmd0aCgpJiZ0aGlzLnNldEVuZEFmdGVyKGEpOnRoaXMuc2V0RW5kQmVmb3JlKGEpKX0sb3B0aW1pemVCb29rbWFyazpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXIsYj10aGlzLmVuZENvbnRhaW5lcjthLmlzJiYoYS5pcygic3BhbiIpJiZhLmRhdGEoImNrZS1ib29rbWFyayIpKSYmdGhpcy5zZXRTdGFydEF0KGEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtiJiYoYi5pcyYmYi5pcygic3BhbiIpJiZiLmRhdGEoImNrZS1ib29rbWFyayIpKSYmdGhpcy5zZXRFbmRBdChiLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCl9LHRyaW06ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnN0YXJ0Q29udGFpbmVyLGQ9dGhpcy5zdGFydE9mZnNldCxmPXRoaXMuY29sbGFwc2VkOwppZigoIWF8fGYpJiZjJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7aWYoZClpZihkPj1jLmdldExlbmd0aCgpKXtkPWMuZ2V0SW5kZXgoKSsxO2M9Yy5nZXRQYXJlbnQoKX1lbHNle3ZhciBlPWMuc3BsaXQoZCksZD1jLmdldEluZGV4KCkrMSxjPWMuZ2V0UGFyZW50KCk7aWYodGhpcy5zdGFydENvbnRhaW5lci5lcXVhbHModGhpcy5lbmRDb250YWluZXIpKXRoaXMuc2V0RW5kKGUsdGhpcy5lbmRPZmZzZXQtdGhpcy5zdGFydE9mZnNldCk7ZWxzZSBpZihjLmVxdWFscyh0aGlzLmVuZENvbnRhaW5lcikpdGhpcy5lbmRPZmZzZXQ9dGhpcy5lbmRPZmZzZXQrMX1lbHNle2Q9Yy5nZXRJbmRleCgpO2M9Yy5nZXRQYXJlbnQoKX10aGlzLnNldFN0YXJ0KGMsZCk7aWYoZil7dGhpcy5jb2xsYXBzZSh0cnVlKTtyZXR1cm59fWM9dGhpcy5lbmRDb250YWluZXI7ZD10aGlzLmVuZE9mZnNldDtpZighYiYmIWYmJmMmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtpZihkKXtkPj1jLmdldExlbmd0aCgpfHwKYy5zcGxpdChkKTtkPWMuZ2V0SW5kZXgoKSsxfWVsc2UgZD1jLmdldEluZGV4KCk7Yz1jLmdldFBhcmVudCgpO3RoaXMuc2V0RW5kKGMsZCl9fSxlbmxhcmdlOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKT9udWxsOmF9c3dpdGNoKGEpe2Nhc2UgQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkU6dmFyIGQ9MTtjYXNlIENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVDppZih0aGlzLmNvbGxhcHNlZClicmVhazt2YXIgZj10aGlzLmdldENvbW1vbkFuY2VzdG9yKCksZT10aGlzLnJvb3QsaCxtLGssbCx0LGk9ZmFsc2UscixqO3I9dGhpcy5zdGFydENvbnRhaW5lcjtqPXRoaXMuc3RhcnRPZmZzZXQ7aWYoci50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2lmKGope3I9IUNLRURJVE9SLnRvb2xzLnRyaW0oci5zdWJzdHJpbmcoMCxqKSkubGVuZ3RoJiZyO2k9ISFyfWlmKHImJgohKGw9ci5nZXRQcmV2aW91cygpKSlrPXIuZ2V0UGFyZW50KCl9ZWxzZXtqJiYobD1yLmdldENoaWxkKGotMSl8fHIuZ2V0TGFzdCgpKTtsfHwoaz1yKX1mb3Ioaz1jKGspO2t8fGw7KXtpZihrJiYhbCl7IXQmJmsuZXF1YWxzKGYpJiYodD10cnVlKTtpZihkP2suaXNCbG9ja0JvdW5kYXJ5KCk6IWUuY29udGFpbnMoaykpYnJlYWs7aWYoIWl8fGsuZ2V0Q29tcHV0ZWRTdHlsZSgiZGlzcGxheSIpIT0iaW5saW5lIil7aT1mYWxzZTt0P2g9azp0aGlzLnNldFN0YXJ0QmVmb3JlKGspfWw9ay5nZXRQcmV2aW91cygpfWZvcig7bDspe3I9ZmFsc2U7aWYobC50eXBlPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQpbD1sLmdldFByZXZpb3VzKCk7ZWxzZXtpZihsLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7aj1sLmdldFRleHQoKTsvW15cc1x1ZmVmZl0vLnRlc3QoaikmJihsPW51bGwpO3I9L1tcc1x1ZmVmZl0kLy50ZXN0KGopfWVsc2UgaWYoKGwuJC5vZmZzZXRXaWR0aD4wfHxiJiZsLmlzKCJiciIpKSYmCiFsLmRhdGEoImNrZS1ib29rbWFyayIpKWlmKGkmJkNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbbC5nZXROYW1lKCldKXtqPWwuZ2V0VGV4dCgpO2lmKC9bXlxzXHVmZWZmXS8udGVzdChqKSlsPW51bGw7ZWxzZSBmb3IodmFyIGc9bC4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIiksbj0wLEU7RT1nW24rK107KWlmKCFDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W0Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pe2w9bnVsbDticmVha31sJiYocj0hIWoubGVuZ3RoKX1lbHNlIGw9bnVsbDtyJiYoaT90P2g9azprJiZ0aGlzLnNldFN0YXJ0QmVmb3JlKGspOmk9dHJ1ZSk7aWYobCl7cj1sLmdldFByZXZpb3VzKCk7aWYoIWsmJiFyKXtrPWw7bD1udWxsO2JyZWFrfWw9cn1lbHNlIGs9bnVsbH19ayYmKGs9YyhrLmdldFBhcmVudCgpKSl9cj10aGlzLmVuZENvbnRhaW5lcjtqPXRoaXMuZW5kT2Zmc2V0O2s9bD1udWxsO3Q9aT1mYWxzZTtpZihyLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7cj0KIUNLRURJVE9SLnRvb2xzLnRyaW0oci5zdWJzdHJpbmcoaikpLmxlbmd0aCYmcjtpPSEociYmci5nZXRMZW5ndGgoKSk7aWYociYmIShsPXIuZ2V0TmV4dCgpKSlrPXIuZ2V0UGFyZW50KCl9ZWxzZShsPXIuZ2V0Q2hpbGQoaikpfHwoaz1yKTtmb3IoO2t8fGw7KXtpZihrJiYhbCl7IXQmJmsuZXF1YWxzKGYpJiYodD10cnVlKTtpZihkP2suaXNCbG9ja0JvdW5kYXJ5KCk6IWUuY29udGFpbnMoaykpYnJlYWs7aWYoIWl8fGsuZ2V0Q29tcHV0ZWRTdHlsZSgiZGlzcGxheSIpIT0iaW5saW5lIil7aT1mYWxzZTt0P209azprJiZ0aGlzLnNldEVuZEFmdGVyKGspfWw9ay5nZXROZXh0KCl9Zm9yKDtsOyl7cj1mYWxzZTtpZihsLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7aj1sLmdldFRleHQoKTsvW15cc1x1ZmVmZl0vLnRlc3QoaikmJihsPW51bGwpO3I9L15bXHNcdWZlZmZdLy50ZXN0KGopfWVsc2UgaWYobC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKChsLiQub2Zmc2V0V2lkdGg+CjB8fGImJmwuaXMoImJyIikpJiYhbC5kYXRhKCJja2UtYm9va21hcmsiKSlpZihpJiZDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W2wuZ2V0TmFtZSgpXSl7aj1sLmdldFRleHQoKTtpZigvW15cc1x1ZmVmZl0vLnRlc3QoaikpbD1udWxsO2Vsc2V7Zz1sLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKTtmb3Iobj0wO0U9Z1tuKytdOylpZighQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVtFLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXtsPW51bGw7YnJlYWt9fWwmJihyPSEhai5sZW5ndGgpfWVsc2UgbD1udWxsfWVsc2Ugcj0xO3ImJmkmJih0P209azp0aGlzLnNldEVuZEFmdGVyKGspKTtpZihsKXtyPWwuZ2V0TmV4dCgpO2lmKCFrJiYhcil7az1sO2w9bnVsbDticmVha31sPXJ9ZWxzZSBrPW51bGx9ayYmKGs9YyhrLmdldFBhcmVudCgpKSl9aWYoaCYmbSl7Zj1oLmNvbnRhaW5zKG0pP206aDt0aGlzLnNldFN0YXJ0QmVmb3JlKGYpO3RoaXMuc2V0RW5kQWZ0ZXIoZil9YnJlYWs7Y2FzZSBDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTOmNhc2UgQ0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM6az0KbmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2U9dGhpcy5yb290O2suc2V0U3RhcnRBdChlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtrLnNldEVuZCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMuc3RhcnRPZmZzZXQpO2s9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoayk7dmFyIHosTSxRPUNLRURJVE9SLmRvbS53YWxrZXIuYmxvY2tCb3VuZGFyeShhPT1DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUz97YnI6MX06bnVsbCksdj1udWxsLHc9ZnVuY3Rpb24oYSl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuZ2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKT09ImZhbHNlIilpZih2KXtpZih2LmVxdWFscyhhKSl7dj1udWxsO3JldHVybn19ZWxzZSB2PWE7ZWxzZSBpZih2KXJldHVybjt2YXIgYj1RKGEpO2J8fCh6PWEpO3JldHVybiBifSxkPWZ1bmN0aW9uKGEpe3ZhciBiPXcoYSk7IWImJihhLmlzJiZhLmlzKCJiciIpKSYmCihNPWEpO3JldHVybiBifTtrLmd1YXJkPXc7az1rLmxhc3RCYWNrd2FyZCgpO3o9enx8ZTt0aGlzLnNldFN0YXJ0QXQoeiwhei5pcygiYnIiKSYmKCFrJiZ0aGlzLmNoZWNrU3RhcnRPZkJsb2NrKCl8fGsmJnouY29udGFpbnMoaykpP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7aWYoYT09Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFMpe2s9dGhpcy5jbG9uZSgpO2s9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoayk7dmFyIEg9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLEM9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpO2suZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiFIKGEpJiYhQyhhKX07aWYoKGs9ay5wcmV2aW91cygpKSYmay50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmsuaXMoImJyIikpYnJlYWt9az10aGlzLmNsb25lKCk7ay5jb2xsYXBzZSgpO2suc2V0RW5kQXQoZSwKQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7az1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihrKTtrLmd1YXJkPWE9PUNLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTP2Q6dzt6PW51bGw7az1rLmxhc3RGb3J3YXJkKCk7ej16fHxlO3RoaXMuc2V0RW5kQXQoeiwhayYmdGhpcy5jaGVja0VuZE9mQmxvY2soKXx8ayYmei5jb250YWlucyhrKT9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7TSYmdGhpcy5zZXRFbmRBZnRlcihNKX19LHNocmluazpmdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuY29sbGFwc2VkKXt2YXIgYT1hfHxDS0VESVRPUi5TSFJJTktfVEVYVCxkPXRoaXMuY2xvbmUoKSxmPXRoaXMuc3RhcnRDb250YWluZXIsZT10aGlzLmVuZENvbnRhaW5lcixoPXRoaXMuc3RhcnRPZmZzZXQsbT10aGlzLmVuZE9mZnNldCxrPTEsbD0xO2lmKGYmJmYudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKWlmKGgpaWYoaD49CmYuZ2V0TGVuZ3RoKCkpZC5zZXRTdGFydEFmdGVyKGYpO2Vsc2V7ZC5zZXRTdGFydEJlZm9yZShmKTtrPTB9ZWxzZSBkLnNldFN0YXJ0QmVmb3JlKGYpO2lmKGUmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKWlmKG0paWYobT49ZS5nZXRMZW5ndGgoKSlkLnNldEVuZEFmdGVyKGUpO2Vsc2V7ZC5zZXRFbmRBZnRlcihlKTtsPTB9ZWxzZSBkLnNldEVuZEJlZm9yZShlKTt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKSx0PUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKTtkLmV2YWx1YXRvcj1mdW5jdGlvbihiKXtyZXR1cm4gYi50eXBlPT0oYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ\/Q0tFRElUT1IuTk9ERV9FTEVNRU5UOkNLRURJVE9SLk5PREVfVEVYVCl9O3ZhciBqO2QuZ3VhcmQ9ZnVuY3Rpb24oYixkKXtpZih0KGIpKXJldHVybiB0cnVlO2lmKGE9PUNLRURJVE9SLlNIUklOS19FTEVNRU5UJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8ZCYmYi5lcXVhbHMoail8fApjPT09ZmFsc2UmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmlzQmxvY2tCb3VuZGFyeSgpfHxiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5oYXNBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpKXJldHVybiBmYWxzZTshZCYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihqPWIpO3JldHVybiB0cnVlfTtpZihrKShmPWRbYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ\/Imxhc3RGb3J3YXJkIjoibmV4dCJdKCkpJiZ0aGlzLnNldFN0YXJ0QXQoZixiP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7aWYobCl7ZC5yZXNldCgpOyhkPWRbYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ\/Imxhc3RCYWNrd2FyZCI6InByZXZpb3VzIl0oKSkmJnRoaXMuc2V0RW5kQXQoZCxiP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKX1yZXR1cm4hKCFrJiYKIWwpfX0saW5zZXJ0Tm9kZTpmdW5jdGlvbihhKXt0aGlzLm9wdGltaXplQm9va21hcmsoKTt0aGlzLnRyaW0oZmFsc2UsdHJ1ZSk7dmFyIGI9dGhpcy5zdGFydENvbnRhaW5lcixjPWIuZ2V0Q2hpbGQodGhpcy5zdGFydE9mZnNldCk7Yz9hLmluc2VydEJlZm9yZShjKTpiLmFwcGVuZChhKTthLmdldFBhcmVudCgpJiZhLmdldFBhcmVudCgpLmVxdWFscyh0aGlzLmVuZENvbnRhaW5lcikmJnRoaXMuZW5kT2Zmc2V0Kys7dGhpcy5zZXRTdGFydEJlZm9yZShhKX0sbW92ZVRvUG9zaXRpb246ZnVuY3Rpb24oYSxiKXt0aGlzLnNldFN0YXJ0QXQoYSxiKTt0aGlzLmNvbGxhcHNlKHRydWUpfSxtb3ZlVG9SYW5nZTpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEuc3RhcnRDb250YWluZXIsYS5zdGFydE9mZnNldCk7dGhpcy5zZXRFbmQoYS5lbmRDb250YWluZXIsYS5lbmRPZmZzZXQpfSxzZWxlY3ROb2RlQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5zZXRTdGFydChhLDApO3RoaXMuc2V0RW5kKGEsCmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP2EuZ2V0TGVuZ3RoKCk6YS5nZXRDaGlsZENvdW50KCkpfSxzZXRTdGFydDpmdW5jdGlvbihhLGIpe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZDS0VESVRPUi5kdGQuJGVtcHR5W2EuZ2V0TmFtZSgpXSl7Yj1hLmdldEluZGV4KCk7YT1hLmdldFBhcmVudCgpfXRoaXMuc3RhcnRDb250YWluZXI9YTt0aGlzLnN0YXJ0T2Zmc2V0PWI7aWYoIXRoaXMuZW5kQ29udGFpbmVyKXt0aGlzLmVuZENvbnRhaW5lcj1hO3RoaXMuZW5kT2Zmc2V0PWJ9Yyh0aGlzKX0sc2V0RW5kOmZ1bmN0aW9uKGEsYil7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kZW1wdHlbYS5nZXROYW1lKCldKXtiPWEuZ2V0SW5kZXgoKSsxO2E9YS5nZXRQYXJlbnQoKX10aGlzLmVuZENvbnRhaW5lcj1hO3RoaXMuZW5kT2Zmc2V0PWI7aWYoIXRoaXMuc3RhcnRDb250YWluZXIpe3RoaXMuc3RhcnRDb250YWluZXI9YTt0aGlzLnN0YXJ0T2Zmc2V0PQpifWModGhpcyl9LHNldFN0YXJ0QWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5zZXRTdGFydChhLmdldFBhcmVudCgpLGEuZ2V0SW5kZXgoKSsxKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5zZXRTdGFydChhLmdldFBhcmVudCgpLGEuZ2V0SW5kZXgoKSl9LHNldEVuZEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuc2V0RW5kKGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKzEpfSxzZXRFbmRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5zZXRFbmQoYS5nZXRQYXJlbnQoKSxhLmdldEluZGV4KCkpfSxzZXRTdGFydEF0OmZ1bmN0aW9uKGEsYil7c3dpdGNoKGIpe2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6dGhpcy5zZXRTdGFydChhLDApO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDphLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD90aGlzLnNldFN0YXJ0KGEsYS5nZXRMZW5ndGgoKSk6dGhpcy5zZXRTdGFydChhLGEuZ2V0Q2hpbGRDb3VudCgpKTsKYnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ6dGhpcy5zZXRTdGFydEJlZm9yZShhKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDp0aGlzLnNldFN0YXJ0QWZ0ZXIoYSl9Yyh0aGlzKX0sc2V0RW5kQXQ6ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYil7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDp0aGlzLnNldEVuZChhLDApO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDphLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD90aGlzLnNldEVuZChhLGEuZ2V0TGVuZ3RoKCkpOnRoaXMuc2V0RW5kKGEsYS5nZXRDaGlsZENvdW50KCkpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUOnRoaXMuc2V0RW5kQmVmb3JlKGEpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EOnRoaXMuc2V0RW5kQWZ0ZXIoYSl9Yyh0aGlzKX0sZml4QmxvY2s6ZnVuY3Rpb24oYSxiKXt2YXIgYz0KdGhpcy5jcmVhdGVCb29rbWFyaygpLGQ9dGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGIpO3RoaXMuY29sbGFwc2UoYSk7dGhpcy5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFMpO3RoaXMuZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8oZCk7ZC50cmltKCk7ZC5hcHBlbmRCb2d1cygpO3RoaXMuaW5zZXJ0Tm9kZShkKTt0aGlzLm1vdmVUb0Jvb2ttYXJrKGMpO3JldHVybiBkfSxzcGxpdEJsb2NrOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnJvb3QpLGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcix0aGlzLnJvb3QpLGQ9Yi5ibG9jayxmPWMuYmxvY2ssZT1udWxsO2lmKCFiLmJsb2NrTGltaXQuZXF1YWxzKGMuYmxvY2tMaW1pdCkpcmV0dXJuIG51bGw7aWYoYSE9ImJyIil7aWYoIWQpe2Q9dGhpcy5maXhCbG9jayh0cnVlLGEpO2Y9CihuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMucm9vdCkpLmJsb2NrfWZ8fChmPXRoaXMuZml4QmxvY2soZmFsc2UsYSkpfWE9ZCYmdGhpcy5jaGVja1N0YXJ0T2ZCbG9jaygpO2I9ZiYmdGhpcy5jaGVja0VuZE9mQmxvY2soKTt0aGlzLmRlbGV0ZUNvbnRlbnRzKCk7aWYoZCYmZC5lcXVhbHMoZikpaWYoYil7ZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KTt0aGlzLm1vdmVUb1Bvc2l0aW9uKGYsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtmPW51bGx9ZWxzZSBpZihhKXtlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnJvb3QpO3RoaXMubW92ZVRvUG9zaXRpb24oZCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2Q9bnVsbH1lbHNle2Y9dGhpcy5zcGxpdEVsZW1lbnQoZCk7ZC5pcygidWwiLCJvbCIpfHxkLmFwcGVuZEJvZ3VzKCl9cmV0dXJue3ByZXZpb3VzQmxvY2s6ZCwKbmV4dEJsb2NrOmYsd2FzU3RhcnRPZkJsb2NrOmEsd2FzRW5kT2ZCbG9jazpiLGVsZW1lbnRQYXRoOmV9fSxzcGxpdEVsZW1lbnQ6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuY29sbGFwc2VkKXJldHVybiBudWxsO3RoaXMuc2V0RW5kQXQoYSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTt2YXIgYj10aGlzLmV4dHJhY3RDb250ZW50cygpLGM9YS5jbG9uZShmYWxzZSk7Yi5hcHBlbmRUbyhjKTtjLmluc2VydEFmdGVyKGEpO3RoaXMubW92ZVRvUG9zaXRpb24oYSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO3JldHVybiBjfSxyZW1vdmVFbXB0eUJsb2Nrc0F0RW5kOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShkKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSl8fChjKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pc0VtcHR5SW5saW5lUmVtb3ZlYWJsZSgpKXx8ZC5pcygidGFibGUiKSYmYS5pcygiY2FwdGlvbiIpP2ZhbHNlOnRydWV9fXZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSwKYz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKGZhbHNlKTtyZXR1cm4gZnVuY3Rpb24oYil7Zm9yKHZhciBjPXRoaXMuY3JlYXRlQm9va21hcmsoKSxkPXRoaXNbYj8iZW5kUGF0aCI6InN0YXJ0UGF0aCJdKCksZT1kLmJsb2NrfHxkLmJsb2NrTGltaXQsbTtlJiYhZS5lcXVhbHMoZC5yb290KSYmIWUuZ2V0Rmlyc3QoYShlKSk7KXttPWUuZ2V0UGFyZW50KCk7dGhpc1tiPyJzZXRFbmRBdCI6InNldFN0YXJ0QXQiXShlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7ZS5yZW1vdmUoMSk7ZT1tfXRoaXMubW92ZVRvQm9va21hcmsoYyl9fSgpLHN0YXJ0UGF0aDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KX0sZW5kUGF0aDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMucm9vdCl9LGNoZWNrQm91bmRhcnlPZkVsZW1lbnQ6ZnVuY3Rpb24oYSwKYil7dmFyIGM9Yj09Q0tFRElUT1IuU1RBUlQsZD10aGlzLmNsb25lKCk7ZC5jb2xsYXBzZShjKTtkW2M\/InNldFN0YXJ0QXQiOiJzZXRFbmRBdCJdKGEsYz9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtkPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGQpO2QuZXZhbHVhdG9yPWUoYyk7cmV0dXJuIGRbYz8iY2hlY2tCYWNrd2FyZCI6ImNoZWNrRm9yd2FyZCJdKCl9LGNoZWNrU3RhcnRPZkJsb2NrOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5zdGFydENvbnRhaW5lcixjPXRoaXMuc3RhcnRPZmZzZXQ7aWYoQ0tFRElUT1IuZW52LmllJiZjJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7Yj1DS0VESVRPUi50b29scy5sdHJpbShiLnN1YnN0cmluZygwLGMpKTtuLnRlc3QoYikmJnRoaXMudHJpbSgwLDEpfXRoaXMudHJpbSgpO2I9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCk7CmM9dGhpcy5jbG9uZSgpO2MuY29sbGFwc2UodHJ1ZSk7Yy5zZXRTdGFydEF0KGIuYmxvY2t8fGIuYmxvY2tMaW1pdCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7Yj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKTtiLmV2YWx1YXRvcj1hKCk7cmV0dXJuIGIuY2hlY2tCYWNrd2FyZCgpfSxjaGVja0VuZE9mQmxvY2s6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVuZENvbnRhaW5lcixjPXRoaXMuZW5kT2Zmc2V0O2lmKENLRURJVE9SLmVudi5pZSYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2I9Q0tFRElUT1IudG9vbHMucnRyaW0oYi5zdWJzdHJpbmcoYykpO24udGVzdChiKSYmdGhpcy50cmltKDEsMCl9dGhpcy50cmltKCk7Yj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMucm9vdCk7Yz10aGlzLmNsb25lKCk7Yy5jb2xsYXBzZShmYWxzZSk7Yy5zZXRFbmRBdChiLmJsb2NrfHxiLmJsb2NrTGltaXQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7CmI9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyk7Yi5ldmFsdWF0b3I9YSgpO3JldHVybiBiLmNoZWNrRm9yd2FyZCgpfSxnZXRQcmV2aW91c05vZGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuY2xvbmUoKTtkLmNvbGxhcHNlKDEpO2Quc2V0U3RhcnRBdChjfHx0aGlzLnJvb3QsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2M9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZCk7Yy5ldmFsdWF0b3I9YTtjLmd1YXJkPWI7cmV0dXJuIGMucHJldmlvdXMoKX0sZ2V0TmV4dE5vZGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuY2xvbmUoKTtkLmNvbGxhcHNlKCk7ZC5zZXRFbmRBdChjfHx0aGlzLnJvb3QsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7Yz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKTtjLmV2YWx1YXRvcj1hO2MuZ3VhcmQ9YjtyZXR1cm4gYy5uZXh0KCl9LGNoZWNrUmVhZE9ubHk6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyl7Zm9yKDtiOyl7aWYoYi50eXBlPT0KQ0tFRElUT1IuTk9ERV9FTEVNRU5UKXtpZihiLmdldEF0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIik9PSJmYWxzZSImJiFiLmRhdGEoImNrZS1lZGl0YWJsZSIpKXJldHVybiAwO2lmKGIuaXMoImh0bWwiKXx8Yi5nZXRBdHRyaWJ1dGUoImNvbnRlbnRFZGl0YWJsZSIpPT0idHJ1ZSImJihiLmNvbnRhaW5zKGMpfHxiLmVxdWFscyhjKSkpYnJlYWt9Yj1iLmdldFBhcmVudCgpfXJldHVybiAxfXJldHVybiBmdW5jdGlvbigpe3ZhciBiPXRoaXMuc3RhcnRDb250YWluZXIsYz10aGlzLmVuZENvbnRhaW5lcjtyZXR1cm4hKGEoYixjKSYmYShjLGIpKX19KCksbW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb246ZnVuY3Rpb24oYSxiKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWEuaXNFZGl0YWJsZShmYWxzZSkpe3RoaXMubW92ZVRvUG9zaXRpb24oYSxiP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO3JldHVybiB0cnVlfWZvcih2YXIgYz0KMDthOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2ImJnRoaXMuZW5kQ29udGFpbmVyJiZ0aGlzLmNoZWNrRW5kT2ZCbG9jaygpJiZuLnRlc3QoYS5nZXRUZXh0KCkpP3RoaXMubW92ZVRvUG9zaXRpb24oYSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpOnRoaXMubW92ZVRvUG9zaXRpb24oYSxiP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2M9MTticmVha31pZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClpZihhLmlzRWRpdGFibGUoKSl7dGhpcy5tb3ZlVG9Qb3NpdGlvbihhLGI\/Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7Yz0xfWVsc2UgaWYoYiYmYS5pcygiYnIiKSYmdGhpcy5lbmRDb250YWluZXImJnRoaXMuY2hlY2tFbmRPZkJsb2NrKCkpdGhpcy5tb3ZlVG9Qb3NpdGlvbihhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7CmVsc2UgaWYoYS5nZXRBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpPT0iZmFsc2UiJiZhLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spKXt0aGlzLnNldFN0YXJ0QmVmb3JlKGEpO3RoaXMuc2V0RW5kQWZ0ZXIoYSk7cmV0dXJuIHRydWV9dmFyIGQ9YSxmPWMsZT12b2lkIDA7ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXNFZGl0YWJsZShmYWxzZSkmJihlPWRbYj8iZ2V0TGFzdCI6ImdldEZpcnN0Il0oaikpOyFmJiYhZSYmKGU9ZFtiPyJnZXRQcmV2aW91cyI6ImdldE5leHQiXShqKSk7YT1lfXJldHVybiEhY30sbW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCksZD0wLGYsZT1bQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5ELENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVF07Yy5tb3ZlVG9Qb3NpdGlvbihhLGVbYj8wOjFdKTtpZihhLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spKXtpZihmPQpjW2I\/ImdldE5leHRFZGl0YWJsZU5vZGUiOiJnZXRQcmV2aW91c0VkaXRhYmxlTm9kZSJdKCkpe2Q9MTtpZihmLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZi5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKSYmZi5nZXRBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpPT0iZmFsc2UiKXtjLnNldFN0YXJ0QXQoZixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2Muc2V0RW5kQXQoZixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpfWVsc2UgYy5tb3ZlVG9Qb3NpdGlvbihmLGVbYj8xOjBdKX19ZWxzZSBkPTE7ZCYmdGhpcy5tb3ZlVG9SYW5nZShjKTtyZXR1cm4hIWR9LG1vdmVUb0VsZW1lbnRFZGl0U3RhcnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oYSl9LG1vdmVUb0VsZW1lbnRFZGl0RW5kOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uKGEsdHJ1ZSl9LGdldEVuY2xvc2VkTm9kZTpmdW5jdGlvbigpe3ZhciBhPQp0aGlzLmNsb25lKCk7YS5vcHRpbWl6ZSgpO2lmKGEuc3RhcnRDb250YWluZXIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxhLmVuZENvbnRhaW5lci50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIG51bGw7dmFyIGE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYSksYj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKGZhbHNlLHRydWUpLGM9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyh0cnVlKTthLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gYyhhKSYmYihhKX07dmFyIGQ9YS5uZXh0KCk7YS5yZXNldCgpO3JldHVybiBkJiZkLmVxdWFscyhhLnByZXZpb3VzKCkpP2Q6bnVsbH0sZ2V0VG91Y2hlZFN0YXJ0Tm9kZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXI7cmV0dXJuIHRoaXMuY29sbGFwc2VkfHxhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVD9hOmEuZ2V0Q2hpbGQodGhpcy5zdGFydE9mZnNldCl8fGF9LGdldFRvdWNoZWRFbmROb2RlOmZ1bmN0aW9uKCl7dmFyIGE9CnRoaXMuZW5kQ29udGFpbmVyO3JldHVybiB0aGlzLmNvbGxhcHNlZHx8YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ\/YTphLmdldENoaWxkKHRoaXMuZW5kT2Zmc2V0LTEpfHxhfSxnZXROZXh0RWRpdGFibGVOb2RlOmIoKSxnZXRQcmV2aW91c0VkaXRhYmxlTm9kZTpiKDEpLHNjcm9sbEludG9WaWV3OmZ1bmN0aW9uKCl7dmFyIGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCI8c3Bhbj4mbmJzcDs8L3NwYW4+Iix0aGlzLmRvY3VtZW50KSxiLGMsZCxmPXRoaXMuY2xvbmUoKTtmLm9wdGltaXplKCk7aWYoZD1mLnN0YXJ0Q29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7Yz1mLnN0YXJ0Q29udGFpbmVyLmdldFRleHQoKTtiPWYuc3RhcnRDb250YWluZXIuc3BsaXQoZi5zdGFydE9mZnNldCk7YS5pbnNlcnRBZnRlcihmLnN0YXJ0Q29udGFpbmVyKX1lbHNlIGYuaW5zZXJ0Tm9kZShhKTthLnNjcm9sbEludG9WaWV3KCk7aWYoZCl7Zi5zdGFydENvbnRhaW5lci5zZXRUZXh0KGMpOwpiLnJlbW92ZSgpfWEucmVtb3ZlKCl9fX0pKCk7Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ9MTtDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EPTI7Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUPTM7Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EPTQ7Q0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UPTE7Q0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUz0yO0NLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTPTM7Q0tFRElUT1IuRU5MQVJHRV9JTkxJTkU9NDtDS0VESVRPUi5TVEFSVD0xO0NLRURJVE9SLkVORD0yO0NLRURJVE9SLlNIUklOS19FTEVNRU5UPTE7Q0tFRElUT1IuU0hSSU5LX1RFWFQ9MjsidXNlIHN0cmljdCI7CihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoIShhcmd1bWVudHMubGVuZ3RoPDEpKXt0aGlzLnJhbmdlPWE7dGhpcy5mb3JjZUJyQnJlYWs9MDt0aGlzLmVubGFyZ2VCcj0xO3RoaXMuZW5mb3JjZVJlYWxCbG9ja3M9MDt0aGlzLl98fCh0aGlzLl89e30pfX1mdW5jdGlvbiBlKGEsYixjKXtmb3IoYT1hLmdldE5leHRTb3VyY2VOb2RlKGIsbnVsbCxjKTshaChhKTspYT1hLmdldE5leHRTb3VyY2VOb2RlKGIsbnVsbCxjKTtyZXR1cm4gYX1mdW5jdGlvbiBiKGEpe3ZhciBiPVtdO2EuZm9yRWFjaChmdW5jdGlvbihhKXtpZihhLmdldEF0dHJpYnV0ZSgiY29udGVudGVkaXRhYmxlIik9PSJ0cnVlIil7Yi5wdXNoKGEpO3JldHVybiBmYWxzZX19LENLRURJVE9SLk5PREVfRUxFTUVOVCx0cnVlKTtyZXR1cm4gYn1mdW5jdGlvbiBjKGEsZCxlLGgpe2E6e2g9PXZvaWQgMCYmKGg9YihlKSk7Zm9yKHZhciBnO2c9aC5zaGlmdCgpOylpZihnLmdldER0ZCgpLnApe2g9e2VsZW1lbnQ6ZyxyZW1haW5pbmc6aH07CmJyZWFrIGF9aD1udWxsfWlmKCFoKXJldHVybiAwO2lmKChnPUNLRURJVE9SLmZpbHRlci5pbnN0YW5jZXNbaC5lbGVtZW50LmRhdGEoImNrZS1maWx0ZXIiKV0pJiYhZy5jaGVjayhkKSlyZXR1cm4gYyhhLGQsZSxoLnJlbWFpbmluZyk7ZD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGguZWxlbWVudCk7ZC5zZWxlY3ROb2RlQ29udGVudHMoaC5lbGVtZW50KTtkPWQuY3JlYXRlSXRlcmF0b3IoKTtkLmVubGFyZ2VCcj1hLmVubGFyZ2VCcjtkLmVuZm9yY2VSZWFsQmxvY2tzPWEuZW5mb3JjZVJlYWxCbG9ja3M7ZC5hY3RpdmVGaWx0ZXI9ZC5maWx0ZXI9ZzthLl8ubmVzdGVkRWRpdGFibGU9e2VsZW1lbnQ6aC5lbGVtZW50LGNvbnRhaW5lcjplLHJlbWFpbmluZzpoLnJlbWFpbmluZyxpdGVyYXRvcjpkfTtyZXR1cm4gMX12YXIgZD0vXltcclxuXHQgXSskLyxoPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoZmFsc2UsdHJ1ZSksZz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKHRydWUpLApuPWZ1bmN0aW9uKGEpe3JldHVybiBoKGEpJiZnKGEpfTthLnByb3RvdHlwZT17Z2V0TmV4dFBhcmFncmFwaDpmdW5jdGlvbihhKXt2YXIgYixnLHEscyx1LGE9YXx8InAiO2lmKHRoaXMuXy5uZXN0ZWRFZGl0YWJsZSl7aWYoYj10aGlzLl8ubmVzdGVkRWRpdGFibGUuaXRlcmF0b3IuZ2V0TmV4dFBhcmFncmFwaChhKSl7dGhpcy5hY3RpdmVGaWx0ZXI9dGhpcy5fLm5lc3RlZEVkaXRhYmxlLml0ZXJhdG9yLmFjdGl2ZUZpbHRlcjtyZXR1cm4gYn10aGlzLmFjdGl2ZUZpbHRlcj10aGlzLmZpbHRlcjtpZihjKHRoaXMsYSx0aGlzLl8ubmVzdGVkRWRpdGFibGUuY29udGFpbmVyLHRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5yZW1haW5pbmcpKXt0aGlzLmFjdGl2ZUZpbHRlcj10aGlzLl8ubmVzdGVkRWRpdGFibGUuaXRlcmF0b3IuYWN0aXZlRmlsdGVyO3JldHVybiB0aGlzLl8ubmVzdGVkRWRpdGFibGUuaXRlcmF0b3IuZ2V0TmV4dFBhcmFncmFwaChhKX10aGlzLl8ubmVzdGVkRWRpdGFibGU9Cm51bGx9aWYoIXRoaXMucmFuZ2Uucm9vdC5nZXREdGQoKVthXSlyZXR1cm4gbnVsbDtpZighdGhpcy5fLnN0YXJ0ZWQpe3ZhciBmPXRoaXMucmFuZ2UuY2xvbmUoKTtmLnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCx0cnVlKTtnPWYuZW5kQ29udGFpbmVyLmhhc0FzY2VuZGFudCgicHJlIix0cnVlKXx8Zi5zdGFydENvbnRhaW5lci5oYXNBc2NlbmRhbnQoInByZSIsdHJ1ZSk7Zi5lbmxhcmdlKHRoaXMuZm9yY2VCckJyZWFrJiYhZ3x8IXRoaXMuZW5sYXJnZUJyP0NLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTOkNLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFMpO2lmKCFmLmNvbGxhcHNlZCl7Zz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihmLmNsb25lKCkpO3ZhciBwPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsodHJ1ZSx0cnVlKTtnLmV2YWx1YXRvcj1wO3RoaXMuXy5uZXh0Tm9kZT1nLm5leHQoKTtnPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGYuY2xvbmUoKSk7CmcuZXZhbHVhdG9yPXA7Zz1nLnByZXZpb3VzKCk7dGhpcy5fLmxhc3ROb2RlPWcuZ2V0TmV4dFNvdXJjZU5vZGUodHJ1ZSk7aWYodGhpcy5fLmxhc3ROb2RlJiZ0aGlzLl8ubGFzdE5vZGUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhQ0tFRElUT1IudG9vbHMudHJpbSh0aGlzLl8ubGFzdE5vZGUuZ2V0VGV4dCgpKSYmdGhpcy5fLmxhc3ROb2RlLmdldFBhcmVudCgpLmlzQmxvY2tCb3VuZGFyeSgpKXtwPXRoaXMucmFuZ2UuY2xvbmUoKTtwLm1vdmVUb1Bvc2l0aW9uKHRoaXMuXy5sYXN0Tm9kZSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO2lmKHAuY2hlY2tFbmRPZkJsb2NrKCkpe3A9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChwLmVuZENvbnRhaW5lcixwLnJvb3QpO3RoaXMuXy5sYXN0Tm9kZT0ocC5ibG9ja3x8cC5ibG9ja0xpbWl0KS5nZXROZXh0U291cmNlTm9kZSh0cnVlKX19aWYoIXRoaXMuXy5sYXN0Tm9kZXx8IWYucm9vdC5jb250YWlucyh0aGlzLl8ubGFzdE5vZGUpKXt0aGlzLl8ubGFzdE5vZGU9CnRoaXMuXy5kb2NFbmRNYXJrZXI9Zi5kb2N1bWVudC5jcmVhdGVUZXh0KCIiKTt0aGlzLl8ubGFzdE5vZGUuaW5zZXJ0QWZ0ZXIoZyl9Zj1udWxsfXRoaXMuXy5zdGFydGVkPTE7Zz1mfXA9dGhpcy5fLm5leHROb2RlO2Y9dGhpcy5fLmxhc3ROb2RlO2Zvcih0aGlzLl8ubmV4dE5vZGU9bnVsbDtwOyl7dmFyIHk9MCxtPXAuaGFzQXNjZW5kYW50KCJwcmUiKSxrPXAudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5ULGw9MDtpZihrKXAudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZkLnRlc3QocC5nZXRUZXh0KCkpJiYoaz0wKTtlbHNle3ZhciB0PXAuZ2V0TmFtZSgpO2lmKENLRURJVE9SLmR0ZC4kYmxvY2tbdF0mJnAuZ2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKT09ImZhbHNlIil7Yj1wO2ModGhpcyxhLGIpO2JyZWFrfWVsc2UgaWYocC5pc0Jsb2NrQm91bmRhcnkodGhpcy5mb3JjZUJyQnJlYWsmJiFtJiZ7YnI6MX0pKXtpZih0PT0iYnIiKWs9MTtlbHNlIGlmKCFnJiYhcC5nZXRDaGlsZENvdW50KCkmJgp0IT0iaHIiKXtiPXA7cT1wLmVxdWFscyhmKTticmVha31pZihnKXtnLnNldEVuZEF0KHAsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtpZih0IT0iYnIiKXRoaXMuXy5uZXh0Tm9kZT1wfXk9MX1lbHNle2lmKHAuZ2V0Rmlyc3QoKSl7aWYoIWcpe2c9dGhpcy5yYW5nZS5jbG9uZSgpO2cuc2V0U3RhcnRBdChwLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCl9cD1wLmdldEZpcnN0KCk7Y29udGludWV9az0xfX1pZihrJiYhZyl7Zz10aGlzLnJhbmdlLmNsb25lKCk7Zy5zZXRTdGFydEF0KHAsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKX1xPSgheXx8aykmJnAuZXF1YWxzKGYpO2lmKGcmJiF5KWZvcig7IXAuZ2V0TmV4dChuKSYmIXE7KXt0PXAuZ2V0UGFyZW50KCk7aWYodC5pc0Jsb2NrQm91bmRhcnkodGhpcy5mb3JjZUJyQnJlYWsmJiFtJiZ7YnI6MX0pKXt5PTE7az0wO3F8fHQuZXF1YWxzKGYpO2cuc2V0RW5kQXQodCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTsKYnJlYWt9cD10O2s9MTtxPXAuZXF1YWxzKGYpO2w9MX1rJiZnLnNldEVuZEF0KHAsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtwPWUocCxsLGYpO2lmKChxPSFwKXx8eSYmZylicmVha31pZighYil7aWYoIWcpe3RoaXMuXy5kb2NFbmRNYXJrZXImJnRoaXMuXy5kb2NFbmRNYXJrZXIucmVtb3ZlKCk7cmV0dXJuIHRoaXMuXy5uZXh0Tm9kZT1udWxsfWI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChnLnN0YXJ0Q29udGFpbmVyLGcucm9vdCk7cD1iLmJsb2NrTGltaXQ7eT17ZGl2OjEsdGg6MSx0ZDoxfTtiPWIuYmxvY2s7aWYoIWImJnAmJiF0aGlzLmVuZm9yY2VSZWFsQmxvY2tzJiZ5W3AuZ2V0TmFtZSgpXSYmZy5jaGVja1N0YXJ0T2ZCbG9jaygpJiZnLmNoZWNrRW5kT2ZCbG9jaygpJiYhcC5lcXVhbHMoZy5yb290KSliPXA7ZWxzZSBpZighYnx8dGhpcy5lbmZvcmNlUmVhbEJsb2NrcyYmYi5nZXROYW1lKCk9PSJsaSIpe2I9dGhpcy5yYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpOwpnLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGIpO2IudHJpbSgpO2cuaW5zZXJ0Tm9kZShiKTtzPXU9dHJ1ZX1lbHNlIGlmKGIuZ2V0TmFtZSgpIT0ibGkiKXtpZighZy5jaGVja1N0YXJ0T2ZCbG9jaygpfHwhZy5jaGVja0VuZE9mQmxvY2soKSl7Yj1iLmNsb25lKGZhbHNlKTtnLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGIpO2IudHJpbSgpO3U9Zy5zcGxpdEJsb2NrKCk7cz0hdS53YXNTdGFydE9mQmxvY2s7dT0hdS53YXNFbmRPZkJsb2NrO2cuaW5zZXJ0Tm9kZShiKX19ZWxzZSBpZighcSl0aGlzLl8ubmV4dE5vZGU9Yi5lcXVhbHMoZik\/bnVsbDplKGcuZ2V0Qm91bmRhcnlOb2RlcygpLmVuZE5vZGUsMSxmKX1pZihzKShzPWIuZ2V0UHJldmlvdXMoKSkmJnMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYocy5nZXROYW1lKCk9PSJiciI\/cy5yZW1vdmUoKTpzLmdldExhc3QoKSYmcy5nZXRMYXN0KCkuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT0iYnIiJiZzLmdldExhc3QoKS5yZW1vdmUoKSk7CmlmKHUpKHM9Yi5nZXRMYXN0KCkpJiZzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmcy5nZXROYW1lKCk9PSJiciImJighQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXJ8fHMuZ2V0UHJldmlvdXMoaCl8fHMuZ2V0TmV4dChoKSkmJnMucmVtb3ZlKCk7aWYoIXRoaXMuXy5uZXh0Tm9kZSl0aGlzLl8ubmV4dE5vZGU9cXx8Yi5lcXVhbHMoZil8fCFmP251bGw6ZShiLDEsZik7cmV0dXJuIGJ9fTtDS0VESVRPUi5kb20ucmFuZ2UucHJvdG90eXBlLmNyZWF0ZUl0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMpfX0pKCk7CkNLRURJVE9SLmNvbW1hbmQ9ZnVuY3Rpb24oYSxlKXt0aGlzLnVpSXRlbXM9W107dGhpcy5leGVjPWZ1bmN0aW9uKGIpe2lmKHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEfHwhdGhpcy5jaGVja0FsbG93ZWQoKSlyZXR1cm4gZmFsc2U7dGhpcy5lZGl0b3JGb2N1cyYmYS5mb2N1cygpO3JldHVybiB0aGlzLmZpcmUoImV4ZWMiKT09PWZhbHNlP3RydWU6ZS5leGVjLmNhbGwodGhpcyxhLGIpIT09ZmFsc2V9O3RoaXMucmVmcmVzaD1mdW5jdGlvbihhLGIpe2lmKCF0aGlzLnJlYWRPbmx5JiZhLnJlYWRPbmx5KXJldHVybiB0cnVlO2lmKHRoaXMuY29udGV4dCYmIWIuaXNDb250ZXh0Rm9yKHRoaXMuY29udGV4dCkpe3RoaXMuZGlzYWJsZSgpO3JldHVybiB0cnVlfWlmKCF0aGlzLmNoZWNrQWxsb3dlZCh0cnVlKSl7dGhpcy5kaXNhYmxlKCk7cmV0dXJuIHRydWV9dGhpcy5zdGFydERpc2FibGVkfHx0aGlzLmVuYWJsZSgpO3RoaXMubW9kZXMmJiF0aGlzLm1vZGVzW2EubW9kZV0mJgp0aGlzLmRpc2FibGUoKTtyZXR1cm4gdGhpcy5maXJlKCJyZWZyZXNoIix7ZWRpdG9yOmEscGF0aDpifSk9PT1mYWxzZT90cnVlOmUucmVmcmVzaCYmZS5yZWZyZXNoLmFwcGx5KHRoaXMsYXJndW1lbnRzKSE9PWZhbHNlfTt2YXIgYjt0aGlzLmNoZWNrQWxsb3dlZD1mdW5jdGlvbihjKXtyZXR1cm4hYyYmdHlwZW9mIGI9PSJib29sZWFuIj9iOmI9YS5hY3RpdmVGaWx0ZXIuY2hlY2tGZWF0dXJlKHRoaXMpfTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxlLHttb2Rlczp7d3lzaXd5ZzoxfSxlZGl0b3JGb2N1czoxLGNvbnRleHRTZW5zaXRpdmU6ISFlLmNvbnRleHQsc3RhdGU6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUR9KTtDS0VESVRPUi5ldmVudC5jYWxsKHRoaXMpfTsKQ0tFRElUT1IuY29tbWFuZC5wcm90b3R5cGU9e2VuYWJsZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZ0aGlzLmNoZWNrQWxsb3dlZCgpJiZ0aGlzLnNldFN0YXRlKCF0aGlzLnByZXNlcnZlU3RhdGV8fHR5cGVvZiB0aGlzLnByZXZpb3VzU3RhdGU9PSJ1bmRlZmluZWQiP0NLRURJVE9SLlRSSVNUQVRFX09GRjp0aGlzLnByZXZpb3VzU3RhdGUpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9LHNldFN0YXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RhdGU9PWF8fGEhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYhdGhpcy5jaGVja0FsbG93ZWQoKSlyZXR1cm4gZmFsc2U7dGhpcy5wcmV2aW91c1N0YXRlPXRoaXMuc3RhdGU7dGhpcy5zdGF0ZT1hO3RoaXMuZmlyZSgic3RhdGUiKTtyZXR1cm4gdHJ1ZX0sdG9nZ2xlU3RhdGU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkY\/CnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pOnRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZ0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRil9fTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5jb21tYW5kLnByb3RvdHlwZSk7Q0tFRElUT1IuRU5URVJfUD0xO0NLRURJVE9SLkVOVEVSX0JSPTI7Q0tFRElUT1IuRU5URVJfRElWPTM7CkNLRURJVE9SLmNvbmZpZz17Y3VzdG9tQ29uZmlnOiJjb25maWcuanMiLGF1dG9VcGRhdGVFbGVtZW50OiEwLGxhbmd1YWdlOiIiLGRlZmF1bHRMYW5ndWFnZToiZW4iLGNvbnRlbnRzTGFuZ0RpcmVjdGlvbjoiIixlbnRlck1vZGU6Q0tFRElUT1IuRU5URVJfUCxmb3JjZUVudGVyTW9kZTohMSxzaGlmdEVudGVyTW9kZTpDS0VESVRPUi5FTlRFUl9CUixkb2NUeXBlOiI8IURPQ1RZUEUgaHRtbD4iLGJvZHlJZDoiIixib2R5Q2xhc3M6IiIsZnVsbFBhZ2U6ITEsaGVpZ2h0OjIwMCxleHRyYVBsdWdpbnM6IiIscmVtb3ZlUGx1Z2luczoiIixwcm90ZWN0ZWRTb3VyY2U6W10sdGFiSW5kZXg6MCx3aWR0aDoiIixiYXNlRmxvYXRaSW5kZXg6MUU0LGJsb2NrZWRLZXlzdHJva2VzOltDS0VESVRPUi5DVFJMKzY2LENLRURJVE9SLkNUUkwrNzMsQ0tFRElUT1IuQ1RSTCs4NV19OwooZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjLGYsayl7dmFyIG09Yi5uYW1lO2lmKChmfHx0eXBlb2YgYS5lbGVtZW50cyE9ImZ1bmN0aW9uInx8YS5lbGVtZW50cyhtKSkmJighYS5tYXRjaHx8YS5tYXRjaChiKSkpe2lmKGY9IWspe2E6aWYoYS5ub3RoaW5nUmVxdWlyZWQpZj10cnVlO2Vsc2V7aWYoaz1hLnJlcXVpcmVkQ2xhc3Nlcyl7bT1iLmNsYXNzZXM7Zm9yKGY9MDtmPGsubGVuZ3RoOysrZilpZihDS0VESVRPUi50b29scy5pbmRleE9mKG0sa1tmXSk9PS0xKXtmPWZhbHNlO2JyZWFrIGF9fWY9ZChiLnN0eWxlcyxhLnJlcXVpcmVkU3R5bGVzKSYmZChiLmF0dHJpYnV0ZXMsYS5yZXF1aXJlZEF0dHJpYnV0ZXMpfWY9IWZ9aWYoIWYpe2lmKCFhLnByb3BlcnRpZXNPbmx5KWMudmFsaWQ9dHJ1ZTtpZighYy5hbGxBdHRyaWJ1dGVzKWMuYWxsQXR0cmlidXRlcz1lKGEuYXR0cmlidXRlcyxiLmF0dHJpYnV0ZXMsYy52YWxpZEF0dHJpYnV0ZXMpO2lmKCFjLmFsbFN0eWxlcyljLmFsbFN0eWxlcz0KZShhLnN0eWxlcyxiLnN0eWxlcyxjLnZhbGlkU3R5bGVzKTtpZighYy5hbGxDbGFzc2VzKXthPWEuY2xhc3NlcztiPWIuY2xhc3NlcztmPWMudmFsaWRDbGFzc2VzO2lmKGEpaWYoYT09PXRydWUpYj10cnVlO2Vsc2V7Zm9yKHZhciBrPTAsbT1iLmxlbmd0aCxsO2s8bTsrK2spe2w9YltrXTtmW2xdfHwoZltsXT1hKGwpKX1iPWZhbHNlfWVsc2UgYj1mYWxzZTtjLmFsbENsYXNzZXM9Yn19fX1mdW5jdGlvbiBlKGEsYixjKXtpZighYSlyZXR1cm4gZmFsc2U7aWYoYT09PXRydWUpcmV0dXJuIHRydWU7Zm9yKHZhciBkIGluIGIpY1tkXXx8KGNbZF09YShkLGJbZF0pKTtyZXR1cm4gZmFsc2V9ZnVuY3Rpb24gYihhLGIpe2lmKCFhKXJldHVybiBmYWxzZTtpZihhPT09dHJ1ZSlyZXR1cm4gYTtpZih0eXBlb2YgYT09InN0cmluZyIpe2E9cihhKTtyZXR1cm4gYT09IioiP3RydWU6Q0tFRElUT1IudG9vbHMuY29udmVydEFycmF5VG9PYmplY3QoYS5zcGxpdChiKSl9aWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShhKSlyZXR1cm4gYS5sZW5ndGg\/CkNLRURJVE9SLnRvb2xzLmNvbnZlcnRBcnJheVRvT2JqZWN0KGEpOmZhbHNlO3ZhciBjPXt9LGQ9MCxmO2ZvcihmIGluIGEpe2NbZl09YVtmXTtkKyt9cmV0dXJuIGQ\/YzpmYWxzZX1mdW5jdGlvbiBjKGIpe2lmKGIuXy5maWx0ZXJGdW5jdGlvbilyZXR1cm4gYi5fLmZpbHRlckZ1bmN0aW9uO3ZhciBjPS9eY2tlOihvYmplY3R8ZW1iZWR8cGFyYW0pJC8sZD0vXihvYmplY3R8ZW1iZWR8cGFyYW0pJC87cmV0dXJuIGIuXy5maWx0ZXJGdW5jdGlvbj1mdW5jdGlvbihmLGUsayxtLGwsaCx0KXt2YXIgZz1mLm5hbWUscix5PWZhbHNlO2lmKGwpZi5uYW1lPWc9Zy5yZXBsYWNlKGMsIiQxIik7aWYoaz1rJiZrW2ddKXtpKGYpO2ZvcihnPTA7ZzxrLmxlbmd0aDsrK2cpcChiLGYsa1tnXSk7aihmKX1pZihlKXt2YXIgZz1mLm5hbWUsaz1lLmVsZW1lbnRzW2ddLHg9ZS5nZW5lcmljLGU9e3ZhbGlkOmZhbHNlLHZhbGlkQXR0cmlidXRlczp7fSx2YWxpZENsYXNzZXM6e30sdmFsaWRTdHlsZXM6e30sCmFsbEF0dHJpYnV0ZXM6ZmFsc2UsYWxsQ2xhc3NlczpmYWxzZSxhbGxTdHlsZXM6ZmFsc2V9O2lmKCFrJiYheCl7bS5wdXNoKGYpO3JldHVybiB0cnVlfWkoZik7aWYoayl7Zz0wO2ZvcihyPWsubGVuZ3RoO2c8cjsrK2cpYShrW2ddLGYsZSx0cnVlLGgpfWlmKHgpe2c9MDtmb3Iocj14Lmxlbmd0aDtnPHI7KytnKWEoeFtnXSxmLGUsZmFsc2UsaCl9aWYoIWUudmFsaWQpe20ucHVzaChmKTtyZXR1cm4gdHJ1ZX1oPWUudmFsaWRBdHRyaWJ1dGVzO2c9ZS52YWxpZFN0eWxlcztrPWUudmFsaWRDbGFzc2VzO3I9Zi5hdHRyaWJ1dGVzO3ZhciB4PWYuc3R5bGVzLG49clsiY2xhc3MiXSxMPXIuc3R5bGUsQSx6LEU9W10sST1bXSxzPS9eZGF0YS1ja2UtLyxxPWZhbHNlO2RlbGV0ZSByLnN0eWxlO2RlbGV0ZSByWyJjbGFzcyJdO2lmKCFlLmFsbEF0dHJpYnV0ZXMpZm9yKEEgaW4gcilpZighaFtBXSlpZihzLnRlc3QoQSkpe2lmKEEhPSh6PUEucmVwbGFjZSgvXmRhdGEtY2tlLXNhdmVkLS8sIiIpKSYmCiFoW3pdKXtkZWxldGUgcltBXTtxPXRydWV9fWVsc2V7ZGVsZXRlIHJbQV07cT10cnVlfWlmKGUuYWxsU3R5bGVzKXtpZihMKXIuc3R5bGU9TH1lbHNle2ZvcihBIGluIHgpZ1tBXT9FLnB1c2goQSsiOiIreFtBXSk6cT10cnVlO2lmKEUubGVuZ3RoKXIuc3R5bGU9RS5zb3J0KCkuam9pbigiOyAiKX1pZihlLmFsbENsYXNzZXMpbiYmKHJbImNsYXNzIl09bik7ZWxzZXtmb3IoQSBpbiBrKWtbQV0mJkkucHVzaChBKTtJLmxlbmd0aCYmKHJbImNsYXNzIl09SS5zb3J0KCkuam9pbigiICIpKTtuJiZJLmxlbmd0aDxuLnNwbGl0KC9ccysvKS5sZW5ndGgmJihxPXRydWUpfXEmJih5PXRydWUpO2lmKCF0JiYhbyhmKSl7bS5wdXNoKGYpO3JldHVybiB0cnVlfX1pZihsKWYubmFtZT1mLm5hbWUucmVwbGFjZShkLCJja2U6JDEiKTtyZXR1cm4geX19ZnVuY3Rpb24gZChhLGIpe2lmKCFiKXJldHVybiB0cnVlO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7KytjKWlmKCEoYltjXWluIGEpKXJldHVybiBmYWxzZTsKcmV0dXJuIHRydWV9ZnVuY3Rpb24gaChhKXtpZighYSlyZXR1cm57fTtmb3IodmFyIGE9YS5zcGxpdCgvXHMqLFxzKi8pLnNvcnQoKSxiPXt9O2EubGVuZ3RoOyliW2Euc2hpZnQoKV09TDtyZXR1cm4gYn1mdW5jdGlvbiBnKGEpe2Zvcih2YXIgYixjLGQsZixlPXt9LGs9MSxhPXIoYSk7Yj1hLm1hdGNoKHopOyl7aWYoYz1iWzJdKXtkPW4oYywic3R5bGVzIik7Zj1uKGMsImF0dHJzIik7Yz1uKGMsImNsYXNzZXMiKX1lbHNlIGQ9Zj1jPW51bGw7ZVsiJCIraysrXT17ZWxlbWVudHM6YlsxXSxjbGFzc2VzOmMsc3R5bGVzOmQsYXR0cmlidXRlczpmfTthPWEuc2xpY2UoYlswXS5sZW5ndGgpfXJldHVybiBlfWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1hLm1hdGNoKE1bYl0pO3JldHVybiBjP3IoY1sxXSk6bnVsbH1mdW5jdGlvbiBpKGEpe2lmKCFhLnN0eWxlcylhLnN0eWxlcz1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYS5hdHRyaWJ1dGVzLnN0eWxlfHwiIiwxKTtpZighYS5jbGFzc2VzKWEuY2xhc3Nlcz0KYS5hdHRyaWJ1dGVzWyJjbGFzcyJdP2EuYXR0cmlidXRlc1siY2xhc3MiXS5zcGxpdCgvXHMrLyk6W119ZnVuY3Rpb24gaihhKXt2YXIgYj1hLmF0dHJpYnV0ZXMsYztkZWxldGUgYi5zdHlsZTtkZWxldGUgYlsiY2xhc3MiXTtpZihjPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChhLnN0eWxlcyx0cnVlKSliLnN0eWxlPWM7YS5jbGFzc2VzLmxlbmd0aCYmKGJbImNsYXNzIl09YS5jbGFzc2VzLnNvcnQoKS5qb2luKCIgIikpfWZ1bmN0aW9uIG8oYSl7c3dpdGNoKGEubmFtZSl7Y2FzZSAiYSI6aWYoIWEuY2hpbGRyZW4ubGVuZ3RoJiYhYS5hdHRyaWJ1dGVzLm5hbWUpcmV0dXJuIGZhbHNlO2JyZWFrO2Nhc2UgImltZyI6aWYoIWEuYXR0cmlidXRlcy5zcmMpcmV0dXJuIGZhbHNlfXJldHVybiB0cnVlfWZ1bmN0aW9uIHEoYSl7cmV0dXJuIWE\/ZmFsc2U6YT09PXRydWU\/dHJ1ZTpmdW5jdGlvbihiKXtyZXR1cm4gYiBpbiBhfX1mdW5jdGlvbiBzKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoImJyIil9CmZ1bmN0aW9uIHUoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYS5uYW1lPT0iYnIifHx0LiRibG9ja1thLm5hbWVdKX1mdW5jdGlvbiBmKGEsYixjKXt2YXIgZD1hLm5hbWU7aWYodC4kZW1wdHlbZF18fCFhLmNoaWxkcmVuLmxlbmd0aClpZihkPT0iaHIiJiZiPT0iYnIiKWEucmVwbGFjZVdpdGgocygpKTtlbHNle2EucGFyZW50JiZjLnB1c2goe2NoZWNrOiJpdCIsZWw6YS5wYXJlbnR9KTthLnJlbW92ZSgpfWVsc2UgaWYodC4kYmxvY2tbZF18fGQ9PSJ0ciIpaWYoYj09ImJyIil7aWYoYS5wcmV2aW91cyYmIXUoYS5wcmV2aW91cykpe2I9cygpO2IuaW5zZXJ0QmVmb3JlKGEpfWlmKGEubmV4dCYmIXUoYS5uZXh0KSl7Yj1zKCk7Yi5pbnNlcnRBZnRlcihhKX1hLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKX1lbHNle3ZhciBkPWEuY2hpbGRyZW4sZjtiOntmPXRbYl07Zm9yKHZhciBlPTAsaz1kLmxlbmd0aCxtO2U8azsrK2Upe209ZFtlXTtpZihtLnR5cGU9PQpDS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFmW20ubmFtZV0pe2Y9ZmFsc2U7YnJlYWsgYn19Zj10cnVlfWlmKGYpe2EubmFtZT1iO2EuYXR0cmlidXRlcz17fTtjLnB1c2goe2NoZWNrOiJwYXJlbnQtZG93biIsZWw6YX0pfWVsc2V7Zj1hLnBhcmVudDtmb3IodmFyIGU9Zi50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UfHxmLm5hbWU9PSJib2R5IixsLGs9ZC5sZW5ndGg7az4wOyl7bT1kWy0ta107aWYoZSYmKG0udHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxtLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmdC4kaW5saW5lW20ubmFtZV0pKXtpZighbCl7bD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGIpO2wuaW5zZXJ0QWZ0ZXIoYSk7Yy5wdXNoKHtjaGVjazoicGFyZW50LWRvd24iLGVsOmx9KX1sLmFkZChtLDApfWVsc2V7bD1udWxsO20uaW5zZXJ0QWZ0ZXIoYSk7Zi50eXBlIT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UJiYobS50eXBlPT0KQ0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhdFtmLm5hbWVdW20ubmFtZV0pJiZjLnB1c2goe2NoZWNrOiJlbC11cCIsZWw6bX0pfX1hLnJlbW92ZSgpfX1lbHNlIGlmKGQ9PSJzdHlsZSIpYS5yZW1vdmUoKTtlbHNle2EucGFyZW50JiZjLnB1c2goe2NoZWNrOiJpdCIsZWw6YS5wYXJlbnR9KTthLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKX19ZnVuY3Rpb24gcChhLGIsYyl7dmFyIGQsZjtmb3IoZD0wO2Q8Yy5sZW5ndGg7KytkKXtmPWNbZF07aWYoKCFmLmNoZWNrfHxhLmNoZWNrKGYuY2hlY2ssZmFsc2UpKSYmKCFmLmxlZnR8fGYubGVmdChiKSkpe2YucmlnaHQoYixRKTticmVha319fWZ1bmN0aW9uIHkoYSxiKXt2YXIgYz1iLmdldERlZmluaXRpb24oKSxkPWMuYXR0cmlidXRlcyxmPWMuc3R5bGVzLGUsayxtLGw7aWYoYS5uYW1lIT1jLmVsZW1lbnQpcmV0dXJuIGZhbHNlO2ZvcihlIGluIGQpaWYoZT09ImNsYXNzIil7Yz1kW2VdLnNwbGl0KC9ccysvKTtmb3IobT1hLmNsYXNzZXMuam9pbigifCIpO2w9CmMucG9wKCk7KWlmKG0uaW5kZXhPZihsKT09LTEpcmV0dXJuIGZhbHNlfWVsc2UgaWYoYS5hdHRyaWJ1dGVzW2VdIT1kW2VdKXJldHVybiBmYWxzZTtmb3IoayBpbiBmKWlmKGEuc3R5bGVzW2tdIT1mW2tdKXJldHVybiBmYWxzZTtyZXR1cm4gdHJ1ZX1mdW5jdGlvbiBtKGEsYil7dmFyIGMsZDtpZih0eXBlb2YgYT09InN0cmluZyIpYz1hO2Vsc2UgaWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLnN0eWxlKWQ9YTtlbHNle2M9YVswXTtkPWFbMV19cmV0dXJuW3tlbGVtZW50OmMsbGVmdDpkLHJpZ2h0OmZ1bmN0aW9uKGEsYyl7Yy50cmFuc2Zvcm0oYSxiKX19XX1mdW5jdGlvbiBrKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4geShiLGEpfX1mdW5jdGlvbiBsKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe2NbYV0oYil9fXZhciB0PUNLRURJVE9SLmR0ZCx4PUNLRURJVE9SLnRvb2xzLmNvcHkscj1DS0VESVRPUi50b29scy50cmltLEw9ImNrZS10ZXN0IixBPVsiIiwicCIsImJyIiwiZGl2Il07CkNLRURJVE9SLmZpbHRlcj1mdW5jdGlvbihhKXt0aGlzLmFsbG93ZWRDb250ZW50PVtdO3RoaXMuZGlzYWJsZWQ9ZmFsc2U7dGhpcy5lZGl0b3I9bnVsbDt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTt0aGlzLl89e3J1bGVzOnt9LHRyYW5zZm9ybWF0aW9uczp7fSxjYWNoZWRUZXN0czp7fX07Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1t0aGlzLmlkXT10aGlzO2lmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3Ipe2E9dGhpcy5lZGl0b3I9YTt0aGlzLmN1c3RvbUNvbmZpZz10cnVlO3ZhciBiPWEuY29uZmlnLmFsbG93ZWRDb250ZW50O2lmKGI9PT10cnVlKXRoaXMuZGlzYWJsZWQ9dHJ1ZTtlbHNle2lmKCFiKXRoaXMuY3VzdG9tQ29uZmlnPWZhbHNlO3RoaXMuYWxsb3coYiwiY29uZmlnIiwxKTt0aGlzLmFsbG93KGEuY29uZmlnLmV4dHJhQWxsb3dlZENvbnRlbnQsImV4dHJhIiwxKTt0aGlzLmFsbG93KEFbYS5lbnRlck1vZGVdKyIgIitBW2Euc2hpZnRFbnRlck1vZGVdLAoiZGVmYXVsdCIsMSl9fWVsc2V7dGhpcy5jdXN0b21Db25maWc9ZmFsc2U7dGhpcy5hbGxvdyhhLCJkZWZhdWx0IiwxKX19O0NLRURJVE9SLmZpbHRlci5pbnN0YW5jZXM9e307Q0tFRElUT1IuZmlsdGVyLnByb3RvdHlwZT17YWxsb3c6ZnVuY3Rpb24oYSxjLGQpe2lmKHRoaXMuZGlzYWJsZWR8fHRoaXMuY3VzdG9tQ29uZmlnJiYhZHx8IWEpcmV0dXJuIGZhbHNlO3RoaXMuXy5jYWNoZWRDaGVja3M9e307dmFyIGYsZTtpZih0eXBlb2YgYT09InN0cmluZyIpYT1nKGEpO2Vsc2UgaWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLnN0eWxlKXtlPWEuZ2V0RGVmaW5pdGlvbigpO2Q9e307YT1lLmF0dHJpYnV0ZXM7ZFtlLmVsZW1lbnRdPWU9e3N0eWxlczplLnN0eWxlcyxyZXF1aXJlZFN0eWxlczplLnN0eWxlcyYmQ0tFRElUT1IudG9vbHMub2JqZWN0S2V5cyhlLnN0eWxlcyl9O2lmKGEpe2E9eChhKTtlLmNsYXNzZXM9YVsiY2xhc3MiXT9hWyJjbGFzcyJdLnNwbGl0KC9ccysvKTpudWxsO2UucmVxdWlyZWRDbGFzc2VzPQplLmNsYXNzZXM7ZGVsZXRlIGFbImNsYXNzIl07ZS5hdHRyaWJ1dGVzPWE7ZS5yZXF1aXJlZEF0dHJpYnV0ZXM9YSYmQ0tFRElUT1IudG9vbHMub2JqZWN0S2V5cyhhKX1hPWR9ZWxzZSBpZihDS0VESVRPUi50b29scy5pc0FycmF5KGEpKXtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKWU9dGhpcy5hbGxvdyhhW2ZdLGMsZCk7cmV0dXJuIGV9dmFyIGssZD1bXTtmb3IoayBpbiBhKXtlPWFba107ZT10eXBlb2YgZT09ImJvb2xlYW4iP3t9OnR5cGVvZiBlPT0iZnVuY3Rpb24iP3ttYXRjaDplfTp4KGUpO2lmKGsuY2hhckF0KDApIT0iJCIpZS5lbGVtZW50cz1rO2lmKGMpZS5mZWF0dXJlTmFtZT1jLnRvTG93ZXJDYXNlKCk7dmFyIG09ZTttLmVsZW1lbnRzPWIobS5lbGVtZW50cywvXHMrLyl8fG51bGw7bS5wcm9wZXJ0aWVzT25seT1tLnByb3BlcnRpZXNPbmx5fHxtLmVsZW1lbnRzPT09dHJ1ZTt2YXIgbD0vXHMqLFxzKi8saD12b2lkIDA7Zm9yKGggaW4gSSl7bVtoXT1iKG1baF0sbCl8fG51bGw7CnZhciBwPW0sdD1FW2hdLHI9YihtW0VbaF1dLGwpLGk9bVtoXSxqPVtdLHk9dHJ1ZSxuPXZvaWQgMDtyP3k9ZmFsc2U6cj17fTtmb3IobiBpbiBpKWlmKG4uY2hhckF0KDApPT0iISIpe249bi5zbGljZSgxKTtqLnB1c2gobik7cltuXT10cnVlO3k9ZmFsc2V9Zm9yKDtuPWoucG9wKCk7KXtpW25dPWlbIiEiK25dO2RlbGV0ZSBpWyIhIituXX1wW3RdPSh5P2ZhbHNlOnIpfHxudWxsfW0ubWF0Y2g9bS5tYXRjaHx8bnVsbDt0aGlzLmFsbG93ZWRDb250ZW50LnB1c2goZSk7ZC5wdXNoKGUpfWM9dGhpcy5fLnJ1bGVzO2s9Yy5lbGVtZW50c3x8e307YT1jLmdlbmVyaWN8fFtdO2U9MDtmb3IobT1kLmxlbmd0aDtlPG07KytlKXtsPXgoZFtlXSk7aD1sLmNsYXNzZXM9PT10cnVlfHxsLnN0eWxlcz09PXRydWV8fGwuYXR0cmlidXRlcz09PXRydWU7cD1sO3Q9dm9pZCAwO2Zvcih0IGluIEkpcFt0XT1xKHBbdF0pO3I9dHJ1ZTtmb3IodCBpbiBFKXt0PUVbdF07cFt0XT1DS0VESVRPUi50b29scy5vYmplY3RLZXlzKHBbdF0pOwpwW3RdJiYocj1mYWxzZSl9cC5ub3RoaW5nUmVxdWlyZWQ9cjtpZihsLmVsZW1lbnRzPT09dHJ1ZXx8bC5lbGVtZW50cz09PW51bGwpe2wuZWxlbWVudHM9cShsLmVsZW1lbnRzKTthW2g\/InVuc2hpZnQiOiJwdXNoIl0obCl9ZWxzZXtwPWwuZWxlbWVudHM7ZGVsZXRlIGwuZWxlbWVudHM7Zm9yKGYgaW4gcClpZihrW2ZdKWtbZl1baD8idW5zaGlmdCI6InB1c2giXShsKTtlbHNlIGtbZl09W2xdfX1jLmVsZW1lbnRzPWs7Yy5nZW5lcmljPWEubGVuZ3RoP2E6bnVsbDtyZXR1cm4gdHJ1ZX0sYXBwbHlUbzpmdW5jdGlvbihhLGIsZCxlKXtpZih0aGlzLmRpc2FibGVkKXJldHVybiBmYWxzZTt2YXIgaz1bXSxtPSFkJiZ0aGlzLl8ucnVsZXMsbD10aGlzLl8udHJhbnNmb3JtYXRpb25zLGg9Yyh0aGlzKSxwPXRoaXMuZWRpdG9yJiZ0aGlzLmVkaXRvci5jb25maWcucHJvdGVjdGVkU291cmNlLGc9ZmFsc2U7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtpZihhLmF0dHJpYnV0ZXNbImRhdGEtY2tlLWZpbHRlciJdPT0KIm9mZiIpcmV0dXJuIGZhbHNlO2lmKCFifHwhKGEubmFtZT09InNwYW4iJiZ+Q0tFRElUT1IudG9vbHMub2JqZWN0S2V5cyhhLmF0dHJpYnV0ZXMpLmpvaW4oInwiKS5pbmRleE9mKCJkYXRhLWNrZS0iKSkpaChhLG0sbCxrLGIpJiYoZz10cnVlKX1lbHNlIGlmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9DT01NRU5UJiZhLnZhbHVlLm1hdGNoKC9eXHtja2VfcHJvdGVjdGVkXH0oPyFce0NcfSkvKSl7dmFyIGM7YTp7dmFyIGQ9ZGVjb2RlVVJJQ29tcG9uZW50KGEudmFsdWUucmVwbGFjZSgvXlx7Y2tlX3Byb3RlY3RlZFx9LywiIikpO2M9W107dmFyIGYsZSxDO2lmKHApZm9yKGU9MDtlPHAubGVuZ3RoOysrZSlpZigoQz1kLm1hdGNoKHBbZV0pKSYmQ1swXS5sZW5ndGg9PWQubGVuZ3RoKXtjPXRydWU7YnJlYWsgYX1kPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoZCk7ZC5jaGlsZHJlbi5sZW5ndGg9PTEmJihmPWQuY2hpbGRyZW5bMF0pLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmCmgoZixtLGwsYyxiKTtjPSFjLmxlbmd0aH1jfHxrLnB1c2goYSl9fSxudWxsLHRydWUpO2subGVuZ3RoJiYoZz10cnVlKTtmb3IodmFyIHIsYT1bXSxlPUFbZXx8KHRoaXMuZWRpdG9yP3RoaXMuZWRpdG9yLmVudGVyTW9kZTpDS0VESVRPUi5FTlRFUl9QKV07ZD1rLnBvcCgpOylkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9mKGQsZSxhKTpkLnJlbW92ZSgpO2Zvcig7cj1hLnBvcCgpOyl7ZD1yLmVsO2lmKGQucGFyZW50KXN3aXRjaChyLmNoZWNrKXtjYXNlICJpdCI6dC4kcmVtb3ZlRW1wdHlbZC5uYW1lXSYmIWQuY2hpbGRyZW4ubGVuZ3RoP2YoZCxlLGEpOm8oZCl8fGYoZCxlLGEpO2JyZWFrO2Nhc2UgImVsLXVwIjpkLnBhcmVudC50eXBlIT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UJiYhdFtkLnBhcmVudC5uYW1lXVtkLm5hbWVdJiZmKGQsZSxhKTticmVhaztjYXNlICJwYXJlbnQtZG93biI6ZC5wYXJlbnQudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCYmCiF0W2QucGFyZW50Lm5hbWVdW2QubmFtZV0mJmYoZC5wYXJlbnQsZSxhKX19cmV0dXJuIGd9LGNoZWNrRmVhdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLmRpc2FibGVkfHwhYSlyZXR1cm4gdHJ1ZTthLnRvRmVhdHVyZSYmKGE9YS50b0ZlYXR1cmUodGhpcy5lZGl0b3IpKTtyZXR1cm4hYS5yZXF1aXJlZENvbnRlbnR8fHRoaXMuY2hlY2soYS5yZXF1aXJlZENvbnRlbnQpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD10cnVlfSxhZGRDb250ZW50Rm9ybXM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuZGlzYWJsZWQmJmEpe3ZhciBiLGMsZD1bXSxmO2ZvcihiPTA7YjxhLmxlbmd0aCYmIWY7KytiKXtjPWFbYl07aWYoKHR5cGVvZiBjPT0ic3RyaW5nInx8YyBpbnN0YW5jZW9mIENLRURJVE9SLnN0eWxlKSYmdGhpcy5jaGVjayhjKSlmPWN9aWYoZil7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYilkLnB1c2gobShhW2JdLGYpKTt0aGlzLmFkZFRyYW5zZm9ybWF0aW9ucyhkKX19fSxhZGRGZWF0dXJlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlzYWJsZWR8fAohYSlyZXR1cm4gdHJ1ZTthLnRvRmVhdHVyZSYmKGE9YS50b0ZlYXR1cmUodGhpcy5lZGl0b3IpKTt0aGlzLmFsbG93KGEuYWxsb3dlZENvbnRlbnQsYS5uYW1lKTt0aGlzLmFkZFRyYW5zZm9ybWF0aW9ucyhhLmNvbnRlbnRUcmFuc2Zvcm1hdGlvbnMpO3RoaXMuYWRkQ29udGVudEZvcm1zKGEuY29udGVudEZvcm1zKTtyZXR1cm4gdGhpcy5jdXN0b21Db25maWcmJmEucmVxdWlyZWRDb250ZW50P3RoaXMuY2hlY2soYS5yZXF1aXJlZENvbnRlbnQpOnRydWV9LGFkZFRyYW5zZm9ybWF0aW9uczpmdW5jdGlvbihhKXt2YXIgYixjO2lmKCF0aGlzLmRpc2FibGVkJiZhKXt2YXIgZD10aGlzLl8udHJhbnNmb3JtYXRpb25zLGY7Zm9yKGY9MDtmPGEubGVuZ3RoOysrZil7Yj1hW2ZdO3ZhciBlPXZvaWQgMCxtPXZvaWQgMCxoPXZvaWQgMCxwPXZvaWQgMCx0PXZvaWQgMCxnPXZvaWQgMDtjPVtdO2ZvcihtPTA7bTxiLmxlbmd0aDsrK20pe2g9YlttXTtpZih0eXBlb2YgaD09InN0cmluZyIpe2g9Cmguc3BsaXQoL1xzKjpccyovKTtwPWhbMF07dD1udWxsO2c9aFsxXX1lbHNle3A9aC5jaGVjazt0PWgubGVmdDtnPWgucmlnaHR9aWYoIWUpe2U9aDtlPWUuZWxlbWVudD9lLmVsZW1lbnQ6cD9wLm1hdGNoKC9eKFthLXowLTldKykvaSlbMF06ZS5sZWZ0LmdldERlZmluaXRpb24oKS5lbGVtZW50fXQgaW5zdGFuY2VvZiBDS0VESVRPUi5zdHlsZSYmKHQ9ayh0KSk7Yy5wdXNoKHtjaGVjazpwPT1lP251bGw6cCxsZWZ0OnQscmlnaHQ6dHlwZW9mIGc9PSJzdHJpbmciP2woZyk6Z30pfWI9ZTtkW2JdfHwoZFtiXT1bXSk7ZFtiXS5wdXNoKGMpfX19LGNoZWNrOmZ1bmN0aW9uKGEsYixkKXtpZih0aGlzLmRpc2FibGVkKXJldHVybiB0cnVlO2lmKENLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSkpe2Zvcih2YXIgZj1hLmxlbmd0aDtmLS07KWlmKHRoaXMuY2hlY2soYVtmXSxiLGQpKXJldHVybiB0cnVlO3JldHVybiBmYWxzZX12YXIgZSxrO2lmKHR5cGVvZiBhPT0ic3RyaW5nIil7az1hKyI8IisKKGI9PT1mYWxzZT8iMCI6IjEiKSsoZD8iMSI6IjAiKSsiPiI7aWYoayBpbiB0aGlzLl8uY2FjaGVkQ2hlY2tzKXJldHVybiB0aGlzLl8uY2FjaGVkQ2hlY2tzW2tdO2Y9ZyhhKS4kMTtlPWYuc3R5bGVzO3ZhciBtPWYuY2xhc3NlcztmLm5hbWU9Zi5lbGVtZW50cztmLmNsYXNzZXM9bT1tP20uc3BsaXQoL1xzKixccyovKTpbXTtmLnN0eWxlcz1oKGUpO2YuYXR0cmlidXRlcz1oKGYuYXR0cmlidXRlcyk7Zi5jaGlsZHJlbj1bXTttLmxlbmd0aCYmKGYuYXR0cmlidXRlc1siY2xhc3MiXT1tLmpvaW4oIiAiKSk7aWYoZSlmLmF0dHJpYnV0ZXMuc3R5bGU9Q0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KGYuc3R5bGVzKTtlPWZ9ZWxzZXtmPWEuZ2V0RGVmaW5pdGlvbigpO2U9Zi5zdHlsZXM7bT1mLmF0dHJpYnV0ZXN8fHt9O2lmKGUpe2U9eChlKTttLnN0eWxlPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChlLHRydWUpfWVsc2UgZT17fTtlPXtuYW1lOmYuZWxlbWVudCxhdHRyaWJ1dGVzOm0sCmNsYXNzZXM6bVsiY2xhc3MiXT9tWyJjbGFzcyJdLnNwbGl0KC9ccysvKTpbXSxzdHlsZXM6ZSxjaGlsZHJlbjpbXX19dmFyIG09Q0tFRElUT1IudG9vbHMuY2xvbmUoZSksbD1bXSx0O2lmKGIhPT1mYWxzZSYmKHQ9dGhpcy5fLnRyYW5zZm9ybWF0aW9uc1tlLm5hbWVdKSl7Zm9yKGY9MDtmPHQubGVuZ3RoOysrZilwKHRoaXMsZSx0W2ZdKTtqKGUpfWModGhpcykobSx0aGlzLl8ucnVsZXMsYj09PWZhbHNlP2ZhbHNlOnRoaXMuXy50cmFuc2Zvcm1hdGlvbnMsbCxmYWxzZSwhZCwhZCk7Yj1sLmxlbmd0aD4wP2ZhbHNlOkNLRURJVE9SLnRvb2xzLm9iamVjdENvbXBhcmUoZS5hdHRyaWJ1dGVzLG0uYXR0cmlidXRlcyx0cnVlKT90cnVlOmZhbHNlO3R5cGVvZiBhPT0ic3RyaW5nIiYmKHRoaXMuXy5jYWNoZWRDaGVja3Nba109Yik7cmV0dXJuIGJ9LGdldEFsbG93ZWRFbnRlck1vZGU6ZnVuY3Rpb24oKXt2YXIgYT1bInAiLCJkaXYiLCJiciJdLGI9e3A6Q0tFRElUT1IuRU5URVJfUCxkaXY6Q0tFRElUT1IuRU5URVJfRElWLApicjpDS0VESVRPUi5FTlRFUl9CUn07cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGY9YS5zbGljZSgpLGU7aWYodGhpcy5jaGVjayhBW2NdKSlyZXR1cm4gYztmb3IoZHx8KGY9Zi5yZXZlcnNlKCkpO2U9Zi5wb3AoKTspaWYodGhpcy5jaGVjayhlKSlyZXR1cm4gYltlXTtyZXR1cm4gQ0tFRElUT1IuRU5URVJfQlJ9fSgpfTt2YXIgST17c3R5bGVzOjEsYXR0cmlidXRlczoxLGNsYXNzZXM6MX0sRT17c3R5bGVzOiJyZXF1aXJlZFN0eWxlcyIsYXR0cmlidXRlczoicmVxdWlyZWRBdHRyaWJ1dGVzIixjbGFzc2VzOiJyZXF1aXJlZENsYXNzZXMifSx6PS9eKFthLXowLTkqXHNdKykoKD86XHMqXHtbIVx3XC0sXHNcKl0rXH1ccyp8XHMqXFtbIVx3XC0sXHNcKl0rXF1ccyp8XHMqXChbIVx3XC0sXHNcKl0rXClccyopezAsM30pKD86O1xzKnwkKS9pLE09e3N0eWxlczoveyhbXn1dKyl9LyxhdHRyczovXFsoW15cXV0rKVxdLyxjbGFzc2VzOi9cKChbXlwpXSspXCkvfSxRPUNLRURJVE9SLmZpbHRlci50cmFuc2Zvcm1hdGlvbnNUb29scz0Ke3NpemVUb1N0eWxlOmZ1bmN0aW9uKGEpe3RoaXMubGVuZ3RoVG9TdHlsZShhLCJ3aWR0aCIpO3RoaXMubGVuZ3RoVG9TdHlsZShhLCJoZWlnaHQiKX0sc2l6ZVRvQXR0cmlidXRlOmZ1bmN0aW9uKGEpe3RoaXMubGVuZ3RoVG9BdHRyaWJ1dGUoYSwid2lkdGgiKTt0aGlzLmxlbmd0aFRvQXR0cmlidXRlKGEsImhlaWdodCIpfSxsZW5ndGhUb1N0eWxlOmZ1bmN0aW9uKGEsYixjKXtjPWN8fGI7aWYoIShjIGluIGEuc3R5bGVzKSl7dmFyIGQ9YS5hdHRyaWJ1dGVzW2JdO2lmKGQpey9eXGQrJC8udGVzdChkKSYmKGQ9ZCsicHgiKTthLnN0eWxlc1tjXT1kfX1kZWxldGUgYS5hdHRyaWJ1dGVzW2JdfSxsZW5ndGhUb0F0dHJpYnV0ZTpmdW5jdGlvbihhLGIsYyl7Yz1jfHxiO2lmKCEoYyBpbiBhLmF0dHJpYnV0ZXMpKXt2YXIgZD1hLnN0eWxlc1tiXSxmPWQmJmQubWF0Y2goL14oXGQrKSg\/OlwuXGQqKT9weCQvKTtmP2EuYXR0cmlidXRlc1tjXT1mWzFdOmQ9PUwmJihhLmF0dHJpYnV0ZXNbY109CkwpfWRlbGV0ZSBhLnN0eWxlc1tiXX0sYWxpZ25tZW50VG9TdHlsZTpmdW5jdGlvbihhKXtpZighKCJmbG9hdCJpbiBhLnN0eWxlcykpe3ZhciBiPWEuYXR0cmlidXRlcy5hbGlnbjtpZihiPT0ibGVmdCJ8fGI9PSJyaWdodCIpYS5zdHlsZXNbImZsb2F0Il09Yn1kZWxldGUgYS5hdHRyaWJ1dGVzLmFsaWdufSxhbGlnbm1lbnRUb0F0dHJpYnV0ZTpmdW5jdGlvbihhKXtpZighKCJhbGlnbiJpbiBhLmF0dHJpYnV0ZXMpKXt2YXIgYj1hLnN0eWxlc1siZmxvYXQiXTtpZihiPT0ibGVmdCJ8fGI9PSJyaWdodCIpYS5hdHRyaWJ1dGVzLmFsaWduPWJ9ZGVsZXRlIGEuc3R5bGVzWyJmbG9hdCJdfSxtYXRjaGVzU3R5bGU6eSx0cmFuc2Zvcm06ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYj09InN0cmluZyIpYS5uYW1lPWI7ZWxzZXt2YXIgYz1iLmdldERlZmluaXRpb24oKSxkPWMuc3R5bGVzLGY9Yy5hdHRyaWJ1dGVzLGUsayxtLGw7YS5uYW1lPWMuZWxlbWVudDtmb3IoZSBpbiBmKWlmKGU9PQoiY2xhc3MiKXtjPWEuY2xhc3Nlcy5qb2luKCJ8Iik7Zm9yKG09ZltlXS5zcGxpdCgvXHMrLyk7bD1tLnBvcCgpOyljLmluZGV4T2YobCk9PS0xJiZhLmNsYXNzZXMucHVzaChsKX1lbHNlIGEuYXR0cmlidXRlc1tlXT1mW2VdO2ZvcihrIGluIGQpYS5zdHlsZXNba109ZFtrXX19fX0pKCk7CihmdW5jdGlvbigpe0NLRURJVE9SLmZvY3VzTWFuYWdlcj1mdW5jdGlvbihhKXtpZihhLmZvY3VzTWFuYWdlcilyZXR1cm4gYS5mb2N1c01hbmFnZXI7dGhpcy5oYXNGb2N1cz1mYWxzZTt0aGlzLmN1cnJlbnRBY3RpdmU9bnVsbDt0aGlzLl89e2VkaXRvcjphfTtyZXR1cm4gdGhpc307Q0tFRElUT1IuZm9jdXNNYW5hZ2VyLl89e2JsdXJEZWxheToyMDB9O0NLRURJVE9SLmZvY3VzTWFuYWdlci5wcm90b3R5cGU9e2ZvY3VzOmZ1bmN0aW9uKGEpe3RoaXMuXy50aW1lciYmY2xlYXJUaW1lb3V0KHRoaXMuXy50aW1lcik7aWYoYSl0aGlzLmN1cnJlbnRBY3RpdmU9YTtpZighdGhpcy5oYXNGb2N1cyYmIXRoaXMuXy5sb2NrZWQpeyhhPUNLRURJVE9SLmN1cnJlbnRJbnN0YW5jZSkmJmEuZm9jdXNNYW5hZ2VyLmJsdXIoMSk7dGhpcy5oYXNGb2N1cz10cnVlOyhhPXRoaXMuXy5lZGl0b3IuY29udGFpbmVyKSYmYS5hZGRDbGFzcygiY2tlX2ZvY3VzIik7dGhpcy5fLmVkaXRvci5maXJlKCJmb2N1cyIpfX0sCmxvY2s6ZnVuY3Rpb24oKXt0aGlzLl8ubG9ja2VkPTF9LHVubG9jazpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl8ubG9ja2VkfSxibHVyOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGUoKXtpZih0aGlzLmhhc0ZvY3VzKXt0aGlzLmhhc0ZvY3VzPWZhbHNlO3ZhciBhPXRoaXMuXy5lZGl0b3IuY29udGFpbmVyO2EmJmEucmVtb3ZlQ2xhc3MoImNrZV9mb2N1cyIpO3RoaXMuXy5lZGl0b3IuZmlyZSgiYmx1ciIpfX1pZighdGhpcy5fLmxvY2tlZCl7dGhpcy5fLnRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5fLnRpbWVyKTt2YXIgYj1DS0VESVRPUi5mb2N1c01hbmFnZXIuXy5ibHVyRGVsYXk7YXx8IWI\/ZS5jYWxsKHRoaXMpOnRoaXMuXy50aW1lcj1DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuXy50aW1lcjtlLmNhbGwodGhpcyl9LGIsdGhpcyl9fSxhZGQ6ZnVuY3Rpb24oYSxlKXt2YXIgYj1hLmdldEN1c3RvbURhdGEoImZvY3VzbWFuYWdlciIpO2lmKCFifHwKYiE9dGhpcyl7YiYmYi5yZW1vdmUoYSk7dmFyIGI9ImZvY3VzIixjPSJibHVyIjtpZihlKWlmKENLRURJVE9SLmVudi5pZSl7Yj0iZm9jdXNpbiI7Yz0iZm9jdXNvdXQifWVsc2UgQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0xO3ZhciBkPXtibHVyOmZ1bmN0aW9uKCl7YS5lcXVhbHModGhpcy5jdXJyZW50QWN0aXZlKSYmdGhpcy5ibHVyKCl9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5mb2N1cyhhKX19O2Eub24oYixkLmZvY3VzLHRoaXMpO2Eub24oYyxkLmJsdXIsdGhpcyk7aWYoZSlDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPTA7YS5zZXRDdXN0b21EYXRhKCJmb2N1c21hbmFnZXIiLHRoaXMpO2Euc2V0Q3VzdG9tRGF0YSgiZm9jdXNtYW5hZ2VyX2hhbmRsZXJzIixkKX19LHJlbW92ZTpmdW5jdGlvbihhKXthLnJlbW92ZUN1c3RvbURhdGEoImZvY3VzbWFuYWdlciIpO3ZhciBlPWEucmVtb3ZlQ3VzdG9tRGF0YSgiZm9jdXNtYW5hZ2VyX2hhbmRsZXJzIik7YS5yZW1vdmVMaXN0ZW5lcigiYmx1ciIsCmUuYmx1cik7YS5yZW1vdmVMaXN0ZW5lcigiZm9jdXMiLGUuZm9jdXMpfX19KSgpO0NLRURJVE9SLmtleXN0cm9rZUhhbmRsZXI9ZnVuY3Rpb24oYSl7aWYoYS5rZXlzdHJva2VIYW5kbGVyKXJldHVybiBhLmtleXN0cm9rZUhhbmRsZXI7dGhpcy5rZXlzdHJva2VzPXt9O3RoaXMuYmxvY2tlZEtleXN0cm9rZXM9e307dGhpcy5fPXtlZGl0b3I6YX07cmV0dXJuIHRoaXN9OwooZnVuY3Rpb24oKXt2YXIgYSxlPWZ1bmN0aW9uKGIpe3ZhciBiPWIuZGF0YSxkPWIuZ2V0S2V5c3Ryb2tlKCksZT10aGlzLmtleXN0cm9rZXNbZF0sZz10aGlzLl8uZWRpdG9yO2E9Zy5maXJlKCJrZXkiLHtrZXlDb2RlOmR9KT09PWZhbHNlO2lmKCFhKXtlJiYoYT1nLmV4ZWNDb21tYW5kKGUse2Zyb206ImtleXN0cm9rZUhhbmRsZXIifSkhPT1mYWxzZSk7YXx8KGE9ISF0aGlzLmJsb2NrZWRLZXlzdHJva2VzW2RdKX1hJiZiLnByZXZlbnREZWZhdWx0KHRydWUpO3JldHVybiFhfSxiPWZ1bmN0aW9uKGIpe2lmKGEpe2E9ZmFsc2U7Yi5kYXRhLnByZXZlbnREZWZhdWx0KHRydWUpfX07Q0tFRElUT1Iua2V5c3Ryb2tlSGFuZGxlci5wcm90b3R5cGU9e2F0dGFjaDpmdW5jdGlvbihhKXthLm9uKCJrZXlkb3duIixlLHRoaXMpO2lmKENLRURJVE9SLmVudi5vcGVyYXx8Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjKWEub24oImtleXByZXNzIixiLHRoaXMpfX19KSgpOwooZnVuY3Rpb24oKXtDS0VESVRPUi5sYW5nPXtsYW5ndWFnZXM6e2FmOjEsYXI6MSxiZzoxLGJuOjEsYnM6MSxjYToxLGNzOjEsY3k6MSxkYToxLGRlOjEsZWw6MSwiZW4tYXUiOjEsImVuLWNhIjoxLCJlbi1nYiI6MSxlbjoxLGVvOjEsZXM6MSxldDoxLGV1OjEsZmE6MSxmaToxLGZvOjEsImZyLWNhIjoxLGZyOjEsZ2w6MSxndToxLGhlOjEsaGk6MSxocjoxLGh1OjEsaWQ6MSxpczoxLGl0OjEsamE6MSxrYToxLGttOjEsa286MSxrdToxLGx0OjEsbHY6MSxtazoxLG1uOjEsbXM6MSxuYjoxLG5sOjEsbm86MSxwbDoxLCJwdC1iciI6MSxwdDoxLHJvOjEscnU6MSxzaToxLHNrOjEsc2w6MSxzcToxLCJzci1sYXRuIjoxLHNyOjEsc3Y6MSx0aDoxLHRyOjEsdWc6MSx1azoxLHZpOjEsInpoLWNuIjoxLHpoOjF9LHJ0bDp7YXI6MSxmYToxLGhlOjEsa3U6MSx1ZzoxfSxsb2FkOmZ1bmN0aW9uKGEsZSxiKXtpZighYXx8IUNLRURJVE9SLmxhbmcubGFuZ3VhZ2VzW2FdKWE9dGhpcy5kZXRlY3QoZSwKYSk7dGhpc1thXT9iKGEsdGhpc1thXSk6Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoQ0tFRElUT1IuZ2V0VXJsKCJsYW5nLyIrYSsiLmpzIiksZnVuY3Rpb24oKXt0aGlzW2FdLmRpcj10aGlzLnJ0bFthXT8icnRsIjoibHRyIjtiKGEsdGhpc1thXSl9LHRoaXMpfSxkZXRlY3Q6ZnVuY3Rpb24oYSxlKXt2YXIgYj10aGlzLmxhbmd1YWdlcyxlPWV8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5sYW5ndWFnZXx8YSxjPWUudG9Mb3dlckNhc2UoKS5tYXRjaCgvKFthLXpdKykoPzotKFthLXpdKykpPy8pLGQ9Y1sxXSxjPWNbMl07YltkKyItIitjXT9kPWQrIi0iK2M6YltkXXx8KGQ9bnVsbCk7Q0tFRElUT1IubGFuZy5kZXRlY3Q9ZD9mdW5jdGlvbigpe3JldHVybiBkfTpmdW5jdGlvbihhKXtyZXR1cm4gYX07cmV0dXJuIGR8fGF9fX0pKCk7CkNLRURJVE9SLnNjcmlwdExvYWRlcj1mdW5jdGlvbigpe3ZhciBhPXt9LGU9e307cmV0dXJue2xvYWQ6ZnVuY3Rpb24oYixjLGQsaCl7dmFyIGc9dHlwZW9mIGI9PSJzdHJpbmciO2cmJihiPVtiXSk7ZHx8KGQ9Q0tFRElUT1IpO3ZhciBuPWIubGVuZ3RoLGk9W10saj1bXSxvPWZ1bmN0aW9uKGEpe2MmJihnP2MuY2FsbChkLGEpOmMuY2FsbChkLGksaikpfTtpZihuPT09MClvKHRydWUpO2Vsc2V7dmFyIHE9ZnVuY3Rpb24oYSxiKXsoYj9pOmopLnB1c2goYSk7aWYoLS1uPD0wKXtoJiZDS0VESVRPUi5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKS5yZW1vdmVTdHlsZSgiY3Vyc29yIik7byhiKX19LHM9ZnVuY3Rpb24oYixjKXthW2JdPTE7dmFyIGQ9ZVtiXTtkZWxldGUgZVtiXTtmb3IodmFyIGY9MDtmPGQubGVuZ3RoO2YrKylkW2ZdKGIsYyl9LHU9ZnVuY3Rpb24oYil7aWYoYVtiXSlxKGIsdHJ1ZSk7ZWxzZXt2YXIgZD1lW2JdfHwoZVtiXT1bXSk7ZC5wdXNoKHEpO2lmKCEoZC5sZW5ndGg+CjEpKXt2YXIgZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoInNjcmlwdCIpO2Yuc2V0QXR0cmlidXRlcyh7dHlwZToidGV4dC9qYXZhc2NyaXB0IixzcmM6Yn0pO2lmKGMpaWYoQ0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYudmVyc2lvbjwxMSlmLiQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoZi4kLnJlYWR5U3RhdGU9PSJsb2FkZWQifHxmLiQucmVhZHlTdGF0ZT09ImNvbXBsZXRlIil7Zi4kLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO3MoYix0cnVlKX19O2Vsc2V7Zi4kLm9ubG9hZD1mdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtzKGIsdHJ1ZSl9LDApfTtmLiQub25lcnJvcj1mdW5jdGlvbigpe3MoYixmYWxzZSl9fWYuYXBwZW5kVG8oQ0tFRElUT1IuZG9jdW1lbnQuZ2V0SGVhZCgpKX19fTtoJiZDS0VESVRPUi5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKS5zZXRTdHlsZSgiY3Vyc29yIiwid2FpdCIpO2Zvcih2YXIgZj0wO2Y8bjtmKyspdShiW2ZdKX19LApxdWV1ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt2YXIgYjsoYj1jWzBdKSYmdGhpcy5sb2FkKGIuc2NyaXB0VXJsLGIuY2FsbGJhY2ssQ0tFRElUT1IsMCl9dmFyIGM9W107cmV0dXJuIGZ1bmN0aW9uKGQsZSl7dmFyIGc9dGhpcztjLnB1c2goe3NjcmlwdFVybDpkLGNhbGxiYWNrOmZ1bmN0aW9uKCl7ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yy5zaGlmdCgpO2EuY2FsbChnKX19KTtjLmxlbmd0aD09MSYmYS5jYWxsKHRoaXMpfX0oKX19KCk7Q0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyPWZ1bmN0aW9uKGEsZSl7dGhpcy5iYXNlUGF0aD1hO3RoaXMuZmlsZU5hbWU9ZTt0aGlzLnJlZ2lzdGVyZWQ9e307dGhpcy5sb2FkZWQ9e307dGhpcy5leHRlcm5hbHM9e307dGhpcy5fPXt3YWl0aW5nTGlzdDp7fX19OwpDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oYSxlKXtpZih0aGlzLnJlZ2lzdGVyZWRbYV0pdGhyb3cnW0NLRURJVE9SLnJlc291cmNlTWFuYWdlci5hZGRdIFRoZSByZXNvdXJjZSBuYW1lICInK2ErJyIgaXMgYWxyZWFkeSByZWdpc3RlcmVkLic7dmFyIGI9dGhpcy5yZWdpc3RlcmVkW2FdPWV8fHt9O2IubmFtZT1hO2IucGF0aD10aGlzLmdldFBhdGgoYSk7Q0tFRElUT1IuZmlyZShhK0NLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUodGhpcy5maWxlTmFtZSkrIlJlYWR5IixiKTtyZXR1cm4gdGhpcy5nZXQoYSl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZWdpc3RlcmVkW2FdfHxudWxsfSxnZXRQYXRoOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuZXh0ZXJuYWxzW2FdO3JldHVybiBDS0VESVRPUi5nZXRVcmwoZSYmZS5kaXJ8fHRoaXMuYmFzZVBhdGgrYSsiLyIpfSxnZXRGaWxlUGF0aDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLmV4dGVybmFsc1thXTsKcmV0dXJuIENLRURJVE9SLmdldFVybCh0aGlzLmdldFBhdGgoYSkrKGU\/ZS5maWxlOnRoaXMuZmlsZU5hbWUrIi5qcyIpKX0sYWRkRXh0ZXJuYWw6ZnVuY3Rpb24oYSxlLGIpe2Zvcih2YXIgYT1hLnNwbGl0KCIsIiksYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdO2J8fChlPWUucmVwbGFjZSgvW15cL10rJC8sZnVuY3Rpb24oYSl7Yj1hO3JldHVybiIifSkpO3RoaXMuZXh0ZXJuYWxzW2RdPXtkaXI6ZSxmaWxlOmJ8fHRoaXMuZmlsZU5hbWUrIi5qcyJ9fX0sbG9hZDpmdW5jdGlvbihhLGUsYil7Q0tFRElUT1IudG9vbHMuaXNBcnJheShhKXx8KGE9YT9bYV06W10pO2Zvcih2YXIgYz10aGlzLmxvYWRlZCxkPXRoaXMucmVnaXN0ZXJlZCxoPVtdLGc9e30sbj17fSxpPTA7aTxhLmxlbmd0aDtpKyspe3ZhciBqPWFbaV07aWYoailpZighY1tqXSYmIWRbal0pe3ZhciBvPXRoaXMuZ2V0RmlsZVBhdGgoaik7aC5wdXNoKG8pO28gaW4gZ3x8KGdbb109W10pO2dbb10ucHVzaChqKX1lbHNlIG5bal09CnRoaXMuZ2V0KGopfUNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGgsZnVuY3Rpb24oYSxkKXtpZihkLmxlbmd0aCl0aHJvdydbQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyLmxvYWRdIFJlc291cmNlIG5hbWUgIicrZ1tkWzBdXS5qb2luKCIsIikrJyIgd2FzIG5vdCBmb3VuZCBhdCAiJytkWzBdKyciLic7Zm9yKHZhciBoPTA7aDxhLmxlbmd0aDtoKyspZm9yKHZhciBmPWdbYVtoXV0scD0wO3A8Zi5sZW5ndGg7cCsrKXt2YXIgaT1mW3BdO25baV09dGhpcy5nZXQoaSk7Y1tpXT0xfWUuY2FsbChiLG4pfSx0aGlzKX19O0NLRURJVE9SLnBsdWdpbnM9bmV3IENLRURJVE9SLnJlc291cmNlTWFuYWdlcigicGx1Z2lucy8iLCJwbHVnaW4iKTsKQ0tFRElUT1IucGx1Z2lucy5sb2FkPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKENLRURJVE9SLnBsdWdpbnMubG9hZCxmdW5jdGlvbihhKXt2YXIgZT17fTtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe3ZhciBoPXt9LGc9ZnVuY3Rpb24oYil7YS5jYWxsKHRoaXMsYixmdW5jdGlvbihhKXtDS0VESVRPUi50b29scy5leHRlbmQoaCxhKTt2YXIgYj1bXSxuO2ZvcihuIGluIGEpe3ZhciBxPWFbbl0scz1xJiZxLnJlcXVpcmVzO2lmKCFlW25dKXtpZihxLmljb25zKWZvcih2YXIgdT1xLmljb25zLnNwbGl0KCIsIiksZj11Lmxlbmd0aDtmLS07KUNLRURJVE9SLnNraW4uYWRkSWNvbih1W2ZdLHEucGF0aCsiaWNvbnMvIisoQ0tFRElUT1IuZW52LmhpZHBpJiZxLmhpZHBpPyJoaWRwaS8iOiIiKSt1W2ZdKyIucG5nIik7ZVtuXT0xfWlmKHMpe3Muc3BsaXQmJihzPXMuc3BsaXQoIiwiKSk7Zm9yKHE9MDtxPHMubGVuZ3RoO3ErKyloW3NbcV1dfHxiLnB1c2goc1txXSl9fWlmKGIubGVuZ3RoKWcuY2FsbCh0aGlzLApiKTtlbHNle2ZvcihuIGluIGgpe3E9aFtuXTtpZihxLm9uTG9hZCYmIXEub25Mb2FkLl9jYWxsZWQpe3Eub25Mb2FkKCk9PT1mYWxzZSYmZGVsZXRlIGhbbl07cS5vbkxvYWQuX2NhbGxlZD0xfX1jJiZjLmNhbGwoZHx8d2luZG93LGgpfX0sdGhpcyl9O2cuY2FsbCh0aGlzLGIpfX0pO0NLRURJVE9SLnBsdWdpbnMuc2V0TGFuZz1mdW5jdGlvbihhLGUsYil7dmFyIGM9dGhpcy5nZXQoYSksYT1jLmxhbmdFbnRyaWVzfHwoYy5sYW5nRW50cmllcz17fSksYz1jLmxhbmd8fChjLmxhbmc9W10pO2Muc3BsaXQmJihjPWMuc3BsaXQoIiwiKSk7Q0tFRElUT1IudG9vbHMuaW5kZXhPZihjLGUpPT0tMSYmYy5wdXNoKGUpO2FbZV09Yn07Q0tFRElUT1IudWk9ZnVuY3Rpb24oYSl7aWYoYS51aSlyZXR1cm4gYS51aTt0aGlzLml0ZW1zPXt9O3RoaXMuaW5zdGFuY2VzPXt9O3RoaXMuZWRpdG9yPWE7dGhpcy5fPXtoYW5kbGVyczp7fX07cmV0dXJuIHRoaXN9OwpDS0VESVRPUi51aS5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbihhLGUsYil7Yi5uYW1lPWEudG9Mb3dlckNhc2UoKTt2YXIgYz10aGlzLml0ZW1zW2FdPXt0eXBlOmUsY29tbWFuZDpiLmNvbW1hbmR8fG51bGwsYXJnczpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMil9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChjLGIpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5zdGFuY2VzW2FdfSxjcmVhdGU6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5pdGVtc1thXSxiPWUmJnRoaXMuXy5oYW5kbGVyc1tlLnR5cGVdLGM9ZSYmZS5jb21tYW5kJiZ0aGlzLmVkaXRvci5nZXRDb21tYW5kKGUuY29tbWFuZCksYj1iJiZiLmNyZWF0ZS5hcHBseSh0aGlzLGUuYXJncyk7dGhpcy5pbnN0YW5jZXNbYV09YjtjJiZjLnVpSXRlbXMucHVzaChiKTtpZihiJiYhYi50eXBlKWIudHlwZT1lLnR5cGU7cmV0dXJuIGJ9LGFkZEhhbmRsZXI6ZnVuY3Rpb24oYSxlKXt0aGlzLl8uaGFuZGxlcnNbYV09CmV9LHNwYWNlOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuc3BhY2VJZChhKSl9LHNwYWNlSWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWRpdG9yLmlkKyJfIithfX07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IudWkpOwooZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYyxoKXtDS0VESVRPUi5ldmVudC5jYWxsKHRoaXMpO2E9YSYmQ0tFRElUT1IudG9vbHMuY2xvbmUoYSk7aWYoYyE9PXZvaWQgMCl7aWYoYyBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50KXtpZighaCl0aHJvdyBFcnJvcigiT25lIG9mIHRoZSBlbGVtZW50IG1vZGVzIG11c3QgYmUgc3BlY2lmaWVkLiIpO31lbHNlIHRocm93IEVycm9yKCJFeHBlY3QgZWxlbWVudCBvZiB0eXBlIENLRURJVE9SLmRvbS5lbGVtZW50LiIpO2lmKENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrcyYmaD09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSl0aHJvdyBFcnJvcigiSW5saW5lIGVsZW1lbnQgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIG9uIElFIHF1aXJrcy4iKTtpZighKGg9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU\/Yy5pcyhDS0VESVRPUi5kdGQuJGVkaXRhYmxlKXx8Yy5pcygidGV4dGFyZWEiKTpoPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT8KIWMuaXMoQ0tFRElUT1IuZHRkLiRub25Cb2R5Q29udGVudCk6MSkpdGhyb3cgRXJyb3IoJ1RoZSBzcGVjaWZpZWQgZWxlbWVudCBtb2RlIGlzIG5vdCBzdXBwb3J0ZWQgb24gZWxlbWVudDogIicrYy5nZXROYW1lKCkrJyIuJyk7dGhpcy5lbGVtZW50PWM7dGhpcy5lbGVtZW50TW9kZT1oO3RoaXMubmFtZT10aGlzLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8mJihjLmdldElkKCl8fGMuZ2V0TmFtZUF0dCgpKX1lbHNlIHRoaXMuZWxlbWVudE1vZGU9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX05PTkU7dGhpcy5fPXt9O3RoaXMuY29tbWFuZHM9e307dGhpcy50ZW1wbGF0ZXM9e307dGhpcy5uYW1lPXRoaXMubmFtZXx8ZSgpO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5zdGF0dXM9InVubG9hZGVkIjt0aGlzLmNvbmZpZz1DS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShDS0VESVRPUi5jb25maWcpO3RoaXMudWk9bmV3IENLRURJVE9SLnVpKHRoaXMpOwp0aGlzLmZvY3VzTWFuYWdlcj1uZXcgQ0tFRElUT1IuZm9jdXNNYW5hZ2VyKHRoaXMpO3RoaXMua2V5c3Ryb2tlSGFuZGxlcj1uZXcgQ0tFRElUT1Iua2V5c3Ryb2tlSGFuZGxlcih0aGlzKTt0aGlzLm9uKCJyZWFkT25seSIsYik7dGhpcy5vbigic2VsZWN0aW9uQ2hhbmdlIixmdW5jdGlvbihhKXtkKHRoaXMsYS5kYXRhLnBhdGgpfSk7dGhpcy5vbigiYWN0aXZlRmlsdGVyQ2hhbmdlIixmdW5jdGlvbigpe2QodGhpcyx0aGlzLmVsZW1lbnRQYXRoKCksdHJ1ZSl9KTt0aGlzLm9uKCJtb2RlIixiKTt0aGlzLm9uKCJpbnN0YW5jZVJlYWR5IixmdW5jdGlvbigpe3RoaXMuY29uZmlnLnN0YXJ0dXBGb2N1cyYmdGhpcy5mb2N1cygpfSk7Q0tFRElUT1IuZmlyZSgiaW5zdGFuY2VDcmVhdGVkIixudWxsLHRoaXMpO0NLRURJVE9SLmFkZCh0aGlzKTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zyh0aGlzLGEpfSwwLHRoaXMpfWZ1bmN0aW9uIGUoKXtkbyB2YXIgYT0iZWRpdG9yIisKKytzO3doaWxlKENLRURJVE9SLmluc3RhbmNlc1thXSk7cmV0dXJuIGF9ZnVuY3Rpb24gYigpe3ZhciBhPXRoaXMuY29tbWFuZHMsYjtmb3IoYiBpbiBhKWModGhpcyxhW2JdKX1mdW5jdGlvbiBjKGEsYil7YltiLnN0YXJ0RGlzYWJsZWQ\/ImRpc2FibGUiOmEucmVhZE9ubHkmJiFiLnJlYWRPbmx5PyJkaXNhYmxlIjpiLm1vZGVzW2EubW9kZV0\/ImVuYWJsZSI6ImRpc2FibGUiXSgpfWZ1bmN0aW9uIGQoYSxiLGMpe2lmKGIpe3ZhciBkLGUsbD1hLmNvbW1hbmRzO2ZvcihlIGluIGwpe2Q9bFtlXTsoY3x8ZC5jb250ZXh0U2Vuc2l0aXZlKSYmZC5yZWZyZXNoKGEsYil9fX1mdW5jdGlvbiBoKGEpe3ZhciBiPWEuY29uZmlnLmN1c3RvbUNvbmZpZztpZighYilyZXR1cm4gZmFsc2U7dmFyIGI9Q0tFRElUT1IuZ2V0VXJsKGIpLGM9dVtiXXx8KHVbYl09e30pO2lmKGMuZm4pe2MuZm4uY2FsbChhLGEuY29uZmlnKTsoQ0tFRElUT1IuZ2V0VXJsKGEuY29uZmlnLmN1c3RvbUNvbmZpZyk9PWJ8fAohaChhKSkmJmEuZmlyZU9uY2UoImN1c3RvbUNvbmZpZ0xvYWRlZCIpfWVsc2UgQ0tFRElUT1Iuc2NyaXB0TG9hZGVyLnF1ZXVlKGIsZnVuY3Rpb24oKXtjLmZuPUNLRURJVE9SLmVkaXRvckNvbmZpZz9DS0VESVRPUi5lZGl0b3JDb25maWc6ZnVuY3Rpb24oKXt9O2goYSl9KTtyZXR1cm4gdHJ1ZX1mdW5jdGlvbiBnKGEsYil7YS5vbigiY3VzdG9tQ29uZmlnTG9hZGVkIixmdW5jdGlvbigpe2lmKGIpe2lmKGIub24pZm9yKHZhciBjIGluIGIub24pYS5vbihjLGIub25bY10pO0NLRURJVE9SLnRvb2xzLmV4dGVuZChhLmNvbmZpZyxiLHRydWUpO2RlbGV0ZSBhLmNvbmZpZy5vbn1jPWEuY29uZmlnO2EucmVhZE9ubHk9ISghYy5yZWFkT25seSYmIShhLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuZWxlbWVudC5pcygidGV4dGFyZWEiKT9hLmVsZW1lbnQuaGFzQXR0cmlidXRlKCJkaXNhYmxlZCIpOmEuZWxlbWVudC5pc1JlYWRPbmx5KCk6YS5lbGVtZW50TW9kZT09CkNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiZhLmVsZW1lbnQuaGFzQXR0cmlidXRlKCJkaXNhYmxlZCIpKSk7YS5ibG9ja2xlc3M9YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT8hKGEuZWxlbWVudC5pcygidGV4dGFyZWEiKXx8Q0tFRElUT1IuZHRkW2EuZWxlbWVudC5nZXROYW1lKCldLnApOmZhbHNlO2EudGFiSW5kZXg9Yy50YWJJbmRleHx8YS5lbGVtZW50JiZhLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCJ0YWJpbmRleCIpfHwwO2EuYWN0aXZlRW50ZXJNb2RlPWEuZW50ZXJNb2RlPWEuYmxvY2tsZXNzP0NLRURJVE9SLkVOVEVSX0JSOmMuZW50ZXJNb2RlO2EuYWN0aXZlU2hpZnRFbnRlck1vZGU9YS5zaGlmdEVudGVyTW9kZT1hLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpjLnNoaWZ0RW50ZXJNb2RlO2lmKGMuc2tpbilDS0VESVRPUi5za2luTmFtZT1jLnNraW47YS5maXJlT25jZSgiY29uZmlnTG9hZGVkIik7YS5kYXRhUHJvY2Vzc29yPQpuZXcgQ0tFRElUT1IuaHRtbERhdGFQcm9jZXNzb3IoYSk7YS5maWx0ZXI9YS5hY3RpdmVGaWx0ZXI9bmV3IENLRURJVE9SLmZpbHRlcihhKTtuKGEpfSk7aWYoYiYmYi5jdXN0b21Db25maWchPXZvaWQgMClhLmNvbmZpZy5jdXN0b21Db25maWc9Yi5jdXN0b21Db25maWc7aChhKXx8YS5maXJlT25jZSgiY3VzdG9tQ29uZmlnTG9hZGVkIil9ZnVuY3Rpb24gbihhKXtDS0VESVRPUi5za2luLmxvYWRQYXJ0KCJlZGl0b3IiLGZ1bmN0aW9uKCl7aShhKX0pfWZ1bmN0aW9uIGkoYSl7Q0tFRElUT1IubGFuZy5sb2FkKGEuY29uZmlnLmxhbmd1YWdlLGEuY29uZmlnLmRlZmF1bHRMYW5ndWFnZSxmdW5jdGlvbihiLGMpe3ZhciBkPWEuY29uZmlnLnRpdGxlO2EubGFuZ0NvZGU9YjthLmxhbmc9Q0tFRElUT1IudG9vbHMucHJvdG90eXBlZENvcHkoYyk7YS50aXRsZT10eXBlb2YgZD09InN0cmluZyJ8fGQ9PT1mYWxzZT9kOlthLmxhbmcuZWRpdG9yLGEubmFtZV0uam9pbigiLCAiKTtpZihDS0VESVRPUi5lbnYuZ2Vja28mJgpDS0VESVRPUi5lbnYudmVyc2lvbjwxMDkwMCYmYS5sYW5nLmRpcj09InJ0bCIpYS5sYW5nLmRpcj0ibHRyIjtpZighYS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uKWEuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbj1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuZWxlbWVudC5nZXREaXJlY3Rpb24oMSk6YS5sYW5nLmRpcjthLmZpcmUoImxhbmdMb2FkZWQiKTtqKGEpfSl9ZnVuY3Rpb24gaihhKXthLmdldFN0eWxlc1NldChmdW5jdGlvbihiKXthLm9uY2UoImxvYWRlZCIsZnVuY3Rpb24oKXthLmZpcmUoInN0eWxlc1NldCIse3N0eWxlczpifSl9LG51bGwsbnVsbCwxKTtvKGEpfSl9ZnVuY3Rpb24gbyhhKXt2YXIgYj1hLmNvbmZpZyxjPWIucGx1Z2lucyxkPWIuZXh0cmFQbHVnaW5zLGU9Yi5yZW1vdmVQbHVnaW5zO2lmKGQpdmFyIGw9UmVnRXhwKCIoPzpefCwpKD86IitkLnJlcGxhY2UoL1xzKixccyovZywifCIpKyIpKD89LHwkKSIsCiJnIiksYz1jLnJlcGxhY2UobCwiIiksYz1jKygiLCIrZCk7aWYoZSl2YXIgaD1SZWdFeHAoIig\/Ol58LCkoPzoiK2UucmVwbGFjZSgvXHMqLFxzKi9nLCJ8IikrIikoPz0sfCQpIiwiZyIpLGM9Yy5yZXBsYWNlKGgsIiIpO0NLRURJVE9SLmVudi5haXImJihjPWMrIixhZG9iZWFpciIpO0NLRURJVE9SLnBsdWdpbnMubG9hZChjLnNwbGl0KCIsIiksZnVuY3Rpb24oYyl7dmFyIGQ9W10sZT1bXSxrPVtdO2EucGx1Z2lucz1jO2Zvcih2YXIgbCBpbiBjKXt2YXIgbT1jW2xdLGc9bS5sYW5nLGk9bnVsbCxqPW0ucmVxdWlyZXMsdjtDS0VESVRPUi50b29scy5pc0FycmF5KGopJiYoaj1qLmpvaW4oIiwiKSk7aWYoaiYmKHY9ai5tYXRjaChoKSkpZm9yKDtqPXYucG9wKCk7KUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oYSxiKXt0aHJvdyBFcnJvcignUGx1Z2luICInK2EucmVwbGFjZSgiLCIsIiIpKyciIGNhbm5vdCBiZSByZW1vdmVkIGZyb20gdGhlIHBsdWdpbnMgbGlzdCwgYmVjYXVzZSBpdFwncyByZXF1aXJlZCBieSAiJysKYisnIiBwbHVnaW4uJyk7fSwwLG51bGwsW2osbF0pO2lmKGcmJiFhLmxhbmdbbF0pe2cuc3BsaXQmJihnPWcuc3BsaXQoIiwiKSk7aWYoQ0tFRElUT1IudG9vbHMuaW5kZXhPZihnLGEubGFuZ0NvZGUpPj0wKWk9YS5sYW5nQ29kZTtlbHNle2k9YS5sYW5nQ29kZS5yZXBsYWNlKC8tLiovLCIiKTtpPWkhPWEubGFuZ0NvZGUmJkNLRURJVE9SLnRvb2xzLmluZGV4T2YoZyxpKT49MD9pOkNLRURJVE9SLnRvb2xzLmluZGV4T2YoZywiZW4iKT49MD8iZW4iOmdbMF19aWYoIW0ubGFuZ0VudHJpZXN8fCFtLmxhbmdFbnRyaWVzW2ldKWsucHVzaChDS0VESVRPUi5nZXRVcmwobS5wYXRoKyJsYW5nLyIraSsiLmpzIikpO2Vsc2V7YS5sYW5nW2xdPW0ubGFuZ0VudHJpZXNbaV07aT1udWxsfX1lLnB1c2goaSk7ZC5wdXNoKG0pfUNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGssZnVuY3Rpb24oKXtmb3IodmFyIGM9WyJiZWZvcmVJbml0IiwiaW5pdCIsImFmdGVySW5pdCJdLGs9MDtrPGMubGVuZ3RoO2srKylmb3IodmFyIG09CjA7bTxkLmxlbmd0aDttKyspe3ZhciBsPWRbbV07az09PTAmJihlW21dJiZsLmxhbmcmJmwubGFuZ0VudHJpZXMpJiYoYS5sYW5nW2wubmFtZV09bC5sYW5nRW50cmllc1tlW21dXSk7aWYobFtjW2tdXSlsW2Nba11dKGEpfWEuZmlyZU9uY2UoInBsdWdpbnNMb2FkZWQiKTtiLmtleXN0cm9rZXMmJmEuc2V0S2V5c3Ryb2tlKGEuY29uZmlnLmtleXN0cm9rZXMpO2ZvcihtPTA7bTxhLmNvbmZpZy5ibG9ja2VkS2V5c3Ryb2tlcy5sZW5ndGg7bSsrKWEua2V5c3Ryb2tlSGFuZGxlci5ibG9ja2VkS2V5c3Ryb2tlc1thLmNvbmZpZy5ibG9ja2VkS2V5c3Ryb2tlc1ttXV09MTthLnN0YXR1cz0ibG9hZGVkIjthLmZpcmVPbmNlKCJsb2FkZWQiKTtDS0VESVRPUi5maXJlKCJpbnN0YW5jZUxvYWRlZCIsbnVsbCxhKX0pfSl9ZnVuY3Rpb24gcSgpe3ZhciBhPXRoaXMuZWxlbWVudDtpZihhJiZ0aGlzLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8pe3ZhciBiPXRoaXMuZ2V0RGF0YSgpOwp0aGlzLmNvbmZpZy5odG1sRW5jb2RlT3V0cHV0JiYoYj1DS0VESVRPUi50b29scy5odG1sRW5jb2RlKGIpKTthLmlzKCJ0ZXh0YXJlYSIpP2Euc2V0VmFsdWUoYik6YS5zZXRIdG1sKGIpO3JldHVybiB0cnVlfXJldHVybiBmYWxzZX1hLnByb3RvdHlwZT1DS0VESVRPUi5lZGl0b3IucHJvdG90eXBlO0NLRURJVE9SLmVkaXRvcj1hO3ZhciBzPTAsdT17fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7YWRkQ29tbWFuZDpmdW5jdGlvbihhLGIpe2IubmFtZT1hLnRvTG93ZXJDYXNlKCk7dmFyIGQ9bmV3IENLRURJVE9SLmNvbW1hbmQodGhpcyxiKTt0aGlzLm1vZGUmJmModGhpcyxkKTtyZXR1cm4gdGhpcy5jb21tYW5kc1thXT1kfSxfYXR0YWNoVG9Gb3JtOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZWxlbWVudCxjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChiLiQuZm9ybSk7aWYoYi5pcygidGV4dGFyZWEiKSYmYyl7dmFyIGQ9ZnVuY3Rpb24oYyl7YS51cGRhdGVFbGVtZW50KCk7CmEuXy5yZXF1aXJlZCYmKCFiLmdldFZhbHVlKCkmJmEuZmlyZSgicmVxdWlyZWQiKT09PWZhbHNlKSYmYy5kYXRhLnByZXZlbnREZWZhdWx0KCl9O2Mub24oInN1Ym1pdCIsZCk7aWYoYy4kLnN1Ym1pdCYmYy4kLnN1Ym1pdC5jYWxsJiZjLiQuc3VibWl0LmFwcGx5KWMuJC5zdWJtaXQ9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYy4kLnN1Ym1pdCxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtkKCk7YS5hcHBseT9hLmFwcGx5KHRoaXMpOmEoKX19KTthLm9uKCJkZXN0cm95IixmdW5jdGlvbigpe2MucmVtb3ZlTGlzdGVuZXIoInN1Ym1pdCIsZCl9KX19LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKCJiZWZvcmVEZXN0cm95Iik7IWEmJnEuY2FsbCh0aGlzKTt0aGlzLmVkaXRhYmxlKG51bGwpO3RoaXMuc3RhdHVzPSJkZXN0cm95ZWQiO3RoaXMuZmlyZSgiZGVzdHJveSIpO3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7Q0tFRElUT1IucmVtb3ZlKHRoaXMpO0NLRURJVE9SLmZpcmUoImluc3RhbmNlRGVzdHJveWVkIiwKbnVsbCx0aGlzKX0sZWxlbWVudFBhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YXx8dGhpcy5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKSk\/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChhLHRoaXMuZWRpdGFibGUoKSk6bnVsbH0sY3JlYXRlUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRhYmxlKCk7cmV0dXJuIGE\/bmV3IENLRURJVE9SLmRvbS5yYW5nZShhKTpudWxsfSxleGVjQ29tbWFuZDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q29tbWFuZChhKSxkPXtuYW1lOmEsY29tbWFuZERhdGE6Yixjb21tYW5kOmN9O2lmKGMmJmMuc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZ0aGlzLmZpcmUoImJlZm9yZUNvbW1hbmRFeGVjIixkKSE9PXRydWUpe2QucmV0dXJuVmFsdWU9Yy5leGVjKGQuY29tbWFuZERhdGEpO2lmKCFjLmFzeW5jJiZ0aGlzLmZpcmUoImFmdGVyQ29tbWFuZEV4ZWMiLGQpIT09dHJ1ZSlyZXR1cm4gZC5yZXR1cm5WYWx1ZX1yZXR1cm4gZmFsc2V9LApnZXRDb21tYW5kOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbW1hbmRzW2FdfSxnZXREYXRhOmZ1bmN0aW9uKGEpeyFhJiZ0aGlzLmZpcmUoImJlZm9yZUdldERhdGEiKTt2YXIgYj10aGlzLl8uZGF0YTtpZih0eXBlb2YgYiE9InN0cmluZyIpYj0oYj10aGlzLmVsZW1lbnQpJiZ0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT9iLmlzKCJ0ZXh0YXJlYSIpP2IuZ2V0VmFsdWUoKTpiLmdldEh0bWwoKToiIjtiPXtkYXRhVmFsdWU6Yn07IWEmJnRoaXMuZmlyZSgiZ2V0RGF0YSIsYik7cmV0dXJuIGIuZGF0YVZhbHVlfSxnZXRTbmFwc2hvdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZmlyZSgiZ2V0U25hcHNob3QiKTtpZih0eXBlb2YgYSE9InN0cmluZyIpe3ZhciBiPXRoaXMuZWxlbWVudDtiJiZ0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmKGE9Yi5pcygidGV4dGFyZWEiKT9iLmdldFZhbHVlKCk6Yi5nZXRIdG1sKCkpfXJldHVybiBhfSwKbG9hZFNuYXBzaG90OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZSgibG9hZFNuYXBzaG90IixhKX0sc2V0RGF0YTpmdW5jdGlvbihhLGIsYyl7aWYoYil0aGlzLm9uKCJkYXRhUmVhZHkiLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTtiLmNhbGwoYS5lZGl0b3IpfSk7YT17ZGF0YVZhbHVlOmF9OyFjJiZ0aGlzLmZpcmUoInNldERhdGEiLGEpO3RoaXMuXy5kYXRhPWEuZGF0YVZhbHVlOyFjJiZ0aGlzLmZpcmUoImFmdGVyU2V0RGF0YSIsYSl9LHNldFJlYWRPbmx5OmZ1bmN0aW9uKGEpe2E9YT09dm9pZCAwfHxhO2lmKHRoaXMucmVhZE9ubHkhPWEpe3RoaXMucmVhZE9ubHk9YTt0aGlzLmtleXN0cm9rZUhhbmRsZXIuYmxvY2tlZEtleXN0cm9rZXNbOF09K2E7dGhpcy5lZGl0YWJsZSgpLnNldFJlYWRPbmx5KGEpO3RoaXMuZmlyZSgicmVhZE9ubHkiKX19LGluc2VydEh0bWw6ZnVuY3Rpb24oYSxiKXt0aGlzLmZpcmUoImluc2VydEh0bWwiLHtkYXRhVmFsdWU6YSxtb2RlOmJ9KX0sCmluc2VydFRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKCJpbnNlcnRUZXh0IixhKX0saW5zZXJ0RWxlbWVudDpmdW5jdGlvbihhKXt0aGlzLmZpcmUoImluc2VydEVsZW1lbnQiLGEpfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuZmlyZSgiYmVmb3JlRm9jdXMiKX0sY2hlY2tEaXJ0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXR1cz09InJlYWR5IiYmdGhpcy5fLnByZXZpb3VzVmFsdWUhPT10aGlzLmdldFNuYXBzaG90KCl9LHJlc2V0RGlydHk6ZnVuY3Rpb24oKXt0aGlzLl8ucHJldmlvdXNWYWx1ZT10aGlzLmdldFNuYXBzaG90KCl9LHVwZGF0ZUVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gcS5jYWxsKHRoaXMpfSxzZXRLZXlzdHJva2U6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5rZXlzdHJva2VIYW5kbGVyLmtleXN0cm9rZXMsYj1DS0VESVRPUi50b29scy5pc0FycmF5KGFyZ3VtZW50c1swXSk\/YXJndW1lbnRzWzBdOltbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKV0sYywKZCxlPWIubGVuZ3RoO2UtLTspe2M9YltlXTtkPTA7aWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShjKSl7ZD1jWzFdO2M9Y1swXX1kP2FbY109ZDpkZWxldGUgYVtjXX19LGFkZEZlYXR1cmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZmlsdGVyLmFkZEZlYXR1cmUoYSl9LHNldEFjdGl2ZUZpbHRlcjpmdW5jdGlvbihhKXtpZighYSlhPXRoaXMuZmlsdGVyO2lmKHRoaXMuYWN0aXZlRmlsdGVyIT09YSl7dGhpcy5hY3RpdmVGaWx0ZXI9YTt0aGlzLmZpcmUoImFjdGl2ZUZpbHRlckNoYW5nZSIpO2E9PT10aGlzLmZpbHRlcj90aGlzLnNldEFjdGl2ZUVudGVyTW9kZShudWxsLG51bGwpOnRoaXMuc2V0QWN0aXZlRW50ZXJNb2RlKGEuZ2V0QWxsb3dlZEVudGVyTW9kZSh0aGlzLmVudGVyTW9kZSksYS5nZXRBbGxvd2VkRW50ZXJNb2RlKHRoaXMuc2hpZnRFbnRlck1vZGUsdHJ1ZSkpfX0sc2V0QWN0aXZlRW50ZXJNb2RlOmZ1bmN0aW9uKGEsYil7YT1hP3RoaXMuYmxvY2tsZXNzP0NLRURJVE9SLkVOVEVSX0JSOgphOnRoaXMuZW50ZXJNb2RlO2I9Yj90aGlzLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpiOnRoaXMuc2hpZnRFbnRlck1vZGU7aWYodGhpcy5hY3RpdmVFbnRlck1vZGUhPWF8fHRoaXMuYWN0aXZlU2hpZnRFbnRlck1vZGUhPWIpe3RoaXMuYWN0aXZlRW50ZXJNb2RlPWE7dGhpcy5hY3RpdmVTaGlmdEVudGVyTW9kZT1iO3RoaXMuZmlyZSgiYWN0aXZlRW50ZXJNb2RlQ2hhbmdlIil9fX0pfSkoKTtDS0VESVRPUi5FTEVNRU5UX01PREVfTk9ORT0wO0NLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFPTE7Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPPTI7Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT0zOwpDS0VESVRPUi5odG1sUGFyc2VyPWZ1bmN0aW9uKCl7dGhpcy5fPXtodG1sUGFydHNSZWdleDpSZWdFeHAoIjwoPzooPzpcXC8oW14+XSspPil8KD86IS0tKFtcXFN8XFxzXSo\/KS0tXD4pfCg\/OihbXlxccz5dKylcXHMqKCg\/Oig\/OlwiW15cIl0qXCIpfCg\/OidbXiddKicpfFteXCInPl0pKilcXC8\/PikpIiwiZyIpfX07CihmdW5jdGlvbigpe3ZhciBhPS8oW1x3XC06Ll0rKSg\/Oig\/OlxzKj1ccyooPzooPzoiKFteIl0qKSIpfCg\/OicoW14nXSopJyl8KFteXHM+XSspKSl8KD89XHN8JCkpL2csZT17Y2hlY2tlZDoxLGNvbXBhY3Q6MSxkZWNsYXJlOjEsZGVmZXI6MSxkaXNhYmxlZDoxLGlzbWFwOjEsbXVsdGlwbGU6MSxub2hyZWY6MSxub3Jlc2l6ZToxLG5vc2hhZGU6MSxub3dyYXA6MSxyZWFkb25seToxLHNlbGVjdGVkOjF9O0NLRURJVE9SLmh0bWxQYXJzZXIucHJvdG90eXBlPXtvblRhZ09wZW46ZnVuY3Rpb24oKXt9LG9uVGFnQ2xvc2U6ZnVuY3Rpb24oKXt9LG9uVGV4dDpmdW5jdGlvbigpe30sb25DREFUQTpmdW5jdGlvbigpe30sb25Db21tZW50OmZ1bmN0aW9uKCl7fSxwYXJzZTpmdW5jdGlvbihiKXtmb3IodmFyIGMsZCxoPTAsZztjPXRoaXMuXy5odG1sUGFydHNSZWdleC5leGVjKGIpOyl7ZD1jLmluZGV4O2lmKGQ+aCl7aD1iLnN1YnN0cmluZyhoLGQpO2lmKGcpZy5wdXNoKGgpO2Vsc2UgdGhpcy5vblRleHQoaCl9aD0KdGhpcy5fLmh0bWxQYXJ0c1JlZ2V4Lmxhc3RJbmRleDtpZihkPWNbMV0pe2Q9ZC50b0xvd2VyQ2FzZSgpO2lmKGcmJkNLRURJVE9SLmR0ZC4kY2RhdGFbZF0pe3RoaXMub25DREFUQShnLmpvaW4oIiIpKTtnPW51bGx9aWYoIWcpe3RoaXMub25UYWdDbG9zZShkKTtjb250aW51ZX19aWYoZylnLnB1c2goY1swXSk7ZWxzZSBpZihkPWNbM10pe2Q9ZC50b0xvd2VyQ2FzZSgpO2lmKCEvPSIvLnRlc3QoZCkpe3ZhciBuPXt9LGk7Yz1jWzRdO3ZhciBqPSEhKGMmJmMuY2hhckF0KGMubGVuZ3RoLTEpPT0iLyIpO2lmKGMpZm9yKDtpPWEuZXhlYyhjKTspe3ZhciBvPWlbMV0udG9Mb3dlckNhc2UoKTtpPWlbMl18fGlbM118fGlbNF18fCIiO25bb109IWkmJmVbb10\/bzpDS0VESVRPUi50b29scy5odG1sRGVjb2RlQXR0cihpKX10aGlzLm9uVGFnT3BlbihkLG4saik7IWcmJkNLRURJVE9SLmR0ZC4kY2RhdGFbZF0mJihnPVtdKX19ZWxzZSBpZihkPWNbMl0pdGhpcy5vbkNvbW1lbnQoZCl9aWYoYi5sZW5ndGg+CmgpdGhpcy5vblRleHQoYi5zdWJzdHJpbmcoaCxiLmxlbmd0aCkpfX19KSgpOwpDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKCl7dGhpcy5fPXtvdXRwdXQ6W119fSxwcm90bzp7b3BlblRhZzpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goIjwiLGEpfSxvcGVuVGFnQ2xvc2U6ZnVuY3Rpb24oYSxlKXtlP3RoaXMuXy5vdXRwdXQucHVzaCgiIC8+Iik6dGhpcy5fLm91dHB1dC5wdXNoKCI+Iil9LGF0dHJpYnV0ZTpmdW5jdGlvbihhLGUpe3R5cGVvZiBlPT0ic3RyaW5nIiYmKGU9Q0tFRElUT1IudG9vbHMuaHRtbEVuY29kZUF0dHIoZSkpO3RoaXMuXy5vdXRwdXQucHVzaCgiICIsYSwnPSInLGUsJyInKX0sY2xvc2VUYWc6ZnVuY3Rpb24oYSl7dGhpcy5fLm91dHB1dC5wdXNoKCI8LyIsYSwiPiIpfSx0ZXh0OmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChhKX0sY29tbWVudDpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goIjxcIS0tIixhLCItLVw+Iil9LHdyaXRlOmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChhKX0sCnJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fLm91dHB1dD1bXTt0aGlzLl8uaW5kZW50PWZhbHNlfSxnZXRIdG1sOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuXy5vdXRwdXQuam9pbigiIik7YSYmdGhpcy5yZXNldCgpO3JldHVybiBlfX19KTsidXNlIHN0cmljdCI7CihmdW5jdGlvbigpe0NLRURJVE9SLmh0bWxQYXJzZXIubm9kZT1mdW5jdGlvbigpe307Q0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLnByb3RvdHlwZT17cmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYXJlbnQuY2hpbGRyZW4sZT1DS0VESVRPUi50b29scy5pbmRleE9mKGEsdGhpcyksYj10aGlzLnByZXZpb3VzLGM9dGhpcy5uZXh0O2ImJihiLm5leHQ9Yyk7YyYmKGMucHJldmlvdXM9Yik7YS5zcGxpY2UoZSwxKTt0aGlzLnBhcmVudD1udWxsfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLnBhcmVudC5jaGlsZHJlbixiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZSx0aGlzKSxjPWEucHJldmlvdXM9dGhpcy5wcmV2aW91cyxkPWEubmV4dD10aGlzLm5leHQ7YyYmKGMubmV4dD1hKTtkJiYoZC5wcmV2aW91cz1hKTtlW2JdPWE7YS5wYXJlbnQ9dGhpcy5wYXJlbnQ7dGhpcy5wYXJlbnQ9bnVsbH0saW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oYSl7dmFyIGU9YS5wYXJlbnQuY2hpbGRyZW4sCmI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihlLGEpLGM9YS5uZXh0O2Uuc3BsaWNlKGIrMSwwLHRoaXMpO3RoaXMubmV4dD1hLm5leHQ7dGhpcy5wcmV2aW91cz1hO2EubmV4dD10aGlzO2MmJihjLnByZXZpb3VzPXRoaXMpO3RoaXMucGFyZW50PWEucGFyZW50fSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYSl7dmFyIGU9YS5wYXJlbnQuY2hpbGRyZW4sYj1DS0VESVRPUi50b29scy5pbmRleE9mKGUsYSk7ZS5zcGxpY2UoYiwwLHRoaXMpO3RoaXMubmV4dD1hOyh0aGlzLnByZXZpb3VzPWEucHJldmlvdXMpJiYoYS5wcmV2aW91cy5uZXh0PXRoaXMpO2EucHJldmlvdXM9dGhpczt0aGlzLnBhcmVudD1hLnBhcmVudH0sZ2V0QXNjZW5kYW50OmZ1bmN0aW9uKGEpe3ZhciBlPXR5cGVvZiBhPT0iZnVuY3Rpb24iP2E6dHlwZW9mIGE9PSJzdHJpbmciP2Z1bmN0aW9uKGIpe3JldHVybiBiLm5hbWU9PWF9OmZ1bmN0aW9uKGIpe3JldHVybiBiLm5hbWUgaW4gYX0sYj10aGlzLnBhcmVudDtmb3IoO2ImJgpiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVDspe2lmKGUoYikpcmV0dXJuIGI7Yj1iLnBhcmVudH1yZXR1cm4gbnVsbH0sd3JhcFdpdGg6ZnVuY3Rpb24oYSl7dGhpcy5yZXBsYWNlV2l0aChhKTthLmFkZCh0aGlzKTtyZXR1cm4gYX0sZ2V0SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLnBhcmVudC5jaGlsZHJlbix0aGlzKX0sZ2V0RmlsdGVyQ29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYXx8e319fX0pKCk7InVzZSBzdHJpY3QiO0NLRURJVE9SLmh0bWxQYXJzZXIuY29tbWVudD1mdW5jdGlvbihhKXt0aGlzLnZhbHVlPWE7dGhpcy5fPXtpc0Jsb2NrTGlrZTpmYWxzZX19OwpDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfQ09NTUVOVCxmaWx0ZXI6ZnVuY3Rpb24oYSxlKXt2YXIgYj10aGlzLnZhbHVlO2lmKCEoYj1hLm9uQ29tbWVudChlLGIsdGhpcykpKXt0aGlzLnJlbW92ZSgpO3JldHVybiBmYWxzZX1pZih0eXBlb2YgYiE9InN0cmluZyIpe3RoaXMucmVwbGFjZVdpdGgoYik7cmV0dXJuIGZhbHNlfXRoaXMudmFsdWU9YjtyZXR1cm4gdHJ1ZX0sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsZSl7ZSYmdGhpcy5maWx0ZXIoZSk7YS5jb21tZW50KHRoaXMudmFsdWUpfX0pOyJ1c2Ugc3RyaWN0IjsKKGZ1bmN0aW9uKCl7Q0tFRElUT1IuaHRtbFBhcnNlci50ZXh0PWZ1bmN0aW9uKGEpe3RoaXMudmFsdWU9YTt0aGlzLl89e2lzQmxvY2tMaWtlOmZhbHNlfX07Q0tFRElUT1IuaHRtbFBhcnNlci50ZXh0LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIubm9kZSx7dHlwZTpDS0VESVRPUi5OT0RFX1RFWFQsZmlsdGVyOmZ1bmN0aW9uKGEsZSl7aWYoISh0aGlzLnZhbHVlPWEub25UZXh0KGUsdGhpcy52YWx1ZSx0aGlzKSkpe3RoaXMucmVtb3ZlKCk7cmV0dXJuIGZhbHNlfX0sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsZSl7ZSYmdGhpcy5maWx0ZXIoZSk7YS50ZXh0KHRoaXMudmFsdWUpfX0pfSkoKTsidXNlIHN0cmljdCI7CihmdW5jdGlvbigpe0NLRURJVE9SLmh0bWxQYXJzZXIuY2RhdGE9ZnVuY3Rpb24oYSl7dGhpcy52YWx1ZT1hfTtDS0VESVRPUi5odG1sUGFyc2VyLmNkYXRhLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIubm9kZSx7dHlwZTpDS0VESVRPUi5OT0RFX1RFWFQsZmlsdGVyOmZ1bmN0aW9uKCl7fSx3cml0ZUh0bWw6ZnVuY3Rpb24oYSl7YS53cml0ZSh0aGlzLnZhbHVlKX19KX0pKCk7InVzZSBzdHJpY3QiO0NLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQ9ZnVuY3Rpb24oKXt0aGlzLmNoaWxkcmVuPVtdO3RoaXMucGFyZW50PW51bGw7dGhpcy5fPXtpc0Jsb2NrTGlrZTp0cnVlLGhhc0lubGluZVN0YXJ0ZWQ6ZmFsc2V9fTsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gYS5hdHRyaWJ1dGVzWyJkYXRhLWNrZS1zdXJ2aXZlIl0\/ZmFsc2U6YS5uYW1lPT0iYSImJmEuYXR0cmlidXRlcy5ocmVmfHxDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W2EubmFtZV19dmFyIGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt0YWJsZToxLHVsOjEsb2w6MSxkbDoxfSxDS0VESVRPUi5kdGQudGFibGUsQ0tFRElUT1IuZHRkLnVsLENLRURJVE9SLmR0ZC5vbCxDS0VESVRPUi5kdGQuZGwpLGI9e29sOjEsdWw6MX0sYz1DS0VESVRPUi50b29scy5leHRlbmQoe30se2h0bWw6MX0sQ0tFRElUT1IuZHRkLmh0bWwsQ0tFRElUT1IuZHRkLmJvZHksQ0tFRElUT1IuZHRkLmhlYWQse3N0eWxlOjEsc2NyaXB0OjF9KTtDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sPWZ1bmN0aW9uKGQsaCxnKXtmdW5jdGlvbiBuKGEpe3ZhciBiO2lmKHAubGVuZ3RoPjApZm9yKHZhciBjPTA7YzxwLmxlbmd0aDtjKyspe3ZhciBkPQpwW2NdLGU9ZC5uYW1lLGY9Q0tFRElUT1IuZHRkW2VdLGs9bS5uYW1lJiZDS0VESVRPUi5kdGRbbS5uYW1lXTtpZigoIWt8fGtbZV0pJiYoIWF8fCFmfHxmW2FdfHwhQ0tFRElUT1IuZHRkW2FdKSl7aWYoIWIpe2koKTtiPTF9ZD1kLmNsb25lKCk7ZC5wYXJlbnQ9bTttPWQ7cC5zcGxpY2UoYywxKTtjLS19ZWxzZSBpZihlPT1tLm5hbWUpe28obSxtLnBhcmVudCwxKTtjLS19fX1mdW5jdGlvbiBpKCl7Zm9yKDt5Lmxlbmd0aDspbyh5LnNoaWZ0KCksbSl9ZnVuY3Rpb24gaihhKXtpZihhLl8uaXNCbG9ja0xpa2UmJmEubmFtZSE9InByZSImJmEubmFtZSE9InRleHRhcmVhIil7dmFyIGI9YS5jaGlsZHJlbi5sZW5ndGgsYz1hLmNoaWxkcmVuW2ItMV0sZDtpZihjJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCkoZD1DS0VESVRPUi50b29scy5ydHJpbShjLnZhbHVlKSk\/Yy52YWx1ZT1kOmEuY2hpbGRyZW4ubGVuZ3RoPWItMX19ZnVuY3Rpb24gbyhiLGMsZCl7dmFyIGM9Y3x8bXx8ZiwKZT1tO2lmKGIucHJldmlvdXM9PT12b2lkIDApe2lmKHEoYyxiKSl7bT1jO3Uub25UYWdPcGVuKGcse30pO2IucmV0dXJuUG9pbnQ9Yz1tfWooYik7KCFhKGIpfHxiLmNoaWxkcmVuLmxlbmd0aCkmJmMuYWRkKGIpO2IubmFtZT09InByZSImJihsPWZhbHNlKTtiLm5hbWU9PSJ0ZXh0YXJlYSImJihrPWZhbHNlKX1pZihiLnJldHVyblBvaW50KXttPWIucmV0dXJuUG9pbnQ7ZGVsZXRlIGIucmV0dXJuUG9pbnR9ZWxzZSBtPWQ\/YzplfWZ1bmN0aW9uIHEoYSxiKXtpZigoYT09Znx8YS5uYW1lPT0iYm9keSIpJiZnJiYoIWEubmFtZXx8Q0tFRElUT1IuZHRkW2EubmFtZV1bZ10pKXt2YXIgYyxkO3JldHVybihjPWIuYXR0cmlidXRlcyYmKGQ9Yi5hdHRyaWJ1dGVzWyJkYXRhLWNrZS1yZWFsLWVsZW1lbnQtdHlwZSJdKT9kOmIubmFtZSkmJmMgaW4gQ0tFRElUT1IuZHRkLiRpbmxpbmUmJiEoYyBpbiBDS0VESVRPUi5kdGQuaGVhZCkmJiFiLmlzT3JwaGFufHxiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVH19CmZ1bmN0aW9uIHMoYSxiKXtyZXR1cm4gYSBpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtfHxhIGluIENLRURJVE9SLmR0ZC4kdGFibGVDb250ZW50P2E9PWJ8fGE9PSJkdCImJmI9PSJkZCJ8fGE9PSJkZCImJmI9PSJkdCI6ZmFsc2V9dmFyIHU9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIsZj1oIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50P2g6dHlwZW9mIGg9PSJzdHJpbmciP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoaCk6bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQscD1bXSx5PVtdLG09ZixrPWYubmFtZT09InRleHRhcmVhIixsPWYubmFtZT09InByZSI7dS5vblRhZ09wZW49ZnVuY3Rpb24oZCxmLGgsZyl7Zj1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGQsZik7aWYoZi5pc1Vua25vd24mJmgpZi5pc0VtcHR5PXRydWU7Zi5pc09wdGlvbmFsQ2xvc2U9ZztpZihhKGYpKXAucHVzaChmKTtlbHNle2lmKGQ9PSJwcmUiKWw9CnRydWU7ZWxzZXtpZihkPT0iYnIiJiZsKXttLmFkZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KCJcbiIpKTtyZXR1cm59ZD09InRleHRhcmVhIiYmKGs9dHJ1ZSl9aWYoZD09ImJyIil5LnB1c2goZik7ZWxzZXtmb3IoOzspe2c9KGg9bS5uYW1lKT9DS0VESVRPUi5kdGRbaF18fChtLl8uaXNCbG9ja0xpa2U\/Q0tFRElUT1IuZHRkLmRpdjpDS0VESVRPUi5kdGQuc3Bhbik6YztpZighZi5pc1Vua25vd24mJiFtLmlzVW5rbm93biYmIWdbZF0paWYobS5pc09wdGlvbmFsQ2xvc2UpdS5vblRhZ0Nsb3NlKGgpO2Vsc2UgaWYoZCBpbiBiJiZoIGluIGIpe2g9bS5jaGlsZHJlbjsoaD1oW2gubGVuZ3RoLTFdKSYmaC5uYW1lPT0ibGkifHxvKGg9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudCgibGkiKSxtKTshZi5yZXR1cm5Qb2ludCYmKGYucmV0dXJuUG9pbnQ9bSk7bT1ofWVsc2UgaWYoZCBpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtJiYhcyhkLGgpKXUub25UYWdPcGVuKGQ9PQoibGkiPyJ1bCI6ImRsIix7fSwwLDEpO2Vsc2UgaWYoaCBpbiBlJiYhcyhkLGgpKXshZi5yZXR1cm5Qb2ludCYmKGYucmV0dXJuUG9pbnQ9bSk7bT1tLnBhcmVudH1lbHNle2ggaW4gQ0tFRElUT1IuZHRkLiRpbmxpbmUmJnAudW5zaGlmdChtKTtpZihtLnBhcmVudClvKG0sbS5wYXJlbnQsMSk7ZWxzZXtmLmlzT3JwaGFuPTE7YnJlYWt9fWVsc2UgYnJlYWt9bihkKTtpKCk7Zi5wYXJlbnQ9bTtmLmlzRW1wdHk\/byhmKTptPWZ9fX07dS5vblRhZ0Nsb3NlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1wLmxlbmd0aC0xO2I+PTA7Yi0tKWlmKGE9PXBbYl0ubmFtZSl7cC5zcGxpY2UoYiwxKTtyZXR1cm59Zm9yKHZhciBjPVtdLGQ9W10sZT1tO2UhPWYmJmUubmFtZSE9YTspe2UuXy5pc0Jsb2NrTGlrZXx8ZC51bnNoaWZ0KGUpO2MucHVzaChlKTtlPWUucmV0dXJuUG9pbnR8fGUucGFyZW50fWlmKGUhPWYpe2ZvcihiPTA7YjxjLmxlbmd0aDtiKyspe3ZhciBrPWNbYl07byhrLGsucGFyZW50KX1tPQplO2UuXy5pc0Jsb2NrTGlrZSYmaSgpO28oZSxlLnBhcmVudCk7aWYoZT09bSltPW0ucGFyZW50O3A9cC5jb25jYXQoZCl9YT09ImJvZHkiJiYoZz1mYWxzZSl9O3Uub25UZXh0PWZ1bmN0aW9uKGEpe2lmKCghbS5fLmhhc0lubGluZVN0YXJ0ZWR8fHkubGVuZ3RoKSYmIWwmJiFrKXthPUNLRURJVE9SLnRvb2xzLmx0cmltKGEpO2lmKGEubGVuZ3RoPT09MClyZXR1cm59dmFyIGQ9bS5uYW1lLGY9ZD9DS0VESVRPUi5kdGRbZF18fChtLl8uaXNCbG9ja0xpa2U\/Q0tFRElUT1IuZHRkLmRpdjpDS0VESVRPUi5kdGQuc3Bhbik6YztpZighayYmIWZbIiMiXSYmZCBpbiBlKXt1Lm9uVGFnT3BlbihkIGluIGI\/ImxpIjpkPT0iZGwiPyJkZCI6ZD09InRhYmxlIj8idHIiOmQ9PSJ0ciI\/InRkIjoiIik7dS5vblRleHQoYSl9ZWxzZXtpKCk7bigpOyFsJiYhayYmKGE9YS5yZXBsYWNlKC9bXHRcclxuIF17Mix9fFtcdFxyXG5dL2csIiAiKSk7YT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KGEpOwppZihxKG0sYSkpdGhpcy5vblRhZ09wZW4oZyx7fSwwLDEpO20uYWRkKGEpfX07dS5vbkNEQVRBPWZ1bmN0aW9uKGEpe20uYWRkKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmNkYXRhKGEpKX07dS5vbkNvbW1lbnQ9ZnVuY3Rpb24oYSl7aSgpO24oKTttLmFkZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50KGEpKX07dS5wYXJzZShkKTtmb3IoaSgpO20hPWY7KW8obSxtLnBhcmVudCwxKTtqKGYpO3JldHVybiBmfTtDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LnByb3RvdHlwZT17dHlwZTpDS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5ULGFkZDpmdW5jdGlvbihhLGIpe2lzTmFOKGIpJiYoYj10aGlzLmNoaWxkcmVuLmxlbmd0aCk7dmFyIGM9Yj4wP3RoaXMuY2hpbGRyZW5bYi0xXTpudWxsO2lmKGMpe2lmKGEuXy5pc0Jsb2NrTGlrZSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2MudmFsdWU9Q0tFRElUT1IudG9vbHMucnRyaW0oYy52YWx1ZSk7aWYoYy52YWx1ZS5sZW5ndGg9PT0KMCl7dGhpcy5jaGlsZHJlbi5wb3AoKTt0aGlzLmFkZChhKTtyZXR1cm59fWMubmV4dD1hfWEucHJldmlvdXM9YzthLnBhcmVudD10aGlzO3RoaXMuY2hpbGRyZW4uc3BsaWNlKGIsMCxhKTtpZighdGhpcy5fLmhhc0lubGluZVN0YXJ0ZWQpdGhpcy5fLmhhc0lubGluZVN0YXJ0ZWQ9YS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhYS5fLmlzQmxvY2tMaWtlfSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiPXRoaXMuZ2V0RmlsdGVyQ29udGV4dChiKTthLm9uUm9vdChiLHRoaXMpO3RoaXMuZmlsdGVyQ2hpbGRyZW4oYSxmYWxzZSxiKX0sZmlsdGVyQ2hpbGRyZW46ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMuY2hpbGRyZW5GaWx0ZXJlZEJ5IT1hLmlkKXtjPXRoaXMuZ2V0RmlsdGVyQ29udGV4dChjKTtpZihiJiYhdGhpcy5wYXJlbnQpYS5vblJvb3QoYyx0aGlzKTt0aGlzLmNoaWxkcmVuRmlsdGVyZWRCeT1hLmlkO2ZvcihiPTA7Yjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtiKyspdGhpcy5jaGlsZHJlbltiXS5maWx0ZXIoYSwKYyk9PT1mYWxzZSYmYi0tfX0sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsYil7YiYmdGhpcy5maWx0ZXIoYik7dGhpcy53cml0ZUNoaWxkcmVuSHRtbChhKX0sd3JpdGVDaGlsZHJlbkh0bWw6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXMuZ2V0RmlsdGVyQ29udGV4dCgpO2lmKGMmJiF0aGlzLnBhcmVudCYmYiliLm9uUm9vdChlLHRoaXMpO2ImJnRoaXMuZmlsdGVyQ2hpbGRyZW4oYixmYWxzZSxlKTtiPTA7Yz10aGlzLmNoaWxkcmVuO2ZvcihlPWMubGVuZ3RoO2I8ZTtiKyspY1tiXS53cml0ZUh0bWwoYSl9LGZvckVhY2g6ZnVuY3Rpb24oYSxiLGMpe2lmKCFjJiYoIWJ8fHRoaXMudHlwZT09YikpdmFyIGU9YSh0aGlzKTtpZihlIT09ZmFsc2UpZm9yKHZhciBjPXRoaXMuY2hpbGRyZW4saT0wO2k8Yy5sZW5ndGg7aSsrKXtlPWNbaV07ZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ\/ZS5mb3JFYWNoKGEsYik6KCFifHxlLnR5cGU9PWIpJiZhKGUpfX0sZ2V0RmlsdGVyQ29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYXx8Cnt9fX19KSgpOyJ1c2Ugc3RyaWN0IjsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RoaXMucnVsZXM9W119ZnVuY3Rpb24gZShiLGMsZCxlKXt2YXIgZyxuO2ZvcihnIGluIGMpeyhuPWJbZ10pfHwobj1iW2ddPW5ldyBhKTtuLmFkZChjW2ddLGQsZSl9fUNLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGIpe3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO3RoaXMuZWxlbWVudE5hbWVSdWxlcz1uZXcgYTt0aGlzLmF0dHJpYnV0ZU5hbWVSdWxlcz1uZXcgYTt0aGlzLmVsZW1lbnRzUnVsZXM9e307dGhpcy5hdHRyaWJ1dGVzUnVsZXM9e307dGhpcy50ZXh0UnVsZXM9bmV3IGE7dGhpcy5jb21tZW50UnVsZXM9bmV3IGE7dGhpcy5yb290UnVsZXM9bmV3IGE7YiYmdGhpcy5hZGRSdWxlcyhiLDEwKX0scHJvdG86e2FkZFJ1bGVzOmZ1bmN0aW9uKGEsYyl7dmFyIGQ7aWYodHlwZW9mIGM9PSJudW1iZXIiKWQ9YztlbHNlIGlmKGMmJiJwcmlvcml0eSJpbgpjKWQ9Yy5wcmlvcml0eTt0eXBlb2YgZCE9Im51bWJlciImJihkPTEwKTt0eXBlb2YgYyE9Im9iamVjdCImJihjPXt9KTthLmVsZW1lbnROYW1lcyYmdGhpcy5lbGVtZW50TmFtZVJ1bGVzLmFkZE1hbnkoYS5lbGVtZW50TmFtZXMsZCxjKTthLmF0dHJpYnV0ZU5hbWVzJiZ0aGlzLmF0dHJpYnV0ZU5hbWVSdWxlcy5hZGRNYW55KGEuYXR0cmlidXRlTmFtZXMsZCxjKTthLmVsZW1lbnRzJiZlKHRoaXMuZWxlbWVudHNSdWxlcyxhLmVsZW1lbnRzLGQsYyk7YS5hdHRyaWJ1dGVzJiZlKHRoaXMuYXR0cmlidXRlc1J1bGVzLGEuYXR0cmlidXRlcyxkLGMpO2EudGV4dCYmdGhpcy50ZXh0UnVsZXMuYWRkKGEudGV4dCxkLGMpO2EuY29tbWVudCYmdGhpcy5jb21tZW50UnVsZXMuYWRkKGEuY29tbWVudCxkLGMpO2Eucm9vdCYmdGhpcy5yb290UnVsZXMuYWRkKGEucm9vdCxkLGMpfSxhcHBseVRvOmZ1bmN0aW9uKGEpe2EuZmlsdGVyKHRoaXMpfSxvbkVsZW1lbnROYW1lOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuZWxlbWVudE5hbWVSdWxlcy5leGVjT25OYW1lKGEsCmMpfSxvbkF0dHJpYnV0ZU5hbWU6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVOYW1lUnVsZXMuZXhlY09uTmFtZShhLGMpfSxvblRleHQ6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy50ZXh0UnVsZXMuZXhlYyhhLGMpfSxvbkNvbW1lbnQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmNvbW1lbnRSdWxlcy5leGVjKGEsYyxkKX0sb25Sb290OmZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMucm9vdFJ1bGVzLmV4ZWMoYSxjKX0sb25FbGVtZW50OmZ1bmN0aW9uKGEsYyl7Zm9yKHZhciBkPVt0aGlzLmVsZW1lbnRzUnVsZXNbIl4iXSx0aGlzLmVsZW1lbnRzUnVsZXNbYy5uYW1lXSx0aGlzLmVsZW1lbnRzUnVsZXMuJF0sZSxnPTA7ZzwzO2crKylpZihlPWRbZ10pe2U9ZS5leGVjKGEsYyx0aGlzKTtpZihlPT09ZmFsc2UpcmV0dXJuIG51bGw7aWYoZSYmZSE9YylyZXR1cm4gdGhpcy5vbk5vZGUoYSxlKTtpZihjLnBhcmVudCYmIWMubmFtZSlicmVha31yZXR1cm4gY30sCm9uTm9kZTpmdW5jdGlvbihhLGMpe3ZhciBkPWMudHlwZTtyZXR1cm4gZD09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP3RoaXMub25FbGVtZW50KGEsYyk6ZD09Q0tFRElUT1IuTk9ERV9URVhUP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQodGhpcy5vblRleHQoYSxjLnZhbHVlKSk6ZD09Q0tFRElUT1IuTk9ERV9DT01NRU5UP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQodGhpcy5vbkNvbW1lbnQoYSxjLnZhbHVlKSk6bnVsbH0sb25BdHRyaWJ1dGU6ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuKGQ9dGhpcy5hdHRyaWJ1dGVzUnVsZXNbZF0pP2QuZXhlYyhhLGUsYyx0aGlzKTplfX19KTtDS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlclJ1bGVzR3JvdXA9YTthLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGEsYyxkKXt0aGlzLnJ1bGVzLnNwbGljZSh0aGlzLmZpbmRJbmRleChjKSwwLHt2YWx1ZTphLHByaW9yaXR5OmMsb3B0aW9uczpkfSl9LGFkZE1hbnk6ZnVuY3Rpb24oYSwKYyxkKXtmb3IodmFyIGU9W3RoaXMuZmluZEluZGV4KGMpLDBdLGc9MCxuPWEubGVuZ3RoO2c8bjtnKyspZS5wdXNoKHt2YWx1ZTphW2ddLHByaW9yaXR5OmMsb3B0aW9uczpkfSk7dGhpcy5ydWxlcy5zcGxpY2UuYXBwbHkodGhpcy5ydWxlcyxlKX0sZmluZEluZGV4OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz10aGlzLnJ1bGVzLGQ9Yy5sZW5ndGgtMTtkPj0wJiZhPGNbZF0ucHJpb3JpdHk7KWQtLTtyZXR1cm4gZCsxfSxleGVjOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9YyBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIubm9kZXx8YyBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQsZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksZz10aGlzLnJ1bGVzLG49Zy5sZW5ndGgsaSxqLG8scTtmb3IocT0wO3E8bjtxKyspe2lmKGQpe2k9Yy50eXBlO2o9Yy5uYW1lfW89Z1txXTtpZighYS5ub25FZGl0YWJsZXx8by5vcHRpb25zLmFwcGx5VG9BbGwpe289Cm8udmFsdWUuYXBwbHkobnVsbCxlKTtpZihvPT09ZmFsc2V8fGQmJm8mJihvLm5hbWUhPWp8fG8udHlwZSE9aSkpcmV0dXJuIG87byE9dm9pZCAwJiYoZVswXT1jPW8pfX1yZXR1cm4gY30sZXhlY09uTmFtZTpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZD0wLGU9dGhpcy5ydWxlcyxnPWUubGVuZ3RoLG47YyYmZDxnO2QrKyl7bj1lW2RdO2lmKCFhLm5vbkVkaXRhYmxlfHxuLm9wdGlvbnMuYXBwbHlUb0FsbCljPWMucmVwbGFjZShuLnZhbHVlWzBdLG4udmFsdWVbMV0pfXJldHVybiBjfX19KSgpOwooZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZSl7ZnVuY3Rpb24gZihhKXtyZXR1cm4gYXx8Q0tFRElUT1IuZW52Lm5lZWRzTmJzcEZpbGxlcj9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KCLCoCIpOm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoImJyIix7ImRhdGEtY2tlLWJvZ3VzIjoxfSl9ZnVuY3Rpb24gbChhLGQpe3JldHVybiBmdW5jdGlvbihlKXtpZihlLnR5cGUhPUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe3ZhciBrPVtdLGw9YihlKSxnLEM7aWYobClmb3IobShsLDEpJiZrLnB1c2gobCk7bDspe2lmKGgobCkmJihnPWMobCkpJiZtKGcpKWlmKChDPWMoZykpJiYhaChDKSlrLnB1c2goZyk7ZWxzZXtmKHYpLmluc2VydEFmdGVyKGcpO2cucmVtb3ZlKCl9bD1sLnByZXZpb3VzfWZvcihsPTA7bDxrLmxlbmd0aDtsKyspa1tsXS5yZW1vdmUoKTtpZihrPUNLRURJVE9SLmVudi5vcGVyYSYmIWF8fCh0eXBlb2YgZD09ImZ1bmN0aW9uIj9kKGUpIT09CmZhbHNlOmQpKWlmKCF2JiYhQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJmUudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVClrPWZhbHNlO2Vsc2UgaWYoIXYmJiFDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmKGRvY3VtZW50LmRvY3VtZW50TW9kZT43fHxlLm5hbWUgaW4gQ0tFRElUT1IuZHRkLnRyfHxlLm5hbWUgaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkpaz1mYWxzZTtlbHNle2s9YihlKTtrPSFrfHxlLm5hbWU9PSJmb3JtIiYmay5uYW1lPT0iaW5wdXQifWsmJmUuYWRkKGYoYSkpfX19ZnVuY3Rpb24gbShhLGIpe2lmKCghdnx8Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXIpJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5uYW1lPT0iYnIiJiYhYS5hdHRyaWJ1dGVzWyJkYXRhLWNrZS1lb2wiXSlyZXR1cm4gdHJ1ZTt2YXIgYztpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGM9YS52YWx1ZS5tYXRjaCh5KSkpe2lmKGMuaW5kZXgpeyhuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KGEudmFsdWUuc3Vic3RyaW5nKDAsCmMuaW5kZXgpKSkuaW5zZXJ0QmVmb3JlKGEpO2EudmFsdWU9Y1swXX1pZighQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJnYmJighYnx8YS5wYXJlbnQubmFtZSBpbiBpKSlyZXR1cm4gdHJ1ZTtpZighdilpZigoYz1hLnByZXZpb3VzKSYmYy5uYW1lPT0iYnIifHwhY3x8aChjKSlyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9dmFyIHI9e2VsZW1lbnRzOnt9fSx2PWU9PSJodG1sIixpPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx0KSxwO2ZvcihwIGluIGkpIiMiaW4ga1twXXx8ZGVsZXRlIGlbcF07Zm9yKHAgaW4gaSlyLmVsZW1lbnRzW3BdPWwodixhLmNvbmZpZy5maWxsRW1wdHlCbG9ja3MhPT1mYWxzZSk7ci5yb290PWwodik7ci5lbGVtZW50cy5icj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7aWYoYi5wYXJlbnQudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl7dmFyIGU9Yi5hdHRyaWJ1dGVzO2lmKCJkYXRhLWNrZS1ib2d1cyJpbiBlfHwiZGF0YS1ja2UtZW9sImluCmUpZGVsZXRlIGVbImRhdGEtY2tlLWJvZ3VzIl07ZWxzZXtmb3IoZT1iLm5leHQ7ZSYmZChlKTspZT1lLm5leHQ7dmFyIGs9YyhiKTshZSYmaChiLnBhcmVudCk\/ZyhiLnBhcmVudCxmKGEpKTpoKGUpJiYoayYmIWgoaykpJiZmKGEpLmluc2VydEJlZm9yZShlKX19fX0odik7cmV0dXJuIHJ9ZnVuY3Rpb24gZShhLGIpe3JldHVybiBhIT1DS0VESVRPUi5FTlRFUl9CUiYmYiE9PWZhbHNlP2E9PUNLRURJVE9SLkVOVEVSX0RJVj8iZGl2IjoicCI6ZmFsc2V9ZnVuY3Rpb24gYihhKXtmb3IoYT1hLmNoaWxkcmVuW2EuY2hpbGRyZW4ubGVuZ3RoLTFdO2EmJmQoYSk7KWE9YS5wcmV2aW91cztyZXR1cm4gYX1mdW5jdGlvbiBjKGEpe2ZvcihhPWEucHJldmlvdXM7YSYmZChhKTspYT1hLnByZXZpb3VzO3JldHVybiBhfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhQ0tFRElUT1IudG9vbHMudHJpbShhLnZhbHVlKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJgphLmF0dHJpYnV0ZXNbImRhdGEtY2tlLWJvb2ttYXJrIl19ZnVuY3Rpb24gaChhKXtyZXR1cm4gYSYmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLm5hbWUgaW4gdHx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKX1mdW5jdGlvbiBnKGEsYil7dmFyIGM9YS5jaGlsZHJlblthLmNoaWxkcmVuLmxlbmd0aC0xXTthLmNoaWxkcmVuLnB1c2goYik7Yi5wYXJlbnQ9YTtpZihjKXtjLm5leHQ9YjtiLnByZXZpb3VzPWN9fWZ1bmN0aW9uIG4oYSl7YT1hLmF0dHJpYnV0ZXM7YS5jb250ZW50ZWRpdGFibGUhPSJmYWxzZSImJihhWyJkYXRhLWNrZS1lZGl0YWJsZSJdPWEuY29udGVudGVkaXRhYmxlPyJ0cnVlIjoxKTthLmNvbnRlbnRlZGl0YWJsZT0iZmFsc2UifWZ1bmN0aW9uIGkoYSl7YT1hLmF0dHJpYnV0ZXM7c3dpdGNoKGFbImRhdGEtY2tlLWVkaXRhYmxlIl0pe2Nhc2UgInRydWUiOmEuY29udGVudGVkaXRhYmxlPSJ0cnVlIjticmVhaztjYXNlICIxIjpkZWxldGUgYS5jb250ZW50ZWRpdGFibGV9fQpmdW5jdGlvbiBqKGEpe3JldHVybiBhLnJlcGxhY2UoSSxmdW5jdGlvbihhLGIsYyl7cmV0dXJuIjwiK2IrYy5yZXBsYWNlKEUsZnVuY3Rpb24oYSxiKXtpZighL15vbi8udGVzdChiKSYmYy5pbmRleE9mKCJkYXRhLWNrZS1zYXZlZC0iK2IpPT0tMSl7YT1hLnNsaWNlKDEpO3JldHVybiIgZGF0YS1ja2Utc2F2ZWQtIithKyIgZGF0YS1ja2UtIitDS0VESVRPUi5ybmQrIi0iK2F9cmV0dXJuIGF9KSsiPiJ9KX1mdW5jdGlvbiBvKGEsYil7cmV0dXJuIGEucmVwbGFjZShiLGZ1bmN0aW9uKGEsYixjKXthLmluZGV4T2YoIjx0ZXh0YXJlYSIpPT09MCYmKGE9Yit1KGMpLnJlcGxhY2UoLzwvZywiJmx0OyIpLnJlcGxhY2UoLz4vZywiJmd0OyIpKyI8L3RleHRhcmVhPiIpO3JldHVybiI8Y2tlOmVuY29kZWQ+IitlbmNvZGVVUklDb21wb25lbnQoYSkrIjwvY2tlOmVuY29kZWQ+In0pfWZ1bmN0aW9uIHEoYSl7cmV0dXJuIGEucmVwbGFjZShRLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChiKX0pfQpmdW5jdGlvbiBzKGEpe3JldHVybiBhLnJlcGxhY2UoLzxcIS0tKD8he2NrZV9wcm90ZWN0ZWR9KVtcc1xTXSs\/LS1cPi9nLGZ1bmN0aW9uKGEpe3JldHVybiI8XCEtLSIrbSsie0N9IitlbmNvZGVVUklDb21wb25lbnQoYSkucmVwbGFjZSgvLS0vZywiJTJEJTJEIikrIi0tXD4ifSl9ZnVuY3Rpb24gdShhKXtyZXR1cm4gYS5yZXBsYWNlKC88XCEtLVx7Y2tlX3Byb3RlY3RlZFx9XHtDXH0oW1xzXFNdKz8pLS1cPi9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChiKX0pfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1iLl8uZGF0YVN0b3JlO3JldHVybiBhLnJlcGxhY2UoLzxcIS0tXHtja2VfcHJvdGVjdGVkXH0oW1xzXFNdKz8pLS1cPi9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChiKX0pLnJlcGxhY2UoL1x7Y2tlX3Byb3RlY3RlZF8oXGQrKVx9L2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gYyYmY1tiXXx8IiJ9KX1mdW5jdGlvbiBwKGEsCmIpe2Zvcih2YXIgYz1bXSxkPWIuY29uZmlnLnByb3RlY3RlZFNvdXJjZSxlPWIuXy5kYXRhU3RvcmV8fChiLl8uZGF0YVN0b3JlPXtpZDoxfSksZj0vPFwhLS1ce2NrZV90ZW1wKGNvbW1lbnQpP1x9KFxkKj8pLS1cPi9nLGQ9Wy88c2NyaXB0W1xzXFNdKj88XC9zY3JpcHQ+L2dpLC88bm9zY3JpcHRbXHNcU10qPzxcL25vc2NyaXB0Pi9naV0uY29uY2F0KGQpLGE9YS5yZXBsYWNlKC88XCEtLVtcc1xTXSo\/LS1cPi9nLGZ1bmN0aW9uKGEpe3JldHVybiI8XCEtLXtja2VfdGVtcGNvbW1lbnR9IisoYy5wdXNoKGEpLTEpKyItLVw+In0pLGs9MDtrPGQubGVuZ3RoO2srKylhPWEucmVwbGFjZShkW2tdLGZ1bmN0aW9uKGEpe2E9YS5yZXBsYWNlKGYsZnVuY3Rpb24oYSxiLGQpe3JldHVybiBjW2RdfSk7cmV0dXJuL2NrZV90ZW1wKGNvbW1lbnQpPy8udGVzdChhKT9hOiI8XCEtLXtja2VfdGVtcH0iKyhjLnB1c2goYSktMSkrIi0tXD4ifSk7YT1hLnJlcGxhY2UoZixmdW5jdGlvbihhLGIsZCl7cmV0dXJuIjxcIS0tIisKbSsoYj8ie0N9IjoiIikrZW5jb2RlVVJJQ29tcG9uZW50KGNbZF0pLnJlcGxhY2UoLy0tL2csIiUyRCUyRCIpKyItLVw+In0pO3JldHVybiBhLnJlcGxhY2UoLyhbJyJdKS4qP1wxL2csZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvPFwhLS1ce2NrZV9wcm90ZWN0ZWRcfShbXHNcU10rPyktLVw+L2csZnVuY3Rpb24oYSxiKXtlW2UuaWRdPWRlY29kZVVSSUNvbXBvbmVudChiKTtyZXR1cm4ie2NrZV9wcm90ZWN0ZWRfIitlLmlkKysgKyJ9In0pfSl9Q0tFRElUT1IuaHRtbERhdGFQcm9jZXNzb3I9ZnVuY3Rpb24oYil7dmFyIGMsZCxrPXRoaXM7dGhpcy5lZGl0b3I9Yjt0aGlzLmRhdGFGaWx0ZXI9Yz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXI7dGhpcy5odG1sRmlsdGVyPWQ9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyO3RoaXMud3JpdGVyPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO2MuYWRkUnVsZXMoeCk7Yy5hZGRSdWxlcyhyLHthcHBseVRvQWxsOnRydWV9KTsKYy5hZGRSdWxlcyhhKGIsImRhdGEiKSx7YXBwbHlUb0FsbDp0cnVlfSk7ZC5hZGRSdWxlcyhMKTtkLmFkZFJ1bGVzKEEse2FwcGx5VG9BbGw6dHJ1ZX0pO2QuYWRkUnVsZXMoYShiLCJodG1sIikse2FwcGx5VG9BbGw6dHJ1ZX0pO2Iub24oInRvSHRtbCIsZnVuY3Rpb24oYSl7dmFyIGE9YS5kYXRhLGM9YS5kYXRhVmFsdWUsYz1wKGMsYiksYz1vKGMsTSksYz1qKGMpLGM9byhjLHopLGM9Yy5yZXBsYWNlKHYsIiQxY2tlOiQyIiksYz1jLnJlcGxhY2UoSCwiPGNrZTokMSQyPjwvY2tlOiQxPiIpLGM9Q0tFRElUT1IuZW52Lm9wZXJhP2M6Yy5yZXBsYWNlKC8oPHByZVxiW14+XSo+KShcclxufFxuKS9nLCIkMSQyJDIiKSxkPWEuY29udGV4dHx8Yi5lZGl0YWJsZSgpLmdldE5hbWUoKSxmO2lmKENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnZlcnNpb248OSYmZD09InByZSIpe2Q9ImRpdiI7Yz0iPHByZT4iK2MrIjwvcHJlPiI7Zj0xfWQ9Yi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGQpOwpkLnNldEh0bWwoImEiK2MpO2M9ZC5nZXRIdG1sKCkuc3Vic3RyKDEpO2M9Yy5yZXBsYWNlKFJlZ0V4cCgiIGRhdGEtY2tlLSIrQ0tFRElUT1Iucm5kKyItIiwiaWciKSwiICIpO2YmJihjPWMucmVwbGFjZSgvXjxwcmU+fDxcL3ByZT4kL2dpLCIiKSk7Yz1jLnJlcGxhY2UodywiJDEkMiIpO2M9cShjKTtjPXUoYyk7YS5kYXRhVmFsdWU9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChjLGEuY29udGV4dCxhLmZpeEZvckJvZHk9PT1mYWxzZT9mYWxzZTplKGEuZW50ZXJNb2RlLGIuY29uZmlnLmF1dG9QYXJhZ3JhcGgpKX0sbnVsbCxudWxsLDUpO2Iub24oInRvSHRtbCIsZnVuY3Rpb24oYSl7YS5kYXRhLmZpbHRlci5hcHBseVRvKGEuZGF0YS5kYXRhVmFsdWUsdHJ1ZSxhLmRhdGEuZG9udEZpbHRlcixhLmRhdGEuZW50ZXJNb2RlKSYmYi5maXJlKCJkYXRhRmlsdGVyZWQiKX0sbnVsbCxudWxsLDYpO2Iub24oInRvSHRtbCIsZnVuY3Rpb24oYSl7YS5kYXRhLmRhdGFWYWx1ZS5maWx0ZXJDaGlsZHJlbihrLmRhdGFGaWx0ZXIsCnRydWUpfSxudWxsLG51bGwsMTApO2Iub24oInRvSHRtbCIsZnVuY3Rpb24oYSl7dmFyIGE9YS5kYXRhLGI9YS5kYXRhVmFsdWUsYz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtiLndyaXRlQ2hpbGRyZW5IdG1sKGMpO2I9Yy5nZXRIdG1sKHRydWUpO2EuZGF0YVZhbHVlPXMoYil9LG51bGwsbnVsbCwxNSk7Yi5vbigidG9EYXRhRm9ybWF0IixmdW5jdGlvbihhKXt2YXIgYz1hLmRhdGEuZGF0YVZhbHVlO2EuZGF0YS5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSJiYoYz1jLnJlcGxhY2UoL148YnIgKlwvPz4vaSwiIikpO2EuZGF0YS5kYXRhVmFsdWU9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChjLGEuZGF0YS5jb250ZXh0LGUoYS5kYXRhLmVudGVyTW9kZSxiLmNvbmZpZy5hdXRvUGFyYWdyYXBoKSl9LG51bGwsbnVsbCw1KTtiLm9uKCJ0b0RhdGFGb3JtYXQiLGZ1bmN0aW9uKGEpe2EuZGF0YS5kYXRhVmFsdWUuZmlsdGVyQ2hpbGRyZW4oay5odG1sRmlsdGVyLAp0cnVlKX0sbnVsbCxudWxsLDEwKTtiLm9uKCJ0b0RhdGFGb3JtYXQiLGZ1bmN0aW9uKGEpe2EuZGF0YS5maWx0ZXIuYXBwbHlUbyhhLmRhdGEuZGF0YVZhbHVlLGZhbHNlLHRydWUpfSxudWxsLG51bGwsMTEpO2Iub24oInRvRGF0YUZvcm1hdCIsZnVuY3Rpb24oYSl7dmFyIGM9YS5kYXRhLmRhdGFWYWx1ZSxkPWsud3JpdGVyO2QucmVzZXQoKTtjLndyaXRlQ2hpbGRyZW5IdG1sKGQpO2M9ZC5nZXRIdG1sKHRydWUpO2M9dShjKTtjPWYoYyxiKTthLmRhdGEuZGF0YVZhbHVlPWN9LG51bGwsbnVsbCwxNSl9O0NLRURJVE9SLmh0bWxEYXRhUHJvY2Vzc29yLnByb3RvdHlwZT17dG9IdG1sOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuZWRpdG9yLGYsayxsO2lmKGImJnR5cGVvZiBiPT0ib2JqZWN0Iil7Zj1iLmNvbnRleHQ7Yz1iLmZpeEZvckJvZHk7ZD1iLmRvbnRGaWx0ZXI7az1iLmZpbHRlcjtsPWIuZW50ZXJNb2RlfWVsc2UgZj1iOyFmJiZmIT09bnVsbCYmKGY9ZS5lZGl0YWJsZSgpLmdldE5hbWUoKSk7CnJldHVybiBlLmZpcmUoInRvSHRtbCIse2RhdGFWYWx1ZTphLGNvbnRleHQ6ZixmaXhGb3JCb2R5OmMsZG9udEZpbHRlcjpkLGZpbHRlcjprfHxlLmZpbHRlcixlbnRlck1vZGU6bHx8ZS5lbnRlck1vZGV9KS5kYXRhVmFsdWV9LHRvRGF0YUZvcm1hdDpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZTtpZihiKXtjPWIuY29udGV4dDtkPWIuZmlsdGVyO2U9Yi5lbnRlck1vZGV9IWMmJmMhPT1udWxsJiYoYz10aGlzLmVkaXRvci5lZGl0YWJsZSgpLmdldE5hbWUoKSk7cmV0dXJuIHRoaXMuZWRpdG9yLmZpcmUoInRvRGF0YUZvcm1hdCIse2RhdGFWYWx1ZTphLGZpbHRlcjpkfHx0aGlzLmVkaXRvci5maWx0ZXIsY29udGV4dDpjLGVudGVyTW9kZTplfHx0aGlzLmVkaXRvci5lbnRlck1vZGV9KS5kYXRhVmFsdWV9fTt2YXIgeT0vKD86Jm5ic3A7fFx4YTApJC8sbT0ie2NrZV9wcm90ZWN0ZWR9IixrPUNLRURJVE9SLmR0ZCxsPVsiY2FwdGlvbiIsImNvbGdyb3VwIiwiY29sIiwidGhlYWQiLCJ0Zm9vdCIsCiJ0Ym9keSJdLHQ9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGsuJGJsb2NrTGltaXQsay4kYmxvY2spLHg9e2VsZW1lbnRzOntpbnB1dDpuLHRleHRhcmVhOm59fSxyPXthdHRyaWJ1dGVOYW1lczpbWy9eb24vLCJkYXRhLWNrZS1wYS1vbiJdLFsvXmRhdGEtY2tlLWV4cGFuZG8kLywiIl1dfSxMPXtlbGVtZW50czp7ZW1iZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnQ7aWYoYiYmYi5uYW1lPT0ib2JqZWN0Iil7dmFyIGM9Yi5hdHRyaWJ1dGVzLndpZHRoLGI9Yi5hdHRyaWJ1dGVzLmhlaWdodDtpZihjKWEuYXR0cmlidXRlcy53aWR0aD1jO2lmKGIpYS5hdHRyaWJ1dGVzLmhlaWdodD1ifX0sYTpmdW5jdGlvbihhKXtpZighYS5jaGlsZHJlbi5sZW5ndGgmJiFhLmF0dHJpYnV0ZXMubmFtZSYmIWEuYXR0cmlidXRlc1siZGF0YS1ja2Utc2F2ZWQtbmFtZSJdKXJldHVybiBmYWxzZX19fSxBPXtlbGVtZW50TmFtZXM6W1svXmNrZTovLCIiXSxbL15cP3htbDpuYW1lc3BhY2UkLywiIl1dLAphdHRyaWJ1dGVOYW1lczpbWy9eZGF0YS1ja2UtKHNhdmVkfHBhKS0vLCIiXSxbL15kYXRhLWNrZS0uKi8sIiJdLFsiaGlkZWZvY3VzIiwiIl1dLGVsZW1lbnRzOnskOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYXR0cmlidXRlcztpZihiKXtpZihiWyJkYXRhLWNrZS10ZW1wIl0pcmV0dXJuIGZhbHNlO2Zvcih2YXIgYz1bIm5hbWUiLCJocmVmIiwic3JjIl0sZCxlPTA7ZTxjLmxlbmd0aDtlKyspe2Q9ImRhdGEtY2tlLXNhdmVkLSIrY1tlXTtkIGluIGImJmRlbGV0ZSBiW2NbZV1dfX1yZXR1cm4gYX0sdGFibGU6ZnVuY3Rpb24oYSl7YS5jaGlsZHJlbi5zbGljZSgwKS5zb3J0KGZ1bmN0aW9uKGEsYil7dmFyIGMsZDtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi50eXBlPT1hLnR5cGUpe2M9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihsLGEubmFtZSk7ZD1DS0VESVRPUi50b29scy5pbmRleE9mKGwsYi5uYW1lKX1pZighKGM+LTEmJmQ+LTEmJmMhPWQpKXtjPWEucGFyZW50P2EuZ2V0SW5kZXgoKToKLTE7ZD1iLnBhcmVudD9iLmdldEluZGV4KCk6LTF9cmV0dXJuIGM+ZD8xOi0xfSl9LHBhcmFtOmZ1bmN0aW9uKGEpe2EuY2hpbGRyZW49W107YS5pc0VtcHR5PXRydWU7cmV0dXJuIGF9LHNwYW46ZnVuY3Rpb24oYSl7YS5hdHRyaWJ1dGVzWyJjbGFzcyJdPT0iQXBwbGUtc3R5bGUtc3BhbiImJmRlbGV0ZSBhLm5hbWV9LGh0bWw6ZnVuY3Rpb24oYSl7ZGVsZXRlIGEuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGU7ZGVsZXRlIGEuYXR0cmlidXRlc1siY2xhc3MiXX0sYm9keTpmdW5jdGlvbihhKXtkZWxldGUgYS5hdHRyaWJ1dGVzLnNwZWxsY2hlY2s7ZGVsZXRlIGEuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGV9LHN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY2hpbGRyZW5bMF07aWYoYiYmYi52YWx1ZSliLnZhbHVlPUNLRURJVE9SLnRvb2xzLnRyaW0oYi52YWx1ZSk7aWYoIWEuYXR0cmlidXRlcy50eXBlKWEuYXR0cmlidXRlcy50eXBlPSJ0ZXh0L2NzcyJ9LHRpdGxlOmZ1bmN0aW9uKGEpe3ZhciBiPQphLmNoaWxkcmVuWzBdOyFiJiZnKGEsYj1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KTtiLnZhbHVlPWEuYXR0cmlidXRlc1siZGF0YS1ja2UtdGl0bGUiXXx8IiJ9LGlucHV0OmksdGV4dGFyZWE6aX0sYXR0cmlidXRlczp7ImNsYXNzIjpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMubHRyaW0oYS5yZXBsYWNlKC8oPzpefFxzKylja2VfW15cc10qL2csIiIpKXx8ZmFsc2V9fX07aWYoQ0tFRElUT1IuZW52LmllKUEuYXR0cmlidXRlcy5zdHlsZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC8oXnw7KShbXlw6XSspL2csZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKX0pfTt2YXIgST0vPChhfGFyZWF8aW1nfGlucHV0fHNvdXJjZSlcYihbXj5dKik+L2dpLEU9L1xzKG9uXHcrfGhyZWZ8c3JjfG5hbWUpXHMqPVxzKig\/Oig\/OiJbXiJdKiIpfCg\/OidbXiddKicpfCg\/OlteICInPl0rKSkvZ2ksej0vKD86PHN0eWxlKD89WyA+XSlbXj5dKj5bXHNcU10qPzxcL3N0eWxlPil8KD86PCg6P2xpbmt8bWV0YXxiYXNlKVtePl0qPikvZ2ksCk09Lyg8dGV4dGFyZWEoPz1bID5dKVtePl0qPikoW1xzXFNdKj8pKD86PFwvdGV4dGFyZWE+KS9naSxRPS88Y2tlOmVuY29kZWQ+KFtePF0qKTxcL2NrZTplbmNvZGVkPi9naSx2PS8oPFwvPykoKD86b2JqZWN0fGVtYmVkfHBhcmFtfGh0bWx8Ym9keXxoZWFkfHRpdGxlKVtePl0qPikvZ2ksdz0vKDxcLz8pY2tlOigoPzpodG1sfGJvZHl8aGVhZHx0aXRsZSlbXj5dKj4pL2dpLEg9Lzxja2U6KHBhcmFtfGVtYmVkKShbXj5dKj8pXC8\/Pig\/IVxzKjxcL2NrZTpcMSkvZ2l9KSgpOyJ1c2Ugc3RyaWN0IjsKQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50PWZ1bmN0aW9uKGEsZSl7dGhpcy5uYW1lPWE7dGhpcy5hdHRyaWJ1dGVzPWV8fHt9O3RoaXMuY2hpbGRyZW49W107dmFyIGI9YXx8IiIsYz1iLm1hdGNoKC9eY2tlOiguKikvKTtjJiYoYj1jWzFdKTtiPSEoIUNLRURJVE9SLmR0ZC4kbm9uQm9keUNvbnRlbnRbYl0mJiFDS0VESVRPUi5kdGQuJGJsb2NrW2JdJiYhQ0tFRElUT1IuZHRkLiRsaXN0SXRlbVtiXSYmIUNLRURJVE9SLmR0ZC4kdGFibGVDb250ZW50W2JdJiYhKENLRURJVE9SLmR0ZC4kbm9uRWRpdGFibGVbYl18fGI9PSJiciIpKTt0aGlzLmlzRW1wdHk9ISFDS0VESVRPUi5kdGQuJGVtcHR5W2FdO3RoaXMuaXNVbmtub3duPSFDS0VESVRPUi5kdGRbYV07dGhpcy5fPXtpc0Jsb2NrTGlrZTpiLGhhc0lubGluZVN0YXJ0ZWQ6dGhpcy5pc0VtcHR5fHwhYn19OwpDS0VESVRPUi5odG1sUGFyc2VyLmNzc1N0eWxlPWZ1bmN0aW9uKGEpe3ZhciBlPXt9OygoYSBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD9hLmF0dHJpYnV0ZXMuc3R5bGU6YSl8fCIiKS5yZXBsYWNlKC8mcXVvdDsvZywnIicpLnJlcGxhY2UoL1xzKihbXiA6O10rKVxzKjpccyooW147XSspXHMqKD89O3wkKS9nLGZ1bmN0aW9uKGEsYyxkKXtjPT0iZm9udC1mYW1pbHkiJiYoZD1kLnJlcGxhY2UoL1siJ10vZywiIikpO2VbYy50b0xvd2VyQ2FzZSgpXT1kfSk7cmV0dXJue3J1bGVzOmUscG9wdWxhdGU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy50b1N0cmluZygpO2lmKGMpYSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50P2Euc2V0QXR0cmlidXRlKCJzdHlsZSIsYyk6YSBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD9hLmF0dHJpYnV0ZXMuc3R5bGU9YzphLnN0eWxlPWN9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGE9W10sYzsKZm9yKGMgaW4gZSllW2NdJiZhLnB1c2goYywiOiIsZVtjXSwiOyIpO3JldHVybiBhLmpvaW4oIiIpfX19OwooZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJih0eXBlb2YgYT09InN0cmluZyI\/Yi5uYW1lPT1hOmIubmFtZSBpbiBhKX19dmFyIGU9ZnVuY3Rpb24oYSxiKXthPWFbMF07Yj1iWzBdO3JldHVybiBhPGI\/LTE6YT5iPzE6MH0sYj1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LnByb3RvdHlwZTtDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfRUxFTUVOVCxhZGQ6Yi5hZGQsY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudCh0aGlzLm5hbWUsdGhpcy5hdHRyaWJ1dGVzKX0sZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGU9dGhpcyxnLG4sYj1lLmdldEZpbHRlckNvbnRleHQoYik7aWYoYi5vZmYpcmV0dXJuIHRydWU7CmlmKCFlLnBhcmVudClhLm9uUm9vdChiLGUpO2Zvcig7Oyl7Zz1lLm5hbWU7aWYoIShuPWEub25FbGVtZW50TmFtZShiLGcpKSl7dGhpcy5yZW1vdmUoKTtyZXR1cm4gZmFsc2V9ZS5uYW1lPW47aWYoIShlPWEub25FbGVtZW50KGIsZSkpKXt0aGlzLnJlbW92ZSgpO3JldHVybiBmYWxzZX1pZihlIT09dGhpcyl7dGhpcy5yZXBsYWNlV2l0aChlKTtyZXR1cm4gZmFsc2V9aWYoZS5uYW1lPT1nKWJyZWFrO2lmKGUudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXt0aGlzLnJlcGxhY2VXaXRoKGUpO3JldHVybiBmYWxzZX1pZighZS5uYW1lKXt0aGlzLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKTtyZXR1cm4gZmFsc2V9fWc9ZS5hdHRyaWJ1dGVzO3ZhciBpLGo7Zm9yKGkgaW4gZyl7aj1pO2ZvcihuPWdbaV07OylpZihqPWEub25BdHRyaWJ1dGVOYW1lKGIsaSkpaWYoaiE9aSl7ZGVsZXRlIGdbaV07aT1qfWVsc2UgYnJlYWs7ZWxzZXtkZWxldGUgZ1tpXTticmVha31qJiYoKG49YS5vbkF0dHJpYnV0ZShiLAplLGosbikpPT09ZmFsc2U\/ZGVsZXRlIGdbal06Z1tqXT1uKX1lLmlzRW1wdHl8fHRoaXMuZmlsdGVyQ2hpbGRyZW4oYSxmYWxzZSxiKTtyZXR1cm4gdHJ1ZX0sZmlsdGVyQ2hpbGRyZW46Yi5maWx0ZXJDaGlsZHJlbix3cml0ZUh0bWw6ZnVuY3Rpb24oYSxiKXtiJiZ0aGlzLmZpbHRlcihiKTt2YXIgaD10aGlzLm5hbWUsZz1bXSxuPXRoaXMuYXR0cmlidXRlcyxpLGo7YS5vcGVuVGFnKGgsbik7Zm9yKGkgaW4gbilnLnB1c2goW2ksbltpXV0pO2Euc29ydEF0dHJpYnV0ZXMmJmcuc29ydChlKTtpPTA7Zm9yKGo9Zy5sZW5ndGg7aTxqO2krKyl7bj1nW2ldO2EuYXR0cmlidXRlKG5bMF0sblsxXSl9YS5vcGVuVGFnQ2xvc2UoaCx0aGlzLmlzRW1wdHkpO3RoaXMud3JpdGVDaGlsZHJlbkh0bWwoYSk7dGhpcy5pc0VtcHR5fHxhLmNsb3NlVGFnKGgpfSx3cml0ZUNoaWxkcmVuSHRtbDpiLndyaXRlQ2hpbGRyZW5IdG1sLHJlcGxhY2VXaXRoQ2hpbGRyZW46ZnVuY3Rpb24oKXtmb3IodmFyIGE9CnRoaXMuY2hpbGRyZW4sYj1hLmxlbmd0aDtiOylhWy0tYl0uaW5zZXJ0QWZ0ZXIodGhpcyk7dGhpcy5yZW1vdmUoKX0sZm9yRWFjaDpiLmZvckVhY2gsZ2V0Rmlyc3Q6ZnVuY3Rpb24oYil7aWYoIWIpcmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoP3RoaXMuY2hpbGRyZW5bMF06bnVsbDt0eXBlb2YgYiE9ImZ1bmN0aW9uIiYmKGI9YShiKSk7Zm9yKHZhciBkPTAsZT10aGlzLmNoaWxkcmVuLmxlbmd0aDtkPGU7KytkKWlmKGIodGhpcy5jaGlsZHJlbltkXSkpcmV0dXJuIHRoaXMuY2hpbGRyZW5bZF07cmV0dXJuIG51bGx9LGdldEh0bWw6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjt0aGlzLndyaXRlQ2hpbGRyZW5IdG1sKGEpO3JldHVybiBhLmdldEh0bWwoKX0sc2V0SHRtbDpmdW5jdGlvbihhKXtmb3IodmFyIGE9dGhpcy5jaGlsZHJlbj1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGEpLmNoaWxkcmVuLGI9MCwKZT1hLmxlbmd0aDtiPGU7KytiKWFbYl0ucGFyZW50PXRoaXN9LGdldE91dGVySHRtbDpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO3RoaXMud3JpdGVIdG1sKGEpO3JldHVybiBhLmdldEh0bWwoKX0sc3BsaXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY2hpbGRyZW4uc3BsaWNlKGEsdGhpcy5jaGlsZHJlbi5sZW5ndGgtYSksZT10aGlzLmNsb25lKCksZz0wO2c8Yi5sZW5ndGg7KytnKWJbZ10ucGFyZW50PWU7ZS5jaGlsZHJlbj1iO2lmKGJbMF0pYlswXS5wcmV2aW91cz1udWxsO2lmKGE+MCl0aGlzLmNoaWxkcmVuW2EtMV0ubmV4dD1udWxsO3RoaXMucGFyZW50LmFkZChlLHRoaXMuZ2V0SW5kZXgoKSsxKTtyZXR1cm4gZX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hdHRyaWJ1dGVzWyJjbGFzcyJdO2lmKGIpKGI9Q0tFRElUT1IudG9vbHMudHJpbShiLnJlcGxhY2UoUmVnRXhwKCIoPzpcXHMrfF4pIithKwoiKD86XFxzK3wkKSIpLCIgIikpKT90aGlzLmF0dHJpYnV0ZXNbImNsYXNzIl09YjpkZWxldGUgdGhpcy5hdHRyaWJ1dGVzWyJjbGFzcyJdfSxoYXNDbGFzczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmF0dHJpYnV0ZXNbImNsYXNzIl07cmV0dXJuIWI\/ZmFsc2U6UmVnRXhwKCIoPzpefFxccykiK2ErIig\/PVxcc3wkKSIpLnRlc3QoYil9LGdldEZpbHRlckNvbnRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9W107YXx8KGE9e29mZjpmYWxzZSxub25FZGl0YWJsZTpmYWxzZX0pOyFhLm9mZiYmdGhpcy5hdHRyaWJ1dGVzWyJkYXRhLWNrZS1wcm9jZXNzb3IiXT09Im9mZiImJmIucHVzaCgib2ZmIix0cnVlKTshYS5ub25FZGl0YWJsZSYmdGhpcy5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZT09ImZhbHNlIiYmYi5wdXNoKCJub25FZGl0YWJsZSIsdHJ1ZSk7aWYoYi5sZW5ndGgpZm9yKHZhciBhPUNLRURJVE9SLnRvb2xzLmNvcHkoYSksZT0wO2U8Yi5sZW5ndGg7ZT1lKzIpYVtiW2VdXT1iW2UrCjFdO3JldHVybiBhfX0sdHJ1ZSl9KSgpOyhmdW5jdGlvbigpe3ZhciBhPXt9O0NLRURJVE9SLnRlbXBsYXRlPWZ1bmN0aW9uKGUpe2lmKGFbZV0pdGhpcy5vdXRwdXQ9YVtlXTtlbHNle3ZhciBiPWUucmVwbGFjZSgvJy9nLCJcXCciKS5yZXBsYWNlKC97KFtefV0rKX0vZyxmdW5jdGlvbihhLGIpe3JldHVybiInLGRhdGFbJyIrYisiJ109PXVuZGVmaW5lZD8neyIrYisifSc6ZGF0YVsnIitiKyInXSwnIn0pO3RoaXMub3V0cHV0PWFbZV09RnVuY3Rpb24oImRhdGEiLCJidWZmZXIiLCJyZXR1cm4gYnVmZmVyP2J1ZmZlci5wdXNoKCciK2IrIicpOlsnIitiKyInXS5qb2luKCcnKTsiKX19fSkoKTtkZWxldGUgQ0tFRElUT1IubG9hZEZ1bGxDb3JlO0NLRURJVE9SLmluc3RhbmNlcz17fTtDS0VESVRPUi5kb2N1bWVudD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGRvY3VtZW50KTsKQ0tFRElUT1IuYWRkPWZ1bmN0aW9uKGEpe0NLRURJVE9SLmluc3RhbmNlc1thLm5hbWVdPWE7YS5vbigiZm9jdXMiLGZ1bmN0aW9uKCl7aWYoQ0tFRElUT1IuY3VycmVudEluc3RhbmNlIT1hKXtDS0VESVRPUi5jdXJyZW50SW5zdGFuY2U9YTtDS0VESVRPUi5maXJlKCJjdXJyZW50SW5zdGFuY2UiKX19KTthLm9uKCJibHVyIixmdW5jdGlvbigpe2lmKENLRURJVE9SLmN1cnJlbnRJbnN0YW5jZT09YSl7Q0tFRElUT1IuY3VycmVudEluc3RhbmNlPW51bGw7Q0tFRElUT1IuZmlyZSgiY3VycmVudEluc3RhbmNlIil9fSk7Q0tFRElUT1IuZmlyZSgiaW5zdGFuY2UiLG51bGwsYSl9O0NLRURJVE9SLnJlbW92ZT1mdW5jdGlvbihhKXtkZWxldGUgQ0tFRElUT1IuaW5zdGFuY2VzW2EubmFtZV19OwooZnVuY3Rpb24oKXt2YXIgYT17fTtDS0VESVRPUi5hZGRUZW1wbGF0ZT1mdW5jdGlvbihlLGIpe3ZhciBjPWFbZV07aWYoYylyZXR1cm4gYztjPXtuYW1lOmUsc291cmNlOmJ9O0NLRURJVE9SLmZpcmUoInRlbXBsYXRlIixjKTtyZXR1cm4gYVtlXT1uZXcgQ0tFRElUT1IudGVtcGxhdGUoYy5zb3VyY2UpfTtDS0VESVRPUi5nZXRUZW1wbGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gYVtlXX19KSgpOyhmdW5jdGlvbigpe3ZhciBhPVtdO0NLRURJVE9SLmFkZENzcz1mdW5jdGlvbihlKXthLnB1c2goZSl9O0NLRURJVE9SLmdldENzcz1mdW5jdGlvbigpe3JldHVybiBhLmpvaW4oIlxuIil9fSkoKTtDS0VESVRPUi5vbigiaW5zdGFuY2VEZXN0cm95ZWQiLGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMuaXNFbXB0eSh0aGlzLmluc3RhbmNlcykmJkNLRURJVE9SLmZpcmUoInJlc2V0Iil9KTtDS0VESVRPUi5UUklTVEFURV9PTj0xO0NLRURJVE9SLlRSSVNUQVRFX09GRj0yOwpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD0wOwooZnVuY3Rpb24oKXtDS0VESVRPUi5pbmxpbmU9ZnVuY3Rpb24oYSxlKXtpZighQ0tFRElUT1IuZW52LmlzQ29tcGF0aWJsZSlyZXR1cm4gbnVsbDthPUNLRURJVE9SLmRvbS5lbGVtZW50LmdldChhKTtpZihhLmdldEVkaXRvcigpKXRocm93J1RoZSBlZGl0b3IgaW5zdGFuY2UgIicrYS5nZXRFZGl0b3IoKS5uYW1lKyciIGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gdGhlIHByb3ZpZGVkIGVsZW1lbnQuJzt2YXIgYj1uZXcgQ0tFRElUT1IuZWRpdG9yKGUsYSxDS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FKSxjPWEuaXMoInRleHRhcmVhIik\/YTpudWxsO2lmKGMpe2Iuc2V0RGF0YShjLmdldFZhbHVlKCksbnVsbCx0cnVlKTthPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCc8ZGl2IGNvbnRlbnRlZGl0YWJsZT0iJyshIWIucmVhZE9ubHkrJyIgY2xhc3M9ImNrZV90ZXh0YXJlYV9pbmxpbmUiPicrYy5nZXRWYWx1ZSgpKyI8L2Rpdj4iLENLRURJVE9SLmRvY3VtZW50KTsKYS5pbnNlcnRBZnRlcihjKTtjLmhpZGUoKTtjLiQuZm9ybSYmYi5fYXR0YWNoVG9Gb3JtKCl9ZWxzZSBiLnNldERhdGEoYS5nZXRIdG1sKCksbnVsbCx0cnVlKTtiLm9uKCJsb2FkZWQiLGZ1bmN0aW9uKCl7Yi5maXJlKCJ1aVJlYWR5Iik7Yi5lZGl0YWJsZShhKTtiLmNvbnRhaW5lcj1hO2Iuc2V0RGF0YShiLmdldERhdGEoMSkpO2IucmVzZXREaXJ0eSgpO2IuZmlyZSgiY29udGVudERvbSIpO2IubW9kZT0id3lzaXd5ZyI7Yi5maXJlKCJtb2RlIik7Yi5zdGF0dXM9InJlYWR5IjtiLmZpcmVPbmNlKCJpbnN0YW5jZVJlYWR5Iik7Q0tFRElUT1IuZmlyZSgiaW5zdGFuY2VSZWFkeSIsbnVsbCxiKX0sbnVsbCxudWxsLDFFNCk7Yi5vbigiZGVzdHJveSIsZnVuY3Rpb24oKXtpZihjKXtiLmNvbnRhaW5lci5jbGVhckN1c3RvbURhdGEoKTtiLmNvbnRhaW5lci5yZW1vdmUoKTtjLnNob3coKX1iLmVsZW1lbnQuY2xlYXJDdXN0b21EYXRhKCk7ZGVsZXRlIGIuZWxlbWVudH0pO3JldHVybiBifTsKQ0tFRElUT1IuaW5saW5lQWxsPWZ1bmN0aW9uKCl7dmFyIGEsZSxiO2ZvcihiIGluIENLRURJVE9SLmR0ZC4kZWRpdGFibGUpZm9yKHZhciBjPUNLRURJVE9SLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWcoYiksZD0wLGg9Yy5jb3VudCgpO2Q8aDtkKyspe2E9Yy5nZXRJdGVtKGQpO2lmKGEuZ2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKT09InRydWUiKXtlPXtlbGVtZW50OmEsY29uZmlnOnt9fTtDS0VESVRPUi5maXJlKCJpbmxpbmUiLGUpIT09ZmFsc2UmJkNLRURJVE9SLmlubGluZShhLGUuY29uZmlnKX19fTtDS0VESVRPUi5kb21SZWFkeShmdW5jdGlvbigpeyFDS0VESVRPUi5kaXNhYmxlQXV0b0lubGluZSYmQ0tFRElUT1IuaW5saW5lQWxsKCl9KX0pKCk7Q0tFRElUT1IucmVwbGFjZUNsYXNzPSJja2VkaXRvciI7CihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxjLGcsbil7aWYoIUNLRURJVE9SLmVudi5pc0NvbXBhdGlibGUpcmV0dXJuIG51bGw7YT1DS0VESVRPUi5kb20uZWxlbWVudC5nZXQoYSk7aWYoYS5nZXRFZGl0b3IoKSl0aHJvdydUaGUgZWRpdG9yIGluc3RhbmNlICInK2EuZ2V0RWRpdG9yKCkubmFtZSsnIiBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIHRoZSBwcm92aWRlZCBlbGVtZW50Lic7dmFyIGk9bmV3IENLRURJVE9SLmVkaXRvcihjLGEsbik7aWYobj09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0Upe2Euc2V0U3R5bGUoInZpc2liaWxpdHkiLCJoaWRkZW4iKTtpLl8ucmVxdWlyZWQ9YS5oYXNBdHRyaWJ1dGUoInJlcXVpcmVkIik7YS5yZW1vdmVBdHRyaWJ1dGUoInJlcXVpcmVkIil9ZyYmaS5zZXREYXRhKGcsbnVsbCx0cnVlKTtpLm9uKCJsb2FkZWQiLGZ1bmN0aW9uKCl7YihpKTtuPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmKGkuY29uZmlnLmF1dG9VcGRhdGVFbGVtZW50JiYKYS4kLmZvcm0pJiZpLl9hdHRhY2hUb0Zvcm0oKTtpLnNldE1vZGUoaS5jb25maWcuc3RhcnR1cE1vZGUsZnVuY3Rpb24oKXtpLnJlc2V0RGlydHkoKTtpLnN0YXR1cz0icmVhZHkiO2kuZmlyZU9uY2UoImluc3RhbmNlUmVhZHkiKTtDS0VESVRPUi5maXJlKCJpbnN0YW5jZVJlYWR5IixudWxsLGkpfSl9KTtpLm9uKCJkZXN0cm95IixlKTtyZXR1cm4gaX1mdW5jdGlvbiBlKCl7dmFyIGE9dGhpcy5jb250YWluZXIsYj10aGlzLmVsZW1lbnQ7aWYoYSl7YS5jbGVhckN1c3RvbURhdGEoKTthLnJlbW92ZSgpfWlmKGIpe2IuY2xlYXJDdXN0b21EYXRhKCk7aWYodGhpcy5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0Upe2Iuc2hvdygpO3RoaXMuXy5yZXF1aXJlZCYmYi5zZXRBdHRyaWJ1dGUoInJlcXVpcmVkIiwicmVxdWlyZWQiKX1kZWxldGUgdGhpcy5lbGVtZW50fX1mdW5jdGlvbiBiKGEpe3ZhciBiPWEubmFtZSxlPWEuZWxlbWVudCxuPWEuZWxlbWVudE1vZGUsCmk9YS5maXJlKCJ1aVNwYWNlIix7c3BhY2U6InRvcCIsaHRtbDoiIn0pLmh0bWwsaj1hLmZpcmUoInVpU3BhY2UiLHtzcGFjZToiYm90dG9tIixodG1sOiIifSkuaHRtbDtjfHwoYz1DS0VESVRPUi5hZGRUZW1wbGF0ZSgibWFpbmNvbnRhaW5lciIsJzx7b3V0ZXJFbH0gaWQ9ImNrZV97bmFtZX0iIGNsYXNzPSJ7aWR9IGNrZSBja2VfcmVzZXQgY2tlX2Nocm9tZSBja2VfZWRpdG9yX3tuYW1lfSBja2Vfe2xhbmdEaXJ9ICcrQ0tFRElUT1IuZW52LmNzc0NsYXNzKyciICBkaXI9IntsYW5nRGlyfSIgbGFuZz0ie2xhbmdDb2RlfSIgcm9sZT0iYXBwbGljYXRpb24iIGFyaWEtbGFiZWxsZWRieT0iY2tlX3tuYW1lfV9hcmlhbGJsIj48c3BhbiBpZD0iY2tlX3tuYW1lfV9hcmlhbGJsIiBjbGFzcz0iY2tlX3ZvaWNlX2xhYmVsIj57dm9pY2VMYWJlbH08L3NwYW4+PHtvdXRlckVsfSBjbGFzcz0iY2tlX2lubmVyIGNrZV9yZXNldCIgcm9sZT0icHJlc2VudGF0aW9uIj57dG9wSHRtbH08e291dGVyRWx9IGlkPSJ7Y29udGVudElkfSIgY2xhc3M9ImNrZV9jb250ZW50cyBja2VfcmVzZXQiIHJvbGU9InByZXNlbnRhdGlvbiI+PC97b3V0ZXJFbH0+e2JvdHRvbUh0bWx9PC97b3V0ZXJFbH0+PC97b3V0ZXJFbH0+JykpOwpiPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGMub3V0cHV0KHtpZDphLmlkLG5hbWU6YixsYW5nRGlyOmEubGFuZy5kaXIsbGFuZ0NvZGU6YS5sYW5nQ29kZSx2b2ljZUxhYmVsOlthLmxhbmcuZWRpdG9yLGEubmFtZV0uam9pbigiLCAiKSx0b3BIdG1sOmk\/JzxzcGFuIGlkPSInK2EudWkuc3BhY2VJZCgidG9wIikrJyIgY2xhc3M9ImNrZV90b3AgY2tlX3Jlc2V0X2FsbCIgcm9sZT0icHJlc2VudGF0aW9uIiBzdHlsZT0iaGVpZ2h0OmF1dG8iPicraSsiPC9zcGFuPiI6IiIsY29udGVudElkOmEudWkuc3BhY2VJZCgiY29udGVudHMiKSxib3R0b21IdG1sOmo\/JzxzcGFuIGlkPSInK2EudWkuc3BhY2VJZCgiYm90dG9tIikrJyIgY2xhc3M9ImNrZV9ib3R0b20gY2tlX3Jlc2V0X2FsbCIgcm9sZT0icHJlc2VudGF0aW9uIj4nK2orIjwvc3Bhbj4iOiIiLG91dGVyRWw6Q0tFRElUT1IuZW52LmllPyJzcGFuIjoiZGl2In0pKTtpZihuPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSl7ZS5oaWRlKCk7CmIuaW5zZXJ0QWZ0ZXIoZSl9ZWxzZSBlLmFwcGVuZChiKTthLmNvbnRhaW5lcj1iO2kmJmEudWkuc3BhY2UoInRvcCIpLnVuc2VsZWN0YWJsZSgpO2omJmEudWkuc3BhY2UoImJvdHRvbSIpLnVuc2VsZWN0YWJsZSgpO2U9YS5jb25maWcud2lkdGg7bj1hLmNvbmZpZy5oZWlnaHQ7ZSYmYi5zZXRTdHlsZSgid2lkdGgiLENLRURJVE9SLnRvb2xzLmNzc0xlbmd0aChlKSk7biYmYS51aS5zcGFjZSgiY29udGVudHMiKS5zZXRTdHlsZSgiaGVpZ2h0IixDS0VESVRPUi50b29scy5jc3NMZW5ndGgobikpO2IuZGlzYWJsZUNvbnRleHRNZW51KCk7Q0tFRElUT1IuZW52LndlYmtpdCYmYi5vbigiZm9jdXMiLGZ1bmN0aW9uKCl7YS5mb2N1cygpfSk7YS5maXJlT25jZSgidWlSZWFkeSIpfUNLRURJVE9SLnJlcGxhY2U9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYShiLGMsbnVsbCxDS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSl9O0NLRURJVE9SLmFwcGVuZFRvPWZ1bmN0aW9uKGIsYyxlKXtyZXR1cm4gYShiLApjLGUsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPKX07Q0tFRElUT1IucmVwbGFjZUFsbD1mdW5jdGlvbigpe2Zvcih2YXIgYT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGV4dGFyZWEiKSxiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPW51bGwsZT1hW2JdO2lmKGUubmFtZXx8ZS5pZCl7aWYodHlwZW9mIGFyZ3VtZW50c1swXT09InN0cmluZyIpe2lmKCFSZWdFeHAoIig\/Ol58XFxzKSIrYXJndW1lbnRzWzBdKyIoPzokfFxccykiKS50ZXN0KGUuY2xhc3NOYW1lKSljb250aW51ZX1lbHNlIGlmKHR5cGVvZiBhcmd1bWVudHNbMF09PSJmdW5jdGlvbiIpe2M9e307aWYoYXJndW1lbnRzWzBdKGUsYyk9PT1mYWxzZSljb250aW51ZX10aGlzLnJlcGxhY2UoZSxjKX19fTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmFkZE1vZGU9ZnVuY3Rpb24oYSxiKXsodGhpcy5fLm1vZGVzfHwodGhpcy5fLm1vZGVzPXt9KSlbYV09Yn07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5zZXRNb2RlPQpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZT10aGlzLl8ubW9kZXM7aWYoIShhPT1jLm1vZGV8fCFlfHwhZVthXSkpe2MuZmlyZSgiYmVmb3JlU2V0TW9kZSIsYSk7aWYoYy5tb2RlKXt2YXIgaT1jLmNoZWNrRGlydHkoKTtjLl8ucHJldmlvdXNNb2RlPWMubW9kZTtjLmZpcmUoImJlZm9yZU1vZGVVbmxvYWQiKTtjLmVkaXRhYmxlKDApO2MudWkuc3BhY2UoImNvbnRlbnRzIikuc2V0SHRtbCgiIik7Yy5tb2RlPSIifXRoaXMuXy5tb2Rlc1thXShmdW5jdGlvbigpe2MubW9kZT1hO2khPT12b2lkIDAmJiFpJiZjLnJlc2V0RGlydHkoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5maXJlKCJtb2RlIik7YiYmYi5jYWxsKGMpfSwwKX0pfX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGk9dGhpcy5jb250YWluZXIsaj10aGlzLnVpLnNwYWNlKCJjb250ZW50cyIpLG89Q0tFRElUT1IuZW52LndlYmtpdCYmdGhpcy5kb2N1bWVudCYmdGhpcy5kb2N1bWVudC5nZXRXaW5kb3coKS4kLmZyYW1lRWxlbWVudCwKZT1lP2kuZ2V0Q2hpbGQoMSk6aTtlLnNldFNpemUoIndpZHRoIixhLHRydWUpO28mJihvLnN0eWxlLndpZHRoPSIxJSIpO2ouc2V0U3R5bGUoImhlaWdodCIsTWF0aC5tYXgoYi0oYz8wOihlLiQub2Zmc2V0SGVpZ2h0fHwwKS0oai4kLmNsaWVudEhlaWdodHx8MCkpLDApKyJweCIpO28mJihvLnN0eWxlLndpZHRoPSIxMDAlIik7dGhpcy5maXJlKCJyZXNpemUiKX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5nZXRSZXNpemFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE\/dGhpcy51aS5zcGFjZSgiY29udGVudHMiKTp0aGlzLmNvbnRhaW5lcn07dmFyIGM7Q0tFRElUT1IuZG9tUmVhZHkoZnVuY3Rpb24oKXtDS0VESVRPUi5yZXBsYWNlQ2xhc3MmJkNLRURJVE9SLnJlcGxhY2VBbGwoQ0tFRElUT1IucmVwbGFjZUNsYXNzKX0pfSkoKTtDS0VESVRPUi5jb25maWcuc3RhcnR1cE1vZGU9Ind5c2l3eWciOwooZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3ZhciBiPWEuZWRpdG9yLGQ9YS5kYXRhLnBhdGgsbT1kLmJsb2NrTGltaXQsaz1hLmRhdGEuc2VsZWN0aW9uLGw9ay5nZXRSYW5nZXMoKVswXSxnO2lmKENLRURJVE9SLmVudi5nZWNrb3x8Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcilpZihrPWUoayxkKSl7ay5hcHBlbmRCb2d1cygpO2c9Q0tFRElUT1IuZW52LmllfWlmKGIuY29uZmlnLmF1dG9QYXJhZ3JhcGghPT1mYWxzZSYmYi5hY3RpdmVFbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSJiZiLmVkaXRhYmxlKCkuZXF1YWxzKG0pJiYhZC5ibG9jayYmbC5jb2xsYXBzZWQmJiFsLmdldENvbW1vbkFuY2VzdG9yKCkuaXNSZWFkT25seSgpKXtkPWwuY2xvbmUoKTtkLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUyk7bT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKTttLmd1YXJkPWZ1bmN0aW9uKGEpe3JldHVybiFjKGEpfHxhLnR5cGU9PQpDS0VESVRPUi5OT0RFX0NPTU1FTlR8fGEuaXNSZWFkT25seSgpfTtpZighbS5jaGVja0ZvcndhcmQoKXx8ZC5jaGVja1N0YXJ0T2ZCbG9jaygpJiZkLmNoZWNrRW5kT2ZCbG9jaygpKXtiPWwuZml4QmxvY2sodHJ1ZSxiLmFjdGl2ZUVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfRElWPyJkaXYiOiJwIik7aWYoIUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyKShiPWIuZ2V0Rmlyc3QoYykpJiYoYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJkNLRURJVE9SLnRvb2xzLnRyaW0oYi5nZXRUZXh0KCkpLm1hdGNoKC9eKD86Jm5ic3A7fFx4YTApJC8pKSYmYi5yZW1vdmUoKTtnPTE7YS5jYW5jZWwoKX19ZyYmbC5zZWxlY3QoKX1mdW5jdGlvbiBlKGEsYil7aWYoYS5pc0Zha2UpcmV0dXJuIDA7dmFyIGU9Yi5ibG9ja3x8Yi5ibG9ja0xpbWl0LGQ9ZSYmZS5nZXRMYXN0KGMpO2lmKGUmJmUuaXNCbG9ja0JvdW5kYXJ5KCkmJighZHx8IShkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmCmQuaXNCbG9ja0JvdW5kYXJ5KCkpKSYmIWUuaXMoInByZSIpJiYhZS5nZXRCb2d1cygpKXJldHVybiBlfWZ1bmN0aW9uIGIoYSl7dmFyIGI9YS5kYXRhLmdldFRhcmdldCgpO2lmKGIuaXMoImlucHV0Iikpe2I9Yi5nZXRBdHRyaWJ1dGUoInR5cGUiKTsoYj09InN1Ym1pdCJ8fGI9PSJyZXNldCIpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX19ZnVuY3Rpb24gYyhhKXtyZXR1cm4gbyhhKSYmcShhKX1mdW5jdGlvbiBkKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBlPUNLRURJVE9SLmRvbS5lbGVtZW50LmdldChjLmRhdGEuJC50b0VsZW1lbnR8fGMuZGF0YS4kLmZyb21FbGVtZW50fHxjLmRhdGEuJC5yZWxhdGVkVGFyZ2V0KTsoIWV8fCFiLmVxdWFscyhlKSYmIWIuY29udGFpbnMoZSkpJiZhLmNhbGwodGhpcyxjKX19ZnVuY3Rpb24gaChhKXt2YXIgYixlPWEuZ2V0UmFuZ2VzKClbMF0sZD1hLnJvb3Qsaz17dGFibGU6MSx1bDoxLG9sOjEsZGw6MX07aWYoZS5zdGFydFBhdGgoKS5jb250YWlucyhrKSl7dmFyIGE9CmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihlLGQpe2QmJihlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZS5pcyhrKSkmJihiPWUpO2lmKCFkJiZjKGUpJiYoIWF8fCFpKGUpKSlyZXR1cm4gZmFsc2V9fSxsPWUuY2xvbmUoKTtsLmNvbGxhcHNlKDEpO2wuc2V0U3RhcnRBdChkLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtkPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGwpO2QuZ3VhcmQ9YSgpO2QuY2hlY2tCYWNrd2FyZCgpO2lmKGIpe2w9ZS5jbG9uZSgpO2wuY29sbGFwc2UoKTtsLnNldEVuZEF0KGIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtkPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGwpO2QuZ3VhcmQ9YSh0cnVlKTtiPWZhbHNlO2QuY2hlY2tGb3J3YXJkKCk7cmV0dXJuIGJ9fXJldHVybiBudWxsfWZ1bmN0aW9uIGcoYSl7YS5lZGl0b3IuZm9jdXMoKTthLmVkaXRvci5maXJlKCJzYXZlU25hcHNob3QiKX1mdW5jdGlvbiBuKGEsYil7dmFyIGM9CmEuZWRpdG9yOyFiJiZjLmdldFNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCk7c2V0VGltZW91dChmdW5jdGlvbigpe2MuZmlyZSgic2F2ZVNuYXBzaG90Iil9LDApfUNLRURJVE9SLmVkaXRhYmxlPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLmRvbS5lbGVtZW50LCQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2UoYi4kfHxiKTt0aGlzLmVkaXRvcj1hO3RoaXMuaGFzRm9jdXM9ZmFsc2U7dGhpcy5zZXR1cCgpfSxwcm90bzp7Zm9jdXM6ZnVuY3Rpb24oKXt2YXIgYTtpZihDS0VESVRPUi5lbnYud2Via2l0JiYhdGhpcy5oYXNGb2N1cyl7YT10aGlzLmVkaXRvci5fLnByZXZpb3VzQWN0aXZlfHx0aGlzLmdldERvY3VtZW50KCkuZ2V0QWN0aXZlKCk7aWYodGhpcy5jb250YWlucyhhKSl7YS5mb2N1cygpO3JldHVybn19dHJ5e3RoaXMuJFtDS0VESVRPUi5lbnYuaWUmJnRoaXMuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpPyJzZXRBY3RpdmUiOgoiZm9jdXMiXSgpfWNhdGNoKGIpe2lmKCFDS0VESVRPUi5lbnYuaWUpdGhyb3cgYjt9aWYoQ0tFRElUT1IuZW52LnNhZmFyaSYmIXRoaXMuaXNJbmxpbmUoKSl7YT1DS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKTthLmVxdWFscyh0aGlzLmdldFdpbmRvdygpLmdldEZyYW1lKCkpfHx0aGlzLmdldFdpbmRvdygpLmZvY3VzKCl9fSxvbjpmdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtpZihDS0VESVRPUi5lbnYuaWUmJi9eZm9jdXN8Ymx1ciQvLmV4ZWMoYSkpe2E9YT09ImZvY3VzIj8iZm9jdXNpbiI6ImZvY3Vzb3V0IjtiPWQoYix0aGlzKTtjWzBdPWE7Y1sxXT1ifXJldHVybiBDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUub24uYXBwbHkodGhpcyxjKX0sYXR0YWNoTGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMsZSxkLGwpeyF0aGlzLl8ubGlzdGVuZXJzJiYodGhpcy5fLmxpc3RlbmVycz1bXSk7dmFyIGc9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLAoxKSxnPWEub24uYXBwbHkoYSxnKTt0aGlzLl8ubGlzdGVuZXJzLnB1c2goZyk7cmV0dXJuIGd9LGNsZWFyTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmxpc3RlbmVyczt0cnl7Zm9yKDthLmxlbmd0aDspYS5wb3AoKS5yZW1vdmVMaXN0ZW5lcigpfWNhdGNoKGIpe319LHJlc3RvcmVBdHRyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5hdHRyQ2hhbmdlcyxiLGM7Zm9yKGMgaW4gYSlpZihhLmhhc093blByb3BlcnR5KGMpKXtiPWFbY107YiE9PW51bGw\/dGhpcy5zZXRBdHRyaWJ1dGUoYyxiKTp0aGlzLnJlbW92ZUF0dHJpYnV0ZShjKX19LGF0dGFjaENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0Q3VzdG9tRGF0YSgiY2xhc3NlcyIpO2lmKCF0aGlzLmhhc0NsYXNzKGEpKXshYiYmKGI9W10pO2IucHVzaChhKTt0aGlzLnNldEN1c3RvbURhdGEoImNsYXNzZXMiLGIpO3RoaXMuYWRkQ2xhc3MoYSl9fSxjaGFuZ2VBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7CmlmKGIhPT1jKXshdGhpcy5fLmF0dHJDaGFuZ2VzJiYodGhpcy5fLmF0dHJDaGFuZ2VzPXt9KTthIGluIHRoaXMuXy5hdHRyQ2hhbmdlc3x8KHRoaXMuXy5hdHRyQ2hhbmdlc1thXT1jKTt0aGlzLnNldEF0dHJpYnV0ZShhLGIpfX0saW5zZXJ0SHRtbDpmdW5jdGlvbihhLGIpe2codGhpcyk7cyh0aGlzLGJ8fCJodG1sIixhKX0saW5zZXJ0VGV4dDpmdW5jdGlvbihhKXtnKHRoaXMpO3ZhciBiPXRoaXMuZWRpdG9yLGM9Yi5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKS5oYXNBc2NlbmRhbnQoInByZSIsdHJ1ZSk\/Q0tFRElUT1IuRU5URVJfQlI6Yi5hY3RpdmVFbnRlck1vZGUsYj1jPT1DS0VESVRPUi5FTlRFUl9CUixlPUNLRURJVE9SLnRvb2xzLGE9ZS5odG1sRW5jb2RlKGEucmVwbGFjZSgvXHJcbi9nLCJcbiIpKSxhPWEucmVwbGFjZSgvXHQvZywiJm5ic3A7Jm5ic3A7ICZuYnNwOyIpLGM9Yz09Q0tFRElUT1IuRU5URVJfUD8icCI6ImRpdiI7aWYoIWIpe3ZhciBkPS9cbnsyfS9nOwppZihkLnRlc3QoYSkpdmFyIGw9IjwiK2MrIj4iLGg9IjwvIitjKyI+IixhPWwrYS5yZXBsYWNlKGQsZnVuY3Rpb24oKXtyZXR1cm4gaCtsfSkraH1hPWEucmVwbGFjZSgvXG4vZywiPGJyPiIpO2J8fChhPWEucmVwbGFjZShSZWdFeHAoIjxicj4oPz08LyIrYysiPikiKSxmdW5jdGlvbihhKXtyZXR1cm4gZS5yZXBlYXQoYSwyKX0pKTthPWEucmVwbGFjZSgvXiB8ICQvZywiJm5ic3A7Iik7YT1hLnJlcGxhY2UoLyg+fFxzKSAvZyxmdW5jdGlvbihhLGIpe3JldHVybiBiKyImbmJzcDsifSkucmVwbGFjZSgvICg\/PTwpL2csIiZuYnNwOyIpO3ModGhpcywidGV4dCIsYSl9LGluc2VydEVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXtiP3RoaXMuaW5zZXJ0RWxlbWVudEludG9SYW5nZShhLGIpOnRoaXMuaW5zZXJ0RWxlbWVudEludG9TZWxlY3Rpb24oYSl9LGluc2VydEVsZW1lbnRJbnRvUmFuZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmVkaXRvcixlPWMuY29uZmlnLmVudGVyTW9kZSxkPWEuZ2V0TmFtZSgpLApsPUNLRURJVE9SLmR0ZC4kYmxvY2tbZF07aWYoYi5jaGVja1JlYWRPbmx5KCkpcmV0dXJuIGZhbHNlO2IuZGVsZXRlQ29udGVudHMoMSk7Yi5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuc3RhcnRDb250YWluZXIuaXMoe3RyOjEsdGFibGU6MSx0Ym9keToxLHRoZWFkOjEsdGZvb3Q6MX0pJiZ1KGIpO3ZhciBnLGg7aWYobClmb3IoOyhnPWIuZ2V0Q29tbW9uQW5jZXN0b3IoMCwxKSkmJihoPUNLRURJVE9SLmR0ZFtnLmdldE5hbWUoKV0pJiYoIWh8fCFoW2RdKTspaWYoZy5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuc3BhbiliLnNwbGl0RWxlbWVudChnKTtlbHNlIGlmKGIuY2hlY2tTdGFydE9mQmxvY2soKSYmYi5jaGVja0VuZE9mQmxvY2soKSl7Yi5zZXRTdGFydEJlZm9yZShnKTtiLmNvbGxhcHNlKHRydWUpO2cucmVtb3ZlKCl9ZWxzZSBiLnNwbGl0QmxvY2soZT09Q0tFRElUT1IuRU5URVJfRElWPyJkaXYiOiJwIixjLmVkaXRhYmxlKCkpO2IuaW5zZXJ0Tm9kZShhKTsKcmV0dXJuIHRydWV9LGluc2VydEVsZW1lbnRJbnRvU2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWRpdG9yLGU9Yi5hY3RpdmVFbnRlck1vZGUsYj1iLmdldFNlbGVjdGlvbigpLGQ9Yi5nZXRSYW5nZXMoKVswXSxrPWEuZ2V0TmFtZSgpLGs9Q0tFRElUT1IuZHRkLiRibG9ja1trXTtnKHRoaXMpO2lmKHRoaXMuaW5zZXJ0RWxlbWVudEludG9SYW5nZShhLGQpKXtkLm1vdmVUb1Bvc2l0aW9uKGEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtpZihrKWlmKChrPWEuZ2V0TmV4dChmdW5jdGlvbihhKXtyZXR1cm4gYyhhKSYmIWkoYSl9KSkmJmsudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZrLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spKWsuZ2V0RHRkKClbIiMiXT9kLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoayk6ZC5tb3ZlVG9FbGVtZW50RWRpdEVuZChhKTtlbHNlIGlmKCFrJiZlIT1DS0VESVRPUi5FTlRFUl9CUil7az1kLmZpeEJsb2NrKHRydWUsZT09Q0tFRElUT1IuRU5URVJfRElWPwoiZGl2IjoicCIpO2QubW92ZVRvRWxlbWVudEVkaXRTdGFydChrKX19Yi5zZWxlY3RSYW5nZXMoW2RdKTtuKHRoaXMsQ0tFRElUT1IuZW52Lm9wZXJhKX0sc2V0RGF0YTpmdW5jdGlvbihhLGIpe2J8fChhPXRoaXMuZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9IdG1sKGEpKTt0aGlzLnNldEh0bWwoYSk7dGhpcy5lZGl0b3IuZmlyZSgiZGF0YVJlYWR5Iil9LGdldERhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRIdG1sKCk7YXx8KGI9dGhpcy5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0RhdGFGb3JtYXQoYikpO3JldHVybiBifSxzZXRSZWFkT25seTpmdW5jdGlvbihhKXt0aGlzLnNldEF0dHJpYnV0ZSgiY29udGVudGVkaXRhYmxlIiwhYSl9LGRldGFjaDpmdW5jdGlvbigpe3RoaXMucmVtb3ZlQ2xhc3MoImNrZV9lZGl0YWJsZSIpO3ZhciBhPXRoaXMuZWRpdG9yO3RoaXMuXy5kZXRhY2goKTtkZWxldGUgYS5kb2N1bWVudDtkZWxldGUgYS53aW5kb3d9LGlzSW5saW5lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpfSwKc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvcjt0aGlzLmF0dGFjaExpc3RlbmVyKGEsImJlZm9yZUdldERhdGEiLGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5nZXREYXRhKCk7dGhpcy5pcygidGV4dGFyZWEiKXx8YS5jb25maWcuaWdub3JlRW1wdHlQYXJhZ3JhcGghPT1mYWxzZSYmKGI9Yi5yZXBsYWNlKGosZnVuY3Rpb24oYSxiKXtyZXR1cm4gYn0pKTthLnNldERhdGEoYixudWxsLDEpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsImdldFNuYXBzaG90IixmdW5jdGlvbihhKXthLmRhdGE9dGhpcy5nZXREYXRhKDEpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsImFmdGVyU2V0RGF0YSIsZnVuY3Rpb24oKXt0aGlzLnNldERhdGEoYS5nZXREYXRhKDEpKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLCJsb2FkU25hcHNob3QiLGZ1bmN0aW9uKGEpe3RoaXMuc2V0RGF0YShhLmRhdGEsMSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSwiYmVmb3JlRm9jdXMiLApmdW5jdGlvbigpe3ZhciBiPWEuZ2V0U2VsZWN0aW9uKCk7KGI9YiYmYi5nZXROYXRpdmUoKSkmJmIudHlwZT09IkNvbnRyb2wifHx0aGlzLmZvY3VzKCl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSwiaW5zZXJ0SHRtbCIsZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRIdG1sKGEuZGF0YS5kYXRhVmFsdWUsYS5kYXRhLm1vZGUpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsImluc2VydEVsZW1lbnQiLGZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0RWxlbWVudChhLmRhdGEpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsImluc2VydFRleHQiLGZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0VGV4dChhLmRhdGEpfSx0aGlzKTt0aGlzLnNldFJlYWRPbmx5KGEucmVhZE9ubHkpO3RoaXMuYXR0YWNoQ2xhc3MoImNrZV9lZGl0YWJsZSIpO3RoaXMuYXR0YWNoQ2xhc3MoYS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT8iY2tlX2VkaXRhYmxlX2lubGluZSI6CmEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFfHxhLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8\/ImNrZV9lZGl0YWJsZV90aGVtZWQiOiIiKTt0aGlzLmF0dGFjaENsYXNzKCJja2VfY29udGVudHNfIithLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24pO2Eua2V5c3Ryb2tlSGFuZGxlci5ibG9ja2VkS2V5c3Ryb2tlc1s4XT0rYS5yZWFkT25seTthLmtleXN0cm9rZUhhbmRsZXIuYXR0YWNoKHRoaXMpO3RoaXMub24oImJsdXIiLGZ1bmN0aW9uKGEpe0NLRURJVE9SLmVudi5vcGVyYSYmQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCkuZXF1YWxzKHRoaXMuaXNJbmxpbmUoKT90aGlzOnRoaXMuZ2V0V2luZG93KCkuZ2V0RnJhbWUoKSk\/YS5jYW5jZWwoKTp0aGlzLmhhc0ZvY3VzPWZhbHNlfSxudWxsLG51bGwsLTEpO3RoaXMub24oImZvY3VzIixmdW5jdGlvbigpe3RoaXMuaGFzRm9jdXM9dHJ1ZX0sbnVsbCxudWxsLAotMSk7YS5mb2N1c01hbmFnZXIuYWRkKHRoaXMpO2lmKHRoaXMuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpKSl7dGhpcy5oYXNGb2N1cz10cnVlO2Eub25jZSgiY29udGVudERvbSIsZnVuY3Rpb24oKXthLmZvY3VzTWFuYWdlci5mb2N1cygpfSl9dGhpcy5pc0lubGluZSgpJiZ0aGlzLmNoYW5nZUF0dHIoInRhYmluZGV4IixhLnRhYkluZGV4KTtpZighdGhpcy5pcygidGV4dGFyZWEiKSl7YS5kb2N1bWVudD10aGlzLmdldERvY3VtZW50KCk7YS53aW5kb3c9dGhpcy5nZXRXaW5kb3coKTt2YXIgZT1hLmRvY3VtZW50O3RoaXMuY2hhbmdlQXR0cigic3BlbGxjaGVjayIsIWEuY29uZmlnLmRpc2FibGVOYXRpdmVTcGVsbENoZWNrZXIpO3ZhciBkPWEuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbjt0aGlzLmdldERpcmVjdGlvbigxKSE9ZCYmdGhpcy5jaGFuZ2VBdHRyKCJkaXIiLGQpO3ZhciBtPUNLRURJVE9SLmdldENzcygpO2lmKG0pe2Q9ZS5nZXRIZWFkKCk7CmlmKCFkLmdldEN1c3RvbURhdGEoInN0eWxlc2hlZXQiKSl7bT1lLmFwcGVuZFN0eWxlVGV4dChtKTttPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChtLm93bmVyTm9kZXx8bS5vd25pbmdFbGVtZW50KTtkLnNldEN1c3RvbURhdGEoInN0eWxlc2hlZXQiLG0pO20uZGF0YSgiY2tlLXRlbXAiLDEpfX1kPWUuZ2V0Q3VzdG9tRGF0YSgic3R5bGVzaGVldF9yZWYiKXx8MDtlLnNldEN1c3RvbURhdGEoInN0eWxlc2hlZXRfcmVmIixkKzEpO3RoaXMuc2V0Q3VzdG9tRGF0YSgiY2tlX2luY2x1ZGVSZWFkb25seSIsIWEuY29uZmlnLmRpc2FibGVSZWFkb25seVN0eWxpbmcpO3RoaXMuYXR0YWNoTGlzdGVuZXIodGhpcywiY2xpY2siLGZ1bmN0aW9uKGEpe3ZhciBhPWEuZGF0YSxiPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGEuZ2V0VGFyZ2V0KCksdGhpcykpLmNvbnRhaW5zKCJhIik7YiYmKGEuJC5idXR0b24hPTImJmIuaXNSZWFkT25seSgpKSYmYS5wcmV2ZW50RGVmYXVsdCgpfSk7CnZhciBrPXs4OjEsNDY6MX07dGhpcy5hdHRhY2hMaXN0ZW5lcihhLCJrZXkiLGZ1bmN0aW9uKGIpe2lmKGEucmVhZE9ubHkpcmV0dXJuIHRydWU7dmFyIGM9Yi5kYXRhLmtleUNvZGUsZTtpZihjIGluIGspe3ZhciBiPWEuZ2V0U2VsZWN0aW9uKCksZCxtPWIuZ2V0UmFuZ2VzKClbMF0sZz1tLnN0YXJ0UGF0aCgpLGksaixuLGM9Yz09ODtpZihDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi52ZXJzaW9uPDExJiYoZD1iLmdldFNlbGVjdGVkRWxlbWVudCgpKXx8KGQ9aChiKSkpe2EuZmlyZSgic2F2ZVNuYXBzaG90Iik7bS5tb3ZlVG9Qb3NpdGlvbihkLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7ZC5yZW1vdmUoKTttLnNlbGVjdCgpO2EuZmlyZSgic2F2ZVNuYXBzaG90Iik7ZT0xfWVsc2UgaWYobS5jb2xsYXBzZWQpaWYoKGk9Zy5ibG9jaykmJihuPWlbYz8iZ2V0UHJldmlvdXMiOiJnZXROZXh0Il0obykpJiZuLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmbi5pcygidGFibGUiKSYmCm1bYz8iY2hlY2tTdGFydE9mQmxvY2siOiJjaGVja0VuZE9mQmxvY2siXSgpKXthLmZpcmUoInNhdmVTbmFwc2hvdCIpO21bYz8iY2hlY2tFbmRPZkJsb2NrIjoiY2hlY2tTdGFydE9mQmxvY2siXSgpJiZpLnJlbW92ZSgpO21bIm1vdmVUb0VsZW1lbnRFZGl0IisoYz8iRW5kIjoiU3RhcnQiKV0obik7bS5zZWxlY3QoKTthLmZpcmUoInNhdmVTbmFwc2hvdCIpO2U9MX1lbHNlIGlmKGcuYmxvY2tMaW1pdCYmZy5ibG9ja0xpbWl0LmlzKCJ0ZCIpJiYoaj1nLmJsb2NrTGltaXQuZ2V0QXNjZW5kYW50KCJ0YWJsZSIpKSYmbS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGosYz9DS0VESVRPUi5TVEFSVDpDS0VESVRPUi5FTkQpJiYobj1qW2M\/ImdldFByZXZpb3VzIjoiZ2V0TmV4dCJdKG8pKSl7YS5maXJlKCJzYXZlU25hcHNob3QiKTttWyJtb3ZlVG9FbGVtZW50RWRpdCIrKGM\/IkVuZCI6IlN0YXJ0IildKG4pO20uY2hlY2tTdGFydE9mQmxvY2soKSYmbS5jaGVja0VuZE9mQmxvY2soKT9uLnJlbW92ZSgpOgptLnNlbGVjdCgpO2EuZmlyZSgic2F2ZVNuYXBzaG90Iik7ZT0xfWVsc2UgaWYoKGo9Zy5jb250YWlucyhbInRkIiwidGgiLCJjYXB0aW9uIl0pKSYmbS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGosYz9DS0VESVRPUi5TVEFSVDpDS0VESVRPUi5FTkQpKWU9MX1yZXR1cm4hZX0pO2EuYmxvY2tsZXNzJiYoQ0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcikmJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcywia2V5dXAiLGZ1bmN0aW9uKGIpe2lmKGIuZGF0YS5nZXRLZXlzdHJva2UoKWluIGsmJiF0aGlzLmdldEZpcnN0KGMpKXt0aGlzLmFwcGVuZEJvZ3VzKCk7Yj1hLmNyZWF0ZVJhbmdlKCk7Yi5tb3ZlVG9Qb3NpdGlvbih0aGlzLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtiLnNlbGVjdCgpfX0pO3RoaXMuYXR0YWNoTGlzdGVuZXIodGhpcywiZGJsY2xpY2siLGZ1bmN0aW9uKGIpe2lmKGEucmVhZE9ubHkpcmV0dXJuIGZhbHNlO2I9e2VsZW1lbnQ6Yi5kYXRhLmdldFRhcmdldCgpfTsKYS5maXJlKCJkb3VibGVjbGljayIsYil9KTtDS0VESVRPUi5lbnYuaWUmJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcywiY2xpY2siLGIpOyFDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYub3BlcmEmJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcywibW91c2Vkb3duIixmdW5jdGlvbihiKXt2YXIgYz1iLmRhdGEuZ2V0VGFyZ2V0KCk7aWYoYy5pcygiaW1nIiwiaHIiLCJpbnB1dCIsInRleHRhcmVhIiwic2VsZWN0Iikpe2EuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0RWxlbWVudChjKTtjLmlzKCJpbnB1dCIsInRleHRhcmVhIiwic2VsZWN0IikmJmIuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfX0pO0NLRURJVE9SLmVudi5nZWNrbyYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLCJtb3VzZXVwIixmdW5jdGlvbihiKXtpZihiLmRhdGEuJC5idXR0b249PTIpe2I9Yi5kYXRhLmdldFRhcmdldCgpO2lmKCFiLmdldE91dGVySHRtbCgpLnJlcGxhY2UoaiwiIikpe3ZhciBjPWEuY3JlYXRlUmFuZ2UoKTsKYy5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGIpO2Muc2VsZWN0KHRydWUpfX19KTtpZihDS0VESVRPUi5lbnYud2Via2l0KXt0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsImNsaWNrIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0VGFyZ2V0KCkuaXMoImlucHV0Iiwic2VsZWN0IikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSk7dGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLCJtb3VzZXVwIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0VGFyZ2V0KCkuaXMoImlucHV0IiwidGV4dGFyZWEiKSYmYS5kYXRhLnByZXZlbnREZWZhdWx0KCl9KX19fX0sXzp7ZGV0YWNoOmZ1bmN0aW9uKCl7dGhpcy5lZGl0b3Iuc2V0RGF0YSh0aGlzLmVkaXRvci5nZXREYXRhKCksMCwxKTt0aGlzLmNsZWFyTGlzdGVuZXJzKCk7dGhpcy5yZXN0b3JlQXR0cnMoKTt2YXIgYTtpZihhPXRoaXMucmVtb3ZlQ3VzdG9tRGF0YSgiY2xhc3NlcyIpKWZvcig7YS5sZW5ndGg7KXRoaXMucmVtb3ZlQ2xhc3MoYS5wb3AoKSk7YT10aGlzLmdldERvY3VtZW50KCk7CnZhciBiPWEuZ2V0SGVhZCgpO2lmKGIuZ2V0Q3VzdG9tRGF0YSgic3R5bGVzaGVldCIpKXt2YXIgYz1hLmdldEN1c3RvbURhdGEoInN0eWxlc2hlZXRfcmVmIik7aWYoLS1jKWEuc2V0Q3VzdG9tRGF0YSgic3R5bGVzaGVldF9yZWYiLGMpO2Vsc2V7YS5yZW1vdmVDdXN0b21EYXRhKCJzdHlsZXNoZWV0X3JlZiIpO2IucmVtb3ZlQ3VzdG9tRGF0YSgic3R5bGVzaGVldCIpLnJlbW92ZSgpfX1kZWxldGUgdGhpcy5lZGl0b3J9fX0pO0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZWRpdGFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLmVkaXRhYmxlO2lmKGImJmEpcmV0dXJuIDA7aWYoYXJndW1lbnRzLmxlbmd0aCliPXRoaXMuXy5lZGl0YWJsZT1hP2EgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0YWJsZT9hOm5ldyBDS0VESVRPUi5lZGl0YWJsZSh0aGlzLGEpOihiJiZiLmRldGFjaCgpLG51bGwpO3JldHVybiBifTt2YXIgaT1DS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzKCksaj0vKF58PGJvZHlcYltePl0qPilccyo8KHB8ZGl2fGFkZHJlc3N8aFxkfGNlbnRlcnxwcmUpW14+XSo+XHMqKD86PGJyW14+XSo+fCZuYnNwO3xcdTAwQTB8JiMxNjA7KT9ccyooOj88XC9cMj4pP1xzKig\/PSR8PFwvYm9keT4pL2dpLApvPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXModHJ1ZSkscT1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKGZhbHNlLHRydWUpO0NLRURJVE9SLm9uKCJpbnN0YW5jZUxvYWRlZCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5lZGl0b3I7Yy5vbigiaW5zZXJ0RWxlbWVudCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihhLmlzKCJpbnB1dCIpfHxhLmlzKCJ0ZXh0YXJlYSIpKSl7YS5nZXRBdHRyaWJ1dGUoImNvbnRlbnRFZGl0YWJsZSIpIT0iZmFsc2UiJiZhLmRhdGEoImNrZS1lZGl0YWJsZSIsYS5oYXNBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpPyJ0cnVlIjoiMSIpO2Euc2V0QXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiLGZhbHNlKX19KTtjLm9uKCJzZWxlY3Rpb25DaGFuZ2UiLGZ1bmN0aW9uKGIpe2lmKCFjLnJlYWRPbmx5KXt2YXIgZT1jLmdldFNlbGVjdGlvbigpO2lmKGUmJiFlLmlzTG9ja2VkKXtlPWMuY2hlY2tEaXJ0eSgpOwpjLmZpcmUoImxvY2tTbmFwc2hvdCIpO2EoYik7Yy5maXJlKCJ1bmxvY2tTbmFwc2hvdCIpOyFlJiZjLnJlc2V0RGlydHkoKX19fSl9KTtDS0VESVRPUi5vbigiaW5zdGFuY2VDcmVhdGVkIixmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRvcjtiLm9uKCJtb2RlIixmdW5jdGlvbigpe3ZhciBhPWIuZWRpdGFibGUoKTtpZihhJiZhLmlzSW5saW5lKCkpe3ZhciBjPWIudGl0bGU7YS5jaGFuZ2VBdHRyKCJyb2xlIiwidGV4dGJveCIpO2EuY2hhbmdlQXR0cigiYXJpYS1sYWJlbCIsYyk7YyYmYS5jaGFuZ2VBdHRyKCJ0aXRsZSIsYyk7aWYoYz10aGlzLnVpLnNwYWNlKHRoaXMuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU\/InRvcCI6ImNvbnRlbnRzIikpe3ZhciBlPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpLGQ9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJzxzcGFuIGlkPSInK2UrJyIgY2xhc3M9ImNrZV92b2ljZV9sYWJlbCI+Jyt0aGlzLmxhbmcuY29tbW9uLmVkaXRvckhlbHArCiI8L3NwYW4+Iik7Yy5hcHBlbmQoZCk7YS5jaGFuZ2VBdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixlKX19fSl9KTtDS0VESVRPUi5hZGRDc3MoIi5ja2VfZWRpdGFibGV7Y3Vyc29yOnRleHR9LmNrZV9lZGl0YWJsZSBpbWcsLmNrZV9lZGl0YWJsZSBpbnB1dCwuY2tlX2VkaXRhYmxlIHRleHRhcmVhe2N1cnNvcjpkZWZhdWx0fSIpO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4gYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR9ZnVuY3Rpb24gYihjLGUpe3ZhciBkLGssbSxsLGg9W10saT1lLnJhbmdlLnN0YXJ0Q29udGFpbmVyO2Q9ZS5yYW5nZS5zdGFydFBhdGgoKTtmb3IodmFyIGk9Z1tpLmdldE5hbWUoKV0scj0wLGo9Yy5nZXRDaGlsZHJlbigpLG49ai5jb3VudCgpLG89LTEscT0tMSx4PTAscz1kLmNvbnRhaW5zKGcuJGxpc3QpO3I8bjsrK3Ipe2Q9ai5nZXRJdGVtKHIpO2lmKGEoZCkpe209ZC5nZXROYW1lKCk7aWYocyYmbSBpbiBDS0VESVRPUi5kdGQuJGxpc3QpaD0KaC5jb25jYXQoYihkLGUpKTtlbHNle2w9ISFpW21dO2lmKG09PSJiciImJmQuZGF0YSgiY2tlLWVvbCIpJiYoIXJ8fHI9PW4tMSkpe3g9KGs9cj9oW3ItMV0ubm9kZTpqLmdldEl0ZW0ocisxKSkmJighYShrKXx8IWsuaXMoImJyIikpO2s9ayYmYShrKSYmZy4kYmxvY2tbay5nZXROYW1lKCldfW89PS0xJiYhbCYmKG89cik7bHx8KHE9cik7aC5wdXNoKHtpc0VsZW1lbnQ6MSxpc0xpbmVCcmVhazp4LGlzQmxvY2s6ZC5pc0Jsb2NrQm91bmRhcnkoKSxoYXNCbG9ja1NpYmxpbmc6ayxub2RlOmQsbmFtZTptLGFsbG93ZWQ6bH0pO2s9eD0wfX1lbHNlIGgucHVzaCh7aXNFbGVtZW50OjAsbm9kZTpkLGFsbG93ZWQ6MX0pfWlmKG8+LTEpaFtvXS5maXJzdE5vdEFsbG93ZWQ9MTtpZihxPi0xKWhbcV0ubGFzdE5vdEFsbG93ZWQ9MTtyZXR1cm4gaH1mdW5jdGlvbiBlKGIsYyl7dmFyIGQ9W10saz1iLmdldENoaWxkcmVuKCksbT1rLmNvdW50KCksbCxoPTAscj1nW2NdLGk9IWIuaXMoZy4kaW5saW5lKXx8CmIuaXMoImJyIik7Zm9yKGkmJmQucHVzaCgiICIpO2g8bTtoKyspe2w9ay5nZXRJdGVtKGgpO2EobCkmJiFsLmlzKHIpP2Q9ZC5jb25jYXQoZShsLGMpKTpkLnB1c2gobCl9aSYmZC5wdXNoKCIgIik7cmV0dXJuIGR9ZnVuY3Rpb24gZChiKXtyZXR1cm4gYiYmYShiKSYmKGIuaXMoZy4kcmVtb3ZlRW1wdHkpfHxiLmlzKCJhIikmJiFiLmlzQmxvY2tCb3VuZGFyeSgpKX1mdW5jdGlvbiBrKGIsYyxlLGQpe3ZhciBsPWIuY2xvbmUoKSxtLGc7bC5zZXRFbmRBdChjLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2lmKChtPShuZXcgQ0tFRElUT1IuZG9tLndhbGtlcihsKSkubmV4dCgpKSYmYShtKSYmaFttLmdldE5hbWUoKV0mJihnPW0uZ2V0UHJldmlvdXMoKSkmJmEoZykmJiFnLmdldFBhcmVudCgpLmVxdWFscyhiLnN0YXJ0Q29udGFpbmVyKSYmZS5jb250YWlucyhnKSYmZC5jb250YWlucyhtKSYmbS5pc0lkZW50aWNhbChnKSl7bS5tb3ZlQ2hpbGRyZW4oZyk7bS5yZW1vdmUoKTsKayhiLGMsZSxkKX19ZnVuY3Rpb24gbChiLGMpe2Z1bmN0aW9uIGUoYixjKXtpZihjLmlzQmxvY2smJmMuaXNFbGVtZW50JiYhYy5ub2RlLmlzKCJiciIpJiZhKGIpJiZiLmlzKCJiciIpKXtiLnJlbW92ZSgpO3JldHVybiAxfX12YXIgZD1jLmVuZENvbnRhaW5lci5nZXRDaGlsZChjLmVuZE9mZnNldCksaz1jLmVuZENvbnRhaW5lci5nZXRDaGlsZChjLmVuZE9mZnNldC0xKTtkJiZlKGQsYltiLmxlbmd0aC0xXSk7aWYoayYmZShrLGJbMF0pKXtjLnNldEVuZChjLmVuZENvbnRhaW5lcixjLmVuZE9mZnNldC0xKTtjLmNvbGxhcHNlKCl9fXZhciBnPUNLRURJVE9SLmR0ZCxoPXtwOjEsZGl2OjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEsdWw6MSxvbDoxLGxpOjEscHJlOjEsZGw6MSxibG9ja3F1b3RlOjF9LHI9e3A6MSxkaXY6MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MX0saT1DS0VESVRPUi50b29scy5leHRlbmQoe30sZy4kaW5saW5lKTtkZWxldGUgaS5icjtyZXR1cm4gZnVuY3Rpb24oaCwKaixvKXt2YXIgcT1oLmVkaXRvcjtoLmdldERvY3VtZW50KCk7dmFyIHg9cS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSxzPWZhbHNlO2lmKGo9PSJ1bmZpbHRlcmVkX2h0bWwiKXtqPSJodG1sIjtzPXRydWV9aWYoIXguY2hlY2tSZWFkT25seSgpKXt2YXIgdj0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh4LnN0YXJ0Q29udGFpbmVyLHgucm9vdCkpLmJsb2NrTGltaXR8fHgucm9vdCxqPXt0eXBlOmosZG9udEZpbHRlcjpzLGVkaXRhYmxlOmgsZWRpdG9yOnEscmFuZ2U6eCxibG9ja0xpbWl0OnYsbWVyZ2VDYW5kaWRhdGVzOltdLHpvbWJpZXM6W119LHE9ai5yYW5nZSxzPWoubWVyZ2VDYW5kaWRhdGVzLHcsSCxDLEQ7aWYoai50eXBlPT0idGV4dCImJnEuc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5ULHRydWUsZmFsc2UpKXt3PUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCI8c3Bhbj4mbmJzcDs8L3NwYW4+IixxLmRvY3VtZW50KTtxLmluc2VydE5vZGUodyk7CnEuc2V0U3RhcnRBZnRlcih3KX1IPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgocS5zdGFydENvbnRhaW5lcik7ai5lbmRQYXRoPUM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChxLmVuZENvbnRhaW5lcik7aWYoIXEuY29sbGFwc2VkKXt2YXIgdj1DLmJsb2NrfHxDLmJsb2NrTGltaXQsWD1xLmdldENvbW1vbkFuY2VzdG9yKCk7diYmKCF2LmVxdWFscyhYKSYmIXYuY29udGFpbnMoWCkmJnEuY2hlY2tFbmRPZkJsb2NrKCkpJiZqLnpvbWJpZXMucHVzaCh2KTtxLmRlbGV0ZUNvbnRlbnRzKCl9Zm9yKDsoRD1hKHEuc3RhcnRDb250YWluZXIpJiZxLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKHEuc3RhcnRPZmZzZXQtMSkpJiZhKEQpJiZELmlzQmxvY2tCb3VuZGFyeSgpJiZILmNvbnRhaW5zKEQpOylxLm1vdmVUb1Bvc2l0aW9uKEQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7ayhxLGouYmxvY2tMaW1pdCxILEMpO2lmKHcpe3Euc2V0RW5kQmVmb3JlKHcpO3EuY29sbGFwc2UoKTsKdy5yZW1vdmUoKX13PXEuc3RhcnRQYXRoKCk7aWYodj13LmNvbnRhaW5zKGQsZmFsc2UsMSkpe3Euc3BsaXRFbGVtZW50KHYpO2ouaW5saW5lU3R5bGVzUm9vdD12O2ouaW5saW5lU3R5bGVzUGVhaz13Lmxhc3RFbGVtZW50fXc9cS5jcmVhdGVCb29rbWFyaygpOyh2PXcuc3RhcnROb2RlLmdldFByZXZpb3VzKGMpKSYmYSh2KSYmZCh2KSYmcy5wdXNoKHYpOyh2PXcuc3RhcnROb2RlLmdldE5leHQoYykpJiZhKHYpJiZkKHYpJiZzLnB1c2godik7Zm9yKHY9dy5zdGFydE5vZGU7KHY9di5nZXRQYXJlbnQoKSkmJmQodik7KXMucHVzaCh2KTtxLm1vdmVUb0Jvb2ttYXJrKHcpO2lmKHc9byl7dz1qLnJhbmdlO2lmKGoudHlwZT09InRleHQiJiZqLmlubGluZVN0eWxlc1Jvb3Qpe0Q9ai5pbmxpbmVTdHlsZXNQZWFrO3E9RC5nZXREb2N1bWVudCgpLmNyZWF0ZVRleHQoIntja2UtcGVha30iKTtmb3Iocz1qLmlubGluZVN0eWxlc1Jvb3QuZ2V0UGFyZW50KCk7IUQuZXF1YWxzKHMpOyl7cT1xLmFwcGVuZFRvKEQuY2xvbmUoKSk7CkQ9RC5nZXRQYXJlbnQoKX1vPXEuZ2V0T3V0ZXJIdG1sKCkuc3BsaXQoIntja2UtcGVha30iKS5qb2luKG8pfUQ9ai5ibG9ja0xpbWl0LmdldE5hbWUoKTtpZigvXlxzK3xccyskLy50ZXN0KG8pJiYic3BhbiJpbiBDS0VESVRPUi5kdGRbRF0pdmFyIHU9JzxzcGFuIGRhdGEtY2tlLW1hcmtlcj0iMSI+Jm5ic3A7PC9zcGFuPicsbz11K28rdTtvPWouZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9IdG1sKG8se2NvbnRleHQ6bnVsbCxmaXhGb3JCb2R5OmZhbHNlLGRvbnRGaWx0ZXI6ai5kb250RmlsdGVyLGZpbHRlcjpqLmVkaXRvci5hY3RpdmVGaWx0ZXIsZW50ZXJNb2RlOmouZWRpdG9yLmFjdGl2ZUVudGVyTW9kZX0pO0Q9dy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJib2R5Iik7RC5zZXRIdG1sKG8pO2lmKHUpe0QuZ2V0Rmlyc3QoKS5yZW1vdmUoKTtELmdldExhc3QoKS5yZW1vdmUoKX1pZigodT13LnN0YXJ0UGF0aCgpLmJsb2NrKSYmISh1LmdldENoaWxkQ291bnQoKT09MSYmdS5nZXRCb2d1cygpKSlhOnt2YXIgRjsKaWYoRC5nZXRDaGlsZENvdW50KCk9PTEmJmEoRj1ELmdldEZpcnN0KCkpJiZGLmlzKHIpKXt1PUYuZ2V0RWxlbWVudHNCeVRhZygiKiIpO3c9MDtmb3Iocz11LmNvdW50KCk7dzxzO3crKyl7cT11LmdldEl0ZW0odyk7aWYoIXEuaXMoaSkpYnJlYWsgYX1GLm1vdmVDaGlsZHJlbihGLmdldFBhcmVudCgxKSk7Ri5yZW1vdmUoKX19ai5kYXRhV3JhcHBlcj1EO3c9b31pZih3KXtGPWoucmFuZ2U7dmFyIHU9Ri5kb2N1bWVudCxCLG89ai5ibG9ja0xpbWl0O3c9MDt2YXIgSjtEPVtdO3ZhciBHLE8scz1xPTAsSyxSO0g9Ri5zdGFydENvbnRhaW5lcjt2YXIgdj1qLmVuZFBhdGguZWxlbWVudHNbMF0sUztDPXYuZ2V0UG9zaXRpb24oSCk7WD0hIXYuZ2V0Q29tbW9uQW5jZXN0b3IoSCkmJkMhPUNLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTCYmIShDJkNLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCk7SD1iKGouZGF0YVdyYXBwZXIsaik7CmZvcihsKEgsRik7dzxILmxlbmd0aDt3Kyspe0M9SFt3XTtpZihCPUMuaXNMaW5lQnJlYWspe0I9RjtLPW87dmFyIE49dm9pZCAwLFU9dm9pZCAwO2lmKEMuaGFzQmxvY2tTaWJsaW5nKUI9MTtlbHNle049Qi5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoZy4kYmxvY2ssMSk7aWYoIU58fCFOLmlzKHtkaXY6MSxwOjF9KSlCPTA7ZWxzZXtVPU4uZ2V0UG9zaXRpb24oSyk7aWYoVT09Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMfHxVPT1DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUylCPTA7ZWxzZXtLPUIuc3BsaXRFbGVtZW50KE4pO0IubW92ZVRvUG9zaXRpb24oSyxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7Qj0xfX19fWlmKEIpcz13PjA7ZWxzZXtCPUYuc3RhcnRQYXRoKCk7aWYoIUMuaXNCbG9jayYmai5lZGl0b3IuY29uZmlnLmF1dG9QYXJhZ3JhcGghPT1mYWxzZSYmKGouZWRpdG9yLmFjdGl2ZUVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJmouZWRpdG9yLmVkaXRhYmxlKCkuZXF1YWxzKEIuYmxvY2tMaW1pdCkmJgohQi5ibG9jaykmJihPPWouZWRpdG9yLmFjdGl2ZUVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJmouZWRpdG9yLmNvbmZpZy5hdXRvUGFyYWdyYXBoIT09ZmFsc2U\/ai5lZGl0b3IuYWN0aXZlRW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9ESVY\/ImRpdiI6InAiOmZhbHNlKSl7Tz11LmNyZWF0ZUVsZW1lbnQoTyk7Ty5hcHBlbmRCb2d1cygpO0YuaW5zZXJ0Tm9kZShPKTtDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmKEo9Ty5nZXRCb2d1cygpKSYmSi5yZW1vdmUoKTtGLm1vdmVUb1Bvc2l0aW9uKE8sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCl9aWYoKEI9Ri5zdGFydFBhdGgoKS5ibG9jaykmJiFCLmVxdWFscyhHKSl7aWYoSj1CLmdldEJvZ3VzKCkpe0oucmVtb3ZlKCk7RC5wdXNoKEIpfUc9Qn1DLmZpcnN0Tm90QWxsb3dlZCYmKHE9MSk7aWYocSYmQy5pc0VsZW1lbnQpe0I9Ri5zdGFydENvbnRhaW5lcjtmb3IoSz1udWxsO0ImJiFnW0IuZ2V0TmFtZSgpXVtDLm5hbWVdOyl7aWYoQi5lcXVhbHMobykpe0I9Cm51bGw7YnJlYWt9Sz1CO0I9Qi5nZXRQYXJlbnQoKX1pZihCKXtpZihLKXtSPUYuc3BsaXRFbGVtZW50KEspO2ouem9tYmllcy5wdXNoKFIpO2ouem9tYmllcy5wdXNoKEspfX1lbHNle0s9by5nZXROYW1lKCk7Uz0hdztCPXc9PUgubGVuZ3RoLTE7Sz1lKEMubm9kZSxLKTtmb3IodmFyIE49W10sVT1LLmxlbmd0aCxZPTAsJD12b2lkIDAsYWE9MCxiYT0tMTtZPFU7WSsrKXskPUtbWV07aWYoJD09IiAiKXtpZighYWEmJighU3x8WSkpe04ucHVzaChuZXcgQ0tFRElUT1IuZG9tLnRleHQoIiAiKSk7YmE9Ti5sZW5ndGh9YWE9MX1lbHNle04ucHVzaCgkKTthYT0wfX1CJiZiYT09Ti5sZW5ndGgmJk4ucG9wKCk7Uz1OfX1pZihTKXtmb3IoO0I9Uy5wb3AoKTspRi5pbnNlcnROb2RlKEIpO1M9MH1lbHNlIEYuaW5zZXJ0Tm9kZShDLm5vZGUpO2lmKEMubGFzdE5vdEFsbG93ZWQmJnc8SC5sZW5ndGgtMSl7KFI9WD92OlIpJiZGLnNldEVuZEF0KFIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpOwpxPTB9Ri5jb2xsYXBzZSgpfX1qLmRvbnRNb3ZlQ2FyZXQ9cztqLmJvZ3VzTmVlZGVkQmxvY2tzPUR9Sj1qLnJhbmdlO3ZhciBWO1I9ai5ib2d1c05lZWRlZEJsb2Nrcztmb3IoUz1KLmNyZWF0ZUJvb2ttYXJrKCk7Rz1qLnpvbWJpZXMucG9wKCk7KWlmKEcuZ2V0UGFyZW50KCkpe089Si5jbG9uZSgpO08ubW92ZVRvRWxlbWVudEVkaXRTdGFydChHKTtPLnJlbW92ZUVtcHR5QmxvY2tzQXRFbmQoKX1pZihSKWZvcig7Rz1SLnBvcCgpOylDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9HLmFwcGVuZEJvZ3VzKCk6Ry5hcHBlbmQoSi5kb2N1bWVudC5jcmVhdGVUZXh0KCLCoCIpKTtmb3IoO0c9ai5tZXJnZUNhbmRpZGF0ZXMucG9wKCk7KUcubWVyZ2VTaWJsaW5ncygpO0oubW92ZVRvQm9va21hcmsoUyk7aWYoIWouZG9udE1vdmVDYXJldCl7Zm9yKEc9YShKLnN0YXJ0Q29udGFpbmVyKSYmSi5zdGFydENvbnRhaW5lci5nZXRDaGlsZChKLnN0YXJ0T2Zmc2V0LTEpO0cmJmEoRykmJiFHLmlzKGcuJGVtcHR5KTspe2lmKEcuaXNCbG9ja0JvdW5kYXJ5KCkpSi5tb3ZlVG9Qb3NpdGlvbihHLApDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtlbHNle2lmKGQoRykmJkcuZ2V0SHRtbCgpLm1hdGNoKC8oXHN8Jm5ic3A7KSQvZykpe1Y9bnVsbDticmVha31WPUouY2xvbmUoKTtWLm1vdmVUb1Bvc2l0aW9uKEcsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCl9Rz1HLmdldExhc3QoYyl9ViYmSi5tb3ZlVG9SYW5nZShWKX14LnNlbGVjdCgpO24oaCl9fX0oKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtiPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGIpO2IuZ3VhcmQ9ZnVuY3Rpb24oYSxiKXtpZihiKXJldHVybiBmYWxzZTtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gYS5pcyhDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudCl9O2IuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVH07cmV0dXJuIGJ9ZnVuY3Rpb24gYihhLGMsZSl7Yz1hLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChjKTsKYS5hcHBlbmQoYyxlKTtyZXR1cm4gY31mdW5jdGlvbiBjKGEpe3ZhciBiPWEuY291bnQoKSxlO2ZvcihiO2ItLSA+MDspe2U9YS5nZXRJdGVtKGIpO2lmKCFDS0VESVRPUi50b29scy50cmltKGUuZ2V0SHRtbCgpKSl7ZS5hcHBlbmRCb2d1cygpO0NLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi52ZXJzaW9uPDkmJmUuZ2V0Q2hpbGRDb3VudCgpKSYmZS5nZXRGaXJzdCgpLnJlbW92ZSgpfX19cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBkPWUuc3RhcnRDb250YWluZXIsbD1kLmdldEFzY2VuZGFudCgidGFibGUiLDEpLGc9ZmFsc2U7YyhsLmdldEVsZW1lbnRzQnlUYWcoInRkIikpO2MobC5nZXRFbGVtZW50c0J5VGFnKCJ0aCIpKTtsPWUuY2xvbmUoKTtsLnNldFN0YXJ0KGQsMCk7bD1hKGwpLmxhc3RCYWNrd2FyZCgpO2lmKCFsKXtsPWUuY2xvbmUoKTtsLnNldEVuZEF0KGQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7bD1hKGwpLmxhc3RGb3J3YXJkKCk7Zz10cnVlfWx8fAoobD1kKTtpZihsLmlzKCJ0YWJsZSIpKXtlLnNldFN0YXJ0QXQobCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2UuY29sbGFwc2UodHJ1ZSk7bC5yZW1vdmUoKX1lbHNle2wuaXMoe3Rib2R5OjEsdGhlYWQ6MSx0Zm9vdDoxfSkmJihsPWIobCwidHIiLGcpKTtsLmlzKCJ0ciIpJiYobD1iKGwsbC5nZXRQYXJlbnQoKS5pcygidGhlYWQiKT8idGgiOiJ0ZCIsZykpOyhkPWwuZ2V0Qm9ndXMoKSkmJmQucmVtb3ZlKCk7ZS5tb3ZlVG9Qb3NpdGlvbihsLGc\/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCl9fX0oKX0pKCk7CihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt2YXIgYT10aGlzLl8uZmFrZVNlbGVjdGlvbixiO2lmKGEpe2I9dGhpcy5nZXRTZWxlY3Rpb24oMSk7aWYoIWJ8fCFiLmlzSGlkZGVuKCkpe2EucmVzZXQoKTthPTB9fWlmKCFhKXthPWJ8fHRoaXMuZ2V0U2VsZWN0aW9uKDEpO2lmKCFhfHxhLmdldFR5cGUoKT09Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUpcmV0dXJufXRoaXMuZmlyZSgic2VsZWN0aW9uQ2hlY2siLGEpO2I9dGhpcy5lbGVtZW50UGF0aCgpO2lmKCFiLmNvbXBhcmUodGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aCkpe2lmKENLRURJVE9SLmVudi53ZWJraXQpdGhpcy5fLnByZXZpb3VzQWN0aXZlPXRoaXMuZG9jdW1lbnQuZ2V0QWN0aXZlKCk7dGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aD1iO3RoaXMuZmlyZSgic2VsZWN0aW9uQ2hhbmdlIix7c2VsZWN0aW9uOmEscGF0aDpifSl9fWZ1bmN0aW9uIGUoKXtxPXRydWU7aWYoIW8pe2IuY2FsbCh0aGlzKTtvPUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYiwKMjAwLHRoaXMpfX1mdW5jdGlvbiBiKCl7bz1udWxsO2lmKHEpe0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYSwwLHRoaXMpO3E9ZmFsc2V9fWZ1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYihjLGUpe3JldHVybiFjfHxjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9mYWxzZTphLmNsb25lKClbIm1vdmVUb0VsZW1lbnRFZGl0IisoZT8iRW5kIjoiU3RhcnQiKV0oYyl9aWYoIShhLnJvb3QgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0YWJsZSkpcmV0dXJuIGZhbHNlO3ZhciBjPWEuc3RhcnRDb250YWluZXIsZT1hLmdldFByZXZpb3VzTm9kZShzLG51bGwsYyksZD1hLmdldE5leHROb2RlKHMsbnVsbCxjKTtyZXR1cm4gYihlKXx8YihkLDEpfHwhZSYmIWQmJiEoYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuaXNCbG9ja0JvdW5kYXJ5KCkmJmMuZ2V0Qm9ndXMoKSk\/dHJ1ZTpmYWxzZX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLmdldEN1c3RvbURhdGEoImNrZS1maWxsaW5nQ2hhciIpfQpmdW5jdGlvbiBoKGEsYil7dmFyIGM9YSYmYS5yZW1vdmVDdXN0b21EYXRhKCJja2UtZmlsbGluZ0NoYXIiKTtpZihjKXtpZihiIT09ZmFsc2Upe3ZhciBlLGQ9YS5nZXREb2N1bWVudCgpLmdldFNlbGVjdGlvbigpLmdldE5hdGl2ZSgpLGY9ZCYmZC50eXBlIT0iTm9uZSImJmQuZ2V0UmFuZ2VBdCgwKTtpZihjLmdldExlbmd0aCgpPjEmJmYmJmYuaW50ZXJzZWN0c05vZGUoYy4kKSl7ZT1bZC5hbmNob3JPZmZzZXQsZC5mb2N1c09mZnNldF07Zj1kLmZvY3VzTm9kZT09Yy4kJiZkLmZvY3VzT2Zmc2V0PjA7ZC5hbmNob3JOb2RlPT1jLiQmJmQuYW5jaG9yT2Zmc2V0PjAmJmVbMF0tLTtmJiZlWzFdLS07dmFyIGg7Zj1kO2lmKCFmLmlzQ29sbGFwc2VkKXtoPWYuZ2V0UmFuZ2VBdCgwKTtoLnNldFN0YXJ0KGYuYW5jaG9yTm9kZSxmLmFuY2hvck9mZnNldCk7aC5zZXRFbmQoZi5mb2N1c05vZGUsZi5mb2N1c09mZnNldCk7aD1oLmNvbGxhcHNlZH1oJiZlLnVuc2hpZnQoZS5wb3AoKSl9fWMuc2V0VGV4dChnKGMuZ2V0VGV4dCgpKSk7CmlmKGUpe2M9ZC5nZXRSYW5nZUF0KDApO2Muc2V0U3RhcnQoYy5zdGFydENvbnRhaW5lcixlWzBdKTtjLnNldEVuZChjLnN0YXJ0Q29udGFpbmVyLGVbMV0pO2QucmVtb3ZlQWxsUmFuZ2VzKCk7ZC5hZGRSYW5nZShjKX19fWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGEucmVwbGFjZSgvXHUyMDBCKCApPy9nLGZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPyLCoCI6IiJ9KX1mdW5jdGlvbiBuKGEsYixjKXt2YXIgZT1hLm9uKCJmb2N1cyIsZnVuY3Rpb24oYSl7YS5jYW5jZWwoKX0sbnVsbCxudWxsLC0xMDApO2lmKENLRURJVE9SLmVudi5pZSl2YXIgZD1hLmdldERvY3VtZW50KCkub24oInNlbGVjdGlvbmNoYW5nZSIsZnVuY3Rpb24oYSl7YS5jYW5jZWwoKX0sbnVsbCxudWxsLC0xMDApO2Vsc2V7dmFyIGY9bmV3IENLRURJVE9SLmRvbS5yYW5nZShhKTtmLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYSk7dmFyIGc9YS5nZXREb2N1bWVudCgpLiQuY3JlYXRlUmFuZ2UoKTtnLnNldFN0YXJ0KGYuc3RhcnRDb250YWluZXIuJCwKZi5zdGFydE9mZnNldCk7Zy5jb2xsYXBzZSgxKTtiLnJlbW92ZUFsbFJhbmdlcygpO2IuYWRkUmFuZ2UoZyl9YyYmYS5mb2N1cygpO2UucmVtb3ZlTGlzdGVuZXIoKTtkJiZkLnJlbW92ZUxpc3RlbmVyKCl9ZnVuY3Rpb24gaShhKXt2YXIgYj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnPGRpdiBkYXRhLWNrZS1oaWRkZW4tc2VsPSIxIiBkYXRhLWNrZS10ZW1wPSIxIiBzdHlsZT0iJysoQ0tFRElUT1IuZW52LmllPyJkaXNwbGF5Om5vbmUiOiJwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0Oi0xMDAwcHgiKSsnIj4mbmJzcDs8L2Rpdj4nLGEuZG9jdW1lbnQpO2EuZmlyZSgibG9ja1NuYXBzaG90Iik7YS5lZGl0YWJsZSgpLmFwcGVuZChiKTt2YXIgYz1hLmdldFNlbGVjdGlvbigpLGU9YS5jcmVhdGVSYW5nZSgpLGQ9Yy5yb290Lm9uKCJzZWxlY3Rpb25jaGFuZ2UiLGZ1bmN0aW9uKGEpe2EuY2FuY2VsKCl9LG51bGwsbnVsbCwwKTtlLnNldFN0YXJ0QXQoYixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7CmUuc2V0RW5kQXQoYixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtjLnNlbGVjdFJhbmdlcyhbZV0pO2QucmVtb3ZlTGlzdGVuZXIoKTthLmZpcmUoInVubG9ja1NuYXBzaG90Iik7YS5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcj1ifWZ1bmN0aW9uIGooYSl7dmFyIGI9ezM3OjEsMzk6MSw4OjEsNDY6MX07cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBlPWMuZGF0YS5nZXRLZXlzdHJva2UoKTtpZihiW2VdKXt2YXIgZD1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpLGY9ZFswXTtpZihkLmxlbmd0aD09MSYmZi5jb2xsYXBzZWQpaWYoKGU9ZltlPDM4PyJnZXRQcmV2aW91c0VkaXRhYmxlTm9kZSI6ImdldE5leHRFZGl0YWJsZU5vZGUiXSgpKSYmZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmUuZ2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKT09ImZhbHNlIil7YS5nZXRTZWxlY3Rpb24oKS5mYWtlKGUpO2MuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO2MuY2FuY2VsKCl9fX19CnZhciBvLHEscz1DS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSgxKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9YS5lZGl0b3IuY3JlYXRlUmFuZ2UoKTtjLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKGEuc2VsZWN0ZWQsYikmJmEuZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbY10pO3JldHVybiBmYWxzZX19ZnVuY3Rpb24gYihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5lZGl0b3IsZT1jLmNyZWF0ZVJhbmdlKCksZDtpZighKGQ9ZS5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihiLnNlbGVjdGVkLGEpKSlkPWUubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYi5zZWxlY3RlZCwhYSk7ZCYmYy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2VdKTtjLmZpcmUoInNhdmVTbmFwc2hvdCIpO2Iuc2VsZWN0ZWQucmVtb3ZlKCk7aWYoIWQpe2UubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oYy5lZGl0YWJsZSgpKTsKYy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2VdKX1jLmZpcmUoInNhdmVTbmFwc2hvdCIpO3JldHVybiBmYWxzZX19dmFyIGM9YSgpLGU9YSgxKTtyZXR1cm57Mzc6YywzODpjLDM5OmUsNDA6ZSw4OmIoKSw0NjpiKDEpfX0oKTtDS0VESVRPUi5vbigiaW5zdGFuY2VDcmVhdGVkIixmdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7dmFyIGE9ZC5nZXRTZWxlY3Rpb24oKTthJiZhLnJlbW92ZUFsbFJhbmdlcygpfXZhciBkPWIuZWRpdG9yO2Qub24oImNvbnRlbnREb20iLGZ1bmN0aW9uKCl7dmFyIGI9ZC5kb2N1bWVudCxjPUNLRURJVE9SLmRvY3VtZW50LGs9ZC5lZGl0YWJsZSgpLG09Yi5nZXRCb2R5KCksZz1iLmdldERvY3VtZW50RWxlbWVudCgpLGk9ay5pc0lubGluZSgpLG8sbjtDS0VESVRPUi5lbnYuZ2Vja28mJmsuYXR0YWNoTGlzdGVuZXIoaywiZm9jdXMiLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTtpZihvIT09MClpZigoYT1kLmdldFNlbGVjdGlvbigpLmdldE5hdGl2ZSgpKSYmCmEuaXNDb2xsYXBzZWQmJmEuYW5jaG9yTm9kZT09ay4kKXthPWQuY3JlYXRlUmFuZ2UoKTthLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoayk7YS5zZWxlY3QoKX19LG51bGwsbnVsbCwtMik7ay5hdHRhY2hMaXN0ZW5lcihrLENLRURJVE9SLmVudi53ZWJraXQ\/IkRPTUZvY3VzSW4iOiJmb2N1cyIsZnVuY3Rpb24oKXtvJiZDS0VESVRPUi5lbnYud2Via2l0JiYobz1kLl8ucHJldmlvdXNBY3RpdmUmJmQuXy5wcmV2aW91c0FjdGl2ZS5lcXVhbHMoYi5nZXRBY3RpdmUoKSkpO2QudW5sb2NrU2VsZWN0aW9uKG8pO289MH0sbnVsbCxudWxsLC0xKTtrLmF0dGFjaExpc3RlbmVyKGssIm1vdXNlZG93biIsZnVuY3Rpb24oKXtvPTB9KTtpZihDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5vcGVyYXx8aSl7dmFyIHE9ZnVuY3Rpb24oKXtuPW5ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKGQuZ2V0U2VsZWN0aW9uKCkpO24ubG9jaygpfTtmP2suYXR0YWNoTGlzdGVuZXIoaywiYmVmb3JlZGVhY3RpdmF0ZSIsCnEsbnVsbCxudWxsLC0xKTprLmF0dGFjaExpc3RlbmVyKGQsInNlbGVjdGlvbkNoZWNrIixxLG51bGwsbnVsbCwtMSk7ay5hdHRhY2hMaXN0ZW5lcihrLENLRURJVE9SLmVudi53ZWJraXQ\/IkRPTUZvY3VzT3V0IjoiYmx1ciIsZnVuY3Rpb24oKXtkLmxvY2tTZWxlY3Rpb24obik7bz0xfSxudWxsLG51bGwsLTEpO2suYXR0YWNoTGlzdGVuZXIoaywibW91c2Vkb3duIixmdW5jdGlvbigpe289MH0pfWlmKENLRURJVE9SLmVudi5pZSYmIWkpe3ZhciBwO2suYXR0YWNoTGlzdGVuZXIoaywibW91c2Vkb3duIixmdW5jdGlvbihhKXtpZihhLmRhdGEuJC5idXR0b249PTIpe2E9ZC5kb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtpZighYXx8YS5nZXRUeXBlKCk9PUNLRURJVE9SLlNFTEVDVElPTl9OT05FKXA9ZC53aW5kb3cuZ2V0U2Nyb2xsUG9zaXRpb24oKX19KTtrLmF0dGFjaExpc3RlbmVyKGssIm1vdXNldXAiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YS4kLmJ1dHRvbj09MiYmcCl7ZC5kb2N1bWVudC4kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0PQpwLng7ZC5kb2N1bWVudC4kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A9cC55fXA9bnVsbH0pO2lmKGIuJC5jb21wYXRNb2RlIT0iQmFja0NvbXBhdCIpe2lmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5pZTZDb21wYXQpZy5vbigibW91c2Vkb3duIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2E9YS5kYXRhLiQ7aWYoZSl7dmFyIGM9bS4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtjLm1vdmVUb1BvaW50KGEueCxhLnkpfWNhdGNoKGQpe31lLnNldEVuZFBvaW50KGYuY29tcGFyZUVuZFBvaW50cygiU3RhcnRUb1N0YXJ0IixjKTwwPyJFbmRUb0VuZCI6IlN0YXJ0VG9TdGFydCIsYyk7ZS5zZWxlY3QoKX19ZnVuY3Rpb24gZCgpe2cucmVtb3ZlTGlzdGVuZXIoIm1vdXNlbW92ZSIsYik7Yy5yZW1vdmVMaXN0ZW5lcigibW91c2V1cCIsZCk7Zy5yZW1vdmVMaXN0ZW5lcigibW91c2V1cCIsZCk7ZS5zZWxlY3QoKX1hPWEuZGF0YTtpZihhLmdldFRhcmdldCgpLmlzKCJodG1sIikmJgphLiQueTxnLiQuY2xpZW50SGVpZ2h0JiZhLiQueDxnLiQuY2xpZW50V2lkdGgpe3ZhciBlPW0uJC5jcmVhdGVUZXh0UmFuZ2UoKTt0cnl7ZS5tb3ZlVG9Qb2ludChhLiQueCxhLiQueSl9Y2F0Y2goayl7fXZhciBmPWUuZHVwbGljYXRlKCk7Zy5vbigibW91c2Vtb3ZlIixiKTtjLm9uKCJtb3VzZXVwIixkKTtnLm9uKCJtb3VzZXVwIixkKX19KTtpZihDS0VESVRPUi5lbnYudmVyc2lvbj43JiZDS0VESVRPUi5lbnYudmVyc2lvbjwxMSl7Zy5vbigibW91c2Vkb3duIixmdW5jdGlvbihhKXtpZihhLmRhdGEuZ2V0VGFyZ2V0KCkuaXMoImh0bWwiKSl7Yy5vbigibW91c2V1cCIsdik7Zy5vbigibW91c2V1cCIsdil9fSk7dmFyIHY9ZnVuY3Rpb24oKXtjLnJlbW92ZUxpc3RlbmVyKCJtb3VzZXVwIix2KTtnLnJlbW92ZUxpc3RlbmVyKCJtb3VzZXVwIix2KTt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC4kLnNlbGVjdGlvbixkPWEuY3JlYXRlUmFuZ2UoKTthLnR5cGUhPSJOb25lIiYmZC5wYXJlbnRFbGVtZW50KCkub3duZXJEb2N1bWVudD09CmIuJCYmZC5zZWxlY3QoKX19fX1rLmF0dGFjaExpc3RlbmVyKGssInNlbGVjdGlvbmNoYW5nZSIsYSxkKTtrLmF0dGFjaExpc3RlbmVyKGssImtleXVwIixlLGQpO2suYXR0YWNoTGlzdGVuZXIoayxDS0VESVRPUi5lbnYud2Via2l0PyJET01Gb2N1c0luIjoiZm9jdXMiLGZ1bmN0aW9uKCl7ZC5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2Quc2VsZWN0aW9uQ2hhbmdlKDEpfSk7aWYoaT9DS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuZ2Vja286Q0tFRElUT1IuZW52Lm9wZXJhKXt2YXIgdztrLmF0dGFjaExpc3RlbmVyKGssIm1vdXNlZG93biIsZnVuY3Rpb24oKXt3PTF9KTtrLmF0dGFjaExpc3RlbmVyKGIuZ2V0RG9jdW1lbnRFbGVtZW50KCksIm1vdXNldXAiLGZ1bmN0aW9uKCl7dyYmZS5jYWxsKGQpO3c9MH0pfWVsc2Ugay5hdHRhY2hMaXN0ZW5lcihDS0VESVRPUi5lbnYuaWU\/azpiLmdldERvY3VtZW50RWxlbWVudCgpLCJtb3VzZXVwIixlLGQpO0NLRURJVE9SLmVudi53ZWJraXQmJgprLmF0dGFjaExpc3RlbmVyKGIsImtleWRvd24iLGZ1bmN0aW9uKGEpe3N3aXRjaChhLmRhdGEuZ2V0S2V5KCkpe2Nhc2UgMTM6Y2FzZSAzMzpjYXNlIDM0OmNhc2UgMzU6Y2FzZSAzNjpjYXNlIDM3OmNhc2UgMzk6Y2FzZSA4OmNhc2UgNDU6Y2FzZSA0NjpoKGspfX0sbnVsbCxudWxsLC0xKTtrLmF0dGFjaExpc3RlbmVyKGssImtleWRvd24iLGooZCksbnVsbCxudWxsLC0xKX0pO2Qub24oImNvbnRlbnREb21VbmxvYWQiLGQuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2ssZCk7ZC5vbigiZGF0YVJlYWR5IixmdW5jdGlvbigpe2RlbGV0ZSBkLl8uZmFrZVNlbGVjdGlvbjtkZWxldGUgZC5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcjtkLnNlbGVjdGlvbkNoYW5nZSgxKX0pO2Qub24oImxvYWRTbmFwc2hvdCIsZnVuY3Rpb24oKXt2YXIgYT1kLmVkaXRhYmxlKCkuZ2V0TGFzdChmdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR9KTthJiZhLmhhc0F0dHJpYnV0ZSgiZGF0YS1ja2UtaGlkZGVuLXNlbCIpJiYKYS5yZW1vdmUoKX0sbnVsbCxudWxsLDEwMCk7Q0tFRElUT1IuZW52LmllOUNvbXBhdCYmZC5vbigiYmVmb3JlRGVzdHJveSIsYyxudWxsLG51bGwsOSk7Q0tFRElUT1IuZW52LndlYmtpdCYmZC5vbigic2V0RGF0YSIsYyk7ZC5vbigiY29udGVudERvbVVubG9hZCIsZnVuY3Rpb24oKXtkLnVubG9ja1NlbGVjdGlvbigpfSk7ZC5vbigia2V5IixmdW5jdGlvbihhKXtpZihkLm1vZGU9PSJ3eXNpd3lnIil7dmFyIGI9ZC5nZXRTZWxlY3Rpb24oKTtpZihiLmlzRmFrZSl7dmFyIGM9dVthLmRhdGEua2V5Q29kZV07aWYoYylyZXR1cm4gYyh7ZWRpdG9yOmQsc2VsZWN0ZWQ6Yi5nZXRTZWxlY3RlZEVsZW1lbnQoKSxzZWxlY3Rpb246YixrZXlFdmVudDphfSl9fX0pfSk7Q0tFRElUT1Iub24oImluc3RhbmNlUmVhZHkiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZWRpdG9yO2lmKENLRURJVE9SLmVudi53ZWJraXQpe2Iub24oInNlbGVjdGlvbkNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgYT1iLmVkaXRhYmxlKCksCmM9ZChhKTtjJiYoYy5nZXRDdXN0b21EYXRhKCJyZWFkeSIpP2goYSk6Yy5zZXRDdXN0b21EYXRhKCJyZWFkeSIsMSkpfSxudWxsLG51bGwsLTEpO2Iub24oImJlZm9yZVNldE1vZGUiLGZ1bmN0aW9uKCl7aChiLmVkaXRhYmxlKCkpfSxudWxsLG51bGwsLTEpO3ZhciBjLGUsYT1mdW5jdGlvbigpe3ZhciBhPWIuZWRpdGFibGUoKTtpZihhKWlmKGE9ZChhKSl7dmFyIGY9Yi5kb2N1bWVudC4kLmRlZmF1bHRWaWV3LmdldFNlbGVjdGlvbigpO2YudHlwZT09IkNhcmV0IiYmZi5hbmNob3JOb2RlPT1hLiQmJihlPTEpO2M9YS5nZXRUZXh0KCk7YS5zZXRUZXh0KGcoYykpfX0sZj1mdW5jdGlvbigpe3ZhciBhPWIuZWRpdGFibGUoKTtpZihhKWlmKGE9ZChhKSl7YS5zZXRUZXh0KGMpO2lmKGUpe2IuZG9jdW1lbnQuJC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKS5zZXRQb3NpdGlvbihhLiQsYS5nZXRMZW5ndGgoKSk7ZT0wfX19O2Iub24oImJlZm9yZVVuZG9JbWFnZSIsYSk7Yi5vbigiYWZ0ZXJVbmRvSW1hZ2UiLApmKTtiLm9uKCJiZWZvcmVHZXREYXRhIixhLG51bGwsbnVsbCwwKTtiLm9uKCJnZXREYXRhIixmKX19KTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnNlbGVjdGlvbkNoYW5nZT1mdW5jdGlvbihiKXsoYj9hOmUpLmNhbGwodGhpcyl9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKGEpe2lmKCh0aGlzLl8uc2F2ZWRTZWxlY3Rpb258fHRoaXMuXy5mYWtlU2VsZWN0aW9uKSYmIWEpcmV0dXJuIHRoaXMuXy5zYXZlZFNlbGVjdGlvbnx8dGhpcy5fLmZha2VTZWxlY3Rpb247cmV0dXJuKGE9dGhpcy5lZGl0YWJsZSgpKSYmdGhpcy5tb2RlPT0id3lzaXd5ZyI\/bmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24oYSk6bnVsbH07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5sb2NrU2VsZWN0aW9uPWZ1bmN0aW9uKGEpe2E9YXx8dGhpcy5nZXRTZWxlY3Rpb24oMSk7aWYoYS5nZXRUeXBlKCkhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FKXshYS5pc0xvY2tlZCYmCmEubG9jaygpO3RoaXMuXy5zYXZlZFNlbGVjdGlvbj1hO3JldHVybiB0cnVlfXJldHVybiBmYWxzZX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS51bmxvY2tTZWxlY3Rpb249ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLnNhdmVkU2VsZWN0aW9uO2lmKGIpe2IudW5sb2NrKGEpO2RlbGV0ZSB0aGlzLl8uc2F2ZWRTZWxlY3Rpb247cmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGh9O0NLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKHRoaXMpfTtDS0VESVRPUi5kb20ucmFuZ2UucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMucm9vdCBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRhYmxlPwp0aGlzLnJvb3QuZWRpdG9yLmdldFNlbGVjdGlvbigpOm5ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKHRoaXMucm9vdCk7YS5zZWxlY3RSYW5nZXMoW3RoaXNdKTtyZXR1cm4gYX07Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU9MTtDS0VESVRPUi5TRUxFQ1RJT05fVEVYVD0yO0NLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UPTM7dmFyIGY9dHlwZW9mIHdpbmRvdy5nZXRTZWxlY3Rpb24hPSJmdW5jdGlvbiIscD0xO0NLRURJVE9SLmRvbS5zZWxlY3Rpb249ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5zZWxlY3Rpb24pdmFyIGI9YSxhPWEucm9vdDt2YXIgYz1hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ7dGhpcy5yZXY9Yj9iLnJldjpwKys7dGhpcy5kb2N1bWVudD1hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmRvY3VtZW50P2E6YS5nZXREb2N1bWVudCgpO3RoaXMucm9vdD1hPWM\/YTp0aGlzLmRvY3VtZW50LmdldEJvZHkoKTt0aGlzLmlzTG9ja2VkPQowO3RoaXMuXz17Y2FjaGU6e319O2lmKGIpe0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLl8uY2FjaGUsYi5fLmNhY2hlKTt0aGlzLmlzRmFrZT1iLmlzRmFrZTt0aGlzLmlzTG9ja2VkPWIuaXNMb2NrZWQ7cmV0dXJuIHRoaXN9Yj1mP3RoaXMuZG9jdW1lbnQuJC5zZWxlY3Rpb246dGhpcy5kb2N1bWVudC5nZXRXaW5kb3coKS4kLmdldFNlbGVjdGlvbigpO2lmKENLRURJVE9SLmVudi53ZWJraXQpKGIudHlwZT09Ik5vbmUiJiZ0aGlzLmRvY3VtZW50LmdldEFjdGl2ZSgpLmVxdWFscyhhKXx8Yi50eXBlPT0iQ2FyZXQiJiZiLmFuY2hvck5vZGUubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlQpJiZuKGEsYik7ZWxzZSBpZihDS0VESVRPUi5lbnYuZ2Vja28pYiYmKHRoaXMuZG9jdW1lbnQuZ2V0QWN0aXZlKCkuZXF1YWxzKGEpJiZiLmFuY2hvck5vZGUmJmIuYW5jaG9yTm9kZS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVCkmJm4oYSxiLHRydWUpO2Vsc2UgaWYoQ0tFRElUT1IuZW52LmllKXt2YXIgZDsKdHJ5e2Q9dGhpcy5kb2N1bWVudC5nZXRBY3RpdmUoKX1jYXRjaChlKXt9aWYoZiliLnR5cGU9PSJOb25lIiYmKGQmJmQuZXF1YWxzKHRoaXMuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCkpKSYmbihhLG51bGwsdHJ1ZSk7ZWxzZXsoYj1iJiZiLmFuY2hvck5vZGUpJiYoYj1uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYikpO2QmJihkLmVxdWFscyh0aGlzLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpKSYmYiYmKGEuZXF1YWxzKGIpfHxhLmNvbnRhaW5zKGIpKSkmJm4oYSxudWxsLHRydWUpfX1kPXRoaXMuZ2V0TmF0aXZlKCk7dmFyIGcsaDtpZihkKWlmKGQuZ2V0UmFuZ2VBdClnPShoPWQucmFuZ2VDb3VudCYmZC5nZXRSYW5nZUF0KDApKSYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGguY29tbW9uQW5jZXN0b3JDb250YWluZXIpO2Vsc2V7dHJ5e2g9ZC5jcmVhdGVSYW5nZSgpfWNhdGNoKGope31nPWgmJkNLRURJVE9SLmRvbS5lbGVtZW50LmdldChoLml0ZW0mJmguaXRlbSgwKXx8CmgucGFyZW50RWxlbWVudCgpKX1pZighZ3x8IShnLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8Zy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpfHwhdGhpcy5yb290LmVxdWFscyhnKSYmIXRoaXMucm9vdC5jb250YWlucyhnKSl7dGhpcy5fLmNhY2hlLnR5cGU9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU7dGhpcy5fLmNhY2hlLnN0YXJ0RWxlbWVudD1udWxsO3RoaXMuXy5jYWNoZS5zZWxlY3RlZEVsZW1lbnQ9bnVsbDt0aGlzLl8uY2FjaGUuc2VsZWN0ZWRUZXh0PSIiO3RoaXMuXy5jYWNoZS5yYW5nZXM9bmV3IENLRURJVE9SLmRvbS5yYW5nZUxpc3R9cmV0dXJuIHRoaXN9O3ZhciB5PXtpbWc6MSxocjoxLGxpOjEsdGFibGU6MSx0cjoxLHRkOjEsdGg6MSxlbWJlZDoxLG9iamVjdDoxLG9sOjEsdWw6MSxhOjEsaW5wdXQ6MSxmb3JtOjEsc2VsZWN0OjEsdGV4dGFyZWE6MSxidXR0b246MSxmaWVsZHNldDoxLHRoZWFkOjEsdGZvb3Q6MX07Q0tFRElUT1IuZG9tLnNlbGVjdGlvbi5wcm90b3R5cGU9CntnZXROYXRpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmNhY2hlLm5hdGl2ZVNlbCE9PXZvaWQgMD90aGlzLl8uY2FjaGUubmF0aXZlU2VsOnRoaXMuXy5jYWNoZS5uYXRpdmVTZWw9Zj90aGlzLmRvY3VtZW50LiQuc2VsZWN0aW9uOnRoaXMuZG9jdW1lbnQuZ2V0V2luZG93KCkuJC5nZXRTZWxlY3Rpb24oKX0sZ2V0VHlwZTpmP2Z1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKGEudHlwZSlyZXR1cm4gYS50eXBlO3ZhciBiPUNLRURJVE9SLlNFTEVDVElPTl9OT05FO3RyeXt2YXIgYz10aGlzLmdldE5hdGl2ZSgpLGQ9Yy50eXBlO2lmKGQ9PSJUZXh0IiliPUNLRURJVE9SLlNFTEVDVElPTl9URVhUO2lmKGQ9PSJDb250cm9sIiliPUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UO2lmKGMuY3JlYXRlUmFuZ2UoKS5wYXJlbnRFbGVtZW50KCkpYj1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVH1jYXRjaChlKXt9cmV0dXJuIGEudHlwZT1ifTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTsKaWYoYS50eXBlKXJldHVybiBhLnR5cGU7dmFyIGI9Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQsYz10aGlzLmdldE5hdGl2ZSgpO2lmKCFjfHwhYy5yYW5nZUNvdW50KWI9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU7ZWxzZSBpZihjLnJhbmdlQ291bnQ9PTEpe3ZhciBjPWMuZ2V0UmFuZ2VBdCgwKSxkPWMuc3RhcnRDb250YWluZXI7aWYoZD09Yy5lbmRDb250YWluZXImJmQubm9kZVR5cGU9PTEmJmMuZW5kT2Zmc2V0LWMuc3RhcnRPZmZzZXQ9PTEmJnlbZC5jaGlsZE5vZGVzW2Muc3RhcnRPZmZzZXRdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKWI9Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlR9cmV0dXJuIGEudHlwZT1ifSxnZXRSYW5nZXM6ZnVuY3Rpb24oKXt2YXIgYT1mP2Z1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4obmV3IENLRURJVE9SLmRvbS5ub2RlKGIpKS5nZXRJbmRleCgpfXZhciBiPWZ1bmN0aW9uKGIsYyl7Yj1iLmR1cGxpY2F0ZSgpO2IuY29sbGFwc2UoYyk7CnZhciBkPWIucGFyZW50RWxlbWVudCgpO2lmKCFkLmhhc0NoaWxkTm9kZXMoKSlyZXR1cm57Y29udGFpbmVyOmQsb2Zmc2V0OjB9O2Zvcih2YXIgZT1kLmNoaWxkcmVuLGYsZyxoPWIuZHVwbGljYXRlKCksbD0wLG09ZS5sZW5ndGgtMSxqPS0xLGksbztsPD1tOyl7aj1NYXRoLmZsb29yKChsK20pLzIpO2Y9ZVtqXTtoLm1vdmVUb0VsZW1lbnRUZXh0KGYpO2k9aC5jb21wYXJlRW5kUG9pbnRzKCJTdGFydFRvU3RhcnQiLGIpO2lmKGk+MCltPWotMTtlbHNlIGlmKGk8MClsPWorMTtlbHNlIHJldHVybntjb250YWluZXI6ZCxvZmZzZXQ6YShmKX19aWYoaj09LTF8fGo9PWUubGVuZ3RoLTEmJmk8MCl7aC5tb3ZlVG9FbGVtZW50VGV4dChkKTtoLnNldEVuZFBvaW50KCJTdGFydFRvU3RhcnQiLGIpO2g9aC50ZXh0LnJlcGxhY2UoLyhcclxufFxyKS9nLCJcbiIpLmxlbmd0aDtlPWQuY2hpbGROb2RlcztpZighaCl7Zj1lW2UubGVuZ3RoLTFdO3JldHVybiBmLm5vZGVUeXBlIT1DS0VESVRPUi5OT0RFX1RFWFQ\/Cntjb250YWluZXI6ZCxvZmZzZXQ6ZS5sZW5ndGh9Ontjb250YWluZXI6ZixvZmZzZXQ6Zi5ub2RlVmFsdWUubGVuZ3RofX1mb3IoZD1lLmxlbmd0aDtoPjAmJmQ+MDspe2c9ZVstLWRdO2lmKGcubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7bz1nO2g9aC1nLm5vZGVWYWx1ZS5sZW5ndGh9fXJldHVybntjb250YWluZXI6byxvZmZzZXQ6LWh9fWguY29sbGFwc2UoaT4wP3RydWU6ZmFsc2UpO2guc2V0RW5kUG9pbnQoaT4wPyJTdGFydFRvU3RhcnQiOiJFbmRUb1N0YXJ0IixiKTtoPWgudGV4dC5yZXBsYWNlKC8oXHJcbnxccikvZywiXG4iKS5sZW5ndGg7aWYoIWgpcmV0dXJue2NvbnRhaW5lcjpkLG9mZnNldDphKGYpKyhpPjA\/MDoxKX07Zm9yKDtoPjA7KXRyeXtnPWZbaT4wPyJwcmV2aW91c1NpYmxpbmciOiJuZXh0U2libGluZyJdO2lmKGcubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7aD1oLWcubm9kZVZhbHVlLmxlbmd0aDtvPWd9Zj1nfWNhdGNoKG4pe3JldHVybntjb250YWluZXI6ZCwKb2Zmc2V0OmEoZil9fXJldHVybntjb250YWluZXI6byxvZmZzZXQ6aT4wPy1oOm8ubm9kZVZhbHVlLmxlbmd0aCtofX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXROYXRpdmUoKSxjPWEmJmEuY3JlYXRlUmFuZ2UoKSxkPXRoaXMuZ2V0VHlwZSgpO2lmKCFhKXJldHVybltdO2lmKGQ9PUNLRURJVE9SLlNFTEVDVElPTl9URVhUKXthPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtkPWIoYyx0cnVlKTthLnNldFN0YXJ0KG5ldyBDS0VESVRPUi5kb20ubm9kZShkLmNvbnRhaW5lciksZC5vZmZzZXQpO2Q9YihjKTthLnNldEVuZChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZC5jb250YWluZXIpLGQub2Zmc2V0KTthLmVuZENvbnRhaW5lci5nZXRQb3NpdGlvbihhLnN0YXJ0Q29udGFpbmVyKSZDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkcmJmEuZW5kT2Zmc2V0PD1hLnN0YXJ0Q29udGFpbmVyLmdldEluZGV4KCkmJmEuY29sbGFwc2UoKTtyZXR1cm5bYV19aWYoZD09CkNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UKXtmb3IodmFyIGQ9W10sZT0wO2U8Yy5sZW5ndGg7ZSsrKXtmb3IodmFyIGY9Yy5pdGVtKGUpLGs9Zi5wYXJlbnROb2RlLGc9MCxhPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtnPGsuY2hpbGROb2Rlcy5sZW5ndGgmJmsuY2hpbGROb2Rlc1tnXSE9ZjtnKyspO2Euc2V0U3RhcnQobmV3IENLRURJVE9SLmRvbS5ub2RlKGspLGcpO2Euc2V0RW5kKG5ldyBDS0VESVRPUi5kb20ubm9kZShrKSxnKzEpO2QucHVzaChhKX1yZXR1cm4gZH1yZXR1cm5bXX19KCk6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiLGM9dGhpcy5nZXROYXRpdmUoKTtpZighYylyZXR1cm4gYTtmb3IodmFyIGQ9MDtkPGMucmFuZ2VDb3VudDtkKyspe3ZhciBlPWMuZ2V0UmFuZ2VBdChkKTtiPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtiLnNldFN0YXJ0KG5ldyBDS0VESVRPUi5kb20ubm9kZShlLnN0YXJ0Q29udGFpbmVyKSxlLnN0YXJ0T2Zmc2V0KTsKYi5zZXRFbmQobmV3IENLRURJVE9SLmRvbS5ub2RlKGUuZW5kQ29udGFpbmVyKSxlLmVuZE9mZnNldCk7YS5wdXNoKGIpfXJldHVybiBhfTtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fLmNhY2hlO2lmKGMucmFuZ2VzJiYhYilyZXR1cm4gYy5yYW5nZXM7aWYoIWMucmFuZ2VzKWMucmFuZ2VzPW5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KGEuY2FsbCh0aGlzKSk7aWYoYilmb3IodmFyIGQ9Yy5yYW5nZXMsZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO2YuZ2V0Q29tbW9uQW5jZXN0b3IoKS5pc1JlYWRPbmx5KCkmJmQuc3BsaWNlKGUsMSk7aWYoIWYuY29sbGFwc2VkKXtpZihmLnN0YXJ0Q29udGFpbmVyLmlzUmVhZE9ubHkoKSlmb3IodmFyIGI9Zi5zdGFydENvbnRhaW5lcixnO2I7KXtpZigoZz1iLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCkmJmIuaXMoImJvZHkiKXx8IWIuaXNSZWFkT25seSgpKWJyZWFrO2cmJmIuZ2V0QXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiKT09CiJmYWxzZSImJmYuc2V0U3RhcnRBZnRlcihiKTtiPWIuZ2V0UGFyZW50KCl9Yj1mLnN0YXJ0Q29udGFpbmVyO2c9Zi5lbmRDb250YWluZXI7dmFyIGg9Zi5zdGFydE9mZnNldCxqPWYuZW5kT2Zmc2V0LGk9Zi5jbG9uZSgpO2ImJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoaD49Yi5nZXRMZW5ndGgoKT9pLnNldFN0YXJ0QWZ0ZXIoYik6aS5zZXRTdGFydEJlZm9yZShiKSk7ZyYmZy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihqP2kuc2V0RW5kQWZ0ZXIoZyk6aS5zZXRFbmRCZWZvcmUoZykpO2I9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoaSk7Yi5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXNSZWFkT25seSgpKXt2YXIgYj1mLmNsb25lKCk7Zi5zZXRFbmRCZWZvcmUoYSk7Zi5jb2xsYXBzZWQmJmQuc3BsaWNlKGUtLSwxKTtpZighKGEuZ2V0UG9zaXRpb24oaS5lbmRDb250YWluZXIpJkNLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TKSl7Yi5zZXRTdGFydEFmdGVyKGEpOwpiLmNvbGxhcHNlZHx8ZC5zcGxpY2UoZSsxLDAsYil9cmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfTtiLm5leHQoKX19cmV0dXJuIGMucmFuZ2VzfX0oKSxnZXRTdGFydEVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYoYS5zdGFydEVsZW1lbnQhPT12b2lkIDApcmV0dXJuIGEuc3RhcnRFbGVtZW50O3ZhciBiO3N3aXRjaCh0aGlzLmdldFR5cGUoKSl7Y2FzZSBDS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVDpyZXR1cm4gdGhpcy5nZXRTZWxlY3RlZEVsZW1lbnQoKTtjYXNlIENLRURJVE9SLlNFTEVDVElPTl9URVhUOnZhciBjPXRoaXMuZ2V0UmFuZ2VzKClbMF07aWYoYyl7aWYoYy5jb2xsYXBzZWQpe2I9Yy5zdGFydENvbnRhaW5lcjtiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGI9Yi5nZXRQYXJlbnQoKSl9ZWxzZXtmb3IoYy5vcHRpbWl6ZSgpOzspe2I9Yy5zdGFydENvbnRhaW5lcjtpZihjLnN0YXJ0T2Zmc2V0PT0oYi5nZXRDaGlsZENvdW50P2IuZ2V0Q2hpbGRDb3VudCgpOgpiLmdldExlbmd0aCgpKSYmIWIuaXNCbG9ja0JvdW5kYXJ5KCkpYy5zZXRTdGFydEFmdGVyKGIpO2Vsc2UgYnJlYWt9Yj1jLnN0YXJ0Q29udGFpbmVyO2lmKGIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybiBiLmdldFBhcmVudCgpO2I9Yi5nZXRDaGlsZChjLnN0YXJ0T2Zmc2V0KTtpZighYnx8Yi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpYj1jLnN0YXJ0Q29udGFpbmVyO2Vsc2UgZm9yKGM9Yi5nZXRGaXJzdCgpO2MmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UOyl7Yj1jO2M9Yy5nZXRGaXJzdCgpfX1iPWIuJH19cmV0dXJuIGEuc3RhcnRFbGVtZW50PWI\/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGIpOm51bGx9LGdldFNlbGVjdGVkRWxlbWVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZihhLnNlbGVjdGVkRWxlbWVudCE9PXZvaWQgMClyZXR1cm4gYS5zZWxlY3RlZEVsZW1lbnQ7dmFyIGI9dGhpcyxjPUNLRURJVE9SLnRvb2xzLnRyeVRoZXNlKGZ1bmN0aW9uKCl7cmV0dXJuIGIuZ2V0TmF0aXZlKCkuY3JlYXRlUmFuZ2UoKS5pdGVtKDApfSwKZnVuY3Rpb24oKXtmb3IodmFyIGE9Yi5nZXRSYW5nZXMoKVswXS5jbG9uZSgpLGMsZCxlPTI7ZSYmKCEoYz1hLmdldEVuY2xvc2VkTm9kZSgpKXx8IShjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmeVtjLmdldE5hbWUoKV0mJihkPWMpKSk7ZS0tKWEuc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5UKTtyZXR1cm4gZCYmZC4kfSk7cmV0dXJuIGEuc2VsZWN0ZWRFbGVtZW50PWM\/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGMpOm51bGx9LGdldFNlbGVjdGVkVGV4dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZihhLnNlbGVjdGVkVGV4dCE9PXZvaWQgMClyZXR1cm4gYS5zZWxlY3RlZFRleHQ7dmFyIGI9dGhpcy5nZXROYXRpdmUoKSxiPWY\/Yi50eXBlPT0iQ29udHJvbCI\/IiI6Yi5jcmVhdGVSYW5nZSgpLnRleHQ6Yi50b1N0cmluZygpO3JldHVybiBhLnNlbGVjdGVkVGV4dD1ifSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5nZXRSYW5nZXMoKTt0aGlzLmdldFN0YXJ0RWxlbWVudCgpOwp0aGlzLmdldFNlbGVjdGVkRWxlbWVudCgpO3RoaXMuZ2V0U2VsZWN0ZWRUZXh0KCk7dGhpcy5fLmNhY2hlLm5hdGl2ZVNlbD1udWxsO3RoaXMuaXNMb2NrZWQ9MX0sdW5sb2NrOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNMb2NrZWQpe2lmKGEpdmFyIGI9dGhpcy5nZXRTZWxlY3RlZEVsZW1lbnQoKSxjPSFiJiZ0aGlzLmdldFJhbmdlcygpLGQ9dGhpcy5pc0Zha2U7dGhpcy5pc0xvY2tlZD0wO3RoaXMucmVzZXQoKTtpZihhKShhPWJ8fGNbMF0mJmNbMF0uZ2V0Q29tbW9uQW5jZXN0b3IoKSkmJmEuZ2V0QXNjZW5kYW50KCJib2R5IiwxKSYmKGQ\/dGhpcy5mYWtlKGIpOmI\/dGhpcy5zZWxlY3RFbGVtZW50KGIpOnRoaXMuc2VsZWN0UmFuZ2VzKGMpKX19LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fLmNhY2hlPXt9O3RoaXMuaXNGYWtlPTA7dmFyIGE9dGhpcy5yb290LmVkaXRvcjtpZihhJiZhLl8uZmFrZVNlbGVjdGlvbiYmdGhpcy5yZXY9PWEuXy5mYWtlU2VsZWN0aW9uLnJldil7ZGVsZXRlIGEuXy5mYWtlU2VsZWN0aW9uOwp2YXIgYj1hLl8uaGlkZGVuU2VsZWN0aW9uQ29udGFpbmVyO2lmKGIpe2EuZmlyZSgibG9ja1NuYXBzaG90Iik7Yi5yZW1vdmUoKTthLmZpcmUoInVubG9ja1NuYXBzaG90Iil9ZGVsZXRlIGEuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXJ9dGhpcy5yZXY9cCsrfSxzZWxlY3RFbGVtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtiLnNldFN0YXJ0QmVmb3JlKGEpO2Iuc2V0RW5kQWZ0ZXIoYSk7dGhpcy5zZWxlY3RSYW5nZXMoW2JdKX0sc2VsZWN0UmFuZ2VzOmZ1bmN0aW9uKGEpe3RoaXMucmVzZXQoKTtpZihhLmxlbmd0aClpZih0aGlzLmlzTG9ja2VkKXt2YXIgYj1DS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKTt0aGlzLnVubG9jaygpO3RoaXMuc2VsZWN0UmFuZ2VzKGEpO3RoaXMubG9jaygpOyFiLmVxdWFscyh0aGlzLnJvb3QpJiZiLmZvY3VzKCl9ZWxzZXthOnt2YXIgZCxlO2lmKGEubGVuZ3RoPT0xJiYhKGU9YVswXSkuY29sbGFwc2VkJiYKKGI9ZS5nZXRFbmNsb3NlZE5vZGUoKSkmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtlPWUuY2xvbmUoKTtlLnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCx0cnVlKTtpZigoZD1lLmdldEVuY2xvc2VkTm9kZSgpKSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpYj1kO2lmKGIuZ2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKT09ImZhbHNlIilicmVhayBhfWI9dm9pZCAwfWlmKGIpdGhpcy5mYWtlKGIpO2Vsc2V7aWYoZil7ZT1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKHRydWUpO2Q9L1x1ZmVmZnxcdTAwYTAvO3ZhciBnPXt0YWJsZToxLHRib2R5OjEsdHI6MX07aWYoYS5sZW5ndGg+MSl7Yj1hW2EubGVuZ3RoLTFdO2FbMF0uc2V0RW5kKGIuZW5kQ29udGFpbmVyLGIuZW5kT2Zmc2V0KX12YXIgYj1hWzBdLGE9Yi5jb2xsYXBzZWQsaixpLG8sbj1iLmdldEVuY2xvc2VkTm9kZSgpO2lmKG4mJm4udHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYKbi5nZXROYW1lKClpbiB5JiYoIW4uaXMoImEiKXx8IW4uZ2V0VGV4dCgpKSl0cnl7bz1uLiQuY3JlYXRlQ29udHJvbFJhbmdlKCk7by5hZGRFbGVtZW50KG4uJCk7by5zZWxlY3QoKTtyZXR1cm59Y2F0Y2gocSl7fShiLnN0YXJ0Q29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5zdGFydENvbnRhaW5lci5nZXROYW1lKClpbiBnfHxiLmVuZENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuZW5kQ29udGFpbmVyLmdldE5hbWUoKWluIGcpJiZiLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsdHJ1ZSk7bz1iLmNyZWF0ZUJvb2ttYXJrKCk7dmFyIGc9by5zdGFydE5vZGUscDtpZighYSlwPW8uZW5kTm9kZTtvPWIuZG9jdW1lbnQuJC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO28ubW92ZVRvRWxlbWVudFRleHQoZy4kKTtvLm1vdmVTdGFydCgiY2hhcmFjdGVyIiwxKTtpZihwKXtkPWIuZG9jdW1lbnQuJC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpOwpkLm1vdmVUb0VsZW1lbnRUZXh0KHAuJCk7by5zZXRFbmRQb2ludCgiRW5kVG9FbmQiLGQpO28ubW92ZUVuZCgiY2hhcmFjdGVyIiwtMSl9ZWxzZXtqPWcuZ2V0TmV4dChlKTtpPWcuaGFzQXNjZW5kYW50KCJwcmUiKTtqPSEoaiYmai5nZXRUZXh0JiZqLmdldFRleHQoKS5tYXRjaChkKSkmJihpfHwhZy5oYXNQcmV2aW91cygpfHxnLmdldFByZXZpb3VzKCkuaXMmJmcuZ2V0UHJldmlvdXMoKS5pcygiYnIiKSk7aT1iLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtpLnNldEh0bWwoIiYjNjUyNzk7Iik7aS5pbnNlcnRCZWZvcmUoZyk7aiYmYi5kb2N1bWVudC5jcmVhdGVUZXh0KCLvu78iKS5pbnNlcnRCZWZvcmUoZyl9Yi5zZXRTdGFydEJlZm9yZShnKTtnLnJlbW92ZSgpO2lmKGEpe2lmKGope28ubW92ZVN0YXJ0KCJjaGFyYWN0ZXIiLC0xKTtvLnNlbGVjdCgpO2IuZG9jdW1lbnQuJC5zZWxlY3Rpb24uY2xlYXIoKX1lbHNlIG8uc2VsZWN0KCk7Yi5tb3ZlVG9Qb3NpdGlvbihpLApDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2kucmVtb3ZlKCl9ZWxzZXtiLnNldEVuZEJlZm9yZShwKTtwLnJlbW92ZSgpO28uc2VsZWN0KCl9fWVsc2V7cD10aGlzLmdldE5hdGl2ZSgpO2lmKCFwKXJldHVybjtpZihDS0VESVRPUi5lbnYub3BlcmEpe2I9dGhpcy5kb2N1bWVudC4kLmNyZWF0ZVJhbmdlKCk7Yi5zZWxlY3ROb2RlQ29udGVudHModGhpcy5yb290LiQpO3AuYWRkUmFuZ2UoYil9dGhpcy5yZW1vdmVBbGxSYW5nZXMoKTtmb3Iobz0wO288YS5sZW5ndGg7bysrKXtpZihvPGEubGVuZ3RoLTEpe2I9YVtvXTtqPWFbbysxXTtkPWIuY2xvbmUoKTtkLnNldFN0YXJ0KGIuZW5kQ29udGFpbmVyLGIuZW5kT2Zmc2V0KTtkLnNldEVuZChqLnN0YXJ0Q29udGFpbmVyLGouc3RhcnRPZmZzZXQpO2lmKCFkLmNvbGxhcHNlZCl7ZC5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULHRydWUpO2k9ZC5nZXRDb21tb25BbmNlc3RvcigpO2Q9ZC5nZXRFbmNsb3NlZE5vZGUoKTsKaWYoaS5pc1JlYWRPbmx5KCl8fGQmJmQuaXNSZWFkT25seSgpKXtqLnNldFN0YXJ0KGIuc3RhcnRDb250YWluZXIsYi5zdGFydE9mZnNldCk7YS5zcGxpY2Uoby0tLDEpO2NvbnRpbnVlfX19Yj1hW29dO2k9dGhpcy5kb2N1bWVudC4kLmNyZWF0ZVJhbmdlKCk7aj1iLnN0YXJ0Q29udGFpbmVyO2lmKENLRURJVE9SLmVudi5vcGVyYSYmYi5jb2xsYXBzZWQmJmoudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtkPWouZ2V0Q2hpbGQoYi5zdGFydE9mZnNldC0xKTtlPWouZ2V0Q2hpbGQoYi5zdGFydE9mZnNldCk7aWYoIWQmJiFlJiZqLmlzKENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHkpfHxkJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8ZSYmZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2IuaW5zZXJ0Tm9kZSh0aGlzLmRvY3VtZW50LmNyZWF0ZVRleHQoIiIpKTtiLmNvbGxhcHNlKDEpfX1pZihiLmNvbGxhcHNlZCYmQ0tFRElUT1IuZW52LndlYmtpdCYmYyhiKSl7aj0KdGhpcy5yb290O2goaixmYWxzZSk7ZD1qLmdldERvY3VtZW50KCkuY3JlYXRlVGV4dCgi4oCLIik7ai5zZXRDdXN0b21EYXRhKCJja2UtZmlsbGluZ0NoYXIiLGQpO2IuaW5zZXJ0Tm9kZShkKTtpZigoaj1kLmdldE5leHQoKSkmJiFkLmdldFByZXZpb3VzKCkmJmoudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZqLmdldE5hbWUoKT09ImJyIil7aCh0aGlzLnJvb3QpO2IubW92ZVRvUG9zaXRpb24oaixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpfWVsc2UgYi5tb3ZlVG9Qb3NpdGlvbihkLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCl9aS5zZXRTdGFydChiLnN0YXJ0Q29udGFpbmVyLiQsYi5zdGFydE9mZnNldCk7dHJ5e2kuc2V0RW5kKGIuZW5kQ29udGFpbmVyLiQsYi5lbmRPZmZzZXQpfWNhdGNoKHMpe2lmKHMudG9TdHJpbmcoKS5pbmRleE9mKCJOU19FUlJPUl9JTExFR0FMX1ZBTFVFIik+PTApe2IuY29sbGFwc2UoMSk7aS5zZXRFbmQoYi5lbmRDb250YWluZXIuJCwKYi5lbmRPZmZzZXQpfWVsc2UgdGhyb3cgczt9cC5hZGRSYW5nZShpKX19dGhpcy5yZXNldCgpO3RoaXMucm9vdC5maXJlKCJzZWxlY3Rpb25jaGFuZ2UiKX19fSxmYWtlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucm9vdC5lZGl0b3I7dGhpcy5yZXNldCgpO2koYik7dmFyIGM9dGhpcy5fLmNhY2hlLGQ9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2Quc2V0U3RhcnRCZWZvcmUoYSk7ZC5zZXRFbmRBZnRlcihhKTtjLnJhbmdlcz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdChkKTtjLnNlbGVjdGVkRWxlbWVudD1jLnN0YXJ0RWxlbWVudD1hO2MudHlwZT1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVDtjLnNlbGVjdGVkVGV4dD1jLm5hdGl2ZVNlbD1udWxsO3RoaXMuaXNGYWtlPTE7dGhpcy5yZXY9cCsrO2IuXy5mYWtlU2VsZWN0aW9uPXRoaXM7dGhpcy5yb290LmZpcmUoInNlbGVjdGlvbmNoYW5nZSIpfSxpc0hpZGRlbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q29tbW9uQW5jZXN0b3IoKTsKYSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihhPWEuZ2V0UGFyZW50KCkpO3JldHVybiEoIWF8fCFhLmRhdGEoImNrZS1oaWRkZW4tc2VsIikpfSxjcmVhdGVCb29rbWFya3M6ZnVuY3Rpb24oYSl7YT10aGlzLmdldFJhbmdlcygpLmNyZWF0ZUJvb2ttYXJrcyhhKTt0aGlzLmlzRmFrZSYmKGEuaXNGYWtlPTEpO3JldHVybiBhfSxjcmVhdGVCb29rbWFya3MyOmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRSYW5nZXMoKS5jcmVhdGVCb29rbWFya3MyKGEpO3RoaXMuaXNGYWtlJiYoYS5pc0Zha2U9MSk7cmV0dXJuIGF9LHNlbGVjdEJvb2ttYXJrczpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7ZC5tb3ZlVG9Cb29rbWFyayhhW2NdKTtiLnB1c2goZCl9YS5pc0Zha2U\/dGhpcy5mYWtlKGJbMF0uZ2V0RW5jbG9zZWROb2RlKCkpOnRoaXMuc2VsZWN0UmFuZ2VzKGIpO3JldHVybiB0aGlzfSwKZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJhbmdlcygpO3JldHVybiFhLmxlbmd0aD9udWxsOmFbMF0uc3RhcnRDb250YWluZXIuZ2V0Q29tbW9uQW5jZXN0b3IoYVthLmxlbmd0aC0xXS5lbmRDb250YWluZXIpfSxzY3JvbGxJbnRvVmlldzpmdW5jdGlvbigpe3RoaXMudHlwZSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUmJnRoaXMuZ2V0UmFuZ2VzKClbMF0uc2Nyb2xsSW50b1ZpZXcoKX0scmVtb3ZlQWxsUmFuZ2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXROYXRpdmUoKTt0cnl7YSYmYVtmPyJlbXB0eSI6InJlbW92ZUFsbFJhbmdlcyJdKCl9Y2F0Y2goYil7fXRoaXMucmVzZXQoKX19fSkoKTsidXNlIHN0cmljdCI7CkNLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuYXR0YWNoU3R5bGVTdGF0ZUNoYW5nZT1mdW5jdGlvbihhLGUpe3ZhciBiPXRoaXMuXy5zdHlsZVN0YXRlQ2hhbmdlQ2FsbGJhY2tzO2lmKCFiKXtiPXRoaXMuXy5zdHlsZVN0YXRlQ2hhbmdlQ2FsbGJhY2tzPVtdO3RoaXMub24oInNlbGVjdGlvbkNoYW5nZSIsZnVuY3Rpb24oYSl7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0sZz1lLnN0eWxlLmNoZWNrQWN0aXZlKGEuZGF0YS5wYXRoKT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkY7ZS5mbi5jYWxsKHRoaXMsZyl9fSl9Yi5wdXNoKHtzdHlsZTphLGZuOmV9KX07Q0tFRElUT1IuU1RZTEVfQkxPQ0s9MTtDS0VESVRPUi5TVFlMRV9JTkxJTkU9MjtDS0VESVRPUi5TVFlMRV9PQkpFQ1Q9MzsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe2Zvcih2YXIgYyxkO2E9YS5nZXRQYXJlbnQoKTspe2lmKGEuZXF1YWxzKGIpKWJyZWFrO2lmKGEuZ2V0QXR0cmlidXRlKCJkYXRhLW5vc3R5bGUiKSljPWE7ZWxzZSBpZighZCl7dmFyIGU9YS5nZXRBdHRyaWJ1dGUoImNvbnRlbnRFZGl0YWJsZSIpO2U9PSJmYWxzZSI\/Yz1hOmU9PSJ0cnVlIiYmKGQ9MSl9fXJldHVybiBjfWZ1bmN0aW9uIGUoYil7dmFyIGQ9Yi5kb2N1bWVudDtpZihiLmNvbGxhcHNlZCl7ZD15KHRoaXMsZCk7Yi5pbnNlcnROb2RlKGQpO2IubW92ZVRvUG9zaXRpb24oZCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKX1lbHNle3ZhciBmPXRoaXMuZWxlbWVudCxnPXRoaXMuXy5kZWZpbml0aW9uLGgsaj1nLmlnbm9yZVJlYWRvbmx5LGk9anx8Zy5pbmNsdWRlUmVhZG9ubHk7aT09dm9pZCAwJiYoaT1iLnJvb3QuZ2V0Q3VzdG9tRGF0YSgiY2tlX2luY2x1ZGVSZWFkb25seSIpKTt2YXIgaz1DS0VESVRPUi5kdGRbZl07CmlmKCFrKXtoPXRydWU7az1DS0VESVRPUi5kdGQuc3Bhbn1iLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkUsMSk7Yi50cmltKCk7dmFyIGw9Yi5jcmVhdGVCb29rbWFyaygpLG09bC5zdGFydE5vZGUsbz1sLmVuZE5vZGUsbj1tLHE7aWYoIWope3ZhciBwPWIuZ2V0Q29tbW9uQW5jZXN0b3IoKSxqPWEobSxwKSxwPWEobyxwKTtqJiYobj1qLmdldE5leHRTb3VyY2VOb2RlKHRydWUpKTtwJiYobz1wKX1mb3Iobi5nZXRQb3NpdGlvbihvKT09Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiYobj0wKTtuOyl7aj1mYWxzZTtpZihuLmVxdWFscyhvKSl7bj1udWxsO2o9dHJ1ZX1lbHNle3ZhciBzPW4udHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP24uZ2V0TmFtZSgpOm51bGwscD1zJiZuLmdldEF0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIik9PSJmYWxzZSIscj1zJiZuLmdldEF0dHJpYnV0ZSgiZGF0YS1ub3N0eWxlIik7aWYocyYmbi5kYXRhKCJja2UtYm9va21hcmsiKSl7bj0Kbi5nZXROZXh0U291cmNlTm9kZSh0cnVlKTtjb250aW51ZX1pZihwJiZpJiZDS0VESVRPUi5kdGQuJGJsb2NrW3NdKWZvcih2YXIgdD1uLHg9Yyh0KSx6PXZvaWQgMCxBPXgubGVuZ3RoLEk9MCx0PUEmJm5ldyBDS0VESVRPUi5kb20ucmFuZ2UodC5nZXREb2N1bWVudCgpKTtJPEE7KytJKXt2YXIgej14W0ldLEw9Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1t6LmRhdGEoImNrZS1maWx0ZXIiKV07aWYoTD9MLmNoZWNrKHRoaXMpOjEpe3Quc2VsZWN0Tm9kZUNvbnRlbnRzKHopO2UuY2FsbCh0aGlzLHQpfX14PXM\/IWtbc118fHI\/MDpwJiYhaT8wOihuLmdldFBvc2l0aW9uKG8pfE0pPT1NJiYoIWcuY2hpbGRSdWxlfHxnLmNoaWxkUnVsZShuKSk6MTtpZih4KWlmKCh4PW4uZ2V0UGFyZW50KCkpJiYoKHguZ2V0RHRkKCl8fENLRURJVE9SLmR0ZC5zcGFuKVtmXXx8aCkmJighZy5wYXJlbnRSdWxlfHxnLnBhcmVudFJ1bGUoeCkpKXtpZighcSYmKCFzfHwhQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVtzXXx8CihuLmdldFBvc2l0aW9uKG8pfE0pPT1NKSl7cT1iLmNsb25lKCk7cS5zZXRTdGFydEJlZm9yZShuKX1zPW4udHlwZTtpZihzPT1DS0VESVRPUi5OT0RFX1RFWFR8fHB8fHM9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIW4uZ2V0Q2hpbGRDb3VudCgpKXtmb3IodmFyIHM9bixXOyhqPSFzLmdldE5leHQoRSkpJiYoVz1zLmdldFBhcmVudCgpLGtbVy5nZXROYW1lKCldKSYmKFcuZ2V0UG9zaXRpb24obSl8USk9PVEmJighZy5jaGlsZFJ1bGV8fGcuY2hpbGRSdWxlKFcpKTspcz1XO3Euc2V0RW5kQWZ0ZXIocyl9fWVsc2Ugaj10cnVlO2Vsc2Ugaj10cnVlO249bi5nZXROZXh0U291cmNlTm9kZShyfHxwKX1pZihqJiZxJiYhcS5jb2xsYXBzZWQpe2Zvcih2YXIgaj15KHRoaXMsZCkscD1qLmhhc0F0dHJpYnV0ZXMoKSxyPXEuZ2V0Q29tbW9uQW5jZXN0b3IoKSxzPXt9LHg9e30sej17fSxBPXt9LFQsUCxaO2omJnI7KXtpZihyLmdldE5hbWUoKT09Zil7Zm9yKFQgaW4gZy5hdHRyaWJ1dGVzKWlmKCFBW1RdJiYKKFo9ci5nZXRBdHRyaWJ1dGUoUCkpKWouZ2V0QXR0cmlidXRlKFQpPT1aP3hbVF09MTpBW1RdPTE7Zm9yKFAgaW4gZy5zdHlsZXMpaWYoIXpbUF0mJihaPXIuZ2V0U3R5bGUoUCkpKWouZ2V0U3R5bGUoUCk9PVo\/c1tQXT0xOnpbUF09MX1yPXIuZ2V0UGFyZW50KCl9Zm9yKFQgaW4geClqLnJlbW92ZUF0dHJpYnV0ZShUKTtmb3IoUCBpbiBzKWoucmVtb3ZlU3R5bGUoUCk7cCYmIWouaGFzQXR0cmlidXRlcygpJiYoaj1udWxsKTtpZihqKXtxLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGopO3EuaW5zZXJ0Tm9kZShqKTt1LmNhbGwodGhpcyxqKTtqLm1lcmdlU2libGluZ3MoKTtDS0VESVRPUi5lbnYuaWV8fGouJC5ub3JtYWxpemUoKX1lbHNle2o9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCJzcGFuIik7cS5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhqKTtxLmluc2VydE5vZGUoaik7dS5jYWxsKHRoaXMsaik7ai5yZW1vdmUodHJ1ZSl9cT1udWxsfX1iLm1vdmVUb0Jvb2ttYXJrKGwpOwpiLnNocmluayhDS0VESVRPUi5TSFJJTktfVEVYVCk7Yi5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULHRydWUpfX1mdW5jdGlvbiBiKGEpe2Z1bmN0aW9uIGIoKXtmb3IodmFyIGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChkLmdldFBhcmVudCgpKSxjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoay5nZXRQYXJlbnQoKSksZT1udWxsLGY9bnVsbCxnPTA7ZzxhLmVsZW1lbnRzLmxlbmd0aDtnKyspe3ZhciBoPWEuZWxlbWVudHNbZ107aWYoaD09YS5ibG9ja3x8aD09YS5ibG9ja0xpbWl0KWJyZWFrO20uY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGgpJiYoZT1oKX1mb3IoZz0wO2c8Yy5lbGVtZW50cy5sZW5ndGg7ZysrKXtoPWMuZWxlbWVudHNbZ107aWYoaD09Yy5ibG9ja3x8aD09Yy5ibG9ja0xpbWl0KWJyZWFrO20uY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGgpJiYoZj1oKX1mJiZrLmJyZWFrUGFyZW50KGYpO2UmJmQuYnJlYWtQYXJlbnQoZSl9YS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLAoxKTt2YXIgYz1hLmNyZWF0ZUJvb2ttYXJrKCksZD1jLnN0YXJ0Tm9kZTtpZihhLmNvbGxhcHNlZCl7Zm9yKHZhciBlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZC5nZXRQYXJlbnQoKSxhLnJvb3QpLGcsaj0wLGg7ajxlLmVsZW1lbnRzLmxlbmd0aCYmKGg9ZS5lbGVtZW50c1tqXSk7aisrKXtpZihoPT1lLmJsb2NrfHxoPT1lLmJsb2NrTGltaXQpYnJlYWs7aWYodGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUoaCkpe3ZhciBpO2lmKGEuY29sbGFwc2VkJiYoYS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGgsQ0tFRElUT1IuRU5EKXx8KGk9YS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGgsQ0tFRElUT1IuU1RBUlQpKSkpe2c9aDtnLm1hdGNoPWk\/InN0YXJ0IjoiZW5kIn1lbHNle2gubWVyZ2VTaWJsaW5ncygpO2guaXModGhpcy5lbGVtZW50KT9zLmNhbGwodGhpcyxoKTpmKGgsbCh0aGlzKVtoLmdldE5hbWUoKV0pfX19aWYoZyl7aD1kO2ZvcihqPTA7O2orKyl7aT1lLmVsZW1lbnRzW2pdOwppZihpLmVxdWFscyhnKSlicmVhaztlbHNlIGlmKGkubWF0Y2gpY29udGludWU7ZWxzZSBpPWkuY2xvbmUoKTtpLmFwcGVuZChoKTtoPWl9aFtnLm1hdGNoPT0ic3RhcnQiPyJpbnNlcnRCZWZvcmUiOiJpbnNlcnRBZnRlciJdKGcpfX1lbHNle3ZhciBrPWMuZW5kTm9kZSxtPXRoaXM7YigpO2ZvcihlPWQ7IWUuZXF1YWxzKGspOyl7Zz1lLmdldE5leHRTb3VyY2VOb2RlKCk7aWYoZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGUpKXtlLmdldE5hbWUoKT09dGhpcy5lbGVtZW50P3MuY2FsbCh0aGlzLGUpOmYoZSxsKHRoaXMpW2UuZ2V0TmFtZSgpXSk7aWYoZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmcuY29udGFpbnMoZCkpe2IoKTtnPWQuZ2V0TmV4dCgpfX1lPWd9fWEubW92ZVRvQm9va21hcmsoYyk7YS5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULHRydWUpfWZ1bmN0aW9uIGMoYSl7dmFyIGI9W107YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKGEuZ2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKT09CiJ0cnVlIil7Yi5wdXNoKGEpO3JldHVybiBmYWxzZX19LENLRURJVE9SLk5PREVfRUxFTUVOVCx0cnVlKTtyZXR1cm4gYn1mdW5jdGlvbiBkKGEpe3ZhciBiPWEuZ2V0RW5jbG9zZWROb2RlKCl8fGEuZ2V0Q29tbW9uQW5jZXN0b3IoZmFsc2UsdHJ1ZSk7KGE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYixhLnJvb3QpKS5jb250YWlucyh0aGlzLmVsZW1lbnQsMSkpJiYhYS5pc1JlYWRPbmx5KCkmJm0oYSx0aGlzKX1mdW5jdGlvbiBoKGEpe3ZhciBiPWEuZ2V0Q29tbW9uQW5jZXN0b3IodHJ1ZSx0cnVlKTtpZihhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGIsYS5yb290KSkuY29udGFpbnModGhpcy5lbGVtZW50LDEpKXt2YXIgYj10aGlzLl8uZGVmaW5pdGlvbixjPWIuYXR0cmlidXRlcztpZihjKWZvcih2YXIgZCBpbiBjKWEucmVtb3ZlQXR0cmlidXRlKGQsY1tkXSk7aWYoYi5zdHlsZXMpZm9yKHZhciBlIGluIGIuc3R5bGVzKWIuc3R5bGVzLmhhc093blByb3BlcnR5KGUpJiYKYS5yZW1vdmVTdHlsZShlKX19ZnVuY3Rpb24gZyhhKXt2YXIgYj1hLmNyZWF0ZUJvb2ttYXJrKHRydWUpLGM9YS5jcmVhdGVJdGVyYXRvcigpO2MuZW5mb3JjZVJlYWxCbG9ja3M9dHJ1ZTtpZih0aGlzLl8uZW50ZXJNb2RlKWMuZW5sYXJnZUJyPXRoaXMuXy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSO2Zvcih2YXIgZCxlPWEuZG9jdW1lbnQsZjtkPWMuZ2V0TmV4dFBhcmFncmFwaCgpOylpZighZC5pc1JlYWRPbmx5KCkmJihjLmFjdGl2ZUZpbHRlcj9jLmFjdGl2ZUZpbHRlci5jaGVjayh0aGlzKToxKSl7Zj15KHRoaXMsZSxkKTtpKGQsZil9YS5tb3ZlVG9Cb29rbWFyayhiKX1mdW5jdGlvbiBuKGEpe3ZhciBiPWEuY3JlYXRlQm9va21hcmsoMSksYz1hLmNyZWF0ZUl0ZXJhdG9yKCk7Yy5lbmZvcmNlUmVhbEJsb2Nrcz10cnVlO2MuZW5sYXJnZUJyPXRoaXMuXy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSO2Zvcih2YXIgZCxlO2Q9Yy5nZXROZXh0UGFyYWdyYXBoKCk7KWlmKHRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGQpKWlmKGQuaXMoInByZSIpKXsoZT0KdGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI\/bnVsbDphLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD8icCI6ImRpdiIpKSYmZC5jb3B5QXR0cmlidXRlcyhlKTtpKGQsZSl9ZWxzZSBzLmNhbGwodGhpcyxkKTthLm1vdmVUb0Jvb2ttYXJrKGIpfWZ1bmN0aW9uIGkoYSxiKXt2YXIgYz0hYjtpZihjKXtiPWEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmNvcHlBdHRyaWJ1dGVzKGIpfXZhciBkPWImJmIuaXMoInByZSIpLGU9YS5pcygicHJlIiksZj0hZCYmZTtpZihkJiYhZSl7ZT1iOyhmPWEuZ2V0Qm9ndXMoKSkmJmYucmVtb3ZlKCk7Zj1hLmdldEh0bWwoKTtmPW8oZiwvKD86XlsgXHRcblxyXSspfCg\/OlsgXHRcblxyXSskKS9nLCIiKTtmPWYucmVwbGFjZSgvWyBcdFxyXG5dKig8YnJbXj5dKj4pWyBcdFxyXG5dKi9naSwiJDEiKTtmPWYucmVwbGFjZSgvKFsgXHRcblxyXSt8Jm5ic3A7KS9nLAoiICIpO2Y9Zi5yZXBsYWNlKC88YnJcYltePl0qPi9naSwiXG4iKTtpZihDS0VESVRPUi5lbnYuaWUpe3ZhciBnPWEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KCJkaXYiKTtnLmFwcGVuZChlKTtlLiQub3V0ZXJIVE1MPSI8cHJlPiIrZisiPC9wcmU+IjtlLmNvcHlBdHRyaWJ1dGVzKGcuZ2V0Rmlyc3QoKSk7ZT1nLmdldEZpcnN0KCkucmVtb3ZlKCl9ZWxzZSBlLnNldEh0bWwoZik7Yj1lfWVsc2UgZj9iPXEoYz9bYS5nZXRIdG1sKCldOmooYSksYik6YS5tb3ZlQ2hpbGRyZW4oYik7Yi5yZXBsYWNlKGEpO2lmKGQpe3ZhciBjPWIsaDtpZigoaD1jLmdldFByZXZpb3VzKHopKSYmaC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmguaXMoInByZSIpKXtkPW8oaC5nZXRIdG1sKCksL1xuJC8sIiIpKyJcblxuIitvKGMuZ2V0SHRtbCgpLC9eXG4vLCIiKTtDS0VESVRPUi5lbnYuaWU\/Yy4kLm91dGVySFRNTD0iPHByZT4iK2QrIjwvcHJlPiI6Yy5zZXRIdG1sKGQpO2gucmVtb3ZlKCl9fWVsc2UgYyYmCnAoYil9ZnVuY3Rpb24gaihhKXthLmdldE5hbWUoKTt2YXIgYj1bXTtvKGEuZ2V0T3V0ZXJIdG1sKCksLyhcU1xzKilcbig\/OlxzfCg8c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmsuKj9cL3NwYW4+KSkqXG4oPyEkKS9naSxmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGIrIjwvcHJlPiIrYysiPHByZT4ifSkucmVwbGFjZSgvPHByZVxiLio\/PihbXHNcU10qPyk8XC9wcmU+L2dpLGZ1bmN0aW9uKGEsYyl7Yi5wdXNoKGMpfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gbyhhLGIsYyl7dmFyIGQ9IiIsZT0iIixhPWEucmVwbGFjZSgvKF48c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmsuKj9cL3NwYW4+KXwoPHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrLio\/XC9zcGFuPiQpL2dpLGZ1bmN0aW9uKGEsYixjKXtiJiYoZD1iKTtjJiYoZT1jKTtyZXR1cm4iIn0pO3JldHVybiBkK2EucmVwbGFjZShiLGMpK2V9ZnVuY3Rpb24gcShhLGIpe3ZhciBjO2EubGVuZ3RoPjEmJihjPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChiLmdldERvY3VtZW50KCkpKTsKZm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPWFbZF0sZT1lLnJlcGxhY2UoLyhcclxufFxyKS9nLCJcbiIpLGU9byhlLC9eWyBcdF0qXG4vLCIiKSxlPW8oZSwvXG4kLywiIiksZT1vKGUsL15bIFx0XSt8WyBcdF0rJC9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGVuZ3RoPT0xPyImbmJzcDsiOmI\/IiAiK0NLRURJVE9SLnRvb2xzLnJlcGVhdCgiJm5ic3A7IixhLmxlbmd0aC0xKTpDS0VESVRPUi50b29scy5yZXBlYXQoIiZuYnNwOyIsYS5sZW5ndGgtMSkrIiAifSksZT1lLnJlcGxhY2UoL1xuL2csIjxicj4iKSxlPWUucmVwbGFjZSgvWyBcdF17Mix9L2csZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdCgiJm5ic3A7IixhLmxlbmd0aC0xKSsiICJ9KTtpZihjKXt2YXIgZj1iLmNsb25lKCk7Zi5zZXRIdG1sKGUpO2MuYXBwZW5kKGYpfWVsc2UgYi5zZXRIdG1sKGUpfXJldHVybiBjfHxifWZ1bmN0aW9uIHMoYSxiKXt2YXIgYz10aGlzLl8uZGVmaW5pdGlvbiwKZD1jLmF0dHJpYnV0ZXMsYz1jLnN0eWxlcyxlPWwodGhpcylbYS5nZXROYW1lKCldLGc9Q0tFRElUT1IudG9vbHMuaXNFbXB0eShkKSYmQ0tFRElUT1IudG9vbHMuaXNFbXB0eShjKSxoO2ZvcihoIGluIGQpaWYoISgoaD09ImNsYXNzInx8dGhpcy5fLmRlZmluaXRpb24uZnVsbE1hdGNoKSYmYS5nZXRBdHRyaWJ1dGUoaCkhPXQoaCxkW2hdKSkmJiEoYiYmaC5zbGljZSgwLDUpPT0iZGF0YS0iKSl7Zz1hLmhhc0F0dHJpYnV0ZShoKTthLnJlbW92ZUF0dHJpYnV0ZShoKX1mb3IodmFyIGogaW4gYylpZighKHRoaXMuXy5kZWZpbml0aW9uLmZ1bGxNYXRjaCYmYS5nZXRTdHlsZShqKSE9dChqLGNbal0sdHJ1ZSkpKXtnPWd8fCEhYS5nZXRTdHlsZShqKTthLnJlbW92ZVN0eWxlKGopfWYoYSxlLHJbYS5nZXROYW1lKCldKTtnJiYodGhpcy5fLmRlZmluaXRpb24uYWx3YXlzUmVtb3ZlRWxlbWVudD9wKGEsMSk6IUNLRURJVE9SLmR0ZC4kYmxvY2tbYS5nZXROYW1lKCldfHx0aGlzLl8uZW50ZXJNb2RlPT0KQ0tFRElUT1IuRU5URVJfQlImJiFhLmhhc0F0dHJpYnV0ZXMoKT9wKGEpOmEucmVuYW1lTm9kZSh0aGlzLl8uZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9QPyJwIjoiZGl2IikpfWZ1bmN0aW9uIHUoYSl7Zm9yKHZhciBiPWwodGhpcyksYz1hLmdldEVsZW1lbnRzQnlUYWcodGhpcy5lbGVtZW50KSxkLGU9Yy5jb3VudCgpOy0tZT49MDspe2Q9Yy5nZXRJdGVtKGUpO2QuaXNSZWFkT25seSgpfHxzLmNhbGwodGhpcyxkLHRydWUpfWZvcih2YXIgZyBpbiBiKWlmKGchPXRoaXMuZWxlbWVudCl7Yz1hLmdldEVsZW1lbnRzQnlUYWcoZyk7Zm9yKGU9Yy5jb3VudCgpLTE7ZT49MDtlLS0pe2Q9Yy5nZXRJdGVtKGUpO2QuaXNSZWFkT25seSgpfHxmKGQsYltnXSl9fX1mdW5jdGlvbiBmKGEsYixjKXtpZihiPWImJmIuYXR0cmlidXRlcylmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXVswXSxmO2lmKGY9YS5nZXRBdHRyaWJ1dGUoZSkpe3ZhciBnPWJbZF1bMV07KGc9PT1udWxsfHwKZy50ZXN0JiZnLnRlc3QoZil8fHR5cGVvZiBnPT0ic3RyaW5nIiYmZj09ZykmJmEucmVtb3ZlQXR0cmlidXRlKGUpfX1jfHxwKGEpfWZ1bmN0aW9uIHAoYSxiKXtpZighYS5oYXNBdHRyaWJ1dGVzKCl8fGIpaWYoQ0tFRElUT1IuZHRkLiRibG9ja1thLmdldE5hbWUoKV0pe3ZhciBjPWEuZ2V0UHJldmlvdXMoeiksZD1hLmdldE5leHQoeik7YyYmKGMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHwhYy5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KSkmJmEuYXBwZW5kKCJiciIsMSk7ZCYmKGQudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHwhZC5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KSkmJmEuYXBwZW5kKCJiciIpO2EucmVtb3ZlKHRydWUpfWVsc2V7Yz1hLmdldEZpcnN0KCk7ZD1hLmdldExhc3QoKTthLnJlbW92ZSh0cnVlKTtpZihjKXtjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5tZXJnZVNpYmxpbmdzKCk7ZCYmKCFjLmVxdWFscyhkKSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpJiYKZC5tZXJnZVNpYmxpbmdzKCl9fX1mdW5jdGlvbiB5KGEsYixjKXt2YXIgZDtkPWEuZWxlbWVudDtkPT0iKiImJihkPSJzcGFuIik7ZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZCxiKTtjJiZjLmNvcHlBdHRyaWJ1dGVzKGQpO2Q9bShkLGEpO2IuZ2V0Q3VzdG9tRGF0YSgiZG9jX3Byb2Nlc3Npbmdfc3R5bGUiKSYmZC5oYXNBdHRyaWJ1dGUoImlkIik\/ZC5yZW1vdmVBdHRyaWJ1dGUoImlkIik6Yi5zZXRDdXN0b21EYXRhKCJkb2NfcHJvY2Vzc2luZ19zdHlsZSIsMSk7cmV0dXJuIGR9ZnVuY3Rpb24gbShhLGIpe3ZhciBjPWIuXy5kZWZpbml0aW9uLGQ9Yy5hdHRyaWJ1dGVzLGM9Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGMpO2lmKGQpZm9yKHZhciBlIGluIGQpYS5zZXRBdHRyaWJ1dGUoZSxkW2VdKTtjJiZhLnNldEF0dHJpYnV0ZSgic3R5bGUiLGMpO3JldHVybiBhfWZ1bmN0aW9uIGsoYSxiKXtmb3IodmFyIGMgaW4gYSlhW2NdPWFbY10ucmVwbGFjZShJLGZ1bmN0aW9uKGEsCmMpe3JldHVybiBiW2NdfSl9ZnVuY3Rpb24gbChhKXtpZihhLl8ub3ZlcnJpZGVzKXJldHVybiBhLl8ub3ZlcnJpZGVzO3ZhciBiPWEuXy5vdmVycmlkZXM9e30sYz1hLl8uZGVmaW5pdGlvbi5vdmVycmlkZXM7aWYoYyl7Q0tFRElUT1IudG9vbHMuaXNBcnJheShjKXx8KGM9W2NdKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXSxmLGc7aWYodHlwZW9mIGU9PSJzdHJpbmciKWY9ZS50b0xvd2VyQ2FzZSgpO2Vsc2V7Zj1lLmVsZW1lbnQ\/ZS5lbGVtZW50LnRvTG93ZXJDYXNlKCk6YS5lbGVtZW50O2c9ZS5hdHRyaWJ1dGVzfWU9YltmXXx8KGJbZl09e30pO2lmKGcpe3ZhciBlPWUuYXR0cmlidXRlcz1lLmF0dHJpYnV0ZXN8fFtdLGg7Zm9yKGggaW4gZyllLnB1c2goW2gudG9Mb3dlckNhc2UoKSxnW2hdXSl9fX1yZXR1cm4gYn1mdW5jdGlvbiB0KGEsYixjKXt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoInNwYW4iKTtkW2M\/InNldFN0eWxlIjoic2V0QXR0cmlidXRlIl0oYSwKYik7cmV0dXJuIGRbYz8iZ2V0U3R5bGUiOiJnZXRBdHRyaWJ1dGUiXShhKX1mdW5jdGlvbiB4KGEsYil7Zm9yKHZhciBjPWEuZG9jdW1lbnQsZD1hLmdldFJhbmdlcygpLGU9Yj90aGlzLnJlbW92ZUZyb21SYW5nZTp0aGlzLmFwcGx5VG9SYW5nZSxmLGc9ZC5jcmVhdGVJdGVyYXRvcigpO2Y9Zy5nZXROZXh0UmFuZ2UoKTspZS5jYWxsKHRoaXMsZik7YS5zZWxlY3RSYW5nZXMoZCk7Yy5yZW1vdmVDdXN0b21EYXRhKCJkb2NfcHJvY2Vzc2luZ19zdHlsZSIpfXZhciByPXthZGRyZXNzOjEsZGl2OjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEscDoxLHByZToxLHNlY3Rpb246MSxoZWFkZXI6MSxmb290ZXI6MSxuYXY6MSxhcnRpY2xlOjEsYXNpZGU6MSxmaWd1cmU6MSxkaWFsb2c6MSxoZ3JvdXA6MSx0aW1lOjEsbWV0ZXI6MSxtZW51OjEsY29tbWFuZDoxLGtleWdlbjoxLG91dHB1dDoxLHByb2dyZXNzOjEsZGV0YWlsczoxLGRhdGFncmlkOjEsZGF0YWxpc3Q6MX0sTD17YToxLAplbWJlZDoxLGhyOjEsaW1nOjEsbGk6MSxvYmplY3Q6MSxvbDoxLHRhYmxlOjEsdGQ6MSx0cjoxLHRoOjEsdWw6MSxkbDoxLGR0OjEsZGQ6MSxmb3JtOjEsYXVkaW86MSx2aWRlbzoxfSxBPS9ccyooPzo7XHMqfCQpLyxJPS8jXCgoLis\/KVwpL2csRT1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKDAsMSksej1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKDEpO0NLRURJVE9SLnN0eWxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5hdHRyaWJ1dGVzO2lmKGMmJmMuc3R5bGUpe2Euc3R5bGVzPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLnN0eWxlcyxDS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYy5zdHlsZSkpO2RlbGV0ZSBjLnN0eWxlfWlmKGIpe2E9Q0tFRElUT1IudG9vbHMuY2xvbmUoYSk7ayhhLmF0dHJpYnV0ZXMsYik7ayhhLnN0eWxlcyxiKX1jPXRoaXMuZWxlbWVudD1hLmVsZW1lbnQ\/dHlwZW9mIGEuZWxlbWVudD09InN0cmluZyI\/YS5lbGVtZW50LnRvTG93ZXJDYXNlKCk6CmEuZWxlbWVudDoiKiI7dGhpcy50eXBlPWEudHlwZXx8KHJbY10\/Q0tFRElUT1IuU1RZTEVfQkxPQ0s6TFtjXT9DS0VESVRPUi5TVFlMRV9PQkpFQ1Q6Q0tFRElUT1IuU1RZTEVfSU5MSU5FKTtpZih0eXBlb2YgdGhpcy5lbGVtZW50PT0ib2JqZWN0Iil0aGlzLnR5cGU9Q0tFRElUT1IuU1RZTEVfT0JKRUNUO3RoaXMuXz17ZGVmaW5pdGlvbjphfX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5hcHBseVN0eWxlPWZ1bmN0aW9uKGEpe2EuY2hlY2tBcHBsaWNhYmxlKHRoaXMuZWxlbWVudFBhdGgoKSkmJnguY2FsbChhLHRoaXMuZ2V0U2VsZWN0aW9uKCkpfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnJlbW92ZVN0eWxlPWZ1bmN0aW9uKGEpe2EuY2hlY2tBcHBsaWNhYmxlKHRoaXMuZWxlbWVudFBhdGgoKSkmJnguY2FsbChhLHRoaXMuZ2V0U2VsZWN0aW9uKCksMSl9O0NLRURJVE9SLnN0eWxlLnByb3RvdHlwZT17YXBwbHk6ZnVuY3Rpb24oYSl7eC5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSl9LApyZW1vdmU6ZnVuY3Rpb24oYSl7eC5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSwxKX0sYXBwbHlUb1JhbmdlOmZ1bmN0aW9uKGEpe3JldHVybih0aGlzLmFwcGx5VG9SYW5nZT10aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0lOTElORT9lOnRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfQkxPQ0s\/Zzp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVD9kOm51bGwpLmNhbGwodGhpcyxhKX0scmVtb3ZlRnJvbVJhbmdlOmZ1bmN0aW9uKGEpe3JldHVybih0aGlzLnJlbW92ZUZyb21SYW5nZT10aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0lOTElORT9iOnRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfQkxPQ0s\/bjp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVD9oOm51bGwpLmNhbGwodGhpcyxhKX0sYXBwbHlUb09iamVjdDpmdW5jdGlvbihhKXttKGEsdGhpcyl9LGNoZWNrQWN0aXZlOmZ1bmN0aW9uKGEpe3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgQ0tFRElUT1IuU1RZTEVfQkxPQ0s6cmV0dXJuIHRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGEuYmxvY2t8fAphLmJsb2NrTGltaXQsdHJ1ZSk7Y2FzZSBDS0VESVRPUi5TVFlMRV9PQkpFQ1Q6Y2FzZSBDS0VESVRPUi5TVFlMRV9JTkxJTkU6Zm9yKHZhciBiPWEuZWxlbWVudHMsYz0wLGQ7YzxiLmxlbmd0aDtjKyspe2Q9YltjXTtpZighKHRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfSU5MSU5FJiYoZD09YS5ibG9ja3x8ZD09YS5ibG9ja0xpbWl0KSkpe2lmKHRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfT0JKRUNUKXt2YXIgZT1kLmdldE5hbWUoKTtpZighKHR5cGVvZiB0aGlzLmVsZW1lbnQ9PSJzdHJpbmciP2U9PXRoaXMuZWxlbWVudDplIGluIHRoaXMuZWxlbWVudCkpY29udGludWV9aWYodGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUoZCx0cnVlKSlyZXR1cm4gdHJ1ZX19fXJldHVybiBmYWxzZX0sY2hlY2tBcHBsaWNhYmxlOmZ1bmN0aW9uKGEsYil7aWYoYiYmIWIuY2hlY2sodGhpcykpcmV0dXJuIGZhbHNlO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgQ0tFRElUT1IuU1RZTEVfT0JKRUNUOnJldHVybiEhYS5jb250YWlucyh0aGlzLmVsZW1lbnQpOwpjYXNlIENLRURJVE9SLlNUWUxFX0JMT0NLOnJldHVybiEhYS5ibG9ja0xpbWl0LmdldER0ZCgpW3RoaXMuZWxlbWVudF19cmV0dXJuIHRydWV9LGNoZWNrRWxlbWVudE1hdGNoOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fLmRlZmluaXRpb247aWYoIWF8fCFjLmlnbm9yZVJlYWRvbmx5JiZhLmlzUmVhZE9ubHkoKSlyZXR1cm4gZmFsc2U7dmFyIGQ9YS5nZXROYW1lKCk7aWYodHlwZW9mIHRoaXMuZWxlbWVudD09InN0cmluZyI\/ZD09dGhpcy5lbGVtZW50OmQgaW4gdGhpcy5lbGVtZW50KXtpZighYiYmIWEuaGFzQXR0cmlidXRlcygpKXJldHVybiB0cnVlO2lmKGQ9Yy5fQUMpYz1kO2Vsc2V7dmFyIGQ9e30sZT0wLGY9Yy5hdHRyaWJ1dGVzO2lmKGYpZm9yKHZhciBnIGluIGYpe2UrKztkW2ddPWZbZ119aWYoZz1DS0VESVRPUi5zdHlsZS5nZXRTdHlsZVRleHQoYykpe2Quc3R5bGV8fGUrKztkLnN0eWxlPWd9ZC5fbGVuZ3RoPWU7Yz1jLl9BQz1kfWlmKGMuX2xlbmd0aCl7Zm9yKHZhciBoIGluIGMpaWYoaCE9CiJfbGVuZ3RoIil7ZT1hLmdldEF0dHJpYnV0ZShoKXx8IiI7aWYoaD09InN0eWxlIilhOntkPWNbaF07dHlwZW9mIGQ9PSJzdHJpbmciJiYoZD1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoZCkpO3R5cGVvZiBlPT0ic3RyaW5nIiYmKGU9Q0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KGUsdHJ1ZSkpO2c9dm9pZCAwO2ZvcihnIGluIGQpaWYoIShnIGluIGUmJihlW2ddPT1kW2ddfHxkW2ddPT0iaW5oZXJpdCJ8fGVbZ109PSJpbmhlcml0IikpKXtkPWZhbHNlO2JyZWFrIGF9ZD10cnVlfWVsc2UgZD1jW2hdPT1lO2lmKGQpe2lmKCFiKXJldHVybiB0cnVlfWVsc2UgaWYoYilyZXR1cm4gZmFsc2V9aWYoYilyZXR1cm4gdHJ1ZX1lbHNlIHJldHVybiB0cnVlfXJldHVybiBmYWxzZX0sY2hlY2tFbGVtZW50UmVtb3ZhYmxlOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5jaGVja0VsZW1lbnRNYXRjaChhLGIpKXJldHVybiB0cnVlO3ZhciBjPWwodGhpcylbYS5nZXROYW1lKCldO2lmKGMpe3ZhciBkOwppZighKGM9Yy5hdHRyaWJ1dGVzKSlyZXR1cm4gdHJ1ZTtmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyl7ZD1jW2VdWzBdO2lmKGQ9YS5nZXRBdHRyaWJ1dGUoZCkpe3ZhciBmPWNbZV1bMV07aWYoZj09PW51bGx8fHR5cGVvZiBmPT0ic3RyaW5nIiYmZD09Znx8Zi50ZXN0KGQpKXJldHVybiB0cnVlfX19cmV0dXJuIGZhbHNlfSxidWlsZFByZXZpZXc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLmRlZmluaXRpb24sYz1bXSxkPWIuZWxlbWVudDtkPT0iYmRvIiYmKGQ9InNwYW4iKTt2YXIgYz1bIjwiLGRdLGU9Yi5hdHRyaWJ1dGVzO2lmKGUpZm9yKHZhciBmIGluIGUpYy5wdXNoKCIgIixmLCc9IicsZVtmXSwnIicpOyhlPUNLRURJVE9SLnN0eWxlLmdldFN0eWxlVGV4dChiKSkmJmMucHVzaCgnIHN0eWxlPSInLGUsJyInKTtjLnB1c2goIj4iLGF8fGIubmFtZSwiPC8iLGQsIj4iKTtyZXR1cm4gYy5qb2luKCIiKX0sZ2V0RGVmaW5pdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZGVmaW5pdGlvbn19OwpDS0VESVRPUi5zdHlsZS5nZXRTdHlsZVRleHQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5fU1Q7aWYoYilyZXR1cm4gYjt2YXIgYj1hLnN0eWxlcyxjPWEuYXR0cmlidXRlcyYmYS5hdHRyaWJ1dGVzLnN0eWxlfHwiIixkPSIiO2MubGVuZ3RoJiYoYz1jLnJlcGxhY2UoQSwiOyIpKTtmb3IodmFyIGUgaW4gYil7dmFyIGY9YltlXSxnPShlKyI6IitmKS5yZXBsYWNlKEEsIjsiKTtmPT0iaW5oZXJpdCI\/ZD1kK2c6Yz1jK2d9Yy5sZW5ndGgmJihjPUNLRURJVE9SLnRvb2xzLm5vcm1hbGl6ZUNzc1RleHQoYyx0cnVlKSk7cmV0dXJuIGEuX1NUPWMrZH07dmFyIE09Q0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HfENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTHxDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQsUT1DS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd8Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMfENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRH0pKCk7CkNLRURJVE9SLnN0eWxlQ29tbWFuZD1mdW5jdGlvbihhLGUpe3RoaXMucmVxdWlyZWRDb250ZW50PXRoaXMuYWxsb3dlZENvbnRlbnQ9dGhpcy5zdHlsZT1hO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGUsdHJ1ZSl9O0NLRURJVE9SLnN0eWxlQ29tbWFuZC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihhKXthLmZvY3VzKCk7dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGP2EuYXBwbHlTdHlsZSh0aGlzLnN0eWxlKTp0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTiYmYS5yZW1vdmVTdHlsZSh0aGlzLnN0eWxlKX07Q0tFRElUT1Iuc3R5bGVzU2V0PW5ldyBDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIoIiIsInN0eWxlc1NldCIpO0NLRURJVE9SLmFkZFN0eWxlc1NldD1DS0VESVRPUi50b29scy5iaW5kKENLRURJVE9SLnN0eWxlc1NldC5hZGQsQ0tFRElUT1Iuc3R5bGVzU2V0KTsKQ0tFRElUT1IubG9hZFN0eWxlc1NldD1mdW5jdGlvbihhLGUsYil7Q0tFRElUT1Iuc3R5bGVzU2V0LmFkZEV4dGVybmFsKGEsZSwiIik7Q0tFRElUT1Iuc3R5bGVzU2V0LmxvYWQoYSxiKX07CkNLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZ2V0U3R5bGVzU2V0PWZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5zdHlsZXNEZWZpbml0aW9ucylhKHRoaXMuXy5zdHlsZXNEZWZpbml0aW9ucyk7ZWxzZXt2YXIgZT10aGlzLGI9ZS5jb25maWcuc3R5bGVzQ29tYm9fc3R5bGVzU2V0fHxlLmNvbmZpZy5zdHlsZXNTZXQ7aWYoYj09PWZhbHNlKWEobnVsbCk7ZWxzZSBpZihiIGluc3RhbmNlb2YgQXJyYXkpe2UuXy5zdHlsZXNEZWZpbml0aW9ucz1iO2EoYil9ZWxzZXtifHwoYj0iZGVmYXVsdCIpO3ZhciBiPWIuc3BsaXQoIjoiKSxjPWJbMF07Q0tFRElUT1Iuc3R5bGVzU2V0LmFkZEV4dGVybmFsKGMsYlsxXT9iLnNsaWNlKDEpLmpvaW4oIjoiKTpDS0VESVRPUi5nZXRVcmwoInN0eWxlcy5qcyIpLCIiKTtDS0VESVRPUi5zdHlsZXNTZXQubG9hZChjLGZ1bmN0aW9uKGIpe2UuXy5zdHlsZXNEZWZpbml0aW9ucz1iW2NdO2EoZS5fLnN0eWxlc0RlZmluaXRpb25zKX0pfX19OwpDS0VESVRPUi5kb20uY29tbWVudD1mdW5jdGlvbihhLGUpe3R5cGVvZiBhPT0ic3RyaW5nIiYmKGE9KGU\/ZS4kOmRvY3VtZW50KS5jcmVhdGVDb21tZW50KGEpKTtDS0VESVRPUi5kb20uZG9tT2JqZWN0LmNhbGwodGhpcyxhKX07Q0tFRElUT1IuZG9tLmNvbW1lbnQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20ubm9kZTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLmNvbW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfQ09NTUVOVCxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4iPFwhLS0iK3RoaXMuJC5ub2RlVmFsdWUrIi0tXD4ifX0pOyJ1c2Ugc3RyaWN0IjsKKGZ1bmN0aW9uKCl7dmFyIGE9e30sZT17fSxiO2ZvcihiIGluIENLRURJVE9SLmR0ZC4kYmxvY2tMaW1pdCliIGluIENLRURJVE9SLmR0ZC4kbGlzdHx8KGFbYl09MSk7Zm9yKGIgaW4gQ0tFRElUT1IuZHRkLiRibG9jayliIGluIENLRURJVE9SLmR0ZC4kYmxvY2tMaW1pdHx8YiBpbiBDS0VESVRPUi5kdGQuJGVtcHR5fHwoZVtiXT0xKTtDS0VESVRPUi5kb20uZWxlbWVudFBhdGg9ZnVuY3Rpb24oYixkKXt2YXIgaD1udWxsLGc9bnVsbCxuPVtdLGk9YixqLGQ9ZHx8Yi5nZXREb2N1bWVudCgpLmdldEJvZHkoKTtkbyBpZihpLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7bi5wdXNoKGkpO2lmKCF0aGlzLmxhc3RFbGVtZW50KXt0aGlzLmxhc3RFbGVtZW50PWk7aWYoaS5pcyhDS0VESVRPUi5kdGQuJG9iamVjdCl8fGkuZ2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKT09ImZhbHNlIiljb250aW51ZX1pZihpLmVxdWFscyhkKSlicmVhaztpZighZyl7aj1pLmdldE5hbWUoKTsKaS5nZXRBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpPT0idHJ1ZSI\/Zz1pOiFoJiZlW2pdJiYoaD1pKTtpZihhW2pdKXt2YXIgbztpZihvPSFoKXtpZihqPWo9PSJkaXYiKXthOntqPWkuZ2V0Q2hpbGRyZW4oKTtvPTA7Zm9yKHZhciBxPWouY291bnQoKTtvPHE7bysrKXt2YXIgcz1qLmdldEl0ZW0obyk7aWYocy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kYmxvY2tbcy5nZXROYW1lKCldKXtqPXRydWU7YnJlYWsgYX19aj1mYWxzZX1qPSFqfW89an1vP2g9aTpnPWl9fX13aGlsZShpPWkuZ2V0UGFyZW50KCkpO2d8fChnPWQpO3RoaXMuYmxvY2s9aDt0aGlzLmJsb2NrTGltaXQ9Zzt0aGlzLnJvb3Q9ZDt0aGlzLmVsZW1lbnRzPW59fSkoKTsKQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoLnByb3RvdHlwZT17Y29tcGFyZTpmdW5jdGlvbihhKXt2YXIgZT10aGlzLmVsZW1lbnRzLGE9YSYmYS5lbGVtZW50cztpZighYXx8ZS5sZW5ndGghPWEubGVuZ3RoKXJldHVybiBmYWxzZTtmb3IodmFyIGI9MDtiPGUubGVuZ3RoO2IrKylpZighZVtiXS5lcXVhbHMoYVtiXSkpcmV0dXJuIGZhbHNlO3JldHVybiB0cnVlfSxjb250YWluczpmdW5jdGlvbihhLGUsYil7dmFyIGM7dHlwZW9mIGE9PSJzdHJpbmciJiYoYz1mdW5jdGlvbihiKXtyZXR1cm4gYi5nZXROYW1lKCk9PWF9KTthIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ\/Yz1mdW5jdGlvbihiKXtyZXR1cm4gYi5lcXVhbHMoYSl9OkNLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSk\/Yz1mdW5jdGlvbihiKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuaW5kZXhPZihhLGIuZ2V0TmFtZSgpKT4tMX06dHlwZW9mIGE9PSJmdW5jdGlvbiI\/Yz1hOnR5cGVvZiBhPT0ib2JqZWN0IiYmKGM9CmZ1bmN0aW9uKGIpe3JldHVybiBiLmdldE5hbWUoKWluIGF9KTt2YXIgZD10aGlzLmVsZW1lbnRzLGg9ZC5sZW5ndGg7ZSYmaC0tO2lmKGIpe2Q9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZCwwKTtkLnJldmVyc2UoKX1mb3IoZT0wO2U8aDtlKyspaWYoYyhkW2VdKSlyZXR1cm4gZFtlXTtyZXR1cm4gbnVsbH0saXNDb250ZXh0Rm9yOmZ1bmN0aW9uKGEpe3ZhciBlO2lmKGEgaW4gQ0tFRElUT1IuZHRkLiRibG9jayl7ZT10aGlzLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kaW50ZXJtZWRpYXRlKXx8dGhpcy5yb290LmVxdWFscyh0aGlzLmJsb2NrKSYmdGhpcy5ibG9ja3x8dGhpcy5ibG9ja0xpbWl0O3JldHVybiEhZS5nZXREdGQoKVthXX1yZXR1cm4gdHJ1ZX0sZGlyZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuYmxvY2t8fHRoaXMuYmxvY2tMaW1pdHx8dGhpcy5yb290KS5nZXREaXJlY3Rpb24oMSl9fTsKQ0tFRElUT1IuZG9tLnRleHQ9ZnVuY3Rpb24oYSxlKXt0eXBlb2YgYT09InN0cmluZyImJihhPShlP2UuJDpkb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoYSkpO3RoaXMuJD1hfTtDS0VESVRPUi5kb20udGV4dC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5ub2RlOwpDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLnRleHQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfVEVYVCxnZXRMZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLm5vZGVWYWx1ZS5sZW5ndGh9LGdldFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLm5vZGVWYWx1ZX0sc2V0VGV4dDpmdW5jdGlvbihhKXt0aGlzLiQubm9kZVZhbHVlPWF9LHNwbGl0OmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuJC5wYXJlbnROb2RlLGI9ZS5jaGlsZE5vZGVzLmxlbmd0aCxjPXRoaXMuZ2V0TGVuZ3RoKCksZD10aGlzLmdldERvY3VtZW50KCksaD1uZXcgQ0tFRElUT1IuZG9tLnRleHQodGhpcy4kLnNwbGl0VGV4dChhKSxkKTtpZihlLmNoaWxkTm9kZXMubGVuZ3RoPT1iKWlmKGE+PWMpe2g9ZC5jcmVhdGVUZXh0KCIiKTtoLmluc2VydEFmdGVyKHRoaXMpfWVsc2V7YT1kLmNyZWF0ZVRleHQoIiIpO2EuaW5zZXJ0QWZ0ZXIoaCk7YS5yZW1vdmUoKX1yZXR1cm4gaH0sc3Vic3RyaW5nOmZ1bmN0aW9uKGEsCmUpe3JldHVybiB0eXBlb2YgZSE9Im51bWJlciI\/dGhpcy4kLm5vZGVWYWx1ZS5zdWJzdHIoYSk6dGhpcy4kLm5vZGVWYWx1ZS5zdWJzdHJpbmcoYSxlKX19KTsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGMsZCl7dmFyIGU9YS5zZXJpYWxpemFibGUsZz1jW2Q\/ImVuZENvbnRhaW5lciI6InN0YXJ0Q29udGFpbmVyIl0sbj1kPyJlbmRPZmZzZXQiOiJzdGFydE9mZnNldCIsaT1lP2MuZG9jdW1lbnQuZ2V0QnlJZChhLnN0YXJ0Tm9kZSk6YS5zdGFydE5vZGUsYT1lP2MuZG9jdW1lbnQuZ2V0QnlJZChhLmVuZE5vZGUpOmEuZW5kTm9kZTtpZihnLmVxdWFscyhpLmdldFByZXZpb3VzKCkpKXtjLnN0YXJ0T2Zmc2V0PWMuc3RhcnRPZmZzZXQtZy5nZXRMZW5ndGgoKS1hLmdldFByZXZpb3VzKCkuZ2V0TGVuZ3RoKCk7Zz1hLmdldE5leHQoKX1lbHNlIGlmKGcuZXF1YWxzKGEuZ2V0UHJldmlvdXMoKSkpe2Muc3RhcnRPZmZzZXQ9Yy5zdGFydE9mZnNldC1nLmdldExlbmd0aCgpO2c9YS5nZXROZXh0KCl9Zy5lcXVhbHMoaS5nZXRQYXJlbnQoKSkmJmNbbl0rKztnLmVxdWFscyhhLmdldFBhcmVudCgpKSYmY1tuXSsrO2NbZD8iZW5kQ29udGFpbmVyIjoic3RhcnRDb250YWluZXIiXT0KZztyZXR1cm4gY31DS0VESVRPUi5kb20ucmFuZ2VMaXN0PWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KXJldHVybiBhO2E\/YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5yYW5nZSYmKGE9W2FdKTphPVtdO3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoYSxlKX07dmFyIGU9e2NyZWF0ZUl0ZXJhdG9yOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxjPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxkPVtdLGU7cmV0dXJue2dldE5leHRSYW5nZTpmdW5jdGlvbihnKXtlPWU9PXZvaWQgMD8wOmUrMTt2YXIgbj1hW2VdO2lmKG4mJmEubGVuZ3RoPjEpe2lmKCFlKWZvcih2YXIgaT1hLmxlbmd0aC0xO2k+PTA7aS0tKWQudW5zaGlmdChhW2ldLmNyZWF0ZUJvb2ttYXJrKHRydWUpKTtpZihnKWZvcih2YXIgaj0wO2FbZStqKzFdOyl7Zm9yKHZhciBvPW4uZG9jdW1lbnQsZz0wLGk9by5nZXRCeUlkKGRbal0uZW5kTm9kZSksbz1vLmdldEJ5SWQoZFtqKwoxXS5zdGFydE5vZGUpOzspe2k9aS5nZXROZXh0U291cmNlTm9kZShmYWxzZSk7aWYoby5lcXVhbHMoaSkpZz0xO2Vsc2UgaWYoYyhpKXx8aS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmkuaXNCbG9ja0JvdW5kYXJ5KCkpY29udGludWU7YnJlYWt9aWYoIWcpYnJlYWs7aisrfWZvcihuLm1vdmVUb0Jvb2ttYXJrKGQuc2hpZnQoKSk7ai0tOyl7aT1hWysrZV07aS5tb3ZlVG9Cb29rbWFyayhkLnNoaWZ0KCkpO24uc2V0RW5kKGkuZW5kQ29udGFpbmVyLGkuZW5kT2Zmc2V0KX19cmV0dXJuIG59fX0sY3JlYXRlQm9va21hcmtzOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYz1bXSxkLGU9MDtlPHRoaXMubGVuZ3RoO2UrKyl7Yy5wdXNoKGQ9dGhpc1tlXS5jcmVhdGVCb29rbWFyayhiLHRydWUpKTtmb3IodmFyIGc9ZSsxO2c8dGhpcy5sZW5ndGg7ZysrKXt0aGlzW2ddPWEoZCx0aGlzW2ddKTt0aGlzW2ddPWEoZCx0aGlzW2ddLHRydWUpfX1yZXR1cm4gY30sY3JlYXRlQm9va21hcmtzMjpmdW5jdGlvbihhKXtmb3IodmFyIGM9CltdLGQ9MDtkPHRoaXMubGVuZ3RoO2QrKyljLnB1c2godGhpc1tkXS5jcmVhdGVCb29rbWFyazIoYSkpO3JldHVybiBjfSxtb3ZlVG9Cb29rbWFya3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmxlbmd0aDtjKyspdGhpc1tjXS5tb3ZlVG9Cb29rbWFyayhhW2NdKX19fSkoKTsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3JldHVybiBDS0VESVRPUi5nZXRVcmwoQ0tFRElUT1Iuc2tpbk5hbWUuc3BsaXQoIiwiKVsxXXx8InNraW5zLyIrQ0tFRElUT1Iuc2tpbk5hbWUuc3BsaXQoIiwiKVswXSsiLyIpfWZ1bmN0aW9uIGUoYil7dmFyIGM9Q0tFRElUT1Iuc2tpblsidWFfIitiXSxkPUNLRURJVE9SLmVudjtpZihjKWZvcih2YXIgYz1jLnNwbGl0KCIsIikuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhPmI\/LTE6MX0pLGU9MCxnO2U8Yy5sZW5ndGg7ZSsrKXtnPWNbZV07aWYoZC5pZSYmKGcucmVwbGFjZSgvXmllLywiIik9PWQudmVyc2lvbnx8ZC5xdWlya3MmJmc9PSJpZXF1aXJrcyIpKWc9ImllIjtpZihkW2ddKXtiPWIrKCJfIitjW2VdKTticmVha319cmV0dXJuIENLRURJVE9SLmdldFVybChhKCkrYisiLmNzcyIpfWZ1bmN0aW9uIGIoYSxiKXtpZighaFthXSl7Q0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVTaGVldChlKGEpKTtoW2FdPTF9YiYmYigpfQpmdW5jdGlvbiBjKGEpe3ZhciBiPWEuZ2V0QnlJZChnKTtpZighYil7Yj1hLmdldEhlYWQoKS5hcHBlbmQoInN0eWxlIik7Yi5zZXRBdHRyaWJ1dGUoImlkIixnKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvY3NzIil9cmV0dXJuIGJ9ZnVuY3Rpb24gZChhLGIsYyl7dmFyIGQsZSxmO2lmKENLRURJVE9SLmVudi53ZWJraXQpe2I9Yi5zcGxpdCgifSIpLnNsaWNlKDAsLTEpO2ZvcihlPTA7ZTxiLmxlbmd0aDtlKyspYltlXT1iW2VdLnNwbGl0KCJ7Iil9Zm9yKHZhciBnPTA7ZzxhLmxlbmd0aDtnKyspaWYoQ0tFRElUT1IuZW52LndlYmtpdClmb3IoZT0wO2U8Yi5sZW5ndGg7ZSsrKXtmPWJbZV1bMV07Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKylmPWYucmVwbGFjZShjW2RdWzBdLGNbZF1bMV0pO2FbZ10uJC5zaGVldC5hZGRSdWxlKGJbZV1bMF0sZil9ZWxzZXtmPWI7Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKylmPWYucmVwbGFjZShjW2RdWzBdLGNbZF1bMV0pO0NLRURJVE9SLmVudi5pZSYmCkNLRURJVE9SLmVudi52ZXJzaW9uPDExP2FbZ10uJC5zdHlsZVNoZWV0LmNzc1RleHQ9YVtnXS4kLnN0eWxlU2hlZXQuY3NzVGV4dCtmOmFbZ10uJC5pbm5lckhUTUw9YVtnXS4kLmlubmVySFRNTCtmfX12YXIgaD17fTtDS0VESVRPUi5za2luPXtwYXRoOmEsbG9hZFBhcnQ6ZnVuY3Rpb24oYyxkKXtDS0VESVRPUi5za2luLm5hbWUhPUNLRURJVE9SLnNraW5OYW1lLnNwbGl0KCIsIilbMF0\/Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoQ0tFRElUT1IuZ2V0VXJsKGEoKSsic2tpbi5qcyIpLGZ1bmN0aW9uKCl7YihjLGQpfSk6YihjLGQpfSxnZXRQYXRoOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi5nZXRVcmwoZShhKSl9LGljb25zOnt9LGFkZEljb246ZnVuY3Rpb24oYSxiLGMsZCl7YT1hLnRvTG93ZXJDYXNlKCk7dGhpcy5pY29uc1thXXx8KHRoaXMuaWNvbnNbYV09e3BhdGg6YixvZmZzZXQ6Y3x8MCxiZ3NpemU6ZHx8IjE2cHgifSl9LGdldEljb25TdHlsZTpmdW5jdGlvbihhLApiLGMsZCxlKXt2YXIgZjtpZihhKXthPWEudG9Mb3dlckNhc2UoKTtiJiYoZj10aGlzLmljb25zW2ErIi1ydGwiXSk7Znx8KGY9dGhpcy5pY29uc1thXSl9YT1jfHxmJiZmLnBhdGh8fCIiO2Q9ZHx8ZiYmZi5vZmZzZXQ7ZT1lfHxmJiZmLmJnc2l6ZXx8IjE2cHgiO3JldHVybiBhJiYiYmFja2dyb3VuZC1pbWFnZTp1cmwoIitDS0VESVRPUi5nZXRVcmwoYSkrIik7YmFja2dyb3VuZC1wb3NpdGlvbjowICIrZCsicHg7YmFja2dyb3VuZC1zaXplOiIrZSsiOyJ9fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7Z2V0VWlDb2xvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVpQ29sb3J9LHNldFVpQ29sb3I6ZnVuY3Rpb24oYSl7dmFyIGI9YyhDS0VESVRPUi5kb2N1bWVudCk7cmV0dXJuKHRoaXMuc2V0VWlDb2xvcj1mdW5jdGlvbihhKXt2YXIgYz1DS0VESVRPUi5za2luLmNoYW1lbGVvbixlPVtbaSxhXV07dGhpcy51aUNvbG9yPWE7ZChbYl0sYyh0aGlzLAoiZWRpdG9yIiksZSk7ZChuLGModGhpcywicGFuZWwiKSxlKX0pLmNhbGwodGhpcyxhKX19KTt2YXIgZz0iY2tlX3VpX2NvbG9yIixuPVtdLGk9L1wkY29sb3IvZztDS0VESVRPUi5vbigiaW5zdGFuY2VMb2FkZWQiLGZ1bmN0aW9uKGEpe2lmKCFDS0VESVRPUi5lbnYuaWV8fCFDS0VESVRPUi5lbnYucXVpcmtzKXt2YXIgYj1hLmVkaXRvcixhPWZ1bmN0aW9uKGEpe2E9KGEuZGF0YVswXXx8YS5kYXRhKS5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoImlmcmFtZSIpLmdldEl0ZW0oMCkuZ2V0RnJhbWVEb2N1bWVudCgpO2lmKCFhLmdldEJ5SWQoImNrZV91aV9jb2xvciIpKXthPWMoYSk7bi5wdXNoKGEpO3ZhciBlPWIuZ2V0VWlDb2xvcigpO2UmJmQoW2FdLENLRURJVE9SLnNraW4uY2hhbWVsZW9uKGIsInBhbmVsIiksW1tpLGVdXSl9fTtiLm9uKCJwYW5lbFNob3ciLGEpO2Iub24oIm1lbnVTaG93IixhKTtiLmNvbmZpZy51aUNvbG9yJiZiLnNldFVpQ29sb3IoYi5jb25maWcudWlDb2xvcil9fSl9KSgpOwooZnVuY3Rpb24oKXtpZihDS0VESVRPUi5lbnYud2Via2l0KUNLRURJVE9SLmVudi5oYz1mYWxzZTtlbHNle3ZhciBhPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCc8ZGl2IHN0eWxlPSJ3aWR0aDowcHg7aGVpZ2h0OjBweDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMDAwMHB4O2JvcmRlcjogMXB4IHNvbGlkO2JvcmRlci1jb2xvcjogcmVkIGJsdWU7Ij48L2Rpdj4nLENLRURJVE9SLmRvY3VtZW50KTthLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEhlYWQoKSk7dHJ5e0NLRURJVE9SLmVudi5oYz1hLmdldENvbXB1dGVkU3R5bGUoImJvcmRlci10b3AtY29sb3IiKT09YS5nZXRDb21wdXRlZFN0eWxlKCJib3JkZXItcmlnaHQtY29sb3IiKX1jYXRjaChlKXtDS0VESVRPUi5lbnYuaGM9ZmFsc2V9YS5yZW1vdmUoKX1pZihDS0VESVRPUi5lbnYuaGMpQ0tFRElUT1IuZW52LmNzc0NsYXNzPUNLRURJVE9SLmVudi5jc3NDbGFzcysiIGNrZV9oYyI7Q0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVUZXh0KCIuY2tle3Zpc2liaWxpdHk6aGlkZGVuO30iKTsKQ0tFRElUT1Iuc3RhdHVzPSJsb2FkZWQiO0NLRURJVE9SLmZpcmVPbmNlKCJsb2FkZWQiKTtpZihhPUNLRURJVE9SLl8ucGVuZGluZyl7ZGVsZXRlIENLRURJVE9SLl8ucGVuZGluZztmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5hcHBseShhW2JdWzBdLGFbYl1bMV0pO0NLRURJVE9SLmFkZChhW2JdWzBdKX19fSkoKTsvKgogQ29weXJpZ2h0IChjKSAyMDAzLTIwMTMsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwOi8vY2tlZGl0b3IuY29tL2xpY2Vuc2UKKi8KQ0tFRElUT1Iuc2tpbi5uYW1lPSJtb29ubyI7Q0tFRElUT1Iuc2tpbi51YV9lZGl0b3I9ImllLGllcXVpcmtzLGllNyxpZTgsZ2Vja28iO0NLRURJVE9SLnNraW4udWFfZGlhbG9nPSJpZSxpZXF1aXJrcyxpZTcsaWU4LG9wZXJhIjsKQ0tFRElUT1Iuc2tpbi5jaGFtZWxlb249ZnVuY3Rpb24oKXt2YXIgYj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihiLGUpe2Zvcih2YXIgYT1iLm1hdGNoKC9bXiNdLi9nKSxjPTA7Mz5jO2MrKyl7dmFyIGY9YSxoPWMsZDtkPXBhcnNlSW50KGFbY10sMTYpO2Q9KCIwIisoMD5lPzB8ZCooMStlKTowfGQrKDI1NS1kKSplKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtmW2hdPWR9cmV0dXJuIiMiK2Euam9pbigiIil9fSgpLGM9ZnVuY3Rpb24oKXt2YXIgYj1uZXcgQ0tFRElUT1IudGVtcGxhdGUoImJhY2tncm91bmQ6I3t0b307YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0dG9wLGxlZnRib3R0b20sZnJvbSh7ZnJvbX0pLHRvKHt0b30pKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCx7ZnJvbX0se3RvfSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3Ase2Zyb219LHt0b30pO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCx7ZnJvbX0se3RvfSk7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCx7ZnJvbX0se3RvfSk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG9wLHtmcm9tfSx7dG99KTtmaWx0ZXI6cHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KGdyYWRpZW50VHlwZT0wLHN0YXJ0Q29sb3JzdHI9J3tmcm9tfScsZW5kQ29sb3JzdHI9J3t0b30nKTsiKTtyZXR1cm4gZnVuY3Rpb24oYywKYSl7cmV0dXJuIGIub3V0cHV0KHtmcm9tOmMsdG86YX0pfX0oKSxmPXtlZGl0b3I6bmV3IENLRURJVE9SLnRlbXBsYXRlKCJ7aWR9LmNrZV9jaHJvbWUgW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfdG9wIFsge2RlZmF1bHRHcmFkaWVudH1ib3JkZXItYm90dG9tLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9ib3R0b20gW3tkZWZhdWx0R3JhZGllbnR9Ym9yZGVyLXRvcC1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfcmVzaXplciBbYm9yZGVyLXJpZ2h0LWNvbG9yOntja2VSZXNpemVyfV0ge2lkfSAuY2tlX2RpYWxvZ190aXRsZSBbe2RlZmF1bHRHcmFkaWVudH1ib3JkZXItYm90dG9tLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfZm9vdGVyIFt7ZGVmYXVsdEdyYWRpZW50fW91dGxpbmUtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O2JvcmRlci10b3AtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ190YWIgW3tsaWdodEdyYWRpZW50fWJvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX3RhYjpob3ZlciBbe21lZGl1bUdyYWRpZW50fV0ge2lkfSAuY2tlX2RpYWxvZ19jb250ZW50cyBbYm9yZGVyLXRvcC1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX3RhYl9zZWxlY3RlZCwge2lkfSAuY2tlX2RpYWxvZ190YWJfc2VsZWN0ZWQ6aG92ZXIgW2JhY2tncm91bmQ6e2RpYWxvZ1RhYlNlbGVjdGVkfTtib3JkZXItYm90dG9tLWNvbG9yOntkaWFsb2dUYWJTZWxlY3RlZEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX2JvZHkgW2JhY2tncm91bmQ6e2RpYWxvZ0JvZHl9O2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfdG9vbGdyb3VwIFt7bGlnaHRHcmFkaWVudH1ib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSBhLmNrZV9idXR0b25fb2ZmOmhvdmVyLCB7aWR9IGEuY2tlX2J1dHRvbl9vZmY6Zm9jdXMsIHtpZH0gYS5ja2VfYnV0dG9uX29mZjphY3RpdmUgW3ttZWRpdW1HcmFkaWVudH1dIHtpZH0gLmNrZV9idXR0b25fb24gW3tja2VCdXR0b25Pbn1dIHtpZH0gLmNrZV90b29sYmFyX3NlcGFyYXRvciBbYmFja2dyb3VuZC1jb2xvcjoge2NrZVRvb2xiYXJTZXBhcmF0b3J9O10ge2lkfSAuY2tlX2NvbWJvX2J1dHRvbiBbYm9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTt7bGlnaHRHcmFkaWVudH1dIHtpZH0gYS5ja2VfY29tYm9fYnV0dG9uOmhvdmVyLCB7aWR9IGEuY2tlX2NvbWJvX2J1dHRvbjpmb2N1cywge2lkfSAuY2tlX2NvbWJvX29uIGEuY2tlX2NvbWJvX2J1dHRvbiBbYm9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTt7bWVkaXVtR3JhZGllbnR9XSB7aWR9IC5ja2VfcGF0aF9pdGVtIFtjb2xvcjp7ZWxlbWVudHNQYXRoQ29sb3J9O10ge2lkfSBhLmNrZV9wYXRoX2l0ZW06aG92ZXIsIHtpZH0gYS5ja2VfcGF0aF9pdGVtOmZvY3VzLCB7aWR9IGEuY2tlX3BhdGhfaXRlbTphY3RpdmUgW2JhY2tncm91bmQtY29sb3I6e2VsZW1lbnRzUGF0aEJnfTtdIHtpZH0uY2tlX3BhbmVsIFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10gIiksCnBhbmVsOm5ldyBDS0VESVRPUi50ZW1wbGF0ZSgiLmNrZV9wYW5lbF9ncm91cHRpdGxlIFt7bGlnaHRHcmFkaWVudH1ib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10gLmNrZV9tZW51YnV0dG9uX2ljb24gW2JhY2tncm91bmQtY29sb3I6e21lbnVidXR0b25JY29ufTtdIC5ja2VfbWVudWJ1dHRvbjpob3ZlciAuY2tlX21lbnVidXR0b25faWNvbiwgLmNrZV9tZW51YnV0dG9uOmZvY3VzIC5ja2VfbWVudWJ1dHRvbl9pY29uLCAuY2tlX21lbnVidXR0b246YWN0aXZlIC5ja2VfbWVudWJ1dHRvbl9pY29uIFtiYWNrZ3JvdW5kLWNvbG9yOnttZW51YnV0dG9uSWNvbkhvdmVyfTtdIC5ja2VfbWVudXNlcGFyYXRvciBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkljb259O10gYTpob3Zlci5ja2VfY29sb3Jib3gsIGE6Zm9jdXMuY2tlX2NvbG9yYm94LCBhOmFjdGl2ZS5ja2VfY29sb3Jib3ggW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSBhOmhvdmVyLmNrZV9jb2xvcmF1dG8sIGE6aG92ZXIuY2tlX2NvbG9ybW9yZSwgYTpmb2N1cy5ja2VfY29sb3JhdXRvLCBhOmZvY3VzLmNrZV9jb2xvcm1vcmUsIGE6YWN0aXZlLmNrZV9jb2xvcmF1dG8sIGE6YWN0aXZlLmNrZV9jb2xvcm1vcmUgW2JhY2tncm91bmQtY29sb3I6e2NrZUNvbG9yYXV0b307Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdICIpfTsKcmV0dXJuIGZ1bmN0aW9uKGcsZSl7dmFyIGE9Zy51aUNvbG9yLGE9e2lkOiIuIitnLmlkLGRlZmF1bHRCb3JkZXI6YihhLC0wLjEpLGRlZmF1bHRHcmFkaWVudDpjKGIoYSwwLjkpLGEpLGxpZ2h0R3JhZGllbnQ6YyhiKGEsMSksYihhLDAuNykpLG1lZGl1bUdyYWRpZW50OmMoYihhLDAuOCksYihhLDAuNSkpLGNrZUJ1dHRvbk9uOmMoYihhLDAuNiksYihhLDAuNykpLGNrZVJlc2l6ZXI6YihhLC0wLjQpLGNrZVRvb2xiYXJTZXBhcmF0b3I6YihhLDAuNSksY2tlQ29sb3JhdXRvOmIoYSwwLjgpLGRpYWxvZ0JvZHk6YihhLDAuNyksZGlhbG9nVGFiU2VsZWN0ZWQ6YygiI0ZGRkZGRiIsIiNGRkZGRkYiKSxkaWFsb2dUYWJTZWxlY3RlZEJvcmRlcjoiI0ZGRiIsZWxlbWVudHNQYXRoQ29sb3I6YihhLC0wLjYpLGVsZW1lbnRzUGF0aEJnOmEsbWVudWJ1dHRvbkljb246YihhLDAuNSksbWVudWJ1dHRvbkljb25Ib3ZlcjpiKGEsMC4zKX07cmV0dXJuIGZbZV0ub3V0cHV0KGEpLnJlcGxhY2UoL1xbL2csCiJ7IikucmVwbGFjZSgvXF0vZywifSIpfX0oKTtDS0VESVRPUi5wbHVnaW5zLmFkZCgiZGlhbG9ndWkiLHtvbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgaT1mdW5jdGlvbihiKXt0aGlzLl98fCh0aGlzLl89e30pO3RoaXMuX1siZGVmYXVsdCJdPXRoaXMuXy5pbml0VmFsdWU9YlsiZGVmYXVsdCJdfHwiIjt0aGlzLl8ucmVxdWlyZWQ9Yi5yZXF1aXJlZHx8ITE7Zm9yKHZhciBhPVt0aGlzLl9dLGQ9MTtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKWEucHVzaChhcmd1bWVudHNbZF0pO2EucHVzaCghMCk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kLmFwcGx5KENLRURJVE9SLnRvb2xzLGEpO3JldHVybiB0aGlzLl99LHI9e2J1aWxkOmZ1bmN0aW9uKGIsYSxkKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLmRpYWxvZy50ZXh0SW5wdXQoYixhLGQpfX0sbD17YnVpbGQ6ZnVuY3Rpb24oYixhLGQpe3JldHVybiBuZXcgQ0tFRElUT1IudWkuZGlhbG9nW2EudHlwZV0oYixhLGQpfX0sbj17aXNDaGFuZ2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VmFsdWUoKSE9CnRoaXMuZ2V0SW5pdFZhbHVlKCl9LHJlc2V0OmZ1bmN0aW9uKGIpe3RoaXMuc2V0VmFsdWUodGhpcy5nZXRJbml0VmFsdWUoKSxiKX0sc2V0SW5pdFZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fLmluaXRWYWx1ZT10aGlzLmdldFZhbHVlKCl9LHJlc2V0SW5pdFZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fLmluaXRWYWx1ZT10aGlzLl9bImRlZmF1bHQiXX0sZ2V0SW5pdFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5pbml0VmFsdWV9fSxvPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZS5ldmVudFByb2Nlc3NvcnMse29uQ2hhbmdlOmZ1bmN0aW9uKGIsYSl7dGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZHx8KGIub24oImxvYWQiLGZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5vbigiY2hhbmdlIixmdW5jdGlvbigpe2IucGFydHMuZGlhbG9nLmlzVmlzaWJsZSgpJiZ0aGlzLmZpcmUoImNoYW5nZSIse3ZhbHVlOnRoaXMuZ2V0VmFsdWUoKX0pfSwKdGhpcyl9LHRoaXMpLHRoaXMuXy5kb21PbkNoYW5nZVJlZ2lzdGVyZWQ9ITApO3RoaXMub24oImNoYW5nZSIsYSl9fSwhMCkscz0vXm9uKFtBLVpdXHcrKS8scD1mdW5jdGlvbihiKXtmb3IodmFyIGEgaW4gYikocy50ZXN0KGEpfHwidGl0bGUiPT1hfHwidHlwZSI9PWEpJiZkZWxldGUgYlthXTtyZXR1cm4gYn07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLnVpLmRpYWxvZyx7bGFiZWxlZEVsZW1lbnQ6ZnVuY3Rpb24oYixhLGQsZSl7aWYoISg0PmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgYz1pLmNhbGwodGhpcyxhKTtjLmxhYmVsSWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrIl9sYWJlbCI7dGhpcy5fLmNoaWxkcmVuPVtdO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGIsYSxkLCJkaXYiLG51bGwse3JvbGU6InByZXNlbnRhdGlvbiJ9LGZ1bmN0aW9uKCl7dmFyIGY9W10sZD1hLnJlcXVpcmVkPyIgY2tlX3JlcXVpcmVkIjoiIjsiaG9yaXpvbnRhbCIhPQphLmxhYmVsTGF5b3V0P2YucHVzaCgnPGxhYmVsIGNsYXNzPSJja2VfZGlhbG9nX3VpX2xhYmVsZWRfbGFiZWwnK2QrJyIgJywnIGlkPSInK2MubGFiZWxJZCsnIicsYy5pbnB1dElkPycgZm9yPSInK2MuaW5wdXRJZCsnIic6IiIsKGEubGFiZWxTdHlsZT8nIHN0eWxlPSInK2EubGFiZWxTdHlsZSsnIic6IiIpKyI+IixhLmxhYmVsLCI8L2xhYmVsPiIsJzxkaXYgY2xhc3M9ImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9jb250ZW50IicsYS5jb250cm9sU3R5bGU\/JyBzdHlsZT0iJythLmNvbnRyb2xTdHlsZSsnIic6IiIsJyByb2xlPSJyYWRpb2dyb3VwIiBhcmlhLWxhYmVsbGVkYnk9IicrYy5sYWJlbElkKyciPicsZS5jYWxsKHRoaXMsYixhKSwiPC9kaXY+Iik6KGQ9e3R5cGU6Imhib3giLHdpZHRoczphLndpZHRocyxwYWRkaW5nOjAsY2hpbGRyZW46W3t0eXBlOiJodG1sIixodG1sOic8bGFiZWwgY2xhc3M9ImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9sYWJlbCcrZCsnIiBpZD0iJytjLmxhYmVsSWQrCiciIGZvcj0iJytjLmlucHV0SWQrJyInKyhhLmxhYmVsU3R5bGU\/JyBzdHlsZT0iJythLmxhYmVsU3R5bGUrJyInOiIiKSsiPiIrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShhLmxhYmVsKSsiPC9zcGFuPiJ9LHt0eXBlOiJodG1sIixodG1sOic8c3BhbiBjbGFzcz0iY2tlX2RpYWxvZ191aV9sYWJlbGVkX2NvbnRlbnQiJysoYS5jb250cm9sU3R5bGU\/JyBzdHlsZT0iJythLmNvbnRyb2xTdHlsZSsnIic6IiIpKyI+IitlLmNhbGwodGhpcyxiLGEpKyI8L3NwYW4+In1dfSxDS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVycy5oYm94LmJ1aWxkKGIsZCxmKSk7cmV0dXJuIGYuam9pbigiIil9KX19LHRleHRJbnB1dDpmdW5jdGlvbihiLGEsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXtpLmNhbGwodGhpcyxhKTt2YXIgZT10aGlzLl8uaW5wdXRJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKSsiX3RleHRJbnB1dCIsYz17ImNsYXNzIjoiY2tlX2RpYWxvZ191aV9pbnB1dF8iKwphLnR5cGUsaWQ6ZSx0eXBlOmEudHlwZX07YS52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9YS52YWxpZGF0ZSk7YS5tYXhMZW5ndGgmJihjLm1heGxlbmd0aD1hLm1heExlbmd0aCk7YS5zaXplJiYoYy5zaXplPWEuc2l6ZSk7YS5pbnB1dFN0eWxlJiYoYy5zdHlsZT1hLmlucHV0U3R5bGUpO3ZhciBmPXRoaXMsaD0hMTtiLm9uKCJsb2FkIixmdW5jdGlvbigpe2YuZ2V0SW5wdXRFbGVtZW50KCkub24oImtleWRvd24iLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRLZXlzdHJva2UoKT09MTMmJihoPXRydWUpfSk7Zi5nZXRJbnB1dEVsZW1lbnQoKS5vbigia2V5dXAiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YS5nZXRLZXlzdHJva2UoKT09MTMmJmgpe2IuZ2V0QnV0dG9uKCJvayIpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5nZXRCdXR0b24oIm9rIikuY2xpY2soKX0sMCk7aD1mYWxzZX19LG51bGwsbnVsbCwxRTMpfSk7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcywKYixhLGQsZnVuY3Rpb24oKXt2YXIgYj1bJzxkaXYgY2xhc3M9ImNrZV9kaWFsb2dfdWlfaW5wdXRfJyxhLnR5cGUsJyIgcm9sZT0icHJlc2VudGF0aW9uIiddO2Eud2lkdGgmJmIucHVzaCgnc3R5bGU9IndpZHRoOicrYS53aWR0aCsnIiAnKTtiLnB1c2goIj48aW5wdXQgIik7Y1siYXJpYS1sYWJlbGxlZGJ5Il09dGhpcy5fLmxhYmVsSWQ7dGhpcy5fLnJlcXVpcmVkJiYoY1siYXJpYS1yZXF1aXJlZCJdPXRoaXMuXy5yZXF1aXJlZCk7Zm9yKHZhciBkIGluIGMpYi5wdXNoKGQrJz0iJytjW2RdKyciICcpO2IucHVzaCgiIC8+PC9kaXY+Iik7cmV0dXJuIGIuam9pbigiIil9KX19LHRleHRhcmVhOmZ1bmN0aW9uKGIsYSxkKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe2kuY2FsbCh0aGlzLGEpO3ZhciBlPXRoaXMsYz10aGlzLl8uaW5wdXRJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKSsiX3RleHRhcmVhIixmPXt9O2EudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWEudmFsaWRhdGUpOwpmLnJvd3M9YS5yb3dzfHw1O2YuY29scz1hLmNvbHN8fDIwO2ZbImNsYXNzIl09ImNrZV9kaWFsb2dfdWlfaW5wdXRfdGV4dGFyZWEgIisoYVsiY2xhc3MiXXx8IiIpOyJ1bmRlZmluZWQiIT10eXBlb2YgYS5pbnB1dFN0eWxlJiYoZi5zdHlsZT1hLmlucHV0U3R5bGUpO2EuZGlyJiYoZi5kaXI9YS5kaXIpO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixhLGQsZnVuY3Rpb24oKXtmWyJhcmlhLWxhYmVsbGVkYnkiXT10aGlzLl8ubGFiZWxJZDt0aGlzLl8ucmVxdWlyZWQmJihmWyJhcmlhLXJlcXVpcmVkIl09dGhpcy5fLnJlcXVpcmVkKTt2YXIgYT1bJzxkaXYgY2xhc3M9ImNrZV9kaWFsb2dfdWlfaW5wdXRfdGV4dGFyZWEiIHJvbGU9InByZXNlbnRhdGlvbiI+PHRleHRhcmVhIGlkPSInLGMsJyIgJ10sYjtmb3IoYiBpbiBmKWEucHVzaChiKyc9IicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShmW2JdKSsnIiAnKTthLnB1c2goIj4iLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZS5fWyJkZWZhdWx0Il0pLAoiPC90ZXh0YXJlYT48L2Rpdj4iKTtyZXR1cm4gYS5qb2luKCIiKX0pfX0sY2hlY2tib3g6ZnVuY3Rpb24oYixhLGQpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGU9aS5jYWxsKHRoaXMsYSx7ImRlZmF1bHQiOiEhYVsiZGVmYXVsdCJdfSk7YS52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9YS52YWxpZGF0ZSk7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYixhLGQsInNwYW4iLG51bGwsbnVsbCxmdW5jdGlvbigpe3ZhciBjPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLHtpZDphLmlkP2EuaWQrIl9jaGVja2JveCI6Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrIl9jaGVja2JveCJ9LHRydWUpLGQ9W10saD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKSsiX2xhYmVsIixnPXsiY2xhc3MiOiJja2VfZGlhbG9nX3VpX2NoZWNrYm94X2lucHV0Iix0eXBlOiJjaGVja2JveCIsImFyaWEtbGFiZWxsZWRieSI6aH07cChjKTtpZihhWyJkZWZhdWx0Il0pZy5jaGVja2VkPQoiY2hlY2tlZCI7aWYodHlwZW9mIGMuaW5wdXRTdHlsZSE9InVuZGVmaW5lZCIpYy5zdHlsZT1jLmlucHV0U3R5bGU7ZS5jaGVja2JveD1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLGMsZCwiaW5wdXQiLG51bGwsZyk7ZC5wdXNoKCcgPGxhYmVsIGlkPSInLGgsJyIgZm9yPSInLGcuaWQsJyInKyhhLmxhYmVsU3R5bGU\/JyBzdHlsZT0iJythLmxhYmVsU3R5bGUrJyInOiIiKSsiPiIsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShhLmxhYmVsKSwiPC9sYWJlbD4iKTtyZXR1cm4gZC5qb2luKCIiKX0pfX0scmFkaW86ZnVuY3Rpb24oYixhLGQpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7aS5jYWxsKHRoaXMsYSk7dGhpcy5fWyJkZWZhdWx0Il18fCh0aGlzLl9bImRlZmF1bHQiXT10aGlzLl8uaW5pdFZhbHVlPWEuaXRlbXNbMF1bMV0pO2EudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWEudmFsZGlhdGUpO3ZhciBlPVtdLGM9dGhpcztDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQuY2FsbCh0aGlzLApiLGEsZCxmdW5jdGlvbigpe2Zvcih2YXIgZD1bXSxoPVtdLGc9KGEuaWQ\/YS5pZDpDS0VESVRPUi50b29scy5nZXROZXh0SWQoKSkrIl9yYWRpbyIsaz0wO2s8YS5pdGVtcy5sZW5ndGg7aysrKXt2YXIgaj1hLml0ZW1zW2tdLGk9alsyXSE9PXZvaWQgMD9qWzJdOmpbMF0sbD1qWzFdIT09dm9pZCAwP2pbMV06alswXSxtPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpKyJfcmFkaW9faW5wdXQiLG49bSsiX2xhYmVsIixtPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLHtpZDptLHRpdGxlOm51bGwsdHlwZTpudWxsfSx0cnVlKSxpPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxtLHt0aXRsZTppfSx0cnVlKSxvPXt0eXBlOiJyYWRpbyIsImNsYXNzIjoiY2tlX2RpYWxvZ191aV9yYWRpb19pbnB1dCIsbmFtZTpnLHZhbHVlOmwsImFyaWEtbGFiZWxsZWRieSI6bn0scT1bXTtpZihjLl9bImRlZmF1bHQiXT09bClvLmNoZWNrZWQ9ImNoZWNrZWQiO3AobSk7cChpKTtpZih0eXBlb2YgbS5pbnB1dFN0eWxlIT0KInVuZGVmaW5lZCIpbS5zdHlsZT1tLmlucHV0U3R5bGU7bS5rZXlib2FyZEZvY3VzYWJsZT10cnVlO2UucHVzaChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLG0scSwiaW5wdXQiLG51bGwsbykpO3EucHVzaCgiICIpO25ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50KGIsaSxxLCJsYWJlbCIsbnVsbCx7aWQ6biwiZm9yIjpvLmlkfSxqWzBdKTtkLnB1c2gocS5qb2luKCIiKSl9bmV3IENLRURJVE9SLnVpLmRpYWxvZy5oYm94KGIsZSxkLGgpO3JldHVybiBoLmpvaW4oIiIpfSk7dGhpcy5fLmNoaWxkcmVuPWV9fSxidXR0b246ZnVuY3Rpb24oYixhLGQpe2lmKGFyZ3VtZW50cy5sZW5ndGgpeyJmdW5jdGlvbiI9PXR5cGVvZiBhJiYoYT1hKGIuZ2V0UGFyZW50RWRpdG9yKCkpKTtpLmNhbGwodGhpcyxhLHtkaXNhYmxlZDphLmRpc2FibGVkfHwhMX0pO0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKHRoaXMpO3ZhciBlPXRoaXM7Yi5vbigibG9hZCIsZnVuY3Rpb24oKXt2YXIgYT0KdGhpcy5nZXRFbGVtZW50KCk7KGZ1bmN0aW9uKCl7YS5vbigiY2xpY2siLGZ1bmN0aW9uKGEpe2UuY2xpY2soKTthLmRhdGEucHJldmVudERlZmF1bHQoKX0pO2Eub24oImtleWRvd24iLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRLZXlzdHJva2UoKWluezMyOjF9JiYoZS5jbGljaygpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0pfSkoKTthLnVuc2VsZWN0YWJsZSgpfSx0aGlzKTt2YXIgYz1DS0VESVRPUi50b29scy5leHRlbmQoe30sYSk7ZGVsZXRlIGMuc3R5bGU7dmFyIGY9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrIl9sYWJlbCI7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYixjLGQsImEiLG51bGwse3N0eWxlOmEuc3R5bGUsaHJlZjoiamF2YXNjcmlwdDp2b2lkKDApIix0aXRsZTphLmxhYmVsLGhpZGVmb2N1czoidHJ1ZSIsImNsYXNzIjphWyJjbGFzcyJdLHJvbGU6ImJ1dHRvbiIsImFyaWEtbGFiZWxsZWRieSI6Zn0sJzxzcGFuIGlkPSInK2YrCiciIGNsYXNzPSJja2VfZGlhbG9nX3VpX2J1dHRvbiI+JytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGEubGFiZWwpKyI8L3NwYW4+Iil9fSxzZWxlY3Q6ZnVuY3Rpb24oYixhLGQpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGU9aS5jYWxsKHRoaXMsYSk7YS52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9YS52YWxpZGF0ZSk7ZS5pbnB1dElkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpKyJfc2VsZWN0IjtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQuY2FsbCh0aGlzLGIsYSxkLGZ1bmN0aW9uKCl7dmFyIGM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGEse2lkOmEuaWQ\/YS5pZCsiX3NlbGVjdCI6Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrIl9zZWxlY3QifSx0cnVlKSxkPVtdLGg9W10sZz17aWQ6ZS5pbnB1dElkLCJjbGFzcyI6ImNrZV9kaWFsb2dfdWlfaW5wdXRfc2VsZWN0IiwiYXJpYS1sYWJlbGxlZGJ5Ijp0aGlzLl8ubGFiZWxJZH07ZC5wdXNoKCc8ZGl2IGNsYXNzPSJja2VfZGlhbG9nX3VpX2lucHV0XycsCmEudHlwZSwnIiByb2xlPSJwcmVzZW50YXRpb24iJyk7YS53aWR0aCYmZC5wdXNoKCdzdHlsZT0id2lkdGg6JythLndpZHRoKyciICcpO2QucHVzaCgiPiIpO2lmKGEuc2l6ZSE9dm9pZCAwKWcuc2l6ZT1hLnNpemU7aWYoYS5tdWx0aXBsZSE9dm9pZCAwKWcubXVsdGlwbGU9YS5tdWx0aXBsZTtwKGMpO2Zvcih2YXIgaz0wLGo7azxhLml0ZW1zLmxlbmd0aCYmKGo9YS5pdGVtc1trXSk7aysrKWgucHVzaCgnPG9wdGlvbiB2YWx1ZT0iJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGpbMV0hPT12b2lkIDA\/alsxXTpqWzBdKS5yZXBsYWNlKC8iL2csIiZxdW90OyIpLCciIC8+ICcsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShqWzBdKSk7aWYodHlwZW9mIGMuaW5wdXRTdHlsZSE9InVuZGVmaW5lZCIpYy5zdHlsZT1jLmlucHV0U3R5bGU7ZS5zZWxlY3Q9bmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQoYixjLGQsInNlbGVjdCIsbnVsbCxnLGguam9pbigiIikpO2QucHVzaCgiPC9kaXY+Iik7CnJldHVybiBkLmpvaW4oIiIpfSl9fSxmaWxlOmZ1bmN0aW9uKGIsYSxkKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe3ZvaWQgMD09PWFbImRlZmF1bHQiXSYmKGFbImRlZmF1bHQiXT0iIik7dmFyIGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGkuY2FsbCh0aGlzLGEpLHtkZWZpbml0aW9uOmEsYnV0dG9uczpbXX0pO2EudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWEudmFsaWRhdGUpO2Iub24oImxvYWQiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChlLmZyYW1lSWQpLmdldFBhcmVudCgpLmFkZENsYXNzKCJja2VfZGlhbG9nX3VpX2lucHV0X2ZpbGUiKX0pO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixhLGQsZnVuY3Rpb24oKXtlLmZyYW1lSWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrIl9maWxlSW5wdXQiO3ZhciBiPVsnPGlmcmFtZSBmcmFtZWJvcmRlcj0iMCIgYWxsb3d0cmFuc3BhcmVuY3k9IjAiIGNsYXNzPSJja2VfZGlhbG9nX3VpX2lucHV0X2ZpbGUiIHJvbGU9InByZXNlbnRhdGlvbiIgaWQ9IicsCmUuZnJhbWVJZCwnIiB0aXRsZT0iJyxhLmxhYmVsLCciIHNyYz0iamF2YXNjcmlwdDp2b2lkKCddO2IucHVzaChDS0VESVRPUi5lbnYuaWU\/IihmdW5jdGlvbigpeyIrZW5jb2RlVVJJQ29tcG9uZW50KCJkb2N1bWVudC5vcGVuKCk7KCIrQ0tFRElUT1IudG9vbHMuZml4RG9tYWluKyIpKCk7ZG9jdW1lbnQuY2xvc2UoKTsiKSsifSkoKSI6IjAiKTtiLnB1c2goJykiPjwvaWZyYW1lPicpO3JldHVybiBiLmpvaW4oIiIpfSl9fSxmaWxlQnV0dG9uOmZ1bmN0aW9uKGIsYSxkKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe2kuY2FsbCh0aGlzLGEpO3ZhciBlPXRoaXM7YS52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9YS52YWxpZGF0ZSk7dmFyIGM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGEpLGY9Yy5vbkNsaWNrO2MuY2xhc3NOYW1lPShjLmNsYXNzTmFtZT9jLmNsYXNzTmFtZSsiICI6IiIpKyJja2VfZGlhbG9nX3VpX2J1dHRvbiI7Yy5vbkNsaWNrPWZ1bmN0aW9uKGMpe3ZhciBkPQphWyJmb3IiXTtpZighZnx8Zi5jYWxsKHRoaXMsYykhPT1mYWxzZSl7Yi5nZXRDb250ZW50RWxlbWVudChkWzBdLGRbMV0pLnN1Ym1pdCgpO3RoaXMuZGlzYWJsZSgpfX07Yi5vbigibG9hZCIsZnVuY3Rpb24oKXtiLmdldENvbnRlbnRFbGVtZW50KGFbImZvciJdWzBdLGFbImZvciJdWzFdKS5fLmJ1dHRvbnMucHVzaChlKX0pO0NLRURJVE9SLnVpLmRpYWxvZy5idXR0b24uY2FsbCh0aGlzLGIsYyxkKX19LGh0bWw6ZnVuY3Rpb24oKXt2YXIgYj0vXlxzKjxbXHc6XStccysoW14+XSopPz4vLGE9L14oXHMqPFtcdzpdKyg\/OlxzK1tePl0qKT8pKCg\/Oi58XHJ8XG4pKykkLyxkPS9cLyQvO3JldHVybiBmdW5jdGlvbihlLGMsZil7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgaD1bXSxnPWMuaHRtbDsiPCIhPWcuY2hhckF0KDApJiYoZz0iPHNwYW4+IitnKyI8L3NwYW4+Iik7dmFyIGs9Yy5mb2N1cztpZihrKXt2YXIgaj10aGlzLmZvY3VzO3RoaXMuZm9jdXM9ZnVuY3Rpb24oKXsoImZ1bmN0aW9uIj09CnR5cGVvZiBrP2s6aikuY2FsbCh0aGlzKTt0aGlzLmZpcmUoImZvY3VzIil9O2MuaXNGb2N1c2FibGUmJih0aGlzLmlzRm9jdXNhYmxlPXRoaXMuaXNGb2N1c2FibGUpO3RoaXMua2V5Ym9hcmRGb2N1c2FibGU9ITB9Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsZSxjLGgsInNwYW4iLG51bGwsbnVsbCwiIik7aD1oLmpvaW4oIiIpLm1hdGNoKGIpO2c9Zy5tYXRjaChhKXx8WyIiLCIiLCIiXTtkLnRlc3QoZ1sxXSkmJihnWzFdPWdbMV0uc2xpY2UoMCwtMSksZ1syXT0iLyIrZ1syXSk7Zi5wdXNoKFtnWzFdLCIgIixoWzFdfHwiIixnWzJdXS5qb2luKCIiKSl9fX0oKSxmaWVsZHNldDpmdW5jdGlvbihiLGEsZCxlLGMpe3ZhciBmPWMubGFiZWw7dGhpcy5fPXtjaGlsZHJlbjphfTtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxiLGMsZSwiZmllbGRzZXQiLG51bGwsbnVsbCxmdW5jdGlvbigpe3ZhciBhPVtdO2YmJmEucHVzaCgiPGxlZ2VuZCIrCihjLmxhYmVsU3R5bGU\/JyBzdHlsZT0iJytjLmxhYmVsU3R5bGUrJyInOiIiKSsiPiIrZisiPC9sZWdlbmQ+Iik7Zm9yKHZhciBiPTA7YjxkLmxlbmd0aDtiKyspYS5wdXNoKGRbYl0pO3JldHVybiBhLmpvaW4oIiIpfSl9fSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLmh0bWwucHJvdG90eXBlPW5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50O0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LHtzZXRMYWJlbDpmdW5jdGlvbihiKXt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5sYWJlbElkKTsxPmEuZ2V0Q2hpbGRDb3VudCgpPyhuZXcgQ0tFRElUT1IuZG9tLnRleHQoYixDS0VESVRPUi5kb2N1bWVudCkpLmFwcGVuZFRvKGEpOmEuZ2V0Q2hpbGQoMCkuJC5ub2RlVmFsdWU9YjtyZXR1cm4gdGhpc30sZ2V0TGFiZWw6ZnVuY3Rpb24oKXt2YXIgYj0KQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8ubGFiZWxJZCk7cmV0dXJuIWJ8fDE+Yi5nZXRDaGlsZENvdW50KCk\/IiI6Yi5nZXRDaGlsZCgwKS5nZXRUZXh0KCl9LGV2ZW50UHJvY2Vzc29yczpvfSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLmJ1dHRvbi5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LHtjbGljazpmdW5jdGlvbigpe3JldHVybiF0aGlzLl8uZGlzYWJsZWQ\/dGhpcy5maXJlKCJjbGljayIse2RpYWxvZzp0aGlzLl8uZGlhbG9nfSk6ITF9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuXy5kaXNhYmxlZD0hMTt2YXIgYj10aGlzLmdldEVsZW1lbnQoKTtiJiZiLnJlbW92ZUNsYXNzKCJja2VfZGlzYWJsZWQiKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuXy5kaXNhYmxlZD0hMDt0aGlzLmdldEVsZW1lbnQoKS5hZGRDbGFzcygiY2tlX2Rpc2FibGVkIil9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEVsZW1lbnQoKS5nZXRGaXJzdCgpLmlzVmlzaWJsZSgpfSwKaXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuXy5kaXNhYmxlZH0sZXZlbnRQcm9jZXNzb3JzOkNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZS5ldmVudFByb2Nlc3NvcnMse29uQ2xpY2s6ZnVuY3Rpb24oYixhKXt0aGlzLm9uKCJjbGljayIsZnVuY3Rpb24oKXthLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfX0sITApLGFjY2Vzc0tleVVwOmZ1bmN0aW9uKCl7dGhpcy5jbGljaygpfSxhY2Nlc3NLZXlEb3duOmZ1bmN0aW9uKCl7dGhpcy5mb2N1cygpfSxrZXlib2FyZEZvY3VzYWJsZTohMH0sITApO0NLRURJVE9SLnVpLmRpYWxvZy50ZXh0SW5wdXQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LHtnZXRJbnB1dEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8uaW5wdXRJZCl9LApmb2N1czpmdW5jdGlvbigpe3ZhciBiPXRoaXMuc2VsZWN0UGFyZW50VGFiKCk7c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBhPWIuZ2V0SW5wdXRFbGVtZW50KCk7YSYmYS4kLmZvY3VzKCl9LDApfSxzZWxlY3Q6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnNlbGVjdFBhcmVudFRhYigpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYT1iLmdldElucHV0RWxlbWVudCgpO2EmJihhLiQuZm9jdXMoKSxhLiQuc2VsZWN0KCkpfSwwKX0sYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdCgpfSxzZXRWYWx1ZTpmdW5jdGlvbihiKXshYiYmKGI9IiIpO3JldHVybiBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZS5zZXRWYWx1ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGtleWJvYXJkRm9jdXNhYmxlOiEwfSxuLCEwKTtDS0VESVRPUi51aS5kaWFsb2cudGV4dGFyZWEucHJvdG90eXBlPW5ldyBDS0VESVRPUi51aS5kaWFsb2cudGV4dElucHV0O0NLRURJVE9SLnVpLmRpYWxvZy5zZWxlY3QucHJvdG90eXBlPQpDS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudCx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5zZWxlY3QuZ2V0RWxlbWVudCgpfSxhZGQ6ZnVuY3Rpb24oYixhLGQpe3ZhciBlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudCgib3B0aW9uIix0aGlzLmdldERpYWxvZygpLmdldFBhcmVudEVkaXRvcigpLmRvY3VtZW50KSxjPXRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJDtlLiQudGV4dD1iO2UuJC52YWx1ZT12b2lkIDA9PT1hfHxudWxsPT09YT9iOmE7dm9pZCAwPT09ZHx8bnVsbD09PWQ\/Q0tFRElUT1IuZW52LmllP2MuYWRkKGUuJCk6Yy5hZGQoZS4kLG51bGwpOmMuYWRkKGUuJCxkKTtyZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKGIpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC5yZW1vdmUoYik7cmV0dXJuIHRoaXN9LGNsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciBiPXRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJDswPApiLmxlbmd0aDspYi5yZW1vdmUoMCk7cmV0dXJuIHRoaXN9LGtleWJvYXJkRm9jdXNhYmxlOiEwfSxuLCEwKTtDS0VESVRPUi51aS5kaWFsb2cuY2hlY2tib3gucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5jaGVja2JveC5nZXRFbGVtZW50KCl9LHNldFZhbHVlOmZ1bmN0aW9uKGIsYSl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kLmNoZWNrZWQ9YjshYSYmdGhpcy5maXJlKCJjaGFuZ2UiLHt2YWx1ZTpifSl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC5jaGVja2VkfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3RoaXMuc2V0VmFsdWUoIXRoaXMuZ2V0VmFsdWUoKSl9LGV2ZW50UHJvY2Vzc29yczp7b25DaGFuZ2U6ZnVuY3Rpb24oYixhKXtpZighQ0tFRElUT1IuZW52LmllfHw4PENLRURJVE9SLmVudi52ZXJzaW9uKXJldHVybiBvLm9uQ2hhbmdlLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyk7Yi5vbigibG9hZCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2hlY2tib3guZ2V0RWxlbWVudCgpO2Eub24oInByb3BlcnR5Y2hhbmdlIixmdW5jdGlvbihiKXtiPWIuZGF0YS4kOyJjaGVja2VkIj09Yi5wcm9wZXJ0eU5hbWUmJnRoaXMuZmlyZSgiY2hhbmdlIix7dmFsdWU6YS4kLmNoZWNrZWR9KX0sdGhpcyl9LHRoaXMpO3RoaXMub24oImNoYW5nZSIsYSk7cmV0dXJuIG51bGx9fSxrZXlib2FyZEZvY3VzYWJsZTohMH0sbiwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnJhZGlvLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse3NldFZhbHVlOmZ1bmN0aW9uKGIsYSl7Zm9yKHZhciBkPXRoaXMuXy5jaGlsZHJlbixlLGM9MDtjPGQubGVuZ3RoJiYoZT1kW2NdKTtjKyspZS5nZXRFbGVtZW50KCkuJC5jaGVja2VkPWUuZ2V0VmFsdWUoKT09YjshYSYmdGhpcy5maXJlKCJjaGFuZ2UiLHt2YWx1ZTpifSl9LApnZXRWYWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgYj10aGlzLl8uY2hpbGRyZW4sYT0wO2E8Yi5sZW5ndGg7YSsrKWlmKGJbYV0uZ2V0RWxlbWVudCgpLiQuY2hlY2tlZClyZXR1cm4gYlthXS5nZXRWYWx1ZSgpO3JldHVybiBudWxsfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuXy5jaGlsZHJlbixhO2ZvcihhPTA7YTxiLmxlbmd0aDthKyspaWYoYlthXS5nZXRFbGVtZW50KCkuJC5jaGVja2VkKXtiW2FdLmdldEVsZW1lbnQoKS5mb2N1cygpO3JldHVybn1iWzBdLmdldEVsZW1lbnQoKS5mb2N1cygpfSxldmVudFByb2Nlc3NvcnM6e29uQ2hhbmdlOmZ1bmN0aW9uKGIsYSl7aWYoQ0tFRElUT1IuZW52LmllKWIub24oImxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuXy5jaGlsZHJlbixiPXRoaXMsYz0wO2M8YS5sZW5ndGg7YysrKWFbY10uZ2V0RWxlbWVudCgpLm9uKCJwcm9wZXJ0eWNoYW5nZSIsZnVuY3Rpb24oYSl7YT1hLmRhdGEuJDsiY2hlY2tlZCI9PWEucHJvcGVydHlOYW1lJiYKdGhpcy4kLmNoZWNrZWQmJmIuZmlyZSgiY2hhbmdlIix7dmFsdWU6dGhpcy5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KX0pfSx0aGlzKSx0aGlzLm9uKCJjaGFuZ2UiLGEpO2Vsc2UgcmV0dXJuIG8ub25DaGFuZ2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBudWxsfX19LG4sITApO0NLRURJVE9SLnVpLmRpYWxvZy5maWxlLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudCxuLHtnZXRJbnB1dEVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5mcmFtZUlkKS5nZXRGcmFtZURvY3VtZW50KCk7cmV0dXJuIDA8Yi4kLmZvcm1zLmxlbmd0aD9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYi4kLmZvcm1zWzBdLmVsZW1lbnRzWzBdKTp0aGlzLmdldEVsZW1lbnQoKX0sc3VibWl0OmZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRQYXJlbnQoKS4kLnN1Ym1pdCgpOwpyZXR1cm4gdGhpc30sZ2V0QWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0UGFyZW50KCkuJC5hY3Rpb259LHJlZ2lzdGVyRXZlbnRzOmZ1bmN0aW9uKGIpe3ZhciBhPS9eb24oW0EtWl1cdyspLyxkLGU9ZnVuY3Rpb24oYSxiLGMsZCl7YS5vbigiZm9ybUxvYWRlZCIsZnVuY3Rpb24oKXthLmdldElucHV0RWxlbWVudCgpLm9uKGMsZCxhKX0pfSxjO2ZvcihjIGluIGIpaWYoZD1jLm1hdGNoKGEpKXRoaXMuZXZlbnRQcm9jZXNzb3JzW2NdP3RoaXMuZXZlbnRQcm9jZXNzb3JzW2NdLmNhbGwodGhpcyx0aGlzLl8uZGlhbG9nLGJbY10pOmUodGhpcyx0aGlzLl8uZGlhbG9nLGRbMV0udG9Mb3dlckNhc2UoKSxiW2NdKTtyZXR1cm4gdGhpc30scmVzZXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKCl7ZC4kLm9wZW4oKTt2YXIgYj0iIjtlLnNpemUmJihiPWUuc2l6ZS0oQ0tFRElUT1IuZW52LmllPzc6MCkpO3ZhciBpPWEuZnJhbWVJZCsiX2lucHV0IjsKZC4kLndyaXRlKFsnPGh0bWwgZGlyPSInK2crJyIgbGFuZz0iJytrKyciPjxoZWFkPjx0aXRsZT48L3RpdGxlPjwvaGVhZD48Ym9keSBzdHlsZT0ibWFyZ2luOiAwOyBvdmVyZmxvdzogaGlkZGVuOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsiPicsJzxmb3JtIGVuY3R5cGU9Im11bHRpcGFydC9mb3JtLWRhdGEiIG1ldGhvZD0iUE9TVCIgZGlyPSInK2crJyIgbGFuZz0iJytrKyciIGFjdGlvbj0iJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGUuYWN0aW9uKSwnIj48bGFiZWwgaWQ9IicsYS5sYWJlbElkLCciIGZvcj0iJyxpLCciIHN0eWxlPSJkaXNwbGF5Om5vbmUiPicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShlLmxhYmVsKSwnPC9sYWJlbD48aW5wdXQgaWQ9IicsaSwnIiBhcmlhLWxhYmVsbGVkYnk9IicsYS5sYWJlbElkLCciIHR5cGU9ImZpbGUiIG5hbWU9IicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShlLmlkfHwiY2tlX3VwbG9hZCIpLCciIHNpemU9IicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZSgwPApiP2I6IiIpLCciIC8+PC9mb3JtPjwvYm9keT48L2h0bWw+PHNjcmlwdD4nLENLRURJVE9SLmVudi5pZT8iKCIrQ0tFRElUT1IudG9vbHMuZml4RG9tYWluKyIpKCk7IjoiIiwid2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oIitmKyIpOyIsIndpbmRvdy5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uKCkge3dpbmRvdy5wYXJlbnQuQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCIraCsiKX0iLCI8XC9zY3JpcHQ+Il0uam9pbigiIikpO2QuJC5jbG9zZSgpO2ZvcihiPTA7YjxjLmxlbmd0aDtiKyspY1tiXS5lbmFibGUoKX12YXIgYT10aGlzLl8sZD1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGEuZnJhbWVJZCkuZ2V0RnJhbWVEb2N1bWVudCgpLGU9YS5kZWZpbml0aW9uLGM9YS5idXR0b25zLGY9dGhpcy5mb3JtTG9hZGVkTnVtYmVyLGg9dGhpcy5mb3JtVW5sb2FkTnVtYmVyLGc9YS5kaWFsb2cuXy5lZGl0b3IubGFuZy5kaXIsaz1hLmRpYWxvZy5fLmVkaXRvci5sYW5nQ29kZTsKZnx8KGY9dGhpcy5mb3JtTG9hZGVkTnVtYmVyPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7dGhpcy5maXJlKCJmb3JtTG9hZGVkIil9LHRoaXMpLGg9dGhpcy5mb3JtVW5sb2FkTnVtYmVyPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5jbGVhckN1c3RvbURhdGEoKX0sdGhpcyksdGhpcy5nZXREaWFsb2coKS5fLmVkaXRvci5vbigiZGVzdHJveSIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihmKTtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihoKX0pKTtDS0VESVRPUi5lbnYuZ2Vja28\/c2V0VGltZW91dChiLDUwMCk6YigpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLiQudmFsdWV8fCIifSxzZXRJbml0VmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl8uaW5pdFZhbHVlPSIifSxldmVudFByb2Nlc3NvcnM6e29uQ2hhbmdlOmZ1bmN0aW9uKGIsCmEpe3RoaXMuXy5kb21PbkNoYW5nZVJlZ2lzdGVyZWR8fCh0aGlzLm9uKCJmb3JtTG9hZGVkIixmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkub24oImNoYW5nZSIsZnVuY3Rpb24oKXt0aGlzLmZpcmUoImNoYW5nZSIse3ZhbHVlOnRoaXMuZ2V0VmFsdWUoKX0pfSx0aGlzKX0sdGhpcyksdGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZD0hMCk7dGhpcy5vbigiY2hhbmdlIixhKX19LGtleWJvYXJkRm9jdXNhYmxlOiEwfSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLmZpbGVCdXR0b24ucHJvdG90eXBlPW5ldyBDS0VESVRPUi51aS5kaWFsb2cuYnV0dG9uO0NLRURJVE9SLnVpLmRpYWxvZy5maWVsZHNldC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuY2xvbmUoQ0tFRElUT1IudWkuZGlhbG9nLmhib3gucHJvdG90eXBlKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KCJ0ZXh0IixyKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KCJwYXNzd29yZCIscik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudCgidGV4dGFyZWEiLApsKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KCJjaGVja2JveCIsbCk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudCgicmFkaW8iLGwpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoImJ1dHRvbiIsbCk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudCgic2VsZWN0IixsKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KCJmaWxlIixsKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KCJmaWxlQnV0dG9uIixsKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KCJodG1sIixsKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KCJmaWVsZHNldCIse2J1aWxkOmZ1bmN0aW9uKGIsYSxkKXtmb3IodmFyIGU9YS5jaGlsZHJlbixjLGY9W10saD1bXSxnPTA7ZzxlLmxlbmd0aCYmKGM9ZVtnXSk7ZysrKXt2YXIgaT1bXTtmLnB1c2goaSk7aC5wdXNoKENLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzW2MudHlwZV0uYnVpbGQoYixjLGkpKX1yZXR1cm4gbmV3IENLRURJVE9SLnVpLmRpYWxvZ1thLnR5cGVdKGIsCmgsZixkLGEpfX0pfX0pO0NLRURJVE9SLkRJQUxPR19SRVNJWkVfTk9ORT0wO0NLRURJVE9SLkRJQUxPR19SRVNJWkVfV0lEVEg9MTtDS0VESVRPUi5ESUFMT0dfUkVTSVpFX0hFSUdIVD0yO0NLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USD0zOwooZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7Zm9yKHZhciBhPXRoaXMuXy50YWJJZExpc3QubGVuZ3RoLGI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLl8udGFiSWRMaXN0LHRoaXMuXy5jdXJyZW50VGFiSWQpK2EsYz1iLTE7Yz5iLWE7Yy0tKWlmKHRoaXMuXy50YWJzW3RoaXMuXy50YWJJZExpc3RbYyVhXV1bMF0uJC5vZmZzZXRIZWlnaHQpcmV0dXJuIHRoaXMuXy50YWJJZExpc3RbYyVhXTtyZXR1cm4gbnVsbH1mdW5jdGlvbiB1KCl7Zm9yKHZhciBhPXRoaXMuXy50YWJJZExpc3QubGVuZ3RoLGI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLl8udGFiSWRMaXN0LHRoaXMuXy5jdXJyZW50VGFiSWQpLGM9YisxO2M8YithO2MrKylpZih0aGlzLl8udGFic1t0aGlzLl8udGFiSWRMaXN0W2MlYV1dWzBdLiQub2Zmc2V0SGVpZ2h0KXJldHVybiB0aGlzLl8udGFiSWRMaXN0W2MlYV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gRyhhLGIpe2Zvcih2YXIgYz1hLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IiksCmU9MCxkPWMubGVuZ3RoO2U8ZDtlKyspe3ZhciBnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjW2VdKTsidGV4dCI9PWcuZ2V0QXR0cmlidXRlKCJ0eXBlIikudG9Mb3dlckNhc2UoKSYmKGI\/KGcuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsZy5nZXRDdXN0b21EYXRhKCJmYWtlX3ZhbHVlIil8fCIiKSxnLnJlbW92ZUN1c3RvbURhdGEoImZha2VfdmFsdWUiKSk6KGcuc2V0Q3VzdG9tRGF0YSgiZmFrZV92YWx1ZSIsZy5nZXRBdHRyaWJ1dGUoInZhbHVlIikpLGcuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpKSl9fWZ1bmN0aW9uIFAoYSxiKXt2YXIgYz10aGlzLmdldElucHV0RWxlbWVudCgpO2MmJihhP2MucmVtb3ZlQXR0cmlidXRlKCJhcmlhLWludmFsaWQiKTpjLnNldEF0dHJpYnV0ZSgiYXJpYS1pbnZhbGlkIiwhMCkpO2F8fCh0aGlzLnNlbGVjdD90aGlzLnNlbGVjdCgpOnRoaXMuZm9jdXMoKSk7YiYmYWxlcnQoYik7dGhpcy5maXJlKCJ2YWxpZGF0ZWQiLHt2YWxpZDphLG1zZzpifSl9CmZ1bmN0aW9uIFEoKXt2YXIgYT10aGlzLmdldElucHV0RWxlbWVudCgpO2EmJmEucmVtb3ZlQXR0cmlidXRlKCJhcmlhLWludmFsaWQiKX1mdW5jdGlvbiBSKGEpe3ZhciBhPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKENLRURJVE9SLmFkZFRlbXBsYXRlKCJkaWFsb2ciLFMpLm91dHB1dCh7aWQ6Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGVkaXRvcklkOmEuaWQsbGFuZ0RpcjphLmxhbmcuZGlyLGxhbmdDb2RlOmEubGFuZ0NvZGUsZWRpdG9yRGlhbG9nQ2xhc3M6ImNrZV9lZGl0b3JfIithLm5hbWUucmVwbGFjZSgvXC4vZywiXFwuIikrIl9kaWFsb2ciLGNsb3NlVGl0bGU6YS5sYW5nLmNvbW1vbi5jbG9zZSxoaWRwaTpDS0VESVRPUi5lbnYuaGlkcGk\/ImNrZV9oaWRwaSI6IiJ9KSksYj1hLmdldENoaWxkKFswLDAsMCwwLDBdKSxjPWIuZ2V0Q2hpbGQoMCksZT1iLmdldENoaWxkKDEpO2lmKENLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5pZTZDb21wYXQpe3ZhciBkPQoiamF2YXNjcmlwdDp2b2lkKGZ1bmN0aW9uKCl7IitlbmNvZGVVUklDb21wb25lbnQoImRvY3VtZW50Lm9wZW4oKTsoIitDS0VESVRPUi50b29scy5maXhEb21haW4rIikoKTtkb2N1bWVudC5jbG9zZSgpOyIpKyJ9KCkpIjtDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnPGlmcmFtZSBmcmFtZUJvcmRlcj0iMCIgY2xhc3M9ImNrZV9pZnJhbWVfc2hpbSIgc3JjPSInK2QrJyIgdGFiSW5kZXg9Ii0xIj48L2lmcmFtZT4nKS5hcHBlbmRUbyhiLmdldFBhcmVudCgpKX1jLnVuc2VsZWN0YWJsZSgpO2UudW5zZWxlY3RhYmxlKCk7cmV0dXJue2VsZW1lbnQ6YSxwYXJ0czp7ZGlhbG9nOmEuZ2V0Q2hpbGQoMCksdGl0bGU6YyxjbG9zZTplLHRhYnM6Yi5nZXRDaGlsZCgyKSxjb250ZW50czpiLmdldENoaWxkKFszLDAsMCwwXSksZm9vdGVyOmIuZ2V0Q2hpbGQoWzMsMCwxLDBdKX19fWZ1bmN0aW9uIEgoYSxiLGMpe3RoaXMuZWxlbWVudD1iO3RoaXMuZm9jdXNJbmRleD1jO3RoaXMudGFiSW5kZXg9CjA7dGhpcy5pc0ZvY3VzYWJsZT1mdW5jdGlvbigpe3JldHVybiFiLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKSYmYi5pc1Zpc2libGUoKX07dGhpcy5mb2N1cz1mdW5jdGlvbigpe2EuXy5jdXJyZW50Rm9jdXNJbmRleD10aGlzLmZvY3VzSW5kZXg7dGhpcy5lbGVtZW50LmZvY3VzKCl9O2Iub24oImtleWRvd24iLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRLZXlzdHJva2UoKWluezMyOjEsMTM6MX0mJnRoaXMuZmlyZSgiY2xpY2siKX0pO2Iub24oImZvY3VzIixmdW5jdGlvbigpe3RoaXMuZmlyZSgibW91c2VvdmVyIil9KTtiLm9uKCJibHVyIixmdW5jdGlvbigpe3RoaXMuZmlyZSgibW91c2VvdXQiKX0pfWZ1bmN0aW9uIFQoYSl7ZnVuY3Rpb24gYigpe2EubGF5b3V0KCl9dmFyIGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCk7Yy5vbigicmVzaXplIixiKTthLm9uKCJoaWRlIixmdW5jdGlvbigpe2MucmVtb3ZlTGlzdGVuZXIoInJlc2l6ZSIsYil9KX1mdW5jdGlvbiBJKGEsYil7dGhpcy5fPQp7ZGlhbG9nOmF9O0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIpfWZ1bmN0aW9uIFUoYSl7ZnVuY3Rpb24gYihiKXt2YXIgYz1hLmdldFNpemUoKSxoPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFZpZXdQYW5lU2l6ZSgpLG89Yi5kYXRhLiQuc2NyZWVuWCxqPWIuZGF0YS4kLnNjcmVlblksbj1vLWUueCxtPWotZS55O2U9e3g6byx5Omp9O2QueCs9bjtkLnkrPW07YS5tb3ZlKGQueCtpWzNdPGY\/LWlbM106ZC54LWlbMV0+aC53aWR0aC1jLndpZHRoLWY\/aC53aWR0aC1jLndpZHRoKygicnRsIj09Zy5sYW5nLmRpcj8wOmlbMV0pOmQueCxkLnkraVswXTxmPy1pWzBdOmQueS1pWzJdPmguaGVpZ2h0LWMuaGVpZ2h0LWY\/aC5oZWlnaHQtYy5oZWlnaHQraVsyXTpkLnksMSk7Yi5kYXRhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gYygpe0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKCJtb3VzZW1vdmUiLGIpO0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKCJtb3VzZXVwIiwKYyk7aWYoQ0tFRElUT1IuZW52LmllNkNvbXBhdCl7dmFyIGE9cS5nZXRDaGlsZCgwKS5nZXRGcmFtZURvY3VtZW50KCk7YS5yZW1vdmVMaXN0ZW5lcigibW91c2Vtb3ZlIixiKTthLnJlbW92ZUxpc3RlbmVyKCJtb3VzZXVwIixjKX19dmFyIGU9bnVsbCxkPW51bGw7YS5nZXRFbGVtZW50KCkuZ2V0Rmlyc3QoKTt2YXIgZz1hLmdldFBhcmVudEVkaXRvcigpLGY9Zy5jb25maWcuZGlhbG9nX21hZ25ldERpc3RhbmNlLGk9Q0tFRElUT1Iuc2tpbi5tYXJnaW5zfHxbMCwwLDAsMF07InVuZGVmaW5lZCI9PXR5cGVvZiBmJiYoZj0yMCk7YS5wYXJ0cy50aXRsZS5vbigibW91c2Vkb3duIixmdW5jdGlvbihmKXtlPXt4OmYuZGF0YS4kLnNjcmVlblgseTpmLmRhdGEuJC5zY3JlZW5ZfTtDS0VESVRPUi5kb2N1bWVudC5vbigibW91c2Vtb3ZlIixiKTtDS0VESVRPUi5kb2N1bWVudC5vbigibW91c2V1cCIsYyk7ZD1hLmdldFBvc2l0aW9uKCk7aWYoQ0tFRElUT1IuZW52LmllNkNvbXBhdCl7dmFyIGs9CnEuZ2V0Q2hpbGQoMCkuZ2V0RnJhbWVEb2N1bWVudCgpO2sub24oIm1vdXNlbW92ZSIsYik7ay5vbigibW91c2V1cCIsYyl9Zi5kYXRhLnByZXZlbnREZWZhdWx0KCl9LGEpfWZ1bmN0aW9uIFYoYSl7dmFyIGIsYztmdW5jdGlvbiBlKGQpe3ZhciBlPSJydGwiPT1pLmxhbmcuZGlyLGo9by53aWR0aCxDPW8uaGVpZ2h0LEQ9aisoZC5kYXRhLiQuc2NyZWVuWC1iKSooZT8tMToxKSooYS5fLm1vdmVkPzE6Miksbj1DKyhkLmRhdGEuJC5zY3JlZW5ZLWMpKihhLl8ubW92ZWQ\/MToyKSx4PWEuXy5lbGVtZW50LmdldEZpcnN0KCkseD1lJiZ4LmdldENvbXB1dGVkU3R5bGUoInJpZ2h0IikseT1hLmdldFBvc2l0aW9uKCk7eS55K24+aC5oZWlnaHQmJihuPWguaGVpZ2h0LXkueSk7aWYoKGU\/eDp5LngpK0Q+aC53aWR0aClEPWgud2lkdGgtKGU\/eDp5LngpO2lmKGY9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfV0lEVEh8fGY9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USClqPU1hdGgubWF4KGcubWluV2lkdGh8fAowLEQtbCk7aWYoZj09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9IRUlHSFR8fGY9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USClDPU1hdGgubWF4KGcubWluSGVpZ2h0fHwwLG4tayk7YS5yZXNpemUoaixDKTthLl8ubW92ZWR8fGEubGF5b3V0KCk7ZC5kYXRhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gZCgpe0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKCJtb3VzZXVwIixkKTtDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcigibW91c2Vtb3ZlIixlKTtqJiYoai5yZW1vdmUoKSxqPW51bGwpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpe3ZhciBhPXEuZ2V0Q2hpbGQoMCkuZ2V0RnJhbWVEb2N1bWVudCgpO2EucmVtb3ZlTGlzdGVuZXIoIm1vdXNldXAiLGQpO2EucmVtb3ZlTGlzdGVuZXIoIm1vdXNlbW92ZSIsZSl9fXZhciBnPWEuZGVmaW5pdGlvbixmPWcucmVzaXphYmxlO2lmKGYhPUNLRURJVE9SLkRJQUxPR19SRVNJWkVfTk9ORSl7dmFyIGk9YS5nZXRQYXJlbnRFZGl0b3IoKSwKbCxrLGgsbyxqLG49Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oZil7bz1hLmdldFNpemUoKTt2YXIgZz1hLnBhcnRzLmNvbnRlbnRzO2cuJC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaWZyYW1lIikubGVuZ3RoJiYoaj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnPGRpdiBjbGFzcz0iY2tlX2RpYWxvZ19yZXNpemVfY292ZXIiIHN0eWxlPSJoZWlnaHQ6IDEwMCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDEwMCU7Ij48L2Rpdj4nKSxnLmFwcGVuZChqKSk7az1vLmhlaWdodC1hLnBhcnRzLmNvbnRlbnRzLmdldFNpemUoImhlaWdodCIsIShDS0VESVRPUi5lbnYuZ2Vja298fENLRURJVE9SLmVudi5vcGVyYXx8Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzKSk7bD1vLndpZHRoLWEucGFydHMuY29udGVudHMuZ2V0U2l6ZSgid2lkdGgiLDEpO2I9Zi5zY3JlZW5YO2M9Zi5zY3JlZW5ZO2g9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCk7CkNLRURJVE9SLmRvY3VtZW50Lm9uKCJtb3VzZW1vdmUiLGUpO0NLRURJVE9SLmRvY3VtZW50Lm9uKCJtb3VzZXVwIixkKTtDS0VESVRPUi5lbnYuaWU2Q29tcGF0JiYoZz1xLmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKSxnLm9uKCJtb3VzZW1vdmUiLGUpLGcub24oIm1vdXNldXAiLGQpKTtmLnByZXZlbnREZWZhdWx0JiZmLnByZXZlbnREZWZhdWx0KCl9KTthLm9uKCJsb2FkIixmdW5jdGlvbigpe3ZhciBiPSIiO2Y9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfV0lEVEg\/Yj0iIGNrZV9yZXNpemVyX2hvcml6b250YWwiOmY9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfSEVJR0hUJiYoYj0iIGNrZV9yZXNpemVyX3ZlcnRpY2FsIik7Yj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnPGRpdiBjbGFzcz0iY2tlX3Jlc2l6ZXInK2IrIiBja2VfcmVzaXplcl8iK2kubGFuZy5kaXIrJyIgdGl0bGU9IicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShpLmxhbmcuY29tbW9uLnJlc2l6ZSkrCiciIG9ubW91c2Vkb3duPSJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oJytuKycsIGV2ZW50ICkiPicrKCJsdHIiPT1pLmxhbmcuZGlyPyLil6IiOiLil6MiKSsiPC9kaXY+Iik7YS5wYXJ0cy5mb290ZXIuYXBwZW5kKGIsMSl9KTtpLm9uKCJkZXN0cm95IixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKG4pfSl9fWZ1bmN0aW9uIEUoYSl7YS5kYXRhLnByZXZlbnREZWZhdWx0KDEpfWZ1bmN0aW9uIEooYSl7dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCksYz1hLmNvbmZpZyxlPWMuZGlhbG9nX2JhY2tncm91bmRDb3ZlckNvbG9yfHwid2hpdGUiLGQ9Yy5kaWFsb2dfYmFja2dyb3VuZENvdmVyT3BhY2l0eSxnPWMuYmFzZUZsb2F0WkluZGV4LGM9Q0tFRElUT1IudG9vbHMuZ2VuS2V5KGUsZCxnKSxmPXdbY107Zj9mLnNob3coKTooZz1bJzxkaXYgdGFiSW5kZXg9Ii0xIiBzdHlsZT0icG9zaXRpb246ICcsQ0tFRElUT1IuZW52LmllNkNvbXBhdD8KImFic29sdXRlIjoiZml4ZWQiLCI7IHotaW5kZXg6ICIsZywiOyB0b3A6IDBweDsgbGVmdDogMHB4OyAiLCFDS0VESVRPUi5lbnYuaWU2Q29tcGF0PyJiYWNrZ3JvdW5kLWNvbG9yOiAiK2U6IiIsJyIgY2xhc3M9ImNrZV9kaWFsb2dfYmFja2dyb3VuZF9jb3ZlciI+J10sQ0tFRElUT1IuZW52LmllNkNvbXBhdCYmKGU9IjxodG1sPjxib2R5IHN0eWxlPVxcJ2JhY2tncm91bmQtY29sb3I6IitlKyI7XFwnPjwvYm9keT48L2h0bWw+IixnLnB1c2goJzxpZnJhbWUgaGlkZWZvY3VzPSJ0cnVlIiBmcmFtZWJvcmRlcj0iMCIgaWQ9ImNrZV9kaWFsb2dfYmFja2dyb3VuZF9pZnJhbWUiIHNyYz0iamF2YXNjcmlwdDonKSxnLnB1c2goInZvaWQoKGZ1bmN0aW9uKCl7IitlbmNvZGVVUklDb21wb25lbnQoImRvY3VtZW50Lm9wZW4oKTsoIitDS0VESVRPUi50b29scy5maXhEb21haW4rIikoKTtkb2N1bWVudC53cml0ZSggJyIrZSsiJyApO2RvY3VtZW50LmNsb3NlKCk7IikrIn0pKCkpIiksZy5wdXNoKCciIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MTAwJTtoZWlnaHQ6IDEwMCU7ZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEob3BhY2l0eT0wKSI+PC9pZnJhbWU+JykpLApnLnB1c2goIjwvZGl2PiIpLGY9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoZy5qb2luKCIiKSksZi5zZXRPcGFjaXR5KHZvaWQgMCE9ZD9kOjAuNSksZi5vbigia2V5ZG93biIsRSksZi5vbigia2V5cHJlc3MiLEUpLGYub24oImtleXVwIixFKSxmLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSksd1tjXT1mKTthLmZvY3VzTWFuYWdlci5hZGQoZik7cT1mO3ZhciBhPWZ1bmN0aW9uKCl7dmFyIGE9Yi5nZXRWaWV3UGFuZVNpemUoKTtmLnNldFN0eWxlcyh7d2lkdGg6YS53aWR0aCsicHgiLGhlaWdodDphLmhlaWdodCsicHgifSl9LGk9ZnVuY3Rpb24oKXt2YXIgYT1iLmdldFNjcm9sbFBvc2l0aW9uKCksYz1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wO2Yuc2V0U3R5bGVzKHtsZWZ0OmEueCsicHgiLHRvcDphLnkrInB4In0pO2lmKGMpe2Rve2E9Yy5nZXRQb3NpdGlvbigpO2MubW92ZShhLngsYS55KX13aGlsZShjPWMuXy5wYXJlbnREaWFsb2cpCn19O0Y9YTtiLm9uKCJyZXNpemUiLGEpO2EoKTsoIUNLRURJVE9SLmVudi5tYWN8fCFDS0VESVRPUi5lbnYud2Via2l0KSYmZi5mb2N1cygpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpe3ZhciBsPWZ1bmN0aW9uKCl7aSgpO2FyZ3VtZW50cy5jYWxsZWUucHJldlNjcm9sbEhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtiLiQuc2V0VGltZW91dChmdW5jdGlvbigpe2wucHJldlNjcm9sbEhhbmRsZXI9d2luZG93Lm9uc2Nyb2xsfHxmdW5jdGlvbigpe307d2luZG93Lm9uc2Nyb2xsPWx9LDApO2koKX19ZnVuY3Rpb24gSyhhKXtxJiYoYS5mb2N1c01hbmFnZXIucmVtb3ZlKHEpLGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkscS5oaWRlKCksYS5yZW1vdmVMaXN0ZW5lcigicmVzaXplIixGKSxDS0VESVRPUi5lbnYuaWU2Q29tcGF0JiZhLiQuc2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5vbnNjcm9sbD13aW5kb3cub25zY3JvbGwmJndpbmRvdy5vbnNjcm9sbC5wcmV2U2Nyb2xsSGFuZGxlcnx8Cm51bGx9LDApLEY9bnVsbCl9dmFyIHI9Q0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoLFM9JzxkaXYgY2xhc3M9ImNrZV9yZXNldF9hbGwge2VkaXRvcklkfSB7ZWRpdG9yRGlhbG9nQ2xhc3N9IHtoaWRwaX0iIGRpcj0ie2xhbmdEaXJ9IiBsYW5nPSJ7bGFuZ0NvZGV9IiByb2xlPSJkaWFsb2ciIGFyaWEtbGFiZWxsZWRieT0iY2tlX2RpYWxvZ190aXRsZV97aWR9Ij48dGFibGUgY2xhc3M9ImNrZV9kaWFsb2cgJytDS0VESVRPUi5lbnYuY3NzQ2xhc3MrJyBja2Vfe2xhbmdEaXJ9IiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGUiIHJvbGU9InByZXNlbnRhdGlvbiI+PHRyPjx0ZCByb2xlPSJwcmVzZW50YXRpb24iPjxkaXYgY2xhc3M9ImNrZV9kaWFsb2dfYm9keSIgcm9sZT0icHJlc2VudGF0aW9uIj48ZGl2IGlkPSJja2VfZGlhbG9nX3RpdGxlX3tpZH0iIGNsYXNzPSJja2VfZGlhbG9nX3RpdGxlIiByb2xlPSJwcmVzZW50YXRpb24iPjwvZGl2PjxhIGlkPSJja2VfZGlhbG9nX2Nsb3NlX2J1dHRvbl97aWR9IiBjbGFzcz0iY2tlX2RpYWxvZ19jbG9zZV9idXR0b24iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgdGl0bGU9IntjbG9zZVRpdGxlfSIgcm9sZT0iYnV0dG9uIj48c3BhbiBjbGFzcz0iY2tlX2xhYmVsIj5YPC9zcGFuPjwvYT48ZGl2IGlkPSJja2VfZGlhbG9nX3RhYnNfe2lkfSIgY2xhc3M9ImNrZV9kaWFsb2dfdGFicyIgcm9sZT0idGFibGlzdCI+PC9kaXY+PHRhYmxlIGNsYXNzPSJja2VfZGlhbG9nX2NvbnRlbnRzIiByb2xlPSJwcmVzZW50YXRpb24iPjx0cj48dGQgaWQ9ImNrZV9kaWFsb2dfY29udGVudHNfe2lkfSIgY2xhc3M9ImNrZV9kaWFsb2dfY29udGVudHNfYm9keSIgcm9sZT0icHJlc2VudGF0aW9uIj48L3RkPjwvdHI+PHRyPjx0ZCBpZD0iY2tlX2RpYWxvZ19mb290ZXJfe2lkfSIgY2xhc3M9ImNrZV9kaWFsb2dfZm9vdGVyIiByb2xlPSJwcmVzZW50YXRpb24iPjwvdGQ+PC90cj48L3RhYmxlPjwvZGl2PjwvdGQ+PC90cj48L3RhYmxlPjwvZGl2Pic7CkNLRURJVE9SLmRpYWxvZz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt2YXIgYT1tLl8uZm9jdXNMaXN0O2Euc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnRhYkluZGV4IT1iLnRhYkluZGV4P2IudGFiSW5kZXgtYS50YWJJbmRleDphLmZvY3VzSW5kZXgtYi5mb2N1c0luZGV4fSk7Zm9yKHZhciBiPWEubGVuZ3RoLGM9MDtjPGI7YysrKWFbY10uZm9jdXNJbmRleD1jfWZ1bmN0aW9uIGUoYSl7dmFyIGI9bS5fLmZvY3VzTGlzdCxhPWF8fDA7aWYoISgxPmIubGVuZ3RoKSl7dmFyIGM9bS5fLmN1cnJlbnRGb2N1c0luZGV4O3RyeXtiW2NdLmdldElucHV0RWxlbWVudCgpLiQuYmx1cigpfWNhdGNoKGYpe31mb3IodmFyIGQ9Yz0oYythK2IubGVuZ3RoKSViLmxlbmd0aDthJiYhYltkXS5pc0ZvY3VzYWJsZSgpJiYhKGQ9KGQrYStiLmxlbmd0aCklYi5sZW5ndGgsZD09Yyk7KTtiW2RdLmZvY3VzKCk7InRleHQiPT1iW2RdLnR5cGUmJmJbZF0uc2VsZWN0KCl9fWZ1bmN0aW9uIGQoYil7aWYobT09CkNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3Ape3ZhciBjPWIuZGF0YS5nZXRLZXlzdHJva2UoKSxkPSJydGwiPT1hLmxhbmcuZGlyO289aj0wO2lmKDk9PWN8fGM9PUNLRURJVE9SLlNISUZUKzkpYz1jPT1DS0VESVRPUi5TSElGVCs5LG0uXy50YWJCYXJNb2RlPyhjPWM\/dC5jYWxsKG0pOnUuY2FsbChtKSxtLnNlbGVjdFBhZ2UoYyksbS5fLnRhYnNbY11bMF0uZm9jdXMoKSk6ZShjPy0xOjEpLG89MTtlbHNlIGlmKGM9PUNLRURJVE9SLkFMVCsxMjEmJiFtLl8udGFiQmFyTW9kZSYmMTxtLmdldFBhZ2VDb3VudCgpKW0uXy50YWJCYXJNb2RlPSEwLG0uXy50YWJzW20uXy5jdXJyZW50VGFiSWRdWzBdLmZvY3VzKCksbz0xO2Vsc2UgaWYoKDM3PT1jfHwzOT09YykmJm0uXy50YWJCYXJNb2RlKWM9Yz09KGQ\/Mzk6MzcpP3QuY2FsbChtKTp1LmNhbGwobSksbS5zZWxlY3RQYWdlKGMpLG0uXy50YWJzW2NdWzBdLmZvY3VzKCksbz0xO2Vsc2UgaWYoKDEzPT1jfHwzMj09YykmJm0uXy50YWJCYXJNb2RlKXRoaXMuc2VsZWN0UGFnZSh0aGlzLl8uY3VycmVudFRhYklkKSwKdGhpcy5fLnRhYkJhck1vZGU9ITEsdGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PS0xLGUoMSksbz0xO2Vsc2UgaWYoMTM9PWMpe2M9Yi5kYXRhLmdldFRhcmdldCgpO2lmKCFjLmlzKCJhIiwiYnV0dG9uIiwic2VsZWN0IiwidGV4dGFyZWEiKSYmKCFjLmlzKCJpbnB1dCIpfHwiYnV0dG9uIiE9Yy4kLnR5cGUpKShjPXRoaXMuZ2V0QnV0dG9uKCJvayIpKSYmQ0tFRElUT1IudG9vbHMuc2V0VGltZW91dChjLmNsaWNrLDAsYyksbz0xO2o9MX1lbHNlIGlmKDI3PT1jKShjPXRoaXMuZ2V0QnV0dG9uKCJjYW5jZWwiKSk\/Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChjLmNsaWNrLDAsYyk6ITEhPT10aGlzLmZpcmUoImNhbmNlbCIse2hpZGU6ITB9KS5oaWRlJiZ0aGlzLmhpZGUoKSxqPTE7ZWxzZSByZXR1cm47ZyhiKX19ZnVuY3Rpb24gZyhhKXtvP2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgxKTpqJiZhLmRhdGEuc3RvcFByb3BhZ2F0aW9uKCl9dmFyIGY9Q0tFRElUT1IuZGlhbG9nLl8uZGlhbG9nRGVmaW5pdGlvbnNbYl0sCmk9Q0tFRElUT1IudG9vbHMuY2xvbmUoVyksbD1hLmNvbmZpZy5kaWFsb2dfYnV0dG9uc09yZGVyfHwiT1MiLGs9YS5sYW5nLmRpcixoPXt9LG8sajsoIk9TIj09bCYmQ0tFRElUT1IuZW52Lm1hY3x8InJ0bCI9PWwmJiJsdHIiPT1rfHwibHRyIj09bCYmInJ0bCI9PWspJiZpLmJ1dHRvbnMucmV2ZXJzZSgpO2Y9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGYoYSksaSk7Zj1DS0VESVRPUi50b29scy5jbG9uZShmKTtmPW5ldyBMKHRoaXMsZik7aT1SKGEpO3RoaXMuXz17ZWRpdG9yOmEsZWxlbWVudDppLmVsZW1lbnQsbmFtZTpiLGNvbnRlbnRTaXplOnt3aWR0aDowLGhlaWdodDowfSxzaXplOnt3aWR0aDowLGhlaWdodDowfSxjb250ZW50czp7fSxidXR0b25zOnt9LGFjY2Vzc0tleU1hcDp7fSx0YWJzOnt9LHRhYklkTGlzdDpbXSxjdXJyZW50VGFiSWQ6bnVsbCxjdXJyZW50VGFiSW5kZXg6bnVsbCxwYWdlQ291bnQ6MCxsYXN0VGFiOm51bGwsdGFiQmFyTW9kZTohMSxmb2N1c0xpc3Q6W10sCmN1cnJlbnRGb2N1c0luZGV4OjAsaGFzRm9jdXM6ITF9O3RoaXMucGFydHM9aS5wYXJ0cztDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5maXJlKCJhcmlhV2lkZ2V0Iix0aGlzLnBhcnRzLmNvbnRlbnRzKX0sMCx0aGlzKTtpPXtwb3NpdGlvbjpDS0VESVRPUi5lbnYuaWU2Q29tcGF0PyJhYnNvbHV0ZSI6ImZpeGVkIix0b3A6MCx2aXNpYmlsaXR5OiJoaWRkZW4ifTtpWyJydGwiPT1rPyJyaWdodCI6ImxlZnQiXT0wO3RoaXMucGFydHMuZGlhbG9nLnNldFN0eWxlcyhpKTtDS0VESVRPUi5ldmVudC5jYWxsKHRoaXMpO3RoaXMuZGVmaW5pdGlvbj1mPUNLRURJVE9SLmZpcmUoImRpYWxvZ0RlZmluaXRpb24iLHtuYW1lOmIsZGVmaW5pdGlvbjpmfSxhKS5kZWZpbml0aW9uO2lmKCEoInJlbW92ZURpYWxvZ1RhYnMiaW4gYS5fKSYmYS5jb25maWcucmVtb3ZlRGlhbG9nVGFicyl7aT1hLmNvbmZpZy5yZW1vdmVEaWFsb2dUYWJzLnNwbGl0KCI7Iik7Zm9yKGs9MDtrPAppLmxlbmd0aDtrKyspaWYobD1pW2tdLnNwbGl0KCI6IiksMj09bC5sZW5ndGgpe3ZhciBuPWxbMF07aFtuXXx8KGhbbl09W10pO2hbbl0ucHVzaChsWzFdKX1hLl8ucmVtb3ZlRGlhbG9nVGFicz1ofWlmKGEuXy5yZW1vdmVEaWFsb2dUYWJzJiYoaD1hLl8ucmVtb3ZlRGlhbG9nVGFic1tiXSkpZm9yKGs9MDtrPGgubGVuZ3RoO2srKylmLnJlbW92ZUNvbnRlbnRzKGhba10pO2lmKGYub25Mb2FkKXRoaXMub24oImxvYWQiLGYub25Mb2FkKTtpZihmLm9uU2hvdyl0aGlzLm9uKCJzaG93IixmLm9uU2hvdyk7aWYoZi5vbkhpZGUpdGhpcy5vbigiaGlkZSIsZi5vbkhpZGUpO2lmKGYub25Payl0aGlzLm9uKCJvayIsZnVuY3Rpb24oYil7YS5maXJlKCJzYXZlU25hcHNob3QiKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5maXJlKCJzYXZlU25hcHNob3QiKX0sMCk7ITE9PT1mLm9uT2suY2FsbCh0aGlzLGIpJiYoYi5kYXRhLmhpZGU9ITEpfSk7aWYoZi5vbkNhbmNlbCl0aGlzLm9uKCJjYW5jZWwiLApmdW5jdGlvbihhKXshMT09PWYub25DYW5jZWwuY2FsbCh0aGlzLGEpJiYoYS5kYXRhLmhpZGU9ITEpfSk7dmFyIG09dGhpcyxwPWZ1bmN0aW9uKGEpe3ZhciBiPW0uXy5jb250ZW50cyxjPSExLGQ7Zm9yKGQgaW4gYilmb3IodmFyIGYgaW4gYltkXSlpZihjPWEuY2FsbCh0aGlzLGJbZF1bZl0pKXJldHVybn07dGhpcy5vbigib2siLGZ1bmN0aW9uKGEpe3AoZnVuY3Rpb24oYil7aWYoYi52YWxpZGF0ZSl7dmFyIGM9Yi52YWxpZGF0ZSh0aGlzKSxkPSJzdHJpbmciPT10eXBlb2YgY3x8ITE9PT1jO2QmJihhLmRhdGEuaGlkZT0hMSxhLnN0b3AoKSk7UC5jYWxsKGIsIWQsInN0cmluZyI9PXR5cGVvZiBjP2M6dm9pZCAwKTtyZXR1cm4gZH19KX0sdGhpcyxudWxsLDApO3RoaXMub24oImNhbmNlbCIsZnVuY3Rpb24oYil7cChmdW5jdGlvbihjKXtpZihjLmlzQ2hhbmdlZCgpKXJldHVybiFhLmNvbmZpZy5kaWFsb2dfbm9Db25maXJtQ2FuY2VsJiYhY29uZmlybShhLmxhbmcuY29tbW9uLmNvbmZpcm1DYW5jZWwpJiYKKGIuZGF0YS5oaWRlPSExKSwhMH0pfSx0aGlzLG51bGwsMCk7dGhpcy5wYXJ0cy5jbG9zZS5vbigiY2xpY2siLGZ1bmN0aW9uKGEpeyExIT09dGhpcy5maXJlKCJjYW5jZWwiLHtoaWRlOiEwfSkuaGlkZSYmdGhpcy5oaWRlKCk7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9LHRoaXMpO3RoaXMuY2hhbmdlRm9jdXM9ZTt2YXIgdj10aGlzLl8uZWxlbWVudDthLmZvY3VzTWFuYWdlci5hZGQodiwxKTt0aGlzLm9uKCJzaG93IixmdW5jdGlvbigpe3Yub24oImtleWRvd24iLGQsdGhpcyk7aWYoQ0tFRElUT1IuZW52Lm9wZXJhfHxDS0VESVRPUi5lbnYuZ2Vja28pdi5vbigia2V5cHJlc3MiLGcsdGhpcyl9KTt0aGlzLm9uKCJoaWRlIixmdW5jdGlvbigpe3YucmVtb3ZlTGlzdGVuZXIoImtleWRvd24iLGQpOyhDS0VESVRPUi5lbnYub3BlcmF8fENLRURJVE9SLmVudi5nZWNrbykmJnYucmVtb3ZlTGlzdGVuZXIoImtleXByZXNzIixnKTtwKGZ1bmN0aW9uKGEpe1EuYXBwbHkoYSl9KX0pO3RoaXMub24oImlmcmFtZUFkZGVkIiwKZnVuY3Rpb24oYSl7KG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQoYS5kYXRhLmlmcmFtZS4kLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpKS5vbigia2V5ZG93biIsZCx0aGlzLG51bGwsMCl9KTt0aGlzLm9uKCJzaG93IixmdW5jdGlvbigpe2MoKTtpZihhLmNvbmZpZy5kaWFsb2dfc3RhcnR1cEZvY3VzVGFiJiYxPG0uXy5wYWdlQ291bnQpbS5fLnRhYkJhck1vZGU9ITAsbS5fLnRhYnNbbS5fLmN1cnJlbnRUYWJJZF1bMF0uZm9jdXMoKTtlbHNlIGlmKCF0aGlzLl8uaGFzRm9jdXMpaWYodGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PS0xLGYub25Gb2N1cyl7dmFyIGI9Zi5vbkZvY3VzLmNhbGwodGhpcyk7YiYmYi5mb2N1cygpfWVsc2UgZSgxKX0sdGhpcyxudWxsLDQyOTQ5NjcyOTUpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpdGhpcy5vbigibG9hZCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKSxiPWEuZ2V0Rmlyc3QoKTtiLnJlbW92ZSgpO2IuYXBwZW5kVG8oYSl9LAp0aGlzKTtVKHRoaXMpO1YodGhpcyk7KG5ldyBDS0VESVRPUi5kb20udGV4dChmLnRpdGxlLENLRURJVE9SLmRvY3VtZW50KSkuYXBwZW5kVG8odGhpcy5wYXJ0cy50aXRsZSk7Zm9yKGs9MDtrPGYuY29udGVudHMubGVuZ3RoO2srKykoaD1mLmNvbnRlbnRzW2tdKSYmdGhpcy5hZGRQYWdlKGgpO3RoaXMucGFydHMudGFicy5vbigiY2xpY2siLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5nZXRUYXJnZXQoKTtiLmhhc0NsYXNzKCJja2VfZGlhbG9nX3RhYiIpJiYoYj1iLiQuaWQsdGhpcy5zZWxlY3RQYWdlKGIuc3Vic3RyaW5nKDQsYi5sYXN0SW5kZXhPZigiXyIpKSksdGhpcy5fLnRhYkJhck1vZGUmJih0aGlzLl8udGFiQmFyTW9kZT0hMSx0aGlzLl8uY3VycmVudEZvY3VzSW5kZXg9LTEsZSgxKSksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSx0aGlzKTtrPVtdO2g9Q0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnMuaGJveC5idWlsZCh0aGlzLHt0eXBlOiJoYm94IiwKY2xhc3NOYW1lOiJja2VfZGlhbG9nX2Zvb3Rlcl9idXR0b25zIix3aWR0aHM6W10sY2hpbGRyZW46Zi5idXR0b25zfSxrKS5nZXRDaGlsZCgpO3RoaXMucGFydHMuZm9vdGVyLnNldEh0bWwoay5qb2luKCIiKSk7Zm9yKGs9MDtrPGgubGVuZ3RoO2srKyl0aGlzLl8uYnV0dG9uc1toW2tdLmlkXT1oW2tdfTtDS0VESVRPUi5kaWFsb2cucHJvdG90eXBlPXtkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5oaWRlKCk7dGhpcy5fLmVsZW1lbnQucmVtb3ZlKCl9LHJlc2l6ZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe2lmKCF0aGlzLl8uY29udGVudFNpemV8fCEodGhpcy5fLmNvbnRlbnRTaXplLndpZHRoPT1hJiZ0aGlzLl8uY29udGVudFNpemUuaGVpZ2h0PT1iKSlDS0VESVRPUi5kaWFsb2cuZmlyZSgicmVzaXplIix7ZGlhbG9nOnRoaXMsd2lkdGg6YSxoZWlnaHQ6Yn0sdGhpcy5fLmVkaXRvciksdGhpcy5maXJlKCJyZXNpemUiLHt3aWR0aDphLGhlaWdodDpifSx0aGlzLl8uZWRpdG9yKSwKdGhpcy5wYXJ0cy5jb250ZW50cy5zZXRTdHlsZXMoe3dpZHRoOmErInB4IixoZWlnaHQ6YisicHgifSksInJ0bCI9PXRoaXMuXy5lZGl0b3IubGFuZy5kaXImJnRoaXMuXy5wb3NpdGlvbiYmKHRoaXMuXy5wb3NpdGlvbi54PUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFZpZXdQYW5lU2l6ZSgpLndpZHRoLXRoaXMuXy5jb250ZW50U2l6ZS53aWR0aC1wYXJzZUludCh0aGlzLl8uZWxlbWVudC5nZXRGaXJzdCgpLmdldFN0eWxlKCJyaWdodCIpLDEwKSksdGhpcy5fLmNvbnRlbnRTaXplPXt3aWR0aDphLGhlaWdodDpifX19KCksZ2V0U2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5lbGVtZW50LmdldEZpcnN0KCk7cmV0dXJue3dpZHRoOmEuJC5vZmZzZXRXaWR0aHx8MCxoZWlnaHQ6YS4kLm9mZnNldEhlaWdodHx8MH19LG1vdmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXMuXy5lbGVtZW50LmdldEZpcnN0KCksZD0icnRsIj09dGhpcy5fLmVkaXRvci5sYW5nLmRpciwKZz0iZml4ZWQiPT1lLmdldENvbXB1dGVkU3R5bGUoInBvc2l0aW9uIik7Q0tFRElUT1IuZW52LmllJiZlLnNldFN0eWxlKCJ6b29tIiwiMTAwJSIpO2lmKCFnfHwhdGhpcy5fLnBvc2l0aW9ufHwhKHRoaXMuXy5wb3NpdGlvbi54PT1hJiZ0aGlzLl8ucG9zaXRpb24ueT09YikpdGhpcy5fLnBvc2l0aW9uPXt4OmEseTpifSxnfHwoZz1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLGErPWcueCxiKz1nLnkpLGQmJihnPXRoaXMuZ2V0U2l6ZSgpLGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCkud2lkdGgtZy53aWR0aC1hKSxiPXt0b3A6KDA8Yj9iOjApKyJweCJ9LGJbZD8icmlnaHQiOiJsZWZ0Il09KDA8YT9hOjApKyJweCIsZS5zZXRTdHlsZXMoYiksYyYmKHRoaXMuXy5tb3ZlZD0xKX0sZ2V0UG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHRoaXMuXy5wb3NpdGlvbil9LApzaG93OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmVsZW1lbnQsYj10aGlzLmRlZmluaXRpb247IWEuZ2V0UGFyZW50KCl8fCFhLmdldFBhcmVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkpP2EuYXBwZW5kVG8oQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpKTphLnNldFN0eWxlKCJkaXNwbGF5IiwiYmxvY2siKTtpZihDS0VESVRPUi5lbnYuZ2Vja28mJjEwOTAwPkNLRURJVE9SLmVudi52ZXJzaW9uKXt2YXIgYz10aGlzLnBhcnRzLmRpYWxvZztjLnNldFN0eWxlKCJwb3NpdGlvbiIsImFic29sdXRlIik7c2V0VGltZW91dChmdW5jdGlvbigpe2Muc2V0U3R5bGUoInBvc2l0aW9uIiwiZml4ZWQiKX0sMCl9dGhpcy5yZXNpemUodGhpcy5fLmNvbnRlbnRTaXplJiZ0aGlzLl8uY29udGVudFNpemUud2lkdGh8fGIud2lkdGh8fGIubWluV2lkdGgsdGhpcy5fLmNvbnRlbnRTaXplJiZ0aGlzLl8uY29udGVudFNpemUuaGVpZ2h0fHxiLmhlaWdodHx8Yi5taW5IZWlnaHQpOwp0aGlzLnJlc2V0KCk7dGhpcy5zZWxlY3RQYWdlKHRoaXMuZGVmaW5pdGlvbi5jb250ZW50c1swXS5pZCk7bnVsbD09PUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRaSW5kZXgmJihDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4PXRoaXMuXy5lZGl0b3IuY29uZmlnLmJhc2VGbG9hdFpJbmRleCk7dGhpcy5fLmVsZW1lbnQuZ2V0Rmlyc3QoKS5zZXRTdHlsZSgiei1pbmRleCIsQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleCs9MTApO251bGw9PT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPyhDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPXRoaXMsdGhpcy5fLnBhcmVudERpYWxvZz1udWxsLEoodGhpcy5fLmVkaXRvcikpOih0aGlzLl8ucGFyZW50RGlhbG9nPUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3AsdGhpcy5fLnBhcmVudERpYWxvZy5nZXRFbGVtZW50KCkuZ2V0Rmlyc3QoKS4kLnN0eWxlLnpJbmRleC09TWF0aC5mbG9vcih0aGlzLl8uZWRpdG9yLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgvCjIpLENLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A9dGhpcyk7YS5vbigia2V5ZG93biIsTSk7YS5vbihDS0VESVRPUi5lbnYub3BlcmE\/ImtleXByZXNzIjoia2V5dXAiLE4pO3RoaXMuXy5oYXNGb2N1cz0hMTtmb3IodmFyIGUgaW4gYi5jb250ZW50cylpZihiLmNvbnRlbnRzW2VdKXt2YXIgYT1iLmNvbnRlbnRzW2VdLGQ9dGhpcy5fLnRhYnNbYS5pZF0sZz1hLnJlcXVpcmVkQ29udGVudCxmPTA7aWYoZCl7Zm9yKHZhciBpIGluIHRoaXMuXy5jb250ZW50c1thLmlkXSl7dmFyIGw9dGhpcy5fLmNvbnRlbnRzW2EuaWRdW2ldOyJoYm94Ij09bC50eXBlfHwoInZib3giPT1sLnR5cGV8fCFsLmdldElucHV0RWxlbWVudCgpKXx8KGwucmVxdWlyZWRDb250ZW50JiYhdGhpcy5fLmVkaXRvci5hY3RpdmVGaWx0ZXIuY2hlY2sobC5yZXF1aXJlZENvbnRlbnQpP2wuZGlzYWJsZSgpOihsLmVuYWJsZSgpLGYrKykpfSFmfHxnJiYhdGhpcy5fLmVkaXRvci5hY3RpdmVGaWx0ZXIuY2hlY2soZyk\/CmRbMF0uYWRkQ2xhc3MoImNrZV9kaWFsb2dfdGFiX2Rpc2FibGVkIik6ZFswXS5yZW1vdmVDbGFzcygiY2tlX2RpYWxvZ190YWJfZGlzYWJsZWQiKX19Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMubGF5b3V0KCk7VCh0aGlzKTt0aGlzLnBhcnRzLmRpYWxvZy5zZXRTdHlsZSgidmlzaWJpbGl0eSIsIiIpO3RoaXMuZmlyZU9uY2UoImxvYWQiLHt9KTtDS0VESVRPUi51aS5maXJlKCJyZWFkeSIsdGhpcyk7dGhpcy5maXJlKCJzaG93Iix7fSk7dGhpcy5fLmVkaXRvci5maXJlKCJkaWFsb2dTaG93Iix0aGlzKTt0aGlzLl8ucGFyZW50RGlhbG9nfHx0aGlzLl8uZWRpdG9yLmZvY3VzTWFuYWdlci5sb2NrKCk7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGEpe2Euc2V0SW5pdFZhbHVlJiZhLnNldEluaXRWYWx1ZSgpfSl9LDEwMCx0aGlzKX0sbGF5b3V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYXJ0cy5kaWFsb2csYj10aGlzLmdldFNpemUoKSxjPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFZpZXdQYW5lU2l6ZSgpLAplPShjLndpZHRoLWIud2lkdGgpLzIsZD0oYy5oZWlnaHQtYi5oZWlnaHQpLzI7Q0tFRElUT1IuZW52LmllNkNvbXBhdHx8KGIuaGVpZ2h0KygwPGQ\/ZDowKT5jLmhlaWdodHx8Yi53aWR0aCsoMDxlP2U6MCk+Yy53aWR0aD9hLnNldFN0eWxlKCJwb3NpdGlvbiIsImFic29sdXRlIik6YS5zZXRTdHlsZSgicG9zaXRpb24iLCJmaXhlZCIpKTt0aGlzLm1vdmUodGhpcy5fLm1vdmVkP3RoaXMuXy5wb3NpdGlvbi54OmUsdGhpcy5fLm1vdmVkP3RoaXMuXy5wb3NpdGlvbi55OmQpfSxmb3JlYWNoOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiB0aGlzLl8uY29udGVudHMpZm9yKHZhciBjIGluIHRoaXMuXy5jb250ZW50c1tiXSlhLmNhbGwodGhpcyx0aGlzLl8uY29udGVudHNbYl1bY10pO3JldHVybiB0aGlzfSxyZXNldDpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEpe2EucmVzZXQmJmEucmVzZXQoMSl9O3JldHVybiBmdW5jdGlvbigpe3RoaXMuZm9yZWFjaChhKTtyZXR1cm4gdGhpc319KCksCnNldHVwQ29udGVudDpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50czt0aGlzLmZvcmVhY2goZnVuY3Rpb24oYil7Yi5zZXR1cCYmYi5zZXR1cC5hcHBseShiLGEpfSl9LGNvbW1pdENvbnRlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGIpe0NLRURJVE9SLmVudi5pZSYmdGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PT1iLmZvY3VzSW5kZXgmJmIuZ2V0SW5wdXRFbGVtZW50KCkuJC5ibHVyKCk7Yi5jb21taXQmJmIuY29tbWl0LmFwcGx5KGIsYSl9KX0saGlkZTpmdW5jdGlvbigpe2lmKHRoaXMucGFydHMuZGlhbG9nLmlzVmlzaWJsZSgpKXt0aGlzLmZpcmUoImhpZGUiLHt9KTt0aGlzLl8uZWRpdG9yLmZpcmUoImRpYWxvZ0hpZGUiLHRoaXMpO3RoaXMuc2VsZWN0UGFnZSh0aGlzLl8udGFiSWRMaXN0WzBdKTt2YXIgYT10aGlzLl8uZWxlbWVudDthLnNldFN0eWxlKCJkaXNwbGF5Iiwibm9uZSIpO3RoaXMucGFydHMuZGlhbG9nLnNldFN0eWxlKCJ2aXNpYmlsaXR5IiwKImhpZGRlbiIpO2ZvcihYKHRoaXMpO0NLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3AhPXRoaXM7KUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3AuaGlkZSgpO2lmKHRoaXMuXy5wYXJlbnREaWFsb2cpe3ZhciBiPXRoaXMuXy5wYXJlbnREaWFsb2cuZ2V0RWxlbWVudCgpLmdldEZpcnN0KCk7Yi5zZXRTdHlsZSgiei1pbmRleCIscGFyc2VJbnQoYi4kLnN0eWxlLnpJbmRleCwxMCkrTWF0aC5mbG9vcih0aGlzLl8uZWRpdG9yLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgvMikpfWVsc2UgSyh0aGlzLl8uZWRpdG9yKTtpZihDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPXRoaXMuXy5wYXJlbnREaWFsb2cpQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleC09MTA7ZWxzZXtDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4PW51bGw7YS5yZW1vdmVMaXN0ZW5lcigia2V5ZG93biIsTSk7YS5yZW1vdmVMaXN0ZW5lcihDS0VESVRPUi5lbnYub3BlcmE\/ImtleXByZXNzIjoia2V5dXAiLApOKTt2YXIgYz10aGlzLl8uZWRpdG9yO2MuZm9jdXMoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5mb2N1c01hbmFnZXIudW5sb2NrKCl9LDApfWRlbGV0ZSB0aGlzLl8ucGFyZW50RGlhbG9nO3RoaXMuZm9yZWFjaChmdW5jdGlvbihhKXthLnJlc2V0SW5pdFZhbHVlJiZhLnJlc2V0SW5pdFZhbHVlKCl9KX19LGFkZFBhZ2U6ZnVuY3Rpb24oYSl7aWYoIWEucmVxdWlyZWRDb250ZW50fHx0aGlzLl8uZWRpdG9yLmZpbHRlci5jaGVjayhhLnJlcXVpcmVkQ29udGVudCkpe2Zvcih2YXIgYj1bXSxjPWEubGFiZWw\/JyB0aXRsZT0iJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGEubGFiZWwpKyciJzoiIixlPUNLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzLnZib3guYnVpbGQodGhpcyx7dHlwZToidmJveCIsY2xhc3NOYW1lOiJja2VfZGlhbG9nX3BhZ2VfY29udGVudHMiLGNoaWxkcmVuOmEuZWxlbWVudHMsZXhwYW5kOiEhYS5leHBhbmQscGFkZGluZzphLnBhZGRpbmcsCnN0eWxlOmEuc3R5bGV8fCJ3aWR0aDogMTAwJTsifSxiKSxkPXRoaXMuXy5jb250ZW50c1thLmlkXT17fSxnPWUuZ2V0Q2hpbGQoKSxmPTA7ZT1nLnNoaWZ0KCk7KSFlLm5vdEFsbG93ZWQmJigiaGJveCIhPWUudHlwZSYmInZib3giIT1lLnR5cGUpJiZmKyssZFtlLmlkXT1lLCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldENoaWxkJiZnLnB1c2guYXBwbHkoZyxlLmdldENoaWxkKCkpO2Z8fChhLmhpZGRlbj0hMCk7Yj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChiLmpvaW4oIiIpKTtiLnNldEF0dHJpYnV0ZSgicm9sZSIsInRhYnBhbmVsIik7ZT1DS0VESVRPUi5lbnY7ZD0iY2tlXyIrYS5pZCsiXyIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO2M9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoWyc8YSBjbGFzcz0iY2tlX2RpYWxvZ190YWIiJywwPHRoaXMuXy5wYWdlQ291bnQ\/IiBja2VfbGFzdCI6ImNrZV9maXJzdCIsYyxhLmhpZGRlbj8KJyBzdHlsZT0iZGlzcGxheTpub25lIic6IiIsJyBpZD0iJyxkLCciJyxlLmdlY2tvJiYxMDkwMDw9ZS52ZXJzaW9uJiYhZS5oYz8iIjonIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSInLCcgdGFiSW5kZXg9Ii0xIiBoaWRlZm9jdXM9InRydWUiIHJvbGU9InRhYiI+JyxhLmxhYmVsLCI8L2E+Il0uam9pbigiIikpO2Iuc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsbGVkYnkiLGQpO3RoaXMuXy50YWJzW2EuaWRdPVtjLGJdO3RoaXMuXy50YWJJZExpc3QucHVzaChhLmlkKTshYS5oaWRkZW4mJnRoaXMuXy5wYWdlQ291bnQrKzt0aGlzLl8ubGFzdFRhYj1jO3RoaXMudXBkYXRlU3R5bGUoKTtiLnNldEF0dHJpYnV0ZSgibmFtZSIsYS5pZCk7Yi5hcHBlbmRUbyh0aGlzLnBhcnRzLmNvbnRlbnRzKTtjLnVuc2VsZWN0YWJsZSgpO3RoaXMucGFydHMudGFicy5hcHBlbmQoYyk7YS5hY2Nlc3NLZXkmJihPKHRoaXMsdGhpcywiQ1RSTCsiK2EuYWNjZXNzS2V5LFksWiksdGhpcy5fLmFjY2Vzc0tleU1hcFsiQ1RSTCsiKwphLmFjY2Vzc0tleV09YS5pZCl9fSxzZWxlY3RQYWdlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5jdXJyZW50VGFiSWQhPWEmJiF0aGlzLl8udGFic1thXVswXS5oYXNDbGFzcygiY2tlX2RpYWxvZ190YWJfZGlzYWJsZWQiKSYmITAhPT10aGlzLmZpcmUoInNlbGVjdFBhZ2UiLHtwYWdlOmEsY3VycmVudFBhZ2U6dGhpcy5fLmN1cnJlbnRUYWJJZH0pKXtmb3IodmFyIGIgaW4gdGhpcy5fLnRhYnMpe3ZhciBjPXRoaXMuXy50YWJzW2JdWzBdLGU9dGhpcy5fLnRhYnNbYl1bMV07YiE9YSYmKGMucmVtb3ZlQ2xhc3MoImNrZV9kaWFsb2dfdGFiX3NlbGVjdGVkIiksZS5oaWRlKCkpO2Uuc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsYiE9YSl9dmFyIGQ9dGhpcy5fLnRhYnNbYV07ZFswXS5hZGRDbGFzcygiY2tlX2RpYWxvZ190YWJfc2VsZWN0ZWQiKTtDS0VESVRPUi5lbnYuaWU2Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU3Q29tcGF0PyhHKGRbMV0pLGRbMV0uc2hvdygpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtHKGRbMV0sCjEpfSwwKSk6ZFsxXS5zaG93KCk7dGhpcy5fLmN1cnJlbnRUYWJJZD1hO3RoaXMuXy5jdXJyZW50VGFiSW5kZXg9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLl8udGFiSWRMaXN0LGEpfX0sdXBkYXRlU3R5bGU6ZnVuY3Rpb24oKXt0aGlzLnBhcnRzLmRpYWxvZ1soMT09PXRoaXMuXy5wYWdlQ291bnQ\/ImFkZCI6InJlbW92ZSIpKyJDbGFzcyJdKCJja2Vfc2luZ2xlX3BhZ2UiKX0saGlkZVBhZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLnRhYnNbYV0mJnRoaXMuXy50YWJzW2FdWzBdO2ImJigxIT10aGlzLl8ucGFnZUNvdW50JiZiLmlzVmlzaWJsZSgpKSYmKGE9PXRoaXMuXy5jdXJyZW50VGFiSWQmJnRoaXMuc2VsZWN0UGFnZSh0LmNhbGwodGhpcykpLGIuaGlkZSgpLHRoaXMuXy5wYWdlQ291bnQtLSx0aGlzLnVwZGF0ZVN0eWxlKCkpfSxzaG93UGFnZTpmdW5jdGlvbihhKXtpZihhPXRoaXMuXy50YWJzW2FdJiZ0aGlzLl8udGFic1thXVswXSlhLnNob3coKSx0aGlzLl8ucGFnZUNvdW50KyssCnRoaXMudXBkYXRlU3R5bGUoKX0sZ2V0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZWxlbWVudH0sZ2V0TmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8ubmFtZX0sZ2V0Q29udGVudEVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl8uY29udGVudHNbYV07cmV0dXJuIGMmJmNbYl19LGdldFZhbHVlT2Y6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5nZXRDb250ZW50RWxlbWVudChhLGIpLmdldFZhbHVlKCl9LHNldFZhbHVlT2Y6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmdldENvbnRlbnRFbGVtZW50KGEsYikuc2V0VmFsdWUoYyl9LGdldEJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV19LGNsaWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYnV0dG9uc1thXS5jbGljaygpfSxkaXNhYmxlQnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYnV0dG9uc1thXS5kaXNhYmxlKCl9LGVuYWJsZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uZW5hYmxlKCl9LApnZXRQYWdlQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnBhZ2VDb3VudH0sZ2V0UGFyZW50RWRpdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5lZGl0b3J9LGdldFNlbGVjdGVkRWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBhcmVudEVkaXRvcigpLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkRWxlbWVudCgpfSxhZGRGb2N1c2FibGU6ZnVuY3Rpb24oYSxiKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIGIpYj10aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aCx0aGlzLl8uZm9jdXNMaXN0LnB1c2gobmV3IEgodGhpcyxhLGIpKTtlbHNle3RoaXMuXy5mb2N1c0xpc3Quc3BsaWNlKGIsMCxuZXcgSCh0aGlzLGEsYikpO2Zvcih2YXIgYz1iKzE7Yzx0aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aDtjKyspdGhpcy5fLmZvY3VzTGlzdFtjXS5mb2N1c0luZGV4Kyt9fX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRpYWxvZyx7YWRkOmZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuXy5kaWFsb2dEZWZpbml0aW9uc1thXXx8CiJmdW5jdGlvbiI9PXR5cGVvZiBiKXRoaXMuXy5kaWFsb2dEZWZpbml0aW9uc1thXT1ifSxleGlzdHM6ZnVuY3Rpb24oYSl7cmV0dXJuISF0aGlzLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV19LGdldEN1cnJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcH0saXNUYWJFbmFibGVkOmZ1bmN0aW9uKGEsYixjKXthPWEuY29uZmlnLnJlbW92ZURpYWxvZ1RhYnM7cmV0dXJuIShhJiZhLm1hdGNoKFJlZ0V4cCgiKD86Xnw7KSIrYisiOiIrYysiKD86JHw7KSIsImkiKSkpfSxva0J1dHRvbjpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYyl7Yz1jfHx7fTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHtpZDoib2siLHR5cGU6ImJ1dHRvbiIsbGFiZWw6YS5sYW5nLmNvbW1vbi5vaywiY2xhc3MiOiJja2VfZGlhbG9nX3VpX2J1dHRvbl9vayIsb25DbGljazpmdW5jdGlvbihhKXthPWEuZGF0YS5kaWFsb2c7ITEhPT1hLmZpcmUoIm9rIix7aGlkZTohMH0pLmhpZGUmJgphLmhpZGUoKX19LGMsITApfTthLnR5cGU9ImJ1dHRvbiI7YS5vdmVycmlkZT1mdW5jdGlvbihiKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGZ1bmN0aW9uKGMpe3JldHVybiBhKGMsYil9LHt0eXBlOiJidXR0b24ifSwhMCl9O3JldHVybiBhfSgpLGNhbmNlbEJ1dHRvbjpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYyl7Yz1jfHx7fTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHtpZDoiY2FuY2VsIix0eXBlOiJidXR0b24iLGxhYmVsOmEubGFuZy5jb21tb24uY2FuY2VsLCJjbGFzcyI6ImNrZV9kaWFsb2dfdWlfYnV0dG9uX2NhbmNlbCIsb25DbGljazpmdW5jdGlvbihhKXthPWEuZGF0YS5kaWFsb2c7ITEhPT1hLmZpcmUoImNhbmNlbCIse2hpZGU6ITB9KS5oaWRlJiZhLmhpZGUoKX19LGMsITApfTthLnR5cGU9ImJ1dHRvbiI7YS5vdmVycmlkZT1mdW5jdGlvbihiKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGZ1bmN0aW9uKGMpe3JldHVybiBhKGMsCmIpfSx7dHlwZToiYnV0dG9uIn0sITApfTtyZXR1cm4gYX0oKSxhZGRVSUVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLl8udWlFbGVtZW50QnVpbGRlcnNbYV09Yn19KTtDS0VESVRPUi5kaWFsb2cuXz17dWlFbGVtZW50QnVpbGRlcnM6e30sZGlhbG9nRGVmaW5pdGlvbnM6e30sY3VycmVudFRvcDpudWxsLGN1cnJlbnRaSW5kZXg6bnVsbH07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IuZGlhbG9nKTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5kaWFsb2cucHJvdG90eXBlKTt2YXIgVz17cmVzaXphYmxlOkNLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USCxtaW5XaWR0aDo2MDAsbWluSGVpZ2h0OjQwMCxidXR0b25zOltDS0VESVRPUi5kaWFsb2cub2tCdXR0b24sQ0tFRElUT1IuZGlhbG9nLmNhbmNlbEJ1dHRvbl19LHo9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZT0wLGQ7ZD1hW2VdO2UrKylpZihkLmlkPT1ifHxjJiZkW2NdJiYoZD16KGRbY10sCmIsYykpKXJldHVybiBkO3JldHVybiBudWxsfSxBPWZ1bmN0aW9uKGEsYixjLGUsZCl7aWYoYyl7Zm9yKHZhciBnPTAsZjtmPWFbZ107ZysrKXtpZihmLmlkPT1jKXJldHVybiBhLnNwbGljZShnLDAsYiksYjtpZihlJiZmW2VdJiYoZj1BKGZbZV0sYixjLGUsITApKSlyZXR1cm4gZn1pZihkKXJldHVybiBudWxsfWEucHVzaChiKTtyZXR1cm4gYn0sQj1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBlPTAsZDtkPWFbZV07ZSsrKXtpZihkLmlkPT1iKXJldHVybiBhLnNwbGljZShlLDEpO2lmKGMmJmRbY10mJihkPUIoZFtjXSxiLGMpKSlyZXR1cm4gZH1yZXR1cm4gbnVsbH0sTD1mdW5jdGlvbihhLGIpe3RoaXMuZGlhbG9nPWE7Zm9yKHZhciBjPWIuY29udGVudHMsZT0wLGQ7ZD1jW2VdO2UrKyljW2VdPWQmJm5ldyBJKGEsZCk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYil9O0wucHJvdG90eXBlPXtnZXRDb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4geih0aGlzLmNvbnRlbnRzLAphKX0sZ2V0QnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiB6KHRoaXMuYnV0dG9ucyxhKX0sYWRkQ29udGVudHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQSh0aGlzLmNvbnRlbnRzLGEsYil9LGFkZEJ1dHRvbjpmdW5jdGlvbihhLGIpe3JldHVybiBBKHRoaXMuYnV0dG9ucyxhLGIpfSxyZW1vdmVDb250ZW50czpmdW5jdGlvbihhKXtCKHRoaXMuY29udGVudHMsYSl9LHJlbW92ZUJ1dHRvbjpmdW5jdGlvbihhKXtCKHRoaXMuYnV0dG9ucyxhKX19O0kucHJvdG90eXBlPXtnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHoodGhpcy5lbGVtZW50cyxhLCJjaGlsZHJlbiIpfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQSh0aGlzLmVsZW1lbnRzLGEsYiwiY2hpbGRyZW4iKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe0IodGhpcy5lbGVtZW50cyxhLCJjaGlsZHJlbiIpfX07dmFyIEYsdz17fSxxLHM9e30sTT1mdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuJC5jdHJsS2V5fHxhLmRhdGEuJC5tZXRhS2V5LGM9CmEuZGF0YS4kLmFsdEtleSxlPWEuZGF0YS4kLnNoaWZ0S2V5LGQ9U3RyaW5nLmZyb21DaGFyQ29kZShhLmRhdGEuJC5rZXlDb2RlKTtpZigoYj1zWyhiPyJDVFJMKyI6IiIpKyhjPyJBTFQrIjoiIikrKGU\/IlNISUZUKyI6IiIpK2RdKSYmYi5sZW5ndGgpYj1iW2IubGVuZ3RoLTFdLGIua2V5ZG93biYmYi5rZXlkb3duLmNhbGwoYi51aUVsZW1lbnQsYi5kaWFsb2csYi5rZXkpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSxOPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS4kLmN0cmxLZXl8fGEuZGF0YS4kLm1ldGFLZXksYz1hLmRhdGEuJC5hbHRLZXksZT1hLmRhdGEuJC5zaGlmdEtleSxkPVN0cmluZy5mcm9tQ2hhckNvZGUoYS5kYXRhLiQua2V5Q29kZSk7aWYoKGI9c1soYj8iQ1RSTCsiOiIiKSsoYz8iQUxUKyI6IiIpKyhlPyJTSElGVCsiOiIiKStkXSkmJmIubGVuZ3RoKWI9YltiLmxlbmd0aC0xXSxiLmtleXVwJiYoYi5rZXl1cC5jYWxsKGIudWlFbGVtZW50LGIuZGlhbG9nLGIua2V5KSwKYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSxPPWZ1bmN0aW9uKGEsYixjLGUsZCl7KHNbY118fChzW2NdPVtdKSkucHVzaCh7dWlFbGVtZW50OmEsZGlhbG9nOmIsa2V5OmMsa2V5dXA6ZHx8YS5hY2Nlc3NLZXlVcCxrZXlkb3duOmV8fGEuYWNjZXNzS2V5RG93bn0pfSxYPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBzKXtmb3IodmFyIGM9c1tiXSxlPWMubGVuZ3RoLTE7MDw9ZTtlLS0pKGNbZV0uZGlhbG9nPT1hfHxjW2VdLnVpRWxlbWVudD09YSkmJmMuc3BsaWNlKGUsMSk7MD09PWMubGVuZ3RoJiZkZWxldGUgc1tiXX19LFo9ZnVuY3Rpb24oYSxiKXthLl8uYWNjZXNzS2V5TWFwW2JdJiZhLnNlbGVjdFBhZ2UoYS5fLmFjY2Vzc0tleU1hcFtiXSl9LFk9ZnVuY3Rpb24oKXt9OyhmdW5jdGlvbigpe0NLRURJVE9SLnVpLmRpYWxvZz17dWlFbGVtZW50OmZ1bmN0aW9uKGEsYixjLGUsZCxnLGYpe2lmKCEoND5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGk9KGUuY2FsbD9lKGIpOmUpfHwiZGl2IiwKbD1bIjwiLGksIiAiXSxrPShkJiZkLmNhbGw\/ZChiKTpkKXx8e30saD0oZyYmZy5jYWxsP2coYik6Zyl8fHt9LG89KGYmJmYuY2FsbD9mLmNhbGwodGhpcyxhLGIpOmYpfHwiIixqPXRoaXMuZG9tSWQ9aC5pZHx8Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrIl91aUVsZW1lbnQiO3RoaXMuaWQ9Yi5pZDtiLnJlcXVpcmVkQ29udGVudCYmIWEuZ2V0UGFyZW50RWRpdG9yKCkuZmlsdGVyLmNoZWNrKGIucmVxdWlyZWRDb250ZW50KSYmKGsuZGlzcGxheT0ibm9uZSIsdGhpcy5ub3RBbGxvd2VkPSEwKTtoLmlkPWo7dmFyIG49e307Yi50eXBlJiYoblsiY2tlX2RpYWxvZ191aV8iK2IudHlwZV09MSk7Yi5jbGFzc05hbWUmJihuW2IuY2xhc3NOYW1lXT0xKTtiLmRpc2FibGVkJiYobi5ja2VfZGlzYWJsZWQ9MSk7Zm9yKHZhciBtPWhbImNsYXNzIl0mJmhbImNsYXNzIl0uc3BsaXQ\/aFsiY2xhc3MiXS5zcGxpdCgiICIpOltdLGo9MDtqPG0ubGVuZ3RoO2orKyltW2pdJiYoblttW2pdXT0xKTsKbT1bXTtmb3IoaiBpbiBuKW0ucHVzaChqKTtoWyJjbGFzcyJdPW0uam9pbigiICIpO2IudGl0bGUmJihoLnRpdGxlPWIudGl0bGUpO249KGIuc3R5bGV8fCIiKS5zcGxpdCgiOyIpO2IuYWxpZ24mJihtPWIuYWxpZ24sa1sibWFyZ2luLWxlZnQiXT0ibGVmdCI9PW0\/MDoiYXV0byIsa1sibWFyZ2luLXJpZ2h0Il09InJpZ2h0Ij09bT8wOiJhdXRvIik7Zm9yKGogaW4gayluLnB1c2goaisiOiIra1tqXSk7Yi5oaWRkZW4mJm4ucHVzaCgiZGlzcGxheTpub25lIik7Zm9yKGo9bi5sZW5ndGgtMTswPD1qO2otLSkiIj09PW5bal0mJm4uc3BsaWNlKGosMSk7MDxuLmxlbmd0aCYmKGguc3R5bGU9KGguc3R5bGU\/aC5zdHlsZSsiOyAiOiIiKStuLmpvaW4oIjsgIikpO2ZvcihqIGluIGgpbC5wdXNoKGorJz0iJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGhbal0pKyciICcpO2wucHVzaCgiPiIsbywiPC8iLGksIj4iKTtjLnB1c2gobC5qb2luKCIiKSk7KHRoaXMuX3x8KHRoaXMuXz17fSkpLmRpYWxvZz0KYTsiYm9vbGVhbiI9PXR5cGVvZiBiLmlzQ2hhbmdlZCYmKHRoaXMuaXNDaGFuZ2VkPWZ1bmN0aW9uKCl7cmV0dXJuIGIuaXNDaGFuZ2VkfSk7ImZ1bmN0aW9uIj09dHlwZW9mIGIuaXNDaGFuZ2VkJiYodGhpcy5pc0NoYW5nZWQ9Yi5pc0NoYW5nZWQpOyJmdW5jdGlvbiI9PXR5cGVvZiBiLnNldFZhbHVlJiYodGhpcy5zZXRWYWx1ZT1DS0VESVRPUi50b29scy5vdmVycmlkZSh0aGlzLnNldFZhbHVlLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXthLmNhbGwodGhpcyxiLnNldFZhbHVlLmNhbGwodGhpcyxjKSl9fSkpOyJmdW5jdGlvbiI9PXR5cGVvZiBiLmdldFZhbHVlJiYodGhpcy5nZXRWYWx1ZT1DS0VESVRPUi50b29scy5vdmVycmlkZSh0aGlzLmdldFZhbHVlLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiLmdldFZhbHVlLmNhbGwodGhpcyxhLmNhbGwodGhpcykpfX0pKTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbih0aGlzKTt0aGlzLnJlZ2lzdGVyRXZlbnRzKGIpOwp0aGlzLmFjY2Vzc0tleVVwJiYodGhpcy5hY2Nlc3NLZXlEb3duJiZiLmFjY2Vzc0tleSkmJk8odGhpcyxhLCJDVFJMKyIrYi5hY2Nlc3NLZXkpO3ZhciBwPXRoaXM7YS5vbigibG9hZCIsZnVuY3Rpb24oKXt2YXIgYj1wLmdldElucHV0RWxlbWVudCgpO2lmKGIpe3ZhciBjPXAudHlwZSBpbntjaGVja2JveDoxLHJhdGlvOjF9JiZDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi52ZXJzaW9uPDg\/ImNrZV9kaWFsb2dfdWlfZm9jdXNlZCI6IiI7Yi5vbigiZm9jdXMiLGZ1bmN0aW9uKCl7YS5fLnRhYkJhck1vZGU9ZmFsc2U7YS5fLmhhc0ZvY3VzPXRydWU7cC5maXJlKCJmb2N1cyIpO2MmJnRoaXMuYWRkQ2xhc3MoYyl9KTtiLm9uKCJibHVyIixmdW5jdGlvbigpe3AuZmlyZSgiYmx1ciIpO2MmJnRoaXMucmVtb3ZlQ2xhc3MoYyl9KX19KTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKTt0aGlzLmtleWJvYXJkRm9jdXNhYmxlJiYodGhpcy50YWJJbmRleD1iLnRhYkluZGV4fHwKMCx0aGlzLmZvY3VzSW5kZXg9YS5fLmZvY3VzTGlzdC5wdXNoKHRoaXMpLTEsdGhpcy5vbigiZm9jdXMiLGZ1bmN0aW9uKCl7YS5fLmN1cnJlbnRGb2N1c0luZGV4PXAuZm9jdXNJbmRleH0pKX19LGhib3g6ZnVuY3Rpb24oYSxiLGMsZSxkKXtpZighKDQ+YXJndW1lbnRzLmxlbmd0aCkpe3RoaXMuX3x8KHRoaXMuXz17fSk7dmFyIGc9dGhpcy5fLmNoaWxkcmVuPWIsZj1kJiZkLndpZHRoc3x8bnVsbCxpPWQmJmQuaGVpZ2h0fHxudWxsLGwsaz17cm9sZToicHJlc2VudGF0aW9uIn07ZCYmZC5hbGlnbiYmKGsuYWxpZ249ZC5hbGlnbik7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYSxkfHx7dHlwZToiaGJveCJ9LGUsInRhYmxlIix7fSxrLGZ1bmN0aW9uKCl7dmFyIGE9Wyc8dGJvZHk+PHRyIGNsYXNzPSJja2VfZGlhbG9nX3VpX2hib3giPiddO2ZvcihsPTA7bDxjLmxlbmd0aDtsKyspe3ZhciBiPSJja2VfZGlhbG9nX3VpX2hib3hfY2hpbGQiLGU9W107MD09PQpsJiYoYj0iY2tlX2RpYWxvZ191aV9oYm94X2ZpcnN0Iik7bD09Yy5sZW5ndGgtMSYmKGI9ImNrZV9kaWFsb2dfdWlfaGJveF9sYXN0Iik7YS5wdXNoKCc8dGQgY2xhc3M9IicsYiwnIiByb2xlPSJwcmVzZW50YXRpb24iICcpO2Y\/ZltsXSYmZS5wdXNoKCJ3aWR0aDoiK3IoZltsXSkpOmUucHVzaCgid2lkdGg6IitNYXRoLmZsb29yKDEwMC9jLmxlbmd0aCkrIiUiKTtpJiZlLnB1c2goImhlaWdodDoiK3IoaSkpO2QmJnZvaWQgMCE9ZC5wYWRkaW5nJiZlLnB1c2goInBhZGRpbmc6IityKGQucGFkZGluZykpO0NLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5xdWlya3MmJmdbbF0uYWxpZ24pJiZlLnB1c2goInRleHQtYWxpZ246IitnW2xdLmFsaWduKTswPGUubGVuZ3RoJiZhLnB1c2goJ3N0eWxlPSInK2Uuam9pbigiOyAiKSsnIiAnKTthLnB1c2goIj4iLGNbbF0sIjwvdGQ+Iil9YS5wdXNoKCI8L3RyPjwvdGJvZHk+Iik7cmV0dXJuIGEuam9pbigiIil9KX19LHZib3g6ZnVuY3Rpb24oYSwKYixjLGUsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt0aGlzLl98fCh0aGlzLl89e30pO3ZhciBnPXRoaXMuXy5jaGlsZHJlbj1iLGY9ZCYmZC53aWR0aHx8bnVsbCxpPWQmJmQuaGVpZ2h0c3x8bnVsbDtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxhLGR8fHt0eXBlOiJ2Ym94In0sZSwiZGl2IixudWxsLHtyb2xlOiJwcmVzZW50YXRpb24ifSxmdW5jdGlvbigpe3ZhciBiPVsnPHRhYmxlIHJvbGU9InByZXNlbnRhdGlvbiIgY2VsbHNwYWNpbmc9IjAiIGJvcmRlcj0iMCIgJ107Yi5wdXNoKCdzdHlsZT0iJyk7ZCYmZC5leHBhbmQmJmIucHVzaCgiaGVpZ2h0OjEwMCU7Iik7Yi5wdXNoKCJ3aWR0aDoiK3IoZnx8IjEwMCUiKSwiOyIpO0NLRURJVE9SLmVudi53ZWJraXQmJmIucHVzaCgiZmxvYXQ6bm9uZTsiKTtiLnB1c2goJyInKTtiLnB1c2goJ2FsaWduPSInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZCYmZC5hbGlnbnx8KCJsdHIiPT1hLmdldFBhcmVudEVkaXRvcigpLmxhbmcuZGlyPwoibGVmdCI6InJpZ2h0IikpLCciICcpO2IucHVzaCgiPjx0Ym9keT4iKTtmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGg9W107Yi5wdXNoKCc8dHI+PHRkIHJvbGU9InByZXNlbnRhdGlvbiIgJyk7ZiYmaC5wdXNoKCJ3aWR0aDoiK3IoZnx8IjEwMCUiKSk7aT9oLnB1c2goImhlaWdodDoiK3IoaVtlXSkpOmQmJmQuZXhwYW5kJiZoLnB1c2goImhlaWdodDoiK01hdGguZmxvb3IoMTAwL2MubGVuZ3RoKSsiJSIpO2QmJnZvaWQgMCE9ZC5wYWRkaW5nJiZoLnB1c2goInBhZGRpbmc6IityKGQucGFkZGluZykpO0NLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5xdWlya3MmJmdbZV0uYWxpZ24pJiZoLnB1c2goInRleHQtYWxpZ246IitnW2VdLmFsaWduKTswPGgubGVuZ3RoJiZiLnB1c2goJ3N0eWxlPSInLGguam9pbigiOyAiKSwnIiAnKTtiLnB1c2goJyBjbGFzcz0iY2tlX2RpYWxvZ191aV92Ym94X2NoaWxkIj4nLGNbZV0sIjwvdGQ+PC90cj4iKX1iLnB1c2goIjwvdGJvZHk+PC90YWJsZT4iKTsKcmV0dXJuIGIuam9pbigiIil9KX19fX0pKCk7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5wcm90b3R5cGU9e2dldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmRvbUlkKX0sZ2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RWxlbWVudCgpfSxnZXREaWFsb2c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmRpYWxvZ30sc2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXt0aGlzLmdldElucHV0RWxlbWVudCgpLnNldFZhbHVlKGEpOyFiJiZ0aGlzLmZpcmUoImNoYW5nZSIse3ZhbHVlOmF9KTtyZXR1cm4gdGhpc30sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRWYWx1ZSgpfSxpc0NoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sc2VsZWN0UGFyZW50VGFiOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZ2V0SW5wdXRFbGVtZW50KCk7KGE9YS5nZXRQYXJlbnQoKSkmJgotMT09YS4kLmNsYXNzTmFtZS5zZWFyY2goImNrZV9kaWFsb2dfcGFnZV9jb250ZW50cyIpOyk7aWYoIWEpcmV0dXJuIHRoaXM7YT1hLmdldEF0dHJpYnV0ZSgibmFtZSIpO3RoaXMuXy5kaWFsb2cuXy5jdXJyZW50VGFiSWQhPWEmJnRoaXMuXy5kaWFsb2cuc2VsZWN0UGFnZShhKTtyZXR1cm4gdGhpc30sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdFBhcmVudFRhYigpLmdldElucHV0RWxlbWVudCgpLmZvY3VzKCk7cmV0dXJuIHRoaXN9LHJlZ2lzdGVyRXZlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPS9eb24oW0EtWl1cdyspLyxjLGU9ZnVuY3Rpb24oYSxiLGMsZCl7Yi5vbigibG9hZCIsZnVuY3Rpb24oKXthLmdldElucHV0RWxlbWVudCgpLm9uKGMsZCxhKX0pfSxkO2ZvcihkIGluIGEpaWYoYz1kLm1hdGNoKGIpKXRoaXMuZXZlbnRQcm9jZXNzb3JzW2RdP3RoaXMuZXZlbnRQcm9jZXNzb3JzW2RdLmNhbGwodGhpcyx0aGlzLl8uZGlhbG9nLGFbZF0pOmUodGhpcyx0aGlzLl8uZGlhbG9nLApjWzFdLnRvTG93ZXJDYXNlKCksYVtkXSk7cmV0dXJuIHRoaXN9LGV2ZW50UHJvY2Vzc29yczp7b25Mb2FkOmZ1bmN0aW9uKGEsYil7YS5vbigibG9hZCIsYix0aGlzKX0sb25TaG93OmZ1bmN0aW9uKGEsYil7YS5vbigic2hvdyIsYix0aGlzKX0sb25IaWRlOmZ1bmN0aW9uKGEsYil7YS5vbigiaGlkZSIsYix0aGlzKX19LGFjY2Vzc0tleURvd246ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKCl9LGFjY2Vzc0tleVVwOmZ1bmN0aW9uKCl7fSxkaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwidHJ1ZSIpO2EuYWRkQ2xhc3MoImNrZV9kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTt0aGlzLmdldElucHV0RWxlbWVudCgpLnJlbW92ZUF0dHJpYnV0ZSgiZGlzYWJsZWQiKTthLnJlbW92ZUNsYXNzKCJja2VfZGlzYWJsZWQiKX0saXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZ2V0RWxlbWVudCgpLmhhc0NsYXNzKCJja2VfZGlzYWJsZWQiKX0sCmlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLmlzVmlzaWJsZSgpfSxpc0ZvY3VzYWJsZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLmlzRW5hYmxlZCgpfHwhdGhpcy5pc1Zpc2libGUoKT8hMTohMH19O0NLRURJVE9SLnVpLmRpYWxvZy5oYm94LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse2dldENoaWxkOmZ1bmN0aW9uKGEpe2lmKDE+YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fLmNoaWxkcmVuLmNvbmNhdCgpO2Euc3BsaWNlfHwoYT1bYV0pO3JldHVybiAyPmEubGVuZ3RoP3RoaXMuXy5jaGlsZHJlblthWzBdXTp0aGlzLl8uY2hpbGRyZW5bYVswXV0mJnRoaXMuXy5jaGlsZHJlblthWzBdXS5nZXRDaGlsZD90aGlzLl8uY2hpbGRyZW5bYVswXV0uZ2V0Q2hpbGQoYS5zbGljZSgxLGEubGVuZ3RoKSk6bnVsbH19LCEwKTtDS0VESVRPUi51aS5kaWFsb2cudmJveC5wcm90b3R5cGU9Cm5ldyBDS0VESVRPUi51aS5kaWFsb2cuaGJveDsoZnVuY3Rpb24oKXt2YXIgYT17YnVpbGQ6ZnVuY3Rpb24oYSxjLGUpe2Zvcih2YXIgZD1jLmNoaWxkcmVuLGcsZj1bXSxpPVtdLGw9MDtsPGQubGVuZ3RoJiYoZz1kW2xdKTtsKyspe3ZhciBrPVtdO2YucHVzaChrKTtpLnB1c2goQ0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnNbZy50eXBlXS5idWlsZChhLGcsaykpfXJldHVybiBuZXcgQ0tFRElUT1IudWkuZGlhbG9nW2MudHlwZV0oYSxpLGYsZSxjKX19O0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoImhib3giLGEpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoInZib3giLGEpfSkoKTtDS0VESVRPUi5kaWFsb2dDb21tYW5kPWZ1bmN0aW9uKGEsYil7dGhpcy5kaWFsb2dOYW1lPWE7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYiwhMCl9O0NLRURJVE9SLmRpYWxvZ0NvbW1hbmQucHJvdG90eXBlPXtleGVjOmZ1bmN0aW9uKGEpe0NLRURJVE9SLmVudi5vcGVyYT8KQ0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe2Eub3BlbkRpYWxvZyh0aGlzLmRpYWxvZ05hbWUpfSwwLHRoaXMpOmEub3BlbkRpYWxvZyh0aGlzLmRpYWxvZ05hbWUpfSxjYW5VbmRvOiExLGVkaXRvckZvY3VzOjF9OyhmdW5jdGlvbigpe3ZhciBhPS9eKFthXXxbXmFdKSskLyxiPS9eXGQqJC8sYz0vXlxkKig\/OlwuXGQrKT8kLyxlPS9eKCgoXGQqKFwuXGQrKSl8KFxkKikpKHB4fFwlKT8pPyQvLGQ9L14oKChcZCooXC5cZCspKXwoXGQqKSkocHh8ZW18ZXh8aW58Y218bW18cHR8cGN8XCUpPyk\/JC9pLGc9L14oXHMqW1x3LV0rXHMqOlxzKlteOjtdKyg\/Ojt8JCkpKiQvO0NLRURJVE9SLlZBTElEQVRFX09SPTE7Q0tFRElUT1IuVkFMSURBVEVfQU5EPTI7Q0tFRElUT1IuZGlhbG9nLnZhbGlkYXRlPXtmdW5jdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9dGhpcyYmdGhpcy5nZXRWYWx1ZT90aGlzLmdldFZhbHVlKCk6CmFbMF0sYz12b2lkIDAsZD1DS0VESVRPUi5WQUxJREFURV9BTkQsZT1bXSxnO2ZvcihnPTA7ZzxhLmxlbmd0aDtnKyspaWYoImZ1bmN0aW9uIj09dHlwZW9mIGFbZ10pZS5wdXNoKGFbZ10pO2Vsc2UgYnJlYWs7ZzxhLmxlbmd0aCYmInN0cmluZyI9PXR5cGVvZiBhW2ddJiYoYz1hW2ddLGcrKyk7ZzxhLmxlbmd0aCYmIm51bWJlciI9PXR5cGVvZiBhW2ddJiYoZD1hW2ddKTt2YXIgaj1kPT1DS0VESVRPUi5WQUxJREFURV9BTkQ\/ITA6ITE7Zm9yKGc9MDtnPGUubGVuZ3RoO2crKylqPWQ9PUNLRURJVE9SLlZBTElEQVRFX0FORD9qJiZlW2ddKGIpOmp8fGVbZ10oYik7cmV0dXJuIWo\/YzohMH19LHJlZ2V4OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2M9dGhpcyYmdGhpcy5nZXRWYWx1ZT90aGlzLmdldFZhbHVlKCk6YztyZXR1cm4hYS50ZXN0KGMpP2I6ITB9fSxub3RFbXB0eTpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZWdleChhLGIpfSxpbnRlZ2VyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlZ2V4KGIsCmEpfSxudW1iZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVnZXgoYyxhKX0sY3NzTGVuZ3RoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihhKXtyZXR1cm4gZC50ZXN0KENLRURJVE9SLnRvb2xzLnRyaW0oYSkpfSxhKX0saHRtbExlbmd0aDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYSl7cmV0dXJuIGUudGVzdChDS0VESVRPUi50b29scy50cmltKGEpKX0sYSl9LGlubGluZVN0eWxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihhKXtyZXR1cm4gZy50ZXN0KENLRURJVE9SLnRvb2xzLnRyaW0oYSkpfSxhKX0sZXF1YWxzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGIpe3JldHVybiBiPT1hfSxiKX0sbm90RXF1YWw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYil7cmV0dXJuIGIhPWF9LGIpfX07Q0tFRElUT1Iub24oImluc3RhbmNlRGVzdHJveWVkIiwKZnVuY3Rpb24oYSl7aWYoQ0tFRElUT1IudG9vbHMuaXNFbXB0eShDS0VESVRPUi5pbnN0YW5jZXMpKXtmb3IodmFyIGI7Yj1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wOyliLmhpZGUoKTtmb3IodmFyIGMgaW4gdyl3W2NdLnJlbW92ZSgpO3c9e319dmFyIGE9YS5lZGl0b3IuXy5zdG9yZWREaWFsb2dzLGQ7Zm9yKGQgaW4gYSlhW2RdLmRlc3Ryb3koKX0pfSkoKTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7b3BlbkRpYWxvZzpmdW5jdGlvbihhLGIpe3ZhciBjPW51bGwsZT1DS0VESVRPUi5kaWFsb2cuXy5kaWFsb2dEZWZpbml0aW9uc1thXTtudWxsPT09Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCYmSih0aGlzKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSljPXRoaXMuXy5zdG9yZWREaWFsb2dzfHwodGhpcy5fLnN0b3JlZERpYWxvZ3M9e30pLGM9Y1thXXx8KGNbYV09bmV3IENLRURJVE9SLmRpYWxvZyh0aGlzLGEpKSxiJiZiLmNhbGwoYywKYyksYy5zaG93KCk7ZWxzZXtpZigiZmFpbGVkIj09ZSl0aHJvdyBLKHRoaXMpLEVycm9yKCdbQ0tFRElUT1IuZGlhbG9nLm9wZW5EaWFsb2ddIERpYWxvZyAiJythKyciIGZhaWxlZCB3aGVuIGxvYWRpbmcgZGVmaW5pdGlvbi4nKTsic3RyaW5nIj09dHlwZW9mIGUmJkNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChlKSxmdW5jdGlvbigpeyJmdW5jdGlvbiIhPXR5cGVvZiBDS0VESVRPUi5kaWFsb2cuXy5kaWFsb2dEZWZpbml0aW9uc1thXSYmKENLRURJVE9SLmRpYWxvZy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdPSJmYWlsZWQiKTt0aGlzLm9wZW5EaWFsb2coYSxiKX0sdGhpcywwLDEpfUNLRURJVE9SLnNraW4ubG9hZFBhcnQoImRpYWxvZyIpO3JldHVybiBjfX0pfSkoKTsKQ0tFRElUT1IucGx1Z2lucy5hZGQoImRpYWxvZyIse3JlcXVpcmVzOiJkaWFsb2d1aSIsaW5pdDpmdW5jdGlvbih0KXt0Lm9uKCJkb3VibGVjbGljayIsZnVuY3Rpb24odSl7dS5kYXRhLmRpYWxvZyYmdC5vcGVuRGlhbG9nKHUuZGF0YS5kaWFsb2cpfSxudWxsLG51bGwsOTk5KX19KTtDS0VESVRPUi5wbHVnaW5zLmFkZCgiYWJvdXQiLHtyZXF1aXJlczoiZGlhbG9nIixpbml0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuYWRkQ29tbWFuZCgiYWJvdXQiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKCJhYm91dCIpKTtiLm1vZGVzPXt3eXNpd3lnOjEsc291cmNlOjF9O2IuY2FuVW5kbz0hMTtiLnJlYWRPbmx5PTE7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKCJBYm91dCIse2xhYmVsOmEubGFuZy5hYm91dC50aXRsZSxjb21tYW5kOiJhYm91dCIsdG9vbGJhcjoiYWJvdXQifSk7Q0tFRElUT1IuZGlhbG9nLmFkZCgiYWJvdXQiLHRoaXMucGF0aCsiZGlhbG9ncy9hYm91dC5qcyIpfX0pOyhmdW5jdGlvbigpe0NLRURJVE9SLnBsdWdpbnMuYWRkKCJhMTF5aGVscCIse3JlcXVpcmVzOiJkaWFsb2ciLGF2YWlsYWJsZUxhbmdzOnthcjoxLGJnOjEsY2E6MSxjczoxLGN5OjEsZGE6MSxkZToxLGVsOjEsZW46MSxlbzoxLGVzOjEsZXQ6MSxmYToxLGZpOjEsZnI6MSwiZnItY2EiOjEsZ2w6MSxndToxLGhlOjEsaGk6MSxocjoxLGh1OjEsaWQ6MSxpdDoxLGphOjEsa206MSxrbzoxLGt1OjEsbHQ6MSxsdjoxLG1rOjEsbW46MSxuYjoxLG5sOjEsbm86MSxwbDoxLHB0OjEsInB0LWJyIjoxLHJvOjEscnU6MSxzaToxLHNrOjEsc2w6MSxzcToxLHNyOjEsInNyLWxhdG4iOjEsc3Y6MSx0aDoxLHRyOjEsdWc6MSx1azoxLHZpOjEsemg6MSwiemgtY24iOjF9LGluaXQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcztiLmFkZENvbW1hbmQoImExMXlIZWxwIix7ZXhlYzpmdW5jdGlvbigpe3ZhciBhPWIubGFuZ0NvZGUsYT1jLmF2YWlsYWJsZUxhbmdzW2FdP2E6Yy5hdmFpbGFibGVMYW5nc1thLnJlcGxhY2UoLy0uKi8sCiIiKV0\/YS5yZXBsYWNlKC8tLiovLCIiKToiZW4iO0NLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChjLnBhdGgrImRpYWxvZ3MvbGFuZy8iK2ErIi5qcyIpLGZ1bmN0aW9uKCl7Yi5sYW5nLmExMXloZWxwPWMubGFuZ0VudHJpZXNbYV07Yi5vcGVuRGlhbG9nKCJhMTF5SGVscCIpfSl9LG1vZGVzOnt3eXNpd3lnOjEsc291cmNlOjF9LHJlYWRPbmx5OjEsY2FuVW5kbzohMX0pO2Iuc2V0S2V5c3Ryb2tlKENLRURJVE9SLkFMVCs0OCwiYTExeUhlbHAiKTtDS0VESVRPUi5kaWFsb2cuYWRkKCJhMTF5SGVscCIsdGhpcy5wYXRoKyJkaWFsb2dzL2ExMXloZWxwLmpzIil9fSl9KSgpO0NLRURJVE9SLnBsdWdpbnMuYWRkKCJiYXNpY3N0eWxlcyIse2luaXQ6ZnVuY3Rpb24oYyl7dmFyIGU9MCxkPWZ1bmN0aW9uKGcsZCxiLGEpe2lmKGEpe3ZhciBhPW5ldyBDS0VESVRPUi5zdHlsZShhKSxmPWhbYl07Zi51bnNoaWZ0KGEpO2MuYXR0YWNoU3R5bGVTdGF0ZUNoYW5nZShhLGZ1bmN0aW9uKGEpeyFjLnJlYWRPbmx5JiZjLmdldENvbW1hbmQoYikuc2V0U3RhdGUoYSl9KTtjLmFkZENvbW1hbmQoYixuZXcgQ0tFRElUT1Iuc3R5bGVDb21tYW5kKGEse2NvbnRlbnRGb3JtczpmfSkpO2MudWkuYWRkQnV0dG9uJiZjLnVpLmFkZEJ1dHRvbihnLHtsYWJlbDpkLGNvbW1hbmQ6Yix0b29sYmFyOiJiYXNpY3N0eWxlcywiKyhlKz0xMCl9KX19LGg9e2JvbGQ6WyJzdHJvbmciLCJiIixbInNwYW4iLGZ1bmN0aW9uKGEpe2E9YS5zdHlsZXNbImZvbnQtd2VpZ2h0Il07cmV0dXJuImJvbGQiPT1hfHw3MDA8PSthfV1dLGl0YWxpYzpbImVtIiwiaSIsWyJzcGFuIixmdW5jdGlvbihhKXtyZXR1cm4iaXRhbGljIj09CmEuc3R5bGVzWyJmb250LXN0eWxlIl19XV0sdW5kZXJsaW5lOlsidSIsWyJzcGFuIixmdW5jdGlvbihhKXtyZXR1cm4idW5kZXJsaW5lIj09YS5zdHlsZXNbInRleHQtZGVjb3JhdGlvbiJdfV1dLHN0cmlrZTpbInMiLCJzdHJpa2UiLFsic3BhbiIsZnVuY3Rpb24oYSl7cmV0dXJuImxpbmUtdGhyb3VnaCI9PWEuc3R5bGVzWyJ0ZXh0LWRlY29yYXRpb24iXX1dXSxzdWJzY3JpcHQ6WyJzdWIiXSxzdXBlcnNjcmlwdDpbInN1cCJdfSxiPWMuY29uZmlnLGE9Yy5sYW5nLmJhc2ljc3R5bGVzO2QoIkJvbGQiLGEuYm9sZCwiYm9sZCIsYi5jb3JlU3R5bGVzX2JvbGQpO2QoIkl0YWxpYyIsYS5pdGFsaWMsIml0YWxpYyIsYi5jb3JlU3R5bGVzX2l0YWxpYyk7ZCgiVW5kZXJsaW5lIixhLnVuZGVybGluZSwidW5kZXJsaW5lIixiLmNvcmVTdHlsZXNfdW5kZXJsaW5lKTtkKCJTdHJpa2UiLGEuc3RyaWtlLCJzdHJpa2UiLGIuY29yZVN0eWxlc19zdHJpa2UpO2QoIlN1YnNjcmlwdCIsYS5zdWJzY3JpcHQsCiJzdWJzY3JpcHQiLGIuY29yZVN0eWxlc19zdWJzY3JpcHQpO2QoIlN1cGVyc2NyaXB0IixhLnN1cGVyc2NyaXB0LCJzdXBlcnNjcmlwdCIsYi5jb3JlU3R5bGVzX3N1cGVyc2NyaXB0KTtjLnNldEtleXN0cm9rZShbW0NLRURJVE9SLkNUUkwrNjYsImJvbGQiXSxbQ0tFRElUT1IuQ1RSTCs3MywiaXRhbGljIl0sW0NLRURJVE9SLkNUUkwrODUsInVuZGVybGluZSJdXSl9fSk7Q0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfYm9sZD17ZWxlbWVudDoic3Ryb25nIixvdmVycmlkZXM6ImIifTtDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19pdGFsaWM9e2VsZW1lbnQ6ImVtIixvdmVycmlkZXM6ImkifTtDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc191bmRlcmxpbmU9e2VsZW1lbnQ6InUifTtDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19zdHJpa2U9e2VsZW1lbnQ6InMiLG92ZXJyaWRlczoic3RyaWtlIn07Q0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfc3Vic2NyaXB0PXtlbGVtZW50OiJzdWIifTsKQ0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfc3VwZXJzY3JpcHQ9e2VsZW1lbnQ6InN1cCJ9OyhmdW5jdGlvbigpe3ZhciBrPXtleGVjOmZ1bmN0aW9uKGcpe3ZhciBhPWcuZ2V0Q29tbWFuZCgiYmxvY2txdW90ZSIpLnN0YXRlLGk9Zy5nZXRTZWxlY3Rpb24oKSxjPWkmJmkuZ2V0UmFuZ2VzKClbMF07aWYoYyl7dmFyIGg9aS5jcmVhdGVCb29rbWFya3MoKTtpZihDS0VESVRPUi5lbnYuaWUpe3ZhciBlPWhbMF0uc3RhcnROb2RlLGI9aFswXS5lbmROb2RlLGQ7aWYoZSYmImJsb2NrcXVvdGUiPT1lLmdldFBhcmVudCgpLmdldE5hbWUoKSlmb3IoZD1lO2Q9ZC5nZXROZXh0KCk7KWlmKGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmlzQmxvY2tCb3VuZGFyeSgpKXtlLm1vdmUoZCwhMCk7YnJlYWt9aWYoYiYmImJsb2NrcXVvdGUiPT1iLmdldFBhcmVudCgpLmdldE5hbWUoKSlmb3IoZD1iO2Q9ZC5nZXRQcmV2aW91cygpOylpZihkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pc0Jsb2NrQm91bmRhcnkoKSl7Yi5tb3ZlKGQpO2JyZWFrfX12YXIgZj1jLmNyZWF0ZUl0ZXJhdG9yKCk7CmYuZW5sYXJnZUJyPWcuY29uZmlnLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlI7aWYoYT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKXtmb3IoZT1bXTthPWYuZ2V0TmV4dFBhcmFncmFwaCgpOyllLnB1c2goYSk7MT5lLmxlbmd0aCYmKGE9Zy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGcuY29uZmlnLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD8icCI6ImRpdiIpLGI9aC5zaGlmdCgpLGMuaW5zZXJ0Tm9kZShhKSxhLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoIu+7vyIsZy5kb2N1bWVudCkpLGMubW92ZVRvQm9va21hcmsoYiksYy5zZWxlY3ROb2RlQ29udGVudHMoYSksYy5jb2xsYXBzZSghMCksYj1jLmNyZWF0ZUJvb2ttYXJrKCksZS5wdXNoKGEpLGgudW5zaGlmdChiKSk7ZD1lWzBdLmdldFBhcmVudCgpO2M9W107Zm9yKGI9MDtiPGUubGVuZ3RoO2IrKylhPWVbYl0sZD1kLmdldENvbW1vbkFuY2VzdG9yKGEuZ2V0UGFyZW50KCkpO2ZvcihhPXt0YWJsZToxLHRib2R5OjEsCnRyOjEsb2w6MSx1bDoxfTthW2QuZ2V0TmFtZSgpXTspZD1kLmdldFBhcmVudCgpO2ZvcihiPW51bGw7MDxlLmxlbmd0aDspe2ZvcihhPWUuc2hpZnQoKTshYS5nZXRQYXJlbnQoKS5lcXVhbHMoZCk7KWE9YS5nZXRQYXJlbnQoKTthLmVxdWFscyhiKXx8Yy5wdXNoKGEpO2I9YX1mb3IoOzA8Yy5sZW5ndGg7KWlmKGE9Yy5zaGlmdCgpLCJibG9ja3F1b3RlIj09YS5nZXROYW1lKCkpe2ZvcihiPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChnLmRvY3VtZW50KTthLmdldEZpcnN0KCk7KWIuYXBwZW5kKGEuZ2V0Rmlyc3QoKS5yZW1vdmUoKSksZS5wdXNoKGIuZ2V0TGFzdCgpKTtiLnJlcGxhY2UoYSl9ZWxzZSBlLnB1c2goYSk7Yz1nLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJsb2NrcXVvdGUiKTtmb3IoYy5pbnNlcnRCZWZvcmUoZVswXSk7MDxlLmxlbmd0aDspYT1lLnNoaWZ0KCksYy5hcHBlbmQoYSl9ZWxzZSBpZihhPT1DS0VESVRPUi5UUklTVEFURV9PTil7Yj1bXTsKZm9yKGQ9e307YT1mLmdldE5leHRQYXJhZ3JhcGgoKTspe2ZvcihlPWM9bnVsbDthLmdldFBhcmVudCgpOyl7aWYoImJsb2NrcXVvdGUiPT1hLmdldFBhcmVudCgpLmdldE5hbWUoKSl7Yz1hLmdldFBhcmVudCgpO2U9YTticmVha31hPWEuZ2V0UGFyZW50KCl9YyYmKGUmJiFlLmdldEN1c3RvbURhdGEoImJsb2NrcXVvdGVfbW92ZW91dCIpKSYmKGIucHVzaChlKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoZCxlLCJibG9ja3F1b3RlX21vdmVvdXQiLCEwKSl9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGQpO2E9W107ZT1bXTtmb3IoZD17fTswPGIubGVuZ3RoOylmPWIuc2hpZnQoKSxjPWYuZ2V0UGFyZW50KCksZi5nZXRQcmV2aW91cygpP2YuZ2V0TmV4dCgpPyhmLmJyZWFrUGFyZW50KGYuZ2V0UGFyZW50KCkpLGUucHVzaChmLmdldE5leHQoKSkpOmYucmVtb3ZlKCkuaW5zZXJ0QWZ0ZXIoYyk6Zi5yZW1vdmUoKS5pbnNlcnRCZWZvcmUoYyksYy5nZXRDdXN0b21EYXRhKCJibG9ja3F1b3RlX3Byb2Nlc3NlZCIpfHwKKGUucHVzaChjKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoZCxjLCJibG9ja3F1b3RlX3Byb2Nlc3NlZCIsITApKSxhLnB1c2goZik7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGQpO2ZvcihiPWUubGVuZ3RoLTE7MDw9YjtiLS0pe2M9ZVtiXTthOntkPWM7Zm9yKHZhciBmPTAsaz1kLmdldENoaWxkQ291bnQoKSxqPXZvaWQgMDtmPGsmJihqPWQuZ2V0Q2hpbGQoZikpO2YrKylpZihqLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmai5pc0Jsb2NrQm91bmRhcnkoKSl7ZD0hMTticmVhayBhfWQ9ITB9ZCYmYy5yZW1vdmUoKX1pZihnLmNvbmZpZy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSKWZvcihjPSEwO2EubGVuZ3RoOylpZihmPWEuc2hpZnQoKSwiZGl2Ij09Zi5nZXROYW1lKCkpe2I9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGcuZG9jdW1lbnQpO2MmJihmLmdldFByZXZpb3VzKCkmJiEoZi5nZXRQcmV2aW91cygpLnR5cGU9PQpDS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYuZ2V0UHJldmlvdXMoKS5pc0Jsb2NrQm91bmRhcnkoKSkpJiZiLmFwcGVuZChnLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIikpO2ZvcihjPWYuZ2V0TmV4dCgpJiYhKGYuZ2V0TmV4dCgpLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZi5nZXROZXh0KCkuaXNCbG9ja0JvdW5kYXJ5KCkpO2YuZ2V0Rmlyc3QoKTspZi5nZXRGaXJzdCgpLnJlbW92ZSgpLmFwcGVuZFRvKGIpO2MmJmIuYXBwZW5kKGcuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKSk7Yi5yZXBsYWNlKGYpO2M9ITF9fWkuc2VsZWN0Qm9va21hcmtzKGgpO2cuZm9jdXMoKX19LHJlZnJlc2g6ZnVuY3Rpb24oZyxhKXt0aGlzLnNldFN0YXRlKGcuZWxlbWVudFBhdGgoYS5ibG9ja3x8YS5ibG9ja0xpbWl0KS5jb250YWlucygiYmxvY2txdW90ZSIsMSk\/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKX0sY29udGV4dDoiYmxvY2txdW90ZSIsCmFsbG93ZWRDb250ZW50OiJibG9ja3F1b3RlIixyZXF1aXJlZENvbnRlbnQ6ImJsb2NrcXVvdGUifTtDS0VESVRPUi5wbHVnaW5zLmFkZCgiYmxvY2txdW90ZSIse2luaXQ6ZnVuY3Rpb24oZyl7Zy5ibG9ja2xlc3N8fChnLmFkZENvbW1hbmQoImJsb2NrcXVvdGUiLGspLGcudWkuYWRkQnV0dG9uJiZnLnVpLmFkZEJ1dHRvbigiQmxvY2txdW90ZSIse2xhYmVsOmcubGFuZy5ibG9ja3F1b3RlLnRvb2xiYXIsY29tbWFuZDoiYmxvY2txdW90ZSIsdG9vbGJhcjoiYmxvY2tzLDEwIn0pKX19KX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdyhiKXtmdW5jdGlvbiBhKCl7dmFyIGU9Yi5lZGl0YWJsZSgpO2Uub24ocSxmdW5jdGlvbihiKXsoIUNLRURJVE9SLmVudi5pZXx8IW4pJiZ1KGIpfSk7Q0tFRElUT1IuZW52LmllJiZlLm9uKCJwYXN0ZSIsZnVuY3Rpb24oZSl7cnx8KGYoKSxlLmRhdGEucHJldmVudERlZmF1bHQoKSx1KGUpLGwoInBhc3RlIil8fGIub3BlbkRpYWxvZygicGFzdGUiKSl9KTtDS0VESVRPUi5lbnYuaWUmJihlLm9uKCJjb250ZXh0bWVudSIsaCxudWxsLG51bGwsMCksZS5vbigiYmVmb3JlcGFzdGUiLGZ1bmN0aW9uKGIpe2IuZGF0YSYmIWIuZGF0YS4kLmN0cmxLZXkmJmgoKX0sbnVsbCxudWxsLDApKTtlLm9uKCJiZWZvcmVjdXQiLGZ1bmN0aW9uKCl7IW4mJmkoYil9KTt2YXIgYTtlLmF0dGFjaExpc3RlbmVyKENLRURJVE9SLmVudi5pZT9lOmIuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCksIm1vdXNldXAiLGZ1bmN0aW9uKCl7YT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cygpfSwKMCl9KTtiLm9uKCJkZXN0cm95IixmdW5jdGlvbigpe2NsZWFyVGltZW91dChhKX0pO2Uub24oImtleXVwIixzKX1mdW5jdGlvbiBjKGUpe3JldHVybnt0eXBlOmUsY2FuVW5kbzoiY3V0Ij09ZSxzdGFydERpc2FibGVkOiEwLGV4ZWM6ZnVuY3Rpb24oKXsiY3V0Ij09dGhpcy50eXBlJiZpKCk7dmFyIGU7dmFyIGE9dGhpcy50eXBlO2lmKENLRURJVE9SLmVudi5pZSllPWwoYSk7ZWxzZSB0cnl7ZT1iLmRvY3VtZW50LiQuZXhlY0NvbW1hbmQoYSwhMSxudWxsKX1jYXRjaChkKXtlPSExfWV8fGFsZXJ0KGIubGFuZy5jbGlwYm9hcmRbdGhpcy50eXBlKyJFcnJvciJdKTtyZXR1cm4gZX19fWZ1bmN0aW9uIGQoKXtyZXR1cm57Y2FuVW5kbzohMSxhc3luYzohMCxleGVjOmZ1bmN0aW9uKGIsYSl7dmFyIGQ9ZnVuY3Rpb24oYSxkKXthJiZnKGEudHlwZSxhLmRhdGFWYWx1ZSwhIWQpO2IuZmlyZSgiYWZ0ZXJDb21tYW5kRXhlYyIse25hbWU6InBhc3RlIixjb21tYW5kOmMscmV0dXJuVmFsdWU6ISFhfSl9LApjPXRoaXM7InN0cmluZyI9PXR5cGVvZiBhP2Qoe3R5cGU6ImF1dG8iLGRhdGFWYWx1ZTphfSwxKTpiLmdldENsaXBib2FyZERhdGEoZCl9fX1mdW5jdGlvbiBmKCl7cj0xO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyPTB9LDEwMCl9ZnVuY3Rpb24gaCgpe249MTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bj0wfSwxMCl9ZnVuY3Rpb24gbChlKXt2YXIgYT1iLmRvY3VtZW50LGQ9YS5nZXRCb2R5KCksYz0hMSxpPWZ1bmN0aW9uKCl7Yz0hMH07ZC5vbihlLGkpOyg3PENLRURJVE9SLmVudi52ZXJzaW9uP2EuJDphLiQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkpLmV4ZWNDb21tYW5kKGUpO2QucmVtb3ZlTGlzdGVuZXIoZSxpKTtyZXR1cm4gY31mdW5jdGlvbiBnKGUsYSxkKXtlPXt0eXBlOmV9O2lmKGQmJiFiLmZpcmUoImJlZm9yZVBhc3RlIixlKXx8IWEpcmV0dXJuITE7ZS5kYXRhVmFsdWU9YTtyZXR1cm4gYi5maXJlKCJwYXN0ZSIsZSl9ZnVuY3Rpb24gaSgpe2lmKENLRURJVE9SLmVudi5pZSYmCiFDS0VESVRPUi5lbnYucXVpcmtzKXt2YXIgZT1iLmdldFNlbGVjdGlvbigpLGEsZCxjO2lmKGUuZ2V0VHlwZSgpPT1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCYmKGE9ZS5nZXRTZWxlY3RlZEVsZW1lbnQoKSkpZD1lLmdldFJhbmdlcygpWzBdLGM9Yi5kb2N1bWVudC5jcmVhdGVUZXh0KCIiKSxjLmluc2VydEJlZm9yZShhKSxkLnNldFN0YXJ0QmVmb3JlKGMpLGQuc2V0RW5kQWZ0ZXIoYSksZS5zZWxlY3RSYW5nZXMoW2RdKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5nZXRQYXJlbnQoKSYmKGMucmVtb3ZlKCksZS5zZWxlY3RFbGVtZW50KGEpKX0sMCl9fWZ1bmN0aW9uIGsoYSxkKXt2YXIgYz1iLmRvY3VtZW50LGk9Yi5lZGl0YWJsZSgpLGs9ZnVuY3Rpb24oYil7Yi5jYW5jZWwoKX0sZj1DS0VESVRPUi5lbnYuZ2Vja28mJjEwOTAyPj1DS0VESVRPUi5lbnYudmVyc2lvbixoO2lmKCFjLmdldEJ5SWQoImNrZV9wYXN0ZWJpbiIpKXt2YXIgbz1iLmdldFNlbGVjdGlvbigpLHY9by5jcmVhdGVCb29rbWFya3MoKSwKaj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoKENLRURJVE9SLmVudi53ZWJraXR8fGkuaXMoImJvZHkiKSkmJiFDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYub3BlcmE\/ImJvZHkiOiJkaXYiLGMpO2ouc2V0QXR0cmlidXRlcyh7aWQ6ImNrZV9wYXN0ZWJpbiIsImRhdGEtY2tlLXRlbXAiOiIxIn0pO0NLRURJVE9SLmVudi5vcGVyYSYmai5hcHBlbmRCb2d1cygpO3ZhciBnPTAsYz1jLmdldFdpbmRvdygpO2Y\/KGouaW5zZXJ0QWZ0ZXIodlswXS5zdGFydE5vZGUpLGouc2V0U3R5bGUoImRpc3BsYXkiLCJpbmxpbmUiKSk6KENLRURJVE9SLmVudi53ZWJraXQ\/KGkuYXBwZW5kKGopLGouYWRkQ2xhc3MoImNrZV9lZGl0YWJsZSIpLGkuaXMoImJvZHkiKXx8KGY9InN0YXRpYyIhPWkuZ2V0Q29tcHV0ZWRTdHlsZSgicG9zaXRpb24iKT9pOkNLRURJVE9SLmRvbS5lbGVtZW50LmdldChpLiQub2Zmc2V0UGFyZW50KSxnPWYuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLnkpKTppLmdldEFzY2VuZGFudChDS0VESVRPUi5lbnYuaWV8fApDS0VESVRPUi5lbnYub3BlcmE\/ImJvZHkiOiJodG1sIiwxKS5hcHBlbmQoaiksai5zZXRTdHlsZXMoe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOmMuZ2V0U2Nyb2xsUG9zaXRpb24oKS55LWcrMTArInB4Iix3aWR0aDoiMXB4IixoZWlnaHQ6TWF0aC5tYXgoMSxjLmdldFZpZXdQYW5lU2l6ZSgpLmhlaWdodC0yMCkrInB4IixvdmVyZmxvdzoiaGlkZGVuIixtYXJnaW46MCxwYWRkaW5nOjB9KSk7KGY9ai5nZXRQYXJlbnQoKS5pc1JlYWRPbmx5KCkpPyhqLnNldE9wYWNpdHkoMCksai5zZXRBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIsITApKTpqLnNldFN0eWxlKCJsdHIiPT1iLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24\/ImxlZnQiOiJyaWdodCIsIi0xMDAwcHgiKTtiLm9uKCJzZWxlY3Rpb25DaGFuZ2UiLGssbnVsbCxudWxsLDApO0NLRURJVE9SLmVudi53ZWJraXQmJihoPWkub25jZSgiYmx1ciIsayxudWxsLG51bGwsLTEwMCkpO2YmJmouZm9jdXMoKTtmPW5ldyBDS0VESVRPUi5kb20ucmFuZ2Uoaik7CmYuc2VsZWN0Tm9kZUNvbnRlbnRzKGopO3ZhciBsPWYuc2VsZWN0KCk7Q0tFRElUT1IuZW52LmllJiYoaD1pLm9uY2UoImJsdXIiLGZ1bmN0aW9uKCl7Yi5sb2NrU2VsZWN0aW9uKGwpfSkpO3ZhciBtPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFNjcm9sbFBvc2l0aW9uKCkueTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52Lm9wZXJhKUNLRURJVE9SLmRvY3VtZW50W0NLRURJVE9SLmVudi53ZWJraXQ\/ImdldEJvZHkiOiJnZXREb2N1bWVudEVsZW1lbnQiXSgpLiQuc2Nyb2xsVG9wPW07aCYmaC5yZW1vdmVMaXN0ZW5lcigpO0NLRURJVE9SLmVudi5pZSYmaS5mb2N1cygpO28uc2VsZWN0Qm9va21hcmtzKHYpO2oucmVtb3ZlKCk7dmFyIGE7aWYoQ0tFRElUT1IuZW52LndlYmtpdCYmKGE9ai5nZXRGaXJzdCgpKSYmYS5pcyYmYS5oYXNDbGFzcygiQXBwbGUtc3R5bGUtc3BhbiIpKWo9YTtiLnJlbW92ZUxpc3RlbmVyKCJzZWxlY3Rpb25DaGFuZ2UiLAprKTtkKGouZ2V0SHRtbCgpKX0sMCl9fWZ1bmN0aW9uIG8oKXtpZihDS0VESVRPUi5lbnYuaWUpe2IuZm9jdXMoKTtmKCk7dmFyIGE9Yi5mb2N1c01hbmFnZXI7YS5sb2NrKCk7aWYoYi5lZGl0YWJsZSgpLmZpcmUocSkmJiFsKCJwYXN0ZSIpKXJldHVybiBhLnVubG9jaygpLCExO2EudW5sb2NrKCl9ZWxzZSB0cnl7aWYoYi5lZGl0YWJsZSgpLmZpcmUocSkmJiFiLmRvY3VtZW50LiQuZXhlY0NvbW1hbmQoIlBhc3RlIiwhMSxudWxsKSl0aHJvdyAwO31jYXRjaChkKXtyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBwKGEpe2lmKCJ3eXNpd3lnIj09Yi5tb2RlKXN3aXRjaChhLmRhdGEua2V5Q29kZSl7Y2FzZSBDS0VESVRPUi5DVFJMKzg2OmNhc2UgQ0tFRElUT1IuU0hJRlQrNDU6YT1iLmVkaXRhYmxlKCk7ZigpOyFDS0VESVRPUi5lbnYuaWUmJmEuZmlyZSgiYmVmb3JlcGFzdGUiKTsoQ0tFRElUT1IuZW52Lm9wZXJhfHxDS0VESVRPUi5lbnYuZ2Vja28mJjEwOTAwPkNLRURJVE9SLmVudi52ZXJzaW9uKSYmCmEuZmlyZSgicGFzdGUiKTticmVhaztjYXNlIENLRURJVE9SLkNUUkwrODg6Y2FzZSBDS0VESVRPUi5TSElGVCs0NjpiLmZpcmUoInNhdmVTbmFwc2hvdCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmZpcmUoInNhdmVTbmFwc2hvdCIpfSwwKX19ZnVuY3Rpb24gdShhKXt2YXIgZD17dHlwZToiYXV0byJ9LGM9Yi5maXJlKCJiZWZvcmVQYXN0ZSIsZCk7ayhhLGZ1bmN0aW9uKGIpe2I9Yi5yZXBsYWNlKC88c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmtbXjxdKj88XC9zcGFuPi9pZywiIik7YyYmZyhkLnR5cGUsYiwwLDEpfSl9ZnVuY3Rpb24gcygpe2lmKCJ3eXNpd3lnIj09Yi5tb2RlKXt2YXIgYT1tKCJwYXN0ZSIpO2IuZ2V0Q29tbWFuZCgiY3V0Iikuc2V0U3RhdGUobSgiY3V0IikpO2IuZ2V0Q29tbWFuZCgiY29weSIpLnNldFN0YXRlKG0oImNvcHkiKSk7Yi5nZXRDb21tYW5kKCJwYXN0ZSIpLnNldFN0YXRlKGEpO2IuZmlyZSgicGFzdGVTdGF0ZSIsYSl9fWZ1bmN0aW9uIG0oYSl7aWYodCYmCmEgaW57cGFzdGU6MSxjdXQ6MX0pcmV0dXJuIENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEO2lmKCJwYXN0ZSI9PWEpcmV0dXJuIENLRURJVE9SLlRSSVNUQVRFX09GRjt2YXIgYT1iLmdldFNlbGVjdGlvbigpLGQ9YS5nZXRSYW5nZXMoKTtyZXR1cm4gYS5nZXRUeXBlKCk9PUNLRURJVE9SLlNFTEVDVElPTl9OT05FfHwxPT1kLmxlbmd0aCYmZFswXS5jb2xsYXBzZWQ\/Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfXZhciBuPTAscj0wLHQ9MCxxPUNLRURJVE9SLmVudi5pZT8iYmVmb3JlcGFzdGUiOiJwYXN0ZSI7KGZ1bmN0aW9uKCl7Yi5vbigia2V5IixwKTtiLm9uKCJjb250ZW50RG9tIixhKTtiLm9uKCJzZWxlY3Rpb25DaGFuZ2UiLGZ1bmN0aW9uKGEpe3Q9YS5kYXRhLnNlbGVjdGlvbi5nZXRSYW5nZXMoKVswXS5jaGVja1JlYWRPbmx5KCk7cygpfSk7Yi5jb250ZXh0TWVudSYmYi5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihhLApiKXt0PWIuZ2V0UmFuZ2VzKClbMF0uY2hlY2tSZWFkT25seSgpO3JldHVybntjdXQ6bSgiY3V0IiksY29weTptKCJjb3B5IikscGFzdGU6bSgicGFzdGUiKX19KX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShkLGMsaSxlLGYpe3ZhciBrPWIubGFuZy5jbGlwYm9hcmRbY107Yi5hZGRDb21tYW5kKGMsaSk7Yi51aS5hZGRCdXR0b24mJmIudWkuYWRkQnV0dG9uKGQse2xhYmVsOmssY29tbWFuZDpjLHRvb2xiYXI6ImNsaXBib2FyZCwiK2V9KTtiLmFkZE1lbnVJdGVtcyYmYi5hZGRNZW51SXRlbShjLHtsYWJlbDprLGNvbW1hbmQ6Yyxncm91cDoiY2xpcGJvYXJkIixvcmRlcjpmfSl9YSgiQ3V0IiwiY3V0IixjKCJjdXQiKSwxMCwxKTthKCJDb3B5IiwiY29weSIsYygiY29weSIpLDIwLDQpO2EoIlBhc3RlIiwicGFzdGUiLGQoKSwzMCw4KX0pKCk7Yi5nZXRDbGlwYm9hcmREYXRhPWZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gYyhhKXthLnJlbW92ZUxpc3RlbmVyKCk7YS5jYW5jZWwoKTsKZChhLmRhdGEpfWZ1bmN0aW9uIGkoYSl7YS5yZW1vdmVMaXN0ZW5lcigpO2EuY2FuY2VsKCk7Zz0hMDtkKHt0eXBlOmgsZGF0YVZhbHVlOmEuZGF0YX0pfWZ1bmN0aW9uIGYoKXt0aGlzLmN1c3RvbVRpdGxlPWEmJmEudGl0bGV9dmFyIGs9ITEsaD0iYXV0byIsZz0hMTtkfHwoZD1hLGE9bnVsbCk7Yi5vbigicGFzdGUiLGMsbnVsbCxudWxsLDApO2Iub24oImJlZm9yZVBhc3RlIixmdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7az10cnVlO2g9YS5kYXRhLnR5cGV9LG51bGwsbnVsbCwxRTMpOyExPT09bygpJiYoYi5yZW1vdmVMaXN0ZW5lcigicGFzdGUiLGMpLGsmJmIuZmlyZSgicGFzdGVEaWFsb2ciLGYpPyhiLm9uKCJwYXN0ZURpYWxvZ0NvbW1pdCIsaSksYi5vbigiZGlhbG9nSGlkZSIsZnVuY3Rpb24oYSl7YS5yZW1vdmVMaXN0ZW5lcigpO2EuZGF0YS5yZW1vdmVMaXN0ZW5lcigicGFzdGVEaWFsb2dDb21taXQiLGkpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtnfHxkKG51bGwpfSwKMTApfSkpOmQobnVsbCkpfX1mdW5jdGlvbiB4KGIpe2lmKENLRURJVE9SLmVudi53ZWJraXQpe2lmKCFiLm1hdGNoKC9eW148XSokL2cpJiYhYi5tYXRjaCgvXig8ZGl2PjxiciggP1wvKT8+PFwvZGl2Pnw8ZGl2PltePF0qPFwvZGl2PikqJC9naSkpcmV0dXJuImh0bWwifWVsc2UgaWYoQ0tFRElUT1IuZW52LmllKXtpZighYi5tYXRjaCgvXihbXjxdfDxiciggP1wvKT8+KSokL2dpKSYmIWIubWF0Y2goL14oPHA+KFtePF18PGJyKCA\/XC8pPz4pKjxcL3A+fChcclxuKSkqJC9naSkpcmV0dXJuImh0bWwifWVsc2UgaWYoQ0tFRElUT1IuZW52LmdlY2tvfHxDS0VESVRPUi5lbnYub3BlcmEpe2lmKCFiLm1hdGNoKC9eKFtePF18PGJyKCA\/XC8pPz4pKiQvZ2kpKXJldHVybiJodG1sIn1lbHNlIHJldHVybiJodG1sIjtyZXR1cm4iaHRtbGlmaWVkdGV4dCJ9ZnVuY3Rpb24geShiLGEpe2Z1bmN0aW9uIGMoYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdCgiPC9wPjxwPiIsfn4oYS8yKSkrCigxPT1hJTI\/Ijxicj4iOiIiKX1hPWEucmVwbGFjZSgvXHMrL2csIiAiKS5yZXBsYWNlKC8+ICs8L2csIj48IikucmVwbGFjZSgvPGJyID9cLz4vZ2ksIjxicj4iKTthPWEucmVwbGFjZSgvPFwvP1tBLVpdKz4vZyxmdW5jdGlvbihhKXtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpfSk7aWYoYS5tYXRjaCgvXltePF0kLykpcmV0dXJuIGE7Q0tFRElUT1IuZW52LndlYmtpdCYmLTE8YS5pbmRleE9mKCI8ZGl2PiIpJiYoYT1hLnJlcGxhY2UoL14oPGRpdj4oPGJyPnwpPFwvZGl2PikoPyEkfCg8ZGl2Pig8YnI+fCk8XC9kaXY+KSkvZywiPGJyPiIpLnJlcGxhY2UoL14oPGRpdj4oPGJyPnwpPFwvZGl2Pil7Mn0oPyEkKS9nLCI8ZGl2PjwvZGl2PiIpLGEubWF0Y2goLzxkaXY+KDxicj58KTxcL2Rpdj4vKSYmKGE9IjxwPiIrYS5yZXBsYWNlKC8oPGRpdj4oPGJyPnwpPFwvZGl2PikrL2csZnVuY3Rpb24oYSl7cmV0dXJuIGMoYS5zcGxpdCgiPC9kaXY+PGRpdj4iKS5sZW5ndGgrMSl9KSsiPC9wPiIpLAphPWEucmVwbGFjZSgvPFwvZGl2PjxkaXY+L2csIjxicj4iKSxhPWEucmVwbGFjZSgvPFwvP2Rpdj4vZywiIikpO2lmKChDS0VESVRPUi5lbnYuZ2Vja298fENLRURJVE9SLmVudi5vcGVyYSkmJmIuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUilDS0VESVRPUi5lbnYuZ2Vja28mJihhPWEucmVwbGFjZSgvXjxicj48YnI+JC8sIjxicj4iKSksLTE8YS5pbmRleE9mKCI8YnI+PGJyPiIpJiYoYT0iPHA+IithLnJlcGxhY2UoLyg8YnI+KXsyLH0vZyxmdW5jdGlvbihhKXtyZXR1cm4gYyhhLmxlbmd0aC80KX0pKyI8L3A+Iik7cmV0dXJuIHAoYixhKX1mdW5jdGlvbiB6KCl7dmFyIGI9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyLGE9e2Jsb2NrcXVvdGU6MSxkbDoxLGZpZWxkc2V0OjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEsb2w6MSxwOjEsdGFibGU6MSx1bDoxfSxjPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7YnI6MH0sQ0tFRElUT1IuZHRkLiRpbmxpbmUpLGQ9CntwOjEsYnI6MSwiY2tlOmJyIjoxfSxmPUNLRURJVE9SLmR0ZCxoPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7YXJlYToxLGJhc2Vmb250OjEsZW1iZWQ6MSxpZnJhbWU6MSxtYXA6MSxvYmplY3Q6MSxwYXJhbToxfSxDS0VESVRPUi5kdGQuJG5vbkJvZHlDb250ZW50LENLRURJVE9SLmR0ZC4kY2RhdGEpLGw9ZnVuY3Rpb24oYSl7ZGVsZXRlIGEubmFtZTthLmFkZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KCIgIikpfSxnPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLGM7KGI9Yi5uZXh0KSYmYi5uYW1lJiZiLm5hbWUubWF0Y2goL15oXGQkLyk7KXtjPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoImNrZTpiciIpO2MuaXNFbXB0eT0hMDtmb3IoYS5hZGQoYyk7Yz1iLmNoaWxkcmVuLnNoaWZ0KCk7KWEuYWRkKGMpfX07Yi5hZGRSdWxlcyh7ZWxlbWVudHM6e2gxOmcsaDI6ZyxoMzpnLGg0OmcsaDU6ZyxoNjpnLGltZzpmdW5jdGlvbihhKXt2YXIgYT1DS0VESVRPUi50b29scy50cmltKGEuYXR0cmlidXRlcy5hbHR8fAoiIiksYj0iICI7YSYmIWEubWF0Y2goLyheaHR0cHxcLihqcGU\/Z3xnaWZ8cG5nKSkvaSkmJihiPSIgWyIrYSsiXSAiKTtyZXR1cm4gbmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChiKX0sdGQ6bCx0aDpsLCQ6ZnVuY3Rpb24oYil7dmFyIGs9Yi5uYW1lLGc7aWYoaFtrXSlyZXR1cm4hMTtiLmF0dHJpYnV0ZXM9W107aWYoImJyIj09aylyZXR1cm4gYjtpZihhW2tdKWIubmFtZT0icCI7ZWxzZSBpZihjW2tdKWRlbGV0ZSBiLm5hbWU7ZWxzZSBpZihmW2tdKXtnPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoImNrZTpiciIpO2cuaXNFbXB0eT0hMDtpZihDS0VESVRPUi5kdGQuJGVtcHR5W2tdKXJldHVybiBnO2IuYWRkKGcsMCk7Zz1nLmNsb25lKCk7Zy5pc0VtcHR5PSEwO2IuYWRkKGcpO2RlbGV0ZSBiLm5hbWV9ZFtiLm5hbWVdfHxkZWxldGUgYi5uYW1lO3JldHVybiBifX19LHthcHBseVRvQWxsOiEwfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShiLGEsYyl7dmFyIGE9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYSksCmQ9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7YS53cml0ZUh0bWwoZCxjKTt2YXIgYT1kLmdldEh0bWwoKSxhPWEucmVwbGFjZSgvXHMqKDxcLz9bYS16Ol0rID9cLz8+KVxzKi9nLCIkMSIpLnJlcGxhY2UoLyg8Y2tlOmJyIFwvPil7Mix9L2csIjxja2U6YnIgLz4iKS5yZXBsYWNlKC8oPGNrZTpiciBcLz4pKDxcLz9wPnw8YnIgXC8+KS9nLCIkMiIpLnJlcGxhY2UoLyg8XC8\/cD58PGJyIFwvPikoPGNrZTpiciBcLz4pL2csIiQxIikucmVwbGFjZSgvPChja2U6KT9iciggXC8pPz4vZywiPGJyPiIpLnJlcGxhY2UoLzxwPjxcL3A+L2csIiIpLGY9MCxhPWEucmVwbGFjZSgvPFwvP3A+L2csZnVuY3Rpb24oYSl7aWYoIjxwPiI9PWEpe2lmKDE8KytmKXJldHVybiI8L3A+PHA+In1lbHNlIGlmKDA8LS1mKXJldHVybiI8L3A+PHA+IjtyZXR1cm4gYX0pLnJlcGxhY2UoLzxwPjxcL3A+L2csIiIpO3JldHVybiBwKGIsYSl9ZnVuY3Rpb24gcChiLGEpe2IuZW50ZXJNb2RlPT0KQ0tFRElUT1IuRU5URVJfQlI\/YT1hLnJlcGxhY2UoLyg8XC9wPjxwPikrL2csZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdCgiPGJyPiIsMiooYS5sZW5ndGgvNykpfSkucmVwbGFjZSgvPFwvP3A+L2csIiIpOmIuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9ESVYmJihhPWEucmVwbGFjZSgvPChcLyk\/cD4vZywiPCQxZGl2PiIpKTtyZXR1cm4gYX1DS0VESVRPUi5wbHVnaW5zLmFkZCgiY2xpcGJvYXJkIix7cmVxdWlyZXM6ImRpYWxvZyIsaW5pdDpmdW5jdGlvbihiKXt2YXIgYTt3KGIpO0NLRURJVE9SLmRpYWxvZy5hZGQoInBhc3RlIixDS0VESVRPUi5nZXRVcmwodGhpcy5wYXRoKyJkaWFsb2dzL3Bhc3RlLmpzIikpO2Iub24oInBhc3RlIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZGF0YVZhbHVlLGY9Q0tFRElUT1IuZHRkLiRibG9jazstMTxiLmluZGV4T2YoIkFwcGxlLSIpJiYoYj1iLnJlcGxhY2UoLzxzcGFuIGNsYXNzPSJBcHBsZS1jb252ZXJ0ZWQtc3BhY2UiPiZuYnNwOzxcL3NwYW4+L2dpLAoiICIpLCJodG1sIiE9YS5kYXRhLnR5cGUmJihiPWIucmVwbGFjZSgvPHNwYW4gY2xhc3M9IkFwcGxlLXRhYi1zcGFuIltePl0qPihbXjxdKik8XC9zcGFuPi9naSxmdW5jdGlvbihhLGIpe3JldHVybiBiLnJlcGxhY2UoL1x0L2csIiZuYnNwOyZuYnNwOyAmbmJzcDsiKX0pKSwtMTxiLmluZGV4T2YoJzxiciBjbGFzcz0iQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZSI+JykmJihhLmRhdGEuc3RhcnRzV2l0aEVPTD0xLGEuZGF0YS5wcmVTbmlmZmluZz0iaHRtbCIsYj1iLnJlcGxhY2UoLzxiciBjbGFzcz0iQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZSI+LywiIikpLGI9Yi5yZXBsYWNlKC8oPFtePl0rKSBjbGFzcz0iQXBwbGUtW14iXSoiL2dpLCIkMSIpKTtpZihiLm1hdGNoKC9ePFtePF0rY2tlXyhlZGl0YWJsZXxjb250ZW50cykvaSkpe3ZhciBoLGwsZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoImRpdiIpO2ZvcihnLnNldEh0bWwoYik7MT09Zy5nZXRDaGlsZENvdW50KCkmJihoPQpnLmdldEZpcnN0KCkpJiZoLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGguaGFzQ2xhc3MoImNrZV9lZGl0YWJsZSIpfHxoLmhhc0NsYXNzKCJja2VfY29udGVudHMiKSk7KWc9bD1oO2wmJihiPWwuZ2V0SHRtbCgpLnJlcGxhY2UoLzxicj4kL2ksIiIpKX1DS0VESVRPUi5lbnYuaWU\/Yj1iLnJlcGxhY2UoL14mbmJzcDsoPzogfFxyXG4pPzwoXHcrKS9nLGZ1bmN0aW9uKGIsZCl7aWYoZC50b0xvd2VyQ2FzZSgpaW4gZil7YS5kYXRhLnByZVNuaWZmaW5nPSJodG1sIjtyZXR1cm4iPCIrZH1yZXR1cm4gYn0pOkNLRURJVE9SLmVudi53ZWJraXQ\/Yj1iLnJlcGxhY2UoLzxcLyhcdyspPjxkaXY+PGJyPjxcL2Rpdj4kLyxmdW5jdGlvbihiLGQpe2lmKGQgaW4gZil7YS5kYXRhLmVuZHNXaXRoRU9MPTE7cmV0dXJuIjwvIitkKyI+In1yZXR1cm4gYn0pOkNLRURJVE9SLmVudi5nZWNrbyYmKGI9Yi5yZXBsYWNlKC8oXHMpPGJyPiQvLCIkMSIpKTthLmRhdGEuZGF0YVZhbHVlPWJ9LG51bGwsCm51bGwsMyk7Yi5vbigicGFzdGUiLGZ1bmN0aW9uKGMpe3ZhciBjPWMuZGF0YSxkPWMudHlwZSxmPWMuZGF0YVZhbHVlLGgsbD1iLmNvbmZpZy5jbGlwYm9hcmRfZGVmYXVsdENvbnRlbnRUeXBlfHwiaHRtbCI7aD0iaHRtbCI9PWR8fCJodG1sIj09Yy5wcmVTbmlmZmluZz8iaHRtbCI6eChmKTsiaHRtbGlmaWVkdGV4dCI9PWg\/Zj15KGIuY29uZmlnLGYpOiJ0ZXh0Ij09ZCYmImh0bWwiPT1oJiYoZj1BKGIuY29uZmlnLGYsYXx8KGE9eihiKSkpKTtjLnN0YXJ0c1dpdGhFT0wmJihmPSc8YnIgZGF0YS1ja2UtZW9sPSIxIj4nK2YpO2MuZW5kc1dpdGhFT0wmJihmKz0nPGJyIGRhdGEtY2tlLWVvbD0iMSI+Jyk7ImF1dG8iPT1kJiYoZD0iaHRtbCI9PWh8fCJodG1sIj09bD8iaHRtbCI6InRleHQiKTtjLnR5cGU9ZDtjLmRhdGFWYWx1ZT1mO2RlbGV0ZSBjLnByZVNuaWZmaW5nO2RlbGV0ZSBjLnN0YXJ0c1dpdGhFT0w7ZGVsZXRlIGMuZW5kc1dpdGhFT0x9LG51bGwsbnVsbCw2KTtiLm9uKCJwYXN0ZSIsCmZ1bmN0aW9uKGEpe2E9YS5kYXRhO2IuaW5zZXJ0SHRtbChhLmRhdGFWYWx1ZSxhLnR5cGUpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmZpcmUoImFmdGVyUGFzdGUiKX0sMCl9LG51bGwsbnVsbCwxRTMpO2Iub24oInBhc3RlRGlhbG9nIixmdW5jdGlvbihhKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5vcGVuRGlhbG9nKCJwYXN0ZSIsYS5kYXRhKX0sMCl9KX19KX0pKCk7KGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoInBhbmVsIix7YmVmb3JlSW5pdDpmdW5jdGlvbihhKXthLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfUEFORUwsQ0tFRElUT1IudWkucGFuZWwuaGFuZGxlcil9fSk7Q0tFRElUT1IuVUlfUEFORUw9InBhbmVsIjtDS0VESVRPUi51aS5wYW5lbD1mdW5jdGlvbihhLGIpe2ImJkNLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIpO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLHtjbGFzc05hbWU6IiIsY3NzOltdfSk7dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0aGlzLmRvY3VtZW50PWE7dGhpcy5pc0ZyYW1lZD10aGlzLmZvcmNlSUZyYW1lfHx0aGlzLmNzcy5sZW5ndGg7dGhpcy5fPXtibG9ja3M6e319fTtDS0VESVRPUi51aS5wYW5lbC5oYW5kbGVyPXtjcmVhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5wYW5lbChhKX19O3ZhciBmPUNLRURJVE9SLmFkZFRlbXBsYXRlKCJwYW5lbCIsCic8ZGl2IGxhbmc9IntsYW5nQ29kZX0iIGlkPSJ7aWR9IiBkaXI9e2Rpcn0gY2xhc3M9ImNrZSBja2VfcmVzZXRfYWxsIHtlZGl0b3JJZH0gY2tlX3BhbmVsIGNrZV9wYW5lbCB7Y2xzfSBja2Vfe2Rpcn0iIHN0eWxlPSJ6LWluZGV4Ont6LWluZGV4fSIgcm9sZT0icHJlc2VudGF0aW9uIj57ZnJhbWV9PC9kaXY+JyksZz1DS0VESVRPUi5hZGRUZW1wbGF0ZSgicGFuZWwtZnJhbWUiLCc8aWZyYW1lIGlkPSJ7aWR9IiBjbGFzcz0iY2tlX3BhbmVsX2ZyYW1lIiByb2xlPSJwcmVzZW50YXRpb24iIGZyYW1lYm9yZGVyPSIwIiBzcmM9IntzcmN9Ij48L2lmcmFtZT4nKSxoPUNLRURJVE9SLmFkZFRlbXBsYXRlKCJwYW5lbC1mcmFtZS1pbm5lciIsJzwhRE9DVFlQRSBodG1sPjxodG1sIGNsYXNzPSJja2VfcGFuZWxfY29udGFpbmVyIHtlbnZ9IiBkaXI9IntkaXJ9IiBsYW5nPSJ7bGFuZ0NvZGV9Ij48aGVhZD57Y3NzfTwvaGVhZD48Ym9keSBjbGFzcz0iY2tlX3tkaXJ9IiBzdHlsZT0ibWFyZ2luOjA7cGFkZGluZzowIiBvbmxvYWQ9IntvbmxvYWR9Ij48L2JvZHk+PC9odG1sPicpOwpDS0VESVRPUi51aS5wYW5lbC5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbihhLGIpe3RoaXMuZ2V0SG9sZGVyRWxlbWVudD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5ob2xkZXI7aWYoIWEpe2lmKHRoaXMuaXNGcmFtZWQpe3ZhciBhPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmlkKyJfZnJhbWUiKSxiPWEuZ2V0UGFyZW50KCksYT1hLmdldEZyYW1lRG9jdW1lbnQoKTtDS0VESVRPUi5lbnYuaU9TJiZiLnNldFN0eWxlcyh7b3ZlcmZsb3c6InNjcm9sbCIsIi13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nIjoidG91Y2gifSk7Yj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihDS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKCl7dGhpcy5pc0xvYWRlZD0hMDtpZih0aGlzLm9uTG9hZCl0aGlzLm9uTG9hZCgpfSx0aGlzKSk7YS53cml0ZShoLm91dHB1dChDS0VESVRPUi50b29scy5leHRlbmQoe2NzczpDS0VESVRPUi50b29scy5idWlsZFN0eWxlSHRtbCh0aGlzLmNzcyksb25sb2FkOiJ3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbigiKwpiKyIpOyJ9LGQpKSk7YS5nZXRXaW5kb3coKS4kLkNLRURJVE9SPUNLRURJVE9SO2Eub24oImtleSIrKENLRURJVE9SLmVudi5vcGVyYT8icHJlc3MiOiJkb3duIiksZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLmdldEtleXN0cm9rZSgpLGM9dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQpLmdldEF0dHJpYnV0ZSgiZGlyIik7dGhpcy5fLm9uS2V5RG93biYmITE9PT10aGlzLl8ub25LZXlEb3duKGIpP2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpOigyNz09Ynx8Yj09KCJydGwiPT1jPzM5OjM3KSkmJnRoaXMub25Fc2NhcGUmJiExPT09dGhpcy5vbkVzY2FwZShiKSYmYS5kYXRhLnByZXZlbnREZWZhdWx0KCl9LHRoaXMpO2E9YS5nZXRCb2R5KCk7YS51bnNlbGVjdGFibGUoKTtDS0VESVRPUi5lbnYuYWlyJiZDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oYil9ZWxzZSBhPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmlkKTt0aGlzLl8uaG9sZGVyPWF9cmV0dXJuIGF9O3ZhciBkPQp7ZWRpdG9ySWQ6YS5pZCxpZDp0aGlzLmlkLGxhbmdDb2RlOmEubGFuZ0NvZGUsZGlyOmEubGFuZy5kaXIsY2xzOnRoaXMuY2xhc3NOYW1lLGZyYW1lOiIiLGVudjpDS0VESVRPUi5lbnYuY3NzQ2xhc3MsInotaW5kZXgiOmEuY29uZmlnLmJhc2VGbG9hdFpJbmRleCsxfTtpZih0aGlzLmlzRnJhbWVkKXt2YXIgZT1DS0VESVRPUi5lbnYuYWlyPyJqYXZhc2NyaXB0OnZvaWQoMCkiOkNLRURJVE9SLmVudi5pZT8iamF2YXNjcmlwdDp2b2lkKGZ1bmN0aW9uKCl7IitlbmNvZGVVUklDb21wb25lbnQoImRvY3VtZW50Lm9wZW4oKTsoIitDS0VESVRPUi50b29scy5maXhEb21haW4rIikoKTtkb2N1bWVudC5jbG9zZSgpOyIpKyJ9KCkpIjoiIjtkLmZyYW1lPWcub3V0cHV0KHtpZDp0aGlzLmlkKyJfZnJhbWUiLHNyYzplfSl9ZT1mLm91dHB1dChkKTtiJiZiLnB1c2goZSk7cmV0dXJuIGV9LGFkZEJsb2NrOmZ1bmN0aW9uKGEsYil7Yj10aGlzLl8uYmxvY2tzW2FdPWIgaW5zdGFuY2VvZiBDS0VESVRPUi51aS5wYW5lbC5ibG9jaz8KYjpuZXcgQ0tFRElUT1IudWkucGFuZWwuYmxvY2sodGhpcy5nZXRIb2xkZXJFbGVtZW50KCksYik7dGhpcy5fLmN1cnJlbnRCbG9ja3x8dGhpcy5zaG93QmxvY2soYSk7cmV0dXJuIGJ9LGdldEJsb2NrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYmxvY2tzW2FdfSxzaG93QmxvY2s6ZnVuY3Rpb24oYSl7dmFyIGE9dGhpcy5fLmJsb2Nrc1thXSxiPXRoaXMuXy5jdXJyZW50QmxvY2ssZD0hdGhpcy5mb3JjZUlGcmFtZXx8Q0tFRElUT1IuZW52LmllP3RoaXMuXy5ob2xkZXI6dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQrIl9mcmFtZSIpO2ImJmIuaGlkZSgpO3RoaXMuXy5jdXJyZW50QmxvY2s9YTtDS0VESVRPUi5maXJlKCJhcmlhV2lkZ2V0IixkKTthLl8uZm9jdXNJbmRleD0tMTt0aGlzLl8ub25LZXlEb3duPWEub25LZXlEb3duJiZDS0VESVRPUi50b29scy5iaW5kKGEub25LZXlEb3duLGEpO2Euc2hvdygpO3JldHVybiBhfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50JiYKdGhpcy5lbGVtZW50LnJlbW92ZSgpfX07Q0tFRElUT1IudWkucGFuZWwuYmxvY2s9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmVsZW1lbnQ9YS5hcHBlbmQoYS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoImRpdiIse2F0dHJpYnV0ZXM6e3RhYmluZGV4Oi0xLCJjbGFzcyI6ImNrZV9wYW5lbF9ibG9jayJ9LHN0eWxlczp7ZGlzcGxheToibm9uZSJ9fSkpO2ImJkNLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIpO3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGVzKHtyb2xlOnRoaXMuYXR0cmlidXRlcy5yb2xlfHwicHJlc2VudGF0aW9uIiwiYXJpYS1sYWJlbCI6dGhpcy5hdHRyaWJ1dGVzWyJhcmlhLWxhYmVsIl0sdGl0bGU6dGhpcy5hdHRyaWJ1dGVzLnRpdGxlfHx0aGlzLmF0dHJpYnV0ZXNbImFyaWEtbGFiZWwiXX0pO3RoaXMua2V5cz17fTt0aGlzLl8uZm9jdXNJbmRleD0tMTt0aGlzLmVsZW1lbnQuZGlzYWJsZUNvbnRleHRNZW51KCl9LApfOnttYXJrSXRlbTpmdW5jdGlvbihhKXstMSE9YSYmKGE9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoImEiKS5nZXRJdGVtKHRoaXMuXy5mb2N1c0luZGV4PWEpLChDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYub3BlcmEpJiZhLmdldERvY3VtZW50KCkuZ2V0V2luZG93KCkuZm9jdXMoKSxhLmZvY3VzKCksdGhpcy5vbk1hcmsmJnRoaXMub25NYXJrKGEpKX19LHByb3RvOntzaG93OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnNldFN0eWxlKCJkaXNwbGF5IiwiIil9LGhpZGU6ZnVuY3Rpb24oKXsoIXRoaXMub25IaWRlfHwhMCE9PXRoaXMub25IaWRlLmNhbGwodGhpcykpJiZ0aGlzLmVsZW1lbnQuc2V0U3R5bGUoImRpc3BsYXkiLCJub25lIil9LG9uS2V5RG93bjpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMua2V5c1thXTtzd2l0Y2goZCl7Y2FzZSAibmV4dCI6Zm9yKHZhciBlPXRoaXMuXy5mb2N1c0luZGV4LGQ9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoImEiKSwKYztjPWQuZ2V0SXRlbSgrK2UpOylpZihjLmdldEF0dHJpYnV0ZSgiX2NrZV9mb2N1cyIpJiZjLiQub2Zmc2V0V2lkdGgpe3RoaXMuXy5mb2N1c0luZGV4PWU7Yy5mb2N1cygpO2JyZWFrfXJldHVybiFjJiYhYj8odGhpcy5fLmZvY3VzSW5kZXg9LTEsdGhpcy5vbktleURvd24oYSwxKSk6ITE7Y2FzZSAicHJldiI6ZT10aGlzLl8uZm9jdXNJbmRleDtmb3IoZD10aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZygiYSIpOzA8ZSYmKGM9ZC5nZXRJdGVtKC0tZSkpOyl7aWYoYy5nZXRBdHRyaWJ1dGUoIl9ja2VfZm9jdXMiKSYmYy4kLm9mZnNldFdpZHRoKXt0aGlzLl8uZm9jdXNJbmRleD1lO2MuZm9jdXMoKTticmVha31jPW51bGx9cmV0dXJuIWMmJiFiPyh0aGlzLl8uZm9jdXNJbmRleD1kLmNvdW50KCksdGhpcy5vbktleURvd24oYSwxKSk6ITE7Y2FzZSAiY2xpY2siOmNhc2UgIm1vdXNldXAiOnJldHVybiBlPXRoaXMuXy5mb2N1c0luZGV4LChjPTA8PWUmJnRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKCJhIikuZ2V0SXRlbShlKSkmJgooYy4kW2RdP2MuJFtkXSgpOmMuJFsib24iK2RdKCkpLCExfXJldHVybiEwfX19KX0pKCk7Q0tFRElUT1IucGx1Z2lucy5hZGQoImZsb2F0cGFuZWwiLHtyZXF1aXJlczoicGFuZWwifSk7CihmdW5jdGlvbigpe2Z1bmN0aW9uIHEoYSxiLGMsaSxmKXt2YXIgZj1DS0VESVRPUi50b29scy5nZW5LZXkoYi5nZXRVbmlxdWVJZCgpLGMuZ2V0VW5pcXVlSWQoKSxhLmxhbmcuZGlyLGEudWlDb2xvcnx8IiIsaS5jc3N8fCIiLGZ8fCIiKSxoPWdbZl07aHx8KGg9Z1tmXT1uZXcgQ0tFRElUT1IudWkucGFuZWwoYixpKSxoLmVsZW1lbnQ9Yy5hcHBlbmQoQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoaC5yZW5kZXIoYSksYikpLGguZWxlbWVudC5zZXRTdHlsZXMoe2Rpc3BsYXk6Im5vbmUiLHBvc2l0aW9uOiJhYnNvbHV0ZSJ9KSk7cmV0dXJuIGh9dmFyIGc9e307Q0tFRElUT1IudWkuZmxvYXRQYW5lbD1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhLGIsYyxpKXtmdW5jdGlvbiBmKCl7ZC5oaWRlKCl9Yy5mb3JjZUlGcmFtZT0xO2MudG9vbGJhclJlbGF0ZWQmJmEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUmJgooYj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKCJja2VfIithLm5hbWUpKTt2YXIgaD1iLmdldERvY3VtZW50KCksaT1xKGEsaCxiLGMsaXx8MCksaj1pLmVsZW1lbnQsbD1qLmdldEZpcnN0KCksZD10aGlzO2ouZGlzYWJsZUNvbnRleHRNZW51KCk7dGhpcy5lbGVtZW50PWo7dGhpcy5fPXtlZGl0b3I6YSxwYW5lbDppLHBhcmVudEVsZW1lbnQ6YixkZWZpbml0aW9uOmMsZG9jdW1lbnQ6aCxpZnJhbWU6bCxjaGlsZHJlbjpbXSxkaXI6YS5sYW5nLmRpcn07YS5vbigibW9kZSIsZik7YS5vbigicmVzaXplIixmKTtoLmdldFdpbmRvdygpLm9uKCJyZXNpemUiLGYpfSxwcm90bzp7YWRkQmxvY2s6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fLnBhbmVsLmFkZEJsb2NrKGEsYil9LGFkZExpc3RCbG9jazpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl8ucGFuZWwuYWRkTGlzdEJsb2NrKGEsYil9LGdldEJsb2NrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8ucGFuZWwuZ2V0QmxvY2soYSl9LApzaG93QmxvY2s6ZnVuY3Rpb24oYSxiLGMsaSxmLGgpe3ZhciBqPXRoaXMuXy5wYW5lbCxsPWouc2hvd0Jsb2NrKGEpO3RoaXMuYWxsb3dCbHVyKCExKTthPXRoaXMuXy5lZGl0b3IuZWRpdGFibGUoKTt0aGlzLl8ucmV0dXJuRm9jdXM9YS5oYXNGb2N1cz9hOm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChDS0VESVRPUi5kb2N1bWVudC4kLmFjdGl2ZUVsZW1lbnQpO3ZhciBkPXRoaXMuZWxlbWVudCxhPXRoaXMuXy5pZnJhbWUsYT1DS0VESVRPUi5lbnYuaWU\/YTpuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyhhLiQuY29udGVudFdpbmRvdyksZz1kLmdldERvY3VtZW50KCksbz10aGlzLl8ucGFyZW50RWxlbWVudC5nZXRQb3NpdGlvbmVkQW5jZXN0b3IoKSxwPWIuZ2V0RG9jdW1lbnRQb3NpdGlvbihnKSxnPW8\/by5nZXREb2N1bWVudFBvc2l0aW9uKGcpOnt4OjAseTowfSxtPSJydGwiPT10aGlzLl8uZGlyLGU9cC54KyhpfHwwKS1nLngsaz1wLnkrKGZ8fDApLWcueTtpZihtJiYoMT09Y3x8CjQ9PWMpKWUrPWIuJC5vZmZzZXRXaWR0aDtlbHNlIGlmKCFtJiYoMj09Y3x8Mz09YykpZSs9Yi4kLm9mZnNldFdpZHRoLTE7aWYoMz09Y3x8ND09YylrKz1iLiQub2Zmc2V0SGVpZ2h0LTE7dGhpcy5fLnBhbmVsLl8ub2Zmc2V0UGFyZW50SWQ9Yi5nZXRJZCgpO2Quc2V0U3R5bGVzKHt0b3A6aysicHgiLGxlZnQ6MCxkaXNwbGF5OiIifSk7ZC5zZXRPcGFjaXR5KDApO2QuZ2V0Rmlyc3QoKS5yZW1vdmVTdHlsZSgid2lkdGgiKTt0aGlzLl8uZWRpdG9yLmZvY3VzTWFuYWdlci5hZGQoYSk7dGhpcy5fLmJsdXJTZXR8fChDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPSEwLGEub24oImJsdXIiLGZ1bmN0aW9uKGEpe3RoaXMuYWxsb3dCbHVyKCkmJmEuZGF0YS5nZXRQaGFzZSgpPT1DS0VESVRPUi5FVkVOVF9QSEFTRV9BVF9UQVJHRVQmJih0aGlzLnZpc2libGUmJiF0aGlzLl8uYWN0aXZlQ2hpbGQpJiYoZGVsZXRlIHRoaXMuXy5yZXR1cm5Gb2N1cyx0aGlzLmhpZGUoKSl9LHRoaXMpLGEub24oImZvY3VzIiwKZnVuY3Rpb24oKXt0aGlzLl8uZm9jdXNlZD0hMDt0aGlzLmhpZGVDaGlsZCgpO3RoaXMuYWxsb3dCbHVyKCEwKX0sdGhpcyksQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0hMSx0aGlzLl8uYmx1clNldD0xKTtqLm9uRXNjYXBlPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oYSl7aWYodGhpcy5vbkVzY2FwZSYmdGhpcy5vbkVzY2FwZShhKT09PWZhbHNlKXJldHVybiBmYWxzZX0sdGhpcyk7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXtkLnJlbW92ZVN0eWxlKCJ3aWR0aCIpO2lmKGwuYXV0b1NpemUpe3ZhciBhPWwuZWxlbWVudC5nZXREb2N1bWVudCgpLGE9KENLRURJVE9SLmVudi53ZWJraXQ\/bC5lbGVtZW50OmEuZ2V0Qm9keSgpKS4kLnNjcm9sbFdpZHRoO0NLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5xdWlya3MmJmE+MCkmJihhPWErKChkLiQub2Zmc2V0V2lkdGh8fDApLShkLiQuY2xpZW50V2lkdGh8fAowKSszKSk7ZC5zZXRTdHlsZSgid2lkdGgiLGErMTArInB4Iik7YT1sLmVsZW1lbnQuJC5zY3JvbGxIZWlnaHQ7Q0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LnF1aXJrcyYmYT4wKSYmKGE9YSsoKGQuJC5vZmZzZXRIZWlnaHR8fDApLShkLiQuY2xpZW50SGVpZ2h0fHwwKSszKSk7ZC5zZXRTdHlsZSgiaGVpZ2h0IixhKyJweCIpO2ouXy5jdXJyZW50QmxvY2suZWxlbWVudC5zZXRTdHlsZSgiZGlzcGxheSIsIm5vbmUiKS5yZW1vdmVTdHlsZSgiZGlzcGxheSIpfWVsc2UgZC5yZW1vdmVTdHlsZSgiaGVpZ2h0Iik7bSYmKGU9ZS1kLiQub2Zmc2V0V2lkdGgpO2Quc2V0U3R5bGUoImxlZnQiLGUrInB4Iik7dmFyIGI9ai5lbGVtZW50LmdldFdpbmRvdygpLGE9ZC4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGI9Yi5nZXRWaWV3UGFuZVNpemUoKSxjPWEud2lkdGh8fGEucmlnaHQtYS5sZWZ0LGY9YS5oZWlnaHR8fGEuYm90dG9tLWEudG9wLGk9bT9hLnJpZ2h0OmIud2lkdGgtYS5sZWZ0LApnPW0\/Yi53aWR0aC1hLnJpZ2h0OmEubGVmdDttP2k8YyYmKGU9Zz5jP2UrYzpiLndpZHRoPmM\/ZS1hLmxlZnQ6ZS1hLnJpZ2h0K2Iud2lkdGgpOmk8YyYmKGU9Zz5jP2UtYzpiLndpZHRoPmM\/ZS1hLnJpZ2h0K2Iud2lkdGg6ZS1hLmxlZnQpO2M9YS50b3A7Yi5oZWlnaHQtYS50b3A8ZiYmKGs9Yz5mP2stZjpiLmhlaWdodD5mP2stYS5ib3R0b20rYi5oZWlnaHQ6ay1hLnRvcCk7aWYoQ0tFRElUT1IuZW52LmllKXtiPWE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGQuJC5vZmZzZXRQYXJlbnQpO2IuZ2V0TmFtZSgpPT0iaHRtbCImJihiPWIuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCkpO2IuZ2V0Q29tcHV0ZWRTdHlsZSgiZGlyZWN0aW9uIik9PSJydGwiJiYoZT1DS0VESVRPUi5lbnYuaWU4Q29tcGF0P2UtZC5nZXREb2N1bWVudCgpLmdldERvY3VtZW50RWxlbWVudCgpLiQuc2Nyb2xsTGVmdCoyOmUtKGEuJC5zY3JvbGxXaWR0aC1hLiQuY2xpZW50V2lkdGgpKX12YXIgYT1kLmdldEZpcnN0KCksCm47KG49YS5nZXRDdXN0b21EYXRhKCJhY3RpdmVQYW5lbCIpKSYmbi5vbkhpZGUmJm4ub25IaWRlLmNhbGwodGhpcywxKTthLnNldEN1c3RvbURhdGEoImFjdGl2ZVBhbmVsIix0aGlzKTtkLnNldFN0eWxlcyh7dG9wOmsrInB4IixsZWZ0OmUrInB4In0pO2Quc2V0T3BhY2l0eSgxKTtoJiZoKCl9LHRoaXMpO2ouaXNMb2FkZWQ\/YSgpOmoub25Mb2FkPWE7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmVudi53ZWJraXQmJkNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFNjcm9sbFBvc2l0aW9uKCkueTt0aGlzLmZvY3VzKCk7bC5lbGVtZW50LmZvY3VzKCk7aWYoQ0tFRElUT1IuZW52LndlYmtpdClDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuJC5zY3JvbGxUb3A9YTt0aGlzLmFsbG93Qmx1cih0cnVlKTt0aGlzLl8uZWRpdG9yLmZpcmUoInBhbmVsU2hvdyIsdGhpcyl9LDAsdGhpcyl9LENLRURJVE9SLmVudi5haXI\/MjAwOgowLHRoaXMpO3RoaXMudmlzaWJsZT0xO3RoaXMub25TaG93JiZ0aGlzLm9uU2hvdy5jYWxsKHRoaXMpfSxmb2N1czpmdW5jdGlvbigpe2lmKENLRURJVE9SLmVudi53ZWJraXQpe3ZhciBhPUNLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpOyFhLmVxdWFscyh0aGlzLl8uaWZyYW1lKSYmYS4kLmJsdXIoKX0odGhpcy5fLmxhc3RGb2N1c2VkfHx0aGlzLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS5nZXRXaW5kb3coKSkuZm9jdXMoKX0sYmx1cjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5pZnJhbWUuZ2V0RnJhbWVEb2N1bWVudCgpLmdldEFjdGl2ZSgpO2EuaXMoImEiKSYmKHRoaXMuXy5sYXN0Rm9jdXNlZD1hKX0saGlkZTpmdW5jdGlvbihhKXtpZih0aGlzLnZpc2libGUmJighdGhpcy5vbkhpZGV8fCEwIT09dGhpcy5vbkhpZGUuY2FsbCh0aGlzKSkpe3RoaXMuaGlkZUNoaWxkKCk7Q0tFRElUT1IuZW52LmdlY2tvJiZ0aGlzLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS4kLmFjdGl2ZUVsZW1lbnQuYmx1cigpOwp0aGlzLmVsZW1lbnQuc2V0U3R5bGUoImRpc3BsYXkiLCJub25lIik7dGhpcy52aXNpYmxlPTA7dGhpcy5lbGVtZW50LmdldEZpcnN0KCkucmVtb3ZlQ3VzdG9tRGF0YSgiYWN0aXZlUGFuZWwiKTtpZihhPWEmJnRoaXMuXy5yZXR1cm5Gb2N1cylDS0VESVRPUi5lbnYud2Via2l0JiZhLnR5cGUmJmEuZ2V0V2luZG93KCkuJC5mb2N1cygpLGEuZm9jdXMoKTtkZWxldGUgdGhpcy5fLmxhc3RGb2N1c2VkO3RoaXMuXy5lZGl0b3IuZmlyZSgicGFuZWxIaWRlIix0aGlzKX19LGFsbG93Qmx1cjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl8ucGFuZWw7dm9pZCAwIT1hJiYoYi5hbGxvd0JsdXI9YSk7cmV0dXJuIGIuYWxsb3dCbHVyfSxzaG93QXNDaGlsZDpmdW5jdGlvbihhLGIsYyxnLGYsaCl7dGhpcy5fLmFjdGl2ZUNoaWxkPT1hJiZhLl8ucGFuZWwuXy5vZmZzZXRQYXJlbnRJZD09Yy5nZXRJZCgpfHwodGhpcy5oaWRlQ2hpbGQoKSxhLm9uSGlkZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuXy5mb2N1c2VkfHwKdGhpcy5oaWRlKCl9LDAsdGhpcyl9LHRoaXMpLHRoaXMuXy5hY3RpdmVDaGlsZD1hLHRoaXMuXy5mb2N1c2VkPSExLGEuc2hvd0Jsb2NrKGIsYyxnLGYsaCksdGhpcy5ibHVyKCksKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5pZTZDb21wYXQpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5lbGVtZW50LmdldENoaWxkKDApLiQuc3R5bGUuY3NzVGV4dCs9IiJ9LDEwMCkpfSxoaWRlQ2hpbGQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLmFjdGl2ZUNoaWxkO2ImJihkZWxldGUgYi5vbkhpZGUsZGVsZXRlIHRoaXMuXy5hY3RpdmVDaGlsZCxiLmhpZGUoKSxhJiZ0aGlzLmZvY3VzKCkpfX19KTtDS0VESVRPUi5vbigiaW5zdGFuY2VEZXN0cm95ZWQiLGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuaXNFbXB0eShDS0VESVRPUi5pbnN0YW5jZXMpLGI7Zm9yKGIgaW4gZyl7dmFyIGM9Z1tiXTthP2MuZGVzdHJveSgpOmMuZWxlbWVudC5oaWRlKCl9YSYmKGc9Cnt9KX0pfSkoKTtDS0VESVRPUi5wbHVnaW5zLmFkZCgibWVudSIse3JlcXVpcmVzOiJmbG9hdHBhbmVsIixiZWZvcmVJbml0OmZ1bmN0aW9uKGcpe2Zvcih2YXIgaD1nLmNvbmZpZy5tZW51X2dyb3Vwcy5zcGxpdCgiLCIpLG09Zy5fLm1lbnVHcm91cHM9e30sbD1nLl8ubWVudUl0ZW1zPXt9LGE9MDthPGgubGVuZ3RoO2ErKyltW2hbYV1dPWErMTtnLmFkZE1lbnVHcm91cD1mdW5jdGlvbihiLGEpe21bYl09YXx8MTAwfTtnLmFkZE1lbnVJdGVtPWZ1bmN0aW9uKGEsYyl7bVtjLmdyb3VwXSYmKGxbYV09bmV3IENLRURJVE9SLm1lbnVJdGVtKHRoaXMsYSxjKSl9O2cuYWRkTWVudUl0ZW1zPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyBpbiBhKXRoaXMuYWRkTWVudUl0ZW0oYyxhW2NdKX07Zy5nZXRNZW51SXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gbFthXX07Zy5yZW1vdmVNZW51SXRlbT1mdW5jdGlvbihhKXtkZWxldGUgbFthXX19fSk7CihmdW5jdGlvbigpe2Z1bmN0aW9uIGcoYSl7YS5zb3J0KGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGEuZ3JvdXA8Yy5ncm91cD8tMTphLmdyb3VwPmMuZ3JvdXA\/MTphLm9yZGVyPGMub3JkZXI\/LTE6YS5vcmRlcj5jLm9yZGVyPzE6MH0pfXZhciBoPSc8c3BhbiBjbGFzcz0iY2tlX21lbnVpdGVtIj48YSBpZD0ie2lkfSIgY2xhc3M9ImNrZV9tZW51YnV0dG9uIGNrZV9tZW51YnV0dG9uX197bmFtZX0gY2tlX21lbnVidXR0b25fe3N0YXRlfSB7Y2xzfSIgaHJlZj0ie2hyZWZ9IiB0aXRsZT0ie3RpdGxlfSIgdGFiaW5kZXg9Ii0xIl9ja2VfZm9jdXM9MSBoaWRlZm9jdXM9InRydWUiIHJvbGU9Intyb2xlfSIgYXJpYS1oYXNwb3B1cD0ie2hhc1BvcHVwfSIgYXJpYS1kaXNhYmxlZD0ie2Rpc2FibGVkfSIge2FyaWFDaGVja2VkfSc7aWYoQ0tFRElUT1IuZW52Lm9wZXJhfHxDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMpaCs9JyBvbmtleXByZXNzPSJyZXR1cm4gZmFsc2U7Iic7CkNLRURJVE9SLmVudi5nZWNrbyYmKGgrPScgb25ibHVyPSJ0aGlzLnN0eWxlLmNzc1RleHQgPSB0aGlzLnN0eWxlLmNzc1RleHQ7IicpO3ZhciBoPWgrKCcgb25tb3VzZW92ZXI9IkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7aG92ZXJGbn0se2luZGV4fSk7IiBvbm1vdXNlb3V0PSJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe21vdmVPdXRGbn0se2luZGV4fSk7IiAnKyhDS0VESVRPUi5lbnYuaWU\/J29uY2xpY2s9InJldHVybiBmYWxzZTsiIG9ubW91c2V1cCc6Im9uY2xpY2siKSsnPSJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHtpbmRleH0pOyByZXR1cm4gZmFsc2U7Ij4nKSxtPUNLRURJVE9SLmFkZFRlbXBsYXRlKCJtZW51SXRlbSIsaCsnPHNwYW4gY2xhc3M9ImNrZV9tZW51YnV0dG9uX2lubmVyIj48c3BhbiBjbGFzcz0iY2tlX21lbnVidXR0b25faWNvbiI+PHNwYW4gY2xhc3M9ImNrZV9idXR0b25faWNvbiBja2VfYnV0dG9uX197aWNvbk5hbWV9X2ljb24iIHN0eWxlPSJ7aWNvblN0eWxlfSI+PC9zcGFuPjwvc3Bhbj48c3BhbiBjbGFzcz0iY2tlX21lbnVidXR0b25fbGFiZWwiPntsYWJlbH08L3NwYW4+e2Fycm93SHRtbH08L3NwYW4+PC9hPjwvc3Bhbj4nKSwKbD1DS0VESVRPUi5hZGRUZW1wbGF0ZSgibWVudUFycm93IiwnPHNwYW4gY2xhc3M9ImNrZV9tZW51YXJyb3ciPjxzcGFuPntsYWJlbH08L3NwYW4+PC9zcGFuPicpO0NLRURJVE9SLm1lbnU9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSxiKXtiPXRoaXMuXy5kZWZpbml0aW9uPWJ8fHt9O3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5lZGl0b3I9YTt0aGlzLml0ZW1zPVtdO3RoaXMuXy5saXN0ZW5lcnM9W107dGhpcy5fLmxldmVsPWIubGV2ZWx8fDE7dmFyIGM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGIucGFuZWwse2NzczpbQ0tFRElUT1Iuc2tpbi5nZXRQYXRoKCJlZGl0b3IiKV0sbGV2ZWw6dGhpcy5fLmxldmVsLTEsYmxvY2s6e319KSxrPWMuYmxvY2suYXR0cmlidXRlcz1jLmF0dHJpYnV0ZXN8fHt9OyFrLnJvbGUmJihrLnJvbGU9Im1lbnUiKTt0aGlzLl8ucGFuZWxEZWZpbml0aW9uPWN9LF86e29uU2hvdzpmdW5jdGlvbigpe3ZhciBhPQp0aGlzLmVkaXRvci5nZXRTZWxlY3Rpb24oKSxiPWEmJmEuZ2V0U3RhcnRFbGVtZW50KCksYz10aGlzLmVkaXRvci5lbGVtZW50UGF0aCgpLGs9dGhpcy5fLmxpc3RlbmVyczt0aGlzLnJlbW92ZUFsbCgpO2Zvcih2YXIgZT0wO2U8ay5sZW5ndGg7ZSsrKXt2YXIgaj1rW2VdKGIsYSxjKTtpZihqKWZvcih2YXIgaSBpbiBqKXt2YXIgZj10aGlzLmVkaXRvci5nZXRNZW51SXRlbShpKTtpZihmJiYoIWYuY29tbWFuZHx8dGhpcy5lZGl0b3IuZ2V0Q29tbWFuZChmLmNvbW1hbmQpLnN0YXRlKSlmLnN0YXRlPWpbaV0sdGhpcy5hZGQoZil9fX0sb25DbGljazpmdW5jdGlvbihhKXt0aGlzLmhpZGUoKTtpZihhLm9uQ2xpY2spYS5vbkNsaWNrKCk7ZWxzZSBhLmNvbW1hbmQmJnRoaXMuZWRpdG9yLmV4ZWNDb21tYW5kKGEuY29tbWFuZCl9LG9uRXNjYXBlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucGFyZW50O2I\/Yi5fLnBhbmVsLmhpZGVDaGlsZCgxKToyNz09YSYmdGhpcy5oaWRlKDEpO3JldHVybiExfSwKb25IaWRlOmZ1bmN0aW9uKCl7dGhpcy5vbkhpZGUmJnRoaXMub25IaWRlKCl9LHNob3dTdWJNZW51OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5zdWJNZW51LGM9dGhpcy5pdGVtc1thXTtpZihjPWMuZ2V0SXRlbXMmJmMuZ2V0SXRlbXMoKSl7Yj9iLnJlbW92ZUFsbCgpOihiPXRoaXMuXy5zdWJNZW51PW5ldyBDS0VESVRPUi5tZW51KHRoaXMuZWRpdG9yLENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx0aGlzLl8uZGVmaW5pdGlvbix7bGV2ZWw6dGhpcy5fLmxldmVsKzF9LCEwKSksYi5wYXJlbnQ9dGhpcyxiLl8ub25DbGljaz1DS0VESVRPUi50b29scy5iaW5kKHRoaXMuXy5vbkNsaWNrLHRoaXMpKTtmb3IodmFyIGsgaW4gYyl7dmFyIGU9dGhpcy5lZGl0b3IuZ2V0TWVudUl0ZW0oayk7ZSYmKGUuc3RhdGU9Y1trXSxiLmFkZChlKSl9dmFyIGo9dGhpcy5fLnBhbmVsLmdldEJsb2NrKHRoaXMuaWQpLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuaWQrKCIiK2EpKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zaG93KGosCjIpfSwwKX1lbHNlIHRoaXMuXy5wYW5lbC5oaWRlQ2hpbGQoMSl9fSxwcm90bzp7YWRkOmZ1bmN0aW9uKGEpe2Eub3JkZXJ8fChhLm9yZGVyPXRoaXMuaXRlbXMubGVuZ3RoKTt0aGlzLml0ZW1zLnB1c2goYSl9LHJlbW92ZUFsbDpmdW5jdGlvbigpe3RoaXMuaXRlbXM9W119LHNob3c6ZnVuY3Rpb24oYSxiLGMsayl7aWYoIXRoaXMucGFyZW50JiYodGhpcy5fLm9uU2hvdygpLCF0aGlzLml0ZW1zLmxlbmd0aCkpcmV0dXJuO3ZhciBiPWJ8fCgicnRsIj09dGhpcy5lZGl0b3IubGFuZy5kaXI\/MjoxKSxlPXRoaXMuaXRlbXMsaj10aGlzLmVkaXRvcixpPXRoaXMuXy5wYW5lbCxmPXRoaXMuXy5lbGVtZW50O2lmKCFpKXtpPXRoaXMuXy5wYW5lbD1uZXcgQ0tFRElUT1IudWkuZmxvYXRQYW5lbCh0aGlzLmVkaXRvcixDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCksdGhpcy5fLnBhbmVsRGVmaW5pdGlvbix0aGlzLl8ubGV2ZWwpO2kub25Fc2NhcGU9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbihhKXtpZighMT09PQp0aGlzLl8ub25Fc2NhcGUoYSkpcmV0dXJuITF9LHRoaXMpO2kub25TaG93PWZ1bmN0aW9uKCl7aS5fLnBhbmVsLmdldEhvbGRlckVsZW1lbnQoKS5nZXRQYXJlbnQoKS5hZGRDbGFzcygiY2tlIGNrZV9yZXNldF9hbGwiKX07aS5vbkhpZGU9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe3RoaXMuXy5vbkhpZGUmJnRoaXMuXy5vbkhpZGUoKX0sdGhpcyk7Zj1pLmFkZEJsb2NrKHRoaXMuaWQsdGhpcy5fLnBhbmVsRGVmaW5pdGlvbi5ibG9jayk7Zi5hdXRvU2l6ZT0hMDt2YXIgZD1mLmtleXM7ZFs0MF09Im5leHQiO2RbOV09Im5leHQiO2RbMzhdPSJwcmV2IjtkW0NLRURJVE9SLlNISUZUKzldPSJwcmV2IjtkWyJydGwiPT1qLmxhbmcuZGlyPzM3OjM5XT1DS0VESVRPUi5lbnYuaWU\/Im1vdXNldXAiOiJjbGljayI7ZFszMl09Q0tFRElUT1IuZW52LmllPyJtb3VzZXVwIjoiY2xpY2siO0NLRURJVE9SLmVudi5pZSYmKGRbMTNdPSJtb3VzZXVwIik7Zj10aGlzLl8uZWxlbWVudD0KZi5lbGVtZW50O2Q9Zi5nZXREb2N1bWVudCgpO2QuZ2V0Qm9keSgpLnNldFN0eWxlKCJvdmVyZmxvdyIsImhpZGRlbiIpO2QuZ2V0RWxlbWVudHNCeVRhZygiaHRtbCIpLmdldEl0ZW0oMCkuc2V0U3R5bGUoIm92ZXJmbG93IiwiaGlkZGVuIik7dGhpcy5fLml0ZW1PdmVyRm49Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KHRoaXMuXy5zaG93U3ViVGltZW91dCk7dGhpcy5fLnNob3dTdWJUaW1lb3V0PUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQodGhpcy5fLnNob3dTdWJNZW51LGouY29uZmlnLm1lbnVfc3ViTWVudURlbGF5fHw0MDAsdGhpcyxbYV0pfSx0aGlzKTt0aGlzLl8uaXRlbU91dEZuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuXy5zaG93U3ViVGltZW91dCl9LHRoaXMpO3RoaXMuXy5pdGVtQ2xpY2tGbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXt2YXIgYj0KdGhpcy5pdGVtc1thXTtpZihiLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl0aGlzLmhpZGUoMSk7ZWxzZSBpZihiLmdldEl0ZW1zKXRoaXMuXy5zaG93U3ViTWVudShhKTtlbHNlIHRoaXMuXy5vbkNsaWNrKGIpfSx0aGlzKX1nKGUpO2Zvcih2YXIgZD1qLmVsZW1lbnRQYXRoKCksZD1bJzxkaXYgY2xhc3M9ImNrZV9tZW51JysoZCYmZC5kaXJlY3Rpb24oKSE9ai5sYW5nLmRpcj8iIGNrZV9taXhlZF9kaXJfY29udGVudCI6IiIpKyciIHJvbGU9InByZXNlbnRhdGlvbiI+J10saD1lLmxlbmd0aCxtPWgmJmVbMF0uZ3JvdXAsbD0wO2w8aDtsKyspe3ZhciBuPWVbbF07bSE9bi5ncm91cCYmKGQucHVzaCgnPGRpdiBjbGFzcz0iY2tlX21lbnVzZXBhcmF0b3IiIHJvbGU9InNlcGFyYXRvciI+PC9kaXY+JyksbT1uLmdyb3VwKTtuLnJlbmRlcih0aGlzLGwsZCl9ZC5wdXNoKCI8L2Rpdj4iKTtmLnNldEh0bWwoZC5qb2luKCIiKSk7Q0tFRElUT1IudWkuZmlyZSgicmVhZHkiLAp0aGlzKTt0aGlzLnBhcmVudD90aGlzLnBhcmVudC5fLnBhbmVsLnNob3dBc0NoaWxkKGksdGhpcy5pZCxhLGIsYyxrKTppLnNob3dCbG9jayh0aGlzLmlkLGEsYixjLGspO2ouZmlyZSgibWVudVNob3ciLFtpXSl9LGFkZExpc3RlbmVyOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0ZW5lcnMucHVzaChhKX0saGlkZTpmdW5jdGlvbihhKXt0aGlzLl8ub25IaWRlJiZ0aGlzLl8ub25IaWRlKCk7dGhpcy5fLnBhbmVsJiZ0aGlzLl8ucGFuZWwuaGlkZShhKX19fSk7Q0tFRElUT1IubWVudUl0ZW09Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSxiLGMpe0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGMse29yZGVyOjAsY2xhc3NOYW1lOiJja2VfbWVudWJ1dHRvbl9fIitifSk7dGhpcy5ncm91cD1hLl8ubWVudUdyb3Vwc1t0aGlzLmdyb3VwXTt0aGlzLmVkaXRvcj1hO3RoaXMubmFtZT1ifSxwcm90bzp7cmVuZGVyOmZ1bmN0aW9uKGEsYixjKXt2YXIgaD1hLmlkKygiIisKYiksZT0idW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuc3RhdGU\/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOnRoaXMuc3RhdGUsaj0iIixpPWU9PUNLRURJVE9SLlRSSVNUQVRFX09OPyJvbiI6ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ\/ImRpc2FibGVkIjoib2ZmIjt0aGlzLnJvbGUgaW57bWVudWl0ZW1jaGVja2JveDoxLG1lbnVpdGVtcmFkaW86MX0mJihqPScgYXJpYS1jaGVja2VkPSInKyhlPT1DS0VESVRPUi5UUklTVEFURV9PTj8idHJ1ZSI6ImZhbHNlIikrJyInKTt2YXIgZj10aGlzLmdldEl0ZW1zLGQ9IiYjIisoInJ0bCI9PXRoaXMuZWRpdG9yLmxhbmcuZGlyPyI5NjY4IjoiOTY1OCIpKyI7IixnPXRoaXMubmFtZTt0aGlzLmljb24mJiEvXC4vLnRlc3QodGhpcy5pY29uKSYmKGc9dGhpcy5pY29uKTthPXtpZDpoLG5hbWU6dGhpcy5uYW1lLGljb25OYW1lOmcsbGFiZWw6dGhpcy5sYWJlbCxjbHM6dGhpcy5jbGFzc05hbWV8fCIiLHN0YXRlOmksaGFzUG9wdXA6Zj8idHJ1ZSI6CiJmYWxzZSIsZGlzYWJsZWQ6ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsdGl0bGU6dGhpcy5sYWJlbCxocmVmOiJqYXZhc2NyaXB0OnZvaWQoJyIrKHRoaXMubGFiZWx8fCIiKS5yZXBsYWNlKCInIikrIicpIixob3ZlckZuOmEuXy5pdGVtT3ZlckZuLG1vdmVPdXRGbjphLl8uaXRlbU91dEZuLGNsaWNrRm46YS5fLml0ZW1DbGlja0ZuLGluZGV4OmIsaWNvblN0eWxlOkNLRURJVE9SLnNraW4uZ2V0SWNvblN0eWxlKGcsInJ0bCI9PXRoaXMuZWRpdG9yLmxhbmcuZGlyLGc9PXRoaXMuaWNvbj9udWxsOnRoaXMuaWNvbix0aGlzLmljb25PZmZzZXQpLGFycm93SHRtbDpmP2wub3V0cHV0KHtsYWJlbDpkfSk6IiIscm9sZTp0aGlzLnJvbGU\/dGhpcy5yb2xlOiJtZW51aXRlbSIsYXJpYUNoZWNrZWQ6an07bS5vdXRwdXQoYSxjKX19fSl9KSgpO0NLRURJVE9SLmNvbmZpZy5tZW51X2dyb3Vwcz0iY2xpcGJvYXJkLGZvcm0sdGFibGVjZWxsLHRhYmxlY2VsbHByb3BlcnRpZXMsdGFibGVyb3csdGFibGVjb2x1bW4sdGFibGUsYW5jaG9yLGxpbmssaW1hZ2UsZmxhc2gsY2hlY2tib3gscmFkaW8sdGV4dGZpZWxkLGhpZGRlbmZpZWxkLGltYWdlYnV0dG9uLGJ1dHRvbixzZWxlY3QsdGV4dGFyZWEsZGl2IjtDS0VESVRPUi5wbHVnaW5zLmFkZCgiY29udGV4dG1lbnUiLHtyZXF1aXJlczoibWVudSIsb25Mb2FkOmZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5jb250ZXh0TWVudT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi5tZW51LCQ6ZnVuY3Rpb24oYSl7dGhpcy5iYXNlLmNhbGwodGhpcyxhLHtwYW5lbDp7Y2xhc3NOYW1lOiJja2VfbWVudV9wYW5lbCIsYXR0cmlidXRlczp7ImFyaWEtbGFiZWwiOmEubGFuZy5jb250ZXh0bWVudS5vcHRpb25zfX19KX0scHJvdG86e2FkZFRhcmdldDpmdW5jdGlvbihhLGMpe2Eub24oImNvbnRleHRtZW51IixmdW5jdGlvbihhKXt2YXIgYT1hLmRhdGEsYj1DS0VESVRPUi5lbnYud2Via2l0P2Q6Q0tFRElUT1IuZW52Lm1hYz9hLiQubWV0YUtleTphLiQuY3RybEtleTtpZighY3x8IWIpe2EucHJldmVudERlZmF1bHQoKTt2YXIgZT1hLmdldFRhcmdldCgpLmdldERvY3VtZW50KCksZj1hLmdldFRhcmdldCgpLmdldERvY3VtZW50KCkuZ2V0RG9jdW1lbnRFbGVtZW50KCksCmI9IWUuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50KSxlPWUuZ2V0V2luZG93KCkuZ2V0U2Nyb2xsUG9zaXRpb24oKSxnPWI\/YS4kLmNsaWVudFg6YS4kLnBhZ2VYfHxlLngrYS4kLmNsaWVudFgsaD1iP2EuJC5jbGllbnRZOmEuJC5wYWdlWXx8ZS55K2EuJC5jbGllbnRZO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLm9wZW4oZixudWxsLGcsaCl9LENLRURJVE9SLmVudi5pZT8yMDA6MCx0aGlzKX19LHRoaXMpO2lmKENLRURJVE9SLmVudi53ZWJraXQpe3ZhciBkLGI9ZnVuY3Rpb24oKXtkPTB9O2Eub24oImtleWRvd24iLGZ1bmN0aW9uKGEpe2Q9Q0tFRElUT1IuZW52Lm1hYz9hLmRhdGEuJC5tZXRhS2V5OmEuZGF0YS4kLmN0cmxLZXl9KTthLm9uKCJrZXl1cCIsYik7YS5vbigiY29udGV4dG1lbnUiLGIpfX0sb3BlbjpmdW5jdGlvbihhLGMsZCxiKXt0aGlzLmVkaXRvci5mb2N1cygpO2E9YXx8Q0tFRElUT1IuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCk7CnRoaXMuZWRpdG9yLnNlbGVjdGlvbkNoYW5nZSgxKTt0aGlzLnNob3coYSxjLGQsYil9fX0pfSxiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe3ZhciBjPWEuY29udGV4dE1lbnU9bmV3IENLRURJVE9SLnBsdWdpbnMuY29udGV4dE1lbnUoYSk7YS5vbigiY29udGVudERvbSIsZnVuY3Rpb24oKXtjLmFkZFRhcmdldChhLmVkaXRhYmxlKCksITEhPT1hLmNvbmZpZy5icm93c2VyQ29udGV4dE1lbnVPbkN0cmwpfSk7YS5hZGRDb21tYW5kKCJjb250ZXh0TWVudSIse2V4ZWM6ZnVuY3Rpb24oKXthLmNvbnRleHRNZW51Lm9wZW4oYS5kb2N1bWVudC5nZXRCb2R5KCkpfX0pO2Euc2V0S2V5c3Ryb2tlKENLRURJVE9SLlNISUZUKzEyMSwiY29udGV4dE1lbnUiKTthLnNldEtleXN0cm9rZShDS0VESVRPUi5DVFJMK0NLRURJVE9SLlNISUZUKzEyMSwiY29udGV4dE1lbnUiKX19KTtDS0VESVRPUi5wbHVnaW5zLmFkZCgicmVzaXplIix7aW5pdDpmdW5jdGlvbihiKXt2YXIgZixnLG4sbyxhPWIuY29uZmlnLHE9Yi51aS5zcGFjZUlkKCJyZXNpemVyIiksaD1iLmVsZW1lbnQ\/Yi5lbGVtZW50LmdldERpcmVjdGlvbigxKToibHRyIjshYS5yZXNpemVfZGlyJiYoYS5yZXNpemVfZGlyPSJ2ZXJ0aWNhbCIpO3ZvaWQgMD09YS5yZXNpemVfbWF4V2lkdGgmJihhLnJlc2l6ZV9tYXhXaWR0aD0zRTMpO3ZvaWQgMD09YS5yZXNpemVfbWF4SGVpZ2h0JiYoYS5yZXNpemVfbWF4SGVpZ2h0PTNFMyk7dm9pZCAwPT1hLnJlc2l6ZV9taW5XaWR0aCYmKGEucmVzaXplX21pbldpZHRoPTc1MCk7dm9pZCAwPT1hLnJlc2l6ZV9taW5IZWlnaHQmJihhLnJlc2l6ZV9taW5IZWlnaHQ9MjUwKTtpZighMSE9PWEucmVzaXplX2VuYWJsZWQpe3ZhciBjPW51bGwsaT0oImJvdGgiPT1hLnJlc2l6ZV9kaXJ8fCJob3Jpem9udGFsIj09YS5yZXNpemVfZGlyKSYmYS5yZXNpemVfbWluV2lkdGghPWEucmVzaXplX21heFdpZHRoLApsPSgiYm90aCI9PWEucmVzaXplX2Rpcnx8InZlcnRpY2FsIj09YS5yZXNpemVfZGlyKSYmYS5yZXNpemVfbWluSGVpZ2h0IT1hLnJlc2l6ZV9tYXhIZWlnaHQsaj1mdW5jdGlvbihkKXt2YXIgZT1mLG09ZyxjPWUrKGQuZGF0YS4kLnNjcmVlblgtbikqKCJydGwiPT1oPy0xOjEpLGQ9bSsoZC5kYXRhLiQuc2NyZWVuWS1vKTtpJiYoZT1NYXRoLm1heChhLnJlc2l6ZV9taW5XaWR0aCxNYXRoLm1pbihjLGEucmVzaXplX21heFdpZHRoKSkpO2wmJihtPU1hdGgubWF4KGEucmVzaXplX21pbkhlaWdodCxNYXRoLm1pbihkLGEucmVzaXplX21heEhlaWdodCkpKTtiLnJlc2l6ZShpP2U6bnVsbCxtKX0saz1mdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKCJtb3VzZW1vdmUiLGopO0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKCJtb3VzZXVwIixrKTtiLmRvY3VtZW50JiYoYi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcigibW91c2Vtb3ZlIixqKSxiLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKCJtb3VzZXVwIiwKaykpfSxwPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGQpe2N8fChjPWIuZ2V0UmVzaXphYmxlKCkpO2Y9Yy4kLm9mZnNldFdpZHRofHwwO2c9Yy4kLm9mZnNldEhlaWdodHx8MDtuPWQuc2NyZWVuWDtvPWQuc2NyZWVuWTthLnJlc2l6ZV9taW5XaWR0aD5mJiYoYS5yZXNpemVfbWluV2lkdGg9Zik7YS5yZXNpemVfbWluSGVpZ2h0PmcmJihhLnJlc2l6ZV9taW5IZWlnaHQ9Zyk7Q0tFRElUT1IuZG9jdW1lbnQub24oIm1vdXNlbW92ZSIsaik7Q0tFRElUT1IuZG9jdW1lbnQub24oIm1vdXNldXAiLGspO2IuZG9jdW1lbnQmJihiLmRvY3VtZW50Lm9uKCJtb3VzZW1vdmUiLGopLGIuZG9jdW1lbnQub24oIm1vdXNldXAiLGspKTtkLnByZXZlbnREZWZhdWx0JiZkLnByZXZlbnREZWZhdWx0KCl9KTtiLm9uKCJkZXN0cm95IixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKHApfSk7Yi5vbigidWlTcGFjZSIsZnVuY3Rpb24oYSl7aWYoImJvdHRvbSI9PQphLmRhdGEuc3BhY2Upe3ZhciBlPSIiO2kmJiFsJiYoZT0iIGNrZV9yZXNpemVyX2hvcml6b250YWwiKTshaSYmbCYmKGU9IiBja2VfcmVzaXplcl92ZXJ0aWNhbCIpO3ZhciBjPSc8c3BhbiBpZD0iJytxKyciIGNsYXNzPSJja2VfcmVzaXplcicrZSsiIGNrZV9yZXNpemVyXyIraCsnIiB0aXRsZT0iJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGIubGFuZy5jb21tb24ucmVzaXplKSsnIiBvbm1vdXNlZG93bj0iQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCcrcCsnLCBldmVudCkiPicrKCJsdHIiPT1oPyLil6IiOiLil6MiKSsiPC9zcGFuPiI7Imx0ciI9PWgmJiJsdHIiPT1lP2EuZGF0YS5odG1sKz1jOmEuZGF0YS5odG1sPWMrYS5kYXRhLmh0bWx9fSxiLG51bGwsMTAwKTtiLm9uKCJtYXhpbWl6ZSIsZnVuY3Rpb24oYSl7Yi51aS5zcGFjZSgicmVzaXplciIpW2EuZGF0YT09Q0tFRElUT1IuVFJJU1RBVEVfT04\/ImhpZGUiOiJzaG93Il0oKX0pfX19KTsoZnVuY3Rpb24oKXt2YXIgYz0nPGEgaWQ9IntpZH0iIGNsYXNzPSJja2VfYnV0dG9uIGNrZV9idXR0b25fX3tuYW1lfSBja2VfYnV0dG9uX3tzdGF0ZX0ge2Nsc30iJysoQ0tFRElUT1IuZW52LmdlY2tvJiYxMDkwMDw9Q0tFRElUT1IuZW52LnZlcnNpb24mJiFDS0VESVRPUi5lbnYuaGM\/IiI6IiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKCd7dGl0bGVKc30nKVwiIikrJyB0aXRsZT0ie3RpdGxlfSIgdGFiaW5kZXg9Ii0xIiBoaWRlZm9jdXM9InRydWUiIHJvbGU9ImJ1dHRvbiIgYXJpYS1sYWJlbGxlZGJ5PSJ7aWR9X2xhYmVsIiBhcmlhLWhhc3BvcHVwPSJ7aGFzQXJyb3d9IiBhcmlhLWRpc2FibGVkPSJ7YXJpYURpc2FibGVkfSInO2lmKENLRURJVE9SLmVudi5vcGVyYXx8Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjKWMrPScgb25rZXlwcmVzcz0icmV0dXJuIGZhbHNlOyInO0NLRURJVE9SLmVudi5nZWNrbyYmKGMrPScgb25ibHVyPSJ0aGlzLnN0eWxlLmNzc1RleHQgPSB0aGlzLnN0eWxlLmNzc1RleHQ7IicpOwp2YXIgYz1jKygnIG9ua2V5ZG93bj0icmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7a2V5ZG93bkZufSxldmVudCk7IiBvbmZvY3VzPSJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtmb2N1c0ZufSxldmVudCk7IiAgb25tb3VzZWRvd249InJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe21vdXNlZG93bkZufSxldmVudCk7IiAnKyhDS0VESVRPUi5lbnYuaWU\/J29uY2xpY2s9InJldHVybiBmYWxzZTsiIG9ubW91c2V1cCc6Im9uY2xpY2siKSsnPSJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHRoaXMpO3JldHVybiBmYWxzZTsiPjxzcGFuIGNsYXNzPSJja2VfYnV0dG9uX2ljb24gY2tlX2J1dHRvbl9fe2ljb25OYW1lfV9pY29uIiBzdHlsZT0ie3N0eWxlfSInKSxjPWMrJz4mbmJzcDs8L3NwYW4+PHNwYW4gaWQ9IntpZH1fbGFiZWwiIGNsYXNzPSJja2VfYnV0dG9uX2xhYmVsIGNrZV9idXR0b25fX3tuYW1lfV9sYWJlbCIgYXJpYS1oaWRkZW49ImZhbHNlIj57bGFiZWx9PC9zcGFuPnthcnJvd0h0bWx9PC9hPicsCm09Q0tFRElUT1IuYWRkVGVtcGxhdGUoImJ1dHRvbkFycm93IiwnPHNwYW4gY2xhc3M9ImNrZV9idXR0b25fYXJyb3ciPicrKENLRURJVE9SLmVudi5oYz8iJiM5NjYwOyI6IiIpKyI8L3NwYW4+Iiksbj1DS0VESVRPUi5hZGRUZW1wbGF0ZSgiYnV0dG9uIixjKTtDS0VESVRPUi5wbHVnaW5zLmFkZCgiYnV0dG9uIix7YmVmb3JlSW5pdDpmdW5jdGlvbihhKXthLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfQlVUVE9OLENLRURJVE9SLnVpLmJ1dHRvbi5oYW5kbGVyKX19KTtDS0VESVRPUi5VSV9CVVRUT049ImJ1dHRvbiI7Q0tFRElUT1IudWkuYnV0dG9uPWZ1bmN0aW9uKGEpe0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGEse3RpdGxlOmEubGFiZWwsY2xpY2s6YS5jbGlja3x8ZnVuY3Rpb24oYil7Yi5leGVjQ29tbWFuZChhLmNvbW1hbmQpfX0pO3RoaXMuXz17fX07Q0tFRElUT1IudWkuYnV0dG9uLmhhbmRsZXI9e2NyZWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLmJ1dHRvbihhKX19OwpDS0VESVRPUi51aS5idXR0b24ucHJvdG90eXBlPXtyZW5kZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1DS0VESVRPUi5lbnYsaT10aGlzLl8uaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksZj0iIixlPXRoaXMuY29tbWFuZCxsO3RoaXMuXy5lZGl0b3I9YTt2YXIgZD17aWQ6aSxidXR0b246dGhpcyxlZGl0b3I6YSxmb2N1czpmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoaSkuZm9jdXMoKX0sZXhlY3V0ZTpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmNsaWNrKGEpfSxhdHRhY2g6ZnVuY3Rpb24oYSl7dGhpcy5idXR0b24uYXR0YWNoKGEpfX0sbz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXtpZihkLm9ua2V5KXJldHVybiBhPW5ldyBDS0VESVRPUi5kb20uZXZlbnQoYSksITEhPT1kLm9ua2V5KGQsYS5nZXRLZXlzdHJva2UoKSl9KSxwPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGEpe3ZhciBiO2Qub25mb2N1cyYmKGI9CiExIT09ZC5vbmZvY3VzKGQsbmV3IENLRURJVE9SLmRvbS5ldmVudChhKSkpO0NLRURJVE9SLmVudi5nZWNrbyYmMTA5MDA+Q0tFRElUT1IuZW52LnZlcnNpb24mJmEucHJldmVudEJ1YmJsZSgpO3JldHVybiBifSksaj0wLHE9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXtpZihDS0VESVRPUi5lbnYub3BlcmEpe3ZhciBiPWEuZWRpdGFibGUoKTtiLmlzSW5saW5lKCkmJmIuaGFzRm9jdXMmJihhLmxvY2tTZWxlY3Rpb24oKSxqPTEpfX0pO2QuY2xpY2tGbj1sPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7aiYmKGEudW5sb2NrU2VsZWN0aW9uKDEpLGo9MCk7ZC5leGVjdXRlKCl9KTtpZih0aGlzLm1vZGVzKXt2YXIgaz17fSxnPWZ1bmN0aW9uKCl7dmFyIGI9YS5tb2RlO2ImJihiPXRoaXMubW9kZXNbYl0\/dm9pZCAwIT1rW2JdP2tbYl06Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELGI9YS5yZWFkT25seSYmCiF0aGlzLnJlYWRPbmx5P0NLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEOmIsdGhpcy5zZXRTdGF0ZShiKSx0aGlzLnJlZnJlc2gmJnRoaXMucmVmcmVzaCgpKX07YS5vbigiYmVmb3JlTW9kZVVubG9hZCIsZnVuY3Rpb24oKXthLm1vZGUmJnRoaXMuXy5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJihrW2EubW9kZV09dGhpcy5fLnN0YXRlKX0sdGhpcyk7YS5vbigiYWN0aXZlRmlsdGVyQ2hhbmdlIixnLHRoaXMpO2Eub24oIm1vZGUiLGcsdGhpcyk7IXRoaXMucmVhZE9ubHkmJmEub24oInJlYWRPbmx5IixnLHRoaXMpfWVsc2UgaWYoZSYmKGU9YS5nZXRDb21tYW5kKGUpKSllLm9uKCJzdGF0ZSIsZnVuY3Rpb24oKXt0aGlzLnNldFN0YXRlKGUuc3RhdGUpfSx0aGlzKSxmKz1lLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTj8ib24iOmUuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEPyJkaXNhYmxlZCI6Im9mZiI7aWYodGhpcy5kaXJlY3Rpb25hbClhLm9uKCJjb250ZW50RGlyQ2hhbmdlZCIsCmZ1bmN0aW9uKGIpe3ZhciBjPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmlkKSxkPWMuZ2V0Rmlyc3QoKSxiPWIuZGF0YTtiIT1hLmxhbmcuZGlyP2MuYWRkQ2xhc3MoImNrZV8iK2IpOmMucmVtb3ZlQ2xhc3MoImNrZV9sdHIiKS5yZW1vdmVDbGFzcygiY2tlX3J0bCIpO2Quc2V0QXR0cmlidXRlKCJzdHlsZSIsQ0tFRElUT1Iuc2tpbi5nZXRJY29uU3R5bGUoaCwicnRsIj09Yix0aGlzLmljb24sdGhpcy5pY29uT2Zmc2V0KSl9LHRoaXMpO2V8fChmKz0ib2ZmIik7dmFyIGg9Zz10aGlzLm5hbWV8fHRoaXMuY29tbWFuZDt0aGlzLmljb24mJiEvXC4vLnRlc3QodGhpcy5pY29uKSYmKGg9dGhpcy5pY29uLHRoaXMuaWNvbj1udWxsKTtjPXtpZDppLG5hbWU6ZyxpY29uTmFtZTpoLGxhYmVsOnRoaXMubGFiZWwsY2xzOnRoaXMuY2xhc3NOYW1lfHwiIixzdGF0ZTpmLGFyaWFEaXNhYmxlZDoiZGlzYWJsZWQiPT1mPyJ0cnVlIjoiZmFsc2UiLHRpdGxlOnRoaXMudGl0bGUsdGl0bGVKczpjLmdlY2tvJiYKMTA5MDA8PWMudmVyc2lvbiYmIWMuaGM\/IiI6KHRoaXMudGl0bGV8fCIiKS5yZXBsYWNlKCInIiwiIiksaGFzQXJyb3c6dGhpcy5oYXNBcnJvdz8idHJ1ZSI6ImZhbHNlIixrZXlkb3duRm46byxtb3VzZWRvd25GbjpxLGZvY3VzRm46cCxjbGlja0ZuOmwsc3R5bGU6Q0tFRElUT1Iuc2tpbi5nZXRJY29uU3R5bGUoaCwicnRsIj09YS5sYW5nLmRpcix0aGlzLmljb24sdGhpcy5pY29uT2Zmc2V0KSxhcnJvd0h0bWw6dGhpcy5oYXNBcnJvdz9tLm91dHB1dCgpOiIifTtuLm91dHB1dChjLGIpO2lmKHRoaXMub25SZW5kZXIpdGhpcy5vblJlbmRlcigpO3JldHVybiBkfSxzZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uc3RhdGU9PWEpcmV0dXJuITE7dGhpcy5fLnN0YXRlPWE7dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8uaWQpO3JldHVybiBiPyhiLnNldFN0YXRlKGEsImNrZV9idXR0b24iKSxhPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9iLnNldEF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIsCiEwKTpiLnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIpLGE9PUNLRURJVE9SLlRSSVNUQVRFX09OP2Iuc2V0QXR0cmlidXRlKCJhcmlhLXByZXNzZWQiLCEwKTpiLnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1wcmVzc2VkIiksITApOiExfSxnZXRTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uc3RhdGV9LHRvRmVhdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uZmVhdHVyZSlyZXR1cm4gdGhpcy5fLmZlYXR1cmU7dmFyIGI9dGhpczshdGhpcy5hbGxvd2VkQ29udGVudCYmKCF0aGlzLnJlcXVpcmVkQ29udGVudCYmdGhpcy5jb21tYW5kKSYmKGI9YS5nZXRDb21tYW5kKHRoaXMuY29tbWFuZCl8fGIpO3JldHVybiB0aGlzLl8uZmVhdHVyZT1ifX07Q0tFRElUT1IudWkucHJvdG90eXBlLmFkZEJ1dHRvbj1mdW5jdGlvbihhLGIpe3RoaXMuYWRkKGEsQ0tFRElUT1IuVUlfQlVUVE9OLGIpfX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdyhhKXtmdW5jdGlvbiBkKCl7Zm9yKHZhciBiPWcoKSxlPUNLRURJVE9SLnRvb2xzLmNsb25lKGEuY29uZmlnLnRvb2xiYXJHcm91cHMpfHxuKGEpLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGs9ZVtmXTtpZigiLyIhPWspeyJzdHJpbmciPT10eXBlb2YgayYmKGs9ZVtmXT17bmFtZTprfSk7dmFyIGksZD1rLmdyb3VwcztpZihkKWZvcih2YXIgaD0wO2g8ZC5sZW5ndGg7aCsrKWk9ZFtoXSwoaT1iW2ldKSYmYyhrLGkpOyhpPWJbay5uYW1lXSkmJmMoayxpKX19cmV0dXJuIGV9ZnVuY3Rpb24gZygpe3ZhciBiPXt9LGMsZixlO2ZvcihjIGluIGEudWkuaXRlbXMpZj1hLnVpLml0ZW1zW2NdLGU9Zi50b29sYmFyfHwib3RoZXJzIixlPWUuc3BsaXQoIiwiKSxmPWVbMF0sZT1wYXJzZUludChlWzFdfHwtMSwxMCksYltmXXx8KGJbZl09W10pLGJbZl0ucHVzaCh7bmFtZTpjLG9yZGVyOmV9KTtmb3IoZiBpbiBiKWJbZl09YltmXS5zb3J0KGZ1bmN0aW9uKGIsCmEpe3JldHVybiBiLm9yZGVyPT1hLm9yZGVyPzA6MD5hLm9yZGVyPy0xOjA+Yi5vcmRlcj8xOmIub3JkZXI8YS5vcmRlcj8tMToxfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gYyhjLGUpe2lmKGUubGVuZ3RoKXtjLml0ZW1zP2MuaXRlbXMucHVzaChhLnVpLmNyZWF0ZSgiLSIpKTpjLml0ZW1zPVtdO2Zvcih2YXIgZjtmPWUuc2hpZnQoKTspaWYoZj0ic3RyaW5nIj09dHlwZW9mIGY\/ZjpmLm5hbWUsIWJ8fC0xPT1DS0VESVRPUi50b29scy5pbmRleE9mKGIsZikpKGY9YS51aS5jcmVhdGUoZikpJiZhLmFkZEZlYXR1cmUoZikmJmMuaXRlbXMucHVzaChmKX19ZnVuY3Rpb24gaChiKXt2YXIgYT1bXSxlLGQsaDtmb3IoZT0wO2U8Yi5sZW5ndGg7KytlKWQ9YltlXSxoPXt9LCIvIj09ZD9hLnB1c2goZCk6Q0tFRElUT1IudG9vbHMuaXNBcnJheShkKT8oYyhoLENLRURJVE9SLnRvb2xzLmNsb25lKGQpKSxhLnB1c2goaCkpOmQuaXRlbXMmJihjKGgsQ0tFRElUT1IudG9vbHMuY2xvbmUoZC5pdGVtcykpLApoLm5hbWU9ZC5uYW1lLGEucHVzaChoKSk7cmV0dXJuIGF9dmFyIGI9YS5jb25maWcucmVtb3ZlQnV0dG9ucyxiPWImJmIuc3BsaXQoIiwiKSxlPWEuY29uZmlnLnRvb2xiYXI7InN0cmluZyI9PXR5cGVvZiBlJiYoZT1hLmNvbmZpZ1sidG9vbGJhcl8iK2VdKTtyZXR1cm4gYS50b29sYmFyPWU\/aChlKTpkKCl9ZnVuY3Rpb24gbihhKXtyZXR1cm4gYS5fLnRvb2xiYXJHcm91cHN8fChhLl8udG9vbGJhckdyb3Vwcz1be25hbWU6ImRvY3VtZW50Iixncm91cHM6WyJtb2RlIiwiZG9jdW1lbnQiLCJkb2N0b29scyJdfSx7bmFtZToiY2xpcGJvYXJkIixncm91cHM6WyJjbGlwYm9hcmQiLCJ1bmRvIl19LHtuYW1lOiJlZGl0aW5nIixncm91cHM6WyJmaW5kIiwic2VsZWN0aW9uIiwic3BlbGxjaGVja2VyIl19LHtuYW1lOiJmb3JtcyJ9LCIvIix7bmFtZToiYmFzaWNzdHlsZXMiLGdyb3VwczpbImJhc2ljc3R5bGVzIiwiY2xlYW51cCJdfSx7bmFtZToicGFyYWdyYXBoIixncm91cHM6WyJsaXN0IiwKImluZGVudCIsImJsb2NrcyIsImFsaWduIiwiYmlkaSJdfSx7bmFtZToibGlua3MifSx7bmFtZToiaW5zZXJ0In0sIi8iLHtuYW1lOiJzdHlsZXMifSx7bmFtZToiY29sb3JzIn0se25hbWU6InRvb2xzIn0se25hbWU6Im90aGVycyJ9LHtuYW1lOiJhYm91dCJ9XSl9dmFyIHU9ZnVuY3Rpb24oKXt0aGlzLnRvb2xiYXJzPVtdO3RoaXMuZm9jdXNDb21tYW5kRXhlY3V0ZWQ9ITF9O3UucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsZDtkPXRoaXMudG9vbGJhcnNbYSsrXTspZm9yKHZhciBnPTAsYztjPWQuaXRlbXNbZysrXTspaWYoYy5mb2N1cyl7Yy5mb2N1cygpO3JldHVybn19O3ZhciB4PXttb2Rlczp7d3lzaXd5ZzoxLHNvdXJjZToxfSxyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYSl7YS50b29sYm94JiYoYS50b29sYm94LmZvY3VzQ29tbWFuZEV4ZWN1dGVkPSEwLENLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LmFpcj9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS50b29sYm94LmZvY3VzKCl9LAoxMDApOmEudG9vbGJveC5mb2N1cygpKX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKCJ0b29sYmFyIix7cmVxdWlyZXM6ImJ1dHRvbiIsaW5pdDpmdW5jdGlvbihhKXt2YXIgZCxnPWZ1bmN0aW9uKGMsaCl7dmFyIGIsZT0icnRsIj09YS5sYW5nLmRpcixqPWEuY29uZmlnLnRvb2xiYXJHcm91cEN5Y2xpbmcsbz1lPzM3OjM5LGU9ZT8zOTozNyxqPXZvaWQgMD09PWp8fGo7c3dpdGNoKGgpe2Nhc2UgOTpjYXNlIENLRURJVE9SLlNISUZUKzk6Zm9yKDshYnx8IWIuaXRlbXMubGVuZ3RoOylpZihiPTk9PWg\/KGI\/Yi5uZXh0OmMudG9vbGJhci5uZXh0KXx8YS50b29sYm94LnRvb2xiYXJzWzBdOihiP2IucHJldmlvdXM6Yy50b29sYmFyLnByZXZpb3VzKXx8YS50b29sYm94LnRvb2xiYXJzW2EudG9vbGJveC50b29sYmFycy5sZW5ndGgtMV0sYi5pdGVtcy5sZW5ndGgpZm9yKGM9Yi5pdGVtc1tkP2IuaXRlbXMubGVuZ3RoLTE6MF07YyYmIWMuZm9jdXM7KShjPWQ\/Yy5wcmV2aW91czpjLm5leHQpfHwKKGI9MCk7YyYmYy5mb2N1cygpO3JldHVybiExO2Nhc2UgbzpiPWM7ZG8gYj1iLm5leHQsIWImJmomJihiPWMudG9vbGJhci5pdGVtc1swXSk7d2hpbGUoYiYmIWIuZm9jdXMpO2I\/Yi5mb2N1cygpOmcoYyw5KTtyZXR1cm4hMTtjYXNlIDQwOnJldHVybiBjLmJ1dHRvbiYmYy5idXR0b24uaGFzQXJyb3c\/KGEub25jZSgicGFuZWxTaG93IixmdW5jdGlvbihiKXtiLmRhdGEuXy5wYW5lbC5fLmN1cnJlbnRCbG9jay5vbktleURvd24oNDApfSksYy5leGVjdXRlKCkpOmcoYyw0MD09aD9vOmUpLCExO2Nhc2UgZTpjYXNlIDM4OmI9YztkbyBiPWIucHJldmlvdXMsIWImJmomJihiPWMudG9vbGJhci5pdGVtc1tjLnRvb2xiYXIuaXRlbXMubGVuZ3RoLTFdKTt3aGlsZShiJiYhYi5mb2N1cyk7Yj9iLmZvY3VzKCk6KGQ9MSxnKGMsQ0tFRElUT1IuU0hJRlQrOSksZD0wKTtyZXR1cm4hMTtjYXNlIDI3OnJldHVybiBhLmZvY3VzKCksITE7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBjLmV4ZWN1dGUoKSwKITF9cmV0dXJuITB9O2Eub24oInVpU3BhY2UiLGZ1bmN0aW9uKGMpe2lmKGMuZGF0YS5zcGFjZT09YS5jb25maWcudG9vbGJhckxvY2F0aW9uKXtjLnJlbW92ZUxpc3RlbmVyKCk7YS50b29sYm94PW5ldyB1O3ZhciBkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpLGI9Wyc8c3BhbiBpZD0iJyxkLCciIGNsYXNzPSJja2Vfdm9pY2VfbGFiZWwiPicsYS5sYW5nLnRvb2xiYXIudG9vbGJhcnMsIjwvc3Bhbj4iLCc8c3BhbiBpZD0iJythLnVpLnNwYWNlSWQoInRvb2xib3giKSsnIiBjbGFzcz0iY2tlX3Rvb2xib3giIHJvbGU9Imdyb3VwIiBhcmlhLWxhYmVsbGVkYnk9IicsZCwnIiBvbm1vdXNlZG93bj0icmV0dXJuIGZhbHNlOyI+J10sZD0hMSE9PWEuY29uZmlnLnRvb2xiYXJTdGFydHVwRXhwYW5kZWQsZSxqO2EuY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmYS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSYmYi5wdXNoKCc8c3BhbiBjbGFzcz0iY2tlX3Rvb2xib3hfbWFpbiInKwooZD8iPiI6JyBzdHlsZT0iZGlzcGxheTpub25lIj4nKSk7Zm9yKHZhciBvPWEudG9vbGJveC50b29sYmFycyxmPXcoYSksaz0wO2s8Zi5sZW5ndGg7aysrKXt2YXIgaSxsPTAscixtPWZba10scztpZihtKWlmKGUmJihiLnB1c2goIjwvc3Bhbj4iKSxqPWU9MCksIi8iPT09bSliLnB1c2goJzxzcGFuIGNsYXNzPSJja2VfdG9vbGJhcl9icmVhayI+PC9zcGFuPicpO2Vsc2V7cz1tLml0ZW1zfHxtO2Zvcih2YXIgdD0wO3Q8cy5sZW5ndGg7dCsrKXt2YXIgcD1zW3RdLG47aWYocClpZihwLnR5cGU9PUNLRURJVE9SLlVJX1NFUEFSQVRPUilqPWUmJnA7ZWxzZXtuPSExIT09cC5jYW5Hcm91cDtpZighbCl7aT1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTtsPXtpZDppLGl0ZW1zOltdfTtyPW0ubmFtZSYmKGEubGFuZy50b29sYmFyLnRvb2xiYXJHcm91cHNbbS5uYW1lXXx8bS5uYW1lKTtiLnB1c2goJzxzcGFuIGlkPSInLGksJyIgY2xhc3M9ImNrZV90b29sYmFyIicscj8nIGFyaWEtbGFiZWxsZWRieT0iJysKaSsnX2xhYmVsIic6IiIsJyByb2xlPSJ0b29sYmFyIj4nKTtyJiZiLnB1c2goJzxzcGFuIGlkPSInLGksJ19sYWJlbCIgY2xhc3M9ImNrZV92b2ljZV9sYWJlbCI+JyxyLCI8L3NwYW4+Iik7Yi5wdXNoKCc8c3BhbiBjbGFzcz0iY2tlX3Rvb2xiYXJfc3RhcnQiPjwvc3Bhbj4nKTt2YXIgcT1vLnB1c2gobCktMTswPHEmJihsLnByZXZpb3VzPW9bcS0xXSxsLnByZXZpb3VzLm5leHQ9bCl9bj9lfHwoYi5wdXNoKCc8c3BhbiBjbGFzcz0iY2tlX3Rvb2xncm91cCIgcm9sZT0icHJlc2VudGF0aW9uIj4nKSxlPTEpOmUmJihiLnB1c2goIjwvc3Bhbj4iKSxlPTApO2k9ZnVuY3Rpb24oYyl7Yz1jLnJlbmRlcihhLGIpO3E9bC5pdGVtcy5wdXNoKGMpLTE7aWYocT4wKXtjLnByZXZpb3VzPWwuaXRlbXNbcS0xXTtjLnByZXZpb3VzLm5leHQ9Y31jLnRvb2xiYXI9bDtjLm9ua2V5PWc7Yy5vbmZvY3VzPWZ1bmN0aW9uKCl7YS50b29sYm94LmZvY3VzQ29tbWFuZEV4ZWN1dGVkfHxhLmZvY3VzKCl9fTsKaiYmKGkoaiksaj0wKTtpKHApfX1lJiYoYi5wdXNoKCI8L3NwYW4+Iiksaj1lPTApO2wmJmIucHVzaCgnPHNwYW4gY2xhc3M9ImNrZV90b29sYmFyX2VuZCI+PC9zcGFuPjwvc3Bhbj4nKX19YS5jb25maWcudG9vbGJhckNhbkNvbGxhcHNlJiZiLnB1c2goIjwvc3Bhbj4iKTtpZihhLmNvbmZpZy50b29sYmFyQ2FuQ29sbGFwc2UmJmEuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpe3ZhciB2PUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7YS5leGVjQ29tbWFuZCgidG9vbGJhckNvbGxhcHNlIil9KTthLm9uKCJkZXN0cm95IixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKHYpfSk7YS5hZGRDb21tYW5kKCJ0b29sYmFyQ29sbGFwc2UiLHtyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYil7dmFyIGE9Yi51aS5zcGFjZSgidG9vbGJhcl9jb2xsYXBzZXIiKSxjPWEuZ2V0UHJldmlvdXMoKSxlPWIudWkuc3BhY2UoImNvbnRlbnRzIiksCmQ9Yy5nZXRQYXJlbnQoKSxmPXBhcnNlSW50KGUuJC5zdHlsZS5oZWlnaHQsMTApLGg9ZC4kLm9mZnNldEhlaWdodCxnPWEuaGFzQ2xhc3MoImNrZV90b29sYm94X2NvbGxhcHNlcl9taW4iKTtnPyhjLnNob3coKSxhLnJlbW92ZUNsYXNzKCJja2VfdG9vbGJveF9jb2xsYXBzZXJfbWluIiksYS5zZXRBdHRyaWJ1dGUoInRpdGxlIixiLmxhbmcudG9vbGJhci50b29sYmFyQ29sbGFwc2UpKTooYy5oaWRlKCksYS5hZGRDbGFzcygiY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pbiIpLGEuc2V0QXR0cmlidXRlKCJ0aXRsZSIsYi5sYW5nLnRvb2xiYXIudG9vbGJhckV4cGFuZCkpO2EuZ2V0Rmlyc3QoKS5zZXRUZXh0KGc\/IuKWsiI6IuKXgCIpO2Uuc2V0U3R5bGUoImhlaWdodCIsZi0oZC4kLm9mZnNldEhlaWdodC1oKSsicHgiKTtiLmZpcmUoInJlc2l6ZSIpfSxtb2Rlczp7d3lzaXd5ZzoxLHNvdXJjZToxfX0pO2Euc2V0S2V5c3Ryb2tlKENLRURJVE9SLkFMVCsoQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYud2Via2l0PwoxODk6MTA5KSwidG9vbGJhckNvbGxhcHNlIik7Yi5wdXNoKCc8YSB0aXRsZT0iJysoZD9hLmxhbmcudG9vbGJhci50b29sYmFyQ29sbGFwc2U6YS5sYW5nLnRvb2xiYXIudG9vbGJhckV4cGFuZCkrJyIgaWQ9IicrYS51aS5zcGFjZUlkKCJ0b29sYmFyX2NvbGxhcHNlciIpKyciIHRhYkluZGV4PSItMSIgY2xhc3M9ImNrZV90b29sYm94X2NvbGxhcHNlcicpO2R8fGIucHVzaCgiIGNrZV90b29sYm94X2NvbGxhcHNlcl9taW4iKTtiLnB1c2goJyIgb25jbGljaz0iQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCcrdisnKSI+JywnPHNwYW4gY2xhc3M9ImNrZV9hcnJvdyI+JiM5NjUwOzwvc3Bhbj4nLCI8L2E+Iil9Yi5wdXNoKCI8L3NwYW4+Iik7Yy5kYXRhLmh0bWwrPWIuam9pbigiIil9fSk7YS5vbigiZGVzdHJveSIsZnVuY3Rpb24oKXtpZih0aGlzLnRvb2xib3gpe3ZhciBhLGQ9MCxiLGUsZztmb3IoYT10aGlzLnRvb2xib3gudG9vbGJhcnM7ZDxhLmxlbmd0aDtkKyspe2U9YVtkXS5pdGVtczsKZm9yKGI9MDtiPGUubGVuZ3RoO2IrKylnPWVbYl0sZy5jbGlja0ZuJiZDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihnLmNsaWNrRm4pLGcua2V5RG93bkZuJiZDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihnLmtleURvd25Gbil9fX0pO2Eub24oInVpUmVhZHkiLGZ1bmN0aW9uKCl7dmFyIGM9YS51aS5zcGFjZSgidG9vbGJveCIpO2MmJmEuZm9jdXNNYW5hZ2VyLmFkZChjLDEpfSk7YS5hZGRDb21tYW5kKCJ0b29sYmFyRm9jdXMiLHgpO2Euc2V0S2V5c3Ryb2tlKENLRURJVE9SLkFMVCsxMjEsInRvb2xiYXJGb2N1cyIpO2EudWkuYWRkKCItIixDS0VESVRPUi5VSV9TRVBBUkFUT1Ise30pO2EudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9TRVBBUkFUT1Ise2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybntyZW5kZXI6ZnVuY3Rpb24oYSxkKXtkLnB1c2goJzxzcGFuIGNsYXNzPSJja2VfdG9vbGJhcl9zZXBhcmF0b3IiIHJvbGU9InNlcGFyYXRvciI+PC9zcGFuPicpO3JldHVybnt9fX19fSl9fSk7CkNLRURJVE9SLnVpLnByb3RvdHlwZS5hZGRUb29sYmFyR3JvdXA9ZnVuY3Rpb24oYSxkLGcpe3ZhciBjPW4odGhpcy5lZGl0b3IpLGg9MD09PWQsYj17bmFtZTphfTtpZihnKXtpZihnPUNLRURJVE9SLnRvb2xzLnNlYXJjaChjLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5hbWU9PWd9KSl7IWcuZ3JvdXBzJiYoZy5ncm91cHM9W10pO2lmKGQmJihkPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZy5ncm91cHMsZCksMDw9ZCkpe2cuZ3JvdXBzLnNwbGljZShkKzEsMCxhKTtyZXR1cm59aD9nLmdyb3Vwcy5zcGxpY2UoMCwwLGEpOmcuZ3JvdXBzLnB1c2goYSk7cmV0dXJufWQ9bnVsbH1kJiYoZD1DS0VESVRPUi50b29scy5pbmRleE9mKGMsZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZT09ZH0pKTtoP2Muc3BsaWNlKDAsMCxhKToibnVtYmVyIj09dHlwZW9mIGQ\/Yy5zcGxpY2UoZCsxLDAsYik6Yy5wdXNoKGEpfX0pKCk7Q0tFRElUT1IuVUlfU0VQQVJBVE9SPSJzZXBhcmF0b3IiOwpDS0VESVRPUi5jb25maWcudG9vbGJhckxvY2F0aW9uPSJ0b3AiOyhmdW5jdGlvbigpe3ZhciBrO2Z1bmN0aW9uIG4oYSxjKXtmdW5jdGlvbiBqKGQpe2Q9aS5saXN0W2RdO2lmKGQuZXF1YWxzKGEuZWRpdGFibGUoKSl8fCJ0cnVlIj09ZC5nZXRBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpKXt2YXIgZT1hLmNyZWF0ZVJhbmdlKCk7ZS5zZWxlY3ROb2RlQ29udGVudHMoZCk7ZS5zZWxlY3QoKX1lbHNlIGEuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0RWxlbWVudChkKTthLmZvY3VzKCl9ZnVuY3Rpb24gcygpe2wmJmwuc2V0SHRtbChvKTtkZWxldGUgaS5saXN0fXZhciBtPWEudWkuc3BhY2VJZCgicGF0aCIpLGwsaT1hLl8uZWxlbWVudHNQYXRoLG49aS5pZEJhc2U7Yy5odG1sKz0nPHNwYW4gaWQ9IicrbSsnX2xhYmVsIiBjbGFzcz0iY2tlX3ZvaWNlX2xhYmVsIj4nK2EubGFuZy5lbGVtZW50c3BhdGguZWxlTGFiZWwrJzwvc3Bhbj48c3BhbiBpZD0iJyttKyciIGNsYXNzPSJja2VfcGF0aCIgcm9sZT0iZ3JvdXAiIGFyaWEtbGFiZWxsZWRieT0iJyttKwonX2xhYmVsIj4nK28rIjwvc3Bhbj4iO2Eub24oInVpUmVhZHkiLGZ1bmN0aW9uKCl7dmFyIGQ9YS51aS5zcGFjZSgicGF0aCIpO2QmJmEuZm9jdXNNYW5hZ2VyLmFkZChkLDEpfSk7aS5vbkNsaWNrPWo7dmFyIHQ9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oaiksdT1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihkLGUpe3ZhciBnPWkuaWRCYXNlLGIsZT1uZXcgQ0tFRElUT1IuZG9tLmV2ZW50KGUpO2I9InJ0bCI9PWEubGFuZy5kaXI7c3dpdGNoKGUuZ2V0S2V5c3Ryb2tlKCkpe2Nhc2UgYj8zOTozNzpjYXNlIDk6cmV0dXJuKGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChnKyhkKzEpKSl8fChiPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZysiMCIpKSxiLmZvY3VzKCksITE7Y2FzZSBiPzM3OjM5OmNhc2UgQ0tFRElUT1IuU0hJRlQrOTpyZXR1cm4oYj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGcrKGQtMSkpKXx8KGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChnKwooaS5saXN0Lmxlbmd0aC0xKSkpLGIuZm9jdXMoKSwhMTtjYXNlIDI3OnJldHVybiBhLmZvY3VzKCksITE7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBqKGQpLCExfXJldHVybiEwfSk7YS5vbigic2VsZWN0aW9uQ2hhbmdlIixmdW5jdGlvbigpe2EuZWRpdGFibGUoKTtmb3IodmFyIGQ9W10sZT1pLmxpc3Q9W10sZz1bXSxiPWkuZmlsdGVycyxjPSEwLGo9YS5lbGVtZW50UGF0aCgpLmVsZW1lbnRzLGYsaz1qLmxlbmd0aDtrLS07KXt2YXIgaD1qW2tdLHA9MDtmPWguZGF0YSgiY2tlLWRpc3BsYXktbmFtZSIpP2guZGF0YSgiY2tlLWRpc3BsYXktbmFtZSIpOmguZGF0YSgiY2tlLXJlYWwtZWxlbWVudC10eXBlIik\/aC5kYXRhKCJja2UtcmVhbC1lbGVtZW50LXR5cGUiKTpoLmdldE5hbWUoKTtjPWguaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKT8idHJ1ZSI9PWguZ2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKTpjOyFjJiYhaC5oYXNBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpJiYKKHA9MSk7Zm9yKHZhciBxPTA7cTxiLmxlbmd0aDtxKyspe3ZhciByPWJbcV0oaCxmKTtpZighMT09PXIpe3A9MTticmVha31mPXJ8fGZ9cHx8KGUudW5zaGlmdChoKSxnLnVuc2hpZnQoZikpfWU9ZS5sZW5ndGg7Zm9yKGI9MDtiPGU7YisrKWY9Z1tiXSxjPWEubGFuZy5lbGVtZW50c3BhdGguZWxlVGl0bGUucmVwbGFjZSgvJTEvLGYpLGY9di5vdXRwdXQoe2lkOm4rYixsYWJlbDpjLHRleHQ6Zixqc1RpdGxlOiJqYXZhc2NyaXB0OnZvaWQoJyIrZisiJykiLGluZGV4OmIsa2V5RG93bkZuOnUsY2xpY2tGbjp0fSksZC51bnNoaWZ0KGYpO2x8fChsPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQobSkpO2c9bDtnLnNldEh0bWwoZC5qb2luKCIiKStvKTthLmZpcmUoImVsZW1lbnRzUGF0aFVwZGF0ZSIse3NwYWNlOmd9KX0pO2Eub24oInJlYWRPbmx5IixzKTthLm9uKCJjb250ZW50RG9tVW5sb2FkIixzKTthLmFkZENvbW1hbmQoImVsZW1lbnRzUGF0aEZvY3VzIixrKTthLnNldEtleXN0cm9rZShDS0VESVRPUi5BTFQrCjEyMiwiZWxlbWVudHNQYXRoRm9jdXMiKX1rPXtlZGl0b3JGb2N1czohMSxyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYSl7KGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChhLl8uZWxlbWVudHNQYXRoLmlkQmFzZSsiMCIpKSYmYS5mb2N1cyhDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5haXIpfX07dmFyIG89JzxzcGFuIGNsYXNzPSJja2VfcGF0aF9lbXB0eSI+Jm5ic3A7PC9zcGFuPicsYz0iIjtpZihDS0VESVRPUi5lbnYub3BlcmF8fENLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52Lm1hYyljKz0nIG9ua2V5cHJlc3M9InJldHVybiBmYWxzZTsiJztDS0VESVRPUi5lbnYuZ2Vja28mJihjKz0nIG9uYmx1cj0idGhpcy5zdHlsZS5jc3NUZXh0ID0gdGhpcy5zdHlsZS5jc3NUZXh0OyInKTt2YXIgdj1DS0VESVRPUi5hZGRUZW1wbGF0ZSgicGF0aEl0ZW0iLCc8YSBpZD0ie2lkfSIgaHJlZj0ie2pzVGl0bGV9IiB0YWJpbmRleD0iLTEiIGNsYXNzPSJja2VfcGF0aF9pdGVtIiB0aXRsZT0ie2xhYmVsfSInKwooQ0tFRElUT1IuZW52LmdlY2tvJiYxMDkwMD5DS0VESVRPUi5lbnYudmVyc2lvbj8nIG9uZm9jdXM9ImV2ZW50LnByZXZlbnRCdWJibGUoKTsiJzoiIikrYysnIGhpZGVmb2N1cz0idHJ1ZSIgIG9ua2V5ZG93bj0icmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7a2V5RG93bkZufSx7aW5kZXh9LCBldmVudCApOyIgb25jbGljaz0iQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSx7aW5kZXh9KTsgcmV0dXJuIGZhbHNlOyIgcm9sZT0iYnV0dG9uIiBhcmlhLWxhYmVsPSJ7bGFiZWx9Ij57dGV4dH08L2E+Jyk7Q0tFRElUT1IucGx1Z2lucy5hZGQoImVsZW1lbnRzcGF0aCIse2luaXQ6ZnVuY3Rpb24oYSl7YS5fLmVsZW1lbnRzUGF0aD17aWRCYXNlOiJja2VfZWxlbWVudHNwYXRoXyIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpKyJfIixmaWx0ZXJzOltdfTthLm9uKCJ1aVNwYWNlIixmdW5jdGlvbihjKXsiYm90dG9tIj09Yy5kYXRhLnNwYWNlJiYKbihhLGMuZGF0YSl9KX19KX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbChlLGMsYil7Yj1lLmNvbmZpZy5mb3JjZUVudGVyTW9kZXx8Yjsid3lzaXd5ZyI9PWUubW9kZSYmKGN8fChjPWUuYWN0aXZlRW50ZXJNb2RlKSxlLmVsZW1lbnRQYXRoKCkuaXNDb250ZXh0Rm9yKCJwIil8fChjPUNLRURJVE9SLkVOVEVSX0JSLGI9MSksZS5maXJlKCJzYXZlU25hcHNob3QiKSxjPT1DS0VESVRPUi5FTlRFUl9CUj9vKGUsYyxudWxsLGIpOnAoZSxjLG51bGwsYiksZS5maXJlKCJzYXZlU25hcHNob3QiKSl9ZnVuY3Rpb24gcShlKXtmb3IodmFyIGU9ZS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoITApLGM9ZS5sZW5ndGgtMTswPGM7Yy0tKWVbY10uZGVsZXRlQ29udGVudHMoKTtyZXR1cm4gZVswXX1DS0VESVRPUi5wbHVnaW5zLmFkZCgiZW50ZXJrZXkiLHtpbml0OmZ1bmN0aW9uKGUpe2UuYWRkQ29tbWFuZCgiZW50ZXIiLHttb2Rlczp7d3lzaXd5ZzoxfSxlZGl0b3JGb2N1czohMSxleGVjOmZ1bmN0aW9uKGMpe2woYyl9fSk7CmUuYWRkQ29tbWFuZCgic2hpZnRFbnRlciIse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOiExLGV4ZWM6ZnVuY3Rpb24oYyl7bChjLGMuYWN0aXZlU2hpZnRFbnRlck1vZGUsMSl9fSk7ZS5zZXRLZXlzdHJva2UoW1sxMywiZW50ZXIiXSxbQ0tFRElUT1IuU0hJRlQrMTMsInNoaWZ0RW50ZXIiXV0pfX0pO3ZhciB0PUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSx1PUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKTtDS0VESVRPUi5wbHVnaW5zLmVudGVya2V5PXtlbnRlckJsb2NrOmZ1bmN0aW9uKGUsYyxiLGkpe2lmKGI9Ynx8cShlKSl7dmFyIGY9Yi5kb2N1bWVudCxqPWIuY2hlY2tTdGFydE9mQmxvY2soKSxoPWIuY2hlY2tFbmRPZkJsb2NrKCksYT1lLmVsZW1lbnRQYXRoKGIuc3RhcnRDb250YWluZXIpLmJsb2NrLGs9Yz09Q0tFRElUT1IuRU5URVJfRElWPyJkaXYiOiJwIixkO2lmKGomJmgpe2lmKGEmJihhLmlzKCJsaSIpfHxhLmdldFBhcmVudCgpLmlzKCJsaSIpKSl7Yj0KYS5nZXRQYXJlbnQoKTtkPWIuZ2V0UGFyZW50KCk7dmFyIGk9IWEuaGFzUHJldmlvdXMoKSxtPSFhLmhhc05leHQoKSxrPWUuZ2V0U2VsZWN0aW9uKCksZz1rLmNyZWF0ZUJvb2ttYXJrcygpLGo9YS5nZXREaXJlY3Rpb24oMSksaD1hLmdldEF0dHJpYnV0ZSgiY2xhc3MiKSxuPWEuZ2V0QXR0cmlidXRlKCJzdHlsZSIpLGw9ZC5nZXREaXJlY3Rpb24oMSkhPWosZT1lLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlJ8fGx8fG58fGg7aWYoZC5pcygibGkiKSlpZihpfHxtKWFbaT8iaW5zZXJ0QmVmb3JlIjoiaW5zZXJ0QWZ0ZXIiXShkKTtlbHNlIGEuYnJlYWtQYXJlbnQoZCk7ZWxzZXtpZihlKWlmKGQ9Zi5jcmVhdGVFbGVtZW50KGM9PUNLRURJVE9SLkVOVEVSX1A\/InAiOiJkaXYiKSxsJiZkLnNldEF0dHJpYnV0ZSgiZGlyIixqKSxuJiZkLnNldEF0dHJpYnV0ZSgic3R5bGUiLG4pLGgmJmQuc2V0QXR0cmlidXRlKCJjbGFzcyIsaCksYS5tb3ZlQ2hpbGRyZW4oZCksaXx8bSlkW2k\/CiJpbnNlcnRCZWZvcmUiOiJpbnNlcnRBZnRlciJdKGIpO2Vsc2UgYS5icmVha1BhcmVudChiKSxkLmluc2VydEFmdGVyKGIpO2Vsc2UgaWYoYS5hcHBlbmRCb2d1cyghMCksaXx8bSlmb3IoO2Y9YVtpPyJnZXRGaXJzdCI6ImdldExhc3QiXSgpOylmW2k\/Imluc2VydEJlZm9yZSI6Imluc2VydEFmdGVyIl0oYik7ZWxzZSBmb3IoYS5icmVha1BhcmVudChiKTtmPWEuZ2V0TGFzdCgpOylmLmluc2VydEFmdGVyKGIpO2EucmVtb3ZlKCl9ay5zZWxlY3RCb29rbWFya3MoZyk7cmV0dXJufWlmKGEmJmEuZ2V0UGFyZW50KCkuaXMoImJsb2NrcXVvdGUiKSl7YS5icmVha1BhcmVudChhLmdldFBhcmVudCgpKTthLmdldFByZXZpb3VzKCkuZ2V0Rmlyc3QoQ0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGUoMSkpfHxhLmdldFByZXZpb3VzKCkucmVtb3ZlKCk7YS5nZXROZXh0KCkuZ2V0Rmlyc3QoQ0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGUoMSkpfHxhLmdldE5leHQoKS5yZW1vdmUoKTsKYi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGEpO2Iuc2VsZWN0KCk7cmV0dXJufX1lbHNlIGlmKGEmJmEuaXMoInByZSIpJiYhaCl7byhlLGMsYixpKTtyZXR1cm59aWYoaD1iLnNwbGl0QmxvY2soaykpe2M9aC5wcmV2aW91c0Jsb2NrO2E9aC5uZXh0QmxvY2s7ZT1oLndhc1N0YXJ0T2ZCbG9jaztqPWgud2FzRW5kT2ZCbG9jaztpZihhKWc9YS5nZXRQYXJlbnQoKSxnLmlzKCJsaSIpJiYoYS5icmVha1BhcmVudChnKSxhLm1vdmUoYS5nZXROZXh0KCksMSkpO2Vsc2UgaWYoYyYmKGc9Yy5nZXRQYXJlbnQoKSkmJmcuaXMoImxpIikpYy5icmVha1BhcmVudChnKSxnPWMuZ2V0TmV4dCgpLGIubW92ZVRvRWxlbWVudEVkaXRTdGFydChnKSxjLm1vdmUoYy5nZXRQcmV2aW91cygpKTtpZighZSYmIWopYS5pcygibGkiKSYmKGQ9Yi5jbG9uZSgpLGQuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpLGQ9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZCksZC5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuISh1KGEpfHwKdChhKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRpbmxpbmUmJiEoYS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGVtcHR5KSl9LChnPWQubmV4dCgpKSYmKGcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZnLmlzKCJ1bCIsIm9sIikpJiYoQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI\/Zi5jcmVhdGVFbGVtZW50KCJiciIpOmYuY3JlYXRlVGV4dCgiwqAiKSkuaW5zZXJ0QmVmb3JlKGcpKSxhJiZiLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYSk7ZWxzZXtpZihjKXtpZihjLmlzKCJsaSIpfHwhci50ZXN0KGMuZ2V0TmFtZSgpKSYmIWMuaXMoInByZSIpKWQ9Yy5jbG9uZSgpfWVsc2UgYSYmKGQ9YS5jbG9uZSgpKTtkP2kmJiFkLmlzKCJsaSIpJiZkLnJlbmFtZU5vZGUoayk6ZyYmZy5pcygibGkiKT9kPWc6KGQ9Zi5jcmVhdGVFbGVtZW50KGspLGMmJihtPWMuZ2V0RGlyZWN0aW9uKCkpJiZkLnNldEF0dHJpYnV0ZSgiZGlyIiwKbSkpO2lmKGY9aC5lbGVtZW50UGF0aCl7aT0wO2ZvcihrPWYuZWxlbWVudHMubGVuZ3RoO2k8aztpKyspe2c9Zi5lbGVtZW50c1tpXTtpZihnLmVxdWFscyhmLmJsb2NrKXx8Zy5lcXVhbHMoZi5ibG9ja0xpbWl0KSlicmVhaztDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W2cuZ2V0TmFtZSgpXSYmKGc9Zy5jbG9uZSgpLGQubW92ZUNoaWxkcmVuKGcpLGQuYXBwZW5kKGcpKX19ZC5hcHBlbmRCb2d1cygpO2QuZ2V0UGFyZW50KCl8fGIuaW5zZXJ0Tm9kZShkKTtkLmlzKCJsaSIpJiZkLnJlbW92ZUF0dHJpYnV0ZSgidmFsdWUiKTtpZihDS0VESVRPUi5lbnYuaWUmJmUmJighanx8IWMuZ2V0Q2hpbGRDb3VudCgpKSliLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoaj9jOmQpLGIuc2VsZWN0KCk7Yi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGUmJiFqP2E6ZCl9Yi5zZWxlY3QoKTtiLnNjcm9sbEludG9WaWV3KCl9fX0sZW50ZXJCcjpmdW5jdGlvbihlLGMsYixpKXtpZihiPWJ8fHEoZSkpe3ZhciBmPQpiLmRvY3VtZW50LGo9Yi5jaGVja0VuZE9mQmxvY2soKSxoPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZS5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKSksYT1oLmJsb2NrLGg9YSYmaC5ibG9jay5nZXROYW1lKCk7IWkmJiJsaSI9PWg\/cChlLGMsYixpKTooIWkmJmomJnIudGVzdChoKT8oaj1hLmdldERpcmVjdGlvbigpKT8oZj1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGYuc2V0QXR0cmlidXRlKCJkaXIiLGopLGYuaW5zZXJ0QWZ0ZXIoYSksYi5zZXRTdGFydChmLDApKTooZi5jcmVhdGVFbGVtZW50KCJiciIpLmluc2VydEFmdGVyKGEpLENLRURJVE9SLmVudi5nZWNrbyYmZi5jcmVhdGVUZXh0KCIiKS5pbnNlcnRBZnRlcihhKSxiLnNldFN0YXJ0QXQoYS5nZXROZXh0KCksQ0tFRElUT1IuZW52LmllP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkpOihhPSJwcmUiPT1oJiZDS0VESVRPUi5lbnYuaWUmJgo4PkNLRURJVE9SLmVudi52ZXJzaW9uP2YuY3JlYXRlVGV4dCgiXHIiKTpmLmNyZWF0ZUVsZW1lbnQoImJyIiksYi5kZWxldGVDb250ZW50cygpLGIuaW5zZXJ0Tm9kZShhKSxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj8oZi5jcmVhdGVUZXh0KCLvu78iKS5pbnNlcnRBZnRlcihhKSxqJiZhLmdldFBhcmVudCgpLmFwcGVuZEJvZ3VzKCksYS5nZXROZXh0KCkuJC5ub2RlVmFsdWU9IiIsYi5zZXRTdGFydEF0KGEuZ2V0TmV4dCgpLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSk6Yi5zZXRTdGFydEF0KGEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSksYi5jb2xsYXBzZSghMCksYi5zZWxlY3QoKSxiLnNjcm9sbEludG9WaWV3KCkpfX19O3ZhciBzPUNLRURJVE9SLnBsdWdpbnMuZW50ZXJrZXksbz1zLmVudGVyQnIscD1zLmVudGVyQmxvY2sscj0vXmhbMS02XSQvfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBqKGEsYil7dmFyIGQ9e30sZT1bXSxmPXtuYnNwOiLCoCIsc2h5OiLCrSIsZ3Q6Ij4iLGx0OiI8IixhbXA6IiYiLGFwb3M6IiciLHF1b3Q6JyInfSxhPWEucmVwbGFjZSgvXGIobmJzcHxzaHl8Z3R8bHR8YW1wfGFwb3N8cXVvdCkoPzosfCQpL2csZnVuY3Rpb24oYSxoKXt2YXIgYz1iPyImIitoKyI7IjpmW2hdO2RbY109Yj9mW2hdOiImIitoKyI7IjtlLnB1c2goYyk7cmV0dXJuIiJ9KTtpZighYiYmYSl7dmFyIGE9YS5zcGxpdCgiLCIpLGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZztjLmlubmVySFRNTD0iJiIrYS5qb2luKCI7JiIpKyI7IjtnPWMuaW5uZXJIVE1MO2M9bnVsbDtmb3IoYz0wO2M8Zy5sZW5ndGg7YysrKXt2YXIgaT1nLmNoYXJBdChjKTtkW2ldPSImIithW2NdKyI7IjtlLnB1c2goaSl9fWQucmVnZXg9ZS5qb2luKGI\/InwiOiIiKTtyZXR1cm4gZH1DS0VESVRPUi5wbHVnaW5zLmFkZCgiZW50aXRpZXMiLHthZnRlckluaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9CmEuY29uZmlnO2lmKGE9KGE9YS5kYXRhUHJvY2Vzc29yKSYmYS5odG1sRmlsdGVyKXt2YXIgZD1bXTshMSE9PWIuYmFzaWNFbnRpdGllcyYmZC5wdXNoKCJuYnNwLGd0LGx0LGFtcCIpO2IuZW50aXRpZXMmJihkLmxlbmd0aCYmZC5wdXNoKCJxdW90LGlleGNsLGNlbnQscG91bmQsY3VycmVuLHllbixicnZiYXIsc2VjdCx1bWwsY29weSxvcmRmLGxhcXVvLG5vdCxzaHkscmVnLG1hY3IsZGVnLHBsdXNtbixzdXAyLHN1cDMsYWN1dGUsbWljcm8scGFyYSxtaWRkb3QsY2VkaWwsc3VwMSxvcmRtLHJhcXVvLGZyYWMxNCxmcmFjMTIsZnJhYzM0LGlxdWVzdCx0aW1lcyxkaXZpZGUsZm5vZixidWxsLGhlbGxpcCxwcmltZSxQcmltZSxvbGluZSxmcmFzbCx3ZWllcnAsaW1hZ2UscmVhbCx0cmFkZSxhbGVmc3ltLGxhcnIsdWFycixyYXJyLGRhcnIsaGFycixjcmFycixsQXJyLHVBcnIsckFycixkQXJyLGhBcnIsZm9yYWxsLHBhcnQsZXhpc3QsZW1wdHksbmFibGEsaXNpbixub3RpbixuaSxwcm9kLHN1bSxtaW51cyxsb3dhc3QscmFkaWMscHJvcCxpbmZpbixhbmcsYW5kLG9yLGNhcCxjdXAsaW50LHRoZXJlNCxzaW0sY29uZyxhc3ltcCxuZSxlcXVpdixsZSxnZSxzdWIsc3VwLG5zdWIsc3ViZSxzdXBlLG9wbHVzLG90aW1lcyxwZXJwLHNkb3QsbGNlaWwscmNlaWwsbGZsb29yLHJmbG9vcixsYW5nLHJhbmcsbG96LHNwYWRlcyxjbHVicyxoZWFydHMsZGlhbXMsY2lyYyx0aWxkZSxlbnNwLGVtc3AsdGhpbnNwLHp3bmosendqLGxybSxybG0sbmRhc2gsbWRhc2gsbHNxdW8scnNxdW8sc2JxdW8sbGRxdW8scmRxdW8sYmRxdW8sZGFnZ2VyLERhZ2dlcixwZXJtaWwsbHNhcXVvLHJzYXF1byxldXJvIiksCmIuZW50aXRpZXNfbGF0aW4mJmQucHVzaCgiQWdyYXZlLEFhY3V0ZSxBY2lyYyxBdGlsZGUsQXVtbCxBcmluZyxBRWxpZyxDY2VkaWwsRWdyYXZlLEVhY3V0ZSxFY2lyYyxFdW1sLElncmF2ZSxJYWN1dGUsSWNpcmMsSXVtbCxFVEgsTnRpbGRlLE9ncmF2ZSxPYWN1dGUsT2NpcmMsT3RpbGRlLE91bWwsT3NsYXNoLFVncmF2ZSxVYWN1dGUsVWNpcmMsVXVtbCxZYWN1dGUsVEhPUk4sc3psaWcsYWdyYXZlLGFhY3V0ZSxhY2lyYyxhdGlsZGUsYXVtbCxhcmluZyxhZWxpZyxjY2VkaWwsZWdyYXZlLGVhY3V0ZSxlY2lyYyxldW1sLGlncmF2ZSxpYWN1dGUsaWNpcmMsaXVtbCxldGgsbnRpbGRlLG9ncmF2ZSxvYWN1dGUsb2NpcmMsb3RpbGRlLG91bWwsb3NsYXNoLHVncmF2ZSx1YWN1dGUsdWNpcmMsdXVtbCx5YWN1dGUsdGhvcm4seXVtbCxPRWxpZyxvZWxpZyxTY2Fyb24sc2Nhcm9uLFl1bWwiKSxiLmVudGl0aWVzX2dyZWVrJiZkLnB1c2goIkFscGhhLEJldGEsR2FtbWEsRGVsdGEsRXBzaWxvbixaZXRhLEV0YSxUaGV0YSxJb3RhLEthcHBhLExhbWJkYSxNdSxOdSxYaSxPbWljcm9uLFBpLFJobyxTaWdtYSxUYXUsVXBzaWxvbixQaGksQ2hpLFBzaSxPbWVnYSxhbHBoYSxiZXRhLGdhbW1hLGRlbHRhLGVwc2lsb24semV0YSxldGEsdGhldGEsaW90YSxrYXBwYSxsYW1iZGEsbXUsbnUseGksb21pY3JvbixwaSxyaG8sc2lnbWFmLHNpZ21hLHRhdSx1cHNpbG9uLHBoaSxjaGkscHNpLG9tZWdhLHRoZXRhc3ltLHVwc2loLHBpdiIpLApiLmVudGl0aWVzX2FkZGl0aW9uYWwmJmQucHVzaChiLmVudGl0aWVzX2FkZGl0aW9uYWwpKTt2YXIgZT1qKGQuam9pbigiLCIpKSxmPWUucmVnZXg\/IlsiK2UucmVnZXgrIl0iOiJhXiI7ZGVsZXRlIGUucmVnZXg7Yi5lbnRpdGllcyYmYi5lbnRpdGllc19wcm9jZXNzTnVtZXJpY2FsJiYoZj0iW14gLX5dfCIrZik7dmFyIGY9UmVnRXhwKGYsImciKSxjPWZ1bmN0aW9uKGEpe3JldHVybiBiLmVudGl0aWVzX3Byb2Nlc3NOdW1lcmljYWw9PSJmb3JjZSJ8fCFlW2FdPyImIyIrYS5jaGFyQ29kZUF0KDApKyI7IjplW2FdfSxnPWooIm5ic3AsZ3QsbHQsYW1wLHNoeSIsITApLGk9UmVnRXhwKGcucmVnZXgsImciKSxrPWZ1bmN0aW9uKGEpe3JldHVybiBnW2FdfTthLmFkZFJ1bGVzKHt0ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoaSxrKS5yZXBsYWNlKGYsYyl9fSx7YXBwbHlUb0FsbDohMH0pfX19KX0pKCk7Q0tFRElUT1IuY29uZmlnLmJhc2ljRW50aXRpZXM9ITA7CkNLRURJVE9SLmNvbmZpZy5lbnRpdGllcz0hMDtDS0VESVRPUi5jb25maWcuZW50aXRpZXNfbGF0aW49ITA7Q0tFRElUT1IuY29uZmlnLmVudGl0aWVzX2dyZWVrPSEwO0NLRURJVE9SLmNvbmZpZy5lbnRpdGllc19hZGRpdGlvbmFsPSIjMzkiO0NLRURJVE9SLnBsdWdpbnMuYWRkKCJwb3B1cCIpOwpDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7cG9wdXA6ZnVuY3Rpb24oZSxhLGIsZCl7YT1hfHwiODAlIjtiPWJ8fCI3MCUiOyJzdHJpbmciPT10eXBlb2YgYSYmKDE8YS5sZW5ndGgmJiIlIj09YS5zdWJzdHIoYS5sZW5ndGgtMSwxKSkmJihhPXBhcnNlSW50KHdpbmRvdy5zY3JlZW4ud2lkdGgqcGFyc2VJbnQoYSwxMCkvMTAwLDEwKSk7InN0cmluZyI9PXR5cGVvZiBiJiYoMTxiLmxlbmd0aCYmIiUiPT1iLnN1YnN0cihiLmxlbmd0aC0xLDEpKSYmKGI9cGFyc2VJbnQod2luZG93LnNjcmVlbi5oZWlnaHQqcGFyc2VJbnQoYiwxMCkvMTAwLDEwKSk7NjQwPmEmJihhPTY0MCk7NDIwPmImJihiPTQyMCk7dmFyIGY9cGFyc2VJbnQoKHdpbmRvdy5zY3JlZW4uaGVpZ2h0LWIpLzIsMTApLGc9cGFyc2VJbnQoKHdpbmRvdy5zY3JlZW4ud2lkdGgtYSkvMiwxMCksZD0oZHx8ImxvY2F0aW9uPW5vLG1lbnViYXI9bm8sdG9vbGJhcj1ubyxkZXBlbmRlbnQ9eWVzLG1pbmltaXphYmxlPW5vLG1vZGFsPXllcyxhbHdheXNSYWlzZWQ9eWVzLHJlc2l6YWJsZT15ZXMsc2Nyb2xsYmFycz15ZXMiKSsiLHdpZHRoPSIrCmErIixoZWlnaHQ9IitiKyIsdG9wPSIrZisiLGxlZnQ9IitnLGM9d2luZG93Lm9wZW4oIiIsbnVsbCxkLCEwKTtpZighYylyZXR1cm4hMTt0cnl7LTE9PW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCIgY2hyb21lLyIpJiYoYy5tb3ZlVG8oZyxmKSxjLnJlc2l6ZVRvKGEsYikpLGMuZm9jdXMoKSxjLmxvY2F0aW9uLmhyZWY9ZX1jYXRjaChoKXt3aW5kb3cub3BlbihlLG51bGwsZCwhMCl9cmV0dXJuITB9fSk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZyhhLGMpe3ZhciBkPVtdO2lmKGMpZm9yKHZhciBiIGluIGMpZC5wdXNoKGIrIj0iK2VuY29kZVVSSUNvbXBvbmVudChjW2JdKSk7ZWxzZSByZXR1cm4gYTtyZXR1cm4gYSsoLTEhPWEuaW5kZXhPZigiPyIpPyImIjoiPyIpK2Quam9pbigiJiIpfWZ1bmN0aW9uIGkoYSl7YSs9IiI7cmV0dXJuIGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSl9ZnVuY3Rpb24gaygpe3ZhciBhPXRoaXMuZ2V0RGlhbG9nKCksYz1hLmdldFBhcmVudEVkaXRvcigpO2MuXy5maWxlYnJvd3NlclNlPXRoaXM7dmFyIGQ9Yy5jb25maWdbImZpbGVicm93c2VyIitpKGEuZ2V0TmFtZSgpKSsiV2luZG93V2lkdGgiXXx8Yy5jb25maWcuZmlsZWJyb3dzZXJXaW5kb3dXaWR0aHx8IjgwJSIsYT1jLmNvbmZpZ1siZmlsZWJyb3dzZXIiK2koYS5nZXROYW1lKCkpKyJXaW5kb3dIZWlnaHQiXXx8Yy5jb25maWcuZmlsZWJyb3dzZXJXaW5kb3dIZWlnaHR8fCI3MCUiLApiPXRoaXMuZmlsZWJyb3dzZXIucGFyYW1zfHx7fTtiLkNLRWRpdG9yPWMubmFtZTtiLkNLRWRpdG9yRnVuY051bT1jLl8uZmlsZWJyb3dzZXJGbjtiLmxhbmdDb2RlfHwoYi5sYW5nQ29kZT1jLmxhbmdDb2RlKTtiPWcodGhpcy5maWxlYnJvd3Nlci51cmwsYik7Yy5wb3B1cChiLGQsYSxjLmNvbmZpZy5maWxlYnJvd3NlcldpbmRvd0ZlYXR1cmVzfHxjLmNvbmZpZy5maWxlQnJvd3NlcldpbmRvd0ZlYXR1cmVzKX1mdW5jdGlvbiBsKCl7dmFyIGE9dGhpcy5nZXREaWFsb2coKTthLmdldFBhcmVudEVkaXRvcigpLl8uZmlsZWJyb3dzZXJTZT10aGlzO3JldHVybiFhLmdldENvbnRlbnRFbGVtZW50KHRoaXNbImZvciJdWzBdLHRoaXNbImZvciJdWzFdKS5nZXRJbnB1dEVsZW1lbnQoKS4kLnZhbHVlfHwhYS5nZXRDb250ZW50RWxlbWVudCh0aGlzWyJmb3IiXVswXSx0aGlzWyJmb3IiXVsxXSkuZ2V0QWN0aW9uKCk\/ITE6ITB9ZnVuY3Rpb24gbShhLGMsZCl7dmFyIGI9ZC5wYXJhbXN8fHt9OwpiLkNLRWRpdG9yPWEubmFtZTtiLkNLRWRpdG9yRnVuY051bT1hLl8uZmlsZWJyb3dzZXJGbjtiLmxhbmdDb2RlfHwoYi5sYW5nQ29kZT1hLmxhbmdDb2RlKTtjLmFjdGlvbj1nKGQudXJsLGIpO2MuZmlsZWJyb3dzZXI9ZH1mdW5jdGlvbiBqKGEsYyxkLGIpe2lmKGImJmIubGVuZ3RoKWZvcih2YXIgZSxnPWIubGVuZ3RoO2ctLTspaWYoZT1iW2ddLCgiaGJveCI9PWUudHlwZXx8InZib3giPT1lLnR5cGV8fCJmaWVsZHNldCI9PWUudHlwZSkmJmooYSxjLGQsZS5jaGlsZHJlbiksZS5maWxlYnJvd3NlcilpZigic3RyaW5nIj09dHlwZW9mIGUuZmlsZWJyb3dzZXImJihlLmZpbGVicm93c2VyPXthY3Rpb246ImZpbGVCdXR0b24iPT1lLnR5cGU\/IlF1aWNrVXBsb2FkIjoiQnJvd3NlIix0YXJnZXQ6ZS5maWxlYnJvd3Nlcn0pLCJCcm93c2UiPT1lLmZpbGVicm93c2VyLmFjdGlvbil7dmFyIGY9ZS5maWxlYnJvd3Nlci51cmw7dm9pZCAwPT09ZiYmKGY9YS5jb25maWdbImZpbGVicm93c2VyIisKaShjKSsiQnJvd3NlVXJsIl0sdm9pZCAwPT09ZiYmKGY9YS5jb25maWcuZmlsZWJyb3dzZXJCcm93c2VVcmwpKTtmJiYoZS5vbkNsaWNrPWssZS5maWxlYnJvd3Nlci51cmw9ZixlLmhpZGRlbj0hMSl9ZWxzZSBpZigiUXVpY2tVcGxvYWQiPT1lLmZpbGVicm93c2VyLmFjdGlvbiYmZVsiZm9yIl0mJihmPWUuZmlsZWJyb3dzZXIudXJsLHZvaWQgMD09PWYmJihmPWEuY29uZmlnWyJmaWxlYnJvd3NlciIraShjKSsiVXBsb2FkVXJsIl0sdm9pZCAwPT09ZiYmKGY9YS5jb25maWcuZmlsZWJyb3dzZXJVcGxvYWRVcmwpKSxmKSl7dmFyIGg9ZS5vbkNsaWNrO2Uub25DbGljaz1mdW5jdGlvbihhKXt2YXIgYj1hLnNlbmRlcjtyZXR1cm4gaCYmaC5jYWxsKGIsYSk9PT1mYWxzZT9mYWxzZTpsLmNhbGwoYixhKX07ZS5maWxlYnJvd3Nlci51cmw9ZjtlLmhpZGRlbj0hMTttKGEsZC5nZXRDb250ZW50cyhlWyJmb3IiXVswXSkuZ2V0KGVbImZvciJdWzFdKSxlLmZpbGVicm93c2VyKX19ZnVuY3Rpb24gaChhLApjLGQpe2lmKC0xIT09ZC5pbmRleE9mKCI7Iikpe2Zvcih2YXIgZD1kLnNwbGl0KCI7IiksYj0wO2I8ZC5sZW5ndGg7YisrKWlmKGgoYSxjLGRbYl0pKXJldHVybiEwO3JldHVybiExfXJldHVybihhPWEuZ2V0Q29udGVudHMoYykuZ2V0KGQpLmZpbGVicm93c2VyKSYmYS51cmx9ZnVuY3Rpb24gbihhLGMpe3ZhciBkPXRoaXMuXy5maWxlYnJvd3NlclNlLmdldERpYWxvZygpLGI9dGhpcy5fLmZpbGVicm93c2VyU2VbImZvciJdLGU9dGhpcy5fLmZpbGVicm93c2VyU2UuZmlsZWJyb3dzZXIub25TZWxlY3Q7YiYmZC5nZXRDb250ZW50RWxlbWVudChiWzBdLGJbMV0pLnJlc2V0KCk7aWYoISgiZnVuY3Rpb24iPT10eXBlb2YgYyYmITE9PT1jLmNhbGwodGhpcy5fLmZpbGVicm93c2VyU2UpKSYmIShlJiYhMT09PWUuY2FsbCh0aGlzLl8uZmlsZWJyb3dzZXJTZSxhLGMpKSYmKCJzdHJpbmciPT10eXBlb2YgYyYmYyYmYWxlcnQoYyksYSYmKGI9dGhpcy5fLmZpbGVicm93c2VyU2UsZD1iLmdldERpYWxvZygpLApiPWIuZmlsZWJyb3dzZXIudGFyZ2V0fHxudWxsKSkpaWYoYj1iLnNwbGl0KCI6IiksZT1kLmdldENvbnRlbnRFbGVtZW50KGJbMF0sYlsxXSkpZS5zZXRWYWx1ZShhKSxkLnNlbGVjdFBhZ2UoYlswXSl9Q0tFRElUT1IucGx1Z2lucy5hZGQoImZpbGVicm93c2VyIix7cmVxdWlyZXM6InBvcHVwIixpbml0OmZ1bmN0aW9uKGEpe2EuXy5maWxlYnJvd3NlckZuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKG4sYSk7YS5vbigiZGVzdHJveSIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbih0aGlzLl8uZmlsZWJyb3dzZXJGbil9KX19KTtDS0VESVRPUi5vbigiZGlhbG9nRGVmaW5pdGlvbiIsZnVuY3Rpb24oYSl7aWYoYS5lZGl0b3IucGx1Z2lucy5maWxlYnJvd3Nlcilmb3IodmFyIGM9YS5kYXRhLmRlZmluaXRpb24sZCxiPTA7YjxjLmNvbnRlbnRzLmxlbmd0aDsrK2IpaWYoZD1jLmNvbnRlbnRzW2JdKWooYS5lZGl0b3IsYS5kYXRhLm5hbWUsYyxkLmVsZW1lbnRzKSwKZC5oaWRkZW4mJmQuZmlsZWJyb3dzZXImJihkLmhpZGRlbj0haChjLGQuaWQsZC5maWxlYnJvd3NlcikpfSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIHEoYSl7dmFyIGk9YS5jb25maWcsbD1hLmZpcmUoInVpU3BhY2UiLHtzcGFjZToidG9wIixodG1sOiIifSkuaHRtbCxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZihhLGMsZSl7Yi5zZXRTdHlsZShjLHQoZSkpO2Iuc2V0U3R5bGUoInBvc2l0aW9uIixhKX1mdW5jdGlvbiBlKGEpe3ZhciBiPXIuZ2V0RG9jdW1lbnRQb3NpdGlvbigpO3N3aXRjaChhKXtjYXNlICJ0b3AiOmYoImFic29sdXRlIiwidG9wIixiLnktbS1uKTticmVhaztjYXNlICJwaW4iOmYoImZpeGVkIiwidG9wIixxKTticmVhaztjYXNlICJib3R0b20iOmYoImFic29sdXRlIiwidG9wIixiLnkrKGMuaGVpZ2h0fHxjLmJvdHRvbS1jLnRvcCkrbil9aj1hfXZhciBqLHIsayxjLGgsbSxzLGw9aS5mbG9hdFNwYWNlRG9ja2VkT2Zmc2V0WHx8MCxuPWkuZmxvYXRTcGFjZURvY2tlZE9mZnNldFl8fDAscD1pLmZsb2F0U3BhY2VQaW5uZWRPZmZzZXRYfHwwLHE9aS5mbG9hdFNwYWNlUGlubmVkT2Zmc2V0WXx8CjA7cmV0dXJuIGZ1bmN0aW9uKGQpe2lmKHI9YS5lZGl0YWJsZSgpKWlmKGQmJiJmb2N1cyI9PWQubmFtZSYmYi5zaG93KCksYi5yZW1vdmVTdHlsZSgibGVmdCIpLGIucmVtb3ZlU3R5bGUoInJpZ2h0Iiksaz1iLmdldENsaWVudFJlY3QoKSxjPXIuZ2V0Q2xpZW50UmVjdCgpLGg9Zy5nZXRWaWV3UGFuZVNpemUoKSxtPWsuaGVpZ2h0LHM9InBhZ2VYT2Zmc2V0ImluIGcuJD9nLiQucGFnZVhPZmZzZXQ6Q0tFRElUT1IuZG9jdW1lbnQuJC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCxqKXttK248PWMudG9wP2UoInRvcCIpOm0rbj5oLmhlaWdodC1jLmJvdHRvbT9lKCJwaW4iKTplKCJib3R0b20iKTt2YXIgZD1oLndpZHRoLzIsZD0wPGMubGVmdCYmYy5yaWdodDxoLndpZHRoJiZjLndpZHRoPmsud2lkdGg\/InJ0bCI9PWEuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbj8icmlnaHQiOiJsZWZ0IjpkLWMubGVmdD5jLnJpZ2h0LWQ\/ImxlZnQiOiJyaWdodCIsZjtrLndpZHRoPmgud2lkdGg\/CihkPSJsZWZ0IixmPTApOihmPSJsZWZ0Ij09ZD8wPGMubGVmdD9jLmxlZnQ6MDpjLnJpZ2h0PGgud2lkdGg\/aC53aWR0aC1jLnJpZ2h0OjAsZitrLndpZHRoPmgud2lkdGgmJihkPSJsZWZ0Ij09ZD8icmlnaHQiOiJsZWZ0IixmPTApKTtiLnNldFN0eWxlKGQsdCgoInBpbiI9PWo\/cDpsKStmKygicGluIj09aj8wOiJsZWZ0Ij09ZD9zOi1zKSkpfWVsc2Ugaj0icGluIixlKCJwaW4iKSxvKGQpfX0oKTtpZihsKXt2YXIgYj1DS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYXBwZW5kKENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKHUub3V0cHV0KHtjb250ZW50OmwsaWQ6YS5pZCxsYW5nRGlyOmEubGFuZy5kaXIsbGFuZ0NvZGU6YS5sYW5nQ29kZSxuYW1lOmEubmFtZSxzdHlsZToiZGlzcGxheTpub25lO3otaW5kZXg6IisoaS5iYXNlRmxvYXRaSW5kZXgtMSksdG9wSWQ6YS51aS5zcGFjZUlkKCJ0b3AiKSx2b2ljZUxhYmVsOmEubGFuZy5lZGl0b3JQYW5lbCsiLCAiKwphLm5hbWV9KSkpLHA9Q0tFRElUT1IudG9vbHMuZXZlbnRzQnVmZmVyKDUwMCxvKSxlPUNLRURJVE9SLnRvb2xzLmV2ZW50c0J1ZmZlcigxMDAsbyk7Yi51bnNlbGVjdGFibGUoKTtiLm9uKCJtb3VzZWRvd24iLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO2EuZ2V0VGFyZ2V0KCkuaGFzQXNjZW5kYW50KCJhIiwxKXx8YS5wcmV2ZW50RGVmYXVsdCgpfSk7YS5vbigiZm9jdXMiLGZ1bmN0aW9uKGIpe28oYik7YS5vbigiY2hhbmdlIixwLmlucHV0KTtnLm9uKCJzY3JvbGwiLGUuaW5wdXQpO2cub24oInJlc2l6ZSIsZS5pbnB1dCl9KTthLm9uKCJibHVyIixmdW5jdGlvbigpe2IuaGlkZSgpO2EucmVtb3ZlTGlzdGVuZXIoImNoYW5nZSIscC5pbnB1dCk7Zy5yZW1vdmVMaXN0ZW5lcigic2Nyb2xsIixlLmlucHV0KTtnLnJlbW92ZUxpc3RlbmVyKCJyZXNpemUiLGUuaW5wdXQpfSk7YS5vbigiZGVzdHJveSIsZnVuY3Rpb24oKXtnLnJlbW92ZUxpc3RlbmVyKCJzY3JvbGwiLGUuaW5wdXQpO2cucmVtb3ZlTGlzdGVuZXIoInJlc2l6ZSIsCmUuaW5wdXQpO2IuY2xlYXJDdXN0b21EYXRhKCk7Yi5yZW1vdmUoKX0pO2EuZm9jdXNNYW5hZ2VyLmhhc0ZvY3VzJiZiLnNob3coKTthLmZvY3VzTWFuYWdlci5hZGQoYiwxKX19dmFyIHU9Q0tFRElUT1IuYWRkVGVtcGxhdGUoImZsb2F0Y29udGFpbmVyIiwnPGRpdiBpZD0iY2tlX3tuYW1lfSIgY2xhc3M9ImNrZSB7aWR9IGNrZV9yZXNldF9hbGwgY2tlX2Nocm9tZSBja2VfZWRpdG9yX3tuYW1lfSBja2VfZmxvYXQgY2tlX3tsYW5nRGlyfSAnK0NLRURJVE9SLmVudi5jc3NDbGFzcysnIiBkaXI9IntsYW5nRGlyfSIgdGl0bGU9IicrKENLRURJVE9SLmVudi5nZWNrbz8iICI6IiIpKyciIGxhbmc9IntsYW5nQ29kZX0iIHJvbGU9ImFwcGxpY2F0aW9uIiBzdHlsZT0ie3N0eWxlfSIgYXJpYS1sYWJlbGxlZGJ5PSJja2Vfe25hbWV9X2FyaWFsYmwiPjxzcGFuIGlkPSJja2Vfe25hbWV9X2FyaWFsYmwiIGNsYXNzPSJja2Vfdm9pY2VfbGFiZWwiPnt2b2ljZUxhYmVsfTwvc3Bhbj48ZGl2IGNsYXNzPSJja2VfaW5uZXIiPjxkaXYgaWQ9Int0b3BJZH0iIGNsYXNzPSJja2VfdG9wIiByb2xlPSJwcmVzZW50YXRpb24iPntjb250ZW50fTwvZGl2PjwvZGl2PjwvZGl2PicpLApnPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLHQ9Q0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoO0NLRURJVE9SLnBsdWdpbnMuYWRkKCJmbG9hdGluZ3NwYWNlIix7aW5pdDpmdW5jdGlvbihhKXthLm9uKCJsb2FkZWQiLGZ1bmN0aW9uKCl7cSh0aGlzKX0sbnVsbCxudWxsLDIwKX19KX0pKCk7Q0tFRElUT1IucGx1Z2lucy5hZGQoImxpc3RibG9jayIse3JlcXVpcmVzOiJwYW5lbCIsb25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGY9Q0tFRElUT1IuYWRkVGVtcGxhdGUoInBhbmVsLWxpc3QiLCc8dWwgcm9sZT0icHJlc2VudGF0aW9uIiBjbGFzcz0iY2tlX3BhbmVsX2xpc3QiPntpdGVtc308L3VsPicpLGc9Q0tFRElUT1IuYWRkVGVtcGxhdGUoInBhbmVsLWxpc3QtaXRlbSIsJzxsaSBpZD0ie2lkfSIgY2xhc3M9ImNrZV9wYW5lbF9saXN0SXRlbSIgcm9sZT1wcmVzZW50YXRpb24+PGEgaWQ9IntpZH1fb3B0aW9uIiBfY2tlX2ZvY3VzPTEgaGlkZWZvY3VzPXRydWUgdGl0bGU9Int0aXRsZX0iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZChcJ3t2YWx9XCcpIiAge29uY2xpY2t9PSJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LFwne3ZhbH1cJyk7IHJldHVybiBmYWxzZTsiIHJvbGU9Im9wdGlvbiI+e3RleHR9PC9hPjwvbGk+JyksaD1DS0VESVRPUi5hZGRUZW1wbGF0ZSgicGFuZWwtbGlzdC1ncm91cCIsCic8aDEgaWQ9IntpZH0iIGNsYXNzPSJja2VfcGFuZWxfZ3JvdXB0aXRsZSIgcm9sZT0icHJlc2VudGF0aW9uIiA+e2xhYmVsfTwvaDE+JyksaT0vXCcvZztDS0VESVRPUi51aS5wYW5lbC5wcm90b3R5cGUuYWRkTGlzdEJsb2NrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuYWRkQmxvY2soYSxuZXcgQ0tFRElUT1IudWkubGlzdEJsb2NrKHRoaXMuZ2V0SG9sZGVyRWxlbWVudCgpLGIpKX07Q0tFRElUT1IudWkubGlzdEJsb2NrPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLnVpLnBhbmVsLmJsb2NrLCQ6ZnVuY3Rpb24oYSxiKXt2YXIgYj1ifHx7fSxjPWIuYXR0cmlidXRlc3x8KGIuYXR0cmlidXRlcz17fSk7KHRoaXMubXVsdGlTZWxlY3Q9ISFiLm11bHRpU2VsZWN0KSYmKGNbImFyaWEtbXVsdGlzZWxlY3RhYmxlIl09ITApOyFjLnJvbGUmJihjLnJvbGU9Imxpc3Rib3giKTt0aGlzLmJhc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoInJvbGUiLApjLnJvbGUpO2M9dGhpcy5rZXlzO2NbNDBdPSJuZXh0IjtjWzldPSJuZXh0IjtjWzM4XT0icHJldiI7Y1tDS0VESVRPUi5TSElGVCs5XT0icHJldiI7Y1szMl09Q0tFRElUT1IuZW52LmllPyJtb3VzZXVwIjoiY2xpY2siO0NLRURJVE9SLmVudi5pZSYmKGNbMTNdPSJtb3VzZXVwIik7dGhpcy5fLnBlbmRpbmdIdG1sPVtdO3RoaXMuXy5wZW5kaW5nTGlzdD1bXTt0aGlzLl8uaXRlbXM9e307dGhpcy5fLmdyb3Vwcz17fX0sXzp7Y2xvc2U6ZnVuY3Rpb24oKXtpZih0aGlzLl8uc3RhcnRlZCl7dmFyIGE9Zi5vdXRwdXQoe2l0ZW1zOnRoaXMuXy5wZW5kaW5nTGlzdC5qb2luKCIiKX0pO3RoaXMuXy5wZW5kaW5nTGlzdD1bXTt0aGlzLl8ucGVuZGluZ0h0bWwucHVzaChhKTtkZWxldGUgdGhpcy5fLnN0YXJ0ZWR9fSxnZXRDbGljazpmdW5jdGlvbigpe3RoaXMuXy5jbGlja3x8KHRoaXMuXy5jbGljaz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRvZ2dsZShhKTsKaWYodGhpcy5vbkNsaWNrKXRoaXMub25DbGljayhhLGIpfSx0aGlzKSk7cmV0dXJuIHRoaXMuXy5jbGlja319LHByb3RvOnthZGQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3RoaXMuXy5zdGFydGVkfHwodGhpcy5fLnN0YXJ0ZWQ9MSx0aGlzLl8uc2l6ZT10aGlzLl8uc2l6ZXx8MCk7dGhpcy5fLml0ZW1zW2FdPWQ7dmFyIGU7ZT1DS0VESVRPUi50b29scy5odG1sRW5jb2RlQXR0cihhKS5yZXBsYWNlKGksIlxcJyIpO2E9e2lkOmQsdmFsOmUsb25jbGljazpDS0VESVRPUi5lbnYuaWU\/J29uY2xpY2s9InJldHVybiBmYWxzZTsiIG9ubW91c2V1cCc6Im9uY2xpY2siLGNsaWNrRm46dGhpcy5fLmdldENsaWNrKCksdGl0bGU6Q0tFRElUT1IudG9vbHMuaHRtbEVuY29kZUF0dHIoY3x8YSksdGV4dDpifHxhfTt0aGlzLl8ucGVuZGluZ0xpc3QucHVzaChnLm91dHB1dChhKSl9LHN0YXJ0R3JvdXA6ZnVuY3Rpb24oYSl7dGhpcy5fLmNsb3NlKCk7CnZhciBiPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3RoaXMuXy5ncm91cHNbYV09Yjt0aGlzLl8ucGVuZGluZ0h0bWwucHVzaChoLm91dHB1dCh7aWQ6YixsYWJlbDphfSkpfSxjb21taXQ6ZnVuY3Rpb24oKXt0aGlzLl8uY2xvc2UoKTt0aGlzLmVsZW1lbnQuYXBwZW5kSHRtbCh0aGlzLl8ucGVuZGluZ0h0bWwuam9pbigiIikpO2RlbGV0ZSB0aGlzLl8uc2l6ZTt0aGlzLl8ucGVuZGluZ0h0bWw9W119LHRvZ2dsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlzTWFya2VkKGEpO2I\/dGhpcy51bm1hcmsoYSk6dGhpcy5tYXJrKGEpO3JldHVybiFifSxoaWRlR3JvdXA6ZnVuY3Rpb24oYSl7dmFyIGI9KGE9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uZ3JvdXBzW2FdKSkmJmEuZ2V0TmV4dCgpO2EmJihhLnNldFN0eWxlKCJkaXNwbGF5Iiwibm9uZSIpLGImJiJ1bCI9PWIuZ2V0TmFtZSgpJiZiLnNldFN0eWxlKCJkaXNwbGF5Iiwibm9uZSIpKX0saGlkZUl0ZW06ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uaXRlbXNbYV0pLnNldFN0eWxlKCJkaXNwbGF5IiwKIm5vbmUiKX0sc2hvd0FsbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5pdGVtcyxiPXRoaXMuXy5ncm91cHMsYz10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKSxkO2ZvcihkIGluIGEpYy5nZXRCeUlkKGFbZF0pLnNldFN0eWxlKCJkaXNwbGF5IiwiIik7Zm9yKHZhciBlIGluIGIpYT1jLmdldEJ5SWQoYltlXSksZD1hLmdldE5leHQoKSxhLnNldFN0eWxlKCJkaXNwbGF5IiwiIiksZCYmInVsIj09ZC5nZXROYW1lKCkmJmQuc2V0U3R5bGUoImRpc3BsYXkiLCIiKX0sbWFyazpmdW5jdGlvbihhKXt0aGlzLm11bHRpU2VsZWN0fHx0aGlzLnVubWFya0FsbCgpO3ZhciBhPXRoaXMuXy5pdGVtc1thXSxiPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQoYSk7Yi5hZGRDbGFzcygiY2tlX3NlbGVjdGVkIik7dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZChhKyJfb3B0aW9uIikuc2V0QXR0cmlidXRlKCJhcmlhLXNlbGVjdGVkIiwhMCk7dGhpcy5vbk1hcmsmJnRoaXMub25NYXJrKGIpfSwKdW5tYXJrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLGE9dGhpcy5fLml0ZW1zW2FdLGM9Yi5nZXRCeUlkKGEpO2MucmVtb3ZlQ2xhc3MoImNrZV9zZWxlY3RlZCIpO2IuZ2V0QnlJZChhKyJfb3B0aW9uIikucmVtb3ZlQXR0cmlidXRlKCJhcmlhLXNlbGVjdGVkIik7dGhpcy5vblVubWFyayYmdGhpcy5vblVubWFyayhjKX0sdW5tYXJrQWxsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLml0ZW1zLGI9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCksYztmb3IoYyBpbiBhKXt2YXIgZD1hW2NdO2IuZ2V0QnlJZChkKS5yZW1vdmVDbGFzcygiY2tlX3NlbGVjdGVkIik7Yi5nZXRCeUlkKGQrIl9vcHRpb24iKS5yZW1vdmVBdHRyaWJ1dGUoImFyaWEtc2VsZWN0ZWQiKX10aGlzLm9uVW5tYXJrJiZ0aGlzLm9uVW5tYXJrKCl9LGlzTWFya2VkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5pdGVtc1thXSkuaGFzQ2xhc3MoImNrZV9zZWxlY3RlZCIpfSwKZm9jdXM6ZnVuY3Rpb24oYSl7dGhpcy5fLmZvY3VzSW5kZXg9LTE7dmFyIGI9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoImEiKSxjLGQ9LTE7aWYoYSlmb3IoYz10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5pdGVtc1thXSkuZ2V0Rmlyc3QoKTthPWIuZ2V0SXRlbSgrK2QpOyl7aWYoYS5lcXVhbHMoYykpe3RoaXMuXy5mb2N1c0luZGV4PWQ7YnJlYWt9fWVsc2UgdGhpcy5lbGVtZW50LmZvY3VzKCk7YyYmc2V0VGltZW91dChmdW5jdGlvbigpe2MuZm9jdXMoKX0sMCl9fX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuYWRkKCJyaWNoY29tYm8iLHtyZXF1aXJlczoiZmxvYXRwYW5lbCxsaXN0YmxvY2ssYnV0dG9uIixiZWZvcmVJbml0OmZ1bmN0aW9uKGQpe2QudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9SSUNIQ09NQk8sQ0tFRElUT1IudWkucmljaENvbWJvLmhhbmRsZXIpfX0pOwooZnVuY3Rpb24oKXt2YXIgZD0nPHNwYW4gaWQ9IntpZH0iIGNsYXNzPSJja2VfY29tYm8gY2tlX2NvbWJvX197bmFtZX0ge2Nsc30iIHJvbGU9InByZXNlbnRhdGlvbiI+PHNwYW4gaWQ9IntpZH1fbGFiZWwiIGNsYXNzPSJja2VfY29tYm9fbGFiZWwiPntsYWJlbH08L3NwYW4+PGEgY2xhc3M9ImNrZV9jb21ib19idXR0b24iIGhpZGVmb2N1cz10cnVlIHRpdGxlPSJ7dGl0bGV9IiB0YWJpbmRleD0iLTEiJysoQ0tFRElUT1IuZW52LmdlY2tvJiYxMDkwMDw9Q0tFRElUT1IuZW52LnZlcnNpb24mJiFDS0VESVRPUi5lbnYuaGM\/IiI6JyIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKFwne3RpdGxlSnN9XCcpIicpKycgaGlkZWZvY3VzPSJ0cnVlIiByb2xlPSJidXR0b24iIGFyaWEtbGFiZWxsZWRieT0ie2lkfV9sYWJlbCIgYXJpYS1oYXNwb3B1cD0idHJ1ZSInO2lmKENLRURJVE9SLmVudi5vcGVyYXx8Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjKWQrPScgb25rZXlwcmVzcz0icmV0dXJuIGZhbHNlOyInOwpDS0VESVRPUi5lbnYuZ2Vja28mJihkKz0nIG9uYmx1cj0idGhpcy5zdHlsZS5jc3NUZXh0ID0gdGhpcy5zdHlsZS5jc3NUZXh0OyInKTt2YXIgZD1kKygnIG9ua2V5ZG93bj0icmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7a2V5ZG93bkZufSxldmVudCx0aGlzKTsiIG9ubW91c2Vkb3duPSJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHttb3VzZWRvd25Gbn0sZXZlbnQpOyIgIG9uZm9jdXM9InJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2ZvY3VzRm59LGV2ZW50KTsiICcrKENLRURJVE9SLmVudi5pZT8nb25jbGljaz0icmV0dXJuIGZhbHNlOyIgb25tb3VzZXVwJzoib25jbGljayIpKyc9IkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Y2xpY2tGbn0sdGhpcyk7cmV0dXJuIGZhbHNlOyI+PHNwYW4gaWQ9IntpZH1fdGV4dCIgY2xhc3M9ImNrZV9jb21ib190ZXh0IGNrZV9jb21ib19pbmxpbmVsYWJlbCI+e2xhYmVsfTwvc3Bhbj48c3BhbiBjbGFzcz0iY2tlX2NvbWJvX29wZW4iPjxzcGFuIGNsYXNzPSJja2VfY29tYm9fYXJyb3ciPicrCihDS0VESVRPUi5lbnYuaGM\/IiYjOTY2MDsiOkNLRURJVE9SLmVudi5haXI\/IiZuYnNwOyI6IiIpKyI8L3NwYW4+PC9zcGFuPjwvYT48L3NwYW4+IiksaT1DS0VESVRPUi5hZGRUZW1wbGF0ZSgiY29tYm8iLGQpO0NLRURJVE9SLlVJX1JJQ0hDT01CTz0icmljaGNvbWJvIjtDS0VESVRPUi51aS5yaWNoQ29tYm89Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYSx7Y2FuR3JvdXA6ITEsdGl0bGU6YS5sYWJlbCxtb2Rlczp7d3lzaXd5ZzoxfSxlZGl0b3JGb2N1czoxfSk7YT10aGlzLnBhbmVsfHx7fTtkZWxldGUgdGhpcy5wYW5lbDt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTt0aGlzLmRvY3VtZW50PWEucGFyZW50JiZhLnBhcmVudC5nZXREb2N1bWVudCgpfHxDS0VESVRPUi5kb2N1bWVudDthLmNsYXNzTmFtZT0iY2tlX2NvbWJvcGFuZWwiO2EuYmxvY2s9e211bHRpU2VsZWN0OmEubXVsdGlTZWxlY3QsCmF0dHJpYnV0ZXM6YS5hdHRyaWJ1dGVzfTthLnRvb2xiYXJSZWxhdGVkPSEwO3RoaXMuXz17cGFuZWxEZWZpbml0aW9uOmEsaXRlbXM6e319fSxwcm90bzp7cmVuZGVySHRtbDpmdW5jdGlvbihhKXt2YXIgYj1bXTt0aGlzLnJlbmRlcihhLGIpO3JldHVybiBiLmpvaW4oIiIpfSxyZW5kZXI6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBnKCl7dmFyIGM9dGhpcy5tb2Rlc1thLm1vZGVdP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDthLnJlYWRPbmx5JiYhdGhpcy5yZWFkT25seSYmKGM9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO3RoaXMuc2V0U3RhdGUoYyk7dGhpcy5zZXRWYWx1ZSgiIik7YyE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJnRoaXMucmVmcmVzaCYmdGhpcy5yZWZyZXNoKCl9dmFyIGQ9Q0tFRElUT1IuZW52LGg9ImNrZV8iK3RoaXMuaWQsZT1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihiKXtqJiYoYS51bmxvY2tTZWxlY3Rpb24oMSksCmo9MCk7Yy5leGVjdXRlKGIpfSx0aGlzKSxmPXRoaXMsYz17aWQ6aCxjb21ibzp0aGlzLGZvY3VzOmZ1bmN0aW9uKCl7Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChoKS5nZXRDaGlsZCgxKS5mb2N1cygpfSxleGVjdXRlOmZ1bmN0aW9uKGMpe3ZhciBiPWYuXztpZihiLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRClpZihmLmNyZWF0ZVBhbmVsKGEpLGIub24pYi5wYW5lbC5oaWRlKCk7ZWxzZXtmLmNvbW1pdCgpO3ZhciBkPWYuZ2V0VmFsdWUoKTtkP2IubGlzdC5tYXJrKGQpOmIubGlzdC51bm1hcmtBbGwoKTtiLnBhbmVsLnNob3dCbG9jayhmLmlkLG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjKSw0KX19LGNsaWNrRm46ZX07YS5vbigiYWN0aXZlRmlsdGVyQ2hhbmdlIixnLHRoaXMpO2Eub24oIm1vZGUiLGcsdGhpcyk7IXRoaXMucmVhZE9ubHkmJmEub24oInJlYWRPbmx5IixnLHRoaXMpO3ZhciBrPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGIsCmQpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZXZlbnQoYiksZz1iLmdldEtleXN0cm9rZSgpO2lmKDQwPT1nKWEub25jZSgicGFuZWxTaG93IixmdW5jdGlvbihhKXthLmRhdGEuXy5wYW5lbC5fLmN1cnJlbnRCbG9jay5vbktleURvd24oNDApfSk7c3dpdGNoKGcpe2Nhc2UgMTM6Y2FzZSAzMjpjYXNlIDQwOkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihlLGQpO2JyZWFrO2RlZmF1bHQ6Yy5vbmtleShjLGcpfWIucHJldmVudERlZmF1bHQoKX0pLGw9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXtjLm9uZm9jdXMmJmMub25mb2N1cygpfSksaj0wLG09Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXtpZihDS0VESVRPUi5lbnYub3BlcmEpe3ZhciBiPWEuZWRpdGFibGUoKTtiLmlzSW5saW5lKCkmJmIuaGFzRm9jdXMmJihhLmxvY2tTZWxlY3Rpb24oKSxqPTEpfX0pO2Mua2V5RG93bkZuPWs7ZD17aWQ6aCxuYW1lOnRoaXMubmFtZXx8dGhpcy5jb21tYW5kLApsYWJlbDp0aGlzLmxhYmVsLHRpdGxlOnRoaXMudGl0bGUsY2xzOnRoaXMuY2xhc3NOYW1lfHwiIix0aXRsZUpzOmQuZ2Vja28mJjEwOTAwPD1kLnZlcnNpb24mJiFkLmhjPyIiOih0aGlzLnRpdGxlfHwiIikucmVwbGFjZSgiJyIsIiIpLGtleWRvd25GbjprLG1vdXNlZG93bkZuOm0sZm9jdXNGbjpsLGNsaWNrRm46ZX07aS5vdXRwdXQoZCxiKTtpZih0aGlzLm9uUmVuZGVyKXRoaXMub25SZW5kZXIoKTtyZXR1cm4gY30sY3JlYXRlUGFuZWw6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuXy5wYW5lbCl7dmFyIGI9dGhpcy5fLnBhbmVsRGVmaW5pdGlvbixkPXRoaXMuXy5wYW5lbERlZmluaXRpb24uYmxvY2ssaT1iLnBhcmVudHx8Q0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLGg9ImNrZV9jb21ib3BhbmVsX18iK3RoaXMubmFtZSxlPW5ldyBDS0VESVRPUi51aS5mbG9hdFBhbmVsKGEsaSxiKSxmPWUuYWRkTGlzdEJsb2NrKHRoaXMuaWQsZCksYz10aGlzO2Uub25TaG93PWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKGgpOwpjLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKTtjLl8ub249MTtjLmVkaXRvckZvY3VzJiYhYS5mb2N1c01hbmFnZXIuaGFzRm9jdXMmJmEuZm9jdXMoKTtpZihjLm9uT3BlbiljLm9uT3BlbigpO2Eub25jZSgicGFuZWxTaG93IixmdW5jdGlvbigpe2YuZm9jdXMoIWYubXVsdGlTZWxlY3QmJmMuZ2V0VmFsdWUoKSl9KX07ZS5vbkhpZGU9ZnVuY3Rpb24oYil7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKGgpO2Muc2V0U3RhdGUoYy5tb2RlcyYmYy5tb2Rlc1thLm1vZGVdP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7Yy5fLm9uPTA7aWYoIWImJmMub25DbG9zZSljLm9uQ2xvc2UoKX07ZS5vbkVzY2FwZT1mdW5jdGlvbigpe2UuaGlkZSgxKX07Zi5vbkNsaWNrPWZ1bmN0aW9uKGEsYil7Yy5vbkNsaWNrJiZjLm9uQ2xpY2suY2FsbChjLGEsYik7ZS5oaWRlKCl9O3RoaXMuXy5wYW5lbD1lO3RoaXMuXy5saXN0PWY7ZS5nZXRCbG9jayh0aGlzLmlkKS5vbkhpZGU9CmZ1bmN0aW9uKCl7Yy5fLm9uPTA7Yy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpfTt0aGlzLmluaXQmJnRoaXMuaW5pdCgpfX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXt0aGlzLl8udmFsdWU9YTt2YXIgZD10aGlzLmRvY3VtZW50LmdldEJ5SWQoImNrZV8iK3RoaXMuaWQrIl90ZXh0Iik7ZCYmKCFhJiYhYj8oYj10aGlzLmxhYmVsLGQuYWRkQ2xhc3MoImNrZV9jb21ib19pbmxpbmVsYWJlbCIpKTpkLnJlbW92ZUNsYXNzKCJja2VfY29tYm9faW5saW5lbGFiZWwiKSxkLnNldFRleHQoInVuZGVmaW5lZCIhPXR5cGVvZiBiP2I6YSkpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8udmFsdWV8fCIifSx1bm1hcmtBbGw6ZnVuY3Rpb24oKXt0aGlzLl8ubGlzdC51bm1hcmtBbGwoKX0sbWFyazpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdC5tYXJrKGEpfSxoaWRlSXRlbTpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdC5oaWRlSXRlbShhKX0saGlkZUdyb3VwOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0LmhpZGVHcm91cChhKX0sCnNob3dBbGw6ZnVuY3Rpb24oKXt0aGlzLl8ubGlzdC5zaG93QWxsKCl9LGFkZDpmdW5jdGlvbihhLGIsZCl7dGhpcy5fLml0ZW1zW2FdPWR8fGE7dGhpcy5fLmxpc3QuYWRkKGEsYixkKX0sc3RhcnRHcm91cDpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdC5zdGFydEdyb3VwKGEpfSxjb21taXQ6ZnVuY3Rpb24oKXt0aGlzLl8uY29tbWl0dGVkfHwodGhpcy5fLmxpc3QuY29tbWl0KCksdGhpcy5fLmNvbW1pdHRlZD0xLENLRURJVE9SLnVpLmZpcmUoInJlYWR5Iix0aGlzKSk7dGhpcy5fLmNvbW1pdHRlZD0xfSxzZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uc3RhdGUhPWEpe3ZhciBiPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZCgiY2tlXyIrdGhpcy5pZCk7Yi5zZXRTdGF0ZShhLCJja2VfY29tYm8iKTthPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9iLnNldEF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIsITApOmIucmVtb3ZlQXR0cmlidXRlKCJhcmlhLWRpc2FibGVkIik7dGhpcy5fLnN0YXRlPQphfX0sZ2V0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnN0YXRlfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl8uc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZ0aGlzLnNldFN0YXRlKHRoaXMuXy5sYXN0U3RhdGUpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmKHRoaXMuXy5sYXN0U3RhdGU9dGhpcy5fLnN0YXRlLHRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpKX19LHN0YXRpY3M6e2hhbmRsZXI6e2NyZWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLnJpY2hDb21ibyhhKX19fX0pO0NLRURJVE9SLnVpLnByb3RvdHlwZS5hZGRSaWNoQ29tYm89ZnVuY3Rpb24oYSxiKXt0aGlzLmFkZChhLENLRURJVE9SLlVJX1JJQ0hDT01CTyxiKX19KSgpO0NLRURJVE9SLnBsdWdpbnMuYWRkKCJmb3JtYXQiLHtyZXF1aXJlczoicmljaGNvbWJvIixpbml0OmZ1bmN0aW9uKGEpe2lmKCFhLmJsb2NrbGVzcyl7Zm9yKHZhciBmPWEuY29uZmlnLGM9YS5sYW5nLmZvcm1hdCxqPWYuZm9ybWF0X3RhZ3Muc3BsaXQoIjsiKSxkPXt9LGs9MCxsPVtdLGc9MDtnPGoubGVuZ3RoO2crKyl7dmFyIGg9altnXSxpPW5ldyBDS0VESVRPUi5zdHlsZShmWyJmb3JtYXRfIitoXSk7aWYoIWEuZmlsdGVyLmN1c3RvbUNvbmZpZ3x8YS5maWx0ZXIuY2hlY2soaSkpaysrLGRbaF09aSxkW2hdLl8uZW50ZXJNb2RlPWEuY29uZmlnLmVudGVyTW9kZSxsLnB1c2goaSl9MCE9PWsmJmEudWkuYWRkUmljaENvbWJvKCJGb3JtYXQiLHtsYWJlbDpjLmxhYmVsLHRpdGxlOmMucGFuZWxUaXRsZSx0b29sYmFyOiJzdHlsZXMsMjAiLGFsbG93ZWRDb250ZW50OmwscGFuZWw6e2NzczpbQ0tFRElUT1Iuc2tpbi5nZXRQYXRoKCJlZGl0b3IiKV0uY29uY2F0KGYuY29udGVudHNDc3MpLAptdWx0aVNlbGVjdDohMSxhdHRyaWJ1dGVzOnsiYXJpYS1sYWJlbCI6Yy5wYW5lbFRpdGxlfX0saW5pdDpmdW5jdGlvbigpe3RoaXMuc3RhcnRHcm91cChjLnBhbmVsVGl0bGUpO2Zvcih2YXIgYiBpbiBkKXt2YXIgYT1jWyJ0YWdfIitiXTt0aGlzLmFkZChiLGRbYl0uYnVpbGRQcmV2aWV3KGEpLGEpfX0sb25DbGljazpmdW5jdGlvbihiKXthLmZvY3VzKCk7YS5maXJlKCJzYXZlU25hcHNob3QiKTt2YXIgYj1kW2JdLGM9YS5lbGVtZW50UGF0aCgpO2FbYi5jaGVja0FjdGl2ZShjKT8icmVtb3ZlU3R5bGUiOiJhcHBseVN0eWxlIl0oYik7c2V0VGltZW91dChmdW5jdGlvbigpe2EuZmlyZSgic2F2ZVNuYXBzaG90Iil9LDApfSxvblJlbmRlcjpmdW5jdGlvbigpe2Eub24oInNlbGVjdGlvbkNoYW5nZSIsZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5nZXRWYWx1ZSgpLGI9Yi5kYXRhLnBhdGg7dGhpcy5yZWZyZXNoKCk7Zm9yKHZhciBlIGluIGQpaWYoZFtlXS5jaGVja0FjdGl2ZShiKSl7ZSE9CmMmJnRoaXMuc2V0VmFsdWUoZSxhLmxhbmcuZm9ybWF0WyJ0YWdfIitlXSk7cmV0dXJufXRoaXMuc2V0VmFsdWUoIiIpfSx0aGlzKX0sb25PcGVuOmZ1bmN0aW9uKCl7dGhpcy5zaG93QWxsKCk7Zm9yKHZhciBiIGluIGQpYS5hY3RpdmVGaWx0ZXIuY2hlY2soZFtiXSl8fHRoaXMuaGlkZUl0ZW0oYil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj1hLmVsZW1lbnRQYXRoKCk7aWYoYil7aWYoYi5pc0NvbnRleHRGb3IoInAiKSlmb3IodmFyIGMgaW4gZClpZihhLmFjdGl2ZUZpbHRlci5jaGVjayhkW2NdKSlyZXR1cm47dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9fX0pfX19KTtDS0VESVRPUi5jb25maWcuZm9ybWF0X3RhZ3M9InA7aDE7aDI7aDM7aDQ7aDU7aDY7cHJlO2FkZHJlc3M7ZGl2IjtDS0VESVRPUi5jb25maWcuZm9ybWF0X3A9e2VsZW1lbnQ6InAifTtDS0VESVRPUi5jb25maWcuZm9ybWF0X2Rpdj17ZWxlbWVudDoiZGl2In07CkNLRURJVE9SLmNvbmZpZy5mb3JtYXRfcHJlPXtlbGVtZW50OiJwcmUifTtDS0VESVRPUi5jb25maWcuZm9ybWF0X2FkZHJlc3M9e2VsZW1lbnQ6ImFkZHJlc3MifTtDS0VESVRPUi5jb25maWcuZm9ybWF0X2gxPXtlbGVtZW50OiJoMSJ9O0NLRURJVE9SLmNvbmZpZy5mb3JtYXRfaDI9e2VsZW1lbnQ6ImgyIn07Q0tFRElUT1IuY29uZmlnLmZvcm1hdF9oMz17ZWxlbWVudDoiaDMifTtDS0VESVRPUi5jb25maWcuZm9ybWF0X2g0PXtlbGVtZW50OiJoNCJ9O0NLRURJVE9SLmNvbmZpZy5mb3JtYXRfaDU9e2VsZW1lbnQ6Img1In07Q0tFRElUT1IuY29uZmlnLmZvcm1hdF9oNj17ZWxlbWVudDoiaDYifTsoZnVuY3Rpb24oKXt2YXIgYj17Y2FuVW5kbzohMSxleGVjOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaHIiKTthLmluc2VydEVsZW1lbnQoYil9LGFsbG93ZWRDb250ZW50OiJociIscmVxdWlyZWRDb250ZW50OiJociJ9O0NLRURJVE9SLnBsdWdpbnMuYWRkKCJob3Jpem9udGFscnVsZSIse2luaXQ6ZnVuY3Rpb24oYSl7YS5ibG9ja2xlc3N8fChhLmFkZENvbW1hbmQoImhvcml6b250YWxydWxlIixiKSxhLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oIkhvcml6b250YWxSdWxlIix7bGFiZWw6YS5sYW5nLmhvcml6b250YWxydWxlLnRvb2xiYXIsY29tbWFuZDoiaG9yaXpvbnRhbHJ1bGUiLHRvb2xiYXI6Imluc2VydCw0MCJ9KSl9fSl9KSgpO0NLRURJVE9SLnBsdWdpbnMuYWRkKCJodG1sd3JpdGVyIix7aW5pdDpmdW5jdGlvbihiKXt2YXIgYT1uZXcgQ0tFRElUT1IuaHRtbFdyaXRlcjthLmZvcmNlU2ltcGxlQW1wZXJzYW5kPWIuY29uZmlnLmZvcmNlU2ltcGxlQW1wZXJzYW5kO2EuaW5kZW50YXRpb25DaGFycz1iLmNvbmZpZy5kYXRhSW5kZW50YXRpb25DaGFyc3x8Ilx0IjtiLmRhdGFQcm9jZXNzb3Iud3JpdGVyPWF9fSk7CkNLRURJVE9SLmh0bWxXcml0ZXI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3Moe2Jhc2U6Q0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlciwkOmZ1bmN0aW9uKCl7dGhpcy5iYXNlKCk7dGhpcy5pbmRlbnRhdGlvbkNoYXJzPSJcdCI7dGhpcy5zZWxmQ2xvc2luZ0VuZD0iIC8+Ijt0aGlzLmxpbmVCcmVha0NoYXJzPSJcbiI7dGhpcy5zb3J0QXR0cmlidXRlcz0xO3RoaXMuXy5pbmRlbnQ9MDt0aGlzLl8uaW5kZW50YXRpb249IiI7dGhpcy5fLmluUHJlPTA7dGhpcy5fLnJ1bGVzPXt9O3ZhciBiPUNLRURJVE9SLmR0ZCxhO2ZvcihhIGluIENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxiLiRub25Cb2R5Q29udGVudCxiLiRibG9jayxiLiRsaXN0SXRlbSxiLiR0YWJsZUNvbnRlbnQpKXRoaXMuc2V0UnVsZXMoYSx7aW5kZW50OiFiW2FdWyIjIl0sYnJlYWtCZWZvcmVPcGVuOjEsYnJlYWtCZWZvcmVDbG9zZTohYlthXVsiIyJdLGJyZWFrQWZ0ZXJDbG9zZToxLG5lZWRzU3BhY2U6YSBpbgpiLiRibG9jayYmIShhIGlue2xpOjEsZHQ6MSxkZDoxfSl9KTt0aGlzLnNldFJ1bGVzKCJiciIse2JyZWFrQWZ0ZXJPcGVuOjF9KTt0aGlzLnNldFJ1bGVzKCJ0aXRsZSIse2luZGVudDowLGJyZWFrQWZ0ZXJPcGVuOjB9KTt0aGlzLnNldFJ1bGVzKCJzdHlsZSIse2luZGVudDowLGJyZWFrQmVmb3JlQ2xvc2U6MX0pO3RoaXMuc2V0UnVsZXMoInByZSIse2JyZWFrQWZ0ZXJPcGVuOjEsaW5kZW50OjB9KX0scHJvdG86e29wZW5UYWc6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5fLnJ1bGVzW2JdO3RoaXMuXy5hZnRlckNsb3NlciYmKGEmJmEubmVlZHNTcGFjZSYmdGhpcy5fLm5lZWRzU3BhY2UpJiZ0aGlzLl8ub3V0cHV0LnB1c2goIlxuIik7dGhpcy5fLmluZGVudD90aGlzLmluZGVudGF0aW9uKCk6YSYmYS5icmVha0JlZm9yZU9wZW4mJih0aGlzLmxpbmVCcmVhaygpLHRoaXMuaW5kZW50YXRpb24oKSk7dGhpcy5fLm91dHB1dC5wdXNoKCI8IixiKTt0aGlzLl8uYWZ0ZXJDbG9zZXI9MH0sCm9wZW5UYWdDbG9zZTpmdW5jdGlvbihiLGEpe3ZhciBjPXRoaXMuXy5ydWxlc1tiXTthPyh0aGlzLl8ub3V0cHV0LnB1c2godGhpcy5zZWxmQ2xvc2luZ0VuZCksYyYmYy5icmVha0FmdGVyQ2xvc2UmJih0aGlzLl8ubmVlZHNTcGFjZT1jLm5lZWRzU3BhY2UpKToodGhpcy5fLm91dHB1dC5wdXNoKCI+IiksYyYmYy5pbmRlbnQmJih0aGlzLl8uaW5kZW50YXRpb24rPXRoaXMuaW5kZW50YXRpb25DaGFycykpO2MmJmMuYnJlYWtBZnRlck9wZW4mJnRoaXMubGluZUJyZWFrKCk7InByZSI9PWImJih0aGlzLl8uaW5QcmU9MSl9LGF0dHJpYnV0ZTpmdW5jdGlvbihiLGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKHRoaXMuZm9yY2VTaW1wbGVBbXBlcnNhbmQmJihhPWEucmVwbGFjZSgvJmFtcDsvZywiJiIpKSxhPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGVBdHRyKGEpKTt0aGlzLl8ub3V0cHV0LnB1c2goIiAiLGIsJz0iJyxhLCciJyl9LGNsb3NlVGFnOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuXy5ydWxlc1tiXTsKYSYmYS5pbmRlbnQmJih0aGlzLl8uaW5kZW50YXRpb249dGhpcy5fLmluZGVudGF0aW9uLnN1YnN0cih0aGlzLmluZGVudGF0aW9uQ2hhcnMubGVuZ3RoKSk7dGhpcy5fLmluZGVudD90aGlzLmluZGVudGF0aW9uKCk6YSYmYS5icmVha0JlZm9yZUNsb3NlJiYodGhpcy5saW5lQnJlYWsoKSx0aGlzLmluZGVudGF0aW9uKCkpO3RoaXMuXy5vdXRwdXQucHVzaCgiPC8iLGIsIj4iKTsicHJlIj09YiYmKHRoaXMuXy5pblByZT0wKTthJiZhLmJyZWFrQWZ0ZXJDbG9zZSYmKHRoaXMubGluZUJyZWFrKCksdGhpcy5fLm5lZWRzU3BhY2U9YS5uZWVkc1NwYWNlKTt0aGlzLl8uYWZ0ZXJDbG9zZXI9MX0sdGV4dDpmdW5jdGlvbihiKXt0aGlzLl8uaW5kZW50JiYodGhpcy5pbmRlbnRhdGlvbigpLCF0aGlzLl8uaW5QcmUmJihiPUNLRURJVE9SLnRvb2xzLmx0cmltKGIpKSk7dGhpcy5fLm91dHB1dC5wdXNoKGIpfSxjb21tZW50OmZ1bmN0aW9uKGIpe3RoaXMuXy5pbmRlbnQmJnRoaXMuaW5kZW50YXRpb24oKTsKdGhpcy5fLm91dHB1dC5wdXNoKCI8XCEtLSIsYiwiLS1cPiIpfSxsaW5lQnJlYWs6ZnVuY3Rpb24oKXshdGhpcy5fLmluUHJlJiYwPHRoaXMuXy5vdXRwdXQubGVuZ3RoJiZ0aGlzLl8ub3V0cHV0LnB1c2godGhpcy5saW5lQnJlYWtDaGFycyk7dGhpcy5fLmluZGVudD0xfSxpbmRlbnRhdGlvbjpmdW5jdGlvbigpeyF0aGlzLl8uaW5QcmUmJnRoaXMuXy5pbmRlbnRhdGlvbiYmdGhpcy5fLm91dHB1dC5wdXNoKHRoaXMuXy5pbmRlbnRhdGlvbik7dGhpcy5fLmluZGVudD0wfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuXy5vdXRwdXQ9W107dGhpcy5fLmluZGVudD0wO3RoaXMuXy5pbmRlbnRhdGlvbj0iIjt0aGlzLl8uYWZ0ZXJDbG9zZXI9MDt0aGlzLl8uaW5QcmU9MH0sc2V0UnVsZXM6ZnVuY3Rpb24oYixhKXt2YXIgYz10aGlzLl8ucnVsZXNbYl07Yz9DS0VESVRPUi50b29scy5leHRlbmQoYyxhLCEwKTp0aGlzLl8ucnVsZXNbYl09YX19fSk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gayhhKXt2YXIgZD10aGlzLmVkaXRvcixiPWEuZG9jdW1lbnQsYz1iLmJvZHk7KGE9Yi5nZXRFbGVtZW50QnlJZCgiY2tlX2FjdHNjcnB0IikpJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSk7KGE9Yi5nZXRFbGVtZW50QnlJZCgiY2tlX3NoaW1zY3JwdCIpKSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpO0NLRURJVE9SLmVudi5nZWNrbyYmKGMuY29udGVudEVkaXRhYmxlPSExLDJFND5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGMuaW5uZXJIVE1MPWMuaW5uZXJIVE1MLnJlcGxhY2UoL14uKjxcIS0tIGNrZS1jb250ZW50LXN0YXJ0IC0tXD4vLCIiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9bmV3IENLRURJVE9SLmRvbS5yYW5nZShuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGIpKTthLnNldFN0YXJ0KG5ldyBDS0VESVRPUi5kb20ubm9kZShjKSwwKTtkLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbYV0pfSwwKSkpO2MuY29udGVudEVkaXRhYmxlPQohMDtDS0VESVRPUi5lbnYuaWUmJihjLmhpZGVGb2N1cz0hMCxjLmRpc2FibGVkPSEwLGMucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpKTtkZWxldGUgdGhpcy5fLmlzTG9hZGluZ0RhdGE7dGhpcy4kPWM7Yj1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGIpO3RoaXMuc2V0dXAoKTtDS0VESVRPUi5lbnYuaWUmJihiLmdldERvY3VtZW50RWxlbWVudCgpLmFkZENsYXNzKGIuJC5jb21wYXRNb2RlKSxkLmNvbmZpZy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX1AmJnRoaXMuYXR0YWNoTGlzdGVuZXIoYiwic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbigpe3ZhciBhPWIuZ2V0Qm9keSgpLGM9ZC5nZXRTZWxlY3Rpb24oKSxlPWMmJmMuZ2V0UmFuZ2VzKClbMF07ZSYmKGEuZ2V0SHRtbCgpLm1hdGNoKC9ePHA+KD86Jm5ic3A7fDxicj4pPFwvcD4kL2kpJiZlLnN0YXJ0Q29udGFpbmVyLmVxdWFscyhhKSkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlPWQuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07CmlmKCFlLnN0YXJ0Q29udGFpbmVyLmVxdWFscygiYm9keSIpKXthLmdldEZpcnN0KCkucmVtb3ZlKDEpO2UubW92ZVRvRWxlbWVudEVkaXRFbmQoYSk7ZS5zZWxlY3QoKX19LDApfSkpO2lmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5pZSYmMTA8Q0tFRElUT1IuZW52LnZlcnNpb24pYi5nZXREb2N1bWVudEVsZW1lbnQoKS5vbigibW91c2Vkb3duIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0VGFyZ2V0KCkuaXMoImh0bWwiKSYmc2V0VGltZW91dChmdW5jdGlvbigpe2QuZWRpdGFibGUoKS5mb2N1cygpfSl9KTt0cnl7ZC5kb2N1bWVudC4kLmV4ZWNDb21tYW5kKCIyRC1wb3NpdGlvbiIsITEsITApfWNhdGNoKGUpe310cnl7ZC5kb2N1bWVudC4kLmV4ZWNDb21tYW5kKCJlbmFibGVJbmxpbmVUYWJsZUVkaXRpbmciLCExLCFkLmNvbmZpZy5kaXNhYmxlTmF0aXZlVGFibGVIYW5kbGVzKX1jYXRjaChnKXt9aWYoZC5jb25maWcuZGlzYWJsZU9iamVjdFJlc2l6aW5nKXRyeXt0aGlzLmdldERvY3VtZW50KCkuJC5leGVjQ29tbWFuZCgiZW5hYmxlT2JqZWN0UmVzaXppbmciLAohMSwhMSl9Y2F0Y2goZil7dGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLENLRURJVE9SLmVudi5pZT8icmVzaXplc3RhcnQiOiJyZXNpemUiLGZ1bmN0aW9uKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSl9KENLRURJVE9SLmVudi5nZWNrb3x8Q0tFRElUT1IuZW52LmllJiYiQ1NTMUNvbXBhdCI9PWQuZG9jdW1lbnQuJC5jb21wYXRNb2RlKSYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLCJrZXlkb3duIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZ2V0S2V5c3Ryb2tlKCk7aWYoYj09MzN8fGI9PTM0KWlmKENLRURJVE9SLmVudi5pZSlzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5nZXRTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpfSwwKTtlbHNlIGlmKGQud2luZG93LiQuaW5uZXJIZWlnaHQ+dGhpcy4kLm9mZnNldEhlaWdodCl7dmFyIGM9ZC5jcmVhdGVSYW5nZSgpO2NbYj09MzM\/Im1vdmVUb0VsZW1lbnRFZGl0U3RhcnQiOiJtb3ZlVG9FbGVtZW50RWRpdEVuZCJdKHRoaXMpOwpjLnNlbGVjdCgpO2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfX0pO0NLRURJVE9SLmVudi5pZSYmdGhpcy5hdHRhY2hMaXN0ZW5lcihiLCJibHVyIixmdW5jdGlvbigpe3RyeXtiLiQuc2VsZWN0aW9uLmVtcHR5KCl9Y2F0Y2goYSl7fX0pO2QuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZygidGl0bGUiKS5nZXRJdGVtKDApLmRhdGEoImNrZS10aXRsZSIsZC5kb2N1bWVudC4kLnRpdGxlKTtDS0VESVRPUi5lbnYuaWUmJihkLmRvY3VtZW50LiQudGl0bGU9dGhpcy5fLmRvY1RpdGxlKTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5maXJlKCJjb250ZW50RG9tIik7aWYodGhpcy5fLmlzUGVuZGluZ0ZvY3VzKXtkLmZvY3VzKCk7dGhpcy5fLmlzUGVuZGluZ0ZvY3VzPWZhbHNlfXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmZpcmUoImRhdGFSZWFkeSIpfSwwKTtDS0VESVRPUi5lbnYuaWUmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihkLmRvY3VtZW50KXt2YXIgYT0KZC5kb2N1bWVudC4kLmJvZHk7YS5ydW50aW1lU3R5bGUubWFyZ2luQm90dG9tPSIwcHgiO2EucnVudGltZVN0eWxlLm1hcmdpbkJvdHRvbT0iIn19LDFFMyl9LDAsdGhpcyl9ZnVuY3Rpb24gbCgpe3ZhciBhPVtdO2lmKDg8PUNLRURJVE9SLmRvY3VtZW50LiQuZG9jdW1lbnRNb2RlKXthLnB1c2goImh0bWwuQ1NTMUNvbXBhdCBbY29udGVudGVkaXRhYmxlPWZhbHNlXXttaW4taGVpZ2h0OjAgIWltcG9ydGFudH0iKTt2YXIgZD1bXSxiO2ZvcihiIGluIENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHkpZC5wdXNoKCJodG1sLkNTUzFDb21wYXQgIitiKyJbY29udGVudGVkaXRhYmxlPWZhbHNlXSIpO2EucHVzaChkLmpvaW4oIiwiKSsie2Rpc3BsYXk6aW5saW5lLWJsb2NrfSIpfWVsc2UgQ0tFRElUT1IuZW52LmdlY2tvJiYoYS5wdXNoKCJodG1se2hlaWdodDoxMDAlICFpbXBvcnRhbnR9IiksYS5wdXNoKCJpbWc6LW1vei1icm9rZW57LW1vei1mb3JjZS1icm9rZW4taW1hZ2UtaWNvbjoxO21pbi13aWR0aDoyNHB4O21pbi1oZWlnaHQ6MjRweH0iKSk7CmEucHVzaCgiaHRtbHtjdXJzb3I6dGV4dDsqY3Vyc29yOmF1dG99Iik7YS5wdXNoKCJpbWcsaW5wdXQsdGV4dGFyZWF7Y3Vyc29yOmRlZmF1bHR9Iik7cmV0dXJuIGEuam9pbigiXG4iKX1DS0VESVRPUi5wbHVnaW5zLmFkZCgid3lzaXd5Z2FyZWEiLHtpbml0OmZ1bmN0aW9uKGEpe2EuY29uZmlnLmZ1bGxQYWdlJiZhLmFkZEZlYXR1cmUoe2FsbG93ZWRDb250ZW50OiJodG1sIGhlYWQgdGl0bGU7IHN0eWxlIFttZWRpYSx0eXBlXTsgYm9keSAoKilbaWRdOyBtZXRhIGxpbmsgWypdIixyZXF1aXJlZENvbnRlbnQ6ImJvZHkifSk7YS5hZGRNb2RlKCJ3eXNpd3lnIixmdW5jdGlvbihkKXtmdW5jdGlvbiBiKGIpe2ImJmIucmVtb3ZlTGlzdGVuZXIoKTthLmVkaXRhYmxlKG5ldyBqKGEsZS4kLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keSkpO2Euc2V0RGF0YShhLmdldERhdGEoMSksZCl9dmFyIGM9ImRvY3VtZW50Lm9wZW4oKTsiKyhDS0VESVRPUi5lbnYuaWU\/IigiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbisKIikoKTsiOiIiKSsiZG9jdW1lbnQuY2xvc2UoKTsiLGM9Q0tFRElUT1IuZW52LmFpcj8iamF2YXNjcmlwdDp2b2lkKDApIjpDS0VESVRPUi5lbnYuaWU\/ImphdmFzY3JpcHQ6dm9pZChmdW5jdGlvbigpeyIrZW5jb2RlVVJJQ29tcG9uZW50KGMpKyJ9KCkpIjoiIixlPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCc8aWZyYW1lIHNyYz0iJytjKyciIGZyYW1lQm9yZGVyPSIwIj48L2lmcmFtZT4nKTtlLnNldFN0eWxlcyh7d2lkdGg6IjEwMCUiLGhlaWdodDoiMTAwJSJ9KTtlLmFkZENsYXNzKCJja2Vfd3lzaXd5Z19mcmFtZSBja2VfcmVzZXQiKTt2YXIgZz1hLnVpLnNwYWNlKCJjb250ZW50cyIpO2cuYXBwZW5kKGUpO2lmKGM9Q0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYuZ2Vja28pZS5vbigibG9hZCIsYik7dmFyIGY9YS50aXRsZSxoPWEubGFuZy5jb21tb24uZWRpdG9ySGVscDtmJiYoQ0tFRElUT1IuZW52LmllJiYoZis9IiwgIitoKSxlLnNldEF0dHJpYnV0ZSgidGl0bGUiLApmKSk7dmFyIGY9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksaT1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnPHNwYW4gaWQ9IicrZisnIiBjbGFzcz0iY2tlX3ZvaWNlX2xhYmVsIj4nK2grIjwvc3Bhbj4iKTtnLmFwcGVuZChpLDEpO2Eub24oImJlZm9yZU1vZGVVbmxvYWQiLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTtpLnJlbW92ZSgpfSk7ZS5zZXRBdHRyaWJ1dGVzKHsiYXJpYS1kZXNjcmliZWRieSI6Zix0YWJJbmRleDphLnRhYkluZGV4LGFsbG93VHJhbnNwYXJlbmN5OiJ0cnVlIn0pOyFjJiZiKCk7Q0tFRElUT1IuZW52LndlYmtpdCYmKGM9ZnVuY3Rpb24oKXtnLnNldFN0eWxlKCJ3aWR0aCIsIjEwMCUiKTtlLmhpZGUoKTtlLnNldFNpemUoIndpZHRoIixnLmdldFNpemUoIndpZHRoIikpO2cucmVtb3ZlU3R5bGUoIndpZHRoIik7ZS5zaG93KCl9LGUuc2V0Q3VzdG9tRGF0YSgib25SZXNpemUiLGMpLENLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLm9uKCJyZXNpemUiLApjKSk7YS5maXJlKCJhcmlhV2lkZ2V0IixlKX0pfX0pO3ZhciBqPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEpe3RoaXMuYmFzZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fLmZyYW1lTG9hZGVkSGFuZGxlcj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGssMCx0aGlzLGEpfSx0aGlzKTt0aGlzLl8uZG9jVGl0bGU9dGhpcy5nZXRXaW5kb3coKS5nZXRGcmFtZSgpLmdldEF0dHJpYnV0ZSgidGl0bGUiKX0sYmFzZTpDS0VESVRPUi5lZGl0YWJsZSxwcm90bzp7c2V0RGF0YTpmdW5jdGlvbihhLGQpe3ZhciBiPXRoaXMuZWRpdG9yO2lmKGQpdGhpcy5zZXRIdG1sKGEpLGIuZmlyZSgiZGF0YVJlYWR5Iik7ZWxzZXt0aGlzLl8uaXNMb2FkaW5nRGF0YT0hMDtiLl8uZGF0YVN0b3JlPXtpZDoxfTt2YXIgYz1iLmNvbmZpZyxlPWMuZnVsbFBhZ2UsZz1jLmRvY1R5cGUsZj1DS0VESVRPUi50b29scy5idWlsZFN0eWxlSHRtbChsKCkpLnJlcGxhY2UoLzxzdHlsZT4vLAonPHN0eWxlIGRhdGEtY2tlLXRlbXA9IjEiPicpO2V8fChmKz1DS0VESVRPUi50b29scy5idWlsZFN0eWxlSHRtbChiLmNvbmZpZy5jb250ZW50c0NzcykpO3ZhciBoPWMuYmFzZUhyZWY\/JzxiYXNlIGhyZWY9IicrYy5iYXNlSHJlZisnIiBkYXRhLWNrZS10ZW1wPSIxIiAvPic6IiI7ZSYmKGE9YS5yZXBsYWNlKC88IURPQ1RZUEVbXj5dKj4vaSxmdW5jdGlvbihhKXtiLmRvY1R5cGU9Zz1hO3JldHVybiIifSkucmVwbGFjZSgvPFw\/eG1sXHNbXlw\/XSpcPz4vaSxmdW5jdGlvbihhKXtiLnhtbERlY2xhcmF0aW9uPWE7cmV0dXJuIiJ9KSk7YT1iLmRhdGFQcm9jZXNzb3IudG9IdG1sKGEpO2U\/KC88Ym9keVtcc3w+XS8udGVzdChhKXx8KGE9Ijxib2R5PiIrYSksLzxodG1sW1xzfD5dLy50ZXN0KGEpfHwoYT0iPGh0bWw+IithKyI8L2h0bWw+IiksLzxoZWFkW1xzfD5dLy50ZXN0KGEpPy88dGl0bGVbXHN8Pl0vLnRlc3QoYSl8fChhPWEucmVwbGFjZSgvPGhlYWRbXj5dKj4vLCIkJjx0aXRsZT48L3RpdGxlPiIpKToKYT1hLnJlcGxhY2UoLzxodG1sW14+XSo+LywiJCY8aGVhZD48dGl0bGU+PC90aXRsZT48L2hlYWQ+IiksaCYmKGE9YS5yZXBsYWNlKC88aGVhZD4vLCIkJiIraCkpLGE9YS5yZXBsYWNlKC88XC9oZWFkXHMqPi8sZisiJCYiKSxhPWcrYSk6YT1jLmRvY1R5cGUrJzxodG1sIGRpcj0iJytjLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbisnIiBsYW5nPSInKyhjLmNvbnRlbnRzTGFuZ3VhZ2V8fGIubGFuZ0NvZGUpKyciPjxoZWFkPjx0aXRsZT4nK3RoaXMuXy5kb2NUaXRsZSsiPC90aXRsZT4iK2grZisiPC9oZWFkPjxib2R5IisoYy5ib2R5SWQ\/JyBpZD0iJytjLmJvZHlJZCsnIic6IiIpKyhjLmJvZHlDbGFzcz8nIGNsYXNzPSInK2MuYm9keUNsYXNzKyciJzoiIikrIj4iK2ErIjwvYm9keT48L2h0bWw+IjtDS0VESVRPUi5lbnYuZ2Vja28mJihhPWEucmVwbGFjZSgvPGJvZHkvLCc8Ym9keSBjb250ZW50ZWRpdGFibGU9InRydWUiICcpLDJFND5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGE9YS5yZXBsYWNlKC88Ym9keVtePl0qPi8sCiIkJjxcIS0tIGNrZS1jb250ZW50LXN0YXJ0IC0tXD4iKSkpO2M9JzxzY3JpcHQgaWQ9ImNrZV9hY3RzY3JwdCIgdHlwZT0idGV4dC9qYXZhc2NyaXB0IicrKENLRURJVE9SLmVudi5pZT8nIGRlZmVyPSJkZWZlciIgJzoiIikrIj52YXIgd2FzTG9hZGVkPTA7ZnVuY3Rpb24gb25sb2FkKCl7aWYoIXdhc0xvYWRlZCl3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbigiK3RoaXMuXy5mcmFtZUxvYWRlZEhhbmRsZXIrIix3aW5kb3cpO3dhc0xvYWRlZD0xO30iKyhDS0VESVRPUi5lbnYuaWU\/Im9ubG9hZCgpOyI6J2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBvbmxvYWQsIGZhbHNlICk7JykrIjxcL3NjcmlwdD4iO0NLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGMrPSc8c2NyaXB0IGlkPSJja2Vfc2hpbXNjcnB0Ij53aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmVuYWJsZUh0bWw1RWxlbWVudHMoZG9jdW1lbnQpPFwvc2NyaXB0PicpOwphPWEucmVwbGFjZSgvKD89XHMqPFwvKDo\/aGVhZCk+KS8sYyk7dGhpcy5jbGVhckN1c3RvbURhdGEoKTt0aGlzLmNsZWFyTGlzdGVuZXJzKCk7Yi5maXJlKCJjb250ZW50RG9tVW5sb2FkIik7dmFyIGk9dGhpcy5nZXREb2N1bWVudCgpO3RyeXtpLndyaXRlKGEpfWNhdGNoKGope3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpLndyaXRlKGEpfSwwKX19fSxnZXREYXRhOmZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuIHRoaXMuZ2V0SHRtbCgpO3ZhciBhPXRoaXMuZWRpdG9yLGQ9YS5jb25maWcsYj1kLmZ1bGxQYWdlLGM9YiYmYS5kb2NUeXBlLGU9YiYmYS54bWxEZWNsYXJhdGlvbixnPXRoaXMuZ2V0RG9jdW1lbnQoKSxiPWI\/Zy5nZXREb2N1bWVudEVsZW1lbnQoKS5nZXRPdXRlckh0bWwoKTpnLmdldEJvZHkoKS5nZXRIdG1sKCk7Q0tFRElUT1IuZW52LmdlY2tvJiZkLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJihiPWIucmVwbGFjZSgvPGJyPig\/PVxzKig6PyR8PFwvYm9keT4pKS8sCiIiKSk7Yj1hLmRhdGFQcm9jZXNzb3IudG9EYXRhRm9ybWF0KGIpO2UmJihiPWUrIlxuIitiKTtjJiYoYj1jKyJcbiIrYik7cmV0dXJuIGJ9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5fLmlzTG9hZGluZ0RhdGE\/dGhpcy5fLmlzUGVuZGluZ0ZvY3VzPSEwOmouYmFzZVByb3RvLmZvY3VzLmNhbGwodGhpcyl9LGRldGFjaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLGQ9YS5kb2N1bWVudCxiPWEud2luZG93LmdldEZyYW1lKCk7ai5iYXNlUHJvdG8uZGV0YWNoLmNhbGwodGhpcyk7dGhpcy5jbGVhckN1c3RvbURhdGEoKTtkLmdldERvY3VtZW50RWxlbWVudCgpLmNsZWFyQ3VzdG9tRGF0YSgpO2IuY2xlYXJDdXN0b21EYXRhKCk7Q0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24odGhpcy5fLmZyYW1lTG9hZGVkSGFuZGxlcik7KGQ9Yi5yZW1vdmVDdXN0b21EYXRhKCJvblJlc2l6ZSIpKSYmZC5yZW1vdmVMaXN0ZW5lcigpO2EuZmlyZSgiY29udGVudERvbVVubG9hZCIpO2IucmVtb3ZlKCl9fX0pfSkoKTsKQ0tFRElUT1IuY29uZmlnLmRpc2FibGVPYmplY3RSZXNpemluZz0hMTtDS0VESVRPUi5jb25maWcuZGlzYWJsZU5hdGl2ZVRhYmxlSGFuZGxlcz0hMDtDS0VESVRPUi5jb25maWcuZGlzYWJsZU5hdGl2ZVNwZWxsQ2hlY2tlcj0hMDtDS0VESVRPUi5jb25maWcuY29udGVudHNDc3M9Q0tFRElUT1IuYmFzZVBhdGgrImNvbnRlbnRzLmNzcyI7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShiLGEpe2F8fChhPWIuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRFbGVtZW50KCkpO2lmKGEmJmEuaXMoImltZyIpJiYhYS5kYXRhKCJja2UtcmVhbGVsZW1lbnQiKSYmIWEuaXNSZWFkT25seSgpKXJldHVybiBhfWZ1bmN0aW9uIGYoYil7dmFyIGE9Yi5nZXRTdHlsZSgiZmxvYXQiKTtpZigiaW5oZXJpdCI9PWF8fCJub25lIj09YSlhPTA7YXx8KGE9Yi5nZXRBdHRyaWJ1dGUoImFsaWduIikpO3JldHVybiBhfUNLRURJVE9SLnBsdWdpbnMuYWRkKCJpbWFnZSIse3JlcXVpcmVzOiJkaWFsb2ciLGluaXQ6ZnVuY3Rpb24oYil7aWYoIWIucGx1Z2lucy5pbWFnZTIpe0NLRURJVE9SLmRpYWxvZy5hZGQoImltYWdlIix0aGlzLnBhdGgrImRpYWxvZ3MvaW1hZ2UuanMiKTt2YXIgYT0iaW1nW2FsdCwhc3JjXXtib3JkZXItc3R5bGUsYm9yZGVyLXdpZHRoLGZsb2F0LGhlaWdodCxtYXJnaW4sbWFyZ2luLWJvdHRvbSxtYXJnaW4tbGVmdCxtYXJnaW4tcmlnaHQsbWFyZ2luLXRvcCx3aWR0aH0iOwpDS0VESVRPUi5kaWFsb2cuaXNUYWJFbmFibGVkKGIsImltYWdlIiwiYWR2YW5jZWQiKSYmKGE9ImltZ1thbHQsZGlyLGlkLGxhbmcsbG9uZ2Rlc2MsIXNyYyx0aXRsZV17Kn0oKikiKTtiLmFkZENvbW1hbmQoImltYWdlIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZCgiaW1hZ2UiLHthbGxvd2VkQ29udGVudDphLHJlcXVpcmVkQ29udGVudDoiaW1nW2FsdCxzcmNdIixjb250ZW50VHJhbnNmb3JtYXRpb25zOltbImltZ3t3aWR0aH06IHNpemVUb1N0eWxlIiwiaW1nW3dpZHRoXTogc2l6ZVRvQXR0cmlidXRlIl0sWyJpbWd7ZmxvYXR9OiBhbGlnbm1lbnRUb1N0eWxlIiwiaW1nW2FsaWduXTogYWxpZ25tZW50VG9BdHRyaWJ1dGUiXV19KSk7Yi51aS5hZGRCdXR0b24mJmIudWkuYWRkQnV0dG9uKCJJbWFnZSIse2xhYmVsOmIubGFuZy5jb21tb24uaW1hZ2UsY29tbWFuZDoiaW1hZ2UiLHRvb2xiYXI6Imluc2VydCwxMCJ9KTtiLm9uKCJkb3VibGVjbGljayIsZnVuY3Rpb24oYil7dmFyIGE9CmIuZGF0YS5lbGVtZW50O2EuaXMoImltZyIpJiYoIWEuZGF0YSgiY2tlLXJlYWxlbGVtZW50IikmJiFhLmlzUmVhZE9ubHkoKSkmJihiLmRhdGEuZGlhbG9nPSJpbWFnZSIpfSk7Yi5hZGRNZW51SXRlbXMmJmIuYWRkTWVudUl0ZW1zKHtpbWFnZTp7bGFiZWw6Yi5sYW5nLmltYWdlLm1lbnUsY29tbWFuZDoiaW1hZ2UiLGdyb3VwOiJpbWFnZSJ9fSk7Yi5jb250ZXh0TWVudSYmYi5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihhKXtpZihlKGIsYSkpcmV0dXJue2ltYWdlOkNLRURJVE9SLlRSSVNUQVRFX09GRn19KX19LGFmdGVySW5pdDpmdW5jdGlvbihiKXtmdW5jdGlvbiBhKGEpe3ZhciBkPWIuZ2V0Q29tbWFuZCgianVzdGlmeSIrYSk7aWYoZCl7aWYoImxlZnQiPT1hfHwicmlnaHQiPT1hKWQub24oImV4ZWMiLGZ1bmN0aW9uKGQpe3ZhciBjPWUoYiksZztjJiYoZz1mKGMpLGc9PWE\/KGMucmVtb3ZlU3R5bGUoImZsb2F0IiksYT09ZihjKSYmYy5yZW1vdmVBdHRyaWJ1dGUoImFsaWduIikpOgpjLnNldFN0eWxlKCJmbG9hdCIsYSksZC5jYW5jZWwoKSl9KTtkLm9uKCJyZWZyZXNoIixmdW5jdGlvbihkKXt2YXIgYz1lKGIpO2MmJihjPWYoYyksdGhpcy5zZXRTdGF0ZShjPT1hP0NLRURJVE9SLlRSSVNUQVRFX09OOiJyaWdodCI9PWF8fCJsZWZ0Ij09YT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpLGQuY2FuY2VsKCkpfSl9fWIucGx1Z2lucy5pbWFnZTJ8fChhKCJsZWZ0IiksYSgicmlnaHQiKSxhKCJjZW50ZXIiKSxhKCJibG9jayIpKX19KX0pKCk7Q0tFRElUT1IuY29uZmlnLmltYWdlX3JlbW92ZUxpbmtCeUVtcHR5VVJMPSEwOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGsoYSxiKXt2YXIgZSxmO2Iub24oInJlZnJlc2giLGZ1bmN0aW9uKGEpe3ZhciBiPVtpXSxjO2ZvcihjIGluIGEuZGF0YS5zdGF0ZXMpYi5wdXNoKGEuZGF0YS5zdGF0ZXNbY10pO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IudG9vbHMuc2VhcmNoKGIsbSk\/bTppKX0sYixudWxsLDEwMCk7Yi5vbigiZXhlYyIsZnVuY3Rpb24oYil7ZT1hLmdldFNlbGVjdGlvbigpO2Y9ZS5jcmVhdGVCb29rbWFya3MoMSk7Yi5kYXRhfHwoYi5kYXRhPXt9KTtiLmRhdGEuZG9uZT0hMX0sYixudWxsLDApO2Iub24oImV4ZWMiLGZ1bmN0aW9uKCl7YS5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2Uuc2VsZWN0Qm9va21hcmtzKGYpfSxiLG51bGwsMTAwKX12YXIgaT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxtPUNLRURJVE9SLlRSSVNUQVRFX09GRjtDS0VESVRPUi5wbHVnaW5zLmFkZCgiaW5kZW50Iix7aW5pdDpmdW5jdGlvbihhKXt2YXIgYj1DS0VESVRPUi5wbHVnaW5zLmluZGVudC5nZW5lcmljRGVmaW5pdGlvbjsKayhhLGEuYWRkQ29tbWFuZCgiaW5kZW50IixuZXcgYighMCkpKTtrKGEsYS5hZGRDb21tYW5kKCJvdXRkZW50IixuZXcgYikpO2EudWkuYWRkQnV0dG9uJiYoYS51aS5hZGRCdXR0b24oIkluZGVudCIse2xhYmVsOmEubGFuZy5pbmRlbnQuaW5kZW50LGNvbW1hbmQ6ImluZGVudCIsZGlyZWN0aW9uYWw6ITAsdG9vbGJhcjoiaW5kZW50LDIwIn0pLGEudWkuYWRkQnV0dG9uKCJPdXRkZW50Iix7bGFiZWw6YS5sYW5nLmluZGVudC5vdXRkZW50LGNvbW1hbmQ6Im91dGRlbnQiLGRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6ImluZGVudCwxMCJ9KSk7YS5vbigiZGlyQ2hhbmdlZCIsZnVuY3Rpb24oYil7dmFyIGY9YS5jcmVhdGVSYW5nZSgpLGo9Yi5kYXRhLm5vZGU7Zi5zZXRTdGFydEJlZm9yZShqKTtmLnNldEVuZEFmdGVyKGopO2Zvcih2YXIgbD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihmKSxjO2M9bC5uZXh0KCk7KWlmKGMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKCFjLmVxdWFscyhqKSYmCmMuZ2V0RGlyZWN0aW9uKCkpe2Yuc2V0U3RhcnRBZnRlcihjKTtsPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGYpfWVsc2V7dmFyIGQ9YS5jb25maWcuaW5kZW50Q2xhc3NlcztpZihkKWZvcih2YXIgZz1iLmRhdGEuZGlyPT0ibHRyIj9bIl9ydGwiLCIiXTpbIiIsIl9ydGwiXSxoPTA7aDxkLmxlbmd0aDtoKyspaWYoYy5oYXNDbGFzcyhkW2hdK2dbMF0pKXtjLnJlbW92ZUNsYXNzKGRbaF0rZ1swXSk7Yy5hZGRDbGFzcyhkW2hdK2dbMV0pfWQ9Yy5nZXRTdHlsZSgibWFyZ2luLXJpZ2h0Iik7Zz1jLmdldFN0eWxlKCJtYXJnaW4tbGVmdCIpO2Q\/Yy5zZXRTdHlsZSgibWFyZ2luLWxlZnQiLGQpOmMucmVtb3ZlU3R5bGUoIm1hcmdpbi1sZWZ0Iik7Zz9jLnNldFN0eWxlKCJtYXJnaW4tcmlnaHQiLGcpOmMucmVtb3ZlU3R5bGUoIm1hcmdpbi1yaWdodCIpfX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuaW5kZW50PXtnZW5lcmljRGVmaW5pdGlvbjpmdW5jdGlvbihhKXt0aGlzLmlzSW5kZW50PQohIWE7dGhpcy5zdGFydERpc2FibGVkPSF0aGlzLmlzSW5kZW50fSxzcGVjaWZpY0RlZmluaXRpb246ZnVuY3Rpb24oYSxiLGUpe3RoaXMubmFtZT1iO3RoaXMuZWRpdG9yPWE7dGhpcy5qb2JzPXt9O3RoaXMuZW50ZXJCcj1hLmNvbmZpZy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSO3RoaXMuaXNJbmRlbnQ9ISFlO3RoaXMucmVsYXRlZEdsb2JhbD1lPyJpbmRlbnQiOiJvdXRkZW50Ijt0aGlzLmluZGVudEtleT1lPzk6Q0tFRElUT1IuU0hJRlQrOTt0aGlzLmRhdGFiYXNlPXt9fSxyZWdpc3RlckNvbW1hbmRzOmZ1bmN0aW9uKGEsYil7YS5vbigicGx1Z2luc0xvYWRlZCIsZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gYikoZnVuY3Rpb24oYSxiKXt2YXIgZT1hLmdldENvbW1hbmQoYi5yZWxhdGVkR2xvYmFsKSxjO2ZvcihjIGluIGIuam9icyllLm9uKCJleGVjIixmdW5jdGlvbihkKXtkLmRhdGEuZG9uZXx8KGEuZmlyZSgibG9ja1NuYXBzaG90IiksYi5leGVjSm9iKGEsYykmJihkLmRhdGEuZG9uZT0KITApLGEuZmlyZSgidW5sb2NrU25hcHNob3QiKSxDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoYi5kYXRhYmFzZSkpfSx0aGlzLG51bGwsYyksZS5vbigicmVmcmVzaCIsZnVuY3Rpb24oZCl7ZC5kYXRhLnN0YXRlc3x8KGQuZGF0YS5zdGF0ZXM9e30pO2QuZGF0YS5zdGF0ZXNbYi5uYW1lKyJAIitjXT1iLnJlZnJlc2hKb2IoYSxjLGQuZGF0YS5wYXRoKX0sdGhpcyxudWxsLGMpO2EuYWRkRmVhdHVyZShiKX0pKHRoaXMsYlthXSl9KX19O0NLRURJVE9SLnBsdWdpbnMuaW5kZW50LmdlbmVyaWNEZWZpbml0aW9uLnByb3RvdHlwZT17Y29udGV4dDoicCIsZXhlYzpmdW5jdGlvbigpe319O0NLRURJVE9SLnBsdWdpbnMuaW5kZW50LnNwZWNpZmljRGVmaW5pdGlvbi5wcm90b3R5cGU9e2V4ZWNKb2I6ZnVuY3Rpb24oYSxiKXt2YXIgZT10aGlzLmpvYnNbYl07aWYoZS5zdGF0ZSE9aSlyZXR1cm4gZS5leGVjLmNhbGwodGhpcyxhKX0scmVmcmVzaEpvYjpmdW5jdGlvbihhLApiLGUpe2I9dGhpcy5qb2JzW2JdO2Iuc3RhdGU9YS5hY3RpdmVGaWx0ZXIuY2hlY2tGZWF0dXJlKHRoaXMpP2IucmVmcmVzaC5jYWxsKHRoaXMsYSxlKTppO3JldHVybiBiLnN0YXRlfSxnZXRDb250ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRhaW5zKHRoaXMuY29udGV4dCl9fX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcyhlKXtmdW5jdGlvbiBnKGIpe2Zvcih2YXIgZj1kLnN0YXJ0Q29udGFpbmVyLGE9ZC5lbmRDb250YWluZXI7ZiYmIWYuZ2V0UGFyZW50KCkuZXF1YWxzKGIpOylmPWYuZ2V0UGFyZW50KCk7Zm9yKDthJiYhYS5nZXRQYXJlbnQoKS5lcXVhbHMoYik7KWE9YS5nZXRQYXJlbnQoKTtpZighZnx8IWEpcmV0dXJuITE7Zm9yKHZhciBoPWYsZj1bXSxjPSExOyFjOyloLmVxdWFscyhhKSYmKGM9ITApLGYucHVzaChoKSxoPWguZ2V0TmV4dCgpO2lmKDE+Zi5sZW5ndGgpcmV0dXJuITE7aD1iLmdldFBhcmVudHMoITApO2ZvcihhPTA7YTxoLmxlbmd0aDthKyspaWYoaFthXS5nZXROYW1lJiZrW2hbYV0uZ2V0TmFtZSgpXSl7Yj1oW2FdO2JyZWFrfWZvcih2YXIgaD1uLmlzSW5kZW50PzE6LTEsYT1mWzBdLGY9ZltmLmxlbmd0aC0xXSxjPUNLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShiLG8pLGc9Y1tmLmdldEN1c3RvbURhdGEoImxpc3RhcnJheV9pbmRleCIpXS5pbmRlbnQsCmE9YS5nZXRDdXN0b21EYXRhKCJsaXN0YXJyYXlfaW5kZXgiKTthPD1mLmdldEN1c3RvbURhdGEoImxpc3RhcnJheV9pbmRleCIpO2ErKylpZihjW2FdLmluZGVudCs9aCwwPGgpe3ZhciBsPWNbYV0ucGFyZW50O2NbYV0ucGFyZW50PW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChsLmdldE5hbWUoKSxsLmdldERvY3VtZW50KCkpfWZvcihhPWYuZ2V0Q3VzdG9tRGF0YSgibGlzdGFycmF5X2luZGV4IikrMTthPGMubGVuZ3RoJiZjW2FdLmluZGVudD5nO2ErKyljW2FdLmluZGVudCs9aDtmPUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdChjLG8sbnVsbCxlLmNvbmZpZy5lbnRlck1vZGUsYi5nZXREaXJlY3Rpb24oKSk7aWYoIW4uaXNJbmRlbnQpe3ZhciBpO2lmKChpPWIuZ2V0UGFyZW50KCkpJiZpLmlzKCJsaSIpKWZvcih2YXIgaD1mLmxpc3ROb2RlLmdldENoaWxkcmVuKCksbT1bXSxqLGE9aC5jb3VudCgpLTE7MDw9YTthLS0pKGo9aC5nZXRJdGVtKGEpKSYmKGouaXMmJgpqLmlzKCJsaSIpKSYmbS5wdXNoKGopfWYmJmYubGlzdE5vZGUucmVwbGFjZShiKTtpZihtJiZtLmxlbmd0aClmb3IoYT0wO2E8bS5sZW5ndGg7YSsrKXtmb3Ioaj1iPW1bYV07KGo9ai5nZXROZXh0KCkpJiZqLmlzJiZqLmdldE5hbWUoKWluIGs7KUNLRURJVE9SLmVudi5uZWVkc05ic3BGaWxsZXImJiFiLmdldEZpcnN0KHQpJiZiLmFwcGVuZChkLmRvY3VtZW50LmNyZWF0ZVRleHQoIsKgIikpLGIuYXBwZW5kKGopO2IuaW5zZXJ0QWZ0ZXIoaSl9ZiYmZS5maXJlKCJjb250ZW50RG9tSW52YWxpZGF0ZWQiKTtyZXR1cm4hMH1mb3IodmFyIG49dGhpcyxvPXRoaXMuZGF0YWJhc2Usaz10aGlzLmNvbnRleHQsbD1lLmdldFNlbGVjdGlvbigpLGw9KGwmJmwuZ2V0UmFuZ2VzKCkpLmNyZWF0ZUl0ZXJhdG9yKCksZDtkPWwuZ2V0TmV4dFJhbmdlKCk7KXtmb3IodmFyIGI9ZC5nZXRDb21tb25BbmNlc3RvcigpO2ImJiEoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmtbYi5nZXROYW1lKCldKTspYj0KYi5nZXRQYXJlbnQoKTtifHwoYj1kLnN0YXJ0UGF0aCgpLmNvbnRhaW5zKGspKSYmZC5zZXRFbmRBdChiLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2lmKCFiKXt2YXIgYz1kLmdldEVuY2xvc2VkTm9kZSgpO2MmJihjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5nZXROYW1lKClpbiBrKSYmKGQuc2V0U3RhcnRBdChjLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxkLnNldEVuZEF0KGMsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksYj1jKX1iJiYoZC5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuc3RhcnRDb250YWluZXIuZ2V0TmFtZSgpaW4gaykmJihjPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGQpLGMuZXZhbHVhdG9yPWksZC5zdGFydENvbnRhaW5lcj1jLm5leHQoKSk7YiYmKGQuZW5kQ29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5lbmRDb250YWluZXIuZ2V0TmFtZSgpaW4gaykmJgooYz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKSxjLmV2YWx1YXRvcj1pLGQuZW5kQ29udGFpbmVyPWMucHJldmlvdXMoKSk7aWYoYilyZXR1cm4gZyhiKX1yZXR1cm4gMH1mdW5jdGlvbiBwKGUsZyl7Z3x8KGc9ZS5jb250YWlucyh0aGlzLmNvbnRleHQpKTtyZXR1cm4gZyYmZS5ibG9jayYmZS5ibG9jay5lcXVhbHMoZy5nZXRGaXJzdChpKSl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmUuaXMoImxpIil9ZnVuY3Rpb24gdChlKXtyZXR1cm4gdShlKSYmdihlKX12YXIgdT1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKSx2PUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEsITApLHE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQscj1DS0VESVRPUi5UUklTVEFURV9PRkY7Q0tFRElUT1IucGx1Z2lucy5hZGQoImluZGVudGxpc3QiLHtyZXF1aXJlczoiaW5kZW50Iixpbml0OmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGcoZSwKZyl7aS5zcGVjaWZpY0RlZmluaXRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMucmVxdWlyZWRDb250ZW50PVsidWwiLCJvbCJdO2Uub24oImtleSIsZnVuY3Rpb24oZyl7aWYoInd5c2l3eWciPT1lLm1vZGUmJmcuZGF0YS5rZXlDb2RlPT10aGlzLmluZGVudEtleSl7dmFyIGQ9dGhpcy5nZXRDb250ZXh0KGUuZWxlbWVudFBhdGgoKSk7aWYoZCYmKCF0aGlzLmlzSW5kZW50fHwhcC5jYWxsKHRoaXMsZS5lbGVtZW50UGF0aCgpLGQpKSllLmV4ZWNDb21tYW5kKHRoaXMucmVsYXRlZEdsb2JhbCksZy5jYW5jZWwoKX19LHRoaXMpO3RoaXMuam9ic1t0aGlzLmlzSW5kZW50PzEwOjMwXT17cmVmcmVzaDp0aGlzLmlzSW5kZW50P2Z1bmN0aW9uKGUsZCl7dmFyIGI9dGhpcy5nZXRDb250ZXh0KGQpLGM9cC5jYWxsKHRoaXMsZCxiKTtyZXR1cm4hYnx8IXRoaXMuaXNJbmRlbnR8fGM\/cTpyfTpmdW5jdGlvbihlLGQpe3JldHVybiF0aGlzLmdldENvbnRleHQoZCl8fHRoaXMuaXNJbmRlbnQ\/CnE6cn0sZXhlYzpDS0VESVRPUi50b29scy5iaW5kKHMsdGhpcyl9fXZhciBpPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50O2kucmVnaXN0ZXJDb21tYW5kcyhlLHtpbmRlbnRsaXN0Om5ldyBnKGUsImluZGVudGxpc3QiLCEwKSxvdXRkZW50bGlzdDpuZXcgZyhlLCJvdXRkZW50bGlzdCIpfSk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGcucHJvdG90eXBlLGkuc3BlY2lmaWNEZWZpbml0aW9uLnByb3RvdHlwZSx7Y29udGV4dDp7b2w6MSx1bDoxfX0pfX0pfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBnKGEsYil7dmFyIGM9ai5leGVjKGEpLGQ9ai5leGVjKGIpO2lmKGMpe2lmKCFjWzJdJiYicHgiPT1kWzJdKXJldHVybiBkWzFdO2lmKCJweCI9PWNbMl0mJiFkWzJdKXJldHVybiBkWzFdKyJweCJ9cmV0dXJuIGJ9dmFyIGk9Q0tFRElUT1IuaHRtbFBhcnNlci5jc3NTdHlsZSxoPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aCxqPS9eKCg\/OlxkKig\/OlwuXGQrKSl8KD86XGQrKSkoLiopPyQvaSxsPXtlbGVtZW50czp7JDpmdW5jdGlvbihhKXt2YXIgYj1hLmF0dHJpYnV0ZXM7aWYoKGI9KGI9KGI9YiYmYlsiZGF0YS1ja2UtcmVhbGVsZW1lbnQiXSkmJm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGRlY29kZVVSSUNvbXBvbmVudChiKSkpJiZiLmNoaWxkcmVuWzBdKSYmYS5hdHRyaWJ1dGVzWyJkYXRhLWNrZS1yZXNpemFibGUiXSl7dmFyIGM9KG5ldyBpKGEpKS5ydWxlcyxhPWIuYXR0cmlidXRlcyxkPWMud2lkdGgsYz0KYy5oZWlnaHQ7ZCYmKGEud2lkdGg9ZyhhLndpZHRoLGQpKTtjJiYoYS5oZWlnaHQ9ZyhhLmhlaWdodCxjKSl9cmV0dXJuIGJ9fX0saz1DS0VESVRPUi5wbHVnaW5zLmFkZCgiZmFrZW9iamVjdHMiLHtpbml0OmZ1bmN0aW9uKGEpe2EuZmlsdGVyLmFsbG93KCJpbWdbIWRhdGEtY2tlLXJlYWxlbGVtZW50LHNyYyxhbHQsdGl0bGVdKCopeyp9IiwiZmFrZW9iamVjdHMiKX0sYWZ0ZXJJbml0OmZ1bmN0aW9uKGEpeyhhPShhPWEuZGF0YVByb2Nlc3NvcikmJmEuaHRtbEZpbHRlcikmJmEuYWRkUnVsZXMobCl9fSk7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5jcmVhdGVGYWtlRWxlbWVudD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmxhbmcuZmFrZW9iamVjdHMsZT1lW2NdfHxlLnVua25vd24sYj17ImNsYXNzIjpiLCJkYXRhLWNrZS1yZWFsZWxlbWVudCI6ZW5jb2RlVVJJQ29tcG9uZW50KGEuZ2V0T3V0ZXJIdG1sKCkpLCJkYXRhLWNrZS1yZWFsLW5vZGUtdHlwZSI6YS50eXBlLAphbHQ6ZSx0aXRsZTplLGFsaWduOmEuZ2V0QXR0cmlidXRlKCJhbGlnbiIpfHwiIn07Q0tFRElUT1IuZW52LmhjfHwoYi5zcmM9Q0tFRElUT1IuZ2V0VXJsKGsucGF0aCsiaW1hZ2VzL3NwYWNlci5naWYiKSk7YyYmKGJbImRhdGEtY2tlLXJlYWwtZWxlbWVudC10eXBlIl09Yyk7ZCYmKGJbImRhdGEtY2tlLXJlc2l6YWJsZSJdPWQsYz1uZXcgaSxkPWEuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLGE9YS5nZXRBdHRyaWJ1dGUoImhlaWdodCIpLGQmJihjLnJ1bGVzLndpZHRoPWgoZCkpLGEmJihjLnJ1bGVzLmhlaWdodD1oKGEpKSxjLnBvcHVsYXRlKGIpKTtyZXR1cm4gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciLHthdHRyaWJ1dGVzOmJ9KX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5jcmVhdGVGYWtlUGFyc2VyRWxlbWVudD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmxhbmcuZmFrZW9iamVjdHMsZT1lW2NdfHxlLnVua25vd24sZjtmPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyOwphLndyaXRlSHRtbChmKTtmPWYuZ2V0SHRtbCgpO2I9eyJjbGFzcyI6YiwiZGF0YS1ja2UtcmVhbGVsZW1lbnQiOmVuY29kZVVSSUNvbXBvbmVudChmKSwiZGF0YS1ja2UtcmVhbC1ub2RlLXR5cGUiOmEudHlwZSxhbHQ6ZSx0aXRsZTplLGFsaWduOmEuYXR0cmlidXRlcy5hbGlnbnx8IiJ9O0NLRURJVE9SLmVudi5oY3x8KGIuc3JjPUNLRURJVE9SLmdldFVybChrLnBhdGgrImltYWdlcy9zcGFjZXIuZ2lmIikpO2MmJihiWyJkYXRhLWNrZS1yZWFsLWVsZW1lbnQtdHlwZSJdPWMpO2QmJihiWyJkYXRhLWNrZS1yZXNpemFibGUiXT1kLGQ9YS5hdHRyaWJ1dGVzLGE9bmV3IGksYz1kLndpZHRoLGQ9ZC5oZWlnaHQsdm9pZCAwIT1jJiYoYS5ydWxlcy53aWR0aD1oKGMpKSx2b2lkIDAhPWQmJihhLnJ1bGVzLmhlaWdodD1oKGQpKSxhLnBvcHVsYXRlKGIpKTtyZXR1cm4gbmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudCgiaW1nIixiKX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5yZXN0b3JlUmVhbEVsZW1lbnQ9CmZ1bmN0aW9uKGEpe2lmKGEuZGF0YSgiY2tlLXJlYWwtbm9kZS10eXBlIikhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gbnVsbDt2YXIgYj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChkZWNvZGVVUklDb21wb25lbnQoYS5kYXRhKCJja2UtcmVhbGVsZW1lbnQiKSksdGhpcy5kb2N1bWVudCk7aWYoYS5kYXRhKCJja2UtcmVzaXphYmxlIikpe3ZhciBjPWEuZ2V0U3R5bGUoIndpZHRoIiksYT1hLmdldFN0eWxlKCJoZWlnaHQiKTtjJiZiLnNldEF0dHJpYnV0ZSgid2lkdGgiLGcoYi5nZXRBdHRyaWJ1dGUoIndpZHRoIiksYykpO2EmJmIuc2V0QXR0cmlidXRlKCJoZWlnaHQiLGcoYi5nZXRBdHRyaWJ1dGUoImhlaWdodCIpLGEpKX1yZXR1cm4gYn19KSgpO0NLRURJVE9SLnBsdWdpbnMuYWRkKCJsaW5rIix7cmVxdWlyZXM6ImRpYWxvZyxmYWtlb2JqZWN0cyIsb25Mb2FkOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiKXtyZXR1cm4gZC5yZXBsYWNlKC8lMS9nLCJydGwiPT1iPyJyaWdodCI6ImxlZnQiKS5yZXBsYWNlKC8lMi9nLCJja2VfY29udGVudHNfIitiKX12YXIgYT0iYmFja2dyb3VuZDp1cmwoIitDS0VESVRPUi5nZXRVcmwodGhpcy5wYXRoKyJpbWFnZXMiKyhDS0VESVRPUi5lbnYuaGlkcGk\/Ii9oaWRwaSI6IiIpKyIvYW5jaG9yLnBuZyIpKyIpIG5vLXJlcGVhdCAlMSBjZW50ZXI7Ym9yZGVyOjFweCBkb3R0ZWQgIzAwZjtiYWNrZ3JvdW5kLXNpemU6MTZweDsiLGQ9Ii4lMiBhLmNrZV9hbmNob3IsLiUyIGEuY2tlX2FuY2hvcl9lbXB0eSwuY2tlX2VkaXRhYmxlLiUyIGFbbmFtZV0sLmNrZV9lZGl0YWJsZS4lMiBhW2RhdGEtY2tlLXNhdmVkLW5hbWVdeyIrYSsicGFkZGluZy0lMToxOHB4O2N1cnNvcjphdXRvO30iKyhDS0VESVRPUi5wbHVnaW5zLmxpbmsuc3luQW5jaG9yU2VsZWN0b3I\/CiJhLmNrZV9hbmNob3JfZW1wdHl7ZGlzcGxheTppbmxpbmUtYmxvY2s7fSI6IiIpKyIuJTIgaW1nLmNrZV9hbmNob3J7IithKyJ3aWR0aDoxNnB4O21pbi1oZWlnaHQ6MTVweDtoZWlnaHQ6MS4xNWVtO3ZlcnRpY2FsLWFsaWduOiIrKENLRURJVE9SLmVudi5vcGVyYT8ibWlkZGxlIjoidGV4dC1ib3R0b20iKSsiO30iO0NLRURJVE9SLmFkZENzcyhiKCJsdHIiKStiKCJydGwiKSl9LGluaXQ6ZnVuY3Rpb24oYil7dmFyIGE9ImFbIWhyZWZdIjtDS0VESVRPUi5kaWFsb2cuaXNUYWJFbmFibGVkKGIsImxpbmsiLCJhZHZhbmNlZCIpJiYoYT1hLnJlcGxhY2UoIl0iLCIsYWNjZXNza2V5LGNoYXJzZXQsZGlyLGlkLGxhbmcsbmFtZSxyZWwsdGFiaW5kZXgsdGl0bGUsdHlwZV17Kn0oKikiKSk7Q0tFRElUT1IuZGlhbG9nLmlzVGFiRW5hYmxlZChiLCJsaW5rIiwidGFyZ2V0IikmJihhPWEucmVwbGFjZSgiXSIsIix0YXJnZXQsb25jbGlja10iKSk7Yi5hZGRDb21tYW5kKCJsaW5rIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZCgibGluayIsCnthbGxvd2VkQ29udGVudDphLHJlcXVpcmVkQ29udGVudDoiYVtocmVmXSJ9KSk7Yi5hZGRDb21tYW5kKCJhbmNob3IiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKCJhbmNob3IiLHthbGxvd2VkQ29udGVudDoiYVshbmFtZSxpZF0iLHJlcXVpcmVkQ29udGVudDoiYVtuYW1lXSJ9KSk7Yi5hZGRDb21tYW5kKCJ1bmxpbmsiLG5ldyBDS0VESVRPUi51bmxpbmtDb21tYW5kKTtiLmFkZENvbW1hbmQoInJlbW92ZUFuY2hvciIsbmV3IENLRURJVE9SLnJlbW92ZUFuY2hvckNvbW1hbmQpO2Iuc2V0S2V5c3Ryb2tlKENLRURJVE9SLkNUUkwrNzYsImxpbmsiKTtiLnVpLmFkZEJ1dHRvbiYmKGIudWkuYWRkQnV0dG9uKCJMaW5rIix7bGFiZWw6Yi5sYW5nLmxpbmsudG9vbGJhcixjb21tYW5kOiJsaW5rIix0b29sYmFyOiJsaW5rcywxMCJ9KSxiLnVpLmFkZEJ1dHRvbigiVW5saW5rIix7bGFiZWw6Yi5sYW5nLmxpbmsudW5saW5rLGNvbW1hbmQ6InVubGluayIsdG9vbGJhcjoibGlua3MsMjAifSksCmIudWkuYWRkQnV0dG9uKCJBbmNob3IiLHtsYWJlbDpiLmxhbmcubGluay5hbmNob3IudG9vbGJhcixjb21tYW5kOiJhbmNob3IiLHRvb2xiYXI6ImxpbmtzLDMwIn0pKTtDS0VESVRPUi5kaWFsb2cuYWRkKCJsaW5rIix0aGlzLnBhdGgrImRpYWxvZ3MvbGluay5qcyIpO0NLRURJVE9SLmRpYWxvZy5hZGQoImFuY2hvciIsdGhpcy5wYXRoKyJkaWFsb2dzL2FuY2hvci5qcyIpO2Iub24oImRvdWJsZWNsaWNrIixmdW5jdGlvbihhKXt2YXIgYz1DS0VESVRPUi5wbHVnaW5zLmxpbmsuZ2V0U2VsZWN0ZWRMaW5rKGIpfHxhLmRhdGEuZWxlbWVudDtpZighYy5pc1JlYWRPbmx5KCkpaWYoYy5pcygiYSIpKXthLmRhdGEuZGlhbG9nPWMuZ2V0QXR0cmlidXRlKCJuYW1lIikmJighYy5nZXRBdHRyaWJ1dGUoImhyZWYiKXx8IWMuZ2V0Q2hpbGRDb3VudCgpKT8iYW5jaG9yIjoibGluayI7Yi5nZXRTZWxlY3Rpb24oKS5zZWxlY3RFbGVtZW50KGMpfWVsc2UgaWYoQ0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGIsCmMpKWEuZGF0YS5kaWFsb2c9ImFuY2hvciJ9KTtiLmFkZE1lbnVJdGVtcyYmYi5hZGRNZW51SXRlbXMoe2FuY2hvcjp7bGFiZWw6Yi5sYW5nLmxpbmsuYW5jaG9yLm1lbnUsY29tbWFuZDoiYW5jaG9yIixncm91cDoiYW5jaG9yIixvcmRlcjoxfSxyZW1vdmVBbmNob3I6e2xhYmVsOmIubGFuZy5saW5rLmFuY2hvci5yZW1vdmUsY29tbWFuZDoicmVtb3ZlQW5jaG9yIixncm91cDoiYW5jaG9yIixvcmRlcjo1fSxsaW5rOntsYWJlbDpiLmxhbmcubGluay5tZW51LGNvbW1hbmQ6ImxpbmsiLGdyb3VwOiJsaW5rIixvcmRlcjoxfSx1bmxpbms6e2xhYmVsOmIubGFuZy5saW5rLnVubGluayxjb21tYW5kOiJ1bmxpbmsiLGdyb3VwOiJsaW5rIixvcmRlcjo1fX0pO2IuY29udGV4dE1lbnUmJmIuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYSl7aWYoIWF8fGEuaXNSZWFkT25seSgpKXJldHVybiBudWxsO2E9Q0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGIsCmEpO2lmKCFhJiYhKGE9Q0tFRElUT1IucGx1Z2lucy5saW5rLmdldFNlbGVjdGVkTGluayhiKSkpcmV0dXJuIG51bGw7dmFyIGM9e307YS5nZXRBdHRyaWJ1dGUoImhyZWYiKSYmYS5nZXRDaGlsZENvdW50KCkmJihjPXtsaW5rOkNLRURJVE9SLlRSSVNUQVRFX09GRix1bmxpbms6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfSk7aWYoYSYmYS5oYXNBdHRyaWJ1dGUoIm5hbWUiKSljLmFuY2hvcj1jLnJlbW92ZUFuY2hvcj1DS0VESVRPUi5UUklTVEFURV9PRkY7cmV0dXJuIGN9KX0sYWZ0ZXJJbml0OmZ1bmN0aW9uKGIpe3ZhciBhPWIuZGF0YVByb2Nlc3NvcixkPWEmJmEuZGF0YUZpbHRlcixhPWEmJmEuaHRtbEZpbHRlcixjPWIuXy5lbGVtZW50c1BhdGgmJmIuXy5lbGVtZW50c1BhdGguZmlsdGVycztkJiZkLmFkZFJ1bGVzKHtlbGVtZW50czp7YTpmdW5jdGlvbihhKXt2YXIgYz1hLmF0dHJpYnV0ZXM7aWYoIWMubmFtZSlyZXR1cm4gbnVsbDt2YXIgZD0hYS5jaGlsZHJlbi5sZW5ndGg7aWYoQ0tFRElUT1IucGx1Z2lucy5saW5rLnN5bkFuY2hvclNlbGVjdG9yKXt2YXIgYT0KZD8iY2tlX2FuY2hvcl9lbXB0eSI6ImNrZV9hbmNob3IiLGU9Y1siY2xhc3MiXTtpZihjLm5hbWUmJighZXx8MD5lLmluZGV4T2YoYSkpKWNbImNsYXNzIl09KGV8fCIiKSsiICIrYTtkJiZDS0VESVRPUi5wbHVnaW5zLmxpbmsuZW1wdHlBbmNob3JGaXgmJihjLmNvbnRlbnRlZGl0YWJsZT0iZmFsc2UiLGNbImRhdGEtY2tlLWVkaXRhYmxlIl09MSl9ZWxzZSBpZihDS0VESVRPUi5wbHVnaW5zLmxpbmsuZmFrZUFuY2hvciYmZClyZXR1cm4gYi5jcmVhdGVGYWtlUGFyc2VyRWxlbWVudChhLCJja2VfYW5jaG9yIiwiYW5jaG9yIik7cmV0dXJuIG51bGx9fX0pO0NLRURJVE9SLnBsdWdpbnMubGluay5lbXB0eUFuY2hvckZpeCYmYSYmYS5hZGRSdWxlcyh7ZWxlbWVudHM6e2E6ZnVuY3Rpb24oYSl7ZGVsZXRlIGEuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGV9fX0pO2MmJmMucHVzaChmdW5jdGlvbihhLGMpe2lmKCJhIj09YyYmKENLRURJVE9SLnBsdWdpbnMubGluay50cnlSZXN0b3JlRmFrZUFuY2hvcihiLAphKXx8YS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSYmKCFhLmdldEF0dHJpYnV0ZSgiaHJlZiIpfHwhYS5nZXRDaGlsZENvdW50KCkpKSlyZXR1cm4iYW5jaG9yIn0pfX0pOwpDS0VESVRPUi5wbHVnaW5zLmxpbms9e2dldFNlbGVjdGVkTGluazpmdW5jdGlvbihiKXt2YXIgYT1iLmdldFNlbGVjdGlvbigpLGQ9YS5nZXRTZWxlY3RlZEVsZW1lbnQoKTtyZXR1cm4gZCYmZC5pcygiYSIpP2Q6KGE9YS5nZXRSYW5nZXMoKVswXSk\/KGEuc2hyaW5rKENLRURJVE9SLlNIUklOS19URVhUKSxiLmVsZW1lbnRQYXRoKGEuZ2V0Q29tbW9uQW5jZXN0b3IoKSkuY29udGFpbnMoImEiLDEpKTpudWxsfSxmYWtlQW5jaG9yOkNLRURJVE9SLmVudi5vcGVyYXx8Q0tFRElUT1IuZW52LndlYmtpdCxzeW5BbmNob3JTZWxlY3RvcjpDS0VESVRPUi5lbnYuaWUmJjExPkNLRURJVE9SLmVudi52ZXJzaW9uLGVtcHR5QW5jaG9yRml4OkNLRURJVE9SLmVudi5pZSYmOD5DS0VESVRPUi5lbnYudmVyc2lvbix0cnlSZXN0b3JlRmFrZUFuY2hvcjpmdW5jdGlvbihiLGEpe2lmKGEmJmEuZGF0YSgiY2tlLXJlYWwtZWxlbWVudC10eXBlIikmJiJhbmNob3IiPT1hLmRhdGEoImNrZS1yZWFsLWVsZW1lbnQtdHlwZSIpKXt2YXIgZD0KYi5yZXN0b3JlUmVhbEVsZW1lbnQoYSk7aWYoZC5kYXRhKCJja2Utc2F2ZWQtbmFtZSIpKXJldHVybiBkfX19O0NLRURJVE9SLnVubGlua0NvbW1hbmQ9ZnVuY3Rpb24oKXt9OwpDS0VESVRPUi51bmxpbmtDb21tYW5kLnByb3RvdHlwZT17ZXhlYzpmdW5jdGlvbihiKXt2YXIgYT1uZXcgQ0tFRElUT1Iuc3R5bGUoe2VsZW1lbnQ6ImEiLHR5cGU6Q0tFRElUT1IuU1RZTEVfSU5MSU5FLGFsd2F5c1JlbW92ZUVsZW1lbnQ6MX0pO2IucmVtb3ZlU3R5bGUoYSl9LHJlZnJlc2g6ZnVuY3Rpb24oYixhKXt2YXIgZD1hLmxhc3RFbGVtZW50JiZhLmxhc3RFbGVtZW50LmdldEFzY2VuZGFudCgiYSIsITApO2QmJiJhIj09ZC5nZXROYW1lKCkmJmQuZ2V0QXR0cmlidXRlKCJocmVmIikmJmQuZ2V0Q2hpbGRDb3VudCgpP3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKTp0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX0sY29udGV4dFNlbnNpdGl2ZToxLHN0YXJ0RGlzYWJsZWQ6MSxyZXF1aXJlZENvbnRlbnQ6ImFbaHJlZl0ifTtDS0VESVRPUi5yZW1vdmVBbmNob3JDb21tYW5kPWZ1bmN0aW9uKCl7fTsKQ0tFRElUT1IucmVtb3ZlQW5jaG9yQ29tbWFuZC5wcm90b3R5cGU9e2V4ZWM6ZnVuY3Rpb24oYil7dmFyIGE9Yi5nZXRTZWxlY3Rpb24oKSxkPWEuY3JlYXRlQm9va21hcmtzKCksYztpZihhJiYoYz1hLmdldFNlbGVjdGVkRWxlbWVudCgpKSYmKENLRURJVE9SLnBsdWdpbnMubGluay5mYWtlQW5jaG9yJiYhYy5nZXRDaGlsZENvdW50KCk\/Q0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGIsYyk6Yy5pcygiYSIpKSljLnJlbW92ZSgxKTtlbHNlIGlmKGM9Q0tFRElUT1IucGx1Z2lucy5saW5rLmdldFNlbGVjdGVkTGluayhiKSljLmhhc0F0dHJpYnV0ZSgiaHJlZiIpPyhjLnJlbW92ZUF0dHJpYnV0ZXMoe25hbWU6MSwiZGF0YS1ja2Utc2F2ZWQtbmFtZSI6MX0pLGMucmVtb3ZlQ2xhc3MoImNrZV9hbmNob3IiKSk6Yy5yZW1vdmUoMSk7YS5zZWxlY3RCb29rbWFya3MoZCl9LHJlcXVpcmVkQ29udGVudDoiYVtuYW1lXSJ9OwpDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuY29uZmlnLHtsaW5rU2hvd0FkdmFuY2VkVGFiOiEwLGxpbmtTaG93VGFyZ2V0VGFiOiEwfSk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gRShjLGssZSl7ZnVuY3Rpb24gYihiKXtpZigoZD1hW2I\/ImdldEZpcnN0IjoiZ2V0TGFzdCJdKCkpJiYoIWQuaXN8fCFkLmlzQmxvY2tCb3VuZGFyeSgpKSYmKG09ay5yb290W2I\/ImdldFByZXZpb3VzIjoiZ2V0TmV4dCJdKENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKCEwKSkpJiYoIW0uaXN8fCFtLmlzQmxvY2tCb3VuZGFyeSh7YnI6MX0pKSljLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIilbYj8iaW5zZXJ0QmVmb3JlIjoiaW5zZXJ0QWZ0ZXIiXShkKX1mb3IodmFyIGo9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGsucm9vdCxlKSxnPVtdLGg9MDtoPGsuY29udGVudHMubGVuZ3RoO2grKyl7dmFyIGY9ay5jb250ZW50c1toXTtpZigoZj1mLmdldEFzY2VuZGFudCgibGkiLCEwKSkmJiFmLmdldEN1c3RvbURhdGEoImxpc3RfaXRlbV9wcm9jZXNzZWQiKSlnLnB1c2goZiksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGUsCmYsImxpc3RfaXRlbV9wcm9jZXNzZWQiLCEwKX1mPW51bGw7Zm9yKGg9MDtoPGcubGVuZ3RoO2grKylmPWdbaF0uZ2V0Q3VzdG9tRGF0YSgibGlzdGFycmF5X2luZGV4IiksaltmXS5pbmRlbnQ9LTE7Zm9yKGg9ZisxO2g8ai5sZW5ndGg7aCsrKWlmKGpbaF0uaW5kZW50PmpbaC0xXS5pbmRlbnQrMSl7Zz1qW2gtMV0uaW5kZW50KzEtaltoXS5pbmRlbnQ7Zm9yKGY9altoXS5pbmRlbnQ7altoXSYmaltoXS5pbmRlbnQ+PWY7KWpbaF0uaW5kZW50Kz1nLGgrKztoLS19dmFyIGE9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KGosZSxudWxsLGMuY29uZmlnLmVudGVyTW9kZSxrLnJvb3QuZ2V0QXR0cmlidXRlKCJkaXIiKSkubGlzdE5vZGUsZCxtO2IoITApO2IoKTthLnJlcGxhY2Uoay5yb290KTtjLmZpcmUoImNvbnRlbnREb21JbnZhbGlkYXRlZCIpfWZ1bmN0aW9uIHgoYyxrKXt0aGlzLm5hbWU9Yzt0aGlzLmNvbnRleHQ9dGhpcy50eXBlPWs7dGhpcy5hbGxvd2VkQ29udGVudD0KaysiIGxpIjt0aGlzLnJlcXVpcmVkQ29udGVudD1rfWZ1bmN0aW9uIEEoYyxrLGUsYil7Zm9yKHZhciBqLGc7aj1jW2I\/ImdldExhc3QiOiJnZXRGaXJzdCJdKEYpOykoZz1qLmdldERpcmVjdGlvbigxKSkhPT1rLmdldERpcmVjdGlvbigxKSYmai5zZXRBdHRyaWJ1dGUoImRpciIsZyksai5yZW1vdmUoKSxlP2pbYj8iaW5zZXJ0QmVmb3JlIjoiaW5zZXJ0QWZ0ZXIiXShlKTprLmFwcGVuZChqLGIpfWZ1bmN0aW9uIEIoYyl7dmFyIGs7KGs9ZnVuY3Rpb24oZSl7dmFyIGI9Y1tlPyJnZXRQcmV2aW91cyI6ImdldE5leHQiXShxKTtiJiYoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaXMoYy5nZXROYW1lKCkpKSYmKEEoYyxiLG51bGwsIWUpLGMucmVtb3ZlKCksYz1iKX0pKCk7aygxKX1mdW5jdGlvbiBDKGMpe3JldHVybiBjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGMuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRibG9ja3x8Yy5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmCkNLRURJVE9SLmR0ZFtjLmdldE5hbWUoKV1bIiMiXX1mdW5jdGlvbiB5KGMsayxlKXtjLmZpcmUoInNhdmVTbmFwc2hvdCIpO2UuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUyk7dmFyIGI9ZS5leHRyYWN0Q29udGVudHMoKTtrLnRyaW0oITEsITApO3ZhciBqPWsuY3JlYXRlQm9va21hcmsoKSxnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoay5zdGFydENvbnRhaW5lciksaD1nLmJsb2NrLGc9Zy5sYXN0RWxlbWVudC5nZXRBc2NlbmRhbnQoImxpIiwxKXx8aCxmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZS5zdGFydENvbnRhaW5lciksYT1mLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pLGY9Zi5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpO2g\/KGg9aC5nZXRCb2d1cygpKSYmaC5yZW1vdmUoKTpmJiYoaD1mLmdldFByZXZpb3VzKHEpKSYmdihoKSYmaC5yZW1vdmUoKTsoaD1iLmdldExhc3QoKSkmJihoLnR5cGU9PQpDS0VESVRPUi5OT0RFX0VMRU1FTlQmJmguaXMoImJyIikpJiZoLnJlbW92ZSgpOyhoPWsuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoay5zdGFydE9mZnNldCkpP2IuaW5zZXJ0QmVmb3JlKGgpOmsuc3RhcnRDb250YWluZXIuYXBwZW5kKGIpO2lmKGEmJihiPXcoYSkpKWcuY29udGFpbnMoYSk\/KEEoYixhLmdldFBhcmVudCgpLGEpLGIucmVtb3ZlKCkpOmcuYXBwZW5kKGIpO2Zvcig7ZS5jaGVja1N0YXJ0T2ZCbG9jaygpJiZlLmNoZWNrRW5kT2ZCbG9jaygpOyl7Zj1lLnN0YXJ0UGF0aCgpO2I9Zi5ibG9jaztpZighYilicmVhaztiLmlzKCJsaSIpJiYoZz1iLmdldFBhcmVudCgpLGIuZXF1YWxzKGcuZ2V0TGFzdChxKSkmJmIuZXF1YWxzKGcuZ2V0Rmlyc3QocSkpJiYoYj1nKSk7ZS5tb3ZlVG9Qb3NpdGlvbihiLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7Yi5yZW1vdmUoKX1lPWUuY2xvbmUoKTtiPWMuZWRpdGFibGUoKTtlLnNldEVuZEF0KGIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7CmU9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSk7ZS5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIHEoYSkmJiF2KGEpfTsoZT1lLm5leHQoKSkmJihlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3QpJiZCKGUpO2subW92ZVRvQm9va21hcmsoaik7ay5zZWxlY3QoKTtjLmZpcmUoInNhdmVTbmFwc2hvdCIpfWZ1bmN0aW9uIHcoYyl7cmV0dXJuKGM9Yy5nZXRMYXN0KHEpKSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuZ2V0TmFtZSgpaW4gcj9jOm51bGx9dmFyIHI9e29sOjEsdWw6MX0sRz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksRD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCkscT1mdW5jdGlvbihjKXtyZXR1cm4hKEcoYyl8fEQoYykpfSx2PUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKTtDS0VESVRPUi5wbHVnaW5zLmxpc3Q9e2xpc3RUb0FycmF5OmZ1bmN0aW9uKGMsCmssZSxiLGope2lmKCFyW2MuZ2V0TmFtZSgpXSlyZXR1cm5bXTtifHwoYj0wKTtlfHwoZT1bXSk7Zm9yKHZhciBnPTAsaD1jLmdldENoaWxkQ291bnQoKTtnPGg7ZysrKXt2YXIgZj1jLmdldENoaWxkKGcpO2YudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZmLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdCYmQ0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGYsayxlLGIrMSk7aWYoImxpIj09Zi4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBhPXtwYXJlbnQ6YyxpbmRlbnQ6YixlbGVtZW50OmYsY29udGVudHM6W119O2o\/YS5ncmFuZHBhcmVudD1qOihhLmdyYW5kcGFyZW50PWMuZ2V0UGFyZW50KCksYS5ncmFuZHBhcmVudCYmImxpIj09YS5ncmFuZHBhcmVudC4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJihhLmdyYW5kcGFyZW50PWEuZ3JhbmRwYXJlbnQuZ2V0UGFyZW50KCkpKTtrJiZDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoayxmLAoibGlzdGFycmF5X2luZGV4IixlLmxlbmd0aCk7ZS5wdXNoKGEpO2Zvcih2YXIgZD0wLG09Zi5nZXRDaGlsZENvdW50KCksaTtkPG07ZCsrKWk9Zi5nZXRDaGlsZChkKSxpLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmcltpLmdldE5hbWUoKV0\/Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGksayxlLGIrMSxhLmdyYW5kcGFyZW50KTphLmNvbnRlbnRzLnB1c2goaSl9fXJldHVybiBlfSxhcnJheVRvTGlzdDpmdW5jdGlvbihjLGssZSxiLGope2V8fChlPTApO2lmKCFjfHxjLmxlbmd0aDxlKzEpcmV0dXJuIG51bGw7Zm9yKHZhciBnLGg9Y1tlXS5wYXJlbnQuZ2V0RG9jdW1lbnQoKSxmPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChoKSxhPW51bGwsZD1lLG09TWF0aC5tYXgoY1tlXS5pbmRlbnQsMCksaT1udWxsLG4sbCxwPWI9PUNLRURJVE9SLkVOVEVSX1A\/InAiOiJkaXYiOzspe3ZhciBvPWNbZF07Zz1vLmdyYW5kcGFyZW50O249by5lbGVtZW50LmdldERpcmVjdGlvbigxKTsKaWYoby5pbmRlbnQ9PW0pe2lmKCFhfHxjW2RdLnBhcmVudC5nZXROYW1lKCkhPWEuZ2V0TmFtZSgpKWE9Y1tkXS5wYXJlbnQuY2xvbmUoITEsMSksaiYmYS5zZXRBdHRyaWJ1dGUoImRpciIsaiksZi5hcHBlbmQoYSk7aT1hLmFwcGVuZChvLmVsZW1lbnQuY2xvbmUoMCwxKSk7biE9YS5nZXREaXJlY3Rpb24oMSkmJmkuc2V0QXR0cmlidXRlKCJkaXIiLG4pO2ZvcihnPTA7ZzxvLmNvbnRlbnRzLmxlbmd0aDtnKyspaS5hcHBlbmQoby5jb250ZW50c1tnXS5jbG9uZSgxLDEpKTtkKyt9ZWxzZSBpZihvLmluZGVudD09TWF0aC5tYXgobSwwKSsxKW89Y1tkLTFdLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpLGQ9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KGMsbnVsbCxkLGIsbyE9bj9uOm51bGwpLCFpLmdldENoaWxkQ291bnQoKSYmKENLRURJVE9SLmVudi5uZWVkc05ic3BGaWxsZXImJiEoNzxoLiQuZG9jdW1lbnRNb2RlKSkmJmkuYXBwZW5kKGguY3JlYXRlVGV4dCgiwqAiKSksCmkuYXBwZW5kKGQubGlzdE5vZGUpLGQ9ZC5uZXh0SW5kZXg7ZWxzZSBpZigtMT09by5pbmRlbnQmJiFlJiZnKXtyW2cuZ2V0TmFtZSgpXT8oaT1vLmVsZW1lbnQuY2xvbmUoITEsITApLG4hPWcuZ2V0RGlyZWN0aW9uKDEpJiZpLnNldEF0dHJpYnV0ZSgiZGlyIixuKSk6aT1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoaCk7dmFyIGE9Zy5nZXREaXJlY3Rpb24oMSkhPW4sdT1vLmVsZW1lbnQsej11LmdldEF0dHJpYnV0ZSgiY2xhc3MiKSx2PXUuZ2V0QXR0cmlidXRlKCJzdHlsZSIpLHc9aS50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UJiYoYiE9Q0tFRElUT1IuRU5URVJfQlJ8fGF8fHZ8fHopLHMseD1vLmNvbnRlbnRzLmxlbmd0aCx0O2ZvcihnPTA7Zzx4O2crKylpZihzPW8uY29udGVudHNbZ10sRChzKSYmMTx4KXc\/dD1zLmNsb25lKDEsMSk6aS5hcHBlbmQocy5jbG9uZSgxLDEpKTtlbHNlIGlmKHMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYKcy5pc0Jsb2NrQm91bmRhcnkoKSl7YSYmIXMuZ2V0RGlyZWN0aW9uKCkmJnMuc2V0QXR0cmlidXRlKCJkaXIiLG4pO2w9czt2YXIgeT11LmdldEF0dHJpYnV0ZSgic3R5bGUiKTt5JiZsLnNldEF0dHJpYnV0ZSgic3R5bGUiLHkucmVwbGFjZSgvKFteO10pJC8sIiQxOyIpKyhsLmdldEF0dHJpYnV0ZSgic3R5bGUiKXx8IiIpKTt6JiZzLmFkZENsYXNzKHopO2w9bnVsbDt0JiYoaS5hcHBlbmQodCksdD1udWxsKTtpLmFwcGVuZChzLmNsb25lKDEsMSkpfWVsc2Ugdz8obHx8KGw9aC5jcmVhdGVFbGVtZW50KHApLGkuYXBwZW5kKGwpLGEmJmwuc2V0QXR0cmlidXRlKCJkaXIiLG4pKSx2JiZsLnNldEF0dHJpYnV0ZSgic3R5bGUiLHYpLHomJmwuc2V0QXR0cmlidXRlKCJjbGFzcyIseiksdCYmKGwuYXBwZW5kKHQpLHQ9bnVsbCksbC5hcHBlbmQocy5jbG9uZSgxLDEpKSk6aS5hcHBlbmQocy5jbG9uZSgxLDEpKTt0JiYoKGx8fGkpLmFwcGVuZCh0KSx0PW51bGwpO2kudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCYmCmQhPWMubGVuZ3RoLTEmJihDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmKG49aS5nZXRMYXN0KCkpJiYobi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJm4uaXMoImJyIikpJiZuLnJlbW92ZSgpLG49aS5nZXRMYXN0KHEpLCghbnx8IShuLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmbi5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKSkpJiZpLmFwcGVuZChoLmNyZWF0ZUVsZW1lbnQoImJyIikpKTtuPWkuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOygiZGl2Ij09bnx8InAiPT1uKSYmaS5hcHBlbmRCb2d1cygpO2YuYXBwZW5kKGkpO2E9bnVsbDtkKyt9ZWxzZSByZXR1cm4gbnVsbDtsPW51bGw7aWYoYy5sZW5ndGg8PWR8fE1hdGgubWF4KGNbZF0uaW5kZW50LDApPG0pYnJlYWt9aWYoaylmb3IoYz1mLmdldEZpcnN0KCk7Yzspe2lmKGMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJNYXJrZXJzKGssYyksYy5nZXROYW1lKClpbgpDS0VESVRPUi5kdGQuJGxpc3RJdGVtJiYoZT1jLGg9aj1iPXZvaWQgMCxiPWUuZ2V0RGlyZWN0aW9uKCkpKSl7Zm9yKGo9ZS5nZXRQYXJlbnQoKTtqJiYhKGg9ai5nZXREaXJlY3Rpb24oKSk7KWo9ai5nZXRQYXJlbnQoKTtiPT1oJiZlLnJlbW92ZUF0dHJpYnV0ZSgiZGlyIil9Yz1jLmdldE5leHRTb3VyY2VOb2RlKCl9cmV0dXJue2xpc3ROb2RlOmYsbmV4dEluZGV4OmR9fX07dmFyIEg9L15oWzEtNl0kLyxGPUNLRURJVE9SLmRvbS53YWxrZXIubm9kZVR5cGUoQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTt4LnByb3RvdHlwZT17ZXhlYzpmdW5jdGlvbihjKXt0aGlzLnJlZnJlc2goYyxjLmVsZW1lbnRQYXRoKCkpO3ZhciBrPWMuY29uZmlnLGU9Yy5nZXRTZWxlY3Rpb24oKSxiPWUmJmUuZ2V0UmFuZ2VzKCk7aWYodGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKXt2YXIgaj1jLmVkaXRhYmxlKCk7aWYoai5nZXRGaXJzdChxKSl7dmFyIGc9MT09Yi5sZW5ndGgmJmJbMF07KGs9CmcmJmcuZ2V0RW5jbG9zZWROb2RlKCkpJiYoay5pcyYmdGhpcy50eXBlPT1rLmdldE5hbWUoKSkmJnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pfWVsc2Ugay5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSP2ouYXBwZW5kQm9ndXMoKTpiWzBdLmZpeEJsb2NrKDEsay5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A\/InAiOiJkaXYiKSxlLnNlbGVjdFJhbmdlcyhiKX1mb3IodmFyIGs9ZS5jcmVhdGVCb29rbWFya3MoITApLGo9W10saD17fSxiPWIuY3JlYXRlSXRlcmF0b3IoKSxmPTA7KGc9Yi5nZXROZXh0UmFuZ2UoKSkmJisrZjspe3ZhciBhPWcuZ2V0Qm91bmRhcnlOb2RlcygpLGQ9YS5zdGFydE5vZGUsbT1hLmVuZE5vZGU7ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiJ0ZCI9PWQuZ2V0TmFtZSgpJiZnLnNldFN0YXJ0QXQoYS5zdGFydE5vZGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO20udHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYKInRkIj09bS5nZXROYW1lKCkmJmcuc2V0RW5kQXQoYS5lbmROb2RlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2c9Zy5jcmVhdGVJdGVyYXRvcigpO2ZvcihnLmZvcmNlQnJCcmVhaz10aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkY7YT1nLmdldE5leHRQYXJhZ3JhcGgoKTspaWYoIWEuZ2V0Q3VzdG9tRGF0YSgibGlzdF9ibG9jayIpKXtDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoaCxhLCJsaXN0X2Jsb2NrIiwxKTtmb3IodmFyIGk9Yy5lbGVtZW50UGF0aChhKSxkPWkuZWxlbWVudHMsbT0wLGk9aS5ibG9ja0xpbWl0LG4sbD1kLmxlbmd0aC0xOzA8PWwmJihuPWRbbF0pO2wtLSlpZihyW24uZ2V0TmFtZSgpXSYmaS5jb250YWlucyhuKSl7aS5yZW1vdmVDdXN0b21EYXRhKCJsaXN0X2dyb3VwX29iamVjdF8iK2YpOyhkPW4uZ2V0Q3VzdG9tRGF0YSgibGlzdF9ncm91cF9vYmplY3QiKSk\/ZC5jb250ZW50cy5wdXNoKGEpOihkPXtyb290Om4sY29udGVudHM6W2FdfSwKai5wdXNoKGQpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihoLG4sImxpc3RfZ3JvdXBfb2JqZWN0IixkKSk7bT0xO2JyZWFrfW18fChtPWksbS5nZXRDdXN0b21EYXRhKCJsaXN0X2dyb3VwX29iamVjdF8iK2YpP20uZ2V0Q3VzdG9tRGF0YSgibGlzdF9ncm91cF9vYmplY3RfIitmKS5jb250ZW50cy5wdXNoKGEpOihkPXtyb290Om0sY29udGVudHM6W2FdfSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoaCxtLCJsaXN0X2dyb3VwX29iamVjdF8iK2YsZCksai5wdXNoKGQpKSl9fWZvcihuPVtdOzA8ai5sZW5ndGg7KWlmKGQ9ai5zaGlmdCgpLHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRilpZihyW2Qucm9vdC5nZXROYW1lKCldKXtiPWM7Zj1kO2Q9aDtnPW47bT1DS0VESVRPUi5wbHVnaW5zLmxpc3QubGlzdFRvQXJyYXkoZi5yb290LGQpO2k9W107Zm9yKGE9MDthPGYuY29udGVudHMubGVuZ3RoO2ErKylpZihsPWYuY29udGVudHNbYV0sKGw9bC5nZXRBc2NlbmRhbnQoImxpIiwKITApKSYmIWwuZ2V0Q3VzdG9tRGF0YSgibGlzdF9pdGVtX3Byb2Nlc3NlZCIpKWkucHVzaChsKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoZCxsLCJsaXN0X2l0ZW1fcHJvY2Vzc2VkIiwhMCk7Zm9yKHZhciBsPWYucm9vdC5nZXREb2N1bWVudCgpLHA9dm9pZCAwLG89dm9pZCAwLGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHU9aVthXS5nZXRDdXN0b21EYXRhKCJsaXN0YXJyYXlfaW5kZXgiKSxwPW1bdV0ucGFyZW50O3AuaXModGhpcy50eXBlKXx8KG89bC5jcmVhdGVFbGVtZW50KHRoaXMudHlwZSkscC5jb3B5QXR0cmlidXRlcyhvLHtzdGFydDoxLHR5cGU6MX0pLG8ucmVtb3ZlU3R5bGUoImxpc3Qtc3R5bGUtdHlwZSIpLG1bdV0ucGFyZW50PW8pfWQ9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KG0sZCxudWxsLGIuY29uZmlnLmVudGVyTW9kZSk7bT12b2lkIDA7aT1kLmxpc3ROb2RlLmdldENoaWxkQ291bnQoKTtmb3IoYT0wO2E8aSYmKG09ZC5saXN0Tm9kZS5nZXRDaGlsZChhKSk7YSsrKW0uZ2V0TmFtZSgpPT0KdGhpcy50eXBlJiZnLnB1c2gobSk7ZC5saXN0Tm9kZS5yZXBsYWNlKGYucm9vdCk7Yi5maXJlKCJjb250ZW50RG9tSW52YWxpZGF0ZWQiKX1lbHNle209YzthPWQ7Zz1uO2k9YS5jb250ZW50cztiPWEucm9vdC5nZXREb2N1bWVudCgpO2Y9W107MT09aS5sZW5ndGgmJmlbMF0uZXF1YWxzKGEucm9vdCkmJihkPWIuY3JlYXRlRWxlbWVudCgiZGl2IiksaVswXS5tb3ZlQ2hpbGRyZW4mJmlbMF0ubW92ZUNoaWxkcmVuKGQpLGlbMF0uYXBwZW5kKGQpLGlbMF09ZCk7YT1hLmNvbnRlbnRzWzBdLmdldFBhcmVudCgpO2ZvcihsPTA7bDxpLmxlbmd0aDtsKyspYT1hLmdldENvbW1vbkFuY2VzdG9yKGlbbF0uZ2V0UGFyZW50KCkpO3A9bS5jb25maWcudXNlQ29tcHV0ZWRTdGF0ZTttPWQ9dm9pZCAwO3A9dm9pZCAwPT09cHx8cDtmb3IobD0wO2w8aS5sZW5ndGg7bCsrKWZvcihvPWlbbF07dT1vLmdldFBhcmVudCgpOyl7aWYodS5lcXVhbHMoYSkpe2YucHVzaChvKTshbSYmby5nZXREaXJlY3Rpb24oKSYmCihtPTEpO289by5nZXREaXJlY3Rpb24ocCk7bnVsbCE9PWQmJihkPWQmJmQhPW8\/bnVsbDpvKTticmVha31vPXV9aWYoISgxPmYubGVuZ3RoKSl7aT1mW2YubGVuZ3RoLTFdLmdldE5leHQoKTtsPWIuY3JlYXRlRWxlbWVudCh0aGlzLnR5cGUpO2cucHVzaChsKTtmb3IocD1nPXZvaWQgMDtmLmxlbmd0aDspZz1mLnNoaWZ0KCkscD1iLmNyZWF0ZUVsZW1lbnQoImxpIiksZy5pcygicHJlIil8fEgudGVzdChnLmdldE5hbWUoKSl8fCJmYWxzZSI9PWcuZ2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKT9nLmFwcGVuZFRvKHApOihnLmNvcHlBdHRyaWJ1dGVzKHApLGQmJmcuZ2V0RGlyZWN0aW9uKCkmJihwLnJlbW92ZVN0eWxlKCJkaXJlY3Rpb24iKSxwLnJlbW92ZUF0dHJpYnV0ZSgiZGlyIikpLGcubW92ZUNoaWxkcmVuKHApLGcucmVtb3ZlKCkpLHAuYXBwZW5kVG8obCk7ZCYmbSYmbC5zZXRBdHRyaWJ1dGUoImRpciIsZCk7aT9sLmluc2VydEJlZm9yZShpKTpsLmFwcGVuZFRvKGEpfX1lbHNlIHRoaXMuc3RhdGU9PQpDS0VESVRPUi5UUklTVEFURV9PTiYmcltkLnJvb3QuZ2V0TmFtZSgpXSYmRS5jYWxsKHRoaXMsYyxkLGgpO2ZvcihsPTA7bDxuLmxlbmd0aDtsKyspQihuW2xdKTtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoaCk7ZS5zZWxlY3RCb29rbWFya3Moayk7Yy5mb2N1cygpfSxyZWZyZXNoOmZ1bmN0aW9uKGMsayl7dmFyIGU9ay5jb250YWlucyhyLDEpLGI9ay5ibG9ja0xpbWl0fHxrLnJvb3Q7ZSYmYi5jb250YWlucyhlKT90aGlzLnNldFN0YXRlKGUuaXModGhpcy50eXBlKT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkYpOnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKCJsaXN0Iix7cmVxdWlyZXM6ImluZGVudGxpc3QiLGluaXQ6ZnVuY3Rpb24oYyl7Yy5ibG9ja2xlc3N8fChjLmFkZENvbW1hbmQoIm51bWJlcmVkbGlzdCIsbmV3IHgoIm51bWJlcmVkbGlzdCIsIm9sIikpLGMuYWRkQ29tbWFuZCgiYnVsbGV0ZWRsaXN0IiwKbmV3IHgoImJ1bGxldGVkbGlzdCIsInVsIikpLGMudWkuYWRkQnV0dG9uJiYoYy51aS5hZGRCdXR0b24oIk51bWJlcmVkTGlzdCIse2xhYmVsOmMubGFuZy5saXN0Lm51bWJlcmVkbGlzdCxjb21tYW5kOiJudW1iZXJlZGxpc3QiLGRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6Imxpc3QsMTAifSksYy51aS5hZGRCdXR0b24oIkJ1bGxldGVkTGlzdCIse2xhYmVsOmMubGFuZy5saXN0LmJ1bGxldGVkbGlzdCxjb21tYW5kOiJidWxsZXRlZGxpc3QiLGRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6Imxpc3QsMjAifSkpLGMub24oImtleSIsZnVuY3Rpb24oayl7dmFyIGU9ay5kYXRhLmtleUNvZGU7aWYoYy5tb2RlPT0id3lzaXd5ZyImJmUgaW57ODoxLDQ2OjF9KXt2YXIgYj1jLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdLGo9YiYmYi5zdGFydFBhdGgoKTtpZihiJiZiLmNvbGxhcHNlZCl7dmFyIGo9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChiLnN0YXJ0Q29udGFpbmVyKSxnPWU9PQo4LGg9Yy5lZGl0YWJsZSgpLGY9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYi5jbG9uZSgpKTtmLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gcShhKSYmIXYoYSl9O2YuZ3VhcmQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hKGImJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKCJ0YWJsZSIpKX07ZT1iLmNsb25lKCk7aWYoZyl7dmFyIGEsZDtpZigoYT1qLmNvbnRhaW5zKHIpKSYmYi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGEsQ0tFRElUT1IuU1RBUlQpJiYoYT1hLmdldFBhcmVudCgpKSYmYS5pcygibGkiKSYmKGE9dyhhKSkpe2Q9YTthPWEuZ2V0UHJldmlvdXMocSk7ZS5tb3ZlVG9Qb3NpdGlvbihhJiZ2KGEpP2E6ZCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpfWVsc2V7Zi5yYW5nZS5zZXRTdGFydEF0KGgsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2YucmFuZ2Uuc2V0RW5kKGIuc3RhcnRDb250YWluZXIsYi5zdGFydE9mZnNldCk7aWYoKGE9CmYucHJldmlvdXMoKSkmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYS5nZXROYW1lKClpbiByfHxhLmlzKCJsaSIpKSl7aWYoIWEuaXMoImxpIikpe2YucmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpO2YucmVzZXQoKTtmLmV2YWx1YXRvcj1DO2E9Zi5wcmV2aW91cygpfWQ9YTtlLm1vdmVUb0VsZW1lbnRFZGl0RW5kKGQpfX1pZihkKXt5KGMsZSxiKTtrLmNhbmNlbCgpfWVsc2UgaWYoKGU9ai5jb250YWlucyhyKSkmJmIuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChlLENLRURJVE9SLlNUQVJUKSl7ZD1lLmdldEZpcnN0KHEpO2lmKGIuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChkLENLRURJVE9SLlNUQVJUKSl7YT1lLmdldFByZXZpb3VzKHEpO2lmKHcoZCkpe2lmKGEpe2IubW92ZVRvRWxlbWVudEVkaXRFbmQoYSk7Yi5zZWxlY3QoKX19ZWxzZSBjLmV4ZWNDb21tYW5kKCJvdXRkZW50Iik7ay5jYW5jZWwoKX19fWVsc2UgaWYoZD1qLmNvbnRhaW5zKCJsaSIpKXtmLnJhbmdlLnNldEVuZEF0KGgsCkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2g9KGo9ZC5nZXRMYXN0KHEpKSYmQyhqKT9qOmQ7ZD0wO2lmKChhPWYubmV4dCgpKSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuZ2V0TmFtZSgpaW4gciYmYS5lcXVhbHMoaikpe2Q9MTthPWYubmV4dCgpfWVsc2UgYi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGgsQ0tFRElUT1IuRU5EKSYmKGQ9MSk7aWYoZCYmYSl7Yj1iLmNsb25lKCk7Yi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGEpO3koYyxlLGIpO2suY2FuY2VsKCl9fWVsc2V7Zi5yYW5nZS5zZXRFbmRBdChoLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2lmKChhPWYubmV4dCgpKSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMocikpe2E9YS5nZXRGaXJzdChxKTtpZihqLmJsb2NrJiZiLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmIuY2hlY2tFbmRPZkJsb2NrKCkpe2ouYmxvY2sucmVtb3ZlKCk7Yi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGEpOwpiLnNlbGVjdCgpfWVsc2UgaWYodyhhKSl7Yi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGEpO2Iuc2VsZWN0KCl9ZWxzZXtiPWIuY2xvbmUoKTtiLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYSk7eShjLGUsYil9ay5jYW5jZWwoKX19c2V0VGltZW91dChmdW5jdGlvbigpe2Muc2VsZWN0aW9uQ2hhbmdlKDEpfSl9fX0pKX19KX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gUShhLGMsZCl7cmV0dXJuIG0oYykmJm0oZCkmJmQuZXF1YWxzKGMuZ2V0TmV4dChmdW5jdGlvbihhKXtyZXR1cm4hKHooYSl8fEEoYSl8fHAoYSkpfSkpfWZ1bmN0aW9uIHUoYSl7dGhpcy51cHBlcj1hWzBdO3RoaXMubG93ZXI9YVsxXTt0aGlzLnNldC5hcHBseSh0aGlzLGEuc2xpY2UoMikpfWZ1bmN0aW9uIEooYSl7dmFyIGM9YS5lbGVtZW50O2lmKGMmJm0oYykmJihjPWMuZ2V0QXNjZW5kYW50KGEudHJpZ2dlcnMsITApKSYmYS5lZGl0YWJsZS5jb250YWlucyhjKSl7dmFyIGQ9SyhjLCEwKTtpZigidHJ1ZSI9PWQuZ2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKSlyZXR1cm4gYztpZihkLmlzKGEudHJpZ2dlcnMpKXJldHVybiBkfXJldHVybiBudWxsfWZ1bmN0aW9uIGdhKGEsYyxkKXtvKGEsYyk7byhhLGQpO2E9Yy5zaXplLmJvdHRvbTtkPWQuc2l6ZS50b3A7cmV0dXJuIGEmJmQ\/MHwoYStkKS8yOmF8fGR9ZnVuY3Rpb24gcihhLGMsCmQpe3JldHVybiBjPWNbZD8iZ2V0UHJldmlvdXMiOiJnZXROZXh0Il0oZnVuY3Rpb24oYil7cmV0dXJuIGImJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYheihiKXx8bShiKSYmIXAoYikmJiF2KGEsYil9KX1mdW5jdGlvbiBLKGEsYyl7aWYoYS5kYXRhKCJja2UtZWRpdGFibGUiKSlyZXR1cm4gbnVsbDtmb3IoY3x8KGE9YS5nZXRQYXJlbnQoKSk7YSYmIWEuZGF0YSgiY2tlLWVkaXRhYmxlIik7KXtpZihhLmhhc0F0dHJpYnV0ZSgiY29udGVudGVkaXRhYmxlIikpcmV0dXJuIGE7YT1hLmdldFBhcmVudCgpfXJldHVybiBudWxsfWZ1bmN0aW9uIGhhKGEpe3ZhciBjPWEuZG9jLGQ9QignPHNwYW4gY29udGVudGVkaXRhYmxlPSJmYWxzZSIgc3R5bGU9IicrTCsicG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyLXRvcDoxcHggZGFzaGVkICIrYS5ib3hDb2xvcisnIj48L3NwYW4+JyxjKSxiPXRoaXMucGF0aCsiaW1hZ2VzLyIrKG4uaGlkcGk\/ImhpZHBpLyI6IiIpKyJpY29uLnBuZyI7cShkLAp7YXR0YWNoOmZ1bmN0aW9uKCl7dGhpcy53cmFwLmdldFBhcmVudCgpfHx0aGlzLndyYXAuYXBwZW5kVG8oYS5lZGl0YWJsZSwhMCk7cmV0dXJuIHRoaXN9LGxpbmVDaGlsZHJlbjpbcShCKCc8c3BhbiB0aXRsZT0iJythLmVkaXRvci5sYW5nLm1hZ2ljbGluZS50aXRsZSsnIiBjb250ZW50ZWRpdGFibGU9ImZhbHNlIj4mIzg2Mjk7PC9zcGFuPicsYykse2Jhc2U6TCsiaGVpZ2h0OjE3cHg7d2lkdGg6MTdweDsiKyhhLnJ0bD8ibGVmdCI6InJpZ2h0IikrIjoxN3B4O2JhY2tncm91bmQ6dXJsKCIrYisiKSBjZW50ZXIgbm8tcmVwZWF0ICIrYS5ib3hDb2xvcisiO2N1cnNvcjpwb2ludGVyOyIrKG4uaGM\/ImZvbnQtc2l6ZTogMTVweDtsaW5lLWhlaWdodDoxNHB4O2JvcmRlcjoxcHggc29saWQgI2ZmZjt0ZXh0LWFsaWduOmNlbnRlcjsiOiIiKSsobi5oaWRwaT8iYmFja2dyb3VuZC1zaXplOiA5cHggMTBweDsiOiIiKSxsb29rczpbInRvcDotOHB4OyIrQ0tFRElUT1IudG9vbHMuY3NzVmVuZG9yUHJlZml4KCJib3JkZXItcmFkaXVzIiwKIjJweCIsMSksInRvcDotMTdweDsiK0NLRURJVE9SLnRvb2xzLmNzc1ZlbmRvclByZWZpeCgiYm9yZGVyLXJhZGl1cyIsIjJweCAycHggMHB4IDBweCIsMSksInRvcDotMXB4OyIrQ0tFRElUT1IudG9vbHMuY3NzVmVuZG9yUHJlZml4KCJib3JkZXItcmFkaXVzIiwiMHB4IDBweCAycHggMnB4IiwxKV19KSxxKEIoUixjKSx7YmFzZTpTKyJsZWZ0OjBweDtib3JkZXItbGVmdC1jb2xvcjoiK2EuYm94Q29sb3IrIjsiLGxvb2tzOlsiYm9yZGVyLXdpZHRoOjhweCAwIDhweCA4cHg7dG9wOi04cHgiLCJib3JkZXItd2lkdGg6OHB4IDAgMCA4cHg7dG9wOi04cHgiLCJib3JkZXItd2lkdGg6MCAwIDhweCA4cHg7dG9wOjBweCJdfSkscShCKFIsYykse2Jhc2U6UysicmlnaHQ6MHB4O2JvcmRlci1yaWdodC1jb2xvcjoiK2EuYm94Q29sb3IrIjsiLGxvb2tzOlsiYm9yZGVyLXdpZHRoOjhweCA4cHggOHB4IDA7dG9wOi04cHgiLCJib3JkZXItd2lkdGg6OHB4IDhweCAwIDA7dG9wOi04cHgiLCJib3JkZXItd2lkdGg6MCA4cHggOHB4IDA7dG9wOjBweCJdfSldLApkZXRhY2g6ZnVuY3Rpb24oKXt0aGlzLndyYXAuZ2V0UGFyZW50KCkmJnRoaXMud3JhcC5yZW1vdmUoKTtyZXR1cm4gdGhpc30sbW91c2VOZWFyOmZ1bmN0aW9uKCl7byhhLHRoaXMpO3ZhciBiPWEuaG9sZERpc3RhbmNlLGM9dGhpcy5zaXplO3JldHVybiBjJiZhLm1vdXNlLnk+Yy50b3AtYiYmYS5tb3VzZS55PGMuYm90dG9tK2ImJmEubW91c2UueD5jLmxlZnQtYiYmYS5tb3VzZS54PGMucmlnaHQrYj8hMDohMX0scGxhY2U6ZnVuY3Rpb24oKXt2YXIgYj1hLnZpZXcsYz1hLmVkaXRhYmxlLGQ9YS50cmlnZ2VyLGg9ZC51cHBlcixnPWQubG93ZXIsaj1ofHxnLGw9ai5nZXRQYXJlbnQoKSxrPXt9O3RoaXMudHJpZ2dlcj1kO2gmJm8oYSxoLCEwKTtnJiZvKGEsZywhMCk7byhhLGwsITApO2EuaW5JbmxpbmVNb2RlJiZDKGEsITApO2wuZXF1YWxzKGMpPyhrLmxlZnQ9Yi5zY3JvbGwueCxrLnJpZ2h0PS1iLnNjcm9sbC54LGsud2lkdGg9IiIpOihrLmxlZnQ9ai5zaXplLmxlZnQtai5zaXplLm1hcmdpbi5sZWZ0KwpiLnNjcm9sbC54LShhLmluSW5saW5lTW9kZT9iLmVkaXRhYmxlLmxlZnQrYi5lZGl0YWJsZS5ib3JkZXIubGVmdDowKSxrLndpZHRoPWouc2l6ZS5vdXRlcldpZHRoK2ouc2l6ZS5tYXJnaW4ubGVmdCtqLnNpemUubWFyZ2luLnJpZ2h0K2Iuc2Nyb2xsLngsay5yaWdodD0iIik7aCYmZz9rLnRvcD1oLnNpemUubWFyZ2luLmJvdHRvbT09PWcuc2l6ZS5tYXJnaW4udG9wPzB8aC5zaXplLmJvdHRvbStoLnNpemUubWFyZ2luLmJvdHRvbS8yOmguc2l6ZS5tYXJnaW4uYm90dG9tPGcuc2l6ZS5tYXJnaW4udG9wP2guc2l6ZS5ib3R0b20raC5zaXplLm1hcmdpbi5ib3R0b206aC5zaXplLmJvdHRvbStoLnNpemUubWFyZ2luLmJvdHRvbS1nLnNpemUubWFyZ2luLnRvcDpoP2d8fChrLnRvcD1oLnNpemUuYm90dG9tK2guc2l6ZS5tYXJnaW4uYm90dG9tKTprLnRvcD1nLnNpemUudG9wLWcuc2l6ZS5tYXJnaW4udG9wO2QuaXMoeCl8fGsudG9wPmIuc2Nyb2xsLnktMTUmJmsudG9wPGIuc2Nyb2xsLnkrCjU\/KGsudG9wPWEuaW5JbmxpbmVNb2RlPzA6Yi5zY3JvbGwueSx0aGlzLmxvb2soeCkpOmQuaXMoeSl8fGsudG9wPmIucGFuZS5ib3R0b20tNSYmay50b3A8Yi5wYW5lLmJvdHRvbSsxNT8oay50b3A9YS5pbklubGluZU1vZGU\/Yi5lZGl0YWJsZS5oZWlnaHQrYi5lZGl0YWJsZS5wYWRkaW5nLnRvcCtiLmVkaXRhYmxlLnBhZGRpbmcuYm90dG9tOmIucGFuZS5ib3R0b20tMSx0aGlzLmxvb2soeSkpOihhLmluSW5saW5lTW9kZSYmKGsudG9wLT1iLmVkaXRhYmxlLnRvcCtiLmVkaXRhYmxlLmJvcmRlci50b3ApLHRoaXMubG9vayhzKSk7YS5pbklubGluZU1vZGUmJihrLnRvcC0tLGsudG9wKz1iLmVkaXRhYmxlLnNjcm9sbC50b3Asay5sZWZ0Kz1iLmVkaXRhYmxlLnNjcm9sbC5sZWZ0KTtmb3IodmFyIFQgaW4gaylrW1RdPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aChrW1RdKTt0aGlzLnNldFN0eWxlcyhrKX0sbG9vazpmdW5jdGlvbihhKXtpZih0aGlzLm9sZExvb2shPWEpe2Zvcih2YXIgYj0KdGhpcy5saW5lQ2hpbGRyZW4ubGVuZ3RoLGM7Yi0tOykoYz10aGlzLmxpbmVDaGlsZHJlbltiXSkuc2V0QXR0cmlidXRlKCJzdHlsZSIsYy5iYXNlK2MubG9va3NbMHxhLzJdKTt0aGlzLm9sZExvb2s9YX19LHdyYXA6bmV3IE0oInNwYW4iLGEuZG9jKX0pO2ZvcihjPWQubGluZUNoaWxkcmVuLmxlbmd0aDtjLS07KWQubGluZUNoaWxkcmVuW2NdLmFwcGVuZFRvKGQpO2QubG9vayhzKTtkLmFwcGVuZFRvKGQud3JhcCk7ZC51bnNlbGVjdGFibGUoKTtkLmxpbmVDaGlsZHJlblswXS5vbigibW91c2V1cCIsZnVuY3Rpb24oYil7ZC5kZXRhY2goKTtOKGEsZnVuY3Rpb24oYil7dmFyIGM9YS5saW5lLnRyaWdnZXI7YltjLmlzKEQpPyJpbnNlcnRCZWZvcmUiOiJpbnNlcnRBZnRlciJdKGMuaXMoRCk\/Yy5sb3dlcjpjLnVwcGVyKX0sITApO2EuZWRpdG9yLmZvY3VzKCk7IW4uaWUmJmEuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmYS5ob3ROb2RlLnNjcm9sbEludG9WaWV3KCk7Yi5kYXRhLnByZXZlbnREZWZhdWx0KCEwKX0pOwpkLm9uKCJtb3VzZWRvd24iLGZ1bmN0aW9uKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCghMCl9KTthLmxpbmU9ZH1mdW5jdGlvbiBOKGEsYyxkKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGEuZG9jKSxlPWEuZWRpdG9yLGY7bi5pZSYmYS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSP2Y9YS5kb2MuY3JlYXRlVGV4dChFKTooZj0oZj1LKGEuZWxlbWVudCwhMCkpJiZmLmRhdGEoImNrZS1lbnRlci1tb2RlIil8fGEuZW50ZXJNb2RlLGY9bmV3IE0oRltmXSxhLmRvYyksZi5pcygiYnIiKXx8YS5kb2MuY3JlYXRlVGV4dChFKS5hcHBlbmRUbyhmKSk7ZCYmZS5maXJlKCJzYXZlU25hcHNob3QiKTtjKGYpO2IubW92ZVRvUG9zaXRpb24oZixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2JdKTthLmhvdE5vZGU9ZjtkJiZlLmZpcmUoInNhdmVTbmFwc2hvdCIpfWZ1bmN0aW9uIFUoYSxjKXtyZXR1cm57Y2FuVW5kbzohMCwKbW9kZXM6e3d5c2l3eWc6MX0sZXhlYzpmdW5jdGlvbigpe2Z1bmN0aW9uIGQoYil7dmFyIGQ9bi5pZSYmOT5uLnZlcnNpb24\/IiAiOkUsZj1hLmhvdE5vZGUmJmEuaG90Tm9kZS5nZXRUZXh0KCk9PWQmJmEuZWxlbWVudC5lcXVhbHMoYS5ob3ROb2RlKSYmYS5sYXN0Q21kRGlyZWN0aW9uPT09ISFjO04oYSxmdW5jdGlvbihkKXtmJiZhLmhvdE5vZGUmJmEuaG90Tm9kZS5yZW1vdmUoKTtkW2M\/Imluc2VydEFmdGVyIjoiaW5zZXJ0QmVmb3JlIl0oYik7ZC5zZXRBdHRyaWJ1dGVzKHsiZGF0YS1ja2UtbWFnaWNsaW5lLWhvdCI6MSwiZGF0YS1ja2UtbWFnaWNsaW5lLWRpciI6ISFjfSk7YS5sYXN0Q21kRGlyZWN0aW9uPSEhY30pOyFuLmllJiZhLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJmEuaG90Tm9kZS5zY3JvbGxJbnRvVmlldygpO2EubGluZS5kZXRhY2goKX1yZXR1cm4gZnVuY3Rpb24oYil7dmFyIGI9Yi5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKSxlLGI9CmIuZ2V0QXNjZW5kYW50KFYsMSk7aWYoIVcoYSxiKSYmYiYmIWIuZXF1YWxzKGEuZWRpdGFibGUpJiYhYi5jb250YWlucyhhLmVkaXRhYmxlKSl7aWYoKGU9SyhiKSkmJiJmYWxzZSI9PWUuZ2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKSliPWU7YS5lbGVtZW50PWI7ZT1yKGEsYiwhYyk7dmFyIGY7bShlKSYmZS5pcyhhLnRyaWdnZXJzKSYmZS5pcyhpYSkmJighcihhLGUsIWMpfHwoZj1yKGEsZSwhYykpJiZtKGYpJiZmLmlzKGEudHJpZ2dlcnMpKT9kKGUpOihmPUooYSxiKSxtKGYpJiYocihhLGYsIWMpPyhiPXIoYSxmLCFjKSkmJihtKGIpJiZiLmlzKGEudHJpZ2dlcnMpKSYmZChmKTpkKGYpKSl9fX0oKX19ZnVuY3Rpb24gdihhLGMpe2lmKCFjfHwhKGMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZjLiQpKXJldHVybiExO3ZhciBkPWEubGluZTtyZXR1cm4gZC53cmFwLmVxdWFscyhjKXx8ZC53cmFwLmNvbnRhaW5zKGMpfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIGEmJgphLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS4kfWZ1bmN0aW9uIHAoYSl7aWYoIW0oYSkpcmV0dXJuITE7dmFyIGM7aWYoIShjPVgoYSkpKW0oYSk\/KGM9e2xlZnQ6MSxyaWdodDoxLGNlbnRlcjoxfSxjPSEoIWNbYS5nZXRDb21wdXRlZFN0eWxlKCJmbG9hdCIpXSYmIWNbYS5nZXRBdHRyaWJ1dGUoImFsaWduIildKSk6Yz0hMTtyZXR1cm4gY31mdW5jdGlvbiBYKGEpe3JldHVybiEhe2Fic29sdXRlOjEsZml4ZWQ6MX1bYS5nZXRDb21wdXRlZFN0eWxlKCJwb3NpdGlvbiIpXX1mdW5jdGlvbiBHKGEsYyl7cmV0dXJuIG0oYyk\/Yy5pcyhhLnRyaWdnZXJzKTpudWxsfWZ1bmN0aW9uIFcoYSxjKXtpZighYylyZXR1cm4hMTtmb3IodmFyIGQ9Yy5nZXRQYXJlbnRzKDEpLGI9ZC5sZW5ndGg7Yi0tOylmb3IodmFyIGU9YS50YWJ1TGlzdC5sZW5ndGg7ZS0tOylpZihkW2JdLmhhc0F0dHJpYnV0ZShhLnRhYnVMaXN0W2VdKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBqYShhLGMsCmQpe2M9Y1tkPyJnZXRMYXN0IjoiZ2V0Rmlyc3QiXShmdW5jdGlvbihiKXtyZXR1cm4gYS5pc1JlbGV2YW50KGIpJiYhYi5pcyhrYSl9KTtpZighYylyZXR1cm4hMTtvKGEsYyk7cmV0dXJuIGQ\/Yy5zaXplLnRvcD5hLm1vdXNlLnk6Yy5zaXplLmJvdHRvbTxhLm1vdXNlLnl9ZnVuY3Rpb24gWShhKXt2YXIgYz1hLmVkaXRhYmxlLGQ9YS5tb3VzZSxiPWEudmlldyxlPWEudHJpZ2dlck9mZnNldDtDKGEpO3ZhciBmPWQueT4oYS5pbklubGluZU1vZGU\/Yi5lZGl0YWJsZS50b3ArYi5lZGl0YWJsZS5oZWlnaHQvMjpNYXRoLm1pbihiLmVkaXRhYmxlLmhlaWdodCxiLnBhbmUuaGVpZ2h0KS8yKSxjPWNbZj8iZ2V0TGFzdCI6ImdldEZpcnN0Il0oZnVuY3Rpb24oYSl7cmV0dXJuISh6KGEpfHxBKGEpKX0pO2lmKCFjKXJldHVybiBudWxsO3YoYSxjKSYmKGM9YS5saW5lLndyYXBbZj8iZ2V0UHJldmlvdXMiOiJnZXROZXh0Il0oZnVuY3Rpb24oYSl7cmV0dXJuISh6KGEpfHxBKGEpKX0pKTtpZighbShjKXx8CnAoYyl8fCFHKGEsYykpcmV0dXJuIG51bGw7byhhLGMpO3JldHVybiFmJiYwPD1jLnNpemUudG9wJiYwPGQueSYmZC55PGMuc2l6ZS50b3ArZT8oYT1hLmluSW5saW5lTW9kZXx8MD09PWIuc2Nyb2xsLnk\/eDpzLG5ldyB1KFtudWxsLGMsRCxILGFdKSk6ZiYmYy5zaXplLmJvdHRvbTw9Yi5wYW5lLmhlaWdodCYmZC55PmMuc2l6ZS5ib3R0b20tZSYmZC55PGIucGFuZS5oZWlnaHQ\/KGE9YS5pbklubGluZU1vZGV8fGMuc2l6ZS5ib3R0b20+Yi5wYW5lLmhlaWdodC1lJiZjLnNpemUuYm90dG9tPGIucGFuZS5oZWlnaHQ\/eTpzLG5ldyB1KFtjLG51bGwsWixILGFdKSk6bnVsbH1mdW5jdGlvbiAkKGEpe3ZhciBjPWEubW91c2UsZD1hLnZpZXcsYj1hLnRyaWdnZXJPZmZzZXQsZT1KKGEpO2lmKCFlKXJldHVybiBudWxsO28oYSxlKTt2YXIgYj1NYXRoLm1pbihiLDB8ZS5zaXplLm91dGVySGVpZ2h0LzIpLGY9W10saSxoO2lmKGMueT5lLnNpemUudG9wLTEmJmMueTxlLnNpemUudG9wK2IpaD0KITE7ZWxzZSBpZihjLnk+ZS5zaXplLmJvdHRvbS1iJiZjLnk8ZS5zaXplLmJvdHRvbSsxKWg9ITA7ZWxzZSByZXR1cm4gbnVsbDtpZihwKGUpfHxqYShhLGUsaCl8fGUuZ2V0UGFyZW50KCkuaXMoYWEpKXJldHVybiBudWxsO3ZhciBnPXIoYSxlLCFoKTtpZihnKXtpZihnJiZnLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVClyZXR1cm4gbnVsbDtpZihtKGcpKXtpZihwKGcpfHwhRyhhLGcpfHxnLmdldFBhcmVudCgpLmlzKGFhKSlyZXR1cm4gbnVsbDtmPVtnLGVdW2g\/InJldmVyc2UiOiJjb25jYXQiXSgpLmNvbmNhdChbTyxIXSl9fWVsc2UgZS5lcXVhbHMoYS5lZGl0YWJsZVtoPyJnZXRMYXN0IjoiZ2V0Rmlyc3QiXShhLmlzUmVsZXZhbnQpKT8oQyhhKSxoJiZjLnk+ZS5zaXplLmJvdHRvbS1iJiZjLnk8ZC5wYW5lLmhlaWdodCYmZS5zaXplLmJvdHRvbT5kLnBhbmUuaGVpZ2h0LWImJmUuc2l6ZS5ib3R0b208ZC5wYW5lLmhlaWdodD9pPXk6MDxjLnkmJmMueTxlLnNpemUudG9wK2ImJgooaT14KSk6aT1zLGY9W251bGwsZV1baD8icmV2ZXJzZSI6ImNvbmNhdCJdKCkuY29uY2F0KFtoP1o6RCxILGksZS5lcXVhbHMoYS5lZGl0YWJsZVtoPyJnZXRMYXN0IjoiZ2V0Rmlyc3QiXShhLmlzUmVsZXZhbnQpKT9oP3k6eDpzXSk7cmV0dXJuIDAgaW4gZj9uZXcgdShmKTpudWxsfWZ1bmN0aW9uIFAoYSxjLGQsYil7Zm9yKHZhciBlPWZ1bmN0aW9uKCl7dmFyIGI9bi5pZT9jLiQuY3VycmVudFN0eWxlOmEud2luLiQuZ2V0Q29tcHV0ZWRTdHlsZShjLiQsIiIpO3JldHVybiBuLmllP2Z1bmN0aW9uKGEpe3JldHVybiBiW0NLRURJVE9SLnRvb2xzLmNzc1N0eWxlVG9Eb21TdHlsZShhKV19OmZ1bmN0aW9uKGEpe3JldHVybiBiLmdldFByb3BlcnR5VmFsdWUoYSl9fSgpLGY9Yy5nZXREb2N1bWVudFBvc2l0aW9uKCksaT17fSxoPXt9LGc9e30saj17fSxsPXQubGVuZ3RoO2wtLTspaVt0W2xdXT1wYXJzZUludChlKCJib3JkZXItIit0W2xdKyItd2lkdGgiKSwxMCl8fDAsZ1t0W2xdXT0KcGFyc2VJbnQoZSgicGFkZGluZy0iK3RbbF0pLDEwKXx8MCxoW3RbbF1dPXBhcnNlSW50KGUoIm1hcmdpbi0iK3RbbF0pLDEwKXx8MDsoIWR8fGIpJiZJKGEsYik7ai50b3A9Zi55LShkPzA6YS52aWV3LnNjcm9sbC55KTtqLmxlZnQ9Zi54LShkPzA6YS52aWV3LnNjcm9sbC54KTtqLm91dGVyV2lkdGg9Yy4kLm9mZnNldFdpZHRoO2oub3V0ZXJIZWlnaHQ9Yy4kLm9mZnNldEhlaWdodDtqLmhlaWdodD1qLm91dGVySGVpZ2h0LShnLnRvcCtnLmJvdHRvbStpLnRvcCtpLmJvdHRvbSk7ai53aWR0aD1qLm91dGVyV2lkdGgtKGcubGVmdCtnLnJpZ2h0K2kubGVmdCtpLnJpZ2h0KTtqLmJvdHRvbT1qLnRvcCtqLm91dGVySGVpZ2h0O2oucmlnaHQ9ai5sZWZ0K2oub3V0ZXJXaWR0aDthLmluSW5saW5lTW9kZSYmKGouc2Nyb2xsPXt0b3A6Yy4kLnNjcm9sbFRvcCxsZWZ0OmMuJC5zY3JvbGxMZWZ0fSk7cmV0dXJuIHEoe2JvcmRlcjppLHBhZGRpbmc6ZyxtYXJnaW46aCxpZ25vcmVTY3JvbGw6ZH0sCmosITApfWZ1bmN0aW9uIG8oYSxjLGQpe2lmKCFtKGMpKXJldHVybiBjLnNpemU9bnVsbDtpZihjLnNpemUpe2lmKGMuc2l6ZS5pZ25vcmVTY3JvbGw9PWQmJmMuc2l6ZS5kYXRlPm5ldyBEYXRlLWJhKXJldHVybiBudWxsfWVsc2UgYy5zaXplPXt9O3JldHVybiBxKGMuc2l6ZSxQKGEsYyxkKSx7ZGF0ZTorbmV3IERhdGV9LCEwKX1mdW5jdGlvbiBDKGEsYyl7YS52aWV3LmVkaXRhYmxlPVAoYSxhLmVkaXRhYmxlLGMsITApfWZ1bmN0aW9uIEkoYSxjKXthLnZpZXd8fChhLnZpZXc9e30pO3ZhciBkPWEudmlldztpZihjfHwhKGQmJmQuZGF0ZT5uZXcgRGF0ZS1iYSkpe3ZhciBiPWEud2luLGQ9Yi5nZXRTY3JvbGxQb3NpdGlvbigpLGI9Yi5nZXRWaWV3UGFuZVNpemUoKTtxKGEudmlldyx7c2Nyb2xsOnt4OmQueCx5OmQueSx3aWR0aDphLmRvYy4kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aC1iLndpZHRoLGhlaWdodDphLmRvYy4kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQtCmIuaGVpZ2h0fSxwYW5lOnt3aWR0aDpiLndpZHRoLGhlaWdodDpiLmhlaWdodCxib3R0b206Yi5oZWlnaHQrZC55fSxkYXRlOituZXcgRGF0ZX0sITApfX1mdW5jdGlvbiBsYShhLGMsZCxiKXtmb3IodmFyIGU9YixmPWIsaT0wLGg9ITEsZz0hMSxqPWEudmlldy5wYW5lLmhlaWdodCxsPWEubW91c2U7bC55K2k8aiYmMDxsLnktaTspe2h8fChoPWMoZSxiKSk7Z3x8KGc9YyhmLGIpKTshaCYmMDxsLnktaSYmKGU9ZChhLHt4OmwueCx5OmwueS1pfSkpOyFnJiZsLnkraTxqJiYoZj1kKGEse3g6bC54LHk6bC55K2l9KSk7aWYoaCYmZylicmVhaztpKz0yfXJldHVybiBuZXcgdShbZSxmLG51bGwsbnVsbF0pfUNLRURJVE9SLnBsdWdpbnMuYWRkKCJtYWdpY2xpbmUiLHtpbml0OmZ1bmN0aW9uKGEpe3ZhciBjPWEuY29uZmlnLGQ9Yy5tYWdpY2xpbmVfdHJpZ2dlck9mZnNldHx8MzAsYj17ZWRpdG9yOmEsZW50ZXJNb2RlOmMuZW50ZXJNb2RlLHRyaWdnZXJPZmZzZXQ6ZCxob2xkRGlzdGFuY2U6MHwKZCooYy5tYWdpY2xpbmVfaG9sZERpc3RhbmNlfHwwLjUpLGJveENvbG9yOmMubWFnaWNsaW5lX2NvbG9yfHwiI2ZmMDAwMCIscnRsOiJydGwiPT1jLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbix0YWJ1TGlzdDpbImRhdGEtY2tlLWhpZGRlbi1zZWwiXS5jb25jYXQoYy5tYWdpY2xpbmVfdGFidUxpc3R8fFtdKSx0cmlnZ2VyczpjLm1hZ2ljbGluZV9ldmVyeXdoZXJlP1Y6e3RhYmxlOjEsaHI6MSxkaXY6MSx1bDoxLG9sOjEsZGw6MSxmb3JtOjEsYmxvY2txdW90ZToxfX0sZSxmLGk7Yi5pc1JlbGV2YW50PWZ1bmN0aW9uKGEpe3JldHVybiBtKGEpJiYhdihiLGEpJiYhcChhKX07YS5vbigiY29udGVudERvbSIsZnVuY3Rpb24oKXt2YXIgZD1hLmVkaXRhYmxlKCksZz1hLmRvY3VtZW50LGo9YS53aW5kb3c7cShiLHtlZGl0YWJsZTpkLGluSW5saW5lTW9kZTpkLmlzSW5saW5lKCksZG9jOmcsd2luOmosaG90Tm9kZTpudWxsfSwhMCk7Yi5ib3VuZGFyeT1iLmluSW5saW5lTW9kZT9iLmVkaXRhYmxlOgpiLmRvYy5nZXREb2N1bWVudEVsZW1lbnQoKTtkLmlzKHcuJGlubGluZSl8fChiLmluSW5saW5lTW9kZSYmIVgoZCkmJmQuc2V0U3R5bGVzKHtwb3NpdGlvbjoicmVsYXRpdmUiLHRvcDpudWxsLGxlZnQ6bnVsbH0pLGhhLmNhbGwodGhpcyxiKSxJKGIpLGQuYXR0YWNoTGlzdGVuZXIoYSwiYmVmb3JlVW5kb0ltYWdlIixmdW5jdGlvbigpe2IubGluZS5kZXRhY2goKX0pLGQuYXR0YWNoTGlzdGVuZXIoYSwiYmVmb3JlR2V0RGF0YSIsZnVuY3Rpb24oKXtiLmxpbmUud3JhcC5nZXRQYXJlbnQoKSYmKGIubGluZS5kZXRhY2goKSxhLm9uY2UoImdldERhdGEiLGZ1bmN0aW9uKCl7Yi5saW5lLmF0dGFjaCgpfSxudWxsLG51bGwsMUUzKSl9LG51bGwsbnVsbCwwKSxkLmF0dGFjaExpc3RlbmVyKGIuaW5JbmxpbmVNb2RlP2c6Zy5nZXRXaW5kb3coKS5nZXRGcmFtZSgpLCJtb3VzZW91dCIsZnVuY3Rpb24oYyl7aWYoInd5c2l3eWciPT1hLm1vZGUpaWYoYi5pbklubGluZU1vZGUpe3ZhciBkPWMuZGF0YS4kLmNsaWVudFgsCmM9Yy5kYXRhLiQuY2xpZW50WTtJKGIpO0MoYiwhMCk7dmFyIGU9Yi52aWV3LmVkaXRhYmxlLGY9Yi52aWV3LnNjcm9sbDtpZighKGQ+ZS5sZWZ0LWYueCYmZDxlLnJpZ2h0LWYueCl8fCEoYz5lLnRvcC1mLnkmJmM8ZS5ib3R0b20tZi55KSljbGVhclRpbWVvdXQoaSksaT1udWxsLGIubGluZS5kZXRhY2goKX1lbHNlIGNsZWFyVGltZW91dChpKSxpPW51bGwsYi5saW5lLmRldGFjaCgpfSksZC5hdHRhY2hMaXN0ZW5lcihkLCJrZXl1cCIsZnVuY3Rpb24oKXtiLmhpZGRlbk1vZGU9MH0pLGQuYXR0YWNoTGlzdGVuZXIoZCwia2V5ZG93biIsZnVuY3Rpb24oYyl7aWYoInd5c2l3eWciPT1hLm1vZGUpc3dpdGNoKGM9Yy5kYXRhLmdldEtleXN0cm9rZSgpLGEuZ2V0U2VsZWN0aW9uKCkuZ2V0U3RhcnRFbGVtZW50KCksYyl7Y2FzZSAyMjI4MjQwOmNhc2UgMTY6Yi5oaWRkZW5Nb2RlPTEsYi5saW5lLmRldGFjaCgpfX0pLGQuYXR0YWNoTGlzdGVuZXIoYi5pbklubGluZU1vZGU\/ZDpnLCJtb3VzZW1vdmUiLApmdW5jdGlvbihjKXtmPSEwO2lmKCEoInd5c2l3eWciIT1hLm1vZGV8fGEucmVhZE9ubHl8fGkpKXt2YXIgZD17eDpjLmRhdGEuJC5jbGllbnRYLHk6Yy5kYXRhLiQuY2xpZW50WX07aT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5tb3VzZT1kO2k9Yi50cmlnZ2VyPW51bGw7SShiKTtpZihmJiYhYi5oaWRkZW5Nb2RlJiZhLmZvY3VzTWFuYWdlci5oYXNGb2N1cyYmIWIubGluZS5tb3VzZU5lYXIoKSYmKGIuZWxlbWVudD1jYShiLCEwKSkpKGIudHJpZ2dlcj1ZKGIpfHwkKGIpfHxkYShiKSkmJiFXKGIsYi50cmlnZ2VyLnVwcGVyfHxiLnRyaWdnZXIubG93ZXIpP2IubGluZS5hdHRhY2goKS5wbGFjZSgpOihiLnRyaWdnZXI9bnVsbCxiLmxpbmUuZGV0YWNoKCkpLGY9ITF9LDMwKX19KSxkLmF0dGFjaExpc3RlbmVyKGosInNjcm9sbCIsZnVuY3Rpb24oKXsid3lzaXd5ZyI9PWEubW9kZSYmKGIubGluZS5kZXRhY2goKSxuLndlYmtpdCYmKGIuaGlkZGVuTW9kZT0xLGNsZWFyVGltZW91dChlKSwKZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5tb3VzZURvd258fChiLmhpZGRlbk1vZGU9MCl9LDUwKSkpfSksZC5hdHRhY2hMaXN0ZW5lcihlYT9nOmosIm1vdXNlZG93biIsZnVuY3Rpb24oKXsid3lzaXd5ZyI9PWEubW9kZSYmKGIubGluZS5kZXRhY2goKSxiLmhpZGRlbk1vZGU9MSxiLm1vdXNlRG93bj0xKX0pLGQuYXR0YWNoTGlzdGVuZXIoZWE\/ZzpqLCJtb3VzZXVwIixmdW5jdGlvbigpe2IuaGlkZGVuTW9kZT0wO2IubW91c2VEb3duPTB9KSxhLmFkZENvbW1hbmQoImFjY2Vzc1ByZXZpb3VzU3BhY2UiLFUoYikpLGEuYWRkQ29tbWFuZCgiYWNjZXNzTmV4dFNwYWNlIixVKGIsITApKSxhLnNldEtleXN0cm9rZShbW2MubWFnaWNsaW5lX2tleXN0cm9rZVByZXZpb3VzLCJhY2Nlc3NQcmV2aW91c1NwYWNlIl0sW2MubWFnaWNsaW5lX2tleXN0cm9rZU5leHQsImFjY2Vzc05leHRTcGFjZSJdXSksYS5vbigibG9hZFNuYXBzaG90IixmdW5jdGlvbigpe3ZhciBjLGQsZSxmO2ZvcihmIGlue3A6MSwKYnI6MSxkaXY6MX0pe2M9YS5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnKGYpO2ZvcihlPWMuY291bnQoKTtlLS07KWlmKChkPWMuZ2V0SXRlbShlKSkuZGF0YSgiY2tlLW1hZ2ljbGluZS1ob3QiKSl7Yi5ob3ROb2RlPWQ7Yi5sYXN0Q21kRGlyZWN0aW9uPSJ0cnVlIj09PWQuZGF0YSgiY2tlLW1hZ2ljbGluZS1kaXIiKT8hMDohMTtyZXR1cm59fX0pLHRoaXMuYmFja2Rvb3I9e2FjY2Vzc0ZvY3VzU3BhY2U6Tixib3hUcmlnZ2VyOnUsaXNMaW5lOnYsZ2V0QXNjZW5kYW50VHJpZ2dlcjpKLGdldE5vbkVtcHR5TmVpZ2hib3VyOnIsZ2V0U2l6ZTpQLHRoYXQ6Yix0cmlnZ2VyRWRnZTokLHRyaWdnZXJFZGl0YWJsZTpZLHRyaWdnZXJFeHBhbmQ6ZGF9KX0sdGhpcyl9fSk7dmFyIHE9Q0tFRElUT1IudG9vbHMuZXh0ZW5kLE09Q0tFRElUT1IuZG9tLmVsZW1lbnQsQj1NLmNyZWF0ZUZyb21IdG1sLG49Q0tFRElUT1IuZW52LGVhPUNLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiwKdz1DS0VESVRPUi5kdGQsRj17fSxEPTEyOCxaPTY0LE89MzIsSD0xNixmYT04LHg9NCx5PTIscz0xLEU9IsKgIixhYT13LiRsaXN0SXRlbSxrYT13LiR0YWJsZUNvbnRlbnQsaWE9cSh7fSx3LiRub25FZGl0YWJsZSx3LiRlbXB0eSksVj13LiRibG9jayxiYT0xMDAsTD0id2lkdGg6MHB4O2hlaWdodDowcHg7cGFkZGluZzowcHg7bWFyZ2luOjBweDtkaXNwbGF5OmJsb2NrO3otaW5kZXg6OTk5OTtjb2xvcjojZmZmO3Bvc2l0aW9uOmFic29sdXRlO2ZvbnQtc2l6ZTogMHB4O2xpbmUtaGVpZ2h0OjBweDsiLFM9TCsiYm9yZGVyLWNvbG9yOnRyYW5zcGFyZW50O2Rpc3BsYXk6YmxvY2s7Ym9yZGVyLXN0eWxlOnNvbGlkOyIsUj0iPHNwYW4+IitFKyI8L3NwYW4+IjtGW0NLRURJVE9SLkVOVEVSX0JSXT0iYnIiO0ZbQ0tFRElUT1IuRU5URVJfUF09InAiO0ZbQ0tFRElUT1IuRU5URVJfRElWXT0iZGl2Ijt1LnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYyxkKXt0aGlzLnByb3BlcnRpZXM9YSsKYysoZHx8cyk7cmV0dXJuIHRoaXN9LGlzOmZ1bmN0aW9uKGEpe3JldHVybih0aGlzLnByb3BlcnRpZXMmYSk9PWF9fTt2YXIgY2E9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxjLGQpe2lmKCFhLm1vdXNlKXJldHVybiBudWxsO3ZhciBiPWEuZG9jLGU9YS5saW5lLndyYXAsZD1kfHxhLm1vdXNlLGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGIuJC5lbGVtZW50RnJvbVBvaW50KGQueCxkLnkpKTtjJiZ2KGEsZikmJihlLmhpZGUoKSxmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChiLiQuZWxlbWVudEZyb21Qb2ludChkLngsZC55KSksZS5zaG93KCkpO3JldHVybiFmfHwhKGYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZmLiQpfHxuLmllJiY5Pm4udmVyc2lvbiYmIWEuYm91bmRhcnkuZXF1YWxzKGYpJiYhYS5ib3VuZGFyeS5jb250YWlucyhmKT9udWxsOmZ9fSgpLHo9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLEE9Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZShDS0VESVRPUi5OT0RFX0NPTU1FTlQpLApkYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGI9YS5lbGVtZW50LGUsZixpO2lmKCFtKGIpfHxiLmNvbnRhaW5zKGEuZWRpdGFibGUpfHxiLmlzUmVhZE9ubHkoKSlyZXR1cm4gbnVsbDtpPWxhKGEsZnVuY3Rpb24oYSxiKXtyZXR1cm4hYi5lcXVhbHMoYSl9LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGNhKGEsITAsYil9LGIpO2U9aS51cHBlcjtmPWkubG93ZXI7aWYoUShhLGUsZikpcmV0dXJuIGkuc2V0KE8sZmEpO2lmKGUmJmIuY29udGFpbnMoZSkpZm9yKDshZS5nZXRQYXJlbnQoKS5lcXVhbHMoYik7KWU9ZS5nZXRQYXJlbnQoKTtlbHNlIGU9Yi5nZXRGaXJzdChmdW5jdGlvbihiKXtyZXR1cm4gYyhhLGIpfSk7aWYoZiYmYi5jb250YWlucyhmKSlmb3IoOyFmLmdldFBhcmVudCgpLmVxdWFscyhiKTspZj1mLmdldFBhcmVudCgpO2Vsc2UgZj1iLmdldExhc3QoZnVuY3Rpb24oYil7cmV0dXJuIGMoYSxiKX0pO2lmKCFlfHwhZilyZXR1cm4gbnVsbDtvKGEsZSk7byhhLGYpO2lmKCEoYS5tb3VzZS55PgplLnNpemUudG9wJiZhLm1vdXNlLnk8Zi5zaXplLmJvdHRvbSkpcmV0dXJuIG51bGw7Zm9yKHZhciBiPU51bWJlci5NQVhfVkFMVUUsaCxnLGosbDtmJiYhZi5lcXVhbHMoZSkmJihnPWUuZ2V0TmV4dChhLmlzUmVsZXZhbnQpKTspaD1NYXRoLmFicyhnYShhLGUsZyktYS5tb3VzZS55KSxoPGImJihiPWgsaj1lLGw9ZyksZT1nLG8oYSxlKTtpZighanx8IWx8fCEoYS5tb3VzZS55Pmouc2l6ZS50b3AmJmEubW91c2UueTxsLnNpemUuYm90dG9tKSlyZXR1cm4gbnVsbDtpLnVwcGVyPWo7aS5sb3dlcj1sO3JldHVybiBpLnNldChPLGZhKX1mdW5jdGlvbiBjKGEsYil7cmV0dXJuIShiJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8QShiKXx8cChiKXx8dihhLGIpfHxiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi4kJiZiLmlzKCJiciIpKX1yZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGI9YShjKSxlO2lmKGU9Yil7ZT1iLnVwcGVyO3ZhciBmPWIubG93ZXI7ZT0hZXx8IWZ8fHAoZil8fApwKGUpfHxmLmVxdWFscyhlKXx8ZS5lcXVhbHMoZil8fGYuY29udGFpbnMoZSl8fGUuY29udGFpbnMoZik\/ITE6RyhjLGUpJiZHKGMsZikmJlEoYyxlLGYpPyEwOiExfXJldHVybiBlP2I6bnVsbH19KCksdD1bInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSJdfSkoKTtDS0VESVRPUi5jb25maWcubWFnaWNsaW5lX2tleXN0cm9rZVByZXZpb3VzPUNLRURJVE9SLkNUUkwrQ0tFRElUT1IuU0hJRlQrNTE7Q0tFRElUT1IuY29uZmlnLm1hZ2ljbGluZV9rZXlzdHJva2VOZXh0PUNLRURJVE9SLkNUUkwrQ0tFRElUT1IuU0hJRlQrNTI7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbChhKXtpZighYXx8YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCJmb3JtIiE9YS5nZXROYW1lKCkpcmV0dXJuW107Zm9yKHZhciBlPVtdLGY9WyJzdHlsZSIsImNsYXNzTmFtZSJdLGI9MDtiPGYubGVuZ3RoO2IrKyl7dmFyIGQ9YS4kLmVsZW1lbnRzLm5hbWVkSXRlbShmW2JdKTtkJiYoZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZCksZS5wdXNoKFtkLGQubmV4dFNpYmxpbmddKSxkLnJlbW92ZSgpKX1yZXR1cm4gZX1mdW5jdGlvbiBvKGEsZSl7aWYoYSYmIShhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8ImZvcm0iIT1hLmdldE5hbWUoKSkmJjA8ZS5sZW5ndGgpZm9yKHZhciBmPWUubGVuZ3RoLTE7MDw9ZjtmLS0pe3ZhciBiPWVbZl1bMF0sZD1lW2ZdWzFdO2Q\/Yi5pbnNlcnRCZWZvcmUoZCk6Yi5hcHBlbmRUbyhhKX19ZnVuY3Rpb24gbihhLGUpe3ZhciBmPWwoYSksYj17fSxkPWEuJDtlfHwoYlsiY2xhc3MiXT1kLmNsYXNzTmFtZXx8CiIiLGQuY2xhc3NOYW1lPSIiKTtiLmlubGluZT1kLnN0eWxlLmNzc1RleHR8fCIiO2V8fChkLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBzdGF0aWM7IG92ZXJmbG93OiB2aXNpYmxlIik7byhmKTtyZXR1cm4gYn1mdW5jdGlvbiBwKGEsZSl7dmFyIGY9bChhKSxiPWEuJDsiY2xhc3MiaW4gZSYmKGIuY2xhc3NOYW1lPWVbImNsYXNzIl0pOyJpbmxpbmUiaW4gZSYmKGIuc3R5bGUuY3NzVGV4dD1lLmlubGluZSk7byhmKX1mdW5jdGlvbiBxKGEpe2lmKCFhLmVkaXRhYmxlKCkuaXNJbmxpbmUoKSl7dmFyIGU9Q0tFRElUT1IuaW5zdGFuY2VzLGY7Zm9yKGYgaW4gZSl7dmFyIGI9ZVtmXTsid3lzaXd5ZyI9PWIubW9kZSYmIWIucmVhZE9ubHkmJihiPWIuZG9jdW1lbnQuZ2V0Qm9keSgpLGIuc2V0QXR0cmlidXRlKCJjb250ZW50RWRpdGFibGUiLCExKSxiLnNldEF0dHJpYnV0ZSgiY29udGVudEVkaXRhYmxlIiwhMCkpfWEuZWRpdGFibGUoKS5oYXNGb2N1cyYmKGEudG9vbGJveC5mb2N1cygpLAphLmZvY3VzKCkpfX1DS0VESVRPUi5wbHVnaW5zLmFkZCgibWF4aW1pemUiLHtpbml0OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGUoKXt2YXIgYj1kLmdldFZpZXdQYW5lU2l6ZSgpO2EucmVzaXplKGIud2lkdGgsYi5oZWlnaHQsbnVsbCwhMCl9aWYoYS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSl7dmFyIGY9YS5sYW5nLGI9Q0tFRElUT1IuZG9jdW1lbnQsZD1iLmdldFdpbmRvdygpLGosayxtLGw9Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO2EuYWRkQ29tbWFuZCgibWF4aW1pemUiLHttb2Rlczp7d3lzaXd5ZzohQ0tFRElUT1IuZW52LmlPUyxzb3VyY2U6IUNLRURJVE9SLmVudi5pT1N9LHJlYWRPbmx5OjEsZWRpdG9yRm9jdXM6ITEsZXhlYzpmdW5jdGlvbigpe3ZhciBoPWEuY29udGFpbmVyLmdldENoaWxkKDEpLGc9YS51aS5zcGFjZSgiY29udGVudHMiKTtpZigid3lzaXd5ZyI9PWEubW9kZSl7dmFyIGM9YS5nZXRTZWxlY3Rpb24oKTtqPWMmJmMuZ2V0UmFuZ2VzKCk7Cms9ZC5nZXRTY3JvbGxQb3NpdGlvbigpfWVsc2V7dmFyIGk9YS5lZGl0YWJsZSgpLiQ7aj0hQ0tFRElUT1IuZW52LmllJiZbaS5zZWxlY3Rpb25TdGFydCxpLnNlbGVjdGlvbkVuZF07az1baS5zY3JvbGxMZWZ0LGkuc2Nyb2xsVG9wXX1pZih0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkYpe2Qub24oInJlc2l6ZSIsZSk7bT1kLmdldFNjcm9sbFBvc2l0aW9uKCk7Zm9yKGM9YS5jb250YWluZXI7Yz1jLmdldFBhcmVudCgpOyljLnNldEN1c3RvbURhdGEoIm1heGltaXplX3NhdmVkX3N0eWxlcyIsbihjKSksYy5zZXRTdHlsZSgiei1pbmRleCIsYS5jb25maWcuYmFzZUZsb2F0WkluZGV4LTUpO2cuc2V0Q3VzdG9tRGF0YSgibWF4aW1pemVfc2F2ZWRfc3R5bGVzIixuKGcsITApKTtoLnNldEN1c3RvbURhdGEoIm1heGltaXplX3NhdmVkX3N0eWxlcyIsbihoLCEwKSk7Zz17b3ZlcmZsb3c6Q0tFRElUT1IuZW52LndlYmtpdD8iIjoiaGlkZGVuIix3aWR0aDowLGhlaWdodDowfTsKYi5nZXREb2N1bWVudEVsZW1lbnQoKS5zZXRTdHlsZXMoZyk7IUNLRURJVE9SLmVudi5nZWNrbyYmYi5nZXREb2N1bWVudEVsZW1lbnQoKS5zZXRTdHlsZSgicG9zaXRpb24iLCJmaXhlZCIpOyghQ0tFRElUT1IuZW52LmdlY2tvfHwhQ0tFRElUT1IuZW52LnF1aXJrcykmJmIuZ2V0Qm9keSgpLnNldFN0eWxlcyhnKTtDS0VESVRPUi5lbnYuaWU\/c2V0VGltZW91dChmdW5jdGlvbigpe2QuJC5zY3JvbGxUbygwLDApfSwwKTpkLiQuc2Nyb2xsVG8oMCwwKTtoLnNldFN0eWxlKCJwb3NpdGlvbiIsQ0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYucXVpcmtzPyJmaXhlZCI6ImFic29sdXRlIik7aC4kLm9mZnNldExlZnQ7aC5zZXRTdHlsZXMoeyJ6LWluZGV4IjphLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgtNSxsZWZ0OiIwcHgiLHRvcDoiMHB4In0pO2guYWRkQ2xhc3MoImNrZV9tYXhpbWl6ZWQiKTtlKCk7Zz1oLmdldERvY3VtZW50UG9zaXRpb24oKTtoLnNldFN0eWxlcyh7bGVmdDotMSoKZy54KyJweCIsdG9wOi0xKmcueSsicHgifSk7Q0tFRElUT1IuZW52LmdlY2tvJiZxKGEpfWVsc2UgaWYodGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04pe2QucmVtb3ZlTGlzdGVuZXIoInJlc2l6ZSIsZSk7Zz1bZyxoXTtmb3IoYz0wO2M8Zy5sZW5ndGg7YysrKXAoZ1tjXSxnW2NdLmdldEN1c3RvbURhdGEoIm1heGltaXplX3NhdmVkX3N0eWxlcyIpKSxnW2NdLnJlbW92ZUN1c3RvbURhdGEoIm1heGltaXplX3NhdmVkX3N0eWxlcyIpO2ZvcihjPWEuY29udGFpbmVyO2M9Yy5nZXRQYXJlbnQoKTspcChjLGMuZ2V0Q3VzdG9tRGF0YSgibWF4aW1pemVfc2F2ZWRfc3R5bGVzIikpLGMucmVtb3ZlQ3VzdG9tRGF0YSgibWF4aW1pemVfc2F2ZWRfc3R5bGVzIik7Q0tFRElUT1IuZW52LmllP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtkLiQuc2Nyb2xsVG8obS54LG0ueSl9LDApOmQuJC5zY3JvbGxUbyhtLngsbS55KTtoLnJlbW92ZUNsYXNzKCJja2VfbWF4aW1pemVkIik7Q0tFRElUT1IuZW52LndlYmtpdCYmCihoLnNldFN0eWxlKCJkaXNwbGF5IiwiaW5saW5lIiksc2V0VGltZW91dChmdW5jdGlvbigpe2guc2V0U3R5bGUoImRpc3BsYXkiLCJibG9jayIpfSwwKSk7YS5maXJlKCJyZXNpemUiKX10aGlzLnRvZ2dsZVN0YXRlKCk7aWYoYz10aGlzLnVpSXRlbXNbMF0pZz10aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkY\/Zi5tYXhpbWl6ZS5tYXhpbWl6ZTpmLm1heGltaXplLm1pbmltaXplLGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChjLl8uaWQpLGMuZ2V0Q2hpbGQoMSkuc2V0SHRtbChnKSxjLnNldEF0dHJpYnV0ZSgidGl0bGUiLGcpLGMuc2V0QXR0cmlidXRlKCJocmVmIiwnamF2YXNjcmlwdDp2b2lkKCInK2crJyIpOycpOyJ3eXNpd3lnIj09YS5tb2RlP2o\/KENLRURJVE9SLmVudi5nZWNrbyYmcShhKSxhLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhqKSwoaT1hLmdldFNlbGVjdGlvbigpLmdldFN0YXJ0RWxlbWVudCgpKSYmaS5zY3JvbGxJbnRvVmlldyghMCkpOgpkLiQuc2Nyb2xsVG8oay54LGsueSk6KGomJihpLnNlbGVjdGlvblN0YXJ0PWpbMF0saS5zZWxlY3Rpb25FbmQ9alsxXSksaS5zY3JvbGxMZWZ0PWtbMF0saS5zY3JvbGxUb3A9a1sxXSk7aj1rPW51bGw7bD10aGlzLnN0YXRlO2EuZmlyZSgibWF4aW1pemUiLHRoaXMuc3RhdGUpfSxjYW5VbmRvOiExfSk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKCJNYXhpbWl6ZSIse2xhYmVsOmYubWF4aW1pemUubWF4aW1pemUsY29tbWFuZDoibWF4aW1pemUiLHRvb2xiYXI6InRvb2xzLDEwIn0pO2Eub24oIm1vZGUiLGZ1bmN0aW9uKCl7dmFyIGI9YS5nZXRDb21tYW5kKCJtYXhpbWl6ZSIpO2Iuc2V0U3RhdGUoYi5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ\/Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ6bCl9LG51bGwsbnVsbCwxMDApfX19KX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGM9e2NhblVuZG86ITEsYXN5bmM6ITAsZXhlYzpmdW5jdGlvbihhKXthLmdldENsaXBib2FyZERhdGEoe3RpdGxlOmEubGFuZy5wYXN0ZXRleHQudGl0bGV9LGZ1bmN0aW9uKGIpe2ImJmEuZmlyZSgicGFzdGUiLHt0eXBlOiJ0ZXh0IixkYXRhVmFsdWU6Yi5kYXRhVmFsdWV9KTthLmZpcmUoImFmdGVyQ29tbWFuZEV4ZWMiLHtuYW1lOiJwYXN0ZXRleHQiLGNvbW1hbmQ6YyxyZXR1cm5WYWx1ZTohIWJ9KX0pfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoInBhc3RldGV4dCIse3JlcXVpcmVzOiJjbGlwYm9hcmQiLGluaXQ6ZnVuY3Rpb24oYSl7YS5hZGRDb21tYW5kKCJwYXN0ZXRleHQiLGMpO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbigiUGFzdGVUZXh0Iix7bGFiZWw6YS5sYW5nLnBhc3RldGV4dC5idXR0b24sY29tbWFuZDoicGFzdGV0ZXh0Iix0b29sYmFyOiJjbGlwYm9hcmQsNDAifSk7aWYoYS5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0KWEub24oImJlZm9yZVBhc3RlIiwKZnVuY3Rpb24oYSl7Imh0bWwiIT1hLmRhdGEudHlwZSYmKGEuZGF0YS50eXBlPSJ0ZXh0Iil9KTthLm9uKCJwYXN0ZVN0YXRlIixmdW5jdGlvbihiKXthLmdldENvbW1hbmQoInBhc3RldGV4dCIpLnNldFN0YXRlKGIuZGF0YSl9KX19KX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaChhLGQsZil7dmFyIGI9Q0tFRElUT1IuY2xlYW5Xb3JkO2I\/ZigpOihhPUNLRURJVE9SLmdldFVybChhLmNvbmZpZy5wYXN0ZUZyb21Xb3JkQ2xlYW51cEZpbGV8fGQrImZpbHRlci9kZWZhdWx0LmpzIiksQ0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoYSxmLG51bGwsITApKTtyZXR1cm4hYn1mdW5jdGlvbiBpKGEpe2EuZGF0YS50eXBlPSJodG1sIn1DS0VESVRPUi5wbHVnaW5zLmFkZCgicGFzdGVmcm9td29yZCIse3JlcXVpcmVzOiJjbGlwYm9hcmQiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGQ9MCxmPXRoaXMucGF0aDthLmFkZENvbW1hbmQoInBhc3RlZnJvbXdvcmQiLHtjYW5VbmRvOiExLGFzeW5jOiEwLGV4ZWM6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcztkPTE7YS5vbmNlKCJiZWZvcmVQYXN0ZSIsaSk7YS5nZXRDbGlwYm9hcmREYXRhKHt0aXRsZTphLmxhbmcucGFzdGVmcm9td29yZC50aXRsZX0sZnVuY3Rpb24oYyl7YyYmYS5maXJlKCJwYXN0ZSIsCnt0eXBlOiJodG1sIixkYXRhVmFsdWU6Yy5kYXRhVmFsdWV9KTthLmZpcmUoImFmdGVyQ29tbWFuZEV4ZWMiLHtuYW1lOiJwYXN0ZWZyb213b3JkIixjb21tYW5kOmUscmV0dXJuVmFsdWU6ISFjfSl9KX19KTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oIlBhc3RlRnJvbVdvcmQiLHtsYWJlbDphLmxhbmcucGFzdGVmcm9td29yZC50b29sYmFyLGNvbW1hbmQ6InBhc3RlZnJvbXdvcmQiLHRvb2xiYXI6ImNsaXBib2FyZCw1MCJ9KTthLm9uKCJwYXN0ZVN0YXRlIixmdW5jdGlvbihiKXthLmdldENvbW1hbmQoInBhc3RlZnJvbXdvcmQiKS5zZXRTdGF0ZShiLmRhdGEpfSk7YS5vbigicGFzdGUiLGZ1bmN0aW9uKGIpe3ZhciBlPWIuZGF0YSxjPWUuZGF0YVZhbHVlO2lmKGMmJihkfHwvKGNsYXNzPVwiP01zb3xzdHlsZT1cIlteXCJdKlxibXNvXC18dzpXb3JkRG9jdW1lbnQpLy50ZXN0KGMpKSl7dmFyIGc9aChhLGYsZnVuY3Rpb24oKXtpZihnKWEuZmlyZSgicGFzdGUiLGUpOwplbHNlIGlmKCFhLmNvbmZpZy5wYXN0ZUZyb21Xb3JkUHJvbXB0Q2xlYW51cHx8ZHx8Y29uZmlybShhLmxhbmcucGFzdGVmcm9td29yZC5jb25maXJtQ2xlYW51cCkpZS5kYXRhVmFsdWU9Q0tFRElUT1IuY2xlYW5Xb3JkKGMsYSl9KTtnJiZiLmNhbmNlbCgpfX0sbnVsbCxudWxsLDMpfX0pfSkoKTtDS0VESVRPUi5wbHVnaW5zLmFkZCgicmVtb3ZlZm9ybWF0Iix7aW5pdDpmdW5jdGlvbihhKXthLmFkZENvbW1hbmQoInJlbW92ZUZvcm1hdCIsQ0tFRElUT1IucGx1Z2lucy5yZW1vdmVmb3JtYXQuY29tbWFuZHMucmVtb3ZlZm9ybWF0KTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oIlJlbW92ZUZvcm1hdCIse2xhYmVsOmEubGFuZy5yZW1vdmVmb3JtYXQudG9vbGJhcixjb21tYW5kOiJyZW1vdmVGb3JtYXQiLHRvb2xiYXI6ImNsZWFudXAsMTAifSl9fSk7CkNLRURJVE9SLnBsdWdpbnMucmVtb3ZlZm9ybWF0PXtjb21tYW5kczp7cmVtb3ZlZm9ybWF0OntleGVjOmZ1bmN0aW9uKGEpe2Zvcih2YXIgaD1hLl8ucmVtb3ZlRm9ybWF0UmVnZXh8fChhLl8ucmVtb3ZlRm9ybWF0UmVnZXg9UmVnRXhwKCJeKD86IithLmNvbmZpZy5yZW1vdmVGb3JtYXRUYWdzLnJlcGxhY2UoLywvZywifCIpKyIpJCIsImkiKSksZT1hLl8ucmVtb3ZlQXR0cmlidXRlc3x8KGEuXy5yZW1vdmVBdHRyaWJ1dGVzPWEuY29uZmlnLnJlbW92ZUZvcm1hdEF0dHJpYnV0ZXMuc3BsaXQoIiwiKSksZj1DS0VESVRPUi5wbHVnaW5zLnJlbW92ZWZvcm1hdC5maWx0ZXIsaz1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygxKSxsPWsuY3JlYXRlSXRlcmF0b3IoKSxjO2M9bC5nZXROZXh0UmFuZ2UoKTspe2MuY29sbGFwc2VkfHxjLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UKTt2YXIgaT1jLmNyZWF0ZUJvb2ttYXJrKCksYj1pLnN0YXJ0Tm9kZSxqPWkuZW5kTm9kZSwKZD1mdW5jdGlvbihiKXtmb3IodmFyIGM9YS5lbGVtZW50UGF0aChiKSxlPWMuZWxlbWVudHMsZD0xLGc7KGc9ZVtkXSkmJiFnLmVxdWFscyhjLmJsb2NrKSYmIWcuZXF1YWxzKGMuYmxvY2tMaW1pdCk7ZCsrKWgudGVzdChnLmdldE5hbWUoKSkmJmYoYSxnKSYmYi5icmVha1BhcmVudChnKX07ZChiKTtpZihqKXtkKGopO2ZvcihiPWIuZ2V0TmV4dFNvdXJjZU5vZGUoITAsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTtiJiYhYi5lcXVhbHMoaik7KWQ9Yi5nZXROZXh0U291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpLCEoImltZyI9PWIuZ2V0TmFtZSgpJiZiLmRhdGEoImNrZS1yZWFsZWxlbWVudCIpKSYmZihhLGIpJiYoaC50ZXN0KGIuZ2V0TmFtZSgpKT9iLnJlbW92ZSgxKTooYi5yZW1vdmVBdHRyaWJ1dGVzKGUpLGEuZmlyZSgicmVtb3ZlRm9ybWF0Q2xlYW51cCIsYikpKSxiPWR9Yy5tb3ZlVG9Cb29rbWFyayhpKX1hLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrKCk7YS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoayl9fX0sCmZpbHRlcjpmdW5jdGlvbihhLGgpe2Zvcih2YXIgZT1hLl8ucmVtb3ZlRm9ybWF0RmlsdGVyc3x8W10sZj0wO2Y8ZS5sZW5ndGg7ZisrKWlmKCExPT09ZVtmXShoKSlyZXR1cm4hMTtyZXR1cm4hMH19O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuYWRkUmVtb3ZlRm9ybWF0RmlsdGVyPWZ1bmN0aW9uKGEpe3RoaXMuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzfHwodGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnM9W10pO3RoaXMuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzLnB1c2goYSl9O0NLRURJVE9SLmNvbmZpZy5yZW1vdmVGb3JtYXRUYWdzPSJiLGJpZyxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGlucyxrYmQscSxzLHNhbXAsc21hbGwsc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdHQsdSx2YXIiO0NLRURJVE9SLmNvbmZpZy5yZW1vdmVGb3JtYXRBdHRyaWJ1dGVzPSJjbGFzcyxzdHlsZSxsYW5nLHdpZHRoLGhlaWdodCxhbGlnbixoc3BhY2UsdmFsaWduIjsoZnVuY3Rpb24oKXtDS0VESVRPUi5wbHVnaW5zLmFkZCgic291cmNlYXJlYSIse2luaXQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZCgpe3RoaXMuaGlkZSgpO3RoaXMuc2V0U3R5bGUoImhlaWdodCIsdGhpcy5nZXRQYXJlbnQoKS4kLmNsaWVudEhlaWdodCsicHgiKTt0aGlzLnNldFN0eWxlKCJ3aWR0aCIsdGhpcy5nZXRQYXJlbnQoKS4kLmNsaWVudFdpZHRoKyJweCIpO3RoaXMuc2hvdygpfWlmKGEuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpe3ZhciBlPUNLRURJVE9SLnBsdWdpbnMuc291cmNlYXJlYTthLmFkZE1vZGUoInNvdXJjZSIsZnVuY3Rpb24oZSl7dmFyIGI9YS51aS5zcGFjZSgiY29udGVudHMiKS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7Yi5zZXRTdHlsZXMoQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHt3aWR0aDpDS0VESVRPUi5lbnYuaWU3Q29tcGF0PyI5OSUiOiIxMDAlIixoZWlnaHQ6IjEwMCUiLHJlc2l6ZToibm9uZSIsCm91dGxpbmU6Im5vbmUiLCJ0ZXh0LWFsaWduIjoibGVmdCJ9LENLRURJVE9SLnRvb2xzLmNzc1ZlbmRvclByZWZpeCgidGFiLXNpemUiLGEuY29uZmlnLnNvdXJjZUFyZWFUYWJTaXplfHw0KSkpO2Iuc2V0QXR0cmlidXRlKCJkaXIiLCJsdHIiKTtiLmFkZENsYXNzKCJja2Vfc291cmNlIGNrZV9yZXNldCBja2VfZW5hYmxlX2NvbnRleHRfbWVudSIpO2EudWkuc3BhY2UoImNvbnRlbnRzIikuYXBwZW5kKGIpO2I9YS5lZGl0YWJsZShuZXcgYyhhLGIpKTtiLnNldERhdGEoYS5nZXREYXRhKDEpKTtDS0VESVRPUi5lbnYuaWUmJihiLmF0dGFjaExpc3RlbmVyKGEsInJlc2l6ZSIsZCxiKSxiLmF0dGFjaExpc3RlbmVyKENLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLCJyZXNpemUiLGQsYiksQ0tFRElUT1IudG9vbHMuc2V0VGltZW91dChkLDAsYikpO2EuZmlyZSgiYXJpYVdpZGdldCIsdGhpcyk7ZSgpfSk7YS5hZGRDb21tYW5kKCJzb3VyY2UiLGUuY29tbWFuZHMuc291cmNlKTthLnVpLmFkZEJ1dHRvbiYmCmEudWkuYWRkQnV0dG9uKCJTb3VyY2UiLHtsYWJlbDphLmxhbmcuc291cmNlYXJlYS50b29sYmFyLGNvbW1hbmQ6InNvdXJjZSIsdG9vbGJhcjoibW9kZSwxMCJ9KTthLm9uKCJtb2RlIixmdW5jdGlvbigpe2EuZ2V0Q29tbWFuZCgic291cmNlIikuc2V0U3RhdGUoInNvdXJjZSI9PWEubW9kZT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkYpfSl9fX0pO3ZhciBjPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLmVkaXRhYmxlLHByb3RvOntzZXREYXRhOmZ1bmN0aW9uKGEpe3RoaXMuc2V0VmFsdWUoYSk7dGhpcy5lZGl0b3IuZmlyZSgiZGF0YVJlYWR5Iil9LGdldERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpfSxpbnNlcnRIdG1sOmZ1bmN0aW9uKCl7fSxpbnNlcnRFbGVtZW50OmZ1bmN0aW9uKCl7fSxpbnNlcnRUZXh0OmZ1bmN0aW9uKCl7fSxzZXRSZWFkT25seTpmdW5jdGlvbihhKXt0aGlzWyhhPyJzZXQiOgoicmVtb3ZlIikrIkF0dHJpYnV0ZSJdKCJyZWFkT25seSIsInJlYWRvbmx5Iil9LGRldGFjaDpmdW5jdGlvbigpe2MuYmFzZVByb3RvLmRldGFjaC5jYWxsKHRoaXMpO3RoaXMuY2xlYXJDdXN0b21EYXRhKCk7dGhpcy5yZW1vdmUoKX19fSl9KSgpO0NLRURJVE9SLnBsdWdpbnMuc291cmNlYXJlYT17Y29tbWFuZHM6e3NvdXJjZTp7bW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX0sZWRpdG9yRm9jdXM6ITEscmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGMpeyJ3eXNpd3lnIj09Yy5tb2RlJiZjLmZpcmUoInNhdmVTbmFwc2hvdCIpO2MuZ2V0Q29tbWFuZCgic291cmNlIikuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2Muc2V0TW9kZSgic291cmNlIj09Yy5tb2RlPyJ3eXNpd3lnIjoic291cmNlIil9LGNhblVuZG86ITF9fX07Q0tFRElUT1IucGx1Z2lucy5hZGQoInNwZWNpYWxjaGFyIix7YXZhaWxhYmxlTGFuZ3M6e2FyOjEsYmc6MSxjYToxLGNzOjEsY3k6MSxkZToxLGVsOjEsZW46MSxlbzoxLGVzOjEsZXQ6MSxmYToxLGZpOjEsZnI6MSwiZnItY2EiOjEsZ2w6MSxoZToxLGhyOjEsaHU6MSxpZDoxLGl0OjEsamE6MSxrbToxLGt1OjEsbHY6MSxuYjoxLG5sOjEsbm86MSxwbDoxLHB0OjEsInB0LWJyIjoxLHJ1OjEsc2k6MSxzazoxLHNsOjEsc3E6MSxzdjoxLHRoOjEsdHI6MSx1ZzoxLHVrOjEsdmk6MSx6aDoxLCJ6aC1jbiI6MX0scmVxdWlyZXM6ImRpYWxvZyIsaW5pdDpmdW5jdGlvbihhKXt2YXIgYz10aGlzO0NLRURJVE9SLmRpYWxvZy5hZGQoInNwZWNpYWxjaGFyIix0aGlzLnBhdGgrImRpYWxvZ3Mvc3BlY2lhbGNoYXIuanMiKTthLmFkZENvbW1hbmQoInNwZWNpYWxjaGFyIix7ZXhlYzpmdW5jdGlvbigpe3ZhciBiPWEubGFuZ0NvZGUsYj1jLmF2YWlsYWJsZUxhbmdzW2JdP2I6Yy5hdmFpbGFibGVMYW5nc1tiLnJlcGxhY2UoLy0uKi8sCiIiKV0\/Yi5yZXBsYWNlKC8tLiovLCIiKToiZW4iO0NLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChjLnBhdGgrImRpYWxvZ3MvbGFuZy8iK2IrIi5qcyIpLGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGEubGFuZy5zcGVjaWFsY2hhcixjLmxhbmdFbnRyaWVzW2JdKTthLm9wZW5EaWFsb2coInNwZWNpYWxjaGFyIil9KX0sbW9kZXM6e3d5c2l3eWc6MX0sY2FuVW5kbzohMX0pO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbigiU3BlY2lhbENoYXIiLHtsYWJlbDphLmxhbmcuc3BlY2lhbGNoYXIudG9vbGJhcixjb21tYW5kOiJzcGVjaWFsY2hhciIsdG9vbGJhcjoiaW5zZXJ0LDUwIn0pfX0pO0NLRURJVE9SLmNvbmZpZy5zcGVjaWFsQ2hhcnM9IiEgJnF1b3Q7ICMgJCAlICZhbXA7ICcgKCApICogKyAtIC4gLyAwIDEgMiAzIDQgNSA2IDcgOCA5IDogOyAmbHQ7ID0gJmd0OyA\/IEAgQSBCIEMgRCBFIEYgRyBIIEkgSiBLIEwgTSBOIE8gUCBRIFIgUyBUIFUgViBXIFggWSBaIFsgXSBeIF8gYCBhIGIgYyBkIGUgZiBnIGggaSBqIGsgbCBtIG4gbyBwIHEgciBzIHQgdSB2IHcgeCB5IHogeyB8IH0gfiAmZXVybzsgJmxzcXVvOyAmcnNxdW87ICZsZHF1bzsgJnJkcXVvOyAmbmRhc2g7ICZtZGFzaDsgJmlleGNsOyAmY2VudDsgJnBvdW5kOyAmY3VycmVuOyAmeWVuOyAmYnJ2YmFyOyAmc2VjdDsgJnVtbDsgJmNvcHk7ICZvcmRmOyAmbGFxdW87ICZub3Q7ICZyZWc7ICZtYWNyOyAmZGVnOyAmc3VwMjsgJnN1cDM7ICZhY3V0ZTsgJm1pY3JvOyAmcGFyYTsgJm1pZGRvdDsgJmNlZGlsOyAmc3VwMTsgJm9yZG07ICZyYXF1bzsgJmZyYWMxNDsgJmZyYWMxMjsgJmZyYWMzNDsgJmlxdWVzdDsgJkFncmF2ZTsgJkFhY3V0ZTsgJkFjaXJjOyAmQXRpbGRlOyAmQXVtbDsgJkFyaW5nOyAmQUVsaWc7ICZDY2VkaWw7ICZFZ3JhdmU7ICZFYWN1dGU7ICZFY2lyYzsgJkV1bWw7ICZJZ3JhdmU7ICZJYWN1dGU7ICZJY2lyYzsgJkl1bWw7ICZFVEg7ICZOdGlsZGU7ICZPZ3JhdmU7ICZPYWN1dGU7ICZPY2lyYzsgJk90aWxkZTsgJk91bWw7ICZ0aW1lczsgJk9zbGFzaDsgJlVncmF2ZTsgJlVhY3V0ZTsgJlVjaXJjOyAmVXVtbDsgJllhY3V0ZTsgJlRIT1JOOyAmc3psaWc7ICZhZ3JhdmU7ICZhYWN1dGU7ICZhY2lyYzsgJmF0aWxkZTsgJmF1bWw7ICZhcmluZzsgJmFlbGlnOyAmY2NlZGlsOyAmZWdyYXZlOyAmZWFjdXRlOyAmZWNpcmM7ICZldW1sOyAmaWdyYXZlOyAmaWFjdXRlOyAmaWNpcmM7ICZpdW1sOyAmZXRoOyAmbnRpbGRlOyAmb2dyYXZlOyAmb2FjdXRlOyAmb2NpcmM7ICZvdGlsZGU7ICZvdW1sOyAmZGl2aWRlOyAmb3NsYXNoOyAmdWdyYXZlOyAmdWFjdXRlOyAmdWNpcmM7ICZ1dW1sOyAmeWFjdXRlOyAmdGhvcm47ICZ5dW1sOyAmT0VsaWc7ICZvZWxpZzsgJiMzNzI7ICYjMzc0ICYjMzczICYjMzc1OyAmc2JxdW87ICYjODIxOTsgJmJkcXVvOyAmaGVsbGlwOyAmdHJhZGU7ICYjOTY1ODsgJmJ1bGw7ICZyYXJyOyAmckFycjsgJmhBcnI7ICZkaWFtczsgJmFzeW1wOyIuc3BsaXQoIiAiKTtDS0VESVRPUi5wbHVnaW5zLmFkZCgibWVudWJ1dHRvbiIse3JlcXVpcmVzOiJidXR0b24sbWVudSIsb25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGQ9ZnVuY3Rpb24oYyl7dmFyIGE9dGhpcy5fLGI9YS5tZW51O2Euc3RhdGUhPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmKGEub24mJmI\/Yi5oaWRlKCk6KGEucHJldmlvdXNTdGF0ZT1hLnN0YXRlLGJ8fChiPWEubWVudT1uZXcgQ0tFRElUT1IubWVudShjLHtwYW5lbDp7Y2xhc3NOYW1lOiJja2VfbWVudV9wYW5lbCIsYXR0cmlidXRlczp7ImFyaWEtbGFiZWwiOmMubGFuZy5jb21tb24ub3B0aW9uc319fSksYi5vbkhpZGU9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe3ZhciBiPXRoaXMuY29tbWFuZD9jLmdldENvbW1hbmQodGhpcy5jb21tYW5kKS5tb2Rlczp0aGlzLm1vZGVzO3RoaXMuc2V0U3RhdGUoIWJ8fGJbYy5tb2RlXT9hLnByZXZpb3VzU3RhdGU6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2Eub249MH0sdGhpcyksCnRoaXMub25NZW51JiZiLmFkZExpc3RlbmVyKHRoaXMub25NZW51KSksdGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PTiksYS5vbj0xLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNob3coQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChhLmlkKSw0KX0sMCkpKX07Q0tFRElUT1IudWkubWVudUJ1dHRvbj1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi51aS5idXR0b24sJDpmdW5jdGlvbihjKXtkZWxldGUgYy5wYW5lbDt0aGlzLmJhc2UoYyk7dGhpcy5oYXNBcnJvdz0hMDt0aGlzLmNsaWNrPWR9LHN0YXRpY3M6e2hhbmRsZXI6e2NyZWF0ZTpmdW5jdGlvbihjKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLm1lbnVCdXR0b24oYyl9fX19KX0sYmVmb3JlSW5pdDpmdW5jdGlvbihkKXtkLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfTUVOVUJVVFRPTixDS0VESVRPUi51aS5tZW51QnV0dG9uLmhhbmRsZXIpfX0pOwpDS0VESVRPUi5VSV9NRU5VQlVUVE9OPSJtZW51YnV0dG9uIjsoZnVuY3Rpb24oKXtmdW5jdGlvbiBvKGEsYyl7dmFyIGI9MCxkO2ZvcihkIGluIGMpaWYoY1tkXT09YSl7Yj0xO2JyZWFrfXJldHVybiBifXZhciBqPSIiLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7Yi5vbmNlKCJmb2N1cyIsZyk7Yi5vbmNlKCJibHVyIixjKX1mdW5jdGlvbiBjKGIpe3ZhciBiPWIuZWRpdG9yLGM9ZC5nZXRTY2F5dChiKSxnPWIuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU7YyYmKGQuc2V0UGF1c2VkKGIsIWMuZGlzYWJsZWQpLGQuc2V0Q29udHJvbElkKGIsYy5pZCksYy5kZXN0cm95KCEwKSxkZWxldGUgZC5pbnN0YW5jZXNbYi5uYW1lXSxnJiZhKCkpfXZhciBiPXRoaXMsZz1mdW5jdGlvbigpe2lmKCEoInVuZGVmaW5lZCIhPXR5cGVvZiBkLmluc3RhbmNlc1tiLm5hbWVdfHxudWxsIT1kLmluc3RhbmNlc1tiLm5hbWVdKSl7dmFyIGE9Yi5jb25maWcsYz17fTtjLnNyY05vZGVSZWY9IkJPRFkiPT1iLmVkaXRhYmxlKCkuJC5ub2RlTmFtZT8KYi5kb2N1bWVudC5nZXRXaW5kb3coKS4kLmZyYW1lRWxlbWVudDpiLmVkaXRhYmxlKCkuJDtjLmFzc29jQXBwPSJDS0VESVRPUi4iK0NLRURJVE9SLnZlcnNpb24rIkAiK0NLRURJVE9SLnJldmlzaW9uO2MuY3VzdG9tZXJpZD1hLnNjYXl0X2N1c3RvbWVyaWR8fCIxOld2RjBENC1VdFBxTjEtNDNua0Q0LU5LdlVtMi1kYVFxazMtTG1OaUktejdZc2I0LW13cnkyNC1UOFlyUzMtUTJ0cHEyIjtjLmN1c3RvbURpY3Rpb25hcnlJZHM9YS5zY2F5dF9jdXN0b21EaWN0aW9uYXJ5SWRzfHwiIjtjLnVzZXJEaWN0aW9uYXJ5TmFtZT1hLnNjYXl0X3VzZXJEaWN0aW9uYXJ5TmFtZXx8IiI7Yy5zTGFuZz1hLnNjYXl0X3NMYW5nfHwiZW5fVVMiO2Mub25Mb2FkPWZ1bmN0aW9uKCl7Q0tFRElUT1IuZW52LmllJiY4PkNLRURJVE9SLmVudi52ZXJzaW9ufHx0aGlzLmFkZFN0eWxlKHRoaXMuc2VsZWN0b3JDc3MoKSwicGFkZGluZy1ib3R0b206IDJweCAhaW1wb3J0YW50OyIpO2IuZWRpdGFibGUoKS5oYXNGb2N1cyYmCiFkLmlzQ29udHJvbFJlc3RvcmVkKGIpJiZ0aGlzLmZvY3VzKCl9O2E9d2luZG93LnNjYXl0X2N1c3RvbV9wYXJhbXM7aWYoIm9iamVjdCI9PXR5cGVvZiBhKWZvcih2YXIgZyBpbiBhKWNbZ109YVtnXTtkLmdldENvbnRyb2xJZChiKSYmKGMuaWQ9ZC5nZXRDb250cm9sSWQoYikpO3ZhciBlPW5ldyB3aW5kb3cuc2NheXQoYyk7ZS5hZnRlck1hcmt1cFJlbW92ZS5wdXNoKGZ1bmN0aW9uKGEpeyhuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSxlLmRvY3VtZW50KSkubWVyZ2VTaWJsaW5ncygpfSk7aWYoYz1kLmluc3RhbmNlc1tiLm5hbWVdKWUuc0xhbmc9Yy5zTGFuZyxlLm9wdGlvbihjLm9wdGlvbigpKSxlLnBhdXNlZD1jLnBhdXNlZDtkLmluc3RhbmNlc1tiLm5hbWVdPWU7dHJ5e2Uuc2V0RGlzYWJsZWQoITE9PT1kLmlzUGF1c2VkKGIpKX1jYXRjaChuKXt9Yi5maXJlKCJzaG93U2NheXRTdGF0ZSIpfX07Yi5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT8KYSgpOmIub24oImNvbnRlbnREb20iLGcpO2Iub24oImNvbnRlbnREb21VbmxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhPUNLRURJVE9SLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWcoInNjcmlwdCIpLGI9L15kb2pvSW9TY3JpcHQoXGQrKSQvaSxjPS9eaHR0cHM\/OlwvXC9zdmNcLndlYnNwZWxsY2hlY2tlclwubmV0XC9zcGVsbGNoZWNrXC9zY3JpcHRcL3NzcnZcLmNnaS9pLGQ9MDtkPGEuY291bnQoKTtkKyspe3ZhciBnPWEuZ2V0SXRlbShkKSxlPWcuZ2V0SWQoKSxmPWcuZ2V0QXR0cmlidXRlKCJzcmMiKTtlJiYoZiYmZS5tYXRjaChiKSYmZi5tYXRjaChjKSkmJmcucmVtb3ZlKCl9fSk7Yi5vbigiYmVmb3JlQ29tbWFuZEV4ZWMiLGZ1bmN0aW9uKGEpeyJzb3VyY2UiPT1hLmRhdGEubmFtZSYmInNvdXJjZSI9PWIubW9kZSYmZC5tYXJrQ29udHJvbFJlc3RvcmUoYil9KTtiLm9uKCJhZnRlckNvbW1hbmRFeGVjIixmdW5jdGlvbihhKXtpZihkLmlzU2NheXRFbmFibGVkKGIpJiYid3lzaXd5ZyI9PQpiLm1vZGUmJigidW5kbyI9PWEuZGF0YS5uYW1lfHwicmVkbyI9PWEuZGF0YS5uYW1lKSlkLmdldFNjYXl0KGIpLnNldERpc2FibGVkKCEwKSxkLnJlZnJlc2hfdGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dChkLnJlZnJlc2hfdGltZW91dCksZC5yZWZyZXNoX3RpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmdldFNjYXl0KGIpLnNldERpc2FibGVkKCExKTtkLmdldFNjYXl0KGIpLmZvY3VzKCk7ZC5nZXRTY2F5dChiKS5yZWZyZXNoKCl9LDEwKX0pO2Iub24oImRlc3Ryb3kiLGMpO2Iub24oInNldERhdGEiLGMpO2Iub24oImluc2VydEVsZW1lbnQiLGZ1bmN0aW9uKCl7dmFyIGE9ZC5nZXRTY2F5dChiKTtkLmlzU2NheXRFbmFibGVkKGIpJiYoQ0tFRElUT1IuZW52LmllJiZiLmdldFNlbGVjdGlvbigpLnVubG9jayghMCksd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmZvY3VzKCk7YS5yZWZyZXNoKCl9LDEwKSl9LHRoaXMsbnVsbCw1MCk7Yi5vbigiaW5zZXJ0SHRtbCIsCmZ1bmN0aW9uKCl7dmFyIGE9ZC5nZXRTY2F5dChiKTtkLmlzU2NheXRFbmFibGVkKGIpJiYoQ0tFRElUT1IuZW52LmllJiZiLmdldFNlbGVjdGlvbigpLnVubG9jayghMCksd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmZvY3VzKCk7YS5yZWZyZXNoKCl9LDEwKSl9LHRoaXMsbnVsbCw1MCk7Yi5vbigic2NheXREaWFsb2ciLGZ1bmN0aW9uKGEpe2EuZGF0YS5kakNvbmZpZz13aW5kb3cuZGpDb25maWc7YS5kYXRhLnNjYXl0X2NvbnRyb2w9ZC5nZXRTY2F5dChiKTthLmRhdGEudGFiPWo7YS5kYXRhLnNjYXl0PXdpbmRvdy5zY2F5dH0pO3ZhciBlPWIuZGF0YVByb2Nlc3NvcjsoZT1lJiZlLmh0bWxGaWx0ZXIpJiZlLmFkZFJ1bGVzKHtlbGVtZW50czp7c3BhbjpmdW5jdGlvbihhKXtpZihhLmF0dHJpYnV0ZXNbImRhdGEtc2NheXRfd29yZCJdJiZhLmF0dHJpYnV0ZXNbImRhdGEtc2NheXRpZCJdKXJldHVybiBkZWxldGUgYS5uYW1lLGF9fX0pO3ZhciBlPUNLRURJVE9SLnBsdWdpbnMudW5kby5JbWFnZS5wcm90b3R5cGUsCmY9ImZ1bmN0aW9uIj09dHlwZW9mIGUuZXF1YWxzQ29udGVudD8iZXF1YWxzQ29udGVudCI6ImVxdWFscyI7ZVtmXT1DS0VESVRPUi50b29scy5vdmVycmlkZShlW2ZdLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz10aGlzLmNvbnRlbnRzLGc9Yi5jb250ZW50cyxlPWQuZ2V0U2NheXQodGhpcy5lZGl0b3IpO2UmJmQuaXNTY2F5dFJlYWR5KHRoaXMuZWRpdG9yKSYmKHRoaXMuY29udGVudHM9ZS5yZXNldChjKXx8IiIsYi5jb250ZW50cz1lLnJlc2V0KGcpfHwiIik7ZT1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmNvbnRlbnRzPWM7Yi5jb250ZW50cz1nO3JldHVybiBlfX0pO2U9Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZTtlLmNoZWNrRGlydHk9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoZS5jaGVja0RpcnR5LGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPW51bGwsYz1kLmdldFNjYXl0KHRoaXMpO2MmJmQuaXNTY2F5dFJlYWR5KHRoaXMpPwooYj1jLnJlc2V0KHRoaXMuZ2V0U25hcHNob3QoKSksYz1jLnJlc2V0KHRoaXMuXy5wcmV2aW91c1ZhbHVlKSxiPWIhPT1jKTpiPWEuYXBwbHkodGhpcyk7cmV0dXJuIGJ9fSk7Yi5kb2N1bWVudCYmKGIuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkV8fGIuZm9jdXNNYW5hZ2VyLmhhc0ZvY3VzKSYmZygpfTtDS0VESVRPUi5wbHVnaW5zLnNjYXl0PXtlbmdpbmVMb2FkZWQ6ITEsaW5zdGFuY2VzOnt9LGNvbnRyb2xJbmZvOnt9LHNldENvbnRyb2xJbmZvOmZ1bmN0aW9uKGEsYyl7YSYmKGEubmFtZSYmIm9iamVjdCIhPXR5cGVvZiB0aGlzLmNvbnRyb2xJbmZvW2EubmFtZV0pJiYodGhpcy5jb250cm9sSW5mb1thLm5hbWVdPXt9KTtmb3IodmFyIGIgaW4gYyl0aGlzLmNvbnRyb2xJbmZvW2EubmFtZV1bYl09Y1tiXX0saXNDb250cm9sUmVzdG9yZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEubmFtZSYmdGhpcy5jb250cm9sSW5mb1thLm5hbWVdP3RoaXMuY29udHJvbEluZm9bYS5uYW1lXS5yZXN0b3JlZDoKITF9LG1hcmtDb250cm9sUmVzdG9yZTpmdW5jdGlvbihhKXt0aGlzLnNldENvbnRyb2xJbmZvKGEse3Jlc3RvcmVkOiEwfSl9LHNldENvbnRyb2xJZDpmdW5jdGlvbihhLGMpe3RoaXMuc2V0Q29udHJvbEluZm8oYSx7aWQ6Y30pfSxnZXRDb250cm9sSWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEubmFtZSYmdGhpcy5jb250cm9sSW5mb1thLm5hbWVdJiZ0aGlzLmNvbnRyb2xJbmZvW2EubmFtZV0uaWQ\/dGhpcy5jb250cm9sSW5mb1thLm5hbWVdLmlkOm51bGx9LHNldFBhdXNlZDpmdW5jdGlvbihhLGMpe3RoaXMuc2V0Q29udHJvbEluZm8oYSx7cGF1c2VkOmN9KX0saXNQYXVzZWQ6ZnVuY3Rpb24oYSl7aWYoYSYmYS5uYW1lJiZ0aGlzLmNvbnRyb2xJbmZvW2EubmFtZV0pcmV0dXJuIHRoaXMuY29udHJvbEluZm9bYS5uYW1lXS5wYXVzZWR9LGdldFNjYXl0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluc3RhbmNlc1thLm5hbWVdfSxpc1NjYXl0UmVhZHk6ZnVuY3Rpb24oYSl7cmV0dXJuITA9PT0KdGhpcy5lbmdpbmVMb2FkZWQmJiJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdy5zY2F5dCYmdGhpcy5nZXRTY2F5dChhKX0saXNTY2F5dEVuYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy5nZXRTY2F5dChhKSk\/ITE9PT1hLmRpc2FibGVkOiExfSxnZXRVaVRhYnM6ZnVuY3Rpb24oYSl7dmFyIGM9W10sYj1hLmNvbmZpZy5zY2F5dF91aVRhYnN8fCIxLDEsMSIsYj1iLnNwbGl0KCIsIik7YlszXT0iMSI7Zm9yKHZhciBkPTA7ND5kO2QrKyljW2RdPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LnNjYXl0JiYidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5zY2F5dC51aVRhZ3M\/cGFyc2VJbnQoYltkXSwxMCkmJndpbmRvdy5zY2F5dC51aVRhZ3NbZF06cGFyc2VJbnQoYltkXSwxMCk7Im9iamVjdCI9PXR5cGVvZiBhLnBsdWdpbnMud3NjP2MucHVzaCgxKTpjLnB1c2goMCk7cmV0dXJuIGN9LGxvYWRFbmdpbmU6ZnVuY3Rpb24oYSl7aWYoQ0tFRElUT1IuZW52LmdlY2tvJiYxMDkwMD4KQ0tFRElUT1IuZW52LnZlcnNpb258fENLRURJVE9SLmVudi5vcGVyYXx8Q0tFRElUT1IuZW52LmFpcilyZXR1cm4gYS5maXJlKCJzaG93U2NheXRTdGF0ZSIpO2lmKCEwPT09dGhpcy5lbmdpbmVMb2FkZWQpcmV0dXJuIHIuYXBwbHkoYSk7aWYoLTE9PXRoaXMuZW5naW5lTG9hZGVkKXJldHVybiBDS0VESVRPUi5vbigic2NheXRSZWFkeSIsZnVuY3Rpb24oKXtyLmFwcGx5KGEpfSk7Q0tFRElUT1Iub24oInNjYXl0UmVhZHkiLHIsYSk7Q0tFRElUT1Iub24oInNjYXl0UmVhZHkiLGZ1bmN0aW9uKCl7dGhpcy5lbmdpbmVMb2FkZWQ9ITB9LHRoaXMsbnVsbCwwKTt0aGlzLmVuZ2luZUxvYWRlZD0tMTt2YXIgYz1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCxjPS0xIT1jLnNlYXJjaCgvaHR0cHM\/Oi8pP2M6Imh0dHA6IixjPWEuY29uZmlnLnNjYXl0X3NyY1VybHx8YysiLy9zdmMud2Vic3BlbGxjaGVja2VyLm5ldC9zY2F5dDI2L2xvYWRlcl9fYmFzZS5qcyIsYj1kLnBhcnNlVXJsKGMpLnBhdGgrCiIvIjt2b2lkIDA9PXdpbmRvdy5zY2F5dD8oQ0tFRElUT1IuX2RqU2NheXRDb25maWc9e2Jhc2VVcmw6YixhZGRPbkxvYWQ6W2Z1bmN0aW9uKCl7Q0tFRElUT1IuZmlyZU9uY2UoInNjYXl0UmVhZHkiKX1dLGlzRGVidWc6ITF9LENLRURJVE9SLmRvY3VtZW50LmdldEhlYWQoKS5hcHBlbmQoQ0tFRElUT1IuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iix7YXR0cmlidXRlczp7dHlwZToidGV4dC9qYXZhc2NyaXB0Iixhc3luYzoidHJ1ZSIsc3JjOmN9fSkpKTpDS0VESVRPUi5maXJlT25jZSgic2NheXRSZWFkeSIpO3JldHVybiBudWxsfSxwYXJzZVVybDpmdW5jdGlvbihhKXt2YXIgYztyZXR1cm4gYS5tYXRjaCYmKGM9YS5tYXRjaCgvKC4qKVtcL1xcXSguKj9cLlx3KykkLykpP3twYXRoOmNbMV0sZmlsZTpjWzJdfTphfX07dmFyIGQ9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCxwPWZ1bmN0aW9uKGEsYyxiLGQsZSxmLGgpe2EuYWRkQ29tbWFuZChkLGUpO2EuYWRkTWVudUl0ZW0oZCwKe2xhYmVsOmIsY29tbWFuZDpkLGdyb3VwOmYsb3JkZXI6aH0pfSx1PXtwcmVzZXJ2ZVN0YXRlOiEwLGVkaXRvckZvY3VzOiExLGNhblVuZG86ITEsZXhlYzpmdW5jdGlvbihhKXtpZihkLmlzU2NheXRSZWFkeShhKSl7dmFyIGM9ZC5pc1NjYXl0RW5hYmxlZChhKTt0aGlzLnNldFN0YXRlKGM\/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX09OKTthPWQuZ2V0U2NheXQoYSk7YS5mb2N1cygpO2Euc2V0RGlzYWJsZWQoYyl9ZWxzZSFhLmNvbmZpZy5zY2F5dF9hdXRvU3RhcnR1cCYmMDw9ZC5lbmdpbmVMb2FkZWQmJihhLmZvY3VzKCksdGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCksZC5sb2FkRW5naW5lKGEpKX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKCJzY2F5dCIse3JlcXVpcmVzOiJtZW51YnV0dG9uLGRpYWxvZyIsYmVmb3JlSW5pdDpmdW5jdGlvbihhKXt2YXIgYz1hLmNvbmZpZy5zY2F5dF9jb250ZXh0TWVudUl0ZW1zT3JkZXJ8fAoic3VnZ2VzdHxtb3Jlc3VnZ2VzdHxjb250cm9sIixiPSIiO2lmKChjPWMuc3BsaXQoInwiKSkmJmMubGVuZ3RoKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWIrPSJzY2F5dF8iK2NbZF0rKGMubGVuZ3RoIT1wYXJzZUludChkLDEwKSsxPyIsIjoiIik7YS5jb25maWcubWVudV9ncm91cHM9YisiLCIrYS5jb25maWcubWVudV9ncm91cHN9LGNoZWNrRW52aXJvbm1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IuZW52Lm9wZXJhfHxDS0VESVRPUi5lbnYuYWlyPzA6MX0saW5pdDpmdW5jdGlvbihhKXt2YXIgYz1hLmRhdGFQcm9jZXNzb3ImJmEuZGF0YVByb2Nlc3Nvci5kYXRhRmlsdGVyLGI9e2VsZW1lbnRzOntzcGFuOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYXR0cmlidXRlcztiJiZiWyJkYXRhLXNjYXl0aWQiXSYmZGVsZXRlIGEubmFtZX19fTtjJiZjLmFkZFJ1bGVzKGIpO3ZhciBnPXt9LGU9e30sZj1hLmFkZENvbW1hbmQoInNjYXl0Y2hlY2siLHUpO0NLRURJVE9SLmRpYWxvZy5hZGQoInNjYXl0Y2hlY2siLApDS0VESVRPUi5nZXRVcmwodGhpcy5wYXRoKyJkaWFsb2dzL29wdGlvbnMuanMiKSk7Yz1kLmdldFVpVGFicyhhKTthLmFkZE1lbnVHcm91cCgic2NheXRCdXR0b24iKTthLmFkZE1lbnVHcm91cCgic2NheXRfc3VnZ2VzdCIsLTEwKTthLmFkZE1lbnVHcm91cCgic2NheXRfbW9yZXN1Z2dlc3QiLC05KTthLmFkZE1lbnVHcm91cCgic2NheXRfY29udHJvbCIsLTgpO3ZhciBiPXt9LGg9YS5sYW5nLnNjYXl0O2Iuc2NheXRUb2dnbGU9e2xhYmVsOmguZW5hYmxlLGNvbW1hbmQ6InNjYXl0Y2hlY2siLGdyb3VwOiJzY2F5dEJ1dHRvbiJ9OzE9PWNbMF0mJihiLnNjYXl0T3B0aW9ucz17bGFiZWw6aC5vcHRpb25zLGdyb3VwOiJzY2F5dEJ1dHRvbiIsb25DbGljazpmdW5jdGlvbigpe2o9Im9wdGlvbnMiO2Eub3BlbkRpYWxvZygic2NheXRjaGVjayIpfX0pOzE9PWNbMV0mJihiLnNjYXl0TGFuZ3M9e2xhYmVsOmgubGFuZ3MsZ3JvdXA6InNjYXl0QnV0dG9uIixvbkNsaWNrOmZ1bmN0aW9uKCl7aj0KImxhbmdzIjthLm9wZW5EaWFsb2coInNjYXl0Y2hlY2siKX19KTsxPT1jWzJdJiYoYi5zY2F5dERpY3Q9e2xhYmVsOmguZGljdGlvbmFyaWVzVGFiLGdyb3VwOiJzY2F5dEJ1dHRvbiIsb25DbGljazpmdW5jdGlvbigpe2o9ImRpY3Rpb25hcmllcyI7YS5vcGVuRGlhbG9nKCJzY2F5dGNoZWNrIil9fSk7Yi5zY2F5dEFib3V0PXtsYWJlbDphLmxhbmcuc2NheXQuYWJvdXQsZ3JvdXA6InNjYXl0QnV0dG9uIixvbkNsaWNrOmZ1bmN0aW9uKCl7aj0iYWJvdXQiO2Eub3BlbkRpYWxvZygic2NheXRjaGVjayIpfX07MT09Y1s0XSYmKGIuc2NheXRXU0M9e2xhYmVsOmEubGFuZy53c2MudG9vbGJhcixncm91cDoic2NheXRCdXR0b24iLGNvbW1hbmQ6ImNoZWNrc3BlbGwifSk7YS5hZGRNZW51SXRlbXMoYik7YS51aS5hZGQoIlNjYXl0IixDS0VESVRPUi5VSV9NRU5VQlVUVE9OLHtsYWJlbDpoLnRpdGxlLHRpdGxlOkNLRURJVE9SLmVudi5vcGVyYT9oLm9wZXJhX3RpdGxlOmgudGl0bGUsbW9kZXM6e3d5c2l3eWc6dGhpcy5jaGVja0Vudmlyb25tZW50KCl9LAp0b29sYmFyOiJzcGVsbGNoZWNrZXIsMjAiLG9uUmVuZGVyOmZ1bmN0aW9uKCl7Zi5vbigic3RhdGUiLGZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0ZShmLnN0YXRlKX0sdGhpcyl9LG9uTWVudTpmdW5jdGlvbigpe3ZhciBiPWQuaXNTY2F5dEVuYWJsZWQoYSk7YS5nZXRNZW51SXRlbSgic2NheXRUb2dnbGUiKS5sYWJlbD1oW2I\/ImRpc2FibGUiOiJlbmFibGUiXTt2YXIgYz1kLmdldFVpVGFicyhhKTtyZXR1cm57c2NheXRUb2dnbGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHNjYXl0T3B0aW9uczpiJiZjWzBdP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxzY2F5dExhbmdzOmImJmNbMV0\/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHNjYXl0RGljdDpiJiZjWzJdP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxzY2F5dEFib3V0OmImJmNbM10\/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOgpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxzY2F5dFdTQzpjWzRdP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRH19fSk7YS5jb250ZXh0TWVudSYmYS5hZGRNZW51SXRlbXMmJmEuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYixjKXtpZighZC5pc1NjYXl0RW5hYmxlZChhKXx8Yy5nZXRSYW5nZXMoKVswXS5jaGVja1JlYWRPbmx5KCkpcmV0dXJuIG51bGw7dmFyIGY9ZC5nZXRTY2F5dChhKSxuPWYuZ2V0U2NheXROb2RlKCk7aWYoIW4pcmV0dXJuIG51bGw7dmFyIGk9Zi5nZXRXb3JkKG4pO2lmKCFpKXJldHVybiBudWxsO3ZhciBqPWYuZ2V0TGFuZygpLGw9YS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzfHwiYWxsIixpPXdpbmRvdy5zY2F5dC5nZXRTdWdnZXN0aW9uKGksaiksbD1sLnNwbGl0KCJ8IiksbTtmb3IobSBpbiBnKXtkZWxldGUgYS5fLm1lbnVJdGVtc1ttXTtkZWxldGUgYS5jb21tYW5kc1ttXX1mb3IobSBpbiBlKXtkZWxldGUgYS5fLm1lbnVJdGVtc1ttXTsKZGVsZXRlIGEuY29tbWFuZHNbbV19aWYoIWl8fCFpLmxlbmd0aCl7cChhLCJub19zdWdnIixoLm5vU3VnZ2VzdGlvbnMsInNjYXl0X25vX3N1Z2ciLHtleGVjOmZ1bmN0aW9uKCl7fX0sInNjYXl0X2NvbnRyb2wiLDEsdHJ1ZSk7ZS5zY2F5dF9ub19zdWdnPUNLRURJVE9SLlRSSVNUQVRFX09GRn1lbHNle2c9e307ZT17fTttPWEuY29uZmlnLnNjYXl0X21vcmVTdWdnZXN0aW9uc3x8Im9uIjt2YXIgaj1mYWxzZSxzPWEuY29uZmlnLnNjYXl0X21heFN1Z2dlc3Rpb25zO3R5cGVvZiBzIT0ibnVtYmVyIiYmKHM9NSk7IXMmJihzPWkubGVuZ3RoKTtmb3IodmFyIGs9MCxyPWkubGVuZ3RoO2s8cjtrPWsrMSl7dmFyIHE9InNjYXl0X3N1Z2dlc3Rpb25fIitpW2tdLnJlcGxhY2UoIiAiLCJfIiksdD1mdW5jdGlvbihhLGIpe3JldHVybntleGVjOmZ1bmN0aW9uKCl7Zi5yZXBsYWNlKGEsYil9fX0obixpW2tdKTtpZihrPHMpe3AoYSwiYnV0dG9uXyIrcSxpW2tdLHEsdCwic2NheXRfc3VnZ2VzdCIsCmsrMSk7ZVtxXT1DS0VESVRPUi5UUklTVEFURV9PRkZ9ZWxzZSBpZihtPT0ib24iKXtwKGEsImJ1dHRvbl8iK3EsaVtrXSxxLHQsInNjYXl0X21vcmVzdWdnZXN0IixrKzEpO2dbcV09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO2o9dHJ1ZX19aWYoail7YS5hZGRNZW51SXRlbSgic2NheXRfbW9yZXN1Z2dlc3QiLHtsYWJlbDpoLm1vcmVTdWdnZXN0aW9ucyxncm91cDoic2NheXRfbW9yZXN1Z2dlc3QiLG9yZGVyOjEwLGdldEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIGd9fSk7ZS5zY2F5dF9tb3Jlc3VnZ2VzdD1DS0VESVRPUi5UUklTVEFURV9PRkZ9fWlmKG8oImFsbCIsbCl8fG8oImlnbm9yZSIsbCkpe3AoYSwiaWdub3JlIixoLmlnbm9yZSwic2NheXRfaWdub3JlIix7ZXhlYzpmdW5jdGlvbigpe2YuaWdub3JlKG4pfX0sInNjYXl0X2NvbnRyb2wiLDIpO2Uuc2NheXRfaWdub3JlPUNLRURJVE9SLlRSSVNUQVRFX09GRn1pZihvKCJhbGwiLGwpfHxvKCJpZ25vcmVhbGwiLGwpKXtwKGEsImlnbm9yZV9hbGwiLApoLmlnbm9yZUFsbCwic2NheXRfaWdub3JlX2FsbCIse2V4ZWM6ZnVuY3Rpb24oKXtmLmlnbm9yZUFsbChuKX19LCJzY2F5dF9jb250cm9sIiwzKTtlLnNjYXl0X2lnbm9yZV9hbGw9Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfWlmKG8oImFsbCIsbCl8fG8oImFkZCIsbCkpe3AoYSwiYWRkX3dvcmQiLGguYWRkV29yZCwic2NheXRfYWRkX3dvcmQiLHtleGVjOmZ1bmN0aW9uKCl7d2luZG93LnNjYXl0LmFkZFdvcmRUb1VzZXJEaWN0aW9uYXJ5KG4pfX0sInNjYXl0X2NvbnRyb2wiLDQpO2Uuc2NheXRfYWRkX3dvcmQ9Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfWYuZmlyZU9uQ29udGV4dE1lbnUmJmYuZmlyZU9uQ29udGV4dE1lbnUoYSk7cmV0dXJuIGV9KTtjPWZ1bmN0aW9uKGIpe2IucmVtb3ZlTGlzdGVuZXIoKTtDS0VESVRPUi5lbnYub3BlcmF8fENLRURJVE9SLmVudi5haXI\/Zi5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk6Zi5zZXRTdGF0ZShkLmlzU2NheXRFbmFibGVkKGEpPwpDS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkYpfTthLm9uKCJzaG93U2NheXRTdGF0ZSIsYyk7YS5vbigiaW5zdGFuY2VSZWFkeSIsYyk7aWYoYS5jb25maWcuc2NheXRfYXV0b1N0YXJ0dXApYS5vbigiaW5zdGFuY2VSZWFkeSIsZnVuY3Rpb24oKXtkLmxvYWRFbmdpbmUoYSl9KX0sYWZ0ZXJJbml0OmZ1bmN0aW9uKGEpe3ZhciBjLGI9ZnVuY3Rpb24oYSl7aWYoYS5oYXNBdHRyaWJ1dGUoImRhdGEtc2NheXRpZCIpKXJldHVybiExfTthLl8uZWxlbWVudHNQYXRoJiYoYz1hLl8uZWxlbWVudHNQYXRoLmZpbHRlcnMpJiZjLnB1c2goYik7YS5hZGRSZW1vdmVGb3JtYXRGaWx0ZXImJmEuYWRkUmVtb3ZlRm9ybWF0RmlsdGVyKGIpfX0pfSkoKTsoZnVuY3Rpb24oKXtDS0VESVRPUi5wbHVnaW5zLmFkZCgic3R5bGVzY29tYm8iLHtyZXF1aXJlczoicmljaGNvbWJvIixpbml0OmZ1bmN0aW9uKGMpe3ZhciBqPWMuY29uZmlnLGY9Yy5sYW5nLnN0eWxlc2NvbWJvLGU9e30saT1bXSxrPVtdO2Mub24oInN0eWxlc1NldCIsZnVuY3Rpb24oYil7aWYoYj1iLmRhdGEuc3R5bGVzKXtmb3IodmFyIGEsaCxkPTAsZz1iLmxlbmd0aDtkPGc7ZCsrKWlmKGE9YltkXSwhKGMuYmxvY2tsZXNzJiZhLmVsZW1lbnQgaW4gQ0tFRElUT1IuZHRkLiRibG9jaykmJihoPWEubmFtZSxhPW5ldyBDS0VESVRPUi5zdHlsZShhKSwhYy5maWx0ZXIuY3VzdG9tQ29uZmlnfHxjLmZpbHRlci5jaGVjayhhKSkpYS5fbmFtZT1oLGEuXy5lbnRlck1vZGU9ai5lbnRlck1vZGUsYS5fLndlaWdodD1kKzFFMyooYS50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Q\/MTphLnR5cGU9PUNLRURJVE9SLlNUWUxFX0JMT0NLPzI6MyksZVtoXT1hLGkucHVzaChhKSxrLnB1c2goYSk7Cmkuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLl8ud2VpZ2h0LWIuXy53ZWlnaHR9KX19KTtjLnVpLmFkZFJpY2hDb21ibygiU3R5bGVzIix7bGFiZWw6Zi5sYWJlbCx0aXRsZTpmLnBhbmVsVGl0bGUsdG9vbGJhcjoic3R5bGVzLDEwIixhbGxvd2VkQ29udGVudDprLHBhbmVsOntjc3M6W0NLRURJVE9SLnNraW4uZ2V0UGF0aCgiZWRpdG9yIildLmNvbmNhdChqLmNvbnRlbnRzQ3NzKSxtdWx0aVNlbGVjdDohMCxhdHRyaWJ1dGVzOnsiYXJpYS1sYWJlbCI6Zi5wYW5lbFRpdGxlfX0saW5pdDpmdW5jdGlvbigpe3ZhciBiLGEsYyxkLGcsZTtnPTA7Zm9yKGU9aS5sZW5ndGg7ZzxlO2crKyliPWlbZ10sYT1iLl9uYW1lLGQ9Yi50eXBlLGQhPWMmJih0aGlzLnN0YXJ0R3JvdXAoZlsicGFuZWxUaXRsZSIrZF0pLGM9ZCksdGhpcy5hZGQoYSxiLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVD9hOmIuYnVpbGRQcmV2aWV3KCksYSk7dGhpcy5jb21taXQoKX0sb25DbGljazpmdW5jdGlvbihiKXtjLmZvY3VzKCk7CmMuZmlyZSgic2F2ZVNuYXBzaG90Iik7dmFyIGI9ZVtiXSxhPWMuZWxlbWVudFBhdGgoKTtjW2IuY2hlY2tBY3RpdmUoYSk\/InJlbW92ZVN0eWxlIjoiYXBwbHlTdHlsZSJdKGIpO2MuZmlyZSgic2F2ZVNuYXBzaG90Iil9LG9uUmVuZGVyOmZ1bmN0aW9uKCl7Yy5vbigic2VsZWN0aW9uQ2hhbmdlIixmdW5jdGlvbihiKXtmb3IodmFyIGE9dGhpcy5nZXRWYWx1ZSgpLGI9Yi5kYXRhLnBhdGguZWxlbWVudHMsYz0wLGQ9Yi5sZW5ndGgsZztjPGQ7YysrKXtnPWJbY107Zm9yKHZhciBmIGluIGUpaWYoZVtmXS5jaGVja0VsZW1lbnRSZW1vdmFibGUoZywhMCkpe2YhPWEmJnRoaXMuc2V0VmFsdWUoZik7cmV0dXJufX10aGlzLnNldFZhbHVlKCIiKX0sdGhpcyl9LG9uT3BlbjpmdW5jdGlvbigpe3ZhciBiPWMuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRFbGVtZW50KCksYj1jLmVsZW1lbnRQYXRoKGIpLGE9WzAsMCwwLDBdO3RoaXMuc2hvd0FsbCgpO3RoaXMudW5tYXJrQWxsKCk7Zm9yKHZhciBoIGluIGUpe3ZhciBkPQplW2hdLGc9ZC50eXBlO2QuY2hlY2tBcHBsaWNhYmxlKGIsYy5hY3RpdmVGaWx0ZXIpP2FbZ10rKzp0aGlzLmhpZGVJdGVtKGgpO2QuY2hlY2tBY3RpdmUoYikmJnRoaXMubWFyayhoKX1hW0NLRURJVE9SLlNUWUxFX0JMT0NLXXx8dGhpcy5oaWRlR3JvdXAoZlsicGFuZWxUaXRsZSIrQ0tFRElUT1IuU1RZTEVfQkxPQ0tdKTthW0NLRURJVE9SLlNUWUxFX0lOTElORV18fHRoaXMuaGlkZUdyb3VwKGZbInBhbmVsVGl0bGUiK0NLRURJVE9SLlNUWUxFX0lOTElORV0pO2FbQ0tFRElUT1IuU1RZTEVfT0JKRUNUXXx8dGhpcy5oaWRlR3JvdXAoZlsicGFuZWxUaXRsZSIrQ0tFRElUT1IuU1RZTEVfT0JKRUNUXSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj1jLmVsZW1lbnRQYXRoKCk7aWYoYil7Zm9yKHZhciBhIGluIGUpaWYoZVthXS5jaGVja0FwcGxpY2FibGUoYixjLmFjdGl2ZUZpbHRlcikpcmV0dXJuO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX0scmVzZXQ6ZnVuY3Rpb24oKXtlPQp7fTtpPVtdfX0pfX0pfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGMpe3JldHVybntlZGl0b3JGb2N1czohMSxjYW5VbmRvOiExLG1vZGVzOnt3eXNpd3lnOjF9LGV4ZWM6ZnVuY3Rpb24oZCl7aWYoZC5lZGl0YWJsZSgpLmhhc0ZvY3VzKXt2YXIgZT1kLmdldFNlbGVjdGlvbigpLGI7aWYoYj0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChlLmdldENvbW1vbkFuY2VzdG9yKCksZS5yb290KSkuY29udGFpbnMoe3RkOjEsdGg6MX0sMSkpe3ZhciBlPWQuY3JlYXRlUmFuZ2UoKSxhPUNLRURJVE9SLnRvb2xzLnRyeVRoZXNlKGZ1bmN0aW9uKCl7dmFyIGE9Yi5nZXRQYXJlbnQoKS4kLmNlbGxzW2IuJC5jZWxsSW5kZXgrKGM\/LTE6MSldO2EucGFyZW50Tm9kZS5wYXJlbnROb2RlO3JldHVybiBhfSxmdW5jdGlvbigpe3ZhciBhPWIuZ2V0UGFyZW50KCksYT1hLmdldEFzY2VuZGFudCgidGFibGUiKS4kLnJvd3NbYS4kLnJvd0luZGV4KyhjPy0xOjEpXTtyZXR1cm4gYS5jZWxsc1tjP2EuY2VsbHMubGVuZ3RoLTE6CjBdfSk7aWYoIWEmJiFjKXtmb3IodmFyIGY9Yi5nZXRBc2NlbmRhbnQoInRhYmxlIikuJCxhPWIuZ2V0UGFyZW50KCkuJC5jZWxscyxmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmLmluc2VydFJvdygtMSksZC5kb2N1bWVudCksZz0wLGg9YS5sZW5ndGg7ZzxoO2crKylmLmFwcGVuZCgobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGFbZ10sZC5kb2N1bWVudCkpLmNsb25lKCExLCExKSkuYXBwZW5kQm9ndXMoKTtlLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoZil9ZWxzZSBpZihhKWE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpLGUubW92ZVRvRWxlbWVudEVkaXRTdGFydChhKSwoIWUuY2hlY2tTdGFydE9mQmxvY2soKXx8IWUuY2hlY2tFbmRPZkJsb2NrKCkpJiZlLnNlbGVjdE5vZGVDb250ZW50cyhhKTtlbHNlIHJldHVybiEwO2Uuc2VsZWN0KCEwKTtyZXR1cm4hMH19cmV0dXJuITF9fX12YXIgaD17ZWRpdG9yRm9jdXM6ITEsbW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX19LApnPXtleGVjOmZ1bmN0aW9uKGMpe2MuY29udGFpbmVyLmZvY3VzTmV4dCghMCxjLnRhYkluZGV4KX19LGY9e2V4ZWM6ZnVuY3Rpb24oYyl7Yy5jb250YWluZXIuZm9jdXNQcmV2aW91cyghMCxjLnRhYkluZGV4KX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKCJ0YWIiLHtpbml0OmZ1bmN0aW9uKGMpe2Zvcih2YXIgZD0hMSE9PWMuY29uZmlnLmVuYWJsZVRhYktleVRvb2xzLGU9Yy5jb25maWcudGFiU3BhY2VzfHwwLGI9IiI7ZS0tOyliKz0iwqAiO2lmKGIpYy5vbigia2V5IixmdW5jdGlvbihhKXs5PT1hLmRhdGEua2V5Q29kZSYmKGMuaW5zZXJ0SHRtbChiKSxhLmNhbmNlbCgpKX0pO2lmKGQpYy5vbigia2V5IixmdW5jdGlvbihhKXsoOT09YS5kYXRhLmtleUNvZGUmJmMuZXhlY0NvbW1hbmQoInNlbGVjdE5leHRDZWxsIil8fGEuZGF0YS5rZXlDb2RlPT1DS0VESVRPUi5TSElGVCs5JiZjLmV4ZWNDb21tYW5kKCJzZWxlY3RQcmV2aW91c0NlbGwiKSkmJmEuY2FuY2VsKCl9KTtjLmFkZENvbW1hbmQoImJsdXIiLApDS0VESVRPUi50b29scy5leHRlbmQoZyxoKSk7Yy5hZGRDb21tYW5kKCJibHVyQmFjayIsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGYsaCkpO2MuYWRkQ29tbWFuZCgic2VsZWN0TmV4dENlbGwiLGkoKSk7Yy5hZGRDb21tYW5kKCJzZWxlY3RQcmV2aW91c0NlbGwiLGkoITApKX19KX0pKCk7CkNLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5mb2N1c05leHQ9ZnVuY3Rpb24oaSxoKXt2YXIgZz12b2lkIDA9PT1oP3RoaXMuZ2V0VGFiSW5kZXgoKTpoLGYsYyxkLGUsYixhO2lmKDA+PWcpZm9yKGI9dGhpcy5nZXROZXh0U291cmNlTm9kZShpLENLRURJVE9SLk5PREVfRUxFTUVOVCk7Yjspe2lmKGIuaXNWaXNpYmxlKCkmJjA9PT1iLmdldFRhYkluZGV4KCkpe2Q9YjticmVha31iPWIuZ2V0TmV4dFNvdXJjZU5vZGUoITEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKX1lbHNlIGZvcihiPXRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCkuZ2V0Rmlyc3QoKTtiPWIuZ2V0TmV4dFNvdXJjZU5vZGUoITEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTspe2lmKCFmKWlmKCFjJiZiLmVxdWFscyh0aGlzKSl7aWYoYz0hMCxpKXtpZighKGI9Yi5nZXROZXh0U291cmNlTm9kZSghMCxDS0VESVRPUi5OT0RFX0VMRU1FTlQpKSlicmVhaztmPTF9fWVsc2UgYyYmIXRoaXMuY29udGFpbnMoYikmJgooZj0xKTtpZihiLmlzVmlzaWJsZSgpJiYhKDA+KGE9Yi5nZXRUYWJJbmRleCgpKSkpe2lmKGYmJmE9PWcpe2Q9YjticmVha31hPmcmJighZHx8IWV8fGE8ZSk\/KGQ9YixlPWEpOiFkJiYwPT09YSYmKGQ9YixlPWEpfX1kJiZkLmZvY3VzKCl9OwpDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuZm9jdXNQcmV2aW91cz1mdW5jdGlvbihpLGgpe2Zvcih2YXIgZz12b2lkIDA9PT1oP3RoaXMuZ2V0VGFiSW5kZXgoKTpoLGYsYyxkLGU9MCxiLGE9dGhpcy5nZXREb2N1bWVudCgpLmdldEJvZHkoKS5nZXRMYXN0KCk7YT1hLmdldFByZXZpb3VzU291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpOyl7aWYoIWYpaWYoIWMmJmEuZXF1YWxzKHRoaXMpKXtpZihjPSEwLGkpe2lmKCEoYT1hLmdldFByZXZpb3VzU291cmNlTm9kZSghMCxDS0VESVRPUi5OT0RFX0VMRU1FTlQpKSlicmVhaztmPTF9fWVsc2UgYyYmIXRoaXMuY29udGFpbnMoYSkmJihmPTEpO2lmKGEuaXNWaXNpYmxlKCkmJiEoMD4oYj1hLmdldFRhYkluZGV4KCkpKSlpZigwPj1nKXtpZihmJiYwPT09Yil7ZD1hO2JyZWFrfWI+ZSYmKGQ9YSxlPWIpfWVsc2V7aWYoZiYmYj09Zyl7ZD1hO2JyZWFrfWlmKGI8ZyYmKCFkfHxiPmUpKWQ9YSxlPWJ9fWQmJmQuZm9jdXMoKX07Q0tFRElUT1IucGx1Z2lucy5hZGQoInRhYmxlIix7cmVxdWlyZXM6ImRpYWxvZyIsaW5pdDpmdW5jdGlvbihhKXtmdW5jdGlvbiBkKGEpe3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoYXx8e30se2NvbnRleHRTZW5zaXRpdmU6MSxyZWZyZXNoOmZ1bmN0aW9uKGEsZSl7dGhpcy5zZXRTdGF0ZShlLmNvbnRhaW5zKCJ0YWJsZSIsMSk\/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX19KX1pZighYS5ibG9ja2xlc3Mpe3ZhciBiPWEubGFuZy50YWJsZTthLmFkZENvbW1hbmQoInRhYmxlIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZCgidGFibGUiLHtjb250ZXh0OiJ0YWJsZSIsYWxsb3dlZENvbnRlbnQ6InRhYmxle3dpZHRoLGhlaWdodH1bYWxpZ24sYm9yZGVyLGNlbGxwYWRkaW5nLGNlbGxzcGFjaW5nLHN1bW1hcnldO2NhcHRpb24gdGJvZHkgdGhlYWQgdGZvb3Q7dGggdGQgdHJbc2NvcGVdOyIrKGEucGx1Z2lucy5kaWFsb2dhZHZ0YWI\/CiJ0YWJsZSIrYS5wbHVnaW5zLmRpYWxvZ2FkdnRhYi5hbGxvd2VkQ29udGVudCgpOiIiKSxyZXF1aXJlZENvbnRlbnQ6InRhYmxlIixjb250ZW50VHJhbnNmb3JtYXRpb25zOltbInRhYmxle3dpZHRofTogc2l6ZVRvU3R5bGUiLCJ0YWJsZVt3aWR0aF06IHNpemVUb0F0dHJpYnV0ZSJdXX0pKTthLmFkZENvbW1hbmQoInRhYmxlUHJvcGVydGllcyIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoInRhYmxlUHJvcGVydGllcyIsZCgpKSk7YS5hZGRDb21tYW5kKCJ0YWJsZURlbGV0ZSIsZCh7ZXhlYzpmdW5jdGlvbihhKXt2YXIgYz1hLmVsZW1lbnRQYXRoKCkuY29udGFpbnMoInRhYmxlIiwxKTtpZihjKXt2YXIgYj1jLmdldFBhcmVudCgpOzE9PWIuZ2V0Q2hpbGRDb3VudCgpJiYhYi5pcygiYm9keSIsInRkIiwidGgiKSYmKGM9Yik7YT1hLmNyZWF0ZVJhbmdlKCk7YS5tb3ZlVG9Qb3NpdGlvbihjLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7Yy5yZW1vdmUoKTthLnNlbGVjdCgpfX19KSk7CmEudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbigiVGFibGUiLHtsYWJlbDpiLnRvb2xiYXIsY29tbWFuZDoidGFibGUiLHRvb2xiYXI6Imluc2VydCwzMCJ9KTtDS0VESVRPUi5kaWFsb2cuYWRkKCJ0YWJsZSIsdGhpcy5wYXRoKyJkaWFsb2dzL3RhYmxlLmpzIik7Q0tFRElUT1IuZGlhbG9nLmFkZCgidGFibGVQcm9wZXJ0aWVzIix0aGlzLnBhdGgrImRpYWxvZ3MvdGFibGUuanMiKTthLmFkZE1lbnVJdGVtcyYmYS5hZGRNZW51SXRlbXMoe3RhYmxlOntsYWJlbDpiLm1lbnUsY29tbWFuZDoidGFibGVQcm9wZXJ0aWVzIixncm91cDoidGFibGUiLG9yZGVyOjV9LHRhYmxlZGVsZXRlOntsYWJlbDpiLmRlbGV0ZVRhYmxlLGNvbW1hbmQ6InRhYmxlRGVsZXRlIixncm91cDoidGFibGUiLG9yZGVyOjF9fSk7YS5vbigiZG91YmxlY2xpY2siLGZ1bmN0aW9uKGEpe2EuZGF0YS5lbGVtZW50LmlzKCJ0YWJsZSIpJiYoYS5kYXRhLmRpYWxvZz0idGFibGVQcm9wZXJ0aWVzIil9KTthLmNvbnRleHRNZW51JiYKYS5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbigpe3JldHVybnt0YWJsZWRlbGV0ZTpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfX0pfX19KTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBwKGUpe2Z1bmN0aW9uIGQoYSl7ISgwPGIubGVuZ3RoKSYmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ5LnRlc3QoYS5nZXROYW1lKCkpJiYhYS5nZXRDdXN0b21EYXRhKCJzZWxlY3RlZF9jZWxsIikpJiYoQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGMsYSwic2VsZWN0ZWRfY2VsbCIsITApLGIucHVzaChhKSl9Zm9yKHZhciBlPWUuZ2V0UmFuZ2VzKCksYj1bXSxjPXt9LGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIGY9ZVthXTtpZihmLmNvbGxhcHNlZClmPWYuZ2V0Q29tbW9uQW5jZXN0b3IoKSwoZj1mLmdldEFzY2VuZGFudCgidGQiLCEwKXx8Zi5nZXRBc2NlbmRhbnQoInRoIiwhMCkpJiZiLnB1c2goZik7ZWxzZXt2YXIgZj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihmKSxnO2ZvcihmLmd1YXJkPWQ7Zz1mLm5leHQoKTspaWYoZy50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFnLmlzKENLRURJVE9SLmR0ZC50YWJsZSkpaWYoKGc9CmcuZ2V0QXNjZW5kYW50KCJ0ZCIsITApfHxnLmdldEFzY2VuZGFudCgidGgiLCEwKSkmJiFnLmdldEN1c3RvbURhdGEoInNlbGVjdGVkX2NlbGwiKSlDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoYyxnLCJzZWxlY3RlZF9jZWxsIiwhMCksYi5wdXNoKGcpfX1DS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoYyk7cmV0dXJuIGJ9ZnVuY3Rpb24gbyhlLGQpe2Zvcih2YXIgYj1wKGUpLGM9YlswXSxhPWMuZ2V0QXNjZW5kYW50KCJ0YWJsZSIpLGM9Yy5nZXREb2N1bWVudCgpLGY9YlswXS5nZXRQYXJlbnQoKSxnPWYuJC5yb3dJbmRleCxiPWJbYi5sZW5ndGgtMV0saD1iLmdldFBhcmVudCgpLiQucm93SW5kZXgrYi4kLnJvd1NwYW4tMSxiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhLiQucm93c1toXSksZz1kP2c6aCxmPWQ\/ZjpiLGI9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChhKSxhPWJbZ10sZz1kP2JbZy0xXTpiW2crMV0sYj1iWzBdLmxlbmd0aCwKYz1jLmNyZWF0ZUVsZW1lbnQoInRyIiksaD0wO2FbaF0mJmg8YjtoKyspe3ZhciBpOzE8YVtoXS5yb3dTcGFuJiZnJiZhW2hdPT1nW2hdPyhpPWFbaF0saS5yb3dTcGFuKz0xKTooaT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGFbaF0pKS5jbG9uZSgpLGkucmVtb3ZlQXR0cmlidXRlKCJyb3dTcGFuIiksaS5hcHBlbmRCb2d1cygpLGMuYXBwZW5kKGkpLGk9aS4kKTtoKz1pLmNvbFNwYW4tMX1kP2MuaW5zZXJ0QmVmb3JlKGYpOmMuaW5zZXJ0QWZ0ZXIoZil9ZnVuY3Rpb24gcShlKXtpZihlIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbil7Zm9yKHZhciBkPXAoZSksYj1kWzBdLmdldEFzY2VuZGFudCgidGFibGUiKSxjPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoYiksZT1kWzBdLmdldFBhcmVudCgpLiQucm93SW5kZXgsZD1kW2QubGVuZ3RoLTFdLGE9ZC5nZXRQYXJlbnQoKS4kLnJvd0luZGV4K2QuJC5yb3dTcGFuLTEsZD1bXSxmPWU7Zjw9YTtmKyspe2Zvcih2YXIgZz0KY1tmXSxoPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChiLiQucm93c1tmXSksaT0wO2k8Zy5sZW5ndGg7aSsrKXt2YXIgaj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZ1tpXSksbD1qLmdldFBhcmVudCgpLiQucm93SW5kZXg7MT09ai4kLnJvd1NwYW4\/ai5yZW1vdmUoKTooai4kLnJvd1NwYW4tPTEsbD09ZiYmKGw9Y1tmKzFdLGxbaS0xXT9qLmluc2VydEFmdGVyKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChsW2ktMV0pKToobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGIuJC5yb3dzW2YrMV0pKS5hcHBlbmQoaiwxKSkpO2krPWouJC5jb2xTcGFuLTF9ZC5wdXNoKGgpfWM9Yi4kLnJvd3M7Yj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoY1thKzFdfHwoMDxlP2NbZS0xXTpudWxsKXx8Yi4kLnBhcmVudE5vZGUpO2ZvcihmPWQubGVuZ3RoOzA8PWY7Zi0tKXEoZFtmXSk7cmV0dXJuIGJ9ZSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50JiYoYj1lLmdldEFzY2VuZGFudCgidGFibGUiKSwKMT09Yi4kLnJvd3MubGVuZ3RoP2IucmVtb3ZlKCk6ZS5yZW1vdmUoKSk7cmV0dXJuIG51bGx9ZnVuY3Rpb24gcihlLGQpe2Zvcih2YXIgYj1kP0luZmluaXR5OjAsYz0wO2M8ZS5sZW5ndGg7YysrKXt2YXIgYTthPWVbY107Zm9yKHZhciBmPWQsZz1hLmdldFBhcmVudCgpLiQuY2VsbHMsaD0wLGk9MDtpPGcubGVuZ3RoO2krKyl7dmFyIGo9Z1tpXSxoPWgrKGY\/MTpqLmNvbFNwYW4pO2lmKGo9PWEuJClicmVha31hPWgtMTtpZihkP2E8YjphPmIpYj1hfXJldHVybiBifWZ1bmN0aW9uIGsoZSxkKXtmb3IodmFyIGI9cChlKSxjPWJbMF0uZ2V0QXNjZW5kYW50KCJ0YWJsZSIpLGE9cihiLDEpLGI9cihiKSxhPWQ\/YTpiLGY9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChjKSxjPVtdLGI9W10sZz1mLmxlbmd0aCxoPTA7aDxnO2grKyljLnB1c2goZltoXVthXSksYi5wdXNoKGQ\/ZltoXVthLTFdOmZbaF1bYSsxXSk7Zm9yKGg9MDtoPGc7aCsrKWNbaF0mJigxPGNbaF0uY29sU3BhbiYmCmJbaF09PWNbaF0\/KGE9Y1toXSxhLmNvbFNwYW4rPTEpOihhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoY1toXSkpLmNsb25lKCksYS5yZW1vdmVBdHRyaWJ1dGUoImNvbFNwYW4iKSxhLmFwcGVuZEJvZ3VzKCksYVtkPyJpbnNlcnRCZWZvcmUiOiJpbnNlcnRBZnRlciJdLmNhbGwoYSxuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoY1toXSkpLGE9YS4kKSxoKz1hLnJvd1NwYW4tMSl9ZnVuY3Rpb24gdShlLGQpe3ZhciBiPWUuZ2V0U3RhcnRFbGVtZW50KCk7aWYoYj1iLmdldEFzY2VuZGFudCgidGQiLDEpfHxiLmdldEFzY2VuZGFudCgidGgiLDEpKXt2YXIgYz1iLmNsb25lKCk7Yy5hcHBlbmRCb2d1cygpO2Q\/Yy5pbnNlcnRCZWZvcmUoYik6Yy5pbnNlcnRBZnRlcihiKX19ZnVuY3Rpb24gdChlKXtpZihlIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbil7dmFyIGU9cChlKSxkPWVbMF0mJmVbMF0uZ2V0QXNjZW5kYW50KCJ0YWJsZSIpLGI7YTp7dmFyIGM9MDtiPWUubGVuZ3RoLQoxO2Zvcih2YXIgYT17fSxmLGc7Zj1lW2MrK107KUNLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihhLGYsImRlbGV0ZV9jZWxsIiwhMCk7Zm9yKGM9MDtmPWVbYysrXTspaWYoKGc9Zi5nZXRQcmV2aW91cygpKSYmIWcuZ2V0Q3VzdG9tRGF0YSgiZGVsZXRlX2NlbGwiKXx8KGc9Zi5nZXROZXh0KCkpJiYhZy5nZXRDdXN0b21EYXRhKCJkZWxldGVfY2VsbCIpKXtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoYSk7Yj1nO2JyZWFrIGF9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGEpO2c9ZVswXS5nZXRQYXJlbnQoKTsoZz1nLmdldFByZXZpb3VzKCkpP2I9Zy5nZXRMYXN0KCk6KGc9ZVtiXS5nZXRQYXJlbnQoKSxiPShnPWcuZ2V0TmV4dCgpKT9nLmdldENoaWxkKDApOm51bGwpfWZvcihnPWUubGVuZ3RoLTE7MDw9ZztnLS0pdChlW2ddKTtiP20oYiwhMCk6ZCYmZC5yZW1vdmUoKX1lbHNlIGUgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCYmCihkPWUuZ2V0UGFyZW50KCksMT09ZC5nZXRDaGlsZENvdW50KCk\/ZC5yZW1vdmUoKTplLnJlbW92ZSgpKX1mdW5jdGlvbiBtKGUsZCl7dmFyIGI9ZS5nZXREb2N1bWVudCgpLGM9Q0tFRElUT1IuZG9jdW1lbnQ7Q0tFRElUT1IuZW52LmllJiYxMT5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGMuZm9jdXMoKSxiLmZvY3VzKCkpO2I9bmV3IENLRURJVE9SLmRvbS5yYW5nZShiKTtpZighYlsibW92ZVRvRWxlbWVudEVkaXQiKyhkPyJFbmQiOiJTdGFydCIpXShlKSliLnNlbGVjdE5vZGVDb250ZW50cyhlKSxiLmNvbGxhcHNlKGQ\/ITE6ITApO2Iuc2VsZWN0KCEwKX1mdW5jdGlvbiB2KGUsZCxiKXtlPWVbZF07aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBiKXJldHVybiBlO2ZvcihkPTA7ZSYmZDxlLmxlbmd0aDtkKyspe2lmKGIuaXMmJmVbZF09PWIuJClyZXR1cm4gZDtpZihkPT1iKXJldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZVtkXSl9cmV0dXJuIGIuaXM\/LTE6bnVsbH1mdW5jdGlvbiBzKGUsCmQsYil7dmFyIGM9cChlKSxhO2lmKChkPzEhPWMubGVuZ3RoOjI+Yy5sZW5ndGgpfHwoYT1lLmdldENvbW1vbkFuY2VzdG9yKCkpJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcygidGFibGUiKSlyZXR1cm4hMTt2YXIgZixlPWNbMF07YT1lLmdldEFzY2VuZGFudCgidGFibGUiKTt2YXIgZz1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGEpLGg9Zy5sZW5ndGgsaT1nWzBdLmxlbmd0aCxqPWUuZ2V0UGFyZW50KCkuJC5yb3dJbmRleCxsPXYoZyxqLGUpO2lmKGQpe3ZhciBuO3RyeXt2YXIgbT1wYXJzZUludChlLmdldEF0dHJpYnV0ZSgicm93c3BhbiIpLDEwKXx8MTtmPXBhcnNlSW50KGUuZ2V0QXR0cmlidXRlKCJjb2xzcGFuIiksMTApfHwxO249Z1sidXAiPT1kP2otbToiZG93biI9PWQ\/aittOmpdWyJsZWZ0Ij09ZD9sLWY6InJpZ2h0Ij09ZD9sK2Y6bF19Y2F0Y2goeil7cmV0dXJuITF9aWYoIW58fGUuJD09bilyZXR1cm4hMTtjWyJ1cCI9PWR8fCJsZWZ0Ij09CmQ\/InVuc2hpZnQiOiJwdXNoIl0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KG4pKX1mb3IodmFyIGQ9ZS5nZXREb2N1bWVudCgpLG89aixtPW49MCxxPSFiJiZuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoZCkscz0wLGQ9MDtkPGMubGVuZ3RoO2QrKyl7Zj1jW2RdO3ZhciBrPWYuZ2V0UGFyZW50KCksdD1mLmdldEZpcnN0KCkscj1mLiQuY29sU3Bhbix1PWYuJC5yb3dTcGFuLGs9ay4kLnJvd0luZGV4LHc9dihnLGssZikscz1zK3IqdSxtPU1hdGgubWF4KG0sdy1sK3IpO249TWF0aC5tYXgobixrLWordSk7aWYoIWIpe3I9ZjsodT1yLmdldEJvZ3VzKCkpJiZ1LnJlbW92ZSgpO3IudHJpbSgpO2lmKGYuZ2V0Q2hpbGRyZW4oKS5jb3VudCgpKXtpZihrIT1vJiZ0JiYoIXQuaXNCbG9ja0JvdW5kYXJ5fHwhdC5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KSkpKG89cS5nZXRMYXN0KENLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApKSkmJighby5pc3x8IW8uaXMoImJyIikpJiYKcS5hcHBlbmQoImJyIik7Zi5tb3ZlQ2hpbGRyZW4ocSl9ZD9mLnJlbW92ZSgpOmYuc2V0SHRtbCgiIil9bz1rfWlmKGIpcmV0dXJuIG4qbT09cztxLm1vdmVDaGlsZHJlbihlKTtlLmFwcGVuZEJvZ3VzKCk7bT49aT9lLnJlbW92ZUF0dHJpYnV0ZSgicm93U3BhbiIpOmUuJC5yb3dTcGFuPW47bj49aD9lLnJlbW92ZUF0dHJpYnV0ZSgiY29sU3BhbiIpOmUuJC5jb2xTcGFuPW07Yj1uZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KGEuJC5yb3dzKTtjPWIuY291bnQoKTtmb3IoZD1jLTE7MDw9ZDtkLS0pYT1iLmdldEl0ZW0oZCksYS4kLmNlbGxzLmxlbmd0aHx8KGEucmVtb3ZlKCksYysrKTtyZXR1cm4gZX1mdW5jdGlvbiB3KGUsZCl7dmFyIGI9cChlKTtpZigxPGIubGVuZ3RoKXJldHVybiExO2lmKGQpcmV0dXJuITA7dmFyIGI9YlswXSxjPWIuZ2V0UGFyZW50KCksYT1jLmdldEFzY2VuZGFudCgidGFibGUiKSxmPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoYSksZz1jLiQucm93SW5kZXgsCmg9dihmLGcsYiksaT1iLiQucm93U3BhbixqO2lmKDE8aSl7aj1NYXRoLmNlaWwoaS8yKTtmb3IodmFyIGk9TWF0aC5mbG9vcihpLzIpLGM9ZytqLGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEuJC5yb3dzW2NdKSxmPXYoZixjKSxsLGM9Yi5jbG9uZSgpLGc9MDtnPGYubGVuZ3RoO2crKylpZihsPWZbZ10sbC5wYXJlbnROb2RlPT1hLiQmJmc+aCl7Yy5pbnNlcnRCZWZvcmUobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGwpKTticmVha31lbHNlIGw9bnVsbDtsfHxhLmFwcGVuZChjLCEwKX1lbHNle2k9aj0xO2E9Yy5jbG9uZSgpO2EuaW5zZXJ0QWZ0ZXIoYyk7YS5hcHBlbmQoYz1iLmNsb25lKCkpO2w9dihmLGcpO2ZvcihoPTA7aDxsLmxlbmd0aDtoKyspbFtoXS5yb3dTcGFuKyt9Yy5hcHBlbmRCb2d1cygpO2IuJC5yb3dTcGFuPWo7Yy4kLnJvd1NwYW49aTsxPT1qJiZiLnJlbW92ZUF0dHJpYnV0ZSgicm93U3BhbiIpOzE9PWkmJmMucmVtb3ZlQXR0cmlidXRlKCJyb3dTcGFuIik7CnJldHVybiBjfWZ1bmN0aW9uIHgoZSxkKXt2YXIgYj1wKGUpO2lmKDE8Yi5sZW5ndGgpcmV0dXJuITE7aWYoZClyZXR1cm4hMDt2YXIgYj1iWzBdLGM9Yi5nZXRQYXJlbnQoKSxhPWMuZ2V0QXNjZW5kYW50KCJ0YWJsZSIpLGE9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChhKSxmPXYoYSxjLiQucm93SW5kZXgsYiksZz1iLiQuY29sU3BhbjtpZigxPGcpYz1NYXRoLmNlaWwoZy8yKSxnPU1hdGguZmxvb3IoZy8yKTtlbHNle2Zvcih2YXIgZz1jPTEsaD1bXSxpPTA7aTxhLmxlbmd0aDtpKyspe3ZhciBqPWFbaV07aC5wdXNoKGpbZl0pOzE8altmXS5yb3dTcGFuJiYoaSs9altmXS5yb3dTcGFuLTEpfWZvcihhPTA7YTxoLmxlbmd0aDthKyspaFthXS5jb2xTcGFuKyt9YT1iLmNsb25lKCk7YS5pbnNlcnRBZnRlcihiKTthLmFwcGVuZEJvZ3VzKCk7Yi4kLmNvbFNwYW49YzthLiQuY29sU3Bhbj1nOzE9PWMmJmIucmVtb3ZlQXR0cmlidXRlKCJjb2xTcGFuIik7MT09ZyYmYS5yZW1vdmVBdHRyaWJ1dGUoImNvbFNwYW4iKTsKcmV0dXJuIGF9dmFyIHk9L14oPzp0ZHx0aCkkLztDS0VESVRPUi5wbHVnaW5zLnRhYmxldG9vbHM9e3JlcXVpcmVzOiJ0YWJsZSxkaWFsb2csY29udGV4dG1lbnUiLGluaXQ6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gZChhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGF8fHt9LHtjb250ZXh0U2Vuc2l0aXZlOjEscmVmcmVzaDpmdW5jdGlvbihhLGIpe3RoaXMuc2V0U3RhdGUoYi5jb250YWlucyh7dGQ6MSx0aDoxfSwxKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX0pfWZ1bmN0aW9uIGIoYSxiKXt2YXIgYz1lLmFkZENvbW1hbmQoYSxiKTtlLmFkZEZlYXR1cmUoYyl9dmFyIGM9ZS5sYW5nLnRhYmxlO2IoImNlbGxQcm9wZXJ0aWVzIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZCgiY2VsbFByb3BlcnRpZXMiLGQoe2FsbG93ZWRDb250ZW50OiJ0ZCB0aHt3aWR0aCxoZWlnaHQsYm9yZGVyLWNvbG9yLGJhY2tncm91bmQtY29sb3Isd2hpdGUtc3BhY2UsdmVydGljYWwtYWxpZ24sdGV4dC1hbGlnbn1bY29sc3Bhbixyb3dzcGFuXSIsCnJlcXVpcmVkQ29udGVudDoidGFibGUifSkpKTtDS0VESVRPUi5kaWFsb2cuYWRkKCJjZWxsUHJvcGVydGllcyIsdGhpcy5wYXRoKyJkaWFsb2dzL3RhYmxlQ2VsbC5qcyIpO2IoInJvd0RlbGV0ZSIsZCh7cmVxdWlyZWRDb250ZW50OiJ0YWJsZSIsZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7bShxKGEpKX19KSk7Yigicm93SW5zZXJ0QmVmb3JlIixkKHtyZXF1aXJlZENvbnRlbnQ6InRhYmxlIixleGVjOmZ1bmN0aW9uKGEpe2E9YS5nZXRTZWxlY3Rpb24oKTtvKGEsITApfX0pKTtiKCJyb3dJbnNlcnRBZnRlciIsZCh7cmVxdWlyZWRDb250ZW50OiJ0YWJsZSIsZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7byhhKX19KSk7YigiY29sdW1uRGVsZXRlIixkKHtyZXF1aXJlZENvbnRlbnQ6InRhYmxlIixleGVjOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYT1hLmdldFNlbGVjdGlvbigpLGE9cChhKSxiPWFbMF0sYz1hW2EubGVuZ3RoLTFdLGE9Yi5nZXRBc2NlbmRhbnQoInRhYmxlIiksCmQ9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChhKSxlLGosbD1bXSxuPTAsbz1kLmxlbmd0aDtuPG87bisrKWZvcih2YXIgaz0wLHE9ZFtuXS5sZW5ndGg7azxxO2srKylkW25dW2tdPT1iLiQmJihlPWspLGRbbl1ba109PWMuJCYmKGo9ayk7Zm9yKG49ZTtuPD1qO24rKylmb3Ioaz0wO2s8ZC5sZW5ndGg7aysrKWM9ZFtrXSxiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhLiQucm93c1trXSksYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoY1tuXSksYy4kJiYoMT09Yy4kLmNvbFNwYW4\/Yy5yZW1vdmUoKTpjLiQuY29sU3Bhbi09MSxrKz1jLiQucm93U3Bhbi0xLGIuJC5jZWxscy5sZW5ndGh8fGwucHVzaChiKSk7aj1hLiQucm93c1swXSYmYS4kLnJvd3NbMF0uY2VsbHM7ZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoaltlXXx8KGU\/altlLTFdOmEuJC5wYXJlbnROb2RlKSk7bC5sZW5ndGg9PW8mJmEucmVtb3ZlKCk7ZSYmbShlLCEwKX19KSk7YigiY29sdW1uSW5zZXJ0QmVmb3JlIiwKZCh7cmVxdWlyZWRDb250ZW50OiJ0YWJsZSIsZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7ayhhLCEwKX19KSk7YigiY29sdW1uSW5zZXJ0QWZ0ZXIiLGQoe3JlcXVpcmVkQ29udGVudDoidGFibGUiLGV4ZWM6ZnVuY3Rpb24oYSl7YT1hLmdldFNlbGVjdGlvbigpO2soYSl9fSkpO2IoImNlbGxEZWxldGUiLGQoe3JlcXVpcmVkQ29udGVudDoidGFibGUiLGV4ZWM6ZnVuY3Rpb24oYSl7YT1hLmdldFNlbGVjdGlvbigpO3QoYSl9fSkpO2IoImNlbGxNZXJnZSIsZCh7YWxsb3dlZENvbnRlbnQ6InRkW2NvbHNwYW4scm93c3Bhbl0iLHJlcXVpcmVkQ29udGVudDoidGRbY29sc3Bhbixyb3dzcGFuXSIsZXhlYzpmdW5jdGlvbihhKXttKHMoYS5nZXRTZWxlY3Rpb24oKSksITApfX0pKTtiKCJjZWxsTWVyZ2VSaWdodCIsZCh7YWxsb3dlZENvbnRlbnQ6InRkW2NvbHNwYW5dIixyZXF1aXJlZENvbnRlbnQ6InRkW2NvbHNwYW5dIixleGVjOmZ1bmN0aW9uKGEpe20ocyhhLmdldFNlbGVjdGlvbigpLAoicmlnaHQiKSwhMCl9fSkpO2IoImNlbGxNZXJnZURvd24iLGQoe2FsbG93ZWRDb250ZW50OiJ0ZFtyb3dzcGFuXSIscmVxdWlyZWRDb250ZW50OiJ0ZFtyb3dzcGFuXSIsZXhlYzpmdW5jdGlvbihhKXttKHMoYS5nZXRTZWxlY3Rpb24oKSwiZG93biIpLCEwKX19KSk7YigiY2VsbFZlcnRpY2FsU3BsaXQiLGQoe2FsbG93ZWRDb250ZW50OiJ0ZFtyb3dzcGFuXSIscmVxdWlyZWRDb250ZW50OiJ0ZFtyb3dzcGFuXSIsZXhlYzpmdW5jdGlvbihhKXttKHcoYS5nZXRTZWxlY3Rpb24oKSkpfX0pKTtiKCJjZWxsSG9yaXpvbnRhbFNwbGl0IixkKHthbGxvd2VkQ29udGVudDoidGRbY29sc3Bhbl0iLHJlcXVpcmVkQ29udGVudDoidGRbY29sc3Bhbl0iLGV4ZWM6ZnVuY3Rpb24oYSl7bSh4KGEuZ2V0U2VsZWN0aW9uKCkpKX19KSk7YigiY2VsbEluc2VydEJlZm9yZSIsZCh7cmVxdWlyZWRDb250ZW50OiJ0YWJsZSIsZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7dShhLCEwKX19KSk7CmIoImNlbGxJbnNlcnRBZnRlciIsZCh7cmVxdWlyZWRDb250ZW50OiJ0YWJsZSIsZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7dShhKX19KSk7ZS5hZGRNZW51SXRlbXMmJmUuYWRkTWVudUl0ZW1zKHt0YWJsZWNlbGw6e2xhYmVsOmMuY2VsbC5tZW51LGdyb3VwOiJ0YWJsZWNlbGwiLG9yZGVyOjEsZ2V0SXRlbXM6ZnVuY3Rpb24oKXt2YXIgYT1lLmdldFNlbGVjdGlvbigpLGI9cChhKTtyZXR1cm57dGFibGVjZWxsX2luc2VydEJlZm9yZTpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVjZWxsX2luc2VydEFmdGVyOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNlbGxfZGVsZXRlOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNlbGxfbWVyZ2U6cyhhLG51bGwsITApP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx0YWJsZWNlbGxfbWVyZ2VfcmlnaHQ6cyhhLCJyaWdodCIsITApP0NLRURJVE9SLlRSSVNUQVRFX09GRjoKQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsdGFibGVjZWxsX21lcmdlX2Rvd246cyhhLCJkb3duIiwhMCk\/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRhYmxlY2VsbF9zcGxpdF92ZXJ0aWNhbDp3KGEsITApP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx0YWJsZWNlbGxfc3BsaXRfaG9yaXpvbnRhbDp4KGEsITApP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx0YWJsZWNlbGxfcHJvcGVydGllczowPGIubGVuZ3RoP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRH19fSx0YWJsZWNlbGxfaW5zZXJ0QmVmb3JlOntsYWJlbDpjLmNlbGwuaW5zZXJ0QmVmb3JlLGdyb3VwOiJ0YWJsZWNlbGwiLGNvbW1hbmQ6ImNlbGxJbnNlcnRCZWZvcmUiLG9yZGVyOjV9LHRhYmxlY2VsbF9pbnNlcnRBZnRlcjp7bGFiZWw6Yy5jZWxsLmluc2VydEFmdGVyLApncm91cDoidGFibGVjZWxsIixjb21tYW5kOiJjZWxsSW5zZXJ0QWZ0ZXIiLG9yZGVyOjEwfSx0YWJsZWNlbGxfZGVsZXRlOntsYWJlbDpjLmNlbGwuZGVsZXRlQ2VsbCxncm91cDoidGFibGVjZWxsIixjb21tYW5kOiJjZWxsRGVsZXRlIixvcmRlcjoxNX0sdGFibGVjZWxsX21lcmdlOntsYWJlbDpjLmNlbGwubWVyZ2UsZ3JvdXA6InRhYmxlY2VsbCIsY29tbWFuZDoiY2VsbE1lcmdlIixvcmRlcjoxNn0sdGFibGVjZWxsX21lcmdlX3JpZ2h0OntsYWJlbDpjLmNlbGwubWVyZ2VSaWdodCxncm91cDoidGFibGVjZWxsIixjb21tYW5kOiJjZWxsTWVyZ2VSaWdodCIsb3JkZXI6MTd9LHRhYmxlY2VsbF9tZXJnZV9kb3duOntsYWJlbDpjLmNlbGwubWVyZ2VEb3duLGdyb3VwOiJ0YWJsZWNlbGwiLGNvbW1hbmQ6ImNlbGxNZXJnZURvd24iLG9yZGVyOjE4fSx0YWJsZWNlbGxfc3BsaXRfaG9yaXpvbnRhbDp7bGFiZWw6Yy5jZWxsLnNwbGl0SG9yaXpvbnRhbCxncm91cDoidGFibGVjZWxsIiwKY29tbWFuZDoiY2VsbEhvcml6b250YWxTcGxpdCIsb3JkZXI6MTl9LHRhYmxlY2VsbF9zcGxpdF92ZXJ0aWNhbDp7bGFiZWw6Yy5jZWxsLnNwbGl0VmVydGljYWwsZ3JvdXA6InRhYmxlY2VsbCIsY29tbWFuZDoiY2VsbFZlcnRpY2FsU3BsaXQiLG9yZGVyOjIwfSx0YWJsZWNlbGxfcHJvcGVydGllczp7bGFiZWw6Yy5jZWxsLnRpdGxlLGdyb3VwOiJ0YWJsZWNlbGxwcm9wZXJ0aWVzIixjb21tYW5kOiJjZWxsUHJvcGVydGllcyIsb3JkZXI6MjF9LHRhYmxlcm93OntsYWJlbDpjLnJvdy5tZW51LGdyb3VwOiJ0YWJsZXJvdyIsb3JkZXI6MSxnZXRJdGVtczpmdW5jdGlvbigpe3JldHVybnt0YWJsZXJvd19pbnNlcnRCZWZvcmU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlcm93X2luc2VydEFmdGVyOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZXJvd19kZWxldGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfX19LHRhYmxlcm93X2luc2VydEJlZm9yZTp7bGFiZWw6Yy5yb3cuaW5zZXJ0QmVmb3JlLApncm91cDoidGFibGVyb3ciLGNvbW1hbmQ6InJvd0luc2VydEJlZm9yZSIsb3JkZXI6NX0sdGFibGVyb3dfaW5zZXJ0QWZ0ZXI6e2xhYmVsOmMucm93Lmluc2VydEFmdGVyLGdyb3VwOiJ0YWJsZXJvdyIsY29tbWFuZDoicm93SW5zZXJ0QWZ0ZXIiLG9yZGVyOjEwfSx0YWJsZXJvd19kZWxldGU6e2xhYmVsOmMucm93LmRlbGV0ZVJvdyxncm91cDoidGFibGVyb3ciLGNvbW1hbmQ6InJvd0RlbGV0ZSIsb3JkZXI6MTV9LHRhYmxlY29sdW1uOntsYWJlbDpjLmNvbHVtbi5tZW51LGdyb3VwOiJ0YWJsZWNvbHVtbiIsb3JkZXI6MSxnZXRJdGVtczpmdW5jdGlvbigpe3JldHVybnt0YWJsZWNvbHVtbl9pbnNlcnRCZWZvcmU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlY29sdW1uX2luc2VydEFmdGVyOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNvbHVtbl9kZWxldGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfX19LHRhYmxlY29sdW1uX2luc2VydEJlZm9yZTp7bGFiZWw6Yy5jb2x1bW4uaW5zZXJ0QmVmb3JlLApncm91cDoidGFibGVjb2x1bW4iLGNvbW1hbmQ6ImNvbHVtbkluc2VydEJlZm9yZSIsb3JkZXI6NX0sdGFibGVjb2x1bW5faW5zZXJ0QWZ0ZXI6e2xhYmVsOmMuY29sdW1uLmluc2VydEFmdGVyLGdyb3VwOiJ0YWJsZWNvbHVtbiIsY29tbWFuZDoiY29sdW1uSW5zZXJ0QWZ0ZXIiLG9yZGVyOjEwfSx0YWJsZWNvbHVtbl9kZWxldGU6e2xhYmVsOmMuY29sdW1uLmRlbGV0ZUNvbHVtbixncm91cDoidGFibGVjb2x1bW4iLGNvbW1hbmQ6ImNvbHVtbkRlbGV0ZSIsb3JkZXI6MTV9fSk7ZS5jb250ZXh0TWVudSYmZS5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihhLGIsYyl7cmV0dXJuKGE9Yy5jb250YWlucyh7dGQ6MSx0aDoxfSwxKSkmJiFhLmlzUmVhZE9ubHkoKT97dGFibGVjZWxsOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZXJvdzpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVjb2x1bW46Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfTpudWxsfSl9LGdldFNlbGVjdGVkQ2VsbHM6cH07CkNLRURJVE9SLnBsdWdpbnMuYWRkKCJ0YWJsZXRvb2xzIixDS0VESVRPUi5wbHVnaW5zLnRhYmxldG9vbHMpfSkoKTtDS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwPWZ1bmN0aW9uKHApe2Zvcih2YXIgcD1wLiQucm93cyxvPS0xLHE9W10scj0wO3I8cC5sZW5ndGg7cisrKXtvKys7IXFbb10mJihxW29dPVtdKTtmb3IodmFyIGs9LTEsdT0wO3U8cFtyXS5jZWxscy5sZW5ndGg7dSsrKXt2YXIgdD1wW3JdLmNlbGxzW3VdO2ZvcihrKys7cVtvXVtrXTspaysrO2Zvcih2YXIgbT1pc05hTih0LmNvbFNwYW4pPzE6dC5jb2xTcGFuLHQ9aXNOYU4odC5yb3dTcGFuKT8xOnQucm93U3Bhbix2PTA7djx0O3YrKyl7cVtvK3ZdfHwocVtvK3ZdPVtdKTtmb3IodmFyIHM9MDtzPG07cysrKXFbbyt2XVtrK3NdPXBbcl0uY2VsbHNbdV19ays9bS0xfX1yZXR1cm4gcX07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZyhhKXt0aGlzLmVkaXRvcj1hO3RoaXMucmVzZXQoKX1DS0VESVRPUi5wbHVnaW5zLmFkZCgidW5kbyIse2luaXQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhhKXtiLmVuYWJsZWQmJiExIT09YS5kYXRhLmNvbW1hbmQuY2FuVW5kbyYmYi5zYXZlKCl9ZnVuY3Rpb24gZCgpe2IuZW5hYmxlZD1hLnJlYWRPbmx5PyExOiJ3eXNpd3lnIj09YS5tb2RlO2Iub25DaGFuZ2UoKX12YXIgYj1hLnVuZG9NYW5hZ2VyPW5ldyBnKGEpLGU9YS5hZGRDb21tYW5kKCJ1bmRvIix7ZXhlYzpmdW5jdGlvbigpe2IudW5kbygpJiYoYS5zZWxlY3Rpb25DaGFuZ2UoKSx0aGlzLmZpcmUoImFmdGVyVW5kbyIpKX0sc3RhcnREaXNhYmxlZDohMCxjYW5VbmRvOiExfSksZj1hLmFkZENvbW1hbmQoInJlZG8iLHtleGVjOmZ1bmN0aW9uKCl7Yi5yZWRvKCkmJihhLnNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuZmlyZSgiYWZ0ZXJSZWRvIikpfSxzdGFydERpc2FibGVkOiEwLGNhblVuZG86ITF9KTsKYS5zZXRLZXlzdHJva2UoW1tDS0VESVRPUi5DVFJMKzkwLCJ1bmRvIl0sW0NLRURJVE9SLkNUUkwrODksInJlZG8iXSxbQ0tFRElUT1IuQ1RSTCtDS0VESVRPUi5TSElGVCs5MCwicmVkbyJdXSk7Yi5vbkNoYW5nZT1mdW5jdGlvbigpe2Uuc2V0U3RhdGUoYi51bmRvYWJsZSgpP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7Zi5zZXRTdGF0ZShiLnJlZG9hYmxlKCk\/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX07YS5vbigiYmVmb3JlQ29tbWFuZEV4ZWMiLGMpO2Eub24oImFmdGVyQ29tbWFuZEV4ZWMiLGMpO2Eub24oInNhdmVTbmFwc2hvdCIsZnVuY3Rpb24oYSl7Yi5zYXZlKGEuZGF0YSYmYS5kYXRhLmNvbnRlbnRPbmx5KX0pO2Eub24oImNvbnRlbnREb20iLGZ1bmN0aW9uKCl7YS5lZGl0YWJsZSgpLm9uKCJrZXlkb3duIixmdW5jdGlvbihhKXthPWEuZGF0YS5nZXRLZXkoKTsoOD09YXx8NDY9PQphKSYmYi50eXBlKGEsMCl9KTthLmVkaXRhYmxlKCkub24oImtleXByZXNzIixmdW5jdGlvbihhKXtiLnR5cGUoYS5kYXRhLmdldEtleSgpLDEpfSl9KTthLm9uKCJiZWZvcmVNb2RlVW5sb2FkIixmdW5jdGlvbigpeyJ3eXNpd3lnIj09YS5tb2RlJiZiLnNhdmUoITApfSk7YS5vbigibW9kZSIsZCk7YS5vbigicmVhZE9ubHkiLGQpO2EudWkuYWRkQnV0dG9uJiYoYS51aS5hZGRCdXR0b24oIlVuZG8iLHtsYWJlbDphLmxhbmcudW5kby51bmRvLGNvbW1hbmQ6InVuZG8iLHRvb2xiYXI6InVuZG8sMTAifSksYS51aS5hZGRCdXR0b24oIlJlZG8iLHtsYWJlbDphLmxhbmcudW5kby5yZWRvLGNvbW1hbmQ6InJlZG8iLHRvb2xiYXI6InVuZG8sMjAifSkpO2EucmVzZXRVbmRvPWZ1bmN0aW9uKCl7Yi5yZXNldCgpO2EuZmlyZSgic2F2ZVNuYXBzaG90Iil9O2Eub24oInVwZGF0ZVNuYXBzaG90IixmdW5jdGlvbigpe2IuY3VycmVudEltYWdlJiZiLnVwZGF0ZSgpfSk7YS5vbigibG9ja1NuYXBzaG90IiwKZnVuY3Rpb24oYSl7Yi5sb2NrKGEuZGF0YSYmYS5kYXRhLmRvbnRVcGRhdGUpfSk7YS5vbigidW5sb2NrU25hcHNob3QiLGIudW5sb2NrLGIpfX0pO0NLRURJVE9SLnBsdWdpbnMudW5kbz17fTt2YXIgZj1DS0VESVRPUi5wbHVnaW5zLnVuZG8uSW1hZ2U9ZnVuY3Rpb24oYSxjKXt0aGlzLmVkaXRvcj1hO2EuZmlyZSgiYmVmb3JlVW5kb0ltYWdlIik7dmFyIGQ9YS5nZXRTbmFwc2hvdCgpO0NLRURJVE9SLmVudi5pZSYmZCYmKGQ9ZC5yZXBsYWNlKC9ccytkYXRhLWNrZS1leHBhbmRvPSIuKj8iL2csIiIpKTt0aGlzLmNvbnRlbnRzPWQ7Y3x8KHRoaXMuYm9va21hcmtzPShkPWQmJmEuZ2V0U2VsZWN0aW9uKCkpJiZkLmNyZWF0ZUJvb2ttYXJrczIoITApKTthLmZpcmUoImFmdGVyVW5kb0ltYWdlIil9LGg9L1xiKD86aHJlZnxzcmN8bmFtZSk9IlteIl0qPyIvZ2k7Zi5wcm90b3R5cGU9e2VxdWFsc0NvbnRlbnQ6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5jb250ZW50cyxhPWEuY29udGVudHM7CmlmKENLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5pZTZDb21wYXQpKWM9Yy5yZXBsYWNlKGgsIiIpLGE9YS5yZXBsYWNlKGgsIiIpO3JldHVybiBjIT1hPyExOiEwfSxlcXVhbHNTZWxlY3Rpb246ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5ib29rbWFya3MsYT1hLmJvb2ttYXJrcztpZihjfHxhKXtpZighY3x8IWF8fGMubGVuZ3RoIT1hLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGI9Y1tkXSxlPWFbZF07aWYoYi5zdGFydE9mZnNldCE9ZS5zdGFydE9mZnNldHx8Yi5lbmRPZmZzZXQhPWUuZW5kT2Zmc2V0fHwhQ0tFRElUT1IudG9vbHMuYXJyYXlDb21wYXJlKGIuc3RhcnQsZS5zdGFydCl8fCFDS0VESVRPUi50b29scy5hcnJheUNvbXBhcmUoYi5lbmQsZS5lbmQpKXJldHVybiExfX1yZXR1cm4hMH19O2cucHJvdG90eXBlPXt0eXBlOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9IWMmJmEhPXRoaXMubGFzdEtleXN0cm9rZSwKYj10aGlzLmVkaXRvcjtpZighdGhpcy50eXBpbmd8fGMmJiF0aGlzLndhc0NoYXJhY3Rlcnx8ZCl7dmFyIGU9bmV3IGYoYiksZz10aGlzLnNuYXBzaG90cy5sZW5ndGg7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBhPWIuZ2V0U25hcHNob3QoKTtDS0VESVRPUi5lbnYuaWUmJihhPWEucmVwbGFjZSgvXHMrZGF0YS1ja2UtZXhwYW5kbz0iLio\/Ii9nLCIiKSk7ZS5jb250ZW50cyE9YSYmZz09dGhpcy5zbmFwc2hvdHMubGVuZ3RoJiYodGhpcy50eXBpbmc9ITAsdGhpcy5zYXZlKCExLGUsITEpfHx0aGlzLnNuYXBzaG90cy5zcGxpY2UodGhpcy5pbmRleCsxLHRoaXMuc25hcHNob3RzLmxlbmd0aC10aGlzLmluZGV4LTEpLHRoaXMuaGFzVW5kbz0hMCx0aGlzLmhhc1JlZG89ITEsdGhpcy5tb2RpZmllcnNDb3VudD10aGlzLnR5cGVzQ291bnQ9MSx0aGlzLm9uQ2hhbmdlKCkpfSwwLHRoaXMpfXRoaXMubGFzdEtleXN0cm9rZT1hOyh0aGlzLndhc0NoYXJhY3Rlcj0KYyk\/KHRoaXMubW9kaWZpZXJzQ291bnQ9MCx0aGlzLnR5cGVzQ291bnQrKywyNTx0aGlzLnR5cGVzQ291bnQ\/KHRoaXMuc2F2ZSghMSxudWxsLCExKSx0aGlzLnR5cGVzQ291bnQ9MSk6c2V0VGltZW91dChmdW5jdGlvbigpe2IuZmlyZSgiY2hhbmdlIil9LDApKToodGhpcy50eXBlc0NvdW50PTAsdGhpcy5tb2RpZmllcnNDb3VudCsrLDI1PHRoaXMubW9kaWZpZXJzQ291bnQ\/KHRoaXMuc2F2ZSghMSxudWxsLCExKSx0aGlzLm1vZGlmaWVyc0NvdW50PTEpOnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmZpcmUoImNoYW5nZSIpfSwwKSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5sYXN0S2V5c3Ryb2tlPTA7dGhpcy5zbmFwc2hvdHM9W107dGhpcy5pbmRleD0tMTt0aGlzLmxpbWl0PXRoaXMuZWRpdG9yLmNvbmZpZy51bmRvU3RhY2tTaXplfHwyMDt0aGlzLmN1cnJlbnRJbWFnZT1udWxsO3RoaXMuaGFzUmVkbz10aGlzLmhhc1VuZG89ITE7dGhpcy5sb2NrZWQ9bnVsbDt0aGlzLnJlc2V0VHlwZSgpfSwKcmVzZXRUeXBlOmZ1bmN0aW9uKCl7dGhpcy50eXBpbmc9ITE7ZGVsZXRlIHRoaXMubGFzdEtleXN0cm9rZTt0aGlzLm1vZGlmaWVyc0NvdW50PXRoaXMudHlwZXNDb3VudD0wfSxmaXJlQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5oYXNVbmRvPSEhdGhpcy5nZXROZXh0SW1hZ2UoITApO3RoaXMuaGFzUmVkbz0hIXRoaXMuZ2V0TmV4dEltYWdlKCExKTt0aGlzLnJlc2V0VHlwZSgpO3RoaXMub25DaGFuZ2UoKX0sc2F2ZTpmdW5jdGlvbihhLGMsZCl7aWYodGhpcy5sb2NrZWQpcmV0dXJuITE7dmFyIGI9dGhpcy5zbmFwc2hvdHM7Y3x8KGM9bmV3IGYodGhpcy5lZGl0b3IpKTtpZighMT09PWMuY29udGVudHMpcmV0dXJuITE7aWYodGhpcy5jdXJyZW50SW1hZ2UpaWYoYy5lcXVhbHNDb250ZW50KHRoaXMuY3VycmVudEltYWdlKSl7aWYoYXx8Yy5lcXVhbHNTZWxlY3Rpb24odGhpcy5jdXJyZW50SW1hZ2UpKXJldHVybiExfWVsc2UgdGhpcy5lZGl0b3IuZmlyZSgiY2hhbmdlIik7Yi5zcGxpY2UodGhpcy5pbmRleCsKMSxiLmxlbmd0aC10aGlzLmluZGV4LTEpO2IubGVuZ3RoPT10aGlzLmxpbWl0JiZiLnNoaWZ0KCk7dGhpcy5pbmRleD1iLnB1c2goYyktMTt0aGlzLmN1cnJlbnRJbWFnZT1jOyExIT09ZCYmdGhpcy5maXJlQ2hhbmdlKCk7cmV0dXJuITB9LHJlc3RvcmVJbWFnZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLmVkaXRvcixkO2EuYm9va21hcmtzJiYoYy5mb2N1cygpLGQ9Yy5nZXRTZWxlY3Rpb24oKSk7dGhpcy5sb2NrZWQ9MTt0aGlzLmVkaXRvci5sb2FkU25hcHNob3QoYS5jb250ZW50cyk7YS5ib29rbWFya3M\/ZC5zZWxlY3RCb29rbWFya3MoYS5ib29rbWFya3MpOkNLRURJVE9SLmVudi5pZSYmKGQ9dGhpcy5lZGl0b3IuZG9jdW1lbnQuZ2V0Qm9keSgpLiQuY3JlYXRlVGV4dFJhbmdlKCksZC5jb2xsYXBzZSghMCksZC5zZWxlY3QoKSk7dGhpcy5sb2NrZWQ9MDt0aGlzLmluZGV4PWEuaW5kZXg7dGhpcy5jdXJyZW50SW1hZ2U9dGhpcy5zbmFwc2hvdHNbdGhpcy5pbmRleF07dGhpcy51cGRhdGUoKTsKdGhpcy5maXJlQ2hhbmdlKCk7Yy5maXJlKCJjaGFuZ2UiKX0sZ2V0TmV4dEltYWdlOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuc25hcHNob3RzLGQ9dGhpcy5jdXJyZW50SW1hZ2UsYjtpZihkKWlmKGEpZm9yKGI9dGhpcy5pbmRleC0xOzA8PWI7Yi0tKXtpZihhPWNbYl0sIWQuZXF1YWxzQ29udGVudChhKSlyZXR1cm4gYS5pbmRleD1iLGF9ZWxzZSBmb3IoYj10aGlzLmluZGV4KzE7YjxjLmxlbmd0aDtiKyspaWYoYT1jW2JdLCFkLmVxdWFsc0NvbnRlbnQoYSkpcmV0dXJuIGEuaW5kZXg9YixhO3JldHVybiBudWxsfSxyZWRvYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWQmJnRoaXMuaGFzUmVkb30sdW5kb2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkJiZ0aGlzLmhhc1VuZG99LHVuZG86ZnVuY3Rpb24oKXtpZih0aGlzLnVuZG9hYmxlKCkpe3RoaXMuc2F2ZSghMCk7dmFyIGE9dGhpcy5nZXROZXh0SW1hZ2UoITApO2lmKGEpcmV0dXJuIHRoaXMucmVzdG9yZUltYWdlKGEpLAohMH1yZXR1cm4hMX0scmVkbzpmdW5jdGlvbigpe2lmKHRoaXMucmVkb2FibGUoKSYmKHRoaXMuc2F2ZSghMCksdGhpcy5yZWRvYWJsZSgpKSl7dmFyIGE9dGhpcy5nZXROZXh0SW1hZ2UoITEpO2lmKGEpcmV0dXJuIHRoaXMucmVzdG9yZUltYWdlKGEpLCEwfXJldHVybiExfSx1cGRhdGU6ZnVuY3Rpb24oYSl7aWYoIXRoaXMubG9ja2VkKXthfHwoYT1uZXcgZih0aGlzLmVkaXRvcikpO2Zvcih2YXIgYz10aGlzLmluZGV4LGQ9dGhpcy5zbmFwc2hvdHM7MDxjJiZ0aGlzLmN1cnJlbnRJbWFnZS5lcXVhbHNDb250ZW50KGRbYy0xXSk7KWMtPTE7ZC5zcGxpY2UoYyx0aGlzLmluZGV4LWMrMSxhKTt0aGlzLmluZGV4PWM7dGhpcy5jdXJyZW50SW1hZ2U9YX19LGxvY2s6ZnVuY3Rpb24oYSl7dGhpcy5sb2NrZWQ\/dGhpcy5sb2NrZWQubGV2ZWwrKzphP3RoaXMubG9ja2VkPXtsZXZlbDoxfTooYT1uZXcgZih0aGlzLmVkaXRvciwhMCksdGhpcy5sb2NrZWQ9e3VwZGF0ZTp0aGlzLmN1cnJlbnRJbWFnZSYmCnRoaXMuY3VycmVudEltYWdlLmVxdWFsc0NvbnRlbnQoYSk\/YTpudWxsLGxldmVsOjF9KX0sdW5sb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy5sb2NrZWQmJiEtLXRoaXMubG9ja2VkLmxldmVsKXt2YXIgYT10aGlzLmxvY2tlZC51cGRhdGUsYz1hJiZuZXcgZih0aGlzLmVkaXRvciwhMCk7dGhpcy5sb2NrZWQ9bnVsbDthJiYhYS5lcXVhbHNDb250ZW50KGMpJiZ0aGlzLnVwZGF0ZSgpfX19fSkoKTtDS0VESVRPUi5jb25maWcud3NjX3JlbW92ZUdsb2JhbFZhcmlhYmxlPSEwOwpDS0VESVRPUi5wbHVnaW5zLmFkZCgid3NjIix7cmVxdWlyZXM6ImRpYWxvZyIscGFyc2VBcGk6ZnVuY3Rpb24oYSl7YS5jb25maWcud3NjX29uRmluaXNoPSJmdW5jdGlvbiI9PT10eXBlb2YgYS5jb25maWcud3NjX29uRmluaXNoP2EuY29uZmlnLndzY19vbkZpbmlzaDpmdW5jdGlvbigpe307YS5jb25maWcud3NjX29uQ2xvc2U9ImZ1bmN0aW9uIj09PXR5cGVvZiBhLmNvbmZpZy53c2Nfb25DbG9zZT9hLmNvbmZpZy53c2Nfb25DbG9zZTpmdW5jdGlvbigpe319LHBhcnNlQ29uZmlnOmZ1bmN0aW9uKGEpe2EuY29uZmlnLndzY19jdXN0b21lcklkPWEuY29uZmlnLndzY19jdXN0b21lcklkfHxDS0VESVRPUi5jb25maWcud3NjX2N1c3RvbWVySWR8fCIxOnVhM3h3MS0yWHlHSjMtR1dydUQzLTZPRk5UMS1vWGN1QjEtblI2QnA0LWhnUUhjLUVjWW5nMy1zZFJYRzMtTk9mRmsiO2EuY29uZmlnLndzY19jdXN0b21EaWN0aW9uYXJ5SWRzPWEuY29uZmlnLndzY19jdXN0b21EaWN0aW9uYXJ5SWRzfHwKQ0tFRElUT1IuY29uZmlnLndzY19jdXN0b21EaWN0aW9uYXJ5SWRzfHwiIjthLmNvbmZpZy53c2NfdXNlckRpY3Rpb25hcnlOYW1lPWEuY29uZmlnLndzY191c2VyRGljdGlvbmFyeU5hbWV8fENLRURJVE9SLmNvbmZpZy53c2NfdXNlckRpY3Rpb25hcnlOYW1lfHwiIjthLmNvbmZpZy53c2NfY3VzdG9tTG9hZGVyU2NyaXB0PWEuY29uZmlnLndzY19jdXN0b21Mb2FkZXJTY3JpcHR8fENLRURJVE9SLmNvbmZpZy53c2NfY3VzdG9tTG9hZGVyU2NyaXB0O0NLRURJVE9SLmNvbmZpZy53c2NfY21kPWEuY29uZmlnLndzY19jbWR8fENLRURJVE9SLmNvbmZpZy53c2NfY21kfHwic3BlbGwiO0NLRURJVE9SLmNvbmZpZy53c2NfdmVyc2lvbj0idjQuMy4wLTFlNzQ4YTYifSxpbml0OmZ1bmN0aW9uKGEpe3RoaXMucGFyc2VDb25maWcoYSk7dGhpcy5wYXJzZUFwaShhKTthLmFkZENvbW1hbmQoImNoZWNrc3BlbGwiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKCJjaGVja3NwZWxsIikpLm1vZGVzPQp7d3lzaXd5ZzohQ0tFRElUT1IuZW52Lm9wZXJhJiYhQ0tFRElUT1IuZW52LmFpciYmZG9jdW1lbnQuZG9tYWluPT13aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9OyJ1bmRlZmluZWQiPT10eXBlb2YgYS5wbHVnaW5zLnNjYXl0JiZhLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oIlNwZWxsQ2hlY2tlciIse2xhYmVsOmEubGFuZy53c2MudG9vbGJhcixjb21tYW5kOiJjaGVja3NwZWxsIix0b29sYmFyOiJzcGVsbGNoZWNrZXIsMTAifSk7Q0tFRElUT1IuZGlhbG9nLmFkZCgiY2hlY2tzcGVsbCIsdGhpcy5wYXRoKyhDS0VESVRPUi5lbnYuaWUmJjg+PUNLRURJVE9SLmVudi52ZXJzaW9uPyJkaWFsb2dzL3dzY19pZS5qcyI6d2luZG93LnBvc3RNZXNzYWdlPyJkaWFsb2dzL3dzYy5qcyI6ImRpYWxvZ3Mvd3NjX2llLmpzIikpfX0pO0NLRURJVE9SLmNvbmZpZy5wbHVnaW5zPSdkaWFsb2d1aSxkaWFsb2csYWJvdXQsYTExeWhlbHAsYmFzaWNzdHlsZXMsYmxvY2txdW90ZSxjbGlwYm9hcmQscGFuZWwsZmxvYXRwYW5lbCxtZW51LGNvbnRleHRtZW51LHJlc2l6ZSxidXR0b24sdG9vbGJhcixlbGVtZW50c3BhdGgsZW50ZXJrZXksZW50aXRpZXMscG9wdXAsZmlsZWJyb3dzZXIsZmxvYXRpbmdzcGFjZSxsaXN0YmxvY2sscmljaGNvbWJvLGZvcm1hdCxob3Jpem9udGFscnVsZSxodG1sd3JpdGVyLHd5c2l3eWdhcmVhLGltYWdlLGluZGVudCxpbmRlbnRsaXN0LGZha2VvYmplY3RzLGxpbmssbGlzdCxtYWdpY2xpbmUsbWF4aW1pemUscGFzdGV0ZXh0LHBhc3RlZnJvbXdvcmQscmVtb3ZlZm9ybWF0LHNvdXJjZWFyZWEsc3BlY2lhbGNoYXIsbWVudWJ1dHRvbixzY2F5dCxzdHlsZXNjb21ibyx0YWIsdGFibGUsdGFibGV0b29scyx1bmRvLHdzYyc7Q0tFRElUT1IuY29uZmlnLnNraW49J21vb25vJzsoZnVuY3Rpb24oKSB7dmFyIHNldEljb25zID0gZnVuY3Rpb24oaWNvbnMsIHN0cmlwKSB7dmFyIHBhdGggPSBDS0VESVRPUi5nZXRVcmwoICdwbHVnaW5zLycgKyBzdHJpcCApO2ljb25zID0gaWNvbnMuc3BsaXQoICcsJyApO2ZvciAoIHZhciBpID0gMDsgaSA8IGljb25zLmxlbmd0aDsgaSsrIClDS0VESVRPUi5za2luLmljb25zWyBpY29uc1sgaSBdIF0gPSB7IHBhdGg6IHBhdGgsIG9mZnNldDogLWljb25zWyArK2kgXSwgYmdzaXplIDogaWNvbnNbICsraSBdIH07fTtpZiAoQ0tFRElUT1IuZW52LmhpZHBpKSBzZXRJY29ucygnYWJvdXQsMCwsYm9sZCwyNCwsaXRhbGljLDQ4LCxzdHJpa2UsNzIsLHN1YnNjcmlwdCw5Niwsc3VwZXJzY3JpcHQsMTIwLCx1bmRlcmxpbmUsMTQ0LCxibG9ja3F1b3RlLDE2OCwsY29weS1ydGwsMTkyLCxjb3B5LDIxNiwsY3V0LXJ0bCwyNDAsLGN1dCwyNjQsLHBhc3RlLXJ0bCwyODgsLHBhc3RlLDMxMiwsaG9yaXpvbnRhbHJ1bGUsMzM2LCxpbWFnZSwzNjAsLGluZGVudC1ydGwsMzg0LCxpbmRlbnQsNDA4LCxvdXRkZW50LXJ0bCw0MzIsLG91dGRlbnQsNDU2LCxhbmNob3ItcnRsLDQ4MCwsYW5jaG9yLDUwNCwsbGluayw1MjgsLHVubGluayw1NTIsLGJ1bGxldGVkbGlzdC1ydGwsNTc2LCxidWxsZXRlZGxpc3QsNjAwLCxudW1iZXJlZGxpc3QtcnRsLDYyNCwsbnVtYmVyZWRsaXN0LDY0OCwsbWF4aW1pemUsNjcyLCxwYXN0ZXRleHQtcnRsLDY5NiwscGFzdGV0ZXh0LDcyMCwscGFzdGVmcm9td29yZC1ydGwsNzQ0LCxwYXN0ZWZyb213b3JkLDc2OCwscmVtb3ZlZm9ybWF0LDc5Miwsc291cmNlLXJ0bCw4MTYsLHNvdXJjZSw4NDAsLHNwZWNpYWxjaGFyLDg2NCwsc2NheXQsODg4LCx0YWJsZSw5MTIsLHJlZG8tcnRsLDkzNiwscmVkbyw5NjAsLHVuZG8tcnRsLDk4NCwsdW5kbywxMDA4LCxzcGVsbGNoZWNrZXIsMTAzMiwnLCdpY29uc19oaWRwaS5wbmcnKTtlbHNlIHNldEljb25zKCdhYm91dCwwLGF1dG8sYm9sZCwyNCxhdXRvLGl0YWxpYyw0OCxhdXRvLHN0cmlrZSw3MixhdXRvLHN1YnNjcmlwdCw5NixhdXRvLHN1cGVyc2NyaXB0LDEyMCxhdXRvLHVuZGVybGluZSwxNDQsYXV0byxibG9ja3F1b3RlLDE2OCxhdXRvLGNvcHktcnRsLDE5MixhdXRvLGNvcHksMjE2LGF1dG8sY3V0LXJ0bCwyNDAsYXV0byxjdXQsMjY0LGF1dG8scGFzdGUtcnRsLDI4OCxhdXRvLHBhc3RlLDMxMixhdXRvLGhvcml6b250YWxydWxlLDMzNixhdXRvLGltYWdlLDM2MCxhdXRvLGluZGVudC1ydGwsMzg0LGF1dG8saW5kZW50LDQwOCxhdXRvLG91dGRlbnQtcnRsLDQzMixhdXRvLG91dGRlbnQsNDU2LGF1dG8sYW5jaG9yLXJ0bCw0ODAsYXV0byxhbmNob3IsNTA0LGF1dG8sbGluayw1MjgsYXV0byx1bmxpbmssNTUyLGF1dG8sYnVsbGV0ZWRsaXN0LXJ0bCw1NzYsYXV0byxidWxsZXRlZGxpc3QsNjAwLGF1dG8sbnVtYmVyZWRsaXN0LXJ0bCw2MjQsYXV0byxudW1iZXJlZGxpc3QsNjQ4LGF1dG8sbWF4aW1pemUsNjcyLGF1dG8scGFzdGV0ZXh0LXJ0bCw2OTYsYXV0byxwYXN0ZXRleHQsNzIwLGF1dG8scGFzdGVmcm9td29yZC1ydGwsNzQ0LGF1dG8scGFzdGVmcm9td29yZCw3NjgsYXV0byxyZW1vdmVmb3JtYXQsNzkyLGF1dG8sc291cmNlLXJ0bCw4MTYsYXV0byxzb3VyY2UsODQwLGF1dG8sc3BlY2lhbGNoYXIsODY0LGF1dG8sc2NheXQsODg4LGF1dG8sdGFibGUsOTEyLGF1dG8scmVkby1ydGwsOTM2LGF1dG8scmVkbyw5NjAsYXV0byx1bmRvLXJ0bCw5ODQsYXV0byx1bmRvLDEwMDgsYXV0byxzcGVsbGNoZWNrZXIsMTAzMixhdXRvJywnaWNvbnMucG5nJyk7fSkoKTtDS0VESVRPUi5sYW5nLmxhbmd1YWdlcz17ImFmIjoxLCJzcSI6MSwiYXIiOjEsImV1IjoxLCJibiI6MSwiYnMiOjEsImJnIjoxLCJjYSI6MSwiemgtY24iOjEsInpoIjoxLCJociI6MSwiY3MiOjEsImRhIjoxLCJubCI6MSwiZW4iOjEsImVuLWF1IjoxLCJlbi1jYSI6MSwiZW4tZ2IiOjEsImVvIjoxLCJldCI6MSwiZm8iOjEsImZpIjoxLCJmciI6MSwiZnItY2EiOjEsImdsIjoxLCJrYSI6MSwiZGUiOjEsImVsIjoxLCJndSI6MSwiaGUiOjEsImhpIjoxLCJodSI6MSwiaXMiOjEsImlkIjoxLCJpdCI6MSwiamEiOjEsImttIjoxLCJrbyI6MSwia3UiOjEsImx2IjoxLCJsdCI6MSwibWsiOjEsIm1zIjoxLCJtbiI6MSwibm8iOjEsIm5iIjoxLCJmYSI6MSwicGwiOjEsInB0LWJyIjoxLCJwdCI6MSwicm8iOjEsInJ1IjoxLCJzciI6MSwic3ItbGF0biI6MSwic2kiOjEsInNrIjoxLCJzbCI6MSwiZXMiOjEsInN2IjoxLCJ0aCI6MSwidHIiOjEsInVnIjoxLCJ1ayI6MSwidmkiOjEsImN5IjoxfTt9KCkpOw==",
    "size": "459952"
}