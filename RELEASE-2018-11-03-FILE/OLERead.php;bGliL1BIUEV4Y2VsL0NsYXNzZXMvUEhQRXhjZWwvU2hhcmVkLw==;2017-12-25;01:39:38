{
    "namaFile": "lib\/PHPExcel\/Classes\/PHPExcel\/Shared\/OLERead.php",
    "lastUpdate": "2017-12-25+01:39:38.00",
    "contentFile": "PD9waHAKLyoqCiAqIFBIUEV4Y2VsCiAqCiAqIENvcHlyaWdodCAoYykgMjAwNiAtIDIwMTUgUEhQRXhjZWwKICoKICogVGhpcyBsaWJyYXJ5IGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vcgogKiBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljCiAqIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlcgogKiB2ZXJzaW9uIDIuMSBvZiB0aGUgTGljZW5zZSwgb3IgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KICoKICogVGhpcyBsaWJyYXJ5IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUgR05VCiAqIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCiAqCiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMKICogTGljZW5zZSBhbG9uZyB3aXRoIHRoaXMgbGlicmFyeTsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZQogKiBGb3VuZGF0aW9uLCBJbmMuLCA1MSBGcmFua2xpbiBTdHJlZXQsIEZpZnRoIEZsb29yLCBCb3N0b24sIE1BICAwMjExMC0xMzAxICBVU0EKICoKICogQGNhdGVnb3J5ICAgUEhQRXhjZWwKICogQHBhY2thZ2UgICAgUEhQRXhjZWxfU2hhcmVkCiAqIEBjb3B5cmlnaHQgIENvcHlyaWdodCAoYykgMjAwNiAtIDIwMTUgUEhQRXhjZWwgKGh0dHA6Ly93d3cuY29kZXBsZXguY29tL1BIUEV4Y2VsKQogKiBAbGljZW5zZSAgICBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvb2xkLWxpY2Vuc2VzL2xncGwtMi4xLnR4dCAgICBMR1BMCiAqIEB2ZXJzaW9uICAgICMjVkVSU0lPTiMjLCAjI0RBVEUjIwogKi8KCmRlZmluZWQoJ0lERU5USUZJRVJfT0xFJykgfHwKICAgIGRlZmluZSgnSURFTlRJRklFUl9PTEUnLCBwYWNrKCdDQ0NDQ0NDQycsIDB4ZDAsIDB4Y2YsIDB4MTEsIDB4ZTAsIDB4YTEsIDB4YjEsIDB4MWEsIDB4ZTEpKTsKCmNsYXNzIFBIUEV4Y2VsX1NoYXJlZF9PTEVSZWFkCnsKICAgIHByaXZhdGUgJGRhdGEgPSAnJzsKCiAgICAvLyBPTEUgaWRlbnRpZmllcgogICAgY29uc3QgSURFTlRJRklFUl9PTEUgICAgICAgICAgICAgICAgICAgID0gSURFTlRJRklFUl9PTEU7CgogICAgLy8gU2l6ZSBvZiBhIHNlY3RvciA9IDUxMiBieXRlcwogICAgY29uc3QgQklHX0JMT0NLX1NJWkUgICAgICAgICAgICAgICAgICAgID0gMHgyMDA7CgogICAgLy8gU2l6ZSBvZiBhIHNob3J0IHNlY3RvciA9IDY0IGJ5dGVzCiAgICBjb25zdCBTTUFMTF9CTE9DS19TSVpFICAgICAgICAgICAgICAgICAgPSAweDQwOwoKICAgIC8vIFNpemUgb2YgYSBkaXJlY3RvcnkgZW50cnkgYWx3YXlzID0gMTI4IGJ5dGVzCiAgICBjb25zdCBQUk9QRVJUWV9TVE9SQUdFX0JMT0NLX1NJWkUgICAgICAgPSAweDgwOwoKICAgIC8vIE1pbmltdW0gc2l6ZSBvZiBhIHN0YW5kYXJkIHN0cmVhbSA9IDQwOTYgYnl0ZXMsIHN0cmVhbXMgc21hbGxlciB0aGFuIHRoaXMgYXJlIHN0b3JlZCBhcyBzaG9ydCBzdHJlYW1zCiAgICBjb25zdCBTTUFMTF9CTE9DS19USFJFU0hPTEQgICAgICAgICAgICAgPSAweDEwMDA7CgogICAgLy8gaGVhZGVyIG9mZnNldHMKICAgIGNvbnN0IE5VTV9CSUdfQkxPQ0tfREVQT1RfQkxPQ0tTX1BPUyAgICA9IDB4MmM7CiAgICBjb25zdCBST09UX1NUQVJUX0JMT0NLX1BPUyAgICAgICAgICAgICAgPSAweDMwOwogICAgY29uc3QgU01BTExfQkxPQ0tfREVQT1RfQkxPQ0tfUE9TICAgICAgID0gMHgzYzsKICAgIGNvbnN0IEVYVEVOU0lPTl9CTE9DS19QT1MgICAgICAgICAgICAgICA9IDB4NDQ7CiAgICBjb25zdCBOVU1fRVhURU5TSU9OX0JMT0NLX1BPUyAgICAgICAgICAgPSAweDQ4OwogICAgY29uc3QgQklHX0JMT0NLX0RFUE9UX0JMT0NLU19QT1MgICAgICAgID0gMHg0YzsKCiAgICAvLyBwcm9wZXJ0eSBzdG9yYWdlIG9mZnNldHMgKGRpcmVjdG9yeSBvZmZzZXRzKQogICAgY29uc3QgU0laRV9PRl9OQU1FX1BPUyAgICAgICAgICAgICAgICAgID0gMHg0MDsKICAgIGNvbnN0IFRZUEVfUE9TICAgICAgICAgICAgICAgICAgICAgICAgICA9IDB4NDI7CiAgICBjb25zdCBTVEFSVF9CTE9DS19QT1MgICAgICAgICAgICAgICAgICAgPSAweDc0OwogICAgY29uc3QgU0laRV9QT1MgICAgICAgICAgICAgICAgICAgICAgICAgID0gMHg3ODsKCgoKICAgIHB1YmxpYyAkd3JrYm9vayAgICAgICAgICAgICAgICAgICAgICAgICA9IG51bGw7CiAgICBwdWJsaWMgJHN1bW1hcnlJbmZvcm1hdGlvbiAgICAgICAgICAgICAgPSBudWxsOwogICAgcHVibGljICRkb2N1bWVudFN1bW1hcnlJbmZvcm1hdGlvbiAgICAgID0gbnVsbDsKCgogICAgLyoqCiAgICAgKiBSZWFkIHRoZSBmaWxlCiAgICAgKgogICAgICogQHBhcmFtICRzRmlsZU5hbWUgc3RyaW5nIEZpbGVuYW1lCiAgICAgKiBAdGhyb3dzIFBIUEV4Y2VsX1JlYWRlcl9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHJlYWQoJHNGaWxlTmFtZSkKICAgIHsKICAgICAgICAvLyBDaGVjayBpZiBmaWxlIGV4aXN0cyBhbmQgaXMgcmVhZGFibGUKICAgICAgICBpZiAoIWlzX3JlYWRhYmxlKCRzRmlsZU5hbWUpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBQSFBFeGNlbF9SZWFkZXJfRXhjZXB0aW9uKCJDb3VsZCBub3Qgb3BlbiAiIC4gJHNGaWxlTmFtZSAuICIgZm9yIHJlYWRpbmchIEZpbGUgZG9lcyBub3QgZXhpc3QsIG9yIGl0IGlzIG5vdCByZWFkYWJsZS4iKTsKICAgICAgICB9CgogICAgICAgIC8vIEdldCB0aGUgZmlsZSBpZGVudGlmaWVyCiAgICAgICAgLy8gRG9uJ3QgYm90aGVyIHJlYWRpbmcgdGhlIHdob2xlIGZpbGUgdW50aWwgd2Uga25vdyBpdCdzIGEgdmFsaWQgT0xFIGZpbGUKICAgICAgICAkdGhpcy0+ZGF0YSA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRzRmlsZU5hbWUsIGZhbHNlLCBudWxsLCAwLCA4KTsKCiAgICAgICAgLy8gQ2hlY2sgT0xFIGlkZW50aWZpZXIKICAgICAgICBpZiAoJHRoaXMtPmRhdGEgIT0gc2VsZjo6SURFTlRJRklFUl9PTEUpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFBIUEV4Y2VsX1JlYWRlcl9FeGNlcHRpb24oJ1RoZSBmaWxlbmFtZSAnIC4gJHNGaWxlTmFtZSAuICcgaXMgbm90IHJlY29nbmlzZWQgYXMgYW4gT0xFIGZpbGUnKTsKICAgICAgICB9CgogICAgICAgIC8vIEdldCB0aGUgZmlsZSBkYXRhCiAgICAgICAgJHRoaXMtPmRhdGEgPSBmaWxlX2dldF9jb250ZW50cygkc0ZpbGVOYW1lKTsKCiAgICAgICAgLy8gVG90YWwgbnVtYmVyIG9mIHNlY3RvcnMgdXNlZCBmb3IgdGhlIFNBVAogICAgICAgICR0aGlzLT5udW1CaWdCbG9ja0RlcG90QmxvY2tzID0gc2VsZjo6Z2V0SW50NGQoJHRoaXMtPmRhdGEsIHNlbGY6Ok5VTV9CSUdfQkxPQ0tfREVQT1RfQkxPQ0tTX1BPUyk7CgogICAgICAgIC8vIFNlY0lEIG9mIHRoZSBmaXJzdCBzZWN0b3Igb2YgdGhlIGRpcmVjdG9yeSBzdHJlYW0KICAgICAgICAkdGhpcy0+cm9vdFN0YXJ0QmxvY2sgPSBzZWxmOjpnZXRJbnQ0ZCgkdGhpcy0+ZGF0YSwgc2VsZjo6Uk9PVF9TVEFSVF9CTE9DS19QT1MpOwoKICAgICAgICAvLyBTZWNJRCBvZiB0aGUgZmlyc3Qgc2VjdG9yIG9mIHRoZSBTU0FUIChvciAtMiBpZiBub3QgZXh0YW50KQogICAgICAgICR0aGlzLT5zYmRTdGFydEJsb2NrID0gc2VsZjo6Z2V0SW50NGQoJHRoaXMtPmRhdGEsIHNlbGY6OlNNQUxMX0JMT0NLX0RFUE9UX0JMT0NLX1BPUyk7CgogICAgICAgIC8vIFNlY0lEIG9mIHRoZSBmaXJzdCBzZWN0b3Igb2YgdGhlIE1TQVQgKG9yIC0yIGlmIG5vIGFkZGl0aW9uYWwgc2VjdG9ycyBhcmUgdXNlZCkKICAgICAgICAkdGhpcy0+ZXh0ZW5zaW9uQmxvY2sgPSBzZWxmOjpnZXRJbnQ0ZCgkdGhpcy0+ZGF0YSwgc2VsZjo6RVhURU5TSU9OX0JMT0NLX1BPUyk7CgogICAgICAgIC8vIFRvdGFsIG51bWJlciBvZiBzZWN0b3JzIHVzZWQgYnkgTVNBVAogICAgICAgICR0aGlzLT5udW1FeHRlbnNpb25CbG9ja3MgPSBzZWxmOjpnZXRJbnQ0ZCgkdGhpcy0+ZGF0YSwgc2VsZjo6TlVNX0VYVEVOU0lPTl9CTE9DS19QT1MpOwoKICAgICAgICAkYmlnQmxvY2tEZXBvdEJsb2NrcyA9IGFycmF5KCk7CiAgICAgICAgJHBvcyA9IHNlbGY6OkJJR19CTE9DS19ERVBPVF9CTE9DS1NfUE9TOwoKICAgICAgICAkYmJkQmxvY2tzID0gJHRoaXMtPm51bUJpZ0Jsb2NrRGVwb3RCbG9ja3M7CgogICAgICAgIGlmICgkdGhpcy0+bnVtRXh0ZW5zaW9uQmxvY2tzICE9IDApIHsKICAgICAgICAgICAgJGJiZEJsb2NrcyA9IChzZWxmOjpCSUdfQkxPQ0tfU0laRSAtIHNlbGY6OkJJR19CTE9DS19ERVBPVF9CTE9DS1NfUE9TKS80OwogICAgICAgIH0KCiAgICAgICAgZm9yICgkaSA9IDA7ICRpIDwgJGJiZEJsb2NrczsgKyskaSkgewogICAgICAgICAgICAgICRiaWdCbG9ja0RlcG90QmxvY2tzWyRpXSA9IHNlbGY6OmdldEludDRkKCR0aGlzLT5kYXRhLCAkcG9zKTsKICAgICAgICAgICAgICAkcG9zICs9IDQ7CiAgICAgICAgfQoKICAgICAgICBmb3IgKCRqID0gMDsgJGogPCAkdGhpcy0+bnVtRXh0ZW5zaW9uQmxvY2tzOyArKyRqKSB7CiAgICAgICAgICAgICRwb3MgPSAoJHRoaXMtPmV4dGVuc2lvbkJsb2NrICsgMSkgKiBzZWxmOjpCSUdfQkxPQ0tfU0laRTsKICAgICAgICAgICAgJGJsb2Nrc1RvUmVhZCA9IG1pbigkdGhpcy0+bnVtQmlnQmxvY2tEZXBvdEJsb2NrcyAtICRiYmRCbG9ja3MsIHNlbGY6OkJJR19CTE9DS19TSVpFIC8gNCAtIDEpOwoKICAgICAgICAgICAgZm9yICgkaSA9ICRiYmRCbG9ja3M7ICRpIDwgJGJiZEJsb2NrcyArICRibG9ja3NUb1JlYWQ7ICsrJGkpIHsKICAgICAgICAgICAgICAgICRiaWdCbG9ja0RlcG90QmxvY2tzWyRpXSA9IHNlbGY6OmdldEludDRkKCR0aGlzLT5kYXRhLCAkcG9zKTsKICAgICAgICAgICAgICAgICRwb3MgKz0gNDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJGJiZEJsb2NrcyArPSAkYmxvY2tzVG9SZWFkOwogICAgICAgICAgICBpZiAoJGJiZEJsb2NrcyA8ICR0aGlzLT5udW1CaWdCbG9ja0RlcG90QmxvY2tzKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+ZXh0ZW5zaW9uQmxvY2sgPSBzZWxmOjpnZXRJbnQ0ZCgkdGhpcy0+ZGF0YSwgJHBvcyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICRwb3MgPSAwOwogICAgICAgICR0aGlzLT5iaWdCbG9ja0NoYWluID0gJyc7CiAgICAgICAgJGJicyA9IHNlbGY6OkJJR19CTE9DS19TSVpFIC8gNDsKICAgICAgICBmb3IgKCRpID0gMDsgJGkgPCAkdGhpcy0+bnVtQmlnQmxvY2tEZXBvdEJsb2NrczsgKyskaSkgewogICAgICAgICAgICAkcG9zID0gKCRiaWdCbG9ja0RlcG90QmxvY2tzWyRpXSArIDEpICogc2VsZjo6QklHX0JMT0NLX1NJWkU7CgogICAgICAgICAgICAkdGhpcy0+YmlnQmxvY2tDaGFpbiAuPSBzdWJzdHIoJHRoaXMtPmRhdGEsICRwb3MsIDQqJGJicyk7CiAgICAgICAgICAgICRwb3MgKz0gNCokYmJzOwogICAgICAgIH0KCiAgICAgICAgJHBvcyA9IDA7CiAgICAgICAgJHNiZEJsb2NrID0gJHRoaXMtPnNiZFN0YXJ0QmxvY2s7CiAgICAgICAgJHRoaXMtPnNtYWxsQmxvY2tDaGFpbiA9ICcnOwogICAgICAgIHdoaWxlICgkc2JkQmxvY2sgIT0gLTIpIHsKICAgICAgICAgICAgJHBvcyA9ICgkc2JkQmxvY2sgKyAxKSAqIHNlbGY6OkJJR19CTE9DS19TSVpFOwoKICAgICAgICAgICAgJHRoaXMtPnNtYWxsQmxvY2tDaGFpbiAuPSBzdWJzdHIoJHRoaXMtPmRhdGEsICRwb3MsIDQqJGJicyk7CiAgICAgICAgICAgICRwb3MgKz0gNCokYmJzOwoKICAgICAgICAgICAgJHNiZEJsb2NrID0gc2VsZjo6Z2V0SW50NGQoJHRoaXMtPmJpZ0Jsb2NrQ2hhaW4sICRzYmRCbG9jayo0KTsKICAgICAgICB9CgogICAgICAgIC8vIHJlYWQgdGhlIGRpcmVjdG9yeSBzdHJlYW0KICAgICAgICAkYmxvY2sgPSAkdGhpcy0+cm9vdFN0YXJ0QmxvY2s7CiAgICAgICAgJHRoaXMtPmVudHJ5ID0gJHRoaXMtPl9yZWFkRGF0YSgkYmxvY2spOwoKICAgICAgICAkdGhpcy0+cmVhZFByb3BlcnR5U2V0cygpOwogICAgfQoKICAgIC8qKgogICAgICogRXh0cmFjdCBiaW5hcnkgc3RyZWFtIGRhdGEKICAgICAqCiAgICAgKiBAcmV0dXJuIHN0cmluZwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0U3RyZWFtKCRzdHJlYW0pCiAgICB7CiAgICAgICAgaWYgKCRzdHJlYW0gPT09IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQoKICAgICAgICAkc3RyZWFtRGF0YSA9ICcnOwoKICAgICAgICBpZiAoJHRoaXMtPnByb3BzWyRzdHJlYW1dWydzaXplJ10gPCBzZWxmOjpTTUFMTF9CTE9DS19USFJFU0hPTEQpIHsKICAgICAgICAgICAgJHJvb3RkYXRhID0gJHRoaXMtPl9yZWFkRGF0YSgkdGhpcy0+cHJvcHNbJHRoaXMtPnJvb3RlbnRyeV1bJ3N0YXJ0QmxvY2snXSk7CgogICAgICAgICAgICAkYmxvY2sgPSAkdGhpcy0+cHJvcHNbJHN0cmVhbV1bJ3N0YXJ0QmxvY2snXTsKCiAgICAgICAgICAgIHdoaWxlICgkYmxvY2sgIT0gLTIpIHsKICAgICAgICAgICAgICAgICAgJHBvcyA9ICRibG9jayAqIHNlbGY6OlNNQUxMX0JMT0NLX1NJWkU7CiAgICAgICAgICAgICAgICAkc3RyZWFtRGF0YSAuPSBzdWJzdHIoJHJvb3RkYXRhLCAkcG9zLCBzZWxmOjpTTUFMTF9CTE9DS19TSVpFKTsKCiAgICAgICAgICAgICAgICAkYmxvY2sgPSBzZWxmOjpnZXRJbnQ0ZCgkdGhpcy0+c21hbGxCbG9ja0NoYWluLCAkYmxvY2sqNCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiAkc3RyZWFtRGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkbnVtQmxvY2tzID0gJHRoaXMtPnByb3BzWyRzdHJlYW1dWydzaXplJ10gLyBzZWxmOjpCSUdfQkxPQ0tfU0laRTsKICAgICAgICAgICAgaWYgKCR0aGlzLT5wcm9wc1skc3RyZWFtXVsnc2l6ZSddICUgc2VsZjo6QklHX0JMT0NLX1NJWkUgIT0gMCkgewogICAgICAgICAgICAgICAgKyskbnVtQmxvY2tzOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJG51bUJsb2NrcyA9PSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRibG9jayA9ICR0aGlzLT5wcm9wc1skc3RyZWFtXVsnc3RhcnRCbG9jayddOwoKICAgICAgICAgICAgd2hpbGUgKCRibG9jayAhPSAtMikgewogICAgICAgICAgICAgICAgJHBvcyA9ICgkYmxvY2sgKyAxKSAqIHNlbGY6OkJJR19CTE9DS19TSVpFOwogICAgICAgICAgICAgICAgJHN0cmVhbURhdGEgLj0gc3Vic3RyKCR0aGlzLT5kYXRhLCAkcG9zLCBzZWxmOjpCSUdfQkxPQ0tfU0laRSk7CiAgICAgICAgICAgICAgICAkYmxvY2sgPSBzZWxmOjpnZXRJbnQ0ZCgkdGhpcy0+YmlnQmxvY2tDaGFpbiwgJGJsb2NrKjQpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gJHN0cmVhbURhdGE7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmVhZCBhIHN0YW5kYXJkIHN0cmVhbSAoYnkgam9pbmluZyBzZWN0b3JzIHVzaW5nIGluZm9ybWF0aW9uIGZyb20gU0FUKQogICAgICoKICAgICAqIEBwYXJhbSBpbnQgJGJsIFNlY3RvciBJRCB3aGVyZSB0aGUgc3RyZWFtIHN0YXJ0cwogICAgICogQHJldHVybiBzdHJpbmcgRGF0YSBmb3Igc3RhbmRhcmQgc3RyZWFtCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gX3JlYWREYXRhKCRibCkKICAgIHsKICAgICAgICAkYmxvY2sgPSAkYmw7CiAgICAgICAgJGRhdGEgPSAnJzsKCiAgICAgICAgd2hpbGUgKCRibG9jayAhPSAtMikgewogICAgICAgICAgICAkcG9zID0gKCRibG9jayArIDEpICogc2VsZjo6QklHX0JMT0NLX1NJWkU7CiAgICAgICAgICAgICRkYXRhIC49IHN1YnN0cigkdGhpcy0+ZGF0YSwgJHBvcywgc2VsZjo6QklHX0JMT0NLX1NJWkUpOwogICAgICAgICAgICAkYmxvY2sgPSBzZWxmOjpnZXRJbnQ0ZCgkdGhpcy0+YmlnQmxvY2tDaGFpbiwgJGJsb2NrKjQpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gJGRhdGE7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZWFkIGVudHJpZXMgaW4gdGhlIGRpcmVjdG9yeSBzdHJlYW0uCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gcmVhZFByb3BlcnR5U2V0cygpCiAgICB7CiAgICAgICAgJG9mZnNldCA9IDA7CgogICAgICAgIC8vIGxvb3AgdGhyb3VnaCBlbnRpcmVzLCBlYWNoIGVudHJ5IGlzIDEyOCBieXRlcwogICAgICAgICRlbnRyeUxlbiA9IHN0cmxlbigkdGhpcy0+ZW50cnkpOwogICAgICAgIHdoaWxlICgkb2Zmc2V0IDwgJGVudHJ5TGVuKSB7CiAgICAgICAgICAgIC8vIGVudHJ5IGRhdGEgKDEyOCBieXRlcykKICAgICAgICAgICAgJGQgPSBzdWJzdHIoJHRoaXMtPmVudHJ5LCAkb2Zmc2V0LCBzZWxmOjpQUk9QRVJUWV9TVE9SQUdFX0JMT0NLX1NJWkUpOwoKICAgICAgICAgICAgLy8gc2l6ZSBpbiBieXRlcyBvZiBuYW1lCiAgICAgICAgICAgICRuYW1lU2l6ZSA9IG9yZCgkZFtzZWxmOjpTSVpFX09GX05BTUVfUE9TXSkgfCAob3JkKCRkW3NlbGY6OlNJWkVfT0ZfTkFNRV9QT1MrMV0pIDw8IDgpOwoKICAgICAgICAgICAgLy8gdHlwZSBvZiBlbnRyeQogICAgICAgICAgICAkdHlwZSA9IG9yZCgkZFtzZWxmOjpUWVBFX1BPU10pOwoKICAgICAgICAgICAgLy8gc2VjdG9ySUQgb2YgZmlyc3Qgc2VjdG9yIG9yIHNob3J0IHNlY3RvciwgaWYgdGhpcyBlbnRyeSByZWZlcnMgdG8gYSBzdHJlYW0gKHRoZSBjYXNlIHdpdGggd29ya2Jvb2spCiAgICAgICAgICAgIC8vIHNlY3RvcklEIG9mIGZpcnN0IHNlY3RvciBvZiB0aGUgc2hvcnQtc3RyZWFtIGNvbnRhaW5lciBzdHJlYW0sIGlmIHRoaXMgZW50cnkgaXMgcm9vdCBlbnRyeQogICAgICAgICAgICAkc3RhcnRCbG9jayA9IHNlbGY6OmdldEludDRkKCRkLCBzZWxmOjpTVEFSVF9CTE9DS19QT1MpOwoKICAgICAgICAgICAgJHNpemUgPSBzZWxmOjpnZXRJbnQ0ZCgkZCwgc2VsZjo6U0laRV9QT1MpOwoKICAgICAgICAgICAgJG5hbWUgPSBzdHJfcmVwbGFjZSgiXHgwMCIsICIiLCBzdWJzdHIoJGQsIDAsICRuYW1lU2l6ZSkpOwoKICAgICAgICAgICAgJHRoaXMtPnByb3BzW10gPSBhcnJheSgKICAgICAgICAgICAgICAgICduYW1lJyA9PiAkbmFtZSwKICAgICAgICAgICAgICAgICd0eXBlJyA9PiAkdHlwZSwKICAgICAgICAgICAgICAgICdzdGFydEJsb2NrJyA9PiAkc3RhcnRCbG9jaywKICAgICAgICAgICAgICAgICdzaXplJyA9PiAkc2l6ZQogICAgICAgICAgICApOwoKICAgICAgICAgICAgLy8gdG1wIGhlbHBlciB0byBzaW1wbGlmeSBjaGVja3MKICAgICAgICAgICAgJHVwTmFtZSA9IHN0cnRvdXBwZXIoJG5hbWUpOwoKICAgICAgICAgICAgLy8gV29ya2Jvb2sgZGlyZWN0b3J5IGVudHJ5IChCSUZGNSB1c2VzIEJvb2ssIEJJRkY4IHVzZXMgV29ya2Jvb2spCiAgICAgICAgICAgIGlmICgoJHVwTmFtZSA9PT0gJ1dPUktCT09LJykgfHwgKCR1cE5hbWUgPT09ICdCT09LJykpIHsKICAgICAgICAgICAgICAgICR0aGlzLT53cmtib29rID0gY291bnQoJHRoaXMtPnByb3BzKSAtIDE7CiAgICAgICAgICAgIH0gZWxzZWlmICgkdXBOYW1lID09PSAnUk9PVCBFTlRSWScgfHwgJHVwTmFtZSA9PT0gJ1InKSB7CiAgICAgICAgICAgICAgICAvLyBSb290IGVudHJ5CiAgICAgICAgICAgICAgICAkdGhpcy0+cm9vdGVudHJ5ID0gY291bnQoJHRoaXMtPnByb3BzKSAtIDE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFN1bW1hcnkgaW5mb3JtYXRpb24KICAgICAgICAgICAgaWYgKCRuYW1lID09IGNocig1KSAuICdTdW1tYXJ5SW5mb3JtYXRpb24nKSB7Ci8vICAgICAgICAgICAgICAgIGVjaG8gJ1N1bW1hcnkgSW5mb3JtYXRpb248YnIgLz4nOwogICAgICAgICAgICAgICAgJHRoaXMtPnN1bW1hcnlJbmZvcm1hdGlvbiA9IGNvdW50KCR0aGlzLT5wcm9wcykgLSAxOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBBZGRpdGlvbmFsIERvY3VtZW50IFN1bW1hcnkgaW5mb3JtYXRpb24KICAgICAgICAgICAgaWYgKCRuYW1lID09IGNocig1KSAuICdEb2N1bWVudFN1bW1hcnlJbmZvcm1hdGlvbicpIHsKLy8gICAgICAgICAgICAgICAgZWNobyAnRG9jdW1lbnQgU3VtbWFyeSBJbmZvcm1hdGlvbjxiciAvPic7CiAgICAgICAgICAgICAgICAkdGhpcy0+ZG9jdW1lbnRTdW1tYXJ5SW5mb3JtYXRpb24gPSBjb3VudCgkdGhpcy0+cHJvcHMpIC0gMTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJG9mZnNldCArPSBzZWxmOjpQUk9QRVJUWV9TVE9SQUdFX0JMT0NLX1NJWkU7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmVhZCA0IGJ5dGVzIG9mIGRhdGEgYXQgc3BlY2lmaWVkIHBvc2l0aW9uCiAgICAgKgogICAgICogQHBhcmFtIHN0cmluZyAkZGF0YQogICAgICogQHBhcmFtIGludCAkcG9zCiAgICAgKiBAcmV0dXJuIGludAogICAgICovCiAgICBwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBnZXRJbnQ0ZCgkZGF0YSwgJHBvcykKICAgIHsKICAgICAgICAvLyBGSVg6IHJlcHJlc2VudCBudW1iZXJzIGNvcnJlY3RseSBvbiA2NC1iaXQgc3lzdGVtCiAgICAgICAgLy8gaHR0cDovL3NvdXJjZWZvcmdlLm5ldC90cmFja2VyL2luZGV4LnBocD9mdW5jPWRldGFpbCZhaWQ9MTQ4NzM3MiZncm91cF9pZD05OTE2MCZhdGlkPTYyMzMzNAogICAgICAgIC8vIEhhY2tlZCBieSBBbmRyZWFzIFJlaG0gMjAwNiB0byBlbnN1cmUgY29ycmVjdCByZXN1bHQgb2YgdGhlIDw8MjQgYmxvY2sgb24gMzIgYW5kIDY0Yml0IHN5c3RlbXMKICAgICAgICAkX29yXzI0ID0gb3JkKCRkYXRhWyRwb3MgKyAzXSk7CiAgICAgICAgaWYgKCRfb3JfMjQgPj0gMTI4KSB7CiAgICAgICAgICAgIC8vIG5lZ2F0aXZlIG51bWJlcgogICAgICAgICAgICAkX29yZF8yNCA9IC1hYnMoKDI1NiAtICRfb3JfMjQpIDw8IDI0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkX29yZF8yNCA9ICgkX29yXzI0ICYgMTI3KSA8PCAyNDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9yZCgkZGF0YVskcG9zXSkgfCAob3JkKCRkYXRhWyRwb3MgKyAxXSkgPDwgOCkgfCAob3JkKCRkYXRhWyRwb3MgKyAyXSkgPDwgMTYpIHwgJF9vcmRfMjQ7CiAgICB9Cn0K",
    "size": "11244"
}