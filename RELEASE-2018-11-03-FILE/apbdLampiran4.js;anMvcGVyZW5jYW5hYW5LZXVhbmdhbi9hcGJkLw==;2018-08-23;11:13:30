{
    "namaFile": "js\/perencanaanKeuangan\/apbd\/apbdLampiran4.js",
    "lastUpdate": "2018-08-23+11:13:30.62",
    "contentFile": "dmFyIGFwYmRMYW1waXJhbjRGaWx0ZXJTS1BEID0gbmV3IFNrcGRDbHMoewogIHByZWZpeDogImFwYmRMYW1waXJhbjQiLAogIGZvcm1OYW1lOiAiYXBiZExhbXBpcmFuNEZvcm0iLAoKICBwaWxpaFVydXNhbmZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgYXBiZExhbXBpcmFuNC5yZWZyZXNoTGlzdCh0cnVlKTsKICB9LAogIHBpbGloQmlkYW5nQWZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgYXBiZExhbXBpcmFuNC5yZWZyZXNoTGlzdCh0cnVlKTsKICB9LAogIHBpbGloVW5pdEFmdGVyOiBmdW5jdGlvbigpIHsKICAgIGFwYmRMYW1waXJhbjQucmVmcmVzaExpc3QodHJ1ZSk7CiAgfSwKICBwaWxpaFN1YlVuaXRBZnRlcjogZnVuY3Rpb24oKSB7CiAgICBhcGJkTGFtcGlyYW40LnJlZnJlc2hMaXN0KHRydWUpOwogIH0sCiAgcGlsaWhTZWtzaUFmdGVyOiBmdW5jdGlvbigpIHsKICAgIGFwYmRMYW1waXJhbjQucmVmcmVzaExpc3QodHJ1ZSk7CiAgfQp9KTsKdmFyIGFwYmRMYW1waXJhbjQgPSBuZXcgRGFmdGFyT2JqMih7CiAgcHJlZml4OiAiYXBiZExhbXBpcmFuNCIsCiAgdXJsOiAicGdLZXUucGhwP1BnPWFwYmRMYW1waXJhbjQiLAogIGZvcm1OYW1lOiAiYXBiZExhbXBpcmFuNEZvcm0iLAogIGFwYmRMYW1waXJhbjRfZm9ybTogIjAiLCAvL2RlZmF1bHQganMgYXBiZExhbXBpcmFuNAogIGxvYWRpbmc6IGZ1bmN0aW9uKCkgewogICAgLy9hbGVydCgnbG9hZGluZycpOwogICAgdGhpcy50b3BCYXJSZW5kZXIoKTsKICAgIHRoaXMuZmlsdGVyUmVuZGVyKCk7CiAgICB0aGlzLmRhZnRhclJlbmRlcigpOwogICAgdGhpcy5zdW1IYWxSZW5kZXIoKTsKICB9LAogIHRvcEJhclJlbmRlcjogZnVuY3Rpb24oKXsKICAgIHZhciBtZT10aGlzOwogICAgLy9yZW5kZXIgc3VidGl0bGUKICAgICQuYWpheCh7CiAgICAgIHVybDogdGhpcy51cmwrJyZ0aXBlPXN1YnRpdGxlJywKICAgICAgdHlwZTonUE9TVCcsCiAgICAgIGRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIHJlc3AgPSBldmFsKCcoJyArIGRhdGEgKyAnKScpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXgrJ19jb250X3RpdGxlJykuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICBtZS50b3BCYXJSZW5kZXJBZnRlcigpCiAgICAgIH0KICAgIH0pOwogIH0sCiAgZmlsdGVyUmVuZGVyQWZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5kYWZ0YXJSZW5kZXIoKTsKICB9LAogIGRldGFpbDogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgZXJybXNnID0gdGhpcy5DZWtDaGVja2JveCgpOwogICAgaWYgKGVycm1zZyA9PSAiIikgewogICAgICB2YXIgYm94ID0gdGhpcy5HZXRDYnhDaGVja2VkKCk7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnJtc2cpOwogICAgfQogIH0sCiAgZGFmdGFyUmVuZGVyOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7IC8vcmVuZGVyIGRhZnRhcgogICAgYWRkQ292ZXJQYWdlMigiZGFmdGFyX2NvdmVyIiwgMSwgdHJ1ZSwgdHJ1ZSwgewogICAgICByZW5kZXJUbzogdGhpcy5wcmVmaXggKyAiX2NvbnRfZGFmdGFyIiwKICAgICAgaW1nc3JjOiAiaW1hZ2VzL3dhaXQuZ2lmIiwKICAgICAgc3R5bGU6IHsgcG9zaXRpb246ICJhYnNvbHV0ZSIsIHRvcDogIjUiLCBsZWZ0OiAiNSIgfQogICAgfSk7CiAgICAkLmFqYXgoewogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWRhZnRhciIsCiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5wcmVmaXggKyAiX2NvbnRfZGFmdGFyIikuaW5uZXJIVE1MID0KICAgICAgICAgIHJlc3AuY29udGVudDsKICAgICAgICBtZS5zdW1IYWxSZW5kZXIoKTsKICAgICAgfQogICAgfSk7CiAgfSwKICBCYXJ1OiBmdW5jdGlvbigpewogICAgdmFyIG1lID0gdGhpczsKCiAgCQllcnJtc2cgPSAnJzsKCiAgCQlpZigkKCIjZmlsdGVyVXJ1c2FuIikudmFsKCkgPT0gJzAwJyl7CiAgCQkJZXJybXNnID0gIlBpbGloIFVydXNhbiI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyU0tQRCIpLnZhbCgpID09ICcwMCcpewogIAkJCWVycm1zZyA9ICJQaWxpaCBCaWRhbmciOwogIAkJfWVsc2UgaWYoJCgiI2ZpbHRlclNLUEQiKS52YWwoKSA9PSAnMDAnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggU0tQRCI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyQ29uY2F0UHJvZ3JhbSIpLnZhbCgpID09ICcnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggUHJvZ3JhbSI7CiAgCQl9ZWxzZSBpZigkKCIjZmlsdGVyUSIpLnZhbCgpID09ICcnKXsKICAJCQllcnJtc2cgPSAiUGlsaWggS2VnaWF0YW4iOwogIAkJfQogIAkJaWYoZXJybXNnID09JycpewogIAkJCXZhciBtZSA9IHRoaXM7CiAgCQkJdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7CiAgCQkJJC5hamF4KHsKICAJCQkgIHVybDogdGhpcy51cmwrJyZ0aXBlPUJhcnUnLAogIAkJCSAgdHlwZSA6ICdQT1NUJywKICAJCQkgIGRhdGE6JCgnIycrdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgCQkJICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgCQkJCQl2YXIgcmVzcCA9IGV2YWwoJygnICsgZGF0YSArICcpJyk7CiAgCQkJCQlpZihyZXNwLmVyciA9PSAiIikgewogIAkJCQkJCWFGb3JtLmFjdGlvbj0gJ3BnS2V1LnBocD9QZz1hcGJkTGFtcGlyYW40SW5zJzsKICAJCQkJCQlhRm9ybS50YXJnZXQ9J19ibGFuayc7CiAgCQkJCQkJYUZvcm0uc3VibWl0KCk7CiAgCQkJCQkJYUZvcm0udGFyZ2V0PScnOwogIAkJCQkJfWVsc2V7CiAgCQkJCQkJYWxlcnQocmVzcC5lcnIpOwogIAkJCQkJfQogIAkJCSAgfQogIAkJCX0pOwogIAkJfWVsc2V7CiAgCQkJCWFsZXJ0KGVycm1zZyk7CiAgCQl9Cgl9LAogIEluZm86IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXIiOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPUluZm8iLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTk5LCB0cnVlLCBmYWxzZSk7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAoKICBDYXJpOiBmdW5jdGlvbigpIHsKICAgIHBvcHVwQmFyYW5nLmtvZGVCYXJhbmcgPSAia29kZUJhcmFuZyI7CiAgICBwb3B1cEJhcmFuZy5uYW1hQmFyYW5nID0gIm5hbWFCYXJhbmciOwogICAgcG9wdXBCYXJhbmcuc2F0dWFuQmFyYW5nID0gInNhdHVhbiI7CiAgICBwb3B1cEJhcmFuZy53aW5kb3dTaG93KCk7CiAgfSwKICBFZGl0OiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBlcnJtc2cgPSB0aGlzLkNla0NoZWNrYm94KCk7CiAgICBpZiAoZXJybXNnID09ICIiKSB7CiAgICAgIHZhciBib3ggPSB0aGlzLkdldENieENoZWNrZWQoKTsKICAgICAgdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb3JtTmFtZSk7CiAgICAgICQuYWpheCh7CiAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1lZGl0VGFiIiwKICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgZGF0YTogJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgICAgdmFyIElEcmVuamEgPSBOdW1iZXIocmVzcC5jb250ZW50LmlkcmVuamEpOwogICAgICAgICAgICBhRm9ybS5hY3Rpb24gPQogICAgICAgICAgICAgICJwZ0tldS5waHA\/UGc9cmtibWRfIiArCiAgICAgICAgICAgICAgcmVzcC5jb250ZW50LmtlbWFuYSArCiAgICAgICAgICAgICAgIiZZTj0xJmlkPSIgKwogICAgICAgICAgICAgIElEcmVuamE7CiAgICAgICAgICAgIGFGb3JtLnRhcmdldCA9ICJfYmxhbmsiOwogICAgICAgICAgICBhRm9ybS5zdWJtaXQoKTsKICAgICAgICAgICAgYUZvcm0udGFyZ2V0ID0gIiI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycm1zZyk7CiAgICB9CiAgfSwKICByZW1vdmU6IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIGVycm1zZyA9IHRoaXMuQ2VrQ2hlY2tib3goKTsKICAgIGlmIChlcnJtc2cgPT0gIiIpIHsKICAgICAgdmFyIGJveCA9IHRoaXMuR2V0Q2J4Q2hlY2tlZCgpOwoKICAgICAgJC5hamF4KHsKICAgICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXJlbW92ZSIsCiAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgIGRhdGE6ICQoIiMiICsgdGhpcy5mb3JtTmFtZSkuc2VyaWFsaXplKCksCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICAgYXBiZExhbXBpcmFuNC5yZWZyZXNoTGlzdCh0cnVlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoZXJybXNnKTsKICAgIH0KICB9LAogIFZhbGlkYXNpOiBmdW5jdGlvbihpZF9hbmdnYXJhbikgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXIiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgaWYgKG1lLnNhdHVhbl9mb3JtID09IDApIHsKICAgICAgLy9iYXJ1IGRhcmkgc2F0dWFuCiAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDEsIHRydWUsIGZhbHNlKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vYmFydSBkYXJpIGJhcmFuZwogICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OTksIHRydWUsIGZhbHNlKTsKICAgIH0KICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1WYWxpZGFzaSZpZF9hbmdnYXJhbj0iICsgaWRfYW5nZ2FyYW4sCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICAgIGlmIChyZXNwLmVyciA9PSAiVGFoYXAgUGVueXVzdW5hbiBUZWxhaCBIYWJpcyIpIHsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKCiAgbmV3Tm9tb3JQZW5ldGFwYW46IGZ1bmN0aW9uKCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJLQiI7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9bmV3Tm9tb3JQZW5ldGFwYW4iLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgNSwgdHJ1ZSwgZmFsc2UpOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKICAgICAgICAgICQoIiNuZXdUYW5nZ2FsUGVuZXRhcGFuIikuZGF0ZXBpY2tlcih7CiAgICAgICAgICAgIGRhdGVGb3JtYXQ6ICJkZC1tbS15eSIsCiAgICAgICAgICAgIHNob3dBbmltOiAic2xpZGVEb3duIiwKICAgICAgICAgICAgaW5saW5lOiB0cnVlLAogICAgICAgICAgICBzaG93T246ICJidXR0b24iLAogICAgICAgICAgICBidXR0b25JbWFnZTogImltYWdlcy9jYWxlbmRhci5naWYiLAogICAgICAgICAgICBidXR0b25JbWFnZU9ubHk6IHRydWUsCiAgICAgICAgICAgIGNoYW5nZU1vbnRoOiB0cnVlLAogICAgICAgICAgICBjaGFuZ2VZZWFyOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBDbG9zZTI6IGZ1bmN0aW9uKCkgewogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlcktCIjsKICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikpIGRlbEVsZW0oY292ZXIpOwogICAgaWYgKHRpcGUgPT0gbnVsbCkgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwogICAgfQogIH0sCgogIHNhdmVUZXRhcGthblJLQk1EOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1zaW1wYW4iOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMSwgdHJ1ZSwgZmFsc2UpOwoKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlVGV0YXBrYW5SS0JNRCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBub21vcjogJCgiI25vbW9yUGVuZXRhcGFuIikudmFsKCksCiAgICAgICAgYzE6ICQoIiNjMSIpLnZhbCgpLAogICAgICAgIGM6ICQoIiNjIikudmFsKCksCiAgICAgICAgZDogJCgiI2QiKS52YWwoKSwKICAgICAgICBub21vclBlbmV0YXBhbjogJCgiI25vbW9yUGVuZXRhcGFuIikudmFsKCksCiAgICAgICAgdGFuZ2dhbFBlbmV0YXBhbjogJCgiI3RhbmdnYWxQZW5ldGFwYW4iKS52YWwoKSwKICAgICAgICBuYW1hUGVqYWJhdDogJCgiI25hbWFQZWphYmF0IikudmFsKCksCiAgICAgICAgbmlwOiAkKCIjbmlwIikudmFsKCksCiAgICAgICAgamFiYXRhbjogJCgiI2phYmF0YW4iKS52YWwoKSwKICAgICAgICBzdGF0dXNQZW5nYWRhYW46ICQoIiNjaGVja0JveFBlbmdhZGFhbiIpLmlzKCI6Y2hlY2tlZCIpLAogICAgICAgIHN0YXR1c1BlbWVsaWhhcmFhbjogJCgiI2NoZWNrYm94UGVtZWxpaGFyYWFuIikuaXMoIjpjaGVja2VkIiksCiAgICAgICAgc3RhdHVzUGVyc2VkaWFhbjogJCgiI2NoZWNrYm94UGVyc2VkaWFhbiIpLmlzKCI6Y2hlY2tlZCIpCiAgICAgIH0sCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgaWYgKHJlc3AuZXJyICE9ICIiKSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCJQZW5ldGFwYW4gQmVyaGFzaWwiKTsKICAgICAgICAgIG1lLkNsb3NlKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIHNhdmVOb21vclBlbmV0YXBhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZTsKICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJLQiI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAxLCB0cnVlLCBmYWxzZSk7CgogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVOb21vclBlbmV0YXBhbiIsCiAgICAgIGRhdGE6IHsKICAgICAgICBub21vcjogJCgiI25ld05vbW9yUGVuZXRhcGFuIikudmFsKCksCiAgICAgICAgdGFuZ2dhbFBlbmV0YXBhbjogJCgiI25ld1RhbmdnYWxQZW5ldGFwYW4iKS52YWwoKSwKICAgICAgICBuYW1hUGVqYWJhdDogJCgiI25ld05hbWFQZWphYmF0IikudmFsKCksCiAgICAgICAgbmlwOiAkKCIjbmV3TklQIikudmFsKCksCiAgICAgICAgamFiYXRhbjogJCgiI25ld0phYmF0YW4iKS52YWwoKQogICAgICB9LAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIGlmIChyZXNwLmVyciAhPSAiIikgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydCgiRGF0YSBUZXJzaW1wYW4iKTsKICAgICAgICAgICQoIiNub21vclBlbmV0YXBhbiIpLmh0bWwocmVzcC5jb250ZW50LmNvbWJvTm9tb3JQZW5ldGFwYW4pOwogICAgICAgICAgbWUuQ2xvc2UyKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAoKICBmb3JtYXRDdXJyZW5jeTogZnVuY3Rpb24obnVtKSB7CiAgICBudW0gPSBudW0udG9TdHJpbmcoKS5yZXBsYWNlKC9cJHxcLC9nLCAiIik7CiAgICBpZiAoaXNOYU4obnVtKSkgbnVtID0gIjAiOwogICAgc2lnbiA9IG51bSA9PSAobnVtID0gTWF0aC5hYnMobnVtKSk7CiAgICBudW0gPSBNYXRoLmZsb29yKG51bSAqIDEwMCArIDAuNTAwMDAwMDAwMDEpOwogICAgY2VudHMgPSBudW0gJSAxMDA7CiAgICBudW0gPSBNYXRoLmZsb29yKG51bSAvIDEwMCkudG9TdHJpbmcoKTsKICAgIGlmIChjZW50cyA8IDEwKSBjZW50cyA9ICIwIiArIGNlbnRzOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBNYXRoLmZsb29yKChudW0ubGVuZ3RoIC0gKDEgKyBpKSkgLyAzKTsgaSsrKQogICAgICBudW0gPQogICAgICAgIG51bS5zdWJzdHJpbmcoMCwgbnVtLmxlbmd0aCAtICg0ICogaSArIDMpKSArCiAgICAgICAgIi4iICsKICAgICAgICBudW0uc3Vic3RyaW5nKG51bS5sZW5ndGggLSAoNCAqIGkgKyAzKSk7CiAgICByZXR1cm4gKHNpZ24gPyAiIiA6ICItIikgKyAiIiArIG51bTsKICB9LAogIGJhbnR1OiBmdW5jdGlvbihpZCkgewogICAgdmFyIGlkQW5na2EgPSBpZC5yZXBsYWNlKCJKIiwgImoiKTsKICAgIHZhciBhbmdrYSA9ICQoIiMiICsgaWRBbmdrYSkudmFsKCk7CiAgICAkKCIjYmFudHUiICsgaWQpLnRleHQoYXBiZExhbXBpcmFuNC5mb3JtYXRDdXJyZW5jeShhbmdrYSkpOwogIH0sCiAgTGFwb3JhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGVyciA9ICIiOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlciI7CiAgICBpZiAoZXJyID09ICIiKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMiwgdHJ1ZSwgZmFsc2UpOwogICAgICAkLmFqYXgoewogICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICBkYXRhOiAkKCIjIiArIHRoaXMuZm9ybU5hbWUpLnNlcmlhbGl6ZSgpLAogICAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9TGFwb3JhbiIsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgICAgIG1lLkFmdGVyRm9ybUJhcnUocmVzcCk7CiAgICAgICAgICAgICQoIiN0YW5nZ2FsQ2V0YWsiKS5kYXRlcGlja2VyKHsKICAgICAgICAgICAgICBkYXRlRm9ybWF0OiAiZGQtbW0teXkiLAogICAgICAgICAgICAgIHNob3dBbmltOiAic2xpZGVEb3duIiwKICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsCiAgICAgICAgICAgICAgc2hvd09uOiAiYnV0dG9uIiwKICAgICAgICAgICAgICBidXR0b25JbWFnZTogImltYWdlcy9jYWxlbmRhci5naWYiLAogICAgICAgICAgICAgIGJ1dHRvbkltYWdlT25seTogdHJ1ZSwKICAgICAgICAgICAgICBjaGFuZ2VNb250aDogdHJ1ZSwKICAgICAgICAgICAgICBjaGFuZ2VZZWFyOiBmYWxzZSwKICAgICAgICAgICAgICB5ZWFyUmFuZ2U6IHJlc3AuY29udGVudC55ZWFyUmFuZ2UsCiAgICAgICAgICAgICAgYnV0dG9uVGV4dDogIiIsCiAgICAgICAgICAgICAgZGVmYXVsdERhdGU6ICswCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJhdXRvIjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoZXJyKTsKICAgIH0KICB9LAogIG5ld1RhbmRhVGFuZ2FuZ2FuOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgZXJyID0gIiI7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyVGFuZGFUYW5nYW4iOwoKICAgIGlmIChlcnIgPT0gIiIpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA5OSwgdHJ1ZSwgZmFsc2UpOwogICAgICAkLmFqYXgoewogICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICBkYXRhOiAkKCIjIiArIHRoaXMucHJlZml4ICsgIl9mb3JtIikuc2VyaWFsaXplKCksCiAgICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1uZXdUYW5kYVRhbmdhbmdhbiIsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdmVyKS5pbm5lckhUTUwgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgICAgIG1lLkFmdGVyRm9ybUJhcnUocmVzcCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBhbGVydChlcnIpOwogICAgfQogIH0sCiAgY2xvc2VUYW5kYVRhbmdhbkZvcm06IGZ1bmN0aW9uKCkgewogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlclRhbmRhVGFuZ2FuIjsKICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikpIGRlbEVsZW0oY292ZXIpOwogICAgaWYgKHRpcGUgPT0gbnVsbCkgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImF1dG8iOwogICAgfQogIH0sCiAgcGlsaWhQYW5na2F0OiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICAkLmFqYXgoewogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXBpbGloUGFuZ2thdCIsCiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogewogICAgICAgIGMxOiAkKCIjZmlsdGVyVXJ1c2FuIikudmFsKCksCiAgICAgICAgYzogJCgiI2ZpbHRlckJpZGFuZyIpLnZhbCgpLAogICAgICAgIGQ6ICQoIiNmaWx0ZXJTS1BEIikudmFsKCksCiAgICAgICAgZTogJCgiI2ZpbHRlclVuaXQiKS52YWwoKSwKICAgICAgICBlMTogJCgiI2ZpbHRlclN1YlVuaXQiKS52YWwoKSwKICAgICAgICBkYzE6ICQoIiNkYzEiKS52YWwoKSwKICAgICAgICBkYzogJCgiI2RjIikudmFsKCksCiAgICAgICAgZGQ6ICQoIiNkZCIpLnZhbCgpLAogICAgICAgIGthdGVnb3JpOiAkKCIja2F0ZWdvcmkiKS52YWwoKSwKICAgICAgICBuYW1hcGVnYXdhaTogJCgiI25hbWFwZWdhd2FpIikudmFsKCksCiAgICAgICAgbmlwcGVnYXdhaTogJCgiI25pcHBlZ2F3YWkiKS52YWwoKSwKICAgICAgICBwYW5na2F0YWtoaXI6ICQoIiNwYW5na2F0YWtoaXIiKS52YWwoKSwKICAgICAgICBnb2xhbmdfYWtoaXI6ICQoIiNnb2xhbmdfYWtoaXIiKS52YWwoKSwKICAgICAgICBqYWJhdGFuOiAkKCIjamFiYXRhbiIpLnZhbCgpLAogICAgICAgIGVzZWxvbl9ha2hpcjogJCgiI2VzZWxvbl9ha2hpciIpLnZhbCgpCiAgICAgIH0sCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ29sYW5nX2FraGlyIikudmFsdWUgPSByZXNwLmNvbnRlbnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgc2F2ZU5ld1RhbmRhVGFuZ2FuOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB0aGlzLk9uRXJyb3JDbG9zZSA9IGZhbHNlOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgdmFyIGNvdmVyID0gInJlbmphQXNldCIgKyAiX2Zvcm1zaW1wYW4iOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgMSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAga2F0ZWdvcmk6ICQoIiNrYXRlZ29yaSIpLnZhbCgpLAogICAgICAgIG5hbWFwZWdhd2FpOiAkKCIjbmFtYXBlZ2F3YWkiKS52YWwoKSwKICAgICAgICBuaXBwZWdhd2FpOiAkKCIjbmlwcGVnYXdhaSIpLnZhbCgpLAogICAgICAgIHBhbmdrYXRha2hpcjogJCgiI3BhbmdrYXRha2hpciIpLnZhbCgpLAogICAgICAgIGdvbGFuZ19ha2hpcjogJCgiI2dvbGFuZ19ha2hpciIpLnZhbCgpLAogICAgICAgIGphYmF0YW46ICQoIiNqYWJhdGFuIikudmFsKCksCiAgICAgICAgZXNlbG9uX2FraGlyOiAkKCIjZXNlbG9uX2FraGlyIikudmFsKCkKICAgICAgfSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlTmV3VGFuZGFUYW5nYW4iLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpZFBlbmFuZGFUYW5nYW4iKS5pbm5lckhUTUwgPQogICAgICAgICAgICByZXNwLmNvbnRlbnQuY29tYm90dGQ7CiAgICAgICAgICBtZS5jbG9zZVRhbmRhVGFuZ2FuRm9ybSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIHZpZXdMYXBvcmFuOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBlcnJtc2cgPSAiIjsKICAgIGlmIChlcnJtc2cgPT0gIiIpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgdmFyIGFGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5wcmVmaXggKyAiX2Zvcm0iKTsKICAgICAgYUZvcm0uYWN0aW9uID0gbWUudXJsICsgIiZ0aXBlPXZpZXdMYXBvcmFuIjsKICAgICAgYUZvcm0udGFyZ2V0ID0gIl9ibGFuayI7CiAgICAgIGFGb3JtLnN1Ym1pdCgpOwogICAgICBhRm9ybS50YXJnZXQgPSAiIjsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycm1zZyk7CiAgICB9CiAgfSwKICBub3RpY2VTeW5jOiBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyIjsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1ub3RpY2VTeW5jIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDk5OSwgdHJ1ZSwgZmFsc2UpOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY292ZXIpLmlubmVySFRNTCA9IHJlc3AuY29udGVudDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBjbG9zZU5vdGljZTogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgbWUuU3luYygpOwogIH0sCiAgU3luYzogZnVuY3Rpb24oKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlckxvYWRpbmciOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgOTk5OSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7IGtvZGVTS1BEOiAkKCIja29kZVNLUEQiKS52YWwoKSB9LAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXN5bmMiLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgYWxlcnQoInN5bmMgc3Vrc2VzIik7CiAgICAgICAgICBtZS5DbG9zZSgpOwogICAgICAgICAgbWUucmVmcmVzaExpc3QodHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgZWRpdFJla2VuaW5nOiBmdW5jdGlvbihpZFJLQSkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJMb2FkaW5nIjsKICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDUsIHRydWUsIGZhbHNlKTsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogewogICAgICAgIGlkUktBOiBpZFJLQQogICAgICB9LAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWVkaXRSZWtlbmluZyIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAkKCIjc3BhbkVkaXRSZWtlbmluZyIgKyBpZFJLQSkuaHRtbChyZXNwLmNvbnRlbnQuaXNpU3BhblJla2VuaW5nKTsKICAgICAgICAgICQoIiNhY3Rpb25TcGFuUmVrZW5pbmciICsgaWRSS0EpLmh0bWwocmVzcC5jb250ZW50LmlzaUFjdGlvblNwYW4pOwogICAgICAgICAgJCgiI3NwYW5FZGl0UmVrZW5pbmciICsgaWRSS0EpLmF0dHIoIm9uY2xpY2siLCAiIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgZmluZFJla2VuaW5nOiBmdW5jdGlvbihpZCkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBmaWx0ZXJSZWsgPSAiIjsKICAgIHBvcHVwUmVrZW5pbmcuZWxfa29kZV9yZWtlbmluZyA9ICJoaWRkZW5SZWtlbmluZyIgKyBpZDsKICAgIHBvcHVwUmVrZW5pbmcuZWxfbmFtYV9yZWtlbmluZyA9ICJ0ZXh0UmVrZW5pbmciICsgaWQ7CiAgICBwb3B1cFJla2VuaW5nLndpbmRvd1NhdmVBZnRlciA9IGZ1bmN0aW9uKCkge307CiAgICBwb3B1cFJla2VuaW5nLmZpbHRlckFrdW4gPSAiUktBIC4xIjsKICAgIHBvcHVwUmVrZW5pbmcud2luZG93U2hvdygpOwogIH0sCiAgc2F2ZUVkaXRSZWtlbmluZzogZnVuY3Rpb24oaWQpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyTG9hZGluZyI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA1LCB0cnVlLCBmYWxzZSk7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6CiAgICAgICAgJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSArCiAgICAgICAgIiZpZEVkaXRSa2E9IiArCiAgICAgICAgaWQgKwogICAgICAgICIma29kZVJla2VuaW5nUktBPSIgKwogICAgICAgICQoIiNoaWRkZW5SZWtlbmluZyIgKyBpZCkudmFsKCksCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9c2F2ZUVkaXRSZWtlbmluZyIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBtZS5yZWZyZXNoTGlzdCh0cnVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBzYXZlRWRpdFJpbmNpYW5CZWxhbmphOiBmdW5jdGlvbihpZEVkaXRSa2EsIGlkUmluY2lhbkJlbGFuamEpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICB2YXIgY292ZXIgPSB0aGlzLnByZWZpeCArICJfZm9ybWNvdmVyTG9hZGluZyI7CiAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCA1LCB0cnVlLCBmYWxzZSk7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6CiAgICAgICAgJCgiIyIgKyB0aGlzLmZvcm1OYW1lKS5zZXJpYWxpemUoKSArCiAgICAgICAgIiZpZFJpbmNpYW5CZWxhbmphPSIgKwogICAgICAgIGlkUmluY2lhbkJlbGFuamEgKwogICAgICAgICImbmFtYVJpbmNpYW5CZWxhbmphPSIgKwogICAgICAgICQoIiN0ZXh0UmluY2lhbkJlbGFuamEiICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1zYXZlRWRpdFJpbmNpYW5CZWxhbmphIiwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIGRlbEVsZW0oY292ZXIpOwogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIG1lLnJlZnJlc2hMaXN0KHRydWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIGVkaXRSaW5jaWFuQmVsYW5qYTogZnVuY3Rpb24oaWRFZGl0UmthLCBpZFJpbmNpYW5CZWxhbmphKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlckxvYWRpbmciOwogICAgYWRkQ292ZXJQYWdlMihjb3ZlciwgNSwgdHJ1ZSwgZmFsc2UpOwogICAgJC5hamF4KHsKICAgICAgdHlwZTogIlBPU1QiLAogICAgICBkYXRhOiB7CiAgICAgICAgaWRFZGl0UmthOiBpZEVkaXRSa2EsCiAgICAgICAgaWRSaW5jaWFuQmVsYW5qYTogaWRSaW5jaWFuQmVsYW5qYQogICAgICB9LAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPWVkaXRSaW5jaWFuQmVsYW5qYSIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICBkZWxFbGVtKGNvdmVyKTsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICAkKCIjc3BhbkVkaXRSaW5jaWFuQmVsYW5qYSIgKyBpZEVkaXRSa2EpLmh0bWwoCiAgICAgICAgICAgIHJlc3AuY29udGVudC5pc2lTcGFuUmluY2lhbkJlbGFuamEKICAgICAgICAgICk7CiAgICAgICAgICAkKCIjYWN0aW9uU3BhblJpbmNpYW5CZWxhbmphIiArIGlkRWRpdFJrYSkuaHRtbCgKICAgICAgICAgICAgcmVzcC5jb250ZW50LmlzaUFjdGlvblNwYW4KICAgICAgICAgICk7CiAgICAgICAgICAkKCIjc3BhbkVkaXRSaW5jaWFuQmVsYW5qYSIgKyBpZEVkaXRSa2EpLmF0dHIoIm9uY2xpY2siLCAiIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgZWRpdFN1YlJpbmNpYW46IGZ1bmN0aW9uKGlkRWRpdFJrYSkgewogICAgdmFyIG1lID0gdGhpczsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3JtY292ZXJMb2FkaW5nIjsKICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDUsIHRydWUsIGZhbHNlKTsKICAgICQuYWpheCh7CiAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgZGF0YTogewogICAgICAgIGlkRWRpdFJrYTogaWRFZGl0UmthCiAgICAgIH0sCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9ZWRpdFN1YlJpbmNpYW4iLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgZGVsRWxlbShjb3Zlcik7CiAgICAgICAgdmFyIHJlc3AgPSBldmFsKCIoIiArIGRhdGEgKyAiKSIpOwogICAgICAgIGlmIChyZXNwLmVyciA9PSAiIikgewogICAgICAgICAgJCgiI3NwYW5Wb2x1bWVSZWtlbmluZyIgKyBpZEVkaXRSa2EpLmh0bWwocmVzcC5jb250ZW50LmlzaVNwYW5Wb2x1bWUpOwogICAgICAgICAgJCgiI3NwYW5TYXR1YW4iICsgaWRFZGl0UmthKS5odG1sKHJlc3AuY29udGVudC5pc2lTcGFuU2F0dWFuKTsKICAgICAgICAgICQoIiNzcGFuSGFyZ2FTYXR1YW4iICsgaWRFZGl0UmthKS5odG1sKAogICAgICAgICAgICByZXNwLmNvbnRlbnQuaXNpU3BhbkhhcmdhU2F0dWFuCiAgICAgICAgICApOwogICAgICAgICAgJCgiI3NwYW5Ub3RhbEp1bWxhaCIgKyBpZEVkaXRSa2EpLmh0bWwoCiAgICAgICAgICAgIHJlc3AuY29udGVudC5pc2lTcGFuVG90YWxKdW1sYWgKICAgICAgICAgICk7CiAgICAgICAgICAkKCIjYWN0aW9uU3BhbiIgKyBpZEVkaXRSa2EpLmh0bWwocmVzcC5jb250ZW50LmlzaUFjdGlvblNwYW4pOwogICAgICAgICAgLy8gJCgiI3RkVm9sdW1lUmVrZW5pbmciK2lkRWRpdFJrYSkuYXR0cigiYWxpZ24iLCJsZWZ0Iik7CiAgICAgICAgICAkKCIjaGVhZGVyVXJhaWFuIikuYXR0cigid2lkdGgiLCAiNjAwIik7CiAgICAgICAgICAkKCIjaGVhZGVyVm9sdW1lIikuYXR0cigid2lkdGgiLCAiMTUwIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgZm9ybVJpbmNpYW5Wb2x1bWU6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIGNvdmVyID0gdGhpcy5wcmVmaXggKyAiX2Zvcm1jb3ZlciI7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBpZDogaWQsCiAgICAgICAgdm9sdW1lMVRlbXA6ICQoIiN2b2x1bWUxVGVtcCIgKyBpZCkudmFsKCksCiAgICAgICAgdm9sdW1lMlRlbXA6ICQoIiN2b2x1bWUyVGVtcCIgKyBpZCkudmFsKCksCiAgICAgICAgdm9sdW1lM1RlbXA6ICQoIiN2b2x1bWUzVGVtcCIgKyBpZCkudmFsKCksCiAgICAgICAgc2F0dWFuMVRlbXA6ICQoIiNzYXR1YW4xVGVtcCIgKyBpZCkudmFsKCksCiAgICAgICAgc2F0dWFuMlRlbXA6ICQoIiNzYXR1YW4yVGVtcCIgKyBpZCkudmFsKCksCiAgICAgICAgc2F0dWFuM1RlbXA6ICQoIiNzYXR1YW4zVGVtcCIgKyBpZCkudmFsKCksCiAgICAgICAgdXJhaWFuVm9sdW1lOiAkKCIjdXJhaWFuVm9sdW1lIiArIGlkKS50ZXh0KCkKICAgICAgfSwKICAgICAgdXJsOiB0aGlzLnVybCArICImdGlwZT1mb3JtUmluY2lhblZvbHVtZSIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgICAgICBhZGRDb3ZlclBhZ2UyKGNvdmVyLCAyLCB0cnVlLCBmYWxzZSk7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3ZlcikuaW5uZXJIVE1MID0gcmVzcC5jb250ZW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXNwLmVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIHNldFRvdGFsUmluY2lhbjogZnVuY3Rpb24oKSB7CiAgICB2YXIganVtbGFoMSA9IE51bWJlcigkKCIjanVtbGFoMSIpLnZhbCgpKTsKICAgIHZhciBqdW1sYWgyID0gTnVtYmVyKCQoIiNqdW1sYWgyIikudmFsKCkpOwogICAgdmFyIGp1bWxhaDMgPSBOdW1iZXIoJCgiI2p1bWxhaDMiKS52YWwoKSk7CiAgICBpZiAoJCgiI2p1bWxhaDIiKS52YWwoKSA9PSAiIikgewogICAgICB2YXIganVtbGFoVG90YWwgPSBOdW1iZXIoanVtbGFoMSk7CiAgICB9IGVsc2UgaWYgKCQoIiNqdW1sYWgzIikudmFsKCkgPT0gIiIpIHsKICAgICAgdmFyIGp1bWxhaFRvdGFsID0gTnVtYmVyKGp1bWxhaDEgKiBqdW1sYWgyKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBqdW1sYWhUb3RhbCA9IE51bWJlcihqdW1sYWgxICoganVtbGFoMiAqIGp1bWxhaDMpOwogICAgfQogICAgJCgiI2p1bWxhaDQiKS52YWwoanVtbGFoVG90YWwpOwogIH0sCiAgU2F2ZVJpbmNpYW5Wb2x1bWU6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgZXJyID0gIiI7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdGhpcy5PbkVycm9yQ2xvc2UgPSBmYWxzZTsKICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgIHZhciBjb3ZlciA9IHRoaXMucHJlZml4ICsgIl9mb3Jtc2ltcGFuIjsKICAgIGFkZENvdmVyUGFnZTIoY292ZXIsIDEsIHRydWUsIGZhbHNlKTsKICAgIGRlbEVsZW0oY292ZXIpOwogICAgaWYgKCQoIiNqdW1sYWgxIikudmFsKCkgIT0gIiIgJiYgJCgiI3NhdHVhbjEiKS52YWwoKSA9PSAiIikgewogICAgICBlcnIgPSAiSXNpIFNhdHVhbiBLZXNhdHUgISI7CiAgICB9IGVsc2UgaWYgKCQoIiNqdW1sYWgyIikudmFsKCkgIT0gIiIgJiYgJCgiI3NhdHVhbjIiKS52YWwoKSA9PSAiIikgewogICAgICBlcnIgPSAiSXNpIFNhdHVhbiBLZWR1YSAhIjsKICAgIH0gZWxzZSBpZiAoJCgiI2p1bWxhaDMiKS52YWwoKSAhPSAiIiAmJiAkKCIjc2F0dWFuMyIpLnZhbCgpID09ICIiKSB7CiAgICAgIGVyciA9ICJJc2kgU2F0dWFuIEtlZHVhICEiOwogICAgfSBlbHNlIGlmICgkKCIjanVtbGFoMyIpLnZhbCgpICE9ICIiICYmICQoIiNqdW1sYWgyIikudmFsKCkgPT0gIiIpIHsKICAgICAgZXJyID0gIklzaSBWb2x1bWUgS2VkdWEgISI7CiAgICB9IGVsc2UgaWYgKCQoIiNqdW1sYWgzIikudmFsKCkgIT0gIiIgJiYgJCgiI2p1bWxhaDEiKS52YWwoKSA9PSAiIikgewogICAgICBlcnIgPSAiSXNpIFZvbHVtZSBLZXNhdHUgISI7CiAgICB9CiAgICBpZiAoZXJyID09ICIiKSB7CiAgICAgICQoIiN2b2x1bWUxVGVtcCIgKyBpZCkudmFsKCQoIiNqdW1sYWgxIikudmFsKCkpOwogICAgICAkKCIjdm9sdW1lMlRlbXAiICsgaWQpLnZhbCgkKCIjanVtbGFoMiIpLnZhbCgpKTsKICAgICAgJCgiI3ZvbHVtZTNUZW1wIiArIGlkKS52YWwoJCgiI2p1bWxhaDMiKS52YWwoKSk7CiAgICAgICQoIiNzYXR1YW4xVGVtcCIgKyBpZCkudmFsKCQoIiNzYXR1YW4xIikudmFsKCkpOwogICAgICAkKCIjc2F0dWFuMlRlbXAiICsgaWQpLnZhbCgkKCIjc2F0dWFuMiIpLnZhbCgpKTsKICAgICAgJCgiI3NhdHVhbjNUZW1wIiArIGlkKS52YWwoJCgiI3NhdHVhbjMiKS52YWwoKSk7CiAgICAgICQoIiN2b2x1bWVSZWsiICsgaWQpLnZhbCgkKCIjanVtbGFoNCIpLnZhbCgpKTsKICAgICAgJCgiI3VyYWlhblZvbHVtZSIgKyBpZCkudGV4dCgkKCIjcmluY2lhblZvbHVtZVRlbXAiKS52YWwoKSk7CiAgICAgIC8vJCgiI3NhdHVhblJlayIraWQpLnZhbCgkKCIjcmluY2lhblZvbHVtZVRlbXAiKS52YWwoKSk7CiAgICAgIC8vbWUuYmFudHUoKTsKICAgICAgYXBiZExhbXBpcmFuNC5oaXR1bmdWb2x1bWUoaWQpOwogICAgICB2YXIgc2F0dWFuID0gIiI7CiAgICAgIGlmICgkKCIjanVtbGFoMyIpLnZhbCgpICE9ICIiKSB7CiAgICAgICAgc2F0dWFuID0KICAgICAgICAgICQoIiNzYXR1YW4xIikudmFsKCkgKwogICAgICAgICAgIiAvICIgKwogICAgICAgICAgJCgiI3NhdHVhbjIiKS52YWwoKSArCiAgICAgICAgICAiIC8gIiArCiAgICAgICAgICAkKCIjc2F0dWFuMyIpLnZhbCgpOwogICAgICAgICQoIiNzYXR1YW5SZWsiICsgaWQpLnZhbChzYXR1YW4pOwogICAgICB9IGVsc2UgaWYgKCQoIiNqdW1sYWgyIikudmFsKCkgIT0gIiIpIHsKICAgICAgICBzYXR1YW4gPSAkKCIjc2F0dWFuMSIpLnZhbCgpICsgIiAvICIgKyAkKCIjc2F0dWFuMiIpLnZhbCgpOwogICAgICAgICQoIiNzYXR1YW5SZWsiICsgaWQpLnZhbChzYXR1YW4pOwogICAgICB9IGVsc2UgewogICAgICAgIHNhdHVhbiA9ICQoIiNzYXR1YW4xIikudmFsKCk7CiAgICAgICAgJCgiI3NhdHVhblJlayIgKyBpZCkudmFsKHNhdHVhbik7CiAgICAgIH0KICAgICAgbWUuQ2xvc2UoKTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGVycik7CiAgICB9CiAgfSwKICBoaXR1bmdWb2x1bWU6IGZ1bmN0aW9uKGlkKSB7CiAgICB2YXIgaGFzaWxLYWxpID0gJCgiI3ZvbHVtZVJlayIgKyBpZCkudmFsKCkgKiAkKCIjaGFyZ2FTYXR1YW4iICsgaWQpLnZhbCgpOwogICAgJCgiI3NwYW5Ub3RhbEp1bWxhaCIgKyBpZCkudGV4dChhcGJkTGFtcGlyYW40LmZvcm1hdEN1cnJlbmN5KGhhc2lsS2FsaSkpOwogIH0sCiAgZmluZFNTSDogZnVuY3Rpb24oaWQpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIHVybDogdGhpcy51cmwgKyAiJnRpcGU9Z2V0RGF0YVNTSCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBpZDogaWQKICAgICAgfSwKICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgIHZhciByZXNwID0gZXZhbCgiKCIgKyBkYXRhICsgIikiKTsKICAgICAgICBpZiAocmVzcC5lcnIgPT0gIiIpIHsKICAgICAgICAgIHBvcHVwU1NILmtvZGVSZWtlbmluZyA9IHJlc3AuY29udGVudC5rb2RlUmVrZW5pbmc7CiAgICAgICAgICBwb3B1cFNTSC5rb2RlQmFyYW5nID0gcmVzcC5jb250ZW50LmtvZGVCYXJhbmc7CiAgICAgICAgICBwb3B1cFNTSC5kYXJpID0gaWQ7CiAgICAgICAgICBwb3B1cFNTSC53aW5kb3dTaG93KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgc2F2ZUVkaXRTdWJSaW5jaWFuOiBmdW5jdGlvbihpZEVkaXRSa2EpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICAkLmFqYXgoewogICAgICB0eXBlOiAiUE9TVCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBpZEVkaXRSa2E6IGlkRWRpdFJrYSwKICAgICAgICBoYXJnYVNhdHVhbjogJCgiI2hhcmdhU2F0dWFuIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgICAgdm9sdW1lMTogJCgiI3ZvbHVtZTFUZW1wIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgICAgdm9sdW1lMjogJCgiI3ZvbHVtZTJUZW1wIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgICAgdm9sdW1lMzogJCgiI3ZvbHVtZTNUZW1wIiArIGlkRWRpdFJrYSkudmFsKCksCiAgICAgICAgdm9sdW1lUmVrZW5pbmc6ICQoIiN2b2x1bWVSZWsiICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgICBzYXR1YW4xOiAkKCIjc2F0dWFuMVRlbXAiICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgICBzYXR1YW4yOiAkKCIjc2F0dWFuMlRlbXAiICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgICBzYXR1YW4zOiAkKCIjc2F0dWFuM1RlbXAiICsgaWRFZGl0UmthKS52YWwoKSwKICAgICAgICBzYXR1YW5SZWtlbmluZzogJCgiI3NhdHVhblJlayIgKyBpZEVkaXRSa2EpLnZhbCgpLAogICAgICAgIHVyYWlhblZvbHVtZTogJCgiI3VyYWlhblZvbHVtZSIgKyBpZEVkaXRSa2EpLnRleHQoKQogICAgICB9LAogICAgICB1cmw6IHRoaXMudXJsICsgIiZ0aXBlPXNhdmVFZGl0U3ViUmluY2lhbiIsCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcCA9IGV2YWwoIigiICsgZGF0YSArICIpIik7CiAgICAgICAgaWYgKHJlc3AuZXJyID09ICIiKSB7CiAgICAgICAgICBtZS5yZWZyZXNoTGlzdCh0cnVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzcC5lcnIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfQp9KTsK",
    "size": "24852"
}